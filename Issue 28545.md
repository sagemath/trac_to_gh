# Issue 28545: Better interface to Galois groups

Issue created by migration from https://trac.sagemath.org/ticket/28782

Original creator: roed

Original creation time: 2019-11-20 22:24:34

You currently have to decide explicitly whether you want a fully functional Galois group (`type=None`) or a fast Galois group (`type="pari"`).  We should instead create an object that lazily computes any relevant attributes so that we can have a unified interface.


---

Comment by embray created at 2020-01-06 14:10:03

Ticket retargeted after milestone closed


---

Comment by mkoeppe created at 2020-04-14 19:41:51

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.


---

Comment by mkoeppe created at 2021-02-13 20:51:01

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.


---

Comment by git created at 2021-03-02 17:40:24

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2021-03-02 18:50:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-03-03 21:45:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-03-03 22:40:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-03-03 23:00:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by roed created at 2021-03-03 23:01:17

Changing status from new to needs_review.


---

Comment by git created at 2021-03-04 06:10:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-03-04 06:16:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-03-04 17:39:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2021-03-05 01:15:12

I think you can replace

```diff
-@cached_method(key=lambda self, algorithm: self._get_algorithm(algorithm))
+@cached_method(key=GaloisGroup._get_algorithm)
```

but I haven't tested it yet. Otherwise I would be okay setting this to a positive review (although I am not someone who uses this code).


---

Comment by git created at 2021-03-06 18:05:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by roed created at 2021-03-06 18:06:05

Thanks Travis.  I also fixed a couple issues Xavier Caruso pointed out.  I'm happy with the current state of this ticket (and am also planning on working on followups soon).
----
New commits:


---

Comment by tscrim created at 2021-03-08 01:15:17

One trivially failing test:

```
        Check that it works for relative number fields.  This behavior will change in the future::

            sage: K.<a> = NumberField(x^3 - 2)
            sage: L.<b> = NumberField(x^2 - x + 17*a)
            sage: G = L.galois_group()
            ...DeprecationWarning: Use .absolute_field().galois_group() if you want the Galois group of the absolute field
            See https://trac.sagemath.org/28782 for details.
            sage: G                   <----------------------------------
            sage: M, emb = G._gcdata
```

I think you meant to remove this line. Once this is fixed, you can set a positive review.


---

Comment by git created at 2021-03-08 01:33:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by roed created at 2021-03-08 01:34:26

Changing status from needs_review to positive_review.


---

Comment by roed created at 2021-03-08 01:34:26

Fixed.  Thanks, both of you!


---

Comment by vbraun created at 2021-03-08 09:14:47

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2021-03-08 09:14:47

PDF docs fail to build


---

Comment by git created at 2021-03-08 18:43:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by roed created at 2021-03-08 21:54:06

Sorry about that.  I fixed the error and tested the docbuild for both html and pdf.


---

Comment by roed created at 2021-03-08 21:54:06

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2021-03-14 15:03:30

Resolution: fixed
