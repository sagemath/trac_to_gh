# Issue 19699: Make num_faces

Issue created by migration from Trac.

Original creator: kcrisman

Original creation time: 2016-01-21 16:37:39

For planar graphs, you can get [faces listed](http://doc.sagemath.org/html/en/reference/graphs/sage/graphs/generic_graph.html#sage.graphs.generic_graph.GenericGraph.faces), but you can't just get the number of faces like you can get `num_edges()`.  But this seems reasonable, with proper documentation.


---

Comment by mcognetta created at 2016-03-05 21:53:30

Changing status from new to needs_review.


---

Comment by mcognetta created at 2016-03-05 21:53:30

New commits:


---

Comment by tscrim created at 2016-03-06 00:31:56

Thanks for making this contribution. Here are some comments on what you will need to do in order to get this into Sage:

- It's a good idea to not remove the raw string formatting (i.e., the `r` before a string) unless there is a specific reason to do so. Even more so when it is in a part unrelated to the ticket.
- Similarly, it's not a good idea to add whitespace in a place unrelated to the ticket.
- You should try to conform to PEP8 as much as possible.
- You need to also make the one-line documentation a declarative statement.
- You also need a blank line after `TESTS::`.
- I don't see a reason to catch the `ValueError` being thrown by `faces`.

Thus, I would make the following changes:

```diff
-    def num_faces(self,embedding = None):
+    def num_faces(self, embedding=None):
         """
-        Returns the number of faces of an embedded graph.
+        Return the number of faces of an embedded graph.
 
         EXAMPLES::
 
             sage: T = graphs.TetrahedralGraph()
             sage: T.num_faces()
             4
 
         TESTS::
+
             sage: G = graphs.CompleteMultipartiteGraph([3,3])
             sage: G.num_faces()
             Traceback (most recent call last):
             ...
             ValueError: No embedding is provided and the graph is not planar.
 
         """
 
-        try:
-            return len(self.faces(embedding))
-        except ValueError as e:
-            raise ValueError(e)
+        return len(self.faces(embedding))
```

Personally I don't like the blank lines around the `"""`, especially on both sides, but that is much more a stylistic thing.


---

Comment by git created at 2016-03-07 22:12:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mcognetta created at 2016-03-07 22:13:16

Replying to [comment:3 tscrim]:
> Thanks for making this contribution. Here are some comments on what you will need to do in order to get this into Sage:
> 
> - It's a good idea to not remove the raw string formatting (i.e., the `r` before a string) unless there is a specific reason to do so. Even more so when it is in a part unrelated to the ticket.
> - Similarly, it's not a good idea to add whitespace in a place unrelated to the ticket.
> - You should try to conform to PEP8 as much as possible.
> - You need to also make the one-line documentation a declarative statement.
> - You also need a blank line after `TESTS::`.
> - I don't see a reason to catch the `ValueError` being thrown by `faces`.
> 
> Thus, I would make the following changes:
> {{{#!diff
> -    def num_faces(self,embedding = None):
> +    def num_faces(self, embedding=None):
>          """
> -        Returns the number of faces of an embedded graph.
> +        Return the number of faces of an embedded graph.
>  
>          EXAMPLES::
>  
>              sage: T = graphs.TetrahedralGraph()
>              sage: T.num_faces()
>              4
>  
>          TESTS::
> +
>              sage: G = graphs.CompleteMultipartiteGraph([3,3])
>              sage: G.num_faces()
>              Traceback (most recent call last):
>              ...
>              ValueError: No embedding is provided and the graph is not planar.
>  
>          """
>  
> -        try:
> -            return len(self.faces(embedding))
> -        except ValueError as e:
> -            raise ValueError(e)
> +        return len(self.faces(embedding))
> }}}
> Personally I don't like the blank lines around the `"""`, especially on both sides, but that is much more a stylistic thing.


Thanks for the advice. I pushed the changes.


---

Comment by tscrim created at 2016-03-07 22:21:59

Thanks.


---

Comment by tscrim created at 2016-03-07 22:21:59

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-03-08 23:30:52

Resolution: fixed
