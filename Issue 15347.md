# Issue 15347: Some more affine crystals

Issue created by migration from https://trac.sagemath.org/ticket/15584

Original creator: tscrim

Original creation time: 2013-12-25 02:56:10

CC:  sage-combinat aschilling bsalisbury1 andrew.mathas

For type A<sub>n</sub><sup>(1)</sup>. Implements:

- the multipartition model for `B(\lambda)` (Kleshchev multipartitions)
- the BZ multisegment model for `B(\infty)`
- the affinization crystal of a U_q' crystal.


---

Comment by tscrim created at 2013-12-25 02:56:24

Set assignee to sage-combinat.


---

Comment by tscrim created at 2013-12-28 04:26:37

Changing status from new to needs_review.


---

Comment by git created at 2014-03-04 18:15:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-03-20 14:58:48

(must be adapted to #15882)

Nathann


---

Comment by git created at 2014-04-16 01:43:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-04-16 01:53:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by rws created at 2014-05-14 13:38:50

patchbot:

```
sage -t --long src/sage/combinat/rigged_configurations/kr_tableaux.py  # 1 doctest failed
sage -t --long src/sage/combinat/crystals/affinization.py  # 1 doctest failed
sage -t --long src/sage/schemes/plane_conics/con_rational_field.py  # Timed out
long time: 7 seconds ## line 148 ##
```

Suggest to set "long" for the last one.


---

Comment by rws created at 2014-05-14 13:38:50

Changing status from needs_review to needs_work.


---

Comment by git created at 2014-05-15 05:24:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2014-05-15 05:27:47

This ticket has nothing to do with schemes and no bearing on that last doctest.


---

Comment by tscrim created at 2014-05-15 05:28:00

Changing status from needs_work to needs_review.


---

Comment by git created at 2014-08-06 13:07:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2014-10-01 08:40:16

Doesn't merge (note: I don't care about this ticket)


---

Comment by jdemeyer created at 2014-10-01 08:40:16

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-06-05 23:42:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-23 01:48:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-06-23 01:49:50

Changing status from needs_work to needs_review.


---

Comment by bsalisbury1 created at 2015-06-23 20:17:32

Changing status from needs_review to needs_work.


---

Comment by bsalisbury1 created at 2015-06-23 20:17:32

Hi Travis,

There are still some things that need to be changed with the multipartition model and the multisegment model. Some highlights:

- The Kleschev multipartition model and the JMMO multipartition model are closely related; perhaps both should be on the same ticket.  Moreover, the display of these partitions should include the residues in cells of the partitions so that the charge of the partition is clear to the user (though maybe you have added this already after we talked a while back).

- There are two well-known crystal structures on multisegments, and they are related by the star-crystal operators.  The convention being used should be clear and probably even the star-crystal operators should be added.  In particular, see the 2009 paper by Jacon and Lecouvey in Pac. J. Math.  It is my personal opinion that the notation and structure of that paper is the one that should be followed for the implementation, including changing the data structure of the multisegments to use dictionaries of the form `{(interval) : coefficient}`.  

I vaguely remember there being some additional changes, too, but I can't be more specific until I have time to delve deeper into the patch.

Best,
Ben


---

Comment by git created at 2016-05-04 03:36:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-05-04 14:49:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2016-05-27 13:18:15

I have combined the Kleshchev partition crystal in with #20564.


---

Comment by tscrim created at 2016-05-27 13:18:15

Changing keywords from "" to "crystals, multisegments".


---

Comment by git created at 2017-04-17 18:27:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-04-17 18:28:46

need to change the sort to use a sorting key


---

Comment by tscrim created at 2017-04-17 19:12:16

Done. I also removed `kleshchev.py` as that is now done in #15508.
----
New commits:


---

Comment by tscrim created at 2017-04-17 19:12:16

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2017-04-17 19:50:08

typo here:

```
Crystal of Bernstien-Zelevinsky
```



---

Comment by chapoton created at 2017-04-17 19:57:51

otherwise, looks good. Once corrected, you can set to positive if a patchbot comes back green.


---

Comment by git created at 2017-04-17 20:00:46

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by tscrim created at 2017-04-17 20:01:10

Ben and I are doing a little bit more work on this right now.


---

Comment by tscrim created at 2017-04-17 20:01:10

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-04-17 22:14:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-04-17 22:21:04

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2017-04-17 22:21:04

Ben, I've decided to keep the original data structure because it is easier to work with and less manipulations are needed to pass around the data (and maybe because I'm just lazy too). This is probably faster too because we don't have to sort on every crystal operator (and new objects should be relatively quick to sort because they started nearly sorted).

I've made a few small tweaks to Ben's expanded documentation, beyond changing the repr/latex to use linear combinations (this was the last big thing Ben wanted). So only my few changes left to check.


---

Comment by git created at 2017-04-17 23:37:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bsalisbury1 created at 2017-04-17 23:40:09

The weight function was missing a negative sign and there was a doctest failure in `highest_weight_crystals`.  Both are fixed now.

Thanks, Travis, for getting this finished!


---

Comment by git created at 2017-04-17 23:41:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bsalisbury1 created at 2017-04-17 23:42:22

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-04-18 00:09:27

Thank you both for doing the review.


---

Comment by vbraun created at 2017-04-23 12:58:22

Resolution: fixed
