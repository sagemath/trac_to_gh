# Issue 27151: spkg installation: convert read-only files to owner-writable

Issue created by migration from https://trac.sagemath.org/ticket/27388

Original creator: jhpalmieri

Original creation time: 2019-02-28 18:29:43

In recent versions of the gap package, the file `local/share/gap/pkg/ctbllib/tst/docxpl.tst` gets installed with permissions `-r--r--r--`, because these are its permissions in the tarball. This can cause problems when upgrading if that involves overwriting that file. So let's fix permissions in the installation process.



---

Comment by jhpalmieri created at 2019-02-28 18:31:00

New commits:


---

Comment by jhpalmieri created at 2019-02-28 18:31:00

Changing status from new to needs_review.


---

Comment by embray created at 2019-03-01 11:23:57

Changing status from needs_review to positive_review.


---

Comment by embray created at 2019-03-01 11:23:57

I agree--there's really no reason to be installing read-only files.  The one case that we know of, of one file, in the GAP tarball actually comes from a mis-distributed GAP package.  But the GAP developers refuse to fix it unless the developer of that package fixes it, and they in turn are unresponsive.

This should be fixed at the source, but regardless it's useful to go ahead and apply sensible permissions to files when we unpack tarballs.


---

Comment by vbraun created at 2019-03-03 22:38:19

Resolution: fixed
