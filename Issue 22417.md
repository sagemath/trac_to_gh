# Issue 22417: Implement %%fortran in Jupyter

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2017-03-20 14:33:23

CC:  kcrisman




---

Comment by jdemeyer created at 2017-03-21 16:07:15

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2017-03-21 16:07:15

New commits:


---

Comment by vbraun created at 2017-03-21 23:03:31

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-03-31 23:13:01


```
[dochtml] [arithgrou] build succeeded.
[dochtml] Build finished.  The built documents can be found in /local/sage-patchbot/sage/local/share/doc/sage/inventory/en/reference/arithgroup
[dochtml] Error building the documentation.
[dochtml] Traceback (most recent call last):
[dochtml]   File "/local/sage-patchbot/sage/local/lib/python/runpy.py", line 174, in _run_module_as_main
[dochtml]     "__main__", fname, loader, pkg_name)
[dochtml]   File "/local/sage-patchbot/sage/local/lib/python/runpy.py", line 72, in _run_code
[dochtml]     exec code in run_globals
[dochtml]   File "/local/sage-patchbot/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
[dochtml]     main()
[dochtml]   File "/local/sage-patchbot/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 1667, in main
[dochtml]     builder()
[dochtml]   File "/local/sage-patchbot/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 316, in _wrapper
[dochtml]     getattr(get_builder(document), 'inventory')(*args, **kwds)
[dochtml]   File "/local/sage-patchbot/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 510, in _wrapper
[dochtml]     build_many(build_ref_doc, L)
[dochtml]   File "/local/sage-patchbot/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 252, in build_many
[dochtml]     ret = x.get(99999)
[dochtml]   File "/local/sage-patchbot/sage/local/lib/python/multiprocessing/pool.py", line 567, in get
[dochtml]     raise self._value
[dochtml] RuntimeError: the user-space globals dictionary has not been initialized. Use initialize_globals() or set_globals() or use a different function which doesn't need these globals
```



---

Comment by vbraun created at 2017-03-31 23:13:01

Changing status from positive_review to needs_work.


---

Comment by git created at 2017-04-03 10:59:41

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2017-04-03 12:04:51

Changing status from needs_work to needs_review.


---

Comment by slabbe created at 2017-04-20 02:12:25

Changing status from needs_review to needs_work.


---

Comment by slabbe created at 2017-04-20 02:12:25

Code works. It took me a while to understand how to use that FIB function:

```
L = [0,0,0,0,0]
fib(L, 5)
L
```

in a cell returns `[0,0,0,0,0]`. Also why `fib` instead of `FIB`?

Finally, the doc from `fortran??` was helpful to me. I would suggest not only to copy the fortran code from `fortran??` doc but also include how to use it using numpy arrays:


```
            sage: import numpy
            sage: a = numpy.array(range(10), dtype=float)
            sage: fib(a, 10)
            sage: a
            array([  0.,   1.,   1.,   2.,   3.,   5.,   8.,  13.,  21.,  34.])
```



---

Comment by slabbe created at 2017-04-20 02:13:22

Changing keywords from "" to "days86".


---

Comment by git created at 2017-04-20 08:43:10

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2017-04-20 08:45:29

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2017-04-20 08:45:29

Thanks! I added the doctest (and rebased on 8.0.beta2).


---

Comment by slabbe created at 2017-04-20 15:39:16

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-04-23 12:58:04

Resolution: fixed
