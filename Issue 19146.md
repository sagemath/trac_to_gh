# Issue 19146: Up-down Posets, and Dimenson Poset

archive/issues_019146.json:
```json
{
    "body": "CC:  @jm58660 @fchapoton\n\nAdd additional examples for up-down posets ( https://en.wikipedia.org/wiki/Fence_(mathematics) ), and the canonical example of a poset with 2n elements of dimension n.\n\nIssue created by migration from https://trac.sagemath.org/ticket/19383\n\n",
    "created_at": "2015-10-09T19:06:54Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "Up-down Posets, and Dimenson Poset",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19146",
    "user": "https://github.com/kevindilks"
}
```
CC:  @jm58660 @fchapoton

Add additional examples for up-down posets ( https://en.wikipedia.org/wiki/Fence_(mathematics) ), and the canonical example of a poset with 2n elements of dimension n.

Issue created by migration from https://trac.sagemath.org/ticket/19383





---

archive/issue_comments_262437.json:
```json
{
    "body": "From another ticket: \"Maybe implement up-down posets generally, and then have `zigzag_poset(n)` as an alias for `updown_poset(1,n)` ? Zig-zag poset is something that people might be interested in without necessarily knowing the generalized notion of up-down posets.\"\n\nAt least the docstring must mention \"zigzag\" and \"fence\" so that they will be found by search. (Compare to my addition about \"weak order\" etc. to `is_incomparable_chain_free`.\n\nAlso nothing prevents the index to have\n\n```\nUpdownPoset - The poset...\nPentagonPoset - 5-element poset...\nZigzag - see (link)UpdownPoset(/link)\n```",
    "created_at": "2015-10-09T19:22:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262437",
    "user": "https://github.com/jm58660"
}
```

From another ticket: "Maybe implement up-down posets generally, and then have `zigzag_poset(n)` as an alias for `updown_poset(1,n)` ? Zig-zag poset is something that people might be interested in without necessarily knowing the generalized notion of up-down posets."

At least the docstring must mention "zigzag" and "fence" so that they will be found by search. (Compare to my addition about "weak order" etc. to `is_incomparable_chain_free`.

Also nothing prevents the index to have

```
UpdownPoset - The poset...
PentagonPoset - 5-element poset...
Zigzag - see (link)UpdownPoset(/link)
```



---

archive/issue_events_053594.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-10-09T19:22:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19146#event-53594"
}
```



---

archive/issue_comments_262438.json:
```json
{
    "body": "This was not marked as needs_review, but I'll comment anyway.\n\n- Parameter checking is missing. Compare to `DiamondPoset`. Might be easier to test like `if not n in NN or n<...`.\n- `UpDownPoset(m,n)` should be `UpDownPoset(m, n)`.\n- \"fence\" should be said in the documentation for googlers.\n- `UpDownPoset` has unnecessary empty lines.\n- Standard example should be explained, i.e. to tell what it is.\n\nShould it be said that for `n >= 4` the standard example is only poset with dimension `n` and `n` elements? Maybe no. (It is not true for `n=3`.) Cases `n=1` and `n=2` are special - should them just be rejected as a parameter?\n\nWhat is best way to give parameters to `UpDownPoset`? To give the number of elements or to give the number of minimal elements, or number of maximal elements? I suppose that most users don't want `UpDownPoset(50, 6)` or similar, where the fence is kind of uncomplete.\n\nShould every function have a `facade`-argument? Does not bother me, and I'm not going to use non-facade posets, but it is kind on inconsistent that some have it.\n\n---\nNew commits:",
    "created_at": "2015-10-10T05:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262438",
    "user": "https://github.com/jm58660"
}
```

This was not marked as needs_review, but I'll comment anyway.

- Parameter checking is missing. Compare to `DiamondPoset`. Might be easier to test like `if not n in NN or n<...`.
- `UpDownPoset(m,n)` should be `UpDownPoset(m, n)`.
- "fence" should be said in the documentation for googlers.
- `UpDownPoset` has unnecessary empty lines.
- Standard example should be explained, i.e. to tell what it is.

Should it be said that for `n >= 4` the standard example is only poset with dimension `n` and `n` elements? Maybe no. (It is not true for `n=3`.) Cases `n=1` and `n=2` are special - should them just be rejected as a parameter?

What is best way to give parameters to `UpDownPoset`? To give the number of elements or to give the number of minimal elements, or number of maximal elements? I suppose that most users don't want `UpDownPoset(50, 6)` or similar, where the fence is kind of uncomplete.

Should every function have a `facade`-argument? Does not bother me, and I'm not going to use non-facade posets, but it is kind on inconsistent that some have it.

---
New commits:



---

archive/issue_comments_262439.json:
```json
{
    "body": "If you want to name a Poset as \"StandardPoset\", and if it is really known under this name, please provide in the documentation a reference toward a textbook or paper that coins it so.\n\nAlso, please make the starting sentence of your docstring short and independent. You can then be as verbose as you want in a second paragraph.\n\nhttp://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content\n\nNathann",
    "created_at": "2015-10-10T06:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262439",
    "user": "https://github.com/nathanncohen"
}
```

If you want to name a Poset as "StandardPoset", and if it is really known under this name, please provide in the documentation a reference toward a textbook or paper that coins it so.

Also, please make the starting sentence of your docstring short and independent. You can then be as verbose as you want in a second paragraph.

http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content

Nathann



---

archive/issue_comments_262440.json:
```json
{
    "body": "Replying to [comment:4 ncohen]:\n> If you want to name a Poset as \"StandardPoset\", and if it is really known under this name, please provide in the documentation a reference toward a textbook or paper that coins it so.\n\n\nJust google for \"poset standard example\". It founds this, and only this, poset.",
    "created_at": "2015-10-10T14:30:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262440",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:4 ncohen]:
> If you want to name a Poset as "StandardPoset", and if it is really known under this name, please provide in the documentation a reference toward a textbook or paper that coins it so.


Just google for "poset standard example". It founds this, and only this, poset.



---

archive/issue_comments_262441.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-10T17:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262441",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262442.json:
```json
{
    "body": "I don't think we should reject n=1,2 for the standard example. Just because they're simple and can more easily be described in other ways doesn't mean the definition doesn't make sense and should raise an error.\n\nSadly, \"standard example\" is the accepted terminology. I don't know what the original source would be, but there are tons of papers that use the term, and it's also mentioned on the Wikipedia page for Order-Dimension. Suggestions for what to use?\n\nFor UpDownPoset, I just followed the convention that Wikipedia had (although I think I reversed up steps and down steps...there's a reason I didn't mark this for review yet). I don't see any real reason to exclude \"kind of incomplete\" fences. It just makes the code more complicated, and limits what kind of posets the user can create. Plus I'm not even sure exactly how one would define an \"incomplete\" fence.\n\nThe more I think about it, the more I realize the code should be a little more general to allow more cases. For example, we always start with an up step...but what if we want a fence starting with a down step? What if instead of wanting one down-step after every m up-steps, we want k down-steps after every m up-steps?\n\nI think what I really want is a method where you put in `n` and a subset `D` of `[n-1]`, and it creates the poset on  where `i>i+1` if `i in D` and `i<i+1` otherwise. The motivation being linear extensions of these posets are in bijection with permutations that have descent set `D` (and the fence example corresponds to alternating permutations). We could still have an UpDownPoset method that does roughly what the code currently does to match what Wikipedia has as the definition of those posets, but it would really just construct an appropriate `D` based on the input and use the more general method.\n\nSince all of poset examples isn't consistent with including `facade` options, I'll make another ticket that focuses just on making `poset_examples.py` consistent.\n\n---\nNew commits:",
    "created_at": "2015-10-10T17:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262442",
    "user": "https://github.com/kevindilks"
}
```

I don't think we should reject n=1,2 for the standard example. Just because they're simple and can more easily be described in other ways doesn't mean the definition doesn't make sense and should raise an error.

Sadly, "standard example" is the accepted terminology. I don't know what the original source would be, but there are tons of papers that use the term, and it's also mentioned on the Wikipedia page for Order-Dimension. Suggestions for what to use?

For UpDownPoset, I just followed the convention that Wikipedia had (although I think I reversed up steps and down steps...there's a reason I didn't mark this for review yet). I don't see any real reason to exclude "kind of incomplete" fences. It just makes the code more complicated, and limits what kind of posets the user can create. Plus I'm not even sure exactly how one would define an "incomplete" fence.

The more I think about it, the more I realize the code should be a little more general to allow more cases. For example, we always start with an up step...but what if we want a fence starting with a down step? What if instead of wanting one down-step after every m up-steps, we want k down-steps after every m up-steps?

I think what I really want is a method where you put in `n` and a subset `D` of `[n-1]`, and it creates the poset on  where `i>i+1` if `i in D` and `i<i+1` otherwise. The motivation being linear extensions of these posets are in bijection with permutations that have descent set `D` (and the fence example corresponds to alternating permutations). We could still have an UpDownPoset method that does roughly what the code currently does to match what Wikipedia has as the definition of those posets, but it would really just construct an appropriate `D` based on the input and use the more general method.

Since all of poset examples isn't consistent with including `facade` options, I'll make another ticket that focuses just on making `poset_examples.py` consistent.

---
New commits:



---

archive/issue_comments_262443.json:
```json
{
    "body": "Replying to [comment:7 kdilks]:\n\n> I don't think we should reject n=1,2 for the standard example. Just because they're simple and can more easily be described in other ways doesn't mean the definition doesn't make sense and should raise an error.\n\n\nHmm... OK. How about `n=0`? I guess that usually the user has made a mistake if he or she ask for Standar example of '2*2' elements. But it is easily seen error.\n\n> The more I think about it, the more I realize the code should be a little more general to allow more cases. For example, we always start with an up step...but what if we want a fence starting with a down step? What if instead of wanting one down-step after every m up-steps, we want k down-steps after every m up-steps?\n\n\nHmmm number two... Will interface be too complicated? There are tons of different posets that the user could want to get easily. Some of them are trivial to make by hand, like `DiamondPoset`, other not so easy like `TamariLattice`. But I wait to see the code.\n\n(I'll be mostly offline for some time. Looking reindeers from kitchen's window...)",
    "created_at": "2015-10-12T07:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262443",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:7 kdilks]:

> I don't think we should reject n=1,2 for the standard example. Just because they're simple and can more easily be described in other ways doesn't mean the definition doesn't make sense and should raise an error.


Hmm... OK. How about `n=0`? I guess that usually the user has made a mistake if he or she ask for Standar example of '2*2' elements. But it is easily seen error.

> The more I think about it, the more I realize the code should be a little more general to allow more cases. For example, we always start with an up step...but what if we want a fence starting with a down step? What if instead of wanting one down-step after every m up-steps, we want k down-steps after every m up-steps?


Hmmm number two... Will interface be too complicated? There are tons of different posets that the user could want to get easily. Some of them are trivial to make by hand, like `DiamondPoset`, other not so easy like `TamariLattice`. But I wait to see the code.

(I'll be mostly offline for some time. Looking reindeers from kitchen's window...)



---

archive/issue_comments_262444.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-19T03:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262444",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262445.json:
```json
{
    "body": "Great, now I have git things tomorrow. I think I had the patchbot ticket pulled into develop on this machine.",
    "created_at": "2015-10-19T04:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262445",
    "user": "https://github.com/kevindilks"
}
```

Great, now I have git things tomorrow. I think I had the patchbot ticket pulled into develop on this machine.



---

archive/issue_comments_262446.json:
```json
{
    "body": "Computing dimension of `StandardExample(6)` will take about forever, if the user has no MILP solver. Hence it is not good test, at least without `# optional` tag.\n\n\"Returns\" should be \"Return\" in one-line description.\n\n(Back from Lapland. Reindeers eat bits, as network is slower when there is more reindeers outside. `:=)`)",
    "created_at": "2015-10-19T04:08:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262446",
    "user": "https://github.com/jm58660"
}
```

Computing dimension of `StandardExample(6)` will take about forever, if the user has no MILP solver. Hence it is not good test, at least without `# optional` tag.

"Returns" should be "Return" in one-line description.

(Back from Lapland. Reindeers eat bits, as network is slower when there is more reindeers outside. `:=)`)



---

archive/issue_comments_262447.json:
```json
{
    "body": "Just pinging this one... Are you doing this, or should someone (me?) take this to todo list?",
    "created_at": "2015-11-18T19:49:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262447",
    "user": "https://github.com/jm58660"
}
```

Just pinging this one... Are you doing this, or should someone (me?) take this to todo list?



---

archive/issue_comments_262448.json:
```json
{
    "body": "I splitted this to #19690, as the branch of this one does not merge.",
    "created_at": "2015-12-11T09:08:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262448",
    "user": "https://github.com/jm58660"
}
```

I splitted this to #19690, as the branch of this one does not merge.



---

archive/issue_events_053595.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-12-11T09:08:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19146#event-53595"
}
```



---

archive/issue_events_053596.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-01-24T15:07:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19146#event-53596"
}
```



---

archive/issue_comments_262449.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-25T07:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262449",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262450.json:
```json
{
    "body": "One-line code is from Kevin, I just rephrased docstring and added error detection.\n\nI also turned the order of parameters. IMO it is more logical to have number of elements as a first parameter.",
    "created_at": "2016-04-25T07:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262450",
    "user": "https://github.com/jm58660"
}
```

One-line code is from Kevin, I just rephrased docstring and added error detection.

I also turned the order of parameters. IMO it is more logical to have number of elements as a first parameter.



---

archive/issue_comments_262451.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-04-25T07:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262451",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_262452.json:
```json
{
    "body": "Changing keywords from \"\" to \"poset\".",
    "created_at": "2016-04-25T07:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262452",
    "user": "https://github.com/jm58660"
}
```

Changing keywords from "" to "poset".



---

archive/issue_events_053597.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-04-25T07:15:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19146#event-53597"
}
```



---

archive/issue_events_053598.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2016-04-25T07:15:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19146#event-53598"
}
```



---

archive/issue_comments_262453.json:
```json
{
    "body": "Fr\u00e9d\u00e9ric maybe...? This is an easy one.",
    "created_at": "2016-05-10T18:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262453",
    "user": "https://github.com/jm58660"
}
```

Frédéric maybe...? This is an easy one.



---

archive/issue_comments_262454.json:
```json
{
    "body": "ok, I take",
    "created_at": "2016-05-10T18:53:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262454",
    "user": "https://github.com/fchapoton"
}
```

ok, I take



---

archive/issue_comments_262455.json:
```json
{
    "body": "I have made a small cleanup. If you agree with my changes, you can set a positive review.\n\nAnd if you could have a look at #20505, that would be great.\n\n---\nNew commits:",
    "created_at": "2016-05-10T19:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262455",
    "user": "https://github.com/fchapoton"
}
```

I have made a small cleanup. If you agree with my changes, you can set a positive review.

And if you could have a look at #20505, that would be great.

---
New commits:



---

archive/issue_comments_262456.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-05-11T06:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262456",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_262457.json:
```json
{
    "body": "Replying to [comment:20 chapoton]:\n> I have made a small cleanup. If you agree with my changes, you can set a positive review.\n\n\nThanks!",
    "created_at": "2016-05-11T06:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262457",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:20 chapoton]:
> I have made a small cleanup. If you agree with my changes, you can set a positive review.


Thanks!



---

archive/issue_events_053599.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-17T07:16:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19146#event-53599"
}
```



---

archive/issue_comments_262458.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-05-17T07:16:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19146#issuecomment-262458",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
