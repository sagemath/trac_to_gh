# Issue 23642: Various doctest failures if cbc is installed

Issue created by migration from https://trac.sagemath.org/ticket/23879

Original creator: jdemeyer

Original creation time: 2017-09-18 08:00:16

CC:  mderickx mkoeppe

With the optional package `cbc` installed (and no other optional package):

```
----------------------------------------------------------------------
sage -t --long src/sage/combinat/designs/orthogonal_arrays_build_recursive.py  # Killed due to segmentation fault
sage -t --long src/sage/graphs/digraph.py  # Bad exit: 127
sage -t --long src/sage/graphs/generic_graph.py  # Killed due to abort
sage -t --long src/sage/graphs/graph_coloring.py  # Killed due to abort
sage -t --long src/sage/graphs/graph.py  # Killed due to abort
sage -t --long src/sage/libs/gap/assigned_names.py  # 1 doctest failed
sage -t --long src/sage/numerical/backends/gurobi_backend.pyx  # Killed due to abort
sage -t --long src/sage/graphs/graph_decompositions/vertex_separation.pyx  # Timed out
----------------------------------------------------------------------
```


The problems seem related to memory running out (#23748).


---

Comment by jdemeyer created at 2017-09-18 09:35:42

New commits:


---

Comment by jdemeyer created at 2017-09-18 09:51:09

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2017-09-20 12:52:41

The underlying problem is probably the same as #23892, namely that cbc is using too many threads. Now how to limit the number of threads that cbc uses?


---

Comment by mderickx created at 2017-09-20 15:43:07

We use cbc via the c++ interface, the only place where I found how to set from the c++ interface is at https://www.coin-or.org/Doxygen/Cbc/classCbcModel.html#a6174c612fd1bfdc372bfc292bf0ee383  . However I do not know enough of CBC to actually do this. The discussion here https://list.coin-or.org/pipermail/cbc/2014-November/001566.html might be related.


---

Comment by jdemeyer created at 2017-10-05 14:59:35

Resolution: duplicate


---

Comment by jdemeyer created at 2017-10-05 14:59:35

Fixed in #23713
