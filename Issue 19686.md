# Issue 19686: Tab completion in interpreters is borked

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2016-01-20 23:24:46

CC:  dimpase




---

Comment by vbraun created at 2016-01-21 00:17:47

Changing type from PLEASE CHANGE to defect.


---

Comment by vbraun created at 2016-01-21 00:17:47

New commits:


---

Comment by vbraun created at 2016-01-21 00:17:47

Changing component from PLEASE CHANGE to interfaces.


---

Comment by vbraun created at 2016-01-21 00:17:47

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2016-01-21 11:40:18

The `__dir__` of `gap.SymmetricGroup(3)` is actually

```
def __dir__(self):
    from sage.structure.parent import dir_with_other_class
    return dir_with_other_class(self, self.parent().category().element_class)
```

and does not inherit from `ExtraTabCompletion`

```
sage: G = gap.SymmetricGroup(3)
sage: from sage.interfaces.tab_completion import ExtraTabCompletion
sage: isinstance(G, ExtraTabCompletion)
False
```



---

Comment by vdelecroix created at 2016-01-21 11:40:18

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-01-21 12:08:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-01-23 20:44:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vbraun created at 2016-01-23 20:45:55

Symbolics doctests fixed


---

Comment by vbraun created at 2016-01-23 20:45:55

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2016-01-24 15:22:04

Note (not exactly the scope of this ticket):

These are still broken (worked with sage-6.8)

```
sage: G = libgap.SymmetricGroup(3)
sage: G.<TAB>
sage: units.area.<TAB>
```


Do you know whether it would be possible to design a test for testing tab completion (not indirectly)?


---

Comment by vbraun created at 2016-01-24 16:11:38

Libgap tab completion is #19917

There is no need for a test beyond extending `__dir__`, since there is no magical IPython-only method any more its just going to work in any system that does tab completion.


---

Comment by vbraun created at 2016-02-14 11:56:58

Dima, can you review this ticket too? Its just the analog of #19917 for interpreters.


---

Comment by dimpase created at 2016-02-14 18:03:09

Could you please add some documentation to the top of `src/sage/interfaces/tab_completion.py`? 
E.g. I needed to google for `Mixin` :-)


---

Comment by git created at 2016-02-17 21:35:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vbraun created at 2016-02-17 21:37:21

Done


---

Comment by dimpase created at 2016-02-18 08:04:30

OK, good.


---

Comment by dimpase created at 2016-02-18 08:04:30

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-02-18 19:51:10

Resolution: fixed
