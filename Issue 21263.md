# Issue 21263: Add instructions for using ccache

archive/issues_021263.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/21500\n\n",
    "created_at": "2016-09-15T01:44:34Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "Add instructions for using ccache",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21263",
    "user": "paulmasson"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/21500





---

archive/issue_comments_295050.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to documentation.",
    "created_at": "2016-09-15T01:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295050",
    "user": "paulmasson"
}
```

Changing component from PLEASE CHANGE to documentation.



---

archive/issue_comments_295051.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2016-09-15T01:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295051",
    "user": "paulmasson"
}
```

Changing priority from major to minor.



---

archive/issue_comments_295052.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2016-09-15T01:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295052",
    "user": "paulmasson"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_295053.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-09-15T02:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295053",
    "user": "paulmasson"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_295054.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-15T02:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295054",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_295055.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-15T02:25:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295055",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_295056.json:
```json
{
    "body": "Can we please take this opportunity to clarify better that people really should use `make` instead of `./sage -b` *unless* they know what they are doing. For example, your added paragraph seems to imply that it's fine to run just `./sage -b` when switching branches. However, in many cases that will not work because of changes to packages.\n\nThe text should make it clear that you need to run `make` to compile Sage (or `make build` to skip the documentation). If you made changes *only* to Sage library files, you can use `./sage -b`. When switching branches, usually you change more than that.",
    "created_at": "2016-09-15T05:27:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295056",
    "user": "jdemeyer"
}
```

Can we please take this opportunity to clarify better that people really should use `make` instead of `./sage -b` *unless* they know what they are doing. For example, your added paragraph seems to imply that it's fine to run just `./sage -b` when switching branches. However, in many cases that will not work because of changes to packages.

The text should make it clear that you need to run `make` to compile Sage (or `make build` to skip the documentation). If you made changes *only* to Sage library files, you can use `./sage -b`. When switching branches, usually you change more than that.



---

archive/issue_comments_295057.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-09-15T05:27:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295057",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_295058.json:
```json
{
    "body": "To clarify a bit better what I mean:\n\n1. The stuff you added about `ccache` really belongs with the part about `make` and not with `sage -b`.\n\n2. Moreover, I would suggest to mention `make` first (so people become less drilled to use `sage -b` all the time) and `sage -b` after that.\n\nFor me, 1. must be fixed (hence needs_work), while 2. is an optional improvement that you may want to do.",
    "created_at": "2016-09-15T05:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295058",
    "user": "jdemeyer"
}
```

To clarify a bit better what I mean:

1. The stuff you added about `ccache` really belongs with the part about `make` and not with `sage -b`.

2. Moreover, I would suggest to mention `make` first (so people become less drilled to use `sage -b` all the time) and `sage -b` after that.

For me, 1. must be fixed (hence needs_work), while 2. is an optional improvement that you may want to do.



---

archive/issue_comments_295059.json:
```json
{
    "body": "Should these instructions go in the developer's guide at all? It might make more sense to put them in the installation guide, with a pointer from the developer's guide (\"if you switch branches a lot, you might consider installing ccache: see ...\"). The installation guide already has a very brief mention of ccache, for what that's worth. That could be expanded, of course.",
    "created_at": "2016-09-15T15:16:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295059",
    "user": "jhpalmieri"
}
```

Should these instructions go in the developer's guide at all? It might make more sense to put them in the installation guide, with a pointer from the developer's guide ("if you switch branches a lot, you might consider installing ccache: see ..."). The installation guide already has a very brief mention of ccache, for what that's worth. That could be expanded, of course.



---

archive/issue_comments_295060.json:
```json
{
    "body": "Jeroen, the documentation as written is very clear on when to run `sage -b` and `make`. Since I'd assume it is mostly read by developers just getting started, the current order of instructions seems preferable to me. How many developers start out altering packages before Sage Python code?\n\nI wanted my warning to be close to the statement \"This should be quite fast\", since that's what triggered the whole [discussion](https://groups.google.com/d/msg/sage-devel/jLUq1rqdOC4/SdjeLYQ4CgAJ) for me. I can see now that inserting the warning in the middle of the section is confusing, so I'll move it to the end. That way it will apply to all of the rebuilding cases described above it.\n\nJohn, the installation guide doesn't make clear why one would want to install ccache. The only reason I did is because I regularly switch branches when working on tickets. That's a development issue, not an installation issue, so I think it belongs here.",
    "created_at": "2016-09-15T23:09:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295060",
    "user": "paulmasson"
}
```

Jeroen, the documentation as written is very clear on when to run `sage -b` and `make`. Since I'd assume it is mostly read by developers just getting started, the current order of instructions seems preferable to me. How many developers start out altering packages before Sage Python code?

I wanted my warning to be close to the statement "This should be quite fast", since that's what triggered the whole [discussion](https://groups.google.com/d/msg/sage-devel/jLUq1rqdOC4/SdjeLYQ4CgAJ) for me. I can see now that inserting the warning in the middle of the section is confusing, so I'll move it to the end. That way it will apply to all of the rebuilding cases described above it.

John, the installation guide doesn't make clear why one would want to install ccache. The only reason I did is because I regularly switch branches when working on tickets. That's a development issue, not an installation issue, so I think it belongs here.



---

archive/issue_comments_295061.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-15T23:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295061",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_295062.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-15T23:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295062",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_295063.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-09-15T23:25:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295063",
    "user": "paulmasson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_295064.json:
```json
{
    "body": "typo Recynthonization -> Recythonization",
    "created_at": "2016-09-16T05:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295064",
    "user": "mkoeppe"
}
```

typo Recynthonization -> Recythonization



---

archive/issue_comments_295065.json:
```json
{
    "body": "Replying to [comment:9 paulmasson]:\n> How many developers start out altering packages before Sage Python code?\n\nAlmost everybody does! But, just like you, they do not realize that changing branches often means changing packages. That is exactly the problem with the current documentation (although I agree that this is orthogonal to this ticket).",
    "created_at": "2016-09-16T05:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295065",
    "user": "jdemeyer"
}
```

Replying to [comment:9 paulmasson]:
> How many developers start out altering packages before Sage Python code?

Almost everybody does! But, just like you, they do not realize that changing branches often means changing packages. That is exactly the problem with the current documentation (although I agree that this is orthogonal to this ticket).



---

archive/issue_comments_295066.json:
```json
{
    "body": "Nitpick: I do not think that `WARNING` is correct here. Can you make it a `NOTE` instead?",
    "created_at": "2016-09-16T05:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295066",
    "user": "jdemeyer"
}
```

Nitpick: I do not think that `WARNING` is correct here. Can you make it a `NOTE` instead?



---

archive/issue_comments_295067.json:
```json
{
    "body": "Apart from this last nitpick, this is good for me.",
    "created_at": "2016-09-16T05:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295067",
    "user": "jdemeyer"
}
```

Apart from this last nitpick, this is good for me.



---

archive/issue_comments_295068.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-09-16T05:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295068",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_295069.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-16T20:17:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295069",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_295070.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-09-16T20:18:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295070",
    "user": "paulmasson"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_295071.json:
```json
{
    "body": "Done.",
    "created_at": "2016-09-16T20:18:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295071",
    "user": "paulmasson"
}
```

Done.



---

archive/issue_comments_295072.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-09-16T21:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295072",
    "user": "jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_295073.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-09-17T20:09:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21263#issuecomment-295073",
    "user": "vbraun"
}
```

Resolution: fixed
