# Issue 21263: Add instructions for using ccache

Issue created by migration from Trac.

Original creator: paulmasson

Original creation time: 2016-09-15 01:44:34




---

Comment by paulmasson created at 2016-09-15 01:45:08

Changing component from PLEASE CHANGE to documentation.


---

Comment by paulmasson created at 2016-09-15 01:45:08

Changing priority from major to minor.


---

Comment by paulmasson created at 2016-09-15 01:45:08

Changing type from PLEASE CHANGE to enhancement.


---

Comment by paulmasson created at 2016-09-15 02:16:30

Changing status from new to needs_review.


---

Comment by git created at 2016-09-15 02:18:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-09-15 02:25:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2016-09-15 05:27:51

Can we please take this opportunity to clarify better that people really should use `make` instead of `./sage -b` _unless_ they know what they are doing. For example, your added paragraph seems to imply that it's fine to run just `./sage -b` when switching branches. However, in many cases that will not work because of changes to packages.

The text should make it clear that you need to run `make` to compile Sage (or `make build` to skip the documentation). If you made changes _only_ to Sage library files, you can use `./sage -b`. When switching branches, usually you change more than that.


---

Comment by jdemeyer created at 2016-09-15 05:27:51

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2016-09-15 05:37:20

To clarify a bit better what I mean:

1. The stuff you added about `ccache` really belongs with the part about `make` and not with `sage -b`.

2. Moreover, I would suggest to mention `make` first (so people become less drilled to use `sage -b` all the time) and `sage -b` after that.

For me, 1. must be fixed (hence needs_work), while 2. is an optional improvement that you may want to do.


---

Comment by jhpalmieri created at 2016-09-15 15:16:12

Should these instructions go in the developer's guide at all? It might make more sense to put them in the installation guide, with a pointer from the developer's guide ("if you switch branches a lot, you might consider installing ccache: see ..."). The installation guide already has a very brief mention of ccache, for what that's worth. That could be expanded, of course.


---

Comment by paulmasson created at 2016-09-15 23:09:03

Jeroen, the documentation as written is very clear on when to run `sage -b` and `make`. Since I'd assume it is mostly read by developers just getting started, the current order of instructions seems preferable to me. How many developers start out altering packages before Sage Python code?

I wanted my warning to be close to the statement "This should be quite fast", since that's what triggered the whole [discussion](https://groups.google.com/d/msg/sage-devel/jLUq1rqdOC4/SdjeLYQ4CgAJ) for me. I can see now that inserting the warning in the middle of the section is confusing, so I'll move it to the end. That way it will apply to all of the rebuilding cases described above it.

John, the installation guide doesn't make clear why one would want to install ccache. The only reason I did is because I regularly switch branches when working on tickets. That's a development issue, not an installation issue, so I think it belongs here.


---

Comment by git created at 2016-09-15 23:20:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-09-15 23:21:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by paulmasson created at 2016-09-15 23:25:06

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2016-09-16 05:26:10

typo Recynthonization -> Recythonization


---

Comment by jdemeyer created at 2016-09-16 05:49:58

Replying to [comment:9 paulmasson]:
> How many developers start out altering packages before Sage Python code?

Almost everybody does! But, just like you, they do not realize that changing branches often means changing packages. That is exactly the problem with the current documentation (although I agree that this is orthogonal to this ticket).


---

Comment by jdemeyer created at 2016-09-16 05:53:29

Nitpick: I do not think that `WARNING` is correct here. Can you make it a `NOTE` instead?


---

Comment by jdemeyer created at 2016-09-16 05:56:27

Apart from this last nitpick, this is good for me.


---

Comment by jdemeyer created at 2016-09-16 05:56:27

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-09-16 20:17:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by paulmasson created at 2016-09-16 20:18:26

Changing status from needs_work to needs_review.


---

Comment by paulmasson created at 2016-09-16 20:18:26

Done.


---

Comment by jdemeyer created at 2016-09-16 21:16:08

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-09-17 20:09:20

Resolution: fixed
