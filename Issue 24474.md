# Issue 24474: Add remove_faces  method for simplicial complexes

archive/issues_024474.json:
```json
{
    "body": "CC:  @jhpalmieri @slel @tscrim\n\nKeywords: simplicial_complex\n\nSimplicial complexes have a `remove_face` method for removing a single face.\n\nIt might be worth having a `remove_faces` method for removing several faces at once.\n\nSee sage-devel discussion:\n- https://groups.google.com/d/topic/sage-devel/Uwx1X3sNAmw/discussion\n\nIssue created by migration from https://trac.sagemath.org/ticket/24711\n\n",
    "created_at": "2018-02-11T18:34:12Z",
    "labels": [
        "component: algebraic topology"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Add remove_faces  method for simplicial complexes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24474",
    "user": "https://github.com/slel"
}
```
CC:  @jhpalmieri @slel @tscrim

Keywords: simplicial_complex

Simplicial complexes have a `remove_face` method for removing a single face.

It might be worth having a `remove_faces` method for removing several faces at once.

See sage-devel discussion:
- https://groups.google.com/d/topic/sage-devel/Uwx1X3sNAmw/discussion

Issue created by migration from https://trac.sagemath.org/ticket/24711





---

archive/issue_comments_342996.json:
```json
{
    "body": "I tried writing `remove_faces` from scratch, but it turned out to be faster to just call the existing `remove_face` over and over again. At least, when removing faces of low codimension, it was about 5 times faster to call `remove_face` repeatedly. When removing faces of high codimension, my other version was a little faster, taking about 2/3 the time. Since the old version was much faster some of the time and a just little slower some of the time, I kept it.\n----\nNew commits:",
    "created_at": "2018-06-14T04:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-342996",
    "user": "https://github.com/jhpalmieri"
}
```

I tried writing `remove_faces` from scratch, but it turned out to be faster to just call the existing `remove_face` over and over again. At least, when removing faces of low codimension, it was about 5 times faster to call `remove_face` repeatedly. When removing faces of high codimension, my other version was a little faster, taking about 2/3 the time. Since the old version was much faster some of the time and a just little slower some of the time, I kept it.
----
New commits:



---

archive/issue_comments_342997.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2018-06-14T04:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-342997",
    "user": "https://github.com/jhpalmieri"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_342998.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-14T04:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-342998",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_342999.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-06-14T14:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-342999",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_343000.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-07-27T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343000",
    "user": "https://github.com/bryangingechen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_343001.json:
```json
{
    "body": "This looks good to me. I added a note about the new `check` parameter in the ticket description.",
    "created_at": "2018-07-27T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343001",
    "user": "https://github.com/bryangingechen"
}
```

This looks good to me. I added a note about the new `check` parameter in the ticket description.



---

archive/issue_comments_343002.json:
```json
{
    "body": "I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?",
    "created_at": "2018-07-29T03:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343002",
    "user": "https://github.com/tscrim"
}
```

I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?



---

archive/issue_comments_343003.json:
```json
{
    "body": "Also, (real) author name.",
    "created_at": "2018-07-29T03:52:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343003",
    "user": "https://github.com/tscrim"
}
```

Also, (real) author name.



---

archive/issue_comments_343004.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2018-07-29T03:52:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343004",
    "user": "https://github.com/tscrim"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_343005.json:
```json
{
    "body": "Replying to [comment:6 tscrim]:\n> I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?\n\nNote that `check` is `False` by default so what you describe is the usual behavior.",
    "created_at": "2018-07-29T03:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343005",
    "user": "https://github.com/bryangingechen"
}
```

Replying to [comment:6 tscrim]:
> I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?

Note that `check` is `False` by default so what you describe is the usual behavior.



---

archive/issue_comments_343006.json:
```json
{
    "body": "Replying to [comment:8 gh-bryangingechen]:\n> Replying to [comment:6 tscrim]:\n> > I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?\n> \n> Note that `check` is `False` by default so what you describe is the usual behavior.\n\nThe default behavior is irrelevant. I am questioning the divergence from `add_face` (and `add/remove_edge` from graphs). It also does impose an extra (albeit very small) maintenance burden that is worth taking a moment to consider.",
    "created_at": "2018-07-29T07:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343006",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:8 gh-bryangingechen]:
> Replying to [comment:6 tscrim]:
> > I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?
> 
> Note that `check` is `False` by default so what you describe is the usual behavior.

The default behavior is irrelevant. I am questioning the divergence from `add_face` (and `add/remove_edge` from graphs). It also does impose an extra (albeit very small) maintenance burden that is worth taking a moment to consider.



---

archive/issue_comments_343007.json:
```json
{
    "body": "Replying to [comment:9 tscrim]:\n> The default behavior is irrelevant. I am questioning the divergence from `add_face` (and `add/remove_edge` from graphs). It also does impose an extra (albeit very small) maintenance burden that is worth taking a moment to consider.\n\nThanks for clarifying your comment and apologies for misinterpreting its intent. I agree that this is worth considering (I edited the description to make the change more visible, after all). Thanks also for pointing out the divergence with `add_face` and the graph functions, which I overlooked. \n\nIn my opinion, the convenience of having a parameter to easily \"safety-check\" a construction outweighs the minor burden introduced (particularly since the function never returns any output). However, for the purposes of keeping the behavior uniform, perhaps implementing the check (in all related functions) should be moved to another ticket.",
    "created_at": "2018-07-29T07:30:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343007",
    "user": "https://github.com/bryangingechen"
}
```

Replying to [comment:9 tscrim]:
> The default behavior is irrelevant. I am questioning the divergence from `add_face` (and `add/remove_edge` from graphs). It also does impose an extra (albeit very small) maintenance burden that is worth taking a moment to consider.

Thanks for clarifying your comment and apologies for misinterpreting its intent. I agree that this is worth considering (I edited the description to make the change more visible, after all). Thanks also for pointing out the divergence with `add_face` and the graph functions, which I overlooked. 

In my opinion, the convenience of having a parameter to easily "safety-check" a construction outweighs the minor burden introduced (particularly since the function never returns any output). However, for the purposes of keeping the behavior uniform, perhaps implementing the check (in all related functions) should be moved to another ticket.



---

archive/issue_comments_343008.json:
```json
{
    "body": "The reason I added a `check` feature to the existing function `remove_face` comes from the original discussion on `sage-devel`, mentioned in the ticket description. If someone uses `K.remove_face([list of faces])`, as they attempted before posting with their question, it fails silently because `[list of faces]` is not a face in `K`. Adding this argument at least gives users the opportunity to do some simple debugging.",
    "created_at": "2018-07-29T19:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343008",
    "user": "https://github.com/jhpalmieri"
}
```

The reason I added a `check` feature to the existing function `remove_face` comes from the original discussion on `sage-devel`, mentioned in the ticket description. If someone uses `K.remove_face([list of faces])`, as they attempted before posting with their question, it fails silently because `[list of faces]` is not a face in `K`. Adding this argument at least gives users the opportunity to do some simple debugging.



---

archive/issue_comments_343009.json:
```json
{
    "body": "Okay, I don't have any objections. I just wanted to make sure it was considered.",
    "created_at": "2018-07-30T07:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343009",
    "user": "https://github.com/tscrim"
}
```

Okay, I don't have any objections. I just wanted to make sure it was considered.



---

archive/issue_comments_343010.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2018-07-30T07:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343010",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_events_062186.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-07-30T07:18:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24474#event-62186"
}
```



---

archive/issue_events_062187.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-05T08:43:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24474#event-62187"
}
```



---

archive/issue_comments_343011.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-08-05T08:43:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24474#issuecomment-343011",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
