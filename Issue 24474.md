# Issue 24474: Add remove_faces  method for simplicial complexes

Issue created by migration from https://trac.sagemath.org/ticket/24711

Original creator: slelievre

Original creation time: 2018-02-11 18:34:12

CC:  jhpalmieri slelievre tscrim

Keywords: simplicial_complex

Simplicial complexes have a `remove_face` method for removing a single face.

It might be worth having a `remove_faces` method for removing several faces at once.

See sage-devel discussion:
- https://groups.google.com/d/topic/sage-devel/Uwx1X3sNAmw/discussion


---

Comment by jhpalmieri created at 2018-06-14 04:55:54

I tried writing `remove_faces` from scratch, but it turned out to be faster to just call the existing `remove_face` over and over again. At least, when removing faces of low codimension, it was about 5 times faster to call `remove_face` repeatedly. When removing faces of high codimension, my other version was a little faster, taking about 2/3 the time. Since the old version was much faster some of the time and a just little slower some of the time, I kept it.
----
New commits:


---

Comment by jhpalmieri created at 2018-06-14 04:55:54

Changing type from PLEASE CHANGE to enhancement.


---

Comment by jhpalmieri created at 2018-06-14 04:55:54

Changing status from new to needs_review.


---

Comment by git created at 2018-06-14 14:47:26

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by @bryangingechen created at 2018-07-27 21:38:53

Changing status from needs_review to positive_review.


---

Comment by @bryangingechen created at 2018-07-27 21:38:53

This looks good to me. I added a note about the new `check` parameter in the ticket description.


---

Comment by tscrim created at 2018-07-29 03:52:30

I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?


---

Comment by tscrim created at 2018-07-29 03:52:50

Also, (real) author name.


---

Comment by tscrim created at 2018-07-29 03:52:50

Changing status from positive_review to needs_info.


---

Comment by @bryangingechen created at 2018-07-29 03:58:55

Replying to [comment:6 tscrim]:
> I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?

Note that `check` is `False` by default so what you describe is the usual behavior.


---

Comment by tscrim created at 2018-07-29 07:07:05

Replying to [comment:8 gh-bryangingechen]:
> Replying to [comment:6 tscrim]:
> > I am not 100% sure we want to have a check on `remove_face`. For instance, we can run `add_face` multiple times on the same simplicial complex, so why not `remove_face`?
> 
> Note that `check` is `False` by default so what you describe is the usual behavior.

The default behavior is irrelevant. I am questioning the divergence from `add_face` (and `add/remove_edge` from graphs). It also does impose an extra (albeit very small) maintenance burden that is worth taking a moment to consider.


---

Comment by @bryangingechen created at 2018-07-29 07:30:01

Replying to [comment:9 tscrim]:
> The default behavior is irrelevant. I am questioning the divergence from `add_face` (and `add/remove_edge` from graphs). It also does impose an extra (albeit very small) maintenance burden that is worth taking a moment to consider.

Thanks for clarifying your comment and apologies for misinterpreting its intent. I agree that this is worth considering (I edited the description to make the change more visible, after all). Thanks also for pointing out the divergence with `add_face` and the graph functions, which I overlooked. 

In my opinion, the convenience of having a parameter to easily "safety-check" a construction outweighs the minor burden introduced (particularly since the function never returns any output). However, for the purposes of keeping the behavior uniform, perhaps implementing the check (in all related functions) should be moved to another ticket.


---

Comment by jhpalmieri created at 2018-07-29 19:58:56

The reason I added a `check` feature to the existing function `remove_face` comes from the original discussion on `sage-devel`, mentioned in the ticket description. If someone uses `K.remove_face([list of faces])`, as they attempted before posting with their question, it fails silently because `[list of faces]` is not a face in `K`. Adding this argument at least gives users the opportunity to do some simple debugging.


---

Comment by tscrim created at 2018-07-30 07:17:58

Okay, I don't have any objections. I just wanted to make sure it was considered.


---

Comment by tscrim created at 2018-07-30 07:17:58

Changing status from needs_info to positive_review.


---

Comment by vbraun created at 2018-08-05 08:43:10

Resolution: fixed
