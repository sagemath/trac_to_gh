# Issue 11799: get_memory_usage() doctest failure

Issue created by migration from https://trac.sagemath.org/ticket/11971

Original creator: jdemeyer

Original creation time: 2011-10-31 17:10:38

Assignee: mvngu

CC:  justin

Justin reports on sage-release:

```
Built from scratch on Mac OS X, 10.6.8 (Dual 6-Core Xeon) w/o problems.  Testing (ptestlong) yielded one failure:
----------------------------------------------------------------------
The temporary doctesting directory
   /Users/justin/.sage/tmp/Zippo.local-33453
was not removed: it is not empty, presumably because doctests
failed or doctesting was interrupted.

----------------------------------------------------------------------

The following tests failed:

	sage -t  -long -force_lib devel/sage/sage/misc/getusage.py # 1 doctests failed
----------------------------------------------------------------------
**********************************************************************
File "/Users/Sage/sage-4.7.2.rc1/devel/sage-main/sage/misc/getusage.py", line 93
:
    sage: get_memory_usage(t)          # amount of memory more than when we defined t.
Expected:
    0.0
Got:
    0.25
**********************************************************************
```



---

Comment by leif created at 2011-10-31 17:33:40

`EXAMPLES:` should now be `EXAMPLES::` (i.e., with a double-colon).

The program names (`prstat` and `top` etc.) should be typeset in monospaced / typewriter font, i.e. for example ```prstat``` instead of `'prstat'`.


---

Attachment


---

Comment by leif created at 2011-10-31 19:11:44

Ok, new patch looks good (although I'd also use ```t``` instead of ``t``, since it is a Python identifier rather than some mathematical variable or symbol), but Justin should test it and give it positive review.


---

Comment by leif created at 2011-10-31 19:17:28

P.S.: FWIW, applies to rc0 and passes tests on Ubuntu 10.04.3 x86_64.


---

Comment by justin created at 2011-11-01 18:18:25

I can't now reproduce the doctest failure; maybe cosmic rays are to blame.

In any case, the doctests all pass with the patch applied; the changes seem reasonable.


---

Comment by jdemeyer created at 2011-11-10 08:30:25

Changing priority from blocker to minor.


---

Comment by jdemeyer created at 2011-11-10 08:30:25

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2011-11-10 08:30:35

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-11-14 17:32:36

Resolution: fixed
