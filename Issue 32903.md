# Issue 32903: GH Actions (macOS): Fix filtering of experimental packages

Issue created by migration from https://trac.sagemath.org/ticket/33140

Original creator: mkoeppe

Original creation time: 2022-01-10 06:54:56

CC:  dimpase @kliem

Filtering by `$targets_pattern` is broken, so the jobs for  experimental packages do too much work.

see for example https://github.com/sagemath/sage/runs/4752780943?check_suite_focus=true, which was supposed to only build packages starting with `0-g`, but `TARGETS_OPTIONAL=scipoptsuite modular_decomposition awali gdb deformation cocoalib surf gambit libtheora lie gap3 valgrind qepcad`.


---

Comment by mkoeppe created at 2022-01-10 07:07:37

New commits:


---

Comment by mkoeppe created at 2022-01-10 07:07:37

Changing status from new to needs_review.


---

Comment by git created at 2022-01-12 05:37:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-01-27 21:52:04

Needs review


---

Comment by slelievre created at 2022-01-30 15:44:20

Set milestone to sage-9.6 after Sage 9.5 release.


---

Comment by mkoeppe created at 2022-02-04 17:23:23

Can we please get this in? It will make the portability suite faster.


---

Comment by dimpase created at 2022-02-04 17:38:45

lgtm


---

Comment by dimpase created at 2022-02-04 17:38:45

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-02-04 17:48:53

Thank you!


---

Comment by vbraun created at 2022-02-12 22:07:02

Resolution: fixed
