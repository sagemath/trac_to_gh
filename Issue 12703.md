# Issue 12703: Fix the homset category initialization for ModularAbelianVariety's homspaces

Issue created by migration from https://trac.sagemath.org/ticket/12875

Original creator: nthiery

Original creation time: 2012-04-24 21:45:20

Assignee: craigcitro

CC:  sage-combinat

Keywords: categories, abelian varieties

Before the patch, the following was wrong (probably introduced by #9138):

```
    sage: End(J0(37)).homset_category()
    Join of Category of hom sets in Category of sets and Category of rings
```


After the patch:

```
    sage: End(J0(37)).homset_category()
    Category of modular abelian varieties over Rational Field
```


In both cases, we have, as desired:

```
    sage: End(J0(37)).category()
    Join of Category of hom sets in Category of sets and Category of rings
```


By the way, this removes a direct call to _Hom_, using Hom instead, preparing for #11935.

Note: #11935 depends on this ticket.



---

Comment by nthiery created at 2012-04-24 21:48:04

Changing type from PLEASE CHANGE to defect.


---

Comment by nthiery created at 2012-04-24 21:48:04

Changing status from new to needs_review.


---

Comment by nthiery created at 2012-04-25 00:17:59

For the record: all tests passed on 5.0.beta13, with a couple unrelated sage-combinat patches just above (except for one doctest failure in sagedoc caused by those patches).


---

Comment by SimonKing created at 2012-04-26 08:16:53

Some small criticism: The commit message does not mention the ticket number. Apart from that, the patch looks fine, and I am now running doctests.


---

Attachment


---

Comment by nthiery created at 2012-04-26 09:23:18

Replying to [comment:3 SimonKing]:
> Some small criticism: The commit message does not mention the ticket number.

Fixed in the updated patch. Thanks for catching this, and for the quick review!


---

Comment by SimonKing created at 2012-04-26 09:57:49

Changing status from needs_review to positive_review.


---

Comment by SimonKing created at 2012-04-26 09:57:49

Thank you for updating the commit message! All tests pass, with sage-5.1.notebook, the patch applied after the patches from #12808 (I was to lazy to remove them). The patch looks fine, thus, I give it a positive review.


---

Comment by nthiery created at 2012-04-26 10:25:02

Thanks!


---

Comment by jdemeyer created at 2012-05-06 12:20:30

Resolution: fixed
