# Issue 29464: Replace use of OptionalExtension by namespace packages

Issue created by migration from https://trac.sagemath.org/ticket/29701

Original creator: mkoeppe

Original creation time: 2020-05-17 16:26:04

CC:  fbissey isuruf vdelecroix dcoudert dimpase @kliem vbraun




---

Comment by mkoeppe created at 2020-06-03 22:48:38

Last 10 new commits:


---

Comment by git created at 2020-06-03 22:53:24

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2020-06-03 22:54:40

No longer on top of #28925, so no namespace package are involved any more for this ticket.


---

Comment by mkoeppe created at 2020-06-03 22:56:38

Changing status from new to needs_review.


---

Comment by git created at 2020-06-04 00:58:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-06-04 02:26:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-06-07 18:48:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-06-07 18:53:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2020-06-07 20:30:43

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2020-06-08 02:22:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-06-08 02:39:11

Tests run at https://github.com/mkoeppe/sage/actions/runs/128112212


---

Comment by git created at 2020-06-26 16:36:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-06-26 16:38:21

Merged in latest beta. Needs review


---

Comment by git created at 2020-06-28 22:05:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2020-06-29 09:37:27

I'm a bit confused:

`find_python_sources` gives you all sources including all with optional packages if `distributions=None`.

However, if distributions is `sage-tdlib`, you get only one source file.

Don't we want `find_python_sources` to contain everything except for not installed optional packages?


---

Comment by mkoeppe created at 2020-06-29 17:18:02

Replying to [comment:29 gh-kliem]:
> `find_python_sources` gives you all sources including all with optional packages if `distributions=None`.
> 
> However, if distributions is `sage-tdlib`, you get only one source file.

That's right. This is a feature for modularization as in #29864 (Modularization of sagelib: Break out a separate package sage-tdlib).

> Don't we want `find_python_sources` to contain everything except for not installed optional packages?

For this, one passes `distributions=['', 'sage-tdlib']`. The empty string designates all source files without a `sage_setup: distribution` directive. This list of distributions is computed in `src/setup.py`.


---

Comment by @kliem created at 2020-06-29 18:04:28

I see.

I would suggest updating the benchmark. Also I can confirm this, it is not really meaningful, as this is not the normal use case, isn't it. The normal use case would be with `distributions=['']` and this takes about 500 ms and not 20 ms. Still no problem I think, but much longer.


---

Comment by @kliem created at 2020-06-29 18:10:36

Otherwise the source code looks fine. Do we have any test runs? Should I run them?


---

Comment by mkoeppe created at 2020-06-29 19:09:49

I have tested the branch of this ticket on macOS and also as part of #29950 and other tickets.


---

Comment by mkoeppe created at 2020-06-29 19:14:49

Replying to [comment:31 gh-kliem]:
> I would suggest updating the benchmark. 

Good idea, will do


---

Comment by git created at 2020-06-29 19:20:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2020-06-29 19:40:30

As I have capacities I started test for only this ticket:

https://github.com/kliem/sage/pull/18/checks


---

Comment by @kliem created at 2020-07-01 15:34:39

There is that annoying failure of sageinspect again

ubuntu-bionic, minimal (for example, but looks like it is anywhere)

```
File "src/sage/misc/sageinspect.py", line 28, in sage.misc.sageinspect
Failed example:
    sage_getsource(sage.rings.rational)[5:]
Expected:
    'Rational Numbers...'
Got:
    'tutils: libraries = ntl\nr"""\nRational Numbers\n\nAUTHORS:\n\n- William Stein (2005): first version\n\n- William Stein (2006-02-22): floor and ceil (pure fast GMP versions).\n\n- Gonzalo Tornaria and William Stein (2006-03-02): greatly improved\n  python/GMP conversion; hashing\n\n- William Stein and Naqi Jaffery (2006-03-06): height, sqrt examples,\n  and improve behavior of sqrt.\n\n- David Harvey (2006-09-15): added nth_root\n\n- Pablo De Napoli (2007-04-01): corrected the implementations of\n  multiplicative_order, is_one; optimized __nonzero__ ; documented:\n  lcm,gcd\n\n- John Cremona (2009-05-15): added support for local and global\n  logarithmic heights.\n\n- Travis Scrimshaw (2012-10-18): Added doctests for full coverage.\n\n- Vincent Delecroix (2013): continued fraction\n\n- Vincent Delecroix (2017-05-03): faster integer-rational comparison\n\n- Vincent Klein (2017-05-11): add __mpq__() to class Rational\n\n- Vincent Klein (2017-05-22): Rational constructor support gmpy2.mpq\n  or gmpy2.mpz parameter. Add __mpz__ to class Rational.\n\nTESTS::\n\n    sage: a = -2/3\n    sage: a == loads(dumps(a))\n    True\n"""\n\n# ****************************************************************************\n#       Copyright (C) 2004, 2006 William Stein <wstein@gmail.com>\n#       Copyright (C) 2017 Vincent Delecroix <20100.delecroix@gmail.com>\n#\n#  Distributed under the terms of the GNU General Public License (GPL)\n#  as published by the Free Software Foundation; either version 2 of\n#  the License, or (at your option) any later version.\n#                  https://www.gnu.org/licenses/\n# ****************************************************************************\n\ncimport cython\nfrom cpython cimport *\nfrom cpython.object cimport Py_EQ, Py_NE\n\nfrom cysignals.signals cimport sig_on, sig_off\n\nimport operator\nimport fractions\n\nfrom sage.misc.mathml import mathml\nfrom sage.arith.long cimport pyobject_to_long, integer_check_long_py\nfrom sage.cpython.string cimport char_to_str, str_to_bytes\n\nimport sage.misc.misc as misc\nfrom sage.structure.sage_object cimport SageObject\nfrom sage.structure.richcmp cimport rich_to_bool_sgn\nimport sage.rings.rational_field\n\ncimport sage.rings.integer as integer\nfrom .integer cimport Integer\n\nfrom cypari2.paridecl cimport *\nfrom cypari2.gen cimport Gen as pari_gen\nfrom sage.libs.pari.convert_gmp cimport INT_to_mpz, INTFRAC_to_mpq, new_gen_from_mpq_t\n\nfrom .integer_ring import ZZ\nfrom sage.arith.rational_reconstruction cimport mpq_rational_reconstruction\n\nfrom sage.structure.coerce cimport is_numpy_type\n\nfrom sage.libs.gmp.pylong cimport mpz_set_pylong\n\nfrom sage.structure.coerce cimport coercion_model\nfrom sage.structure.element cimport Element\nfrom sage.structure.element import coerce_binop\nfrom sage.structure.parent cimport Parent\nfrom sage.categories.morphism cimport Morphism\nfrom sage.categories.map cimport Map\n\n\n\nimport sage.rings.real_mpfr\nimport sage.rings.real_double\nfrom libc.stdint cimport uint64_t\nfrom sage.libs.gmp.binop cimport mpq_add_z, mpq_mul_z, mpq_div_zz\n\nfrom cpython.int cimport PyInt_AS_LONG\n\ncimport sage.rings.fast_arith\nimport  sage.rings.fast_arith\n\ncdef sage.rings.fast_arith.arith_int ai\nai = sage.rings.fast_arith.arith_int()\n\ncdef object numpy_long_interface = {\'typestr\': \'=i4\' if sizeof(long) == 4 else \'=i8\' }\ncdef object numpy_int64_interface = {\'typestr\': \'=i8\'}\ncdef object numpy_object_interface = {\'typestr\': \'|O\'}\ncdef object numpy_double_interface = {\'typestr\': \'=f8\'}\n\nfrom libc.math cimport ldexp\nfrom sage.libs.gmp.all cimport *\n\ncimport gmpy2\ngmpy2.import_gmpy2()\n\n\ncdef class Rational(sage.structure.element.FieldElement)\n'
```



---

Comment by git created at 2020-07-02 03:58:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-07-02 04:00:06

Thanks for catching this. I have merged in the latest branches of the dependencies. The updated #29786 where this error came from should fix this.


---

Comment by @kliem created at 2020-07-02 05:52:41

I was wondering, where this error came from now. Good to know that it is entirely harmless.

Replying to [comment:39 mkoeppe]:
> Thanks for catching this. I have merged in the latest branches of the dependencies. The updated #29786 where this error came from should fix this.


---

Comment by @kliem created at 2020-07-02 05:53:11

Changing status from needs_review to positive_review.


---

Comment by @kliem created at 2020-07-02 05:53:11

LGTM.


---

Comment by mkoeppe created at 2020-07-02 19:53:38

Thank you!


---

Comment by git created at 2020-07-04 16:18:04

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2020-07-04 16:18:04

Changing status from positive_review to needs_review.


---

Comment by mkoeppe created at 2020-07-04 16:18:30

Merged 9.2.beta3


---

Comment by mkoeppe created at 2020-07-04 16:18:34

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-07-26 22:51:24

Volker, is there something missing on this ticket that keeps it from being merged?


---

Comment by dimpase created at 2020-08-02 10:27:35

Changing priority from major to critical.


---

Comment by vbraun created at 2020-08-02 18:05:29

#29411 isn't merged (the release script can only check whether a ticket has been merged if you think about it; Do not depend on invalid/duplicate/meta-tickets, or anything else that doesn't actually contribute commits). Also `(#29411)` isn't supported as dependency, whatever the parens are supposed to mean.


---

Comment by dimpase created at 2020-08-02 18:13:11

#29411 is a real ticket with 9.2 as milestone, marked as closed, with a branch which looks like a merged branch. Is it the same kind of issue as with #21226 ?


---

Comment by mkoeppe created at 2020-08-02 18:45:12

Thanks for cleaning up the dependency list. 

Unfortunately the format does not seem to be documented anywhere.

(#29411 is a regular merged ticket. You merged it in 0bcd001f760ff724832c32b4f65fa575fd82e000)


---

Comment by vbraun created at 2020-08-02 22:22:55

Yes, in this case it was the parens.


---

Comment by vbraun created at 2020-08-02 22:58:15


```
sage -t --long --warn-long 40.4 --random-seed=0 src/sage_setup/clean.py
**********************************************************************
File "src/sage_setup/clean.py", line 83, in sage_setup.clean._find_stale_files
Failed example:
    python_packages, python_modules = find_python_sources(
        SAGE_SRC, ['sage', 'sage_setup'])
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 715, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1139, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage_setup.clean._find_stale_files[3]>", line 2, in <module>
        SAGE_SRC, ['sage', 'sage_setup'])
    ValueError: too many values to unpack (expected 2)
**********************************************************************
File "src/sage_setup/clean.py", line 92, in sage_setup.clean._find_stale_files
Failed example:
    stale_iter = _find_stale_files(SAGE_LIB, python_packages, python_modules, [], extra_files)
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 715, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1139, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage_setup.clean._find_stale_files[6]>", line 1, in <module>
        stale_iter = _find_stale_files(SAGE_LIB, python_packages, python_modules, [], extra_files)
    NameError: name 'python_packages' is not defined
**********************************************************************
File "src/sage_setup/clean.py", line 95, in sage_setup.clean._find_stale_files
Failed example:
    for f in stale_iter:
        if f.endswith(skip_extensions): continue
        if '/ext_data/' in f: continue
        print('Found stale file: ' + f)
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 715, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1139, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage_setup.clean._find_stale_files[9]>", line 1, in <module>
        for f in stale_iter:
    NameError: name 'stale_iter' is not defined
**********************************************************************
1 item had failures:
   3 of  11 in sage_setup.clean._find_stale_files
    [17 tests, 3 failures, 0.03 s]
----------------------------------------------------------------------
sage -t --long --warn-long 40.4 --random-seed=0 src/sage_setup/clean.py  # 3 doctests failed
----------------------------------------------------------------------
```



---

Comment by vbraun created at 2020-08-02 22:58:15

Changing status from positive_review to needs_work.


---

Comment by git created at 2020-08-03 00:26:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-08-03 00:27:14

Changing status from needs_work to needs_review.


---

Comment by @kliem created at 2020-08-03 05:38:31

Back to positive.


---

Comment by @kliem created at 2020-08-03 05:38:31

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-08-03 17:43:26

Thanks!


---

Comment by vbraun created at 2020-08-04 22:17:07


```
[dochtml] Build finished. The built documents can be found in /home/release/Sage/local/share/doc/sage/inventory/en/reference/manifolds
[dochtml] [algebras ] updating environment: 0 added, 5 changed, 0 removed
[dochtml] Warning: Could not import sage.graphs.graph_generators cannot import name 'distance_regular' from 'sage.graphs' (/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/__init__.py)
[dochtml] [arithgrou] The inventory files are in local/share/doc/sage/inventory/en/reference/arithgroup.
[dochtml] Build finished. The built documents can be found in /home/release/Sage/local/share/doc/sage/inventory/en/reference/arithgroup
[dochtml] Error building the documentation.
[dochtml] Traceback (most recent call last):
[dochtml]   File "/home/release/Sage/local/lib/python3.7/runpy.py", line 193, in _run_module_as_main
[dochtml]     "__main__", mod_spec)
[dochtml]   File "/home/release/Sage/local/lib/python3.7/runpy.py", line 85, in _run_code
[dochtml]     exec(code, run_globals)
[dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
[dochtml]     main()
[dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 1721, in main
[dochtml]     builder()
[dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 328, in _wrapper
[dochtml]     getattr(get_builder(document), 'inventory')(*args, **kwds)
[dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 553, in _wrapper
[dochtml]     self._build_everything_except_bibliography(lang, format, *args, **kwds)
[dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 539, in _build_everything_except_bibliography
[dochtml]     build_many(build_ref_doc, non_references)
[dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 281, in build_many
[dochtml]     _build_many(target, args, processes=NUM_THREADS)
[dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/utils.py", line 283, in build_many
[dochtml]     raise worker_exc.original_exception
[dochtml] ImportError: cannot import name 'distance_regular' from 'sage.graphs' (/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/__init__.py)
[dochtml] 
[dochtml]     Note: incremental documentation builds sometimes cause spurious
[dochtml]     error messages. To be certain that these are real errors, run
[dochtml]     "make doc-clean" first and try again.
make[3]: *** [Makefile:1816: doc-html] Error 1
make[3]: Leaving directory '/home/release/Sage/build/make'
make[2]: *** [Makefile:1707: all-start] Error 2
make[2]: Leaving directory '/home/release/Sage/build/make'
```



---

Comment by vbraun created at 2020-08-04 22:17:07

Changing status from positive_review to needs_work.


---

Comment by fbissey created at 2020-08-04 22:20:28

Replying to [comment:59 vbraun]:
> {{{
> [dochtml] Build finished. The built documents can be found in /home/release/Sage/local/share/doc/sage/inventory/en/reference/manifolds
> [dochtml] [algebras ] updating environment: 0 added, 5 changed, 0 removed
> [dochtml] Warning: Could not import sage.graphs.graph_generators cannot import name 'distance_regular' from 'sage.graphs' (/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/__init__.py)
> [dochtml] [arithgrou] The inventory files are in local/share/doc/sage/inventory/en/reference/arithgroup.
> [dochtml] Build finished. The built documents can be found in /home/release/Sage/local/share/doc/sage/inventory/en/reference/arithgroup
> [dochtml] Error building the documentation.
> [dochtml] Traceback (most recent call last):
> [dochtml]   File "/home/release/Sage/local/lib/python3.7/runpy.py", line 193, in _run_module_as_main
> [dochtml]     "__main__", mod_spec)
> [dochtml]   File "/home/release/Sage/local/lib/python3.7/runpy.py", line 85, in _run_code
> [dochtml]     exec(code, run_globals)
> [dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
> [dochtml]     main()
> [dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 1721, in main
> [dochtml]     builder()
> [dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 328, in _wrapper
> [dochtml]     getattr(get_builder(document), 'inventory')(*args, **kwds)
> [dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 553, in _wrapper
> [dochtml]     self._build_everything_except_bibliography(lang, format, *args, **kwds)
> [dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 539, in _build_everything_except_bibliography
> [dochtml]     build_many(build_ref_doc, non_references)
> [dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 281, in build_many
> [dochtml]     _build_many(target, args, processes=NUM_THREADS)
> [dochtml]   File "/home/release/Sage/local/lib/python3.7/site-packages/sage_setup/docbuild/utils.py", line 283, in build_many
> [dochtml]     raise worker_exc.original_exception
> [dochtml] ImportError: cannot import name 'distance_regular' from 'sage.graphs' (/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/__init__.py)
> [dochtml] 
> [dochtml]     Note: incremental documentation builds sometimes cause spurious
> [dochtml]     error messages. To be certain that these are real errors, run
> [dochtml]     "make doc-clean" first and try again.
> make[3]: *** [Makefile:1816: doc-html] Error 1
> make[3]: Leaving directory '/home/release/Sage/build/make'
> make[2]: *** [Makefile:1707: all-start] Error 2
> make[2]: Leaving directory '/home/release/Sage/build/make'
> }}}

Are you sure? I thought it would have come from either #30240 or #30260 since they both touch "distance_regular".


---

Comment by mkoeppe created at 2020-08-04 22:37:43

#30260 is broken. It is confused about whether it wants  `sage.graphs.distance_regular` or `sage.graphs.generators.distance_regular`


---

Comment by mkoeppe created at 2020-08-04 22:39:14

Changing status from needs_work to positive_review.


---

Comment by dimpase created at 2020-08-04 22:56:31

Replying to [comment:61 mkoeppe]:
> #30260 is broken. It is confused about whether it wants  `sage.graphs.distance_regular` or `sage.graphs.generators.distance_regular`
> 
it used to be broken, but IMHO it's fixed by #30240#comment:32


---

Comment by fbissey created at 2020-08-04 22:58:16

Replying to [comment:63 dimpase]:
> Replying to [comment:61 mkoeppe]:
> > #30260 is broken. It is confused about whether it wants  `sage.graphs.distance_regular` or `sage.graphs.generators.distance_regular`
> > 
> it used to be broken, but IMHO it's fixed by #30240#comment:32

Unfortunately Volker merged before that.


---

Comment by mkoeppe created at 2020-08-04 23:00:49

#30240 does not even have #30260 as a dependency...


---

Comment by @Ivo-Maffei created at 2020-08-05 09:03:23

Replying to [comment:65 mkoeppe]:
> #30240 does not even have #30260 as a dependency...
Should it? #30260 is a later ticket and it depends on #30240, but #30240 doesn't rely on #30260.
I apologise for the confusion but when #30240 went from "positive review" to "needs work" and I forgot to update #30260.


---

Comment by mkoeppe created at 2020-08-05 14:30:16

Replying to [comment:66 gh-Ivo-Maffei]:
> Replying to [comment:65 mkoeppe]:
> > #30240 does not even have #30260 as a dependency...
> Should it? #30260 is a later ticket and it depends on #30240, but #30240 doesn't rely on #30260.
> I apologise for the confusion but when #30240 went from "positive review" to "needs work" and I forgot to update #30260.
That's alright -- thanks for the fast reaction and fix!


---

Comment by vbraun created at 2020-08-08 09:16:50


```
sage -t --long --warn-long 42.4 --random-seed=0 src/sage_setup/find.py
**********************************************************************
File "src/sage_setup/find.py", line 215, in sage_setup.find.find_extra_files
Failed example:
    extras["sage/ext/interpreters"]
Expected:
    ['.../src/sage/ext/interpreters/wrapper_cdf.pxd', ...wrapper_cdf.h...]
Got:
    ['/home/release/Sage/src/sage/ext/interpreters/wrapper_cc.pxd',
     '/home/release/Sage/src/sage/ext/interpreters/wrapper_cc.pyx',
     '/home/release/Sage/src/sage/ext/interpreters/wrapper_cdf.pxd',
     '/home/release/Sage/src/sage/ext/interpreters/wrapper_cdf.pyx',
     '/home/release/Sage/src/sage/ext/interpreters/wrapper_el.pxd',
     '/home/release/Sage/src/sage/ext/interpreters/wrapper_el.pyx',
     '/home/release/Sage/src/sage/ext/interpreters/wrapper_py.pxd',
     '/home/release/Sage/src/sage/ext/interpreters/wrapper_py.pyx',
     '/home/release/Sage/src/sage/ext/interpreters/wrapper_rdf.pxd',
     '/home/release/Sage/src/sage/ext/interpreters/wrapper_rdf.pyx',
     '/home/release/Sage/src/sage/ext/interpreters/wrapper_rr.pxd',
     '/home/release/Sage/src/sage/ext/interpreters/wrapper_rr.pyx']
**********************************************************************
1 item had failures:
   1 of   7 in sage_setup.find.find_extra_files
    [36 tests, 1 failure, 0.27 s]
----------------------------------------------------------------------
sage -t --long --warn-long 42.4 --random-seed=0 src/sage_setup/find.py  # 1 doctest failed
----------------------------------------------------------------------
```



---

Comment by vbraun created at 2020-08-08 09:16:50

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2020-08-08 12:23:12

Might have been from #29950


---

Comment by mkoeppe created at 2020-08-08 20:41:37

Yes, it's #29950 that broke it.


---

Comment by mkoeppe created at 2020-08-08 20:41:44

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2020-08-10 18:50:17

Resolution: fixed
