# Issue 29893: get rid of comparison using _cmp_

Issue created by migration from https://trac.sagemath.org/ticket/30130

Original creator: chapoton

Original creation time: 2020-07-13 08:46:15

CC:  tscrim

and use `_richcmp_` instead

So far, this remains used only in complex MPC and Integer classes.




---

Comment by chapoton created at 2020-07-13 08:49:48

Changing status from new to needs_info.


---

Comment by chapoton created at 2020-07-13 08:49:48

This seems to reveal a bug in the pickling of complex numbers. Namely

```
sage: C = MPComplexField(prec=200, rnd='RNDUU')
sage: b = C(393.39203845902384098234098230948209384028340)
sage: loads(dumps(b))
393.39203845902384098234098230948209384028340000000000000000 + NaN*I
```

----
New commits:


---

Comment by git created at 2020-07-13 09:18:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2020-07-13 09:20:46

Should be good to go now. Let us wait for the patchbot report.


---

Comment by chapoton created at 2020-07-13 09:20:46

Changing status from needs_info to needs_review.


---

Comment by tscrim created at 2020-07-13 10:02:26

What a glorious day. Green bot => positive review.


---

Comment by git created at 2020-07-13 12:10:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2020-07-13 12:13:22

some trivial doctest failures. Patchbot re-launched


---

Comment by chapoton created at 2020-07-13 15:23:50

One fast patchbot is morally green. Travis, do you agree with my last commit ?


---

Comment by tscrim created at 2020-07-13 23:48:58

Yep. LGTM. Thanks.


---

Comment by tscrim created at 2020-07-13 23:48:58

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-07-25 22:50:50

Resolution: fixed
