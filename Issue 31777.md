# Issue 31777: functionality_of_integrate_vector

Issue created by migration from https://trac.sagemath.org/ticket/32014

Original creator: @DisneyHogg

Original creation time: 2021-06-20 20:01:00

CC:  nbruin slelievre




---

Comment by @DisneyHogg created at 2021-06-20 20:05:48

Changing type from PLEASE CHANGE to enhancement.


---

Comment by @DisneyHogg created at 2021-06-20 20:05:48

Set assignee to @DisneyHogg.


---

Comment by @DisneyHogg created at 2021-06-20 20:05:48

As per ticket #30698, move the updates to sage.numerical.gauss_lengdre.integrate_vector, namely allowing for the specification of the number of nodes desired a priori, to a new ticket.


---

Comment by @DisneyHogg created at 2021-06-20 20:05:48

Changing component from PLEASE CHANGE to numerical.


---

Comment by @DisneyHogg created at 2021-06-21 10:35:26

Because a version of this ticket was started as part of #30698, this ticket should eventually be merged with that ticket, to resolve the conflict. 
----
New commits:


---

Comment by nbruin created at 2021-06-21 15:51:28

Replying to [comment:3 gh-DisneyHogg]:
> Because a version of this ticket was started as part of #30698, this ticket should eventually be merged with that ticket, to resolve the conflict. 

One way of dealing with these kinds of merge conflicts is to set the "Dependencies" field to #30698, and rebase this branch on the branch there. Once the tickets are ready to be merged, this clearly indicates the merge order. It may mean that the branch here must be merged with further developments on the other branch. It's actually a practical reason *not* to split tickets you're working on, if they are mainly touching the same file.

You can also hope that git's standard merge tools recognize you're touching different lines in the same file and hence merge without reporting conflicts (logically, the changes on the tickets are orthogonal, so the dependence would really be for practical reasons)


---

Comment by @DisneyHogg created at 2021-06-22 14:32:27

Changing status from new to needs_review.


---

Comment by slelievre created at 2021-06-27 20:22:58

Can you fix the typo "incomatible" for "incompatible" and maybe rephrase

```diff
- It is different from ``integrate_vector`` by fixing the number
- of nodes to use, rather than aiming for a certain error.
+ It differs from ``integrate_vector`` by using a specified number
+ of nodes rather than targeting a specified error bound on the result.
```

and remove the extra blank line at the end of the docstring?


---

Comment by mkoeppe created at 2021-06-27 20:36:40

I think a better interface would be to just extend `integrate_vector` so that one can either use `epsilon` or the number of nodes as a keyword argument.


---

Comment by slelievre created at 2021-06-27 22:25:32

Replying to [comment:7 mkoeppe]:
> I think a better interface would be to just extend
> `integrate_vector` so that one can either use `epsilon`
> or the number of nodes as a keyword argument.

There was a discussion at #30698.


---

Comment by git created at 2021-06-29 10:28:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by nbruin created at 2021-07-08 04:03:54

Changing status from needs_review to needs_work.


---

Comment by nbruin created at 2021-07-08 04:03:54

Merge fails; branch needs rebasing.


---

Comment by @DisneyHogg created at 2021-07-08 09:41:31

Replying to [comment:10 nbruin]:
> Merge fails; branch needs rebasing.

Can you give more detail please? Were you merging #30698 into this ticket and it had a conflict?


---

Comment by nbruin created at 2021-07-08 16:04:01

Replying to [comment:11 gh-DisneyHogg]:
> Replying to [comment:10 nbruin]:
> > Merge fails; branch needs rebasing.
> 
> Can you give more detail please? Were you merging #30698 into this ticket and it had a conflict? 
If you look at the ticket description, you can see that the branch is displayed in red, and if you hover over it, you see "trac's automerging failed". If plain merging by git gives no problem, this indicates that trac tries a merge with particularly conservative and sage settings. However, I think you'll at least have to make sure that trac can do the merge, because otherwise reviewers have a harder time seeing what's happening on the ticket.

(I suspect the problem is that the current branch makes changes to an ancestor of "develop" that end up identical to what eventually happens in "develop", but are proposed separately. It would for instance mean that the "blame" of the relevant lines would be ambiguous. While in university administration and politics, this would be a valuable feature, it is slightly undesirable for the modification history of a software project)


---

Comment by git created at 2021-07-16 11:09:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @DisneyHogg created at 2021-07-16 11:12:22

Changing status from needs_work to needs_review.


---

Comment by @DisneyHogg created at 2021-07-16 11:12:22

Merge fail has been fixed.


---

Comment by nbruin created at 2021-07-21 18:53:38

Documentation has been adjusted, routine itself is basically trivial (but necessary for upcoming tickets), so: positive review!


---

Comment by nbruin created at 2021-07-21 18:53:38

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-07-24 15:28:32

Resolution: fixed
