# Issue 12304: Join matrix is unreasonably slow

Issue created by migration from https://trac.sagemath.org/ticket/12476

Original creator: hivert

Original creation time: 2012-02-08 19:55:10

Assignee: sage-combinat

Keywords: poset, matrix, Cernay2012

Before

```
sage: %time posets.BooleanLattice(8)
CPU times: user 10.42 s, sys: 0.01 s, total: 10.43 s
Wall time: 10.51 s
Finite lattice containing 256 elements
```

After

```
sage: %time posets.BooleanLattice(8)
CPU times: user 0.75 s, sys: 0.01 s, total: 0.76 s
Wall time: 0.84 s
Finite lattice containing 256 elements
```



---

Comment by ncohen created at 2012-02-08 22:55:04

Helloooooooooooo !!!

I added two modifications (which did not appear to make much of a difference) but also make the code slightly easier to read. There already was a reference, I added another, no one is hurt `:-)`

If you are ok with this second set of modifications you can set the ticket to "positive_review".

Nathann


---

Comment by ncohen created at 2012-02-08 22:55:04

Changing status from new to needs_review.


---

Comment by nthiery created at 2012-02-09 01:03:19

Changing status from needs_review to positive_review.


---

Comment by nthiery created at 2012-02-09 01:03:19

I folded the reviewer's patch in the original patch.
All test pass and the new code is semantically equivalent, but way faster.
Positive review! Thanks!


---

Comment by hivert created at 2012-02-10 00:57:51

There is a little problems with duplicated references in `meet_matrix` and `join_matrix`.


---

Comment by hivert created at 2012-02-10 00:57:51

Changing status from positive_review to needs_work.


---

Attachment


---

Comment by hivert created at 2012-02-10 01:03:43

Changing status from needs_work to needs_review.


---

Comment by hivert created at 2012-02-10 01:03:43

Replying to [comment:4 hivert]:
> There is a little problems with duplicated references in `meet_matrix` and `join_matrix`.

Fixed.


---

Comment by ncohen created at 2012-02-10 01:08:06

Nice catch ! There's no warning anymore when I generate the doc, so I guess the new patch can go too `:-)`

Nathann


---

Comment by ncohen created at 2012-02-10 01:08:06

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-02-14 14:32:44

How is this related to #10988 ???


---

Comment by nthiery created at 2012-02-14 14:38:48

Replying to [comment:7 jdemeyer]:
> How is this related to #10988 ???

#10988 refactors a lot all the poset code; so we did not even try if this one would, by plain piece of luck, commute with it. Since #10988 is now in Sage (thanks btw!), does this have any importance?


---

Comment by jdemeyer created at 2012-02-14 14:39:48

I guess you mean #10998 then...


---

Comment by nthiery created at 2012-02-14 14:50:00

Replying to [comment:9 jdemeyer]:
> I guess you mean #10998 then...

Oh, yes, sorry!!!

A dependence upon #10988 would indeed be pretty scary :-)


---

Comment by jdemeyer created at 2012-02-27 11:23:01

Resolution: fixed
