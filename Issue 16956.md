# Issue 16956: Adding a hash function to weak and strong tableaux

Issue created by migration from Trac.

Original creator: aschilling

Original creation time: 2014-10-22 04:31:16

CC:  sage-combinat zabrocki tscrim

Keywords: weak and strong tableaux, hash

Currently WeakTableaux and StrongTableaux are not hashable:

```
sage: T = WeakTableaux(3, [5,2,1], [1,1,1,1,1,1], representation='core')
sage: t = T[0]
sage: hash(t)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-3-36822ba665ca> in <module>()
----> 1 hash(t)

/Applications/sage/local/lib/python2.7/site-packages/sage/structure/list_clone.so in sage.structure.list_clone.ClonableArray.__hash__ (build/cythonized/sage/structure/list_clone.c:5686)()

/Applications/sage/local/lib/python2.7/site-packages/sage/structure/list_clone.so in sage.structure.list_clone.ClonableArray._hash_ (build/cythonized/sage/structure/list_clone.c:6286)()

TypeError: unhashable type: 'list'
```



---

Comment by aschilling created at 2014-10-22 04:37:24

Changing status from new to needs_review.


---

Comment by aschilling created at 2014-10-22 04:37:24

New commits:


---

Comment by git created at 2014-10-22 05:06:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2014-10-22 05:08:07

Two things:

1. The output of the hash is different for 32 bit machines. IMO a better test is `hash(t) == hash(t)`. (Also has the benefit of not having to change doctests when stuff changes.)
2. If the representation is not core or bounded, I think its better to call `super(WeakTableau_abstract, self).__hash__(self)` to not duplicate code and to use the (faster) cython from `ClonableList`.


---

Comment by git created at 2014-10-22 05:22:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by aschilling created at 2014-10-22 05:23:20

Ok, I made the changes!

Anne


---

Comment by tscrim created at 2014-10-22 05:24:45

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2014-10-22 05:24:45

LGTM. Thanks.


---

Comment by aschilling created at 2014-10-22 05:28:24

Replying to [comment:6 tscrim]:
> LGTM. Thanks.

Thanks for the quick review!


---

Comment by vbraun created at 2014-10-23 11:18:50

Resolution: fixed
