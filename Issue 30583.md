# Issue 30583: some CI details

Issue created by migration from https://trac.sagemath.org/ticket/30820

Original creator: chapoton

Original creation time: 2020-10-24 07:57:54

CC:  saraedum embray mkoeppe dimpase

* no longer use WITH_PYTHON

* fix a bash syntax error


---

Comment by chapoton created at 2020-10-24 07:58:26

Changing status from new to needs_review.


---

Comment by chapoton created at 2020-10-24 07:58:26

New commits:


---

Comment by chapoton created at 2020-10-24 12:25:26

Changing keywords from "" to "docker, ContinuousIntegration".


---

Comment by dimpase created at 2020-10-26 07:39:23

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2020-10-26 07:39:23

let us see if it makes a difference in CI


---

Comment by chapoton created at 2020-10-26 08:12:08

Thanks Dima. The changes here are not making any serious difference. Our current breaking point is handled in #30736.


---

Comment by dimpase created at 2020-10-26 09:20:20

I've pushed the branch u/dimpase/ticket/30820, where I merged this ticket and #30736 - let's see if this works together.


---

Comment by dimpase created at 2020-10-26 09:23:11

But it seems that this ticket alone already does the trick, according to
https://gitlab.com/sagemath/dev/trac/-/pipelines/207109801


---

Comment by chapoton created at 2020-10-26 11:01:16

Replying to [comment:9 dimpase]:
> But it seems that this ticket alone already does the trick, according to
> https://gitlab.com/sagemath/dev/trac/-/pipelines/207109801

Indeed, that is good news! Although it warns about security issues.


---

Comment by dimpase created at 2020-10-26 13:12:59

I only see warnings from docker 

```
d11b78e03b7824a0bd0129b .ci/push-gitlab.sh sagemath
+ docker login -u gitlab-ci-token -p [MASKED] registry.gitlab.com
WARNING! Using --password via the CLI is insecure. Use --password-stdin.
WARNING! Your password will be stored unencrypted in /root/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store
Login Succeeded
```

so this is about a "credential helper" to be set up.

no idea what it is though. nothing to do with git, I think.


---

Comment by vbraun created at 2020-11-07 16:23:45

Resolution: fixed
