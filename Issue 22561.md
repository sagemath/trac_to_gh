# Issue 22561: numerical noise lseries_ell.py when built with clang

Issue created by migration from Trac.

Original creator: fbissey

Original creation time: 2017-04-13 01:58:07

CC:  dimpase

On OS X (and possibly freeBSD) when sage is built with `clang` we get the following failure

```
sage -t --long --warn-long 75.7 src/sage/schemes/elliptic_curves/lseries_ell.py
**********************************************************************
File "src/sage/schemes/elliptic_curves/lseries_ell.py", line 377, in sage.schemes.elliptic_curves.lseries_ell.Lseries_ell.twist_values
Failed example:
    vals  # abs tol 1e-17
Expected:
    [(-11, 1.47824342), (-8, 8.9590946e-18), (-7, 1.85307619), (-4, 2.45138938)]
Got:
    [(-11, 1.47824342), (-8, -1.59574955e-16), (-7, 1.85307619), (-4, 2.45138938)]
Tolerance exceeded in 1 of 8:
    8.9590946e-18 vs -1.59574955e-16, tolerance 2e-16 > 1e-17
```



---

Comment by fbissey created at 2017-04-13 02:17:19

Dima, if you see this on freeBSD, could you just correct the ticket description and give it a quick review.
----
New commits:


---

Comment by fbissey created at 2017-04-13 02:17:19

Changing status from new to needs_review.


---

Comment by dimpase created at 2017-04-13 06:38:49

OK.


---

Comment by dimpase created at 2017-04-13 06:38:49

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-04-14 19:56:21

Resolution: fixed
