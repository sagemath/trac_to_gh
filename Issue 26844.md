# Issue 26844: Section for composite maps

Issue created by migration from https://trac.sagemath.org/ticket/27081

Original creator: soehms

Original creation time: 2019-01-19 16:17:30

Keywords: section map

Currently, a `section` method for the class `FormalCompositeMap` is not implemented.
This ticket supplies a section in cases, where all factors of the composite map have `section`
implemented.

Examples which will be improved are:

```
sage: P.<x> = QQ[]
sage: P.coerce_map_from(ZZ).section() is None
True
sage: k = GF(47)
sage: R.<x> = PolynomialRing(k)
sage: R.coerce_map_from(ZZ).section() is None
True
```



---

Comment by soehms created at 2019-01-19 16:24:51

Changing status from new to needs_review.


---

Comment by soehms created at 2019-01-19 16:24:51

New commits:


---

Comment by embray created at 2019-03-25 10:56:15

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)


---

Comment by embray created at 2019-07-03 11:37:56

Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).


---

Comment by tscrim created at 2019-08-09 19:55:19

Sorry for letting my review of this take so long. Once these changes are done, then it is a positive review:


```diff
-        Compute a section map from sections of the factors of self if they have been implemented
+        Compute a section map from sections of the factors of
+        ``self`` if they have been implemented.
```


I would write this with short-circuiting and the reversal already built-in:

```python
        sections = []
        for m in reversed(self):
            try:
                sec = m.section()
            except TypeError:
                return None
            if sec is None:
                return None
            sections.append(m)

        from sage.categories.homset import Hom
        from sage.categories.sets_with_partial_maps import SetsWithPartialMaps
        H = Hom(self.codomain(), self.domain(), category=SetsWithPartialMaps())
        return FormalCompositeMap(H, sections)
```


Capitalize the beginning of the `.. NOTE::` in `polynomial_element.pyx`.


---

Comment by git created at 2019-08-11 08:23:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by soehms created at 2019-08-11 08:24:15

thanks, Travis! I'll be waiting for the patchbot!


---

Comment by tscrim created at 2019-08-11 17:59:57

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2019-08-11 17:59:57

Thank you.


---

Comment by vbraun created at 2019-08-12 19:44:26

Resolution: fixed
