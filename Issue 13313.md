# Issue 13313: Voronoi diagrams

archive/issues_013313.json:
```json
{
    "body": "Assignee: mhampton\n\nCC:  @vbraun @jplab tmonteil @pelegm\n\nKeywords: voronoi, delaunay, days84\n\na feature request:  Voronoi diagrams, see [https://groups.google.com/d/topic/sage-devel/JgqyInSu8S8/discussion](https://groups.google.com/d/topic/sage-devel/JgqyInSu8S8/discussion)\n\nA list of things that could be included in an implementation of Voronoi diagrams could be:\n\n* the graph structure of the Voronoi diagram and it's dual, the Delaunay triangulation\n* generalizations\n  * Voronoi diagrams with weights (possibly empty regions!)\n  * Voronoi diagrams with respect to other metrics (regions not necessary convex Polyhedra anymore)\n  * farthest points Voronoi diagrams\n* a closest pair method for the list of points/ nearest neighbor\n* a plotting routine in 2d and 3d\n\nPerhaps in the file sage/geometry/triangulation/point_configuration.py\n\nIssue created by migration from https://trac.sagemath.org/ticket/13517\n\n",
    "closed_at": "2017-04-05T19:37:48Z",
    "created_at": "2012-09-21T15:23:36Z",
    "labels": [
        "component: geometry",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Voronoi diagrams",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13313",
    "user": "https://github.com/mo271"
}
```
Assignee: mhampton

CC:  @vbraun @jplab tmonteil @pelegm

Keywords: voronoi, delaunay, days84

a feature request:  Voronoi diagrams, see [https://groups.google.com/d/topic/sage-devel/JgqyInSu8S8/discussion](https://groups.google.com/d/topic/sage-devel/JgqyInSu8S8/discussion)

A list of things that could be included in an implementation of Voronoi diagrams could be:

* the graph structure of the Voronoi diagram and it's dual, the Delaunay triangulation
* generalizations
  * Voronoi diagrams with weights (possibly empty regions!)
  * Voronoi diagrams with respect to other metrics (regions not necessary convex Polyhedra anymore)
  * farthest points Voronoi diagrams
* a closest pair method for the list of points/ nearest neighbor
* a plotting routine in 2d and 3d

Perhaps in the file sage/geometry/triangulation/point_configuration.py

Issue created by migration from https://trac.sagemath.org/ticket/13517





---

archive/issue_comments_163233.json:
```json
{
    "body": "a first try",
    "created_at": "2012-09-21T15:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163233",
    "user": "https://github.com/mo271"
}
```

a first try



---

archive/issue_comments_163234.json:
```json
{
    "body": "Attachment [trac_#13517_voronoi_first_try.patch](tarball://root/attachments/some-uuid/ticket13517/trac_#13517_voronoi_first_try.patch) by @mo271 created at 2012-09-21 15:56:59\n\nI added a patch just to see if I understood correctly how patching and the mercurial export etc works..",
    "created_at": "2012-09-21T15:56:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163234",
    "user": "https://github.com/mo271"
}
```

Attachment [trac_#13517_voronoi_first_try.patch](tarball://root/attachments/some-uuid/ticket13517/trac_#13517_voronoi_first_try.patch) by @mo271 created at 2012-09-21 15:56:59

I added a patch just to see if I understood correctly how patching and the mercurial export etc works..



---

archive/issue_comments_163235.json:
```json
{
    "body": "The patch is correct ;-)\n\nYou should format the examples in the docstring as in http://www.sagemath.org/doc/developer/conventions.html#docstring-markup-with-rest-and-sphinx, then they become tests that you can run with `sage -t sage/geometry/voroni_diagram.py`.\n\nIf you want to lay the path for more functionality you should create a class that holds the initial data (the points) and caches the polyhedral cells. Then other methods, for example a `plot()` method, can be easily added without having to pass lists of polyhedra around.\n\nAlso you don't have to hard-code floating-point doubles as the ring, you could allow exact rationals at the same time. This requires you to figure out what a good ring for the input points is, of course. You could just put them into a `PointConfiguration` and use\n\n```\nsage: pc = PointConfiguration([(1,2), (1,2/3)])\nsage: pc.base_ring()\nRational Field\nsage: pc = PointConfiguration([(1,2), (1,0.3)])\nsage: pc.base_ring()\nReal Field with 53 bits of precision\n```",
    "created_at": "2012-09-22T09:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163235",
    "user": "https://github.com/vbraun"
}
```

The patch is correct ;-)

You should format the examples in the docstring as in http://www.sagemath.org/doc/developer/conventions.html#docstring-markup-with-rest-and-sphinx, then they become tests that you can run with `sage -t sage/geometry/voroni_diagram.py`.

If you want to lay the path for more functionality you should create a class that holds the initial data (the points) and caches the polyhedral cells. Then other methods, for example a `plot()` method, can be easily added without having to pass lists of polyhedra around.

Also you don't have to hard-code floating-point doubles as the ring, you could allow exact rationals at the same time. This requires you to figure out what a good ring for the input points is, of course. You could just put them into a `PointConfiguration` and use

```
sage: pc = PointConfiguration([(1,2), (1,2/3)])
sage: pc.base_ring()
Rational Field
sage: pc = PointConfiguration([(1,2), (1,0.3)])
sage: pc.base_ring()
Real Field with 53 bits of precision
```



---

archive/issue_comments_163236.json:
```json
{
    "body": "Thanks for the hints, I will get cracking on this. \n\nReplying to [comment:2 vbraun]:\n> The patch is correct ;-)\n> \n> You should format the examples in the docstring as in http://www.sagemath.org/doc/developer/conventions.html#docstring-markup-with-rest-and-sphinx, then they become tests that you can run with `sage -t sage/geometry/voroni_diagram.py`.\n> \n> If you want to lay the path for more functionality you should create a class that holds the initial data (the points) and caches the polyhedral cells. Then other methods, for example a `plot()` method, can be easily added without having to pass lists of polyhedra around.\n> \n> Also you don't have to hard-code floating-point doubles as the ring, you could allow exact rationals at the same time. This requires you to figure out what a good ring for the input points is, of course. You could just put them into a `PointConfiguration` and use\n> \n> ```\n> sage: pc = PointConfiguration([(1,2), (1,2/3)])\n> sage: pc.base_ring()\n> Rational Field\n> sage: pc = PointConfiguration([(1,2), (1,0.3)])\n> sage: pc.base_ring()\n> Real Field with 53 bits of precision\n> ```",
    "created_at": "2012-09-24T10:42:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163236",
    "user": "https://github.com/mo271"
}
```

Thanks for the hints, I will get cracking on this. 

Replying to [comment:2 vbraun]:
> The patch is correct ;-)
> 
> You should format the examples in the docstring as in http://www.sagemath.org/doc/developer/conventions.html#docstring-markup-with-rest-and-sphinx, then they become tests that you can run with `sage -t sage/geometry/voroni_diagram.py`.
> 
> If you want to lay the path for more functionality you should create a class that holds the initial data (the points) and caches the polyhedral cells. Then other methods, for example a `plot()` method, can be easily added without having to pass lists of polyhedra around.
> 
> Also you don't have to hard-code floating-point doubles as the ring, you could allow exact rationals at the same time. This requires you to figure out what a good ring for the input points is, of course. You could just put them into a `PointConfiguration` and use
> 
> ```
> sage: pc = PointConfiguration([(1,2), (1,2/3)])
> sage: pc.base_ring()
> Rational Field
> sage: pc = PointConfiguration([(1,2), (1,0.3)])
> sage: pc.base_ring()
> Real Field with 53 bits of precision
> ```



---

archive/issue_comments_163237.json:
```json
{
    "body": "Attachment [trac_#13517_new_class_initial_version.patch](tarball://root/attachments/some-uuid/ticket13517/trac_#13517_new_class_initial_version.patch) by @mo271 created at 2012-10-16 12:22:15\n\nfirst working version",
    "created_at": "2012-10-16T12:22:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163237",
    "user": "https://github.com/mo271"
}
```

Attachment [trac_#13517_new_class_initial_version.patch](tarball://root/attachments/some-uuid/ticket13517/trac_#13517_new_class_initial_version.patch) by @mo271 created at 2012-10-16 12:22:15

first working version



---

archive/issue_events_037491.json:
```json
{
    "actor": "https://github.com/mo271",
    "created_at": "2012-10-16T12:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37491"
}
```



---

archive/issue_comments_163238.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-10-16T12:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163238",
    "user": "https://github.com/mo271"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_163239.json:
```json
{
    "body": "I added a first version, which provides the basic functionality",
    "created_at": "2012-10-16T12:25:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163239",
    "user": "https://github.com/mo271"
}
```

I added a first version, which provides the basic functionality



---

archive/issue_comments_163240.json:
```json
{
    "body": "Thanks for the work, i think it is a nice addition.\n\nA couple of comments though.\n\n-I don't understand why your patch adds the file voronoi_diagram.py.out. Is that made on purpose or is it a mistake?\n\n-Unless i am missing something, i think that allowing exact fields (like rationals, or maybe even algebraic reals) should work just the same way. There is really no need to hard code RDF, it would be better to use the same field as the given entry. This should be a really trivial change: just define a self._field as self._points.base_ring(), and then replace RDF by self._field in the rest of your code.",
    "created_at": "2012-11-13T13:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163240",
    "user": "https://github.com/miguelmarco"
}
```

Thanks for the work, i think it is a nice addition.

A couple of comments though.

-I don't understand why your patch adds the file voronoi_diagram.py.out. Is that made on purpose or is it a mistake?

-Unless i am missing something, i think that allowing exact fields (like rationals, or maybe even algebraic reals) should work just the same way. There is really no need to hard code RDF, it would be better to use the same field as the given entry. This should be a really trivial change: just define a self._field as self._points.base_ring(), and then replace RDF by self._field in the rest of your code.



---

archive/issue_comments_163241.json:
```json
{
    "body": "reviewed",
    "created_at": "2012-11-22T18:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163241",
    "user": "https://github.com/mo271"
}
```

reviewed



---

archive/issue_comments_163242.json:
```json
{
    "body": "Attachment [trac_#13517_new_class_reviewed.patch](tarball://root/attachments/some-uuid/ticket13517/trac_#13517_new_class_reviewed.patch) by @mo271 created at 2012-11-22 18:20:27\n\nthanks for looking at the file.\n\n* the file voronoi_diagram.py.out was indeed a mistake, the new patch does not include that file.\n\n* I introduced a self._base_ring variable to handle QQ and RDF depending on input, as you suggested. (Now if the base_ring of the PointConfiguration is a subring of the rationals, it uses QQ, otherwise RDF)",
    "created_at": "2012-11-22T18:20:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163242",
    "user": "https://github.com/mo271"
}
```

Attachment [trac_#13517_new_class_reviewed.patch](tarball://root/attachments/some-uuid/ticket13517/trac_#13517_new_class_reviewed.patch) by @mo271 created at 2012-11-22 18:20:27

thanks for looking at the file.

* the file voronoi_diagram.py.out was indeed a mistake, the new patch does not include that file.

* I introduced a self._base_ring variable to handle QQ and RDF depending on input, as you suggested. (Now if the base_ring of the PointConfiguration is a subring of the rationals, it uses QQ, otherwise RDF)



---

archive/issue_events_037492.json:
```json
{
    "actor": "https://github.com/mo271",
    "created_at": "2012-11-29T11:10:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37492"
}
```



---

archive/issue_events_037493.json:
```json
{
    "actor": "https://github.com/mo271",
    "created_at": "2012-11-29T11:10:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37493"
}
```



---

archive/issue_comments_163243.json:
```json
{
    "body": "Would it be a lot of trouble to introduce also the posibility of using algebraic extensions of QQ as base ring? Arithmetic in those cases may be slow, but i can imagine some situations where it would be important to know the vertices of the diagram in an exact form.",
    "created_at": "2012-11-29T11:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163243",
    "user": "https://github.com/miguelmarco"
}
```

Would it be a lot of trouble to introduce also the posibility of using algebraic extensions of QQ as base ring? Arithmetic in those cases may be slow, but i can imagine some situations where it would be important to know the vertices of the diagram in an exact form.



---

archive/issue_comments_163244.json:
```json
{
    "body": "Replying to [comment:9 mmarco]:\n> Would it be a lot of trouble to introduce also the possibility of using algebraic extensions of QQ as base ring? Arithmetic in those cases may be slow, but i can imagine some situations where it would be important to know the vertices of the diagram in an exact form.\n\n\nI don't see how one could easily adapt the algorithm for algebraic extensions of QQ for the following reason: \n The Polyhedron-method only works with QQ and RDF. \n\nIf you really want support for extensions of QQ, either the algorithm of finding the Voronoi-diagram has to be changed, or one has adapt the Polyhedron method. Both are nontrivial tasks, which might make a good upgrade later on.",
    "created_at": "2012-11-29T12:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163244",
    "user": "https://github.com/mo271"
}
```

Replying to [comment:9 mmarco]:
> Would it be a lot of trouble to introduce also the possibility of using algebraic extensions of QQ as base ring? Arithmetic in those cases may be slow, but i can imagine some situations where it would be important to know the vertices of the diagram in an exact form.


I don't see how one could easily adapt the algorithm for algebraic extensions of QQ for the following reason: 
 The Polyhedron-method only works with QQ and RDF. 

If you really want support for extensions of QQ, either the algorithm of finding the Voronoi-diagram has to be changed, or one has adapt the Polyhedron method. Both are nontrivial tasks, which might make a good upgrade later on.



---

archive/issue_comments_163245.json:
```json
{
    "body": "See also\n* https://sage.math.clemson.edu:34567/home/pub/388/ which seems to have an implementation of Voronoi diagrams\n* http://pypi.python.org/pypi/voropy/0.0.1\n* http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.Delaunay.html\n* We include [qhull](http://www.qhull.org/) somewhere, which is also part of an optional package in R\n* Some information at various posts at [this blog](http://blancosilva.wordpress.com/2010/12/15/image-processing-with-numpy-scipy-and-matplotlibs-in-sage/), though I don't know how detailed they are\nAnd so forth.  And Delaunay triangulations exist in matplotlib too, I think... would it be faster to use that, especially since [they fixed](https://github.com/matplotlib/matplotlib/pull/936) the problem we had in #13167?",
    "created_at": "2013-01-05T01:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163245",
    "user": "https://github.com/kcrisman"
}
```

See also
* https://sage.math.clemson.edu:34567/home/pub/388/ which seems to have an implementation of Voronoi diagrams
* http://pypi.python.org/pypi/voropy/0.0.1
* http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.Delaunay.html
* We include [qhull](http://www.qhull.org/) somewhere, which is also part of an optional package in R
* Some information at various posts at [this blog](http://blancosilva.wordpress.com/2010/12/15/image-processing-with-numpy-scipy-and-matplotlibs-in-sage/), though I don't know how detailed they are
And so forth.  And Delaunay triangulations exist in matplotlib too, I think... would it be faster to use that, especially since [they fixed](https://github.com/matplotlib/matplotlib/pull/936) the problem we had in #13167?



---

archive/issue_comments_163246.json:
```json
{
    "body": "Hellooooooooooooo !!\n\nJust thought I would add a link toward d3.js here. It's a javascript library that can be used to plot a lot of things, and there's an example of a Voronoi Diagram on its website :\n\nhttp://bl.ocks.org/mbostock/4060366\n\nI wrote a patch (#14953) that uses this library to draw graphs `:-)`\n\nNathann",
    "created_at": "2013-08-07T13:59:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163246",
    "user": "https://github.com/nathanncohen"
}
```

Hellooooooooooooo !!

Just thought I would add a link toward d3.js here. It's a javascript library that can be used to plot a lot of things, and there's an example of a Voronoi Diagram on its website :

http://bl.ocks.org/mbostock/4060366

I wrote a patch (#14953) that uses this library to draw graphs `:-)`

Nathann



---

archive/issue_events_037494.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37494"
}
```



---

archive/issue_events_037495.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37495"
}
```



---

archive/issue_events_037496.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37496"
}
```



---

archive/issue_events_037497.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37497"
}
```



---

archive/issue_events_037498.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37498"
}
```



---

archive/issue_events_037499.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37499"
}
```



---

archive/issue_events_037500.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37500"
}
```



---

archive/issue_events_037501.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37501"
}
```



---

archive/issue_comments_163247.json:
```json
{
    "body": "Hi Moritz,\n\nWhat is the status of the patch? Was it migrated to the git format at all?\n\nJP",
    "created_at": "2015-06-09T08:54:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163247",
    "user": "https://github.com/jplab"
}
```

Hi Moritz,

What is the status of the patch? Was it migrated to the git format at all?

JP



---

archive/issue_events_037502.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2015-06-09T08:54:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37502"
}
```



---

archive/issue_events_037503.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2015-06-09T08:54:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37503"
}
```



---

archive/issue_comments_163248.json:
```json
{
    "body": "Dear JP,\n\n I haven't touched the file for a long time, I don't think it ever has been migrated.",
    "created_at": "2015-06-14T15:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163248",
    "user": "https://github.com/mo271"
}
```

Dear JP,

 I haven't touched the file for a long time, I don't think it ever has been migrated.



---

archive/issue_comments_163249.json:
```json
{
    "body": "needs a git branch",
    "created_at": "2015-08-04T07:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163249",
    "user": "https://github.com/fchapoton"
}
```

needs a git branch



---

archive/issue_comments_163250.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-04T07:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163250",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_163251.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-12-12T12:57:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163251",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_163252.json:
```json
{
    "body": "I adressed the comments made by mmarco: The class now handles all the input (QQ, RDF and AA) that polyhedron can take as input.\n\nAs for the comments by kcrisman and ncohen: There are certainly much faster methods to calculate the voronoi diagram and the delaunay triangulation; I just wanted to put forward a first working version, that is conceptually clear and can be improved later. \n\nTwo things that could easily be added are plotting in the 3d case and adding a function to the point-configuration class giving back the voronoi-diagram.\n\n---\nNew commits:",
    "created_at": "2016-12-12T12:57:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163252",
    "user": "https://github.com/mo271"
}
```

I adressed the comments made by mmarco: The class now handles all the input (QQ, RDF and AA) that polyhedron can take as input.

As for the comments by kcrisman and ncohen: There are certainly much faster methods to calculate the voronoi diagram and the delaunay triangulation; I just wanted to put forward a first working version, that is conceptually clear and can be improved later. 

Two things that could easily be added are plotting in the 3d case and adding a function to the point-configuration class giving back the voronoi-diagram.

---
New commits:



---

archive/issue_comments_163253.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-12-12T20:35:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163253",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_163254.json:
```json
{
    "body": "rebased in order to merge cleanly with develop",
    "created_at": "2016-12-12T20:37:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163254",
    "user": "https://github.com/mo271"
}
```

rebased in order to merge cleanly with develop



---

archive/issue_comments_163255.json:
```json
{
    "body": "one failing doctest, probably you should sort the result",
    "created_at": "2016-12-13T10:54:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163255",
    "user": "https://github.com/fchapoton"
}
```

one failing doctest, probably you should sort the result



---

archive/issue_comments_163256.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-12-13T17:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163256",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163257.json:
```json
{
    "body": "thanks for looking at it, chapoton; I tried to settle the issue, will do more testing (and add more doctests) later\n\n---\nNew commits:",
    "created_at": "2016-12-13T17:11:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163257",
    "user": "https://github.com/mo271"
}
```

thanks for looking at it, chapoton; I tried to settle the issue, will do more testing (and add more doctests) later

---
New commits:



---

archive/issue_comments_163258.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-03T12:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163258",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163259.json:
```json
{
    "body": "I would really be happy if someone could review this basic version of implementing Voronoi-diagrams. Once this is done I would like to \n- make the calculation of the voronoi diagram faster\n- implement 3d-plotting (this will be somewhat easy)\n- make sure that one can take elements from Number Fields other than AA as input\n- allow weights",
    "created_at": "2017-01-03T12:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163259",
    "user": "https://github.com/mo271"
}
```

I would really be happy if someone could review this basic version of implementing Voronoi-diagrams. Once this is done I would like to 
- make the calculation of the voronoi diagram faster
- implement 3d-plotting (this will be somewhat easy)
- make sure that one can take elements from Number Fields other than AA as input
- allow weights



---

archive/issue_comments_163260.json:
```json
{
    "body": "I made a cleanup of the code and doc, look at the diff to learn what you should have done.\n\n---\nNew commits:",
    "created_at": "2017-01-03T15:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163260",
    "user": "https://github.com/fchapoton"
}
```

I made a cleanup of the code and doc, look at the diff to learn what you should have done.

---
New commits:



---

archive/issue_comments_163261.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-03T15:18:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163261",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163262.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-03T17:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163262",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163263.json:
```json
{
    "body": "Thank you very much, Fr\u00e9d\u00e9ric, for cleaning up the code! I read carefully the changes and learned a lot!",
    "created_at": "2017-01-03T17:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163263",
    "user": "https://github.com/mo271"
}
```

Thank you very much, Frédéric, for cleaning up the code! I read carefully the changes and learned a lot!



---

archive/issue_comments_163264.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-03T17:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163264",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163265.json:
```json
{
    "body": "Just a question: why would the colours be necessarily random? It would probably be best to leave that optional.  I would be happy to use the `plot` method with a list/map of colours for the vertices (that is, for the cells dominated by the vertices).  This is, in fact, the main use of such diagrams in percolation theory (in which it is customary to colour the cells blue and red).",
    "created_at": "2017-02-03T09:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163265",
    "user": "https://github.com/pelegm"
}
```

Just a question: why would the colours be necessarily random? It would probably be best to leave that optional.  I would be happy to use the `plot` method with a list/map of colours for the vertices (that is, for the cells dominated by the vertices).  This is, in fact, the main use of such diagrams in percolation theory (in which it is customary to colour the cells blue and red).



---

archive/issue_comments_163266.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-02-10T20:48:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163266",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_163267.json:
```json
{
    "body": "one failing doctest, see patchbot report",
    "created_at": "2017-02-10T20:48:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163267",
    "user": "https://github.com/fchapoton"
}
```

one failing doctest, see patchbot report



---

archive/issue_events_037504.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-02-10T20:48:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37504"
}
```



---

archive/issue_events_037505.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-02-10T20:48:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37505"
}
```



---

archive/issue_comments_163268.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-02-21T12:18:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163269.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-02-21T12:27:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163269",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_163270.json:
```json
{
    "body": "I fixed the failing doctest (which was due to a change here: #22132)\n\nAlso I addressed the comment by pelegm and now provide an extra \"cell_colors\" option for plotting. However, plotting can (and should) be improved somewhat, but this should be a seperate ticket. Since the routine provides the polyhedra that are the cells, one can easily adapt the favorite style for plotting (possible with wireframe etc.)\n\nI somehow messed up the git history, a bit, but the patch should now work..",
    "created_at": "2017-02-21T12:27:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163270",
    "user": "https://github.com/mo271"
}
```

I fixed the failing doctest (which was due to a change here: #22132)

Also I addressed the comment by pelegm and now provide an extra "cell_colors" option for plotting. However, plotting can (and should) be improved somewhat, but this should be a seperate ticket. Since the routine provides the polyhedra that are the cells, one can easily adapt the favorite style for plotting (possible with wireframe etc.)

I somehow messed up the git history, a bit, but the patch should now work..



---

archive/issue_comments_163271.json:
```json
{
    "body": "All tests pass on 7.6.b4.\n\nRunning:\n\nsage -t --warn-long src/sage/geometry/voronoi_diagram.py\n\nThe test on line 49:\n\nDV = voronoi_diagram([[AA(c) for c in v] for v in polytopes.dodecahedron().vertices_list()]); DV\n\nwas flagged as long on my machine; it took around 4-5 sec. in average, but if you tell me that it is not flagged on a newer machine, then I guess it is okay.\n\nI would put the \"TODOs\" in the description of the ticket inside the file in the doc, so that it is not only to be found here. (Similar as EXAMPLES and TESTS).\n\nIn the examples for plot, the backslash produces a series of spaces to align the newlines when typing .plot? . I would remove that unless it is desired...\n\nOtherwise, it looks good to me.",
    "created_at": "2017-02-21T14:39:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163271",
    "user": "https://github.com/jplab"
}
```

All tests pass on 7.6.b4.

Running:

sage -t --warn-long src/sage/geometry/voronoi_diagram.py

The test on line 49:

DV = voronoi_diagram([[AA(c) for c in v] for v in polytopes.dodecahedron().vertices_list()]); DV

was flagged as long on my machine; it took around 4-5 sec. in average, but if you tell me that it is not flagged on a newer machine, then I guess it is okay.

I would put the "TODOs" in the description of the ticket inside the file in the doc, so that it is not only to be found here. (Similar as EXAMPLES and TESTS).

In the examples for plot, the backslash produces a series of spaces to align the newlines when typing .plot? . I would remove that unless it is desired...

Otherwise, it looks good to me.



---

archive/issue_comments_163272.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-02-21T14:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163272",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_163273.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-02-22T12:06:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163273",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163274.json:
```json
{
    "body": "Thanks for taking a look at it, JP!\n\nI have \n- made the long doctest faster\n- removed the slashes\n- added a list of TODOs",
    "created_at": "2017-02-22T12:20:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163274",
    "user": "https://github.com/mo271"
}
```

Thanks for taking a look at it, JP!

I have 
- made the long doctest faster
- removed the slashes
- added a list of TODOs



---

archive/issue_comments_163275.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-02-22T12:20:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163275",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_163276.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-02-22T12:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163276",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163277.json:
```json
{
    "body": "Changing keywords from \"voronoi delaunay\" to \"voronoi, delaunay, days84\".",
    "created_at": "2017-03-01T11:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163277",
    "user": "https://github.com/jplab"
}
```

Changing keywords from "voronoi delaunay" to "voronoi, delaunay, days84".



---

archive/issue_comments_163278.json:
```json
{
    "body": "Hi Moritz,\n\nCould you change the description of the ticket also to include the TODO?\n\nThere is a second \":\" missing after the examples of the class. Otherwise, it looks okay.",
    "created_at": "2017-03-05T11:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163278",
    "user": "https://github.com/jplab"
}
```

Hi Moritz,

Could you change the description of the ticket also to include the TODO?

There is a second ":" missing after the examples of the class. Otherwise, it looks okay.



---

archive/issue_comments_163279.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-05T14:06:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163279",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163280.json:
```json
{
    "body": "TODOs are included and the docstring is improved",
    "created_at": "2017-03-05T14:09:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163280",
    "user": "https://github.com/mo271"
}
```

TODOs are included and the docstring is improved



---

archive/issue_comments_163281.json:
```json
{
    "body": "All tests pass on 7.6.beta6.\n\nThe doc does not build: There is a double colon on line 16.\n\nOtherwise, it looks good to me. Once you fixed it, you can put a positive review on my behalf.",
    "created_at": "2017-03-06T00:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163281",
    "user": "https://github.com/jplab"
}
```

All tests pass on 7.6.beta6.

The doc does not build: There is a double colon on line 16.

Otherwise, it looks good to me. Once you fixed it, you can put a positive review on my behalf.



---

archive/issue_comments_163282.json:
```json
{
    "body": "Dear Moritz,\n\nThe doc folder geometry is renamed in #22496. I guess it would make sense to make a dependancy on this ticket to avoid to have to add it and then have to move it.\n\nWhat do you think?",
    "created_at": "2017-03-06T09:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163282",
    "user": "https://github.com/jplab"
}
```

Dear Moritz,

The doc folder geometry is renamed in #22496. I guess it would make sense to make a dependancy on this ticket to avoid to have to add it and then have to move it.

What do you think?



---

archive/issue_comments_163283.json:
```json
{
    "body": "Sage classes must be caml case `voronoi_diagram -> VoronoiDiagram`.",
    "created_at": "2017-03-06T09:03:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163283",
    "user": "https://github.com/videlec"
}
```

Sage classes must be caml case `voronoi_diagram -> VoronoiDiagram`.



---

archive/issue_comments_163284.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-06T09:44:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163284",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163285.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-06T09:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163285",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163286.json:
```json
{
    "body": "Thanks for the comments, JP and Vincent! I adressed them; should be better now.",
    "created_at": "2017-03-06T09:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163286",
    "user": "https://github.com/mo271"
}
```

Thanks for the comments, JP and Vincent! I adressed them; should be better now.



---

archive/issue_comments_163287.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-06T10:13:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163287",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163288.json:
```json
{
    "body": "So more comments:\n\n- The reference should be put in the file `SAGE_ROOT/src/doc/en/reference/references/index.rst`\n- In .plot() there are 2 lines after the `INPUT`\n- When there is an optional parameter, the syntax should be something like\n\n  ` - p -- (default: 2) a positive prime integer`\n\nIn order to scan through the python conventions, you can use a pep8 plugin to scan your file for such things",
    "created_at": "2017-03-06T10:45:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163288",
    "user": "https://github.com/jplab"
}
```

So more comments:

- The reference should be put in the file `SAGE_ROOT/src/doc/en/reference/references/index.rst`
- In .plot() there are 2 lines after the `INPUT`
- When there is an optional parameter, the syntax should be something like

  ` - p -- (default: 2) a positive prime integer`

In order to scan through the python conventions, you can use a pep8 plugin to scan your file for such things



---

archive/issue_comments_163289.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-03-06T10:45:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163289",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_163290.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-06T11:27:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163290",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163291.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-03-06T11:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163291",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_163292.json:
```json
{
    "body": "Thank you JP! I used pep8 to improve some more little things..",
    "created_at": "2017-03-06T11:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163292",
    "user": "https://github.com/mo271"
}
```

Thank you JP! I used pep8 to improve some more little things..



---

archive/issue_comments_163293.json:
```json
{
    "body": "Salut Moritz,\n\nSome last comments (hopefully):\n\n- Spacing after commas in the examples will make reading easier\n- Input of plot: there is an \"8\" at the end of a line\n\nThen let's see if the doc builds and it could be merged after #22496.",
    "created_at": "2017-03-06T15:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163293",
    "user": "https://github.com/jplab"
}
```

Salut Moritz,

Some last comments (hopefully):

- Spacing after commas in the examples will make reading easier
- Input of plot: there is an "8" at the end of a line

Then let's see if the doc builds and it could be merged after #22496.



---

archive/issue_comments_163294.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-06T15:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163294",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163295.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-07T01:16:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163295",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163296.json:
```json
{
    "body": "I remove the dependency, because it doesn't build  without errors.",
    "created_at": "2017-03-07T01:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163296",
    "user": "https://github.com/mo271"
}
```

I remove the dependency, because it doesn't build  without errors.



---

archive/issue_comments_163297.json:
```json
{
    "body": "Hi Moritz,\n\nWell, all right, then the ticket #22496 will depend on this one. That's why I was asking if it was okay to put the dependency on this one.\n\nAnyhow, that's not important.",
    "created_at": "2017-03-07T07:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163297",
    "user": "https://github.com/jplab"
}
```

Hi Moritz,

Well, all right, then the ticket #22496 will depend on this one. That's why I was asking if it was okay to put the dependency on this one.

Anyhow, that's not important.



---

archive/issue_comments_163298.json:
```json
{
    "body": "There is no doc errors anymore. Looks good!",
    "created_at": "2017-03-07T19:13:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163298",
    "user": "https://github.com/jplab"
}
```

There is no doc errors anymore. Looks good!



---

archive/issue_comments_163299.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-03-07T19:13:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163299",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_163300.json:
```json
{
    "body": "Merge conflict, wait for next beta",
    "created_at": "2017-03-08T19:29:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163300",
    "user": "https://github.com/vbraun"
}
```

Merge conflict, wait for next beta



---

archive/issue_comments_163301.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-03-08T19:29:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163301",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_163302.json:
```json
{
    "body": "There is going to be a conflict with #22496. I guess rebasing will just do the thing. Let's wait some time that the \"rc\" versions pass...",
    "created_at": "2017-03-14T09:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163302",
    "user": "https://github.com/jplab"
}
```

There is going to be a conflict with #22496. I guess rebasing will just do the thing. Let's wait some time that the "rc" versions pass...



---

archive/issue_comments_163303.json:
```json
{
    "body": "Dear Moritz,\n\nI guess you can now rebase and once the bot gives the green light, I'll give positive review again.",
    "created_at": "2017-03-27T09:14:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163303",
    "user": "https://github.com/jplab"
}
```

Dear Moritz,

I guess you can now rebase and once the bot gives the green light, I'll give positive review again.



---

archive/issue_events_037506.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2017-03-27T09:14:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37506"
}
```



---

archive/issue_events_037507.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2017-03-27T09:14:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37507"
}
```



---

archive/issue_comments_163304.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-03-28T08:24:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163304",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_163305.json:
```json
{
    "body": "Ok, just rebasing didn't qute work, I did another merge (and squashed). In any case I hope the bot doesn't complain now. \n\nI added it to the misc section in the discrete geometry reference. \n\nLet's see what the bot thinks.",
    "created_at": "2017-03-28T08:27:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163305",
    "user": "https://github.com/mo271"
}
```

Ok, just rebasing didn't qute work, I did another merge (and squashed). In any case I hope the bot doesn't complain now. 

I added it to the misc section in the discrete geometry reference. 

Let's see what the bot thinks.



---

archive/issue_comments_163306.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-03-29T11:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163306",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_163307.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-03-30T08:09:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163307",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_163308.json:
```json
{
    "body": "Hi Moritz,\n\nThere is a doctest failure:\n\n```\n\nFile \"voronoi_diagram.py\", line 197, in sage.geometry.voronoi_diagram.VoronoiDiagram.regions\nFailed example:\n    V = VoronoiDiagram([[1, 3, .3], [2, -2, 1], [-1, 2, -.1]]); V.regions()\nExpected:\n    {P(1.00000000000000, 3.00000000000000, 0.300000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line,\n    P(2.00000000000000, -2.00000000000000, 1.00000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line,\n    P(-1.00000000000000, 2.00000000000000, -0.100000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line}\nGot:\n    {P(1.00000000000000, 3.00000000000000, 0.300000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line,\n     P(-1.00000000000000, 2.00000000000000, -0.100000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line,\n     P(2.00000000000000, -2.00000000000000, 1.00000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line}\n**********************************************************************\n\n```\n\nI guess the output should fix the order. Or change the doctest.",
    "created_at": "2017-03-30T08:09:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163308",
    "user": "https://github.com/jplab"
}
```

Hi Moritz,

There is a doctest failure:

```

File "voronoi_diagram.py", line 197, in sage.geometry.voronoi_diagram.VoronoiDiagram.regions
Failed example:
    V = VoronoiDiagram([[1, 3, .3], [2, -2, 1], [-1, 2, -.1]]); V.regions()
Expected:
    {P(1.00000000000000, 3.00000000000000, 0.300000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line,
    P(2.00000000000000, -2.00000000000000, 1.00000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line,
    P(-1.00000000000000, 2.00000000000000, -0.100000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line}
Got:
    {P(1.00000000000000, 3.00000000000000, 0.300000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line,
     P(-1.00000000000000, 2.00000000000000, -0.100000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line,
     P(2.00000000000000, -2.00000000000000, 1.00000000000000): A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line}
**********************************************************************

```

I guess the output should fix the order. Or change the doctest.



---

archive/issue_comments_163309.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-30T08:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163309",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163310.json:
```json
{
    "body": "It is better if you use:\n\n```\n            sage: V.regions() == {P[0]: Polyhedron(base_ring=RDF, lines=[(-RDF(0.375), RDF(0.13888888890000001), RDF(1.5277777779999999))],\n            ....:                                                 rays=[(RDF(9), -RDF(1), -RDF(20)), (RDF(4.5), RDF(1), -RDF(25))],\n            ....:                                                 vertices=[(-RDF(1.1074999999999999), RDF(1.149444444), RDF(9.0138888890000004))]),\n            ....:                 P[1]: Polyhedron(base_ring=RDF, lines=[(-RDF(0.375), RDF(0.13888888890000001), RDF(1.5277777779999999))],\n            ....:                                                 rays=[(RDF(9), -RDF(1), -RDF(20)), (-RDF(2.25), -RDF(1), RDF(2.5))],\n            ....:                                                 vertices=[(-RDF(1.1074999999999999), RDF(1.149444444), RDF(9.0138888890000004))]),\n            ....:                 P[2]: Polyhedron(base_ring=RDF, lines=[(-RDF(0.375), RDF(0.13888888890000001), RDF(1.5277777779999999))],\n            ....:                                                 rays=[(RDF(4.5), RDF(1), -RDF(25)), (-RDF(2.25), -RDF(1), RDF(2.5))],\n            ....:                                                 vertices=[(-RDF(1.1074999999999999), RDF(1.149444444), RDF(9.0138888890000004))])}\n```",
    "created_at": "2017-03-30T15:18:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163310",
    "user": "https://github.com/tscrim"
}
```

It is better if you use:

```
            sage: V.regions() == {P[0]: Polyhedron(base_ring=RDF, lines=[(-RDF(0.375), RDF(0.13888888890000001), RDF(1.5277777779999999))],
            ....:                                                 rays=[(RDF(9), -RDF(1), -RDF(20)), (RDF(4.5), RDF(1), -RDF(25))],
            ....:                                                 vertices=[(-RDF(1.1074999999999999), RDF(1.149444444), RDF(9.0138888890000004))]),
            ....:                 P[1]: Polyhedron(base_ring=RDF, lines=[(-RDF(0.375), RDF(0.13888888890000001), RDF(1.5277777779999999))],
            ....:                                                 rays=[(RDF(9), -RDF(1), -RDF(20)), (-RDF(2.25), -RDF(1), RDF(2.5))],
            ....:                                                 vertices=[(-RDF(1.1074999999999999), RDF(1.149444444), RDF(9.0138888890000004))]),
            ....:                 P[2]: Polyhedron(base_ring=RDF, lines=[(-RDF(0.375), RDF(0.13888888890000001), RDF(1.5277777779999999))],
            ....:                                                 rays=[(RDF(4.5), RDF(1), -RDF(25)), (-RDF(2.25), -RDF(1), RDF(2.5))],
            ....:                                                 vertices=[(-RDF(1.1074999999999999), RDF(1.149444444), RDF(9.0138888890000004))])}
```



---

archive/issue_comments_163311.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-30T17:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163311",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_163312.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-03-30T17:50:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163312",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_163313.json:
```json
{
    "body": "Thanks for the tip, Travis! I changed it accordingly. \n\nI hope all is well now.",
    "created_at": "2017-03-30T17:50:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163313",
    "user": "https://github.com/mo271"
}
```

Thanks for the tip, Travis! I changed it accordingly. 

I hope all is well now.



---

archive/issue_comments_163314.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-03-31T15:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163314",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_163315.json:
```json
{
    "body": "Dear JP, I will set it on positive review on your behalf, as soon as the bot does not complain about the white space changes",
    "created_at": "2017-03-31T15:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163315",
    "user": "https://github.com/mo271"
}
```

Dear JP, I will set it on positive review on your behalf, as soon as the bot does not complain about the white space changes



---

archive/issue_comments_163316.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-03-31T15:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163316",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_163317.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-04-02T06:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163317",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_037508.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-05T19:37:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13313#event-37508"
}
```



---

archive/issue_comments_163318.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-04-05T19:37:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13313",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13313#issuecomment-163318",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
