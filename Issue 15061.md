# Issue 15061: Two versions of QQ(sqrt{-1}) upon startup

Issue created by migration from Trac.

Original creator: nbruin

Original creation time: 2013-10-16 21:03:49

We have two copies upon startup:

```
sage: import gc
sage: Ks=[K for K in gc.get_objects() if
....: isinstance(K,sage.rings.number_field.number_field.NumberField_quadratic)]
sage: [latex(k.0) for k in Ks]
[i, \sqrt{-1}]
```

I suspect they are coming from
`symbolic/pynac.pyx:2046 (in init_pynac_I)`

```
    K = QuadraticField(-1, 'I', embedding=CC.gen(), latex_name='i')
```

and from `rings/qqbar.py:7699 (in _init_qqbar)`

```
    QQbar_I_nf = QuadraticField(-1, 'I', embedding=CC.gen())
```

Should we perhaps both give them the same latex name so that these can be the same field?


---

Comment by nbruin created at 2013-10-17 00:49:04

A preliminary test shows that changing rings/qqbar.py:7699 to

```
QQbar_I_nf = QuadraticField(-1, 'I', embedding=CC.gen(), latex_name='i')
```

works fine and ensures that there's only one field created upon startup.
Note that:

```
sage: latex(QQbar.0)
\text{\texttt{1*I}}
```

so it looks like the latex printing will not be affected by this change either.


---

Comment by rws created at 2017-09-11 07:40:24

Changing component from misc to interfaces.


---

Comment by chapoton created at 2017-09-11 08:24:11

done
----
New commits:


---

Comment by chapoton created at 2017-09-11 08:24:11

Changing status from new to needs_review.


---

Comment by git created at 2017-09-11 10:42:09

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by rws created at 2017-09-11 13:13:47

Doctest fails in qqbar.py which are logical. You can set to positive after adaptation.


---

Comment by git created at 2017-09-11 14:48:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-09-11 14:49:59

Thanks. This introduces a non-uniform behaviour for the latex of QQbar elements. Sometimes "i" will still be displayed as sqrt{-1}. I propose to keep that issue for another ticket. Objection ?


---

Comment by rws created at 2017-09-11 15:06:28

Replying to [comment:10 chapoton]:
> Objection ?

None. Please go ahead.


---

Comment by chapoton created at 2017-09-11 15:31:17

then let it be positive


---

Comment by chapoton created at 2017-09-11 15:31:17

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-09-24 13:03:40

Resolution: fixed
