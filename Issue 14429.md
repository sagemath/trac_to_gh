# Issue 14429: bad behavior of long outputs in notebook

Issue created by migration from Trac.

Original creator: nborie

Original creation time: 2013-05-23 14:44:21

Assignee: jason, mpatel, was, kini

CC:  jdemeyer chapoton

Keywords: output, long

This bug was discovered by RÃ©mi Maurice and I did double check this bad behavior on my own machine...

When using the Sage notebook. here is the way to reproduce the bug:

1 - Produce a too long output in a cell 
example:

```
print "Version 1"
for i in range(1000):
    print "too long output"
```


2 - Visualize the full_output

3 - Erase the content of the cell (if you want...), restart the worksheet (if you want...)

4 - produce another code in the *SAME* cell that have a too long output
example:

```
print "Version 2"
for i in range(1000):
    print "foo bar pouet"
```


5 - Click to visualize the full_output

At the end, you will only see the first too long output, any new too long computation in the same cell is ignored...

Sorry for my English, feel free to update the description and double check this bug (the two machine were using Sage 5.9).


---

Comment by chrisjamesberg created at 2013-06-14 11:04:53

I can verify that this bug still exists in sage 5.10.rc1. Using a mac, OS X 10.8.


---

Comment by zabrocki created at 2013-11-27 14:38:23

I've thought of this as a "known problem" with the notebook for a long time and I hated that it was something that seems like it wouldn't be fixed soon.  I just found that by reloading the page (e.g. command-R on Mac in Firefox, Chrome and Safari) that the full_output.txt is updated to the current version.  This isn't ideal since sometimes you re-use a cell and you don't notice that the output isn't what you want it to be.

I found a hack however that might solve the problem.

Right now the text

```
WARNING: Output truncated!  
full_output.txt
```


Links to an address like `http://localhost:8080/home/admin/187/cells/114/full_output.txt`.  If instead it links to an address like `http://localhost:8080/home/admin/187/cells/114/full_output.txt?blah` where blah is a random bit of text that is generated whenever the cell is recalculated then the browser generally reloads the page correctly.

Incidentally, this same bug is reported in #13648 and #13585


---

Comment by kcrisman created at 2014-09-17 02:52:45

Changing type from defect to enhancement.


---

Comment by kcrisman created at 2014-09-17 02:52:45

This is an actual useful suggestion - otherwise we just say it's more of a browser issue than Sage issue.


---

Comment by kcrisman created at 2014-09-17 02:54:51

Upstream!  https://github.com/sagemath/sagenb/issues/224


---

Comment by kcrisman created at 2014-09-17 13:29:25

Alternately, jdemeyer has the following suggestion, from #13585:
> Since the full_output.txt files generated by the notebook are often changed, the client web browser should always ask for a new version instead of retrieving a cached version.
> We need to add the right HTTP headers to instruct the browser to always request a new version of full_output.txt from the server.
Or perhaps even both could be done.


---

Comment by mkoeppe created at 2020-08-18 00:36:52

Proposing to close all sagenb tickets as outdated, so that all remaining open tickets in the notebook component are about the Jupyter notebook.


---

Comment by mkoeppe created at 2020-08-18 00:36:52

Changing status from new to needs_review.


---

Comment by chapoton created at 2020-08-19 12:34:25

Resolution: invalid
