# Issue 13520: Correct inheritance for relabelled Cartan types

archive/issues_013520.json:
```json
{
    "body": "Assignee: joyner\n\nCC:  @tscrim\n\nKeywords: CartanType relabel\n\nCurrently, relabelled Cartan types lack some methods such as cartan_matrix():\n\n\n```\nsage: A3r = A3.relabel({1:2,2:3,3:1})\nsage: A3 = CartanType(\"A3\")          \nsage: A3.cartan_matrix()             \n[ 2 -1  0]\n[-1  2 -1]\n[ 0 -1  2]\nsage: A3r = A3.relabel({1:2,2:3,3:1})\nsage: A3r.cartan_matrix()            \n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n\n/space/ga98mup/sage-5.4-linux-64bit-ubuntu_12.04.1_lts-x86_64-Linux/<ipython console> in <module>()\n\nAttributeError: 'CartanType' object has no attribute 'cartan_matrix'\n```\n\n\nThis should be solved by adequate calls to CartanType._abstract._add_abstract_superclass().\n\nRelated discussion in sage-combinat-devel: https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/On-VfvxjeDk\n\nCurrent issues:\n\n- Doctests fail for type_relabel.py (related to dynamic classes?)\n\nIssue created by migration from https://trac.sagemath.org/ticket/13724\n\n",
    "created_at": "2012-11-19T22:31:13Z",
    "labels": [
        "component: group theory",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Correct inheritance for relabelled Cartan types",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13520",
    "user": "https://trac.sagemath.org/admin/accounts/users/JesusTorrado"
}
```
Assignee: joyner

CC:  @tscrim

Keywords: CartanType relabel

Currently, relabelled Cartan types lack some methods such as cartan_matrix():


```
sage: A3r = A3.relabel({1:2,2:3,3:1})
sage: A3 = CartanType("A3")          
sage: A3.cartan_matrix()             
[ 2 -1  0]
[-1  2 -1]
[ 0 -1  2]
sage: A3r = A3.relabel({1:2,2:3,3:1})
sage: A3r.cartan_matrix()            
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)

/space/ga98mup/sage-5.4-linux-64bit-ubuntu_12.04.1_lts-x86_64-Linux/<ipython console> in <module>()

AttributeError: 'CartanType' object has no attribute 'cartan_matrix'
```


This should be solved by adequate calls to CartanType._abstract._add_abstract_superclass().

Related discussion in sage-combinat-devel: https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/On-VfvxjeDk

Current issues:

- Doctests fail for type_relabel.py (related to dynamic classes?)

Issue created by migration from https://trac.sagemath.org/ticket/13724





---

archive/issue_comments_166685.json:
```json
{
    "body": "I just took over the patch to add similar things for type_dual and finalize. More to come soon.",
    "created_at": "2013-04-13T15:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166685",
    "user": "https://github.com/nthiery"
}
```

I just took over the patch to add similar things for type_dual and finalize. More to come soon.



---

archive/issue_comments_166686.json:
```json
{
    "body": "Changing component from group theory to combinatorics.",
    "created_at": "2013-04-13T20:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166686",
    "user": "https://github.com/nthiery"
}
```

Changing component from group theory to combinatorics.



---

archive/issue_comments_166687.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-04-13T20:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166687",
    "user": "https://github.com/nthiery"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_166688.json:
```json
{
    "body": "There remains to decide whether we want to implemente G_2 dual as a relabelled type. I am exploring this in the queue.",
    "created_at": "2013-04-15T21:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166688",
    "user": "https://github.com/nthiery"
}
```

There remains to decide whether we want to implemente G_2 dual as a relabelled type. I am exploring this in the queue.



---

archive/issue_comments_166689.json:
```json
{
    "body": "Looks good. After folding the relabelled patch, you can set this to positive review on my behalf. Thanks.",
    "created_at": "2013-05-07T21:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166689",
    "user": "https://github.com/tscrim"
}
```

Looks good. After folding the relabelled patch, you can set this to positive review on my behalf. Thanks.



---

archive/issue_comments_166690.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-05-08T01:13:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166690",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_166691.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-05-09T17:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166691",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_166692.json:
```json
{
    "body": "New patch fixes a typo noticed by Travis and fixes on trivial test failure.",
    "created_at": "2013-05-09T17:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166692",
    "user": "https://github.com/nthiery"
}
```

New patch fixes a typo noticed by Travis and fixes on trivial test failure.



---

archive/issue_comments_166693.json:
```json
{
    "body": "All long tests passed on sage.math.u-psud.fr.",
    "created_at": "2013-05-09T17:39:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166693",
    "user": "https://github.com/nthiery"
}
```

All long tests passed on sage.math.u-psud.fr.



---

archive/issue_comments_166694.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-05-09T18:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166694",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_166695.json:
```json
{
    "body": "Looks good for me as well. Thanks.",
    "created_at": "2013-05-09T18:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166695",
    "user": "https://github.com/tscrim"
}
```

Looks good for me as well. Thanks.



---

archive/issue_comments_166696.json:
```json
{
    "body": "Attachment [trac_13724-cartan_type_inheritance-nt.patch](tarball://root/attachments/some-uuid/ticket13724/trac_13724-cartan_type_inheritance-nt.patch) by @nthiery created at 2013-05-10 19:06:48",
    "created_at": "2013-05-10T19:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166696",
    "user": "https://github.com/nthiery"
}
```

Attachment [trac_13724-cartan_type_inheritance-nt.patch](tarball://root/attachments/some-uuid/ticket13724/trac_13724-cartan_type_inheritance-nt.patch) by @nthiery created at 2013-05-10 19:06:48



---

archive/issue_events_013385.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-17T06:32:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13520#event-13385"
}
```



---

archive/issue_comments_166697.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-05-17T06:32:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13520",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13520#issuecomment-166697",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
