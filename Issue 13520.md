# Issue 13520: Correct inheritance for relabelled Cartan types

Issue created by migration from https://trac.sagemath.org/ticket/13724

Original creator: JesusTorrado

Original creation time: 2012-11-19 22:31:13

Assignee: joyner

CC:  tscrim

Keywords: CartanType relabel

Currently, relabelled Cartan types lack some methods such as cartan_matrix():


```
sage: A3r = A3.relabel({1:2,2:3,3:1})
sage: A3 = CartanType("A3")          
sage: A3.cartan_matrix()             
[ 2 -1  0]
[-1  2 -1]
[ 0 -1  2]
sage: A3r = A3.relabel({1:2,2:3,3:1})
sage: A3r.cartan_matrix()            
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)

/space/ga98mup/sage-5.4-linux-64bit-ubuntu_12.04.1_lts-x86_64-Linux/<ipython console> in <module>()

AttributeError: 'CartanType' object has no attribute 'cartan_matrix'
```


This should be solved by adequate calls to CartanType._abstract._add_abstract_superclass().

Related discussion in sage-combinat-devel: https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/On-VfvxjeDk

Current issues:

- Doctests fail for type_relabel.py (related to dynamic classes?)


---

Comment by nthiery created at 2013-04-13 15:48:34

I just took over the patch to add similar things for type_dual and finalize. More to come soon.


---

Comment by nthiery created at 2013-04-13 20:15:00

Changing component from group theory to combinatorics.


---

Comment by nthiery created at 2013-04-13 20:15:00

Changing status from new to needs_review.


---

Comment by nthiery created at 2013-04-15 21:45:38

There remains to decide whether we want to implemente G_2 dual as a relabelled type. I am exploring this in the queue.


---

Comment by tscrim created at 2013-05-07 21:17:49

Looks good. After folding the relabelled patch, you can set this to positive review on my behalf. Thanks.


---

Comment by nthiery created at 2013-05-08 01:13:11

Changing status from needs_review to needs_work.


---

Comment by nthiery created at 2013-05-09 17:04:27

Changing status from needs_work to needs_review.


---

Comment by nthiery created at 2013-05-09 17:36:50

New patch fixes a typo noticed by Travis and fixes on trivial test failure.


---

Comment by nthiery created at 2013-05-09 17:39:20

All long tests passed on sage.math.u-psud.fr.


---

Comment by tscrim created at 2013-05-09 18:12:53

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2013-05-09 18:12:53

Looks good for me as well. Thanks.


---

Attachment


---

Comment by jdemeyer created at 2013-05-17 06:32:29

Resolution: fixed
