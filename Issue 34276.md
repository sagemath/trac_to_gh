# Issue 34276: SAGE can't process component functions for huge csv file - SBOX Look up table

archive/issues_034276.json:
```json
{
    "body": "CC:  @slel\n\nHi. Sage is unable to generate algebraic normal form(ANF) results for a huge csv file containing S-Box LUT list and it kills the terminal. S-Box size is 5X5 bit. How to overcome this issue?\n\nIssue created by migration from https://trac.sagemath.org/ticket/34513\n\n",
    "created_at": "2022-09-09T12:01:27Z",
    "labels": [],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "SAGE can't process component functions for huge csv file - SBOX Look up table",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34276",
    "user": "https://github.com/smitadas95"
}
```
CC:  @slel

Hi. Sage is unable to generate algebraic normal form(ANF) results for a huge csv file containing S-Box LUT list and it kills the terminal. S-Box size is 5X5 bit. How to overcome this issue?

Issue created by migration from https://trac.sagemath.org/ticket/34513





---

archive/issue_comments_485480.json:
```json
{
    "body": "Probably you are out of memory.\n\nShow us your code and csv file or debug it using `python -m pudb your_script.sage.py`",
    "created_at": "2022-09-09T16:48:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485480",
    "user": "https://github.com/sheerluck"
}
```

Probably you are out of memory.

Show us your code and csv file or debug it using `python -m pudb your_script.sage.py`



---

archive/issue_comments_485481.json:
```json
{
    "body": "There's enough memory available.\nI am reading each line from the csv file which contains 5X5 bit s-box LUT. There are around 1.2 Crores of such s-box LUT's in each line in the csv file. But the code kills the terminal after printing maximum of around 500 LUT line count followed by system shut down! \nHowever, I am able to print Nonlinearity of each LUT for entire csv file.. \n\nEach line of the csv file contains s-box LUT shown below:\n\n0 8 4 12 2 10 6 15 1 9 5 13 3 11 23 14 16 24 20 30 18 26 22 28 17 29 21 25 27 19 7 31\n\n\nThe code to print algebraic normal form  (ANF) equation is given below:\n\nfrom sage.crypto.sbox import SBox\nimport csv\n\ncount=0\n\nwith open('filepath/filename.csv') as f:\n    for line in f:\n    \t\n    \tcount+=1\n    \t\n    \tline1=line.replace('\"','')\n    \t\n        line2=line1.replace(\"\\n\",\"\")\n    \t\n        line3=line2.replace(' ',',')\n    \t\n        int_list= list(map(int, line3.split(',')))\n    \t\n        S=SBox(int_list)\n    \t\n        print(\"Line{}\".format(count))\n        \n        print(S.component_function([1]).algebraic_normal_form())",
    "created_at": "2022-09-10T09:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485481",
    "user": "https://github.com/smitadas95"
}
```

There's enough memory available.
I am reading each line from the csv file which contains 5X5 bit s-box LUT. There are around 1.2 Crores of such s-box LUT's in each line in the csv file. But the code kills the terminal after printing maximum of around 500 LUT line count followed by system shut down! 
However, I am able to print Nonlinearity of each LUT for entire csv file.. 

Each line of the csv file contains s-box LUT shown below:

0 8 4 12 2 10 6 15 1 9 5 13 3 11 23 14 16 24 20 30 18 26 22 28 17 29 21 25 27 19 7 31


The code to print algebraic normal form  (ANF) equation is given below:

from sage.crypto.sbox import SBox
import csv

count=0

with open('filepath/filename.csv') as f:
    for line in f:
    	
    	count+=1
    	
    	line1=line.replace('"','')
    	
        line2=line1.replace("\n","")
    	
        line3=line2.replace(' ',',')
    	
        int_list= list(map(int, line3.split(',')))
    	
        S=SBox(int_list)
    	
        print("Line{}".format(count))
        
        print(S.component_function([1]).algebraic_normal_form())



---

archive/issue_comments_485482.json:
```json
{
    "body": "well, I got `x0*x1*x2*x4 + x0*x1*x2 + x3` for your line, so attach whole csv file here. There's a bad line in that csv file, we need to find it.",
    "created_at": "2022-09-10T09:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485482",
    "user": "https://github.com/sheerluck"
}
```

well, I got `x0*x1*x2*x4 + x0*x1*x2 + x3` for your line, so attach whole csv file here. There's a bad line in that csv file, we need to find it.



---

archive/issue_comments_485483.json:
```json
{
    "body": "[https://drive.google.com/file/d/10ZZMhm9ygPUvpqfP5ubtYX4c1SFw26UA/view?usp=sharing](https://drive.google.com/file/d/10ZZMhm9ygPUvpqfP5ubtYX4c1SFw26UA/view?usp=sharing)\n\nPlease find the link attached for the huge csv file s-box LUT list.",
    "created_at": "2022-09-12T08:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485483",
    "user": "https://github.com/smitadas95"
}
```

[https://drive.google.com/file/d/10ZZMhm9ygPUvpqfP5ubtYX4c1SFw26UA/view?usp=sharing](https://drive.google.com/file/d/10ZZMhm9ygPUvpqfP5ubtYX4c1SFw26UA/view?usp=sharing)

Please find the link attached for the huge csv file s-box LUT list.



---

archive/issue_comments_485484.json:
```json
{
    "body": "Problem was with memory, here:\n\nhttps://github.com/sagemath/sage/blob/develop/src/sage/crypto/boolean_function.pyx#L488-L509 \n\n`R = BooleanPolynomialRing(self._nvariables,\"x\")` allocates a lof of memory.\n\nI thought what if we stop recreating BooleanPolynomialRing every time we call `algebraic_normal_form`, like this:\n\n```diff\n--- a/sage/crypto/boolean_function.pyx\n+++ b/sage/crypto/boolean_function.pyx\n@@ -485,7 +485,7 @@\n         return res\n \n \n-    def algebraic_normal_form(self):\n+    def algebraic_normal_form(self, R=None):\n         \"\"\"\n         Return the :class:`sage.rings.polynomial.pbori.BooleanPolynomial`\n         corresponding to the algebraic normal form.\n@@ -505,8 +505,9 @@\n         bitset_init(anf, <mp_bitcnt_t> (1<<self._nvariables))\n         bitset_copy(anf, self._truth_table)\n         reed_muller(anf.bits, ZZ(anf.limbs).exact_log(2))\n-        from sage.rings.polynomial.pbori.pbori import BooleanPolynomialRing\n-        R = BooleanPolynomialRing(self._nvariables,\"x\")\n+        if R is None:\n+            from sage.rings.polynomial.pbori.pbori import BooleanPolynomialRing\n+            R = BooleanPolynomialRing(self._nvariables,\"x\")\n         G = R.gens()\n         P = R(0)\n \n```\n\nAfter rebuilding sage I use this code:\n\n```\nsage: import numpy as np\nsage: from sage.crypto.sbox import SBox\nsage: from sage.rings.polynomial.pbori.pbori import BooleanPolynomialRing\nsage: count = 0\nsage: rings = {}\nsage: with open(\"/tmp/sboxdataremote.csv\") as f:\n....:     for line in f:\n....:         count += 1\n....:         int_list = list(arr := np.fromstring(line, dtype=int, sep=\" \"))\n....:         print(f\"{count:>10} {arr}\")\n....:         S = SBox(int_list)\n....:         cf = S.component_function([1])\n....:         nv = cf.nvariables()\n....:         R = rings.get(nv, None)\n....:         if R is None:\n....:             R = rings[nv] = BooleanPolynomialRing(nv, \"x\")\n....:         anf = cf.algebraic_normal_form(R)\n....:         print(f\"{count:>10} {anf}\")\n```\n\nSince `nv = cf.nvariables()` is 5, there is **one** BooleanPolynomialRing created, no memory is wasted and we can get millions of `anf = cf.algebraic_normal_form(R)` without fail:\n\n```\n   1000446 [ 0 14  7 12 19 22  6 18 25 26 11 29  3 15  9  4 28 24 13  5 21 27 30  8 17 10 23 16 20  1  2 31]\n   1000446 x0*x1*x4 + x0*x1 + x0*x2*x4 + x0*x2 + x0*x3 + x1*x3 + x1 + x2*x3*x4 + x2*x3 + x2 + x3\n   1000447 [ 0 14  7 12 19 22  6 20 25 26 11 29  3 15 10  1 28 24 13  9 21 27 30  2 17 18 23  4  5  8 16 31]\n   1000447 x0*x1*x4 + x0*x1 + x0*x2*x4 + x0*x2 + x0*x3 + x1*x2*x3 + x1*x3 + x1 + x2*x3 + x2 + x3\n```",
    "created_at": "2022-09-13T18:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485484",
    "user": "https://github.com/sheerluck"
}
```

Problem was with memory, here:

https://github.com/sagemath/sage/blob/develop/src/sage/crypto/boolean_function.pyx#L488-L509 

`R = BooleanPolynomialRing(self._nvariables,"x")` allocates a lof of memory.

I thought what if we stop recreating BooleanPolynomialRing every time we call `algebraic_normal_form`, like this:

```diff
--- a/sage/crypto/boolean_function.pyx
+++ b/sage/crypto/boolean_function.pyx
@@ -485,7 +485,7 @@
         return res
 
 
-    def algebraic_normal_form(self):
+    def algebraic_normal_form(self, R=None):
         """
         Return the :class:`sage.rings.polynomial.pbori.BooleanPolynomial`
         corresponding to the algebraic normal form.
@@ -505,8 +505,9 @@
         bitset_init(anf, <mp_bitcnt_t> (1<<self._nvariables))
         bitset_copy(anf, self._truth_table)
         reed_muller(anf.bits, ZZ(anf.limbs).exact_log(2))
-        from sage.rings.polynomial.pbori.pbori import BooleanPolynomialRing
-        R = BooleanPolynomialRing(self._nvariables,"x")
+        if R is None:
+            from sage.rings.polynomial.pbori.pbori import BooleanPolynomialRing
+            R = BooleanPolynomialRing(self._nvariables,"x")
         G = R.gens()
         P = R(0)
 
```

After rebuilding sage I use this code:

```
sage: import numpy as np
sage: from sage.crypto.sbox import SBox
sage: from sage.rings.polynomial.pbori.pbori import BooleanPolynomialRing
sage: count = 0
sage: rings = {}
sage: with open("/tmp/sboxdataremote.csv") as f:
....:     for line in f:
....:         count += 1
....:         int_list = list(arr := np.fromstring(line, dtype=int, sep=" "))
....:         print(f"{count:>10} {arr}")
....:         S = SBox(int_list)
....:         cf = S.component_function([1])
....:         nv = cf.nvariables()
....:         R = rings.get(nv, None)
....:         if R is None:
....:             R = rings[nv] = BooleanPolynomialRing(nv, "x")
....:         anf = cf.algebraic_normal_form(R)
....:         print(f"{count:>10} {anf}")
```

Since `nv = cf.nvariables()` is 5, there is **one** BooleanPolynomialRing created, no memory is wasted and we can get millions of `anf = cf.algebraic_normal_form(R)` without fail:

```
   1000446 [ 0 14  7 12 19 22  6 18 25 26 11 29  3 15  9  4 28 24 13  5 21 27 30  8 17 10 23 16 20  1  2 31]
   1000446 x0*x1*x4 + x0*x1 + x0*x2*x4 + x0*x2 + x0*x3 + x1*x3 + x1 + x2*x3*x4 + x2*x3 + x2 + x3
   1000447 [ 0 14  7 12 19 22  6 20 25 26 11 29  3 15 10  1 28 24 13  9 21 27 30  2 17 18 23  4  5  8 16 31]
   1000447 x0*x1*x4 + x0*x1 + x0*x2*x4 + x0*x2 + x0*x3 + x1*x2*x3 + x1*x3 + x1 + x2*x3 + x2 + x3
```



---

archive/issue_comments_485485.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2022-09-13T18:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485485",
    "user": "https://github.com/sheerluck"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_485486.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to cryptography.",
    "created_at": "2022-09-13T18:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485486",
    "user": "https://github.com/sheerluck"
}
```

Changing component from PLEASE CHANGE to cryptography.



---

archive/issue_comments_485487.json:
```json
{
    "body": "or even better to save `R = BooleanPolynomialRing(self._nvariables,\"x\")` to `self._rings`",
    "created_at": "2022-09-13T18:54:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485487",
    "user": "https://github.com/sheerluck"
}
```

or even better to save `R = BooleanPolynomialRing(self._nvariables,"x")` to `self._rings`



---

archive/issue_comments_485488.json:
```json
{
    "body": "Here also, we call algebraic_normal_form() everytime. Even after using the above modified code, it kills the terminal after printing around 700 lines.",
    "created_at": "2022-09-16T14:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485488",
    "user": "https://github.com/smitadas95"
}
```

Here also, we call algebraic_normal_form() everytime. Even after using the above modified code, it kills the terminal after printing around 700 lines.



---

archive/issue_comments_485489.json:
```json
{
    "body": "It is not enough to patch `sage/crypto/boolean_function.pyx`, `sage` should be properly rebuilt so `sage/crypto/boolean_function.cpython-310-x86_64-linux-gnu.so` would be updated. And it must be `algebraic_normal_form(R)` not `algebraic_normal_form()`",
    "created_at": "2022-09-16T14:53:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485489",
    "user": "https://github.com/sheerluck"
}
```

It is not enough to patch `sage/crypto/boolean_function.pyx`, `sage` should be properly rebuilt so `sage/crypto/boolean_function.cpython-310-x86_64-linux-gnu.so` would be updated. And it must be `algebraic_normal_form(R)` not `algebraic_normal_form()`



---

archive/issue_comments_485490.json:
```json
{
    "body": "```diff\n--- a/src/sage/crypto/boolean_function.pyx\n+++ b/src/sage/crypto/boolean_function.pyx\n@@ -485,7 +485,7 @@\n         return res\n \n \n-    def algebraic_normal_form(self):\n+    def algebraic_normal_form(self, R=None):\n         \"\"\"\n         Return the :class:`sage.rings.polynomial.pbori.BooleanPolynomial`\n         corresponding to the algebraic normal form.\n@@ -506,7 +506,11 @@\n         bitset_copy(anf, self._truth_table)\n         reed_muller(anf.bits, ZZ(anf.limbs).exact_log(2))\n         from sage.rings.polynomial.pbori.pbori import BooleanPolynomialRing\n-        R = BooleanPolynomialRing(self._nvariables,\"x\")\n+        if R is None:\n+            R = BooleanPolynomialRing(self._nvariables,\"x\")\n+        else:\n+            assert isinstance(R, BooleanPolynomialRing)\n+            assert R.ngens() == self._nvariables\n         G = R.gens()\n         P = R(0)\n```",
    "created_at": "2022-09-17T11:38:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485490",
    "user": "https://github.com/sheerluck"
}
```

```diff
--- a/src/sage/crypto/boolean_function.pyx
+++ b/src/sage/crypto/boolean_function.pyx
@@ -485,7 +485,7 @@
         return res
 
 
-    def algebraic_normal_form(self):
+    def algebraic_normal_form(self, R=None):
         """
         Return the :class:`sage.rings.polynomial.pbori.BooleanPolynomial`
         corresponding to the algebraic normal form.
@@ -506,7 +506,11 @@
         bitset_copy(anf, self._truth_table)
         reed_muller(anf.bits, ZZ(anf.limbs).exact_log(2))
         from sage.rings.polynomial.pbori.pbori import BooleanPolynomialRing
-        R = BooleanPolynomialRing(self._nvariables,"x")
+        if R is None:
+            R = BooleanPolynomialRing(self._nvariables,"x")
+        else:
+            assert isinstance(R, BooleanPolynomialRing)
+            assert R.ngens() == self._nvariables
         G = R.gens()
         P = R(0)
```



---

archive/issue_comments_485491.json:
```json
{
    "body": "Attachment [Screenshot from 2022-09-20 13-05-56.png](tarball://root/attachments/some-uuid/ticket34513/Screenshot from 2022-09-20 13-05-56.png) by @smitadas95 created at 2022-09-20 07:41:06",
    "created_at": "2022-09-20T07:41:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485491",
    "user": "https://github.com/smitadas95"
}
```

Attachment [Screenshot from 2022-09-20 13-05-56.png](tarball://root/attachments/some-uuid/ticket34513/Screenshot from 2022-09-20 13-05-56.png) by @smitadas95 created at 2022-09-20 07:41:06



---

archive/issue_comments_485492.json:
```json
{
    "body": "Attachment [Screenshot from 2022-09-20 13-01-37.png](tarball://root/attachments/some-uuid/ticket34513/Screenshot from 2022-09-20 13-01-37.png) by @smitadas95 created at 2022-09-20 07:51:05",
    "created_at": "2022-09-20T07:51:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485492",
    "user": "https://github.com/smitadas95"
}
```

Attachment [Screenshot from 2022-09-20 13-01-37.png](tarball://root/attachments/some-uuid/ticket34513/Screenshot from 2022-09-20 13-01-37.png) by @smitadas95 created at 2022-09-20 07:51:05



---

archive/issue_comments_485493.json:
```json
{
    "body": "Attachment [Screenshot from 2022-09-20 13-04-58.png](tarball://root/attachments/some-uuid/ticket34513/Screenshot from 2022-09-20 13-04-58.png) by @smitadas95 created at 2022-09-20 07:51:39",
    "created_at": "2022-09-20T07:51:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485493",
    "user": "https://github.com/smitadas95"
}
```

Attachment [Screenshot from 2022-09-20 13-04-58.png](tarball://root/attachments/some-uuid/ticket34513/Screenshot from 2022-09-20 13-04-58.png) by @smitadas95 created at 2022-09-20 07:51:39



---

archive/issue_comments_485494.json:
```json
{
    "body": "Attachment [Screenshot from 2022-09-20 13-04-58.2.png](tarball://root/attachments/some-uuid/ticket34513/Screenshot from 2022-09-20 13-04-58.2.png) by @smitadas95 created at 2022-09-20 07:54:51\n\nHi. I have followed the same procedure and modified the src/sage/crypto/boolean_function.pyx file and .sage file containing the code accordingly. But the error appears \"algebraic_normal_form() takes no arguments (1 given)\" in the terminal even after all the modifications. Please find all the screenshots attached.",
    "created_at": "2022-09-20T07:54:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485494",
    "user": "https://github.com/smitadas95"
}
```

Attachment [Screenshot from 2022-09-20 13-04-58.2.png](tarball://root/attachments/some-uuid/ticket34513/Screenshot from 2022-09-20 13-04-58.2.png) by @smitadas95 created at 2022-09-20 07:54:51

Hi. I have followed the same procedure and modified the src/sage/crypto/boolean_function.pyx file and .sage file containing the code accordingly. But the error appears "algebraic_normal_form() takes no arguments (1 given)" in the terminal even after all the modifications. Please find all the screenshots attached.



---

archive/issue_comments_485495.json:
```json
{
    "body": "That is because binary file `sage/crypto/boolean_function.cpython-3xx-x86_64-linux-gnu.so` was not rebuilt.\n\nI'm afraid there's no other choice than to use https://doc.sagemath.org/html/en/installation/source.html and https://github.com/sagemath/sage/blob/develop/README.md to install sage from source code. \n\n**after ** `step 11. Type ./configure, followed by any options that you wish to use.` **and before** `step 13. Type make. That's it! Everything is automatic and non-interactive.` you should modify the `src/sage/crypto/boolean_function.pyx`\n\nThen type `make`.  And it will build everything including new `boolean_function.cpython-3xx-x86_64-linux-gnu.so` with new `algebraic_normal_form(self, R=None)` that takes 1 optional argument R.\n\n**step 14. Type ./sage to try it out.** and so on.\n\nI personally never used those steps to build sage because I use Gentoo Linux and building from source code is usual/easy thing there.",
    "created_at": "2022-09-20T10:56:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485495",
    "user": "https://github.com/sheerluck"
}
```

That is because binary file `sage/crypto/boolean_function.cpython-3xx-x86_64-linux-gnu.so` was not rebuilt.

I'm afraid there's no other choice than to use https://doc.sagemath.org/html/en/installation/source.html and https://github.com/sagemath/sage/blob/develop/README.md to install sage from source code. 

**after ** `step 11. Type ./configure, followed by any options that you wish to use.` **and before** `step 13. Type make. That's it! Everything is automatic and non-interactive.` you should modify the `src/sage/crypto/boolean_function.pyx`

Then type `make`.  And it will build everything including new `boolean_function.cpython-3xx-x86_64-linux-gnu.so` with new `algebraic_normal_form(self, R=None)` that takes 1 optional argument R.

**step 14. Type ./sage to try it out.** and so on.

I personally never used those steps to build sage because I use Gentoo Linux and building from source code is usual/easy thing there.



---

archive/issue_comments_485496.json:
```json
{
    "body": "It works!\nThanks a lot",
    "created_at": "2022-09-23T06:12:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485496",
    "user": "https://github.com/smitadas95"
}
```

It works!
Thanks a lot



---

archive/issue_comments_485497.json:
```json
{
    "body": "please upload a branch that fixes the problem",
    "created_at": "2022-09-23T18:20:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485497",
    "user": "https://github.com/fchapoton"
}
```

please upload a branch that fixes the problem



---

archive/issue_comments_485498.json:
```json
{
    "body": "That was just a quick dirty hack, problem is not fixed. We can not expect to pass `BooleanPolynomialRing` everywhere. It's the `BooleanPolynomialRing` that should be fixed.",
    "created_at": "2022-09-23T19:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485498",
    "user": "https://github.com/sheerluck"
}
```

That was just a quick dirty hack, problem is not fixed. We can not expect to pass `BooleanPolynomialRing` everywhere. It's the `BooleanPolynomialRing` that should be fixed.



---

archive/issue_comments_485499.json:
```json
{
    "body": "Changing keywords from \"\" to \"pbori\".",
    "created_at": "2022-09-24T06:51:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34276#issuecomment-485499",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "pbori".
