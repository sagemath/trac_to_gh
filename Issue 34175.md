# Issue 34175: q-commuting polynomials

archive/issues_034175.json:
```json
{
    "body": "CC:  @fchapoton\n\nKeywords: q-commuting polynomials\n\nThese show up in quantum mechanics computations and are a variation of skew commuting polynomials (cf. the exterior algebra) satisfying `xy = qyx` for all variables `x != y`.\n\nWe provide a simple initial implementation.\n\nIssue created by migration from https://trac.sagemath.org/ticket/34412\n\n",
    "created_at": "2022-08-23T04:29:13Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "q-commuting polynomials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34175",
    "user": "https://github.com/tscrim"
}
```
CC:  @fchapoton

Keywords: q-commuting polynomials

These show up in quantum mechanics computations and are a variation of skew commuting polynomials (cf. the exterior algebra) satisfying `xy = qyx` for all variables `x != y`.

We provide a simple initial implementation.

Issue created by migration from https://trac.sagemath.org/ticket/34412





---

archive/issue_comments_484287.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-23T04:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484287",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_484288.json:
```json
{
    "body": "Here is a very simple implementation for them that feeds off as much as possible. Likely could be improved (e.g., not relying on `FreeMonoid` as a backend for the basis), but it works for now.\n----\nNew commits:",
    "created_at": "2022-08-23T04:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484288",
    "user": "https://github.com/tscrim"
}
```

Here is a very simple implementation for them that feeds off as much as possible. Likely could be improved (e.g., not relying on `FreeMonoid` as a backend for the basis), but it works for now.
----
New commits:



---

archive/issue_comments_484289.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-27T02:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484289",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484290.json:
```json
{
    "body": "Bot is green.",
    "created_at": "2022-08-30T08:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484290",
    "user": "https://github.com/tscrim"
}
```

Bot is green.



---

archive/issue_comments_484291.json:
```json
{
    "body": "ok, ok. I was just wondering for myself whether this fits into the setting of Ore algebras, and hence could be done using the \"ore_algebra\" package.",
    "created_at": "2022-08-30T08:05:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484291",
    "user": "https://github.com/fchapoton"
}
```

ok, ok. I was just wondering for myself whether this fits into the setting of Ore algebras, and hence could be done using the "ore_algebra" package.



---

archive/issue_comments_484292.json:
```json
{
    "body": "Thanks for looking at this. I didn't mean to pressure you into it.\n\nI thought about that too. However, that viewpoint makes one of the variables more special than the others, which is not desirable to me. For example, if we take two variables `R[x,y]_q`, then to consider this as an Ore algebra, we take it to be the Ore extension `R[y][x; phi]`, where `phi(y) = qy`. For more variables, we would then iterate this construction, leading us to something like `R[x_n][x_{n-1}; phi_n] ... [x_2; phi_3][x_1; phi_2]`, which would be isomorphic but different for any ordering of the variables. Contrast this with `R['x,y']` and `R['x']['y']` and `R['y']['x']` as polynomial rings within Sage. I suspect this will also be slower too.",
    "created_at": "2022-08-30T08:22:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484292",
    "user": "https://github.com/tscrim"
}
```

Thanks for looking at this. I didn't mean to pressure you into it.

I thought about that too. However, that viewpoint makes one of the variables more special than the others, which is not desirable to me. For example, if we take two variables `R[x,y]_q`, then to consider this as an Ore algebra, we take it to be the Ore extension `R[y][x; phi]`, where `phi(y) = qy`. For more variables, we would then iterate this construction, leading us to something like `R[x_n][x_{n-1}; phi_n] ... [x_2; phi_3][x_1; phi_2]`, which would be isomorphic but different for any ordering of the variables. Contrast this with `R['x,y']` and `R['x']['y']` and `R['y']['x']` as polynomial rings within Sage. I suspect this will also be slower too.



---

archive/issue_comments_484293.json:
```json
{
    "body": "is there any other structure on that algebra ? a coproduct or co-module structure ?\n\nWith just x and y, this is sometimes called the quantum plane, right ?\n\n\nminor remark:\n\n```\nreturn tuple([self.monomial(g) for g in self._indices.gens()])\n```\n\ncould create directly the tuple",
    "created_at": "2022-08-30T09:23:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484293",
    "user": "https://github.com/fchapoton"
}
```

is there any other structure on that algebra ? a coproduct or co-module structure ?

With just x and y, this is sometimes called the quantum plane, right ?


minor remark:

```
return tuple([self.monomial(g) for g in self._indices.gens()])
```

could create directly the tuple



---

archive/issue_comments_484294.json:
```json
{
    "body": "Replying to [comment:7 chapoton]:\n> is there any other structure on that algebra ? a coproduct or co-module structure ?\n\nI am not sure. I will do some searching.\n\n> With just x and y, this is sometimes called the quantum plane, right ?\n\nYes, it does. Should I add this as a comment to the doc? (Hopefully you can respond quickly as I will be leaving for home soon.)\n\n> minor remark:\n> {{{\n> return tuple([self.monomial(g) for g in self._indices.gens()])\n> }}}\n> could create directly the tuple\n\nIt is actually (slightly) faster for whatever reason to do `tuple([generator])` than `tuple(generator)`:\n\n```\nsage: %timeit T = tuple(i for i in range(100))\n2.33 \u00b5s \u00b1 13.5 ns per loop (mean \u00b1 std. dev. of 7 runs, 100,000 loops each)\nsage: %timeit T = tuple([i for i in range(100)])\n1.44 \u00b5s \u00b1 17 ns per loop (mean \u00b1 std. dev. of 7 runs, 1,000,000 loops each)\n```\n\nStill remains completely counterintuitive to me.",
    "created_at": "2022-08-30T09:41:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484294",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:7 chapoton]:
> is there any other structure on that algebra ? a coproduct or co-module structure ?

I am not sure. I will do some searching.

> With just x and y, this is sometimes called the quantum plane, right ?

Yes, it does. Should I add this as a comment to the doc? (Hopefully you can respond quickly as I will be leaving for home soon.)

> minor remark:
> {{{
> return tuple([self.monomial(g) for g in self._indices.gens()])
> }}}
> could create directly the tuple

It is actually (slightly) faster for whatever reason to do `tuple([generator])` than `tuple(generator)`:

```
sage: %timeit T = tuple(i for i in range(100))
2.33 µs ± 13.5 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
sage: %timeit T = tuple([i for i in range(100)])
1.44 µs ± 17 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
```

Still remains completely counterintuitive to me.



---

archive/issue_comments_484295.json:
```json
{
    "body": "So it doesn't seem like they are not known to carry any further natural structure since I can't find anything about that in this survey:\n\nhttps://link.springer.com/article/10.1007/BF02355445\n\nAlthough we can build a comodule structure on them using the quantum coordinate ring of SL<sub>n</sub> as a generalization of exercise (3) in Section 3.4 of\n\nhttp://www.mate.unlp.edu.ar/~ggarcia/encuentros/notas-curso-qg-ha.pdf\n\nMaybe in Sage we should call them `QuantumPolynomials`? That is probably a better name than what I initially chose. I wasn't very happy with the name.\n\nThere is a slightly more general construction that could be done with `q_{ij}` not being `q^{b_{ij}}` but more generally `q_{ij} q_{ji} = 1`. Although that might be best for a followup ticket as that will be a fairly different implementation.",
    "created_at": "2022-08-30T09:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484295",
    "user": "https://github.com/tscrim"
}
```

So it doesn't seem like they are not known to carry any further natural structure since I can't find anything about that in this survey:

https://link.springer.com/article/10.1007/BF02355445

Although we can build a comodule structure on them using the quantum coordinate ring of SL<sub>n</sub> as a generalization of exercise (3) in Section 3.4 of

http://www.mate.unlp.edu.ar/~ggarcia/encuentros/notas-curso-qg-ha.pdf

Maybe in Sage we should call them `QuantumPolynomials`? That is probably a better name than what I initially chose. I wasn't very happy with the name.

There is a slightly more general construction that could be done with `q_{ij}` not being `q^{b_{ij}}` but more generally `q_{ij} q_{ji} = 1`. Although that might be best for a followup ticket as that will be a fairly different implementation.



---

archive/issue_comments_484296.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-09-01T06:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484296",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_484297.json:
```json
{
    "body": "ok, let's not bother more. I am setting to positive.",
    "created_at": "2022-09-01T06:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484297",
    "user": "https://github.com/fchapoton"
}
```

ok, let's not bother more. I am setting to positive.



---

archive/issue_events_089488.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-09-01T06:15:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34175#event-89488"
}
```



---

archive/issue_comments_484298.json:
```json
{
    "body": "Thank you.\n\nIt\u2019s definitely an interesting question as the classical case, and maybe even the related geometry, suggests that there should be additional structure (maybe also from the iterated Ore extensions).\n\nWhat do you think about the name though? Would you say `QuantumPolynomials` is better than `qCommutingPolynomials`?\n\nA more trivial point but do you think I should add a quantum plane note to the doc before we merge this initial version?",
    "created_at": "2022-09-01T08:57:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484298",
    "user": "https://github.com/tscrim"
}
```

Thank you.

It’s definitely an interesting question as the classical case, and maybe even the related geometry, suggests that there should be additional structure (maybe also from the iterated Ore extensions).

What do you think about the name though? Would you say `QuantumPolynomials` is better than `qCommutingPolynomials`?

A more trivial point but do you think I should add a quantum plane note to the doc before we merge this initial version?



---

archive/issue_comments_484299.json:
```json
{
    "body": "oh, well, you can add a comment and set back to positive if you like.\n\nfor the name, I am ok with \"qCommutingPolynomials\". As far as I know, neither of your proposed name is very standard",
    "created_at": "2022-09-01T09:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484299",
    "user": "https://github.com/fchapoton"
}
```

oh, well, you can add a comment and set back to positive if you like.

for the name, I am ok with "qCommutingPolynomials". As far as I know, neither of your proposed name is very standard



---

archive/issue_comments_484300.json:
```json
{
    "body": "I feel lazy `^^;;`. I might do all of that on a follow up ticket if I end up wanting to extend the functionality or come across some further references.\n\nThank you again.",
    "created_at": "2022-09-01T10:01:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484300",
    "user": "https://github.com/tscrim"
}
```

I feel lazy `^^;;`. I might do all of that on a follow up ticket if I end up wanting to extend the functionality or come across some further references.

Thank you again.



---

archive/issue_comments_484301.json:
```json
{
    "body": "yes, ok. In the same vein, an idea is that the Laurent version (quantum torus algebras) could be of interest to people doing cluster algebras.",
    "created_at": "2022-09-01T10:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484301",
    "user": "https://github.com/fchapoton"
}
```

yes, ok. In the same vein, an idea is that the Laurent version (quantum torus algebras) could be of interest to people doing cluster algebras.



---

archive/issue_comments_484302.json:
```json
{
    "body": "That\u2019s a good idea of something to implement. It is just a relatively small tweak of my code to use the `FreeAbelianGroup` or `ZZ^n` instead (with most of the work likely just dealing with different implementation details of the indexing set).",
    "created_at": "2022-09-01T10:15:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484302",
    "user": "https://github.com/tscrim"
}
```

That’s a good idea of something to implement. It is just a relatively small tweak of my code to use the `FreeAbelianGroup` or `ZZ^n` instead (with most of the work likely just dealing with different implementation details of the indexing set).



---

archive/issue_comments_484303.json:
```json
{
    "body": "Follow is #34472.",
    "created_at": "2022-09-01T10:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484303",
    "user": "https://github.com/tscrim"
}
```

Follow is #34472.



---

archive/issue_events_089489.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-22T22:35:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34175#event-89489"
}
```



---

archive/issue_comments_484304.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-09-22T22:35:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34175",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34175#issuecomment-484304",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
