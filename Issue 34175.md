# Issue 34175: q-commuting polynomials

Issue created by migration from https://trac.sagemath.org/ticket/34412

Original creator: tscrim

Original creation time: 2022-08-23 04:29:13

CC:  chapoton

Keywords: q-commuting polynomials

These show up in quantum mechanics computations and are a variation of skew commuting polynomials (cf. the exterior algebra) satisfying `xy = qyx` for all variables `x != y`.

We provide a simple initial implementation.


---

Comment by tscrim created at 2022-08-23 04:32:17

Changing status from new to needs_review.


---

Comment by tscrim created at 2022-08-23 04:32:17

Here is a very simple implementation for them that feeds off as much as possible. Likely could be improved (e.g., not relying on `FreeMonoid` as a backend for the basis), but it works for now.
----
New commits:


---

Comment by git created at 2022-08-27 02:29:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2022-08-30 08:03:43

Bot is green.


---

Comment by chapoton created at 2022-08-30 08:05:50

ok, ok. I was just wondering for myself whether this fits into the setting of Ore algebras, and hence could be done using the "ore_algebra" package.


---

Comment by tscrim created at 2022-08-30 08:22:32

Thanks for looking at this. I didn't mean to pressure you into it.

I thought about that too. However, that viewpoint makes one of the variables more special than the others, which is not desirable to me. For example, if we take two variables `R[x,y]_q`, then to consider this as an Ore algebra, we take it to be the Ore extension `R[y][x; phi]`, where `phi(y) = qy`. For more variables, we would then iterate this construction, leading us to something like `R[x_n][x_{n-1}; phi_n] ... [x_2; phi_3][x_1; phi_2]`, which would be isomorphic but different for any ordering of the variables. Contrast this with `R['x,y']` and `R['x']['y']` and `R['y']['x']` as polynomial rings within Sage. I suspect this will also be slower too.


---

Comment by chapoton created at 2022-08-30 09:23:01

is there any other structure on that algebra ? a coproduct or co-module structure ?

With just x and y, this is sometimes called the quantum plane, right ?


minor remark:

```
return tuple([self.monomial(g) for g in self._indices.gens()])
```

could create directly the tuple


---

Comment by tscrim created at 2022-08-30 09:41:22

Replying to [comment:7 chapoton]:
> is there any other structure on that algebra ? a coproduct or co-module structure ?

I am not sure. I will do some searching.

> With just x and y, this is sometimes called the quantum plane, right ?

Yes, it does. Should I add this as a comment to the doc? (Hopefully you can respond quickly as I will be leaving for home soon.)

> minor remark:
> {{{
> return tuple([self.monomial(g) for g in self._indices.gens()])
> }}}
> could create directly the tuple

It is actually (slightly) faster for whatever reason to do `tuple([generator])` than `tuple(generator)`:

```
sage: %timeit T = tuple(i for i in range(100))
2.33 µs ± 13.5 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
sage: %timeit T = tuple([i for i in range(100)])
1.44 µs ± 17 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
```

Still remains completely counterintuitive to me.


---

Comment by tscrim created at 2022-08-30 09:57:25

So it doesn't seem like they are not known to carry any further natural structure since I can't find anything about that in this survey:

https://link.springer.com/article/10.1007/BF02355445

Although we can build a comodule structure on them using the quantum coordinate ring of SL<sub>n</sub> as a generalization of exercise (3) in Section 3.4 of

http://www.mate.unlp.edu.ar/~ggarcia/encuentros/notas-curso-qg-ha.pdf

Maybe in Sage we should call them `QuantumPolynomials`? That is probably a better name than what I initially chose. I wasn't very happy with the name.

There is a slightly more general construction that could be done with `q_{ij}` not being `q^{b_{ij}}` but more generally `q_{ij} q_{ji} = 1`. Although that might be best for a followup ticket as that will be a fairly different implementation.


---

Comment by chapoton created at 2022-09-01 06:15:34

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2022-09-01 06:15:34

ok, let's not bother more. I am setting to positive.


---

Comment by tscrim created at 2022-09-01 08:57:51

Thank you.

It’s definitely an interesting question as the classical case, and maybe even the related geometry, suggests that there should be additional structure (maybe also from the iterated Ore extensions).

What do you think about the name though? Would you say `QuantumPolynomials` is better than `qCommutingPolynomials`?

A more trivial point but do you think I should add a quantum plane note to the doc before we merge this initial version?


---

Comment by chapoton created at 2022-09-01 09:37:16

oh, well, you can add a comment and set back to positive if you like.

for the name, I am ok with "qCommutingPolynomials". As far as I know, neither of your proposed name is very standard


---

Comment by tscrim created at 2022-09-01 10:01:41

I feel lazy `^^;;`. I might do all of that on a follow up ticket if I end up wanting to extend the functionality or come across some further references.

Thank you again.


---

Comment by chapoton created at 2022-09-01 10:10:25

yes, ok. In the same vein, an idea is that the Laurent version (quantum torus algebras) could be of interest to people doing cluster algebras.


---

Comment by tscrim created at 2022-09-01 10:15:11

That’s a good idea of something to implement. It is just a relatively small tweak of my code to use the `FreeAbelianGroup` or `ZZ^n` instead (with most of the work likely just dealing with different implementation details of the indexing set).


---

Comment by tscrim created at 2022-09-01 10:19:52

Follow is #34472.


---

Comment by vbraun created at 2022-09-22 22:35:28

Resolution: fixed
