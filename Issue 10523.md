# Issue 10523: converting elements into polybori ring uses inconsistent semantics

archive/issues_010523.json:
```json
{
    "body": "Assignee: malb\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/10576\n\n",
    "created_at": "2011-01-09T19:01:57Z",
    "labels": [
        "commutative algebra",
        "major",
        "bug"
    ],
    "title": "converting elements into polybori ring uses inconsistent semantics",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10523",
    "user": "was"
}
```
Assignee: malb



Issue created by migration from https://trac.sagemath.org/ticket/10576





---

archive/issue_comments_109906.json:
```json
{
    "body": "Conversions between `BooleanPolynomialRings` use name-based semantics rather than index-based ones like other polynomial rings:\n\n\n```\nsage: R.<x,y> = BooleanPolynomialRing()\nsage: S.<z,x> = BooleanPolynomialRing()\nsage: R(S.0)\n*kaboom*\n```\n\n\n\n```\nsage: R.<x,y> = ZZ[]\nsage: S.<z,x> = ZZ[]\nsage: R(S.0)\nx\n```\n",
    "created_at": "2011-01-09T19:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10523#issuecomment-109906",
    "user": "wjp"
}
```

Conversions between `BooleanPolynomialRings` use name-based semantics rather than index-based ones like other polynomial rings:


```
sage: R.<x,y> = BooleanPolynomialRing()
sage: S.<z,x> = BooleanPolynomialRing()
sage: R(S.0)
*kaboom*
```



```
sage: R.<x,y> = ZZ[]
sage: S.<z,x> = ZZ[]
sage: R(S.0)
x
```




---

archive/issue_comments_109907.json:
```json
{
    "body": "Replying to [comment:1 wjp]:\n> Conversions between `BooleanPolynomialRings` use name-based semantics rather than index-based ones like other polynomial rings:\n\nOne could argue that the semantics is inconsistent in usual polynomial rings, since it sometimes uses the position and sometimes uses the name.\n\nBy position:\n\n```\nsage: P.<a,b,c>=QQ[]\nsage: Q.<b,c,d>=QQ[]\nsage: Q(P.0)\nb\nsage: Q(P.2)\nd\nsage: P(Q.0)\na\nsage: P(Q.2)\nc\n```\n\nBy name:\n\n```\nsage: R.<b,c>=QQ[]\nsage: P(R.0)\nb\n```\n\n\nAnd sometimes it does neither work by name nor by position:\n\n```\nsage: R.<b,x>=QQ[]\nsage: P(R.0)\n<BOOM>\n```\n\nIt is conversion, not coercion! It *should* give an answer, not an error!\n\nSo, I see no reason to change the behaviour of polybori conversions, which at least is straight forward, unlike the polynomial conversion, which seems like \"use position if the number of variables coincides; use name if the variable names of the first ring are a subset of the variable names of the second ring; raise an error otherwise, even if one simply tries to convert a variable whose name occurs in both rings\".\n\nIn any case: Note that I implemented the new coercion model for pbori in #9138. So, if you really intend to change the semantics then I suggest to work on top of that.\n\nCheers,\nSimon",
    "created_at": "2011-04-25T13:14:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10523#issuecomment-109907",
    "user": "SimonKing"
}
```

Replying to [comment:1 wjp]:
> Conversions between `BooleanPolynomialRings` use name-based semantics rather than index-based ones like other polynomial rings:

One could argue that the semantics is inconsistent in usual polynomial rings, since it sometimes uses the position and sometimes uses the name.

By position:

```
sage: P.<a,b,c>=QQ[]
sage: Q.<b,c,d>=QQ[]
sage: Q(P.0)
b
sage: Q(P.2)
d
sage: P(Q.0)
a
sage: P(Q.2)
c
```

By name:

```
sage: R.<b,c>=QQ[]
sage: P(R.0)
b
```


And sometimes it does neither work by name nor by position:

```
sage: R.<b,x>=QQ[]
sage: P(R.0)
<BOOM>
```

It is conversion, not coercion! It *should* give an answer, not an error!

So, I see no reason to change the behaviour of polybori conversions, which at least is straight forward, unlike the polynomial conversion, which seems like "use position if the number of variables coincides; use name if the variable names of the first ring are a subset of the variable names of the second ring; raise an error otherwise, even if one simply tries to convert a variable whose name occurs in both rings".

In any case: Note that I implemented the new coercion model for pbori in #9138. So, if you really intend to change the semantics then I suggest to work on top of that.

Cheers,
Simon
