# Issue 18373: Bug: Circular Descent Check in WeylGroups

Issue created by migration from https://trac.sagemath.org/ticket/18610

Original creator: nathanwilliams

Original creation time: 2015-06-04 16:26:02

CC:  vivianepons stumpc5




---

Comment by nathanwilliams created at 2015-06-04 16:29:02

Changing type from PLEASE CHANGE to defect.


---

Comment by nathanwilliams created at 2015-06-04 16:29:02

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by nathanwilliams created at 2015-06-04 16:29:02

Changing keywords from "" to "sagedays64.5,coxeter,descent".


---

Comment by tscrim created at 2015-06-04 17:18:46

This is because the Weyl group element implements `has_descent`, which is the standard entry point, and the default implementations do the following call structure:

```
has_descent -> has_left_descent <-> has_right_descent
```

since I think most code calls `has_descent` and gives the shortest path function call path if someone only implements `has_left_descent`. So the solution would be to explicitly have `has_left_descent(i)` call `has_descent(i, side='left')`.


---

Comment by nathanwilliams created at 2015-06-04 19:52:07

Changing status from new to needs_review.


---

Comment by nathanwilliams created at 2015-06-04 19:52:07

The suggestion is essentially a good one, but fails because `CoxeterGroups().example()` is in a category where this again will cause an infinite loop.  Changing `has_right_descent(i)` in the way suggested works.
----
New commits:


---

Comment by chapoton created at 2015-06-05 07:26:30

see #15456


---

Comment by nathanwilliams created at 2015-06-05 07:39:16

Oy.  Veni, vidi, reliqui.


---

Comment by chapoton created at 2015-06-05 07:56:46

I think this really needs to be solved.

Either you go this way, but add a doctest, or you use the other ticket.


---

Comment by chapoton created at 2015-06-05 07:56:46

Changing status from needs_review to needs_work.


---

Comment by nathanwilliams created at 2015-06-05 16:02:42

Replying to [comment:7 chapoton]:
> I think this really needs to be solved.
> 
> Either you go this way, but add a doctest, or you use the other ticket.

I had added a test, so could I ask you to be more specific about what you would like?


---

Comment by git created at 2015-06-05 22:42:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by nathanwilliams created at 2015-06-05 22:45:06

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2015-06-06 20:04:32

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2015-06-06 20:04:32

ok, this does not seem to break anything. Let it be


---

Comment by vbraun created at 2015-06-06 22:42:45

Resolution: fixed
