# Issue 20867: indeterminacy locus for rational maps

Issue created by migration from https://trac.sagemath.org/ticket/21104

Original creator: mmanes

Original creation time: 2016-07-27 13:44:11

Create function to compute the indeterminancy locus of a rational map on projective space.




---

Comment by mmanes created at 2016-07-28 14:30:11

New commits:


---

Comment by mmanes created at 2016-07-28 14:30:11

Changing status from new to needs_review.


---

Comment by mmanes created at 2016-07-28 18:25:47

I want to add functionality for indeterminacy_points when the indeterminacy locus is a zero-dimensional subscheme.


---

Comment by mmanes created at 2016-07-28 18:25:47

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-07-29 14:59:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mmanes created at 2016-07-29 14:59:44

New commits:


---

Comment by mmanes created at 2016-07-29 14:59:44

Changing status from needs_work to needs_review.


---

Comment by bhutz created at 2016-07-29 15:23:41

Everything works find, just a couple minor things

- need to wrap long doc lines

- do not need the line

`F = self.base_ring()`

- output of indet_pts: spelling of indet.

- double quote F everywhere it occurs in docs

- if not F.is_field() should be inside F is not None if branch

- need doctest to test that F works

Here are some interesting examples I was trying. They all work, so add which ever you think


```
%time
set_verbose(None)
P.<x,y,z>=ProjectiveSpace(QQ,2)
H=End(P)
f=H([x^2+y^2,y^2-z^2,x^2+z^2])
f.indeterminacy_points(F=QuadraticField(-1))
```



```
%time
set_verbose(None)
K.<t>=FunctionField(QQ)
P.<x,y,z>=ProjectiveSpace(K,2)
H=End(P)
f=H([x^2-t^2*y^2,y^2-z^2,x^2-t^2*z^2])
f.indeterminacy_points()
```



```
%time
set_verbose(None)
P.<x,y,z>=ProjectiveSpace(Qp(3),2)
H=End(P)
f=H([x^2-7*y^2,y^2-z^2,x^2-7*z^2])
f.indeterminacy_points()
```


- you should add a warning/note of some kind in the docs about the fact that these functions do not normalize the coordinates for examples such as


```
P.<x,y,z>=ProjectiveSpace(QQ,2)
H=End(P)
f=H([x*x^2,x*y^2,x*z^2])
f.indeterminacy_locus()
```



---

Comment by bhutz created at 2016-07-29 15:23:41

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-07-29 15:58:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mmanes created at 2016-07-29 15:59:51

Changing status from needs_work to needs_review.


---

Comment by bhutz created at 2016-07-29 17:49:13

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-08-10 22:27:21

Resolution: fixed
