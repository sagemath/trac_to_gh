# Issue 13412: SIGABRT in unit_part() for padic extension elements

Issue created by migration from Trac.

Original creator: saraedum

Original creation time: 2012-10-18 13:52:54

Assignee: roed

CC:  roed

The following code produces a SIGABRT:

```
sage: R = Zp(5,5)
sage: S.<x> = R[]
sage: f = x^5 + 75*x^3 - 15*x^2 +125*x - 5
sage: W.<w> = R.ext(f)
sage: z = (1+w)^5
sage: y = z - 1
sage: t=y-y
sage: t.unit_part()
fatal error:
   internal error: can't grow this _ntl_gbigint
exit...
```



---

Comment by saraedum created at 2012-10-18 13:55:54

I added print statements, and it seems that the line

```
ans.unit = self.unit
```

is causing the trouble.

I have no clue what could be the problem here. Do you have any hints?


---

Attachment


---

Comment by roed created at 2012-10-24 07:20:18

Changing status from new to needs_review.


---

Comment by roed created at 2012-10-24 07:20:18

The problem is that `_normalize` deletes `self.unit` if there's no relative precision, since NTL can't handle modulus 5<sup>0</sup>.  The attached patch fixes the problem and adds some documentation for fixed modulus elements.


---

Comment by vbraun created at 2012-12-03 10:14:50

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-12-17 09:40:28

Resolution: fixed
