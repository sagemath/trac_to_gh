# Issue 31392: Fix a regression in show(obj) for string obj

Issue created by migration from https://trac.sagemath.org/ticket/31629

Original creator: klee

Original creation time: 2021-04-09 09:39:04

CC:  egourgoulhon

The ticket #31536 merged to Sage 9.3.rc2 introduced a regression such that

```
sage: show('$x+1$')
```

displays a nicely rendered expression! Before, the same code displayed a verbatim string `$x+1$`. 

The symptom is related with how `html(...)` works. This

```
sage: html('$x+1$')
```

also renders the math in the string (before and after #31536).

This ticket introduces `strict` mode to `html()` to fix the regression.


---

Comment by git created at 2021-04-09 09:42:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2021-04-09 09:44:01

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-05-10 17:42:09

Moving to 9.4, as 9.3 has been released.


---

Comment by git created at 2021-05-11 00:38:52

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by slelievre created at 2021-05-23 08:48:38

Related: #31847.


---

Comment by klee created at 2021-05-31 03:34:13

ping


---

Comment by tscrim created at 2021-06-01 01:00:47

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2021-06-01 01:00:47

LGTM.


---

Comment by klee created at 2021-06-01 01:18:54

Replying to [comment:11 tscrim]:
> LGTM.

Thank you as always!


---

Comment by egourgoulhon created at 2021-06-01 21:32:49

Thanks for the fix!


---

Comment by slelievre created at 2021-06-02 07:38:05

Setting to critical as the change in `show`
for latex expressions breaks user code, see e.g.

- [Ask Sage question 57396](https://ask.sagemath.org/question/57396)


---

Comment by slelievre created at 2021-06-02 07:38:05

Changing priority from minor to critical.


---

Comment by vbraun created at 2021-06-07 21:40:33

Resolution: fixed
