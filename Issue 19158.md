# Issue 19158: Implement Tableau to sign matrix code

archive/issues_019158.json:
```json
{
    "body": "CC:  @tscrim @kevindilks @jessicapalencia\n\nKeywords: Tableau\n\nI would like to add code for Sage to turn a Tableau into a Sign Matrix.\n\nIssue created by migration from https://trac.sagemath.org/ticket/19395\n\n",
    "closed_at": "2015-12-07T17:27:38Z",
    "created_at": "2015-10-12T16:17:32Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Implement Tableau to sign matrix code",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19158",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```
CC:  @tscrim @kevindilks @jessicapalencia

Keywords: Tableau

I would like to add code for Sage to turn a Tableau into a Sign Matrix.

Issue created by migration from https://trac.sagemath.org/ticket/19395





---

archive/issue_comments_262595.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-10-13T16:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262595",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_262596.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-10-13T16:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262596",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

New commits:



---

archive/issue_comments_262597.json:
```json
{
    "body": "In terms of documentation:\n\n* Change the two paragraphs after the first one into `INPUT` and `OUTPUT` blocks ( http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content ).\n* Change the start of the docstring from `\"\"\"` to `r\"\"\"`. This changes the way the text is read when compiled. Then things enclosed in two graves (like ```self```) will show up kind of bolded with a background, and is used to indicate variable names in the code. Things encased in a single set of graves will be read in math-mode. So things like numbers can go in there, and you can also do `'m\\times n'`, and it should tex that.\n\nIn terms of the code:\n* I wouldn't use sparse matrices. Your code goes through defines what the `partial_sum_matrix` and `sign_matrix` is at every single entry, so you're not taking advantage of the structure of sparse matrices. In fact, I picked a random SSYT of shape `[1000,999,998,...,2,1]` with `max_entry=10000`, and using sparse matrices was 4 times slower than not using sparse matrices.\n* Add some tests, one or two simple examples to check, one or two checking possible fringe cases (ie, making sure your code can handle things like the empty tableau, if such a thing exists).\n* Is m actually a parameter, or is m always the largest entry in the tableau? If it's always going to be the largest entry in the tableau, then it shouldn't be a parameter. But sometimes you want to consider the largest *possible* entry, in which case something like the SSYT `{[[1,1],[2]]`} would be a valid member of the set of SSYT of shape `[2,1]` with largest possible entry 3. In that case, I would change the name of the parameter m to `max_entry`. Make it default to the largest entry appearing in the tableau if the user doesn't specify a parameter. Your code should also check to make sure that any `{max_entry`} parameter entered into this method is at least as big as the largest entry in the tableau.",
    "created_at": "2015-10-13T20:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262597",
    "user": "https://github.com/kevindilks"
}
```

In terms of documentation:

* Change the two paragraphs after the first one into `INPUT` and `OUTPUT` blocks ( http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content ).
* Change the start of the docstring from `"""` to `r"""`. This changes the way the text is read when compiled. Then things enclosed in two graves (like ```self```) will show up kind of bolded with a background, and is used to indicate variable names in the code. Things encased in a single set of graves will be read in math-mode. So things like numbers can go in there, and you can also do `'m\times n'`, and it should tex that.

In terms of the code:
* I wouldn't use sparse matrices. Your code goes through defines what the `partial_sum_matrix` and `sign_matrix` is at every single entry, so you're not taking advantage of the structure of sparse matrices. In fact, I picked a random SSYT of shape `[1000,999,998,...,2,1]` with `max_entry=10000`, and using sparse matrices was 4 times slower than not using sparse matrices.
* Add some tests, one or two simple examples to check, one or two checking possible fringe cases (ie, making sure your code can handle things like the empty tableau, if such a thing exists).
* Is m actually a parameter, or is m always the largest entry in the tableau? If it's always going to be the largest entry in the tableau, then it shouldn't be a parameter. But sometimes you want to consider the largest *possible* entry, in which case something like the SSYT `{[[1,1],[2]]`} would be a valid member of the set of SSYT of shape `[2,1]` with largest possible entry 3. In that case, I would change the name of the parameter m to `max_entry`. Make it default to the largest entry appearing in the tableau if the user doesn't specify a parameter. Your code should also check to make sure that any `{max_entry`} parameter entered into this method is at least as big as the largest entry in the tableau.



---

archive/issue_comments_262598.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-13T20:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262598",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_262599.json:
```json
{
    "body": "Replying to [comment:3 kdilks]:\n> In terms of the code:\n> * I wouldn't use sparse matrices. Your code goes through defines what the `partial_sum_matrix` and `sign_matrix` is at every single entry, so you're not taking advantage of the structure of sparse matrices. In fact, I picked a random SSYT of shape `[1000,999,998,...,2,1]` with `max_entry=10000`, and using sparse matrices was 4 times slower than not using sparse matrices.\n\n\nJust to expand on this a little bit, the way Sage creates sparse matrices is fairly bad. So just remove the `sparse=True` part from the `MatrixSpace` line.\n\nYou should also make sure that `self` is the name of the first argument to any method. This is a python convention that is very strictly followed.",
    "created_at": "2015-10-13T20:37:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262599",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:3 kdilks]:
> In terms of the code:
> * I wouldn't use sparse matrices. Your code goes through defines what the `partial_sum_matrix` and `sign_matrix` is at every single entry, so you're not taking advantage of the structure of sparse matrices. In fact, I picked a random SSYT of shape `[1000,999,998,...,2,1]` with `max_entry=10000`, and using sparse matrices was 4 times slower than not using sparse matrices.


Just to expand on this a little bit, the way Sage creates sparse matrices is fairly bad. So just remove the `sparse=True` part from the `MatrixSpace` line.

You should also make sure that `self` is the name of the first argument to any method. This is a python convention that is very strictly followed.



---

archive/issue_comments_262600.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-04T16:40:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262600",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262601.json:
```json
{
    "body": "I made the suggested changes and all tests have passed.",
    "created_at": "2015-11-04T16:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262601",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

I made the suggested changes and all tests have passed.



---

archive/issue_comments_262602.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-11-04T16:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262602",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_262603.json:
```json
{
    "body": "Cleaned up the documentation a little bit. I also added a default parameter for `max_entry`.\n\n---\nNew commits:",
    "created_at": "2015-11-04T17:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262603",
    "user": "https://github.com/kevindilks"
}
```

Cleaned up the documentation a little bit. I also added a default parameter for `max_entry`.

---
New commits:



---

archive/issue_comments_262604.json:
```json
{
    "body": "* missing one blank line after `INPUT:`\n\n* `max_entry==None` should rather be `max_entry is None`",
    "created_at": "2015-11-04T17:59:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262604",
    "user": "https://github.com/fchapoton"
}
```

* missing one blank line after `INPUT:`

* `max_entry==None` should rather be `max_entry is None`



---

archive/issue_comments_262605.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-12-02T16:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262605",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

New commits:



---

archive/issue_comments_262606.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-02T17:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262606",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262607.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-02T18:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262607",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_262608.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-12-02T19:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262608",
    "user": "https://github.com/tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_262609.json:
```json
{
    "body": "One minor thing: `'m \\times n'` should be ``m \\times n``.",
    "created_at": "2015-12-02T19:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262609",
    "user": "https://github.com/tscrim"
}
```

One minor thing: `'m \times n'` should be ``m \times n``.



---

archive/issue_comments_262610.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-05T22:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262610",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_262611.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-12-05T22:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262611",
    "user": "https://trac.sagemath.org/admin/accounts/users/ssolhjem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_262612.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-05T22:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262612",
    "user": "https://github.com/kevindilks"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_262613.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-12-07T17:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19158#issuecomment-262613",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_053617.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-07T17:27:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19158",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19158#event-53617"
}
```
