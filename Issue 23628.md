# Issue 23628: disable a very long doctest in omega.py

archive/issues_023628.json:
```json
{
    "body": "CC:  dkrenn\n\nDisable the following from `sage/rings/polynomial/omega.py` that takes forever without any justification\n\n```\nsage: from sage.rings.polynomial.omega import Omega_ge\nsage: %time Omega_ge(0, (2, 2, 1, 1, 1, 1, 1, -1, -1))[0].number_of_terms()\nCPU times: user 53.1 s, sys: 66 ms, total: 53.2 s\nWall time: 53.1 s\n27837\n```\n\n(running the doctests in `omega.py` takes longer than running the doctests in all other files from `sage/rings/polynomial/`)\n\nIssue created by migration from https://trac.sagemath.org/ticket/23865\n\n",
    "created_at": "2017-09-15T07:31:08Z",
    "labels": [
        "documentation",
        "major",
        "bug"
    ],
    "title": "disable a very long doctest in omega.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23628",
    "user": "vdelecroix"
}
```
CC:  dkrenn

Disable the following from `sage/rings/polynomial/omega.py` that takes forever without any justification

```
sage: from sage.rings.polynomial.omega import Omega_ge
sage: %time Omega_ge(0, (2, 2, 1, 1, 1, 1, 1, -1, -1))[0].number_of_terms()
CPU times: user 53.1 s, sys: 66 ms, total: 53.2 s
Wall time: 53.1 s
27837
```

(running the doctests in `omega.py` takes longer than running the doctests in all other files from `sage/rings/polynomial/`)

Issue created by migration from https://trac.sagemath.org/ticket/23865





---

archive/issue_comments_330948.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-09-15T07:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330948",
    "user": "vdelecroix"
}
```

New commits:



---

archive/issue_comments_330949.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-15T07:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330949",
    "user": "vdelecroix"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_330950.json:
```json
{
    "body": "Instead of disabling it, could the test be simplified?",
    "created_at": "2017-09-15T07:40:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330950",
    "user": "jdemeyer"
}
```

Instead of disabling it, could the test be simplified?



---

archive/issue_comments_330951.json:
```json
{
    "body": "This is why I put dkrenn in copy! I am not exactly sure what this doctest is meant for.",
    "created_at": "2017-09-15T07:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330951",
    "user": "vdelecroix"
}
```

This is why I put dkrenn in copy! I am not exactly sure what this doctest is meant for.



---

archive/issue_comments_330952.json:
```json
{
    "body": "Replying to [comment:2 jdemeyer]:\n> Instead of disabling it, could the test be simplified?\n\nYes, this can be simplified. I'll provide a corrected version in the next days.",
    "created_at": "2017-09-19T12:36:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330952",
    "user": "dkrenn"
}
```

Replying to [comment:2 jdemeyer]:
> Instead of disabling it, could the test be simplified?

Yes, this can be simplified. I'll provide a corrected version in the next days.



---

archive/issue_comments_330953.json:
```json
{
    "body": "Replying to [ticket:23865 vdelecroix]:\n> Disable the following from `sage/rings/polynomial/omega.py` that takes forever without any justification\n\nThe motivation for having this is, that there is a separate computation for the result meaning that the result is somehow verified. I do not recall that it took that long and will investigate.",
    "created_at": "2017-09-19T12:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330953",
    "user": "dkrenn"
}
```

Replying to [ticket:23865 vdelecroix]:
> Disable the following from `sage/rings/polynomial/omega.py` that takes forever without any justification

The motivation for having this is, that there is a separate computation for the result meaning that the result is somehow verified. I do not recall that it took that long and will investigate.



---

archive/issue_comments_330954.json:
```json
{
    "body": "Thanks Daniel!",
    "created_at": "2017-09-19T12:45:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330954",
    "user": "vdelecroix"
}
```

Thanks Daniel!



---

archive/issue_comments_330955.json:
```json
{
    "body": "Small reviewer patch added (`untested` --> `not tested`) and I've added a new, shorter doctest which needs a small cross review. [Good to go from my side.]\n----\nNew commits:",
    "created_at": "2017-09-19T16:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330955",
    "user": "dkrenn"
}
```

Small reviewer patch added (`untested` --> `not tested`) and I've added a new, shorter doctest which needs a small cross review. [Good to go from my side.]
----
New commits:



---

archive/issue_comments_330956.json:
```json
{
    "body": "FYI, all non-long tests in the file now take 1 second; including the long tests 2 seconds.",
    "created_at": "2017-09-19T16:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330956",
    "user": "dkrenn"
}
```

FYI, all non-long tests in the file now take 1 second; including the long tests 2 seconds.



---

archive/issue_comments_330957.json:
```json
{
    "body": "Indeed, on the patchbot it is now\n\n```\nsage -t --long src/sage/rings/polynomial/omega.py\n    [127 tests, 1.84 s]\n```\n\n\nThanks!",
    "created_at": "2017-09-19T20:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330957",
    "user": "vdelecroix"
}
```

Indeed, on the patchbot it is now

```
sage -t --long src/sage/rings/polynomial/omega.py
    [127 tests, 1.84 s]
```


Thanks!



---

archive/issue_comments_330958.json:
```json
{
    "body": "oups. I forgot to positive review it...",
    "created_at": "2017-10-04T06:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330958",
    "user": "vdelecroix"
}
```

oups. I forgot to positive review it...



---

archive/issue_comments_330959.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-04T06:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330959",
    "user": "vdelecroix"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_330960.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-05T06:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23628#issuecomment-330960",
    "user": "vbraun"
}
```

Resolution: fixed
