# Issue 32540: Allow some imports of RLF to fail

archive/issues_032540.json:
```json
{
    "body": "CC:  @kliem tscrim tmonteil\n\nThe `RealLazyField` implementation is tied closely to `real_mpfr`.\n\nWe modify some imports for the purpose of modularization, in particular **sagemath-polyhedra** (#32432)\n\nIn particular for `... is RLF` tests:\n\n```\n$ git grep 'is RLF'\nsrc/sage/rings/complex_double.pyx:        if S is ZZ or S is QQ or S is RDF or S is RLF:\nsrc/sage/rings/number_field/number_field_base.pyx:        if codomain is AA or codomain is RLF:\nsrc/sage/rings/real_double.pyx:        if S is ZZ or S is QQ or S is RLF:\nsrc/sage/schemes/plane_conics/con_number_field.py:                if not (isinstance(p, Map) and p.category_for().is_subcategory(Rings())) or p.codomain() is AA or p.codomain() is RLF:\n```\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/32777\n\n",
    "created_at": "2021-10-26T19:37:50Z",
    "labels": [
        "refactoring",
        "major",
        "enhancement"
    ],
    "title": "Allow some imports of RLF to fail",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32540",
    "user": "mkoeppe"
}
```
CC:  @kliem tscrim tmonteil

The `RealLazyField` implementation is tied closely to `real_mpfr`.

We modify some imports for the purpose of modularization, in particular **sagemath-polyhedra** (#32432)

In particular for `... is RLF` tests:

```
$ git grep 'is RLF'
src/sage/rings/complex_double.pyx:        if S is ZZ or S is QQ or S is RDF or S is RLF:
src/sage/rings/number_field/number_field_base.pyx:        if codomain is AA or codomain is RLF:
src/sage/rings/real_double.pyx:        if S is ZZ or S is QQ or S is RLF:
src/sage/schemes/plane_conics/con_number_field.py:                if not (isinstance(p, Map) and p.category_for().is_subcategory(Rings())) or p.codomain() is AA or p.codomain() is RLF:
```



Issue created by migration from https://trac.sagemath.org/ticket/32777





---

archive/issue_comments_464203.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2021-10-26T22:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464203",
    "user": "mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_464204.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-26T22:50:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464204",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_464205.json:
```json
{
    "body": "This failure is not from this ticket:\n\n```\nsage -t --long --random-seed=321172385432269463934777057410284981568 src/sage/rings/integer.pyx  # 1 doctest failed\n```\n\n\nThis failure is likely from random seed fuzzing, not this ticket:\n\n```\nsage -t --long --random-seed=321172385432269463934777057410284981568 src/sage/rings/polynomial/multi_polynomial_ring_base.pyx  # 1 doctest failed\n```\n\nreported in #32544.",
    "created_at": "2021-10-28T05:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464205",
    "user": "mkoeppe"
}
```

This failure is not from this ticket:

```
sage -t --long --random-seed=321172385432269463934777057410284981568 src/sage/rings/integer.pyx  # 1 doctest failed
```


This failure is likely from random seed fuzzing, not this ticket:

```
sage -t --long --random-seed=321172385432269463934777057410284981568 src/sage/rings/polynomial/multi_polynomial_ring_base.pyx  # 1 doctest failed
```

reported in #32544.



---

archive/issue_comments_464206.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-29T00:24:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464206",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464207.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-04T05:50:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464207",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464208.json:
```json
{
    "body": "One green bot; one bot that's not feeling well",
    "created_at": "2021-11-04T21:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464208",
    "user": "mkoeppe"
}
```

One green bot; one bot that's not feeling well



---

archive/issue_comments_464209.json:
```json
{
    "body": "Replying to [comment:9 mkoeppe]:\n> One green bot; one bot that's not feeling well\n\nI stopped all my patchbots.",
    "created_at": "2021-11-04T21:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464209",
    "user": "tmonteil"
}
```

Replying to [comment:9 mkoeppe]:
> One green bot; one bot that's not feeling well

I stopped all my patchbots.



---

archive/issue_comments_464210.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-11-06T01:40:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464210",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_464211.json:
```json
{
    "body": "Thank you!",
    "created_at": "2021-11-06T17:44:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464211",
    "user": "mkoeppe"
}
```

Thank you!



---

archive/issue_comments_464212.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-11-07T09:42:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464212",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_464213.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2021-11-07T09:42:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464213",
    "user": "vbraun"
}
```

Merge conflict



---

archive/issue_comments_464214.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-11-07T16:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464214",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_464215.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-11-07T17:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464215",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_464216.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-11-07T17:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464216",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_464217.json:
```json
{
    "body": "trivial merge",
    "created_at": "2021-11-07T17:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464217",
    "user": "mkoeppe"
}
```

trivial merge



---

archive/issue_comments_464218.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-11-12T23:18:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464218",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_464219.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-11-12T23:18:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464219",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_464220.json:
```json
{
    "body": "Trivial merge with 9.5.beta6",
    "created_at": "2021-11-12T23:18:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464220",
    "user": "mkoeppe"
}
```

Trivial merge with 9.5.beta6



---

archive/issue_comments_464221.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-11-12T23:18:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464221",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_464222.json:
```json
{
    "body": "It was already merged, but then the branch changed and now its a merge conflict",
    "created_at": "2021-11-14T17:08:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464222",
    "user": "vbraun"
}
```

It was already merged, but then the branch changed and now its a merge conflict



---

archive/issue_comments_464223.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-11-14T17:08:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464223",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_464224.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-11-14T18:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464224",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_464225.json:
```json
{
    "body": "Sorry. Back to the previous commit.",
    "created_at": "2021-11-14T18:00:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464225",
    "user": "mkoeppe"
}
```

Sorry. Back to the previous commit.



---

archive/issue_comments_464226.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2021-11-14T18:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464226",
    "user": "mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_464227.json:
```json
{
    "body": "still merge conflict",
    "created_at": "2021-11-15T23:22:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464227",
    "user": "vbraun"
}
```

still merge conflict



---

archive/issue_comments_464228.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-11-15T23:22:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464228",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_464229.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-15T23:28:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464229",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_464230.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2021-11-15T23:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464230",
    "user": "mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_464231.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-12-05T11:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32540",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32540#issuecomment-464231",
    "user": "vbraun"
}
```

Resolution: fixed
