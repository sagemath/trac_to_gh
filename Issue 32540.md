# Issue 32540: Allow some imports of RLF to fail

Issue created by migration from https://trac.sagemath.org/ticket/32777

Original creator: mkoeppe

Original creation time: 2021-10-26 19:37:50

CC:  @kliem tscrim tmonteil

The `RealLazyField` implementation is tied closely to `real_mpfr`.

We modify some imports for the purpose of modularization, in particular *sagemath-polyhedra* (#32432)

In particular for `... is RLF` tests:

```
$ git grep 'is RLF'
src/sage/rings/complex_double.pyx:        if S is ZZ or S is QQ or S is RDF or S is RLF:
src/sage/rings/number_field/number_field_base.pyx:        if codomain is AA or codomain is RLF:
src/sage/rings/real_double.pyx:        if S is ZZ or S is QQ or S is RLF:
src/sage/schemes/plane_conics/con_number_field.py:                if not (isinstance(p, Map) and p.category_for().is_subcategory(Rings())) or p.codomain() is AA or p.codomain() is RLF:
```




---

Comment by mkoeppe created at 2021-10-26 22:20:28

Last 10 new commits:


---

Comment by mkoeppe created at 2021-10-26 22:50:09

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-10-28 05:12:36

This failure is not from this ticket:

```
sage -t --long --random-seed=321172385432269463934777057410284981568 src/sage/rings/integer.pyx  # 1 doctest failed
```


This failure is likely from random seed fuzzing, not this ticket:

```
sage -t --long --random-seed=321172385432269463934777057410284981568 src/sage/rings/polynomial/multi_polynomial_ring_base.pyx  # 1 doctest failed
```

reported in #32544.


---

Comment by git created at 2021-10-29 00:24:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-11-04 05:50:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-11-04 21:17:38

One green bot; one bot that's not feeling well


---

Comment by tmonteil created at 2021-11-04 21:22:06

Replying to [comment:9 mkoeppe]:
> One green bot; one bot that's not feeling well

I stopped all my patchbots.


---

Comment by tscrim created at 2021-11-06 01:40:43

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-11-06 17:44:03

Thank you!


---

Comment by vbraun created at 2021-11-07 09:42:25

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2021-11-07 09:42:25

Merge conflict


---

Comment by git created at 2021-11-07 16:59:07

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by mkoeppe created at 2021-11-07 17:02:52

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2021-11-07 17:41:34

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-11-07 17:41:34

trivial merge


---

Comment by git created at 2021-11-12 23:18:38

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2021-11-12 23:18:38

Changing status from positive_review to needs_review.


---

Comment by mkoeppe created at 2021-11-12 23:18:57

Trivial merge with 9.5.beta6


---

Comment by mkoeppe created at 2021-11-12 23:18:57

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-11-14 17:08:35

It was already merged, but then the branch changed and now its a merge conflict


---

Comment by vbraun created at 2021-11-14 17:08:38

Changing status from positive_review to needs_work.


---

Comment by git created at 2021-11-14 18:00:23

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2021-11-14 18:00:42

Sorry. Back to the previous commit.


---

Comment by mkoeppe created at 2021-11-14 18:01:20

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2021-11-15 23:22:38

still merge conflict


---

Comment by vbraun created at 2021-11-15 23:22:38

Changing status from positive_review to needs_work.


---

Comment by git created at 2021-11-15 23:28:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-11-15 23:28:39

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2021-12-05 11:15:32

Resolution: fixed
