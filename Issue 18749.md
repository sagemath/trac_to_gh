# Issue 18749: IncidenceStructure.is_uniform, is_regular, and complement

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2015-08-04 10:48:04

CC:  dimpase vdelecroix

Three methods that we miss. One of them seems to be useful for #18972.

I have been trying to find a way for those methods to tell you at the same time if a hypergraph is `k` uniform, and the value of `k`. There is an unfortunate corner-case, but I still think that it is the best way to implement it.

Nathann


---

Comment by ncohen created at 2015-08-04 10:48:52

Changing status from new to needs_review.


---

Comment by ncohen created at 2015-08-04 10:48:52

Changing component from combinatorics to combinatorial designs.


---

Comment by ncohen created at 2015-08-04 10:48:52

New commits:


---

Comment by dimpase created at 2015-08-07 10:00:17

LGTM


---

Comment by dimpase created at 2015-08-07 10:00:17

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2015-08-07 10:19:00

How would I use `complement` in #1897 ? I need it to be called with `uniform=True`. How does one write this:

```
def complement(): # not actual code
    return self.???inherited???.complement(uniform=True)
```


thanks,
Dima


---

Comment by dimpase created at 2015-08-07 10:30:01

I tried 

```
   def complement(self):
        return super(self).complement(uniform=True)
```

and got 

```
sage: p=graphs.CompleteGraph(8).line_graph().twograph()
sage: p.complement()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-2-cc3764592501> in <module>()
----> 1 p.complement()

/home/dima/software/sage/local/lib/python2.7/site-packages/sage/combinat/designs/twographs.pyc in complement(self)
    141 #        return TwoGraph(filter(lambda x: not list(x) in self.blocks(),
    142 #                                combinations(self.ground_set(), 3)))
--> 143         return super(self).complement(uniform=True)
    144 
    145 """

TypeError: must be type, not TwoGraph
```



---

Comment by dimpase created at 2015-08-07 10:34:21

Replying to [comment:4 dimpase]:
> I tried 
> {{{
>    def complement(self):
>         return super(self).complement(uniform=True)
> }}}
> and got 
> {{{
> sage: p=graphs.CompleteGraph(8).line_graph().twograph()
> sage: p.complement()
> ---------------------------------------------------------------------------
> TypeError                                 Traceback (most recent call last)
> <ipython-input-2-cc3764592501> in <module>()
> ----> 1 p.complement()
> 
> /home/dima/software/sage/local/lib/python2.7/site-packages/sage/combinat/designs/twographs.pyc in complement(self)
>     141 #        return TwoGraph(filter(lambda x: not list(x) in self.blocks(),
>     142 #                                combinations(self.ground_set(), 3)))
> --> 143         return super(self).complement(uniform=True)
>     144 
>     145 """
> 
> TypeError: must be type, not TwoGraph
> }}}

Oh, I see, it must be `super(TwoGraph,self)`. Then it works, OK, question answered, sorry for noise.


---

Comment by vbraun created at 2015-08-07 23:11:19

Resolution: fixed
