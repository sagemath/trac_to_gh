# Issue 24211: Extend Sage doc builder so that it can be used for third party packages

Issue created by migration from Trac.

Original creator: SimonKing

Original creation time: 2017-12-30 09:23:27

CC:  jdemeyer

Keywords: docbuild

Motivated by #24447 (building cvxopt's doc) and by my own hope to facilitate building the documentation of my group cohomology spkg, I suggest extending Sage's framework for building documentation, so that it can be used outside the Sage src tree.

In other words,

```
sage --docdir=<outpath> -docbuild <srcpath> <html/pdf/...>
```

should go to `<srcpath>`, try to build the docs there (of course under the assumption that the doc format is compatible with what is used in the Sage sources), and install the documentation in `<outpath>`.


---

Comment by SimonKing created at 2017-12-30 12:04:01

`@`Jeroen, if I understand correctly you authored much of the current docbuilder.

From the information provided by `sage -docbuild --help`, I expected the following to do at least something:

```
./sage -docbuild /home/king/Projekte/coho/coho-3.0-devel/src/pGroupCohomology/cochain.pyx --output=/home/king/Projekte/coho/documentation/
```

However, it just prints the help, but doesn't tell what is wrong.

Can you explain to me what should be done instead, and where to look for in order to implement something that works as in the ticket description?


---

Comment by jdemeyer created at 2017-12-30 16:48:29

Replying to [comment:1 SimonKing]:
> `@`Jeroen, if I understand correctly you authored much of the current docbuilder.

That is not actually true. I worked more on the introspection/autodoc aspects of the documentation, not on the build process.


---

Comment by jdemeyer created at 2017-12-30 16:50:24

Replying to [ticket:24448 SimonKing]:
> I suggest extending Sage's framework for building documentation, so that it can be used outside the Sage src tree.

I would rather do the converse: use the standard existing tools to build the Sage documentation, which can also be used by other packages independent of Sage.

Why can't you use plain Sphinx to build the cvxopt documentation?


---

Comment by SimonKing created at 2017-12-30 16:53:38

Replying to [comment:4 jdemeyer]:
> Replying to [ticket:24448 SimonKing]:
> > I suggest extending Sage's framework for building documentation, so that it can be used outside the Sage src tree.
> 
> I would rather do the converse: use the standard existing tools to build the Sage documentation, which can also be used by other packages independent of Sage.
> 
> Why can't you use plain Sphinx to build the cvxopt documentation?

Is Sphinx part of the Sage distribution? Then I guess one should simply uncomment the commented-out code in `cvxopt`'s spkg-install.


---

Comment by SimonKing created at 2017-12-30 16:55:04

Replying to [comment:5 SimonKing]:
> Replying to [comment:4 jdemeyer]:
> > Replying to [ticket:24448 SimonKing]:
> > > I suggest extending Sage's framework for building documentation, so that it can be used outside the Sage src tree.
> > 
> > I would rather do the converse: use the standard existing tools to build the Sage documentation, which can also be used by other packages independent of Sage.
> > 
> > Why can't you use plain Sphinx to build the cvxopt documentation?
> 
> Is Sphinx part of the Sage distribution? 

I just see that it is a standard package. Alright then: Make cvxopt depend on sphinx and allow the documentation to be built!
