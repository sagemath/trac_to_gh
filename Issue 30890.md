# Issue 30890: FPLLL 5.4.0 on macOS with homebrew

Issue created by migration from https://trac.sagemath.org/ticket/31127

Original creator: dcoudert

Original creation time: 2020-12-29 00:00:16

CC:  malb mkoeppe fbissey

After #31025, homebrew `fplll` is not detected which leads to a compilation error of `fpylll`.
See discussion on https://groups.google.com/g/sage-release/c/1rJF7CzEksY and
https://trac.sagemath.org/ticket/31025#comment:41

This patch fixes the issue.


---

Comment by dcoudert created at 2020-12-29 00:02:34

Changing status from new to needs_review.


---

Comment by dcoudert created at 2020-12-29 00:02:34

New commits:


---

Comment by dcoudert created at 2020-12-29 00:02:34

Changing priority from major to critical.


---

Comment by mkoeppe created at 2020-12-29 00:21:05

Changing status from needs_review to needs_work.


---

Comment by mkoeppe created at 2020-12-29 00:21:05

Using '>=' is definitely not the right fix -- see the comment right above the change in the file and discussion in #31025.


---

Comment by fbissey created at 2020-12-29 00:21:33

According to https://autotools.io/pkgconfig/pkg_check_modules.html you shouldn't use `==` but `=`. And it is indeed correct here

```
fbissey@equinoxe ~ $ pkg-config --exists --print-errors "libzip = 1.7"
Requested 'libzip = 1.7' but version of libzip is 1.7.3
fbissey@equinoxe ~ $ pkg-config --exists --print-errors "libzip == 1.7"
Unknown version comparison operator '==' after package name 'libzip' in file '(command line arguments)'
```



---

Comment by git created at 2020-12-29 01:55:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2020-12-29 01:57:09

For me `fplll = 5.4.0` works, but not `fplll = 5.4`.


---

Comment by mkoeppe created at 2020-12-29 02:01:27

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2021-01-03 12:15:43

Resolution: fixed
