# Issue 14702: Implement method to expand cycle index series as symmetric function in variables

archive/issues_014702.json:
```json
{
    "body": "Assignee: agd\n\nCC:  @mguaypaq\n\nThe cycle index series of a species is a symmetric function in the power-sum basis. Expanding this symmetric function in a set of underlying variables can reveal interesting enumerative information about the species; the coefficients of this underlying power series count \"partially-labeled\" structures in a P\u00f3lya-theoretic sense.\n\nThe attached patch adds an ``expand_as_sf`` method to the ``CycleIndexSeries`` class which performs this expansion. It essentially just calls the ``expand`` method of the underlying symmetric functions, then uses the result as the terms of a ``LazyPowerSeries``.\n\nThis code is doctested and ready for review.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14906\n\n",
    "created_at": "2013-07-17T20:23:03Z",
    "labels": [
        "combinatorics",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Implement method to expand cycle index series as symmetric function in variables",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14702",
    "user": "agd"
}
```
Assignee: agd

CC:  @mguaypaq

The cycle index series of a species is a symmetric function in the power-sum basis. Expanding this symmetric function in a set of underlying variables can reveal interesting enumerative information about the species; the coefficients of this underlying power series count "partially-labeled" structures in a PÃ³lya-theoretic sense.

The attached patch adds an ``expand_as_sf`` method to the ``CycleIndexSeries`` class which performs this expansion. It essentially just calls the ``expand`` method of the underlying symmetric functions, then uses the result as the terms of a ``LazyPowerSeries``.

This code is doctested and ready for review.

Issue created by migration from https://trac.sagemath.org/ticket/14906





---

archive/issue_comments_187315.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-07-17T20:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187315",
    "user": "agd"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_187316.json:
```json
{
    "body": "For the patchbot:\n\napply trac_14906-cycle_index_expand_as_sf.patch",
    "created_at": "2013-07-17T20:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187316",
    "user": "agd"
}
```

For the patchbot:

apply trac_14906-cycle_index_expand_as_sf.patch



---

archive/issue_comments_187317.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-07-25T21:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187317",
    "user": "@mguaypaq"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_187318.json:
```json
{
    "body": "The patchbot is complaining about a problem with the commit message (it shouldn't contain the `[mq]` that it currently starts with, and it should include the ticket number `14906` somewhere). I'll let you fix this yourself.\n\nMeanwhile, the code is straightforward and documented, and the html and pdf documentation both build without errors and look fine. I'll play around with the code some more, but it's looking good so far!",
    "created_at": "2013-07-25T21:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187318",
    "user": "@mguaypaq"
}
```

The patchbot is complaining about a problem with the commit message (it shouldn't contain the `[mq]` that it currently starts with, and it should include the ticket number `14906` somewhere). I'll let you fix this yourself.

Meanwhile, the code is straightforward and documented, and the html and pdf documentation both build without errors and look fine. I'll play around with the code some more, but it's looking good so far!



---

archive/issue_comments_187319.json:
```json
{
    "body": "Attachment [trac_14906-cycle_index_expand_as_sf.patch](tarball://root/attachments/some-uuid/ticket14906/trac_14906-cycle_index_expand_as_sf.patch) by agd created at 2013-07-26 16:14:24",
    "created_at": "2013-07-26T16:14:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187319",
    "user": "agd"
}
```

Attachment [trac_14906-cycle_index_expand_as_sf.patch](tarball://root/attachments/some-uuid/ticket14906/trac_14906-cycle_index_expand_as_sf.patch) by agd created at 2013-07-26 16:14:24



---

archive/issue_comments_187320.json:
```json
{
    "body": "Thanks for the feedback! I have uploaded a new patch which corrects the commit message.",
    "created_at": "2013-07-26T16:18:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187320",
    "user": "agd"
}
```

Thanks for the feedback! I have uploaded a new patch which corrects the commit message.



---

archive/issue_comments_187321.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-07-26T16:18:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187321",
    "user": "agd"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_187322.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-29T19:45:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187322",
    "user": "@mguaypaq"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_187323.json:
```json
{
    "body": "I checked that the output of this function on a few examples agrees with the data from Table 4.1 (Cycle index series of particular species) from Bergeron, Labelle and Leroux's book \"Combinatorial Species and Tree-Like Structures\", so I believe that it's mathematically correct.\n\nAlso, the commit message issue is now fixed.\n\nThe only potential problem is the patchbot's startup_time plugin which failed in the latest round of testing. However, the patch only adds a small method to an existing class, so I can't believe that it would really cause a speed regression.\n\nPositive review!",
    "created_at": "2013-07-29T19:45:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187323",
    "user": "@mguaypaq"
}
```

I checked that the output of this function on a few examples agrees with the data from Table 4.1 (Cycle index series of particular species) from Bergeron, Labelle and Leroux's book "Combinatorial Species and Tree-Like Structures", so I believe that it's mathematically correct.

Also, the commit message issue is now fixed.

The only potential problem is the patchbot's startup_time plugin which failed in the latest round of testing. However, the patch only adds a small method to an existing class, so I can't believe that it would really cause a speed regression.

Positive review!



---

archive/issue_comments_187324.json:
```json
{
    "body": "Thanks for the review! The startup_time failure is a mystery to me as well; as you say, this is just one small method!",
    "created_at": "2013-07-30T03:19:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187324",
    "user": "agd"
}
```

Thanks for the review! The startup_time failure is a mystery to me as well; as you say, this is just one small method!



---

archive/issue_comments_187325.json:
```json
{
    "body": "Please make it clear whether the patch or the git branch should be merged. In the latter case, change the milestone to sage-6.0.",
    "created_at": "2013-08-19T06:36:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187325",
    "user": "@jdemeyer"
}
```

Please make it clear whether the patch or the git branch should be merged. In the latter case, change the milestone to sage-6.0.



---

archive/issue_comments_187326.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-21T08:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14702#issuecomment-187326",
    "user": "@jdemeyer"
}
```

Resolution: fixed
