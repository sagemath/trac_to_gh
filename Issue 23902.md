# Issue 23902: Allow baseline to be given as part of ascii_art and unicode_art

archive/issues_023902.json:
```json
{
    "body": "CC:  chapoton\n\nKeywords: ascii unicode art\n\nCurrently they are too restrictive on the keywords, in particular they do not allow passing `baseline` to the created object. This means to set the baseline, we have to do\n\n```\nsage: a = ascii_art('2\\n1\\n0')\nsage: a._baseline = 1\nsage: a + ascii_art('<-')\n2\n1<-\n0\n```\n\nThis makes them quite cumbersome to deal with.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24139\n\n",
    "created_at": "2017-11-01T13:02:56Z",
    "labels": [
        "user interface",
        "major",
        "enhancement"
    ],
    "title": "Allow baseline to be given as part of ascii_art and unicode_art",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23902",
    "user": "tscrim"
}
```
CC:  chapoton

Keywords: ascii unicode art

Currently they are too restrictive on the keywords, in particular they do not allow passing `baseline` to the created object. This means to set the baseline, we have to do

```
sage: a = ascii_art('2\n1\n0')
sage: a._baseline = 1
sage: a + ascii_art('<-')
2
1<-
0
```

This makes them quite cumbersome to deal with.

Issue created by migration from https://trac.sagemath.org/ticket/24139





---

archive/issue_comments_335054.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-11-01T13:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335054",
    "user": "tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_335055.json:
```json
{
    "body": "Something for a followup ticket: It would be really handy to have `ascii_art('2') + '3'` work and same for `*`.\n----\nNew commits:",
    "created_at": "2017-11-01T13:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335055",
    "user": "tscrim"
}
```

Something for a followup ticket: It would be really handy to have `ascii_art('2') + '3'` work and same for `*`.
----
New commits:



---

archive/issue_comments_335056.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-11-03T11:42:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335056",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335057.json:
```json
{
    "body": "**The improvements to the ascii_art and unicode_art classes work well**. But I noticed two cases where my intuition about the usage of the keywords failed. The first one does also concern the preliminary version and has nothing to do with the changes:\n\n1) 'sep'-keyword is ignored if a list is passed (since it is considered as one object)\n\n\n\n```\nsage: ascii_art(list(Partitions(6)), sep=' | ')\n\n[                                                       * ]\n[                                                   **  * ]\n[                                      ***      **  *   * ]\n[                      ****       ***  *    **  **  *   * ]\n[         *****  ****  *     ***  **   *    **  *   *   * ]\n[ ******, *    , **  , *   , ***, *  , *  , **, * , * , * ]\n\n```\n\n\nTo have the separator in the list you must do\n\n\n\n```\nsage: p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11 = list(Partitions(6))\nsage: ascii_art(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11, sep=' | ')\n                                                                *\n                                                           **   *\n                                           ***        **   *    *\n                        ****         ***   *     **   **   *    *\n         *****   ****   *      ***   **    *     **   *    *    *\n****** | *     | **   | *    | *** | *   | *   | ** | *  | *  | *\n\n```\n\n\n\n\n2) the 'sep_baseline' keyword is ignored when the separators are not strings but AsciiArt objects themselves\n\n\n\n```\nsage: sep_line = AsciiArt(lines = [' | ' for _ in range(6)])\nsage: part6_up = [ascii_art(part, baseline=len(part)) for part in Partitions(6)]\nsage: p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11 = part6_up\nsage: ascii_art(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11, sep=sep_line, sep_baseline=6)\n       |       |      |      |     |     |     |    |    |    |\n       |       |      |      |     |     |     |    |    |    |\n       |       |      |      |     |     |     |    |    |    |\n       |       |      |      |     |     |     |    |    |    |\n       |       |      |      |     |     |     |    |    |    |\n       |       |      |      |     |     |     |    |    |    |\n******   *****   ****   ****   ***   ***   ***   **   **   **   *\n         *       **     *      ***   **    *     **   **   *    *\n                        *            *     *     **   *    *    *\n                                           *          *    *    *\n                                                           *    *\n                                                                *\n\n```\n\n\nSince the intension of the ticket is to make the usage more comfortable you should think about the following extension which I have tried and which I display in the case of unicode:\n\n\n\n\n\n\n```\ndiff --git a/src/sage/typeset/unicode_art.py b/src/sage/typeset/unicode_art.py\nindex dbdd028..c1bc878 100644\n--- a/src/sage/typeset/unicode_art.py\n+++ b/src/sage/typeset/unicode_art.py\n@@ -122,9 +122,18 @@ def unicode_art(*obj, **kwds):\n     if kwds:\n         raise ValueError('unknown keyword arguments: {0}'.format(list(kwds)))\n     if len(obj) == 1:\n-        return _unicode_art_factory.build(obj[0], baseline=baseline)\n+        if type(obj[0]) ==  list and len(separator) > 0:\n+            # soehms JAN 2017 (trac #24139): allow to apply separators to lists (instead of \",\")\n+            obj = obj[0]\n+        else:\n+            return _unicode_art_factory.build(obj[0], baseline=baseline)\n     if not isinstance(separator, UnicodeArt):\n         separator = _unicode_art_factory.build(separator, baseline=sep_baseline)\n+    elif sep_baseline != None:\n+        # soehms JAN 2017 (trac #24139): allow to apply sep_baseline to a given separator\n+        from copy import copy\n+        separator = copy(separator)\n+        separator._baseline = sep_baseline\n     obj = map(_unicode_art_factory.build, obj)\n     return _unicode_art_factory.concatenate(obj, separator, empty_unicode_art,\n                                             baseline=baseline)\n```\n\n\n\nRepeating the above tests with these changes gives:\n\n\n\n```\nsage: ascii_art(list(Partitions(6)), sep=' | ')\n\n                                                                *\n                                                           **   *\n                                           ***        **   *    *\n                        ****         ***   *     **   **   *    *\n         *****   ****   *      ***   **    *     **   *    *    *\n****** | *     | **   | *    | *** | *   | *   | ** | *  | *  | *\n\n\n\n\nsage: ascii_art(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11, sep=sep_line, sep_baseline=6)\n****** | ***** | **** | **** | *** | *** | *** | ** | ** | ** | *\n       | *     | **   | *    | *** | **  | *   | ** | ** | *  | *\n       |       |      | *    |     | *   | *   | ** | *  | *  | *\n       |       |      |      |     |     | *   |    | *  | *  | *\n       |       |      |      |     |     |     |    |    | *  | *\n       |       |      |      |     |     |     |    |    |    | *\n\n```\n\n\n**I leave it up top you, if you follow my suggestions or not.**\nPlease tell me if I should push my suggestions to the trac server (and how to do it the best way).",
    "created_at": "2018-01-20T20:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335057",
    "user": "soehms"
}
```

**The improvements to the ascii_art and unicode_art classes work well**. But I noticed two cases where my intuition about the usage of the keywords failed. The first one does also concern the preliminary version and has nothing to do with the changes:

1) 'sep'-keyword is ignored if a list is passed (since it is considered as one object)



```
sage: ascii_art(list(Partitions(6)), sep=' | ')

[                                                       * ]
[                                                   **  * ]
[                                      ***      **  *   * ]
[                      ****       ***  *    **  **  *   * ]
[         *****  ****  *     ***  **   *    **  *   *   * ]
[ ******, *    , **  , *   , ***, *  , *  , **, * , * , * ]

```


To have the separator in the list you must do



```
sage: p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11 = list(Partitions(6))
sage: ascii_art(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11, sep=' | ')
                                                                *
                                                           **   *
                                           ***        **   *    *
                        ****         ***   *     **   **   *    *
         *****   ****   *      ***   **    *     **   *    *    *
****** | *     | **   | *    | *** | *   | *   | ** | *  | *  | *

```




2) the 'sep_baseline' keyword is ignored when the separators are not strings but AsciiArt objects themselves



```
sage: sep_line = AsciiArt(lines = [' | ' for _ in range(6)])
sage: part6_up = [ascii_art(part, baseline=len(part)) for part in Partitions(6)]
sage: p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11 = part6_up
sage: ascii_art(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11, sep=sep_line, sep_baseline=6)
       |       |      |      |     |     |     |    |    |    |
       |       |      |      |     |     |     |    |    |    |
       |       |      |      |     |     |     |    |    |    |
       |       |      |      |     |     |     |    |    |    |
       |       |      |      |     |     |     |    |    |    |
       |       |      |      |     |     |     |    |    |    |
******   *****   ****   ****   ***   ***   ***   **   **   **   *
         *       **     *      ***   **    *     **   **   *    *
                        *            *     *     **   *    *    *
                                           *          *    *    *
                                                           *    *
                                                                *

```


Since the intension of the ticket is to make the usage more comfortable you should think about the following extension which I have tried and which I display in the case of unicode:






```
diff --git a/src/sage/typeset/unicode_art.py b/src/sage/typeset/unicode_art.py
index dbdd028..c1bc878 100644
--- a/src/sage/typeset/unicode_art.py
+++ b/src/sage/typeset/unicode_art.py
@@ -122,9 +122,18 @@ def unicode_art(*obj, **kwds):
     if kwds:
         raise ValueError('unknown keyword arguments: {0}'.format(list(kwds)))
     if len(obj) == 1:
-        return _unicode_art_factory.build(obj[0], baseline=baseline)
+        if type(obj[0]) ==  list and len(separator) > 0:
+            # soehms JAN 2017 (trac #24139): allow to apply separators to lists (instead of ",")
+            obj = obj[0]
+        else:
+            return _unicode_art_factory.build(obj[0], baseline=baseline)
     if not isinstance(separator, UnicodeArt):
         separator = _unicode_art_factory.build(separator, baseline=sep_baseline)
+    elif sep_baseline != None:
+        # soehms JAN 2017 (trac #24139): allow to apply sep_baseline to a given separator
+        from copy import copy
+        separator = copy(separator)
+        separator._baseline = sep_baseline
     obj = map(_unicode_art_factory.build, obj)
     return _unicode_art_factory.concatenate(obj, separator, empty_unicode_art,
                                             baseline=baseline)
```



Repeating the above tests with these changes gives:



```
sage: ascii_art(list(Partitions(6)), sep=' | ')

                                                                *
                                                           **   *
                                           ***        **   *    *
                        ****         ***   *     **   **   *    *
         *****   ****   *      ***   **    *     **   *    *    *
****** | *     | **   | *    | *** | *   | *   | ** | *  | *  | *




sage: ascii_art(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11, sep=sep_line, sep_baseline=6)
****** | ***** | **** | **** | *** | *** | *** | ** | ** | ** | *
       | *     | **   | *    | *** | **  | *   | ** | ** | *  | *
       |       |      | *    |     | *   | *   | ** | *  | *  | *
       |       |      |      |     |     | *   |    | *  | *  | *
       |       |      |      |     |     |     |    |    | *  | *
       |       |      |      |     |     |     |    |    |    | *

```


**I leave it up top you, if you follow my suggestions or not.**
Please tell me if I should push my suggestions to the trac server (and how to do it the best way).



---

archive/issue_comments_335058.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-22T01:13:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335058",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335059.json:
```json
{
    "body": "Replying to [comment:4 soehms]:\n> **The improvements to the ascii_art and unicode_art classes work well**. But I noticed two cases where my intuition about the usage of the keywords failed. The first one does also concern the preliminary version and has nothing to do with the changes:\n\nThank you for looking at this. You will need to put your real name in the reviewer slot.\n\n> 1) 'sep'-keyword is ignored if a list is passed (since it is considered as one object)\n> {{{\n> sage: ascii_art(list(Partitions(6)), sep=' | ')\n> [                                                       * ]\n> [                                                   **  * ]\n> [                                      ***      **  *   * ]\n> [                      ****       ***  *    **  **  *   * ]\n> [         *****  ****  *     ***  **   *    **  *   *   * ]\n> [ ******, *    , **  , *   , ***, *  , *  , **, * , * , * ]\n> }}}\n> To have the separator in the list you must do\n> {{{\n> sage: p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11 = list(Partitions(6))\n> sage: ascii_art(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11, sep=' | ')\n>                                                                 *\n>                                                            **   *\n>                                            ***        **   *    *\n>                         ****         ***   *     **   **   *    *\n>          *****   ****   *      ***   **    *     **   *    *    *\n> ****** | *     | **   | *    | *** | *   | *   | ** | *  | *  | *\n> }}}\n\nI actually agree with the behavior as is as otherwise you could not (naturally) create the ascii art of a list. Python has a way to expand the list by using `ascii_art(*Partitions(6), sep='|')`.\n\n> 2) the 'sep_baseline' keyword is ignored when the separators are not strings but AsciiArt objects themselves\n> {{{\n> sage: sep_line = AsciiArt(lines = [' | ' for _ in range(6)])\n> sage: part6_up = [ascii_art(part, baseline=len(part)) for part in Partitions(6)]\n> sage: p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11 = part6_up\n> sage: ascii_art(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11, sep=sep_line, sep_baseline=6)\n>        |       |      |      |     |     |     |    |    |    |\n>        |       |      |      |     |     |     |    |    |    |\n>        |       |      |      |     |     |     |    |    |    |\n>        |       |      |      |     |     |     |    |    |    |\n>        |       |      |      |     |     |     |    |    |    |\n>        |       |      |      |     |     |     |    |    |    |\n> ******   *****   ****   ****   ***   ***   ***   **   **   **   *\n>          *       **     *      ***   **    *     **   **   *    *\n>                         *            *     *     **   *    *    *\n>                                            *          *    *    *\n>                                                            *    *\n>                                                                 *\n> \n> }}}\n\nI agree, that should set the baseline for the separator. Fixed.",
    "created_at": "2018-01-22T01:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335059",
    "user": "tscrim"
}
```

Replying to [comment:4 soehms]:
> **The improvements to the ascii_art and unicode_art classes work well**. But I noticed two cases where my intuition about the usage of the keywords failed. The first one does also concern the preliminary version and has nothing to do with the changes:

Thank you for looking at this. You will need to put your real name in the reviewer slot.

> 1) 'sep'-keyword is ignored if a list is passed (since it is considered as one object)
> {{{
> sage: ascii_art(list(Partitions(6)), sep=' | ')
> [                                                       * ]
> [                                                   **  * ]
> [                                      ***      **  *   * ]
> [                      ****       ***  *    **  **  *   * ]
> [         *****  ****  *     ***  **   *    **  *   *   * ]
> [ ******, *    , **  , *   , ***, *  , *  , **, * , * , * ]
> }}}
> To have the separator in the list you must do
> {{{
> sage: p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11 = list(Partitions(6))
> sage: ascii_art(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11, sep=' | ')
>                                                                 *
>                                                            **   *
>                                            ***        **   *    *
>                         ****         ***   *     **   **   *    *
>          *****   ****   *      ***   **    *     **   *    *    *
> ****** | *     | **   | *    | *** | *   | *   | ** | *  | *  | *
> }}}

I actually agree with the behavior as is as otherwise you could not (naturally) create the ascii art of a list. Python has a way to expand the list by using `ascii_art(*Partitions(6), sep='|')`.

> 2) the 'sep_baseline' keyword is ignored when the separators are not strings but AsciiArt objects themselves
> {{{
> sage: sep_line = AsciiArt(lines = [' | ' for _ in range(6)])
> sage: part6_up = [ascii_art(part, baseline=len(part)) for part in Partitions(6)]
> sage: p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11 = part6_up
> sage: ascii_art(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11, sep=sep_line, sep_baseline=6)
>        |       |      |      |     |     |     |    |    |    |
>        |       |      |      |     |     |     |    |    |    |
>        |       |      |      |     |     |     |    |    |    |
>        |       |      |      |     |     |     |    |    |    |
>        |       |      |      |     |     |     |    |    |    |
>        |       |      |      |     |     |     |    |    |    |
> ******   *****   ****   ****   ***   ***   ***   **   **   **   *
>          *       **     *      ***   **    *     **   **   *    *
>                         *            *     *     **   *    *    *
>                                            *          *    *    *
>                                                            *    *
>                                                                 *
> 
> }}}

I agree, that should set the baseline for the separator. Fixed.



---

archive/issue_comments_335060.json:
```json
{
    "body": "Ad 1) Although the user must not necessarily be an advanced python developer, I agree with you. My suggestion would be a kind of \"auto correction\" feature. Actually, I don't like them, too. \n\nAd 2) I don't understand your reply. You say: agreed and fixed. But it looks as if you just changed the doc-string and not the code (and just for ascii_art.py and not for unicode_art.py).",
    "created_at": "2018-01-24T22:38:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335060",
    "user": "soehms"
}
```

Ad 1) Although the user must not necessarily be an advanced python developer, I agree with you. My suggestion would be a kind of "auto correction" feature. Actually, I don't like them, too. 

Ad 2) I don't understand your reply. You say: agreed and fixed. But it looks as if you just changed the doc-string and not the code (and just for ascii_art.py and not for unicode_art.py).



---

archive/issue_comments_335061.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-25T16:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335061",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335062.json:
```json
{
    "body": "Replying to [comment:7 soehms]:\n> Ad 1) Although the user must not necessarily be an advanced python developer, I agree with you. My suggestion would be a kind of \"auto correction\" feature. Actually, I don't like them, too. \n\nHowever it would be a large behavioral change and, IMO, be very unnatural to create the ascii/unicode art of a list.\n\n> Ad 2) I don't understand your reply. You say: agreed and fixed. But it looks as if you just changed the doc-string and not the code (and just for ascii_art.py and not for unicode_art.py).\n\nI thought I had added those changes as part of my commit, but IDK what happened to them. I might not have saved the file. Anyways, I have pushed them for sure this time. :)",
    "created_at": "2018-01-25T16:12:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335062",
    "user": "tscrim"
}
```

Replying to [comment:7 soehms]:
> Ad 1) Although the user must not necessarily be an advanced python developer, I agree with you. My suggestion would be a kind of "auto correction" feature. Actually, I don't like them, too. 

However it would be a large behavioral change and, IMO, be very unnatural to create the ascii/unicode art of a list.

> Ad 2) I don't understand your reply. You say: agreed and fixed. But it looks as if you just changed the doc-string and not the code (and just for ascii_art.py and not for unicode_art.py).

I thought I had added those changes as part of my commit, but IDK what happened to them. I might not have saved the file. Anyways, I have pushed them for sure this time. :)



---

archive/issue_comments_335063.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-28T09:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335063",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335064.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-01-28T09:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335064",
    "user": "soehms"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_335065.json:
```json
{
    "body": "Now, everything seems to be o.K. (except a formatting mistake with missing blanks in the doc-string of unicode_art.py). I am pushing the correction in order to learn this work-flow.\n\nConcerning my first issue, I think we had a misunderstanding, because I focused to much on the non expanded list as argument. But my criticism was against the given \"sep\"-keyword to be ignored without any reaction (not even a warning).But I completely understand, that you don't want to change the default behavior.",
    "created_at": "2018-01-28T09:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335065",
    "user": "soehms"
}
```

Now, everything seems to be o.K. (except a formatting mistake with missing blanks in the doc-string of unicode_art.py). I am pushing the correction in order to learn this work-flow.

Concerning my first issue, I think we had a misunderstanding, because I focused to much on the non expanded list as argument. But my criticism was against the given "sep"-keyword to be ignored without any reaction (not even a warning).But I completely understand, that you don't want to change the default behavior.



---

archive/issue_comments_335066.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-02-01T19:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335066",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_335067.json:
```json
{
    "body": "PDF docs fail\n\n```\n[docpdf] \n[docpdf] ! Package inputenc Error: Unicode char \u2524 (U+2524)\n[docpdf] (inputenc)                not set up for use with LaTeX.\n[docpdf] \n[docpdf] See the inputenc package documentation for explanation.\n[docpdf] Type  H <return>  for immediate help.\n[docpdf]  ...                                              \n[docpdf]                                                   \n[docpdf] l.20426 ...      \u239f     \u239f \u250c\u252c\u2510 \u239f \u251c\u2524}\n[docpdf]                                                   \n```\n",
    "created_at": "2018-02-01T19:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335067",
    "user": "vbraun"
}
```

PDF docs fail

```
[docpdf] 
[docpdf] ! Package inputenc Error: Unicode char ┤ (U+2524)
[docpdf] (inputenc)                not set up for use with LaTeX.
[docpdf] 
[docpdf] See the inputenc package documentation for explanation.
[docpdf] Type  H <return>  for immediate help.
[docpdf]  ...                                              
[docpdf]                                                   
[docpdf] l.20426 ...      ⎟     ⎟ ┌┬┐ ⎟ ├┤}
[docpdf]                                                   
```




---

archive/issue_comments_335068.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-02T02:23:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335068",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_335069.json:
```json
{
    "body": "Here I was thinking there wouldn't be any problems with the pdf because these examples already were in `partition.py`. However, they are not actually included in the documentation. So instead, I am sweeping the issue under the rug by instead using alternating sign matrices, but those were missing a unicode art method. This fixes the pdf docbuild issue.",
    "created_at": "2018-02-02T02:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335069",
    "user": "tscrim"
}
```

Here I was thinking there wouldn't be any problems with the pdf because these examples already were in `partition.py`. However, they are not actually included in the documentation. So instead, I am sweeping the issue under the rug by instead using alternating sign matrices, but those were missing a unicode art method. This fixes the pdf docbuild issue.



---

archive/issue_comments_335070.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-02-02T02:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335070",
    "user": "tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_335071.json:
```json
{
    "body": "Maybe, I have some beginners irritations, right now. But, as the PDF-compiliation error was not detected by \"sage -t\" I now get this:\n\n\n\n```\nsage -t src/sage/typeset/unicode_art.py\n**********************************************************************\nFile \"src/sage/typeset/unicode_art.py\", line 109, in sage.typeset.unicode_art.unicode_art\nFailed example:\n    unicode_art(*AlternatingSignMatrices(3),\n                separator=sep_line, sep_baseline=1)\nExpected:\n            \u239f         \u239f         \u239f            \u239f         \u239f         \u239f\n    \u239b1 0 0\u239e \u239f \u239b0 1 0\u239e \u239f \u239b1 0 0\u239e \u239f \u239b 0  1  0\u239e \u239f \u239b0 0 1\u239e \u239f \u239b0 1 0\u239e \u239f \u239b0 0 1\u239e\n    \u239c0 1 0\u239f \u239f \u239c1 0 0\u239f \u239f \u239c0 0 1\u239f \u239f \u239c 1 -1  1\u239f \u239f \u239c1 0 0\u239f \u239f \u239c0 0 1\u239f \u239f \u239c0 1 0\u239f\n    \u239d0 0 1\u23a0 \u239f \u239d0 0 1\u23a0 \u239f \u239d0 1 0\u23a0 \u239f \u239d 0  1  0\u23a0 \u239f \u239d0 1 0\u23a0 \u239f \u239d1 0 0\u23a0 \u239f \u239d1 0 0\u23a0\n            \u239f         \u239f         \u239f            \u239f         \u239f         \u239f\nGot:\n            \u239f         \u239f         \u239f            \u239f         \u239f         \u239f\n    [1 0 0] \u239f [0 1 0] \u239f [1 0 0] \u239f [ 0  1  0] \u239f [0 0 1] \u239f [0 1 0] \u239f [0 0 1]\n    [0 1 0] \u239f [1 0 0] \u239f [0 0 1] \u239f [ 1 -1  1] \u239f [1 0 0] \u239f [0 0 1] \u239f [0 1 0]\n    [0 0 1] \u239f [0 0 1] \u239f [0 1 0] \u239f [ 0  1  0] \u239f [0 1 0] \u239f [1 0 0] \u239f [1 0 0]\n            \u239f         \u239f         \u239f            \u239f         \u239f         \u239f\n\n\n```\n\n\nI did it with: [SageMath](SageMath) version 8.2.beta4, Release Date: 2018-01-27",
    "created_at": "2018-02-03T09:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335071",
    "user": "soehms"
}
```

Maybe, I have some beginners irritations, right now. But, as the PDF-compiliation error was not detected by "sage -t" I now get this:



```
sage -t src/sage/typeset/unicode_art.py
**********************************************************************
File "src/sage/typeset/unicode_art.py", line 109, in sage.typeset.unicode_art.unicode_art
Failed example:
    unicode_art(*AlternatingSignMatrices(3),
                separator=sep_line, sep_baseline=1)
Expected:
            ⎟         ⎟         ⎟            ⎟         ⎟         ⎟
    ⎛1 0 0⎞ ⎟ ⎛0 1 0⎞ ⎟ ⎛1 0 0⎞ ⎟ ⎛ 0  1  0⎞ ⎟ ⎛0 0 1⎞ ⎟ ⎛0 1 0⎞ ⎟ ⎛0 0 1⎞
    ⎜0 1 0⎟ ⎟ ⎜1 0 0⎟ ⎟ ⎜0 0 1⎟ ⎟ ⎜ 1 -1  1⎟ ⎟ ⎜1 0 0⎟ ⎟ ⎜0 0 1⎟ ⎟ ⎜0 1 0⎟
    ⎝0 0 1⎠ ⎟ ⎝0 0 1⎠ ⎟ ⎝0 1 0⎠ ⎟ ⎝ 0  1  0⎠ ⎟ ⎝0 1 0⎠ ⎟ ⎝1 0 0⎠ ⎟ ⎝1 0 0⎠
            ⎟         ⎟         ⎟            ⎟         ⎟         ⎟
Got:
            ⎟         ⎟         ⎟            ⎟         ⎟         ⎟
    [1 0 0] ⎟ [0 1 0] ⎟ [1 0 0] ⎟ [ 0  1  0] ⎟ [0 0 1] ⎟ [0 1 0] ⎟ [0 0 1]
    [0 1 0] ⎟ [1 0 0] ⎟ [0 0 1] ⎟ [ 1 -1  1] ⎟ [1 0 0] ⎟ [0 0 1] ⎟ [0 1 0]
    [0 0 1] ⎟ [0 0 1] ⎟ [0 1 0] ⎟ [ 0  1  0] ⎟ [0 1 0] ⎟ [1 0 0] ⎟ [1 0 0]
            ⎟         ⎟         ⎟            ⎟         ⎟         ⎟


```


I did it with: [SageMath](SageMath) version 8.2.beta4, Release Date: 2018-01-27



---

archive/issue_comments_335072.json:
```json
{
    "body": "Did you rebuild Sage `sage -b`? (Protip: You can combine them as `sage -bt path/to/file` as well as build-run `sage -br`.) Also the pdf docbuild is something you have to run separately `sage -docbuild all pdf` IIRC.",
    "created_at": "2018-02-03T11:02:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335072",
    "user": "tscrim"
}
```

Did you rebuild Sage `sage -b`? (Protip: You can combine them as `sage -bt path/to/file` as well as build-run `sage -br`.) Also the pdf docbuild is something you have to run separately `sage -docbuild all pdf` IIRC.



---

archive/issue_comments_335073.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-04T20:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335073",
    "user": "soehms"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_335074.json:
```json
{
    "body": "Sorry, of course you are right, I must have forgotten `sage -b`. \n\nThanks for the hint with respect to the docbuild. Unfortunately the pdf docbuild does not run through successfully on my system.\nI guess I have some incompatible latex babel settings, since the building process stops to continue (but does not break) at `a_tour_of_sage` in other languages than English (hu is the first one, if you have a hint to this issue this would be great).\n\nBut of course, this has nothing to do with the unicode_art.",
    "created_at": "2018-02-04T20:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335074",
    "user": "soehms"
}
```

Sorry, of course you are right, I must have forgotten `sage -b`. 

Thanks for the hint with respect to the docbuild. Unfortunately the pdf docbuild does not run through successfully on my system.
I guess I have some incompatible latex babel settings, since the building process stops to continue (but does not break) at `a_tour_of_sage` in other languages than English (hu is the first one, if you have a hint to this issue this would be great).

But of course, this has nothing to do with the unicode_art.



---

archive/issue_comments_335075.json:
```json
{
    "body": "I don't think I've ever tried to build the pdf docs in other languages besides English... *shurgs*\n\nThank you for the review!",
    "created_at": "2018-02-04T21:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335075",
    "user": "tscrim"
}
```

I don't think I've ever tried to build the pdf docs in other languages besides English... *shurgs*

Thank you for the review!



---

archive/issue_comments_335076.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-02-09T08:04:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23902",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23902#issuecomment-335076",
    "user": "vbraun"
}
```

Resolution: fixed
