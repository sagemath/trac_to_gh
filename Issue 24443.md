# Issue 24443: Cleanup some deprecated functions (matrix and coding)

archive/issues_024443.json:
```json
{
    "body": "CC:  klee dimpase\n\nKeywords: deprecation\n\nThe following deprecations were issued in a release roughly 12 months or more ago: #21024, #20835, #21165, #20565, #20953, #20908, #20787, #20100, #18928, #21576, #19930, and can now be removed from Sage.\n\nNote that this removes numerous functions from the top-level namespace and other unwanted places.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24680\n\n",
    "created_at": "2018-02-07T10:46:18Z",
    "labels": [
        "algebra",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "Cleanup some deprecated functions (matrix and coding)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24443",
    "user": "jsrn"
}
```
CC:  klee dimpase

Keywords: deprecation

The following deprecations were issued in a release roughly 12 months or more ago: #21024, #20835, #21165, #20565, #20953, #20908, #20787, #20100, #18928, #21576, #19930, and can now be removed from Sage.

Note that this removes numerous functions from the top-level namespace and other unwanted places.

Issue created by migration from https://trac.sagemath.org/ticket/24680





---

archive/issue_comments_342832.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2018-02-07T12:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342832",
    "user": "jsrn"
}
```

Last 10 new commits:



---

archive/issue_comments_342833.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-02-07T12:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342833",
    "user": "jsrn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_342834.json:
```json
{
    "body": "Looks good to me. Just one question:\n\nNow `ReedSolomonCode` is not available under `codes`. Is this intended? \n\nReed-Solomon codes are of course part of Generalized Reed-Solomon codes. But I would expect to find distinct `ReedSolomonCode` under `codes`...",
    "created_at": "2018-02-08T04:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342834",
    "user": "klee"
}
```

Looks good to me. Just one question:

Now `ReedSolomonCode` is not available under `codes`. Is this intended? 

Reed-Solomon codes are of course part of Generalized Reed-Solomon codes. But I would expect to find distinct `ReedSolomonCode` under `codes`...



---

archive/issue_comments_342835.json:
```json
{
    "body": "Thanks for looking at it!\n\n> Now `ReedSolomonCode` is not available under `codes`. Is this intended? \n> \n> Reed-Solomon codes are of course part of Generalized Reed-Solomon codes. But I would expect to find distinct `ReedSolomonCode` under `codes`...\n\nGood catch! I agree that typing `codes.ReedSo<tab>` should definitely complete to something :-) I see 3 options:\n\n1. `ReedSolomonCode` should just be an alias of `GeneralizedReedSolomonCode`.\n\n2. Rename `GeneralizedReedSolomonCode` to `ReedSolomonCode` (with of course a deprecation period for `GeneralizedReedSolomonCode`. \n\n3. `ReedSolomonCode` should only construct classical\" Reed-Solomon codes, i.e. where the evaluation points are chosen as `x_i = alpha^i` for `i = 0,...,n-1` and `n | (q-1)`. These are cyclic codes and have in a few other respects nicer properties than choosing arbitrary evaluation points. If we choose this, we need to find a good signature for the function, which is not too confusing wrt. the signature of `GeneralizedReedSolomonCode`. E.g. `ReedSolomonCode(n, k, root_of_unity=None)` or something.\n\nI'm torn between option 2. and 3. What do you think?\n\nBest,\nJohan",
    "created_at": "2018-02-08T11:11:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342835",
    "user": "jsrn"
}
```

Thanks for looking at it!

> Now `ReedSolomonCode` is not available under `codes`. Is this intended? 
> 
> Reed-Solomon codes are of course part of Generalized Reed-Solomon codes. But I would expect to find distinct `ReedSolomonCode` under `codes`...

Good catch! I agree that typing `codes.ReedSo<tab>` should definitely complete to something :-) I see 3 options:

1. `ReedSolomonCode` should just be an alias of `GeneralizedReedSolomonCode`.

2. Rename `GeneralizedReedSolomonCode` to `ReedSolomonCode` (with of course a deprecation period for `GeneralizedReedSolomonCode`. 

3. `ReedSolomonCode` should only construct classical" Reed-Solomon codes, i.e. where the evaluation points are chosen as `x_i = alpha^i` for `i = 0,...,n-1` and `n | (q-1)`. These are cyclic codes and have in a few other respects nicer properties than choosing arbitrary evaluation points. If we choose this, we need to find a good signature for the function, which is not too confusing wrt. the signature of `GeneralizedReedSolomonCode`. E.g. `ReedSolomonCode(n, k, root_of_unity=None)` or something.

I'm torn between option 2. and 3. What do you think?

Best,
Johan



---

archive/issue_comments_342836.json:
```json
{
    "body": "Replying to [comment:5 jsrn]:\n> Thanks for looking at it!\n> \n> > Now `ReedSolomonCode` is not available under `codes`. Is this intended? \n> > \n> > Reed-Solomon codes are of course part of Generalized Reed-Solomon codes. But I would expect to find distinct `ReedSolomonCode` under `codes`...\n> \n> Good catch! I agree that typing `codes.ReedSo<tab>` should definitely complete to something :-) I see 3 options:\n> \n> 1. `ReedSolomonCode` should just be an alias of `GeneralizedReedSolomonCode`.\n> \n> 2. Rename `GeneralizedReedSolomonCode` to `ReedSolomonCode` (with of course a deprecation period for `GeneralizedReedSolomonCode`. \n> \n> 3. `ReedSolomonCode` should only construct classical\" Reed-Solomon codes, i.e. where the evaluation points are chosen as `x_i = alpha^i` for `i = 0,...,n-1` and `n | (q-1)`. These are cyclic codes and have in a few other respects nicer properties than choosing arbitrary evaluation points. If we choose this, we need to find a good signature for the function, which is not too confusing wrt. the signature of `GeneralizedReedSolomonCode`. E.g. `ReedSolomonCode(n, k, root_of_unity=None)` or something.\n> \n> I'm torn between option 2. and 3. What do you think?\n\nI prefer 3. For the proper signature, I like your suggestion. But I remind you that in `BCHCode`, the name `primitive_root` is used in the place of`root_of_unity`. I don't know which name is prevalent in sage...",
    "created_at": "2018-02-09T01:34:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342836",
    "user": "klee"
}
```

Replying to [comment:5 jsrn]:
> Thanks for looking at it!
> 
> > Now `ReedSolomonCode` is not available under `codes`. Is this intended? 
> > 
> > Reed-Solomon codes are of course part of Generalized Reed-Solomon codes. But I would expect to find distinct `ReedSolomonCode` under `codes`...
> 
> Good catch! I agree that typing `codes.ReedSo<tab>` should definitely complete to something :-) I see 3 options:
> 
> 1. `ReedSolomonCode` should just be an alias of `GeneralizedReedSolomonCode`.
> 
> 2. Rename `GeneralizedReedSolomonCode` to `ReedSolomonCode` (with of course a deprecation period for `GeneralizedReedSolomonCode`. 
> 
> 3. `ReedSolomonCode` should only construct classical" Reed-Solomon codes, i.e. where the evaluation points are chosen as `x_i = alpha^i` for `i = 0,...,n-1` and `n | (q-1)`. These are cyclic codes and have in a few other respects nicer properties than choosing arbitrary evaluation points. If we choose this, we need to find a good signature for the function, which is not too confusing wrt. the signature of `GeneralizedReedSolomonCode`. E.g. `ReedSolomonCode(n, k, root_of_unity=None)` or something.
> 
> I'm torn between option 2. and 3. What do you think?

I prefer 3. For the proper signature, I like your suggestion. But I remind you that in `BCHCode`, the name `primitive_root` is used in the place of`root_of_unity`. I don't know which name is prevalent in sage...



---

archive/issue_comments_342837.json:
```json
{
    "body": "Replying to [comment:6 klee]: \n> I prefer 3. For the proper signature, I like your suggestion. But I remind you that in `BCHCode`, the name `primitive_root` is used in the place of`root_of_unity`. I don't know which name is prevalent in sage...\n\nI think you're right. A convention from ancient times is that e.g. a 5th root of unity is also a 10th root of unity. So primitive is indeed a necessary adjective, and then `primitive_root` is a fairly short compromise.\n\nI'll look at fixing this!",
    "created_at": "2018-02-09T08:30:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342837",
    "user": "jsrn"
}
```

Replying to [comment:6 klee]: 
> I prefer 3. For the proper signature, I like your suggestion. But I remind you that in `BCHCode`, the name `primitive_root` is used in the place of`root_of_unity`. I don't know which name is prevalent in sage...

I think you're right. A convention from ancient times is that e.g. a 5th root of unity is also a 10th root of unity. So primitive is indeed a necessary adjective, and then `primitive_root` is a fairly short compromise.

I'll look at fixing this!



---

archive/issue_comments_342838.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-09T09:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342838",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342839.json:
```json
{
    "body": "I've implemented classical Reed-Solomon codes as a wrapper-function for the constructor `GeneralizedReedSolomonCode`. One could consider making this family of codes richer by sub-classing `GeneralizedReedSolomonCode` (e.g. to gain access to some cyclic code functionality directly), but I don't see a pressing need and it's definitely not for this ticket.\n\nBack to needs-review.",
    "created_at": "2018-02-09T09:27:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342839",
    "user": "jsrn"
}
```

I've implemented classical Reed-Solomon codes as a wrapper-function for the constructor `GeneralizedReedSolomonCode`. One could consider making this family of codes richer by sub-classing `GeneralizedReedSolomonCode` (e.g. to gain access to some cyclic code functionality directly), but I don't see a pressing need and it's definitely not for this ticket.

Back to needs-review.



---

archive/issue_comments_342840.json:
```json
{
    "body": "Replying to [comment:9 jsrn]:\n> I've implemented classical Reed-Solomon codes as a wrapper-function for the constructor `GeneralizedReedSolomonCode`. One could consider making this family of codes richer by sub-classing `GeneralizedReedSolomonCode` (e.g. to gain access to some cyclic code functionality directly), but I don't see a pressing need and it's definitely not for this ticket.\n\nOk. I now see you have already deprecated `codes.ReedSolomonCode`. Sorry that I didn't realize this before. Then definitely providing it back is not for this ticket, but I would expect its comeback later.\n\nOn the other hand, it seems to me that implementing `ReedSolomonCode` by subclassing is as easy as by wrapper-function and provides better functionality as you mentioned. Then why don't you make a separate ticket and move the code there?",
    "created_at": "2018-02-12T01:40:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342840",
    "user": "klee"
}
```

Replying to [comment:9 jsrn]:
> I've implemented classical Reed-Solomon codes as a wrapper-function for the constructor `GeneralizedReedSolomonCode`. One could consider making this family of codes richer by sub-classing `GeneralizedReedSolomonCode` (e.g. to gain access to some cyclic code functionality directly), but I don't see a pressing need and it's definitely not for this ticket.

Ok. I now see you have already deprecated `codes.ReedSolomonCode`. Sorry that I didn't realize this before. Then definitely providing it back is not for this ticket, but I would expect its comeback later.

On the other hand, it seems to me that implementing `ReedSolomonCode` by subclassing is as easy as by wrapper-function and provides better functionality as you mentioned. Then why don't you make a separate ticket and move the code there?



---

archive/issue_comments_342841.json:
```json
{
    "body": "Replying to [comment:10 klee]:\n> Ok. I now see you have already deprecated `codes.ReedSolomonCode`. Sorry that I didn't realize this before. Then definitely providing it back is not for this ticket, but I would expect its comeback later.\n\nWell, I don't know. With the deprecation warning, at least `codes.ReedSol<tab>` completed to something which then gave a pointer at the right thing to call. Removing it can leave new users thinking that RS codes are not in Sage, until that future ticket would be written. Putting a base implementation in here removes that gap. Plus, now I've already written it :-)\n\n> On the other hand, it seems to me that implementing `ReedSolomonCode` by subclassing is as easy as by wrapper-function and provides better functionality as you mentioned. Then why don't you make a separate ticket and move the code there?\n\nBe my guest, but this doesn't personally itch me. Sub-classing it is easy but requires more docs, and is (slightly worse than) pointless unless one also implements the few extra service methods. Right now the user can access the cyclic code stuff by just wrapping the RS code in a `CyclicCode`. I've even added an example of this in the doc.\n\nPlus I already wrote the wrapper-function code :-)\n\nYou could also green-light this code and open a new ticket about the sub-class if you care about it. As long as the sub-class implementation sticks to the same calling interface, no deprecation or anything would be needed in that new ticket.\n\nBest,\nJohan",
    "created_at": "2018-02-12T17:29:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342841",
    "user": "jsrn"
}
```

Replying to [comment:10 klee]:
> Ok. I now see you have already deprecated `codes.ReedSolomonCode`. Sorry that I didn't realize this before. Then definitely providing it back is not for this ticket, but I would expect its comeback later.

Well, I don't know. With the deprecation warning, at least `codes.ReedSol<tab>` completed to something which then gave a pointer at the right thing to call. Removing it can leave new users thinking that RS codes are not in Sage, until that future ticket would be written. Putting a base implementation in here removes that gap. Plus, now I've already written it :-)

> On the other hand, it seems to me that implementing `ReedSolomonCode` by subclassing is as easy as by wrapper-function and provides better functionality as you mentioned. Then why don't you make a separate ticket and move the code there?

Be my guest, but this doesn't personally itch me. Sub-classing it is easy but requires more docs, and is (slightly worse than) pointless unless one also implements the few extra service methods. Right now the user can access the cyclic code stuff by just wrapping the RS code in a `CyclicCode`. I've even added an example of this in the doc.

Plus I already wrote the wrapper-function code :-)

You could also green-light this code and open a new ticket about the sub-class if you care about it. As long as the sub-class implementation sticks to the same calling interface, no deprecation or anything would be needed in that new ticket.

Best,
Johan



---

archive/issue_comments_342842.json:
```json
{
    "body": "Replying to [comment:11 jsrn]:\n> Replying to [comment:10 klee]:\n> > Ok. I now see you have already deprecated `codes.ReedSolomonCode`. Sorry that I didn't realize this before. Then definitely providing it back is not for this ticket, but I would expect its comeback later.\n> \n> Well, I don't know. With the deprecation warning, at least `codes.ReedSol<tab>` completed to something which then gave a pointer at the right thing to call. Removing it can leave new users thinking that RS codes are not in Sage, until that future ticket would be written. Putting a base implementation in here removes that gap. Plus, now I've already written it :-)\n\nI agree.\n \n> > On the other hand, it seems to me that implementing `ReedSolomonCode` by subclassing is as easy as by wrapper-function and provides better functionality as you mentioned. Then why don't you make a separate ticket and move the code there?\n> \n> Be my guest, but this doesn't personally itch me. Sub-classing it is easy but requires more docs, and is (slightly worse than) pointless unless one also implements the few extra service methods. Right now the user can access the cyclic code stuff by just wrapping the RS code in a `CyclicCode`. I've even added an example of this in the doc.\n> \n> Plus I already wrote the wrapper-function code :-)\n> \n> You could also green-light this code and open a new ticket about the sub-class if you care about it. As long as the sub-class implementation sticks to the same calling interface, no deprecation or anything would be needed in that new ticket.\n\nOk, then. I agree that the current implementation is good enough. On the other hand, I am not sure if I care about the subclass-based implementation. \n\nLet's wait for the patchbots then.",
    "created_at": "2018-02-13T00:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342842",
    "user": "klee"
}
```

Replying to [comment:11 jsrn]:
> Replying to [comment:10 klee]:
> > Ok. I now see you have already deprecated `codes.ReedSolomonCode`. Sorry that I didn't realize this before. Then definitely providing it back is not for this ticket, but I would expect its comeback later.
> 
> Well, I don't know. With the deprecation warning, at least `codes.ReedSol<tab>` completed to something which then gave a pointer at the right thing to call. Removing it can leave new users thinking that RS codes are not in Sage, until that future ticket would be written. Putting a base implementation in here removes that gap. Plus, now I've already written it :-)

I agree.
 
> > On the other hand, it seems to me that implementing `ReedSolomonCode` by subclassing is as easy as by wrapper-function and provides better functionality as you mentioned. Then why don't you make a separate ticket and move the code there?
> 
> Be my guest, but this doesn't personally itch me. Sub-classing it is easy but requires more docs, and is (slightly worse than) pointless unless one also implements the few extra service methods. Right now the user can access the cyclic code stuff by just wrapping the RS code in a `CyclicCode`. I've even added an example of this in the doc.
> 
> Plus I already wrote the wrapper-function code :-)
> 
> You could also green-light this code and open a new ticket about the sub-class if you care about it. As long as the sub-class implementation sticks to the same calling interface, no deprecation or anything would be needed in that new ticket.

Ok, then. I agree that the current implementation is good enough. On the other hand, I am not sure if I care about the subclass-based implementation. 

Let's wait for the patchbots then.



---

archive/issue_comments_342843.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-19T21:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342843",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_342844.json:
```json
{
    "body": "Fixed what the patchbot complained about.\n\n`@`jdemeyer: thanks for finding the exact earliest merge date.",
    "created_at": "2018-02-19T21:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342844",
    "user": "jsrn"
}
```

Fixed what the patchbot complained about.

`@`jdemeyer: thanks for finding the exact earliest merge date.



---

archive/issue_comments_342845.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-21T07:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342845",
    "user": "klee"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_342846.json:
```json
{
    "body": "The patchbots are not reliable presently. So I ran all tests on my machine with no failures, other than one irrelevant timed-out. I conclude that the patch is good to go.",
    "created_at": "2018-02-21T07:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342846",
    "user": "klee"
}
```

The patchbots are not reliable presently. So I ran all tests on my machine with no failures, other than one irrelevant timed-out. I conclude that the patch is good to go.



---

archive/issue_comments_342847.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-08T17:26:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24443#issuecomment-342847",
    "user": "vbraun"
}
```

Resolution: fixed
