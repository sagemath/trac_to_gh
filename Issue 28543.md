# Issue 28543: bug: equality with euler's formula

Issue created by migration from https://trac.sagemath.org/ticket/28780

Original creator: @matthuszagh

Original creation time: 2019-11-20 20:35:40

I've found a bug that appears to invalidate the transitive property of equality when dealing with Euler's formula.


```
x=var('x')
m=var('m')
n=var('n')
f(x)=sin(m*x)*cos(n*x)
g(x)=((exp(I*m*x)-exp(-I*m*x))*(exp(I*n*x)+exp(-I*n*x)))/(4*I)
h(x)=(exp(I*x*(m+n))+exp(I*x*(m-n))-exp(I*x*(n-m))-exp(-I*x*(m+n)))/(4*I)
bool(f(x)==g(x))
bool(g(x)==h(x))
bool(f(x)==h(x))
```

Gives:
True
True
False

'SageMath version 8.9, Release Date: 2019-09-29'


---

Comment by kcrisman created at 2019-11-26 14:14:58

Interestingly,

```
f = f.simplify_full()
g = g.simplify_full()
h = h.simplify_full()
bool((f(x)==g(x)).simplify_full())
bool((g(x)==h(x)).simplify_full())
bool((f(x)==h(x)).simplify_full())
```

yields all `True`, but if I remove the latter `simplify_full`s in the `bool` statements, then we get TFF, even weirder.

As usual, there are probably branch cut issues involved ...


---

Comment by embray created at 2020-01-06 14:10:03

Ticket retargeted after milestone closed


---

Comment by mkoeppe created at 2020-05-01 04:28:42

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.


---

Comment by mkoeppe created at 2021-05-10 17:42:09

Moving to 9.4, as 9.3 has been released.
