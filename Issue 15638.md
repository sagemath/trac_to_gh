# Issue 15638: Add is_subposet

archive/issues_015638.json:
```json
{
    "body": "CC:  @kevindilks @nathanncohen @tscrim\n\nAdd is_subposet method to Posets to check if a subposet is an (induced) subposet of another.\n\nIssue created by migration from https://trac.sagemath.org/ticket/15875\n\n",
    "created_at": "2014-02-27T19:40:51Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Add is_subposet",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15638",
    "user": "https://trac.sagemath.org/admin/accounts/users/csar"
}
```
CC:  @kevindilks @nathanncohen @tscrim

Add is_subposet method to Posets to check if a subposet is an (induced) subposet of another.

Issue created by migration from https://trac.sagemath.org/ticket/15875





---

archive/issue_comments_202155.json:
```json
{
    "body": "I'm not positive this works. I think I've stumbled across an example where you have equality of the results of `hasse_diagram()`, but not of `_hasse_diagram`.",
    "created_at": "2014-03-03T15:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202155",
    "user": "https://trac.sagemath.org/admin/accounts/users/csar"
}
```

I'm not positive this works. I think I've stumbled across an example where you have equality of the results of `hasse_diagram()`, but not of `_hasse_diagram`.



---

archive/issue_events_046710.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15638#event-46710"
}
```



---

archive/issue_events_046711.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15638#event-46711"
}
```



---

archive/issue_events_046712.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15638#event-46712"
}
```



---

archive/issue_comments_202156.json:
```json
{
    "body": "You don't have to say `Poset(DiGraph({1:[2,3],2:[4],3:[4]}))`, just `Poset({1:[2,3],2:[4],3:[4]})`.\n\nSee also #16892, it relates to this one. I think that you can look the code of it for you.",
    "created_at": "2014-10-02T18:45:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202156",
    "user": "https://github.com/jm58660"
}
```

You don't have to say `Poset(DiGraph({1:[2,3],2:[4],3:[4]}))`, just `Poset({1:[2,3],2:[4],3:[4]})`.

See also #16892, it relates to this one. I think that you can look the code of it for you.



---

archive/issue_comments_202157.json:
```json
{
    "body": "How are other \"containing\"-functions made? For a poset `A` to be a subposet of `B` it should be that for every cover relation `u, v` in `A` there is `u' < v'` in B, where `u == u'` (and `v == v'`). How to define `==`, for example if `u` is `int(42)`and `u'` is `Integer(42)`?",
    "created_at": "2015-07-28T06:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202157",
    "user": "https://github.com/jm58660"
}
```

How are other "containing"-functions made? For a poset `A` to be a subposet of `B` it should be that for every cover relation `u, v` in `A` there is `u' < v'` in B, where `u == u'` (and `v == v'`). How to define `==`, for example if `u` is `int(42)`and `u'` is `Integer(42)`?



---

archive/issue_comments_202158.json:
```json
{
    "body": "At least\n\n```\ng1 = DiGraph({13:[14]})\ng2 = DiGraph({13r:[14r]})\ng1.is_subgraph(g2), g2.is_subgraph(g1)\n```\n\noutputs `(True, True)`. Is there examples of `sub*` function with different behaviour? If not, then also `is_subposet()` should be like `is_subgraph()`. CC to ncohen for this question.",
    "created_at": "2015-08-09T06:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202158",
    "user": "https://github.com/jm58660"
}
```

At least

```
g1 = DiGraph({13:[14]})
g2 = DiGraph({13r:[14r]})
g1.is_subgraph(g2), g2.is_subgraph(g1)
```

outputs `(True, True)`. Is there examples of `sub*` function with different behaviour? If not, then also `is_subposet()` should be like `is_subgraph()`. CC to ncohen for this question.



---

archive/issue_comments_202159.json:
```json
{
    "body": "Since a long time, graphs have been converting all 'integer' labels into 'int'. That was long before I came. I expect that the reason is that you \"pay for labels\" when you deal with graphs, and that was probably a way to avoid that.",
    "created_at": "2015-08-09T07:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202159",
    "user": "https://github.com/nathanncohen"
}
```

Since a long time, graphs have been converting all 'integer' labels into 'int'. That was long before I came. I expect that the reason is that you "pay for labels" when you deal with graphs, and that was probably a way to avoid that.



---

archive/issue_comments_202160.json:
```json
{
    "body": "Replying to [comment:9 ncohen]:\n> Since a long time, graphs have been converting all 'integer' labels into 'int'. That was long before I came. I expect that the reason is that you \"pay for labels\" when you deal with graphs, and that was probably a way to avoid that.\n\n\nThis was an answer to different question... (on sage-devel). To clarify, here is another example of `is_sub*`-function:\n\n```\nr1=2.0-1.0\nr2=3.0-1.0\ni1=1\ni2=2\n{i1, i2}.issubset({r1, r2})\n```\n\nThis also outputs `True`. Hence it seems that `Poset({r1:[r2]}).is_subposet(Poset({i1:[i2]}))` should also return `True`. But I would like someone to confirm this.",
    "created_at": "2015-08-09T07:36:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202160",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:9 ncohen]:
> Since a long time, graphs have been converting all 'integer' labels into 'int'. That was long before I came. I expect that the reason is that you "pay for labels" when you deal with graphs, and that was probably a way to avoid that.


This was an answer to different question... (on sage-devel). To clarify, here is another example of `is_sub*`-function:

```
r1=2.0-1.0
r2=3.0-1.0
i1=1
i2=2
{i1, i2}.issubset({r1, r2})
```

This also outputs `True`. Hence it seems that `Poset({r1:[r2]}).is_subposet(Poset({i1:[i2]}))` should also return `True`. But I would like someone to confirm this.



---

archive/issue_comments_202161.json:
```json
{
    "body": "That would be because `Integer(5) == int(5)` returns True, then. Would you expect them to be handled any differently by posets?",
    "created_at": "2015-08-09T07:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202161",
    "user": "https://github.com/nathanncohen"
}
```

That would be because `Integer(5) == int(5)` returns True, then. Would you expect them to be handled any differently by posets?



---

archive/issue_comments_202162.json:
```json
{
    "body": "Replying to [comment:11 ncohen]:\n> That would be because `Integer(5) == int(5)` returns True, then. Would you expect them to be handled any differently by posets?\n\n\nWell, no. So, in principle `P.is_subposet(Q)` can be implemented like `set([frozenset(x) for x in P.relations()]).issubset(set([frozenset(x) for x in Q.relations()]))`. Or course there is better ways to do it in reality.\n\nIs there any graph function already to wrap for this? Something about reachability in digraphs?",
    "created_at": "2015-08-10T09:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202162",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:11 ncohen]:
> That would be because `Integer(5) == int(5)` returns True, then. Would you expect them to be handled any differently by posets?


Well, no. So, in principle `P.is_subposet(Q)` can be implemented like `set([frozenset(x) for x in P.relations()]).issubset(set([frozenset(x) for x in Q.relations()]))`. Or course there is better ways to do it in reality.

Is there any graph function already to wrap for this? Something about reachability in digraphs?



---

archive/issue_comments_202163.json:
```json
{
    "body": "> Is there any graph function already to wrap for this? Something about reachability in digraphs?\n\n\nHmmmm... I don't think so. If there was, you could probably expect the Poset (Directed Acyclic Graph) case to be much faster to solve, so it's really Poset code in the end.\n\nNathann",
    "created_at": "2015-08-10T09:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202163",
    "user": "https://github.com/nathanncohen"
}
```

> Is there any graph function already to wrap for this? Something about reachability in digraphs?


Hmmmm... I don't think so. If there was, you could probably expect the Poset (Directed Acyclic Graph) case to be much faster to solve, so it's really Poset code in the end.

Nathann



---

archive/issue_comments_202164.json:
```json
{
    "body": "Would implementing `P.is_subposet(Q)` as `P.hasse_diagram().is_subgraph(Q.hasse_diagram().transitive_closure())` be too slow? I am not sure if I can make faster version by manually calling digraph functions in a loop. But of course it is much faster to get `False` if some element of `P` is not an element of `Q` at all by first checking for that. But will `transitive_closure())` eat memory?",
    "created_at": "2015-08-10T20:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202164",
    "user": "https://github.com/jm58660"
}
```

Would implementing `P.is_subposet(Q)` as `P.hasse_diagram().is_subgraph(Q.hasse_diagram().transitive_closure())` be too slow? I am not sure if I can make faster version by manually calling digraph functions in a loop. But of course it is much faster to get `False` if some element of `P` is not an element of `Q` at all by first checking for that. But will `transitive_closure())` eat memory?



---

archive/issue_comments_202165.json:
```json
{
    "body": "Replying to [comment:14 jmantysalo]:\n> Would implementing `P.is_subposet(Q)` as `P.hasse_diagram().is_subgraph(Q.hasse_diagram().transitive_closure())` be too slow?\n\n\n\"depends\". It means a copy of Q's graph even if `P` is only one vertex. In other cases it will be optimal.\n\n> I am not sure if I can make faster version by manually calling digraph functions in a loop. But of course it is much faster to get `False` if some element of `P` is not an element of `Q` at all by first checking for that. But will `transitive_closure())` eat memory?\n\n\nIt will eat some memory indeed, but it will be freed then. Ideally, we would need a dense representation for Q's transitive closure and a sparse representation of P. We can iterate over all edges of `P`, and check every time that it is an edge of Q's transitive closure.\n\nThe most costly part of it will probably be the vertex labelling.\n\nNathann",
    "created_at": "2015-08-10T20:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202165",
    "user": "https://github.com/nathanncohen"
}
```

Replying to [comment:14 jmantysalo]:
> Would implementing `P.is_subposet(Q)` as `P.hasse_diagram().is_subgraph(Q.hasse_diagram().transitive_closure())` be too slow?


"depends". It means a copy of Q's graph even if `P` is only one vertex. In other cases it will be optimal.

> I am not sure if I can make faster version by manually calling digraph functions in a loop. But of course it is much faster to get `False` if some element of `P` is not an element of `Q` at all by first checking for that. But will `transitive_closure())` eat memory?


It will eat some memory indeed, but it will be freed then. Ideally, we would need a dense representation for Q's transitive closure and a sparse representation of P. We can iterate over all edges of `P`, and check every time that it is an edge of Q's transitive closure.

The most costly part of it will probably be the vertex labelling.

Nathann



---

archive/issue_comments_202166.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-08-11T06:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202166",
    "user": "https://github.com/jm58660"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_202167.json:
```json
{
    "body": "Done this as an oneline-wrapper. I think that faster versions are easier to do when we already have a docstring and maybe see how this will be used.\n\nThis is intentionally left out from index of functions, as I am still waiting for #18534 to get accepted (or rejected).\n\n---\nNew commits:",
    "created_at": "2015-08-11T06:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202167",
    "user": "https://github.com/jm58660"
}
```

Done this as an oneline-wrapper. I think that faster versions are easier to do when we already have a docstring and maybe see how this will be used.

This is intentionally left out from index of functions, as I am still waiting for #18534 to get accepted (or rejected).

---
New commits:



---

archive/issue_events_046713.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-08-11T06:46:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15638#event-46713"
}
```



---

archive/issue_events_046714.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-08-11T06:46:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15638#event-46714"
}
```



---

archive/issue_comments_202168.json:
```json
{
    "body": "Changing keywords from \"\" to \"posets\".",
    "created_at": "2015-08-11T06:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202168",
    "user": "https://github.com/jm58660"
}
```

Changing keywords from "" to "posets".



---

archive/issue_comments_202169.json:
```json
{
    "body": "Travis, what you think about this one-line-wrapper?\n\nI am asking this because of `is_sublattice()`. If this gets accepted, I will make that behave like this one. (And, maybe, later will think about `isomorphic_sublattices_iterator()` etc.)",
    "created_at": "2015-08-27T05:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202169",
    "user": "https://github.com/jm58660"
}
```

Travis, what you think about this one-line-wrapper?

I am asking this because of `is_sublattice()`. If this gets accepted, I will make that behave like this one. (And, maybe, later will think about `isomorphic_sublattices_iterator()` etc.)



---

archive/issue_comments_202170.json:
```json
{
    "body": "What about using the backend `_hasse_diagram` rather than the labeled `hasse_diagram()`?\n\n(FYI - a one-line patch since \"one\" is pronounced most similar to \"won\".)",
    "created_at": "2015-09-05T00:26:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202170",
    "user": "https://github.com/tscrim"
}
```

What about using the backend `_hasse_diagram` rather than the labeled `hasse_diagram()`?

(FYI - a one-line patch since "one" is pronounced most similar to "won".)



---

archive/issue_comments_202171.json:
```json
{
    "body": "Replying to [comment:19 tscrim]:\n> What about using the backend `_hasse_diagram` rather than the labeled `hasse_diagram()`?\n\n\nThen `Poset({1:[2]})` would be a subposet of `Poset({2:[1]})`. This is not about isomorphic subposets.",
    "created_at": "2015-09-05T04:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202171",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:19 tscrim]:
> What about using the backend `_hasse_diagram` rather than the labeled `hasse_diagram()`?


Then `Poset({1:[2]})` would be a subposet of `Poset({2:[1]})`. This is not about isomorphic subposets.



---

archive/issue_comments_202172.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-09-05T15:40:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202172",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_202173.json:
```json
{
    "body": "However it is a subposet, but yes, up to isomorphism (which, IMO, is what most mathematicians care about; I think of `2+2` and `1+3` freeness). However my impression of the docstring was the difference between the methods was if the diamond is considered as a subposet inside \n\n```\n     1\n    / \\\n   2   3\n  /     \\\n 4       5\n  \\     /\n   6   7\n    \\ /\n     8\n```\nI don't like the fact that `is_subposet`, which is likely to be the first encountered method for this type of behavior, is caring about the element labels. Even more so that there is not any part of the documentation which suggests that it looks at labels. So you need to rework the documentation.",
    "created_at": "2015-09-05T15:40:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202173",
    "user": "https://github.com/tscrim"
}
```

However it is a subposet, but yes, up to isomorphism (which, IMO, is what most mathematicians care about; I think of `2+2` and `1+3` freeness). However my impression of the docstring was the difference between the methods was if the diamond is considered as a subposet inside 

```
     1
    / \
   2   3
  /     \
 4       5
  \     /
   6   7
    \ /
     8
```
I don't like the fact that `is_subposet`, which is likely to be the first encountered method for this type of behavior, is caring about the element labels. Even more so that there is not any part of the documentation which suggests that it looks at labels. So you need to rework the documentation.



---

archive/issue_comments_202174.json:
```json
{
    "body": "Replying to [comment:21 tscrim]:\n\n> I don't like the fact that `is_subposet`, which is likely to be the first encountered method for this type of behavior, is caring about the element labels. Even more so that there is not any part of the documentation which suggests that it looks at labels. So you need to rework the documentation.\n\n\n?? There is a note-block that says just that, and it is direct copy from `is_subgraph()` in (generic) graphs.",
    "created_at": "2015-09-05T16:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202174",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:21 tscrim]:

> I don't like the fact that `is_subposet`, which is likely to be the first encountered method for this type of behavior, is caring about the element labels. Even more so that there is not any part of the documentation which suggests that it looks at labels. So you need to rework the documentation.


?? There is a note-block that says just that, and it is direct copy from `is_subgraph()` in (generic) graphs.



---

archive/issue_comments_202175.json:
```json
{
    "body": "This is not at all clear from the note-block (and the `is_subgraph` and \"induced\" in graph theory might carry a slightly different meaning than I'm used to when looking at posets). If this is to respect the labels (which I think will be unexpected behavior to the average user), you should explicitly state this and give examples comparing the two methods.",
    "created_at": "2015-09-06T18:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202175",
    "user": "https://github.com/tscrim"
}
```

This is not at all clear from the note-block (and the `is_subgraph` and "induced" in graph theory might carry a slightly different meaning than I'm used to when looking at posets). If this is to respect the labels (which I think will be unexpected behavior to the average user), you should explicitly state this and give examples comparing the two methods.



---

archive/issue_comments_202176.json:
```json
{
    "body": "> This is not at all clear from the note-block\n\n\nI cannot say that I agree with you, though there is a mistake in the note. The first sentence should be changed to: \"This method does not check whether the poset is *isomorphic* to a subposet of ``other``, but only if [...]\".\n\n> (and the `is_subgraph` and \"induced\" in graph theory might carry a slightly different meaning than I'm used to when looking at posets)\n\n\nThe meaning is the same. Though this function should *not* check by default that it is an *induced* subposet. It should check whether it is a subposet, e.g.: the antichain is a subposet of any poset with the same elements.\n\nFuthermore:\n\n```\nsage: A = posets.ChainPoset(5)\nsage: A.is_subposet(A)\nFalse\n```\n\nNathann",
    "created_at": "2015-09-06T19:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202176",
    "user": "https://github.com/nathanncohen"
}
```

> This is not at all clear from the note-block


I cannot say that I agree with you, though there is a mistake in the note. The first sentence should be changed to: "This method does not check whether the poset is *isomorphic* to a subposet of ``other``, but only if [...]".

> (and the `is_subgraph` and "induced" in graph theory might carry a slightly different meaning than I'm used to when looking at posets)


The meaning is the same. Though this function should *not* check by default that it is an *induced* subposet. It should check whether it is a subposet, e.g.: the antichain is a subposet of any poset with the same elements.

Futhermore:

```
sage: A = posets.ChainPoset(5)
sage: A.is_subposet(A)
False
```

Nathann



---

archive/issue_comments_202177.json:
```json
{
    "body": "Nathann, thanks for noticing my error. Of course the function must be `...is_subgraph(..., induced=True)`.\n\nI think that `induced` means slightly different thing in graphs than in posets. Or that poset just is a different way to see DAG than looking it as a digraph.\n\nTravis, you mean an `EXAMPLE` block with `has_isomorphic_subposet` shown for reference?",
    "created_at": "2015-09-06T20:02:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202177",
    "user": "https://github.com/jm58660"
}
```

Nathann, thanks for noticing my error. Of course the function must be `...is_subgraph(..., induced=True)`.

I think that `induced` means slightly different thing in graphs than in posets. Or that poset just is a different way to see DAG than looking it as a digraph.

Travis, you mean an `EXAMPLE` block with `has_isomorphic_subposet` shown for reference?



---

archive/issue_comments_202178.json:
```json
{
    "body": "> I think that `induced` means slightly different thing in graphs than in posets. Or that poset just is a different way to see DAG than looking it as a digraph.\n\n\nPerhaps. But to make sure that we agree on the meaning: A is an induced subposet of B if (the transitive closure of A) is an induced subgraph of (the transitive closure of B).",
    "created_at": "2015-09-06T20:09:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202178",
    "user": "https://github.com/nathanncohen"
}
```

> I think that `induced` means slightly different thing in graphs than in posets. Or that poset just is a different way to see DAG than looking it as a digraph.


Perhaps. But to make sure that we agree on the meaning: A is an induced subposet of B if (the transitive closure of A) is an induced subgraph of (the transitive closure of B).



---

archive/issue_comments_202179.json:
```json
{
    "body": "Travis, should it then be something like\n\n```\nReturn ``True`` if the poset is a subposet of ``other``, and ``False`` otherwise.\n\nA Poset `P` is an (induced) subposet of `Q` if every element of `P` is an element of `Q`,\nand `x \\le_P y` iff `x \\le_Q y`.\n```\n\n? And then continue with `NOTE`-block and examples?",
    "created_at": "2015-09-07T07:42:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202179",
    "user": "https://github.com/jm58660"
}
```

Travis, should it then be something like

```
Return ``True`` if the poset is a subposet of ``other``, and ``False`` otherwise.

A Poset `P` is an (induced) subposet of `Q` if every element of `P` is an element of `Q`,
and `x \le_P y` iff `x \le_Q y`.
```

? And then continue with `NOTE`-block and examples?



---

archive/issue_comments_202180.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-08T14:47:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202180",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202181.json:
```json
{
    "body": "I was stupid. This can not be done with one-line wrapper to some graph function. The Hasse diagram of `Poset({1:[2, 3]})` is a subgraph of transitive closure of the Hasse diagram of `Poset({1:[2, 4], 2:[3]})`.\n\nI pushed one possible solution. (Later I must think how to make `subposet()` faster.)\n\nBut we have a question. Should `Poset({1:[2]})` be a subposet of `Poset({1:[2]}, facade=False)`?",
    "created_at": "2015-09-08T14:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202181",
    "user": "https://github.com/jm58660"
}
```

I was stupid. This can not be done with one-line wrapper to some graph function. The Hasse diagram of `Poset({1:[2, 3]})` is a subgraph of transitive closure of the Hasse diagram of `Poset({1:[2, 4], 2:[3]})`.

I pushed one possible solution. (Later I must think how to make `subposet()` faster.)

But we have a question. Should `Poset({1:[2]})` be a subposet of `Poset({1:[2]}, facade=False)`?



---

archive/issue_comments_202182.json:
```json
{
    "body": "The current docstring is much more clear than previously. Thank you. Could you also add something about the elements/labels to the `NOTE::` block too, something like `(i.e., up to relabeling)` after the `*isomorphic*` to further emphasize this?\n\nYou should add some more examples contrasting the two methods. In particular, one where the `subposet` returns `False` as the isomorphism one returns `True`. Also you have some `$` in the docstring.\n\nI think because they are the same elements and because facade is more specific to use in Sage, we should have the subposet not depend on being a facade.",
    "created_at": "2015-09-08T15:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202182",
    "user": "https://github.com/tscrim"
}
```

The current docstring is much more clear than previously. Thank you. Could you also add something about the elements/labels to the `NOTE::` block too, something like `(i.e., up to relabeling)` after the `*isomorphic*` to further emphasize this?

You should add some more examples contrasting the two methods. In particular, one where the `subposet` returns `False` as the isomorphism one returns `True`. Also you have some `$` in the docstring.

I think because they are the same elements and because facade is more specific to use in Sage, we should have the subposet not depend on being a facade.



---

archive/issue_comments_202183.json:
```json
{
    "body": "What you implemented is an *induced* subposet. In particular, a poset P from which you remove an edge is not a subposet of P anymore.\n\nNathann",
    "created_at": "2015-09-08T15:54:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202183",
    "user": "https://github.com/nathanncohen"
}
```

What you implemented is an *induced* subposet. In particular, a poset P from which you remove an edge is not a subposet of P anymore.

Nathann



---

archive/issue_comments_202184.json:
```json
{
    "body": "> But we have a question. Should `Poset({1:[2]})` be a subposet of `Poset({1:[2]}, facade=False)`?\n\n\nI love this facade thing.\n\n```\nsage: 1 in Poset({1:[2]},facade=False)\nTrue\nsage: 1 in list(Poset({1:[2]},facade=False))\nFalse\n```\n\nAs unreliable as it gets.\n\nNathann",
    "created_at": "2015-09-08T15:56:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202184",
    "user": "https://github.com/nathanncohen"
}
```

> But we have a question. Should `Poset({1:[2]})` be a subposet of `Poset({1:[2]}, facade=False)`?


I love this facade thing.

```
sage: 1 in Poset({1:[2]},facade=False)
True
sage: 1 in list(Poset({1:[2]},facade=False))
False
```

As unreliable as it gets.

Nathann



---

archive/issue_comments_202185.json:
```json
{
    "body": "Replying to [comment:31 ncohen]:\n> What you implemented is an *induced* subposet. In particular, a poset P from which you remove an edge is not a subposet of P anymore.\n\n\nTrue. But that is defined and documented. At least Enumerative Combinatoric p. 279 says \"By a subposet of P, we will always mean an *induced* subposet.\"",
    "created_at": "2015-09-08T15:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202185",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:31 ncohen]:
> What you implemented is an *induced* subposet. In particular, a poset P from which you remove an edge is not a subposet of P anymore.


True. But that is defined and documented. At least Enumerative Combinatoric p. 279 says "By a subposet of P, we will always mean an *induced* subposet."



---

archive/issue_comments_202186.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-08T15:59:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202186",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202187.json:
```json
{
    "body": "> True. But that is defined and documented. At least Enumerative Combinatoric p. 279 says \"By a subposet of P, we will always mean an *induced* subposet.\"\n\n\nHmmm... Well, the first two papers I got by typing subposet in google say differently.\nhttp://arxiv.org/pdf/1408.0899v5.pdf\nhttp://arxiv.org/pdf/1106.2315v1.pdf\n\nActually, the third too (it even appears in the abstract)\nhttp://www.combinatorics.org/ojs/index.php/eljc/article/download/v16i1r142/pdf\n\nNow, well.. Sure Enumeratve Combinatorics is famous and stuff but well...\n\nHonestly, I would make the mistake. Especially when the standard is different for graphs.\n\nNathann",
    "created_at": "2015-09-08T16:03:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202187",
    "user": "https://github.com/nathanncohen"
}
```

> True. But that is defined and documented. At least Enumerative Combinatoric p. 279 says "By a subposet of P, we will always mean an *induced* subposet."


Hmmm... Well, the first two papers I got by typing subposet in google say differently.
http://arxiv.org/pdf/1408.0899v5.pdf
http://arxiv.org/pdf/1106.2315v1.pdf

Actually, the third too (it even appears in the abstract)
http://www.combinatorics.org/ojs/index.php/eljc/article/download/v16i1r142/pdf

Now, well.. Sure Enumeratve Combinatorics is famous and stuff but well...

Honestly, I would make the mistake. Especially when the standard is different for graphs.

Nathann



---

archive/issue_comments_202188.json:
```json
{
    "body": "Replying to [comment:30 tscrim]:\n\n> The current docstring is much more clear than previously. Thank you. Could you also add something about the elements/labels to the `NOTE::` block too, something like `(i.e., up to relabeling)` after the `*isomorphic*` to further emphasize this?\n\n\nDone.\n\n> You should add some more examples contrasting the two methods. In particular, one where the `subposet` returns `False` as the isomorphism one returns `True`. Also you have some `$` in the docstring.\n\n\n?? First example is already like that. `Q.has_isomorphic_subposet(P)` returns `True`. Removed `$`.\n\n> I think because they are the same elements and because facade is more specific to use in Sage, we should have the subposet not depend on being a facade.\n\n\nOK. This patch fixes it to other direction, but needs more work:\n\n```\nsage: P = Poset({1:[2]}, facade=True)\nsage: Q = Poset({1:[2]}, facade=False)\nsage: P.is_subposet(Q)\nTrue\nsage: Q.is_subposet(P)\n . . .\nValueError: <class 'sage.combinat.posets.elements.FinitePoset_with---\n . . .\n```",
    "created_at": "2015-09-08T16:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202188",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:30 tscrim]:

> The current docstring is much more clear than previously. Thank you. Could you also add something about the elements/labels to the `NOTE::` block too, something like `(i.e., up to relabeling)` after the `*isomorphic*` to further emphasize this?


Done.

> You should add some more examples contrasting the two methods. In particular, one where the `subposet` returns `False` as the isomorphism one returns `True`. Also you have some `$` in the docstring.


?? First example is already like that. `Q.has_isomorphic_subposet(P)` returns `True`. Removed `$`.

> I think because they are the same elements and because facade is more specific to use in Sage, we should have the subposet not depend on being a facade.


OK. This patch fixes it to other direction, but needs more work:

```
sage: P = Poset({1:[2]}, facade=True)
sage: Q = Poset({1:[2]}, facade=False)
sage: P.is_subposet(Q)
True
sage: Q.is_subposet(P)
 . . .
ValueError: <class 'sage.combinat.posets.elements.FinitePoset_with---
 . . .
```



---

archive/issue_comments_202189.json:
```json
{
    "body": "Replying to [comment:35 ncohen]:\n\n> Honestly, I would make the mistake. Especially when the standard is different for graphs.\n\n\nOK. I'll try to clarify this.",
    "created_at": "2015-09-08T16:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202189",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:35 ncohen]:

> Honestly, I would make the mistake. Especially when the standard is different for graphs.


OK. I'll try to clarify this.



---

archive/issue_comments_202190.json:
```json
{
    "body": "Replying to [comment:32 ncohen]:\n\n> I love this facade thing.\n> \n> ```\n> sage: 1 in Poset({1:[2]},facade=False)\n> True\n> sage: 1 in list(Poset({1:[2]},facade=False))\n> False\n> ```\n\n\nUh... Should we open a ticket from this? I guess this it because `__contains__()`. But I have no idea about how to correct it. Basically this is because\n\n```\nP=Poset({1:[2]},facade=False)\n1 in P, 1==P[0], 1==P[1]\n```\n\n--> `(True, False, False)`.",
    "created_at": "2015-09-08T16:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202190",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:32 ncohen]:

> I love this facade thing.
> 
> ```
> sage: 1 in Poset({1:[2]},facade=False)
> True
> sage: 1 in list(Poset({1:[2]},facade=False))
> False
> ```


Uh... Should we open a ticket from this? I guess this it because `__contains__()`. But I have no idea about how to correct it. Basically this is because

```
P=Poset({1:[2]},facade=False)
1 in P, 1==P[0], 1==P[1]
```

--> `(True, False, False)`.



---

archive/issue_comments_202191.json:
```json
{
    "body": "> Uh... Should we open a ticket from this? I guess this it because `__contains__()`. But I have no idea about how to correct it.\n\n\nI suspect that they see it as a \"feature\". If you want to see it changed, you should probably ask on sage-devel first.\n\nNathann",
    "created_at": "2015-09-08T17:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202191",
    "user": "https://github.com/nathanncohen"
}
```

> Uh... Should we open a ticket from this? I guess this it because `__contains__()`. But I have no idea about how to correct it.


I suspect that they see it as a "feature". If you want to see it changed, you should probably ask on sage-devel first.

Nathann



---

archive/issue_comments_202192.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-08T20:45:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202192",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202193.json:
```json
{
    "body": "Replying to [comment:39 ncohen]:\n\n> I suspect that they see it as a \"feature\".\n\n\nOK. I'll forget that. Another thing: Why `Poset({1:[2]}).subposet([3])` gives error message \"ValueError: <type 'sage.rings.integer.Integer'> is not an element of this poset\"?\n\nI made a blind commit, have no machine to test it just now. Going to continue tomorrow.\n\n---\nNew commits:",
    "created_at": "2015-09-08T20:47:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202193",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:39 ncohen]:

> I suspect that they see it as a "feature".


OK. I'll forget that. Another thing: Why `Poset({1:[2]}).subposet([3])` gives error message "ValueError: <type 'sage.rings.integer.Integer'> is not an element of this poset"?

I made a blind commit, have no machine to test it just now. Going to continue tomorrow.

---
New commits:



---

archive/issue_comments_202194.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-09T05:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202194",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202195.json:
```json
{
    "body": "How about now? \"Induced\" is said more than once.",
    "created_at": "2015-09-09T05:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202195",
    "user": "https://github.com/jm58660"
}
```

How about now? "Induced" is said more than once.



---

archive/issue_comments_202196.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-09-09T05:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202196",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_202197.json:
```json
{
    "body": "How exactly is the meaning of \"induced\" different of the meaning of \"induced\" for graphs?...",
    "created_at": "2015-09-09T06:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202197",
    "user": "https://github.com/nathanncohen"
}
```

How exactly is the meaning of "induced" different of the meaning of "induced" for graphs?...



---

archive/issue_comments_202198.json:
```json
{
    "body": "Hey nonononnoo why would you convert everything to facade? These non-facade posets are not something I would ever want to work with, but the reason for them is that these people want the elements to BELONG to this specific poset, and to be different from anything that does not belong to the same poset.\n\nThis may be a stupid idea but you should not go against it in this specific function. Either they are removed or they stay, but their specifications should be respected.",
    "created_at": "2015-09-09T06:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202198",
    "user": "https://github.com/nathanncohen"
}
```

Hey nonononnoo why would you convert everything to facade? These non-facade posets are not something I would ever want to work with, but the reason for them is that these people want the elements to BELONG to this specific poset, and to be different from anything that does not belong to the same poset.

This may be a stupid idea but you should not go against it in this specific function. Either they are removed or they stay, but their specifications should be respected.



---

archive/issue_comments_202199.json:
```json
{
    "body": "```\nsage: P1 = Poset({1:[2]},facade=False)\nsage: P2 = Poset({1:[]},facade=False)\nsage: [x in P1 for x in P2]\n[False]\n```\n\nSo P2 should not be a subposet of P1.\n\nNathann",
    "created_at": "2015-09-09T06:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202199",
    "user": "https://github.com/nathanncohen"
}
```

```
sage: P1 = Poset({1:[2]},facade=False)
sage: P2 = Poset({1:[]},facade=False)
sage: [x in P1 for x in P2]
[False]
```

So P2 should not be a subposet of P1.

Nathann



---

archive/issue_comments_202200.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-09-09T06:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202200",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_202201.json:
```json
{
    "body": "tscrim: \"we should have the subposet not depend on being a facade\", ncohen: \"people want the elements to BELONG to this specific poset, and to be different from anything that does not belong to the same poset\"  --> We need a third opinion, I guess.\n\nOr should we raise something with facade posets? That way we would add functionality and the decision can be made later.",
    "created_at": "2015-09-09T06:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202201",
    "user": "https://github.com/jm58660"
}
```

tscrim: "we should have the subposet not depend on being a facade", ncohen: "people want the elements to BELONG to this specific poset, and to be different from anything that does not belong to the same poset"  --> We need a third opinion, I guess.

Or should we raise something with facade posets? That way we would add functionality and the decision can be made later.



---

archive/issue_comments_202202.json:
```json
{
    "body": "> tscrim: \"we should have the subposet not depend on being a facade\", ncohen: \"people want the elements to BELONG to this specific poset, and to be different from anything that does not belong to the same poset\"  --> We need a third opinion, I guess.\n\n\nAsk on sage-devel. To me, what you are doing is this: the elements of a non-facade poset have a different `.__eq__` method (which makes them different when they belong to different posets), and by casting everything to facade you say that you want to use the *normal* notion of equality.\n\nThat is what the non-facade posets are defined *for*: so that the `.__eq__` of their elements has this property. If we workaround it, when is it gonna stop? Are we suppoed to write non-facade-specific code in each of the poset functions to avoid this senseless equality?\n\n> Or should we raise something with facade posets?\n\n\nTo me it is very simple: do not write any non-facade-specific code, and let them deal with the consequences of this poor design, without forcing us to write additional code. On a personal level, if we have to deal with this hell every time we work on posets, I do not plan to touch its code again.\n\nNathann",
    "created_at": "2015-09-09T07:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202202",
    "user": "https://github.com/nathanncohen"
}
```

> tscrim: "we should have the subposet not depend on being a facade", ncohen: "people want the elements to BELONG to this specific poset, and to be different from anything that does not belong to the same poset"  --> We need a third opinion, I guess.


Ask on sage-devel. To me, what you are doing is this: the elements of a non-facade poset have a different `.__eq__` method (which makes them different when they belong to different posets), and by casting everything to facade you say that you want to use the *normal* notion of equality.

That is what the non-facade posets are defined *for*: so that the `.__eq__` of their elements has this property. If we workaround it, when is it gonna stop? Are we suppoed to write non-facade-specific code in each of the poset functions to avoid this senseless equality?

> Or should we raise something with facade posets?


To me it is very simple: do not write any non-facade-specific code, and let them deal with the consequences of this poor design, without forcing us to write additional code. On a personal level, if we have to deal with this hell every time we work on posets, I do not plan to touch its code again.

Nathann



---

archive/issue_comments_202203.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-10T12:39:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202203",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202204.json:
```json
{
    "body": "How about this? At least now this adds a new functionality to Sagemath, and it could be later expanded to non-facade posets.\n\nNot in needs_review, as I am still compiling this myself.",
    "created_at": "2015-09-10T12:43:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202204",
    "user": "https://github.com/jm58660"
}
```

How about this? At least now this adds a new functionality to Sagemath, and it could be later expanded to non-facade posets.

Not in needs_review, as I am still compiling this myself.



---

archive/issue_comments_202205.json:
```json
{
    "body": "What about naming it `.is_induced_subposet`? That would clear any doubt.",
    "created_at": "2015-09-10T12:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202205",
    "user": "https://github.com/nathanncohen"
}
```

What about naming it `.is_induced_subposet`? That would clear any doubt.



---

archive/issue_comments_202206.json:
```json
{
    "body": "The tests were succesfull, so I guess this can be reviewed, apart from the naming issue:\n\nReplying to [comment:51 ncohen]:\n> What about naming it `.is_induced_subposet`? That would clear any doubt.\n\n\nThis is one possibility. I am just wondering about existing `is_subgraph()` and planned `is_sublattice()`; naming convention should be unified. Also this definition is logical in a sense that from `Q=P.subposet(...whatever...)` you will always get `Q.is_subset(P)` returning `True`.\n\nThe link \u200bhttp://www.combinatorics.org/ojs/index.php/eljc/article/download/v16i1r142/pdf seems to talk about isomorphic subposets.\n\nMaybe we should write `.extensions()` and have `.is_weak_subposet()` be a poset that is induced subposet of some extension? That is the terminology used by *Enumerative Combinatorics*.\n\nTravis, comments? At least I must think over a night about this.",
    "created_at": "2015-09-10T19:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202206",
    "user": "https://github.com/jm58660"
}
```

The tests were succesfull, so I guess this can be reviewed, apart from the naming issue:

Replying to [comment:51 ncohen]:
> What about naming it `.is_induced_subposet`? That would clear any doubt.


This is one possibility. I am just wondering about existing `is_subgraph()` and planned `is_sublattice()`; naming convention should be unified. Also this definition is logical in a sense that from `Q=P.subposet(...whatever...)` you will always get `Q.is_subset(P)` returning `True`.

The link http://www.combinatorics.org/ojs/index.php/eljc/article/download/v16i1r142/pdf seems to talk about isomorphic subposets.

Maybe we should write `.extensions()` and have `.is_weak_subposet()` be a poset that is induced subposet of some extension? That is the terminology used by *Enumerative Combinatorics*.

Travis, comments? At least I must think over a night about this.



---

archive/issue_comments_202207.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-11T06:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202207",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202208.json:
```json
{
    "body": "I asked from a professor, and he said that he would have guessed that this means weak subposet. Hence I changed the name.\n\nI am not sure about right place for this in the index of functions. In any case, I wait #19113 to get reviewed (Travis? Simple one again.) before thinkig more about that.",
    "created_at": "2015-09-11T06:09:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202208",
    "user": "https://github.com/jm58660"
}
```

I asked from a professor, and he said that he would have guessed that this means weak subposet. Hence I changed the name.

I am not sure about right place for this in the index of functions. In any case, I wait #19113 to get reviewed (Travis? Simple one again.) before thinkig more about that.



---

archive/issue_comments_202209.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-09-11T06:09:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202209",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_202210.json:
```json
{
    "body": "But now\n\n```\nsage: P1 = Poset({1.5:[3]})\nsage: P2 = Poset({1+1/2:[]})\nsage: P3 = Poset({1.5:[]})\nsage: P2.is_induced_subposet(P1), P3.is_induced_subposet(P1)\n(False, True)\n```\n\nHowever, this is consistent with `==` operator on posets.",
    "created_at": "2015-09-11T06:15:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202210",
    "user": "https://github.com/jm58660"
}
```

But now

```
sage: P1 = Poset({1.5:[3]})
sage: P2 = Poset({1+1/2:[]})
sage: P3 = Poset({1.5:[]})
sage: P2.is_induced_subposet(P1), P3.is_induced_subposet(P1)
(False, True)
```

However, this is consistent with `==` operator on posets.



---

archive/issue_comments_202211.json:
```json
{
    "body": "Ping...",
    "created_at": "2015-09-28T17:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202211",
    "user": "https://github.com/jm58660"
}
```

Ping...



---

archive/issue_comments_202212.json:
```json
{
    "body": "Works for me, but weren't you waiting for #19113?",
    "created_at": "2015-09-28T18:44:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202212",
    "user": "https://github.com/nathanncohen"
}
```

Works for me, but weren't you waiting for #19113?



---

archive/issue_comments_202213.json:
```json
{
    "body": "If you don't, then you can set it to `positive_review` on my behalf.\n\nNathann",
    "created_at": "2015-09-28T18:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202213",
    "user": "https://github.com/nathanncohen"
}
```

If you don't, then you can set it to `positive_review` on my behalf.

Nathann



---

archive/issue_comments_202214.json:
```json
{
    "body": "Replying to [comment:57 ncohen]:\n> Works for me, but weren't you waiting for #19113?\n\n\nSorry, I was very unclear. I meant that I will think about best place for the function after getting this and #19113 done.\n\nMarked as positive review as you suggested on comment 58.",
    "created_at": "2015-09-28T19:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202214",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:57 ncohen]:
> Works for me, but weren't you waiting for #19113?


Sorry, I was very unclear. I meant that I will think about best place for the function after getting this and #19113 done.

Marked as positive review as you suggested on comment 58.



---

archive/issue_comments_202215.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-09-28T19:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202215",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_202216.json:
```json
{
    "body": "Does not work:\n\n```\nP = Poset({1:[2]})\nQ1 = Poset({1:[]})\nQ2 = LatticePoset({1:[]})\nQ1.is_induced_subposet(P), Q2.is_induced_subposet(P)\n```\n\noutputs `(True, False)`.",
    "created_at": "2015-10-01T10:43:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202216",
    "user": "https://github.com/jm58660"
}
```

Does not work:

```
P = Poset({1:[2]})
Q1 = Poset({1:[]})
Q2 = LatticePoset({1:[]})
Q1.is_induced_subposet(P), Q2.is_induced_subposet(P)
```

outputs `(True, False)`.



---

archive/issue_comments_202217.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-10-01T10:43:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202217",
    "user": "https://github.com/jm58660"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_202218.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-27T08:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202218",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202219.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-10-27T08:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202219",
    "user": "https://github.com/jm58660"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_046715.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-10-27T08:26:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15638#event-46715"
}
```



---

archive/issue_events_046716.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2015-10-27T08:26:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15638#event-46716"
}
```



---

archive/issue_comments_202220.json:
```json
{
    "body": "Resolved a conflict, made to work with lattices also. Should be OK now.",
    "created_at": "2015-10-27T08:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202220",
    "user": "https://github.com/jm58660"
}
```

Resolved a conflict, made to work with lattices also. Should be OK now.



---

archive/issue_comments_202221.json:
```json
{
    "body": "Hello Jori,\n\nI do not understand the point of the line `if not hasattr(other, 'hasse_diagram'):`. Given that you call `subposet` and `.hasse_diagram` on `other` anyway your code will raise an exception whenever those methods are not available.\n\nNathann",
    "created_at": "2015-10-27T08:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202221",
    "user": "https://github.com/nathanncohen"
}
```

Hello Jori,

I do not understand the point of the line `if not hasattr(other, 'hasse_diagram'):`. Given that you call `subposet` and `.hasse_diagram` on `other` anyway your code will raise an exception whenever those methods are not available.

Nathann



---

archive/issue_comments_202222.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-27T08:53:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202222",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202223.json:
```json
{
    "body": "Replying to [comment:63 ncohen]:\n\n> I do not understand the point of the line `if not hasattr(other, 'hasse_diagram'):`. Given that you call `subposet` and `.hasse_diagram` on `other` anyway your code will raise an exception whenever those methods are not available.\n\n\nAs you wish, changed that.\n\nNow `P.is_induced_subposet('junk')` will say `AttributeError: 'str' object has no attribute '_is_facade'`. A slightly confusing to a user, but should not be that hard to track the error.\n\n(Quite many Sage functions give strange errors from wrong input... At least this won't be first one.)",
    "created_at": "2015-10-27T08:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202223",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:63 ncohen]:

> I do not understand the point of the line `if not hasattr(other, 'hasse_diagram'):`. Given that you call `subposet` and `.hasse_diagram` on `other` anyway your code will raise an exception whenever those methods are not available.


As you wish, changed that.

Now `P.is_induced_subposet('junk')` will say `AttributeError: 'str' object has no attribute '_is_facade'`. A slightly confusing to a user, but should not be that hard to track the error.

(Quite many Sage functions give strange errors from wrong input... At least this won't be first one.)



---

archive/issue_comments_202224.json:
```json
{
    "body": "Hello Jori,\n\nAs you seem to care about this message, I pused a commit at public/15875 that will raise a slightly more meaningful error message when the input is bad. Add it if you like it, ignore it if you do not.\n\nThe probability of users giving this function bad input would be much lower if the function you add had an 'INPUT' section explaining what exactly it expects.\n\nNathann",
    "created_at": "2015-10-27T09:28:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202224",
    "user": "https://github.com/nathanncohen"
}
```

Hello Jori,

As you seem to care about this message, I pused a commit at public/15875 that will raise a slightly more meaningful error message when the input is bad. Add it if you like it, ignore it if you do not.

The probability of users giving this function bad input would be much lower if the function you add had an 'INPUT' section explaining what exactly it expects.

Nathann



---

archive/issue_comments_202225.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-27T10:12:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202225",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202226.json:
```json
{
    "body": "Replying to [comment:66 ncohen]:\n\n> As you seem to care about this message, I pused a commit at public/15875 that will raise a slightly more meaningful error message when the input is bad. Add it if you like it, ignore it if you do not.\n\n\nThanks. Added that.\n\n> The probability of users giving this function bad input would be much lower if the function you add had an 'INPUT' section explaining what exactly it expects.\n\n\nHmm... Maybe I should go through functions and add `INPUT` sections.\n\nThis patch contains a non-relating line that corrects an indentation bug in `dilworth_decomposition()`. OK to add here?",
    "created_at": "2015-10-27T10:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202226",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:66 ncohen]:

> As you seem to care about this message, I pused a commit at public/15875 that will raise a slightly more meaningful error message when the input is bad. Add it if you like it, ignore it if you do not.


Thanks. Added that.

> The probability of users giving this function bad input would be much lower if the function you add had an 'INPUT' section explaining what exactly it expects.


Hmm... Maybe I should go through functions and add `INPUT` sections.

This patch contains a non-relating line that corrects an indentation bug in `dilworth_decomposition()`. OK to add here?



---

archive/issue_comments_202227.json:
```json
{
    "body": "Yo,\n\n> Hmm... Maybe I should go through functions and add `INPUT` sections.\n\n\nCould you add one at least in this function that you add here?\n\n> This patch contains a non-relating line that corrects an indentation bug in `dilworth_decomposition()`. OK to add here?\n\n\nNo prob.\n\nAbout the commit: [please do not change anything as it is not important], but notice that instead of adding my commit on your branch (with cherry-pick, for instance) you apparently applied the changes manually (or did something else that I cannot guess), which has as a side-effect that you became the committer+author of my changes.\n\nPlease don't change anything as it is not important, I am just giving you a side-effect of the procedure you followed to use my commit.\n\nNathann",
    "created_at": "2015-10-27T10:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202227",
    "user": "https://github.com/nathanncohen"
}
```

Yo,

> Hmm... Maybe I should go through functions and add `INPUT` sections.


Could you add one at least in this function that you add here?

> This patch contains a non-relating line that corrects an indentation bug in `dilworth_decomposition()`. OK to add here?


No prob.

About the commit: [please do not change anything as it is not important], but notice that instead of adding my commit on your branch (with cherry-pick, for instance) you apparently applied the changes manually (or did something else that I cannot guess), which has as a side-effect that you became the committer+author of my changes.

Please don't change anything as it is not important, I am just giving you a side-effect of the procedure you followed to use my commit.

Nathann



---

archive/issue_comments_202228.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-10-27T11:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202228",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_202229.json:
```json
{
    "body": "Replying to [comment:69 ncohen]:\n\n> > Hmm... Maybe I should go through functions and add `INPUT` sections.\n  \n> \n> Could you add one at least in this function that you add here?\n\n\nDone.\n\n> About the commit: [please do not change anything as it is not important], but notice that instead of adding my commit on your branch (with cherry-pick, for instance) you apparently applied the changes manually (or did something else that I cannot guess), which has as a side-effect that you became the committer+author of my changes.\n\n\nTrue. I'll try to remember that in the future.",
    "created_at": "2015-10-27T11:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202229",
    "user": "https://github.com/jm58660"
}
```

Replying to [comment:69 ncohen]:

> > Hmm... Maybe I should go through functions and add `INPUT` sections.
  
> 
> Could you add one at least in this function that you add here?


Done.

> About the commit: [please do not change anything as it is not important], but notice that instead of adding my commit on your branch (with cherry-pick, for instance) you apparently applied the changes manually (or did something else that I cannot guess), which has as a side-effect that you became the committer+author of my changes.


True. I'll try to remember that in the future.



---

archive/issue_comments_202230.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-10-27T11:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202230",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_202231.json:
```json
{
    "body": "Thanks,\n\nNathann",
    "created_at": "2015-10-27T11:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202231",
    "user": "https://github.com/nathanncohen"
}
```

Thanks,

Nathann



---

archive/issue_events_046717.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-28T17:59:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15638#event-46717"
}
```



---

archive/issue_comments_202232.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-10-28T17:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15638#issuecomment-202232",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
