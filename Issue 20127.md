# Issue 20127: make install does not work any more

Issue created by migration from Trac.

Original creator: zimmerma

Original creation time: 2016-04-06 05:34:46

up to Sage 6.9, after downloading the source in `/tmp/sage-x.y.z`, and running `make`, I did
`make install DESTDIR=/usr/local/sage-x.y.z`. With Sage 7.1 this does not work any more:

```
zimmerma`@`coing:/tmp/sage-7.1$ sudo make install DESTDIR=/usr/local/sage-7.1
...
mkdir -p "/usr/local/sage-7.1"/sage
mkdir -p "/usr/local/sage-7.1"/bin
cp -Rp * "/usr/local/sage-7.1"/sage
rm -f "/usr/local/sage-7.1"/bin/sage
ln -s ../sage/sage "/usr/local/sage-7.1"/bin/sage
"/usr/local/sage-7.1"/bin/sage -c # Run sage-location

ERROR:  The Sage installation tree has moved

from /tmp/sage-7.1
  to /usr/local/sage-7.1/sage

This is not supported, and Sage will not work. To install Sage from a
binary package:

1. Open the .tar.bz2 archive (or .dmg on OSX)

2. Move the SageMath folder/app to where you want it to be. You can
   also rename the directory now.

3. Start sage for the first time. This will then automatically patch
   paths in binaries.

After starting Sage for the first time you cannot change the
installation any more. To install Sage elsewhere, start over from the
binary package. Or recompile Sage from scratch in the new location
("make distclean && make")

make: *** [install] Error 1
```



---

Comment by jdemeyer created at 2016-05-20 08:28:05

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2016-05-20 08:28:05

This is no longer supported, see #1792.


---

Comment by jdemeyer created at 2016-05-20 08:28:13

Changing status from needs_review to positive_review.


---

Comment by zimmerma created at 2016-05-20 08:44:07

#1792 has not yet been reviewed, thus should not have been merged.
Paul


---

Comment by jdemeyer created at 2016-05-20 08:50:14

This ticket isn't closed either.

Anyway, you are shooting the messenger. `make install` is no longer supported and #1792 only changes the `Makefile` to match the reality.


---

Comment by zimmerma created at 2016-05-20 08:53:45

ok, this will just slow down my contributions to Sage.
But if other people don't mind, I won't insist any more.
Paul


---

Comment by jdemeyer created at 2016-05-20 08:55:53

Replying to [comment:5 zimmerma]:
> But if other people don't mind, I won't insist any more.

I'm sure that some other people *do* mind. But the reality is that `make install` is hard to support properly and we had to move on and stop supporting that.


---

Comment by vbraun created at 2016-06-12 12:02:30

Resolution: fixed
