# Issue 21629: py3 cmp to richcmp in some files about groups

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2016-11-12 14:09:37

CC:  jdemeyer tscrim aapitzsch

as another step to py3


---

Comment by chapoton created at 2016-11-12 14:10:15

Changing status from new to needs_review.


---

Comment by chapoton created at 2016-11-12 14:10:15

New commits:


---

Comment by chapoton created at 2016-11-13 20:52:49

this seems to cause a problem in src/sage/groups/braid.py

needs to be investigated


---

Comment by chapoton created at 2016-11-14 19:42:36

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-11-18 19:53:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-11-19 12:58:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-11-19 12:59:25

should be good now, please review


---

Comment by chapoton created at 2016-11-19 12:59:25

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2016-11-19 13:52:08

Is there a reason why you removed these tests:

```
sage: cmp(x, 3) is not 0
True
sage: x == 0
False
```

The former could be

```
sage: x == 3
False
```

The latter could be kept as-is.


---

Comment by chapoton created at 2016-11-19 13:59:57

Those are comparison to something not in the same parent.

Python3 is much more strict on what one can compare. For example, it is not allowed to compare strings (like 'e') and numbers (like 4).

```
Python 3.5.2+ (default, Sep 22 2016, 12:18:14) 
[GCC 6.2.0 20160927] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> sorted(['e',4])
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unorderable types: int() < str()
```



---

Comment by tscrim created at 2016-11-19 14:32:31

However they are (essentially) equality checks, which should still work.


---

Comment by git created at 2016-11-19 17:13:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-11-19 17:13:56

I added them back.


---

Comment by tscrim created at 2016-11-19 18:04:09

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2016-11-19 18:04:09

Thanks.


---

Comment by vbraun created at 2016-11-20 22:04:24

Resolution: fixed
