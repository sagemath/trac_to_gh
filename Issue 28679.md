# Issue 28679: MixedFormAlgebra - More Flexible Coercions

archive/issues_028679.json:
```json
{
    "body": "CC:  egourgoulhon tscrim\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/28916\n\n",
    "created_at": "2019-12-27T15:36:23Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "MixedFormAlgebra - More Flexible Coercions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28679",
    "user": "@DeRhamSource"
}
```
CC:  egourgoulhon tscrim



Issue created by migration from https://trac.sagemath.org/ticket/28916





---

archive/issue_comments_405055.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2019-12-27T19:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405055",
    "user": "@DeRhamSource"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_405056.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-12-27T19:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405056",
    "user": "@DeRhamSource"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_405057.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to geometry.",
    "created_at": "2019-12-27T19:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405057",
    "user": "@DeRhamSource"
}
```

Changing component from PLEASE CHANGE to geometry.



---

archive/issue_comments_405058.json:
```json
{
    "body": "Changing keywords from \"\" to \"manifolds, mixed-forms\".",
    "created_at": "2019-12-27T19:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405058",
    "user": "@DeRhamSource"
}
```

Changing keywords from "" to "manifolds, mixed-forms".



---

archive/issue_comments_405059.json:
```json
{
    "body": "This makes the coercion model of mixed forms more robust against modifications regarding differential forms. For instance: As soon as differential forms of *every* degree have coerce maps, the mixed form has one too.\n----\nNew commits:",
    "created_at": "2019-12-27T19:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405059",
    "user": "@DeRhamSource"
}
```

This makes the coercion model of mixed forms more robust against modifications regarding differential forms. For instance: As soon as differential forms of *every* degree have coerce maps, the mixed form has one too.
----
New commits:



---

archive/issue_comments_405060.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-12-27T20:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405060",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405061.json:
```json
{
    "body": "I spared the `try...except` block now completely. I think this is a negligible loss of computation time. Also this is more robust and works everytime.",
    "created_at": "2019-12-27T20:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405061",
    "user": "@DeRhamSource"
}
```

I spared the `try...except` block now completely. I think this is a negligible loss of computation time. Also this is more robust and works everytime.



---

archive/issue_comments_405062.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-12-27T20:24:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405062",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405063.json:
```json
{
    "body": "Do you have some examples that demonstrates that this change now covers something that it didn't (correctly) do before? If so, please add them to the documentation, but if not, can you give a more detailed explanation as to why you think this is better?",
    "created_at": "2019-12-28T05:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405063",
    "user": "tscrim"
}
```

Do you have some examples that demonstrates that this change now covers something that it didn't (correctly) do before? If so, please add them to the documentation, but if not, can you give a more detailed explanation as to why you think this is better?



---

archive/issue_comments_405064.json:
```json
{
    "body": "Fair enough. I'm not sure this change covers even more at this stage.\n\nThe only improvement so far: There might be objects with a method `degree` which are not coercible into differential forms. Or conversely there are coercible objects without having a degree method (like elements of the symbolic ring). So I avoid invoking `degree` completely.\n\nAssume in a future version there come more objects not having a `degree` method but are coercible into differential forms (I admit, I have no idea what else it could be). Nevertheless, these cases have to be handled separately now. But with this changes, all potential coercions are covered.\n\nWas that clearer? What do you think about it? And how could I improve my description?\n\nBy the way: Merry christmas retrospectively. :)",
    "created_at": "2019-12-28T11:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405064",
    "user": "@DeRhamSource"
}
```

Fair enough. I'm not sure this change covers even more at this stage.

The only improvement so far: There might be objects with a method `degree` which are not coercible into differential forms. Or conversely there are coercible objects without having a degree method (like elements of the symbolic ring). So I avoid invoking `degree` completely.

Assume in a future version there come more objects not having a `degree` method but are coercible into differential forms (I admit, I have no idea what else it could be). Nevertheless, these cases have to be handled separately now. But with this changes, all potential coercions are covered.

Was that clearer? What do you think about it? And how could I improve my description?

By the way: Merry christmas retrospectively. :)



---

archive/issue_comments_405065.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-04T23:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405065",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405066.json:
```json
{
    "body": "Yes, that is more clear, thank you. So can you please add such an example that now coerces that previously did not?",
    "created_at": "2020-01-05T16:37:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405066",
    "user": "tscrim"
}
```

Yes, that is more clear, thank you. So can you please add such an example that now coerces that previously did not?



---

archive/issue_comments_405067.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-06T12:02:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405067",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405068.json:
```json
{
    "body": "Thank you, but can you add that example as a doctest?",
    "created_at": "2020-01-06T16:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405068",
    "user": "tscrim"
}
```

Thank you, but can you add that example as a doctest?



---

archive/issue_comments_405069.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-08T23:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405069",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_405070.json:
```json
{
    "body": "Like this or something in more detail?\n----\nNew commits:",
    "created_at": "2020-01-08T23:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405070",
    "user": "@DeRhamSource"
}
```

Like this or something in more detail?
----
New commits:



---

archive/issue_comments_405071.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-01-08T23:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405071",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_405072.json:
```json
{
    "body": "Yep, exactly. Thank you.",
    "created_at": "2020-01-08T23:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405072",
    "user": "tscrim"
}
```

Yep, exactly. Thank you.



---

archive/issue_comments_405073.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-01-11T17:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405073",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_405074.json:
```json
{
    "body": "Damn it. I thought the tickets are still open...\n----\nNew commits:",
    "created_at": "2020-01-12T16:20:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405074",
    "user": "@DeRhamSource"
}
```

Damn it. I thought the tickets are still open...
----
New commits:



---

archive/issue_comments_405075.json:
```json
{
    "body": "I hope that is it. Sorry!",
    "created_at": "2020-01-12T16:28:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28679",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28679#issuecomment-405075",
    "user": "@DeRhamSource"
}
```

I hope that is it. Sorry!
