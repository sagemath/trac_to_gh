# Issue 10322: Incorrect jmol rendering when EMBEDDED_MODE is not set

archive/issues_010322.json:
```json
{
    "body": "Assignee: @williamstein\n\nCC:  @mkoeppe @slel @davewittemorris\n\nKeywords: jmol\n\nI made a post to `@`save-devel and was advised by a jmol developer to open a trac ticket, so, here it is.\n\nStandard notebook output looks like http://img269.imageshack.us/img269/7279/notebookandtutorial.png but when run in the command line, the output looks like http://img831.imageshack.us/img831/3907/jmolwindow.png\n\nThe solution I used was to ignore EMBEDDED_MODE and use the same logic as when generating notebook data.\n\nNote that the patch also does not use sage-native-execute and also pass \"-s\" to jmol, but these are issues with the mandriva rpm package, where it uses the system wide jmol installation, and workarounds an apparent issue with newer jmol that will not understand the argument is a script if not using the \"-s\" option.\n\nIssue created by migration from https://trac.sagemath.org/ticket/10323\n\n",
    "created_at": "2010-11-24T20:14:27Z",
    "labels": [
        "component: user interface",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Incorrect jmol rendering when EMBEDDED_MODE is not set",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10322",
    "user": "https://trac.sagemath.org/admin/accounts/users/pcpa"
}
```
Assignee: @williamstein

CC:  @mkoeppe @slel @davewittemorris

Keywords: jmol

I made a post to `@`save-devel and was advised by a jmol developer to open a trac ticket, so, here it is.

Standard notebook output looks like http://img269.imageshack.us/img269/7279/notebookandtutorial.png but when run in the command line, the output looks like http://img831.imageshack.us/img831/3907/jmolwindow.png

The solution I used was to ignore EMBEDDED_MODE and use the same logic as when generating notebook data.

Note that the patch also does not use sage-native-execute and also pass "-s" to jmol, but these are issues with the mandriva rpm package, where it uses the system wide jmol installation, and workarounds an apparent issue with newer jmol that will not understand the argument is a script if not using the "-s" option.

Issue created by migration from https://trac.sagemath.org/ticket/10323





---

archive/issue_comments_105534.json:
```json
{
    "body": "jmol related sage-4.6 mandriva rpm patch",
    "created_at": "2010-11-24T20:15:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10322#issuecomment-105534",
    "user": "https://trac.sagemath.org/admin/accounts/users/pcpa"
}
```

jmol related sage-4.6 mandriva rpm patch



---

archive/issue_comments_105535.json:
```json
{
    "body": "Attachment [jmol.patch](tarball://root/attachments/some-uuid/ticket10323/jmol.patch) by @fchapoton created at 2021-08-11 14:03:00\n\nvery old, no longer relevant. Can we close as invalid ?",
    "created_at": "2021-08-11T14:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10322#issuecomment-105535",
    "user": "https://github.com/fchapoton"
}
```

Attachment [jmol.patch](tarball://root/attachments/some-uuid/ticket10323/jmol.patch) by @fchapoton created at 2021-08-11 14:03:00

very old, no longer relevant. Can we close as invalid ?



---

archive/issue_comments_105536.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-08-11T14:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10322#issuecomment-105536",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_105537.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-11T18:04:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10322#issuecomment-105537",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_105538.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2021-08-11T18:30:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10322",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10322#issuecomment-105538",
    "user": "https://github.com/fchapoton"
}
```

Resolution: invalid



---

archive/issue_events_010440.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-08-11T18:30:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10322",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10322#event-10440"
}
```
