# Issue 18284: Python3 package may be broken on OS X

Issue created by migration from https://trac.sagemath.org/ticket/18521

Original creator: jhpalmieri

Original creation time: 2015-05-26 18:17:10

CC:  ohanar

After installing the Python 3 package from #17607 on OS X 10.10.3, Xcode 6.3.1, I see

```
/Users/palmieri/Desktop/Sage_stuff/git/sage/src/bin/sage-env: line 411: 33785 Abort trap: 6           "$SAGE_ROOT/local/bin/python" -c 'import pkg_resources; pkg_resources.get_distribution("matplotlib").version' 2> /dev/null
Fatal Python error: Py_Initialize: unable to load the file system codec
  File "/Users/palmieri/Desktop/Sage_stuff/git/sage/local/lib/python/encodings/__init__.py", line 123
    raise CodecRegistryError,\
                            ^
SyntaxError: invalid syntax
/usr/local/bin/sage: line 134: 33763 Abort trap: 6           "$SAGE_ROOT/src/bin/sage" "$@"
```

The same happened on a machine with just the Xcode command-line tools installed.


---

Comment by jhpalmieri created at 2015-05-26 18:21:02

To be completely clear, I got this failure using the branch at #18517 because `git trac checkout 17607` failed earlier today. But I don't think #18517 has anything to do with the error here.


---

Comment by ohanar created at 2015-05-26 19:03:15

Hmm, this seems harder to fix than I first thought. Sage has been setup to really only have one version of Sage installed at a time (there is a heavy reliance on have `PYTHONHOME` set, which breaks having multiple versions installed).


---

Comment by chapoton created at 2016-06-30 14:36:05

see also #20215


---

Comment by jhpalmieri created at 2017-04-06 19:50:11

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2017-04-06 19:50:11

#22756 is a duplicate of this one. Since there is a branch at #22756, let's close this.


---

Comment by jhpalmieri created at 2017-04-06 19:50:33

Changing status from needs_review to positive_review.


---

Comment by embray created at 2017-07-13 07:54:31

Closing tickets in the sage-duplicate/invalid/wontfix module with positive_review (i.e. someone has confirmed they should be closed).


---

Comment by embray created at 2017-07-13 07:54:31

Resolution: wontfix
