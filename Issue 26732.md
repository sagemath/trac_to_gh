# Issue 26732: Misc pip upgrades

Issue created by migration from https://trac.sagemath.org/ticket/26969

Original creator: vbraun

Original creation time: 2018-12-29 19:44:55

CC:  â€‹slelievre




---

Comment by vbraun created at 2018-12-30 09:21:58

Changing type from PLEASE CHANGE to enhancement.


---

Comment by vbraun created at 2018-12-30 09:21:58

Changing component from PLEASE CHANGE to packages: standard.


---

Comment by vbraun created at 2018-12-30 12:09:47

Changing status from new to needs_review.


---

Comment by vbraun created at 2018-12-30 12:09:47

New commits:


---

Comment by chapoton created at 2018-12-31 13:06:11

I have an error with tornado on a machine lacking ssl (see also patchbot report):

```
tornado-5.1.1] ****************************************************
[tornado-5.1.1] Uninstalling existing 'tornado'
[tornado-5.1.1] Installing tornado-5.1.1
[tornado-5.1.1] Traceback (most recent call last):
[tornado-5.1.1]   File "setup.py", line 18, in <module>
[tornado-5.1.1]     import ssl
[tornado-5.1.1]   File "/home/chapoton/sage/local/lib/python2.7/ssl.py", line 98, in <module>
[tornado-5.1.1]     import _ssl             # if we can't import it, let the error propagate
[tornado-5.1.1] ImportError: No module named _ssl
[tornado-5.1.1] Error: could not determine package name
[tornado-5.1.1] ********************************************************************************
[tornado-5.1.1] Error installing tornado-5.1.1
[tornado-5.1.1] ********************************************************************************
[tornado-5.1.1] 
[tornado-5.1.1] real	0m0.061s
[tornado-5.1.1] user	0m0.036s
[tornado-5.1.1] sys	0m0.002s
[tornado-5.1.1] ************************************************************************
[tornado-5.1.1] Error installing package tornado-5.1.1
[tornado-5.1.1] ************************************************************************
```



---

Comment by chapoton created at 2018-12-31 14:10:02

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2018-12-31 14:10:02

on another machine, everything installs fine, but tornado is broken (maybe python3 only ?) and so breaks sagenb and jupyter notebook..


```
    from tornado.websocket import WebSocketHandler
  File "/home/chapoton/sage/local/lib/python2.7/site-packages/tornado/websocket.py", line 37, in <module>
    from tornado.queues import Queue
  File "/home/chapoton/sage/local/lib/python2.7/site-packages/tornado/queues.py", line 35, in <module>
    from tornado.locks import Event
  File "/home/chapoton/sage/local/lib/python2.7/site-packages/tornado/locks.py", line 18, in <module>
    from concurrent.futures import CancelledError
ImportError: No module named concurrent.futures
```



---

Comment by slelievre created at 2018-12-31 17:14:29

The [tornado page on PyPI](https://pypi.org/project/tornado/) still lists Python 2.7:

- Requires: Python >= 2.7, !=3.0.*, !=3.1.*, !=3.2.*, != 3.3.*


---

Comment by chapoton created at 2018-12-31 20:28:28

concurrent.futures is part of python3 standard library only. There is a backport to python 2.7 called futures

https://stackoverflow.com/questions/42377350/is-there-a-python-2-backport-for-the-concurrency-futures-package-from-python-3


---

Comment by git created at 2018-12-31 21:32:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vbraun created at 2018-12-31 21:32:53

OK lets not change tornado here
----
New commits:


---

Comment by vbraun created at 2018-12-31 21:32:53

Changing status from needs_work to needs_review.


---

Comment by slelievre created at 2019-01-01 17:01:10

Or we could upgrade to Tornado 4.5.3 here and leave Tornado 5.x for later
(that's where the `futures` thing came in).


---

Comment by vbraun created at 2019-01-01 17:21:27

Or we could bikeshed forever and never merge the ticket...


---

Comment by chapoton created at 2019-01-01 17:56:16

Let us keep the tornado update for another ticket, for sure.

My patchbot failed to install "future".


---

Comment by vbraun created at 2019-01-01 21:56:16

Thats a race with copying files, it doesn't have anythnig to do with this ticket. I made #26990 for it.


---

Comment by chapoton created at 2019-01-02 13:55:16

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2019-01-02 13:55:16

ok, then. Looks good to me.


---

Comment by embray created at 2019-01-15 18:16:10

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.


---

Comment by vbraun created at 2019-01-21 19:06:20

Breaks pexpect on OSX


---

Comment by vbraun created at 2019-01-21 19:06:20

Changing status from positive_review to needs_work.


---

Comment by git created at 2019-01-21 19:10:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vbraun created at 2019-01-21 19:11:06

Changing status from needs_work to positive_review.


---

Comment by slelievre created at 2019-01-22 08:49:08

Thanks!


---

Comment by slelievre created at 2019-01-22 08:49:08

Changing keywords from "" to "upgrade, pip".


---

Comment by vbraun created at 2019-01-22 12:39:56

Resolution: fixed


---

Comment by chapoton created at 2019-05-28 07:17:46

Time for another such ticket maybe ? I would like an upgrade of cython..


---

Comment by chapoton created at 2019-05-28 18:42:04

follow up at #27886
