# Issue 29426: Clarify and enhance descriptive statistics (and more)

archive/issues_029426.json:
```json
{
    "body": "CC:  dunfield\n\nWe have some basic statistics functionality in [sage stats](http://doc.sagemath.org/html/en/reference/stats/index.html) for some descriptive statistics.  Unfortunately, it is *really* basic.\n\nThis ticket is for clarifying the relationship of that material to the Sage [probability distributions](http://doc.sagemath.org/html/en/reference/probability/index.html), `histogram`, Scipy, GSL, and other libraries - perhaps including pandas, though this is not (yet) standard in Sage.  \n\n* Ideally there would be interfaces to the best native Python functionality rather than something specific to Sage (though that may not be possible).\n* There may be a tutorial page in the (reference manual) documentation for demonstrating best practices.\n* There could be a more education-oriented tutorial elsewhere, along the lines of [the PREP Quickstart](http://doc.sagemath.org/html/en/prep/Quickstarts/Statistics-and-Distributions.html) but more comprehensive.\n\nIf all of those generate interest, this ticket would be converted to a metaticket to keep track of them.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29663\n\n",
    "created_at": "2020-05-08T01:23:29Z",
    "labels": [
        "statistics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-feature",
    "title": "Clarify and enhance descriptive statistics (and more)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29426",
    "user": "kcrisman"
}
```
CC:  dunfield

We have some basic statistics functionality in [sage stats](http://doc.sagemath.org/html/en/reference/stats/index.html) for some descriptive statistics.  Unfortunately, it is *really* basic.

This ticket is for clarifying the relationship of that material to the Sage [probability distributions](http://doc.sagemath.org/html/en/reference/probability/index.html), `histogram`, Scipy, GSL, and other libraries - perhaps including pandas, though this is not (yet) standard in Sage.  

* Ideally there would be interfaces to the best native Python functionality rather than something specific to Sage (though that may not be possible).
* There may be a tutorial page in the (reference manual) documentation for demonstrating best practices.
* There could be a more education-oriented tutorial elsewhere, along the lines of [the PREP Quickstart](http://doc.sagemath.org/html/en/prep/Quickstarts/Statistics-and-Distributions.html) but more comprehensive.

If all of those generate interest, this ticket would be converted to a metaticket to keep track of them.

Issue created by migration from https://trac.sagemath.org/ticket/29663





---

archive/issue_comments_417504.json:
```json
{
    "body": "I use pandas pretty heavily from within Sage (Python 2.7 version).  The only problem I encounter has to do with pandas not recognizing Sage's Integer as an integer.   Assuming one has the standard preparser on, you have to do things like:\n\n```\ndataframe.loc[int(100)]\ndataframe.apply(some_function, axis=int(1))\n```\n\nto keep it happy.",
    "created_at": "2020-05-08T14:20:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29426#issuecomment-417504",
    "user": "dunfield"
}
```

I use pandas pretty heavily from within Sage (Python 2.7 version).  The only problem I encounter has to do with pandas not recognizing Sage's Integer as an integer.   Assuming one has the standard preparser on, you have to do things like:

```
dataframe.loc[int(100)]
dataframe.apply(some_function, axis=int(1))
```

to keep it happy.



---

archive/issue_comments_417505.json:
```json
{
    "body": "> I use pandas pretty heavily from within Sage (Python 2.7 version).  \n\nHmm, yeah that is exactly the kind of problem I expected (`brian` had some similar issues iirc).  I assume you `pip install` it, not included in our Python from the get-go, right?",
    "created_at": "2020-05-08T14:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29426#issuecomment-417505",
    "user": "kcrisman"
}
```

> I use pandas pretty heavily from within Sage (Python 2.7 version).  

Hmm, yeah that is exactly the kind of problem I expected (`brian` had some similar issues iirc).  I assume you `pip install` it, not included in our Python from the get-go, right?



---

archive/issue_comments_417506.json:
```json
{
    "body": "Replying to [comment:4 kcrisman]:\n> I assume you `pip install` it, not included in our Python from the get-go, right?\n\nYes, I just use `pip install` which has always worked smoothly (though it takes a bit of time to compile).  The main dependency is just a reasonably recent version of `numpy` which of course Sage has.",
    "created_at": "2020-05-08T14:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29426#issuecomment-417506",
    "user": "dunfield"
}
```

Replying to [comment:4 kcrisman]:
> I assume you `pip install` it, not included in our Python from the get-go, right?

Yes, I just use `pip install` which has always worked smoothly (though it takes a bit of time to compile).  The main dependency is just a reasonably recent version of `numpy` which of course Sage has.



---

archive/issue_comments_417507.json:
```json
{
    "body": "Replying to [comment:3 dunfield]:\n> pandas not recognizing Sage's Integer as an integer.\nI added\n\n```\nfrom sage.rings.integer import Integer\nif type(key) is Integer:\n    ...\n```\n\nto pandas/core/indexes/{base,range}.py",
    "created_at": "2022-01-25T07:52:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29426#issuecomment-417507",
    "user": "@sheerluck"
}
```

Replying to [comment:3 dunfield]:
> pandas not recognizing Sage's Integer as an integer.
I added

```
from sage.rings.integer import Integer
if type(key) is Integer:
    ...
```

to pandas/core/indexes/{base,range}.py
