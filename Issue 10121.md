# Issue 10121: Random doctests in random_matrix helpers

Issue created by migration from Trac.

Original creator: jason

Original creation time: 2010-10-12 09:51:06

Assignee: jason, was

CC:  rbeezer bwonderly

In #9754, #9802, #9720, #9803, and #9754, some of the doctests are now marked `#random` that should not be marked random (since the random seed is fixed when the doctests are tested).

Also, in #9754, "natural" is spelled "natrual".


---

Comment by rbeezer created at 2010-10-16 06:53:33

Hi Jason,

The randomness comes from the distributions in the GSL library.  You can set the seed, on a per-distribution basis, at the time you initialize the distribution.

We could not see a way to do this in a doctest, but outside the routine being tested.  So we *definitely* tried to do this, and *probably* couldn't find a way.

Any thoughts?

Rob


---

Comment by jason created at 2010-10-16 15:30:04

Replying to [comment:1 rbeezer]:
> Hi Jason,
> 
> The randomness comes from the distributions in the GSL library.  You can set the seed, on a per-distribution basis, at the time you initialize the distribution.
> 
> We could not see a way to do this in a doctest, but outside the routine being tested.  So we *definitely* tried to do this, and *probably* couldn't find a way.
> 

I see that GSL is not one of the libraries interfaced in misc/randstate.pyx.  At first glance, that would be the way to fix it (add GSL to one of the supported library seed-setting routines in that file).

I see that it's a more complicated issue though.  Thanks for the explanation.


---

Comment by rbeezer created at 2010-10-17 17:35:03

I would have liked to have not marked these tests "random," so thanks for the confirmation that we didn't miss something.

It'd be nice to get all the randomness under one roof, and have things like this use the doctesting seed-setting.  So I think it is worth leaving this ticket around (or make a new one that is more general and explicit).  Which route do you think would be best?

Rob


---

Comment by rbeezer created at 2013-08-23 22:01:45

These tests ended up being marked `# random` in part from confusion related to #15089.

The random matrix routines can be made predictable (by setting the seed) with the patch on #15090.

I'd be inclined to come back to this one, if and when #15090 has a positive review.


---

Comment by novoselt created at 2014-10-21 22:13:06

Changing status from new to needs_review.


---

Comment by novoselt created at 2014-10-21 22:13:06

#15887 removed a bunch of random comments.


---

Comment by novoselt created at 2014-10-21 22:13:21

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-10-27 16:27:47

Resolution: duplicate
