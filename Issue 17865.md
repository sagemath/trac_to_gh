# Issue 17865: Arithmetic functions

Issue created by migration from https://trac.sagemath.org/ticket/18102

Original creator: jj

Original creation time: 2015-04-01 20:51:14

CC:  rws kcrisman slelievre

Keywords: arithmetic functions

This ticket is mainly a playground for ideas (for now). Anyone: Feel free to take over... :)

I would like to see some way to work with exact arithmetic functions.
In particular when dealing with series (e.g. Dirichlet series but also other series):
If a good implementation of function spaces is around then a series could be stored (in an exact way) by specifying it's coefficient function. I.e. allowing/using arithmetic functions as element constructor arguments for (Dirichlet) series. Also see http://trac.sagemath.org/ticket/16477 for the Dirichlet series ticket.

Nice subspaces are given by the ring of arithmetic functions with multiplication by convolution.
This corresponds to the usual product of the associated Dirichlet series (which acts like a Fourier transform of the arithmetic function).
Other (smaller) subspaces are given by multiplicative or completely multiplicative functions.
One idea might be to use the symbolic ring. But it has trouble with "sums" which are absolutely crucial for most operations with arithmetic functions.

I tried to start with one possible (quick) POC implementation.

Here is a simple example:

```
sigma3 = ArithmeticFunction(lambda n: sigma(n,3), lambda n,_: "sigma({},3)".format(n), lambda n,_: "\\sigma_{{3}}\\left({}\\right)".format(n))
sigma3^2
show(sigma3^2)
(sigma3^2)(5)
```


Main issues I see are:
- representations of coefficients / functions
- simplifications of functions/representations:
  For instance we could group sums into one big sum with many conditions over many summation variables.
  If summation conditions are handled carefully/abstractly this could allow some powerful simplifications.
- comparisons of functions (very hard!)
- finding the right way to go about it (categories/etc)
- trivial scalar multiplication: How to make/represent it as simple as possible?

Clearly a lot of the structure comes from the codomain. If it has a ring structure it carries over to the function space and with natural numbers as domain we can define a convolution product. An algebra would also carry over nicely. What's the right general setup for this?

I'm all ears for suggestions / better alternatives.


---

Attachment

Generating series (GS), Coefficient function (CF), Dirichlet series (DS)


---

Comment by jj created at 2015-04-01 21:13:24

Changing type from task to enhancement.


---

Comment by mantepse created at 2015-04-01 21:22:13

EDIT:

Sorry, wrong ticket (and not much content anyway, I admit).

OLD POST:

I have written (a long time ago) a domain for Dirichlet series in FriCAS.  If you install FriCAS (with `sage -i fricas`, you can find the source in


```
/sage/local/lib/fricas/target/x86_64-unknown-linux/src/algebra/
```

