# Issue 14406: energy function for level zero LS paths for dual untwisted affine root systems

Issue created by migration from Trac.

Original creator: mshimo

Original creation time: 2013-05-18 15:40:23

Assignee: mshimo

CC:  sage-combinat bsalisbury1

Keywords: crystal graph

Extend the energy function for level zero LS paths to work for dual untwisted affine root systems.
Currently it works for untwisted affine root systems.


---

Comment by aschilling created at 2013-05-21 01:59:19

Changing status from new to needs_review.


---

Comment by mshimo created at 2013-05-21 04:08:00

Changing status from needs_review to positive_review.


---

Comment by mshimo created at 2013-05-21 14:18:20

Changing status from positive_review to needs_work.


---

Comment by aschilling created at 2013-06-21 10:38:29

Changing status from needs_work to needs_review.


---

Comment by aschilling created at 2013-07-02 00:11:09

Changing keywords from "crystal graph" to "crystal graph, days49".


---

Comment by aschilling created at 2013-07-02 17:11:29

Hi Ben,

The patch is now ready for the final review.

Thanks,

Anne


---

Comment by bsalisbury1 created at 2013-07-02 18:54:48

Hi Anne and Mark,

Thank you for your work on this!  Everything looks good!


```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 1692.1 seconds
    cpu time: 5689.0 seconds
    cumulative wall time: 9948.0 seconds
```


~Ben


---

Comment by bsalisbury1 created at 2013-07-02 18:54:48

Changing status from needs_review to positive_review.


---

Comment by aschilling created at 2013-07-02 19:11:37

Ben, thank you for the review!


---

Comment by jdemeyer created at 2013-08-15 15:23:43

This `AssertionError` should be changed into a `ValueError` or `TypeError`:

```
sage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root() 
---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
<ipython-input-25-e961de76571c> in <module>()
----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()

/mazur/release/merger/sage-5.12.beta1/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)
   3290             """
   3291             ct = self.parent().cartan_type()
-> 3292             assert ct.is_irreducible()
   3293             if not ct.is_finite():
   3294                 raise NotImplementedError, "Implemented only for irreducible finite root systems"

AssertionError: 
```



---

Comment by jdemeyer created at 2013-08-15 15:23:43

Changing status from positive_review to needs_work.


---

Attachment


---

Comment by aschilling created at 2013-08-15 16:15:18

Fixed!


---

Comment by jdemeyer created at 2013-08-16 09:46:35

Changing status from needs_work to needs_review.


---

Comment by bsalisbury1 created at 2013-08-16 16:46:37

Here is the new output for the above situation:

```
sage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root()
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-1-31128c2ac44d> in <module>()
----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()

/Users/salis1bt/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)
   3291             ct = self.parent().cartan_type()
   3292             if not ct.is_irreducible():
-> 3293                 raise ValueError, "Cartan type needs to be irreducible!"
   3294             if not ct.is_finite():
   3295                 raise NotImplementedError, "Implemented only for irreducible finite root systems"

ValueError: Cartan type needs to be irreducible!
```

All looks good to me.

```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 1835.0 seconds
    cpu time: 5844.4 seconds
    cumulative wall time: 7022.8 seconds
```



---

Comment by bsalisbury1 created at 2013-08-16 16:46:37

Changing status from needs_review to positive_review.


---

Comment by aschilling created at 2013-08-16 18:58:26

Thank you!

Anne


---

Comment by jdemeyer created at 2013-08-16 21:15:48

Resolution: fixed
