# Issue 14406: energy function for level zero LS paths for dual untwisted affine root systems

archive/issues_014406.json:
```json
{
    "body": "Assignee: mshimo\n\nCC:  sage-combinat @bsalisbury1\n\nKeywords: crystal graph\n\nExtend the energy function for level zero LS paths to work for dual untwisted affine root systems.\nCurrently it works for untwisted affine root systems.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14610\n\n",
    "created_at": "2013-05-18T15:40:23Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "energy function for level zero LS paths for dual untwisted affine root systems",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14406",
    "user": "mshimo"
}
```
Assignee: mshimo

CC:  sage-combinat @bsalisbury1

Keywords: crystal graph

Extend the energy function for level zero LS paths to work for dual untwisted affine root systems.
Currently it works for untwisted affine root systems.

Issue created by migration from https://trac.sagemath.org/ticket/14610





---

archive/issue_comments_182123.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-05-21T01:59:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182123",
    "user": "@anneschilling"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_182124.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-05-21T04:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182124",
    "user": "mshimo"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_182125.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-05-21T14:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182125",
    "user": "mshimo"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_182126.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-06-21T10:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182126",
    "user": "@anneschilling"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_182127.json:
```json
{
    "body": "Changing keywords from \"crystal graph\" to \"crystal graph, days49\".",
    "created_at": "2013-07-02T00:11:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182127",
    "user": "@anneschilling"
}
```

Changing keywords from "crystal graph" to "crystal graph, days49".



---

archive/issue_comments_182128.json:
```json
{
    "body": "Hi Ben,\n\nThe patch is now ready for the final review.\n\nThanks,\n\nAnne",
    "created_at": "2013-07-02T17:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182128",
    "user": "@anneschilling"
}
```

Hi Ben,

The patch is now ready for the final review.

Thanks,

Anne



---

archive/issue_comments_182129.json:
```json
{
    "body": "Hi Anne and Mark,\n\nThank you for your work on this!  Everything looks good!\n\n\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 1692.1 seconds\n    cpu time: 5689.0 seconds\n    cumulative wall time: 9948.0 seconds\n```\n\n\n~Ben",
    "created_at": "2013-07-02T18:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182129",
    "user": "@bsalisbury1"
}
```

Hi Anne and Mark,

Thank you for your work on this!  Everything looks good!


```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 1692.1 seconds
    cpu time: 5689.0 seconds
    cumulative wall time: 9948.0 seconds
```


~Ben



---

archive/issue_comments_182130.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-02T18:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182130",
    "user": "@bsalisbury1"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_182131.json:
```json
{
    "body": "Ben, thank you for the review!",
    "created_at": "2013-07-02T19:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182131",
    "user": "@anneschilling"
}
```

Ben, thank you for the review!



---

archive/issue_comments_182132.json:
```json
{
    "body": "This `AssertionError` should be changed into a `ValueError` or `TypeError`:\n\n```\nsage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root() \n---------------------------------------------------------------------------\nAssertionError                            Traceback (most recent call last)\n<ipython-input-25-e961de76571c> in <module>()\n----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()\n\n/mazur/release/merger/sage-5.12.beta1/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)\n   3290             \"\"\"\n   3291             ct = self.parent().cartan_type()\n-> 3292             assert ct.is_irreducible()\n   3293             if not ct.is_finite():\n   3294                 raise NotImplementedError, \"Implemented only for irreducible finite root systems\"\n\nAssertionError: \n```\n",
    "created_at": "2013-08-15T15:23:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182132",
    "user": "@jdemeyer"
}
```

This `AssertionError` should be changed into a `ValueError` or `TypeError`:

```
sage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root() 
---------------------------------------------------------------------------
AssertionError                            Traceback (most recent call last)
<ipython-input-25-e961de76571c> in <module>()
----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()

/mazur/release/merger/sage-5.12.beta1/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)
   3290             """
   3291             ct = self.parent().cartan_type()
-> 3292             assert ct.is_irreducible()
   3293             if not ct.is_finite():
   3294                 raise NotImplementedError, "Implemented only for irreducible finite root systems"

AssertionError: 
```




---

archive/issue_comments_182133.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-08-15T15:23:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182133",
    "user": "@jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_182134.json:
```json
{
    "body": "Attachment [trac_14610-LSenergy-ms.patch](tarball://root/attachments/some-uuid/ticket14610/trac_14610-LSenergy-ms.patch) by @anneschilling created at 2013-08-15 16:14:42",
    "created_at": "2013-08-15T16:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182134",
    "user": "@anneschilling"
}
```

Attachment [trac_14610-LSenergy-ms.patch](tarball://root/attachments/some-uuid/ticket14610/trac_14610-LSenergy-ms.patch) by @anneschilling created at 2013-08-15 16:14:42



---

archive/issue_comments_182135.json:
```json
{
    "body": "Fixed!",
    "created_at": "2013-08-15T16:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182135",
    "user": "@anneschilling"
}
```

Fixed!



---

archive/issue_comments_182136.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-08-16T09:46:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182136",
    "user": "@jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_182137.json:
```json
{
    "body": "Here is the new output for the above situation:\n\n```\nsage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root()\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-1-31128c2ac44d> in <module>()\n----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()\n\n/Users/salis1bt/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)\n   3291             ct = self.parent().cartan_type()\n   3292             if not ct.is_irreducible():\n-> 3293                 raise ValueError, \"Cartan type needs to be irreducible!\"\n   3294             if not ct.is_finite():\n   3295                 raise NotImplementedError, \"Implemented only for irreducible finite root systems\"\n\nValueError: Cartan type needs to be irreducible!\n```\n\nAll looks good to me.\n\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 1835.0 seconds\n    cpu time: 5844.4 seconds\n    cumulative wall time: 7022.8 seconds\n```\n",
    "created_at": "2013-08-16T16:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182137",
    "user": "@bsalisbury1"
}
```

Here is the new output for the above situation:

```
sage: RootSystem(['D',2]).root_lattice().simple_root(1).is_short_root()
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-1-31128c2ac44d> in <module>()
----> 1 RootSystem(['D',Integer(2)]).root_lattice().simple_root(Integer(1)).is_short_root()

/Users/salis1bt/sage-5.12.beta0/local/lib/python2.7/site-packages/sage/combinat/root_system/root_lattice_realizations.pyc in is_short_root(self)
   3291             ct = self.parent().cartan_type()
   3292             if not ct.is_irreducible():
-> 3293                 raise ValueError, "Cartan type needs to be irreducible!"
   3294             if not ct.is_finite():
   3295                 raise NotImplementedError, "Implemented only for irreducible finite root systems"

ValueError: Cartan type needs to be irreducible!
```

All looks good to me.

```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 1835.0 seconds
    cpu time: 5844.4 seconds
    cumulative wall time: 7022.8 seconds
```




---

archive/issue_comments_182138.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-08-16T16:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182138",
    "user": "@bsalisbury1"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_182139.json:
```json
{
    "body": "Thank you!\n\nAnne",
    "created_at": "2013-08-16T18:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182139",
    "user": "@anneschilling"
}
```

Thank you!

Anne



---

archive/issue_comments_182140.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-16T21:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14406",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14406#issuecomment-182140",
    "user": "@jdemeyer"
}
```

Resolution: fixed
