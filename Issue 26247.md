# Issue 26247: clean graph_coloring.py

Issue created by migration from https://trac.sagemath.org/ticket/26484

Original creator: dcoudert

Original creation time: 2018-10-13 13:32:43

CC:  tscrim chapoton

Clean `graph_coloring.py`. Fix a `max` to avoid comparison of vertex labels.


---

Comment by dcoudert created at 2018-10-13 13:35:21

New commits:


---

Comment by dcoudert created at 2018-10-13 13:35:21

Changing keywords from "" to "py3, graph".


---

Comment by dcoudert created at 2018-10-13 13:35:21

Changing status from new to needs_review.


---

Comment by tscrim created at 2018-10-19 03:32:38

A while-we-are-at-it:

```diff
-    if not n: return
+    if not n:
+        return
-    if n < 0: raise ValueError("n must be non-negative")
+    if n < 0:
+        raise ValueError("n must be non-negative")
```


This is now a grammatical error:

```diff
-    number of colors.
-
-    ::
+    number of colors ::
```

Remove the space before the `::` so it generates a colon after colors.

Can you use Python `set`'s here instead of Sage `Set`'s:

```
            # make the dict into a set for quick uniqueness checking
            S += Set([Set([(k,tuple(C[k])) for k in C])])
```

(or at least for intermediate computations)?

For this change:

```diff
-            raise RuntimeError("It looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen ")
+            raise RuntimeError("it looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen ")
```

the `it` should be capitalized because the error message is so long and multiple sentences. Also, you should remove Nathann Cohen from the error message and say "We implore you!".

Everything else LGTM.


---

Comment by git created at 2018-10-19 07:01:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-10-19 07:04:45

> Remove the space before the `::` so it generates a colon after colors.
I didn't know that. I'm learning every day. Cool.
 
> Can you use Python `set`'s here instead of Sage `Set`'s:
Done. I also added a loop as the input parameter was not used


---

Comment by tscrim created at 2018-10-19 14:49:53

Thanks. Actually, now I am a little worried about the default number of tests run in `random_all_graph_colorings`. It takes over a minute on my laptop. I think we are better having the default number be 10 or possibly 100. Once changed, you can set a positive review on my behalf.


---

Comment by git created at 2018-10-19 15:36:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2018-10-19 15:37:40

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2018-10-19 15:37:40

I reduced it to 2. Note that the doctest of that method calls it with 1.

Thanks for the review.


---

Comment by vbraun created at 2018-10-20 19:02:47

Resolution: fixed
