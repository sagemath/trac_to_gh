# Issue 26247: clean graph_coloring.py

archive/issues_026247.json:
```json
{
    "body": "CC:  @tscrim @fchapoton\n\nClean `graph_coloring.py`. Fix a `max` to avoid comparison of vertex labels.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26484\n\n",
    "created_at": "2018-10-13T13:32:43Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "clean graph_coloring.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26247",
    "user": "@dcoudert"
}
```
CC:  @tscrim @fchapoton

Clean `graph_coloring.py`. Fix a `max` to avoid comparison of vertex labels.

Issue created by migration from https://trac.sagemath.org/ticket/26484





---

archive/issue_comments_369883.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-10-13T13:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26247#issuecomment-369883",
    "user": "@dcoudert"
}
```

New commits:



---

archive/issue_comments_369884.json:
```json
{
    "body": "Changing keywords from \"\" to \"py3, graph\".",
    "created_at": "2018-10-13T13:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26247#issuecomment-369884",
    "user": "@dcoudert"
}
```

Changing keywords from "" to "py3, graph".



---

archive/issue_comments_369885.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-13T13:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26247#issuecomment-369885",
    "user": "@dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_369886.json:
```json
{
    "body": "A while-we-are-at-it:\n\n```diff\n-    if not n: return\n+    if not n:\n+        return\n-    if n < 0: raise ValueError(\"n must be non-negative\")\n+    if n < 0:\n+        raise ValueError(\"n must be non-negative\")\n```\n\n\nThis is now a grammatical error:\n\n```diff\n-    number of colors.\n-\n-    ::\n+    number of colors ::\n```\n\nRemove the space before the `::` so it generates a colon after colors.\n\nCan you use Python `set`'s here instead of Sage `Set`'s:\n\n```\n            # make the dict into a set for quick uniqueness checking\n            S += Set([Set([(k,tuple(C[k])) for k in C])])\n```\n\n(or at least for intermediate computations)?\n\nFor this change:\n\n```diff\n-            raise RuntimeError(\"It looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen \")\n+            raise RuntimeError(\"it looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen \")\n```\n\nthe `it` should be capitalized because the error message is so long and multiple sentences. Also, you should remove Nathann Cohen from the error message and say \"We implore you!\".\n\nEverything else LGTM.",
    "created_at": "2018-10-19T03:32:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26247#issuecomment-369886",
    "user": "@tscrim"
}
```

A while-we-are-at-it:

```diff
-    if not n: return
+    if not n:
+        return
-    if n < 0: raise ValueError("n must be non-negative")
+    if n < 0:
+        raise ValueError("n must be non-negative")
```


This is now a grammatical error:

```diff
-    number of colors.
-
-    ::
+    number of colors ::
```

Remove the space before the `::` so it generates a colon after colors.

Can you use Python `set`'s here instead of Sage `Set`'s:

```
            # make the dict into a set for quick uniqueness checking
            S += Set([Set([(k,tuple(C[k])) for k in C])])
```

(or at least for intermediate computations)?

For this change:

```diff
-            raise RuntimeError("It looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen ")
+            raise RuntimeError("it looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen ")
```

the `it` should be capitalized because the error message is so long and multiple sentences. Also, you should remove Nathann Cohen from the error message and say "We implore you!".

Everything else LGTM.



---

archive/issue_comments_369887.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-19T07:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26247#issuecomment-369887",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369888.json:
```json
{
    "body": "> Remove the space before the `::` so it generates a colon after colors.\nI didn't know that. I'm learning every day. Cool.\n \n> Can you use Python `set`'s here instead of Sage `Set`'s:\nDone. I also added a loop as the input parameter was not used",
    "created_at": "2018-10-19T07:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26247#issuecomment-369888",
    "user": "@dcoudert"
}
```

> Remove the space before the `::` so it generates a colon after colors.
I didn't know that. I'm learning every day. Cool.
 
> Can you use Python `set`'s here instead of Sage `Set`'s:
Done. I also added a loop as the input parameter was not used



---

archive/issue_comments_369889.json:
```json
{
    "body": "Thanks. Actually, now I am a little worried about the default number of tests run in `random_all_graph_colorings`. It takes over a minute on my laptop. I think we are better having the default number be 10 or possibly 100. Once changed, you can set a positive review on my behalf.",
    "created_at": "2018-10-19T14:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26247#issuecomment-369889",
    "user": "@tscrim"
}
```

Thanks. Actually, now I am a little worried about the default number of tests run in `random_all_graph_colorings`. It takes over a minute on my laptop. I think we are better having the default number be 10 or possibly 100. Once changed, you can set a positive review on my behalf.



---

archive/issue_comments_369890.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-19T15:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26247#issuecomment-369890",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369891.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-19T15:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26247#issuecomment-369891",
    "user": "@dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_369892.json:
```json
{
    "body": "I reduced it to 2. Note that the doctest of that method calls it with 1.\n\nThanks for the review.",
    "created_at": "2018-10-19T15:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26247#issuecomment-369892",
    "user": "@dcoudert"
}
```

I reduced it to 2. Note that the doctest of that method calls it with 1.

Thanks for the review.



---

archive/issue_comments_369893.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-10-20T19:02:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26247#issuecomment-369893",
    "user": "@vbraun"
}
```

Resolution: fixed
