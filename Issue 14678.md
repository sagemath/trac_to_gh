# Issue 14678: Inexplicably long-time doctest in sage/combinat/backtrack.py

Issue created by migration from https://trac.sagemath.org/ticket/14882

Original creator: darij

Original creation time: 2013-07-12 13:40:35

Assignee: sage-combinat

Keywords: combinat, backtrack

It's in the docstring of ``PositiveIntegerSemigroup``:


```
    EXAMPLES::

        sage: from sage.combinat.backtrack import PositiveIntegerSemigroup
        sage: PP = PositiveIntegerSemigroup()
        sage: PP.category()
        Join of Category of infinite enumerated sets and Category of commutative additive semigroups and Category of monoids and Category of facade sets
        sage: PP.cardinality()
        +Infinity
        sage: PP.one()
        1
        sage: PP.an_element()
        1
        sage: some_elements = list(PP.some_elements()); some_elements
        [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100]

    TESTS::

        sage: from sage.combinat.backtrack import PositiveIntegerSemigroup
        sage: PP = PositiveIntegerSemigroup()
        sage: TestSuite(PP).run(elements=some_elements)
```


This TestSuite call takes 1.44 min on my machine, and this persists even if I replace the ``some_elements`` list (with length 100) by a list of length 2 or even an empty list. I don't see what there is that can be tested so long about positive integers...

The attached patch doesn't solve the underlying problem, but just #longtimes the computation so that it does not lame me down when I want to doctest sage.combinat. I would love to help, but I don't know enough about test suites.

The patch also fixes some spelling.


---

Comment by darij created at 2013-07-12 13:40:51

not an actual fix, just a # long time


---

Attachment


---

Comment by darij created at 2013-07-12 13:41:32

Changing status from new to needs_info.


---

Comment by darij created at 2013-07-12 14:16:04

I'm just seeing this is fixed by Travis in #14772. Thanks, Travis!


---

Comment by darij created at 2013-07-12 14:22:35

Changing status from needs_info to needs_review.


---

Comment by darij created at 2013-07-12 14:24:41

typos in docstring and valueerrors corrected


---

Attachment


---

Comment by tscrim created at 2013-07-13 10:58:27

Duplicate since I noticed this and fixed it in #14772? Or should we have this one just fix the spelling?


---

Comment by darij created at 2013-07-13 10:59:50

This is just a spelling fix now ("breath-first", "pickable" for "picklable"); I removed your change from my patch.


---

Comment by tscrim created at 2013-07-13 11:36:27

Okay, so there's no dependency (I checked this). However there should not be periods '.' after the input's since they are not complete sentences. Also since we're bring the doc more up to spec, how about converting them to the conventions formatting of:

```
- ``arg`` -- a description of the arg
```


Thanks,

Travis


---

Comment by darij created at 2013-07-13 11:56:52

spelling fixes, including a string keyword (shouldn't break doctests, since the method wasn't testing for the keyword being == "breath", bur only for it being != "depth")


---

Attachment


---

Comment by darij created at 2013-07-13 11:57:42

Fair point; fixed.

for the patchbot:

apply trac_14882-spelling_in_backtrack-dg.patch


---

Comment by tscrim created at 2013-07-13 12:02:05

Looks good to me now. Thanks Darij.


---

Comment by tscrim created at 2013-07-13 12:02:05

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-08-10 06:38:40

Resolution: fixed
