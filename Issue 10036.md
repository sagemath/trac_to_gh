# Issue 10036: cddlib/Polyhedron bug

Issue created by migration from https://trac.sagemath.org/ticket/10037

Original creator: mhampton

Original creation time: 2010-09-30 03:05:22

Assignee: mhampton

CC:  vbraun dimpase novoselt

Keywords: cddlib, polyhedron, polyhedra

The following causes cddlib to crash; I'm not sure if this is fixable without patching the cddlib source:

```
p4 = polytopes.permutahedron(5,project=True)
pn4 = p4.projection()
p3  = pn4.schlegel()
verts = p3.transformed_coords
edges = p3.lines
topes = []
for q in p4.facial_incidences():
    topes.append([verts[i] for i in q[1]])
Polyhedron(vertices=topes[3], field=RDF, verbose=True)
```


output ends with:

```
Facet graph
*Error: Possibly an LP cycling occurs.  Use the Criss-Cross method.
```



---

Comment by vbraun created at 2010-09-30 09:13:49

This one actually works for me (Fedora 13 x86_64):

```
sage: Polyhedron(vertices=topes[3], field=RDF, verbose=True)
[... vebose cdd interaction ...]
A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 23 vertices.
```

Just out of curiosity, which arch is that failing on?

I think the way to go is to implement vertex/facet adjacencies ourselves with a modern LP solver, either cvxopt or PPL. 

I've opened #10039 as a first step to switch to PPL.


---

Comment by mhampton created at 2010-09-30 16:33:38

It fails for me on an intel mac, OS X 10.6.  It does work for me on linux (64 bit Ubuntu 9.10).


---

Comment by vbraun created at 2013-04-23 18:52:08

Changing status from new to needs_review.


---

Comment by vbraun created at 2013-04-23 18:52:08

#14479 adds raising a proper error, so I consider this fixed. Use rationals for exact arithmetic.

Patch is for a regression in calling `schlegel()` without specifying the direction.


---

Attachment

Initial patch


---

Comment by vbraun created at 2013-04-26 16:21:15

This trivial patch needs review...


---

Comment by novoselt created at 2013-04-26 16:24:01

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-04-30 09:38:10

Resolution: fixed
