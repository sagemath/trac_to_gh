# Issue 11021: Stembridge local characterization for crystal bases

archive/issues_011021.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  sage-combinat aschilling\n\nKeywords: crystals\n\nImplementation of the Stembridge local axioms for crystal bases.  Some functions added for checking these axioms, and _test_stembridge_local_axioms() was added to the test suite for highest weight crystals.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11183\n\n",
    "created_at": "2011-04-12T22:09:38Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.2",
    "title": "Stembridge local characterization for crystal bases",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11021",
    "user": "sdenton"
}
```
Assignee: sage-combinat

CC:  sage-combinat aschilling

Keywords: crystals

Implementation of the Stembridge local axioms for crystal bases.  Some functions added for checking these axioms, and _test_stembridge_local_axioms() was added to the test suite for highest weight crystals.

Issue created by migration from https://trac.sagemath.org/ticket/11183





---

archive/issue_comments_119842.json:
```json
{
    "body": "Attachment [trac_11183-crystals_local_characterization-td.patch](tarball://root/attachments/some-uuid/ticket11183/trac_11183-crystals_local_characterization-td.patch) by sdenton created at 2011-05-15 10:06:23\n\nexported patch file",
    "created_at": "2011-05-15T10:06:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119842",
    "user": "sdenton"
}
```

Attachment [trac_11183-crystals_local_characterization-td.patch](tarball://root/attachments/some-uuid/ticket11183/trac_11183-crystals_local_characterization-td.patch) by sdenton created at 2011-05-15 10:06:23

exported patch file



---

archive/issue_comments_119843.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-05-16T05:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119843",
    "user": "aschilling"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_119844.json:
```json
{
    "body": "This patch implements the local axioms for highest weight crystals of simply-laced types. This is a very useful test to check that a given crystal is actually consistent (for simply-laced types these tests are necessary and sufficient, for nonsimply-laced types only necessary). I tested this patch mathematically on several crystals.\n\nsage -t on all relevant crystal code passes. If the buildbot gives green light for all tests, this is a positive review!",
    "created_at": "2011-05-16T05:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119844",
    "user": "aschilling"
}
```

This patch implements the local axioms for highest weight crystals of simply-laced types. This is a very useful test to check that a given crystal is actually consistent (for simply-laced types these tests are necessary and sufficient, for nonsimply-laced types only necessary). I tested this patch mathematically on several crystals.

sage -t on all relevant crystal code passes. If the buildbot gives green light for all tests, this is a positive review!



---

archive/issue_comments_119845.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-05-16T05:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119845",
    "user": "aschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_119846.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-05-16T23:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119846",
    "user": "aschilling"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_119847.json:
```json
{
    "body": "Currently, the tests in /sage/categories/examples/crystals.py do not pass and need to be updated. In addition, it would be good to provide an implementation of a simple \"crystal\" that does not pass the Stembridge tests in this file.\n\nSo I set this to \"needs work\".\n\nAnne",
    "created_at": "2011-05-16T23:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119847",
    "user": "aschilling"
}
```

Currently, the tests in /sage/categories/examples/crystals.py do not pass and need to be updated. In addition, it would be good to provide an implementation of a simple "crystal" that does not pass the Stembridge tests in this file.

So I set this to "needs work".

Anne



---

archive/issue_comments_119848.json:
```json
{
    "body": "I reviewed the final version of the patch and it looks good now! The tests of all modified files pass. If the buildbot gives a green light, this has a positive review!\n\nAnne\n\nApply: trac_11183-crystals_local_characterization-final.patch",
    "created_at": "2011-06-27T04:07:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119848",
    "user": "aschilling"
}
```

I reviewed the final version of the patch and it looks good now! The tests of all modified files pass. If the buildbot gives a green light, this has a positive review!

Anne

Apply: trac_11183-crystals_local_characterization-final.patch



---

archive/issue_comments_119849.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2011-06-27T04:07:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119849",
    "user": "aschilling"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_119850.json:
```json
{
    "body": "Note: I had to (trivially) rebase #10998 on top of this patch. Please check that the queue apply next time :-)",
    "created_at": "2011-06-28T12:17:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119850",
    "user": "nthiery"
}
```

Note: I had to (trivially) rebase #10998 on top of this patch. Please check that the queue apply next time :-)



---

archive/issue_comments_119851.json:
```json
{
    "body": "Replying to [comment:6 nthiery]:\n> Note: I had to (trivially) rebase #10998 on top of this patch. Please check that the queue apply next time :-)\n\nOops, #9280 in fact.",
    "created_at": "2011-06-28T12:22:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119851",
    "user": "nthiery"
}
```

Replying to [comment:6 nthiery]:
> Note: I had to (trivially) rebase #10998 on top of this patch. Please check that the queue apply next time :-)

Oops, #9280 in fact.



---

archive/issue_comments_119852.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-07-28T16:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119852",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_119853.json:
```json
{
    "body": "The first line of the patch file is\n\n```\nexporting patch:\n```\n\n\nThis should not be there.  Probably you made some script which writes such a line, I think it is best to undo that.",
    "created_at": "2011-07-28T16:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119853",
    "user": "jdemeyer"
}
```

The first line of the patch file is

```
exporting patch:
```


This should not be there.  Probably you made some script which writes such a line, I think it is best to undo that.



---

archive/issue_comments_119854.json:
```json
{
    "body": "Also, there are some problems building the documentation:\n\n```\ndochtml.log:/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha1/devel/sage/doc/en/reference/sage/categories/examples/crystals.rst:69: WARNING: more than one target found for cross-reference u'cartan_type': sage.combinat.crystals.tensor_product.CrystalOfTableaux.cartan_type, sage.combinat.root_system.dynkin_diagram.DynkinDiagram_class.cartan_type, sage.combinat.root_system.weyl_characters.WeightRing.cartan_type, sage.combinat.root_system.weyl_characters.WeylCharacterRing.cartan_type, sage.combinat.root_system.weyl_group.WeylGroup_gens.cartan_type, sage.combinat.root_system.root_system.RootSystem.cartan_type, sage.algebras.iwahori_hecke_algebra.IwahoriHeckeAlgebraT.cartan_type, sage.categories.crystals.Crystals.ParentMethods.cartan_type, sage.combinat.root_system.weyl_group.ClassicalWeylSubgroup.cartan_type, sage.combinat.root_system.weyl_characters.WeylCharacterRing.Element.cartan_type, sage.combinat.root_system.weyl_characters.WeightRing.Element.cartan_type, sage.categories.crystals.Crystals.ElementMethods.cartan_type\ndochtml.log:/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha1/devel/sage/doc/en/reference/sage/categories/examples/crystals.rst:73: WARNING: more than one target found for cross-reference u'Element.weight': sage.combinat.crystals.direct_sum.DirectSumOfCrystals.Element.weight, sage.combinat.crystals.fast_crystals.FastCrystal.Element.weight\n```\n",
    "created_at": "2011-07-28T20:18:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119854",
    "user": "jdemeyer"
}
```

Also, there are some problems building the documentation:

```
dochtml.log:/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha1/devel/sage/doc/en/reference/sage/categories/examples/crystals.rst:69: WARNING: more than one target found for cross-reference u'cartan_type': sage.combinat.crystals.tensor_product.CrystalOfTableaux.cartan_type, sage.combinat.root_system.dynkin_diagram.DynkinDiagram_class.cartan_type, sage.combinat.root_system.weyl_characters.WeightRing.cartan_type, sage.combinat.root_system.weyl_characters.WeylCharacterRing.cartan_type, sage.combinat.root_system.weyl_group.WeylGroup_gens.cartan_type, sage.combinat.root_system.root_system.RootSystem.cartan_type, sage.algebras.iwahori_hecke_algebra.IwahoriHeckeAlgebraT.cartan_type, sage.categories.crystals.Crystals.ParentMethods.cartan_type, sage.combinat.root_system.weyl_group.ClassicalWeylSubgroup.cartan_type, sage.combinat.root_system.weyl_characters.WeylCharacterRing.Element.cartan_type, sage.combinat.root_system.weyl_characters.WeightRing.Element.cartan_type, sage.categories.crystals.Crystals.ElementMethods.cartan_type
dochtml.log:/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha1/devel/sage/doc/en/reference/sage/categories/examples/crystals.rst:73: WARNING: more than one target found for cross-reference u'Element.weight': sage.combinat.crystals.direct_sum.DirectSumOfCrystals.Element.weight, sage.combinat.crystals.fast_crystals.FastCrystal.Element.weight
```




---

archive/issue_comments_119855.json:
```json
{
    "body": "Replying to [comment:8 jdemeyer]:\n> The first line of the patch file is\n> {{{\n> exporting patch:\n> }}}\n> \n> This should not be there.  Probably you made some script which writes such a line, I think it is best to undo that.\n\nThis spurious line was removed in the revised patch.\n\nBest wishes,\n\nAnne",
    "created_at": "2011-07-29T12:11:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119855",
    "user": "aschilling"
}
```

Replying to [comment:8 jdemeyer]:
> The first line of the patch file is
> {{{
> exporting patch:
> }}}
> 
> This should not be there.  Probably you made some script which writes such a line, I think it is best to undo that.

This spurious line was removed in the revised patch.

Best wishes,

Anne



---

archive/issue_comments_119856.json:
```json
{
    "body": "Attachment [trac_11183-crystals_local_characterization-final.patch](tarball://root/attachments/some-uuid/ticket11183/trac_11183-crystals_local_characterization-final.patch) by aschilling created at 2011-07-29 12:53:39",
    "created_at": "2011-07-29T12:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119856",
    "user": "aschilling"
}
```

Attachment [trac_11183-crystals_local_characterization-final.patch](tarball://root/attachments/some-uuid/ticket11183/trac_11183-crystals_local_characterization-final.patch) by aschilling created at 2011-07-29 12:53:39



---

archive/issue_comments_119857.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2011-07-29T12:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119857",
    "user": "aschilling"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_119858.json:
```json
{
    "body": "Replying to [comment:9 jdemeyer]:\n> Also, there are some problems building the documentation:\n> {{{\n> dochtml.log:/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha1/devel/sage/doc/en/reference/sage/categories/examples/crystals.rst:69: WARNING: more than one target found for cross-reference u'cartan_type': sage.combinat.crystals.tensor_product.CrystalOfTableaux.cartan_type, sage.combinat.root_system.dynkin_diagram.DynkinDiagram_class.cartan_type, sage.combinat.root_system.weyl_characters.WeightRing.cartan_type, sage.combinat.root_system.weyl_characters.WeylCharacterRing.cartan_type, sage.combinat.root_system.weyl_group.WeylGroup_gens.cartan_type, sage.combinat.root_system.root_system.RootSystem.cartan_type, sage.algebras.iwahori_hecke_algebra.IwahoriHeckeAlgebraT.cartan_type, sage.categories.crystals.Crystals.ParentMethods.cartan_type, sage.combinat.root_system.weyl_group.ClassicalWeylSubgroup.cartan_type, sage.combinat.root_system.weyl_characters.WeylCharacterRing.Element.cartan_type, sage.combinat.root_system.weyl_characters.WeightRing.Element.cartan_type, sage.categories.crystals.Crystals.ElementMethods.cartan_type\n> dochtml.log:/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha1/devel/sage/doc/en/reference/sage/categories/examples/crystals.rst:73: WARNING: more than one target found for cross-reference u'Element.weight': sage.combinat.crystals.direct_sum.DirectSumOfCrystals.Element.weight, sage.combinat.crystals.fast_crystals.FastCrystal.Element.weight\n> }}}\n\nThe two warnings should be fixed in the revised patch.\n\nBest wishes,\n\nAnne",
    "created_at": "2011-07-29T12:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119858",
    "user": "aschilling"
}
```

Replying to [comment:9 jdemeyer]:
> Also, there are some problems building the documentation:
> {{{
> dochtml.log:/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha1/devel/sage/doc/en/reference/sage/categories/examples/crystals.rst:69: WARNING: more than one target found for cross-reference u'cartan_type': sage.combinat.crystals.tensor_product.CrystalOfTableaux.cartan_type, sage.combinat.root_system.dynkin_diagram.DynkinDiagram_class.cartan_type, sage.combinat.root_system.weyl_characters.WeightRing.cartan_type, sage.combinat.root_system.weyl_characters.WeylCharacterRing.cartan_type, sage.combinat.root_system.weyl_group.WeylGroup_gens.cartan_type, sage.combinat.root_system.root_system.RootSystem.cartan_type, sage.algebras.iwahori_hecke_algebra.IwahoriHeckeAlgebraT.cartan_type, sage.categories.crystals.Crystals.ParentMethods.cartan_type, sage.combinat.root_system.weyl_group.ClassicalWeylSubgroup.cartan_type, sage.combinat.root_system.weyl_characters.WeylCharacterRing.Element.cartan_type, sage.combinat.root_system.weyl_characters.WeightRing.Element.cartan_type, sage.categories.crystals.Crystals.ElementMethods.cartan_type
> dochtml.log:/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha1/devel/sage/doc/en/reference/sage/categories/examples/crystals.rst:73: WARNING: more than one target found for cross-reference u'Element.weight': sage.combinat.crystals.direct_sum.DirectSumOfCrystals.Element.weight, sage.combinat.crystals.fast_crystals.FastCrystal.Element.weight
> }}}

The two warnings should be fixed in the revised patch.

Best wishes,

Anne



---

archive/issue_comments_119859.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-08-02T19:45:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11021#issuecomment-119859",
    "user": "jdemeyer"
}
```

Resolution: fixed
