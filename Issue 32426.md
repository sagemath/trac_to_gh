# Issue 32426: more conversions for Bessel functions

Issue created by migration from https://trac.sagemath.org/ticket/32663

Original creator: chapoton

Original creation time: 2021-10-10 19:09:05

CC:  tscrim. slelievre @kliem

and also pep8 cleanup for the modified file


---

Comment by chapoton created at 2021-10-10 19:10:39

Changing status from new to needs_review.


---

Comment by chapoton created at 2021-10-10 19:10:39

New commits:


---

Comment by chapoton created at 2021-10-11 06:34:41

Changing status from needs_review to needs_work.


---

Comment by git created at 2021-10-11 06:41:37

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by chapoton created at 2021-10-11 07:00:59

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2021-10-11 11:49:47

green bot, so please review


---

Comment by @kliem created at 2021-10-11 19:39:10

Looks good, but there are a couple of open questions:

How about

```diff
-if a == -QQ((1, 2))
+if a == QQ((-1, 2))
```



```diff
-        return (z**a / (sqrt(pi) * 2**a * gamma(a + Integer(3) / Integer(2))) - struve_H(a + 1, z) + struve_H(a - 1, z)) / 2
+        return (z**a / (sqrt(pi) * 2**a * gamma(a + QQ((3, 2))) - struve_H(a + 1, z) + struve_H(a - 1, z)) / 2
```


This is at lines 1217 etc. The next location at 1386etc has the same code mostly, but here you decide to approach it differently and leave the import of `QQ` the old position and proceed with `Integer(1) / 2` etc.

Both solutions seem fine, but I find it strange that they are different for the same thing.


---

Comment by git created at 2021-10-12 07:46:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2021-10-12 08:14:48

ok, here is more uniform tentative. Not sure that the doctests will pass, my sage install needs a full recompilation.


---

Comment by @kliem created at 2021-10-12 09:38:52

LGTM. green bot => positive review


---

Comment by chapoton created at 2021-10-12 10:41:42

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2021-10-12 10:41:42

Thanks !


---

Comment by vbraun created at 2021-10-19 20:31:33

Resolution: fixed
