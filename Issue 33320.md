# Issue 33320: FormalPolyhedraModule should check polyhedra for dimension

archive/issues_033320.json:
```json
{
    "body": "CC:  @mkoeppe\n\nCurrently, the class `FormalPolyhedraModule` does not check the dimensions of the inputted polyhedra. For example:\n\n```\nsage: from sage.geometry.polyhedron.modules.formal_polyhedra_module import FormalPolyhedraModule\nsage: P = polytopes.hypercube(1)\nsage: Q = polytopes.hypercube(2)\nsage: R = polytopes.hypercube(3)\nsage: M = FormalPolyhedraModule(QQ,2,[P, Q, R]); M\nFree module generated by {A 1-dimensional polyhedron in ZZ^1 defined as the convex hull of 2 vertices, A 2-dimensional polyhedron in ZZ^2 defined as the convex hull of 4 vertices, A 3-dimensional polyhedron in ZZ^3 defined as the convex hull of 8 vertices} over Rational Field\n```\n\nWant: The construction should return an error when trying to use polyhedra not fitting the ambient dimension.\n\nIssue created by migration from https://trac.sagemath.org/ticket/33557\n\n",
    "created_at": "2022-03-24T15:32:46Z",
    "labels": [
        "component: geometry",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "FormalPolyhedraModule should check polyhedra for dimension",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33320",
    "user": "https://github.com/louisng114"
}
```
CC:  @mkoeppe

Currently, the class `FormalPolyhedraModule` does not check the dimensions of the inputted polyhedra. For example:

```
sage: from sage.geometry.polyhedron.modules.formal_polyhedra_module import FormalPolyhedraModule
sage: P = polytopes.hypercube(1)
sage: Q = polytopes.hypercube(2)
sage: R = polytopes.hypercube(3)
sage: M = FormalPolyhedraModule(QQ,2,[P, Q, R]); M
Free module generated by {A 1-dimensional polyhedron in ZZ^1 defined as the convex hull of 2 vertices, A 2-dimensional polyhedron in ZZ^2 defined as the convex hull of 4 vertices, A 3-dimensional polyhedron in ZZ^3 defined as the convex hull of 8 vertices} over Rational Field
```

Want: The construction should return an error when trying to use polyhedra not fitting the ambient dimension.

Issue created by migration from https://trac.sagemath.org/ticket/33557





---

archive/issue_comments_473811.json:
```json
{
    "body": "Good idea",
    "created_at": "2022-03-24T16:01:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33320#issuecomment-473811",
    "user": "https://github.com/mkoeppe"
}
```

Good idea



---

archive/issue_events_088329.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:45:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/33320",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33320#event-88329"
}
```



---

archive/issue_comments_473812.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-20T23:59:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33320#issuecomment-473812",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_473813.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-21T00:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33320#issuecomment-473813",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_473814.json:
```json
{
    "body": "if this is ready for review, set the ticket to \"needs_review\"",
    "created_at": "2022-05-24T01:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33320#issuecomment-473814",
    "user": "https://github.com/mkoeppe"
}
```

if this is ready for review, set the ticket to "needs_review"



---

archive/issue_comments_473815.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-05-24T17:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33320#issuecomment-473815",
    "user": "https://github.com/louisng114"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_473816.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-05-24T17:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33320#issuecomment-473816",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_473817.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-05-24T23:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33320#issuecomment-473817",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_473818.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-05-29T11:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33320#issuecomment-473818",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_088330.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-05-29T11:28:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33320",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33320#event-88330"
}
```
