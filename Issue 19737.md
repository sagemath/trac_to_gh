# Issue 19737: document "sage --notebook='jupyter'"

Issue created by migration from https://trac.sagemath.org/ticket/19974

Original creator: dimpase

Original creation time: 2016-01-27 15:00:35

CC:  kcrisman charpent jdemeyer vbraun

the subject says it all. The docs are silent on this, the only way to find out is from "sage -h"


---

Comment by dimpase created at 2016-01-27 15:11:28

Replying to [comment:1 jdemeyer]:

right, and also fix what `sage -h` says, for it puts it as `'jupyter'`.


---

Comment by charpent created at 2016-01-28 06:21:42

IM(NS)HO, the Jupyter notebook deserves a chapter in the "Reference Manual"

We have currently a "User interface" part, that contains a "Command Line Interface (REPL)" chapter and a "Web Notebook" chapter. The latter should be renamed "The Sage Web notebook (maintainance only)" and a new chapter such as "Sage in the Jupyter notebook" (or maybe "The Sage (extended) Jupyter Notebook") should be added.

We should also document (where ?) how the Sage kernel can be added to an existing Jupyter installation.

We may also do the courtesy to point to SMC as an alternative way to use Sage.

What do you think ?


---

Comment by jdemeyer created at 2016-01-28 06:22:07

There is nothing wrong with `./sage --notebook='jupyter'` or even `./sage -"-no"tebo'ok=jup'yter` but I find it easier without the quotes.


---

Comment by slelievre created at 2016-02-02 08:56:42

We should also document that the simpler `sage -n jupyter` works too.


---

Comment by kcrisman created at 2017-03-24 22:12:22

Is this still valid?  I don't know the answer to this.


---

Comment by charpent created at 2017-03-27 09:21:57

Sorry for the late answer. This one deserved a bit of research (in a somewhat crowded timetable...).

Replying to [comment:8 kcrisman]:
> Is this still valid?  I don't know the answer to this.

Yep.

I took the (possible) attitude of a cursory user interested by Sagemath, but not having installed it. The Google search "`Sagemath documentation`" pointed me to the main [documentation page](https://doc.sagemath.org/) of our main site.

Here I'm pointed to :
* [A tour of Sage](https://doc.sagemath.org/html/en/a_tour_of_sage/index.html), which deals implicitly (and exclusively) with a command line ;
* the [Tutorial](https://doc.sagemath.org/html/en/tutorial/index.html), which in turns points me to the [interactive shell](https://doc.sagemath.org/html/en/tutorial/interactive_shell.html#chapter-interactive-shell) and the (old) [notebook](https://doc.sagemath.org/html/en/tutorial/interactive_shell.html#section-notebook) ;
* the [thematic tutorials](https://doc.sagemath.org/html/en/thematic_tutorials/index.html), which send me on
    - An [introduction](https://doc.sagemath.org/html/en/prep/Logging-On.html) to first (old notebook) use, and
    - Another [introduction](https://doc.sagemath.org/html/en/thematic_tutorials/tutorial-notebook-and-help-long.html#tutorial-notebook-and-help-long) to interactive use, which uses implicitly the (old) notebook ;
* the [reference manual](https://doc.sagemath.org/html/en/reference/index.html) has a whole [chapter](https://doc.sagemath.org/html/en/reference/notebook/index.html) devoted to the old notebook ;
* Searching the reference manual for the string `"Jupyter"` gives five references :
    - documentation of [environment variables](https://doc.sagemath.org/html/en/reference/repl/environ.html),
    - one allusion in the documentation to the [interfaces to R](https://doc.sagemath.org/html/en/reference/interfaces/sage/interfaces/r.html),
    - [documentation](https://doc.sagemath.org/html/en/reference/repl/options.html) of the `jupyter` value to the `--notebook=` command-line option,
    - sparse references in the [IPython extensions](https://doc.sagemath.org/html/en/reference/repl/sage/repl/ipython_extension.html) documentation, 
    - Documentation of the widgets and their use, and documentation of the installation of the Sage Jupyter kernel in the [REPL](https://doc.sagemath.org/html/en/reference/repl/index.html) documentation.
* a [FAQ](https://doc.sagemath.org/html/en/faq/faq-usage.html#how-do-i-use-a-different-browser-with-the-sage-notebook) mentions the Jupyter notebook (with correct command-line invocation).

In short, **nothing** ever **documents** the Jupyter notebook.

As of 7.6rc0 (what I have on my current machine), the local documentation (as seen in the Jupyter notebook "Help" item) is in the same state...

I do not know  how much of the (quite valuable) information on the old notebook use, tips and tricks is still valid for the Jupyter notebook. For example, I found, by trial and error, that the debugger //can// be used in Jupyter cells. This is not documented.

If we want to make Jupyter our **default** notebook, this is, to say the least, a bit short... At the very minimum :
* the "Tutorial pages should be revised to reflect what is obtained in the Jupyter notebook,
* the old notebook documentation should be edited to mention that this refers to an (outdated|deprecated) interface,
* a big fat pointer to a [Jupyter tutorial](https://jupyter-notebook-beginner-guide.readthedocs.io/en/latest/) should be given, and
* a new (and short !) "Introduction  to Sage" using the Jupyter notebook as a basic interface should be created.

Not a small task.

I can help, but I'm relatively ignorant of the respective possibilities of the old and the Jupyter notebooks ; someone knowing well those two interfaces should manage the work. Pssibly those people who have written them ;-)...

We could //also// add a cherry to this (already loaded) pie and try to document (briefly) the specifics of the IPython interface...


---

Comment by kcrisman created at 2017-03-27 13:03:11

Sounds like a blocker to me to update documentation enough for people to actually get help!


---

Comment by kcrisman created at 2017-03-27 13:03:11

Changing priority from critical to blocker.


---

Comment by charpent created at 2017-03-27 13:50:39

Replying to [comment:10 kcrisman]:
> Sounds like a blocker to me to update documentation enough for people to actually get help!

To be precise, it's a blocker for making Jupyter the //default// notebook. It should not block further releases of Sagemath, as long as the old notebook remains the default.

We are in a bit of contradiction here : most people "actively" using Sage (i. e. reporting problems with it, and sometimes making a nuisance of themselves) are "old hands", and usually developers (indeed, IIRC, one has to have access to trac (i. e. valid user ID and password) to be able to file a ticket).

So "obvious" failures such as failing to document our default GUI tend to be overlooked (see below)...

I propose to change the title of this ticket to "Document the Jupyter notebook", making it a task, and refer other tickets related to this documentation work to the present ticket.

## side note

BTW : the only way open to "lay users" to report a bug is to complain on `sage-support`, with variable levels of answers (I confess that I am not very big on this particular list : other developers do an admirable work of tending troubled users...). Similarly, I do not know what scanning (if any) is made on "Ask Sagemath".

It might be worthy to setup a system for letting end-users formally report bugs, i. e. some kind of queue where identified issues of identified people could be recorded and formally answered by either a) pointing the user to the solution or b)= filing a ticket if it is indeed a bug.

But I'm not sure that such a formal system would work better than our current informal scanning of sage-support.

Is this worthy of discussion on sage-devel ?


---

Comment by kcrisman created at 2017-03-27 15:19:00

As to the side note, in the past we had a Google doc spreadsheet which some of us would very occasionally try to get stuff off of (it still exists, don't ask me for the link right this second).  But no one really looked at it.  A big problem is that Sage has precisely zero people dedicated only to support (I mean Sage proper, not SMC).  There are many people who help on support, but no master strategy.


---

Comment by kcrisman created at 2017-05-24 05:24:08

Replying to [comment:11 charpent]:
> Replying to [comment:10 kcrisman]:
> > Sounds like a blocker to me to update documentation enough for people to actually get help!
> 
> To be precise, it's a blocker for making Jupyter the //default// notebook. It should not block further releases of Sagemath, as long as the old notebook remains the default.
> 

Well, I believe 8.0 is indeed set to make Jupyter default, right?  With #22821 and #23066 this is the last remaining notebook-related blocker for 8.0.

(There are others related to passing of tests and Cygwin, which are also important goals, but that is not something we can address here!)


---

Comment by jdemeyer created at 2017-05-24 12:19:02

Replying to [comment:13 kcrisman]:
> Well, I believe 8.0 is indeed set to make Jupyter default, right?

Not really. It would make the SageNB exporter the default.


---

Comment by kcrisman created at 2017-05-24 14:08:27

> > Well, I believe 8.0 is indeed set to make Jupyter default, right?
> 
> Not really. It would make the SageNB exporter the default.

Good point.  But nonetheless this would seem to be the time to document this.


---

Comment by kcrisman created at 2017-06-08 14:56:49

I have some time the next few days/next week to work on this, but I would like some direction as to exactly what we would like here.  
* First, we would need to update `sage -h` and `sage -advanced` at least slightly, probably also the output of `sage --notebook --help`.
* There is a lot in comment:9 to add.  Given that the initial will be default Export, what do you (any of you) think is necessary for 8.0?
* Updating old documentation might be a bit trickier.  At least adding some brief verbiage e.g. in the PREP notes regarding this no longer being the default, but still quite invokable, would be good.

Thoughts?


---

Comment by charpent created at 2017-06-08 16:07:30

Replying to [comment:16 kcrisman]:
> I have some time the next few days/next week to work on this, but I would like some direction as to exactly what we would like here.  
> * First, we would need to update `sage -h` and `sage -advanced` at least slightly, probably also the output of `sage --notebook --help`.

This is probably the easiest task ... one one knows where these messages have their sources...

> * There is a lot in comment:9 to add.  Given that the initial will be default Export,

I'm not sure to understand what you mean by that...

> what do you (any of you) think is necessary for 8.0?

Again from the persective of a total beginner :

* [this section](https://doc.sagemath.org/html/en/tutorial/interactive_shell.html#section-notebook) of the tutorial (which, BTW, does not seem to be up to date for the current state of the Sage notebook), should be prefaced by pointing that this is the behaviopur of the OLD notebook ; a similar schema (coming first ?) should document the architecture of the Jupyter notebook.

* [The first part](https://doc.sagemath.org/html/en/prep/Logging-On.html) of the "Notebook" section of thematic tutorial, which explains how to create an account on a Sage server and loggin in, is irrelevant to the Jupyter notebook : it should be edited to point that out.

The second part (creating a new worksheet, acessing the tutorial and the online help) must be replaced.

A similar page, such as "Starting the Jupyter notebook", should show (including screenshots ?) how to start the Jupyter notebook, and emphasizes that this is a **local** operation (as far as I know, the Jupyter notebook won't serve a request from another machine, and won't serve two or more users : that's a job for Jupyter-Hub..).

A second part should show :

    - how to navigate the filesystem ;
    - how to create a new sheet ;
    - basic use of the worksheet (including `%display typeset` and at least one plot example, and possibly a plot3d example) ; stay at the high-school/freshman level : more sophisticated examples have their uses in the Sage tutorial, not the Jupyter notebook tutorial ;
    - access to online help, via `topic<tab>`, `topic?` in a cell and the help menu
    - a brief explanation on edition in the notebook (incl. renaming a file...) ;
    - pointer to the tutorials, and, last but not least :
    - a big, fat, unmistakable pointer to a (the ?) "general" Jupyter doc.

This is new doc. Unless I'm mistaken, it needs (annotated) screenshots (how can we do that in rst ?). It also needs cross-references from the rest of the doc.

**To be discussed :** this new doc should probably come //before// the Sage notebook doc. Should it //replace// it ? I think so (as long as the old doc remains accessible somewhere and is pointed at as necessary), but I'm not sure of my judgement about this and would be glad to hear what other people think...

* The [notebook chapter](https://doc.sagemath.org/html/en/reference/notebook/index.html) of the reference manual has, as far as I know, no equivalent for the Jupyter notebook. This has to be written (probably by the Jupyter notebook author (no good deed stays unpunished ;-))

But this //might// stay undocumented in 8.0, as long as a placeholder announcing that "the programming info is forthcoming" is inserted at the relevant place(s) : this is //advanced// user's///developper's// info, i. e. people who are able to dive in the source if necessary. In contrast, tutorial and basic information is **vital** necessity for Sage //users// and can't wait (IMNSHO...).


> * Updating old documentation might be a bit trickier.  At least adding some brief verbiage e.g. in the PREP notes regarding this no longer being the default, but still quite invokable, would be good.

The old doc **must** be invokable as long as the old notebook is standrd in Sage. If it ever becomes optional, these docs could become part of the optional package...

> 
> Thoughts?

That's a lot of work. For which I can't help for about two weeks (my RealLife (TM) is complicated...).


---

Comment by vbraun created at 2017-06-17 20:31:05

Any progress? If nobody volunteers a patch then I'll have to skip this ticket for 8.0...


---

Comment by vbraun created at 2017-06-17 20:43:24

Any progress? If nobody volunteers a patch then I'll have to skip this ticket for 8.0...


---

Comment by kcrisman created at 2017-06-18 02:19:44

> > * First, we would need to update `sage -h` and `sage -advanced` at least slightly, probably also the output of `sage --notebook --help`.
> 
> This is probably the easiest task ... one one knows where these messages have their sources...
> 
> > * There is a lot in comment:9 to add.  Given that the initial will be default Export,
> 
> I'm not sure to understand what you mean by that...

Technically the default will be to open a server that offers the opportunity to export sagenb to Jupyter, and/or to choose one or the other (but not as a default, yet).

> 
> > what do you (any of you) think is necessary for 8.0?
> 
> Again from the persective of a total beginner :
> 
> * [this section](https://doc.sagemath.org/html/en/tutorial/interactive_shell.html#section-notebook) of the tutorial (which, BTW, does not seem to be up to date for the current state of the Sage notebook), should be prefaced by pointing that this is the behaviopur of the OLD notebook ; a similar schema (coming first ?) should document the architecture of the Jupyter notebook.
> 
> * [The first part](https://doc.sagemath.org/html/en/prep/Logging-On.html) of the "Notebook" section of thematic tutorial, which explains how to create an account on a Sage server and loggin in, is irrelevant to the Jupyter notebook : it should be edited to point that out.
> 

This I can do Monday or Tuesday.  Volker, is that early enough for you?

The rest is more than I can confidently do, given that I really don't use Jupyter other than to test absolute minimum functionality.


---

Comment by vbraun created at 2017-06-18 09:20:20

Some time next week would be great...


---

Comment by kcrisman created at 2017-06-20 15:35:15

Note to self: there are six different translations of the file for the notebook...

Also note to self that charpent is right about the very old information about the notebook.


---

Comment by kcrisman created at 2017-06-20 20:27:10

`@`charpent this should be a start.  Volker or Jeroen may wish to check whether I made some stupid sagenb error (or German error).

If this looks more or less okay as a start, I have three remaining tasks:
1. Find someone to translate at least a portion of
> This section refers to the legacy Sage notebook, or “sagenb”. See the sagenb documentation for full details.
>
> [SageMath](SageMath) is transitioning to using the Jupyter notebook as a default, which has a different structure. The most important difference for users is that individual worksheets in Jupyter are saved on your local system just like any other file, whereas in the Sage notebook the main point of access is in the files described below via the server.
> 
> Legacy SageNB Notebook
  for me in Japanese, Russian, French, and/or Portuguese.
1. Update the PREP tutorial at least somewhat.  I was the main original author of those documents so that won't be very hard.  Yes, we can include pictures, though I would only do one of those probably for a start.
1. Open a new ticket with the secondary material, especially authoring a proper guide for how to start using Jupyter as outlined very nicely above.  I don't think that anyone will be writing a complete replacement for all of this yet, and thankfully none of it is really "wrong" in that sense.

Does this sound like a plan?  I don't want to work on the PREP thematic tutorial pages until I know that this work is within epsilon.
----
New commits:


---

Comment by chapoton created at 2017-06-21 17:29:52

French translation below:

Cette section concerne l'ancien bloc-note de Sage (“sagenb”). Pour plus de détails, voir la documentation de sagenb.

SageMath est en cours de transition vers l'utilisation par défaut du bloc-note Jupyter, qui a une structure différente. Pour les utilisateurs, la différence majeure est le fait que les feuilles de calcul sont sauvegardées dans le système de fichiers local comme n'importe quel autre fichier, alors que pour l'ancien bloc-note de Sage le principal accès aux feuilles de calcul passait par le serveur comme expliqué ci-dessous.


Ancien bloc-note SageNB


---

Comment by git created at 2017-06-21 18:50:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kcrisman created at 2017-06-21 18:51:21

Thanks!

> Does this sound like a plan? I don't want to work on the PREP thematic tutorial pages until I know that this work is within epsilon.

Any thoughts by anyone on this?  I can ask on sage-devel regarding 1. for ru, ja, pt or we can just leave them alone


---

Comment by git created at 2017-06-23 15:23:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kcrisman created at 2017-06-23 15:25:14

Ready for initial review.  I'm still working on the [second intro page](https://doc.sagemath.org/html/en/prep/Intro-Tutorial.html) which will have some verbiage, but we need feedback at this point.  Don't forget that to build the documentation you will need to do

```
sage --docbuild prep html
```

A reviewer should build pdf as well to check it looks okay.


---

Comment by kcrisman created at 2017-06-23 15:25:14

Changing status from new to needs_review.


---

Comment by charpent created at 2017-06-23 15:31:06

I'll have a look tonight (but have first to update my Sage tree...)

There does not seem a goot "easy" tutorial for Jupyter ; I found [the official doc](http://jupyter-notebook.readthedocs.io/en/latest/notebook.html) to give a good start, but one has to interpolate Sage-specific bits now and then. Probably not really easy for an absolute beginner. Do you have other suggestions ?


---

Comment by kcrisman created at 2017-06-23 15:53:19

> There does not seem a goot "easy" tutorial for Jupyter ; I found [the official doc](http://jupyter-notebook.readthedocs.io/en/latest/notebook.html) to give a good start, but one has to interpolate Sage-specific bits now and then. Probably not really easy for an absolute beginner. Do you have other suggestions ?

No.  I put something in my tutorial here (momentarily will update) but it is frustrating.  And guess what!  Even to DELETE a cell you have to use the menu or a keyboard shortcut!  You can't really do anything at all without either clicking on a menu or learning a shortcut.  For all SageNB's faults, the original designers had ordinary users in mind, not just scientific computing people who spend all day at the keyboard.  I really wish we had [the new CoCalc/SMC Jupyter notebook](http://blog.sagemath.com/jupyter/2017/05/05/jupyter-rewrite-for-smc.html).


---

Comment by git created at 2017-06-23 16:26:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kcrisman created at 2017-06-23 16:40:33

OKAY THIS IS READY FOR REVIEW

----

I can probably get to minor things on the weekend, but only very minor.  I hope no one needs even more pictures!  That might take too much more time.  I think I satisfied a fair amount of the requests here and I am pleased enough with it.

I just received a pt translation so I'll add that momentarily, along with some notes about the two different filesystems.

----

If we need a new ticket for this stuff:
> A second part should show :
> how to navigate the filesystem ;
> how to create a new sheet ;
> basic use of the worksheet (including %display typeset and at least one plot example, and possibly a plot3d example) ; stay at the high-school/freshman level : more sophisticated examples have their uses in the Sage tutorial, not the Jupyter notebook tutorial ;
> access to online help, via topic<tab>, topic? in a cell and the help menu
> a brief explanation on edition in the notebook (incl. renaming a file...) ;
> pointer to the tutorials, and, last but not least :
> a big, fat, unmistakable pointer to a (the ?) "general" Jupyter doc.
then please open that - but don't copy me because I'm no Jupyter expert! :-)


---

Comment by git created at 2017-06-23 17:03:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by charpent created at 2017-06-24 19:20:34

Changing status from needs_review to positive_review.


---

Comment by charpent created at 2017-06-24 19:20:34

1) Sorry for the delay, imputable to unwanted interruptions...

2) This is a lot of work, which went in the right direction. The "absolute beginner" Sage user is now warned consistently about the existence of two notebooks, one of them being no longer developed. (S)he is pointed to a relevant (if somewhat indigestible) documentation ; the few examples given are, IMHO, sufficient to get her/him on the right track.

3) I did not catch any obvious snags or inconsistencies in the new documentation.

4) There does not seem to exist a //documented// programmatic interface to the Jupyter notebook, similar to the interface to `sagenb.notebook`. I may have missed it...

I now realize that a real tutorial about the Jupyter notebook and its use with Sage // and related software// (e. g. R or gap) is necessary. I also realize that this is a large project : as every one ou us who teaches or has teached, I know that writing such a document is **hard.** Therefore, this is a long term project.

Being an old fart (60), I tend to think that something like the PREP tutorials would be a good example. But I'm not sure that this is true for the current (or recent) cohorts of students, which seem hooked to other forms, such as video tutorials. Your advice would be more than useful.

As it exists, the current documentation is enough to warn the naive beginner. The current gap in tutorial has to be filled somehow, but this is a long-term project.

==>`positive_review`

I plan to work on a tutorial but :

1) I need to think to "the right form" of this tuetorial.

2) This needs a lot of interaction with potential users of the tutorial.

I'll open a new ticket for this if and when I have something consistent to propose.

Someone more versed in the internals of (our version of) Jupyter should document what can be done from Sage to interact with it.


---

Comment by kcrisman created at 2017-06-24 22:06:05

> 2) This is a lot of work, which went in the right direction. The "absolute beginner" Sage user is now warned consistently about the existence of two notebooks, one of them being no longer developed. (S)he is pointed to a relevant (if somewhat indigestible) documentation ; the few examples given are, IMHO, sufficient to get her/him on the right track.

Great!

> 4) There does not seem to exist a //documented// programmatic interface to the Jupyter notebook, similar to the interface to `sagenb.notebook`. I may have missed it...

No, I don't even know if there is such a thing.

> I now realize that a real tutorial about the Jupyter notebook and its use with Sage // and related software// (e. g. R or gap) is necessary. I also realize that this is a large project : as every one ou us who teaches or has teached, I know that writing such a document is **hard.** Therefore, this is a long term project.

Yes.
> Being an old fart (60), I tend to think that something like the PREP tutorials would be a good example. But I'm not sure that this is true for the current (or recent) cohorts of students, which seem hooked to other forms, such as video tutorials. Your advice would be more than useful.

I would love to have there be way more GOOD video tutorials but someone has to make them.  I've certainly considered it but don't know if my production values would be very high.

Thanks for the review AND for pushing that this really is a blocker, it is appreciated.


---

Comment by vbraun created at 2017-06-25 15:45:33

Resolution: fixed
