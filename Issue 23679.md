# Issue 23679: Pretty printing and latex for Genera of quadratic forms

Issue created by migration from https://trac.sagemath.org/ticket/23916

Original creator: sbrandhorst

Original creation time: 2017-09-22 09:51:02

Currently:

```
sage: sage.quadratic_forms.genera.genus.Genus(Matrix(ZZ,2,2,[2,-1,-1,2]))

Genus of [ 2 -1]
[-1  2]

```


Better:


```
sage: sage.quadratic_forms.genera.genus.Genus(Matrix(ZZ,2,2,[2,-1,-1,2]))
Genus of 
[ 2 -1]
[-1  2]
Conway Sloane Genus Symbol:
II( 3^-1 )
```


See Conway Sloane Spherepackings lattices and groups. Chapter 15, 7.8



---

Comment by sbrandhorst created at 2017-09-22 09:51:20

Changing keywords from "" to "sd91".


---

Comment by sbrandhorst created at 2017-10-01 04:09:01

New commits:


---

Comment by git created at 2017-10-01 16:10:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-10-01 20:34:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2017-10-01 20:34:33

New commits:


---

Comment by sbrandhorst created at 2017-10-01 20:34:33

Changing status from new to needs_review.


---

Comment by kedlaya created at 2017-10-02 02:32:10

Please check the signs in the docstrings. If they are all correct, then give this a positive review (or preferably, wait for patchbot to concur).
----
New commits:


---

Comment by kedlaya created at 2017-10-02 04:56:30

Changing status from needs_review to needs_work.


---

Comment by kedlaya created at 2017-10-02 04:56:30

Oops, a few more doctest failures in `src/sage/quadratic_forms/quadratic_form__genus.py`.


---

Comment by sbrandhorst created at 2017-10-02 10:48:37

New commits:


---

Comment by git created at 2017-10-02 22:44:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2017-10-02 22:50:46

Changing status from needs_work to needs_review.


---

Comment by sbrandhorst created at 2017-10-02 22:50:46

I did check the signs in the docstrings. They are as intended now.


---

Comment by kedlaya created at 2017-10-03 15:21:06

Changing status from needs_review to positive_review.


---

Comment by kedlaya created at 2017-10-03 15:21:06

All tests pass on k8s. Positive review.


---

Comment by vbraun created at 2017-10-20 09:55:34

Merge conflict


---

Comment by vbraun created at 2017-10-20 09:55:34

Changing status from positive_review to needs_work.


---

Comment by git created at 2017-10-21 14:57:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-10-22 18:59:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2017-10-22 19:04:07

Changing status from needs_work to needs_review.


---

Comment by kedlaya created at 2017-10-22 21:30:21

Patchbot is complaining about coverage. I think it's because the method `_latex_` in `genus.py` only has tests, whereas it should also have at least one example.


---

Comment by sbrandhorst created at 2017-10-22 21:31:46

I guess we can make that an example instead.


---

Comment by git created at 2017-10-22 22:17:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kedlaya created at 2017-10-22 22:28:56

I'm getting one doctest failure. Is this just a case where the output needs to be updated?

```
File "src/sage/modules/free_quadratic_module_integer_symmetric.py", line 437, in sage.modules.free_quadratic_module_integer_symmetric.FreeQuadraticModule_integer_symmetric.genus
Failed example:
    L.genus()
Expected:
    Genus of [0 1]
    [1 0]
Got:
    Genus of
    [0 1]
    [1 0]
    Genus symbol at 2:    1^2
```



---

Comment by kedlaya created at 2017-10-22 23:28:02

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-10-23 06:02:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2017-10-23 06:18:07

Changing status from needs_work to needs_review.


---

Comment by kedlaya created at 2017-10-23 12:15:02

All tests now passing on k8s. Positive review.


---

Comment by kedlaya created at 2017-10-23 12:15:02

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-10-25 06:58:02

Resolution: fixed
