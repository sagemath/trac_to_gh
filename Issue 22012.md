# Issue 22012: Test if a graph is a cycle

archive/issues_022012.json:
```json
{
    "body": "CC:  jfallon\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/22249\n\n",
    "created_at": "2017-01-24T17:11:03Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "Test if a graph is a cycle",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22012",
    "user": "https://github.com/dcoudert"
}
```
CC:  jfallon



Issue created by migration from https://trac.sagemath.org/ticket/22249





---

archive/issue_comments_305493.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-01-24T17:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-305493",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_305494.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-01-24T17:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-305494",
    "user": "https://github.com/dcoudert"
}
```

New commits:



---

archive/issue_comments_305495.json:
```json
{
    "body": "The reference, Wikipedia, is not clear on the exact definition, particularly in the case of directed graphs or multiple edges.  MathWorld, which it refers to, includes C_2 (with two edges between its two vertices) as a cycle graph, while the code here does not.  Perhaps reference to a book on graph theory with the precise definitions would be preferable.  I think the theory is nicer if C_2 counts as a cycle (e.g., then every multigraph with all vertices of even degree can have its edges partitioned into cycles).  It might be argued that C_1, a single vertex with a loop, deserves to be a cycle for the same reason.\n\nIt is perhaps surprising that `graphs.CycleGraph(n).is_cycle()` will be false for n < 3, but unless that construction would allow loops or multiedges that is just how it is, and `n=0` will definitely not be a cycle.",
    "created_at": "2017-01-30T16:41:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-305495",
    "user": "https://trac.sagemath.org/admin/accounts/users/msaaltink"
}
```

The reference, Wikipedia, is not clear on the exact definition, particularly in the case of directed graphs or multiple edges.  MathWorld, which it refers to, includes C_2 (with two edges between its two vertices) as a cycle graph, while the code here does not.  Perhaps reference to a book on graph theory with the precise definitions would be preferable.  I think the theory is nicer if C_2 counts as a cycle (e.g., then every multigraph with all vertices of even degree can have its edges partitioned into cycles).  It might be argued that C_1, a single vertex with a loop, deserves to be a cycle for the same reason.

It is perhaps surprising that `graphs.CycleGraph(n).is_cycle()` will be false for n < 3, but unless that construction would allow loops or multiedges that is just how it is, and `n=0` will definitely not be a cycle.



---

archive/issue_comments_305496.json:
```json
{
    "body": "Thank you for your comments. I knew that the definition was not so \"clear\".\n\nI checked on the french translation of the book of Bondy and Murty \"Graph theory\" (http://www-sop.inria.fr/members/Frederic.Havet/Traduction-Bondy-Murty.pdf), Section 1.1 pages 4-5. It says that `a cycle on three or more vertices is a simple graph whose vertices can be arranged in a cyclic order so that two vertices are adjacent if they are consecutive in the order, and not adjacent otherwise. A cycle on a vertex consists of a single vertex provided with a loop and a cycle with two vertices consists of two vertices connected by a pair of parallel edges.` \nSo this is what you propose.\n\nSo I can add the 1 vertex with a unique loop case and the 2 vertices with exactly 2 parallel edges one. And of course add a reference to `Bondy, John Adrian; Murty, U.S.R. (2008), Graph Theory, Springer.`\n\nYou agree?",
    "created_at": "2017-01-30T17:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-305496",
    "user": "https://github.com/dcoudert"
}
```

Thank you for your comments. I knew that the definition was not so "clear".

I checked on the french translation of the book of Bondy and Murty "Graph theory" (http://www-sop.inria.fr/members/Frederic.Havet/Traduction-Bondy-Murty.pdf), Section 1.1 pages 4-5. It says that `a cycle on three or more vertices is a simple graph whose vertices can be arranged in a cyclic order so that two vertices are adjacent if they are consecutive in the order, and not adjacent otherwise. A cycle on a vertex consists of a single vertex provided with a loop and a cycle with two vertices consists of two vertices connected by a pair of parallel edges.` 
So this is what you propose.

So I can add the 1 vertex with a unique loop case and the 2 vertices with exactly 2 parallel edges one. And of course add a reference to `Bondy, John Adrian; Murty, U.S.R. (2008), Graph Theory, Springer.`

You agree?



---

archive/issue_comments_305497.json:
```json
{
    "body": "That sounds good.  Do Bondy and Murty talk about digraphs too?\n\nFor the case of a digraph, I'm not sure it is correct to use \"to_simple\" as that just discards loops and multiple edges.  This looks wrong:\n\n```\nsage: d = DiGraph([(0,0), (0,1), (1,2), (2,0)], loops=True)\nsage: d.is_cycle()\nTrue\n```\n\nHowever, this is clearly documented in the code so should not be too surprising to the user.\n\nIn the documentation it might be clearer to write \"A cycle graph consists of a single cycle **connecting** all its vertices ...\" rather than \"A cycle graph consists of a single cycle connected all its vertices ...\".",
    "created_at": "2017-01-30T19:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-305497",
    "user": "https://trac.sagemath.org/admin/accounts/users/msaaltink"
}
```

That sounds good.  Do Bondy and Murty talk about digraphs too?

For the case of a digraph, I'm not sure it is correct to use "to_simple" as that just discards loops and multiple edges.  This looks wrong:

```
sage: d = DiGraph([(0,0), (0,1), (1,2), (2,0)], loops=True)
sage: d.is_cycle()
True
```

However, this is clearly documented in the code so should not be too surprising to the user.

In the documentation it might be clearer to write "A cycle graph consists of a single cycle **connecting** all its vertices ..." rather than "A cycle graph consists of a single cycle connected all its vertices ...".



---

archive/issue_comments_305498.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-30T23:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-305498",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_305499.json:
```json
{
    "body": "The Bondy Murty book has no precise definition for directed graphs, but I believe it is easier to agree on the definition. Let me know if further improvements are needed.",
    "created_at": "2017-01-31T00:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-305499",
    "user": "https://github.com/dcoudert"
}
```

The Bondy Murty book has no precise definition for directed graphs, but I believe it is easier to agree on the definition. Let me know if further improvements are needed.



---

archive/issue_comments_305500.json:
```json
{
    "body": "Looks good.  I am unable to check the docbuild at the moment, but everything else looks fine.",
    "created_at": "2017-01-31T03:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-305500",
    "user": "https://trac.sagemath.org/admin/accounts/users/msaaltink"
}
```

Looks good.  I am unable to check the docbuild at the moment, but everything else looks fine.



---

archive/issue_comments_305501.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-01-31T03:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-305501",
    "user": "https://trac.sagemath.org/admin/accounts/users/msaaltink"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_305502.json:
```json
{
    "body": "Thanks.\nIt's a bit embarrassing if you cannot check the docbuild. It seems ok for me, but it's better to have a double check.",
    "created_at": "2017-01-31T07:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-305502",
    "user": "https://github.com/dcoudert"
}
```

Thanks.
It's a bit embarrassing if you cannot check the docbuild. It seems ok for me, but it's better to have a double check.



---

archive/issue_events_020742.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2017-02-02T22:09:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22012#event-20742"
}
```



---

archive/issue_comments_305503.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-02T22:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-305503",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
