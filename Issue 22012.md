# Issue 22012: Test if a graph is a cycle

Issue created by migration from Trac.

Original creator: dcoudert

Original creation time: 2017-01-24 17:11:03

CC:  jfallon




---

Comment by dcoudert created at 2017-01-24 17:14:35

Changing status from new to needs_review.


---

Comment by dcoudert created at 2017-01-24 17:14:35

New commits:


---

Comment by msaaltink created at 2017-01-30 16:41:09

The reference, Wikipedia, is not clear on the exact definition, particularly in the case of directed graphs or multiple edges.  MathWorld, which it refers to, includes C_2 (with two edges between its two vertices) as a cycle graph, while the code here does not.  Perhaps reference to a book on graph theory with the precise definitions would be preferable.  I think the theory is nicer if C_2 counts as a cycle (e.g., then every multigraph with all vertices of even degree can have its edges partitioned into cycles).  It might be argued that C_1, a single vertex with a loop, deserves to be a cycle for the same reason.

It is perhaps surprising that `graphs.CycleGraph(n).is_cycle()` will be false for n < 3, but unless that construction would allow loops or multiedges that is just how it is, and `n=0` will definitely not be a cycle.


---

Comment by dcoudert created at 2017-01-30 17:39:00

Thank you for your comments. I knew that the definition was not so "clear".

I checked on the french translation of the book of Bondy and Murty "Graph theory" (http://www-sop.inria.fr/members/Frederic.Havet/Traduction-Bondy-Murty.pdf), Section 1.1 pages 4-5. It says that `a cycle on three or more vertices is a simple graph whose vertices can be arranged in a cyclic order so that two vertices are adjacent if they are consecutive in the order, and not adjacent otherwise. A cycle on a vertex consists of a single vertex provided with a loop and a cycle with two vertices consists of two vertices connected by a pair of parallel edges.` 
So this is what you propose.

So I can add the 1 vertex with a unique loop case and the 2 vertices with exactly 2 parallel edges one. And of course add a reference to `Bondy, John Adrian; Murty, U.S.R. (2008), Graph Theory, Springer.`

You agree?


---

Comment by msaaltink created at 2017-01-30 19:07:26

That sounds good.  Do Bondy and Murty talk about digraphs too?

For the case of a digraph, I'm not sure it is correct to use "to_simple" as that just discards loops and multiple edges.  This looks wrong:

```
sage: d = DiGraph([(0,0), (0,1), (1,2), (2,0)], loops=True)
sage: d.is_cycle()
True
```

However, this is clearly documented in the code so should not be too surprising to the user.

In the documentation it might be clearer to write "A cycle graph consists of a single cycle *connecting* all its vertices ..." rather than "A cycle graph consists of a single cycle connected all its vertices ...".


---

Comment by git created at 2017-01-30 23:56:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2017-01-31 00:00:08

The Bondy Murty book has no precise definition for directed graphs, but I believe it is easier to agree on the definition. Let me know if further improvements are needed.


---

Comment by msaaltink created at 2017-01-31 03:29:20

Looks good.  I am unable to check the docbuild at the moment, but everything else looks fine.


---

Comment by msaaltink created at 2017-01-31 03:29:20

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2017-01-31 07:36:51

Thanks.
It's a bit embarrassing if you cannot check the docbuild. It seems ok for me, but it's better to have a double check.


---

Comment by vbraun created at 2017-02-02 22:09:19

Resolution: fixed
