# Issue 26194: py3: not sorting vertices on some graph functions

archive/issues_026194.json:
```json
{
    "body": "CC:  dcoudert\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/26431\n\n",
    "created_at": "2018-10-07T20:07:00Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "title": "py3: not sorting vertices on some graph functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26194",
    "user": "chapoton"
}
```
CC:  dcoudert



Issue created by migration from https://trac.sagemath.org/ticket/26431





---

archive/issue_comments_369075.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-07T20:07:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369075",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_369076.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-10-07T20:07:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369076",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_369077.json:
```json
{
    "body": "LGTM.",
    "created_at": "2018-10-07T22:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369077",
    "user": "tscrim"
}
```

LGTM.



---

archive/issue_comments_369078.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-07T22:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369078",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_369079.json:
```json
{
    "body": "+1. Was about to give positive review as well ;)",
    "created_at": "2018-10-07T22:16:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369079",
    "user": "dcoudert"
}
```

+1. Was about to give positive review as well ;)



---

archive/issue_comments_369080.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-10-18T22:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369080",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_369081.json:
```json
{
    "body": "There are a bunch of numerical noise issues, see patchbot",
    "created_at": "2018-10-18T22:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369081",
    "user": "vbraun"
}
```

There are a bunch of numerical noise issues, see patchbot



---

archive/issue_comments_369082.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-19T07:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369082",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369083.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-10-19T07:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369083",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_369084.json:
```json
{
    "body": "By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.\n\nI agree that for this test we know exactly the type of the vertices, but isn't it better to do:\n\n```diff\n-            sage: sorted(D.keys()) == sorted(g)\n+            sage: set(D.keys()) == set(g)\n```\n\nI don't know what is best, just asking.",
    "created_at": "2018-10-19T09:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369084",
    "user": "dcoudert"
}
```

By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.

I agree that for this test we know exactly the type of the vertices, but isn't it better to do:

```diff
-            sage: sorted(D.keys()) == sorted(g)
+            sage: set(D.keys()) == set(g)
```

I don't know what is best, just asking.



---

archive/issue_comments_369085.json:
```json
{
    "body": "Replying to [comment:7 dcoudert]:\n> By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.\n\nI see no really better option.. One could maybe check that the result is a dictionary, with keys in G and values that are pairs of numbers ?\n\n> I agree that for this test we know exactly the type of the vertices, but isn't it better to do:\n> {{{#!diff\n> -            sage: sorted(D.keys()) == sorted(g)\n> +            sage: set(D.keys()) == set(g)\n> }}}\n> I don't know what is best, just asking.\n\nIn this precise case, we can sort the vertices, so no need to worry about python3.",
    "created_at": "2018-10-19T09:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369085",
    "user": "chapoton"
}
```

Replying to [comment:7 dcoudert]:
> By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.

I see no really better option.. One could maybe check that the result is a dictionary, with keys in G and values that are pairs of numbers ?

> I agree that for this test we know exactly the type of the vertices, but isn't it better to do:
> {{{#!diff
> -            sage: sorted(D.keys()) == sorted(g)
> +            sage: set(D.keys()) == set(g)
> }}}
> I don't know what is best, just asking.

In this precise case, we can sort the vertices, so no need to worry about python3.



---

archive/issue_comments_369086.json:
```json
{
    "body": "Replying to [comment:8 chapoton]:\n> Replying to [comment:7 dcoudert]:\n> > By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.\n> \n> I see no really better option.. One could maybe check that the result is a dictionary, with keys in G and values that are pairs of numbers ?\n\nWe could may be have one such test just in case. I don't have better proposals.",
    "created_at": "2018-10-19T10:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369086",
    "user": "dcoudert"
}
```

Replying to [comment:8 chapoton]:
> Replying to [comment:7 dcoudert]:
> > By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.
> 
> I see no really better option.. One could maybe check that the result is a dictionary, with keys in G and values that are pairs of numbers ?

We could may be have one such test just in case. I don't have better proposals.



---

archive/issue_comments_369087.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-19T11:57:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369087",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369088.json:
```json
{
    "body": "Comme ca, ca irait ?",
    "created_at": "2018-10-19T11:59:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369088",
    "user": "chapoton"
}
```

Comme ca, ca irait ?



---

archive/issue_comments_369089.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-19T15:32:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369089",
    "user": "dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_369090.json:
```json
{
    "body": "Perfect.",
    "created_at": "2018-10-19T15:32:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369090",
    "user": "dcoudert"
}
```

Perfect.



---

archive/issue_comments_369091.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-10-20T19:02:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369091",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_369092.json:
```json
{
    "body": "This should be re-targeted for 8.5.",
    "created_at": "2018-10-28T14:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26194",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26194#issuecomment-369092",
    "user": "embray"
}
```

This should be re-targeted for 8.5.
