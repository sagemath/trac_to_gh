# Issue 13845: Matrix slices don't deal with zero rows or columns well

Issue created by migration from https://trac.sagemath.org/ticket/14049

Original creator: jason

Original creation time: 2013-02-02 01:40:25

Assignee: jason, was

CC:  jhpalmieri rbeezer

As reported on ask.sagemath: http://ask.sagemath.org/question/2207/empty-matrix, matrix slices don't correctly handle empty matrices.  This patch corrects the faulty optimization.


---

Attachment


---

Comment by jason created at 2013-02-02 01:44:04

Changing status from new to needs_review.


---

Comment by kcrisman created at 2013-02-02 02:37:00

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2013-02-02 02:37:00

This looks good, passes tests etc. - yes, talk about premature optimization!

My dumb question is whether we should, in fact, have such nonsensical matrices.  In particular

```
sage: m = identity_matrix(QQ, 4)[4:,:] 
sage: m
[]
```

Should we instead have something that shows we have four columns?  But of course that wouldn't be about this ticket.


---

Comment by jason created at 2013-02-02 02:46:07

We should certainly have zero-row and zero-column matrices.  That's an explicitly and deliberately supported feature in Sage.


---

Comment by jhpalmieri created at 2013-02-02 04:11:52

I think kcrisman's question is whether a 0x4 matrix should be displayed differently, somehow, than a 0x0 matrix. I'm not sure what the answer is, and it's low priority, but it's an interesting question.


---

Comment by kcrisman created at 2013-02-03 02:04:21

I suppose I was asking _both_ questions, but I'll take the experts' answers on both.


---

Comment by jdemeyer created at 2013-02-05 08:21:58

Resolution: fixed
