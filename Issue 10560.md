# Issue 10560: Trouble coercing a vector directly to a matrix

archive/issues_010560.json:
```json
{
    "body": "Assignee: jason, was\n\nCC:  @williamstein @jonhanke\n\nKeywords: matrix, vector, coercion\n\nVector to matrix coercion appears not to work unless going through a list.\n\n\n```\nsage: v = vector(QQ,[1,2,3])\nsage: v\n(1, 2, 3)\nsage: type(v)\n<type 'sage.modules.vector_rational_dense.Vector_rational_dense'>\nsage: \nsage: Matrix(QQ, 3,1,v)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/Users/jonhanke/Documents/SAGE/sage-4.6/<ipython console> in <module>()\n\n/Users/jonhanke/Documents/SAGE/sage-4.6/local/lib/python2.6/site-packages/sage/matrix/constructor.pyc in matrix(*args, **kwds)\n    660             ring = rings.ZZ\n    661             \n--> 662     return matrix_space.MatrixSpace(ring, nrows, ncols, sparse=sparse)(entries)\n    663         \n    664 \n\n/Users/jonhanke/Documents/SAGE/sage-4.6/local/lib/python2.6/site-packages/sage/matrix/matrix_space.pyc in __call__(self, entries, coerce, copy, rows)\n    403             return self(entries.matrix(), copy=False)\n    404 \n--> 405         return self.matrix(entries, copy=copy, coerce=coerce, rows=rows)\n    406 \n    407     def change_ring(self, R):\n\n/Users/jonhanke/Documents/SAGE/sage-4.6/local/lib/python2.6/site-packages/sage/matrix/matrix_space.pyc in matrix(self, x, coerce, copy, rows)\n   1134                 x = new_x\n   1135             \n-> 1136         return self.__matrix_class(self, entries=x, copy=copy, coerce=coerce) \n   1137      \n   1138     def matrix_space(self, nrows=None, ncols=None, sparse=False):\n\n/Users/jonhanke/Documents/SAGE/sage-4.6/local/lib/python2.6/site-packages/sage/matrix/matrix_rational_dense.so in sage.matrix.matrix_rational_dense.Matrix_rational_dense.__init__ (sage/matrix/matrix_rational_dense.c:5774)()\n\nTypeError: entries must be coercible to a list or integer\nsage: Matrix(QQ, 3,1, list(v))\n[1]\n[2]\n[3]\nsage: \n```\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/10613\n\n",
    "created_at": "2011-01-12T23:59:17Z",
    "labels": [
        "component: linear algebra",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Trouble coercing a vector directly to a matrix",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10560",
    "user": "https://github.com/jonhanke"
}
```
Assignee: jason, was

CC:  @williamstein @jonhanke

Keywords: matrix, vector, coercion

Vector to matrix coercion appears not to work unless going through a list.


```
sage: v = vector(QQ,[1,2,3])
sage: v
(1, 2, 3)
sage: type(v)
<type 'sage.modules.vector_rational_dense.Vector_rational_dense'>
sage: 
sage: Matrix(QQ, 3,1,v)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/Users/jonhanke/Documents/SAGE/sage-4.6/<ipython console> in <module>()

/Users/jonhanke/Documents/SAGE/sage-4.6/local/lib/python2.6/site-packages/sage/matrix/constructor.pyc in matrix(*args, **kwds)
    660             ring = rings.ZZ
    661             
--> 662     return matrix_space.MatrixSpace(ring, nrows, ncols, sparse=sparse)(entries)
    663         
    664 

/Users/jonhanke/Documents/SAGE/sage-4.6/local/lib/python2.6/site-packages/sage/matrix/matrix_space.pyc in __call__(self, entries, coerce, copy, rows)
    403             return self(entries.matrix(), copy=False)
    404 
--> 405         return self.matrix(entries, copy=copy, coerce=coerce, rows=rows)
    406 
    407     def change_ring(self, R):

/Users/jonhanke/Documents/SAGE/sage-4.6/local/lib/python2.6/site-packages/sage/matrix/matrix_space.pyc in matrix(self, x, coerce, copy, rows)
   1134                 x = new_x
   1135             
-> 1136         return self.__matrix_class(self, entries=x, copy=copy, coerce=coerce) 
   1137      
   1138     def matrix_space(self, nrows=None, ncols=None, sparse=False):

/Users/jonhanke/Documents/SAGE/sage-4.6/local/lib/python2.6/site-packages/sage/matrix/matrix_rational_dense.so in sage.matrix.matrix_rational_dense.Matrix_rational_dense.__init__ (sage/matrix/matrix_rational_dense.c:5774)()

TypeError: entries must be coercible to a list or integer
sage: Matrix(QQ, 3,1, list(v))
[1]
[2]
[3]
sage: 
```



Issue created by migration from https://trac.sagemath.org/ticket/10613





---

archive/issue_comments_110210.json:
```json
{
    "body": "If you leave out the dimensions (which would be inferred from the vector), it is possible to build a matrix from a vector.\n\n\n```\nsage: w=vector(QQ, [1,2,3])\nsage: A = Matrix(QQ, w); A\n[1 2 3]\nsage: A.parent()\nFull MatrixSpace of 1 by 3 dense matrices over Rational Field\n```\n",
    "created_at": "2011-01-13T01:41:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10560#issuecomment-110210",
    "user": "https://github.com/rbeezer"
}
```

If you leave out the dimensions (which would be inferred from the vector), it is possible to build a matrix from a vector.


```
sage: w=vector(QQ, [1,2,3])
sage: A = Matrix(QQ, w); A
[1 2 3]
sage: A.parent()
Full MatrixSpace of 1 by 3 dense matrices over Rational Field
```




---

archive/issue_events_027321.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10560#event-27321"
}
```



---

archive/issue_events_027322.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10560#event-27322"
}
```



---

archive/issue_events_027323.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10560#event-27323"
}
```



---

archive/issue_events_027324.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10560#event-27324"
}
```



---

archive/issue_events_027325.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10560#event-27325"
}
```



---

archive/issue_events_027326.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10560#event-27326"
}
```



---

archive/issue_events_027327.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10560#event-27327"
}
```



---

archive/issue_comments_110211.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2018-03-01T16:20:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10560#issuecomment-110211",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_events_027328.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-01T16:20:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10560#event-27328"
}
```



---

archive/issue_events_027329.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-01T16:20:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10560#event-27329"
}
```



---

archive/issue_events_027330.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-03-01T16:20:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10560#event-27330"
}
```



---

archive/issue_comments_110212.json:
```json
{
    "body": "Fixed in #24742",
    "created_at": "2018-03-01T16:20:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10560",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10560#issuecomment-110212",
    "user": "https://github.com/jdemeyer"
}
```

Fixed in #24742
