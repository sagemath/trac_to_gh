# Issue 10800: A wrong (easy) limit

Issue created by migration from Trac.

Original creator: jvarona

Original creation time: 2011-03-03 01:38:18

Assignee: burcin

CC:  mjo

If we define      f(n)=2+1/factorial(n)      the answer of sage for    limit(1/f(n),n=oo)     is 1, that is clearly wrong. However,    limit(f(n),n=oo)     gives the answer 2, that is correct.

I have seen this problem in (at least) sage 4.6 and sage 4.6.2, in several kind of computers.





---

Comment by kcrisman created at 2011-03-03 14:51:24

This is in Maxima.

```
sage: maxima_console()
;;; Loading #P"/Applications/MathApps/sage/local/lib/ecl/SB-BSD-SOCKETS.fas"
;;; Loading #P"/Applications/MathApps/sage/local/lib/ecl/SOCKETS.fas"
;;; Loading #P"/Applications/MathApps/sage/local/lib/ecl/DEFSYSTEM.fas"
;;; Loading #P"/Applications/MathApps/sage/local/lib/ecl/cmp.fas"
;;; Loading #P"/Applications/MathApps/sage/local/lib/ecl/sysfun.lsp"
Maxima 5.22.1 http://maxima.sourceforge.net
using Lisp ECL 10.4.1
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i3) limit(2+1/factorial(n),n,inf);
(%o3)                                  2
(%i4) limit(1/(2+1/factorial(n)),n,inf);
(%o4)                                  1
```


This is still present in the latest Maxima.  See [this report](https://sourceforge.net/tracker/?func=detail&aid=3198530&group_id=4933&atid=104933).


---

Comment by kcrisman created at 2011-03-14 19:50:45

[This report](http://sourceforge.net/tracker/?func=detail&aid=3198530&group_id=4933&atid=104933) suggests it is fixed in the latest upstream.  This would need a patch to verify, once we would update Maxima to that release.


---

Comment by mjo created at 2011-12-13 18:55:57

This is fixed in stable maxima 5.24.0:


```
sage: f(n)=2+1/factorial(n)
sage: limit(1/f(n),n=oo)
1/2
sage: limit(f(n),n=oo)
2
sage: maxima.version()
'5.24.0'
```



---

Attachment

Add a doctest for this result. Apply on top of #11483 and #11591 to avoid fuzz.


---

Comment by mjo created at 2012-01-28 14:10:34

Changing status from new to needs_review.


---

Comment by mjo created at 2012-01-28 14:10:34

Maxima 5.24 has a positive review now, so here's a doctest. The file maxima_lib.py gets some new doctests in #11483 and #11591 so to avoid fuzz, apply on top of those (we don't require either of them for the result, though).


---

Comment by aly.deines created at 2012-02-02 23:41:58

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-02-07 13:21:01

Resolution: fixed
