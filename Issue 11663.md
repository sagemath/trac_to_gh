# Issue 11663: Class for ternary quadratic forms

archive/issues_011663.json:
```json
{
    "body": "Assignee: justin\n\nCC:  @jonhanke @tornaria @roed314\n\nClass of ternary quadratic forms.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11835\n\n",
    "created_at": "2011-09-22T20:10:28Z",
    "labels": [
        "component: quadratic forms"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.11",
    "title": "Class for ternary quadratic forms",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11663",
    "user": "https://trac.sagemath.org/admin/accounts/users/gdrama"
}
```
Assignee: justin

CC:  @jonhanke @tornaria @roed314

Class of ternary quadratic forms.

Issue created by migration from https://trac.sagemath.org/ticket/11835





---

archive/issue_comments_131617.json:
```json
{
    "body": "Attachment [TernaryQF_22_09.patch](tarball://root/attachments/some-uuid/ticket11835/TernaryQF_22_09.patch) by gdrama created at 2011-09-22 20:10:46",
    "created_at": "2011-09-22T20:10:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131617",
    "user": "https://trac.sagemath.org/admin/accounts/users/gdrama"
}
```

Attachment [TernaryQF_22_09.patch](tarball://root/attachments/some-uuid/ticket11835/TernaryQF_22_09.patch) by gdrama created at 2011-09-22 20:10:46



---

archive/issue_comments_131618.json:
```json
{
    "body": "I assume I can close the duplicates #11833 and #11834.\n\n\n\n\nThe commit message isn't very meaningful, and should contain the ticket number, i.e. start with either \"`#11835`\" or \"`Trac 11835:`\".\n\nAlso, the filenames of patches attached to tickets should start with e.g. \"`trac_11835-`\", i.e., also have the ticket number in it.\n\n\n\n\nIn case your code is already ready to get reviewed, please also change the ticket's status to \"needs review\".",
    "created_at": "2011-09-22T22:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131618",
    "user": "https://github.com/nexttime"
}
```

I assume I can close the duplicates #11833 and #11834.




The commit message isn't very meaningful, and should contain the ticket number, i.e. start with either "`#11835`" or "`Trac 11835:`".

Also, the filenames of patches attached to tickets should start with e.g. "`trac_11835-`", i.e., also have the ticket number in it.




In case your code is already ready to get reviewed, please also change the ticket's status to "needs review".



---

archive/issue_events_031207.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-22T22:11:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11663#event-31207"
}
```



---

archive/issue_comments_131619.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-09-25T20:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131619",
    "user": "https://trac.sagemath.org/admin/accounts/users/gdrama"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_131620.json:
```json
{
    "body": "Minor changes to the class TernaryQF documentation and TernaryQF.xi",
    "created_at": "2011-11-07T12:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131620",
    "user": "https://trac.sagemath.org/admin/accounts/users/gdrama"
}
```

Minor changes to the class TernaryQF documentation and TernaryQF.xi



---

archive/issue_comments_131621.json:
```json
{
    "body": "Attachment [trac_11835-TernaryQF_2.patch](tarball://root/attachments/some-uuid/ticket11835/trac_11835-TernaryQF_2.patch) by boothby created at 2012-03-20 22:35:09\n\n1.  the `polynomial` method should take a set of names as an argument:\n\n```\ndef polynomial(self,names='x,y,z'):\n    \"\"\"...\"\"\"\n    x,y,z = polygens(ZZ,names)\n    return self._a * ...\n```\n\n1.  the methods `_automorphisms_reduced` and `_border` are written rather opaquely -- why do they do what you claim?  Please include a reference, a proof, or something to indicate why they work.\n2.  typos / spelling errors: Auxiliar -> Auxillary, Ups->Oops, \"it's discriminant\"->\"its discriminant\", symmetrys->symmetries, \"doesn't divides\"->\"doesn't divide\"",
    "created_at": "2012-03-20T22:35:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131621",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Attachment [trac_11835-TernaryQF_2.patch](tarball://root/attachments/some-uuid/ticket11835/trac_11835-TernaryQF_2.patch) by boothby created at 2012-03-20 22:35:09

1.  the `polynomial` method should take a set of names as an argument:

```
def polynomial(self,names='x,y,z'):
    """..."""
    x,y,z = polygens(ZZ,names)
    return self._a * ...
```

1.  the methods `_automorphisms_reduced` and `_border` are written rather opaquely -- why do they do what you claim?  Please include a reference, a proof, or something to indicate why they work.
2.  typos / spelling errors: Auxiliar -> Auxillary, Ups->Oops, "it's discriminant"->"its discriminant", symmetrys->symmetries, "doesn't divides"->"doesn't divide"



---

archive/issue_comments_131622.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-03-20T22:35:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131622",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_131623.json:
```json
{
    "body": "Attachment [trac_11835-TernaryQF_flat_review.patch](tarball://root/attachments/some-uuid/ticket11835/trac_11835-TernaryQF_flat_review.patch) by boothby created at 2012-03-21 19:52:20\n\n*[trac_11835-TernaryQF_flat_review.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/11835/trac_11835-TernaryQF_flat_review.patch)* contains the suggested changes.\u00a0 One thing we need is a license block.\u00a0 I can't add that, since Gustavo owns the copyright.\u00a0 Gustavo, please add a copyright block conforming to http://sagemath.org/doc/developer/conventions.html#headings-of-sage-library-code-files, or at the least, post a comment giving us permission to distribute this code under GPL2+.",
    "created_at": "2012-03-21T19:52:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131623",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Attachment [trac_11835-TernaryQF_flat_review.patch](tarball://root/attachments/some-uuid/ticket11835/trac_11835-TernaryQF_flat_review.patch) by boothby created at 2012-03-21 19:52:20

*[trac_11835-TernaryQF_flat_review.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/11835/trac_11835-TernaryQF_flat_review.patch)* contains the suggested changes.  One thing we need is a license block.  I can't add that, since Gustavo owns the copyright.  Gustavo, please add a copyright block conforming to http://sagemath.org/doc/developer/conventions.html#headings-of-sage-library-code-files, or at the least, post a comment giving us permission to distribute this code under GPL2+.



---

archive/issue_comments_131624.json:
```json
{
    "body": "Replying to [comment:7 boothby]:\n> *[trac_11835-TernaryQF_flat_review.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/11835/trac_11835-TernaryQF_flat_review.patch)* ...\n\nJust for the record, you can also use the trac mark-up\n\n```\n[attachment:trac_11835-TernaryQF_flat_review.patch]\n```\n\nfor such, which adds the download button: [attachment:trac_11835-TernaryQF_flat_review.patch]\n\nLikewise, in Italics: *[attachment:trac_11835-TernaryQF_flat_review.patch]* (same enclosed in `* ... *`)",
    "created_at": "2012-03-22T06:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131624",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:7 boothby]:
> *[trac_11835-TernaryQF_flat_review.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/11835/trac_11835-TernaryQF_flat_review.patch)* ...

Just for the record, you can also use the trac mark-up

```
[attachment:trac_11835-TernaryQF_flat_review.patch]
```

for such, which adds the download button: [attachment:trac_11835-TernaryQF_flat_review.patch]

Likewise, in Italics: *[attachment:trac_11835-TernaryQF_flat_review.patch]* (same enclosed in `* ... *`)



---

archive/issue_comments_131625.json:
```json
{
    "body": "Attachment [trac_11835-TernaryQF_3.patch](tarball://root/attachments/some-uuid/ticket11835/trac_11835-TernaryQF_3.patch) by gdrama created at 2012-05-16 22:21:34\n\nChanges to some functions of automorphisms and some typos to trac_11835-TernaryQF_2.patch",
    "created_at": "2012-05-16T22:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131625",
    "user": "https://trac.sagemath.org/admin/accounts/users/gdrama"
}
```

Attachment [trac_11835-TernaryQF_3.patch](tarball://root/attachments/some-uuid/ticket11835/trac_11835-TernaryQF_3.patch) by gdrama created at 2012-05-16 22:21:34

Changes to some functions of automorphisms and some typos to trac_11835-TernaryQF_2.patch



---

archive/issue_comments_131626.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2013-05-27T20:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131626",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_131627.json:
```json
{
    "body": "Works for me",
    "created_at": "2013-05-27T20:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131627",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Works for me



---

archive/issue_events_031208.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-28T08:24:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11663#event-31208"
}
```



---

archive/issue_events_031209.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-05-28T08:24:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11663#event-31209"
}
```



---

archive/issue_comments_131628.json:
```json
{
    "body": "Never use\n\n```\nexcept:\n```\n\nbut catch specific exceptions instead. If you must use a catch-all, use\n\n```\nexcept StandardError:\n```\n",
    "created_at": "2013-05-29T12:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131628",
    "user": "https://github.com/jdemeyer"
}
```

Never use

```
except:
```

but catch specific exceptions instead. If you must use a catch-all, use

```
except StandardError:
```




---

archive/issue_comments_131629.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-05-29T12:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131629",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_131630.json:
```json
{
    "body": "Attachment [trac_11835-TernaryQF_4.patch](tarball://root/attachments/some-uuid/ticket11835/trac_11835-TernaryQF_4.patch) by gdrama created at 2013-05-29 14:56:29\n\nMinor change to the random_quadraticform file",
    "created_at": "2013-05-29T14:56:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131630",
    "user": "https://trac.sagemath.org/admin/accounts/users/gdrama"
}
```

Attachment [trac_11835-TernaryQF_4.patch](tarball://root/attachments/some-uuid/ticket11835/trac_11835-TernaryQF_4.patch) by gdrama created at 2013-05-29 14:56:29

Minor change to the random_quadraticform file



---

archive/issue_comments_131631.json:
```json
{
    "body": "Changed the error jdemeyer found.",
    "created_at": "2013-05-29T14:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131631",
    "user": "https://trac.sagemath.org/admin/accounts/users/gdrama"
}
```

Changed the error jdemeyer found.



---

archive/issue_comments_131632.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2013-05-29T21:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131632",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_131633.json:
```json
{
    "body": "[attachment:trac_11835-TernaryQF_4.patch] needs a proper commit message (alternatively, simply change the first patch and remove the fourth).",
    "created_at": "2013-05-30T13:11:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131633",
    "user": "https://github.com/jdemeyer"
}
```

[attachment:trac_11835-TernaryQF_4.patch] needs a proper commit message (alternatively, simply change the first patch and remove the fourth).



---

archive/issue_comments_131634.json:
```json
{
    "body": "Implement a new class for ternary quadratic forms with integer coefficients",
    "created_at": "2013-05-30T17:18:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131634",
    "user": "https://trac.sagemath.org/admin/accounts/users/gdrama"
}
```

Implement a new class for ternary quadratic forms with integer coefficients



---

archive/issue_comments_131635.json:
```json
{
    "body": "Attachment [trac_11835-TernaryQF.patch](tarball://root/attachments/some-uuid/ticket11835/trac_11835-TernaryQF.patch) by gdrama created at 2013-05-30 17:19:00",
    "created_at": "2013-05-30T17:19:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131635",
    "user": "https://trac.sagemath.org/admin/accounts/users/gdrama"
}
```

Attachment [trac_11835-TernaryQF.patch](tarball://root/attachments/some-uuid/ticket11835/trac_11835-TernaryQF.patch) by gdrama created at 2013-05-30 17:19:00



---

archive/issue_comments_131636.json:
```json
{
    "body": "Replying to [comment:15 jdemeyer]:\n> [attachment:trac_11835-TernaryQF_4.patch] needs a proper commit message (alternatively, simply change the first patch and remove the fourth).\n\nReady, changed the first patch and removed the fourth.",
    "created_at": "2013-05-30T17:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131636",
    "user": "https://trac.sagemath.org/admin/accounts/users/gdrama"
}
```

Replying to [comment:15 jdemeyer]:
> [attachment:trac_11835-TernaryQF_4.patch] needs a proper commit message (alternatively, simply change the first patch and remove the fourth).

Ready, changed the first patch and removed the fourth.



---

archive/issue_events_031210.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-06-06T12:30:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11663#event-31210"
}
```



---

archive/issue_comments_131637.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-06-06T12:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131637",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_131638.json:
```json
{
    "body": "What was the rationale for adding\n\n```\nfrom __builtin__ import max\n```\n\n\nThat seems unneeded and also slower than using plain `max()`.",
    "created_at": "2016-11-24T15:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11663#issuecomment-131638",
    "user": "https://github.com/jdemeyer"
}
```

What was the rationale for adding

```
from __builtin__ import max
```


That seems unneeded and also slower than using plain `max()`.
