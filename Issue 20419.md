# Issue 20419: MixedIntegerLinearProgram: Remove _variables dictionary

Issue created by migration from Trac.

Original creator: mkoeppe

Original creation time: 2016-05-23 09:38:12

CC:  nbruin dimpase vdelecroix jdemeyer chapoton yzh

Keywords: lp

The '_variables' attribute dictionary maps a "variable" (an "element" of a `MIPVariable` "dictionary") to an index in the backend. This is redundant because these "variables" are elements of type `LinearFunction`, and as such know their index in the backend already.


```
sage: p = MixedIntegerLinearProgram(solver='GLPK')
sage: pv = p.new_variable(nonnegative=True)
sage: pv[0]
x_0
sage: pv[77]
x_1
sage: pv[0].dict().keys()
[0]
sage: pv[77].dict().keys()
[1]
```


See also: #20461, #20602


---

Comment by mkoeppe created at 2016-06-27 03:09:37

New commits:


---

Comment by mkoeppe created at 2016-06-27 03:09:37

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-04-24 18:52:18

Needs a rebase. However, I'm worried this could cause a speed regression as a `dict` lookup is a system python call whereas you are now doing a number of python function calls. Also storing a (relatively?) small `dict` doesn't cost much memory I would think.


---

Comment by tscrim created at 2017-04-24 18:52:18

Changing status from needs_review to needs_info.


---

Comment by mkoeppe created at 2017-04-28 00:52:26

I haven't done any timings regarding this patch.


---

Comment by git created at 2021-04-29 03:40:29

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2021-07-19 00:44:56

Setting a new milestone for this ticket based on a cursory review.
