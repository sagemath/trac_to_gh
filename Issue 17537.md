# Issue 17537: Random failure building Singular

archive/issues_017537.json:
```json
{
    "body": "Keywords: random_fail\n\nThere is still a race in the Singular build system, sometimes (rarely) it fails with\n\n```\n[...]\ng++ -O2 -g  -fPIC -I.. -I/mnt/disk/home/release/Sage/local -pipe -fno-implicit-templates -I.. -I/mnt/disk/home/release/Sage/local -I. -I.. -I/mnt/disk/home/release/Sage/local -I/mnt/disk/home/release/Sage/local/include -I/mnt/disk/home/release/Sage/local/include -I/mnt/disk/home/release/Sage/local/include   -I/mnt/disk/home/release/Sage/local/include -DNDEBUG -DOM_NDEBUG -Dx86_64_Linux -DHAVE_CONFIG_H -c s_buff.cc\nattrib.cc: In function 'BOOLEAN atATTRIB2(leftv, leftv, leftv)':\nattrib.cc:305:55: warning: cast to pointer from integer of different size [-Wint-to-pointer-cast]\n     res->data=(void *)(rField_is_Ring((ring)v->Data()));\n                                                       ^\ng++ -O2 -g  -fPIC -I.. -I/mnt/disk/home/release/Sage/local -pipe -fno-implicit-templates -I.. -I/mnt/disk/home/release/Sage/local -I. -I.. -I/mnt/disk/home/release/Sage/local -I/mnt/disk/home/release/Sage/local/include -I/mnt/disk/home/release/Sage/local/include -I/mnt/disk/home/release/Sage/local/include   -I/mnt/disk/home/release/Sage/local/include -DNDEBUG -DOM_NDEBUG -Dx86_64_Linux -DHAVE_CONFIG_H -c subexpr.cc\nIn file included from silink.cc:19:0:\n../kernel/febase.h:284:31: error: 'FALSE' was not declared in this scope\n```\n\nThis is on my 6-core (12 threads) Haswell-E i7 desktop.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17774\n\n",
    "created_at": "2015-02-12T23:30:29Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Random failure building Singular",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17537",
    "user": "https://github.com/vbraun"
}
```
Keywords: random_fail

There is still a race in the Singular build system, sometimes (rarely) it fails with

```
[...]
g++ -O2 -g  -fPIC -I.. -I/mnt/disk/home/release/Sage/local -pipe -fno-implicit-templates -I.. -I/mnt/disk/home/release/Sage/local -I. -I.. -I/mnt/disk/home/release/Sage/local -I/mnt/disk/home/release/Sage/local/include -I/mnt/disk/home/release/Sage/local/include -I/mnt/disk/home/release/Sage/local/include   -I/mnt/disk/home/release/Sage/local/include -DNDEBUG -DOM_NDEBUG -Dx86_64_Linux -DHAVE_CONFIG_H -c s_buff.cc
attrib.cc: In function 'BOOLEAN atATTRIB2(leftv, leftv, leftv)':
attrib.cc:305:55: warning: cast to pointer from integer of different size [-Wint-to-pointer-cast]
     res->data=(void *)(rField_is_Ring((ring)v->Data()));
                                                       ^
g++ -O2 -g  -fPIC -I.. -I/mnt/disk/home/release/Sage/local -pipe -fno-implicit-templates -I.. -I/mnt/disk/home/release/Sage/local -I. -I.. -I/mnt/disk/home/release/Sage/local -I/mnt/disk/home/release/Sage/local/include -I/mnt/disk/home/release/Sage/local/include -I/mnt/disk/home/release/Sage/local/include   -I/mnt/disk/home/release/Sage/local/include -DNDEBUG -DOM_NDEBUG -Dx86_64_Linux -DHAVE_CONFIG_H -c subexpr.cc
In file included from silink.cc:19:0:
../kernel/febase.h:284:31: error: 'FALSE' was not declared in this scope
```

This is on my 6-core (12 threads) Haswell-E i7 desktop.

Issue created by migration from https://trac.sagemath.org/ticket/17774





---

archive/issue_comments_233812.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-03-19T16:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17537#issuecomment-233812",
    "user": "https://github.com/jdemeyer"
}
```

New commits:



---

archive/issue_events_050788.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-03-19T16:28:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17537",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17537#event-50788"
}
```



---

archive/issue_comments_233813.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-19T16:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17537#issuecomment-233813",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_233814.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-03-19T16:54:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17537#issuecomment-233814",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_233815.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-03-19T23:39:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17537#issuecomment-233815",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_050789.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-19T23:39:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17537",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17537#event-50789"
}
```



---

archive/issue_comments_233816.json:
```json
{
    "body": "And nobody reported this upstream?!?!1?\n\n(We spent weeks fixing race conditions in Singular's build system not that long ago to let it build in parallel for good reason, now apparently all in vain.)",
    "created_at": "2015-12-13T12:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17537#issuecomment-233816",
    "user": "https://github.com/nexttime"
}
```

And nobody reported this upstream?!?!1?

(We spent weeks fixing race conditions in Singular's build system not that long ago to let it build in parallel for good reason, now apparently all in vain.)
