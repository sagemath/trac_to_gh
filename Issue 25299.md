# Issue 25299: meta-ticket: failing internet doctests in 8.3.beta3

Issue created by migration from https://trac.sagemath.org/ticket/25536

Original creator: slabbe

Original creation time: 2018-06-07 20:26:40

CC:  slelievre vklein tmonteil

As reported on [sage-release 8.3.beta3](https://groups.google.com/d/msg/sage-release/l635YEuT7Hs/WkHCnmWhAQAJ),


```
sage -tp --optional=sage,internet --all
```


gives many failing internet doctests.

Related tickets:

 * #25471 (oeis)
 * #25472 (findstat)
 * #25473 (stock)
 * #25474 (6 files)
 * #25501 (mma_free_integrator)
 * #25534 (coding/databases.py)
 * #25535 (sage/repl/load.py)


---

Comment by slabbe created at 2018-06-07 20:34:58

I fixed #25474. I am clueless for the others.


---

Comment by slabbe created at 2018-06-19 20:38:39

added persist.pyx


---

Comment by slelievre created at 2018-11-21 08:26:24

See also

- #26728: Remove ellipsis in one findstat doctest


---

Comment by slelievre created at 2019-01-25 01:51:55

Changing keywords from "" to "meta-ticket, internet, optional doctests".


---

Comment by slabbe created at 2019-03-07 08:29:28

Changing keywords from "meta-ticket, internet, optional doctests" to "meta-ticket, internet, optional doctests, thursdaysbdx".


---

Comment by slabbe created at 2019-11-05 20:15:14

adding #28697


---

Comment by slabbe created at 2019-12-02 10:44:58

tickets merged in 9.0.beta8


---

Comment by mkoeppe created at 2021-07-06 00:22:51

Would it make sense to enable the `optional=internet` doctests for our automatic tests on GitHub Actions? Or would there be concern that it causes too much network traffic?


---

Comment by tmonteil created at 2021-09-12 01:55:53

Replying to [comment:93 mkoeppe]:
> Would it make sense to enable the `optional=internet` doctests for our automatic tests on GitHub Actions? Or would there be concern that it causes too much network traffic? 

Sage relies on small public online services such as oeis or findstat. It is unfair to connect to their server at each doctest. Most failing internet doctests are due to some changes on the remote servers (e.g. when they fix a typo or when they add a line of documentation) and are not errors in the Sage library.


---

Comment by mkoeppe created at 2021-09-17 17:29:39

I think this needs some quantitative context. The tests on GH Actions run automatically on every release tag (or when a developer manually triggers a CI run by clicking a button or pushing a tag). They do not run on every ticket (or every commit). On every run, around 100 copies of `make ptest` are launched. I don't know whether this would be out of proportion traffic for these services.


---

Comment by slelievre created at 2021-09-18 08:31:42

Failures of our internet tests usually signal changes in the
online services we connect to, and are not platform-dependent,
so one run of these tests per release suffices -- no need
for a hundred.


---

Comment by slabbe created at 2021-10-14 18:10:28

updated tickets merged in 9.5


---

Comment by slabbe created at 2021-10-14 18:33:22

Adding 5 new tickets to the list (failures with 9.5.beta3)


---

Comment by slabbe created at 2021-10-22 13:22:54

1 merged ticket + 1 new ticket (glucose)


---

Comment by slabbe created at 2021-12-29 10:41:06

tickets merged in 9.5.beta9


---

Comment by slabbe created at 2022-02-16 14:53:04

one ticket merged in 9.6


---

Comment by slabbe created at 2022-05-03 15:24:24

ticket fixed in 9.6


---

Comment by slabbe created at 2022-10-06 08:03:14

tickets merged in 9.8.beta1


---

Comment by slabbe created at 2022-10-21 08:56:14

tickets merged in 9.8.beta2
