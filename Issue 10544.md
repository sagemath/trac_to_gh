# Issue 10544: Riemann sums, added trapezoid option

Issue created by migration from Trac.

Original creator: gagansekhon

Original creation time: 2011-01-12 02:32:05

Assignee: burcin

Keywords: riemann sums, trapezoid, beginner

For piecewise functions, added trapezoid option to riemann_sum and riemann_sum_integral_approximation to already existing option of left, right and midpoint.

Deprecated, trapezoid_integral_approximation and trapezoid


---

Attachment


---

Attachment


---

Comment by gagansekhon created at 2011-01-12 03:19:57

changed file name and commit message to reflect trac number. Pleases use trac_10597.patch only.


---

Comment by gagansekhon created at 2011-01-12 03:27:41

Changing type from PLEASE CHANGE to enhancement.


---

Comment by dimpase created at 2011-01-12 05:17:33

Changing status from new to needs_review.


---

Comment by dimpase created at 2011-01-12 05:23:30

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-01-23 22:25:10

There is a doctest failure:

```
sage -t  -force_lib devel/sage/doc/en/constructions/calculus.rst
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.6.2.alpha2/devel/sage-main/doc/en/constructions/calculus.rst", line 204:
    sage: f.trapezoid(4)
Expected:
    Piecewise defined function with 4 parts, [[(0, 1/2), 1/2*x],
    [(1/2, 1), 9/2*x - 2], [(1, 3/2), 1/2*x + 2],
    [(3/2, 2), -7/2*x + 8]]
Got:
    doctest:1: DeprecationWarning: _word_content is deprecated, use riemann_sum instead
    Piecewise defined function with 4 parts, [[(0, 1/2), 1/2*x], [(1/2, 1), 9/2*x - 2], [(1, 3/2), 1/2*x + 2], [(3/2, 2), -7/2*x + 8]]
**********************************************************************
```



---

Comment by jdemeyer created at 2011-01-23 22:25:10

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2011-01-23 22:28:23

A further small comment: in the docstrings, you should use ``OUTPUT:`` instead of ``Output:``.


---

Comment by gagansekhon created at 2011-01-23 23:00:52

There is a discussion regarding this ticket on sage-devel. 
http://groups.google.com/group/sage-devel/browse_thread/thread/c2c196ea37c753ae/bacb7b1fc3042d56?lnk=gst&q=gagan#bacb7b1fc3042d56

Until we come to a consensus, I think we should not merge it.


---

Comment by dimpase created at 2011-01-25 07:07:33

Replying to [comment:8 gagansekhon]:
> There is a discussion regarding this ticket on sage-devel. 
> http://groups.google.com/group/sage-devel/browse_thread/thread/c2c196ea37c753ae/bacb7b1fc3042d56?lnk=gst&q=gagan#bacb7b1fc3042d56
> 
> Until we come to a consensus, I think we should not merge it. 
>  

Do you refer to the objection that trapezoid rule is not a Riemann sum?  IMHO it is moot.


---

Comment by khalasz created at 2013-12-28 02:02:21

While helping a high school Calculus student with basic integration I tried to use Sage to do some computational examples, and when it didn't work as I expected it to I came across this ticket. The student's textbook considered a trapezoidal sum to be a Riemann sum, so I think pushing this ticket through would be helpful from the standpoint of wanting Sage to be a useful educational tool.

It seems that only minor updates are needed to get this patch to a point where it would be acceptable. I would be willing to make these small changes. However, based on the discussion cited above, which didn't seem to come to any sort of conclusion, I am hesitant to do so. Any thoughts on whether this patch is worth cleaning up and adding to the Sage source? I vote yes, but of course I am no Sage guru.


---

Comment by mkoeppe created at 2016-06-25 18:12:47

Patch is outdated after replacement of the piecewise implementation in #14801.


---

Comment by DavidLowry created at 2019-02-16 13:41:55

I was asked about this ticket recently by a beginner, since it has the beginner keyword. But after looking at the ticket, I think this is not a good beginner ticket, especially now that the underlying code has been completely rewritten since this was first proposed.

I'm removing the beginner tag. But I also suggest that this ticket be closed --- there are no longer any Riemann sums here, so the discussion as to whether a trapezoidal sum should be considered no longer applies.


---

Comment by DavidLowry created at 2019-02-16 13:41:55

Changing keywords from "riemann sums, trapezoid, beginner" to "riemann sums, trapezoid".
