# Issue 20607: py3 division in ell_rational_field

archive/issues_020607.json:
```json
{
    "body": "CC:  cremona jdemeyer\n\nas a step towards python3\n\nthere are currently in this file three occurences of 3/2 that are certainly not intended to be 0 (py2 value)\n\nIssue created by migration from https://trac.sagemath.org/ticket/20844\n\n",
    "created_at": "2016-06-18T11:13:52Z",
    "labels": [
        "elliptic curves",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "py3 division in ell_rational_field",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20607",
    "user": "chapoton"
}
```
CC:  cremona jdemeyer

as a step towards python3

there are currently in this file three occurences of 3/2 that are certainly not intended to be 0 (py2 value)

Issue created by migration from https://trac.sagemath.org/ticket/20844





---

archive/issue_comments_284500.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-06-18T11:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20607#issuecomment-284500",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_284501.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-06-18T11:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20607#issuecomment-284501",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_284502.json:
```json
{
    "body": "Changing keywords from \"\" to \"python3\".",
    "created_at": "2016-06-18T11:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20607#issuecomment-284502",
    "user": "chapoton"
}
```

Changing keywords from "" to "python3".



---

archive/issue_comments_284503.json:
```json
{
    "body": "Well spotted!  I still have a branch which I have not worked on for 2 years which fixes several bugs in the integral point code, by the way.  Note  that one substantive thing which happened as a result of your fix is that in one curve in a doctest it looks at linear combination of generators with coefficient bound 9 instead of 8.  In the example, no more integral points were found, but it is easy to imagine that in other examples the bug you fixed might have led to lost solutions.",
    "created_at": "2016-06-18T13:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20607#issuecomment-284503",
    "user": "cremona"
}
```

Well spotted!  I still have a branch which I have not worked on for 2 years which fixes several bugs in the integral point code, by the way.  Note  that one substantive thing which happened as a result of your fix is that in one curve in a doctest it looks at linear combination of generators with coefficient bound 9 instead of 8.  In the example, no more integral points were found, but it is easy to imagine that in other examples the bug you fixed might have led to lost solutions.



---

archive/issue_comments_284504.json:
```json
{
    "body": "bot is green. Is there any objection against this ticket ?",
    "created_at": "2016-06-21T12:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20607#issuecomment-284504",
    "user": "chapoton"
}
```

bot is green. Is there any objection against this ticket ?



---

archive/issue_comments_284505.json:
```json
{
    "body": "No -- but I did not test it, I only looked at the code changes.\nAm I right in thinking that with the old code 3/2 rounded down to 0, while with the new Z(3)/2 is is an exact rational?  Or a float 1.5?  In all three places, a float would be sufficient, in case that is better.",
    "created_at": "2016-06-21T12:58:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20607#issuecomment-284505",
    "user": "cremona"
}
```

No -- but I did not test it, I only looked at the code changes.
Am I right in thinking that with the old code 3/2 rounded down to 0, while with the new Z(3)/2 is is an exact rational?  Or a float 1.5?  In all three places, a float would be sufficient, in case that is better.



---

archive/issue_comments_284506.json:
```json
{
    "body": "3/2 was previously rounded to 1, and is now the rational 3/2.\n\nI think everything will become a float at some point, but there should be no need to\ndo that too early.",
    "created_at": "2016-06-21T13:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20607#issuecomment-284506",
    "user": "chapoton"
}
```

3/2 was previously rounded to 1, and is now the rational 3/2.

I think everything will become a float at some point, but there should be no need to
do that too early.



---

archive/issue_comments_284507.json:
```json
{
    "body": "`@`cremona, do you want to test more thoroughly before saying ok ? The bot is green, which\nmeans that all our doctests pass. Now you may want to check against a larger test set of your own, maybe ?",
    "created_at": "2016-06-24T18:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20607#issuecomment-284507",
    "user": "chapoton"
}
```

`@`cremona, do you want to test more thoroughly before saying ok ? The bot is green, which
means that all our doctests pass. Now you may want to check against a larger test set of your own, maybe ?



---

archive/issue_comments_284508.json:
```json
{
    "body": "No I do not want to test more, and will give this a positive review.  The reason is that I know there are other bugs in the integral point code, with other tickets open, and there is no reason why this bug-fix should wait.",
    "created_at": "2016-06-24T19:33:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20607#issuecomment-284508",
    "user": "cremona"
}
```

No I do not want to test more, and will give this a positive review.  The reason is that I know there are other bugs in the integral point code, with other tickets open, and there is no reason why this bug-fix should wait.



---

archive/issue_comments_284509.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-06-24T19:33:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20607#issuecomment-284509",
    "user": "cremona"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_284510.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-06-26T07:30:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20607",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20607#issuecomment-284510",
    "user": "vbraun"
}
```

Resolution: fixed
