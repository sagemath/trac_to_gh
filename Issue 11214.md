# Issue 11214: Add a bracelet combinatorial class

Issue created by migration from Trac.

Original creator: DanielRecoskie

Original creation time: 2011-05-26 23:44:18

Assignee: DanielRecoskie

CC:  sage-combinat mhansen

Keywords: sage-combinat combinatorics bracelet

Add a bracelet combinatorial class implementation based on:

Sawada, Joe.  "Generating Bracelets in constant amortized time", SIAM Journal on Computing archive Volume 31 , Issue 1 (2001)


---

Comment by DanielRecoskie created at 2011-05-27 17:26:36

Changing status from new to needs_review.


---

Attachment


---

Comment by nthiery created at 2011-05-27 19:44:05

Hi!

I won't have the time to review this; so I hope someone will take this on! Just a comment: it would be nice to include a definition of bracelets, and in particular how they relate and differ from necklaces (with appropriate .. seealso::).

Thanks,

Cheers,
                             Nicolas


---

Comment by nthiery created at 2011-05-27 19:44:05

Changing assignee from DanielRecoskie to nthiery.


---

Comment by mhansen created at 2011-05-27 19:46:00

I'm actually in the process of reviewing this now.


---

Comment by ncohen created at 2012-01-29 15:47:08

Hellooooo !!

Some remarks :

    * This patch needs some documentatin. It would be nice to have a definition of what bracelets are at the top of the document, and an explanation of what the methods do. 
    * You also put tests in some of them, but all the methods should have at least one. 
    * The GenB and CheckRev methods should also be renamed "the Sage way", that is lower case with underscores. It would theoretically be gen_b and check_rev but these names are not very explicit either. That actually is not a very bad problem for GenB as it is (I believe) the name commonly used in the litterature. It seems this method is for internal use only (it is called by __iter__) and so it would be nice to make it a private method (that is rename it to _gen_b for instance) if the user is not meant to call it directly. 
    * I have no idea what checkrev does `^^;`

Nathann


---

Comment by ncohen created at 2012-01-29 15:47:08

Changing status from needs_review to needs_work.


---

Comment by nthiery created at 2012-01-29 16:16:15

Hi!

Replying to [comment:5 ncohen]:
>     * This patch needs some documentatin. It would be nice to have a definition of what bracelets are at the top of the document, and an explanation of what the methods do. 
>     * You also put tests in some of them, but all the methods should have at least one. 
>     * The GenB and CheckRev methods should also be renamed "the Sage way", that is lower case with underscores. It would theoretically be gen_b and check_rev but these names are not very explicit either. That actually is not a very bad problem for GenB as it is (I believe) the name commonly used in the litterature. It seems this method is for internal use only (it is called by __iter__) and so it would be nice to make it a private method (that is rename it to _gen_b for instance) if the user is not meant to call it directly. 
>     * I have no idea what checkrev does `^^;`

By the way: are there any chances to factor out some code between necklaces and bracelets? Both algorithms are from Sawada and, if I recall correctly, of the same flavor.


---

Comment by ncohen created at 2012-01-29 16:24:27

Well, I guess it is possible but is it worth doing ? I expect the "common code" would be much harder to understand (with "if" everywhere slowing it down :-D) than two dedicated ones, and having two versions of a 20-lines code is not that bad an issue anyway... What do you think ?

Nathann


---

Comment by nthiery created at 2012-01-29 16:53:29

Replying to [comment:7 ncohen]:
> Well, I guess it is possible but is it worth doing ? I expect the "common code" would be much harder to understand (with "if" everywhere slowing it down :-D) than two dedicated ones, and having two versions of a 20-lines code is not that bad an issue anyway... What do you think ?

It's just a suggestion, I let the author decide depending on how close the algorithms are. In the case of Lyndon words / necklaces, the algorithm could be "parametrized" to handle both cases at once. When natural, this is nice from a duplication point of view, but also for "Sage as a library of algorithm": the reader sees right away that there is really a single algorithm.


---

Attachment


---

Comment by chapoton created at 2015-02-18 17:11:18

Now with a git branch
----
New commits:


---

Comment by git created at 2015-02-25 20:04:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-08-31 19:29:20

Branch pushed to git repo; I updated commit sha1. New commits:
