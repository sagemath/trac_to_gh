# Issue 21323: return Infinity from factorial of negative integer

archive/issues_021323.json:
```json
{
    "body": "\n```\nsage: factorial(-5)\n...\nValueError: factorial -- self = (-5) must be nonnegative\n```\n\n\nAdapt the function's behaviour to what other CASs (sympy, Wolfram) do at integer n<-1: return unsigned infinity.\n\nIssue created by migration from https://trac.sagemath.org/ticket/21560\n\n",
    "created_at": "2016-09-22T07:36:10Z",
    "labels": [
        "symbolics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "return Infinity from factorial of negative integer",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21323",
    "user": "@rwst"
}
```

```
sage: factorial(-5)
...
ValueError: factorial -- self = (-5) must be nonnegative
```


Adapt the function's behaviour to what other CASs (sympy, Wolfram) do at integer n<-1: return unsigned infinity.

Issue created by migration from https://trac.sagemath.org/ticket/21560





---

archive/issue_comments_295906.json:
```json
{
    "body": "I would like to work on this issue. However, one of the CASs sympy, returns a zero for a negative number given as the input. I would like to clarify if it is required to return unsigned infinity or zero. You can refer this-> http://docs.sympy.org/0.7.1/_modules/sympy/functions/combinatorial/factorials.html",
    "created_at": "2017-03-15T13:12:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21323#issuecomment-295906",
    "user": "aashu12"
}
```

I would like to work on this issue. However, one of the CASs sympy, returns a zero for a negative number given as the input. I would like to clarify if it is required to return unsigned infinity or zero. You can refer this-> http://docs.sympy.org/0.7.1/_modules/sympy/functions/combinatorial/factorials.html



---

archive/issue_comments_295907.json:
```json
{
    "body": "Set assignee to aashu12.",
    "created_at": "2017-03-15T13:18:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21323#issuecomment-295907",
    "user": "aashu12"
}
```

Set assignee to aashu12.



---

archive/issue_comments_295908.json:
```json
{
    "body": "Note that already\n\n```\nsage: SR(-89).factorial()\nInfinity\n```\n\nIf you decide against Infinity then please change the above for consistency (you can find the code in `libs/pynac/pynac.pyx`).",
    "created_at": "2017-03-15T14:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21323#issuecomment-295908",
    "user": "@rwst"
}
```

Note that already

```
sage: SR(-89).factorial()
Infinity
```

If you decide against Infinity then please change the above for consistency (you can find the code in `libs/pynac/pynac.pyx`).



---

archive/issue_comments_295909.json:
```json
{
    "body": "As to which one it should be, I guess that's arbitrary. You may need to change code that depends on the exception (maybe there is some in `combinatorics`) anyway. Using zero makes possibly sense, maybe to have sane behavour for some combinatorial sums.",
    "created_at": "2017-03-15T14:05:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21323#issuecomment-295909",
    "user": "@rwst"
}
```

As to which one it should be, I guess that's arbitrary. You may need to change code that depends on the exception (maybe there is some in `combinatorics`) anyway. Using zero makes possibly sense, maybe to have sane behavour for some combinatorial sums.



---

archive/issue_comments_295910.json:
```json
{
    "body": "Note also\n\n```\nsage: factorial(-89.)\nNaN\n```\n\nwhich would be the third alternative.",
    "created_at": "2017-03-15T14:13:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21323#issuecomment-295910",
    "user": "@rwst"
}
```

Note also

```
sage: factorial(-89.)
NaN
```

which would be the third alternative.



---

archive/issue_comments_295911.json:
```json
{
    "body": "I feel that it would be better if Unsigned Infinity is returned because in case we return any other value, too many files in different components have to be modified to make sure that the consistency is proper. I will modify the function such that it returns Unsigned Infinity when the input is negative by importing `unsigned_infinity` from `sage.rings.infinity`",
    "created_at": "2017-03-15T15:09:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21323#issuecomment-295911",
    "user": "aashu12"
}
```

I feel that it would be better if Unsigned Infinity is returned because in case we return any other value, too many files in different components have to be modified to make sure that the consistency is proper. I will modify the function such that it returns Unsigned Infinity when the input is negative by importing `unsigned_infinity` from `sage.rings.infinity`



---

archive/issue_comments_295912.json:
```json
{
    "body": "Will it be right here to import unsigned infinity from `sage.rings.infinity`?",
    "created_at": "2017-03-15T15:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21323#issuecomment-295912",
    "user": "aashu12"
}
```

Will it be right here to import unsigned infinity from `sage.rings.infinity`?



---

archive/issue_comments_295913.json:
```json
{
    "body": "That's a style question. I personally import from the specific file instead of from all. I remember a discussion here that recommended that because this way less is imported and less time used. I could not find a reference, sorry. You see both styles used in Sage.",
    "created_at": "2017-03-15T15:51:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21323#issuecomment-295913",
    "user": "@rwst"
}
```

That's a style question. I personally import from the specific file instead of from all. I remember a discussion here that recommended that because this way less is imported and less time used. I could not find a reference, sorry. You see both styles used in Sage.



---

archive/issue_comments_295914.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-03-17T06:03:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21323",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21323#issuecomment-295914",
    "user": "aashu12"
}
```

New commits:
