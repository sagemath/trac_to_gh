# Issue 21323: return Infinity from factorial of negative integer

Issue created by migration from https://trac.sagemath.org/ticket/21560

Original creator: rws

Original creation time: 2016-09-22 07:36:10


```
sage: factorial(-5)
...
ValueError: factorial -- self = (-5) must be nonnegative
```


Adapt the function's behaviour to what other CASs (sympy, Wolfram) do at integer n<-1: return unsigned infinity.


---

Comment by aashu12 created at 2017-03-15 13:12:38

I would like to work on this issue. However, one of the CASs sympy, returns a zero for a negative number given as the input. I would like to clarify if it is required to return unsigned infinity or zero. You can refer this-> http://docs.sympy.org/0.7.1/_modules/sympy/functions/combinatorial/factorials.html


---

Comment by aashu12 created at 2017-03-15 13:18:33

Set assignee to aashu12.


---

Comment by rws created at 2017-03-15 14:01:27

Note that already

```
sage: SR(-89).factorial()
Infinity
```

If you decide against Infinity then please change the above for consistency (you can find the code in `libs/pynac/pynac.pyx`).


---

Comment by rws created at 2017-03-15 14:05:22

As to which one it should be, I guess that's arbitrary. You may need to change code that depends on the exception (maybe there is some in `combinatorics`) anyway. Using zero makes possibly sense, maybe to have sane behavour for some combinatorial sums.


---

Comment by rws created at 2017-03-15 14:13:35

Note also

```
sage: factorial(-89.)
NaN
```

which would be the third alternative.


---

Comment by aashu12 created at 2017-03-15 15:09:57

I feel that it would be better if Unsigned Infinity is returned because in case we return any other value, too many files in different components have to be modified to make sure that the consistency is proper. I will modify the function such that it returns Unsigned Infinity when the input is negative by importing `unsigned_infinity` from `sage.rings.infinity`


---

Comment by aashu12 created at 2017-03-15 15:13:41

Will it be right here to import unsigned infinity from `sage.rings.infinity`?


---

Comment by rws created at 2017-03-15 15:51:56

That's a style question. I personally import from the specific file instead of from all. I remember a discussion here that recommended that because this way less is imported and less time used. I could not find a reference, sorry. You see both styles used in Sage.


---

Comment by aashu12 created at 2017-03-17 06:03:28

New commits:
