# Issue 25449: UniversalCyclotomicField is not finite

Issue created by migration from https://trac.sagemath.org/ticket/25686

Original creator: soehms

Original creation time: 2018-06-28 11:00:25

CC:  tscrim

Keywords: days94


```
sage: UCF = UniversalCyclotomicField()
sage: UCF.is_finite()
True
```


This is explicitly given in the code of universal_cyclotomic_field.py:


```
    def is_finite(self):
        r"""
        Returns ``True``.

        EXAMPLES::

            sage: UniversalCyclotomicField().is_finite()
            True

        .. TODO::

            this method should be provided by the category.
        """
        return True
```


This has been correct before a change in April 2015 (Trac #1852). It looks like a mistake in connection with that ticket. The old code from git looked like this:




```
author  Jean-Philippe Labbé <labbe@math.fu-berlin.de>   2015-04-29 17:56:59 +0300
committer       Jean-Philippe Labbé <labbe@math.fu-berlin.de>   2015-04-29 17:56:59 +0300
commit  dc3de84809792bde5e2cde8c8c579f42496e0647 (patch)
tree    2a5ed5f0daf452364580856388e5717cf47f1b60
parent  Updated Sage version to 6.7.beta3 (diff)
parent  Trac 18152: __neg__ for UCF elements (diff)


-    def is_finite(self):
-        r"""
-        Returns False as ``self`` is not finite.
-
-        EXAMPLES::
-
-            sage: UCF = UniversalCyclotomicField()
-            sage: UCF.is_finite()
-            False
-        """
-        return False
```


Thus the task might be to restore the old code!


---

Comment by soehms created at 2018-06-28 16:29:26

We (Travis and me) tried to move the `is_finite` method to the category framework. But this lead into difficulties. Thus, we let it fall back to `is_finite` in rings.pyx replacing the raise of `NotImplementedError` to a `super(Ring, self).is_finite()`-call.
----
New commits:


---

Comment by git created at 2018-06-28 16:30:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-06-28 16:35:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by soehms created at 2018-06-28 16:44:52

New commits:


---

Comment by soehms created at 2018-06-28 16:44:52

Changing status from new to needs_review.


---

Comment by lftabera created at 2018-06-28 17:11:59

You should add a test that shows that the bug is fixed. Since you have deleted the method, this test has to be added elsewhere. In this case, it can be added to the general set of tests at the beggining of the universal_cyclotomic_field.py file


---

Comment by git created at 2018-06-29 13:32:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mathzeta2 created at 2018-06-29 14:28:00

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-06-30 11:04:39

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2018-06-30 11:04:39

See patchbot


---

Comment by mathzeta2 created at 2018-06-30 11:46:54

The line `return super(Ring, self).is_finite()` is probably the culprit, we need to update the error message of that test.


---

Comment by git created at 2018-07-01 17:50:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by soehms created at 2018-07-01 17:53:05

Changing status from needs_work to needs_review.


---

Comment by mathzeta2 created at 2018-07-02 09:08:05

Works for me. If the patchbot is happy, then positive review.


---

Comment by soehms created at 2018-07-02 13:15:39

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-07-08 13:05:01

Resolution: fixed
