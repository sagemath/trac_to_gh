# Issue 29260: package symengine and its Python interface

archive/issues_029260.json:
```json
{
    "body": "CC:  @isuruf @mkoeppe @egourgoulhon\n\ntarballs\n- https://github.com/symengine/symengine/archive/v0.6.0.tar.gz\n- https://github.com/symengine/symengine.py/archive/v0.6.1.tar.gz\n\nIssue created by migration from https://trac.sagemath.org/ticket/29497\n\n",
    "created_at": "2020-04-11T11:13:48Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "package symengine and its Python interface",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29260",
    "user": "https://github.com/videlec"
}
```
CC:  @isuruf @mkoeppe @egourgoulhon

tarballs
- https://github.com/symengine/symengine/archive/v0.6.0.tar.gz
- https://github.com/symengine/symengine.py/archive/v0.6.1.tar.gz

Issue created by migration from https://trac.sagemath.org/ticket/29497





---

archive/issue_comments_414229.json:
```json
{
    "body": "Let me know if you run into any trouble.\n\nHere are some of the options I use in conda. https://github.com/conda-forge/symengine-feedstock/blob/master/recipe/build.sh#L6-L19. They should work fine for sage (except for WITH_LLVM=yes)\n\nDependencies: CMake, GMP/MPIR, MPFR, MPC, FLINT2, ARB",
    "created_at": "2020-04-12T02:11:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414229",
    "user": "https://github.com/isuruf"
}
```

Let me know if you run into any trouble.

Here are some of the options I use in conda. https://github.com/conda-forge/symengine-feedstock/blob/master/recipe/build.sh#L6-L19. They should work fine for sage (except for WITH_LLVM=yes)

Dependencies: CMake, GMP/MPIR, MPFR, MPC, FLINT2, ARB



---

archive/issue_comments_414230.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-04-12T07:35:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414230",
    "user": "https://github.com/videlec"
}
```

New commits:



---

archive/issue_comments_414231.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-04-12T07:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414231",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_414232.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-04-12T07:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414232",
    "user": "https://github.com/videlec"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_414233.json:
```json
{
    "body": "Please add upstream_url to checksums.ini and distros/ Information",
    "created_at": "2020-04-12T07:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414233",
    "user": "https://github.com/mkoeppe"
}
```

Please add upstream_url to checksums.ini and distros/ Information



---

archive/issue_comments_414234.json:
```json
{
    "body": "I intentionally did write upstream_url because the tarballs are from github with their tags as names.",
    "created_at": "2020-04-12T08:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414234",
    "user": "https://github.com/videlec"
}
```

I intentionally did write upstream_url because the tarballs are from github with their tags as names.



---

archive/issue_comments_414235.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-12T08:14:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414235",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414236.json:
```json
{
    "body": "(I wanted instead to use the tarball from PyPI for symengine.py but its name is `symengine-0.6.1.tar.gz` which collides with symengine tarballs)",
    "created_at": "2020-04-12T08:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414236",
    "user": "https://github.com/videlec"
}
```

(I wanted instead to use the tarball from PyPI for symengine.py but its name is `symengine-0.6.1.tar.gz` which collides with symengine tarballs)



---

archive/issue_comments_414237.json:
```json
{
    "body": "`symengine.py` needs cmake as well.",
    "created_at": "2020-04-12T12:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414237",
    "user": "https://github.com/isuruf"
}
```

`symengine.py` needs cmake as well.



---

archive/issue_comments_414238.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-12T12:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414238",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414239.json:
```json
{
    "body": "Replying to [comment:8 vdelecroix]:\n> (I wanted instead to use the tarball from PyPI for symengine.py but its name is `symengine-0.6.1.tar.gz` which collides with symengine tarballs)\nThe `upstream_url` code handles renaming just fine\n\n```diff\ndiff --git a/build/pkgs/symengine.py/checksums.ini b/build/pkgs/symengine.py/checksums.ini\nindex ea4c44b468..489d040bcc 100644\n--- a/build/pkgs/symengine.py/checksums.ini\n+++ b/build/pkgs/symengine.py/checksums.ini\n@@ -2,3 +2,4 @@ tarball=symengine.py-VERSION.tar.gz\n sha1=40df2b8f406b6ac4a86c83a82d31593b5738a470\n md5=52b035da7851414d74f3bde83b6c2976\n cksum=2829876300\n+upstream_url=https://github.com/symengine/symengine.py/archive/vVERSION.tar.gz\ndiff --git a/build/pkgs/symengine/checksums.ini b/build/pkgs/symengine/checksums.ini\nindex 8143c8eae5..b2651f694c 100644\n--- a/build/pkgs/symengine/checksums.ini\n+++ b/build/pkgs/symengine/checksums.ini\n@@ -2,3 +2,4 @@ tarball=symengine-VERSION.tar.gz\n sha1=abd7d39b1b724f47bcdc5b1d811cf33f2c413aea\n md5=3c0df2b14310467c6d45bc26a557324b\n cksum=100973134\n+upstream_url=https://github.com/symengine/symengine/archive/vVERSION.tar.gz\n```\n",
    "created_at": "2020-04-12T14:45:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414239",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:8 vdelecroix]:
> (I wanted instead to use the tarball from PyPI for symengine.py but its name is `symengine-0.6.1.tar.gz` which collides with symengine tarballs)
The `upstream_url` code handles renaming just fine

```diff
diff --git a/build/pkgs/symengine.py/checksums.ini b/build/pkgs/symengine.py/checksums.ini
index ea4c44b468..489d040bcc 100644
--- a/build/pkgs/symengine.py/checksums.ini
+++ b/build/pkgs/symengine.py/checksums.ini
@@ -2,3 +2,4 @@ tarball=symengine.py-VERSION.tar.gz
 sha1=40df2b8f406b6ac4a86c83a82d31593b5738a470
 md5=52b035da7851414d74f3bde83b6c2976
 cksum=2829876300
+upstream_url=https://github.com/symengine/symengine.py/archive/vVERSION.tar.gz
diff --git a/build/pkgs/symengine/checksums.ini b/build/pkgs/symengine/checksums.ini
index 8143c8eae5..b2651f694c 100644
--- a/build/pkgs/symengine/checksums.ini
+++ b/build/pkgs/symengine/checksums.ini
@@ -2,3 +2,4 @@ tarball=symengine-VERSION.tar.gz
 sha1=abd7d39b1b724f47bcdc5b1d811cf33f2c413aea
 md5=3c0df2b14310467c6d45bc26a557324b
 cksum=100973134
+upstream_url=https://github.com/symengine/symengine/archive/vVERSION.tar.gz
```




---

archive/issue_comments_414240.json:
```json
{
    "body": "Replying to [comment:12 mkoeppe]:\n> Replying to [comment:8 vdelecroix]:\n> > (I wanted instead to use the tarball from PyPI for symengine.py but its name is `symengine-0.6.1.tar.gz` which collides with symengine tarballs)\n> The `upstream_url` code handles renaming just fine\n\nWunderbar!",
    "created_at": "2020-04-12T14:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414240",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:12 mkoeppe]:
> Replying to [comment:8 vdelecroix]:
> > (I wanted instead to use the tarball from PyPI for symengine.py but its name is `symengine-0.6.1.tar.gz` which collides with symengine tarballs)
> The `upstream_url` code handles renaming just fine

Wunderbar!



---

archive/issue_comments_414241.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-12T14:53:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414241",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414242.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-12T15:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414242",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_414243.json:
```json
{
    "body": "Builds and tests OK on macOS with python3. Could you add a little bit to the ticket description please - what is it intended to be used for in Sage",
    "created_at": "2020-04-12T15:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414243",
    "user": "https://github.com/mkoeppe"
}
```

Builds and tests OK on macOS with python3. Could you add a little bit to the ticket description please - what is it intended to be used for in Sage



---

archive/issue_comments_414244.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-04-12T15:19:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414244",
    "user": "https://github.com/isuruf"
}
```

New commits:



---

archive/issue_comments_414245.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-04-12T15:19:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414245",
    "user": "https://github.com/isuruf"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_414246.json:
```json
{
    "body": "`'import symengine; symengine.test()'` uses pytest. Switched to nose",
    "created_at": "2020-04-12T15:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414246",
    "user": "https://github.com/isuruf"
}
```

`'import symengine; symengine.test()'` uses pytest. Switched to nose



---

archive/issue_comments_414247.json:
```json
{
    "body": "As tests are not run by default, I don't like this so much\n\n```diff\n-symengine $(PYTHON) | cmake pip setuptools\n+symengine $(PYTHON) | cmake pip setuptools nose\n```\n\n`@`Matthias: how do we solve that when tests depend on additional libraries? (same thing actually hapenning with numpy, rpy2, etc)",
    "created_at": "2020-04-12T15:29:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414247",
    "user": "https://github.com/videlec"
}
```

As tests are not run by default, I don't like this so much

```diff
-symengine $(PYTHON) | cmake pip setuptools
+symengine $(PYTHON) | cmake pip setuptools nose
```

`@`Matthias: how do we solve that when tests depend on additional libraries? (same thing actually hapenning with numpy, rpy2, etc)



---

archive/issue_comments_414248.json:
```json
{
    "body": "Something like this (untested)?\n\n```diff\n--- a/build/pkgs/symengine.py/dependencies\n+++ b/build/pkgs/symengine.py/dependencies\n@@ -1,4 +1,4 @@\n-symengine $(PYTHON) | cmake pip setuptools\n+symengine $(PYTHON) | cmake pip setuptools $(and $(filter-out no,$(SAGE_CHECK)), nose)\n \n ----------\n All lines of this file are ignored except the first.\ndiff --git a/src/bin/sage b/src/bin/sage\nindex 10acddcd96..2106102952 100755\n--- a/src/bin/sage\n+++ b/src/bin/sage\n@@ -359,6 +359,11 @@ if [ \"$1\" = '-i' ]; then\n                 echo >&2 \"Error: 'sage -i $OPT <package>' is no longer supported, use 'sage --info <package>' instead.\"\n                 exit 2;;\n             -f) FORCE_INSTALL=yes;;\n+            # Setting SAGE_CHECK here duplicates what we do in sage-spkg\n+            # but we need it in \"make\" already when there are (order-only)\n+            # dependencies on packages providing test infrastructure\n+            -c) INSTALL_OPTIONS=\"$INSTALL_OPTIONS $OPT\"; SAGE_CHECK=yes;;\n+            -w) INSTALL_OPTIONS=\"$INSTALL_OPTIONS $OPT\"; SAGE_CHECK=warn;;\n             -*) INSTALL_OPTIONS=\"$INSTALL_OPTIONS $OPT\";;\n             *) PACKAGES=\"$PACKAGES $OPT\";;\n         esac\n```\n",
    "created_at": "2020-04-12T16:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414248",
    "user": "https://github.com/mkoeppe"
}
```

Something like this (untested)?

```diff
--- a/build/pkgs/symengine.py/dependencies
+++ b/build/pkgs/symengine.py/dependencies
@@ -1,4 +1,4 @@
-symengine $(PYTHON) | cmake pip setuptools
+symengine $(PYTHON) | cmake pip setuptools $(and $(filter-out no,$(SAGE_CHECK)), nose)
 
 ----------
 All lines of this file are ignored except the first.
diff --git a/src/bin/sage b/src/bin/sage
index 10acddcd96..2106102952 100755
--- a/src/bin/sage
+++ b/src/bin/sage
@@ -359,6 +359,11 @@ if [ "$1" = '-i' ]; then
                 echo >&2 "Error: 'sage -i $OPT <package>' is no longer supported, use 'sage --info <package>' instead."
                 exit 2;;
             -f) FORCE_INSTALL=yes;;
+            # Setting SAGE_CHECK here duplicates what we do in sage-spkg
+            # but we need it in "make" already when there are (order-only)
+            # dependencies on packages providing test infrastructure
+            -c) INSTALL_OPTIONS="$INSTALL_OPTIONS $OPT"; SAGE_CHECK=yes;;
+            -w) INSTALL_OPTIONS="$INSTALL_OPTIONS $OPT"; SAGE_CHECK=warn;;
             -*) INSTALL_OPTIONS="$INSTALL_OPTIONS $OPT";;
             *) PACKAGES="$PACKAGES $OPT";;
         esac
```




---

archive/issue_comments_414249.json:
```json
{
    "body": "Forgot `export SAGE_CHECK` obviously",
    "created_at": "2020-04-12T16:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414249",
    "user": "https://github.com/mkoeppe"
}
```

Forgot `export SAGE_CHECK` obviously



---

archive/issue_comments_414250.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-04-13T14:45:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414250",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_414251.json:
```json
{
    "body": "The doctester does not like dot\n\n```\nTraceback (most recent call last):\n  File \"/opt/sage/src/bin/sage-runtests\", line 177, in <module>\n    DC = DocTestController(options, args)\n  File \"/opt/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 365, in __init__\n    raise ValueError('invalid optional tag {!r}'.format(o))\nValueError: invalid optional tag 'symengine.py'\n```\n",
    "created_at": "2020-04-13T14:45:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414251",
    "user": "https://github.com/videlec"
}
```

The doctester does not like dot

```
Traceback (most recent call last):
  File "/opt/sage/src/bin/sage-runtests", line 177, in <module>
    DC = DocTestController(options, args)
  File "/opt/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 365, in __init__
    raise ValueError('invalid optional tag {!r}'.format(o))
ValueError: invalid optional tag 'symengine.py'
```




---

archive/issue_comments_414252.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-05-14T08:43:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414252",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_414253.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-05-14T08:43:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414253",
    "user": "https://github.com/videlec"
}
```

New commits:



---

archive/issue_comments_414254.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-14T09:31:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414254",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414255.json:
```json
{
    "body": "`@`isuruf: I think this ticket is ready for inclusion. Next step is I believe to implement the conversion `Sage -> symengine` (which is not there, right?)",
    "created_at": "2020-05-14T09:34:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414255",
    "user": "https://github.com/videlec"
}
```

`@`isuruf: I think this ticket is ready for inclusion. Next step is I believe to implement the conversion `Sage -> symengine` (which is not there, right?)



---

archive/issue_comments_414256.json:
```json
{
    "body": "Changing keywords from \"\" to \"thursdaysbdx\".",
    "created_at": "2020-05-14T09:35:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414256",
    "user": "https://github.com/videlec"
}
```

Changing keywords from "" to "thursdaysbdx".



---

archive/issue_comments_414257.json:
```json
{
    "body": "Does sympy have to be configured specifically to use this package? Does the package have to be available at installation time of sympy?",
    "created_at": "2020-05-29T21:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414257",
    "user": "https://github.com/mkoeppe"
}
```

Does sympy have to be configured specifically to use this package? Does the package have to be available at installation time of sympy?



---

archive/issue_comments_414258.json:
```json
{
    "body": "symengine and sympy can interoperate without any configuration.\n\nThere's a feature in sympy enabled by the env variable `USE_SYMENGINE=1` at runtime which will make some modules of sympy use symengine as the core symbolic engine. This is still experimental work.",
    "created_at": "2020-05-29T22:15:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414258",
    "user": "https://github.com/isuruf"
}
```

symengine and sympy can interoperate without any configuration.

There's a feature in sympy enabled by the env variable `USE_SYMENGINE=1` at runtime which will make some modules of sympy use symengine as the core symbolic engine. This is still experimental work.



---

archive/issue_comments_414259.json:
```json
{
    "body": "`@`vdelecroix, thanks for this effort. Let us know what you need, we'll be happy to implement in `SymEngine`.",
    "created_at": "2020-05-29T22:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414259",
    "user": "https://github.com/certik"
}
```

`@`vdelecroix, thanks for this effort. Let us know what you need, we'll be happy to implement in `SymEngine`.



---

archive/issue_comments_414260.json:
```json
{
    "body": "\n```\n[symengine_py-0.6.1] Installing symengine_py-0.6.1\n[symengine_py-0.6.1] /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/bin/sage-pip-install requires . as final argument\n```\n",
    "created_at": "2020-05-29T22:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414260",
    "user": "https://github.com/mkoeppe"
}
```


```
[symengine_py-0.6.1] Installing symengine_py-0.6.1
[symengine_py-0.6.1] /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/bin/sage-pip-install requires . as final argument
```




---

archive/issue_comments_414261.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-05-29T22:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414261",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_414262.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-30T06:55:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414262",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414263.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-30T06:56:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414263",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414264.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-05-30T06:56:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414264",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_414265.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-01T19:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414265",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414266.json:
```json
{
    "body": "Tests running at https://github.com/mkoeppe/sage/actions/runs/121775190",
    "created_at": "2020-06-01T19:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414266",
    "user": "https://github.com/mkoeppe"
}
```

Tests running at https://github.com/mkoeppe/sage/actions/runs/121775190



---

archive/issue_comments_414267.json:
```json
{
    "body": "Changing keywords from \"thursdaysbdx\" to \"thursdaysbdx, sd109\".",
    "created_at": "2020-06-01T19:16:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414267",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "thursdaysbdx" to "thursdaysbdx, sd109".



---

archive/issue_comments_414268.json:
```json
{
    "body": "`symengine_py` build fails:\n\n```\n    running build_ext\n    error: error in command line: command 'BuildExtWithCmake' has no such option 'no_user_cfg'\n    Running setup.py install for symengine: finished with status 'error'\n```\n\n(see https://github.com/mkoeppe/sage/runs/728445828?check_suite_focus=true)",
    "created_at": "2020-06-02T19:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414268",
    "user": "https://github.com/mkoeppe"
}
```

`symengine_py` build fails:

```
    running build_ext
    error: error in command line: command 'BuildExtWithCmake' has no such option 'no_user_cfg'
    Running setup.py install for symengine: finished with status 'error'
```

(see https://github.com/mkoeppe/sage/runs/728445828?check_suite_focus=true)



---

archive/issue_comments_414269.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-06-02T19:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414269",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_414270.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-07-04T22:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414270",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_414271.json:
```json
{
    "body": "Rebased on 9.2.beta3",
    "created_at": "2020-07-04T22:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414271",
    "user": "https://github.com/mkoeppe"
}
```

Rebased on 9.2.beta3



---

archive/issue_comments_414272.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-04T23:41:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414272",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414273.json:
```json
{
    "body": "Tests run at https://github.com/mkoeppe/sage/actions/runs/157858355",
    "created_at": "2020-07-04T23:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414273",
    "user": "https://github.com/mkoeppe"
}
```

Tests run at https://github.com/mkoeppe/sage/actions/runs/157858355



---

archive/issue_comments_414274.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-07-04T23:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414274",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_414275.json:
```json
{
    "body": "Maybe\n\n```\n-upstream_url=https://github.com/symengine/symengine/releases/download/v0.6.0/symengine-VERSION.tar.gz\n+upstream_url=https://github.com/symengine/symengine/releases/download/vVERSION/symengine-VERSION.tar.gz\n```\n",
    "created_at": "2020-07-05T06:28:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414275",
    "user": "https://github.com/videlec"
}
```

Maybe

```
-upstream_url=https://github.com/symengine/symengine/releases/download/v0.6.0/symengine-VERSION.tar.gz
+upstream_url=https://github.com/symengine/symengine/releases/download/vVERSION/symengine-VERSION.tar.gz
```




---

archive/issue_comments_414276.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-05T07:27:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414276",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414277.json:
```json
{
    "body": "Replying to [comment:43 mkoeppe]:\n> Tests run at https://github.com/mkoeppe/sage/actions/runs/157858355\nThe docker-based tests didn't go through because they are broken in 9.2.beta3 (#30064 has the fix).\n\nBut the `cygwin-standard` build (https://github.com/mkoeppe/sage/runs/838016220) reveals a build problem:\n\n```\n[arb-2.16.0.p0] installing. Log file: /cygdrive/d/a/sage/sage/logs/pkgs/arb-2.16.0.p0.log\n[ecm-7.0.4.p1] installing. Log file: /cygdrive/d/a/sage/sage/logs/pkgs/ecm-7.0.4.p1.log\n  [ecm-7.0.4.p1] successfully installed.\n  [arb-2.16.0.p0] successfully installed.\nsage-logger -p 'sage-spkg -y -o  symengine-0.6.0' '/cygdrive/d/a/sage/sage/logs/pkgs/symengine-0.6.0.log'\n[symengine-0.6.0] installing. Log file: /cygdrive/d/a/sage/sage/logs/pkgs/symengine-0.6.0.log\n  [symengine-0.6.0] error installing, exit status 1. End of log file:\n  [symengine-0.6.0]   -- Check size of long double\n  [symengine-0.6.0]   -- Check size of long double - done\n  [symengine-0.6.0]   -- Found GMP: /usr/lib/libgmp.dll.a  \n  [symengine-0.6.0]   -- Found ECM: /cygdrive/d/a/sage/sage/local/lib/libecm.dll.a  \n  [symengine-0.6.0]   -- Found FLINT: /usr/lib/libflint.dll.a  \n  [symengine-0.6.0]   CMake Error at /usr/share/cmake-3.14.5/Modules/FindPackageHandleStandardArgs.cmake:137 (message):\n  [symengine-0.6.0]     Could NOT find ARB (missing: ARB_LIBRARIES)\n  [symengine-0.6.0]   Call Stack (most recent call first):\n  [symengine-0.6.0]     /usr/share/cmake-3.14.5/Modules/FindPackageHandleStandardArgs.cmake:378 (_FPHSA_FAILURE_MESSAGE)\n  [symengine-0.6.0]     cmake/FindARB.cmake:11 (find_package_handle_standard_args)\n  [symengine-0.6.0]     CMakeLists.txt:336 (find_package)\n  [symengine-0.6.0]   \n  [symengine-0.6.0]   \n  [symengine-0.6.0]   -- Configuring incomplete, errors occurred!\n```\n",
    "created_at": "2020-07-05T16:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414277",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:43 mkoeppe]:
> Tests run at https://github.com/mkoeppe/sage/actions/runs/157858355
The docker-based tests didn't go through because they are broken in 9.2.beta3 (#30064 has the fix).

But the `cygwin-standard` build (https://github.com/mkoeppe/sage/runs/838016220) reveals a build problem:

```
[arb-2.16.0.p0] installing. Log file: /cygdrive/d/a/sage/sage/logs/pkgs/arb-2.16.0.p0.log
[ecm-7.0.4.p1] installing. Log file: /cygdrive/d/a/sage/sage/logs/pkgs/ecm-7.0.4.p1.log
  [ecm-7.0.4.p1] successfully installed.
  [arb-2.16.0.p0] successfully installed.
sage-logger -p 'sage-spkg -y -o  symengine-0.6.0' '/cygdrive/d/a/sage/sage/logs/pkgs/symengine-0.6.0.log'
[symengine-0.6.0] installing. Log file: /cygdrive/d/a/sage/sage/logs/pkgs/symengine-0.6.0.log
  [symengine-0.6.0] error installing, exit status 1. End of log file:
  [symengine-0.6.0]   -- Check size of long double
  [symengine-0.6.0]   -- Check size of long double - done
  [symengine-0.6.0]   -- Found GMP: /usr/lib/libgmp.dll.a  
  [symengine-0.6.0]   -- Found ECM: /cygdrive/d/a/sage/sage/local/lib/libecm.dll.a  
  [symengine-0.6.0]   -- Found FLINT: /usr/lib/libflint.dll.a  
  [symengine-0.6.0]   CMake Error at /usr/share/cmake-3.14.5/Modules/FindPackageHandleStandardArgs.cmake:137 (message):
  [symengine-0.6.0]     Could NOT find ARB (missing: ARB_LIBRARIES)
  [symengine-0.6.0]   Call Stack (most recent call first):
  [symengine-0.6.0]     /usr/share/cmake-3.14.5/Modules/FindPackageHandleStandardArgs.cmake:378 (_FPHSA_FAILURE_MESSAGE)
  [symengine-0.6.0]     cmake/FindARB.cmake:11 (find_package_handle_standard_args)
  [symengine-0.6.0]     CMakeLists.txt:336 (find_package)
  [symengine-0.6.0]   
  [symengine-0.6.0]   
  [symengine-0.6.0]   -- Configuring incomplete, errors occurred!
```




---

archive/issue_comments_414278.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-07-05T17:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414278",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_414279.json:
```json
{
    "body": "This is an issue with arb not installing the import library on windows. https://github.com/fredrik-johansson/arb/pull/315 should fix it",
    "created_at": "2020-07-05T18:00:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414279",
    "user": "https://github.com/isuruf"
}
```

This is an issue with arb not installing the import library on windows. https://github.com/fredrik-johansson/arb/pull/315 should fix it



---

archive/issue_comments_414280.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-05T18:36:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414280",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414281.json:
```json
{
    "body": "Replying to [comment:49 isuruf]:\n> This is an issue with arb not installing the import library on windows. https://github.com/fredrik-johansson/arb/pull/315 should fix it\n\nIt's marked as a draft - should we be testing it here on the ticket?",
    "created_at": "2020-07-11T22:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414281",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:49 isuruf]:
> This is an issue with arb not installing the import library on windows. https://github.com/fredrik-johansson/arb/pull/315 should fix it

It's marked as a draft - should we be testing it here on the ticket?



---

archive/issue_comments_414282.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-11T22:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414283.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-11T22:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414283",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414284.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-12T05:13:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414284",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414285.json:
```json
{
    "body": "Replying to [comment:31 certik]:\n> `@`vdelecroix, thanks for this effort. Let us know what you need, we'll be happy to implement in `SymEngine`.\n\nHow about Documentation? :-)",
    "created_at": "2021-01-18T17:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414285",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:31 certik]:
> `@`vdelecroix, thanks for this effort. Let us know what you need, we'll be happy to implement in `SymEngine`.

How about Documentation? :-)



---

archive/issue_comments_414286.json:
```json
{
    "body": "`@`dimpase: What kind of documentation would help? I'm also interested in pushing this along!",
    "created_at": "2021-01-19T12:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414286",
    "user": "https://github.com/bollu"
}
```

`@`dimpase: What kind of documentation would help? I'm also interested in pushing this along!



---

archive/issue_comments_414287.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-01-20T00:29:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414287",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_414288.json:
```json
{
    "body": "Rebased on current develop",
    "created_at": "2021-01-20T00:29:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414288",
    "user": "https://github.com/mkoeppe"
}
```

Rebased on current develop



---

archive/issue_comments_414289.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-01-20T00:54:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414289",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414290.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-01-20T01:06:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414290",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_414291.json:
```json
{
    "body": "I've updated the package metadata. Ready for review.",
    "created_at": "2021-01-20T01:06:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414291",
    "user": "https://github.com/mkoeppe"
}
```

I've updated the package metadata. Ready for review.



---

archive/issue_comments_414292.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-02-17T15:15:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414292",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_414293.json:
```json
{
    "body": "Install worked fine and tests pass! Time to move forward.",
    "created_at": "2021-02-17T15:15:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414293",
    "user": "https://github.com/videlec"
}
```

Install worked fine and tests pass! Time to move forward.



---

archive/issue_comments_414294.json:
```json
{
    "body": "Great, thanks.",
    "created_at": "2021-02-17T15:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414294",
    "user": "https://github.com/mkoeppe"
}
```

Great, thanks.



---

archive/issue_comments_414295.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-03-01T00:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29260#issuecomment-414295",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_027038.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-03-01T00:20:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29260",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29260#event-27038"
}
```
