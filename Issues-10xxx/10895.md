# Issue 10895: add qitensor spkg (tensors for quantum information)

archive/issues_010823.json:
```json
{
    "body": "I've worked up a python module and an associated spkg that basically wraps numpy in a way that makes it useful for doing finite-dimensional quantum mechanics over several particles.  In particular, this should be useful for quantum information.  The features that are currently available more or less reflect what I have needed in order to do the things that I am currently working on.  More information is available on the project's web page, linked below.\n\nThe module is available from:\n[http://www.stahlke.org/dan/qitensor/](http://www.stahlke.org/dan/qitensor/)\n\nThis package works in python and in Sage.  In Sage it is possible to create arrays (or tensors if you wish to call it that) over SR (or in fact any commutative ring).\n\nThe git repo contains both the python and the spkg sources and is the \"main\" source.  The tarballs and spkg are built from that.\n\n\nAssignee: tbd\n\nCC:  @haraldschilly @kiwifb @jasongrout\n\nKeywords: quantum spkg tensor sd35.5\n\nAuthor: Dan Stahlke\n\nReviewer: Paul Zimmermann\n\nWork_Issues: various issues to fix\n\nIssue created by migration from https://trac.sagemath.org/ticket/10895\n\n",
    "created_at": "2011-03-09T20:14:59Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-wishlist",
    "title": "add qitensor spkg (tensors for quantum information)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10895",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```
I've worked up a python module and an associated spkg that basically wraps numpy in a way that makes it useful for doing finite-dimensional quantum mechanics over several particles.  In particular, this should be useful for quantum information.  The features that are currently available more or less reflect what I have needed in order to do the things that I am currently working on.  More information is available on the project's web page, linked below.

The module is available from:
[http://www.stahlke.org/dan/qitensor/](http://www.stahlke.org/dan/qitensor/)

This package works in python and in Sage.  In Sage it is possible to create arrays (or tensors if you wish to call it that) over SR (or in fact any commutative ring).

The git repo contains both the python and the spkg sources and is the "main" source.  The tarballs and spkg are built from that.


Assignee: tbd

CC:  @haraldschilly @kiwifb @jasongrout

Keywords: quantum spkg tensor sd35.5

Author: Dan Stahlke

Reviewer: Paul Zimmermann

Work_Issues: various issues to fix

Issue created by migration from https://trac.sagemath.org/ticket/10895





---

archive/issue_comments_114425.json:
```json
{
    "body": "Attachment [qitensor-0.1.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.1.spkg) by dstahlke created at 2011-03-09 20:15:35\n\nspkg",
    "created_at": "2011-03-09T20:15:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114425",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

Attachment [qitensor-0.1.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.1.spkg) by dstahlke created at 2011-03-09 20:15:35

spkg



---

archive/issue_comments_114426.json:
```json
{
    "body": "newer version",
    "created_at": "2011-03-12T00:52:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114426",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

newer version



---

archive/issue_comments_114427.json:
```json
{
    "body": "Attachment [qitensor-0.3.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.3.spkg) by dstahlke created at 2011-03-27 16:31:52\n\nnew version",
    "created_at": "2011-03-27T16:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114427",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

Attachment [qitensor-0.3.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.3.spkg) by dstahlke created at 2011-03-27 16:31:52

new version



---

archive/issue_comments_114428.json:
```json
{
    "body": "Attachment [qitensor-0.5.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.5.spkg) by dstahlke created at 2011-04-03 21:05:03\n\nupdated spkg",
    "created_at": "2011-04-03T21:05:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114428",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

Attachment [qitensor-0.5.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.5.spkg) by dstahlke created at 2011-04-03 21:05:03

updated spkg



---

archive/issue_comments_114429.json:
```json
{
    "body": "Attachment [qitensor-0.6.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.6.spkg) by dstahlke created at 2011-05-21 15:58:59\n\nnew version",
    "created_at": "2011-05-21T15:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114429",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

Attachment [qitensor-0.6.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.6.spkg) by dstahlke created at 2011-05-21 15:58:59

new version



---

archive/issue_comments_114430.json:
```json
{
    "body": "Attachment [qitensor-0.7.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.7.spkg) by dstahlke created at 2011-08-10 02:56:08\n\nnew version",
    "created_at": "2011-08-10T02:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114430",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

Attachment [qitensor-0.7.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.7.spkg) by dstahlke created at 2011-08-10 02:56:08

new version



---

archive/issue_comments_114431.json:
```json
{
    "body": "new version",
    "created_at": "2011-12-01T16:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114431",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

new version



---

archive/issue_comments_114432.json:
```json
{
    "body": "<a id='comment:2'></a>Attachment [qitensor-0.8.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.8.spkg) by @jasongrout created at 2011-12-13 21:11:16",
    "created_at": "2011-12-13T21:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114432",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:2'></a>Attachment [qitensor-0.8.spkg](tarball://root/attachments/some-uuid/ticket10895/qitensor-0.8.spkg) by @jasongrout created at 2011-12-13 21:11:16



---

archive/issue_comments_114433.json:
```json
{
    "body": "<a id='comment:3'></a>Are you wanting this to be an optional spkg for Sage?  Is it ready to be reviewed? (If so, then change the ticket status to needs_review.)  Or would you work on the package more before going through the review process?",
    "created_at": "2011-12-13T21:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114433",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:3'></a>Are you wanting this to be an optional spkg for Sage?  Is it ready to be reviewed? (If so, then change the ticket status to needs_review.)  Or would you work on the package more before going through the review process?



---

archive/issue_comments_114434.json:
```json
{
    "body": "<a id='comment:4'></a>Yes, it is ready for review.  I have been posting new versions here as I've been adding features, but I believe it to be bug-free and in a usable state.  I envision this as an optional package since probably few users of Sage are working in the field of quantum information.  Also, it can be used independently of Sage and for that reason perhaps is best not being a built-in package (although I don't know the official criteria for built-in vs. optional).",
    "created_at": "2011-12-14T00:03:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114434",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

<a id='comment:4'></a>Yes, it is ready for review.  I have been posting new versions here as I've been adding features, but I believe it to be bug-free and in a usable state.  I envision this as an optional package since probably few users of Sage are working in the field of quantum information.  Also, it can be used independently of Sage and for that reason perhaps is best not being a built-in package (although I don't know the official criteria for built-in vs. optional).



---

archive/issue_comments_114435.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-12-14T00:03:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114435",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_114436.json:
```json
{
    "body": "<a id='comment:6'></a>I installed successfully the package (0.8) on top of sage-4.8.alpha6. However the documentation of\n`qubit` says:\n\n```\n...\n       See also: \"qudit()\", \"indexed_space()\"\n```\nbut:\n\n```\nsage: qudit()\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n\n/tmp/sage-4.8.alpha6/<ipython console> in <module>()\n\nNameError: name 'qudit' is not defined\nsage: indexed_space()\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n\n/tmp/sage-4.8.alpha6/<ipython console> in <module>()\n\nNameError: name 'indexed_space' is not defined\n```\nPaul Zimmermann",
    "created_at": "2012-01-10T12:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114436",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:6'></a>I installed successfully the package (0.8) on top of sage-4.8.alpha6. However the documentation of
`qubit` says:

```
...
       See also: "qudit()", "indexed_space()"
```
but:

```
sage: qudit()
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)

/tmp/sage-4.8.alpha6/<ipython console> in <module>()

NameError: name 'qudit' is not defined
sage: indexed_space()
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)

/tmp/sage-4.8.alpha6/<ipython console> in <module>()

NameError: name 'indexed_space' is not defined
```
Paul Zimmermann



---

archive/issue_comments_114437.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-01-10T12:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114437",
    "user": "https://github.com/zimmermann6"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_114438.json:
```json
{
    "body": "Changing keywords from \"quantum spkg tensor\" to \"quantum spkg tensor sd35.5\".",
    "created_at": "2012-01-10T12:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114438",
    "user": "https://github.com/zimmermann6"
}
```

Changing keywords from "quantum spkg tensor" to "quantum spkg tensor sd35.5".



---

archive/issue_comments_114439.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-01-10T14:56:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114439",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_114440.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 zimmerma]:\n> sage: qudit()\n> \n> ---\n> NameError                                 Traceback (most recent call last)\n> \n> /tmp/sage-4.8.alpha6/<ipython console> in <module>()\n> \n> NameError: name 'qudit' is not defined\n\n\nPaul,\n\nYou need to first do \"from qitensor import *\".  If the spkg is supposed to import itself automatically, then I don't know how to make that happen (and can't see anything about that in the sage documentation).  On my box the qudit() function works if I first import:\n\n\n\n```\nsage: from qitensor import *\nsage: qudit()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/home/dstahlke/<ipython console> in <module>()\n\nTypeError: qudit() takes at least 2 arguments (0 given)\n\n```\n\n- Dan",
    "created_at": "2012-01-10T14:56:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114440",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

<a id='comment:7'></a>Replying to [comment:6 zimmerma]:
> sage: qudit()
> 
> ---
> NameError                                 Traceback (most recent call last)
> 
> /tmp/sage-4.8.alpha6/<ipython console> in <module>()
> 
> NameError: name 'qudit' is not defined


Paul,

You need to first do "from qitensor import *".  If the spkg is supposed to import itself automatically, then I don't know how to make that happen (and can't see anything about that in the sage documentation).  On my box the qudit() function works if I first import:



```
sage: from qitensor import *
sage: qudit()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/home/dstahlke/<ipython console> in <module>()

TypeError: qudit() takes at least 2 arguments (0 given)

```

- Dan



---

archive/issue_comments_114441.json:
```json
{
    "body": "<a id='comment:8'></a>thanks Dan. A few comments:\n\n* the SPKG.txt file only mentions version 0.1, not version 0.8\n\n* the documentation on http://www.stahlke.org/dan/qitensor/doc/index.html is for Python, not for\n  Sage. In particular the output we get from Sage is different, for example:\n\n```\nsage: from qitensor import qubit\nsage: ha = qubit('a')\nsage: hb = qubit('b')\nsage: (ha * hb).array()\n[0]\n[0]\n[-]\n[0]\n[0]\n```\nwhich differs from the first example in\nhttp://www.stahlke.org/dan/qitensor/doc/examples/slices.html\n|a,b>\n* you have added a 3rd item (c) in the original 2-clause BSD license, with the consequence that\n  it is no longer a 2-clause BSD license. Please fix that.\n\n* I tried the tests and some of them failed (with sage-4.8.alpha6):\n\n```\nThe following tests failed:\n        sage -t  \"qitensor-0.8/src/qitensor/array.py\"\n        sage -t  \"qitensor-0.8/src/qitensor/atom.py\"\n        sage -t  \"qitensor-0.8/src/qitensor/circuit.py\"\n        sage -t  \"qitensor-0.8/src/qitensor/space.py\"\nTotal time for all tests: 38.5 seconds\n```\n\n* finally some documentation and doctests are missing (here for `circuit.py`):\n\n```\ntiramisu% ../../../sage -coverage circuit.py\n----------------------------------------------------------------------\ncircuit.py\nSCORE circuit.py: 0% (0 of 3)\n\nMissing doctests:\n         * cphase(h1, h2):\n         * cnot(h1, h2):\n         * max_entangled(h1, h2):\n```\n\nPaul Zimmermann",
    "created_at": "2012-01-11T12:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114441",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:8'></a>thanks Dan. A few comments:

* the SPKG.txt file only mentions version 0.1, not version 0.8

* the documentation on http://www.stahlke.org/dan/qitensor/doc/index.html is for Python, not for
  Sage. In particular the output we get from Sage is different, for example:

```
sage: from qitensor import qubit
sage: ha = qubit('a')
sage: hb = qubit('b')
sage: (ha * hb).array()
[0]
[0]
[-]
[0]
[0]
```
which differs from the first example in
http://www.stahlke.org/dan/qitensor/doc/examples/slices.html
|a,b>
* you have added a 3rd item (c) in the original 2-clause BSD license, with the consequence that
  it is no longer a 2-clause BSD license. Please fix that.

* I tried the tests and some of them failed (with sage-4.8.alpha6):

```
The following tests failed:
        sage -t  "qitensor-0.8/src/qitensor/array.py"
        sage -t  "qitensor-0.8/src/qitensor/atom.py"
        sage -t  "qitensor-0.8/src/qitensor/circuit.py"
        sage -t  "qitensor-0.8/src/qitensor/space.py"
Total time for all tests: 38.5 seconds
```

* finally some documentation and doctests are missing (here for `circuit.py`):

```
tiramisu% ../../../sage -coverage circuit.py
----------------------------------------------------------------------
circuit.py
SCORE circuit.py: 0% (0 of 3)

Missing doctests:
         * cphase(h1, h2):
         * cnot(h1, h2):
         * max_entangled(h1, h2):
```

Paul Zimmermann



---

archive/issue_comments_114442.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-01-11T12:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114442",
    "user": "https://github.com/zimmermann6"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_114443.json:
```json
{
    "body": "<a id='comment:9'></a>Paul,\n\nMost of the issues you raise are due to qitensor using Sage's matrix display function in Sage and numpy's display function when in python.  This causes the doctest results to be different.  I suppose the solution would be to either always use numpy's display function (which isn't as nice) or to write my own display function.  I'll have to think this over, feel free to make suggestions.\n\nThe other items you list are easy to fix and I'll get on that as soon as I have some free time.\n\nThanks,\nDan",
    "created_at": "2012-01-11T20:56:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114443",
    "user": "https://trac.sagemath.org/admin/accounts/users/dstahlke"
}
```

<a id='comment:9'></a>Paul,

Most of the issues you raise are due to qitensor using Sage's matrix display function in Sage and numpy's display function when in python.  This causes the doctest results to be different.  I suppose the solution would be to either always use numpy's display function (which isn't as nice) or to write my own display function.  I'll have to think this over, feel free to make suggestions.

The other items you list are easy to fix and I'll get on that as soon as I have some free time.

Thanks,
Dan



---

archive/issue_comments_114444.json:
```json
{
    "body": "<a id='comment:10'></a>Setting spkg proposals that have not seen recent activity to \"sage-wishlist\".",
    "created_at": "2020-06-19T18:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114444",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>Setting spkg proposals that have not seen recent activity to "sage-wishlist".



---

archive/issue_comments_114445.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2020-06-19T18:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10895#issuecomment-114445",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_events_028215.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-19T18:16:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10895",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10895#event-28215"
}
```
