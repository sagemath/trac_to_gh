# Issue 10007: Enable deriving subclasses from FreeModule and FreeModuleElement

archive/issues_010006.json:
```json
{
    "body": "Assignee: @aghitza\n\nCC:  sage-combinat\n\nWhen building a new parent P which has a structure of module, one can\ncurrently can derive from CombinatorialFreeModule. It would be very\nvery good, when mathematically appropriate to be able to derive\ninstead from FreeModule, in order to benefit from its efficiency and\nmany functionalities.\n\nThis is currently not possible, because arithmetic creates new\nelements whose class is FreeModuleElement_* instead of the derived\nclass for the elements of P (the parent remains P as desired):\n\n```\nsage: class Bla_parent(sage.modules.free_module.FreeModule_generic):\n....:         class Element(sage.modules.free_module_element.FreeModuleElement_generic_dense):\n....:             pass\n....: \nsage: F = Bla_parent(QQ,6,6)\nsage: F\n<class '__main__.Bla_parent_with_category'>\nsage: p = F.Element(F,(1,2,3,4,5,6))\nsage: p\n(1, 2, 3, 4, 5, 6)\nsage: p.__class__\n<class '__main__.Element'>\nsage: (p+p).__class__\n<type 'sage.modules.free_module_element.FreeModuleElement_generic_dense'>\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/10007\n\n",
    "closed_at": "2017-12-12T08:23:33Z",
    "created_at": "2010-09-24T20:27:25Z",
    "labels": [
        "component: algebra",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Enable deriving subclasses from FreeModule and FreeModuleElement",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10007",
    "user": "https://trac.sagemath.org/admin/accounts/users/nborie"
}
```
Assignee: @aghitza

CC:  sage-combinat

When building a new parent P which has a structure of module, one can
currently can derive from CombinatorialFreeModule. It would be very
very good, when mathematically appropriate to be able to derive
instead from FreeModule, in order to benefit from its efficiency and
many functionalities.

This is currently not possible, because arithmetic creates new
elements whose class is FreeModuleElement_* instead of the derived
class for the elements of P (the parent remains P as desired):

```
sage: class Bla_parent(sage.modules.free_module.FreeModule_generic):
....:         class Element(sage.modules.free_module_element.FreeModuleElement_generic_dense):
....:             pass
....: 
sage: F = Bla_parent(QQ,6,6)
sage: F
<class '__main__.Bla_parent_with_category'>
sage: p = F.Element(F,(1,2,3,4,5,6))
sage: p
(1, 2, 3, 4, 5, 6)
sage: p.__class__
<class '__main__.Element'>
sage: (p+p).__class__
<type 'sage.modules.free_module_element.FreeModuleElement_generic_dense'>
```


Issue created by migration from https://trac.sagemath.org/ticket/10007





---

archive/issue_events_025374.json:
```json
{
    "actor": "https://github.com/simonbrandhorst",
    "created_at": "2017-10-06T07:08:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10007",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10007#event-25374"
}
```



---

archive/issue_comments_100370.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-10-06T07:08:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10007#issuecomment-100370",
    "user": "https://github.com/simonbrandhorst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_100371.json:
```json
{
    "body": "This is long fixed. Probably due to the new coercion system.\nI derived a subclass of FreeModule. See #23634. Please close.",
    "created_at": "2017-10-06T07:08:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10007#issuecomment-100371",
    "user": "https://github.com/simonbrandhorst"
}
```

This is long fixed. Probably due to the new coercion system.
I derived a subclass of FreeModule. See #23634. Please close.



---

archive/issue_comments_100372.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-09T04:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10007#issuecomment-100372",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_100373.json:
```json
{
    "body": "No, this not a coercion problem, but related to the `_new_c` function and fixed by #17583.",
    "created_at": "2017-10-09T04:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10007#issuecomment-100373",
    "user": "https://github.com/tscrim"
}
```

No, this not a coercion problem, but related to the `_new_c` function and fixed by #17583.



---

archive/issue_events_025375.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-12-12T08:23:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10007",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10007#event-25375"
}
```



---

archive/issue_comments_100374.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2017-12-12T08:23:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10007#issuecomment-100374",
    "user": "https://github.com/embray"
}
```

Resolution: wontfix
