# Issue 10594: Upgrade Mercurial to 1.8.x

archive/issues_010541.json:
```json
{
    "assignees": [],
    "body": "Upgrade the Mercurial spkg to 1.8.4 (probably the final 1.8.x release).\n\n**spkg:** [http://sage.math.washington.edu/home/keshav/files/mercurial-1.8.4.spkg](http://sage.math.washington.edu/home/keshav/files/mercurial-1.8.4.spkg)\n\nCC:  @jasongrout @williamstein @nexttime\n\nKeywords: **mercurial upgrade sd31**\n\nAuthor: **Ryan Grout, Keshav Kini**\n\nReviewer: **Dan Drake, Ryan Grout, John Palmieri**\n\nMerged: **sage-4.7.2.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10594_\n\n",
    "closed_at": "2011-07-22T12:49:26Z",
    "created_at": "2011-01-11T22:29:44Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade Mercurial to 1.8.x",
    "type": "issue",
    "updated_at": "2011-11-19T22:09:49Z",
    "url": "https://github.com/sagemath/sage/issues/10594",
    "user": "https://github.com/sagetrac-ryan"
}
```
Upgrade the Mercurial spkg to 1.8.4 (probably the final 1.8.x release).

**spkg:** [http://sage.math.washington.edu/home/keshav/files/mercurial-1.8.4.spkg](http://sage.math.washington.edu/home/keshav/files/mercurial-1.8.4.spkg)

CC:  @jasongrout @williamstein @nexttime

Keywords: **mercurial upgrade sd31**

Author: **Ryan Grout, Keshav Kini**

Reviewer: **Dan Drake, Ryan Grout, John Palmieri**

Merged: **sage-4.7.2.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/10594_





---

archive/issue_events_123069.json:
```json
{
    "actor": "https://github.com/sagetrac-ryan",
    "created_at": "2011-01-11T22:29:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123069"
}
```



---

archive/issue_events_123070.json:
```json
{
    "actor": "https://github.com/sagetrac-ryan",
    "created_at": "2011-01-11T22:29:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123070"
}
```



---

archive/issue_events_123071.json:
```json
{
    "actor": "https://github.com/sagetrac-ryan",
    "created_at": "2011-01-11T22:29:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123071"
}
```



---

archive/issue_events_123072.json:
```json
{
    "actor": "https://github.com/sagetrac-ryan",
    "created_at": "2011-01-11T22:30:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123072"
}
```



---

archive/issue_events_123073.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2011-01-12T00:21:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123073"
}
```



---

archive/issue_events_123074.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2011-01-12T00:21:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123074"
}
```



---

archive/issue_comments_103166.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nit seems to work for me, but how does one really test it?",
    "created_at": "2011-01-12T00:21:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103166",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'>Comment 3:</a>
it seems to work for me, but how does one really test it?



---

archive/issue_comments_103167.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [@dimpase](#comment%3A3):\n> it seems to work for me, but how does one really test it?\n\nIn a Sage shell (\"sage -sh\"), unpack the spkg and go into the `src` directory. There, you can build the package (just do `make all`) and then run Mercurial's built-in tests: `make tests`.\n\nInterestingly, on a regular Ubuntu machine (on which Mercurial works perfectly fine) some of the tests don't pass; it seems like their tests want to have the `unzip` utility available.\n\nThe .spkg installs fine in Linux, and on t2.math. I'm going to take a look at OS X. Mercurial is very well tested and cross-platform, so I would be very surprised if we have any problems.",
    "created_at": "2011-01-19T07:02:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103167",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [@dimpase](#comment%3A3):
> it seems to work for me, but how does one really test it?

In a Sage shell ("sage -sh"), unpack the spkg and go into the `src` directory. There, you can build the package (just do `make all`) and then run Mercurial's built-in tests: `make tests`.

Interestingly, on a regular Ubuntu machine (on which Mercurial works perfectly fine) some of the tests don't pass; it seems like their tests want to have the `unzip` utility available.

The .spkg installs fine in Linux, and on t2.math. I'm going to take a look at OS X. Mercurial is very well tested and cross-platform, so I would be very surprised if we have any problems.



---

archive/issue_events_123075.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2011-01-19T07:03:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123075"
}
```



---

archive/issue_events_123076.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2011-01-19T07:03:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123076"
}
```



---

archive/issue_comments_103168.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@dandrake](#comment%3A4):\n> Replying to [@dimpase](#comment%3A3):\n> > it seems to work for me, but how does one really test it?\n\n> \n> In a Sage shell (\"sage -sh\"), unpack the spkg and go into the `src` directory. There, you can build the package (just do `make all`) and then run Mercurial's built-in tests: `make tests`.\n> \n> Interestingly, on a regular Ubuntu machine (on which Mercurial works perfectly fine) some of the tests don't pass; it seems like their tests want to have the `unzip` utility available.\n> \n> The .spkg installs fine in Linux, and on t2.math. I'm going to take a look at OS X. Mercurial is very well tested and cross-platform, so I would be very surprised if we have any problems.\n\none should at least test that the combinat stuff works. This is one of the most immediate and tricky uses of hg in Sage.",
    "created_at": "2011-01-19T09:02:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103168",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@dandrake](#comment%3A4):
> Replying to [@dimpase](#comment%3A3):
> > it seems to work for me, but how does one really test it?

> 
> In a Sage shell ("sage -sh"), unpack the spkg and go into the `src` directory. There, you can build the package (just do `make all`) and then run Mercurial's built-in tests: `make tests`.
> 
> Interestingly, on a regular Ubuntu machine (on which Mercurial works perfectly fine) some of the tests don't pass; it seems like their tests want to have the `unzip` utility available.
> 
> The .spkg installs fine in Linux, and on t2.math. I'm going to take a look at OS X. Mercurial is very well tested and cross-platform, so I would be very surprised if we have any problems.

one should at least test that the combinat stuff works. This is one of the most immediate and tricky uses of hg in Sage.



---

archive/issue_comments_103169.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nThe spkg builds and installs on t2.math and bsd.math. I ran tests on those two machines and on an Ubuntu machine, and I got some failures on all three...but the failures seem to be the same as what we got with 1.6.4.\n\nI tried the combinat patch queue, and it works the same as it does in 4.6.1.rc1 with Mercurial 1.6.4. The [upgrade notes](http://mercurial.selenic.com/wiki/UpgradeNotes) don't mention anything that affects our use of Mercurial, so positive review.",
    "created_at": "2011-01-20T02:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103169",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:7'>Comment 7:</a>
The spkg builds and installs on t2.math and bsd.math. I ran tests on those two machines and on an Ubuntu machine, and I got some failures on all three...but the failures seem to be the same as what we got with 1.6.4.

I tried the combinat patch queue, and it works the same as it does in 4.6.1.rc1 with Mercurial 1.6.4. The [upgrade notes](http://mercurial.selenic.com/wiki/UpgradeNotes) don't mention anything that affects our use of Mercurial, so positive review.



---

archive/issue_events_123077.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2011-01-20T02:02:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123077"
}
```



---

archive/issue_events_123078.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2011-01-20T02:02:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123078"
}
```



---

archive/issue_comments_103170.json:
```json
{
    "body": "Reviewer: **Dan Drake**",
    "created_at": "2011-01-22T20:13:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103170",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Dan Drake**



---

archive/issue_comments_103171.json:
```json
{
    "body": "Merged: **sage-4.6.2.alpha2**",
    "created_at": "2011-01-25T08:16:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103171",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.6.2.alpha2**



---

archive/issue_events_123079.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-25T08:16:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123079"
}
```



---

archive/issue_events_123080.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-25T08:16:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123080"
}
```



---

archive/issue_comments_103172.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nAfter some issues on #9433, I wonder if this should be reopened.  There are some incompatibilities between Mercurial 1.7.3 and earlier versions; see [this web page](http://mercurial.selenic.com/wiki/UpgradingMercurial#Upgrading_and_downgrading_repository_formats).  I think the issues is this: \n\n- any new repositories created with 1.7.3 (without including a flag like `--config format.dotencode=False`) will not be usable by versions before 1.7.\n\nI think a reasonable argument could be made for merging 1.7.3 anyway: when dealing with Sage, it's not a huge requirement to ask people to use the Mercurial distributed with Sage instead of some older version installed elsewhere on their machine.\n\nBut perhaps a reasonable argument could be made on the other side: why create repositories which can't be read by Mercurial 1.6.4 or earlier?  Should we back out 1.7.3 altogether?\n\nWe could also keep 1.7.3 but require all repos to be created with the flag `--config format.dotencode=False`.  I personally think that this is unwieldy.\n\nAny opinions?",
    "created_at": "2011-02-18T19:47:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103172",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:10'>Comment 10:</a>
After some issues on #9433, I wonder if this should be reopened.  There are some incompatibilities between Mercurial 1.7.3 and earlier versions; see [this web page](http://mercurial.selenic.com/wiki/UpgradingMercurial#Upgrading_and_downgrading_repository_formats).  I think the issues is this: 

- any new repositories created with 1.7.3 (without including a flag like `--config format.dotencode=False`) will not be usable by versions before 1.7.

I think a reasonable argument could be made for merging 1.7.3 anyway: when dealing with Sage, it's not a huge requirement to ask people to use the Mercurial distributed with Sage instead of some older version installed elsewhere on their machine.

But perhaps a reasonable argument could be made on the other side: why create repositories which can't be read by Mercurial 1.6.4 or earlier?  Should we back out 1.7.3 altogether?

We could also keep 1.7.3 but require all repos to be created with the flag `--config format.dotencode=False`.  I personally think that this is unwieldy.

Any opinions?



---

archive/issue_comments_103173.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nJust to reiterate my point from #9433, I think we should keep the new version. Current distributions (e.g. Fedora 14) have already mercurial 1.7+. If you have a way old mercurial install, on the other extreme, then you are probably forced to use Sage's mercurial already. This is precisely why mercurial is included in Sage.",
    "created_at": "2011-02-18T20:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103173",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'>Comment 11:</a>
Just to reiterate my point from #9433, I think we should keep the new version. Current distributions (e.g. Fedora 14) have already mercurial 1.7+. If you have a way old mercurial install, on the other extreme, then you are probably forced to use Sage's mercurial already. This is precisely why mercurial is included in Sage.



---

archive/issue_comments_103174.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nVolker, I see your point but I have a small preference for *delaying* this new version of Mercurial until it's more widespread.  I also don't see a compelling reason for including Mercurial 1.7.3 (as opposed to 1.6.4).",
    "created_at": "2011-02-19T11:36:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103174",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'>Comment 12:</a>
Volker, I see your point but I have a small preference for *delaying* this new version of Mercurial until it's more widespread.  I also don't see a compelling reason for including Mercurial 1.7.3 (as opposed to 1.6.4).



---

archive/issue_comments_103175.json:
```json
{
    "body": "Changed merged from **sage-4.6.2.alpha2** to none",
    "created_at": "2011-02-20T17:25:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103175",
    "user": "https://github.com/jdemeyer"
}
```

Changed merged from **sage-4.6.2.alpha2** to none



---

archive/issue_events_123081.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-02-20T17:25:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "milestone_number": null,
    "milestone_title": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123081"
}
```



---

archive/issue_events_123082.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-02-20T17:25:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/feature",
    "label_color": "008080",
    "label_name": "feature",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123082"
}
```



---

archive/issue_events_123083.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-02-20T17:25:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123083"
}
```



---

archive/issue_comments_103176.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nhg repositories made with 1.7.3 cannot be manipulated using versions of mercurial <1.7.  Because of this backwards incompatible change and because I see no compelling reason to upgrade Mercurial, I want to be on the safe side and unmerge #10594 (i.e. revert to Mercurial version 1.6.4) in the sage-4.6.2 release.\n\nIn some later Sage release, we can still decide to upgrade Mercurial.",
    "created_at": "2011-02-20T17:25:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103176",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'>Comment 13:</a>
hg repositories made with 1.7.3 cannot be manipulated using versions of mercurial <1.7.  Because of this backwards incompatible change and because I see no compelling reason to upgrade Mercurial, I want to be on the safe side and unmerge #10594 (i.e. revert to Mercurial version 1.6.4) in the sage-4.6.2 release.

In some later Sage release, we can still decide to upgrade Mercurial.



---

archive/issue_events_123084.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-02-20T17:25:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123084"
}
```



---

archive/issue_events_123085.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-02-20T17:25:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123085"
}
```



---

archive/issue_events_123086.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-02-20T17:25:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123086"
}
```



---

archive/issue_events_123087.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-10T08:40:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/feature",
    "label_color": "008080",
    "label_name": "feature",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123087"
}
```



---

archive/issue_events_123088.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-10T08:40:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123088"
}
```



---

archive/issue_comments_103177.json:
```json
{
    "body": "Changed keywords from **mercurial** to **mercurial, upgrade**",
    "created_at": "2011-06-14T02:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103177",
    "user": "https://github.com/kini"
}
```

Changed keywords from **mercurial** to **mercurial, upgrade**



---

archive/issue_events_123089.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2011-06-14T02:23:56Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "title_is": "Upgrade Mercurial to 1.8.x",
    "title_was": "Upgrade to mercurial 1.7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123089"
}
```



---

archive/issue_events_123090.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2011-06-14T02:23:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123090"
}
```



---

archive/issue_events_123091.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2011-06-14T02:23:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123091"
}
```



---

archive/issue_comments_103178.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nCan we upgrade yet, Jeroen? What is probably the final version of Mercurial 1.8.x, i.e. 1.8.4, is already out. Soon we will be three versions behind the latest version. Do we really need a compelling reason to upgrade packages we ship, when possible? As Volker said, anyone who is having trouble keeping up with Mercurial versions is probably using `sage -hg` anyway.\n\nI'm working on an SPKG which will upgrade Mercurial to 1.8.4 and resolve #11120 and #11121 as well. Since 1.7.3 is already old, I hope you don't mind if I change around the ticket description...",
    "created_at": "2011-06-14T02:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103178",
    "user": "https://github.com/kini"
}
```

<a id='comment:17'>Comment 17:</a>
Can we upgrade yet, Jeroen? What is probably the final version of Mercurial 1.8.x, i.e. 1.8.4, is already out. Soon we will be three versions behind the latest version. Do we really need a compelling reason to upgrade packages we ship, when possible? As Volker said, anyone who is having trouble keeping up with Mercurial versions is probably using `sage -hg` anyway.

I'm working on an SPKG which will upgrade Mercurial to 1.8.4 and resolve #11120 and #11121 as well. Since 1.7.3 is already old, I hope you don't mind if I change around the ticket description...



---

archive/issue_comments_103179.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n-Upgraded mercurial spkg to mercurial 1.7.3\n-\n-http://sage.math.washington.edu/home/rgrout/mercurial-1.7.3.spkg\n+Upgrade the Mercurial spkg to 1.8.4 (probably the final 1.8.x release)\n``````\n",
    "created_at": "2011-06-14T02:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103179",
    "user": "https://github.com/kini"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1 @@
-Upgraded mercurial spkg to mercurial 1.7.3
-
-http://sage.math.washington.edu/home/rgrout/mercurial-1.7.3.spkg
+Upgrade the Mercurial spkg to 1.8.4 (probably the final 1.8.x release)
``````




---

archive/issue_comments_103180.json:
```json
{
    "body": "Changed keywords from **mercurial, upgrade** to **mercurial upgrade sd31**",
    "created_at": "2011-06-14T06:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103180",
    "user": "https://github.com/kini"
}
```

Changed keywords from **mercurial, upgrade** to **mercurial upgrade sd31**



---

archive/issue_events_123092.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2011-06-14T06:34:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123092"
}
```



---

archive/issue_events_123093.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2011-06-14T06:34:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123093"
}
```



---

archive/issue_events_123094.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2011-06-14T06:34:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123094"
}
```



---

archive/issue_events_123095.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2011-06-14T06:34:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123095"
}
```



---

archive/issue_comments_103181.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nThe spkg is available [here](http://sage.math.washington.edu/home/keshav/files/mercurial-1.8.4.spkg). It also fixes #11120 and #11121, as mentioned. I'm CCing William since we talked about this in person and I don't see him on this ticket.",
    "created_at": "2011-06-14T06:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103181",
    "user": "https://github.com/kini"
}
```

<a id='comment:18'>Comment 18:</a>
The spkg is available [here](http://sage.math.washington.edu/home/keshav/files/mercurial-1.8.4.spkg). It also fixes #11120 and #11121, as mentioned. I'm CCing William since we talked about this in person and I don't see him on this ticket.



---

archive/issue_comments_103182.json:
```json
{
    "body": "Changed author from **Ryan Grout** to **Ryan Grout, Keshav Kini**",
    "created_at": "2011-06-14T06:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103182",
    "user": "https://github.com/kini"
}
```

Changed author from **Ryan Grout** to **Ryan Grout, Keshav Kini**



---

archive/issue_comments_103183.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nReplying to [@kini](#comment%3A17):\n> Do we really need a compelling reason to upgrade packages we ship, when possible?\n\nI think we do, I don't think we should simply upgrade packages for the sake of upgrading.  I think the incompatibility with older versions of Mercurial is a negative point for upgrading Mercurial.  Only if there is a particular feature of Mercurial 1.8.4 which is really useful, then I think we should upgrade.",
    "created_at": "2011-06-14T17:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103183",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'>Comment 19:</a>
Replying to [@kini](#comment%3A17):
> Do we really need a compelling reason to upgrade packages we ship, when possible?

I think we do, I don't think we should simply upgrade packages for the sake of upgrading.  I think the incompatibility with older versions of Mercurial is a negative point for upgrading Mercurial.  Only if there is a particular feature of Mercurial 1.8.4 which is really useful, then I think we should upgrade.



---

archive/issue_comments_103184.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nOn first glance, this looks okay.  There are a few extraneous files in the spkg:\n\n```\n$ hg status\n? .SPKG.txt.swp\n? .SPKG.txt.un~\n? .spkg-install.un~\n```\nSo of course they should be cleaned up.\n\nIf someone upgrades from an earlier version of mercurial on OS X, should we check for and delete the old file SAGE/local/bin/hgmerge?",
    "created_at": "2011-06-14T18:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103184",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:20'>Comment 20:</a>
On first glance, this looks okay.  There are a few extraneous files in the spkg:

```
$ hg status
? .SPKG.txt.swp
? .SPKG.txt.un~
? .spkg-install.un~
```
So of course they should be cleaned up.

If someone upgrades from an earlier version of mercurial on OS X, should we check for and delete the old file SAGE/local/bin/hgmerge?



---

archive/issue_comments_103185.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Upgrade the Mercurial spkg to 1.8.4 (probably the final 1.8.x release)\n+Upgrade the Mercurial spkg to 1.8.4 (probably the final 1.8.x release).\n``````\n",
    "created_at": "2011-06-14T18:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103185",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Upgrade the Mercurial spkg to 1.8.4 (probably the final 1.8.x release)
+Upgrade the Mercurial spkg to 1.8.4 (probably the final 1.8.x release).
``````




---

archive/issue_comments_103186.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@jdemeyer](#comment%3A19):\n> Replying to [@kini](#comment%3A17):\n> > Do we really need a compelling reason to upgrade packages we ship, when possible?\n\n> \n> I think we do, I don't think we should simply upgrade packages for the sake of upgrading.  I think the incompatibility with older versions of Mercurial is a negative point for upgrading Mercurial.  Only if there is a particular feature of Mercurial 1.8.4 which is really useful, then I think we should upgrade.\n\nThis is not a backwards-incompatible change in 1.7 -- it is a forward-incompatibility in 1.6.x. In the current state of affairs, the sage scripts cannot properly handle packages created by the user's system Mercurial, for many users whose system Mercurial is \"too new\" for Sage (and this proportion will only increase with time). If we upgrade Mercurial in Sage, the user's system Mercurial may not be able to handle packages created by the sage scripts, but this is not a problem because in those cases the user can do `echo alias hg=\"sage -hg\" >> ~/.bashrc` and go on with their life. The proportion of users for which this will be a problem will only decrease with time. Also, rather than being an inconvenience, this will actually improve the user's life, since they have access to a newer version of Mercurial than they would otherwise. If we *don't* upgrade, we run into situations where you need to clone an entire repository with `--config format.dotencode=False` before you can run Sage's packaging tools on it, because they all use Sage's Mercurial. The proportion of users who encounter this problem will only *increase* with time, and I suspect that developers (i.e. the usual users of Mercurial) number in this population with more likelihood than average users.\n\nSo upgrading Mercurial would help more than it would hurt. But even if it helped exactly as much as it hurt in terms of this repository format issue, software isn't perfect. Newer versions fix bugs that existed in older versions. While newer versions may include new bugs, those too will be fixed in the future. Sitting tight on an old version of software is not safer than following the latest stable releases. I'm not advocating updating to bleeding-edge nightly builds or anything; 1.8.4 was released on June 1 and will be the final bugfix release before the feature release 1.9 (which will be released on July 1, according to Mercurial's release schedule). This makes it as stable as one could like, I think.\n\n**edit**: yikes, let me clean out that junk from the spkg, hang on...",
    "created_at": "2011-06-14T18:19:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103186",
    "user": "https://github.com/kini"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@jdemeyer](#comment%3A19):
> Replying to [@kini](#comment%3A17):
> > Do we really need a compelling reason to upgrade packages we ship, when possible?

> 
> I think we do, I don't think we should simply upgrade packages for the sake of upgrading.  I think the incompatibility with older versions of Mercurial is a negative point for upgrading Mercurial.  Only if there is a particular feature of Mercurial 1.8.4 which is really useful, then I think we should upgrade.

This is not a backwards-incompatible change in 1.7 -- it is a forward-incompatibility in 1.6.x. In the current state of affairs, the sage scripts cannot properly handle packages created by the user's system Mercurial, for many users whose system Mercurial is "too new" for Sage (and this proportion will only increase with time). If we upgrade Mercurial in Sage, the user's system Mercurial may not be able to handle packages created by the sage scripts, but this is not a problem because in those cases the user can do `echo alias hg="sage -hg" >> ~/.bashrc` and go on with their life. The proportion of users for which this will be a problem will only decrease with time. Also, rather than being an inconvenience, this will actually improve the user's life, since they have access to a newer version of Mercurial than they would otherwise. If we *don't* upgrade, we run into situations where you need to clone an entire repository with `--config format.dotencode=False` before you can run Sage's packaging tools on it, because they all use Sage's Mercurial. The proportion of users who encounter this problem will only *increase* with time, and I suspect that developers (i.e. the usual users of Mercurial) number in this population with more likelihood than average users.

So upgrading Mercurial would help more than it would hurt. But even if it helped exactly as much as it hurt in terms of this repository format issue, software isn't perfect. Newer versions fix bugs that existed in older versions. While newer versions may include new bugs, those too will be fixed in the future. Sitting tight on an old version of software is not safer than following the latest stable releases. I'm not advocating updating to bleeding-edge nightly builds or anything; 1.8.4 was released on June 1 and will be the final bugfix release before the feature release 1.9 (which will be released on July 1, according to Mercurial's release schedule). This makes it as stable as one could like, I think.

**edit**: yikes, let me clean out that junk from the spkg, hang on...



---

archive/issue_comments_103187.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nOK, should be fixed. Sorry about that, that was some vim detritus...",
    "created_at": "2011-06-14T18:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103187",
    "user": "https://github.com/kini"
}
```

<a id='comment:22'>Comment 22:</a>
OK, should be fixed. Sorry about that, that was some vim detritus...



---

archive/issue_comments_103188.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n Upgrade the Mercurial spkg to 1.8.4 (probably the final 1.8.x release).\n+\n+**spkg:** [http://sage.math.washington.edu/home/keshav/files/mercurial-1.8.4.spkg](http://sage.math.washington.edu/home/keshav/files/mercurial-1.8.4.spkg)\n``````\n",
    "created_at": "2011-06-14T20:51:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103188",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 Upgrade the Mercurial spkg to 1.8.4 (probably the final 1.8.x release).
+
+**spkg:** [http://sage.math.washington.edu/home/keshav/files/mercurial-1.8.4.spkg](http://sage.math.washington.edu/home/keshav/files/mercurial-1.8.4.spkg)
``````




---

archive/issue_comments_103189.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReviewing....\nIf anyone else wnats to test this package, by all means help review.",
    "created_at": "2011-06-16T23:51:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103189",
    "user": "https://github.com/sagetrac-ryan"
}
```

<a id='comment:24'>Comment 24:</a>
Reviewing....
If anyone else wnats to test this package, by all means help review.



---

archive/issue_comments_103190.json:
```json
{
    "body": "Changed reviewer from **Dan Drake** to **Dan Drake, Ryan Grout**",
    "created_at": "2011-06-16T23:51:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103190",
    "user": "https://github.com/sagetrac-ryan"
}
```

Changed reviewer from **Dan Drake** to **Dan Drake, Ryan Grout**



---

archive/issue_comments_103191.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nThe package install fine and none of the hg self-tests fail.  Positive review",
    "created_at": "2011-06-17T00:43:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103191",
    "user": "https://github.com/sagetrac-ryan"
}
```

<a id='comment:25'>Comment 25:</a>
The package install fine and none of the hg self-tests fail.  Positive review



---

archive/issue_events_123096.json:
```json
{
    "actor": "https://github.com/sagetrac-ryan",
    "created_at": "2011-06-17T00:43:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123096"
}
```



---

archive/issue_events_123097.json:
```json
{
    "actor": "https://github.com/sagetrac-ryan",
    "created_at": "2011-06-17T00:43:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123097"
}
```



---

archive/issue_comments_103192.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nA full review of this spkg should probably include a runthrough of `sage -bdist`, `sage -sdist`, and friends. I can easily believe that hg's self-tests are successful and that Mercurial builds properly from my spkg; what is less clear is whether the newer version of Mercurial breaks any of Sage's various shell scripts that currently use it to do various mysterious things during release management and other such activities. It looks like Jeroen has the spkg in 4.7.1.alpha4 as of right now, though, so I'm guessing he's testing these things at the moment.",
    "created_at": "2011-06-17T01:07:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103192",
    "user": "https://github.com/kini"
}
```

<a id='comment:26'>Comment 26:</a>
A full review of this spkg should probably include a runthrough of `sage -bdist`, `sage -sdist`, and friends. I can easily believe that hg's self-tests are successful and that Mercurial builds properly from my spkg; what is less clear is whether the newer version of Mercurial breaks any of Sage's various shell scripts that currently use it to do various mysterious things during release management and other such activities. It looks like Jeroen has the spkg in 4.7.1.alpha4 as of right now, though, so I'm guessing he's testing these things at the moment.



---

archive/issue_events_123098.json:
```json
{
    "actor": "https://github.com/sagetrac-ryan",
    "created_at": "2011-06-17T01:29:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123098"
}
```



---

archive/issue_events_123099.json:
```json
{
    "actor": "https://github.com/sagetrac-ryan",
    "created_at": "2011-06-17T01:29:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123099"
}
```



---

archive/issue_events_123100.json:
```json
{
    "actor": "https://github.com/sagetrac-ryan",
    "created_at": "2011-06-17T04:45:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123100"
}
```



---

archive/issue_events_123101.json:
```json
{
    "actor": "https://github.com/sagetrac-ryan",
    "created_at": "2011-06-17T04:45:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123101"
}
```



---

archive/issue_comments_103193.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nsetting back to needs review.  If jdemeyer is reviewing this, he can set it back to positive review when he is finished.\n\nAs I was testing this, my sage installation got corrupted (not related to this review).  So I wasn't able finish testing -bdist and -sdist",
    "created_at": "2011-06-17T04:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103193",
    "user": "https://github.com/sagetrac-ryan"
}
```

<a id='comment:28'>Comment 28:</a>
setting back to needs review.  If jdemeyer is reviewing this, he can set it back to positive review when he is finished.

As I was testing this, my sage installation got corrupted (not related to this review).  So I wasn't able finish testing -bdist and -sdist



---

archive/issue_comments_103194.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nReplying to [ryan](#comment%3A28):\n> As I was testing this, my sage installation got corrupted (not related to this review).  So I wasn't able finish testing -bdist and -sdist\n\nWhy not do it on sage.math with a cleanly unpacked tarball? :)",
    "created_at": "2011-06-17T05:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103194",
    "user": "https://github.com/kini"
}
```

<a id='comment:29'>Comment 29:</a>
Replying to [ryan](#comment%3A28):
> As I was testing this, my sage installation got corrupted (not related to this review).  So I wasn't able finish testing -bdist and -sdist

Why not do it on sage.math with a cleanly unpacked tarball? :)



---

archive/issue_comments_103195.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nReplying to [@kini](#comment%3A29):\n> Replying to [ryan](#comment%3A28):\n> > As I was testing this, my sage installation got corrupted (not related to this review).  So I wasn't able finish testing -bdist and -sdist\n\n> \n> Why not do it on sage.math with a cleanly unpacked tarball? :)\n\nGood idea!  I will tomorrow :)",
    "created_at": "2011-06-17T05:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103195",
    "user": "https://github.com/sagetrac-ryan"
}
```

<a id='comment:30'>Comment 30:</a>
Replying to [@kini](#comment%3A29):
> Replying to [ryan](#comment%3A28):
> > As I was testing this, my sage installation got corrupted (not related to this review).  So I wasn't able finish testing -bdist and -sdist

> 
> Why not do it on sage.math with a cleanly unpacked tarball? :)

Good idea!  I will tomorrow :)



---

archive/issue_comments_103196.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nReplying to [ryan](#comment%3A28):\n> setting back to needs review.  If jdemeyer is reviewing this, he can set it back to positive review when he is finished.\n\nI don't plan to formally review this.",
    "created_at": "2011-06-17T12:09:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103196",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:31'>Comment 31:</a>
Replying to [ryan](#comment%3A28):
> setting back to needs review.  If jdemeyer is reviewing this, he can set it back to positive review when he is finished.

I don't plan to formally review this.



---

archive/issue_comments_103197.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\n-bdist and -sdist both run without errors on my machine with the updated spkg.\n\nAny other tests that should be run?",
    "created_at": "2011-06-18T22:13:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103197",
    "user": "https://github.com/sagetrac-ryan"
}
```

<a id='comment:32'>Comment 32:</a>
-bdist and -sdist both run without errors on my machine with the updated spkg.

Any other tests that should be run?



---

archive/issue_comments_103198.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nOther than those, maybe `-merge` and `-combinat` if you're familiar with them. Also, this spkg resolves #11121 and #11120 as well, so those need to be reviewed as well...",
    "created_at": "2011-06-19T00:31:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103198",
    "user": "https://github.com/kini"
}
```

<a id='comment:33'>Comment 33:</a>
Other than those, maybe `-merge` and `-combinat` if you're familiar with them. Also, this spkg resolves #11121 and #11120 as well, so those need to be reviewed as well...



---

archive/issue_comments_103199.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nThis seems to work, from scratch and in an upgrade, although I've asked some questions on #11120 and #11121.",
    "created_at": "2011-06-22T00:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103199",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:34'>Comment 34:</a>
This seems to work, from scratch and in an upgrade, although I've asked some questions on #11120 and #11121.



---

archive/issue_comments_103200.json:
```json
{
    "body": "Changed reviewer from **Dan Drake, Ryan Grout** to **Dan Drake, Ryan Grout, John Palmieri**",
    "created_at": "2011-07-01T18:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103200",
    "user": "https://github.com/jhpalmieri"
}
```

Changed reviewer from **Dan Drake, Ryan Grout** to **Dan Drake, Ryan Grout, John Palmieri**



---

archive/issue_comments_103201.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nI'm happy with this, so I'm setting it to \"positive review\".",
    "created_at": "2011-07-01T18:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103201",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:35'>Comment 35:</a>
I'm happy with this, so I'm setting it to "positive review".



---

archive/issue_events_123102.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-01T18:20:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123102"
}
```



---

archive/issue_events_123103.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-01T18:20:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123103"
}
```



---

archive/issue_events_123104.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-03T11:16:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123104"
}
```



---

archive/issue_events_123105.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-03T11:16:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123105"
}
```



---

archive/issue_comments_103202.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nBy the way, I just had the opposite issue to that raised in [comment 13](#comment%3A13): someone prepared an spkg for Sage using their system version of mercurial, and I couldn't check the repo with the version in Sage because the one in Sage is too old.  I don't know enough about Mercurial to give instructions about how to repair their repo, so I could only check it by installing the spkg on this ticket.\n\nSo I think we should merge this in 4.7.2, not delay it further.",
    "created_at": "2011-07-19T17:31:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103202",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:38'>Comment 38:</a>
By the way, I just had the opposite issue to that raised in [comment 13](#comment%3A13): someone prepared an spkg for Sage using their system version of mercurial, and I couldn't check the repo with the version in Sage because the one in Sage is too old.  I don't know enough about Mercurial to give instructions about how to repair their repo, so I could only check it by installing the spkg on this ticket.

So I think we should merge this in 4.7.2, not delay it further.



---

archive/issue_comments_103203.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nReplying to [@jhpalmieri](#comment%3A38):\n> So I think we should merge this in 4.7.2, not delay it further.\n\nSure!",
    "created_at": "2011-07-19T17:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103203",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:39'>Comment 39:</a>
Replying to [@jhpalmieri](#comment%3A38):
> So I think we should merge this in 4.7.2, not delay it further.

Sure!



---

archive/issue_events_123106.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-22T12:49:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123106"
}
```



---

archive/issue_events_123107.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-22T12:49:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10594#event-123107"
}
```



---

archive/issue_comments_103204.json:
```json
{
    "body": "Merged: **sage-4.7.2.alpha0**",
    "created_at": "2011-07-22T12:49:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103204",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.2.alpha0**



---

archive/issue_comments_103205.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\n> In a Sage shell (\"sage -sh\"), unpack the spkg and go into the `src` directory. There, you can build the package (just do `make all`) and then run Mercurial's built-in tests: `make tests`.\n\nThere is currently no spkg-check here.  If they have tests, we might as well add one.  This is #11701.",
    "created_at": "2011-08-18T15:05:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103205",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:41'>Comment 41:</a>
> In a Sage shell ("sage -sh"), unpack the spkg and go into the `src` directory. There, you can build the package (just do `make all`) and then run Mercurial's built-in tests: `make tests`.

There is currently no spkg-check here.  If they have tests, we might as well add one.  This is #11701.



---

archive/issue_comments_103206.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nCould any of the authors here please have a look at #12058: Mercurial should not enable pager by default.",
    "created_at": "2011-11-19T22:09:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10594",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10594#issuecomment-103206",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:42'>Comment 42:</a>
Could any of the authors here please have a look at #12058: Mercurial should not enable pager by default.
