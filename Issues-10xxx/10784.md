# Issue 10784: primes can have better functionality.

archive/issues_010719.json:
```json
{
    "body": "Assignee: @williamstein\n\nCC:  @nilesjohnson\n\nKeywords: prime, iterator, beginner\n\nIn this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50\n\nD.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.\n\n```\n(3) primes(10, infinity) should work. \nSince we're just calling next_prime, there's no reason to require the \nupper limit to be an integer. \nWouldn't mind a proof=False option which calls next_probable_prime \ninstead, either. \n```\n\n---\n\nApply [attachment:trac_10784_primes_enhancements.patch] and [attachment:trac_10784-reviewer.patch]\n\nIssue created by migration from https://trac.sagemath.org/ticket/10784\n\n",
    "closed_at": "2011-03-18T13:41:09Z",
    "created_at": "2011-02-15T09:52:21Z",
    "labels": [
        "component: number theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7",
    "title": "primes can have better functionality.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10784",
    "user": "https://github.com/koffie"
}
```
Assignee: @williamstein

CC:  @nilesjohnson

Keywords: prime, iterator, beginner

In this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50

D.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.

```
(3) primes(10, infinity) should work. 
Since we're just calling next_prime, there's no reason to require the 
upper limit to be an integer. 
Wouldn't mind a proof=False option which calls next_probable_prime 
instead, either. 
```

---

Apply [attachment:trac_10784_primes_enhancements.patch] and [attachment:trac_10784-reviewer.patch]

Issue created by migration from https://trac.sagemath.org/ticket/10784





---

archive/issue_comments_112693.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to number theory.",
    "created_at": "2011-02-15T09:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112693",
    "user": "https://github.com/koffie"
}
```

Changing component from PLEASE CHANGE to number theory.



---

archive/issue_comments_112694.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2011-02-15T09:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112694",
    "user": "https://github.com/koffie"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_events_027818.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2011-02-15T09:52:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "milestone": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10784#event-27818"
}
```



---

archive/issue_comments_112695.json:
```json
{
    "body": "Changing assignee from tbd to @williamstein.",
    "created_at": "2011-02-15T09:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112695",
    "user": "https://github.com/koffie"
}
```

Changing assignee from tbd to @williamstein.



---

archive/issue_comments_112696.json:
```json
{
    "body": "Attachment [trac_10784_primes_enhancements.patch](tarball://root/attachments/some-uuid/ticket10784/trac_10784_primes_enhancements.patch) by dsm created at 2011-02-16 03:52:42\n\nallow +infinity, proof",
    "created_at": "2011-02-16T03:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112696",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

Attachment [trac_10784_primes_enhancements.patch](tarball://root/attachments/some-uuid/ticket10784/trac_10784_primes_enhancements.patch) by dsm created at 2011-02-16 03:52:42

allow +infinity, proof



---

archive/issue_comments_112697.json:
```json
{
    "body": "Patch attached to allow support for infinity as upper bound and proof option (with same semantics as next_prime's proof option: it's simply passed through to next_prime).\n\nFirst idea was to avoid casting to ZZ entirely, which would allow primes(2, 100/3), but that can lead to some mysterious error messages.  Current approach simply special-cases infinity as an upper bound -- allowing -infinity as a lower bound isn't that useful, because unlike the case of an infinite upper bound, that can be easily worked around from outside the function, and so problems with the bounds are caught at first iteration, which seems better.",
    "created_at": "2011-02-16T03:57:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112697",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

Patch attached to allow support for infinity as upper bound and proof option (with same semantics as next_prime's proof option: it's simply passed through to next_prime).

First idea was to avoid casting to ZZ entirely, which would allow primes(2, 100/3), but that can lead to some mysterious error messages.  Current approach simply special-cases infinity as an upper bound -- allowing -infinity as a lower bound isn't that useful, because unlike the case of an infinite upper bound, that can be easily worked around from outside the function, and so problems with the bounds are caught at first iteration, which seems better.



---

archive/issue_comments_112698.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-02-16T15:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112698",
    "user": "https://github.com/nilesjohnson"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_112699.json:
```json
{
    "body": "Looks really good -- I've marked it as 'beginner', meaning that this is a patch which someone who is just beginning could review.  If no one beats me to it, I'll go ahead and review it :)",
    "created_at": "2011-02-16T15:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112699",
    "user": "https://github.com/nilesjohnson"
}
```

Looks really good -- I've marked it as 'beginner', meaning that this is a patch which someone who is just beginning could review.  If no one beats me to it, I'll go ahead and review it :)



---

archive/issue_comments_112700.json:
```json
{
    "body": "Changing keywords from \"\" to \"prime, iterator, beginner\".",
    "created_at": "2011-02-16T15:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112700",
    "user": "https://github.com/nilesjohnson"
}
```

Changing keywords from "" to "prime, iterator, beginner".



---

archive/issue_comments_112701.json:
```json
{
    "body": "This is a great patch, nicely tested.  I've made some minor tweaks in the documentation to remove some errors in the docbuild and a few other things like indentation, and added one doctest.  Positive review.",
    "created_at": "2011-03-13T02:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112701",
    "user": "https://github.com/kcrisman"
}
```

This is a great patch, nicely tested.  I've made some minor tweaks in the documentation to remove some errors in the docbuild and a few other things like indentation, and added one doctest.  Positive review.



---

archive/issue_comments_112702.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-03-13T02:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112702",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_112703.json:
```json
{
    "body": "Apply after initial patch",
    "created_at": "2011-03-13T02:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112703",
    "user": "https://github.com/kcrisman"
}
```

Apply after initial patch



---

archive/issue_comments_112704.json:
```json
{
    "body": "Attachment [trac_10784-reviewer.patch](tarball://root/attachments/some-uuid/ticket10784/trac_10784-reviewer.patch) by @kcrisman created at 2011-03-13 02:32:26\n\nApply attachment:trac_10784_primes_enhancements.patch and attachment:trac_10784-reviewer.patch",
    "created_at": "2011-03-13T02:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112704",
    "user": "https://github.com/kcrisman"
}
```

Attachment [trac_10784-reviewer.patch](tarball://root/attachments/some-uuid/ticket10784/trac_10784-reviewer.patch) by @kcrisman created at 2011-03-13 02:32:26

Apply attachment:trac_10784_primes_enhancements.patch and attachment:trac_10784-reviewer.patch



---

archive/issue_events_027819.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-03-18T13:41:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10784#event-27819"
}
```



---

archive/issue_comments_112705.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-03-18T13:41:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-112705",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
