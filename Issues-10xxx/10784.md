# Issue 10784: primes can have better functionality.

archive/issues_010719.json:
```json
{
    "body": "In this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50\n\nD.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.\n\n```\n(3) primes(10, infinity) should work. \nSince we're just calling next_prime, there's no reason to require the \nupper limit to be an integer. \nWouldn't mind a proof=False option which calls next_probable_prime \ninstead, either. \n```\n\n---\n\nApply [attachment:trac_10784_primes_enhancements.patch] and [attachment:trac_10784-reviewer.patch]\n\nAssignee: @williamstein\n\nCC:  @nilesjohnson\n\nKeywords: prime, iterator, beginner\n\nResolution: fixed\n\nAuthor: Douglas McNeil\n\nReviewer: Karl-Dieter Crisman\n\nMerged: sage-4.7.alpha2\n\nIssue created by migration from https://trac.sagemath.org/ticket/10784\n\n",
    "closed_at": "2011-03-18T13:41:09Z",
    "created_at": "2011-02-15T09:52:21Z",
    "labels": [
        "component: number theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7",
    "title": "primes can have better functionality.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10784",
    "user": "https://github.com/koffie"
}
```
In this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50

D.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.

```
(3) primes(10, infinity) should work. 
Since we're just calling next_prime, there's no reason to require the 
upper limit to be an integer. 
Wouldn't mind a proof=False option which calls next_probable_prime 
instead, either. 
```

---

Apply [attachment:trac_10784_primes_enhancements.patch] and [attachment:trac_10784-reviewer.patch]

Assignee: @williamstein

CC:  @nilesjohnson

Keywords: prime, iterator, beginner

Resolution: fixed

Author: Douglas McNeil

Reviewer: Karl-Dieter Crisman

Merged: sage-4.7.alpha2

Issue created by migration from https://trac.sagemath.org/ticket/10784





---

archive/issue_comments_118342.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to number theory.",
    "created_at": "2011-02-15T09:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118342",
    "user": "https://github.com/koffie"
}
```

Changing component from PLEASE CHANGE to number theory.



---

archive/issue_comments_118343.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2011-02-15T09:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118343",
    "user": "https://github.com/koffie"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_events_027818.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2011-02-15T09:52:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "milestone": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10784#event-27818"
}
```



---

archive/issue_comments_118344.json:
```json
{
    "body": "Changing assignee from tbd to @williamstein.",
    "created_at": "2011-02-15T09:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118344",
    "user": "https://github.com/koffie"
}
```

Changing assignee from tbd to @williamstein.



---

archive/issue_comments_118345.json:
```json
{
    "body": "Attachment [trac_10784_primes_enhancements.patch](tarball://root/attachments/some-uuid/ticket10784/trac_10784_primes_enhancements.patch) by dsm created at 2011-02-16 03:52:42\n\nallow +infinity, proof",
    "created_at": "2011-02-16T03:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118345",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

Attachment [trac_10784_primes_enhancements.patch](tarball://root/attachments/some-uuid/ticket10784/trac_10784_primes_enhancements.patch) by dsm created at 2011-02-16 03:52:42

allow +infinity, proof



---

archive/issue_comments_118346.json:
```json
{
    "body": "<a id='comment:2'></a>Patch attached to allow support for infinity as upper bound and proof option (with same semantics as next_prime's proof option: it's simply passed through to next_prime).\n\nFirst idea was to avoid casting to ZZ entirely, which would allow primes(2, 100/3), but that can lead to some mysterious error messages.  Current approach simply special-cases infinity as an upper bound -- allowing -infinity as a lower bound isn't that useful, because unlike the case of an infinite upper bound, that can be easily worked around from outside the function, and so problems with the bounds are caught at first iteration, which seems better.",
    "created_at": "2011-02-16T03:57:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118346",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

<a id='comment:2'></a>Patch attached to allow support for infinity as upper bound and proof option (with same semantics as next_prime's proof option: it's simply passed through to next_prime).

First idea was to avoid casting to ZZ entirely, which would allow primes(2, 100/3), but that can lead to some mysterious error messages.  Current approach simply special-cases infinity as an upper bound -- allowing -infinity as a lower bound isn't that useful, because unlike the case of an infinite upper bound, that can be easily worked around from outside the function, and so problems with the bounds are caught at first iteration, which seems better.



---

archive/issue_comments_118347.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-02-16T15:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118347",
    "user": "https://github.com/nilesjohnson"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_118348.json:
```json
{
    "body": "<a id='comment:4'></a>Looks really good -- I've marked it as 'beginner', meaning that this is a patch which someone who is just beginning could review.  If no one beats me to it, I'll go ahead and review it :)",
    "created_at": "2011-02-16T15:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118348",
    "user": "https://github.com/nilesjohnson"
}
```

<a id='comment:4'></a>Looks really good -- I've marked it as 'beginner', meaning that this is a patch which someone who is just beginning could review.  If no one beats me to it, I'll go ahead and review it :)



---

archive/issue_comments_118349.json:
```json
{
    "body": "Changing keywords from \"\" to \"prime, iterator, beginner\".",
    "created_at": "2011-02-16T15:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118349",
    "user": "https://github.com/nilesjohnson"
}
```

Changing keywords from "" to "prime, iterator, beginner".



---

archive/issue_comments_118350.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,5 +1,4 @@\n-In this topic:\n-http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50\n+In this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50\n \n D.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.\n \n@@ -10,8 +9,6 @@\n Wouldn't mind a proof=False option which calls next_probable_prime \n instead, either. \n \\`\\`\\`\n-\n-Assignee: tbd\n \n Component: PLEASE CHANGE\n \n```\n",
    "created_at": "2011-02-16T15:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118350",
    "user": "https://github.com/nilesjohnson"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,5 +1,4 @@
-In this topic:
-http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50
+In this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50
 
 D.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.
 
@@ -10,8 +9,6 @@
 Wouldn't mind a proof=False option which calls next_probable_prime 
 instead, either. 
 \`\`\`
-
-Assignee: tbd
 
 Component: PLEASE CHANGE
 
```




---

archive/issue_comments_118351.json:
```json
{
    "body": "<a id='comment:5'></a>This is a great patch, nicely tested.  I've made some minor tweaks in the documentation to remove some errors in the docbuild and a few other things like indentation, and added one doctest.  Positive review.",
    "created_at": "2011-03-13T02:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118351",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>This is a great patch, nicely tested.  I've made some minor tweaks in the documentation to remove some errors in the docbuild and a few other things like indentation, and added one doctest.  Positive review.



---

archive/issue_comments_118352.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,15 @@\n+In this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50\n+\n+D.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.\n+\n+\\`\\`\\`\n+(3) primes(10, infinity) should work. \n+Since we're just calling next_prime, there's no reason to require the \n+upper limit to be an integer. \n+Wouldn't mind a proof=False option which calls next_probable_prime \n+instead, either. \n+\\`\\`\\`\n+\n \n \n Component: PLEASE CHANGE\n```\n",
    "created_at": "2011-03-13T02:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118352",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,15 @@
+In this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50
+
+D.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.
+
+\`\`\`
+(3) primes(10, infinity) should work. 
+Since we're just calling next_prime, there's no reason to require the 
+upper limit to be an integer. 
+Wouldn't mind a proof=False option which calls next_probable_prime 
+instead, either. 
+\`\`\`
+
 
 
 Component: PLEASE CHANGE
```




---

archive/issue_comments_118353.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-03-13T02:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118353",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_118354.json:
```json
{
    "body": "Apply after initial patch",
    "created_at": "2011-03-13T02:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118354",
    "user": "https://github.com/kcrisman"
}
```

Apply after initial patch



---

archive/issue_comments_118355.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,18 @@\n+In this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50\n \n+D.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.\n+\n+\\`\\`\\`\n+(3) primes(10, infinity) should work. \n+Since we're just calling next_prime, there's no reason to require the \n+upper limit to be an integer. \n+Wouldn't mind a proof=False option which calls next_probable_prime \n+instead, either. \n+\\`\\`\\`\n+\n+---\n+\n+Apply attachment:trac_10784_primes_enhancements.patch and attachment:trac_10784-reviewer.patch\n \n Component: PLEASE CHANGE\n \n```\n",
    "created_at": "2011-03-13T02:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118355",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,18 @@
+In this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50
 
+D.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.
+
+\`\`\`
+(3) primes(10, infinity) should work. 
+Since we're just calling next_prime, there's no reason to require the 
+upper limit to be an integer. 
+Wouldn't mind a proof=False option which calls next_probable_prime 
+instead, either. 
+\`\`\`
+
+---
+
+Apply attachment:trac_10784_primes_enhancements.patch and attachment:trac_10784-reviewer.patch
 
 Component: PLEASE CHANGE
 
```




---

archive/issue_comments_118356.json:
```json
{
    "body": "<a id='comment:6'></a>Attachment [trac_10784-reviewer.patch](tarball://root/attachments/some-uuid/ticket10784/trac_10784-reviewer.patch) by @kcrisman created at 2011-03-13 02:32:26\n\nApply attachment:trac_10784_primes_enhancements.patch and attachment:trac_10784-reviewer.patch",
    "created_at": "2011-03-13T02:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118356",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>Attachment [trac_10784-reviewer.patch](tarball://root/attachments/some-uuid/ticket10784/trac_10784-reviewer.patch) by @kcrisman created at 2011-03-13 02:32:26

Apply attachment:trac_10784_primes_enhancements.patch and attachment:trac_10784-reviewer.patch



---

archive/issue_comments_118357.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,18 @@\n+In this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50\n \n+D.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.\n+\n+\\`\\`\\`\n+(3) primes(10, infinity) should work. \n+Since we're just calling next_prime, there's no reason to require the \n+upper limit to be an integer. \n+Wouldn't mind a proof=False option which calls next_probable_prime \n+instead, either. \n+\\`\\`\\`\n+\n+---\n+\n+Apply [attachment:trac_10784_primes_enhancements.patch] and [attachment:trac_10784-reviewer.patch]\n \n Component: PLEASE CHANGE\n \n```\n",
    "created_at": "2011-03-17T19:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118357",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,18 @@
+In this topic: http://groups.google.com/group/sage-devel/browse_thread/thread/cd05585cf395b3a0/c7c82fbb725dee50
 
+D.S. McNeil posted several ideas for enhancing sage. This ticket is for the enhancements proposed for the primes function.
+
+\`\`\`
+(3) primes(10, infinity) should work. 
+Since we're just calling next_prime, there's no reason to require the 
+upper limit to be an integer. 
+Wouldn't mind a proof=False option which calls next_probable_prime 
+instead, either. 
+\`\`\`
+
+---
+
+Apply [attachment:trac_10784_primes_enhancements.patch] and [attachment:trac_10784-reviewer.patch]
 
 Component: PLEASE CHANGE
 
```




---

archive/issue_events_027819.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-03-18T13:41:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10784#event-27819"
}
```



---

archive/issue_comments_118358.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-03-18T13:41:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10784#issuecomment-118358",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
