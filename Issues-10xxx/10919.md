# Issue 10919: Addition of function ``is_uniform(k)`` for WordMorphism class

archive/issues_010842.json:
```json
{
    "body": "Assignee: abmasse\n\nCC:  @seblabbe tmonteil\n\nThe purpose of this small ticket is to add the function ``is_uniform(k)`` to the WordMorphism class. A morphism `m` is called `k`-uniform if for every letter `a`, we have `|m(a)| = k`.\n\nFor instance, the Thue-Morse morphism `a->ab,b->ba` is 2-uniform while the Fibonacci morphism `a->ab,b->a` is not uniform. \n\nIssue created by migration from https://trac.sagemath.org/ticket/10919\n\n",
    "closed_at": "2011-03-25T12:30:42Z",
    "created_at": "2011-03-11T23:08:17Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7",
    "title": "Addition of function ``is_uniform(k)`` for WordMorphism class",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10919",
    "user": "https://trac.sagemath.org/admin/accounts/users/abmasse"
}
```
Assignee: abmasse

CC:  @seblabbe tmonteil

The purpose of this small ticket is to add the function ``is_uniform(k)`` to the WordMorphism class. A morphism `m` is called `k`-uniform if for every letter `a`, we have `|m(a)| = k`.

For instance, the Thue-Morse morphism `a->ab,b->ba` is 2-uniform while the Fibonacci morphism `a->ab,b->a` is not uniform. 

Issue created by migration from https://trac.sagemath.org/ticket/10919





---

archive/issue_comments_114823.json:
```json
{
    "body": "Apply on sage-4.6.2",
    "created_at": "2011-03-12T03:02:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10919#issuecomment-114823",
    "user": "https://trac.sagemath.org/admin/accounts/users/abmasse"
}
```

Apply on sage-4.6.2



---

archive/issue_comments_114824.json:
```json
{
    "body": "Attachment [trac_10919-uniform_morphism-abm.patch](tarball://root/attachments/some-uuid/ticket10919/trac_10919-uniform_morphism-abm.patch) by abmasse created at 2011-03-12 03:03:42\n\nI juste uploaded a patch implementing the `\u00ecs_uniform`` function. Needs review.",
    "created_at": "2011-03-12T03:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10919#issuecomment-114824",
    "user": "https://trac.sagemath.org/admin/accounts/users/abmasse"
}
```

Attachment [trac_10919-uniform_morphism-abm.patch](tarball://root/attachments/some-uuid/ticket10919/trac_10919-uniform_morphism-abm.patch) by abmasse created at 2011-03-12 03:03:42

I juste uploaded a patch implementing the `ìs_uniform`` function. Needs review.



---

archive/issue_comments_114825.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-03-12T03:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10919#issuecomment-114825",
    "user": "https://trac.sagemath.org/admin/accounts/users/abmasse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_114826.json:
```json
{
    "body": "With `trac_10919-uniform_morphism-abm.patch` :\n\n```\nsage: m = WordMorphism(dict(((i,[i]*i) for i in range(30))))     \nsage: %timeit m.is_uniform()                                     \n625 loops, best of 3: 25.5 \u00b5s per loop                           \nsage: %timeit m.is_uniform(4)                                    \n625 loops, best of 3: 40.6 \u00b5s per loop                           \n```\n\nWith `trac_10919-uniform_morphism-abm.patch` and `trac_10919_review-sl.patch`:\n\n```\nsage: m = WordMorphism(dict(((i,[i]*i) for i in range(30))))   \nsage: %timeit m.is_uniform()                                   \n625 loops, best of 3: 18 \u00b5s per loop                           \nsage: %timeit m.is_uniform(4)                                  \n625 loops, best of 3: 5.72 \u00b5s per loop                                             \n```",
    "created_at": "2011-03-16T18:50:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10919#issuecomment-114826",
    "user": "https://github.com/seblabbe"
}
```

With `trac_10919-uniform_morphism-abm.patch` :

```
sage: m = WordMorphism(dict(((i,[i]*i) for i in range(30))))     
sage: %timeit m.is_uniform()                                     
625 loops, best of 3: 25.5 µs per loop                           
sage: %timeit m.is_uniform(4)                                    
625 loops, best of 3: 40.6 µs per loop                           
```

With `trac_10919-uniform_morphism-abm.patch` and `trac_10919_review-sl.patch`:

```
sage: m = WordMorphism(dict(((i,[i]*i) for i in range(30))))   
sage: %timeit m.is_uniform()                                   
625 loops, best of 3: 18 µs per loop                           
sage: %timeit m.is_uniform(4)                                  
625 loops, best of 3: 5.72 µs per loop                                             
```



---

archive/issue_comments_114827.json:
```json
{
    "body": "Attachment [trac_10919_review-sl.patch](tarball://root/attachments/some-uuid/ticket10919/trac_10919_review-sl.patch) by @seblabbe created at 2011-03-16 18:51:39\n\nApplies over the precedent patch",
    "created_at": "2011-03-16T18:51:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10919#issuecomment-114827",
    "user": "https://github.com/seblabbe"
}
```

Attachment [trac_10919_review-sl.patch](tarball://root/attachments/some-uuid/ticket10919/trac_10919_review-sl.patch) by @seblabbe created at 2011-03-16 18:51:39

Applies over the precedent patch



---

archive/issue_comments_114828.json:
```json
{
    "body": "I just uploaded a review patch which, I believe, improves the code.\n\nOther than that, documentation builds fine, all test pass, the new function is OK. If you agree with my small fixes, you can change the status of this ticket to positive review.",
    "created_at": "2011-03-16T18:59:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10919#issuecomment-114828",
    "user": "https://github.com/seblabbe"
}
```

I just uploaded a review patch which, I believe, improves the code.

Other than that, documentation builds fine, all test pass, the new function is OK. If you agree with my small fixes, you can change the status of this ticket to positive review.



---

archive/issue_comments_114829.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-03-16T19:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10919#issuecomment-114829",
    "user": "https://trac.sagemath.org/admin/accounts/users/abmasse"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_114830.json:
```json
{
    "body": "Replying to [comment:3 slabbe]:\n> I just uploaded a review patch which, I believe, improves the code.\n> \n> Other than that, documentation builds fine, all test pass, the new function is OK. If you agree with my small fixes, you can change the status of this ticket to positive review. \n\n\nHi, S\u00e9bastien !\n\nThank you for the review. Once again, you improved the efficiency of my algorithm (I definitely need to be more careful about these small optimisations).\n\nI applied your patch over mine applied over sage-4.6.2 and all tests passed, and the documentation built fine too. Of course, I agree with them, so that I'm ready to set this ticket to positive review.",
    "created_at": "2011-03-16T19:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10919#issuecomment-114830",
    "user": "https://trac.sagemath.org/admin/accounts/users/abmasse"
}
```

Replying to [comment:3 slabbe]:
> I just uploaded a review patch which, I believe, improves the code.
> 
> Other than that, documentation builds fine, all test pass, the new function is OK. If you agree with my small fixes, you can change the status of this ticket to positive review. 


Hi, Sébastien !

Thank you for the review. Once again, you improved the efficiency of my algorithm (I definitely need to be more careful about these small optimisations).

I applied your patch over mine applied over sage-4.6.2 and all tests passed, and the documentation built fine too. Of course, I agree with them, so that I'm ready to set this ticket to positive review.



---

archive/issue_comments_114831.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-03-25T12:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10919#issuecomment-114831",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_028279.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-03-25T12:30:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10919",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10919#event-28279"
}
```
