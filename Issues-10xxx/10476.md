# Issue 10476: Problems interrupting Singular

archive/issues_010423.json:
```json
{
    "assignees": [
        "https://github.com/jdemeyer"
    ],
    "body": "Type the following:\n\n```\nsage: singular._expect_expr(\"1\")\n```\nNow type `CTRL-C`.  It takes a very long time before something happens.  This was the cause of #9163 (which was fixed to avoid this issue).\n\n---\n\nUpstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/730](http://www.singular.uni-kl.de:8002/trac/ticket/730)\n\nDepends on #18771\n\nCC:  @malb @burcin @rbeezer\n\nKeywords: **interrupt singular expect sd40.5 patchbot**\n\nBranch/Commit: **[`02decd8`](https://github.com/sagemath/sagetrac-mirror/commit/02decd819ed4f6039b39a8b27592d51ed97b63ef)**\n\nUpstream: **Reported upstream. Developers deny it's a bug.**\n\nReviewer: **Volker Braun**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **interfaces**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10476_\n\n",
    "closed_at": "2015-07-16T22:51:13Z",
    "created_at": "2010-12-14T19:45:24Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Problems interrupting Singular",
    "type": "issue",
    "updated_at": "2015-07-16T22:51:13Z",
    "url": "https://github.com/sagemath/sage/issues/10476",
    "user": "https://github.com/jdemeyer"
}
```
Type the following:

```
sage: singular._expect_expr("1")
```
Now type `CTRL-C`.  It takes a very long time before something happens.  This was the cause of #9163 (which was fixed to avoid this issue).

---

Upstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/730](http://www.singular.uni-kl.de:8002/trac/ticket/730)

Depends on #18771

CC:  @malb @burcin @rbeezer

Keywords: **interrupt singular expect sd40.5 patchbot**

Branch/Commit: **[`02decd8`](https://github.com/sagemath/sagetrac-mirror/commit/02decd819ed4f6039b39a8b27592d51ed97b63ef)**

Upstream: **Reported upstream. Developers deny it's a bug.**

Reviewer: **Volker Braun**

Author: **Jeroen Demeyer**

Component: **interfaces**

_Issue created by migration from https://trac.sagemath.org/ticket/10476_





---

archive/issue_events_135991.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-14T19:45:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-135991"
}
```



---

archive/issue_events_135992.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-14T19:45:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-135992"
}
```



---

archive/issue_events_135993.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-14T19:45:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-135993"
}
```



---

archive/issue_events_135994.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-14T19:45:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-135994"
}
```



---

archive/issue_events_135995.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-12-14T19:45:24Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "subject": "https://github.com/jdemeyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-135995"
}
```



---

archive/issue_comments_098233.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI suspect this is behind it, start Singular and press `CTRL-C`:\n\n```\n$ sage -singular\n                     SINGULAR                             /  Development\n A Computer Algebra System for Polynomial Computations   /   version 3-1-1\n                                                       0<\n     by: G.-M. Greuel, G. Pfister, H. Schoenemann        \\   Feb 2010\nFB Mathematik der Universitaet, D-67653 Kaiserslautern    \\\n> ^C// ** Interrupt at cmd:`$INVALID$` in line:''\nabort command(a), continue(c) or quit Singular(q) ?\n```\nSo we get a stupid prompt instead.",
    "created_at": "2010-12-14T19:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98233",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:1" align="right">comment:1</div>

I suspect this is behind it, start Singular and press `CTRL-C`:

```
$ sage -singular
                     SINGULAR                             /  Development
 A Computer Algebra System for Polynomial Computations   /   version 3-1-1
                                                       0<
     by: G.-M. Greuel, G. Pfister, H. Schoenemann        \   Feb 2010
FB Mathematik der Universitaet, D-67653 Kaiserslautern    \
> ^C// ** Interrupt at cmd:`$INVALID$` in line:''
abort command(a), continue(c) or quit Singular(q) ?
```
So we get a stupid prompt instead.



---

archive/issue_comments_098234.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI find that it takes about 5 seconds, not \"very long\". On a closer look, it actually takes 6 seconds = 20*0.3:\n\n```python\nDefinition:\tsingular.interrupt(self, tries=20, timeout=0.29999999999999999, quit_on_fail=True)\nSource:\n    def interrupt(self, tries=20, timeout=0.3, quit_on_fail=True):\n        E = self._expect\n        if E is None:\n            return True\n        success = False\n        try:\n            for i in range(tries):\n                E.sendline(self._quit_string())\n                E.sendline(chr(3))\n                try:\n                    E.expect(self._prompt, timeout=timeout)\n                    success= True\n                    break\n                except (pexpect.TIMEOUT, pexpect.EOF), msg:\n                    #print msg\n                    pass\n        except Exception, msg:\n            pass\n        if success:\n            pass\n        elif quit_on_fail:\n            self.quit()\n        return success\n```\n\n* The inherited method `interrupt()` actually tries to quit Singular (`self._quit_string()==\"quit\"`)\n* If quitting did not work the first time, is it going to work the next 19 times?\n* From personal experience, I find that actually interrupting (using ctrl-c and \"continue\") Singular often does not work. Restarting is very fast, though. \n\nI propose that the Singular pexpect interface override `interrupt()` to be a synonym for `quit()`.",
    "created_at": "2011-01-03T11:58:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98234",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:2" align="right">comment:2</div>

I find that it takes about 5 seconds, not "very long". On a closer look, it actually takes 6 seconds = 20*0.3:

```python
Definition:	singular.interrupt(self, tries=20, timeout=0.29999999999999999, quit_on_fail=True)
Source:
    def interrupt(self, tries=20, timeout=0.3, quit_on_fail=True):
        E = self._expect
        if E is None:
            return True
        success = False
        try:
            for i in range(tries):
                E.sendline(self._quit_string())
                E.sendline(chr(3))
                try:
                    E.expect(self._prompt, timeout=timeout)
                    success= True
                    break
                except (pexpect.TIMEOUT, pexpect.EOF), msg:
                    #print msg
                    pass
        except Exception, msg:
            pass
        if success:
            pass
        elif quit_on_fail:
            self.quit()
        return success
```

* The inherited method `interrupt()` actually tries to quit Singular (`self._quit_string()=="quit"`)
* If quitting did not work the first time, is it going to work the next 19 times?
* From personal experience, I find that actually interrupting (using ctrl-c and "continue") Singular often does not work. Restarting is very fast, though. 

I propose that the Singular pexpect interface override `interrupt()` to be a synonym for `quit()`.



---

archive/issue_events_135996.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-28T02:01:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-135996"
}
```



---

archive/issue_events_135997.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-28T02:01:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-135997"
}
```



---

archive/issue_comments_098235.json:
```json
{
    "body": "Changed keywords from **interrupt singular expect** to **interrupt singular expect sd40.5**",
    "created_at": "2012-05-28T02:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98235",
    "user": "https://github.com/jdemeyer"
}
```

Changed keywords from **interrupt singular expect** to **interrupt singular expect sd40.5**



---

archive/issue_comments_098236.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI'm having a hard time fixing this with pexpect, it's too unreliable.  Next strategy is patching Singular not to show the stupid interrupt prompt...",
    "created_at": "2012-05-29T05:06:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98236",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

I'm having a hard time fixing this with pexpect, it's too unreliable.  Next strategy is patching Singular not to show the stupid interrupt prompt...



---

archive/issue_comments_098237.json:
```json
{
    "body": "Attachment: **[singular-3-1-3-3.p7.diff.gz](https://github.com/sagemath/sage/files/ticket10476/singular-3-1-3-3.p7.diff.gz)**\n\nDiff for the singular spkg. For reference / review only.",
    "created_at": "2012-06-18T21:05:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98237",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[singular-3-1-3-3.p7.diff.gz](https://github.com/sagemath/sage/files/ticket10476/singular-3-1-3-3.p7.diff.gz)**

Diff for the singular spkg. For reference / review only.



---

archive/issue_events_135998.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-18T21:07:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-135998"
}
```



---

archive/issue_comments_098238.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,7 @@\n sage: singular._expect_expr(\"1\")\n ```\n Now type `CTRL-C`.  It takes a very long time before something happens.  This was the cause of #9163 (which was fixed to avoid this issue).\n+\n+new **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg) (see [diff](https://github.com/sagemath/sage/files/ticket10476/singular-3-1-3-3.p7.diff.gz))\n+\n+**apply** [attachment: 10476_singular_interrupt.patch](https://github.com/sagemath/sage/files/ticket10476/10476_singular_interrupt.patch.gz) to the Sage library.\n``````\n",
    "created_at": "2012-06-18T21:07:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98238",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,7 @@
 sage: singular._expect_expr("1")
 ```
 Now type `CTRL-C`.  It takes a very long time before something happens.  This was the cause of #9163 (which was fixed to avoid this issue).
+
+new **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg) (see [diff](https://github.com/sagemath/sage/files/ticket10476/singular-3-1-3-3.p7.diff.gz))
+
+**apply** [attachment: 10476_singular_interrupt.patch](https://github.com/sagemath/sage/files/ticket10476/10476_singular_interrupt.patch.gz) to the Sage library.
``````




---

archive/issue_comments_098239.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2012-06-18T21:07:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98239",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_098240.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2012-06-18T21:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98240",
    "user": "https://github.com/jdemeyer"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_098241.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAttachment: **[10476_singular_interrupt.patch.gz](https://github.com/sagemath/sage/files/ticket10476/10476_singular_interrupt.patch.gz)**",
    "created_at": "2012-06-18T21:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98241",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Attachment: **[10476_singular_interrupt.patch.gz](https://github.com/sagemath/sage/files/ticket10476/10476_singular_interrupt.patch.gz)**



---

archive/issue_comments_098242.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,12 @@\n ```\n Now type `CTRL-C`.  It takes a very long time before something happens.  This was the cause of #9163 (which was fixed to avoid this issue).\n \n+---\n+\n new **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg) (see [diff](https://github.com/sagemath/sage/files/ticket10476/singular-3-1-3-3.p7.diff.gz))\n \n **apply** [attachment: 10476_singular_interrupt.patch](https://github.com/sagemath/sage/files/ticket10476/10476_singular_interrupt.patch.gz) to the Sage library.\n+\n+---\n+\n+`cntrlc.patch` sent upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/432](http://www.singular.uni-kl.de:8002/trac/ticket/432)\n``````\n",
    "created_at": "2012-06-18T21:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98242",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,12 @@
 ```
 Now type `CTRL-C`.  It takes a very long time before something happens.  This was the cause of #9163 (which was fixed to avoid this issue).
 
+---
+
 new **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg) (see [diff](https://github.com/sagemath/sage/files/ticket10476/singular-3-1-3-3.p7.diff.gz))
 
 **apply** [attachment: 10476_singular_interrupt.patch](https://github.com/sagemath/sage/files/ticket10476/10476_singular_interrupt.patch.gz) to the Sage library.
+
+---
+
+`cntrlc.patch` sent upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/432](http://www.singular.uni-kl.de:8002/trac/ticket/432)
``````




---

archive/issue_events_135999.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-20T13:56:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-135999"
}
```



---

archive/issue_events_136000.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-20T13:56:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136000"
}
```



---

archive/issue_comments_098243.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2012-06-20T13:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98243",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_comments_098244.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nRunning the doctest in a loop, I get occasional (maybe 1 in 20) failures\n\n```\nsage -t -force_lib \"devel/sage/sage/interfaces/singular.py\" \n**********************************************************************\nFile \"/home/vbraun/opt/sage-5.1.beta5/devel/sage/sage/interfaces/singular.py\", line 480:\n    sage: 2*a\nException raised:\n    Traceback (most recent call last):\n      File \"/home/vbraun/opt/sage-5.1.beta5/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/vbraun/opt/sage-5.1.beta5/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/vbraun/opt/sage-5.1.beta5/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_9[6]>\", line 1, in <module>\n        Integer(2)*a###line 480:\n    sage: 2*a\n      File \"element.pyx\", line 1687, in sage.structure.element.RingElement.__mul__ (sage/structure/element.c:12755)\n      File \"coerce.pyx\", line 749, in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:6778)\n      File \"coerce.pyx\", line 745, in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:6718)\n      File \"element.pyx\", line 1682, in sage.structure.element.RingElement.__mul__ (sage/structure/element.c:12681)\n      File \"element.pyx\", line 1689, in sage.structure.element.RingElement._mul_ (sage/structure/element.c:12807)\n      File \"/home/vbraun/opt/sage-5.1.beta5/local/lib/python/site-packages/sage/interfaces/interface.py\", line 1118, in _mul_\n        return self._operation('*', right)\n      File \"/home/vbraun/opt/sage-5.1.beta5/local/lib/python/site-packages/sage/interfaces/interface.py\", line 1075, in _operation\n        raise TypeError, msg\n    TypeError: Singular error:\n       ? `sage449` is not defined\n       ? error occurred in or before STDIN line 11: `def sage458=sage450 * sage449;`\n**********************************************************************\n1 items had failures:\n   1 of   8 in __main__.example_9\n```",
    "created_at": "2012-06-20T13:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98244",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">comment:9</div>

Running the doctest in a loop, I get occasional (maybe 1 in 20) failures

```
sage -t -force_lib "devel/sage/sage/interfaces/singular.py" 
**********************************************************************
File "/home/vbraun/opt/sage-5.1.beta5/devel/sage/sage/interfaces/singular.py", line 480:
    sage: 2*a
Exception raised:
    Traceback (most recent call last):
      File "/home/vbraun/opt/sage-5.1.beta5/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/vbraun/opt/sage-5.1.beta5/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/vbraun/opt/sage-5.1.beta5/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_9[6]>", line 1, in <module>
        Integer(2)*a###line 480:
    sage: 2*a
      File "element.pyx", line 1687, in sage.structure.element.RingElement.__mul__ (sage/structure/element.c:12755)
      File "coerce.pyx", line 749, in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:6778)
      File "coerce.pyx", line 745, in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:6718)
      File "element.pyx", line 1682, in sage.structure.element.RingElement.__mul__ (sage/structure/element.c:12681)
      File "element.pyx", line 1689, in sage.structure.element.RingElement._mul_ (sage/structure/element.c:12807)
      File "/home/vbraun/opt/sage-5.1.beta5/local/lib/python/site-packages/sage/interfaces/interface.py", line 1118, in _mul_
        return self._operation('*', right)
      File "/home/vbraun/opt/sage-5.1.beta5/local/lib/python/site-packages/sage/interfaces/interface.py", line 1075, in _operation
        raise TypeError, msg
    TypeError: Singular error:
       ? `sage449` is not defined
       ? error occurred in or before STDIN line 11: `def sage458=sage450 * sage449;`
**********************************************************************
1 items had failures:
   1 of   8 in __main__.example_9
```



---

archive/issue_events_136001.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-24T22:31:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136001"
}
```



---

archive/issue_events_136002.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-24T22:31:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136002"
}
```



---

archive/issue_comments_098245.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWell, improving the function from working less than 5% of the time to about 95% of the time isn't bad :-)\n\nBut you're right that this needs work.  Since I will have to make some more serious changes, let's not do it anymore in sage-5.1.",
    "created_at": "2012-06-24T22:31:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98245",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Well, improving the function from working less than 5% of the time to about 95% of the time isn't bad :-)

But you're right that this needs work.  Since I will have to make some more serious changes, let's not do it anymore in sage-5.1.



---

archive/issue_comments_098246.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2012-07-12T13:54:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98246",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_events_136003.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2012-07-12T13:59:38Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "subject": "https://github.com/jdemeyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136003"
}
```



---

archive/issue_events_136004.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-12T13:59:38Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "subject": "https://github.com/jdemeyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136004"
}
```



---

archive/issue_comments_098247.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, but not in a stable release.** to **Fixed upstream, in a later stable release.**",
    "created_at": "2012-07-12T13:59:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98247",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Fixed upstream, but not in a stable release.** to **Fixed upstream, in a later stable release.**



---

archive/issue_comments_098248.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,10 +7,8 @@\n \n ---\n \n-new **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg) (see [diff](https://github.com/sagemath/sage/files/ticket10476/singular-3-1-3-3.p7.diff.gz))\n-\n **apply** [attachment: 10476_singular_interrupt.patch](https://github.com/sagemath/sage/files/ticket10476/10476_singular_interrupt.patch.gz) to the Sage library.\n \n ---\n \n-`cntrlc.patch` sent upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/432](http://www.singular.uni-kl.de:8002/trac/ticket/432)\n+`cntrlc.patch` sent and accepted upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/432](http://www.singular.uni-kl.de:8002/trac/ticket/432)\n``````\n",
    "created_at": "2012-07-12T14:01:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98248",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,10 +7,8 @@
 
 ---
 
-new **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-3-3.p7.spkg) (see [diff](https://github.com/sagemath/sage/files/ticket10476/singular-3-1-3-3.p7.diff.gz))
-
 **apply** [attachment: 10476_singular_interrupt.patch](https://github.com/sagemath/sage/files/ticket10476/10476_singular_interrupt.patch.gz) to the Sage library.
 
 ---
 
-`cntrlc.patch` sent upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/432](http://www.singular.uni-kl.de:8002/trac/ticket/432)
+`cntrlc.patch` sent and accepted upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/432](http://www.singular.uni-kl.de:8002/trac/ticket/432)
``````




---

archive/issue_comments_098249.json:
```json
{
    "body": "Dependencies: **#13237**",
    "created_at": "2012-07-12T14:01:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98249",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#13237**



---

archive/issue_events_136005.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-21T16:16:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136005"
}
```



---

archive/issue_events_136006.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-21T16:16:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136006"
}
```



---

archive/issue_events_136007.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136007"
}
```



---

archive/issue_events_136008.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136008"
}
```



---

archive/issue_events_136009.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136009"
}
```



---

archive/issue_events_136010.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136010"
}
```



---

archive/issue_events_136011.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136011"
}
```



---

archive/issue_events_136012.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136012"
}
```



---

archive/issue_comments_098250.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, in a later stable release.** to **Not yet reported upstream; Will do shortly.**",
    "created_at": "2014-05-20T16:04:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98250",
    "user": "https://github.com/rwst"
}
```

Changed upstream from **Fixed upstream, in a later stable release.** to **Not yet reported upstream; Will do shortly.**



---

archive/issue_comments_098251.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@vbraun](#comment%3A9):\n> Running the doctest in a loop, I get occasional (maybe 1 in 20) failures\n\nThis is a good estimate of the rate when the issue leads to patchbot false test failures.\nBut #13237 was fixed 21 months ago, so obviously they too didn't fix it completely.",
    "created_at": "2014-05-20T16:04:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98251",
    "user": "https://github.com/rwst"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@vbraun](#comment%3A9):
> Running the doctest in a loop, I get occasional (maybe 1 in 20) failures

This is a good estimate of the rate when the issue leads to patchbot false test failures.
But #13237 was fixed 21 months ago, so obviously they too didn't fix it completely.



---

archive/issue_comments_098252.json:
```json
{
    "body": "Changed keywords from **interrupt singular expect sd40.5** to **interrupt singular expect sd40.5 patchbot**",
    "created_at": "2014-05-20T16:04:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98252",
    "user": "https://github.com/rwst"
}
```

Changed keywords from **interrupt singular expect sd40.5** to **interrupt singular expect sd40.5 patchbot**



---

archive/issue_events_136013.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-20T16:04:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136013"
}
```



---

archive/issue_events_136014.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-05-20T16:04:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136014"
}
```



---

archive/issue_comments_098253.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAfter 6.3beta2 the rate of failure under Ubuntu+patchbot (both `SageMath`/`Google` cloud) has gone up significantly to the order of 50%.\n\n```\nFile \"src/sage/interfaces/expect.py\", line 790, in sage.interfaces.expect.Expect._eval_line\nFailed example:\n    singular.interrupt(timeout=3)  # sometimes very slow (up to 60s on sage.math, 2012)\nExpected:\n    False\nGot:\n    True\n```",
    "created_at": "2014-05-29T09:35:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98253",
    "user": "https://github.com/rwst"
}
```

<div id="comment:19" align="right">comment:19</div>

After 6.3beta2 the rate of failure under Ubuntu+patchbot (both `SageMath`/`Google` cloud) has gone up significantly to the order of 50%.

```
File "src/sage/interfaces/expect.py", line 790, in sage.interfaces.expect.Expect._eval_line
Failed example:
    singular.interrupt(timeout=3)  # sometimes very slow (up to 60s on sage.math, 2012)
Expected:
    False
Got:
    True
```



---

archive/issue_comments_098254.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n#15178 might improve things a bit (will be in beta3)",
    "created_at": "2014-05-29T11:06:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98254",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

#15178 might improve things a bit (will be in beta3)



---

archive/issue_comments_098255.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@vbraun](#comment%3A20):\n> #15178 might improve things a bit (will be in beta3)\n\nI don't see how that could be related.",
    "created_at": "2014-06-02T09:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98255",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@vbraun](#comment%3A20):
> #15178 might improve things a bit (will be in beta3)

I don't see how that could be related.



---

archive/issue_comments_098256.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nSince the `cntrlc=a` patch is now in upstream we should at least make use of the command line option...",
    "created_at": "2014-07-16T19:53:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98256",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">comment:22</div>

Since the `cntrlc=a` patch is now in upstream we should at least make use of the command line option...



---

archive/issue_events_136015.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136015"
}
```



---

archive/issue_events_136016.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136016"
}
```



---

archive/issue_comments_098257.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n> Since the cntrlc=a patch is now in upstream we should at least make use of the command line option\n\nThat should be easy now, since the patch is in 3.1.7 and 3.1.7 is in sage!\nI just do not know where this change has to be done.\n\nFollowing choices for --cntrlc= are possible: a,r,b,c,q :\n\n```\nabort after this command(a), abort immediately(r), print backtrace(b), continue(c) or quit Singular(q) ?\n```",
    "created_at": "2015-02-03T00:06:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98257",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

<div id="comment:24" align="right">comment:24</div>

> Since the cntrlc=a patch is now in upstream we should at least make use of the command line option

That should be easy now, since the patch is in 3.1.7 and 3.1.7 is in sage!
I just do not know where this change has to be done.

Following choices for --cntrlc= are possible: a,r,b,c,q :

```
abort after this command(a), abort immediately(r), print backtrace(b), continue(c) or quit Singular(q) ?
```



---

archive/issue_comments_098258.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI'm in `pexpect` mood anyway (#17686, #17704), so I might as well have a look at this.",
    "created_at": "2015-02-03T08:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98258",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

I'm in `pexpect` mood anyway (#17686, #17704), so I might as well have a look at this.



---

archive/issue_comments_098259.json:
```json
{
    "body": "Changed upstream from **Not yet reported upstream; Will do shortly.** to **Completely fixed; Fix reported upstream**",
    "created_at": "2015-02-03T08:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98259",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Not yet reported upstream; Will do shortly.** to **Completely fixed; Fix reported upstream**



---

archive/issue_events_136017.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-03T12:01:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136017"
}
```



---

archive/issue_events_136018.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-02-03T12:01:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136018"
}
```



---

archive/issue_comments_098260.json:
```json
{
    "body": "Changed dependencies from **#13237** to **#17704, #17718**",
    "created_at": "2015-02-03T12:01:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98260",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#13237** to **#17704, #17718**



---

archive/issue_comments_098261.json:
```json
{
    "body": "Changed dependencies from **#17704, #17718** to **#17704, #17718, #17719**",
    "created_at": "2015-02-03T13:08:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98261",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#17704, #17718** to **#17704, #17718, #17719**



---

archive/issue_comments_098262.json:
```json
{
    "body": "Branch: **[public/ticket/10476](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/10476)**",
    "created_at": "2015-05-17T18:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98262",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[public/ticket/10476](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/10476)**



---

archive/issue_comments_098263.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac310c70781ee1d9eab425e5edc97c94e481825b\"><code>ac310c7</code></a></td><td><code>Fix interrupting Singular</code></td></tr></table>\n",
    "created_at": "2015-05-17T18:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98263",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:28"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac310c70781ee1d9eab425e5edc97c94e481825b"><code>ac310c7</code></a></td><td><code>Fix interrupting Singular</code></td></tr></table>




---

archive/issue_comments_098264.json:
```json
{
    "body": "Commit: **[`ac310c7`](https://github.com/sagemath/sagetrac-mirror/commit/ac310c70781ee1d9eab425e5edc97c94e481825b)**",
    "created_at": "2015-05-17T18:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98264",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`ac310c7`](https://github.com/sagemath/sagetrac-mirror/commit/ac310c70781ee1d9eab425e5edc97c94e481825b)**



---

archive/issue_events_136019.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-05-18T12:08:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136019"
}
```



---

archive/issue_events_136020.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-05-18T12:08:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136020"
}
```



---

archive/issue_comments_098265.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d3289c1a91ed956e0e534c1b83870d540fccaa7\"><code>1d3289c</code></a></td><td><code>Merge branch 'public/ticket/10476' into 6.7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79bce4d264e30010e714ebc6bfa1f120a1bdf958\"><code>79bce4d</code></a></td><td><code>trac #10476 doc formatting</code></td></tr></table>\n",
    "created_at": "2015-05-18T13:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98265",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d3289c1a91ed956e0e534c1b83870d540fccaa7"><code>1d3289c</code></a></td><td><code>Merge branch 'public/ticket/10476' into 6.7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79bce4d264e30010e714ebc6bfa1f120a1bdf958"><code>79bce4d</code></a></td><td><code>trac #10476 doc formatting</code></td></tr></table>




---

archive/issue_comments_098266.json:
```json
{
    "body": "Changed commit from **[`ac310c7`](https://github.com/sagemath/sagetrac-mirror/commit/ac310c70781ee1d9eab425e5edc97c94e481825b)** to **[`79bce4d`](https://github.com/sagemath/sagetrac-mirror/commit/79bce4d264e30010e714ebc6bfa1f120a1bdf958)**",
    "created_at": "2015-05-18T13:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98266",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ac310c7`](https://github.com/sagemath/sagetrac-mirror/commit/ac310c70781ee1d9eab425e5edc97c94e481825b)** to **[`79bce4d`](https://github.com/sagemath/sagetrac-mirror/commit/79bce4d264e30010e714ebc6bfa1f120a1bdf958)**



---

archive/issue_comments_098267.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThere is one failing doctest in the singular interface.",
    "created_at": "2015-05-21T07:54:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98267",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:31" align="right">comment:31</div>

There is one failing doctest in the singular interface.



---

archive/issue_comments_098268.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI would rather have #17686 in Sage first before continuing on this ticket.",
    "created_at": "2015-05-21T08:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98268",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

I would rather have #17686 in Sage first before continuing on this ticket.



---

archive/issue_comments_098269.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nThis seems to be much more frequent now with #17686 \n\n```\nsage -t --long src/sage/interfaces/expect.py\n**********************************************************************\nFile \"src/sage/interfaces/expect.py\", line 823, in sage.interfaces.expect.Expect._eval_line\nFailed example:\n    singular.interrupt(timeout=3)  # sometimes very slow (up to 60s on sage.math, 2012)\nExpected:\n    False\nGot:\n    True\n**********************************************************************\n1 item had failures:\n   1 of  15 in sage.interfaces.expect.Expect._eval_line\n    [89 tests, 1 failure, 4.74 s]\n```",
    "created_at": "2015-06-19T20:53:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98269",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

This seems to be much more frequent now with #17686 

```
sage -t --long src/sage/interfaces/expect.py
**********************************************************************
File "src/sage/interfaces/expect.py", line 823, in sage.interfaces.expect.Expect._eval_line
Failed example:
    singular.interrupt(timeout=3)  # sometimes very slow (up to 60s on sage.math, 2012)
Expected:
    False
Got:
    True
**********************************************************************
1 item had failures:
   1 of  15 in sage.interfaces.expect.Expect._eval_line
    [89 tests, 1 failure, 4.74 s]
```



---

archive/issue_comments_098270.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nGood, so we're making progress!\n\nThe *correct* result of that doctest is `True`.",
    "created_at": "2015-06-19T21:06:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98270",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

Good, so we're making progress!

The *correct* result of that doctest is `True`.



---

archive/issue_comments_098271.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,8 +7,4 @@\n \n ---\n \n-**apply** [attachment: 10476_singular_interrupt.patch](https://github.com/sagemath/sage/files/ticket10476/10476_singular_interrupt.patch.gz) to the Sage library.\n-\n----\n-\n `cntrlc.patch` sent and accepted upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/432](http://www.singular.uni-kl.de:8002/trac/ticket/432)\n``````\n",
    "created_at": "2015-06-21T08:53:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98271",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,8 +7,4 @@
 
 ---
 
-**apply** [attachment: 10476_singular_interrupt.patch](https://github.com/sagemath/sage/files/ticket10476/10476_singular_interrupt.patch.gz) to the Sage library.
-
----
-
 `cntrlc.patch` sent and accepted upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/432](http://www.singular.uni-kl.de:8002/trac/ticket/432)
``````




---

archive/issue_comments_098272.json:
```json
{
    "body": "Changed dependencies from **#17704, #17718, #17719** to none",
    "created_at": "2015-06-21T08:53:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98272",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#17704, #17718, #17719** to none



---

archive/issue_comments_098273.json:
```json
{
    "body": "Changed commit from **[`79bce4d`](https://github.com/sagemath/sagetrac-mirror/commit/79bce4d264e30010e714ebc6bfa1f120a1bdf958)** to **[`42197f6`](https://github.com/sagemath/sagetrac-mirror/commit/42197f66f8fbbfd882630504ec101095287a706a)**",
    "created_at": "2015-06-21T09:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98273",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`79bce4d`](https://github.com/sagemath/sagetrac-mirror/commit/79bce4d264e30010e714ebc6bfa1f120a1bdf958)** to **[`42197f6`](https://github.com/sagemath/sagetrac-mirror/commit/42197f66f8fbbfd882630504ec101095287a706a)**



---

archive/issue_comments_098274.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42197f66f8fbbfd882630504ec101095287a706a\"><code>42197f6</code></a></td><td><code>Fix interrupting Singular</code></td></tr></table>\n",
    "created_at": "2015-06-21T09:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98274",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42197f66f8fbbfd882630504ec101095287a706a"><code>42197f6</code></a></td><td><code>Fix interrupting Singular</code></td></tr></table>




---

archive/issue_comments_098275.json:
```json
{
    "body": "Changed upstream from **Completely fixed; Fix reported upstream** to **Reported upstream. No feedback yet.**",
    "created_at": "2015-06-21T16:29:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98275",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Completely fixed; Fix reported upstream** to **Reported upstream. No feedback yet.**



---

archive/issue_comments_098276.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,4 +7,4 @@\n \n ---\n \n-`cntrlc.patch` sent and accepted upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/432](http://www.singular.uni-kl.de:8002/trac/ticket/432)\n+Upstream bug which really needs to fixed first: [http://www.singular.uni-kl.de:8002/trac/ticket/725](http://www.singular.uni-kl.de:8002/trac/ticket/725)\n``````\n",
    "created_at": "2015-06-21T16:29:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98276",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,4 +7,4 @@
 
 ---
 
-`cntrlc.patch` sent and accepted upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/432](http://www.singular.uni-kl.de:8002/trac/ticket/432)
+Upstream bug which really needs to fixed first: [http://www.singular.uni-kl.de:8002/trac/ticket/725](http://www.singular.uni-kl.de:8002/trac/ticket/725)
``````




---

archive/issue_comments_098277.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa4a15654ddc1c3f999428d3b0d9ca334c384f6a\"><code>aa4a156</code></a></td><td><code>Fix interrupting Singular</code></td></tr></table>\n",
    "created_at": "2015-06-21T18:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98277",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa4a15654ddc1c3f999428d3b0d9ca334c384f6a"><code>aa4a156</code></a></td><td><code>Fix interrupting Singular</code></td></tr></table>




---

archive/issue_comments_098278.json:
```json
{
    "body": "Changed commit from **[`42197f6`](https://github.com/sagemath/sagetrac-mirror/commit/42197f66f8fbbfd882630504ec101095287a706a)** to **[`aa4a156`](https://github.com/sagemath/sagetrac-mirror/commit/aa4a15654ddc1c3f999428d3b0d9ca334c384f6a)**",
    "created_at": "2015-06-21T18:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98278",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`42197f6`](https://github.com/sagemath/sagetrac-mirror/commit/42197f66f8fbbfd882630504ec101095287a706a)** to **[`aa4a156`](https://github.com/sagemath/sagetrac-mirror/commit/aa4a15654ddc1c3f999428d3b0d9ca334c384f6a)**



---

archive/issue_comments_098279.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,4 +7,4 @@\n \n ---\n \n-Upstream bug which really needs to fixed first: [http://www.singular.uni-kl.de:8002/trac/ticket/725](http://www.singular.uni-kl.de:8002/trac/ticket/725)\n+Related upstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/725](http://www.singular.uni-kl.de:8002/trac/ticket/725)\n``````\n",
    "created_at": "2015-06-23T07:53:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98279",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,4 +7,4 @@
 
 ---
 
-Upstream bug which really needs to fixed first: [http://www.singular.uni-kl.de:8002/trac/ticket/725](http://www.singular.uni-kl.de:8002/trac/ticket/725)
+Related upstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/725](http://www.singular.uni-kl.de:8002/trac/ticket/725)
``````




---

archive/issue_comments_098280.json:
```json
{
    "body": "Dependencies: **#18771**",
    "created_at": "2015-06-23T07:53:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98280",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#18771**



---

archive/issue_comments_098281.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45969a656b26452cb980c9537dcc087977811573\"><code>45969a6</code></a></td><td><code>Clean up interrupt()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4f2d83238a2c25400648a794a94830f2fa49ad4\"><code>a4f2d83</code></a></td><td><code>Fix interrupting Singular</code></td></tr></table>\n",
    "created_at": "2015-06-23T09:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98281",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45969a656b26452cb980c9537dcc087977811573"><code>45969a6</code></a></td><td><code>Clean up interrupt()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4f2d83238a2c25400648a794a94830f2fa49ad4"><code>a4f2d83</code></a></td><td><code>Fix interrupting Singular</code></td></tr></table>




---

archive/issue_comments_098282.json:
```json
{
    "body": "Changed commit from **[`aa4a156`](https://github.com/sagemath/sagetrac-mirror/commit/aa4a15654ddc1c3f999428d3b0d9ca334c384f6a)** to **[`a4f2d83`](https://github.com/sagemath/sagetrac-mirror/commit/a4f2d83238a2c25400648a794a94830f2fa49ad4)**",
    "created_at": "2015-06-23T09:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98282",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`aa4a156`](https://github.com/sagemath/sagetrac-mirror/commit/aa4a15654ddc1c3f999428d3b0d9ca334c384f6a)** to **[`a4f2d83`](https://github.com/sagemath/sagetrac-mirror/commit/a4f2d83238a2c25400648a794a94830f2fa49ad4)**



---

archive/issue_comments_098283.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,4 +7,4 @@\n \n ---\n \n-Related upstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/725](http://www.singular.uni-kl.de:8002/trac/ticket/725)\n+Upstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/727](http://www.singular.uni-kl.de:8002/trac/ticket/727)\n``````\n",
    "created_at": "2015-06-23T09:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98283",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,4 +7,4 @@
 
 ---
 
-Related upstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/725](http://www.singular.uni-kl.de:8002/trac/ticket/725)
+Upstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/727](http://www.singular.uni-kl.de:8002/trac/ticket/727)
``````




---

archive/issue_comments_098284.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17d23e9f81355875d60944359c67815c6acddaad\"><code>17d23e9</code></a></td><td><code>Fix interrupting Singular</code></td></tr></table>\n",
    "created_at": "2015-06-23T10:30:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98284",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17d23e9f81355875d60944359c67815c6acddaad"><code>17d23e9</code></a></td><td><code>Fix interrupting Singular</code></td></tr></table>




---

archive/issue_comments_098285.json:
```json
{
    "body": "Changed commit from **[`a4f2d83`](https://github.com/sagemath/sagetrac-mirror/commit/a4f2d83238a2c25400648a794a94830f2fa49ad4)** to **[`17d23e9`](https://github.com/sagemath/sagetrac-mirror/commit/17d23e9f81355875d60944359c67815c6acddaad)**",
    "created_at": "2015-06-23T10:30:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98285",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a4f2d83`](https://github.com/sagemath/sagetrac-mirror/commit/a4f2d83238a2c25400648a794a94830f2fa49ad4)** to **[`17d23e9`](https://github.com/sagemath/sagetrac-mirror/commit/17d23e9f81355875d60944359c67815c6acddaad)**



---

archive/issue_events_136021.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-23T10:31:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136021"
}
```



---

archive/issue_events_136022.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-06-23T10:31:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136022"
}
```



---

archive/issue_comments_098286.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nMinor doc error:\n\nOSError: [interface] docstring of sage.interfaces.sagespawn.SageSpawn.expect_peek:12: WARNING: Block quote ends without a blank line; unexpected unindent.",
    "created_at": "2015-06-23T21:50:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98286",
    "user": "https://github.com/kevindilks"
}
```

<div id="comment:45" align="right">comment:45</div>

Minor doc error:

OSError: [interface] docstring of sage.interfaces.sagespawn.SageSpawn.expect_peek:12: WARNING: Block quote ends without a blank line; unexpected unindent.



---

archive/issue_comments_098287.json:
```json
{
    "body": "Changed commit from **[`17d23e9`](https://github.com/sagemath/sagetrac-mirror/commit/17d23e9f81355875d60944359c67815c6acddaad)** to **[`02decd8`](https://github.com/sagemath/sagetrac-mirror/commit/02decd819ed4f6039b39a8b27592d51ed97b63ef)**",
    "created_at": "2015-06-24T06:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98287",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`17d23e9`](https://github.com/sagemath/sagetrac-mirror/commit/17d23e9f81355875d60944359c67815c6acddaad)** to **[`02decd8`](https://github.com/sagemath/sagetrac-mirror/commit/02decd819ed4f6039b39a8b27592d51ed97b63ef)**



---

archive/issue_comments_098288.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02decd819ed4f6039b39a8b27592d51ed97b63ef\"><code>02decd8</code></a></td><td><code>Fix documentation</code></td></tr></table>\n",
    "created_at": "2015-06-24T06:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98288",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02decd819ed4f6039b39a8b27592d51ed97b63ef"><code>02decd8</code></a></td><td><code>Fix documentation</code></td></tr></table>




---

archive/issue_comments_098289.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nThe documentation builds now.\n\nNot a thorough review of the code, but when repeatedly doctesting the file `./src/sage/interfaces/expect.py` on 6.8beta5, I can get `singular.interrupt(timeout=3)` to give an error every hundred or so times. With this patch applied, I've all had all tests pass a few thousand times.",
    "created_at": "2015-06-24T23:48:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98289",
    "user": "https://github.com/kevindilks"
}
```

<div id="comment:47" align="right">comment:47</div>

The documentation builds now.

Not a thorough review of the code, but when repeatedly doctesting the file `./src/sage/interfaces/expect.py` on 6.8beta5, I can get `singular.interrupt(timeout=3)` to give an error every hundred or so times. With this patch applied, I've all had all tests pass a few thousand times.



---

archive/issue_events_136023.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-28T09:29:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136023"
}
```



---

archive/issue_events_136024.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-06-28T09:29:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136024"
}
```



---

archive/issue_comments_098290.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI tried `./sage -t src/sage/interfaces/expect.py` on sage-6.8.beta7 and Ubuntu 15.04 a dozen times: it failed in about 50% of the runs (seemingly at random).",
    "created_at": "2015-07-03T11:39:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98290",
    "user": "https://github.com/wluebbe"
}
```

<div id="comment:49" align="right">comment:49</div>

I tried `./sage -t src/sage/interfaces/expect.py` on sage-6.8.beta7 and Ubuntu 15.04 a dozen times: it failed in about 50% of the runs (seemingly at random).



---

archive/issue_comments_098291.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nUpstream bug ticket has been updated.",
    "created_at": "2015-07-06T21:16:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98291",
    "user": "https://github.com/kevindilks"
}
```

<div id="comment:50" align="right">comment:50</div>

Upstream bug ticket has been updated.



---

archive/issue_comments_098292.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,4 +7,4 @@\n \n ---\n \n-Upstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/727](http://www.singular.uni-kl.de:8002/trac/ticket/727)\n+Upstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/730](http://www.singular.uni-kl.de:8002/trac/ticket/730)\n``````\n",
    "created_at": "2015-07-07T07:39:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98292",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,4 +7,4 @@
 
 ---
 
-Upstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/727](http://www.singular.uni-kl.de:8002/trac/ticket/727)
+Upstream bug: [http://www.singular.uni-kl.de:8002/trac/ticket/730](http://www.singular.uni-kl.de:8002/trac/ticket/730)
``````




---

archive/issue_comments_098293.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers deny it's a bug.**",
    "created_at": "2015-07-16T09:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98293",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers deny it's a bug.**



---

archive/issue_comments_098294.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nWell they don't really deny its a bug, just difficult to fix in the current architecture...",
    "created_at": "2015-07-16T09:50:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98294",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:53" align="right">comment:53</div>

Well they don't really deny its a bug, just difficult to fix in the current architecture...



---

archive/issue_events_136025.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-16T09:50:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136025"
}
```



---

archive/issue_events_136026.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-16T09:50:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136026"
}
```



---

archive/issue_comments_098295.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nReplying to [@vbraun](#comment%3A53):\n> Well they don't really deny its a bug, just difficult to fix in the current architecture...\n\nI sort of agree, but they did say it's considered a \"proposed feature\".",
    "created_at": "2015-07-16T09:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98295",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:54" align="right">comment:54</div>

Replying to [@vbraun](#comment%3A53):
> Well they don't really deny its a bug, just difficult to fix in the current architecture...

I sort of agree, but they did say it's considered a "proposed feature".



---

archive/issue_comments_098296.json:
```json
{
    "body": "Changed branch from **[public/ticket/10476](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/10476)** to **[`02decd8`](https://github.com/sagemath/sagetrac-mirror/commit/02decd819ed4f6039b39a8b27592d51ed97b63ef)**",
    "created_at": "2015-07-16T22:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10476#issuecomment-98296",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/10476](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/10476)** to **[`02decd8`](https://github.com/sagemath/sagetrac-mirror/commit/02decd819ed4f6039b39a8b27592d51ed97b63ef)**



---

archive/issue_events_136027.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-16T22:51:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136027"
}
```



---

archive/issue_events_136028.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "aac9bf55c8a198d69c0c6eda62e7c3aa28de1fcf",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-07-16T22:51:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10476",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10476#event-136028"
}
```
