# Issue 10973: Integral points on elliptic curves over number fields

archive/issues_010894.json:
```json
{
    "assignees": [
        "https://github.com/JohnCremona"
    ],
    "body": "Incorporate work done by Rado Kirov and Jackie Anderson at Sage Days 22, based on Magma implementation by Cremona's student Nook.\n\nSee also #12095 (now tagged as duplicate).\n\nConverted to git by John Cremona, 2013-12-18\n\n\nCC:  @JohnCremona @sagetrac-gagansekhon @jbalakrishnan\n\nKeywords: **sd32**\n\nBranch/Commit: **[public/10973](https://github.com/sagemath/sagetrac-mirror/tree/public/10973) @ [`0774d59`](https://github.com/sagemath/sagetrac-mirror/commit/0774d5990a14f8b923ec6f876891f5f8ee871487)**\n\nAuthor: **Justin Walker, Aly Deines, Jennifer Balakrishnan**\n\nComponent: **elliptic curves**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10973_\n\n",
    "created_at": "2011-03-21T19:47:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Integral points on elliptic curves over number fields",
    "type": "issue",
    "updated_at": "2022-09-19T18:58:47Z",
    "url": "https://github.com/sagemath/sage/issues/10973",
    "user": "https://github.com/RalphieBoy"
}
```
Incorporate work done by Rado Kirov and Jackie Anderson at Sage Days 22, based on Magma implementation by Cremona's student Nook.

See also #12095 (now tagged as duplicate).

Converted to git by John Cremona, 2013-12-18


CC:  @JohnCremona @sagetrac-gagansekhon @jbalakrishnan

Keywords: **sd32**

Branch/Commit: **[public/10973](https://github.com/sagemath/sagetrac-mirror/tree/public/10973) @ [`0774d59`](https://github.com/sagemath/sagetrac-mirror/commit/0774d5990a14f8b923ec6f876891f5f8ee871487)**

Author: **Justin Walker, Aly Deines, Jennifer Balakrishnan**

Component: **elliptic curves**

_Issue created by migration from https://trac.sagemath.org/ticket/10973_





---

archive/issue_events_144182.json:
```json
{
    "actor": "https://github.com/RalphieBoy",
    "created_at": "2011-03-21T19:47:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
    "label_color": "0000ff",
    "label_name": "c: elliptic curves",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144182"
}
```



---

archive/issue_events_144183.json:
```json
{
    "actor": "https://github.com/RalphieBoy",
    "created_at": "2011-03-21T19:47:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144183"
}
```



---

archive/issue_events_144184.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-03-21T19:47:56Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "subject": "https://github.com/RalphieBoy",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144184"
}
```



---

archive/issue_comments_107711.json:
```json
{
    "body": "Attachment: **[intpts.sage.gz](https://github.com/sagemath/sage/files/ticket10973/intpts.sage.gz)**",
    "created_at": "2011-03-21T19:48:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107711",
    "user": "https://github.com/RalphieBoy"
}
```

Attachment: **[intpts.sage.gz](https://github.com/sagemath/sage/files/ticket10973/intpts.sage.gz)**



---

archive/issue_events_144185.json:
```json
{
    "actor": "https://github.com/RalphieBoy",
    "created_at": "2011-03-21T20:04:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144185"
}
```



---

archive/issue_comments_107712.json:
```json
{
    "body": "Attachment: **[ell_int_points.py.gz](https://github.com/sagemath/sage/files/ticket10973/ell_int_points.py.gz)**\n\nThis code goes into \"sage/schemes/elliptiic_curves\".  It works, but needs work.",
    "created_at": "2011-03-22T17:32:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107712",
    "user": "https://github.com/RalphieBoy"
}
```

Attachment: **[ell_int_points.py.gz](https://github.com/sagemath/sage/files/ticket10973/ell_int_points.py.gz)**

This code goes into "sage/schemes/elliptiic_curves".  It works, but needs work.



---

archive/issue_comments_107713.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nNew version of .py file, fixing a problem with bogus interaction with Maxima.",
    "created_at": "2011-03-22T17:33:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107713",
    "user": "https://github.com/RalphieBoy"
}
```

<div id="comment:2" align="right">comment:2</div>

New version of .py file, fixing a problem with bogus interaction with Maxima.



---

archive/issue_comments_107714.json:
```json
{
    "body": "Attachment: **[trac_10973.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973.gz)**",
    "created_at": "2011-03-23T02:22:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107714",
    "user": "https://github.com/sagetrac-gagansekhon"
}
```

Attachment: **[trac_10973.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973.gz)**



---

archive/issue_comments_107715.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe patch trac_10973 should apply w/o problems against sage-4.7.alpha1.\n\nThe previous attachments are replaced by this one.",
    "created_at": "2011-03-23T04:50:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107715",
    "user": "https://github.com/RalphieBoy"
}
```

<div id="comment:3" align="right">comment:3</div>

The patch trac_10973 should apply w/o problems against sage-4.7.alpha1.

The previous attachments are replaced by this one.



---

archive/issue_comments_107716.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis patch is related to, and appears to fix, the problem described by #10152.",
    "created_at": "2011-03-25T00:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107716",
    "user": "https://github.com/RalphieBoy"
}
```

<div id="comment:4" align="right">comment:4</div>

This patch is related to, and appears to fix, the problem described by #10152.



---

archive/issue_comments_107717.json:
```json
{
    "body": "Attachment: **[trac_10973.2.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973.2.gz)**\n\nUpdated patch with code to reject requests w/o generators; replaces previous patch of same name.",
    "created_at": "2011-03-25T01:17:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107717",
    "user": "https://github.com/RalphieBoy"
}
```

Attachment: **[trac_10973.2.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973.2.gz)**

Updated patch with code to reject requests w/o generators; replaces previous patch of same name.



---

archive/issue_comments_107718.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nminor error in all.py, +from ell_int_points.py import *\n should be +from ell_int_points import *\nThe new patch that I will be uploading in a minute fixes that.",
    "created_at": "2011-03-25T19:08:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107718",
    "user": "https://github.com/sagetrac-gagansekhon"
}
```

<div id="comment:5" align="right">comment:5</div>

minor error in all.py, +from ell_int_points.py import *
 should be +from ell_int_points import *
The new patch that I will be uploading in a minute fixes that.



---

archive/issue_comments_107719.json:
```json
{
    "body": "Attachment: **[trac_10973.patch.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973.patch.gz)**",
    "created_at": "2011-03-25T19:08:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107719",
    "user": "https://github.com/sagetrac-gagansekhon"
}
```

Attachment: **[trac_10973.patch.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973.patch.gz)**



---

archive/issue_comments_107720.json:
```json
{
    "body": "Attachment: **[trac_10973.2.patch.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973.2.patch.gz)**\n\nThis replaces the previous patch",
    "created_at": "2011-08-24T04:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107720",
    "user": "https://github.com/adeines"
}
```

Attachment: **[trac_10973.2.patch.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973.2.patch.gz)**

This replaces the previous patch



---

archive/issue_comments_107721.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThe tests pass on all files except ell_ergos.py and constructor.py, specifically, the tests which call S_integral_points([]) are having issues.  \n\nAll examples from the paper referenced now pass as do all examples from #10152, so once this is implemented, this also fixes #10152.",
    "created_at": "2011-08-24T04:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107721",
    "user": "https://github.com/adeines"
}
```

<div id="comment:7" align="right">comment:7</div>

The tests pass on all files except ell_ergos.py and constructor.py, specifically, the tests which call S_integral_points([]) are having issues.  

All examples from the paper referenced now pass as do all examples from #10152, so once this is implemented, this also fixes #10152.



---

archive/issue_comments_107722.json:
```json
{
    "body": "replaces previous patch",
    "created_at": "2011-08-24T05:15:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107722",
    "user": "https://github.com/adeines"
}
```

replaces previous patch



---

archive/issue_events_144186.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2011-08-24T05:16:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144186"
}
```



---

archive/issue_comments_107723.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAttachment: **[trac_10973.3.patch.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973.3.patch.gz)**\n\nThis should do it.  This is a small fix to the previous patch, it now passes the tests.",
    "created_at": "2011-08-24T05:16:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107723",
    "user": "https://github.com/adeines"
}
```

<div id="comment:8" align="right">comment:8</div>

Attachment: **[trac_10973.3.patch.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973.3.patch.gz)**

This should do it.  This is a small fix to the previous patch, it now passes the tests.



---

archive/issue_comments_107724.json:
```json
{
    "body": "Changed author from **Justin Walker** to **Justin Walker, Aly Deines**",
    "created_at": "2011-08-24T05:17:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107724",
    "user": "https://github.com/adeines"
}
```

Changed author from **Justin Walker** to **Justin Walker, Aly Deines**



---

archive/issue_comments_107725.json:
```json
{
    "body": "Changed author from **Justin Walker, Aly Deines** to **Justin Walker, Aly Deines, Jennifer Balakrishnan**",
    "created_at": "2011-08-24T05:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107725",
    "user": "https://github.com/adeines"
}
```

Changed author from **Justin Walker, Aly Deines** to **Justin Walker, Aly Deines, Jennifer Balakrishnan**



---

archive/issue_comments_107726.json:
```json
{
    "body": "Attachment: **[report.txt](https://github.com/sagemath/sage/files/ticket10973/report.txt)**\n\nThis is a list of 14 issues I had reading through trac_10973.3.patch.",
    "created_at": "2011-08-24T06:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107726",
    "user": "https://github.com/williamstein"
}
```

Attachment: **[report.txt](https://github.com/sagemath/sage/files/ticket10973/report.txt)**

This is a list of 14 issues I had reading through trac_10973.3.patch.



---

archive/issue_comments_107727.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nPlease see the rather long file report.txt that I posted with a bunch of issues I noticed when reading through trac_10973.3.patch.",
    "created_at": "2011-08-24T06:16:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107727",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:11" align="right">comment:11</div>

Please see the rather long file report.txt that I posted with a bunch of issues I noticed when reading through trac_10973.3.patch.



---

archive/issue_events_144187.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-08-24T06:16:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144187"
}
```



---

archive/issue_events_144188.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-08-24T06:16:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144188"
}
```



---

archive/issue_comments_107728.json:
```json
{
    "body": "Attachment: **[Trac10973.4.patch.gz](https://github.com/sagemath/sage/files/ticket10973/Trac10973.4.patch.gz)**\n\nReplaces previous patch.",
    "created_at": "2011-08-24T21:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107728",
    "user": "https://github.com/adeines"
}
```

Attachment: **[Trac10973.4.patch.gz](https://github.com/sagemath/sage/files/ticket10973/Trac10973.4.patch.gz)**

Replaces previous patch.



---

archive/issue_events_144189.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2011-08-24T21:56:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144189"
}
```



---

archive/issue_events_144190.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2011-08-24T21:56:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144190"
}
```



---

archive/issue_comments_107729.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nTrac10973.4.patch addresses everything in report.txt.\n\nThis returns the same result as the original integral_points over `Q` with all curves of conductor up to 1000 (and also agrees with Magma).  This also finds the missing points referred to in ticket #10152.\n\nWe compared times on all curves over `Q` of conductor less then 1000; the original implementation was usually 2 to 8 \ntimes faster, though in certain instances it did not find all integral points (this was ticket #10152).  So this is a bit of a slowdown.  \n\nIf `E` is a curve over `Q`, then E.integral_points() calls the method in ell_rational_points.py (the previous, faster, not always correct, method).",
    "created_at": "2011-08-24T21:56:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107729",
    "user": "https://github.com/adeines"
}
```

<div id="comment:12" align="right">comment:12</div>

Trac10973.4.patch addresses everything in report.txt.

This returns the same result as the original integral_points over `Q` with all curves of conductor up to 1000 (and also agrees with Magma).  This also finds the missing points referred to in ticket #10152.

We compared times on all curves over `Q` of conductor less then 1000; the original implementation was usually 2 to 8 
times faster, though in certain instances it did not find all integral points (this was ticket #10152).  So this is a bit of a slowdown.  

If `E` is a curve over `Q`, then E.integral_points() calls the method in ell_rational_points.py (the previous, faster, not always correct, method).



---

archive/issue_comments_107730.json:
```json
{
    "body": "Attachment: **[Trac10973.5.patch.gz](https://github.com/sagemath/sage/files/ticket10973/Trac10973.5.patch.gz)**\n\nReplaces previous patch, corrects Authors.",
    "created_at": "2011-08-24T21:59:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107730",
    "user": "https://github.com/adeines"
}
```

Attachment: **[Trac10973.5.patch.gz](https://github.com/sagemath/sage/files/ticket10973/Trac10973.5.patch.gz)**

Replaces previous patch, corrects Authors.



---

archive/issue_comments_107731.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@adeines](#comment%3A12):\n> If `E` is a curve over `Q`, then E.integral_points() calls the \n> method in ell_rational_points.py (the previous, faster, not always correct, method).\n\nWhy?  Surely it would definitely be better to return a correct answer by default.   I can imagine leaving the old code in with an not-by-default option to call it and docs that mention it is faster.",
    "created_at": "2011-08-24T22:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107731",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@adeines](#comment%3A12):
> If `E` is a curve over `Q`, then E.integral_points() calls the 
> method in ell_rational_points.py (the previous, faster, not always correct, method).

Why?  Surely it would definitely be better to return a correct answer by default.   I can imagine leaving the old code in with an not-by-default option to call it and docs that mention it is faster.



---

archive/issue_comments_107732.json:
```json
{
    "body": "Attachment: **[report2.txt](https://github.com/sagemath/sage/files/ticket10973/report2.txt)**\n\nsecond short report -- looking good!",
    "created_at": "2011-08-24T22:28:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107732",
    "user": "https://github.com/williamstein"
}
```

Attachment: **[report2.txt](https://github.com/sagemath/sage/files/ticket10973/report2.txt)**

second short report -- looking good!



---

archive/issue_comments_107733.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nHere's a list of curves where your code and the latest (?) Magma V2.17-4 give different answers.  I checked these by hand, and Magma is clearly totally wrong (missing definitely integral points) in each case.  \n\n1264i1, 1328b1, 1656f1, 1848i1",
    "created_at": "2011-08-24T22:37:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107733",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:14" align="right">comment:14</div>

Here's a list of curves where your code and the latest (?) Magma V2.17-4 give different answers.  I checked these by hand, and Magma is clearly totally wrong (missing definitely integral points) in each case.  

1264i1, 1328b1, 1656f1, 1848i1



---

archive/issue_comments_107734.json:
```json
{
    "body": "Changed keywords from none to **sd32**",
    "created_at": "2011-08-24T23:41:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107734",
    "user": "https://github.com/williamstein"
}
```

Changed keywords from none to **sd32**



---

archive/issue_comments_107735.json:
```json
{
    "body": "replaces previous patch",
    "created_at": "2011-08-25T00:05:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107735",
    "user": "https://github.com/adeines"
}
```

replaces previous patch



---

archive/issue_comments_107736.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAttachment: **[Trac10973.6.patch.gz](https://github.com/sagemath/sage/files/ticket10973/Trac10973.6.patch.gz)**\n\nReplying to [@williamstein](#comment%3A14):\n> Here's a list of curves where your code and the latest (?) Magma V2.17-4 give different answers.  I checked these by hand, and Magma is clearly totally wrong (missing definitely integral points) in each case.  \n> \n> 1264i1, 1328b1, 1656f1, 1848i1\n\nUpdate.  Using Sage-4.7.2 and Magma V2.17-9, these all agree:\n\n```\nsage: E = EllipticCurve(\"1264i1\")\nsage: E.integral_points()\n[(2 : 0 : 1), (4 : 10 : 1), (18 : 80 : 1), (246404 : 122312970 : 1)]\nsage: magma(E).IntegralPoints()\n[ (2 : 0 : 1), (4 : -10 : 1), (18 : 80 : 1), (246404 : 122312970 : 1) ]\nsage: E = EllipticCurve(\"1328b1\")\nsage: E.integral_points()\n[(2 : 2 : 1), (4386 : 290438 : 1)]\nsage: magma(E).IntegralPoints()\n[ (2 : 2 : 1), (4386 : 290438 : 1) ]\nsage: E = EllipticCurve(\"1656f1\")\nsage: E.integral_points()\n[(3 : 0 : 1), (6 : 18 : 1), (27 : 144 : 1), (336678 : 195353910 : 1)]\nsage: magma(E).IntegralPoints()\n[ (3 : 0 : 1), (6 : -18 : 1), (27 : 144 : 1), (336678 : -195353910 : 1) ]\nsage: E = EllipticCurve(\"1848i1\")\nsage: E.integral_points()\n[(2 : 3 : 1), (3206 : 181557 : 1)]\nsage: magma(E).IntegralPoints()\n[ (2 : 3 : 1), (3206 : 181557 : 1) ]\n```\nThat is using vanilla Sage (i.e. without any patches from this ticket).\nI am about to do a more systematic test.",
    "created_at": "2011-11-23T11:52:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107736",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:17" align="right">comment:17</div>

Attachment: **[Trac10973.6.patch.gz](https://github.com/sagemath/sage/files/ticket10973/Trac10973.6.patch.gz)**

Replying to [@williamstein](#comment%3A14):
> Here's a list of curves where your code and the latest (?) Magma V2.17-4 give different answers.  I checked these by hand, and Magma is clearly totally wrong (missing definitely integral points) in each case.  
> 
> 1264i1, 1328b1, 1656f1, 1848i1

Update.  Using Sage-4.7.2 and Magma V2.17-9, these all agree:

```
sage: E = EllipticCurve("1264i1")
sage: E.integral_points()
[(2 : 0 : 1), (4 : 10 : 1), (18 : 80 : 1), (246404 : 122312970 : 1)]
sage: magma(E).IntegralPoints()
[ (2 : 0 : 1), (4 : -10 : 1), (18 : 80 : 1), (246404 : 122312970 : 1) ]
sage: E = EllipticCurve("1328b1")
sage: E.integral_points()
[(2 : 2 : 1), (4386 : 290438 : 1)]
sage: magma(E).IntegralPoints()
[ (2 : 2 : 1), (4386 : 290438 : 1) ]
sage: E = EllipticCurve("1656f1")
sage: E.integral_points()
[(3 : 0 : 1), (6 : 18 : 1), (27 : 144 : 1), (336678 : 195353910 : 1)]
sage: magma(E).IntegralPoints()
[ (3 : 0 : 1), (6 : -18 : 1), (27 : 144 : 1), (336678 : -195353910 : 1) ]
sage: E = EllipticCurve("1848i1")
sage: E.integral_points()
[(2 : 3 : 1), (3206 : 181557 : 1)]
sage: magma(E).IntegralPoints()
[ (2 : 3 : 1), (3206 : 181557 : 1) ]
```
That is using vanilla Sage (i.e. without any patches from this ticket).
I am about to do a more systematic test.



---

archive/issue_comments_107737.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI am testing this now.  It looks as if all the points raised in William's last report have been dealt with.\n\nIt looks odd to me to have the main integral_points function which is a method of the EllipticCurve_number_field class defined in a separate file, so that in ell_number_field.py you only see the line integral_points = integral_points.  I did not know that would work!  But, given that it does, it is cleaner.  I will check to see that the documentation is not thereby hidden.",
    "created_at": "2011-11-23T12:50:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107737",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:18" align="right">comment:18</div>

I am testing this now.  It looks as if all the points raised in William's last report have been dealt with.

It looks odd to me to have the main integral_points function which is a method of the EllipticCurve_number_field class defined in a separate file, so that in ell_number_field.py you only see the line integral_points = integral_points.  I did not know that would work!  But, given that it does, it is cleaner.  I will check to see that the documentation is not thereby hidden.



---

archive/issue_comments_107738.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n Incorporate work done by Rado Kirov and Jackie Anderson at Sage Days 22, based on Magma implementation by Cremona's student Nook.\n \n+Apply only Trac10973.7.patch\n \n``````\n",
    "created_at": "2011-11-23T14:38:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107738",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
 Incorporate work done by Rado Kirov and Jackie Anderson at Sage Days 22, based on Magma implementation by Cremona's student Nook.
 
+Apply only Trac10973.7.patch
 
``````




---

archive/issue_comments_107739.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nPositive review.  In my reviewer's patch I fix  the following:\n\n0. Now applies to 4.7.2 with no fuzz.\n1. Added QQ to import list on line 332 of ell_number_field.py, otherwise testing ell_int_pts failed, but testing ell_number_field did not -- since the test for that function silverman_height_bounds was incomplete!  I fixed that too.\n2. Fixed a warning in docbuild by adding a blank line at line 69 of the same file.\n\nIt is now true that for an elliptic curve E over Q we have both the new E.silverman_height_bounds(), which gives lower and upper bounds, and the old E.silverman_height_bound(), which only gives one of them.  The latter can be deleted but that will require some tweaking of any code which uses it.  I have left that for another ticket.",
    "created_at": "2011-11-23T14:38:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107739",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:19" align="right">comment:19</div>

Positive review.  In my reviewer's patch I fix  the following:

0. Now applies to 4.7.2 with no fuzz.
1. Added QQ to import list on line 332 of ell_number_field.py, otherwise testing ell_int_pts failed, but testing ell_number_field did not -- since the test for that function silverman_height_bounds was incomplete!  I fixed that too.
2. Fixed a warning in docbuild by adding a blank line at line 69 of the same file.

It is now true that for an elliptic curve E over Q we have both the new E.silverman_height_bounds(), which gives lower and upper bounds, and the old E.silverman_height_bound(), which only gives one of them.  The latter can be deleted but that will require some tweaking of any code which uses it.  I have left that for another ticket.



---

archive/issue_events_144191.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-11-23T14:38:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144191"
}
```



---

archive/issue_events_144192.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-11-23T14:38:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144192"
}
```



---

archive/issue_comments_107740.json:
```json
{
    "body": "Replaces all previous: reviewer's patch",
    "created_at": "2011-11-23T14:39:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107740",
    "user": "https://github.com/JohnCremona"
}
```

Replaces all previous: reviewer's patch



---

archive/issue_comments_107741.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAttachment: **[Trac10973.7.patch.gz](https://github.com/sagemath/sage/files/ticket10973/Trac10973.7.patch.gz)**\n\nReplying to [@JohnCremona](#comment%3A18):\n> I am testing this now.  It looks as if all the points raised in William's last report have been dealt with.\n> \n\nThe first curve where Sage-4.7.2 fails to find the same number of integral points as Magma V2.17-9 is 2082a1 where Sage-4.7.2 finds x-coordinates -11,-2,4,13 but not 507525709 (!).  But the new version does find that last one.\n\nI will carry on testing, but there is no need to delay merging this (expect perhaps if I find a curve for which the new code fails to find all known points).",
    "created_at": "2011-11-23T16:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107741",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:20" align="right">comment:20</div>

Attachment: **[Trac10973.7.patch.gz](https://github.com/sagemath/sage/files/ticket10973/Trac10973.7.patch.gz)**

Replying to [@JohnCremona](#comment%3A18):
> I am testing this now.  It looks as if all the points raised in William's last report have been dealt with.
> 

The first curve where Sage-4.7.2 fails to find the same number of integral points as Magma V2.17-9 is 2082a1 where Sage-4.7.2 finds x-coordinates -11,-2,4,13 but not 507525709 (!).  But the new version does find that last one.

I will carry on testing, but there is no need to delay merging this (expect perhaps if I find a curve for which the new code fails to find all known points).



---

archive/issue_comments_107742.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@JohnCremona](#comment%3A20):\n> Replying to [@JohnCremona](#comment%3A18):\n> > I am testing this now.  It looks as if all the points raised in William's last report have been dealt with.\n> > \n\n> \n> The first curve where Sage-4.7.2 fails to find the same number of integral points as Magma V2.17-9 is 2082a1 where Sage-4.7.2 finds x-coordinates -11,-2,4,13 but not 507525709 (!).  But the new version does find that last one.\n> \n> I will carry on testing, but there is no need to delay merging this (expect perhaps if I find a curve for which the new code fails to find all known points).\n\nFor all curves of conductor up to 10000, there are precisely 3 where Sage-4.7.2 misses integral points compared with Magma V2.17-9, namely 2082a1, 6104b1, 8470g1, 8470g2;  in each case just one point is missed.  And the new code agrees with Magma in all these cases.  Regarding timings, up to 10000 Sage-4.7.2 took 157m while Magma took 943m;  that may be an unfair comparison though since Sage took generators from the DB while Magma (I think) computed them from scratch.  I will redo this with the current patch applied.",
    "created_at": "2011-11-24T14:19:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107742",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@JohnCremona](#comment%3A20):
> Replying to [@JohnCremona](#comment%3A18):
> > I am testing this now.  It looks as if all the points raised in William's last report have been dealt with.
> > 

> 
> The first curve where Sage-4.7.2 fails to find the same number of integral points as Magma V2.17-9 is 2082a1 where Sage-4.7.2 finds x-coordinates -11,-2,4,13 but not 507525709 (!).  But the new version does find that last one.
> 
> I will carry on testing, but there is no need to delay merging this (expect perhaps if I find a curve for which the new code fails to find all known points).

For all curves of conductor up to 10000, there are precisely 3 where Sage-4.7.2 misses integral points compared with Magma V2.17-9, namely 2082a1, 6104b1, 8470g1, 8470g2;  in each case just one point is missed.  And the new code agrees with Magma in all these cases.  Regarding timings, up to 10000 Sage-4.7.2 took 157m while Magma took 943m;  that may be an unfair comparison though since Sage took generators from the DB while Magma (I think) computed them from scratch.  I will redo this with the current patch applied.



---

archive/issue_comments_107743.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Incorporate work done by Rado Kirov and Jackie Anderson at Sage Days 22, based on Magma implementation by Cremona's student Nook.\n \n-Apply only Trac10973.7.patch\n+Apply only [attachment: Trac10973.7.patch](https://github.com/sagemath/sage/files/ticket10973/Trac10973.7.patch.gz)\n \n``````\n",
    "created_at": "2011-11-26T12:44:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107743",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Incorporate work done by Rado Kirov and Jackie Anderson at Sage Days 22, based on Magma implementation by Cremona's student Nook.
 
-Apply only Trac10973.7.patch
+Apply only [attachment: Trac10973.7.patch](https://github.com/sagemath/sage/files/ticket10973/Trac10973.7.patch.gz)
 
``````




---

archive/issue_comments_107744.json:
```json
{
    "body": "Reviewer: **John Cremona**",
    "created_at": "2011-11-26T12:44:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107744",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **John Cremona**



---

archive/issue_events_144193.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-26T12:44:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144193"
}
```



---

archive/issue_events_144194.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-26T21:27:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144194"
}
```



---

archive/issue_events_144195.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-26T21:27:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144195"
}
```



---

archive/issue_comments_107745.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI unfortunately get several doctest failures (with sage-4.8.alpha2 + various patches).  Did you test this patch with the new PARI (merged in sage-4.8.alpha1)?  I am also afraid that there are speed regressions, I am seeing a timeout:\n\n```\nsage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_int_points.py\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py\", line 12:\n    sage: E.integral_points()\nExpected:\n    [(-11 : -19 : 1), (-2 : 29 : 1), (4 : -16 : 1), (13 : -43 : 1), (507525709 : 11433453531221 : 1)]\nGot:\n    [(-11 : 29 : 1), (-2 : -28 : 1), (4 : 11 : 1), (13 : 29 : 1), (507525709 : -11433961056931 : 1)]\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py\", line 22:\n    sage: E.integral_points()\nExpected:\n    [(-41 : -266 : 1), (-27 : 294 : 1), (-13 : 266 : 1), (19 : 74 : 1), (22\n    : -49 : 1), (27 : -6 : 1), (29 : -14 : 1), (43 : -154 : 1), (53 : 266 :\n    1), (71 : 490 : 1), (414 : -8379 : 1), (1639 : 66346 : 1), (1667 :\n    -68054 : 1), (23036693 : 110568192854 : 1)]\nGot:\n    [(-41 : 266 : 1), (-27 : 294 : 1), (-13 : -266 : 1), (19 : 74 : 1), (22 : -49 : 1), (27 : 6 : 1), (29 : -14 : 1), (43 : 154 : 1), (53 : 266 : 1), (71 : -490 : 1), (414 : 8379 : 1), (1639 : 66346 : 1), (1667 : 68054 : 1), (23036693 : 110568192854 : 1)]\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py\", line 31:\n    sage: E.integral_points(algorithm = \"old\")\nExpected:\n    [(-1 : 0 : 1), (0 : 6 : 1), (3 : 12 : 1), (10 : 33 : 1), (15 : 56 : 1), (24 : 110 : 1), (43 : 264\n    : 1), (98 : 924 : 1), (395 : 7656 : 1)]\nGot:\n    [(-1 : 0 : 1), (0 : 6 : 1), (3 : 12 : 1), (10 : 33 : 1), (15 : 56 : 1), (24 : 110 : 1), (43 : 264 : 1), (98 : 924 : 1), (395 : 7656 : 1), (1681690 : 2179974753 : 1)]\n*********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py\", line 34:\n    sage: E.integral_points()\nExpected:\n    [(-1 : 0 : 1), (0 : -7 : 1), (3 : 12 : 1), (10 : -44 : 1), (15 : 56 :\n    1), (24 : 110 : 1), (43 : 264 : 1), (98 : -1023 : 1), (395 : -8052 : 1),\n    (1681690 : 2179974753 : 1)]\nGot:\n    [(-1 : 0 : 1), (0 : 6 : 1), (3 : -16 : 1), (10 : 33 : 1), (15 : -72 : 1), (24 : 110 : 1), (43 : -308 : 1), (98 : -1023 : 1), (395 : 76\n56 : 1), (1681690 : -2181656444 : 1)]\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py\", line 46:\n    sage: E.integral_points()\nExpected:\n    [(-14 : 17 : 1), (-12 : -22 : 1), (-7 : 38 : 1), (-1 : 22 : 1), (0 : -18\n    : 1), (13 : -22 : 1), (14 : -32 : 1), (21 : 66 : 1), (33 : -192 : 1),\n    (44 : 257 : 1), (63 : 458 : 1), (98 : -1012 : 1), (175 : -2398 : 1),\n    (1533 : -60792 : 1), (1561 : 60896 : 1), (18888968 : -82103620687 : 1)]\nGot:\n    [(-14 : 17 : 1), (-12 : 33 : 1), (-7 : -32 : 1), (-1 : 22 : 1), (0 : -18 : 1), (13 : -22 : 1), (14 : 17 : 1), (21 : -88 : 1), (33 : -1\n92 : 1), (44 : -302 : 1), (63 : 458 : 1), (98 : -1012 : 1), (175 : 2222 : 1), (1533 : -60792 : 1), (1561 : 60896 : 1), (18888968 : -821036\n20687 : 1)]\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py\", line 131:\n    sage: ellpts.abs_log_height(list(P2))\nExpected:\n    1.09861228866811\nGot:\n    3.21887582486820\n**********************************************************************\n```\n\n```\nThe following tests failed:\n\n        sage -t  -force_lib devel/sage/doc/en/bordeaux_2008/elliptic_curves.rst # Time out\n        sage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_int_points.py # 6 doctests failed\n```",
    "created_at": "2011-11-26T21:27:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107745",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

I unfortunately get several doctest failures (with sage-4.8.alpha2 + various patches).  Did you test this patch with the new PARI (merged in sage-4.8.alpha1)?  I am also afraid that there are speed regressions, I am seeing a timeout:

```
sage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_int_points.py
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py", line 12:
    sage: E.integral_points()
Expected:
    [(-11 : -19 : 1), (-2 : 29 : 1), (4 : -16 : 1), (13 : -43 : 1), (507525709 : 11433453531221 : 1)]
Got:
    [(-11 : 29 : 1), (-2 : -28 : 1), (4 : 11 : 1), (13 : 29 : 1), (507525709 : -11433961056931 : 1)]
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py", line 22:
    sage: E.integral_points()
Expected:
    [(-41 : -266 : 1), (-27 : 294 : 1), (-13 : 266 : 1), (19 : 74 : 1), (22
    : -49 : 1), (27 : -6 : 1), (29 : -14 : 1), (43 : -154 : 1), (53 : 266 :
    1), (71 : 490 : 1), (414 : -8379 : 1), (1639 : 66346 : 1), (1667 :
    -68054 : 1), (23036693 : 110568192854 : 1)]
Got:
    [(-41 : 266 : 1), (-27 : 294 : 1), (-13 : -266 : 1), (19 : 74 : 1), (22 : -49 : 1), (27 : 6 : 1), (29 : -14 : 1), (43 : 154 : 1), (53 : 266 : 1), (71 : -490 : 1), (414 : 8379 : 1), (1639 : 66346 : 1), (1667 : 68054 : 1), (23036693 : 110568192854 : 1)]
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py", line 31:
    sage: E.integral_points(algorithm = "old")
Expected:
    [(-1 : 0 : 1), (0 : 6 : 1), (3 : 12 : 1), (10 : 33 : 1), (15 : 56 : 1), (24 : 110 : 1), (43 : 264
    : 1), (98 : 924 : 1), (395 : 7656 : 1)]
Got:
    [(-1 : 0 : 1), (0 : 6 : 1), (3 : 12 : 1), (10 : 33 : 1), (15 : 56 : 1), (24 : 110 : 1), (43 : 264 : 1), (98 : 924 : 1), (395 : 7656 : 1), (1681690 : 2179974753 : 1)]
*********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py", line 34:
    sage: E.integral_points()
Expected:
    [(-1 : 0 : 1), (0 : -7 : 1), (3 : 12 : 1), (10 : -44 : 1), (15 : 56 :
    1), (24 : 110 : 1), (43 : 264 : 1), (98 : -1023 : 1), (395 : -8052 : 1),
    (1681690 : 2179974753 : 1)]
Got:
    [(-1 : 0 : 1), (0 : 6 : 1), (3 : -16 : 1), (10 : 33 : 1), (15 : -72 : 1), (24 : 110 : 1), (43 : -308 : 1), (98 : -1023 : 1), (395 : 76
56 : 1), (1681690 : -2181656444 : 1)]
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py", line 46:
    sage: E.integral_points()
Expected:
    [(-14 : 17 : 1), (-12 : -22 : 1), (-7 : 38 : 1), (-1 : 22 : 1), (0 : -18
    : 1), (13 : -22 : 1), (14 : -32 : 1), (21 : 66 : 1), (33 : -192 : 1),
    (44 : 257 : 1), (63 : 458 : 1), (98 : -1012 : 1), (175 : -2398 : 1),
    (1533 : -60792 : 1), (1561 : 60896 : 1), (18888968 : -82103620687 : 1)]
Got:
    [(-14 : 17 : 1), (-12 : 33 : 1), (-7 : -32 : 1), (-1 : 22 : 1), (0 : -18 : 1), (13 : -22 : 1), (14 : 17 : 1), (21 : -88 : 1), (33 : -1
92 : 1), (44 : -302 : 1), (63 : 458 : 1), (98 : -1012 : 1), (175 : 2222 : 1), (1533 : -60792 : 1), (1561 : 60896 : 1), (18888968 : -821036
20687 : 1)]
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.8.alpha3/devel/sage-main/sage/schemes/elliptic_curves/ell_int_points.py", line 131:
    sage: ellpts.abs_log_height(list(P2))
Expected:
    1.09861228866811
Got:
    3.21887582486820
**********************************************************************
```

```
The following tests failed:

        sage -t  -force_lib devel/sage/doc/en/bordeaux_2008/elliptic_curves.rst # Time out
        sage -t  -force_lib devel/sage/sage/schemes/elliptic_curves/ell_int_points.py # 6 doctests failed
```



---

archive/issue_comments_107746.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nMinor comment: could you format the copyright notice of the added file as shown in [http://sagemath.org/doc/developer/conventions.html#headings-of-sage-library-code-files](http://sagemath.org/doc/developer/conventions.html#headings-of-sage-library-code-files).  I am also very surprised to see William Stein in the copyright statement, he is not even an author of this ticket.",
    "created_at": "2011-11-26T21:33:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107746",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Minor comment: could you format the copyright notice of the added file as shown in [http://sagemath.org/doc/developer/conventions.html#headings-of-sage-library-code-files](http://sagemath.org/doc/developer/conventions.html#headings-of-sage-library-code-files).  I am also very surprised to see William Stein in the copyright statement, he is not even an author of this ticket.



---

archive/issue_comments_107747.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nLine 617: replace by `initQ = 10^118` :-)",
    "created_at": "2011-11-26T21:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107747",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Line 617: replace by `initQ = 10^118` :-)



---

archive/issue_comments_107748.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nIf you word-wrap doctest results (which is a good idea), try to word-wrap them more logically, i.e. write\n\n```\n[(-41 : -266 : 1), (-27 : 294 : 1), (-13 : 266 : 1), (19 : 74 : 1),\n(22 : -49 : 1), (27 : -6 : 1), (29 : -14 : 1), (43 : -154 : 1),\n(53 : 266 : 1), (71 : 490 : 1), (414 : -8379 : 1), (1639 : 66346 : 1),\n(1667 : -68054 : 1), (23036693 : 110568192854 : 1)]\n```\ninstead of\n\n```\n[(-41 : -266 : 1), (-27 : 294 : 1), (-13 : 266 : 1), (19 : 74 : 1), (22 \n: -49 : 1), (27 : -6 : 1), (29 : -14 : 1), (43 : -154 : 1), (53 : 266 : \n1), (71 : 490 : 1), (414 : -8379 : 1), (1639 : 66346 : 1), (1667 : \n-68054 : 1), (23036693 : 110568192854 : 1)]\n```",
    "created_at": "2011-11-26T21:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107748",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

If you word-wrap doctest results (which is a good idea), try to word-wrap them more logically, i.e. write

```
[(-41 : -266 : 1), (-27 : 294 : 1), (-13 : 266 : 1), (19 : 74 : 1),
(22 : -49 : 1), (27 : -6 : 1), (29 : -14 : 1), (43 : -154 : 1),
(53 : 266 : 1), (71 : 490 : 1), (414 : -8379 : 1), (1639 : 66346 : 1),
(1667 : -68054 : 1), (23036693 : 110568192854 : 1)]
```
instead of

```
[(-41 : -266 : 1), (-27 : 294 : 1), (-13 : 266 : 1), (19 : 74 : 1), (22 
: -49 : 1), (27 : -6 : 1), (29 : -14 : 1), (43 : -154 : 1), (53 : 266 : 
1), (71 : 490 : 1), (414 : -8379 : 1), (1639 : 66346 : 1), (1667 : 
-68054 : 1), (23036693 : 110568192854 : 1)]
```



---

archive/issue_comments_107749.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nIn the documentation, you refer to ticket 10152.  This should be 10973 instead.",
    "created_at": "2011-11-26T21:58:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107749",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

In the documentation, you refer to ticket 10152.  This should be 10973 instead.



---

archive/issue_comments_107750.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIndentation at the top should probably be\n\n```\nr\"\"\"\nIntegral Points of Elliptic Curves over Number Fields\n\nThe following examples are from trac ticket #10152.  Previously Magma was finding ore \nintegral points on these curves than Sage.  We resolved this issue.\n\nEXAMPLES::\n\n    sage: E = EllipticCurve('2082a1')\n    sage: E.integral_points(algorithm = \"old\")\n    [(-11 : 29 : 1), (-2 : 29 : 1), (4 : 11 : 1), (13 : 29 : 1)]\n    sage: E.integral_points()\n    [(-11 : -19 : 1), (-2 : 29 : 1), (4 : -16 : 1), (13 : -43 : 1), (507525709 : 11433453531221 : 1)]\n    \n::\n\n    sage: ...\n```",
    "created_at": "2011-11-26T22:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107750",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

Indentation at the top should probably be

```
r"""
Integral Points of Elliptic Curves over Number Fields

The following examples are from trac ticket #10152.  Previously Magma was finding ore 
integral points on these curves than Sage.  We resolved this issue.

EXAMPLES::

    sage: E = EllipticCurve('2082a1')
    sage: E.integral_points(algorithm = "old")
    [(-11 : 29 : 1), (-2 : 29 : 1), (4 : 11 : 1), (13 : 29 : 1)]
    sage: E.integral_points()
    [(-11 : -19 : 1), (-2 : 29 : 1), (4 : -16 : 1), (13 : -43 : 1), (507525709 : 11433453531221 : 1)]
    
::

    sage: ...
```



---

archive/issue_comments_107751.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nSince setting this to positive review I have done more testing and was about to revert it to \"needs work\" myself anyway:  in a test of all curves to conductor 10000 I found that the new code appears to hang on 9615d1.",
    "created_at": "2011-11-27T12:05:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107751",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:29" align="right">comment:29</div>

Since setting this to positive review I have done more testing and was about to revert it to "needs work" myself anyway:  in a test of all curves to conductor 10000 I found that the new code appears to hang on 9615d1.



---

archive/issue_events_144196.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-11-29T11:52:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144196"
}
```



---

archive/issue_comments_107752.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nSee comments at #12095",
    "created_at": "2011-11-29T11:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107752",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:30" align="right">comment:30</div>

See comments at #12095



---

archive/issue_comments_107753.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n Incorporate work done by Rado Kirov and Jackie Anderson at Sage Days 22, based on Magma implementation by Cremona's student Nook.\n \n-Apply only [attachment: Trac10973.7.patch](https://github.com/sagemath/sage/files/ticket10973/Trac10973.7.patch.gz)\n+See also #12095 (now tagged as duplicate).\n \n+Apply only Trac10973.7.patch\n+\n``````\n",
    "created_at": "2011-11-29T11:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107753",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 Incorporate work done by Rado Kirov and Jackie Anderson at Sage Days 22, based on Magma implementation by Cremona's student Nook.
 
-Apply only [attachment: Trac10973.7.patch](https://github.com/sagemath/sage/files/ticket10973/Trac10973.7.patch.gz)
+See also #12095 (now tagged as duplicate).
 
+Apply only Trac10973.7.patch
+
``````




---

archive/issue_comments_107754.json:
```json
{
    "body": "Changed reviewer from **John Cremona** to none",
    "created_at": "2011-11-29T11:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107754",
    "user": "https://github.com/JohnCremona"
}
```

Changed reviewer from **John Cremona** to none



---

archive/issue_comments_107755.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nDid you intentionally remove the reviewer and milestone fields?  If you did, I don't understand why.",
    "created_at": "2011-11-29T13:26:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107755",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

Did you intentionally remove the reviewer and milestone fields?  If you did, I don't understand why.



---

archive/issue_comments_107756.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nFor the patchbot: apply Trac10973.7.patch",
    "created_at": "2012-04-18T21:36:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107756",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:32" align="right">comment:32</div>

For the patchbot: apply Trac10973.7.patch



---

archive/issue_comments_107757.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@jdemeyer](#comment%3A31):\n> Did you intentionally remove the reviewer and milestone fields?  If you did, I don't understand why.\n\nI did not (at least, not intentionally).",
    "created_at": "2012-08-28T09:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107757",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@jdemeyer](#comment%3A31):
> Did you intentionally remove the reviewer and milestone fields?  If you did, I don't understand why.

I did not (at least, not intentionally).



---

archive/issue_comments_107758.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nNoting that one effect of this code is to improve integral-point-finding over QQ (though it is still not always correct, see comment 29 above,  we should at least add a stopgap trigger for integral points over QQ, to alert the user to known issues.  Example: without this patch, \n\n```\nsage: E = EllipticCurve(\"2082a1\")\nsage: P = E.gens()[0]\nsage: E.integral_points()\n[(-11 : 29 : 1), (-2 : 29 : 1), (4 : 11 : 1), (13 : 29 : 1)]\nsage: 13*P\n(507525709 : 11433453531221 : 1)\n```",
    "created_at": "2012-09-20T12:11:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107758",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:34" align="right">comment:34</div>

Noting that one effect of this code is to improve integral-point-finding over QQ (though it is still not always correct, see comment 29 above,  we should at least add a stopgap trigger for integral points over QQ, to alert the user to known issues.  Example: without this patch, 

```
sage: E = EllipticCurve("2082a1")
sage: P = E.gens()[0]
sage: E.integral_points()
[(-11 : 29 : 1), (-2 : 29 : 1), (4 : 11 : 1), (13 : 29 : 1)]
sage: 13*P
(507525709 : 11433453531221 : 1)
```



---

archive/issue_comments_107759.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,5 +2,4 @@\n \n See also #12095 (now tagged as duplicate).\n \n-Apply only Trac10973.7.patch\n-\n+Apply only trac_10973_v8.patch\n``````\n",
    "created_at": "2013-08-20T14:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107759",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,5 +2,4 @@
 
 See also #12095 (now tagged as duplicate).
 
-Apply only Trac10973.7.patch
-
+Apply only trac_10973_v8.patch
``````




---

archive/issue_comments_107760.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\npatchbot, apply only trac_10973_v8.patch",
    "created_at": "2013-08-20T14:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107760",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:35" align="right">comment:35</div>

patchbot, apply only trac_10973_v8.patch



---

archive/issue_comments_107761.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n9 doctests are failing in sage/schemes/elliptic_curves/ell_int_points.py\n\nthe failing test in _c3 seems to be a matter of precision only\n\nThe other tests must be checked mathematically.",
    "created_at": "2013-08-20T15:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107761",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:36" align="right">comment:36</div>

9 doctests are failing in sage/schemes/elliptic_curves/ell_int_points.py

the failing test in _c3 seems to be a matter of precision only

The other tests must be checked mathematically.



---

archive/issue_comments_107762.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\napply only trac_10973_v8.patch",
    "created_at": "2013-08-20T15:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107762",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:37" align="right">comment:37</div>

apply only trac_10973_v8.patch



---

archive/issue_comments_107763.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThis ticket needs care from someone who can check the failing doctests.",
    "created_at": "2013-08-29T16:36:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107763",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:38" align="right">comment:38</div>

This ticket needs care from someone who can check the failing doctests.



---

archive/issue_comments_107764.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\napply only trac_10973_v8.patch",
    "created_at": "2013-09-01T08:15:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107764",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:39" align="right">comment:39</div>

apply only trac_10973_v8.patch



---

archive/issue_comments_107765.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI have corrected the (short) failing doctests, and inserted the file in the doc.\n\nThere may remain one (very) long doctest failing.",
    "created_at": "2013-09-01T09:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107765",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:40" align="right">comment:40</div>

I have corrected the (short) failing doctests, and inserted the file in the doc.

There may remain one (very) long doctest failing.



---

archive/issue_comments_107766.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI have corrected the last failing doctest\n\napply only trac_10973_v8.patch\n\nNeeds review !",
    "created_at": "2013-09-01T11:51:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107766",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:41" align="right">comment:41</div>

I have corrected the last failing doctest

apply only trac_10973_v8.patch

Needs review !



---

archive/issue_events_144197.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-09-01T11:51:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144197"
}
```



---

archive/issue_events_144198.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-09-01T11:51:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144198"
}
```



---

archive/issue_events_144199.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-09-01T11:51:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-5.13",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144199"
}
```



---

archive/issue_comments_107767.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n See also #12095 (now tagged as duplicate).\n \n-Apply only trac_10973_v8.patch\n+Apply only [attachment: trac_10973_v8.patch](https://github.com/sagemath/sage/files/ticket10973/trac_10973_v8.patch.gz)\n``````\n",
    "created_at": "2013-09-01T11:52:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107767",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 See also #12095 (now tagged as duplicate).
 
-Apply only trac_10973_v8.patch
+Apply only [attachment: trac_10973_v8.patch](https://github.com/sagemath/sage/files/ticket10973/trac_10973_v8.patch.gz)
``````




---

archive/issue_comments_107768.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI checked that the new patch applies fine and passes most tests (all tests in sage/schemes/elliptic_curves except one, see below).  I want to do more testing now, to test on a large range of conductors that (over QQ) we find the same integral points as Magma.  In any case, I intend to run the new function on all curve of conductor <300000 in order to correct the files at http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/data/, so I may as well do all that as part of this review.\n\nThis seems to be simply a formatting difference:\n\n```\nFailed example:\n    E.integral_points(L = [E((4,-4)),E((0,-20)),E((-4,-28)),E((-89/5,-637*a/25))])  # long time\nExpected:\n    [(-12 , 4 , 1), (-8 , 28 , 1), (-7 , -29 , 1), (-4 , -28 , 1),\n    (0 , -20 , 1), (1 , 17 , 1), (4 , -4 , 1), (8 , 4 , 1), (9 , -11 , 1),\n    (12 , -28 , 1), (16 , 52 , 1), (25 , -115 , 1), (32 , 172 , 1),\n    (44 , 284 , 1), (56 , -412 , 1), (84 , -764 , 1), (148 , 1796 , 1),\n    (208 , 2996 , 1), (372 , -7172 , 1), (1368 , -50596 , 1),\n    (1624 , -65444 , 1), (3264 , 186476 , 1)]\nGot:\n    [(-12 : 4 : 1), (-8 : 28 : 1), (-7 : -29 : 1), (-4 : -28 : 1), (0 : -20 : 1), (1 : 17 : 1), (4 : -4 : 1), (8 : 4 : 1), (9 : -11 : 1), (12 : -28 : 1), (16 : 52 : 1), (25 : -115 : 1), (32 : 172 : 1), (44 : 284 : 1), (56 : -412 : 1), (84 : -764 : 1), (148 : 1796 : 1), (208 : 2996 : 1), (372 : -7172 : 1), (1368 : -50596 : 1), (1624 : -65444 : 1), (3264 : 186476 : 1)]\n**********************************************************************\n1 item had failures:\n   1 of  14 in sage.schemes.elliptic_curves.ell_int_points.integral_points\n    [150 tests, 1 failure, 325.30 s]\n```",
    "created_at": "2013-09-04T11:12:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107768",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:43" align="right">comment:43</div>

I checked that the new patch applies fine and passes most tests (all tests in sage/schemes/elliptic_curves except one, see below).  I want to do more testing now, to test on a large range of conductors that (over QQ) we find the same integral points as Magma.  In any case, I intend to run the new function on all curve of conductor <300000 in order to correct the files at http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/data/, so I may as well do all that as part of this review.

This seems to be simply a formatting difference:

```
Failed example:
    E.integral_points(L = [E((4,-4)),E((0,-20)),E((-4,-28)),E((-89/5,-637*a/25))])  # long time
Expected:
    [(-12 , 4 , 1), (-8 , 28 , 1), (-7 , -29 , 1), (-4 , -28 , 1),
    (0 , -20 , 1), (1 , 17 , 1), (4 , -4 , 1), (8 , 4 , 1), (9 , -11 , 1),
    (12 , -28 , 1), (16 , 52 , 1), (25 , -115 , 1), (32 , 172 , 1),
    (44 , 284 , 1), (56 , -412 , 1), (84 , -764 , 1), (148 , 1796 , 1),
    (208 , 2996 , 1), (372 , -7172 , 1), (1368 , -50596 , 1),
    (1624 , -65444 , 1), (3264 , 186476 , 1)]
Got:
    [(-12 : 4 : 1), (-8 : 28 : 1), (-7 : -29 : 1), (-4 : -28 : 1), (0 : -20 : 1), (1 : 17 : 1), (4 : -4 : 1), (8 : 4 : 1), (9 : -11 : 1), (12 : -28 : 1), (16 : 52 : 1), (25 : -115 : 1), (32 : 172 : 1), (44 : 284 : 1), (56 : -412 : 1), (84 : -764 : 1), (148 : 1796 : 1), (208 : 2996 : 1), (372 : -7172 : 1), (1368 : -50596 : 1), (1624 : -65444 : 1), (3264 : 186476 : 1)]
**********************************************************************
1 item had failures:
   1 of  14 in sage.schemes.elliptic_curves.ell_int_points.integral_points
    [150 tests, 1 failure, 325.30 s]
```



---

archive/issue_comments_107769.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nMore seriously, \n\n```\nsage: E = EllipticCurve('9615d1)\nsage: E.integral_points()\n```\nseems to hang, thought I don't know why, while \n\n```\nsage: E = EllipticCurve('9615d1)\nsage: E.integral_points(algorithm=\"old\")\n```\nis fine.  I think that this will need investigating before this can be merged.  Hence \"needs work\".\n\nI systematically checked all curves with conductor < 10000 with Magma V2.19-8.  Note that thaere have been a lot of improvements in Magma's algorithm, due to Steve DOnelly but not published, since this ticket was opened.  Not just bugfixes; but only over Q.\n\nWith the old algorithm in Sage for N<10000 there are only 3 cases where Sage missed integral points.  Of these, 3 (6104b1, 8470g1 and 8470g2), are very easily fixed, simply by increasing the precision of the function `integral_points_with_bounded_mw_coeffs` from 100 to 200, thogh I have not done the necessary analysis to compute the actual precision required.  The other one is 2082a1, where the MW group is cyclic of rank 1 and the integral multiples of the generator P are n*P for n=1,2,3,4,13, but the bound computed by the algorithm is 12.  It should be possible to find that bug using a detailed analysis of the implementation, but I have not done that yet (though I did find one small bug, in the formula for mu there should be b2/12 and not b2).",
    "created_at": "2013-09-05T09:55:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107769",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:44" align="right">comment:44</div>

More seriously, 

```
sage: E = EllipticCurve('9615d1)
sage: E.integral_points()
```
seems to hang, thought I don't know why, while 

```
sage: E = EllipticCurve('9615d1)
sage: E.integral_points(algorithm="old")
```
is fine.  I think that this will need investigating before this can be merged.  Hence "needs work".

I systematically checked all curves with conductor < 10000 with Magma V2.19-8.  Note that thaere have been a lot of improvements in Magma's algorithm, due to Steve DOnelly but not published, since this ticket was opened.  Not just bugfixes; but only over Q.

With the old algorithm in Sage for N<10000 there are only 3 cases where Sage missed integral points.  Of these, 3 (6104b1, 8470g1 and 8470g2), are very easily fixed, simply by increasing the precision of the function `integral_points_with_bounded_mw_coeffs` from 100 to 200, thogh I have not done the necessary analysis to compute the actual precision required.  The other one is 2082a1, where the MW group is cyclic of rank 1 and the integral multiples of the generator P are n*P for n=1,2,3,4,13, but the bound computed by the algorithm is 12.  It should be possible to find that bug using a detailed analysis of the implementation, but I have not done that yet (though I did find one small bug, in the formula for mu there should be b2/12 and not b2).



---

archive/issue_comments_107770.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI have done some debugging, not yet complete but I'll be away for a while and wanted to record what I found so far.\n\n2082a1:   the old code is not nearly careful enough about computing elliptic logs and periods to high enough precision, and I have worked a bit on improving that, but in this example it reduces the coefficient bound first from `10^44` to 34 (that looks OK to me) and then to 12, which is not OK since the actual bound is 13.  And I can see what is done wrong:  in Cohen's notation you need a lower bound on `d(L,0)^2` which is greater than `T^2+Q`, and in this second step it is not;  the code makes an adjustment, which is not (as far as I can see) justified.  Instead one should increase the scaling parameter C.  I found that multiplying C by 100 is OK, but yields a worse bound on the coefficients, namely 56.  If one did check all 34 multiples of the generator (the rank is 1) then that would be OK.  But the new code here manages to get successive bounds `10^40`, 53, 18 and uses 18 which works better than 34 would have done!  The two implementations need further careful comparison.\n\n9615d1, which has rank 2.  The new code finds a bound of 162, and the apparent hanging happens when testing all multiples with coefficients up to that bound.  This is what is taking a very long time: there are 52812 points to check, and many will have huge height.  This is a good illustration of the benefit of using floating point at this stage, since on the same curve if you run `integral_points_with_bounded_mw_coeffs(E,E.gens(),162)` it finishes quickly (and finds all the points, namely the 15 which Magma also finds).  On the other hand the old code obtains a coefficient bound of only 18, which is good enough,  so it is necessary to find out why the new code does so much worse (bound 162).\n\nI don't feel prepared to remove the \"needs work\" tag just yet.",
    "created_at": "2013-09-06T11:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107770",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:45" align="right">comment:45</div>

I have done some debugging, not yet complete but I'll be away for a while and wanted to record what I found so far.

2082a1:   the old code is not nearly careful enough about computing elliptic logs and periods to high enough precision, and I have worked a bit on improving that, but in this example it reduces the coefficient bound first from `10^44` to 34 (that looks OK to me) and then to 12, which is not OK since the actual bound is 13.  And I can see what is done wrong:  in Cohen's notation you need a lower bound on `d(L,0)^2` which is greater than `T^2+Q`, and in this second step it is not;  the code makes an adjustment, which is not (as far as I can see) justified.  Instead one should increase the scaling parameter C.  I found that multiplying C by 100 is OK, but yields a worse bound on the coefficients, namely 56.  If one did check all 34 multiples of the generator (the rank is 1) then that would be OK.  But the new code here manages to get successive bounds `10^40`, 53, 18 and uses 18 which works better than 34 would have done!  The two implementations need further careful comparison.

9615d1, which has rank 2.  The new code finds a bound of 162, and the apparent hanging happens when testing all multiples with coefficients up to that bound.  This is what is taking a very long time: there are 52812 points to check, and many will have huge height.  This is a good illustration of the benefit of using floating point at this stage, since on the same curve if you run `integral_points_with_bounded_mw_coeffs(E,E.gens(),162)` it finishes quickly (and finds all the points, namely the 15 which Magma also finds).  On the other hand the old code obtains a coefficient bound of only 18, which is good enough,  so it is necessary to find out why the new code does so much worse (bound 162).

I don't feel prepared to remove the "needs work" tag just yet.



---

archive/issue_comments_107771.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI have made a new patch, correcting the one failing doctest",
    "created_at": "2013-10-19T19:49:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107771",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:46" align="right">comment:46</div>

I have made a new patch, correcting the one failing doctest



---

archive/issue_comments_107772.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nfor the **patchbots**:\napply trac_10973_v8.patch",
    "created_at": "2013-10-22T11:45:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107772",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:47" align="right">comment:47</div>

for the **patchbots**:
apply trac_10973_v8.patch



---

archive/issue_comments_107773.json:
```json
{
    "body": "replaces all previous patches ; rebased on 5.11",
    "created_at": "2013-10-23T18:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107773",
    "user": "https://github.com/fchapoton"
}
```

replaces all previous patches ; rebased on 5.11



---

archive/issue_comments_107774.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nAttachment: **[trac_10973_v8.patch.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973_v8.patch.gz)**\n\nI have made a new patch, that should work with 5.13.beta1\n\nfor the patchbots: apply trac_10973_v8.patch",
    "created_at": "2013-10-23T18:26:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107774",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:48" align="right">comment:48</div>

Attachment: **[trac_10973_v8.patch.gz](https://github.com/sagemath/sage/files/ticket10973/trac_10973_v8.patch.gz)**

I have made a new patch, that should work with 5.13.beta1

for the patchbots: apply trac_10973_v8.patch



---

archive/issue_comments_107775.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,5 @@\n \n See also #12095 (now tagged as duplicate).\n \n-Apply only [attachment: trac_10973_v8.patch](https://github.com/sagemath/sage/files/ticket10973/trac_10973_v8.patch.gz)\n+Converted to git by John Cremona, 2013-12-18\n+\n``````\n",
    "created_at": "2013-12-18T10:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107775",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,5 @@
 
 See also #12095 (now tagged as duplicate).
 
-Apply only [attachment: trac_10973_v8.patch](https://github.com/sagemath/sage/files/ticket10973/trac_10973_v8.patch.gz)
+Converted to git by John Cremona, 2013-12-18
+
``````




---

archive/issue_comments_107776.json:
```json
{
    "body": "Branch: **[u/cremona/trac10973intpts](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/trac10973intpts)**",
    "created_at": "2013-12-18T10:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107776",
    "user": "https://github.com/JohnCremona"
}
```

Branch: **[u/cremona/trac10973intpts](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/trac10973intpts)**



---

archive/issue_comments_107777.json:
```json
{
    "body": "Commit: **[`7f50362`](https://github.com/sagemath/sagetrac-mirror/commit/7f5036284d4b31fb81bd69a9bf0a1927c70f3206)**",
    "created_at": "2013-12-18T10:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107777",
    "user": "https://github.com/JohnCremona"
}
```

Commit: **[`7f50362`](https://github.com/sagemath/sagetrac-mirror/commit/7f5036284d4b31fb81bd69a9bf0a1927c70f3206)**



---

archive/issue_comments_107778.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nLast 10 new commits:\n<table><tr><td><code>[7f50362](https://github.com/sagemath/sagetrac-mirror/commit/7f50362)</code></td><td><code>Trac #10973: integer points on elliptic curves over number fields</code></td></tr><tr><td><code>[057b3cd](https://github.com/sagemath/sagetrac-mirror/commit/057b3cd)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[68d0a5d](https://github.com/sagemath/sagetrac-mirror/commit/68d0a5d)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[88ffd55](https://github.com/sagemath/sagetrac-mirror/commit/88ffd55)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[0523e0d](https://github.com/sagemath/sagetrac-mirror/commit/0523e0d)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[858bb95](https://github.com/sagemath/sagetrac-mirror/commit/858bb95)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[b06bd7c](https://github.com/sagemath/sagetrac-mirror/commit/b06bd7c)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[17e17dd](https://github.com/sagemath/sagetrac-mirror/commit/17e17dd)</code></td><td><code>Merge branch 'master' of ssh://trac.sagemath.org:2222/sage into build_system</code></td></tr><tr><td><code>[139dcf5](https://github.com/sagemath/sagetrac-mirror/commit/139dcf5)</code></td><td><code>Merge branch 'build_system' of git://github.com/sagemath/sage into build_system</code></td></tr><tr><td><code>[38d22b7](https://github.com/sagemath/sagetrac-mirror/commit/38d22b7)</code></td><td><code>Merge branch 'master' of ssh://trac.sagemath.org:2222/sage into build_system</code></td></tr></table>\n",
    "created_at": "2013-12-18T10:16:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107778",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:49" align="right">comment:49</div>

Last 10 new commits:
<table><tr><td><code>[7f50362](https://github.com/sagemath/sagetrac-mirror/commit/7f50362)</code></td><td><code>Trac #10973: integer points on elliptic curves over number fields</code></td></tr><tr><td><code>[057b3cd](https://github.com/sagemath/sagetrac-mirror/commit/057b3cd)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[68d0a5d](https://github.com/sagemath/sagetrac-mirror/commit/68d0a5d)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[88ffd55](https://github.com/sagemath/sagetrac-mirror/commit/88ffd55)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[0523e0d](https://github.com/sagemath/sagetrac-mirror/commit/0523e0d)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[858bb95](https://github.com/sagemath/sagetrac-mirror/commit/858bb95)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[b06bd7c](https://github.com/sagemath/sagetrac-mirror/commit/b06bd7c)</code></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><code>[17e17dd](https://github.com/sagemath/sagetrac-mirror/commit/17e17dd)</code></td><td><code>Merge branch 'master' of ssh://trac.sagemath.org:2222/sage into build_system</code></td></tr><tr><td><code>[139dcf5](https://github.com/sagemath/sagetrac-mirror/commit/139dcf5)</code></td><td><code>Merge branch 'build_system' of git://github.com/sagemath/sage into build_system</code></td></tr><tr><td><code>[38d22b7](https://github.com/sagemath/sagetrac-mirror/commit/38d22b7)</code></td><td><code>Merge branch 'master' of ssh://trac.sagemath.org:2222/sage into build_system</code></td></tr></table>




---

archive/issue_events_144200.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2013-12-18T10:16:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144200"
}
```



---

archive/issue_events_144201.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2013-12-18T10:16:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144201"
}
```



---

archive/issue_comments_107779.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nWhy is this \"needs works\" ?",
    "created_at": "2013-12-20T09:55:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107779",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:50" align="right">comment:50</div>

Why is this "needs works" ?



---

archive/issue_comments_107780.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@fchapoton](#comment%3A50):\n> Why is this \"needs works\" ?\n\nBecause I am actively working on it!  Seriously, comparing in detail Smart's paper and book and Nook's account in his thesis, I have found two things: (1) Smart does not deal properly with torsion generators, Nook does and that is in this code but I think I might be able to do better; (2) more seriously, Smart derived an upper bound for `|x(P)^2\\psi(P)|` (relative to each embedding) which only valid for points with `|x(P)|` bounded below by some quantity (in the appropriate embedding), and this means that there are points, possible integral, which fail this condition and need to be considered separately.  Over Q that is easily done by searching on a finite x-interval, but over a general number field it is not clear to me that the \"missing\" points are in a finite region.  However,  I am working on a bound (which certainly exists) for `|x(P)^2\\psi(P)|` valid for all complex points with any embedding, and when that is done I will be changing some of the constants in the code.\n\nI am not expecting the output to be different in any of the examples (but who knows), but I cannot let this in when I have identified but not yet fixed this mathematical bug!",
    "created_at": "2013-12-20T10:49:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107780",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@fchapoton](#comment%3A50):
> Why is this "needs works" ?

Because I am actively working on it!  Seriously, comparing in detail Smart's paper and book and Nook's account in his thesis, I have found two things: (1) Smart does not deal properly with torsion generators, Nook does and that is in this code but I think I might be able to do better; (2) more seriously, Smart derived an upper bound for `|x(P)^2\psi(P)|` (relative to each embedding) which only valid for points with `|x(P)|` bounded below by some quantity (in the appropriate embedding), and this means that there are points, possible integral, which fail this condition and need to be considered separately.  Over Q that is easily done by searching on a finite x-interval, but over a general number field it is not clear to me that the "missing" points are in a finite region.  However,  I am working on a bound (which certainly exists) for `|x(P)^2\psi(P)|` valid for all complex points with any embedding, and when that is done I will be changing some of the constants in the code.

I am not expecting the output to be different in any of the examples (but who knows), but I cannot let this in when I have identified but not yet fixed this mathematical bug!



---

archive/issue_events_144202.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144202"
}
```



---

archive/issue_events_144203.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144203"
}
```



---

archive/issue_events_144204.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144204"
}
```



---

archive/issue_events_144205.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144205"
}
```



---

archive/issue_comments_107781.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37d85c3175fda9bc8e934689a342ce8dfbde6780\"><code>37d85c3</code></a></td><td><code>Merge branch 'develop' into intpoints</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ef9e45a0e8ccf1841c9b757a29d7403ecc54c9c\"><code>7ef9e45</code></a></td><td><code>minor fix to previous merge (conflict resolution mistake)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10243adf8021440a184eb36695a00af49a41cb27\"><code>10243ad</code></a></td><td><code>Merge branch 'develop' into intpoints</code></td></tr></table>\n",
    "created_at": "2014-07-14T13:21:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107781",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37d85c3175fda9bc8e934689a342ce8dfbde6780"><code>37d85c3</code></a></td><td><code>Merge branch 'develop' into intpoints</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ef9e45a0e8ccf1841c9b757a29d7403ecc54c9c"><code>7ef9e45</code></a></td><td><code>minor fix to previous merge (conflict resolution mistake)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10243adf8021440a184eb36695a00af49a41cb27"><code>10243ad</code></a></td><td><code>Merge branch 'develop' into intpoints</code></td></tr></table>




---

archive/issue_comments_107782.json:
```json
{
    "body": "Changed commit from **[`7f50362`](https://github.com/sagemath/sagetrac-mirror/commit/7f5036284d4b31fb81bd69a9bf0a1927c70f3206)** to **[`10243ad`](https://github.com/sagemath/sagetrac-mirror/commit/10243adf8021440a184eb36695a00af49a41cb27)**",
    "created_at": "2014-07-14T13:21:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107782",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7f50362`](https://github.com/sagemath/sagetrac-mirror/commit/7f5036284d4b31fb81bd69a9bf0a1927c70f3206)** to **[`10243ad`](https://github.com/sagemath/sagetrac-mirror/commit/10243adf8021440a184eb36695a00af49a41cb27)**



---

archive/issue_events_144206.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144206"
}
```



---

archive/issue_events_144207.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144207"
}
```



---

archive/issue_events_144208.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-11T20:41:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144208"
}
```



---

archive/issue_events_144209.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-11T20:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144209"
}
```



---

archive/issue_comments_107783.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nrebased\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c14fa06b0f0b15922f2bb2cab4761e85e962536\"><code>0c14fa0</code></a></td><td><code>Merge branch 'u/cremona/trac10973intpts' into 6.9.b6</code></td></tr></table>\n",
    "created_at": "2015-09-11T20:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107783",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:56" align="right">comment:56</div>

rebased

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c14fa06b0f0b15922f2bb2cab4761e85e962536"><code>0c14fa0</code></a></td><td><code>Merge branch 'u/cremona/trac10973intpts' into 6.9.b6</code></td></tr></table>




---

archive/issue_comments_107784.json:
```json
{
    "body": "Changed branch from **[u/cremona/trac10973intpts](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/trac10973intpts)** to **[public/ticket/10973](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/10973)**",
    "created_at": "2015-09-11T20:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107784",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/cremona/trac10973intpts](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/trac10973intpts)** to **[public/ticket/10973](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/10973)**



---

archive/issue_comments_107785.json:
```json
{
    "body": "Changed commit from **[`10243ad`](https://github.com/sagemath/sagetrac-mirror/commit/10243adf8021440a184eb36695a00af49a41cb27)** to **[`0c14fa0`](https://github.com/sagemath/sagetrac-mirror/commit/0c14fa06b0f0b15922f2bb2cab4761e85e962536)**",
    "created_at": "2015-09-11T20:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107785",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`10243ad`](https://github.com/sagemath/sagetrac-mirror/commit/10243adf8021440a184eb36695a00af49a41cb27)** to **[`0c14fa0`](https://github.com/sagemath/sagetrac-mirror/commit/0c14fa06b0f0b15922f2bb2cab4761e85e962536)**



---

archive/issue_comments_107786.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e98ed971a1d320dbb527c9a977e846300f9738e\"><code>4e98ed9</code></a></td><td><code>Merge branch 'public/ticket/10973' into 6.10.b0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3985a09232406547e38a02607a80b217a559c215\"><code>3985a09</code></a></td><td><code>trac #10973 fixing a doctest</code></td></tr></table>\n",
    "created_at": "2015-10-21T15:18:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107786",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e98ed971a1d320dbb527c9a977e846300f9738e"><code>4e98ed9</code></a></td><td><code>Merge branch 'public/ticket/10973' into 6.10.b0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3985a09232406547e38a02607a80b217a559c215"><code>3985a09</code></a></td><td><code>trac #10973 fixing a doctest</code></td></tr></table>




---

archive/issue_comments_107787.json:
```json
{
    "body": "Changed commit from **[`0c14fa0`](https://github.com/sagemath/sagetrac-mirror/commit/0c14fa06b0f0b15922f2bb2cab4761e85e962536)** to **[`3985a09`](https://github.com/sagemath/sagetrac-mirror/commit/3985a09232406547e38a02607a80b217a559c215)**",
    "created_at": "2015-10-21T15:18:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107787",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0c14fa0`](https://github.com/sagemath/sagetrac-mirror/commit/0c14fa06b0f0b15922f2bb2cab4761e85e962536)** to **[`3985a09`](https://github.com/sagemath/sagetrac-mirror/commit/3985a09232406547e38a02607a80b217a559c215)**



---

archive/issue_events_144210.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-21T15:19:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144210"
}
```



---

archive/issue_events_144211.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-21T15:19:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144211"
}
```



---

archive/issue_comments_107788.json:
```json
{
    "body": "Changed commit from **[`3985a09`](https://github.com/sagemath/sagetrac-mirror/commit/3985a09232406547e38a02607a80b217a559c215)** to **[`f920847`](https://github.com/sagemath/sagetrac-mirror/commit/f9208472a60f135532d19deff365f8a45dc8572c)**",
    "created_at": "2016-02-18T09:48:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107788",
    "user": "https://github.com/JohnCremona"
}
```

Changed commit from **[`3985a09`](https://github.com/sagemath/sagetrac-mirror/commit/3985a09232406547e38a02607a80b217a559c215)** to **[`f920847`](https://github.com/sagemath/sagetrac-mirror/commit/f9208472a60f135532d19deff365f8a45dc8572c)**



---

archive/issue_comments_107789.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fd00eaaef0c4b3652aba013ca396a0409a2cd19\"><code>3fd00ea</code></a></td><td><code>Merge branch 'develop' into intpoints</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5c74933a8806b7ce8e0ca8a4b00bceec33facb6\"><code>e5c7493</code></a></td><td><code>merged with 6.10</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9208472a60f135532d19deff365f8a45dc8572c\"><code>f920847</code></a></td><td><code>Merge branch 'develop' (7.1.beta3) into intpoints and fix resulting issues</code></td></tr></table>\n",
    "created_at": "2016-02-18T09:48:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107789",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:59"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fd00eaaef0c4b3652aba013ca396a0409a2cd19"><code>3fd00ea</code></a></td><td><code>Merge branch 'develop' into intpoints</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5c74933a8806b7ce8e0ca8a4b00bceec33facb6"><code>e5c7493</code></a></td><td><code>merged with 6.10</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9208472a60f135532d19deff365f8a45dc8572c"><code>f920847</code></a></td><td><code>Merge branch 'develop' (7.1.beta3) into intpoints and fix resulting issues</code></td></tr></table>




---

archive/issue_comments_107790.json:
```json
{
    "body": "Changed branch from **[public/ticket/10973](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/10973)** to **[u/cremona/10973](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/10973)**",
    "created_at": "2016-02-18T09:48:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107790",
    "user": "https://github.com/JohnCremona"
}
```

Changed branch from **[public/ticket/10973](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/10973)** to **[u/cremona/10973](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/10973)**



---

archive/issue_comments_107791.json:
```json
{
    "body": "Changed commit from **[`f920847`](https://github.com/sagemath/sagetrac-mirror/commit/f9208472a60f135532d19deff365f8a45dc8572c)** to **[`196ddc1`](https://github.com/sagemath/sagetrac-mirror/commit/196ddc194ab3ce9dc19f53dccc4676b2d6fd5753)**",
    "created_at": "2016-08-05T12:18:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107791",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`f920847`](https://github.com/sagemath/sagetrac-mirror/commit/f9208472a60f135532d19deff365f8a45dc8572c)** to **[`196ddc1`](https://github.com/sagemath/sagetrac-mirror/commit/196ddc194ab3ce9dc19f53dccc4676b2d6fd5753)**



---

archive/issue_comments_107792.json:
```json
{
    "body": "Changed branch from **[u/cremona/10973](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/10973)** to **[public/10973](https://github.com/sagemath/sagetrac-mirror/tree/public/10973)**",
    "created_at": "2016-08-05T12:18:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107792",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/cremona/10973](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/10973)** to **[public/10973](https://github.com/sagemath/sagetrac-mirror/tree/public/10973)**



---

archive/issue_events_144212.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-05T12:18:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144212"
}
```



---

archive/issue_events_144213.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-05T12:18:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144213"
}
```



---

archive/issue_comments_107793.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nrebased again\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/196ddc194ab3ce9dc19f53dccc4676b2d6fd5753\"><code>196ddc1</code></a></td><td><code>Merge branch 'u/cremona/10973' in 7.3.rc0</code></td></tr></table>\n",
    "created_at": "2016-08-05T12:18:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107793",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:60" align="right">comment:60</div>

rebased again

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/196ddc194ab3ce9dc19f53dccc4676b2d6fd5753"><code>196ddc1</code></a></td><td><code>Merge branch 'u/cremona/10973' in 7.3.rc0</code></td></tr></table>




---

archive/issue_comments_107794.json:
```json
{
    "body": "<div id=\"comment:61\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d8266bc3eefabf9dae8766a149a7a9869129c54\"><code>7d8266b</code></a></td><td><code>trac 10973 modern py3 compatible import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a1a0b8ec8710a79281e1506fbed7988ef393fc0\"><code>6a1a0b8</code></a></td><td><code>trac 10973 another import to py3</code></td></tr></table>\n",
    "created_at": "2016-08-05T14:19:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107794",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:61"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d8266bc3eefabf9dae8766a149a7a9869129c54"><code>7d8266b</code></a></td><td><code>trac 10973 modern py3 compatible import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a1a0b8ec8710a79281e1506fbed7988ef393fc0"><code>6a1a0b8</code></a></td><td><code>trac 10973 another import to py3</code></td></tr></table>




---

archive/issue_comments_107795.json:
```json
{
    "body": "Changed commit from **[`196ddc1`](https://github.com/sagemath/sagetrac-mirror/commit/196ddc194ab3ce9dc19f53dccc4676b2d6fd5753)** to **[`6a1a0b8`](https://github.com/sagemath/sagetrac-mirror/commit/6a1a0b8ec8710a79281e1506fbed7988ef393fc0)**",
    "created_at": "2016-08-05T14:19:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107795",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`196ddc1`](https://github.com/sagemath/sagetrac-mirror/commit/196ddc194ab3ce9dc19f53dccc4676b2d6fd5753)** to **[`6a1a0b8`](https://github.com/sagemath/sagetrac-mirror/commit/6a1a0b8ec8710a79281e1506fbed7988ef393fc0)**



---

archive/issue_comments_107796.json:
```json
{
    "body": "Changed commit from **[`6a1a0b8`](https://github.com/sagemath/sagetrac-mirror/commit/6a1a0b8ec8710a79281e1506fbed7988ef393fc0)** to **[`0715968`](https://github.com/sagemath/sagetrac-mirror/commit/0715968866c6db7f68cb274a6f4bfe4a3f80599e)**",
    "created_at": "2016-12-15T19:21:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107796",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6a1a0b8`](https://github.com/sagemath/sagetrac-mirror/commit/6a1a0b8ec8710a79281e1506fbed7988ef393fc0)** to **[`0715968`](https://github.com/sagemath/sagetrac-mirror/commit/0715968866c6db7f68cb274a6f4bfe4a3f80599e)**



---

archive/issue_comments_107797.json:
```json
{
    "body": "<div id=\"comment:62\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca494b3e7ed5aabd4e043f6c6382a0d111c66239\"><code>ca494b3</code></a></td><td><code>Merge branch 'public/10973' in 7.5.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0715968866c6db7f68cb274a6f4bfe4a3f80599e\"><code>0715968</code></a></td><td><code>trac 10973 python3 compatible changes</code></td></tr></table>\n",
    "created_at": "2016-12-15T19:21:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107797",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:62"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca494b3e7ed5aabd4e043f6c6382a0d111c66239"><code>ca494b3</code></a></td><td><code>Merge branch 'public/10973' in 7.5.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0715968866c6db7f68cb274a6f4bfe4a3f80599e"><code>0715968</code></a></td><td><code>trac 10973 python3 compatible changes</code></td></tr></table>




---

archive/issue_comments_107798.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/871adda033a43b5bbd34ce1111de6fcdb379b34c\"><code>871adda</code></a></td><td><code>Merge branch 'public/10973' in 7.6.rc0</code></td></tr></table>\n",
    "created_at": "2017-03-16T13:42:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107798",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:63"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/871adda033a43b5bbd34ce1111de6fcdb379b34c"><code>871adda</code></a></td><td><code>Merge branch 'public/10973' in 7.6.rc0</code></td></tr></table>




---

archive/issue_comments_107799.json:
```json
{
    "body": "Changed commit from **[`0715968`](https://github.com/sagemath/sagetrac-mirror/commit/0715968866c6db7f68cb274a6f4bfe4a3f80599e)** to **[`871adda`](https://github.com/sagemath/sagetrac-mirror/commit/871adda033a43b5bbd34ce1111de6fcdb379b34c)**",
    "created_at": "2017-03-16T13:42:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107799",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0715968`](https://github.com/sagemath/sagetrac-mirror/commit/0715968866c6db7f68cb274a6f4bfe4a3f80599e)** to **[`871adda`](https://github.com/sagemath/sagetrac-mirror/commit/871adda033a43b5bbd34ce1111de6fcdb379b34c)**



---

archive/issue_comments_107800.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nThanks for keeping this updated.  I just have not been able to finish work on it (there are some mathematical issues).",
    "created_at": "2017-03-16T14:36:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107800",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:64" align="right">comment:64</div>

Thanks for keeping this updated.  I just have not been able to finish work on it (there are some mathematical issues).



---

archive/issue_comments_107801.json:
```json
{
    "body": "<div id=\"comment:65\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/748216dac716b87b62627ac4b6a229e4f36e8e2c\"><code>748216d</code></a></td><td><code>Merge branch 'public/10973' in 8.4.b1</code></td></tr></table>\n",
    "created_at": "2018-08-22T18:57:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107801",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:65"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/748216dac716b87b62627ac4b6a229e4f36e8e2c"><code>748216d</code></a></td><td><code>Merge branch 'public/10973' in 8.4.b1</code></td></tr></table>




---

archive/issue_comments_107802.json:
```json
{
    "body": "Changed commit from **[`871adda`](https://github.com/sagemath/sagetrac-mirror/commit/871adda033a43b5bbd34ce1111de6fcdb379b34c)** to **[`748216d`](https://github.com/sagemath/sagetrac-mirror/commit/748216dac716b87b62627ac4b6a229e4f36e8e2c)**",
    "created_at": "2018-08-22T18:57:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107802",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`871adda`](https://github.com/sagemath/sagetrac-mirror/commit/871adda033a43b5bbd34ce1111de6fcdb379b34c)** to **[`748216d`](https://github.com/sagemath/sagetrac-mirror/commit/748216dac716b87b62627ac4b6a229e4f36e8e2c)**



---

archive/issue_comments_107803.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9cb7356fc96b55c377a3a4a60d72846f91bd266a\"><code>9cb7356</code></a></td><td><code>Merge branch 'develop' into 10973</code></td></tr></table>\n",
    "created_at": "2019-01-04T09:32:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107803",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9cb7356fc96b55c377a3a4a60d72846f91bd266a"><code>9cb7356</code></a></td><td><code>Merge branch 'develop' into 10973</code></td></tr></table>




---

archive/issue_comments_107804.json:
```json
{
    "body": "Changed commit from **[`748216d`](https://github.com/sagemath/sagetrac-mirror/commit/748216dac716b87b62627ac4b6a229e4f36e8e2c)** to **[`9cb7356`](https://github.com/sagemath/sagetrac-mirror/commit/9cb7356fc96b55c377a3a4a60d72846f91bd266a)**",
    "created_at": "2019-01-04T09:32:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107804",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`748216d`](https://github.com/sagemath/sagetrac-mirror/commit/748216dac716b87b62627ac4b6a229e4f36e8e2c)** to **[`9cb7356`](https://github.com/sagemath/sagetrac-mirror/commit/9cb7356fc96b55c377a3a4a60d72846f91bd266a)**



---

archive/issue_comments_107805.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nI have merged the current working branch in with 8.6.beta1 and resolved the conflicts.\n\nI also made the following test:  there are 207 curves in the database (conductors < 400000, curves defined over QQ) where the old E.integral_points() missed integral points, as I found out by running every curve through Magma's IntegralPoints function.  For every one of these the current version finds all the points (the same as Magma does).\n\nHowever I still think that this code is too slow over QQ and intend to make a new branch (and a new ticket #27015) to fix the problems over QQ.  When that is done I will get back to this branch.",
    "created_at": "2019-01-04T09:36:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107805",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:67" align="right">comment:67</div>

I have merged the current working branch in with 8.6.beta1 and resolved the conflicts.

I also made the following test:  there are 207 curves in the database (conductors < 400000, curves defined over QQ) where the old E.integral_points() missed integral points, as I found out by running every curve through Magma's IntegralPoints function.  For every one of these the current version finds all the points (the same as Magma does).

However I still think that this code is too slow over QQ and intend to make a new branch (and a new ticket #27015) to fix the problems over QQ.  When that is done I will get back to this branch.



---

archive/issue_comments_107806.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nCorrection to the above:  it was true that there were 207 curves whose lists of integral points at http://johncremona.github.io/ecdata/ (since updated) were incomplete, and hence also the integral points stored in the LMFDB (not yet updated).  However, in all but 3 of these cases (2082a1, 23808e1, 285928a1) the current Sage (8.5) finds all the points.  So previous bug fixes have helped.\n\nIn the negative direction there are some more discrepancies, since we now (using vanilla 8.5) miss x=20829482 on 1701d1 and x=176 and 179 on 1848f1.  (There will surely be more).  \n\nThe complete list of missed points with Sage 8.5 is: 12 points on 11 curves:\n\n 1701d1, 1848f1, 2082a1, 3510n1, 6514b1,\n 177211a1,\n 23808e1,\n 268740c1,\n 285928a1,\n 66432f1,\n 92554e1,\n\nmissing 1 point in each case except 2 points on 1848f1.\n\n#27015 will deal with this.",
    "created_at": "2019-01-04T12:13:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107806",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:68" align="right">comment:68</div>

Correction to the above:  it was true that there were 207 curves whose lists of integral points at http://johncremona.github.io/ecdata/ (since updated) were incomplete, and hence also the integral points stored in the LMFDB (not yet updated).  However, in all but 3 of these cases (2082a1, 23808e1, 285928a1) the current Sage (8.5) finds all the points.  So previous bug fixes have helped.

In the negative direction there are some more discrepancies, since we now (using vanilla 8.5) miss x=20829482 on 1701d1 and x=176 and 179 on 1848f1.  (There will surely be more).  

The complete list of missed points with Sage 8.5 is: 12 points on 11 curves:

 1701d1, 1848f1, 2082a1, 3510n1, 6514b1,
 177211a1,
 23808e1,
 268740c1,
 285928a1,
 66432f1,
 92554e1,

missing 1 point in each case except 2 points on 1848f1.

#27015 will deal with this.



---

archive/issue_comments_107807.json:
```json
{
    "body": "<div id=\"comment:69\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70d00f9a1067853b587dafa1f393aa11b82d06ad\"><code>70d00f9</code></a></td><td><code>Merge branch 'public/10973' in 8.7.b4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9fe35b9a59cfac0d639be8fb981040231f3494c8\"><code>9fe35b9</code></a></td><td><code>fixing the blocks EXAMPLES::</code></td></tr></table>\n",
    "created_at": "2019-02-19T19:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107807",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:69"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70d00f9a1067853b587dafa1f393aa11b82d06ad"><code>70d00f9</code></a></td><td><code>Merge branch 'public/10973' in 8.7.b4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9fe35b9a59cfac0d639be8fb981040231f3494c8"><code>9fe35b9</code></a></td><td><code>fixing the blocks EXAMPLES::</code></td></tr></table>




---

archive/issue_comments_107808.json:
```json
{
    "body": "Changed commit from **[`9cb7356`](https://github.com/sagemath/sagetrac-mirror/commit/9cb7356fc96b55c377a3a4a60d72846f91bd266a)** to **[`9fe35b9`](https://github.com/sagemath/sagetrac-mirror/commit/9fe35b9a59cfac0d639be8fb981040231f3494c8)**",
    "created_at": "2019-02-19T19:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107808",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9cb7356`](https://github.com/sagemath/sagetrac-mirror/commit/9cb7356fc96b55c377a3a4a60d72846f91bd266a)** to **[`9fe35b9`](https://github.com/sagemath/sagetrac-mirror/commit/9fe35b9a59cfac0d639be8fb981040231f3494c8)**



---

archive/issue_comments_107809.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nSo what's the status here ? Should we just fix the few failing doctests ?",
    "created_at": "2019-02-19T19:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107809",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:70" align="right">comment:70</div>

So what's the status here ? Should we just fix the few failing doctests ?



---

archive/issue_events_144214.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-19T19:38:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144214"
}
```



---

archive/issue_events_144215.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-19T19:38:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144215"
}
```



---

archive/issue_comments_107810.json:
```json
{
    "body": "<div id=\"comment:72\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0774d5990a14f8b923ec6f876891f5f8ee871487\"><code>0774d59</code></a></td><td><code>fixing blocks</code></td></tr></table>\n",
    "created_at": "2019-02-20T08:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107810",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:72"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0774d5990a14f8b923ec6f876891f5f8ee871487"><code>0774d59</code></a></td><td><code>fixing blocks</code></td></tr></table>




---

archive/issue_comments_107811.json:
```json
{
    "body": "Changed commit from **[`9fe35b9`](https://github.com/sagemath/sagetrac-mirror/commit/9fe35b9a59cfac0d639be8fb981040231f3494c8)** to **[`0774d59`](https://github.com/sagemath/sagetrac-mirror/commit/0774d5990a14f8b923ec6f876891f5f8ee871487)**",
    "created_at": "2019-02-20T08:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107811",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9fe35b9`](https://github.com/sagemath/sagetrac-mirror/commit/9fe35b9a59cfac0d639be8fb981040231f3494c8)** to **[`0774d59`](https://github.com/sagemath/sagetrac-mirror/commit/0774d5990a14f8b923ec6f876891f5f8ee871487)**



---

archive/issue_comments_107812.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nI have a current branch called intptsQ which I made good progress on in December and will get back to.",
    "created_at": "2019-02-20T09:16:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107812",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:73" align="right">comment:73</div>

I have a current branch called intptsQ which I made good progress on in December and will get back to.



---

archive/issue_comments_107813.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107813",
    "user": "https://github.com/embray"
}
```

<div id="comment:74" align="right">comment:74</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_144216.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144216"
}
```



---

archive/issue_events_144217.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144217"
}
```



---

archive/issue_comments_107814.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nTickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107814",
    "user": "https://github.com/embray"
}
```

<div id="comment:75" align="right">comment:75</div>

Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_events_144218.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144218"
}
```



---

archive/issue_events_144219.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144219"
}
```



---

archive/issue_comments_107815.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107815",
    "user": "https://github.com/embray"
}
```

<div id="comment:76" align="right">comment:76</div>

Ticket retargeted after milestone closed



---

archive/issue_events_144220.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144220"
}
```



---

archive/issue_events_144221.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144221"
}
```



---

archive/issue_comments_107816.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107816",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:77" align="right">comment:77</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_144222.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144222"
}
```



---

archive/issue_events_144223.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144223"
}
```



---

archive/issue_events_144224.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144224"
}
```



---

archive/issue_events_144225.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144225"
}
```



---

archive/issue_comments_107817.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107817",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:79" align="right">comment:79</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_144226.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144226"
}
```



---

archive/issue_events_144227.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144227"
}
```



---

archive/issue_events_144228.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144228"
}
```



---

archive/issue_events_144229.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144229"
}
```



---

archive/issue_comments_107818.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10973#issuecomment-107818",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:80" align="right">comment:80</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_144230.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144230"
}
```



---

archive/issue_events_144231.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144231"
}
```



---

archive/issue_events_144232.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144232"
}
```



---

archive/issue_events_144233.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144233"
}
```



---

archive/issue_events_144234.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144234"
}
```



---

archive/issue_events_144235.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10973",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10973#event-144235"
}
```
