# Issue 10716: Adding a weighted_degree function to Singular multivariate polynomials

archive/issues_010654.json:
```json
{
    "assignees": [],
    "body": "Multivariate polynomials over the Singular interface have several degree methods but not a weighted_degree function, often used in certain branches of discrete mathematics. This should be implemented.\n\n\nAssignee: **@aghitza**\n\nCC:  @novoselt\n\nKeywords: **multivariate polynomials, degree, Singular**\n\nBranch: **[c48dab6](https://github.com/sagemath/sagetrac-mirror/commit/c48dab6cca6f92c9c0d28b89089c99e705bedc26)**\n\nReviewer: **Marshall Hampton, John Perry**\n\nAuthor: **Johan Sebastian Rosenkilde Nielsen, Luis Felipe Tabera Alonso**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10716_\n\n",
    "closed_at": "2014-08-27T17:58:06Z",
    "created_at": "2011-01-30T12:50:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Adding a weighted_degree function to Singular multivariate polynomials",
    "type": "issue",
    "updated_at": "2014-11-14T17:53:10Z",
    "url": "https://github.com/sagemath/sage/issues/10716",
    "user": "https://github.com/johanrosenkilde"
}
```
Multivariate polynomials over the Singular interface have several degree methods but not a weighted_degree function, often used in certain branches of discrete mathematics. This should be implemented.


Assignee: **@aghitza**

CC:  @novoselt

Keywords: **multivariate polynomials, degree, Singular**

Branch: **[c48dab6](https://github.com/sagemath/sagetrac-mirror/commit/c48dab6cca6f92c9c0d28b89089c99e705bedc26)**

Reviewer: **Marshall Hampton, John Perry**

Author: **Johan Sebastian Rosenkilde Nielsen, Luis Felipe Tabera Alonso**

_Issue created by migration from https://trac.sagemath.org/ticket/10716_





---

archive/issue_events_129013.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2011-01-30T12:50:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "component: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129013"
}
```



---

archive/issue_events_129014.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2011-01-30T12:50:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129014"
}
```



---

archive/issue_events_129015.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2011-01-30T12:50:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129015"
}
```



---

archive/issue_comments_104865.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI have implemented the best I could easily do. I am sure that by utilising Singular, one can make a much faster implementation of weighted_degree; indeed, as far as I could gather, Singular has weighted degree functionality as part of the deg()-function, but I don't have the prerequisites for writing this code.\n\nThe patch I have uploaded uses Sage methods to iterate through all monomials of the polynomial, calculating each one's weighted degree, and selects the maximal of these.",
    "created_at": "2011-01-30T12:58:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104865",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:1" align="right">Comment 1</div>

I have implemented the best I could easily do. I am sure that by utilising Singular, one can make a much faster implementation of weighted_degree; indeed, as far as I could gather, Singular has weighted degree functionality as part of the deg()-function, but I don't have the prerequisites for writing this code.

The patch I have uploaded uses Sage methods to iterate through all monomials of the polynomial, calculating each one's weighted degree, and selects the maximal of these.



---

archive/issue_events_129016.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2011-01-30T12:58:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129016"
}
```



---

archive/issue_comments_104866.json:
```json
{
    "body": "Straight-forward all-Sage implementation (not using Singular).",
    "created_at": "2011-02-15T14:15:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104866",
    "user": "https://github.com/johanrosenkilde"
}
```

Straight-forward all-Sage implementation (not using Singular).



---

archive/issue_comments_104867.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nAttachment: **[trac_10716_adding_weighted_degree.patch.gz](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree.patch.gz)**\n\nI just uploaded a new patch which makes it possible not to specify the weights in a tuple. That was pretty silly with the old patch, where you would have to write something like\n\n```\n  Q.weighted_degree((1, 2))\n```\nNow you can omit the double-parenthesis, but also use the previous calls:\n\n```\n  Q.weighted_degree(1, 2)\n  Q.weighted_degree((1, 2))\n  Q.weighted_degree({x:1, y:2})\n```",
    "created_at": "2011-02-15T14:17:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104867",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:3" align="right">Comment 3</div>

Attachment: **[trac_10716_adding_weighted_degree.patch.gz](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree.patch.gz)**

I just uploaded a new patch which makes it possible not to specify the weights in a tuple. That was pretty silly with the old patch, where you would have to write something like

```
  Q.weighted_degree((1, 2))
```
Now you can omit the double-parenthesis, but also use the previous calls:

```
  Q.weighted_degree(1, 2)
  Q.weighted_degree((1, 2))
  Q.weighted_degree({x:1, y:2})
```



---

archive/issue_comments_104868.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nIn the docstring, instead of \"INPUT::\" it should be \"INPUT:\".  The double colon indicates a literal block, which isn't what you want there.  I changed this and one other instance of \"INPUT::\", which is in the attached cumulative patch.  I think you (jsm) can give this a positive review if it looks OK.",
    "created_at": "2011-04-28T15:34:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104868",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:4" align="right">Comment 4</div>

In the docstring, instead of "INPUT::" it should be "INPUT:".  The double colon indicates a literal block, which isn't what you want there.  I changed this and one other instance of "INPUT::", which is in the attached cumulative patch.  I think you (jsm) can give this a positive review if it looks OK.



---

archive/issue_comments_104869.json:
```json
{
    "body": "Reviewer: **Marshall Hampton**",
    "created_at": "2011-04-28T15:34:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104869",
    "user": "https://github.com/sagetrac-mhampton"
}
```

Reviewer: **Marshall Hampton**



---

archive/issue_comments_104870.json:
```json
{
    "body": "Cumulative patch with minor docstring fixes.",
    "created_at": "2011-04-28T15:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104870",
    "user": "https://github.com/sagetrac-mhampton"
}
```

Cumulative patch with minor docstring fixes.



---

archive/issue_comments_104871.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n Multivariate polynomials over the Singular interface have several degree methods but not a weighted_degree function, often used in certain branches of discrete mathematics. This should be implemented.\n+\n+**Apply**\n+1. [attachment: trac_10716_adding_weighted_degree_v2.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_v2.patch.gz)\n+\n``````\n",
    "created_at": "2011-04-28T15:38:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104871",
    "user": "https://github.com/sagetrac-mhampton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 Multivariate polynomials over the Singular interface have several degree methods but not a weighted_degree function, often used in certain branches of discrete mathematics. This should be implemented.
+
+**Apply**
+1. [attachment: trac_10716_adding_weighted_degree_v2.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_v2.patch.gz)
+
``````




---

archive/issue_comments_104872.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nAttachment: **[trac_10716_adding_weighted_degree_v2.patch.gz](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_v2.patch.gz)**",
    "created_at": "2011-04-28T15:38:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104872",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:6" align="right">Comment 6</div>

Attachment: **[trac_10716_adding_weighted_degree_v2.patch.gz](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_v2.patch.gz)**



---

archive/issue_comments_104873.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nIt seems the patchbot got confused by the apply command.",
    "created_at": "2011-04-29T13:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104873",
    "user": "https://github.com/malb"
}
```

<div id="comment:7" align="right">Comment 7</div>

It seems the patchbot got confused by the apply command.



---

archive/issue_comments_104874.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,4 @@\n Multivariate polynomials over the Singular interface have several degree methods but not a weighted_degree function, often used in certain branches of discrete mathematics. This should be implemented.\n \n-**Apply**\n-1. [attachment: trac_10716_adding_weighted_degree_v2.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_v2.patch.gz)\n+**Apply** [attachment: trac_10716_adding_weighted_degree_v2.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_v2.patch.gz)\n \n``````\n",
    "created_at": "2011-04-29T13:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104874",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,4 @@
 Multivariate polynomials over the Singular interface have several degree methods but not a weighted_degree function, often used in certain branches of discrete mathematics. This should be implemented.
 
-**Apply**
-1. [attachment: trac_10716_adding_weighted_degree_v2.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_v2.patch.gz)
+**Apply** [attachment: trac_10716_adding_weighted_degree_v2.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_v2.patch.gz)
 
``````




---

archive/issue_comments_104875.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nReplying to [@sagetrac-mhampton](#comment%3A4):\n> In the docstring, instead of \"INPUT::\" it should be \"INPUT:\".  The double colon indicates a literal block, which isn't what you want there.  I changed this and one other instance of \"INPUT::\", which is in the attached cumulative patch.  I think you (jsm) can give this a positive review if it looks OK.\n\nAh, ok, thanks. It looks fine. If the less-than-perfect performance can be tolerated until someone more Singular-savvy comes along, is the ticket then accepted? Related to that, sage-devel never agreed to a systematic way of marking TODOs (which could be used here), right?",
    "created_at": "2011-05-02T07:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104875",
    "user": "https://github.com/johanrosenkilde"
}
```

<div id="comment:8" align="right">Comment 8</div>

Replying to [@sagetrac-mhampton](#comment%3A4):
> In the docstring, instead of "INPUT::" it should be "INPUT:".  The double colon indicates a literal block, which isn't what you want there.  I changed this and one other instance of "INPUT::", which is in the attached cumulative patch.  I think you (jsm) can give this a positive review if it looks OK.

Ah, ok, thanks. It looks fine. If the less-than-perfect performance can be tolerated until someone more Singular-savvy comes along, is the ticket then accepted? Related to that, sage-devel never agreed to a systematic way of marking TODOs (which could be used here), right?



---

archive/issue_comments_104876.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nIs there a reason you convert everything to vectors & use a dot_product? Seeing the concerns about performance -- is type conversion less expensive than calling prod() or something similar? I don't know about Cython, but my impression is that in some languages it would be more efficient to assume you have an iterable & just iterate.\n\nFWIW, this functionality is available in Sage 4.7:\n\n```\nsage: R.<x,y,z> = GF(7)[]\nsage: p = x^3 + y + x*z^2\nsage: p.degree()\n3\nsage: P = PolynomialRing(GF(7),'x,y,z',\n....: order=TermOrder(matrix([1,4,2,1,1,0,1,0,0])))\nsage: q = P(p)\nsage: q.degree()\n4\n```\nThe relevant code is in sage/libs/singular/polynomial.pyx, where singular_polynomial_deg manually changes the ring of `p` if it isn't equal to ring it has at first.",
    "created_at": "2011-09-20T19:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104876",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:9" align="right">Comment 9</div>

Is there a reason you convert everything to vectors & use a dot_product? Seeing the concerns about performance -- is type conversion less expensive than calling prod() or something similar? I don't know about Cython, but my impression is that in some languages it would be more efficient to assume you have an iterable & just iterate.

FWIW, this functionality is available in Sage 4.7:

```
sage: R.<x,y,z> = GF(7)[]
sage: p = x^3 + y + x*z^2
sage: p.degree()
3
sage: P = PolynomialRing(GF(7),'x,y,z',
....: order=TermOrder(matrix([1,4,2,1,1,0,1,0,0])))
sage: q = P(p)
sage: q.degree()
4
```
The relevant code is in sage/libs/singular/polynomial.pyx, where singular_polynomial_deg manually changes the ring of `p` if it isn't equal to ring it has at first.



---

archive/issue_comments_104877.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nApply trac_10716_adding_weighted_degree_v2.patch\n\n(for the patchbot)",
    "created_at": "2012-03-11T14:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104877",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:10" align="right">Comment 10</div>

Apply trac_10716_adding_weighted_degree_v2.patch

(for the patchbot)



---

archive/issue_events_129017.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2013-02-19T23:06:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129017"
}
```



---

archive/issue_events_129018.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2013-02-19T23:06:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129018"
}
```



---

archive/issue_comments_104878.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nYou should also add the same function to MPolynomial_polydict, so it is available to more general polynomial rings.\n\nI will take a look to see if we can easily use libsingular here.",
    "created_at": "2013-02-19T23:06:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104878",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:11" align="right">Comment 11</div>

You should also add the same function to MPolynomial_polydict, so it is available to more general polynomial rings.

I will take a look to see if we can easily use libsingular here.



---

archive/issue_comments_104879.json:
```json
{
    "body": "Alternative patch",
    "created_at": "2013-02-20T15:42:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104879",
    "user": "https://github.com/lftabera"
}
```

Alternative patch



---

archive/issue_events_129019.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2013-02-20T15:50:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129019"
}
```



---

archive/issue_events_129020.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2013-02-20T15:50:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129020"
}
```



---

archive/issue_comments_104880.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nAttachment: **[trac_10716_adding_weighted_degree_alternative.patch.gz](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_alternative.patch.gz)**\n\nI propose an alternative patch. It implements the weighted degree for all MPolynomial, not just Singular ones. It is also faster than the original patch. I think that, in general, it is better to use a polynomial ring with weighted degree if one is really interested so I have added a hint in the documentation.",
    "created_at": "2013-02-20T15:50:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104880",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:12" align="right">Comment 12</div>

Attachment: **[trac_10716_adding_weighted_degree_alternative.patch.gz](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_alternative.patch.gz)**

I propose an alternative patch. It implements the weighted degree for all MPolynomial, not just Singular ones. It is also faster than the original patch. I think that, in general, it is better to use a polynomial ring with weighted degree if one is really interested so I have added a hint in the documentation.



---

archive/issue_comments_104881.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Multivariate polynomials over the Singular interface have several degree methods but not a weighted_degree function, often used in certain branches of discrete mathematics. This should be implemented.\n \n-**Apply** [attachment: trac_10716_adding_weighted_degree_v2.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_v2.patch.gz)\n+**Apply** [attachment: trac_10716_adding_weighted_degree_alternative.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_alternative.patch.gz)\n \n``````\n",
    "created_at": "2013-02-20T15:50:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104881",
    "user": "https://github.com/lftabera"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Multivariate polynomials over the Singular interface have several degree methods but not a weighted_degree function, often used in certain branches of discrete mathematics. This should be implemented.
 
-**Apply** [attachment: trac_10716_adding_weighted_degree_v2.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_v2.patch.gz)
+**Apply** [attachment: trac_10716_adding_weighted_degree_alternative.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_alternative.patch.gz)
 
``````




---

archive/issue_comments_104882.json:
```json
{
    "body": "Changed author from **Johan S. R. Nielsen** to **Johan S. R. Nielsen, Luis Felipe Tabera Alonso**",
    "created_at": "2013-02-20T15:50:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104882",
    "user": "https://github.com/lftabera"
}
```

Changed author from **Johan S. R. Nielsen** to **Johan S. R. Nielsen, Luis Felipe Tabera Alonso**



---

archive/issue_events_129021.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2013-02-20T15:58:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "milestone_number": null,
    "milestone_title": "sage-5.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129021"
}
```



---

archive/issue_comments_104883.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nApply trac_10716_adding_weighted_degree_alternative.patch",
    "created_at": "2013-02-24T18:23:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104883",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:14" align="right">Comment 14</div>

Apply trac_10716_adding_weighted_degree_alternative.patch



---

archive/issue_events_129022.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129022"
}
```



---

archive/issue_events_129023.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129023"
}
```



---

archive/issue_events_129024.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129024"
}
```



---

archive/issue_events_129025.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129025"
}
```



---

archive/issue_events_129026.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129026"
}
```



---

archive/issue_events_129027.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129027"
}
```



---

archive/issue_comments_104884.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nMove my alternative patch to a git branch\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1036282f26205edced3fe67a6ba8f5a8969feb59\">1036282</a></td><td><code>Adding a weighted_degree function to Singular multivariate polynomials</code></td></tr></table>\n",
    "created_at": "2014-05-13T14:45:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104884",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:18" align="right">Comment 18</div>

Move my alternative patch to a git branch

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1036282f26205edced3fe67a6ba8f5a8969feb59">1036282</a></td><td><code>Adding a weighted_degree function to Singular multivariate polynomials</code></td></tr></table>




---

archive/issue_comments_104885.json:
```json
{
    "body": "Branch: **[u/lftabera/weighted_degree](https://github.com/sagemath/sagetrac-mirror/tree/u/lftabera/weighted_degree)**",
    "created_at": "2014-05-13T14:45:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104885",
    "user": "https://github.com/lftabera"
}
```

Branch: **[u/lftabera/weighted_degree](https://github.com/sagemath/sagetrac-mirror/tree/u/lftabera/weighted_degree)**



---

archive/issue_comments_104886.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,2 @@\n Multivariate polynomials over the Singular interface have several degree methods but not a weighted_degree function, often used in certain branches of discrete mathematics. This should be implemented.\n \n-**Apply** [attachment: trac_10716_adding_weighted_degree_alternative.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_alternative.patch.gz)\n-\n``````\n",
    "created_at": "2014-05-13T14:45:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104886",
    "user": "https://github.com/lftabera"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,2 @@
 Multivariate polynomials over the Singular interface have several degree methods but not a weighted_degree function, often used in certain branches of discrete mathematics. This should be implemented.
 
-**Apply** [attachment: trac_10716_adding_weighted_degree_alternative.patch](https://github.com/sagemath/sage/files/ticket10716/trac_10716_adding_weighted_degree_alternative.patch.gz)
-
``````




---

archive/issue_comments_104887.json:
```json
{
    "body": "Commit: **[1036282](https://github.com/sagemath/sagetrac-mirror/commit/1036282f26205edced3fe67a6ba8f5a8969feb59)**",
    "created_at": "2014-05-13T14:45:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104887",
    "user": "https://github.com/lftabera"
}
```

Commit: **[1036282](https://github.com/sagemath/sagetrac-mirror/commit/1036282f26205edced3fe67a6ba8f5a8969feb59)**



---

archive/issue_comments_104888.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\n\n```python\nif self.is_zero():\n  #Corner case, note that the degree of zero is a python int\n  return -1\n```\n\nWhy not fix the bug?\n\n```python\nweigths = map(int, weights)\n```\n\nWhy `int` and not `ZZ`?\n\n\n```python\ncdef int deg = -1\ncdef int n = self.parent().ngens()\ncdef int i, l\n```\n\nThis is sets you up for integer overflows, why not avoid them by using `ZZ`?  The function is going to be slow in any case.\n\nAlso, doesn't Singular have an internal function which would allow to calculate this?",
    "created_at": "2014-05-13T15:43:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104888",
    "user": "https://github.com/malb"
}
```

<div id="comment:19" align="right">Comment 19</div>


```python
if self.is_zero():
  #Corner case, note that the degree of zero is a python int
  return -1
```

Why not fix the bug?

```python
weigths = map(int, weights)
```

Why `int` and not `ZZ`?


```python
cdef int deg = -1
cdef int n = self.parent().ngens()
cdef int i, l
```

This is sets you up for integer overflows, why not avoid them by using `ZZ`?  The function is going to be slow in any case.

Also, doesn't Singular have an internal function which would allow to calculate this?



---

archive/issue_comments_104889.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nI would not say that zero.degree() == -1 is a bug, but a feature.\n\nThe use of `int`s instead of `ZZ` is just for compatibility with the current degree method. In both `MPolynomial_libsingular` and `MPolynomial_polydict` polynomials the degree returns an `int`.\n\nThis method is intended for casual computations with weighted degree or with several weighted degrees at one. If the user is going to use heavy computations with the same weight on a Singular ring, it is better to set up a ring with the appropiated weighted degree as term order. This would use Singular internal method.\n\nI should check, but if I recall correctly, to use Singular inner function one has the change the degree of the underlying ring, which is bad. Moreover, this patch also work for `MPolynomial_polydict`, not only rings mapped to Singular.",
    "created_at": "2014-05-13T17:30:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104889",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:20" align="right">Comment 20</div>

I would not say that zero.degree() == -1 is a bug, but a feature.

The use of `int`s instead of `ZZ` is just for compatibility with the current degree method. In both `MPolynomial_libsingular` and `MPolynomial_polydict` polynomials the degree returns an `int`.

This method is intended for casual computations with weighted degree or with several weighted degrees at one. If the user is going to use heavy computations with the same weight on a Singular ring, it is better to set up a ring with the appropiated weighted degree as term order. This would use Singular internal method.

I should check, but if I recall correctly, to use Singular inner function one has the change the degree of the underlying ring, which is bad. Moreover, this patch also work for `MPolynomial_polydict`, not only rings mapped to Singular.



---

archive/issue_comments_104890.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nReplying to [@lftabera](#comment%3A20):\n> I would not say that zero.degree() == -1 is a bug, but a feature.\n\nI meant that it is returned as a Python int.\n\n> The use of `int`s instead of `ZZ` is just for compatibility with the current degree method. In both `MPolynomial_libsingular` and `MPolynomial_polydict` polynomials the degree returns an `int`.\n\n`MPolynomial_libsingular` can only represent a total degree `< INT_MAX`, as far as I recall. Hence, using int there is fine. However, this function accepts a weights array which may contain arbitrary integers. Hence, this function can overflow, where  `MPolynomial_libsingular.total_degree()` cannot (as far as I can tell).",
    "created_at": "2014-05-13T17:42:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104890",
    "user": "https://github.com/malb"
}
```

<div id="comment:21" align="right">Comment 21</div>

Replying to [@lftabera](#comment%3A20):
> I would not say that zero.degree() == -1 is a bug, but a feature.

I meant that it is returned as a Python int.

> The use of `int`s instead of `ZZ` is just for compatibility with the current degree method. In both `MPolynomial_libsingular` and `MPolynomial_polydict` polynomials the degree returns an `int`.

`MPolynomial_libsingular` can only represent a total degree `< INT_MAX`, as far as I recall. Hence, using int there is fine. However, this function accepts a weights array which may contain arbitrary integers. Hence, this function can overflow, where  `MPolynomial_libsingular.total_degree()` cannot (as far as I can tell).



---

archive/issue_comments_104891.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nI see your point. Should we allow negative or rational weights also?",
    "created_at": "2014-05-14T13:07:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104891",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:22" align="right">Comment 22</div>

I see your point. Should we allow negative or rational weights also?



---

archive/issue_comments_104892.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nIf this question was directed at me, I never used weighted degrees, so I wouldn't know. Doesn't seem to cost much to add it, though (?)",
    "created_at": "2014-05-14T14:24:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104892",
    "user": "https://github.com/malb"
}
```

<div id="comment:23" align="right">Comment 23</div>

If this question was directed at me, I never used weighted degrees, so I wouldn't know. Doesn't seem to cost much to add it, though (?)



---

archive/issue_comments_104893.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a695d7d7938e67d7ef1b615d504d73b02b8463a1\">a695d7d</a></td><td><code>Use Integer instead of int to avoid overflows</code></td></tr></table>\n",
    "created_at": "2014-07-14T12:43:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104893",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24" align="right">Comment 24</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a695d7d7938e67d7ef1b615d504d73b02b8463a1">a695d7d</a></td><td><code>Use Integer instead of int to avoid overflows</code></td></tr></table>




---

archive/issue_comments_104894.json:
```json
{
    "body": "Changed commit from **[1036282](https://github.com/sagemath/sagetrac-mirror/commit/1036282f26205edced3fe67a6ba8f5a8969feb59)** to **[a695d7d](https://github.com/sagemath/sagetrac-mirror/commit/a695d7d7938e67d7ef1b615d504d73b02b8463a1)**",
    "created_at": "2014-07-14T12:43:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104894",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1036282](https://github.com/sagemath/sagetrac-mirror/commit/1036282f26205edced3fe67a6ba8f5a8969feb59)** to **[a695d7d](https://github.com/sagemath/sagetrac-mirror/commit/a695d7d7938e67d7ef1b615d504d73b02b8463a1)**



---

archive/issue_comments_104895.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@sagetrac-git](#comment%3A24):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a695d7d7938e67d7ef1b615d504d73b02b8463a1\">a695d7d</a></td><td><code>Use Integer instead of int to avoid overflows</code></td></tr></table>\n\nIs \"weights\" supposed to be misspelled as \"weigths\"? Notice that this is a change from an earlier spelling.\n\nAlso, Singular doesn't accepted anything larger than 32-bit integers (confirmed w/Singular developer the other day). Will this change be practically useful?",
    "created_at": "2014-07-17T16:44:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104895",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@sagetrac-git](#comment%3A24):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a695d7d7938e67d7ef1b615d504d73b02b8463a1">a695d7d</a></td><td><code>Use Integer instead of int to avoid overflows</code></td></tr></table>

Is "weights" supposed to be misspelled as "weigths"? Notice that this is a change from an earlier spelling.

Also, Singular doesn't accepted anything larger than 32-bit integers (confirmed w/Singular developer the other day). Will this change be practically useful?



---

archive/issue_comments_104896.json:
```json
{
    "body": "Changed commit from **[a695d7d](https://github.com/sagemath/sagetrac-mirror/commit/a695d7d7938e67d7ef1b615d504d73b02b8463a1)** to **[3155491](https://github.com/sagemath/sagetrac-mirror/commit/3155491ca8a1c32a5245d7f659ff90cb97aba2ff)**",
    "created_at": "2014-07-18T13:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104896",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a695d7d](https://github.com/sagemath/sagetrac-mirror/commit/a695d7d7938e67d7ef1b615d504d73b02b8463a1)** to **[3155491](https://github.com/sagemath/sagetrac-mirror/commit/3155491ca8a1c32a5245d7f659ff90cb97aba2ff)**



---

archive/issue_comments_104897.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3155491ca8a1c32a5245d7f659ff90cb97aba2ff\">3155491</a></td><td><code>Corrected typo #10716</code></td></tr></table>\n",
    "created_at": "2014-07-18T13:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104897",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26" align="right">Comment 26</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3155491ca8a1c32a5245d7f659ff90cb97aba2ff">3155491</a></td><td><code>Corrected typo #10716</code></td></tr></table>




---

archive/issue_comments_104898.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nThanks for catch the typo, I had a hard time finding it! Added a test that shows it was indeed a bug.\n\nThis patch is intended for arbitrary polynomials, I am not aware non-Singular degrees that admits such large exponents, bur someone might want to create one. Even if the degree of the polynomial is smaller than 32-bit the weighted degree might be.\n\nI have not a strong opinion on this issue and taking an int would probably be safe for most users.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3155491ca8a1c32a5245d7f659ff90cb97aba2ff\">3155491</a></td><td><code>Corrected typo #10716</code></td></tr></table>\n",
    "created_at": "2014-07-18T13:43:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104898",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:27" align="right">Comment 27</div>

Thanks for catch the typo, I had a hard time finding it! Added a test that shows it was indeed a bug.

This patch is intended for arbitrary polynomials, I am not aware non-Singular degrees that admits such large exponents, bur someone might want to create one. Even if the degree of the polynomial is smaller than 32-bit the weighted degree might be.

I have not a strong opinion on this issue and taking an int would probably be safe for most users.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3155491ca8a1c32a5245d7f659ff90cb97aba2ff">3155491</a></td><td><code>Corrected typo #10716</code></td></tr></table>




---

archive/issue_comments_104899.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nReplying to [@lftabera](#comment%3A27):\n> This patch is intended for arbitrary polynomials, I am not aware non-Singular degrees that admits such large exponents, bur someone might want to create one.\n\nI do, actually. My current solution is to used marked polynomials instead.\n\n> Even if the degree of the polynomial is smaller than 32-bit the weighted degree might be.\n\nThat's true, but if I recall correctly, Singular won't work even then, because it assigns a weight to every monomial. You can have a sufficiently small weighted ordering, but with large exponents it will choke.\n\n> I have not a strong opinion on this issue and taking an int would probably be safe for most users.\n\nMy main concern is the performance penalty of converting from `Integer` to `int`. If it's just a one-time penalty (when creating a ring) then I wouldn't worry about it myself. But if it occurs with the creation of every polynomial, let alone every monomial, that could introduce a penalty for algorithms that create & manipulate polynomials. I think it's just the one-time penalty, but I don't actually know.",
    "created_at": "2014-07-18T14:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104899",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:28" align="right">Comment 28</div>

Replying to [@lftabera](#comment%3A27):
> This patch is intended for arbitrary polynomials, I am not aware non-Singular degrees that admits such large exponents, bur someone might want to create one.

I do, actually. My current solution is to used marked polynomials instead.

> Even if the degree of the polynomial is smaller than 32-bit the weighted degree might be.

That's true, but if I recall correctly, Singular won't work even then, because it assigns a weight to every monomial. You can have a sufficiently small weighted ordering, but with large exponents it will choke.

> I have not a strong opinion on this issue and taking an int would probably be safe for most users.

My main concern is the performance penalty of converting from `Integer` to `int`. If it's just a one-time penalty (when creating a ring) then I wouldn't worry about it myself. But if it occurs with the creation of every polynomial, let alone every monomial, that could introduce a penalty for algorithms that create & manipulate polynomials. I think it's just the one-time penalty, but I don't actually know.



---

archive/issue_events_129028.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2014-07-22T10:55:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129028"
}
```



---

archive/issue_events_129029.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2014-07-22T10:55:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129029"
}
```



---

archive/issue_comments_104900.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nThe conversion is the other way around, from int to Integer. You are right that there is a performance penalty. I do not have the numbers at hand right now but I will look at it and check if there is a more clever way.\n\nThe method is not cached in any way, the degree is computed any time that the method is called.\n\nIf the user want to use a ring that is mapped to singular as is worried about performance, because it will call the method a lot of times or over huge polynomials, the recommendation in the documentation is to create a ring with that term order and then just call degree inside that ring. It will be orders of magnitude faster. That is, this method is intended to use for a weighted degree different from the one in the base ring.\n\nI have found further problems with the patch:\n\nThe patch is intended to work over every multivariate polynomial ring out there. But generic multivariate rings do not have an as_Etuple option in the exponents method. This means that the exponents are ETuples by default and I cannot use as_ETuple. This will impose a performance penalty greater than the int to Integer conversion.\n\nThe degree in generic multivariate rings do not return the weighted degree. This is a bug in my opinion. Because it makes sage non consistent. This is for another ticket.",
    "created_at": "2014-07-22T10:55:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104900",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:29" align="right">Comment 29</div>

The conversion is the other way around, from int to Integer. You are right that there is a performance penalty. I do not have the numbers at hand right now but I will look at it and check if there is a more clever way.

The method is not cached in any way, the degree is computed any time that the method is called.

If the user want to use a ring that is mapped to singular as is worried about performance, because it will call the method a lot of times or over huge polynomials, the recommendation in the documentation is to create a ring with that term order and then just call degree inside that ring. It will be orders of magnitude faster. That is, this method is intended to use for a weighted degree different from the one in the base ring.

I have found further problems with the patch:

The patch is intended to work over every multivariate polynomial ring out there. But generic multivariate rings do not have an as_Etuple option in the exponents method. This means that the exponents are ETuples by default and I cannot use as_ETuple. This will impose a performance penalty greater than the int to Integer conversion.

The degree in generic multivariate rings do not return the weighted degree. This is a bug in my opinion. Because it makes sage non consistent. This is for another ticket.



---

archive/issue_comments_104901.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/811b79657358bcc6c1201715cd35ffab9a42e346\">811b796</a></td><td><code>Ticket: 10716</code></td></tr></table>\n",
    "created_at": "2014-07-29T15:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104901",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30" align="right">Comment 30</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/811b79657358bcc6c1201715cd35ffab9a42e346">811b796</a></td><td><code>Ticket: 10716</code></td></tr></table>




---

archive/issue_comments_104902.json:
```json
{
    "body": "Changed commit from **[3155491](https://github.com/sagemath/sagetrac-mirror/commit/3155491ca8a1c32a5245d7f659ff90cb97aba2ff)** to **[811b796](https://github.com/sagemath/sagetrac-mirror/commit/811b79657358bcc6c1201715cd35ffab9a42e346)**",
    "created_at": "2014-07-29T15:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104902",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3155491](https://github.com/sagemath/sagetrac-mirror/commit/3155491ca8a1c32a5245d7f659ff90cb97aba2ff)** to **[811b796](https://github.com/sagemath/sagetrac-mirror/commit/811b79657358bcc6c1201715cd35ffab9a42e346)**



---

archive/issue_events_129030.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2014-07-29T16:06:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129030"
}
```



---

archive/issue_events_129031.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2014-07-29T16:06:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129031"
}
```



---

archive/issue_comments_104903.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nI managed to use as_ETuples=False in any case. Concerning the performance, I have made some not serious test:\n\n2 variables, 5 terms\n\n- int:      2.38 \u00b5s\n- Integer:  4.26 \u00b5s\n\n5 variables, 20 terms\n\n- int:      16 \u00b5s\n- Integer:  25.8 \u00b5s\n\n30 variables, ~80000 terms\n\n- int: 208 ms\n- Integer: 350 ms\n\nI think it is reasonable for such a generic method.",
    "created_at": "2014-07-29T16:06:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104903",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:31" align="right">Comment 31</div>

I managed to use as_ETuples=False in any case. Concerning the performance, I have made some not serious test:

2 variables, 5 terms

- int:      2.38 µs
- Integer:  4.26 µs

5 variables, 20 terms

- int:      16 µs
- Integer:  25.8 µs

30 variables, ~80000 terms

- int: 208 ms
- Integer: 350 ms

I think it is reasonable for such a generic method.



---

archive/issue_comments_104904.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nReplying to [@lftabera](#comment%3A31):\n> Concerning the performance, I have made some not serious test:\n\nA penalty factor of ~1.7: what test did you perform?",
    "created_at": "2014-07-29T16:21:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104904",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:32" align="right">Comment 32</div>

Replying to [@lftabera](#comment%3A31):
> Concerning the performance, I have made some not serious test:

A penalty factor of ~1.7: what test did you perform?



---

archive/issue_comments_104905.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nI created another method substitutying the Integer with int. Then used the following code. To get an idea.\n\n```\nsage: K1=QQ['x,y']\nsage: K2=PolynomialRing(QQ,'a',5)\nsage: K3=PolynomialRing(QQ,'b',30)\nsage: f=K1.random_element()\nsage: g=K2.random_element(degree=10,terms=24)\nsage: h=K3.random_element(degree=100,terms=10**5) #quite long time\nsage: vf=random_vector(ZZ,2)\nsage: vg=random_vector(ZZ,20)\nsage: vh=random_vector(ZZ,30)\nsage: %timeit f.weighted_degree(vf)\nsage: %timeit f.weighted_degree_int(vf)\nsage: %timeit g.weighted_degree(vg)\nsage: %timeit g.weighted_degree_int(vg)\nsage: %timeit h.weighted_degree(vh)\nsage: %timeit h.weighted_degree(vh)\n```\n\nI do not have a strong opinion. Integer does not overflow, but int is faster (but also slow) and behaves like degree method (also returns int).",
    "created_at": "2014-07-29T18:21:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104905",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:33" align="right">Comment 33</div>

I created another method substitutying the Integer with int. Then used the following code. To get an idea.

```
sage: K1=QQ['x,y']
sage: K2=PolynomialRing(QQ,'a',5)
sage: K3=PolynomialRing(QQ,'b',30)
sage: f=K1.random_element()
sage: g=K2.random_element(degree=10,terms=24)
sage: h=K3.random_element(degree=100,terms=10**5) #quite long time
sage: vf=random_vector(ZZ,2)
sage: vg=random_vector(ZZ,20)
sage: vh=random_vector(ZZ,30)
sage: %timeit f.weighted_degree(vf)
sage: %timeit f.weighted_degree_int(vf)
sage: %timeit g.weighted_degree(vg)
sage: %timeit g.weighted_degree_int(vg)
sage: %timeit h.weighted_degree(vh)
sage: %timeit h.weighted_degree(vh)
```

I do not have a strong opinion. Integer does not overflow, but int is faster (but also slow) and behaves like degree method (also returns int).



---

archive/issue_comments_104906.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nReplying to [@lftabera](#comment%3A33):\n> I created another method substitutying the Integer with int. Then used the following code. To get an idea.\n\nCan you test addition & multiplication of polynomials? That's the one that concerns me. It probably won't matter, but...",
    "created_at": "2014-07-29T18:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104906",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:34" align="right">Comment 34</div>

Replying to [@lftabera](#comment%3A33):
> I created another method substitutying the Integer with int. Then used the following code. To get an idea.

Can you test addition & multiplication of polynomials? That's the one that concerns me. It probably won't matter, but...



---

archive/issue_comments_104907.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nDo you mean comparing the cost of weighted_degree with addition/multiplication? That depends *a lot* on the underlying ring. Do you have a specific ring in mind?\n\nThis patch will have absolutely not impact on addition and mult. I expect that addition can be in fact faster that weighted degree for \"nice\" rings and multiplication will be much slower.",
    "created_at": "2014-07-29T18:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104907",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:35" align="right">Comment 35</div>

Do you mean comparing the cost of weighted_degree with addition/multiplication? That depends *a lot* on the underlying ring. Do you have a specific ring in mind?

This patch will have absolutely not impact on addition and mult. I expect that addition can be in fact faster that weighted degree for "nice" rings and multiplication will be much slower.



---

archive/issue_comments_104908.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nReplying to [@lftabera](#comment%3A35):\n> Do you mean comparing the cost of weighted_degree with addition/multiplication?\n\nI mean comparing the cost of, say, addition in a ring with Integer weighted orders vs. addition in a ring with int weighted orders. Use the same polynomials in the same base field. Then try with multiplication.\n\nI have no particular ring in mind; I'm curious about all the \"usual\" rings: QQ[**x**], **F**<sub>*p*</sub>[**x**], etc.\n\n> I expect that addition can be in fact faster that weighted degree for \"nice\" rings and multiplication will be much slower.\n\nWhy?",
    "created_at": "2014-07-29T19:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104908",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:36" align="right">Comment 36</div>

Replying to [@lftabera](#comment%3A35):
> Do you mean comparing the cost of weighted_degree with addition/multiplication?

I mean comparing the cost of, say, addition in a ring with Integer weighted orders vs. addition in a ring with int weighted orders. Use the same polynomials in the same base field. Then try with multiplication.

I have no particular ring in mind; I'm curious about all the "usual" rings: QQ[**x**], **F**<sub>*p*</sub>[**x**], etc.

> I expect that addition can be in fact faster that weighted degree for "nice" rings and multiplication will be much slower.

Why?



---

archive/issue_comments_104909.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nThis patch will have no effect on that. There are no rings with int weighted order or Integer weighted order.\n\nWhen you create a multivariate polynomial ring, you select a TermOrder, with degrevlex as default.\n\nHowever, in some cases, a user may want to compute the degree of a polynomial with a weighted term order that is *different* from the term order of the underlying ring. In this, and only in this case the weighted_degree method will play a role. In `QQ['x,y']` and `GF(p)['x,y']` singular will be used, so for usual operations of addition and multiplication will use the singular implementation of term orders. This patch will not change that.\n\n```\nsage: K=PolynomialRing(QQ, 'a,b,c', order=TermOrder('wdeglex',(7,8,9)))\nsage: a,b,c=K.gens()\nsage: f = a+b**3+c**4\nsage: f.degree() # uses the weights of K, it is singular who compute this.\n36\nsage: f.weighted_degree([7,8,9]) #My patch, not computed using singular.\n36\nsage: f.weighted_degree([1,3,-3]) #My patch, not computed using singular.\n9\nsage: #The term order of the underlying ring does not change.\nsage: f.parent().term_order()\nWeighted degree lexicographic term order with weights (7, 8, 9)\n```",
    "created_at": "2014-07-29T19:29:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104909",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:37" align="right">Comment 37</div>

This patch will have no effect on that. There are no rings with int weighted order or Integer weighted order.

When you create a multivariate polynomial ring, you select a TermOrder, with degrevlex as default.

However, in some cases, a user may want to compute the degree of a polynomial with a weighted term order that is *different* from the term order of the underlying ring. In this, and only in this case the weighted_degree method will play a role. In `QQ['x,y']` and `GF(p)['x,y']` singular will be used, so for usual operations of addition and multiplication will use the singular implementation of term orders. This patch will not change that.

```
sage: K=PolynomialRing(QQ, 'a,b,c', order=TermOrder('wdeglex',(7,8,9)))
sage: a,b,c=K.gens()
sage: f = a+b**3+c**4
sage: f.degree() # uses the weights of K, it is singular who compute this.
36
sage: f.weighted_degree([7,8,9]) #My patch, not computed using singular.
36
sage: f.weighted_degree([1,3,-3]) #My patch, not computed using singular.
9
sage: #The term order of the underlying ring does not change.
sage: f.parent().term_order()
Weighted degree lexicographic term order with weights (7, 8, 9)
```



---

archive/issue_comments_104910.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nReplying to [@lftabera](#comment%3A37):\n> However, in some cases, a user may want to compute the degree of a polynomial with a weighted term order that is *different* from the term order of the underlying ring.\n\nRight. I get that. I didn't realize how `weighted_degree` was being used. I get that now.\n\nI'll like to review this, but I haven't taken the time to work out the new development system. I'll try to figure out git & give this a careful review within the next few days. If nothing happens by next week, remind me.",
    "created_at": "2014-07-29T19:36:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104910",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:38" align="right">Comment 38</div>

Replying to [@lftabera](#comment%3A37):
> However, in some cases, a user may want to compute the degree of a polynomial with a weighted term order that is *different* from the term order of the underlying ring.

Right. I get that. I didn't realize how `weighted_degree` was being used. I get that now.

I'll like to review this, but I haven't taken the time to work out the new development system. I'll try to figure out git & give this a careful review within the next few days. If nothing happens by next week, remind me.



---

archive/issue_comments_104911.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nThanks!",
    "created_at": "2014-07-29T20:02:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104911",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:39" align="right">Comment 39</div>

Thanks!



---

archive/issue_events_129032.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129032"
}
```



---

archive/issue_events_129033.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129033"
}
```



---

archive/issue_comments_104912.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nSorry it took so long; no one reminded me. ;-)\n\nI've tested it, & everything seems to be in order. I just need to look over the source code.\n\nSo, now that we're on this new-fangled git system, **How do I see the actual diff?** The attachments don't show the most recent changes. When I click on the branch, it shows 1593 lines removed from `src/sage/rings/polynomial/multi_polynomial.pyx`, and 29 changes to `src/sage/rings/polynomial/multi_polynomial_element.py`. None of them involves `weighted_degree()`, & in fact the things removed from the first file look frightening. I'm guessing that branch has changed? But when I look at the source code in sage (`f.weighted_degree()??`) it looks fine.",
    "created_at": "2014-08-26T16:12:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104912",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:41" align="right">Comment 41</div>

Sorry it took so long; no one reminded me. ;-)

I've tested it, & everything seems to be in order. I just need to look over the source code.

So, now that we're on this new-fangled git system, **How do I see the actual diff?** The attachments don't show the most recent changes. When I click on the branch, it shows 1593 lines removed from `src/sage/rings/polynomial/multi_polynomial.pyx`, and 29 changes to `src/sage/rings/polynomial/multi_polynomial_element.py`. None of them involves `weighted_degree()`, & in fact the things removed from the first file look frightening. I'm guessing that branch has changed? But when I look at the source code in sage (`f.weighted_degree()??`) it looks fine.



---

archive/issue_comments_104913.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nIf you click on commits, they look more sensible. Perhaps you need to merge this branch with the current devel to make things look better? Or, when everything else fails, you have to ask Volker ;-)",
    "created_at": "2014-08-26T16:22:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104913",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:42" align="right">Comment 42</div>

If you click on commits, they look more sensible. Perhaps you need to merge this branch with the current devel to make things look better? Or, when everything else fails, you have to ask Volker ;-)



---

archive/issue_comments_104914.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nReplying to [@novoselt](#comment%3A42):\n> If you click on commits, they look more sensible.\n\nNot at first, but eventually :-) After that, the highlighted box is very appealing to click on, but doesn't give information. You have to click on *completely plain text* to get a diff.\n\nBut even that isn't right. The diff I get is a diff from previous work on this ticket, not from pre-ticket source. Is it possible to see the cumulative result of all the changes, just as we used to recommend on simpler tickets that someone combine all the tickets into one?\n\n> Perhaps you need to merge this branch with the current devel to make things look better?\n\nI don't even know what that means. :-( I just did a sage -dev checkout --ticket 10716.",
    "created_at": "2014-08-26T16:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104914",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:43" align="right">Comment 43</div>

Replying to [@novoselt](#comment%3A42):
> If you click on commits, they look more sensible.

Not at first, but eventually :-) After that, the highlighted box is very appealing to click on, but doesn't give information. You have to click on *completely plain text* to get a diff.

But even that isn't right. The diff I get is a diff from previous work on this ticket, not from pre-ticket source. Is it possible to see the cumulative result of all the changes, just as we used to recommend on simpler tickets that someone combine all the tickets into one?

> Perhaps you need to merge this branch with the current devel to make things look better?

I don't even know what that means. :-( I just did a sage -dev checkout --ticket 10716.



---

archive/issue_comments_104915.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nIf you do something like\n\n```\ngit merge develop\ngit trac push\n```\nthe branch should be based on current develop rather than 6.2. However, clicking on the branch on tickets should show precisely what will be changed after merging this ticket and develop. Perhaps that file was completely removed in another ticket?.. But then there should be conflicts and the branch should not apply, I think. So it may really make sense to inquire on sage-devel what's going on here.",
    "created_at": "2014-08-26T16:42:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104915",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:44" align="right">Comment 44</div>

If you do something like

```
git merge develop
git trac push
```
the branch should be based on current develop rather than 6.2. However, clicking on the branch on tickets should show precisely what will be changed after merging this ticket and develop. Perhaps that file was completely removed in another ticket?.. But then there should be conflicts and the branch should not apply, I think. So it may really make sense to inquire on sage-devel what's going on here.



---

archive/issue_comments_104916.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nReplying to [@novoselt](#comment%3A44):\n> If you do something like\n> \n> ```\n> git merge develop\n> ```\n\nHmm, now *git* doesn't know what that means.\n\n```\nsage$ git merge develop\nmerge: develop - not something we can merge\n\nDid you mean this?\n\torigin/develop\n```\n\n> However, clicking on the branch on tickets should show precisely what will be changed after merging this ticket and develop.\n\nFor some reason, the links to both branch and commits disappear after I reload this webpage. I'll try posting & looking at this again.",
    "created_at": "2014-08-26T16:47:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104916",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:45" align="right">Comment 45</div>

Replying to [@novoselt](#comment%3A44):
> If you do something like
> 
> ```
> git merge develop
> ```

Hmm, now *git* doesn't know what that means.

```
sage$ git merge develop
merge: develop - not something we can merge

Did you mean this?
	origin/develop
```

> However, clicking on the branch on tickets should show precisely what will be changed after merging this ticket and develop.

For some reason, the links to both branch and commits disappear after I reload this webpage. I'll try posting & looking at this again.



---

archive/issue_comments_104917.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nLinks disappear if you start editing the ticket, that's to be expected! And if you don't have your own checked out develop branch, then yes, you want to merge with origin/develop.",
    "created_at": "2014-08-26T16:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104917",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:46" align="right">Comment 46</div>

Links disappear if you start editing the ticket, that's to be expected! And if you don't have your own checked out develop branch, then yes, you want to merge with origin/develop.



---

archive/issue_comments_104918.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nReplying to [@novoselt](#comment%3A46):\n> Links disappear if you start editing the ticket, that's to be expected!\n\n*I* don't see why they should disappear if I'm merely writing comments.\n\n> And if you don't have your own checked out develop branch, then yes, you want to merge with origin/develop.\n\nOK, now `git trac push` wants git@trac.sagemath.org's password.",
    "created_at": "2014-08-26T17:13:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104918",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:47" align="right">Comment 47</div>

Replying to [@novoselt](#comment%3A46):
> Links disappear if you start editing the ticket, that's to be expected!

*I* don't see why they should disappear if I'm merely writing comments.

> And if you don't have your own checked out develop branch, then yes, you want to merge with origin/develop.

OK, now `git trac push` wants git@trac.sagemath.org's password.



---

archive/issue_comments_104919.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nSo far I'm tracing through the four commits. It looks OK, but I'd prefer if this could be rewritten so that there's only one commit to study; it's not a very difficult change to make, as there isn't very much code. So, I'm changing the status to `Needs work.` If someone else wants to referee this ticket & disagrees, I'm not wedded to it, but if I can't see the entire set of changes, I'm reluctant to say, \"it's OK.\" & this has been done to me once or twice before, so I don't feel I'm asking anything unusual :-)",
    "created_at": "2014-08-26T17:16:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104919",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:48" align="right">Comment 48</div>

So far I'm tracing through the four commits. It looks OK, but I'd prefer if this could be rewritten so that there's only one commit to study; it's not a very difficult change to make, as there isn't very much code. So, I'm changing the status to `Needs work.` If someone else wants to referee this ticket & disagrees, I'm not wedded to it, but if I can't see the entire set of changes, I'm reluctant to say, "it's OK." & this has been done to me once or twice before, so I don't feel I'm asking anything unusual :-)



---

archive/issue_events_129034.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-08-26T17:16:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129034"
}
```



---

archive/issue_events_129035.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-08-26T17:16:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129035"
}
```



---

archive/issue_comments_104920.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\nI am not saying it makes sense, rather that's just how it works ;-) Perhaps because when you are editing a ticket, you may change the branch as well and it is difficult to see what exactly you are doing.\n\nAnyway, for password setup: [http://sagemath.org/doc/developer/git_trac.html#git-and-trac-configuration](http://sagemath.org/doc/developer/git_trac.html#git-and-trac-configuration)",
    "created_at": "2014-08-26T17:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104920",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:50" align="right">Comment 50</div>

I am not saying it makes sense, rather that's just how it works ;-) Perhaps because when you are editing a ticket, you may change the branch as well and it is difficult to see what exactly you are doing.

Anyway, for password setup: [http://sagemath.org/doc/developer/git_trac.html#git-and-trac-configuration](http://sagemath.org/doc/developer/git_trac.html#git-and-trac-configuration)



---

archive/issue_comments_104921.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nWith git there is no reason to clamp commits together, since it is possible to see \"the cumulative effect\". And usually this is exactly what happens when you click on the branch name on the ticket page, I am not sure what's going on here.",
    "created_at": "2014-08-26T17:20:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104921",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:51" align="right">Comment 51</div>

With git there is no reason to clamp commits together, since it is possible to see "the cumulative effect". And usually this is exactly what happens when you click on the branch name on the ticket page, I am not sure what's going on here.



---

archive/issue_comments_104922.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">Comment 52</div>\n\nReplying to [@novoselt](#comment%3A50):\n> Anyway, for password setup: [http://sagemath.org/doc/developer/git_trac.html#git-and-trac-configuration](http://sagemath.org/doc/developer/git_trac.html#git-and-trac-configuration)\n\nI have already done that, substituting my information for USERNAME and PASSWORD. It seems to think I have a different username for some reason (i.e., 'git' instead of 'john_perry').",
    "created_at": "2014-08-26T17:50:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104922",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:52" align="right">Comment 52</div>

Replying to [@novoselt](#comment%3A50):
> Anyway, for password setup: [http://sagemath.org/doc/developer/git_trac.html#git-and-trac-configuration](http://sagemath.org/doc/developer/git_trac.html#git-and-trac-configuration)

I have already done that, substituting my information for USERNAME and PASSWORD. It seems to think I have a different username for some reason (i.e., 'git' instead of 'john_perry').



---

archive/issue_comments_104923.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nOh, no, I haven't. There's more that I hadn't read. Okay, hold on.",
    "created_at": "2014-08-26T17:53:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104923",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:53" align="right">Comment 53</div>

Oh, no, I haven't. There's more that I hadn't read. Okay, hold on.



---

archive/issue_comments_104924.json:
```json
{
    "body": "Changed branch from **[u/lftabera/weighted_degree](https://github.com/sagemath/sagetrac-mirror/tree/u/lftabera/weighted_degree)** to **[u/john_perry/weighted_degree](https://github.com/sagemath/sagetrac-mirror/tree/u/john_perry/weighted_degree)**",
    "created_at": "2014-08-26T18:00:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104924",
    "user": "https://github.com/johnperry-math"
}
```

Changed branch from **[u/lftabera/weighted_degree](https://github.com/sagemath/sagetrac-mirror/tree/u/lftabera/weighted_degree)** to **[u/john_perry/weighted_degree](https://github.com/sagemath/sagetrac-mirror/tree/u/john_perry/weighted_degree)**



---

archive/issue_comments_104925.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\nOK, I can now see the entire set of changes in one go (yay!) although I'm troubled by the branch being changed. I'm changing the status back to `Needs review` for the time being.\n\n1. Is that a problem?\n2. Should I worry about doctests that have no obvious relation to this ticket? I'm getting failures in doctests like `f.resultant(g) == fh.macaulay_resultant(gh)`. I'm thinking those are caused by other tickets that have been worked into this branch for some mysterious reason (i.e., all those deleted lines I was seeing earlier).\n  \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c48dab6cca6f92c9c0d28b89089c99e705bedc26\">c48dab6</a></td><td><code>Merge remote-tracking branch 'origin/develop' into ticket/10716</code></td></tr></table>\n",
    "created_at": "2014-08-26T18:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104925",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:55" align="right">Comment 55</div>

OK, I can now see the entire set of changes in one go (yay!) although I'm troubled by the branch being changed. I'm changing the status back to `Needs review` for the time being.

1. Is that a problem?
2. Should I worry about doctests that have no obvious relation to this ticket? I'm getting failures in doctests like `f.resultant(g) == fh.macaulay_resultant(gh)`. I'm thinking those are caused by other tickets that have been worked into this branch for some mysterious reason (i.e., all those deleted lines I was seeing earlier).
  
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c48dab6cca6f92c9c0d28b89089c99e705bedc26">c48dab6</a></td><td><code>Merge remote-tracking branch 'origin/develop' into ticket/10716</code></td></tr></table>




---

archive/issue_events_129036.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-08-26T18:07:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129036"
}
```



---

archive/issue_events_129037.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-08-26T18:07:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129037"
}
```



---

archive/issue_comments_104926.json:
```json
{
    "body": "Changed commit from **[811b796](https://github.com/sagemath/sagetrac-mirror/commit/811b79657358bcc6c1201715cd35ffab9a42e346)** to **[c48dab6](https://github.com/sagemath/sagetrac-mirror/commit/c48dab6cca6f92c9c0d28b89089c99e705bedc26)**",
    "created_at": "2014-08-26T18:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104926",
    "user": "https://github.com/johnperry-math"
}
```

Changed commit from **[811b796](https://github.com/sagemath/sagetrac-mirror/commit/811b79657358bcc6c1201715cd35ffab9a42e346)** to **[c48dab6](https://github.com/sagemath/sagetrac-mirror/commit/c48dab6cca6f92c9c0d28b89089c99e705bedc26)**



---

archive/issue_comments_104927.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">Comment 56</div>\n\nChanging branch is perfectly fine - prior commits are still recorded as done by the original author, only the merge one is marked as yours. But all tests should certainly pass, unless it is a known failure of the current beta release (check out sage-release, I guess).",
    "created_at": "2014-08-26T18:23:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104927",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:56" align="right">Comment 56</div>

Changing branch is perfectly fine - prior commits are still recorded as done by the original author, only the merge one is marked as yours. But all tests should certainly pass, unless it is a known failure of the current beta release (check out sage-release, I guess).



---

archive/issue_comments_104928.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nWhen I switch to the master branch (which doesn't have this ticket, or shouldn't) & rebuild, I get a huge number of changes; a lot of \"Cythonizing\", basically. Is that supposed to happen?",
    "created_at": "2014-08-26T18:34:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104928",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:57" align="right">Comment 57</div>

When I switch to the master branch (which doesn't have this ticket, or shouldn't) & rebuild, I get a huge number of changes; a lot of "Cythonizing", basically. Is that supposed to happen?



---

archive/issue_comments_104929.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">Comment 58</div>\n\nYes, since master is 6.3 and the ticket is now based on latest beta. Given that packages may change between betas, it is generally better not to switch between them. And if you do, you should run make, not just sage -b.",
    "created_at": "2014-08-26T18:37:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104929",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:58" align="right">Comment 58</div>

Yes, since master is 6.3 and the ticket is now based on latest beta. Given that packages may change between betas, it is generally better not to switch between them. And if you do, you should run make, not just sage -b.



---

archive/issue_comments_104930.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">Comment 59</div>\n\nReplying to [@novoselt](#comment%3A58):\n> Yes, since master is 6.3 and the ticket is now based on latest beta. Given that packages may change between betas, it is generally better not to switch between them. And if you do, you should run make, not just sage -b.\n\nGreat, so not only am I waiting a long time to rebuild (contra \"This should be quite fast\" on the developer guide), I'm looking at the wrong thing. Alright, once it's ready, I'll move to sage-release.\n\nIs there a faster way to do this? In the old system, I downloaded the ticket, checked it, gave it a positive review, done. Now it seems the entire system has to rebuild for just a few lines of code. Surely I'm doing something wrong.",
    "created_at": "2014-08-26T18:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104930",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:59" align="right">Comment 59</div>

Replying to [@novoselt](#comment%3A58):
> Yes, since master is 6.3 and the ticket is now based on latest beta. Given that packages may change between betas, it is generally better not to switch between them. And if you do, you should run make, not just sage -b.

Great, so not only am I waiting a long time to rebuild (contra "This should be quite fast" on the developer guide), I'm looking at the wrong thing. Alright, once it's ready, I'll move to sage-release.

Is there a faster way to do this? In the old system, I downloaded the ticket, checked it, gave it a positive review, done. Now it seems the entire system has to rebuild for just a few lines of code. Surely I'm doing something wrong.



---

archive/issue_comments_104931.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">Comment 60</div>\n\nThere were some discussions about speeding up on sage-devel, but basically for fast work you want to keep building up-to-date develop branch and when you check out a ticket - merge your current develop into it before sage -b. If the merge was automatic and you don't want to make any changes - don't push the updated branch to track. If the merge required conflict resolution or you want to make changes - do changes on top of the merged branch and then push it to trac. This may be written in the current guide, but may be not.",
    "created_at": "2014-08-26T19:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104931",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:60" align="right">Comment 60</div>

There were some discussions about speeding up on sage-devel, but basically for fast work you want to keep building up-to-date develop branch and when you check out a ticket - merge your current develop into it before sage -b. If the merge was automatic and you don't want to make any changes - don't push the updated branch to track. If the merge required conflict resolution or you want to make changes - do changes on top of the merged branch and then push it to trac. This may be written in the current guide, but may be not.



---

archive/issue_comments_104932.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">Comment 61</div>\n\nReplying to [@novoselt](#comment%3A60):\n> ...basically for fast work you want to keep building up-to-date develop branch and when you check out a ticket - merge your current develop into it before sage -b.\n\nFast for whom? In the old system, I'd either have given this a positive review, or have confirmed within a matter of minutes (at most) that the doctest failures were due to this ticket, & marked it `Needs work`. Simple, fast, efficient.\n\nIn the new system, **I'm still waiting for sage to finish building, half an hour after invoking `sage -br`.** I'm pretty sure I'll be waiting at least that much longer -- yet in order to verify the cause of the failing doctests, I still have to checkout `sage-release` and go through that.\n\nWas I supposed to checkout sage-release before checking out the ticket? Am I supposed to do that before every ticket I referee? I don't see how this is an improvement. That's why I say, \"Surely I'm doing something wrong.\"\n\n(Sorry for the completely unrelated & probably pointless noise in a ticket, by the way -- I'm just frustrated at having nothing productive to do while I wait.)",
    "created_at": "2014-08-26T19:19:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104932",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:61" align="right">Comment 61</div>

Replying to [@novoselt](#comment%3A60):
> ...basically for fast work you want to keep building up-to-date develop branch and when you check out a ticket - merge your current develop into it before sage -b.

Fast for whom? In the old system, I'd either have given this a positive review, or have confirmed within a matter of minutes (at most) that the doctest failures were due to this ticket, & marked it `Needs work`. Simple, fast, efficient.

In the new system, **I'm still waiting for sage to finish building, half an hour after invoking `sage -br`.** I'm pretty sure I'll be waiting at least that much longer -- yet in order to verify the cause of the failing doctests, I still have to checkout `sage-release` and go through that.

Was I supposed to checkout sage-release before checking out the ticket? Am I supposed to do that before every ticket I referee? I don't see how this is an improvement. That's why I say, "Surely I'm doing something wrong."

(Sorry for the completely unrelated & probably pointless noise in a ticket, by the way -- I'm just frustrated at having nothing productive to do while I wait.)



---

archive/issue_comments_104933.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\nI have tested Sage 4.beta1. These doctests do not fail. I'm trying to figure out what's going on.",
    "created_at": "2014-08-26T21:01:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104933",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:62" align="right">Comment 62</div>

I have tested Sage 4.beta1. These doctests do not fail. I'm trying to figure out what's going on.



---

archive/issue_comments_104934.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">Comment 63</div>\n\n**Great news.** Using the hint from `sage-devel` listed below [1], I was able to checkout the ticket on top of development branch 6.4.beta1, build *very quickly*, then test those files. They work.\n\nI'm now rebuilding the documentation, to make sure it's okay, too. Once that's done, we'll have a positive review. :-)\n\n[1] https://groups.google.com/d/msg/sage-devel/5d9NfgZJDmw/06R3bFOkeYIJ",
    "created_at": "2014-08-26T21:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104934",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:63" align="right">Comment 63</div>

**Great news.** Using the hint from `sage-devel` listed below [1], I was able to checkout the ticket on top of development branch 6.4.beta1, build *very quickly*, then test those files. They work.

I'm now rebuilding the documentation, to make sure it's okay, too. Once that's done, we'll have a positive review. :-)

[1] https://groups.google.com/d/msg/sage-devel/5d9NfgZJDmw/06R3bFOkeYIJ



---

archive/issue_events_129038.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-08-26T22:07:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129038"
}
```



---

archive/issue_events_129039.json:
```json
{
    "actor": "https://github.com/johnperry-math",
    "created_at": "2014-08-26T22:07:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129039"
}
```



---

archive/issue_comments_104935.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">Comment 64</div>\n\nPDF docs build. HTML docs do not, but HTML docs do not build even without this patch. POSITIVE REVIEW.",
    "created_at": "2014-08-26T22:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104935",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:64" align="right">Comment 64</div>

PDF docs build. HTML docs do not, but HTML docs do not build even without this patch. POSITIVE REVIEW.



---

archive/issue_comments_104936.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">Comment 65</div>\n\nI imagine \"Reviewers\" field has to be changed ;-)",
    "created_at": "2014-08-26T23:24:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104936",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:65" align="right">Comment 65</div>

I imagine "Reviewers" field has to be changed ;-)



---

archive/issue_comments_104937.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">Comment 66</div>\n\nAnd there I was, hoping someone else would get the blame for my shoddy work.",
    "created_at": "2014-08-27T00:10:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104937",
    "user": "https://github.com/johnperry-math"
}
```

<div id="comment:66" align="right">Comment 66</div>

And there I was, hoping someone else would get the blame for my shoddy work.



---

archive/issue_comments_104938.json:
```json
{
    "body": "Changed reviewer from **Marshall Hampton** to **Marshall Hampton, John Perry**",
    "created_at": "2014-08-27T00:10:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104938",
    "user": "https://github.com/johnperry-math"
}
```

Changed reviewer from **Marshall Hampton** to **Marshall Hampton, John Perry**



---

archive/issue_events_129040.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-27T17:58:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129040"
}
```



---

archive/issue_events_129041.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1d727bd3a1b2d3a73b8033ce14004be1ab3179dc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-08-27T17:58:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10716#event-129041"
}
```



---

archive/issue_comments_104939.json:
```json
{
    "body": "Changed branch from **[u/john_perry/weighted_degree](https://github.com/sagemath/sagetrac-mirror/tree/u/john_perry/weighted_degree)** to **[c48dab6](https://github.com/sagemath/sagetrac-mirror/commit/c48dab6cca6f92c9c0d28b89089c99e705bedc26)**",
    "created_at": "2014-08-27T17:58:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104939",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/john_perry/weighted_degree](https://github.com/sagemath/sagetrac-mirror/tree/u/john_perry/weighted_degree)** to **[c48dab6](https://github.com/sagemath/sagetrac-mirror/commit/c48dab6cca6f92c9c0d28b89089c99e705bedc26)**



---

archive/issue_comments_104940.json:
```json
{
    "body": "Changed commit from **[c48dab6](https://github.com/sagemath/sagetrac-mirror/commit/c48dab6cca6f92c9c0d28b89089c99e705bedc26)** to none",
    "created_at": "2014-11-14T17:53:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104940",
    "user": "https://github.com/kcrisman"
}
```

Changed commit from **[c48dab6](https://github.com/sagemath/sagetrac-mirror/commit/c48dab6cca6f92c9c0d28b89089c99e705bedc26)** to none



---

archive/issue_comments_104941.json:
```json
{
    "body": "Changed author from **Johan S. R. Nielsen, Luis Felipe Tabera Alonso** to **Johan Sebastian Rosenkilde Nielsen, Luis Felipe Tabera Alonso**",
    "created_at": "2014-11-14T17:53:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10716#issuecomment-104941",
    "user": "https://github.com/kcrisman"
}
```

Changed author from **Johan S. R. Nielsen, Luis Felipe Tabera Alonso** to **Johan Sebastian Rosenkilde Nielsen, Luis Felipe Tabera Alonso**
