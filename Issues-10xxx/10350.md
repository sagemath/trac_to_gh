# Issue 10350: Fix some remaining issues with sphinx-1.0.4.p3.spkg

archive/issues_010349.json:
```json
{
    "assignees": [],
    "body": "**This ticket is a follow-up to #10118 (merged in sage-4.6.1.alpha2)**\n\nHere are some trivial problems in the file `SPKG.txt` of version \".p3\" of the Sphinx package:\n\n* In the section\n\n```\n== Dependencies ==\n\nThis depends on Jinja >= 2, Pygments >= 0.8, and docutils >= 0.4.\n```\n we should have \"Pygments >= 1.3.1\" due to ticket #10290, and \"Jinja2 >= 2**.2**\". But this is no biggy; it's a trivial typo that can either (i) be fixed in a new ticket, or (ii) fixed in the current ticket.\n\n* In the section\n\n```\n* patches/pngmath.patch: This replaces \\usepackage[utf8x]{inputenc}\n  by \\usepackage[utf8]{inputenc} in the LaTeX preamble for building\n  images in the HTML documentation.  This change is done because some\n  LaTeX installations have only utf8, not utf8x (utf8x adds support for\n  much more Unicode characters, but these are needed used to typeset the\n  mathematics in the Sage documentation).\n```\n the fragment\n\n ```\n but these are needed used to typeset the\n ```\n should be changed to\n\n ```\n but these are used to typeset the\n ```\n\nTested on the following platforms:\n\n* {sage.math, bsd.math, hawk}: Both HTML and PDF versions of documentation built OK. For the PDF version, building the reference manual produced some warnings about \"unusable reference target\", which are to do with relative links to other documents in the Sage standard documentation.\n\n* {cleo, iras}.skynet: Sage 4.6.1.alpha2 fails to build on this machine, hence the documentation doesn't get built at all.\n\n* {cicero, eno, lena, sextus, taurus, t2}: The HTML version of the documentation mostly built OK, but with warnings about a missing LaTeX installation. Consequently, the PDF version of the documentation can't be built.\n\n* flavius.skynet -- The PDF version of the documentation built fine, but with some warnings about unusable relative links. The HTML version built with numerous warnings due to missing the dvipng command.\n\n* {gcc11, gcc16}.fsffrance.org: The HTML version of all documents in the standard documentation mostly built OK, but with warnings about the missing command \"dvipng\". This machine has a LaTeX installation, but it is missing the file titlesec.sty, hence building the PDF version of any document in the standard documentation would hang at the error message:\n\n ```\n Style option: `fancybox' v1.3 <2000/09/19> (tvz)\n )\n \n ! LaTeX Error: File `titlesec.sty' not found.\n \n Type X to quit or <RETURN> to proceed,\n or enter new name. (Default extension: sty)\n ```\n\n* rh.math: The HTML version of all documents in the standard documentation mostly built OK, but with warnings about the missing command \"dvipng\". This means that LaTeX typesetting does not render at all in the HTML version. This machine has a LaTeX installation, but it is missing the file utf8x.def, hence building any document in the standard documentation would hang at the error message that prompts for utf8x.def. Note that we have the patch\n\n ```diff\n diff -r -u src.old/sphinx/ext/pngmath.py src/sphinx/ext/pngmath.py\n --- src/sphinx/ext/pngmath.py   2010-07-24 12:07:36.000000000 +0200\n +++ src/sphinx/ext/pngmath.py   2010-11-18 09:38:05.428635584 +0100\n @@ -34,7 +34,7 @@\n \n  DOC_HEAD = r'''\n  \\documentclass[12pt]{article}\n -\\usepackage[utf8x]{inputenc}\n +\\usepackage[utf8]{inputenc}\n  \\usepackage{amsmath}\n  \\usepackage{amsthm}\n  \\usepackage{amssymb}\n ```\n to use only utf8 instead of utf8x. The same change needs to be made to the file `doc/common/conf.py`. See my reviewer patch [attachment: trac-10118_use-utf8.patch.gz](https://github.com/sagemath/sage/files/ticket10350/trac-10118_use-utf8.patch.gz). With this patch, we get pass the issue of the missing utf8x.def, but we now run into the following error:\n\n ```\n Style option: `fancybox' v1.3 <2000/09/19> (tvz)\n )\n \n ! LaTeX Error: File `titlesec.sty' not found.\n \n Type X to quit or <RETURN> to proceed,\n or enter new name. (Default extension: sty)\n ```\n\n**Apply:**\n\n* http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p5.spkg\n\nCC:  @kcrisman @TimDumol @jhpalmieri @mwhansen\n\nKeywords: **sphinx spkg utf8x LaTeX error titlesec**\n\nAuthor: **Jeroen Demeyer**\n\nReviewer: **Minh Van Nguyen**\n\nMerged: **sage-4.6.1.alpha3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10350_\n\n",
    "closed_at": "2010-12-05T11:51:52Z",
    "created_at": "2010-11-28T10:45:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix some remaining issues with sphinx-1.0.4.p3.spkg",
    "type": "issue",
    "updated_at": "2010-12-05T22:04:22Z",
    "url": "https://github.com/sagemath/sage/issues/10350",
    "user": "https://github.com/jdemeyer"
}
```
**This ticket is a follow-up to #10118 (merged in sage-4.6.1.alpha2)**

Here are some trivial problems in the file `SPKG.txt` of version ".p3" of the Sphinx package:

* In the section

```
== Dependencies ==

This depends on Jinja >= 2, Pygments >= 0.8, and docutils >= 0.4.
```
 we should have "Pygments >= 1.3.1" due to ticket #10290, and "Jinja2 >= 2**.2**". But this is no biggy; it's a trivial typo that can either (i) be fixed in a new ticket, or (ii) fixed in the current ticket.

* In the section

```
* patches/pngmath.patch: This replaces \usepackage[utf8x]{inputenc}
  by \usepackage[utf8]{inputenc} in the LaTeX preamble for building
  images in the HTML documentation.  This change is done because some
  LaTeX installations have only utf8, not utf8x (utf8x adds support for
  much more Unicode characters, but these are needed used to typeset the
  mathematics in the Sage documentation).
```
 the fragment

 ```
 but these are needed used to typeset the
 ```
 should be changed to

 ```
 but these are used to typeset the
 ```

Tested on the following platforms:

* {sage.math, bsd.math, hawk}: Both HTML and PDF versions of documentation built OK. For the PDF version, building the reference manual produced some warnings about "unusable reference target", which are to do with relative links to other documents in the Sage standard documentation.

* {cleo, iras}.skynet: Sage 4.6.1.alpha2 fails to build on this machine, hence the documentation doesn't get built at all.

* {cicero, eno, lena, sextus, taurus, t2}: The HTML version of the documentation mostly built OK, but with warnings about a missing LaTeX installation. Consequently, the PDF version of the documentation can't be built.

* flavius.skynet -- The PDF version of the documentation built fine, but with some warnings about unusable relative links. The HTML version built with numerous warnings due to missing the dvipng command.

* {gcc11, gcc16}.fsffrance.org: The HTML version of all documents in the standard documentation mostly built OK, but with warnings about the missing command "dvipng". This machine has a LaTeX installation, but it is missing the file titlesec.sty, hence building the PDF version of any document in the standard documentation would hang at the error message:

 ```
 Style option: `fancybox' v1.3 <2000/09/19> (tvz)
 )
 
 ! LaTeX Error: File `titlesec.sty' not found.
 
 Type X to quit or <RETURN> to proceed,
 or enter new name. (Default extension: sty)
 ```

* rh.math: The HTML version of all documents in the standard documentation mostly built OK, but with warnings about the missing command "dvipng". This means that LaTeX typesetting does not render at all in the HTML version. This machine has a LaTeX installation, but it is missing the file utf8x.def, hence building any document in the standard documentation would hang at the error message that prompts for utf8x.def. Note that we have the patch

 ```diff
 diff -r -u src.old/sphinx/ext/pngmath.py src/sphinx/ext/pngmath.py
 --- src/sphinx/ext/pngmath.py   2010-07-24 12:07:36.000000000 +0200
 +++ src/sphinx/ext/pngmath.py   2010-11-18 09:38:05.428635584 +0100
 @@ -34,7 +34,7 @@
 
  DOC_HEAD = r'''
  \documentclass[12pt]{article}
 -\usepackage[utf8x]{inputenc}
 +\usepackage[utf8]{inputenc}
  \usepackage{amsmath}
  \usepackage{amsthm}
  \usepackage{amssymb}
 ```
 to use only utf8 instead of utf8x. The same change needs to be made to the file `doc/common/conf.py`. See my reviewer patch [attachment: trac-10118_use-utf8.patch.gz](https://github.com/sagemath/sage/files/ticket10350/trac-10118_use-utf8.patch.gz). With this patch, we get pass the issue of the missing utf8x.def, but we now run into the following error:

 ```
 Style option: `fancybox' v1.3 <2000/09/19> (tvz)
 )
 
 ! LaTeX Error: File `titlesec.sty' not found.
 
 Type X to quit or <RETURN> to proceed,
 or enter new name. (Default extension: sty)
 ```

**Apply:**

* http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p5.spkg

CC:  @kcrisman @TimDumol @jhpalmieri @mwhansen

Keywords: **sphinx spkg utf8x LaTeX error titlesec**

Author: **Jeroen Demeyer**

Reviewer: **Minh Van Nguyen**

Merged: **sage-4.6.1.alpha3**

_Issue created by migration from https://trac.sagemath.org/ticket/10350_





---

archive/issue_events_124256.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-28T10:45:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "milestone_number": null,
    "milestone_title": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124256"
}
```



---

archive/issue_events_124257.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-28T10:45:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124257"
}
```



---

archive/issue_events_124258.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-28T10:45:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124258"
}
```



---

archive/issue_events_124259.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-28T10:45:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124259"
}
```



---

archive/issue_comments_099262.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew spkg: [http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p4.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p4.spkg)",
    "created_at": "2010-11-28T13:53:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99262",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'>Comment 1:</a>
New spkg: [http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p4.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p4.spkg)



---

archive/issue_events_124260.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-28T13:53:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124260"
}
```



---

archive/issue_comments_099263.json:
```json
{
    "body": "Patch from p3 to p4, for review",
    "created_at": "2010-11-28T13:54:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99263",
    "user": "https://github.com/jdemeyer"
}
```

Patch from p3 to p4, for review



---

archive/issue_events_124261.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-12-03T15:07:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124261"
}
```



---

archive/issue_events_124262.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-12-03T15:07:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124262"
}
```



---

archive/issue_comments_099264.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nAttachment: **[sphinx-1.0.4.p4.patch.gz](https://github.com/sagemath/sage/files/ticket10350/sphinx-1.0.4.p4.patch.gz)**\n\nFrom sage-release:\n\n```\nI have an interesting (repeatable) error.\n\nProcessing dependencies for Sphinx==1.0.4\nSearching for Jinja2>=2.2\nReading http://pypi.python.org/simple/Jinja2/\nDownload error: [Errno 8] nodename nor servname provided, or not known\n-- Some packages may not be found!\nReading http://pypi.python.org/simple/Jinja2/\nDownload error: [Errno 8] nodename nor servname provided, or not known\n-- Some packages may not be found!\nCouldn't retrieve index page for 'Jinja2'\nScanning index of all packages (this may take a while)\nReading http://pypi.python.org/simple/\nDownload error: [Errno 8] nodename nor servname provided, or not known\n-- Some packages may not be found!\nNo local packages or download links found for Jinja2>=2.2\nerror: Could not find suitable distribution for\nRequirement.parse('Jinja2>=2.2')\nError building Sphinx: 'Error installing Sphinx'\nreal\t0m3.594s\nuser\t0m1.063s\nsys\t0m0.514s\nsage: An error occurred while installing sphinx-1.0.4.p3\n\n\nThis sort of mystified me, and retyping 'make' didn't help, until I\nplugged my computer back into the Internet.  Then I got:\n\n\nProcessing dependencies for Sphinx==1.0.4\nSearching for Jinja2>=2.2\nReading http://pypi.python.org/simple/Jinja2/\nReading http://jinja.pocoo.org/\nBest match: Jinja2 2.5.5\nDownloading http://pypi.python.org/packages/source/J/Jinja2/Jinja2-2.5.5.tar.gz#md5=83b20c1eeb31f49d8e6392efae91b7d5\n\n\nand all is well.\n\nIs the internet now a prerequisite for building Sage?  Obviously it is\na prereq for downloading it, but in theory one would want to be able\nto build it while offline (or to buy a CD with the source, or\nwhatever).  I am pretty sure that in the past this was not supposed to\nbe true.\n\n- kcrisman\n```",
    "created_at": "2010-12-03T15:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99264",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:2'>Comment 2:</a>
Attachment: **[sphinx-1.0.4.p4.patch.gz](https://github.com/sagemath/sage/files/ticket10350/sphinx-1.0.4.p4.patch.gz)**

From sage-release:

```
I have an interesting (repeatable) error.

Processing dependencies for Sphinx==1.0.4
Searching for Jinja2>=2.2
Reading http://pypi.python.org/simple/Jinja2/
Download error: [Errno 8] nodename nor servname provided, or not known
-- Some packages may not be found!
Reading http://pypi.python.org/simple/Jinja2/
Download error: [Errno 8] nodename nor servname provided, or not known
-- Some packages may not be found!
Couldn't retrieve index page for 'Jinja2'
Scanning index of all packages (this may take a while)
Reading http://pypi.python.org/simple/
Download error: [Errno 8] nodename nor servname provided, or not known
-- Some packages may not be found!
No local packages or download links found for Jinja2>=2.2
error: Could not find suitable distribution for
Requirement.parse('Jinja2>=2.2')
Error building Sphinx: 'Error installing Sphinx'
real	0m3.594s
user	0m1.063s
sys	0m0.514s
sage: An error occurred while installing sphinx-1.0.4.p3


This sort of mystified me, and retyping 'make' didn't help, until I
plugged my computer back into the Internet.  Then I got:


Processing dependencies for Sphinx==1.0.4
Searching for Jinja2>=2.2
Reading http://pypi.python.org/simple/Jinja2/
Reading http://jinja.pocoo.org/
Best match: Jinja2 2.5.5
Downloading http://pypi.python.org/packages/source/J/Jinja2/Jinja2-2.5.5.tar.gz#md5=83b20c1eeb31f49d8e6392efae91b7d5


and all is well.

Is the internet now a prerequisite for building Sage?  Obviously it is
a prereq for downloading it, but in theory one would want to be able
to build it while offline (or to buy a CD with the source, or
whatever).  I am pretty sure that in the past this was not supposed to
be true.

- kcrisman
```



---

archive/issue_events_124263.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-12-03T15:10:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124263"
}
```



---

archive/issue_events_124264.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-12-03T15:10:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124264"
}
```



---

archive/issue_comments_099265.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nP.S.: We should catch such automatically by `grep -iw downloading install.log`.",
    "created_at": "2010-12-03T15:19:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99265",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:4'>Comment 4:</a>
P.S.: We should catch such automatically by `grep -iw downloading install.log`.



---

archive/issue_comments_099266.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nWe have the correct dependencies in `spkg/standard/deps`:\n\n```make\n$(INST)/$(SPHINX): $(BASE) $(INST)/$(JINJA2) $(INST)/$(PATCH)\n\t$(INSTALL) \"$(SAGE_SPKG) $(SPHINX) 2>&1\" \"tee -a $(SAGE_LOGS)/$(SPHINX).log\"\n```\n\nbut our Jinja2 is too old:\n\n```sh\n~/Sage/sage-4.6.1.alpha2$ ls spkg/standard/jinja2-* \nspkg/standard/jinja2-2.1.1.p0.spkg\n```",
    "created_at": "2010-12-03T15:33:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99266",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:5'>Comment 5:</a>
We have the correct dependencies in `spkg/standard/deps`:

```make
$(INST)/$(SPHINX): $(BASE) $(INST)/$(JINJA2) $(INST)/$(PATCH)
	$(INSTALL) "$(SAGE_SPKG) $(SPHINX) 2>&1" "tee -a $(SAGE_LOGS)/$(SPHINX).log"
```

but our Jinja2 is too old:

```sh
~/Sage/sage-4.6.1.alpha2$ ls spkg/standard/jinja2-* 
spkg/standard/jinja2-2.1.1.p0.spkg
```



---

archive/issue_comments_099267.json:
```json
{
    "body": "Work Issues: **Provide an upgraded  Jinja2 (>=2.2) spkg**",
    "created_at": "2010-12-03T15:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99267",
    "user": "https://github.com/nexttime"
}
```

Work Issues: **Provide an upgraded  Jinja2 (>=2.2) spkg**



---

archive/issue_comments_099268.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,7 +9,7 @@\n \n This depends on Jinja >= 2, Pygments >= 0.8, and docutils >= 0.4.\n ```\n- we should have \"Pygments >= 1.3.1\" due to ticket #10290. But this is no biggy; it's a trivial typo that can either (i) be fixed in a new ticket, or (ii) fixed in the current ticket.\n+ we should have \"Pygments >= 1.3.1\" due to ticket #10290, and \"Jinja2 >= 2**.2**\". But this is no biggy; it's a trivial typo that can either (i) be fixed in a new ticket, or (ii) fixed in the current ticket.\n \n * In the section\n \n``````\n",
    "created_at": "2010-12-03T15:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99268",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,7 +9,7 @@
 
 This depends on Jinja >= 2, Pygments >= 0.8, and docutils >= 0.4.
 ```
- we should have "Pygments >= 1.3.1" due to ticket #10290. But this is no biggy; it's a trivial typo that can either (i) be fixed in a new ticket, or (ii) fixed in the current ticket.
+ we should have "Pygments >= 1.3.1" due to ticket #10290, and "Jinja2 >= 2**.2**". But this is no biggy; it's a trivial typo that can either (i) be fixed in a new ticket, or (ii) fixed in the current ticket.
 
 * In the section
 
``````




---

archive/issue_comments_099269.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nCC'ing the Jinja2 spkg maintainers.",
    "created_at": "2010-12-03T15:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99269",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:8'>Comment 8:</a>
CC'ing the Jinja2 spkg maintainers.



---

archive/issue_comments_099270.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nI think an upgraded Jinja2 spkg is on the way, just a little patience...",
    "created_at": "2010-12-03T16:44:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99270",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:9'>Comment 9:</a>
I think an upgraded Jinja2 spkg is on the way, just a little patience...



---

archive/issue_events_124265.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-12-03T17:51:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124265"
}
```



---

archive/issue_events_124266.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-12-03T17:51:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124266"
}
```



---

archive/issue_comments_099271.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI've opened #10423 for a new Jinja2 spkg (2.5.5), coming up soon.",
    "created_at": "2010-12-03T17:51:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99271",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:10'>Comment 10:</a>
I've opened #10423 for a new Jinja2 spkg (2.5.5), coming up soon.



---

archive/issue_comments_099272.json:
```json
{
    "body": "Changed work issues from **Provide an upgraded  Jinja2 (>=2.2) spkg** to none",
    "created_at": "2010-12-03T17:51:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99272",
    "user": "https://github.com/nexttime"
}
```

Changed work issues from **Provide an upgraded  Jinja2 (>=2.2) spkg** to none



---

archive/issue_comments_099273.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@nexttime](#comment%3A10):\n> I've opened #10423 for a new Jinja2 spkg (2.5.5), coming up soon.\n\nUpgraded Jinja2 spkg ready for review.",
    "created_at": "2010-12-03T18:30:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99273",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@nexttime](#comment%3A10):
> I've opened #10423 for a new Jinja2 spkg (2.5.5), coming up soon.

Upgraded Jinja2 spkg ready for review.



---

archive/issue_events_124267.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-03T19:06:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124267"
}
```



---

archive/issue_events_124268.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-03T19:06:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124268"
}
```



---

archive/issue_comments_099274.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nReplying to [@nexttime](#comment%3A4):\n> P.S.: We should catch such automatically by `grep -iw downloading install.log`.\n\nDone, thanks for the suggestion.",
    "created_at": "2010-12-03T19:06:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99274",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'>Comment 12:</a>
Replying to [@nexttime](#comment%3A4):
> P.S.: We should catch such automatically by `grep -iw downloading install.log`.

Done, thanks for the suggestion.



---

archive/issue_events_124269.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-12-05T02:00:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124269"
}
```



---

archive/issue_events_124270.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-12-05T02:00:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124270"
}
```



---

archive/issue_comments_099275.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nTested on the following machines together with sphinx-1.0.4.p4.spkg and jinja2-2.5.5.p0.spkg. I put these updated packages in the source tarball of Sage 4.6.1.alpha2 and built Sage from source. After a successful build from source, I grep'd through `install.log` for the word \"Downloading\" as follows:\n\n```\n$ grep -iw 'Downloading' install.log\n```\n\nGrep'ing through the various `install.log` files didn't show any signs of packages being downloaded during the build.\n\n* {cleo, iras}.skynet: Sage didn't build from source, so the documentation can't be built at all.\n\n* {cicero, eno, lena, sextus, taurus, t2}: The HTML version of the documentation built OK, but with warnings about a missing LaTeX installation so LaTeX expressions won't be nicely typeset in the generated HTML files. There wasn't a LaTeX installation on this machine, so I wasn't able to build the PDF version of the documentation. \n\n* flavius.skynet: The HTML version of the documentation built OK, but with warnings about the missing 'dvipng' command, so the LaTeX expressions won't be nicely typeset in the generated HTML files. The PDF version built OK.\n\n* {gcc11, gcc16}.fsffrance.org: The HTML version of the documentation built OK. The PDF didn't build at all due to the following error:\n\n ```\n ! LaTeX Error: File `titlesec.sty' not found.\n ```\n The documentation build process didn't hang at the above error, but continued on until the end.\n\n* rh.math: The HTML version of the documentation built OK, but with warnings about missing the command 'dvipng' so LaTeX expressions won't be nicely typeset in the generated HTML files. The PDF version of the documentation didn't build at all. The relevant error is:\n\n ```\n ! LaTeX Error: File `utf8x.def' not found.\n ```\n The documentation build process didn't hang at the above error, but continued on until the end.\n\n* {bsd, hawk, sage}: Both the HTML and PDF versions of the documentation built OK.\n\nI'm OK with all changes in the updated spkg. But note the following minor issues:\n\n1. In the following line of `SPKG.txt`\n\n ```\n This depends on Jinja >= 2, Pygments >= 1.3.1, docutils >= 0.4.\n ```\n the part \"Jinja >= 2,\" should be changed to \"Jinja >= 2.5.5,\" as per ticket #10423.\n1. The change log for sphinx-1.0.4.p4 should reference the number of the current ticket.\n\nIf the above changes are made, this ticket should get a positive review.",
    "created_at": "2010-12-05T02:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99275",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<a id='comment:13'>Comment 13:</a>
Tested on the following machines together with sphinx-1.0.4.p4.spkg and jinja2-2.5.5.p0.spkg. I put these updated packages in the source tarball of Sage 4.6.1.alpha2 and built Sage from source. After a successful build from source, I grep'd through `install.log` for the word "Downloading" as follows:

```
$ grep -iw 'Downloading' install.log
```

Grep'ing through the various `install.log` files didn't show any signs of packages being downloaded during the build.

* {cleo, iras}.skynet: Sage didn't build from source, so the documentation can't be built at all.

* {cicero, eno, lena, sextus, taurus, t2}: The HTML version of the documentation built OK, but with warnings about a missing LaTeX installation so LaTeX expressions won't be nicely typeset in the generated HTML files. There wasn't a LaTeX installation on this machine, so I wasn't able to build the PDF version of the documentation. 

* flavius.skynet: The HTML version of the documentation built OK, but with warnings about the missing 'dvipng' command, so the LaTeX expressions won't be nicely typeset in the generated HTML files. The PDF version built OK.

* {gcc11, gcc16}.fsffrance.org: The HTML version of the documentation built OK. The PDF didn't build at all due to the following error:

 ```
 ! LaTeX Error: File `titlesec.sty' not found.
 ```
 The documentation build process didn't hang at the above error, but continued on until the end.

* rh.math: The HTML version of the documentation built OK, but with warnings about missing the command 'dvipng' so LaTeX expressions won't be nicely typeset in the generated HTML files. The PDF version of the documentation didn't build at all. The relevant error is:

 ```
 ! LaTeX Error: File `utf8x.def' not found.
 ```
 The documentation build process didn't hang at the above error, but continued on until the end.

* {bsd, hawk, sage}: Both the HTML and PDF versions of the documentation built OK.

I'm OK with all changes in the updated spkg. But note the following minor issues:

1. In the following line of `SPKG.txt`

 ```
 This depends on Jinja >= 2, Pygments >= 1.3.1, docutils >= 0.4.
 ```
 the part "Jinja >= 2," should be changed to "Jinja >= 2.5.5," as per ticket #10423.
1. The change log for sphinx-1.0.4.p4 should reference the number of the current ticket.

If the above changes are made, this ticket should get a positive review.



---

archive/issue_comments_099276.json:
```json
{
    "body": "Reviewer: **Minh Van Nguyen**",
    "created_at": "2010-12-05T02:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99276",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Reviewer: **Minh Van Nguyen**



---

archive/issue_comments_099277.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [mvngu](#comment%3A13):\n> 1. In the following line of `SPKG.txt`\n\n\n```\nThis depends on Jinja >= 2, Pygments >= 1.3.1, docutils >= 0.4.\n```\n>  the part \"Jinja >= 2,\" should be changed to \"Jinja >= 2.5.5,\" as per ticket #10423.\n\nI'd say >=2.2 as required by this Sphinx version; 2.5.5 is currently the latest.\n\nBtw, any ideas about *Jinja2's* true dependencies (cf. [comment:ticket:10423:1 this comment])?\n\nUpstream only explicitly mentions Python and setuptools (alternatively, preferably \"distribute\").",
    "created_at": "2010-12-05T02:23:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99277",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [mvngu](#comment%3A13):
> 1. In the following line of `SPKG.txt`


```
This depends on Jinja >= 2, Pygments >= 1.3.1, docutils >= 0.4.
```
>  the part "Jinja >= 2," should be changed to "Jinja >= 2.5.5," as per ticket #10423.

I'd say >=2.2 as required by this Sphinx version; 2.5.5 is currently the latest.

Btw, any ideas about *Jinja2's* true dependencies (cf. [comment:ticket:10423:1 this comment])?

Upstream only explicitly mentions Python and setuptools (alternatively, preferably "distribute").



---

archive/issue_events_124271.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-05T09:53:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124271"
}
```



---

archive/issue_events_124272.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-05T09:53:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124272"
}
```



---

archive/issue_events_124273.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-05T11:33:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124273"
}
```



---

archive/issue_events_124274.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-05T11:33:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124274"
}
```



---

archive/issue_comments_099278.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nNew spkg: [http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p5.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p5.spkg)",
    "created_at": "2010-12-05T11:33:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99278",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'>Comment 16:</a>
New spkg: [http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p5.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p5.spkg)



---

archive/issue_comments_099279.json:
```json
{
    "body": "p4 to p5 patch for reference",
    "created_at": "2010-12-05T11:34:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99279",
    "user": "https://github.com/jdemeyer"
}
```

p4 to p5 patch for reference



---

archive/issue_comments_099280.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nAttachment: **[sphinx-1.0.4.p5.patch.gz](https://github.com/sagemath/sage/files/ticket10350/sphinx-1.0.4.p5.patch.gz)**\n\nThe updated spkg is good to go. Thanks!",
    "created_at": "2010-12-05T11:43:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99280",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<a id='comment:17'>Comment 17:</a>
Attachment: **[sphinx-1.0.4.p5.patch.gz](https://github.com/sagemath/sage/files/ticket10350/sphinx-1.0.4.p5.patch.gz)**

The updated spkg is good to go. Thanks!



---

archive/issue_comments_099281.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -81,3 +81,7 @@\n  Type X to quit or <RETURN> to proceed,\n  or enter new name. (Default extension: sty)\n  ```\n+\n+**Apply:**\n+\n+* http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p5.spkg\n``````\n",
    "created_at": "2010-12-05T11:43:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99281",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -81,3 +81,7 @@
  Type X to quit or <RETURN> to proceed,
  or enter new name. (Default extension: sty)
  ```
+
+**Apply:**
+
+* http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.0.4.p5.spkg
``````




---

archive/issue_events_124275.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-12-05T11:43:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124275"
}
```



---

archive/issue_events_124276.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-12-05T11:43:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124276"
}
```



---

archive/issue_comments_099282.json:
```json
{
    "body": "Merged: **sage-4.6.1.alpha3**",
    "created_at": "2010-12-05T11:51:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99282",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.6.1.alpha3**



---

archive/issue_events_124277.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-05T11:51:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124277"
}
```



---

archive/issue_events_124278.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-05T11:51:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10350#event-124278"
}
```



---

archive/issue_comments_099283.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nStylewise, I would have used a `make` variable for redirecting `stdin`.\n\nThis could easily be modified without touching the patch at all.\n\nI would also use `utf8` instead of `utf8x` *conditionally*, i.e., first check if `utf8x` is available.",
    "created_at": "2010-12-05T15:39:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99283",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:19'>Comment 19:</a>
Stylewise, I would have used a `make` variable for redirecting `stdin`.

This could easily be modified without touching the patch at all.

I would also use `utf8` instead of `utf8x` *conditionally*, i.e., first check if `utf8x` is available.



---

archive/issue_comments_099284.json:
```json
{
    "body": "Changed keywords from **sphinx spkg** to **sphinx spkg utf8x LaTeX error titlesec**",
    "created_at": "2010-12-05T15:39:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99284",
    "user": "https://github.com/nexttime"
}
```

Changed keywords from **sphinx spkg** to **sphinx spkg utf8x LaTeX error titlesec**



---

archive/issue_comments_099285.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nReplying to [@nexttime](#comment%3A19):\n> Stylewise, I would have used a `make` variable for redirecting `stdin`.\n\nI suppose there is no harm in doing this, but I don't see much gain either.\n\n> I would also use `utf8` instead of `utf8x` *conditionally*, i.e., first check if `utf8x` is available.\n\nWhy?  I dislike conditional stuff without a good reason.",
    "created_at": "2010-12-05T15:59:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99285",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'>Comment 20:</a>
Replying to [@nexttime](#comment%3A19):
> Stylewise, I would have used a `make` variable for redirecting `stdin`.

I suppose there is no harm in doing this, but I don't see much gain either.

> I would also use `utf8` instead of `utf8x` *conditionally*, i.e., first check if `utf8x` is available.

Why?  I dislike conditional stuff without a good reason.



---

archive/issue_comments_099286.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@jdemeyer](#comment%3A20):\n> Replying to [@nexttime](#comment%3A19):\n> > Stylewise, I would have used a `make` variable for redirecting `stdin`.\n\n> I suppose there is no harm in doing this, but I don't see much gain either.\n\nIt's more flexible and eases maintaining, in any case.\n\n\n\n> > I would also use `utf8` instead of `utf8x` *conditionally*, i.e., first check if `utf8x` is available.\n\n> Why?  I dislike conditional stuff without a good reason.\n\nI don't like generally disabling things or introducing artificial limits just because there are problems on **some** platforms or installations.\n\nIn the case of `utf8x`, it's not unlikely someone would use it for his documents, or Sage documentation in other languages perhaps, and it should be more wide-spread in the future (while I assume disabling it in Sage will last for a long time...)",
    "created_at": "2010-12-05T16:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99286",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@jdemeyer](#comment%3A20):
> Replying to [@nexttime](#comment%3A19):
> > Stylewise, I would have used a `make` variable for redirecting `stdin`.

> I suppose there is no harm in doing this, but I don't see much gain either.

It's more flexible and eases maintaining, in any case.



> > I would also use `utf8` instead of `utf8x` *conditionally*, i.e., first check if `utf8x` is available.

> Why?  I dislike conditional stuff without a good reason.

I don't like generally disabling things or introducing artificial limits just because there are problems on **some** platforms or installations.

In the case of `utf8x`, it's not unlikely someone would use it for his documents, or Sage documentation in other languages perhaps, and it should be more wide-spread in the future (while I assume disabling it in Sage will last for a long time...)



---

archive/issue_comments_099287.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@nexttime](#comment%3A21):\n> In the case of `utf8x`, it's not unlikely someone would use it for his documents, or Sage documentation in other languages perhaps.\n\nIf that happens, we need to completely drop support for `utf8`.  A conditional build is also pointless in this case.",
    "created_at": "2010-12-05T22:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10350#issuecomment-99287",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@nexttime](#comment%3A21):
> In the case of `utf8x`, it's not unlikely someone would use it for his documents, or Sage documentation in other languages perhaps.

If that happens, we need to completely drop support for `utf8`.  A conditional build is also pointless in this case.
