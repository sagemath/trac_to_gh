# Issue 10879: add optional SCIP integer constraint solver

archive/issues_010809.json:
```json
{
    "body": "\"SCIP is currently one of the fastest non-commercial mixed integer programming (MIP) solvers. It is also a framework for Constraint Integer Programming and branch-cut-and-price. It allows total control of the solution process and the access of detailed information down to the guts of the solver.\" -- http://scip.zib.de/\n\nFeatures interesting to Sage:\n\n* SCIP is pretty fast for Mixed Integer Programming\n* SCIP is a Constraint Integer Programming solver and allows non-linear constraints\n* SCIP's source code is available\n* SoPlex (the LP solver which is part of scipoptsuite) has an exact mode which is said to be working well\n* A beta version of SCIP can do exact MIP: http://scip.zib.de/#exact using qsopt_ex (see also #18766)\n\nHowever, the SCIP license prevents us from redistributing the SCIP source code:\nhttp://scip.zib.de/#license\n\nTo build a SCIP for Sage do:\n\n* pull from this ticket\n* download the SCIP Optimisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.2.1.tgz\n* put tarfile scipoptsuite-3.2.1.tgz in `$SAGE_ROOT/upstream/`\n* `sage -f scipoptsuite`\n\n**KNOWN ISSUES**\n\n* Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.\n* printing of quadratic constraints does not work yet.\n\nSplit out ticket with just the spkg: #21094.\n\nFollow-up: #21003: Add SCIP backend using PySCIPOpt\n\n\nAssignee: tbd\n\nCC:  @haraldschilly @jasongrout @dimpase @videlec @fchapoton @jdemeyer @slel\n\nKeywords: lp, mip, mixed integer programming\n\nAuthor: Martin Albrecht\n\nBranch: u/mkoeppe/ticket/10879\n\nStatus: needs_work\n\nCommit: 1f514de739769916b46be81858628bed446872a2\n\nIssue created by migration from https://trac.sagemath.org/ticket/10879\n\n",
    "created_at": "2011-03-05T18:09:34Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "add optional SCIP integer constraint solver",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10879",
    "user": "https://github.com/malb"
}
```
"SCIP is currently one of the fastest non-commercial mixed integer programming (MIP) solvers. It is also a framework for Constraint Integer Programming and branch-cut-and-price. It allows total control of the solution process and the access of detailed information down to the guts of the solver." -- http://scip.zib.de/

Features interesting to Sage:

* SCIP is pretty fast for Mixed Integer Programming
* SCIP is a Constraint Integer Programming solver and allows non-linear constraints
* SCIP's source code is available
* SoPlex (the LP solver which is part of scipoptsuite) has an exact mode which is said to be working well
* A beta version of SCIP can do exact MIP: http://scip.zib.de/#exact using qsopt_ex (see also #18766)

However, the SCIP license prevents us from redistributing the SCIP source code:
http://scip.zib.de/#license

To build a SCIP for Sage do:

* pull from this ticket
* download the SCIP Optimisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.2.1.tgz
* put tarfile scipoptsuite-3.2.1.tgz in `$SAGE_ROOT/upstream/`
* `sage -f scipoptsuite`

**KNOWN ISSUES**

* Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.
* printing of quadratic constraints does not work yet.

Split out ticket with just the spkg: #21094.

Follow-up: #21003: Add SCIP backend using PySCIPOpt


Assignee: tbd

CC:  @haraldschilly @jasongrout @dimpase @videlec @fchapoton @jdemeyer @slel

Keywords: lp, mip, mixed integer programming

Author: Martin Albrecht

Branch: u/mkoeppe/ticket/10879

Status: needs_work

Commit: 1f514de739769916b46be81858628bed446872a2

Issue created by migration from https://trac.sagemath.org/ticket/10879





---

archive/issue_comments_138554.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,15 @@\n \"SCIP is currently one of the fastest non-commercial mixed integer programming (MIP) solvers. It is also a framework for Constraint Integer Programming and branch-cut-and-price. It allows total control of the solution process and the access of detailed information down to the guts of the solver.\" -- http://scip.zib.de/\n+\n+Features interesting to Sage:\n+\n+* SCIP is pretty fast for Mixed Integer Programming\n+* SCIP is a Constraint Integer Programming solver and allows non-linear constraints\n+* SCIP's source code is available\n+\n+However, we don't have the right to redistribute the SCIP source code. Thus, the attached SPKG is empty except for the spkg-install script etc. \n+\n+To build a SCIP for Sage do:\n+* download the ZIB Optmisation Suite from http://zibopt.zib.de/download.php?fname=ziboptsuite-2.0.1.tgz\n+* place the files `scip-2.0.1.tgz` and `soplex-1.5.0.tgz` in the `src/` subdirectory of the attached SPKG\n+* install the SPKG\n+* apply the attached patch and `sage -b`\n``````\n",
    "created_at": "2011-03-05T18:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138554",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,15 @@
 "SCIP is currently one of the fastest non-commercial mixed integer programming (MIP) solvers. It is also a framework for Constraint Integer Programming and branch-cut-and-price. It allows total control of the solution process and the access of detailed information down to the guts of the solver." -- http://scip.zib.de/
+
+Features interesting to Sage:
+
+* SCIP is pretty fast for Mixed Integer Programming
+* SCIP is a Constraint Integer Programming solver and allows non-linear constraints
+* SCIP's source code is available
+
+However, we don't have the right to redistribute the SCIP source code. Thus, the attached SPKG is empty except for the spkg-install script etc. 
+
+To build a SCIP for Sage do:
+* download the ZIB Optmisation Suite from http://zibopt.zib.de/download.php?fname=ziboptsuite-2.0.1.tgz
+* place the files `scip-2.0.1.tgz` and `soplex-1.5.0.tgz` in the `src/` subdirectory of the attached SPKG
+* install the SPKG
+* apply the attached patch and `sage -b`
``````




---

archive/issue_comments_138555.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,3 +13,17 @@\n * place the files `scip-2.0.1.tgz` and `soplex-1.5.0.tgz` in the `src/` subdirectory of the attached SPKG\n * install the SPKG\n * apply the attached patch and `sage -b`\n+\n+**KNOWN ISSUES**\n+* Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.\n+* the following doctests fail\n+\n+```\n+ sage -t  -long -force_lib devel/sage/doc/en/thematic_tutorials/linear_programming.rst # 9 doctests failed\n+ sage -t  -long -force_lib devel/sage/sage/graphs/digraph.py # 1 doctests failed\n+ sage -t  -long -force_lib devel/sage/sage/graphs/graph_coloring.py # 3 doctests failed\n+ sage -t  -long -force_lib devel/sage/sage/graphs/graph_generators.py # 2 doctests failed\n+ sage -t  -long -force_lib devel/sage/sage/numerical/knapsack.py # 4 doctests failed\n+ sage -t  -long -force_lib devel/sage/sage/numerical/mip.pyx # 11 doctests failed\n+ sage -t  -long -force_lib devel/sage/sage/graphs/generic_graph.py # 18 doctests failed\n+```\n``````\n",
    "created_at": "2011-03-05T18:17:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138555",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,3 +13,17 @@
 * place the files `scip-2.0.1.tgz` and `soplex-1.5.0.tgz` in the `src/` subdirectory of the attached SPKG
 * install the SPKG
 * apply the attached patch and `sage -b`
+
+**KNOWN ISSUES**
+* Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.
+* the following doctests fail
+
+```
+ sage -t  -long -force_lib devel/sage/doc/en/thematic_tutorials/linear_programming.rst # 9 doctests failed
+ sage -t  -long -force_lib devel/sage/sage/graphs/digraph.py # 1 doctests failed
+ sage -t  -long -force_lib devel/sage/sage/graphs/graph_coloring.py # 3 doctests failed
+ sage -t  -long -force_lib devel/sage/sage/graphs/graph_generators.py # 2 doctests failed
+ sage -t  -long -force_lib devel/sage/sage/numerical/knapsack.py # 4 doctests failed
+ sage -t  -long -force_lib devel/sage/sage/numerical/mip.pyx # 11 doctests failed
+ sage -t  -long -force_lib devel/sage/sage/graphs/generic_graph.py # 18 doctests failed
+```
``````




---

archive/issue_comments_138556.json:
```json
{
    "body": "Changing status from new to needs_work.",
    "created_at": "2011-03-05T18:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138556",
    "user": "https://github.com/malb"
}
```

Changing status from new to needs_work.



---

archive/issue_comments_138557.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Doctest failures in detail**\n\n**doc/en/thematic_tutorials/linear_programming.rst**\n\n```\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst\", line 278:\n    sage: p.solve()\nExpected:\n    3.1502766806530307\nGot:\n    13.334952068716467\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst\", line 288:\n    sage: sum(weight[o] * taken[o] for o in L)\nExpected:\n    0.69649597966191712\nGot:\n    0.98283592969131794\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst\", line 297:\n    sage: taken[\"flashlight\"]\nExpected:\n    1.0\nGot:\n    17.0\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst\", line 366:\n    sage: [e for e,b in matching.iteritems() if b == 1]\nExpected:\n    [(0, 1), (6, 9), (2, 7), (3, 4), (5, 8)]\nGot:\n    [(1, 6), (0, 4), (2, 3), (5, 8), (7, 9)]\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst\", line 436:\n    sage: p.set_objective(sum(f[(s,u)] for u in g.neighbors_out(s)))\nException raised:\n    Traceback (most recent call last):\n    ...\n    AttributeError: 'int' object has no attribute 'dict'\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst\", line 442:\n    sage: p.solve()\nExpected:\n    2.0\nGot:\n    -0.0\n```\n \n**sage/graphs/digraph.py**\n\n```\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/digraph.py\", line 1539:\n    sage: x == y\nExpected:\n    True\nGot:\n    False\n```\n \n**sage/graphs/graph_coloring.py**\n\n```\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/graph_coloring.py\", line 534:\n    sage: grundy_coloring(g, 4)\nExpected:\n    3\nGot:\n    4\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/graph_coloring.py\", line 540:\n    sage: grundy_coloring(g, 5)\nExpected:\n    4\nGot:\n    10\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/graph_coloring.py\", line 695:\n    sage: b_coloring(g, 5)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_8[4]>\", line 1, in <module>\n        b_coloring(g, Integer(5))###line 695:\n    sage: b_coloring(g, 5)\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/graph_coloring.py\", line 803, in b_coloring\n        obj = Integer(obj)\n      File \"integer.pyx\", line 606, in sage.rings.integer.Integer.__init__ (sage/rings/integer.c:6669)\n    TypeError: Cannot convert non-integral float to integer\n```\n\n**sage/graphs/graph_generators.py**\n\n```\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/graph_generators.py\", line 2743:\n    sage: G.is_hamiltonian()\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/graph_generators.py\", line 3276:\n    sage: G.is_hamiltonian()\nExpected:\n    True\nGot:\n    False\n```\n \n**sage/numerical/knapsack.py**\n\n```\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/knapsack.py\", line 53:\n    sage: knapsack( [(1,2), (1.5,1), (0.5,3)], max=2)\nExpected:\n    [5.0, [(1, 2), (0.500000000000000, 3)]]\nGot:\n    [14.0, [(1, 2), (0.500000000000000, 3), (0.500000000000000, 3), (0.500000000000000, 3), (0.500000000000000, 3)]]\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/knapsack.py\", line 596:\n    sage: knapsack( [(1,2), (1.5,1), (0.5,3)], max=2)\nExpected:\n    [5.0, [(1, 2), (0.500000000000000, 3)]]\nGot:\n    [14.0, [(1, 2), (0.500000000000000, 3), (0.500000000000000, 3), (0.500000000000000, 3), (0.500000000000000, 3)]]\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/knapsack.py\", line 599:\n    sage: knapsack( [(1,2), (1.5,1), (0.5,3)], max=2, value_only=True)\nExpected:\n    5.0\nGot:\n    14.0\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/knapsack.py\", line 608:\n    sage: knapsack([1,1.5,0.5], max=2, value_only=True)\nExpected:\n    2.0\nGot:\n    5.0\n**********************************************************************\n```\n\n**sage/numerical/mip.pyx**\n\n```\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx\", line 64:\n    sage: p.show()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_0[11]>\", line 1, in <module>\n        p.show()###line 64:\n    sage: p.show()\n      File \"mip.pyx\", line 404, in sage.numerical.mip.MixedIntegerLinearProgram.show (sage/numerical/mip.c:2201)\n      File \"generic_backend.pyx\", line 720, in sage.numerical.backends.generic_backend.GenericBackend.col_name (sage/numerical/backends/generic_backend.c:4239)\n    NotImplementedError\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx\", line 648:\n    sage: p.solve()\nExpected:\n    0.0\nGot:\n    6.6666666666666767\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx\", line 751:\n    sage: p.show()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_12[21]>\", line 1, in <module>\n        p.show()###line 751:\n    sage: p.show()\n      File \"mip.pyx\", line 404, in sage.numerical.mip.MixedIntegerLinearProgram.show (sage/numerical/mip.c:2201)\n      File \"generic_backend.pyx\", line 720, in sage.numerical.backends.generic_backend.GenericBackend.col_name (sage/numerical/backends/generic_backend.c:4239)\n    NotImplementedError\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx\", line 1216:\n    sage: p.get_backend()\nExpected:\n    <sage.numerical.backends.glpk_backend.GLPKBackend object ...>\nGot:\n    SCIP Constraint Integer Program \"scip\" ( maximization, 0 variables, 0 constraints )\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx\", line 227:\n    sage: print p\nExpected:\n    Mixed Integer Program ( maximization, 2 variables, 1 constraints )\nGot:\n    Mixed Integer Program \"scip\" ( maximization, 2 variables, 1 constraints )\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx\", line 365:\n    sage: p.show()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_7[6]>\", line 1, in <module>\n        p.show()###line 365:\n    sage: p.show()\n      File \"mip.pyx\", line 404, in sage.numerical.mip.MixedIntegerLinearProgram.show (sage/numerical/mip.c:2201)\n      File \"generic_backend.pyx\", line 720, in sage.numerical.backends.generic_backend.GenericBackend.col_name (sage/numerical/backends/generic_backend.c:4239)\n    NotImplementedError\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx\", line 380:\n    sage: p.show()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_7[11]>\", line 1, in <module>\n        p.show()###line 380:\n    sage: p.show()\n      File \"mip.pyx\", line 404, in sage.numerical.mip.MixedIntegerLinearProgram.show (sage/numerical/mip.c:2201)\n      File \"generic_backend.pyx\", line 720, in sage.numerical.backends.generic_backend.GenericBackend.col_name (sage/numerical/backends/generic_backend.c:4239)\n    NotImplementedError\n**********************************************************************\n```\n\n**sage/graphs/generic_graph.py**\n\n```\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 2364:\n    sage: max(o.out_degree()) == ceil((4*3)/(3+4))\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 3938:\n    sage: g.edge_cut(0,1, method=\"FF\") == g.edge_cut(0,1,method=\"LP\")\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_66[20]>\", line 1, in <module>\n        g.edge_cut(Integer(0),Integer(1), method=\"FF\") == g.edge_cut(Integer(0),Integer(1),method=\"LP\")###line 3938:\n    sage: g.edge_cut(0,1, method=\"FF\") == g.edge_cut(0,1,method=\"LP\")\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4009, in edge_cut\n        return p.solve(objective_only=True, log=verbose)\n      File \"mip.pyx\", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)\n      File \"scip.pyx\", line 622, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4813)\n    MIPSolverException: 'Error -9 solving SCIP instance.'\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4073:\n    sage: g.vertex_cut(1, 16, value_only=True)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_67[3]>\", line 1, in <module>\n        g.vertex_cut(Integer(1), Integer(16), value_only=True)###line 4073:\n    sage: g.vertex_cut(1, 16, value_only=True)\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4134, in vertex_cut\n        return p.solve(objective_only=True, log=verbose)\n      File \"mip.pyx\", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)\n      File \"scip.pyx\", line 622, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4813)\n    MIPSolverException: 'Error -9 solving SCIP instance.'\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4369:\n    sage: vc1 = g.vertex_cover(algorithm=\"MILP\")\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_69[5]>\", line 1, in <module>\n        vc1 = g.vertex_cover(algorithm=\"MILP\")###line 4369:\n    sage: vc1 = g.vertex_cover(algorithm=\"MILP\")\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4400, in vertex_cover\n        p.solve(log=verbose)\n      File \"mip.pyx\", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)\n      File \"scip.pyx\", line 622, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4813)\n    MIPSolverException: 'Error -9 solving SCIP instance.'\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4371:\n    sage: len(vc1) == len(vc2)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_69[7]>\", line 1, in <module>\n        len(vc1) == len(vc2)###line 4371:\n    sage: len(vc1) == len(vc2)\n    NameError: name 'vc1' is not defined\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4616:\n    sage: lp = g.longest_path()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_71[3]>\", line 1, in <module>\n        lp = g.longest_path()###line 4616:\n    sage: lp = g.longest_path()\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4891, in longest_path\n        p.solve(solver=solver, log=verbose)\n      File \"mip.pyx\", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)\n      File \"scip.pyx\", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)\n    MIPSolverException: 'SCIP: No solution was found.'\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4617:\n    sage: lp.order() >= g.order() - 2\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_71[4]>\", line 1, in <module>\n        lp.order() >= g.order() - Integer(2)###line 4617:\n    sage: lp.order() >= g.order() - 2\n    NameError: name 'lp' is not defined\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4629:\n    sage: for i in range(20):\n          g = graphs.RandomGNP(Integer(15), RealNumber('0.3'))\n          for u, v in g.edges(labels=False):\n              g.set_edge_label(u, v, random())\n          lp = g.longest_path()\n          if (not lp.is_forest() or\n              not max(lp.degree()) <= Integer(2) or\n              not lp.is_connected()):\n              print(\"Error!\")\n              break\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_71[7]>\", line 5, in <module>\n        lp = g.longest_path()\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4891, in longest_path\n        p.solve(solver=solver, log=verbose)\n      File \"mip.pyx\", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)\n      File \"scip.pyx\", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)\n    MIPSolverException: 'SCIP: No solution was found.'\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4654:\n    sage: lp1 = g1.longest_path()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_71[11]>\", line 1, in <module>\n        lp1 = g1.longest_path()###line 4654:\n    sage: lp1 = g1.longest_path()\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4891, in longest_path\n        p.solve(solver=solver, log=verbose)\n      File \"mip.pyx\", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)\n      File \"scip.pyx\", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)\n    MIPSolverException: 'SCIP: No solution was found.'\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4655:\n    sage: lp2 = g2.longest_path()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_71[12]>\", line 1, in <module>\n        lp2 = g2.longest_path()###line 4655:\n    sage: lp2 = g2.longest_path()\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4725, in longest_path\n        key=lambda x: x.order())\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4724, in <genexpr>\n        for g in self.connected_components_subgraphs()),\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4891, in longest_path\n        p.solve(solver=solver, log=verbose)\n      File \"mip.pyx\", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)\n      File \"scip.pyx\", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)\n    MIPSolverException: 'SCIP: No solution was found.'\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4656:\n    sage: len(lp1) == len(lp2)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_71[13]>\", line 1, in <module>\n        len(lp1) == len(lp2)###line 4656:\n    sage: len(lp1) == len(lp2)\n    NameError: name 'lp1' is not defined\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4665:\n    sage: lp1 = g1.longest_path(weighted=True)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_71[17]>\", line 1, in <module>\n        lp1 = g1.longest_path(weighted=True)###line 4665:\n    sage: lp1 = g1.longest_path(weighted=True)\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4891, in longest_path\n        p.solve(solver=solver, log=verbose)\n      File \"mip.pyx\", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)\n      File \"scip.pyx\", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)\n    MIPSolverException: 'SCIP: No solution was found.'\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4666:\n    sage: lp2 = g2.longest_path(weighted=True)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_71[18]>\", line 1, in <module>\n        lp2 = g2.longest_path(weighted=True)###line 4666:\n    sage: lp2 = g2.longest_path(weighted=True)\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4719, in longest_path\n        for g in self.connected_components_subgraphs())\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4719, in <genexpr>\n        for g in self.connected_components_subgraphs())\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 4891, in longest_path\n        p.solve(solver=solver, log=verbose)\n      File \"mip.pyx\", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)\n      File \"scip.pyx\", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)\n    MIPSolverException: 'SCIP: No solution was found.'\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 4667:\n    sage: lp1[0] == lp2[0]\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_71[19]>\", line 1, in <module>\n        lp1[Integer(0)] == lp2[Integer(0)]###line 4667:\n    sage: lp1[0] == lp2[0]\n    NameError: name 'lp1' is not defined\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 5013:\n    sage: tsp = g.traveling_salesman_problem(weighted = True)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_72[13]>\", line 1, in <module>\n        tsp = g.traveling_salesman_problem(weighted = True)###line 5013:\n    sage: tsp = g.traveling_salesman_problem(weighted = True)\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 5144, in traveling_salesman_problem\n        raise ValueError(\"The given graph is not Hamiltonian\")\n    ValueError: The given graph is not Hamiltonian\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 5014:\n    sage: sum( tsp.edge_labels() ) < 2*10\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_72[14]>\", line 1, in <module>\n        sum( tsp.edge_labels() ) < Integer(2)*Integer(10)###line 5014:\n    sage: sum( tsp.edge_labels() ) < 2*10\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/misc/functional.py\", line 661, in symbolic_sum\n        return sum(expression, *args)\n    TypeError: unsupported operand type(s) for +: 'int' and 'dict'\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 5023:\n    sage: tsp = g.traveling_salesman_problem(weighted = True)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_72[16]>\", line 1, in <module>\n        tsp = g.traveling_salesman_problem(weighted = True)###line 5023:\n    sage: tsp = g.traveling_salesman_problem(weighted = True)\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py\", line 5144, in traveling_salesman_problem\n        raise ValueError(\"The given graph is not Hamiltonian\")\n    ValueError: The given graph is not Hamiltonian\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py\", line 5024:\n    sage: sum( tsp.edge_labels() ) == (1/2)*10\nException raised:\n    Traceback (most recent call last):\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/malb/Sage/current/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_72[17]>\", line 1, in <module>\n        sum( tsp.edge_labels() ) == (Integer(1)/Integer(2))*Integer(10)###line 5024:\n    sage: sum( tsp.edge_labels() ) == (1/2)*10\n      File \"/home/malb/Sage/current/local/lib/python/site-packages/sage/misc/functional.py\", line 661, in symbolic_sum\n        return sum(expression, *args)\n    TypeError: unsupported operand type(s) for +: 'int' and 'dict'\n**********************************************************************\n```",
    "created_at": "2011-03-05T18:22:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138557",
    "user": "https://github.com/malb"
}
```

<a id='comment:4'></a>
**Doctest failures in detail**

**doc/en/thematic_tutorials/linear_programming.rst**

```
**********************************************************************
File "/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst", line 278:
    sage: p.solve()
Expected:
    3.1502766806530307
Got:
    13.334952068716467
**********************************************************************
File "/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst", line 288:
    sage: sum(weight[o] * taken[o] for o in L)
Expected:
    0.69649597966191712
Got:
    0.98283592969131794
**********************************************************************
File "/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst", line 297:
    sage: taken["flashlight"]
Expected:
    1.0
Got:
    17.0
**********************************************************************
File "/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst", line 366:
    sage: [e for e,b in matching.iteritems() if b == 1]
Expected:
    [(0, 1), (6, 9), (2, 7), (3, 4), (5, 8)]
Got:
    [(1, 6), (0, 4), (2, 3), (5, 8), (7, 9)]
**********************************************************************
File "/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst", line 436:
    sage: p.set_objective(sum(f[(s,u)] for u in g.neighbors_out(s)))
Exception raised:
    Traceback (most recent call last):
    ...
    AttributeError: 'int' object has no attribute 'dict'
**********************************************************************
File "/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst", line 442:
    sage: p.solve()
Expected:
    2.0
Got:
    -0.0
```
 
**sage/graphs/digraph.py**

```
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/digraph.py", line 1539:
    sage: x == y
Expected:
    True
Got:
    False
```
 
**sage/graphs/graph_coloring.py**

```
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/graph_coloring.py", line 534:
    sage: grundy_coloring(g, 4)
Expected:
    3
Got:
    4
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/graph_coloring.py", line 540:
    sage: grundy_coloring(g, 5)
Expected:
    4
Got:
    10
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/graph_coloring.py", line 695:
    sage: b_coloring(g, 5)
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_8[4]>", line 1, in <module>
        b_coloring(g, Integer(5))###line 695:
    sage: b_coloring(g, 5)
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/graph_coloring.py", line 803, in b_coloring
        obj = Integer(obj)
      File "integer.pyx", line 606, in sage.rings.integer.Integer.__init__ (sage/rings/integer.c:6669)
    TypeError: Cannot convert non-integral float to integer
```

**sage/graphs/graph_generators.py**

```
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/graph_generators.py", line 2743:
    sage: G.is_hamiltonian()
Expected:
    True
Got:
    False
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/graph_generators.py", line 3276:
    sage: G.is_hamiltonian()
Expected:
    True
Got:
    False
```
 
**sage/numerical/knapsack.py**

```
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/knapsack.py", line 53:
    sage: knapsack( [(1,2), (1.5,1), (0.5,3)], max=2)
Expected:
    [5.0, [(1, 2), (0.500000000000000, 3)]]
Got:
    [14.0, [(1, 2), (0.500000000000000, 3), (0.500000000000000, 3), (0.500000000000000, 3), (0.500000000000000, 3)]]
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/knapsack.py", line 596:
    sage: knapsack( [(1,2), (1.5,1), (0.5,3)], max=2)
Expected:
    [5.0, [(1, 2), (0.500000000000000, 3)]]
Got:
    [14.0, [(1, 2), (0.500000000000000, 3), (0.500000000000000, 3), (0.500000000000000, 3), (0.500000000000000, 3)]]
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/knapsack.py", line 599:
    sage: knapsack( [(1,2), (1.5,1), (0.5,3)], max=2, value_only=True)
Expected:
    5.0
Got:
    14.0
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/knapsack.py", line 608:
    sage: knapsack([1,1.5,0.5], max=2, value_only=True)
Expected:
    2.0
Got:
    5.0
**********************************************************************
```

**sage/numerical/mip.pyx**

```
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx", line 64:
    sage: p.show()
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_0[11]>", line 1, in <module>
        p.show()###line 64:
    sage: p.show()
      File "mip.pyx", line 404, in sage.numerical.mip.MixedIntegerLinearProgram.show (sage/numerical/mip.c:2201)
      File "generic_backend.pyx", line 720, in sage.numerical.backends.generic_backend.GenericBackend.col_name (sage/numerical/backends/generic_backend.c:4239)
    NotImplementedError
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx", line 648:
    sage: p.solve()
Expected:
    0.0
Got:
    6.6666666666666767
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx", line 751:
    sage: p.show()
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_12[21]>", line 1, in <module>
        p.show()###line 751:
    sage: p.show()
      File "mip.pyx", line 404, in sage.numerical.mip.MixedIntegerLinearProgram.show (sage/numerical/mip.c:2201)
      File "generic_backend.pyx", line 720, in sage.numerical.backends.generic_backend.GenericBackend.col_name (sage/numerical/backends/generic_backend.c:4239)
    NotImplementedError
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx", line 1216:
    sage: p.get_backend()
Expected:
    <sage.numerical.backends.glpk_backend.GLPKBackend object ...>
Got:
    SCIP Constraint Integer Program "scip" ( maximization, 0 variables, 0 constraints )
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx", line 227:
    sage: print p
Expected:
    Mixed Integer Program ( maximization, 2 variables, 1 constraints )
Got:
    Mixed Integer Program "scip" ( maximization, 2 variables, 1 constraints )
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx", line 365:
    sage: p.show()
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_7[6]>", line 1, in <module>
        p.show()###line 365:
    sage: p.show()
      File "mip.pyx", line 404, in sage.numerical.mip.MixedIntegerLinearProgram.show (sage/numerical/mip.c:2201)
      File "generic_backend.pyx", line 720, in sage.numerical.backends.generic_backend.GenericBackend.col_name (sage/numerical/backends/generic_backend.c:4239)
    NotImplementedError
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx", line 380:
    sage: p.show()
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_7[11]>", line 1, in <module>
        p.show()###line 380:
    sage: p.show()
      File "mip.pyx", line 404, in sage.numerical.mip.MixedIntegerLinearProgram.show (sage/numerical/mip.c:2201)
      File "generic_backend.pyx", line 720, in sage.numerical.backends.generic_backend.GenericBackend.col_name (sage/numerical/backends/generic_backend.c:4239)
    NotImplementedError
**********************************************************************
```

**sage/graphs/generic_graph.py**

```
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 2364:
    sage: max(o.out_degree()) == ceil((4*3)/(3+4))
Expected:
    True
Got:
    False
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 3938:
    sage: g.edge_cut(0,1, method="FF") == g.edge_cut(0,1,method="LP")
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_66[20]>", line 1, in <module>
        g.edge_cut(Integer(0),Integer(1), method="FF") == g.edge_cut(Integer(0),Integer(1),method="LP")###line 3938:
    sage: g.edge_cut(0,1, method="FF") == g.edge_cut(0,1,method="LP")
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4009, in edge_cut
        return p.solve(objective_only=True, log=verbose)
      File "mip.pyx", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)
      File "scip.pyx", line 622, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4813)
    MIPSolverException: 'Error -9 solving SCIP instance.'
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4073:
    sage: g.vertex_cut(1, 16, value_only=True)
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_67[3]>", line 1, in <module>
        g.vertex_cut(Integer(1), Integer(16), value_only=True)###line 4073:
    sage: g.vertex_cut(1, 16, value_only=True)
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4134, in vertex_cut
        return p.solve(objective_only=True, log=verbose)
      File "mip.pyx", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)
      File "scip.pyx", line 622, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4813)
    MIPSolverException: 'Error -9 solving SCIP instance.'
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4369:
    sage: vc1 = g.vertex_cover(algorithm="MILP")
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_69[5]>", line 1, in <module>
        vc1 = g.vertex_cover(algorithm="MILP")###line 4369:
    sage: vc1 = g.vertex_cover(algorithm="MILP")
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4400, in vertex_cover
        p.solve(log=verbose)
      File "mip.pyx", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)
      File "scip.pyx", line 622, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4813)
    MIPSolverException: 'Error -9 solving SCIP instance.'
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4371:
    sage: len(vc1) == len(vc2)
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_69[7]>", line 1, in <module>
        len(vc1) == len(vc2)###line 4371:
    sage: len(vc1) == len(vc2)
    NameError: name 'vc1' is not defined
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4616:
    sage: lp = g.longest_path()
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_71[3]>", line 1, in <module>
        lp = g.longest_path()###line 4616:
    sage: lp = g.longest_path()
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4891, in longest_path
        p.solve(solver=solver, log=verbose)
      File "mip.pyx", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)
      File "scip.pyx", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)
    MIPSolverException: 'SCIP: No solution was found.'
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4617:
    sage: lp.order() >= g.order() - 2
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_71[4]>", line 1, in <module>
        lp.order() >= g.order() - Integer(2)###line 4617:
    sage: lp.order() >= g.order() - 2
    NameError: name 'lp' is not defined
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4629:
    sage: for i in range(20):
          g = graphs.RandomGNP(Integer(15), RealNumber('0.3'))
          for u, v in g.edges(labels=False):
              g.set_edge_label(u, v, random())
          lp = g.longest_path()
          if (not lp.is_forest() or
              not max(lp.degree()) <= Integer(2) or
              not lp.is_connected()):
              print("Error!")
              break
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_71[7]>", line 5, in <module>
        lp = g.longest_path()
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4891, in longest_path
        p.solve(solver=solver, log=verbose)
      File "mip.pyx", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)
      File "scip.pyx", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)
    MIPSolverException: 'SCIP: No solution was found.'
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4654:
    sage: lp1 = g1.longest_path()
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_71[11]>", line 1, in <module>
        lp1 = g1.longest_path()###line 4654:
    sage: lp1 = g1.longest_path()
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4891, in longest_path
        p.solve(solver=solver, log=verbose)
      File "mip.pyx", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)
      File "scip.pyx", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)
    MIPSolverException: 'SCIP: No solution was found.'
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4655:
    sage: lp2 = g2.longest_path()
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_71[12]>", line 1, in <module>
        lp2 = g2.longest_path()###line 4655:
    sage: lp2 = g2.longest_path()
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4725, in longest_path
        key=lambda x: x.order())
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4724, in <genexpr>
        for g in self.connected_components_subgraphs()),
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4891, in longest_path
        p.solve(solver=solver, log=verbose)
      File "mip.pyx", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)
      File "scip.pyx", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)
    MIPSolverException: 'SCIP: No solution was found.'
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4656:
    sage: len(lp1) == len(lp2)
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_71[13]>", line 1, in <module>
        len(lp1) == len(lp2)###line 4656:
    sage: len(lp1) == len(lp2)
    NameError: name 'lp1' is not defined
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4665:
    sage: lp1 = g1.longest_path(weighted=True)
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_71[17]>", line 1, in <module>
        lp1 = g1.longest_path(weighted=True)###line 4665:
    sage: lp1 = g1.longest_path(weighted=True)
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4891, in longest_path
        p.solve(solver=solver, log=verbose)
      File "mip.pyx", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)
      File "scip.pyx", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)
    MIPSolverException: 'SCIP: No solution was found.'
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4666:
    sage: lp2 = g2.longest_path(weighted=True)
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_71[18]>", line 1, in <module>
        lp2 = g2.longest_path(weighted=True)###line 4666:
    sage: lp2 = g2.longest_path(weighted=True)
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4719, in longest_path
        for g in self.connected_components_subgraphs())
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4719, in <genexpr>
        for g in self.connected_components_subgraphs())
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 4891, in longest_path
        p.solve(solver=solver, log=verbose)
      File "mip.pyx", line 1099, in sage.numerical.mip.MixedIntegerLinearProgram.solve (sage/numerical/mip.c:5792)
      File "scip.pyx", line 627, in sage.libs.scip.scip.SCIP.solve (sage/libs/scip/scip.c:4857)
    MIPSolverException: 'SCIP: No solution was found.'
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 4667:
    sage: lp1[0] == lp2[0]
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_71[19]>", line 1, in <module>
        lp1[Integer(0)] == lp2[Integer(0)]###line 4667:
    sage: lp1[0] == lp2[0]
    NameError: name 'lp1' is not defined
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 5013:
    sage: tsp = g.traveling_salesman_problem(weighted = True)
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_72[13]>", line 1, in <module>
        tsp = g.traveling_salesman_problem(weighted = True)###line 5013:
    sage: tsp = g.traveling_salesman_problem(weighted = True)
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 5144, in traveling_salesman_problem
        raise ValueError("The given graph is not Hamiltonian")
    ValueError: The given graph is not Hamiltonian
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 5014:
    sage: sum( tsp.edge_labels() ) < 2*10
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_72[14]>", line 1, in <module>
        sum( tsp.edge_labels() ) < Integer(2)*Integer(10)###line 5014:
    sage: sum( tsp.edge_labels() ) < 2*10
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/misc/functional.py", line 661, in symbolic_sum
        return sum(expression, *args)
    TypeError: unsupported operand type(s) for +: 'int' and 'dict'
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 5023:
    sage: tsp = g.traveling_salesman_problem(weighted = True)
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_72[16]>", line 1, in <module>
        tsp = g.traveling_salesman_problem(weighted = True)###line 5023:
    sage: tsp = g.traveling_salesman_problem(weighted = True)
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/graphs/generic_graph.py", line 5144, in traveling_salesman_problem
        raise ValueError("The given graph is not Hamiltonian")
    ValueError: The given graph is not Hamiltonian
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/generic_graph.py", line 5024:
    sage: sum( tsp.edge_labels() ) == (1/2)*10
Exception raised:
    Traceback (most recent call last):
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/malb/Sage/current/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_72[17]>", line 1, in <module>
        sum( tsp.edge_labels() ) == (Integer(1)/Integer(2))*Integer(10)###line 5024:
    sage: sum( tsp.edge_labels() ) == (1/2)*10
      File "/home/malb/Sage/current/local/lib/python/site-packages/sage/misc/functional.py", line 661, in symbolic_sum
        return sum(expression, *args)
    TypeError: unsupported operand type(s) for +: 'int' and 'dict'
**********************************************************************
```



---

archive/issue_comments_138558.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks to the input of Nathann the number of failed doctests was greatly reduced.\n\n**linear_programming.rst**\n\nThis seems to be just another just-as-good solution. Probably, the doctest should be changed to allow alternative solutions?\n\n```\nsage -t -long -force_lib \"devel/sage/doc/en/thematic_tutorials/linear_programming.rst\"\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst\", line 366:\n    sage: [e for e,b in matching.iteritems() if b == 1]\nExpected:\n    [(0, 1), (6, 9), (2, 7), (3, 4), (5, 8)]\nGot:\n    [(1, 6), (0, 4), (2, 3), (5, 8), (7, 9)]\n**********************************************************************\n```\n\n\n**digraph.py**\n\nIs this worrisome?\n\n```\nsage -t -long -force_lib \"devel/sage/sage/graphs/digraph.py\"\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/graphs/digraph.py\", line 1539:\n    sage: x == y\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n```\n\n**mip.pyx**\n\nThese are purely cosmetic.\n\n```\nsage -t -long -force_lib \"devel/sage/sage/numerical/mip.pyx\"\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx\", line 648:\n    sage: p.solve()\nExpected:\n    0.0\nGot:\n    -0.0\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx\", line 1216:\n    sage: p.get_backend()\nExpected:\n    <sage.numerical.backends.glpk_backend.GLPKBackend object ...>\nGot:\n    SCIP Constraint Integer Program \"\" ( maximization, 0 variables, 0 constraints )\n**********************************************************************\nFile \"/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx\", line 365:\n    sage: p.show()\nExpected:\n    Maximization:\n      Hey[1] +Hey[2]\n    Constraints:\n      Constraint_1: -3.0 Hey[1] +2.0 Hey[2] <= 2.0\n    Variables:\n      Hey[1] is a continuous variable (min=0.0, max=+oo)\n      Hey[2] is a continuous variable (min=0.0, max=+oo)\nGot:\n    Maximization:\n      x_0 +x_1\n    Constraints:\n      Constraint_1: -3.0 x_0 +2.0 x_1 <= 2.0\n    Variables:\n      x_0 is a continuous variable (min=0.0, max=+oo)\n      x_1 is a continuous variable (min=0.0, max=+oo)\n**********************************************************************\n```",
    "created_at": "2011-03-06T16:34:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138558",
    "user": "https://github.com/malb"
}
```

<a id='comment:5'></a>
Thanks to the input of Nathann the number of failed doctests was greatly reduced.

**linear_programming.rst**

This seems to be just another just-as-good solution. Probably, the doctest should be changed to allow alternative solutions?

```
sage -t -long -force_lib "devel/sage/doc/en/thematic_tutorials/linear_programming.rst"
**********************************************************************
File "/home/malb/Sage/current/devel/sage/doc/en/thematic_tutorials/linear_programming.rst", line 366:
    sage: [e for e,b in matching.iteritems() if b == 1]
Expected:
    [(0, 1), (6, 9), (2, 7), (3, 4), (5, 8)]
Got:
    [(1, 6), (0, 4), (2, 3), (5, 8), (7, 9)]
**********************************************************************
```


**digraph.py**

Is this worrisome?

```
sage -t -long -force_lib "devel/sage/sage/graphs/digraph.py"
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/graphs/digraph.py", line 1539:
    sage: x == y
Expected:
    True
Got:
    False
**********************************************************************
```

**mip.pyx**

These are purely cosmetic.

```
sage -t -long -force_lib "devel/sage/sage/numerical/mip.pyx"
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx", line 648:
    sage: p.solve()
Expected:
    0.0
Got:
    -0.0
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx", line 1216:
    sage: p.get_backend()
Expected:
    <sage.numerical.backends.glpk_backend.GLPKBackend object ...>
Got:
    SCIP Constraint Integer Program "" ( maximization, 0 variables, 0 constraints )
**********************************************************************
File "/home/malb/Sage/current/devel/sage/sage/numerical/mip.pyx", line 365:
    sage: p.show()
Expected:
    Maximization:
      Hey[1] +Hey[2]
    Constraints:
      Constraint_1: -3.0 Hey[1] +2.0 Hey[2] <= 2.0
    Variables:
      Hey[1] is a continuous variable (min=0.0, max=+oo)
      Hey[2] is a continuous variable (min=0.0, max=+oo)
Got:
    Maximization:
      x_0 +x_1
    Constraints:
      Constraint_1: -3.0 x_0 +2.0 x_1 <= 2.0
    Variables:
      x_0 is a continuous variable (min=0.0, max=+oo)
      x_1 is a continuous variable (min=0.0, max=+oo)
**********************************************************************
```



---

archive/issue_comments_138559.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,11 +19,8 @@\n * the following doctests fail\n \n ```\n- sage -t  -long -force_lib devel/sage/doc/en/thematic_tutorials/linear_programming.rst # 9 doctests failed\n+ sage -t  -long -force_lib devel/sage/doc/en/thematic_tutorials/linear_programming.rst # 1 doctests failed\n  sage -t  -long -force_lib devel/sage/sage/graphs/digraph.py # 1 doctests failed\n- sage -t  -long -force_lib devel/sage/sage/graphs/graph_coloring.py # 3 doctests failed\n- sage -t  -long -force_lib devel/sage/sage/graphs/graph_generators.py # 2 doctests failed\n- sage -t  -long -force_lib devel/sage/sage/numerical/knapsack.py # 4 doctests failed\n- sage -t  -long -force_lib devel/sage/sage/numerical/mip.pyx # 11 doctests failed\n- sage -t  -long -force_lib devel/sage/sage/graphs/generic_graph.py # 18 doctests failed\n+ sage -t  -long -force_lib devel/sage/sage/numerical/mip.pyx # 3 doctests failed\n ```\n+* printing of quadratic constraints does not work yet.\n``````\n",
    "created_at": "2011-03-06T16:34:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138559",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,11 +19,8 @@
 * the following doctests fail
 
 ```
- sage -t  -long -force_lib devel/sage/doc/en/thematic_tutorials/linear_programming.rst # 9 doctests failed
+ sage -t  -long -force_lib devel/sage/doc/en/thematic_tutorials/linear_programming.rst # 1 doctests failed
  sage -t  -long -force_lib devel/sage/sage/graphs/digraph.py # 1 doctests failed
- sage -t  -long -force_lib devel/sage/sage/graphs/graph_coloring.py # 3 doctests failed
- sage -t  -long -force_lib devel/sage/sage/graphs/graph_generators.py # 2 doctests failed
- sage -t  -long -force_lib devel/sage/sage/numerical/knapsack.py # 4 doctests failed
- sage -t  -long -force_lib devel/sage/sage/numerical/mip.pyx # 11 doctests failed
- sage -t  -long -force_lib devel/sage/sage/graphs/generic_graph.py # 18 doctests failed
+ sage -t  -long -force_lib devel/sage/sage/numerical/mip.pyx # 3 doctests failed
 ```
+* printing of quadratic constraints does not work yet.
``````




---

archive/issue_comments_138560.json:
```json
{
    "body": "<a id='comment:7'></a>\nForgot to update the patch, done that now.",
    "created_at": "2011-03-10T14:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138560",
    "user": "https://github.com/malb"
}
```

<a id='comment:7'></a>
Forgot to update the patch, done that now.



---

archive/issue_comments_138561.json:
```json
{
    "body": "<a id='comment:9'></a>\nRevised patch to match 4.7.1.",
    "created_at": "2011-07-26T14:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138561",
    "user": "https://github.com/malb"
}
```

<a id='comment:9'></a>
Revised patch to match 4.7.1.



---

archive/issue_comments_138562.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,18 +9,11 @@\n However, we don't have the right to redistribute the SCIP source code. Thus, the attached SPKG is empty except for the spkg-install script etc. \n \n To build a SCIP for Sage do:\n-* download the ZIB Optmisation Suite from http://zibopt.zib.de/download.php?fname=ziboptsuite-2.0.1.tgz\n-* place the files `scip-2.0.1.tgz` and `soplex-1.5.0.tgz` in the `src/` subdirectory of the attached SPKG\n+* download the SCIP Optmisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.0.1.tgz\n+* place the files `scip-3.0.1.tgz` and `soplex-1.7.1.tgz` in the `src/` subdirectory of the attached SPKG\n * install the SPKG\n * apply the attached patch and `sage -b`\n \n **KNOWN ISSUES**\n * Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.\n-* the following doctests fail\n-\n-```\n- sage -t  -long -force_lib devel/sage/doc/en/thematic_tutorials/linear_programming.rst # 1 doctests failed\n- sage -t  -long -force_lib devel/sage/sage/graphs/digraph.py # 1 doctests failed\n- sage -t  -long -force_lib devel/sage/sage/numerical/mip.pyx # 3 doctests failed\n-```\n * printing of quadratic constraints does not work yet.\n``````\n",
    "created_at": "2013-03-08T22:39:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138562",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,18 +9,11 @@
 However, we don't have the right to redistribute the SCIP source code. Thus, the attached SPKG is empty except for the spkg-install script etc. 
 
 To build a SCIP for Sage do:
-* download the ZIB Optmisation Suite from http://zibopt.zib.de/download.php?fname=ziboptsuite-2.0.1.tgz
-* place the files `scip-2.0.1.tgz` and `soplex-1.5.0.tgz` in the `src/` subdirectory of the attached SPKG
+* download the SCIP Optmisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.0.1.tgz
+* place the files `scip-3.0.1.tgz` and `soplex-1.7.1.tgz` in the `src/` subdirectory of the attached SPKG
 * install the SPKG
 * apply the attached patch and `sage -b`
 
 **KNOWN ISSUES**
 * Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.
-* the following doctests fail
-
-```
- sage -t  -long -force_lib devel/sage/doc/en/thematic_tutorials/linear_programming.rst # 1 doctests failed
- sage -t  -long -force_lib devel/sage/sage/graphs/digraph.py # 1 doctests failed
- sage -t  -long -force_lib devel/sage/sage/numerical/mip.pyx # 3 doctests failed
-```
 * printing of quadratic constraints does not work yet.
``````




---

archive/issue_comments_138563.json:
```json
{
    "body": "<a id='comment:11'></a>\nHi,\n\nwhy not including http://numberjack.ucc.ie/ in Sage, which already has an interface to SCIP (among others), and allows more expressive constraints (CSP) than MIP only. Also, https://code.google.com/p/python-zibopt/ is another Python interface to SCIP.",
    "created_at": "2013-04-27T20:00:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138563",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:11'></a>
Hi,

why not including http://numberjack.ucc.ie/ in Sage, which already has an interface to SCIP (among others), and allows more expressive constraints (CSP) than MIP only. Also, https://code.google.com/p/python-zibopt/ is another Python interface to SCIP.



---

archive/issue_comments_138564.json:
```json
{
    "body": "<a id='comment:12'></a>\nLast I checked the latter didn't offer the level of detail I wanted. I didn't know about the former.",
    "created_at": "2013-04-28T11:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138564",
    "user": "https://github.com/malb"
}
```

<a id='comment:12'></a>
Last I checked the latter didn't offer the level of detail I wanted. I didn't know about the former.



---

archive/issue_events_028169.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28169"
}
```



---

archive/issue_events_028170.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28170"
}
```



---

archive/issue_events_028171.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28171"
}
```



---

archive/issue_comments_138565.json:
```json
{
    "body": "Changing commit from \"\" to \"7772e92ddbc9531371e3bb53c57b1d6ae51417b1\"",
    "created_at": "2014-02-06T15:21:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138565",
    "user": "https://github.com/malb"
}
```

Changing commit from "" to "7772e92ddbc9531371e3bb53c57b1d6ae51417b1"



---

archive/issue_comments_138566.json:
```json
{
    "body": "Changing branch from \"\" to \"u/malb/scipoptsuite\"",
    "created_at": "2014-02-06T15:21:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138566",
    "user": "https://github.com/malb"
}
```

Changing branch from "" to "u/malb/scipoptsuite"



---

archive/issue_comments_138567.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,14 +6,18 @@\n * SCIP is a Constraint Integer Programming solver and allows non-linear constraints\n * SCIP's source code is available\n \n-However, we don't have the right to redistribute the SCIP source code. Thus, the attached SPKG is empty except for the spkg-install script etc. \n+However, we don't have the right to redistribute the SCIP source code.\n \n To build a SCIP for Sage do:\n+\n+* pull from this ticket\n * download the SCIP Optmisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.0.1.tgz\n-* place the files `scip-3.0.1.tgz` and `soplex-1.7.1.tgz` in the `src/` subdirectory of the attached SPKG\n-* install the SPKG\n-* apply the attached patch and `sage -b`\n+* place the files `scip-3.0.1.tgz` and `soplex-1.7.1.tgz` in `$SAGE_ROOT/upstream/`\n+* `sage -sh`\n+* `cd $SAGE_ROOT/build/pkgs/scipoptsuite`\n+* `./sage-install && sage -b`\n \n **KNOWN ISSUES**\n+\n * Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.\n * printing of quadratic constraints does not work yet.\n``````\n",
    "created_at": "2014-02-06T15:21:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138567",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,14 +6,18 @@
 * SCIP is a Constraint Integer Programming solver and allows non-linear constraints
 * SCIP's source code is available
 
-However, we don't have the right to redistribute the SCIP source code. Thus, the attached SPKG is empty except for the spkg-install script etc. 
+However, we don't have the right to redistribute the SCIP source code.
 
 To build a SCIP for Sage do:
+
+* pull from this ticket
 * download the SCIP Optmisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.0.1.tgz
-* place the files `scip-3.0.1.tgz` and `soplex-1.7.1.tgz` in the `src/` subdirectory of the attached SPKG
-* install the SPKG
-* apply the attached patch and `sage -b`
+* place the files `scip-3.0.1.tgz` and `soplex-1.7.1.tgz` in `$SAGE_ROOT/upstream/`
+* `sage -sh`
+* `cd $SAGE_ROOT/build/pkgs/scipoptsuite`
+* `./sage-install && sage -b`
 
 **KNOWN ISSUES**
+
 * Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.
 * printing of quadratic constraints does not work yet.
``````




---

archive/issue_comments_138568.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Doctest failures**\n\n```\n$ ./sage -tp 4 --optional sage,scip src/sage\n...\nsage -t src/sage/libs/scip/scip.pyx  # 2 doctests failed\nsage -t src/sage/libs/scip/constraint.pyx  # 2 doctests failed\n```",
    "created_at": "2014-02-06T16:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138568",
    "user": "https://github.com/malb"
}
```

<a id='comment:16'></a>
**Doctest failures**

```
$ ./sage -tp 4 --optional sage,scip src/sage
...
sage -t src/sage/libs/scip/scip.pyx  # 2 doctests failed
sage -t src/sage/libs/scip/constraint.pyx  # 2 doctests failed
```



---

archive/issue_comments_138569.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                          |                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[aa23303](http://git.sagemath.org/sage.git/commit/?id=aa2330394e86f2f7d9522f0a6775ba6719afd6d9)|`clean build dir before unpacking tarballs building`|\n|[f51861d](http://git.sagemath.org/sage.git/commit/?id=f51861d6f83e3915eb28980f2995d5a38bf1dbc3)|`quadratic constraint printing and full doctest coverage`|",
    "created_at": "2014-02-06T17:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138569",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                          |                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[aa23303](http://git.sagemath.org/sage.git/commit/?id=aa2330394e86f2f7d9522f0a6775ba6719afd6d9)|`clean build dir before unpacking tarballs building`|
|[f51861d](http://git.sagemath.org/sage.git/commit/?id=f51861d6f83e3915eb28980f2995d5a38bf1dbc3)|`quadratic constraint printing and full doctest coverage`|



---

archive/issue_comments_138570.json:
```json
{
    "body": "Changing commit from \"7772e92ddbc9531371e3bb53c57b1d6ae51417b1\" to \"f51861d6f83e3915eb28980f2995d5a38bf1dbc3\"",
    "created_at": "2014-02-06T17:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138570",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7772e92ddbc9531371e3bb53c57b1d6ae51417b1" to "f51861d6f83e3915eb28980f2995d5a38bf1dbc3"



---

archive/issue_events_028172.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28172"
}
```



---

archive/issue_events_028173.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28173"
}
```



---

archive/issue_events_028174.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28174"
}
```



---

archive/issue_events_028175.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28175"
}
```



---

archive/issue_comments_138571.json:
```json
{
    "body": "Changing component from packages: standard to packages: optional.",
    "created_at": "2014-11-13T13:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138571",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from packages: standard to packages: optional.



---

archive/issue_comments_138572.json:
```json
{
    "body": "Changing branch from \"u/malb/scipoptsuite\" to \"u/mkoeppe/ticket/10879\"",
    "created_at": "2015-06-23T05:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138572",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "u/malb/scipoptsuite" to "u/mkoeppe/ticket/10879"



---

archive/issue_comments_138573.json:
```json
{
    "body": "Changing commit from \"f51861d6f83e3915eb28980f2995d5a38bf1dbc3\" to \"983d9ea066437c92f50efd72b6076e9cff719118\"",
    "created_at": "2015-06-23T05:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138573",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "f51861d6f83e3915eb28980f2995d5a38bf1dbc3" to "983d9ea066437c92f50efd72b6076e9cff719118"



---

archive/issue_comments_138574.json:
```json
{
    "body": "<a id='comment:22'></a>\nI've merged latest develop (6.8.beta5), upgraded to scipoptsuite 3.1.1, and updated to the latest spkg conventions.\n\nNeeds more work. Compilation errors with `SoPlex` related to GMP libraries.\n\n---\nNew commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[aba96b4](http://git.sagemath.org/sage.git/commit/?id=aba96b409e2701c83b6ef9e8ae0928b706c3820b)|`Merge tag '6.8.beta5' into t/10879/scipoptsuite`|\n|[983d9ea](http://git.sagemath.org/sage.git/commit/?id=983d9ea066437c92f50efd72b6076e9cff719118)|`Attempt to update scip spkg`|",
    "created_at": "2015-06-23T05:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138574",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
I've merged latest develop (6.8.beta5), upgraded to scipoptsuite 3.1.1, and updated to the latest spkg conventions.

Needs more work. Compilation errors with `SoPlex` related to GMP libraries.

---
New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[aba96b4](http://git.sagemath.org/sage.git/commit/?id=aba96b409e2701c83b6ef9e8ae0928b706c3820b)|`Merge tag '6.8.beta5' into t/10879/scipoptsuite`|
|[983d9ea](http://git.sagemath.org/sage.git/commit/?id=983d9ea066437c92f50efd72b6076e9cff719118)|`Attempt to update scip spkg`|



---

archive/issue_comments_138575.json:
```json
{
    "body": "<a id='comment:23'></a>\nLast time I tested SCIP in Sage under OSX it would always crash, if that's still true then maybe we should set `type = experimental`?",
    "created_at": "2015-06-23T08:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138575",
    "user": "https://github.com/malb"
}
```

<a id='comment:23'></a>
Last time I tested SCIP in Sage under OSX it would always crash, if that's still true then maybe we should set `type = experimental`?



---

archive/issue_comments_138576.json:
```json
{
    "body": "<a id='comment:24'></a>\nWow. And to say that I wanted to work on that next week. Well, I will be working on the review then! Thanks for doing that `;-)`\n\nNathann",
    "created_at": "2015-06-23T08:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138576",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'></a>
Wow. And to say that I wanted to work on that next week. Well, I will be working on the review then! Thanks for doing that `;-)`

Nathann



---

archive/issue_comments_138577.json:
```json
{
    "body": "<a id='comment:25'></a>\nHello,\n\nI am available to review it (it's so biiiiiig... `:-/`) and I only noticed that it was not in `needs_review` but in `needs_work`. Are you almost done with it? Dima and I could have some time to work on the review this week.\n\nTHaaaaanks,\n\nNathann",
    "created_at": "2015-06-29T10:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138577",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:25'></a>
Hello,

I am available to review it (it's so biiiiiig... `:-/`) and I only noticed that it was not in `needs_review` but in `needs_work`. Are you almost done with it? Dima and I could have some time to work on the review this week.

THaaaaanks,

Nathann



---

archive/issue_comments_138578.json:
```json
{
    "body": "<a id='comment:26'></a>\nA related post there: \nhttps://groups.google.com/d/topic/sage-devel/r0F6WLu8AiU/discussion\n\nNote for later: In order to compile this package I had to install: libgmp-dev, flex, bison\n\nNathann",
    "created_at": "2015-06-29T11:11:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138578",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:26'></a>
A related post there: 
https://groups.google.com/d/topic/sage-devel/r0F6WLu8AiU/discussion

Note for later: In order to compile this package I had to install: libgmp-dev, flex, bison

Nathann



---

archive/issue_comments_138579.json:
```json
{
    "body": "<a id='comment:27'></a>\nNathann, I won't have time to work on it at the moment. Everything I did is on the ticket already. So if you and Dima want to work on it, go ahead.\n\nI didn't read the license as to whether we are allowed to redistribute the unmodified upstream tarball. Needs checking.",
    "created_at": "2015-06-29T16:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138579",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
Nathann, I won't have time to work on it at the moment. Everything I did is on the ticket already. So if you and Dima want to work on it, go ahead.

I didn't read the license as to whether we are allowed to redistribute the unmodified upstream tarball. Needs checking.



---

archive/issue_comments_138580.json:
```json
{
    "body": "<a id='comment:28'></a>\n> Nathann, I won't have time to work on it at the moment. Everything I did is on the ticket already. So if you and Dima want to work on it, go ahead.\n\n\nI would like to see if I can \"cheaply\" (i.e. by writing to a .lp file and calling scip as an external binary) count the number of integer points in a polyhedron (to compare results with #18812). Would you allow me to split the 'new-style package' code off this ticket and into another one?\n\nI can rebase this branch atop of it afterwards. \n\n> I didn't read the license as to whether we are allowed to redistribute the unmodified upstream tarball. Needs checking.\n\n\nhttp://listserv.zib.de/pipermail/scip/2015-June/002446.html\n\nNathann",
    "created_at": "2015-06-30T16:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138580",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:28'></a>
> Nathann, I won't have time to work on it at the moment. Everything I did is on the ticket already. So if you and Dima want to work on it, go ahead.


I would like to see if I can "cheaply" (i.e. by writing to a .lp file and calling scip as an external binary) count the number of integer points in a polyhedron (to compare results with #18812). Would you allow me to split the 'new-style package' code off this ticket and into another one?

I can rebase this branch atop of it afterwards. 

> I didn't read the license as to whether we are allowed to redistribute the unmodified upstream tarball. Needs checking.


http://listserv.zib.de/pipermail/scip/2015-June/002446.html

Nathann



---

archive/issue_comments_138581.json:
```json
{
    "body": "<a id='comment:29'></a>\nNathann, go for it; I don't claim any ownership on this ticket.\n\nI wasn't aware that SCIP had lattice point counting code.",
    "created_at": "2015-06-30T19:53:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138581",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Nathann, go for it; I don't claim any ownership on this ticket.

I wasn't aware that SCIP had lattice point counting code.



---

archive/issue_comments_138582.json:
```json
{
    "body": "<a id='comment:30'></a>\nI updated the ticket description to refer to the newest versions",
    "created_at": "2015-07-01T10:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138582",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:30'></a>
I updated the ticket description to refer to the newest versions



---

archive/issue_comments_138583.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,8 +11,8 @@\n To build a SCIP for Sage do:\n \n * pull from this ticket\n-* download the SCIP Optmisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.0.1.tgz\n-* place the files `scip-3.0.1.tgz` and `soplex-1.7.1.tgz` in `$SAGE_ROOT/upstream/`\n+* download the SCIP Optmisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.1.1.tgz\n+* place the files `scip-3.1.1.tgz` and `soplex-2.0.1.tgz` in `$SAGE_ROOT/upstream/`\n * `sage -sh`\n * `cd $SAGE_ROOT/build/pkgs/scipoptsuite`\n * `./sage-install && sage -b`\n``````\n",
    "created_at": "2015-07-01T10:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138583",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,8 +11,8 @@
 To build a SCIP for Sage do:
 
 * pull from this ticket
-* download the SCIP Optmisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.0.1.tgz
-* place the files `scip-3.0.1.tgz` and `soplex-1.7.1.tgz` in `$SAGE_ROOT/upstream/`
+* download the SCIP Optmisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.1.1.tgz
+* place the files `scip-3.1.1.tgz` and `soplex-2.0.1.tgz` in `$SAGE_ROOT/upstream/`
 * `sage -sh`
 * `cd $SAGE_ROOT/build/pkgs/scipoptsuite`
 * `./sage-install && sage -b`
``````




---

archive/issue_comments_138584.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,7 @@\n * SCIP is pretty fast for Mixed Integer Programming\n * SCIP is a Constraint Integer Programming solver and allows non-linear constraints\n * SCIP's source code is available\n+* A beta version of SCIP can do exact MIP: http://scip.zib.de/#exact using qsopt_ex (see also #18766)\n \n However, we don't have the right to redistribute the SCIP source code.\n \n``````\n",
    "created_at": "2016-04-06T18:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138584",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,7 @@
 * SCIP is pretty fast for Mixed Integer Programming
 * SCIP is a Constraint Integer Programming solver and allows non-linear constraints
 * SCIP's source code is available
+* A beta version of SCIP can do exact MIP: http://scip.zib.de/#exact using qsopt_ex (see also #18766)
 
 However, we don't have the right to redistribute the SCIP source code.
 
``````




---

archive/issue_comments_138585.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,3 +22,6 @@\n \n * Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.\n * printing of quadratic constraints does not work yet.\n+\n+Follow-up: #21003: Add SCIP backend using PySCIPOpt\n+\n``````\n",
    "created_at": "2016-07-11T19:12:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138585",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,3 +22,6 @@
 
 * Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.
 * printing of quadratic constraints does not work yet.
+
+Follow-up: #21003: Add SCIP backend using PySCIPOpt
+
``````




---

archive/issue_comments_138586.json:
```json
{
    "body": "Changing commit from \"983d9ea066437c92f50efd72b6076e9cff719118\" to \"ac9bbc3ba4d10ad054bab4c07608765d8dd36a78\"",
    "created_at": "2016-07-12T20:44:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "983d9ea066437c92f50efd72b6076e9cff719118" to "ac9bbc3ba4d10ad054bab4c07608765d8dd36a78"



---

archive/issue_comments_138587.json:
```json
{
    "body": "<a id='comment:33'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[ac9bbc3](https://git.sagemath.org/sage.git/commit/?id=ac9bbc3ba4d10ad054bab4c07608765d8dd36a78)|`Merge tag '7.3.beta7' into t/10879/ticket/10879`|",
    "created_at": "2016-07-12T20:44:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138587",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[ac9bbc3](https://git.sagemath.org/sage.git/commit/?id=ac9bbc3ba4d10ad054bab4c07608765d8dd36a78)|`Merge tag '7.3.beta7' into t/10879/ticket/10879`|



---

archive/issue_comments_138588.json:
```json
{
    "body": "<a id='comment:34'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[a88cb9d](https://git.sagemath.org/sage.git/commit/?id=a88cb9d7ce0ad3d1dd77d8807bb453a30551f0f8)|`Upgrade to version 3.2.1`|",
    "created_at": "2016-07-12T21:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138588",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[a88cb9d](https://git.sagemath.org/sage.git/commit/?id=a88cb9d7ce0ad3d1dd77d8807bb453a30551f0f8)|`Upgrade to version 3.2.1`|



---

archive/issue_comments_138589.json:
```json
{
    "body": "Changing commit from \"ac9bbc3ba4d10ad054bab4c07608765d8dd36a78\" to \"a88cb9d7ce0ad3d1dd77d8807bb453a30551f0f8\"",
    "created_at": "2016-07-12T21:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138589",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ac9bbc3ba4d10ad054bab4c07608765d8dd36a78" to "a88cb9d7ce0ad3d1dd77d8807bb453a30551f0f8"



---

archive/issue_comments_138590.json:
```json
{
    "body": "Changing commit from \"a88cb9d7ce0ad3d1dd77d8807bb453a30551f0f8\" to \"ee9fcd4c42cd83f9e71b6f7dadc677f5de7bd5c8\"",
    "created_at": "2016-07-12T22:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138590",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a88cb9d7ce0ad3d1dd77d8807bb453a30551f0f8" to "ee9fcd4c42cd83f9e71b6f7dadc677f5de7bd5c8"



---

archive/issue_comments_138591.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[ee9fcd4](https://git.sagemath.org/sage.git/commit/?id=ee9fcd4c42cd83f9e71b6f7dadc677f5de7bd5c8)|`Comment out PY_TYPE_CHECK`|",
    "created_at": "2016-07-12T22:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138591",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[ee9fcd4](https://git.sagemath.org/sage.git/commit/?id=ee9fcd4c42cd83f9e71b6f7dadc677f5de7bd5c8)|`Comment out PY_TYPE_CHECK`|



---

archive/issue_comments_138592.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,11 +12,9 @@\n To build a SCIP for Sage do:\n \n * pull from this ticket\n-* download the SCIP Optmisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.1.1.tgz\n-* place the files `scip-3.1.1.tgz` and `soplex-2.0.1.tgz` in `$SAGE_ROOT/upstream/`\n-* `sage -sh`\n-* `cd $SAGE_ROOT/build/pkgs/scipoptsuite`\n-* `./sage-install && sage -b`\n+* download the SCIP Optimisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.2.1.tgz\n+* put tarfile scipoptsuite-3.2.1.tgz in `$SAGE_ROOT/upstream/`\n+* `sage -f scipoptsuite`\n \n **KNOWN ISSUES**\n \n``````\n",
    "created_at": "2016-07-12T22:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138592",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,11 +12,9 @@
 To build a SCIP for Sage do:
 
 * pull from this ticket
-* download the SCIP Optmisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.1.1.tgz
-* place the files `scip-3.1.1.tgz` and `soplex-2.0.1.tgz` in `$SAGE_ROOT/upstream/`
-* `sage -sh`
-* `cd $SAGE_ROOT/build/pkgs/scipoptsuite`
-* `./sage-install && sage -b`
+* download the SCIP Optimisation Suite from http://scip.zib.de/download.php?fname=scipoptsuite-3.2.1.tgz
+* put tarfile scipoptsuite-3.2.1.tgz in `$SAGE_ROOT/upstream/`
+* `sage -f scipoptsuite`
 
 **KNOWN ISSUES**
 
``````




---

archive/issue_comments_138593.json:
```json
{
    "body": "Changing keywords from \"mip, mixed integer programming\" to \"lp, mip, mixed integer programming\".",
    "created_at": "2016-07-12T22:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138593",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "mip, mixed integer programming" to "lp, mip, mixed integer programming".



---

archive/issue_events_028176.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-07-12T22:36:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28176"
}
```



---

archive/issue_events_028177.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-07-12T22:36:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28177"
}
```



---

archive/issue_comments_138594.json:
```json
{
    "body": "<a id='comment:36'></a>\nBeginning of an attempt to revive this ticket: Updated the SCIP version, merged some stuff, commented out outdated Cython.\nNeeds more work. \"sage -f\" does not go through on Mac OS X.",
    "created_at": "2016-07-12T22:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138594",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>
Beginning of an attempt to revive this ticket: Updated the SCIP version, merged some stuff, commented out outdated Cython.
Needs more work. "sage -f" does not go through on Mac OS X.



---

archive/issue_comments_138595.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,7 @@\n * SCIP is pretty fast for Mixed Integer Programming\n * SCIP is a Constraint Integer Programming solver and allows non-linear constraints\n * SCIP's source code is available\n+* SoPlex (the LP solver which is part of scipoptsuite) has an exact mode which is said to be working well\n * A beta version of SCIP can do exact MIP: http://scip.zib.de/#exact using qsopt_ex (see also #18766)\n \n However, we don't have the right to redistribute the SCIP source code.\n``````\n",
    "created_at": "2016-07-15T10:59:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138595",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,7 @@
 * SCIP is pretty fast for Mixed Integer Programming
 * SCIP is a Constraint Integer Programming solver and allows non-linear constraints
 * SCIP's source code is available
+* SoPlex (the LP solver which is part of scipoptsuite) has an exact mode which is said to be working well
 * A beta version of SCIP can do exact MIP: http://scip.zib.de/#exact using qsopt_ex (see also #18766)
 
 However, we don't have the right to redistribute the SCIP source code.
``````




---

archive/issue_comments_138596.json:
```json
{
    "body": "<a id='comment:38'></a>\nSeveral comments about `src/module_list.py`:\n\n1. Don't use both `condition` and `package`: that is redundant.\n\n2. Try to avoid `include_dirs`, it is annoying for portability. Either change the way that SCIP is installed or change the include filenames in the Cython files.\n\n3. Wildcards are supported: you can use `['sage/libs/scip/*.pyx']` for the sources.",
    "created_at": "2016-07-15T11:48:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138596",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:38'></a>
Several comments about `src/module_list.py`:

1. Don't use both `condition` and `package`: that is redundant.

2. Try to avoid `include_dirs`, it is annoying for portability. Either change the way that SCIP is installed or change the include filenames in the Cython files.

3. Wildcards are supported: you can use `['sage/libs/scip/*.pyx']` for the sources.



---

archive/issue_comments_138597.json:
```json
{
    "body": "Changing commit from \"ee9fcd4c42cd83f9e71b6f7dadc677f5de7bd5c8\" to \"0a5331572b59156ecbcb859dc802bbbc2a88f9f1\"",
    "created_at": "2016-07-15T14:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138597",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ee9fcd4c42cd83f9e71b6f7dadc677f5de7bd5c8" to "0a5331572b59156ecbcb859dc802bbbc2a88f9f1"



---

archive/issue_comments_138598.json:
```json
{
    "body": "<a id='comment:39'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[0a53315](https://git.sagemath.org/sage.git/commit/?id=0a5331572b59156ecbcb859dc802bbbc2a88f9f1)|`Attempt to remove extra scip/ in include paths`|",
    "created_at": "2016-07-15T14:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138598",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[0a53315](https://git.sagemath.org/sage.git/commit/?id=0a5331572b59156ecbcb859dc802bbbc2a88f9f1)|`Attempt to remove extra scip/ in include paths`|



---

archive/issue_comments_138599.json:
```json
{
    "body": "<a id='comment:40'></a>\nInstead of struggling with the hand-written build system of SCIP (http://listserv.zib.de/pipermail/scip/2016-July/002853.html), \nwe could as well try to leverage the autotoolized build system that COIN-OR uses for SoPlex and SCIP. \n\nSee:\n- https://github.com/coin-or-tools/ThirdParty-SoPlex \n- https://github.com/coin-or-tools/ThirdParty-SCIP",
    "created_at": "2016-07-17T23:02:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138599",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'></a>
Instead of struggling with the hand-written build system of SCIP (http://listserv.zib.de/pipermail/scip/2016-July/002853.html), 
we could as well try to leverage the autotoolized build system that COIN-OR uses for SoPlex and SCIP. 

See:
- https://github.com/coin-or-tools/ThirdParty-SoPlex 
- https://github.com/coin-or-tools/ThirdParty-SCIP



---

archive/issue_comments_138600.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,7 +8,8 @@\n * SoPlex (the LP solver which is part of scipoptsuite) has an exact mode which is said to be working well\n * A beta version of SCIP can do exact MIP: http://scip.zib.de/#exact using qsopt_ex (see also #18766)\n \n-However, we don't have the right to redistribute the SCIP source code.\n+However, the SCIP license prevents us from redistributing the SCIP source code:\n+http://scip.zib.de/#license\n \n To build a SCIP for Sage do:\n \n``````\n",
    "created_at": "2016-07-18T08:38:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138600",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,7 +8,8 @@
 * SoPlex (the LP solver which is part of scipoptsuite) has an exact mode which is said to be working well
 * A beta version of SCIP can do exact MIP: http://scip.zib.de/#exact using qsopt_ex (see also #18766)
 
-However, we don't have the right to redistribute the SCIP source code.
+However, the SCIP license prevents us from redistributing the SCIP source code:
+http://scip.zib.de/#license
 
 To build a SCIP for Sage do:
 
``````




---

archive/issue_comments_138601.json:
```json
{
    "body": "<a id='comment:41'></a>\nAdd link to SCIP license in ticket description.",
    "created_at": "2016-07-18T08:38:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138601",
    "user": "https://github.com/slel"
}
```

<a id='comment:41'></a>
Add link to SCIP license in ticket description.



---

archive/issue_comments_138602.json:
```json
{
    "body": "<a id='comment:42'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[322ecb4](https://git.sagemath.org/sage.git/commit/?id=322ecb4a795b6248676b14459a9791051f028d1e)|`Merge tag '7.3.beta8' into t/10879/ticket/10879`|\n|[1f514de](https://git.sagemath.org/sage.git/commit/?id=1f514de739769916b46be81858628bed446872a2)|`Fixes for shared library build on Mac`|",
    "created_at": "2016-07-20T14:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138602",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[322ecb4](https://git.sagemath.org/sage.git/commit/?id=322ecb4a795b6248676b14459a9791051f028d1e)|`Merge tag '7.3.beta8' into t/10879/ticket/10879`|
|[1f514de](https://git.sagemath.org/sage.git/commit/?id=1f514de739769916b46be81858628bed446872a2)|`Fixes for shared library build on Mac`|



---

archive/issue_comments_138603.json:
```json
{
    "body": "Changing commit from \"0a5331572b59156ecbcb859dc802bbbc2a88f9f1\" to \"1f514de739769916b46be81858628bed446872a2\"",
    "created_at": "2016-07-20T14:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138603",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0a5331572b59156ecbcb859dc802bbbc2a88f9f1" to "1f514de739769916b46be81858628bed446872a2"



---

archive/issue_comments_138604.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -23,5 +23,7 @@\n * Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.\n * printing of quadratic constraints does not work yet.\n \n+Split out ticket with just the spkg: #21094.\n+\n Follow-up: #21003: Add SCIP backend using PySCIPOpt\n \n``````\n",
    "created_at": "2016-07-25T19:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138604",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -23,5 +23,7 @@
 * Sage crashes when SCIP variables are printed with SIGSEGV on OSX. It works fine under Linux.
 * printing of quadratic constraints does not work yet.
 
+Split out ticket with just the spkg: #21094.
+
 Follow-up: #21003: Add SCIP backend using PySCIPOpt
 
``````




---

archive/issue_events_028178.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-07-25T19:11:22Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-7.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28178"
}
```



---

archive/issue_events_028179.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2016-07-25T19:11:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28179"
}
```



---

archive/issue_comments_138605.json:
```json
{
    "body": "<a id='comment:43'></a>\nWork will continue on #21094. I'm keeping the branch on this ticket (#10879) as is to preserve the work on the Cython interface to SCIP. \nNew work on a SCIP backend will probably use #21003 (PySCIPOpt).",
    "created_at": "2016-07-25T19:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138605",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>
Work will continue on #21094. I'm keeping the branch on this ticket (#10879) as is to preserve the work on the Cython interface to SCIP. 
New work on a SCIP backend will probably use #21003 (PySCIPOpt).



---

archive/issue_events_028180.json:
```json
{
    "actor": "https://github.com/mo271",
    "created_at": "2018-04-11T16:40:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28180"
}
```



---

archive/issue_events_028181.json:
```json
{
    "actor": "https://github.com/mo271",
    "created_at": "2018-04-11T16:40:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10879#event-28181"
}
```



---

archive/issue_comments_138606.json:
```json
{
    "body": "Description changed:\n``````diff\n\n``````\n",
    "created_at": "2018-04-11T22:45:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10879",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10879#issuecomment-138606",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff

``````

