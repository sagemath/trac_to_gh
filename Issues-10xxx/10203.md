# Issue 10203: cddlib fails to build on iras

archive/issues_010203.json:
```json
{
    "body": "Assignee: GeorgSWeber\n\nCC:  @vbraun\n\nKeywords: cddlib\n\nOn the Skynet machine iras (SUSE ES 10 SP1 ia64), cddlib-094f.p8 fails to build with the message:\n\n```\nmake[2]: Entering directory `/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src'\nmake[2]: warning: -jN forced in submake: disabling jobserver mode.\nCDPATH=\"${ZSH_VERSION+.}:\" && cd . && /bin/sh /home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing --run aclocal-1.11 -I m4\n/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing: line 52: aclocal-1.11: command not found\nWARNING: `aclocal-1.11' is missing on your system.  You should only need it if\n         you modified `acinclude.m4' or `configure.ac'.  You might want\n         to install the `Automake' and `Perl' packages.  Grab them from\n         any GNU archive site.\n cd . && /bin/sh /home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing --run automake-1.11 --gnu\nCDPATH=\"${ZSH_VERSION+.}:\" && cd . && /bin/sh /home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing --run autoconf\n/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing: line 52: automake-1.11: command not found\n/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing: line 52: autoconf: command not found\nWARNING: `automake-1.11' is missing on your system.  You should only need it if\n         you modified `Makefile.am', `acinclude.m4' or `configure.ac'.\n         You might want to install the `Automake' and `Perl' packages.\n         Grab them from any GNU archive site.\nWARNING: `autoconf' is missing on your system.  You should only need it if\n         you modified `configure.ac'.  You might want to install the\n         `Autoconf' and `GNU m4' packages.  Grab them from any GNU\n         archive site.\n/bin/sh ./config.status --recheck\nrunning CONFIG_SHELL=/bin/sh /bin/sh ./configure --prefix=/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/local --with-gmp=/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/local CC=gcc LDFLAGS= CXX=g++ --no-create --no-recursion\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether build environment is sane... configure: error: newly created file is older than distributed files!\nCheck your system clock\nmake[2]: *** [config.status] Error 1\nmake[2]: Leaving directory `/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src'\nError building cddlib\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/10204\n\n",
    "closed_at": "2012-06-19T13:34:17Z",
    "created_at": "2010-11-02T16:32:04Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "cddlib fails to build on iras",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10203",
    "user": "https://github.com/jdemeyer"
}
```
Assignee: GeorgSWeber

CC:  @vbraun

Keywords: cddlib

On the Skynet machine iras (SUSE ES 10 SP1 ia64), cddlib-094f.p8 fails to build with the message:

```
make[2]: Entering directory `/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src'
make[2]: warning: -jN forced in submake: disabling jobserver mode.
CDPATH="${ZSH_VERSION+.}:" && cd . && /bin/sh /home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing --run aclocal-1.11 -I m4
/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing: line 52: aclocal-1.11: command not found
WARNING: `aclocal-1.11' is missing on your system.  You should only need it if
         you modified `acinclude.m4' or `configure.ac'.  You might want
         to install the `Automake' and `Perl' packages.  Grab them from
         any GNU archive site.
 cd . && /bin/sh /home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing --run automake-1.11 --gnu
CDPATH="${ZSH_VERSION+.}:" && cd . && /bin/sh /home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing --run autoconf
/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing: line 52: automake-1.11: command not found
/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src/missing: line 52: autoconf: command not found
WARNING: `automake-1.11' is missing on your system.  You should only need it if
         you modified `Makefile.am', `acinclude.m4' or `configure.ac'.
         You might want to install the `Automake' and `Perl' packages.
         Grab them from any GNU archive site.
WARNING: `autoconf' is missing on your system.  You should only need it if
         you modified `configure.ac'.  You might want to install the
         `Autoconf' and `GNU m4' packages.  Grab them from any GNU
         archive site.
/bin/sh ./config.status --recheck
running CONFIG_SHELL=/bin/sh /bin/sh ./configure --prefix=/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/local --with-gmp=/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/local CC=gcc LDFLAGS= CXX=g++ --no-create --no-recursion
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... configure: error: newly created file is older than distributed files!
Check your system clock
make[2]: *** [config.status] Error 1
make[2]: Leaving directory `/home/buildbot/build/sage/iras-1/iras_full/build/sage-4.6.1.alpha0/spkg/build/cddlib-094f.p8/src'
Error building cddlib
```

Issue created by migration from https://trac.sagemath.org/ticket/10204





---

archive/issue_comments_103680.json:
```json
{
    "body": "The problem is that the ctime of newly-created files over NFS is wrong:\n\n```\nvbraun@iras:~> rm -f test && touch test && stat test \n  File: `test' \n  Size: 0               Blocks: 0          IO Block: 8192   regular empty \nfile \nDevice: 14h/20d Inode: 11175765    Links: 1 \nAccess: (0644/-rw-r--r--)  Uid: ( 1036/  vbraun)   Gid: ( 1024/    sage) \nAccess: 2010-10-23 09:59:05.009964000 -0400 \nModify: 2010-10-23 09:59:05.009964000 -0400 \nChange: 2010-10-23 09:58:47.918997000 -0400 \n```\nThere is a nfs bug related to nfs time stamps \nhttps://bugzilla.kernel.org/show_bug.cgi?id=6127 \nwhich is likely the culprit here. That bug was fixed in 2.6.17 (iras runs \n2.6.16). \n\nA possible workaround would be to build sage in `/tmp`, which is a local disk and where file creation times are correct.",
    "created_at": "2010-11-04T21:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10203#issuecomment-103680",
    "user": "https://github.com/vbraun"
}
```

The problem is that the ctime of newly-created files over NFS is wrong:

```
vbraun@iras:~> rm -f test && touch test && stat test 
  File: `test' 
  Size: 0               Blocks: 0          IO Block: 8192   regular empty 
file 
Device: 14h/20d Inode: 11175765    Links: 1 
Access: (0644/-rw-r--r--)  Uid: ( 1036/  vbraun)   Gid: ( 1024/    sage) 
Access: 2010-10-23 09:59:05.009964000 -0400 
Modify: 2010-10-23 09:59:05.009964000 -0400 
Change: 2010-10-23 09:58:47.918997000 -0400 
```
There is a nfs bug related to nfs time stamps 
https://bugzilla.kernel.org/show_bug.cgi?id=6127 
which is likely the culprit here. That bug was fixed in 2.6.17 (iras runs 
2.6.16). 

A possible workaround would be to build sage in `/tmp`, which is a local disk and where file creation times are correct.



---

archive/issue_comments_103681.json:
```json
{
    "body": "Replying to [comment:2 vbraun]:\n> The problem is that the ctime of newly-created files over NFS is wrong:\n\n\n> ...\n\n\n> A possible workaround would be to build sage in `/tmp`, which is a local disk and where file creation times are correct.\n\n\nThanks, Volker.  Sage 4.6.1.alpha0 indeed builds successfully under iras' small `/tmp` and the long doctests pass.",
    "created_at": "2010-11-06T10:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10203#issuecomment-103681",
    "user": "https://github.com/qed777"
}
```

Replying to [comment:2 vbraun]:
> The problem is that the ctime of newly-created files over NFS is wrong:


> ...


> A possible workaround would be to build sage in `/tmp`, which is a local disk and where file creation times are correct.


Thanks, Volker.  Sage 4.6.1.alpha0 indeed builds successfully under iras' small `/tmp` and the long doctests pass.



---

archive/issue_comments_103682.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-06-19T10:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10203#issuecomment-103682",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_events_026153.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-19T10:29:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10203",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10203#event-26153"
}
```



---

archive/issue_comments_103683.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-06-19T10:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10203#issuecomment-103683",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_103684.json:
```json
{
    "body": "Resolution: worksforme",
    "created_at": "2012-06-19T13:34:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10203",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10203#issuecomment-103684",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: worksforme



---

archive/issue_events_026154.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-19T13:34:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10203",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10203#event-26154"
}
```
