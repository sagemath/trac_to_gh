# Issue 10497: Constraint Generation for TSP/Hamiltonian Cycle

archive/issues_010444.json:
```json
{
    "assignees": [
        "https://github.com/jasongrout",
        "https://github.com/nathanncohen",
        "https://github.com/rlmill"
    ],
    "body": "Hello everybody !!!\n\nThis patch adds another way to compute through LP a hamiltonian cycle.\n\nApply:\n* [attachment: trac_10497.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497.patch.gz)\n* [attachment: trac_10497-density.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497-density.patch.gz)\n\nDepends on #10044\n\nReviewer: **Leonardo Sampaio**\n\nAuthor: **Nathann Cohen**\n\nMerged: **sage-4.7.2.alpha2**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10497_\n\n",
    "closed_at": "2011-08-18T22:01:59Z",
    "created_at": "2010-12-19T18:01:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Constraint Generation for TSP/Hamiltonian Cycle",
    "type": "issue",
    "updated_at": "2012-05-13T19:47:27Z",
    "url": "https://github.com/sagemath/sage/issues/10497",
    "user": "https://github.com/nathanncohen"
}
```
Hello everybody !!!

This patch adds another way to compute through LP a hamiltonian cycle.

Apply:
* [attachment: trac_10497.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497.patch.gz)
* [attachment: trac_10497-density.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497-density.patch.gz)

Depends on #10044

Reviewer: **Leonardo Sampaio**

Author: **Nathann Cohen**

Merged: **sage-4.7.2.alpha2**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/10497_





---

archive/issue_events_137824.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-12-19T18:01:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137824"
}
```



---

archive/issue_events_137825.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-12-19T18:01:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137825"
}
```



---

archive/issue_events_137826.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-12-19T18:01:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137826"
}
```



---

archive/issue_events_137827.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-12-19T18:01:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137827"
}
```



---

archive/issue_events_137828.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-12-19T18:01:49Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137828"
}
```



---

archive/issue_events_137829.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-12-19T18:01:49Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137829"
}
```



---

archive/issue_events_137830.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-12-19T18:01:49Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137830"
}
```



---

archive/issue_events_137831.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-12-19T18:04:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137831"
}
```



---

archive/issue_comments_098800.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAttachment: **[trac_10497.patch.gz](https://github.com/sagemath/sage/files/ticket10497/trac_10497.patch.gz)**\n\nI reviwed the patch and its correct and working fine. \nOn the other hand, I compared the performances of the previous algorithm and the constraint generation in some examples and the second seemed to be always slower than the first. So I am not sure of why to keep the constraint generation as the default algorithm.\nBesides this, I believe the patch is ready to be merged with sage.",
    "created_at": "2011-05-30T11:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98800",
    "user": "https://github.com/sagetrac-lsampaio"
}
```

<div id="comment:2" align="right">comment:2</div>

Attachment: **[trac_10497.patch.gz](https://github.com/sagemath/sage/files/ticket10497/trac_10497.patch.gz)**

I reviwed the patch and its correct and working fine. 
On the other hand, I compared the performances of the previous algorithm and the constraint generation in some examples and the second seemed to be always slower than the first. So I am not sure of why to keep the constraint generation as the default algorithm.
Besides this, I believe the patch is ready to be merged with sage.



---

archive/issue_comments_098801.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nOh.. On which graphs did you test them ? Could you provide them, or the timings ?\n\nThanks !\n\nNathann",
    "created_at": "2011-05-30T11:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98801",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:3" align="right">comment:3</div>

Oh.. On which graphs did you test them ? Could you provide them, or the timings ?

Thanks !

Nathann



---

archive/issue_comments_098802.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nOk, here are some of the graphs in which I've been testing the algorithms, and the corresponding timings:\n\n#Random GNP with 30 vertices and p = 0.3 (density 0.31)\n\nsage: g = graphs.RandomGNP(30, .3)\nsage: g.density()\n136/435\nsage: %timeit g.traveling_salesman_problem(constraint_generation = True)\n25 loops, best of 3: 35 ms per loop\nsage: %timeit g.traveling_salesman_problem(constraint_generation = False)\n5 loops, best of 3: 184 ms per loop\n\n\n#Random GNP with 30 vertices and p = 0.5 (density 0.51)\n\nsage: g = graphs.RandomGNP(30, .5)\nsage: g.density()\n224/435\nsage: %timeit g.traveling_salesman_problem(constraint_generation = True)\n5 loops, best of 3: 101 ms per loop\nsage: %timeit g.traveling_salesman_problem(constraint_generation = False)\n5 loops, best of 3: 396 ms per loop\n\n\n#Random GNP with 30 vertices and p = 0.7 (density 0.68)\n\nsage: g = graphs.RandomGNP(30, .7)\nsage: g.density()\n20/29\nsage: %timeit g.traveling_salesman_problem(constraint_generation = True)\n5 loops, best of 3: 574 ms per loop\nsage: %timeit g.traveling_salesman_problem(constraint_generation = False)\n5 loops, best of 3: 621 ms per loop\n\n\n#Complete multipartite graph with 4 parts of size 10 each(density = 0.77)\n\nsage: g = graphs.CompleteMultipartiteGraph([10, 10, 10, 10])\nsage: g.density()\n10/13 # = 0.77\nsage: %timeit g.traveling_salesman_problem(constraint_generation = True)\n5 loops, best of 3: 6.03 s per loop\nsage: %timeit g.traveling_salesman_problem(constraint_generation = False)\n5 loops, best of 3: 1.96 s per loop\n\n\n#Complete graph on 30 vertices (density = 1)\n\nsage: g = graphs.CompleteGraph(30)\nsage: g.density()\n1\nsage: %timeit g.traveling_salesman_problem(constraint_generation = True)\n5 loops, best of 3: 4.76 s per loop\nsage: %timeit g.traveling_salesman_problem(constraint_generation = False)\n5 loops, best of 3: 870 ms per loop\n\n\nIts clear that as the graph becomes very dense, constraint_generation tends to be much slower.\nWhat we could do is to check the density of the graph before in order to decide which algorithm use, when no algorithm was specified in the function call.\nIn my opinion the best would be to use constraint generation when density is smaller than 0.7 and use the other algorithm otherwise.",
    "created_at": "2011-05-30T13:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98802",
    "user": "https://github.com/sagetrac-lsampaio"
}
```

<div id="comment:4" align="right">comment:4</div>

Ok, here are some of the graphs in which I've been testing the algorithms, and the corresponding timings:

#Random GNP with 30 vertices and p = 0.3 (density 0.31)

sage: g = graphs.RandomGNP(30, .3)
sage: g.density()
136/435
sage: %timeit g.traveling_salesman_problem(constraint_generation = True)
25 loops, best of 3: 35 ms per loop
sage: %timeit g.traveling_salesman_problem(constraint_generation = False)
5 loops, best of 3: 184 ms per loop


#Random GNP with 30 vertices and p = 0.5 (density 0.51)

sage: g = graphs.RandomGNP(30, .5)
sage: g.density()
224/435
sage: %timeit g.traveling_salesman_problem(constraint_generation = True)
5 loops, best of 3: 101 ms per loop
sage: %timeit g.traveling_salesman_problem(constraint_generation = False)
5 loops, best of 3: 396 ms per loop


#Random GNP with 30 vertices and p = 0.7 (density 0.68)

sage: g = graphs.RandomGNP(30, .7)
sage: g.density()
20/29
sage: %timeit g.traveling_salesman_problem(constraint_generation = True)
5 loops, best of 3: 574 ms per loop
sage: %timeit g.traveling_salesman_problem(constraint_generation = False)
5 loops, best of 3: 621 ms per loop


#Complete multipartite graph with 4 parts of size 10 each(density = 0.77)

sage: g = graphs.CompleteMultipartiteGraph([10, 10, 10, 10])
sage: g.density()
10/13 # = 0.77
sage: %timeit g.traveling_salesman_problem(constraint_generation = True)
5 loops, best of 3: 6.03 s per loop
sage: %timeit g.traveling_salesman_problem(constraint_generation = False)
5 loops, best of 3: 1.96 s per loop


#Complete graph on 30 vertices (density = 1)

sage: g = graphs.CompleteGraph(30)
sage: g.density()
1
sage: %timeit g.traveling_salesman_problem(constraint_generation = True)
5 loops, best of 3: 4.76 s per loop
sage: %timeit g.traveling_salesman_problem(constraint_generation = False)
5 loops, best of 3: 870 ms per loop


Its clear that as the graph becomes very dense, constraint_generation tends to be much slower.
What we could do is to check the density of the graph before in order to decide which algorithm use, when no algorithm was specified in the function call.
In my opinion the best would be to use constraint generation when density is smaller than 0.7 and use the other algorithm otherwise.



---

archive/issue_comments_098803.json:
```json
{
    "body": "Attachment: **[trac_10497-density.patch.gz](https://github.com/sagemath/sage/files/ticket10497/trac_10497-density.patch.gz)**",
    "created_at": "2011-05-30T13:36:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98803",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_10497-density.patch.gz](https://github.com/sagemath/sage/files/ticket10497/trac_10497-density.patch.gz)**



---

archive/issue_comments_098804.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nPerfectly right !\n\nHere is a new patch to add on top of the former `:-)`\n\nNathann",
    "created_at": "2011-05-30T13:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98804",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

Perfectly right !

Here is a new patch to add on top of the former `:-)`

Nathann



---

archive/issue_comments_098805.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,7 @@\n \n Requires:\n * #10044\n+\n+Apply:\n+* [attachment: trac_10497.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497.patch.gz)\n+* [attachment: trac_10497-density.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497-density.patch.gz)\n``````\n",
    "created_at": "2011-05-30T13:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98805",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,7 @@
 
 Requires:
 * #10044
+
+Apply:
+* [attachment: trac_10497.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497.patch.gz)
+* [attachment: trac_10497-density.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497-density.patch.gz)
``````




---

archive/issue_comments_098806.json:
```json
{
    "body": "Reviewer: **Leonardo Sampaio**",
    "created_at": "2011-08-04T07:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98806",
    "user": "https://github.com/sagetrac-lsampaio"
}
```

Reviewer: **Leonardo Sampaio**



---

archive/issue_comments_098807.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIn my opinion the patch is ready to be merged to sage =)",
    "created_at": "2011-08-04T07:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98807",
    "user": "https://github.com/sagetrac-lsampaio"
}
```

<div id="comment:6" align="right">comment:6</div>

In my opinion the patch is ready to be merged to sage =)



---

archive/issue_events_137832.json:
```json
{
    "actor": "https://github.com/sagetrac-lsampaio",
    "created_at": "2011-08-04T07:52:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137832"
}
```



---

archive/issue_events_137833.json:
```json
{
    "actor": "https://github.com/sagetrac-lsampaio",
    "created_at": "2011-08-04T07:52:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137833"
}
```



---

archive/issue_comments_098808.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nWouhouuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu !!!!",
    "created_at": "2011-08-04T07:53:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98808",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

Wouhouuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu !!!!



---

archive/issue_comments_098809.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,9 +2,6 @@\n \n This patch adds another way to compute through LP a hamiltonian cycle.\n \n-Requires:\n-* #10044\n-\n Apply:\n * [attachment: trac_10497.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497.patch.gz)\n * [attachment: trac_10497-density.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497-density.patch.gz)\n``````\n",
    "created_at": "2011-08-05T09:04:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98809",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,9 +2,6 @@
 
 This patch adds another way to compute through LP a hamiltonian cycle.
 
-Requires:
-* #10044
-
 Apply:
 * [attachment: trac_10497.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497.patch.gz)
 * [attachment: trac_10497-density.patch](https://github.com/sagemath/sage/files/ticket10497/trac_10497-density.patch.gz)
``````




---

archive/issue_comments_098810.json:
```json
{
    "body": "Dependencies: **#10044**",
    "created_at": "2011-08-05T09:04:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98810",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#10044**



---

archive/issue_events_137834.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-05T09:04:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137834"
}
```



---

archive/issue_events_137835.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-05T09:04:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137835"
}
```



---

archive/issue_comments_098811.json:
```json
{
    "body": "Merged: **sage-4.7.2.alpha2**",
    "created_at": "2011-08-18T22:01:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98811",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.2.alpha2**



---

archive/issue_events_137836.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-18T22:01:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137836"
}
```



---

archive/issue_events_137837.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-18T22:01:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10497#event-137837"
}
```



---

archive/issue_comments_098812.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWhy have you changed \"Hamiltonian\" to \"hamiltonian\"? And why have you added French in the docstring?",
    "created_at": "2012-05-13T19:09:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98812",
    "user": "https://github.com/kini"
}
```

<div id="comment:10" align="right">comment:10</div>

Why have you changed "Hamiltonian" to "hamiltonian"? And why have you added French in the docstring?



---

archive/issue_comments_098813.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIn this 9months old patch ? `O_o`\n\nNo idea `O_o`\n\nThough if I remember correctly the french lines have been removed recently in an unrelated patch by David Coudert `:-D`\n\nit meant \"with constraint generation\" and \"without constraint generation\". I should have changed it before sending the patch but probably forgot `:-)`\n\nNathann",
    "created_at": "2012-05-13T19:13:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98813",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

In this 9months old patch ? `O_o`

No idea `O_o`

Though if I remember correctly the french lines have been removed recently in an unrelated patch by David Coudert `:-D`

it meant "with constraint generation" and "without constraint generation". I should have changed it before sending the patch but probably forgot `:-)`

Nathann



---

archive/issue_comments_098814.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI noticed only because your patch at #12942 somehow breaks these doctests, it seems... o_O",
    "created_at": "2012-05-13T19:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98814",
    "user": "https://github.com/kini"
}
```

<div id="comment:12" align="right">comment:12</div>

I noticed only because your patch at #12942 somehow breaks these doctests, it seems... o_O



---

archive/issue_comments_098815.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOh, of course - you changed the default parameters of `traveling_salesman_problem()` in your patch for #12942, that's why.",
    "created_at": "2012-05-13T19:18:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98815",
    "user": "https://github.com/kini"
}
```

<div id="comment:13" align="right">comment:13</div>

Oh, of course - you changed the default parameters of `traveling_salesman_problem()` in your patch for #12942, that's why.



---

archive/issue_comments_098816.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nOh yeah, that's because the doc said one parameter was the default even though it was not, and because a sentence stopped in the middle of something for some reason `O_o`\n\nNathann",
    "created_at": "2012-05-13T19:20:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98816",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:14" align="right">comment:14</div>

Oh yeah, that's because the doc said one parameter was the default even though it was not, and because a sentence stopped in the middle of something for some reason `O_o`

Nathann



---

archive/issue_comments_098817.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nCan you refactor that change out into a followup to this ticket?",
    "created_at": "2012-05-13T19:22:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98817",
    "user": "https://github.com/kini"
}
```

<div id="comment:15" align="right">comment:15</div>

Can you refactor that change out into a followup to this ticket?



---

archive/issue_comments_098818.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n`O_o`\n\nWhat's the point ? This ticket it 9 months old, the function could have been touched 1000 times in the meantime, and the change is 2 lines long `O_o`\n\nNathann",
    "created_at": "2012-05-13T19:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98818",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

`O_o`

What's the point ? This ticket it 9 months old, the function could have been touched 1000 times in the meantime, and the change is 2 lines long `O_o`

Nathann



---

archive/issue_comments_098819.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nBy \"followup to this ticket\" I don't mean it needs to actually be based on this ticket, of course... just base it on Sage 5.0.rc1. Just for logical separation of changes it would be good to do cleanup of the traveling salesman problem in a different place than implementation of the Balaban 10-cage, surely...",
    "created_at": "2012-05-13T19:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98819",
    "user": "https://github.com/kini"
}
```

<div id="comment:17" align="right">comment:17</div>

By "followup to this ticket" I don't mean it needs to actually be based on this ticket, of course... just base it on Sage 5.0.rc1. Just for logical separation of changes it would be good to do cleanup of the traveling salesman problem in a different place than implementation of the Balaban 10-cage, surely...



---

archive/issue_comments_098820.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis ticket is now #12944, and #12942 has been updated. But I really think that it's just more work for anybody, and that those two lines did not deserve it `^^;`\n\nNathann",
    "created_at": "2012-05-13T19:39:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98820",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:18" align="right">comment:18</div>

This ticket is now #12944, and #12942 has been updated. But I really think that it's just more work for anybody, and that those two lines did not deserve it `^^;`

Nathann



---

archive/issue_comments_098821.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nSorry, I didn't think it would be so much trouble or I would have just done it myself... :( Thanks for doing it.",
    "created_at": "2012-05-13T19:47:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10497",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10497#issuecomment-98821",
    "user": "https://github.com/kini"
}
```

<div id="comment:19" align="right">comment:19</div>

Sorry, I didn't think it would be so much trouble or I would have just done it myself... :( Thanks for doing it.
