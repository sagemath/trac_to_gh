# Issue 10733: Faster echelon form code for matrix_modn_sparse

archive/issues_010670.json:
```json
{
    "assignees": [
        "https://github.com/williamstein"
    ],
    "body": "In the method `_echelon_in_place_classical` of `matrix_modn_sparse` there's this comment:\n\n```\nTODO: Implement switching to a dense method when the matrix gets\n      dense.\n```\nThat's what we will do in this ticket, by switching to linbox echelon form code when rows start to get non-dense.\n\nDepends on #10734\n\nReviewer: **William Stein, Gonzalo Tornar\u00eda**\n\nAuthor: **Gonzalo Tornar\u00eda, William Stein**\n\nComponent: **linear algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10733_\n\n",
    "created_at": "2011-02-03T01:24:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/pending",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Faster echelon form code for matrix_modn_sparse",
    "type": "issue",
    "updated_at": "2015-03-12T23:55:03Z",
    "url": "https://github.com/sagemath/sage/issues/10733",
    "user": "https://github.com/tornaria"
}
```
In the method `_echelon_in_place_classical` of `matrix_modn_sparse` there's this comment:

```
TODO: Implement switching to a dense method when the matrix gets
      dense.
```
That's what we will do in this ticket, by switching to linbox echelon form code when rows start to get non-dense.

Depends on #10734

Reviewer: **William Stein, Gonzalo Tornaría**

Author: **Gonzalo Tornaría, William Stein**

Component: **linear algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/10733_





---

archive/issue_events_140281.json:
```json
{
    "actor": "https://github.com/tornaria",
    "created_at": "2011-02-03T01:24:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "c: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140281"
}
```



---

archive/issue_events_140282.json:
```json
{
    "actor": "https://github.com/tornaria",
    "created_at": "2011-02-03T01:24:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140282"
}
```



---

archive/issue_events_140283.json:
```json
{
    "actor": "https://github.com/tornaria",
    "created_at": "2011-02-03T01:24:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140283"
}
```



---

archive/issue_events_140284.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-02-03T01:24:25Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "subject": "https://github.com/tornaria",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140284"
}
```



---

archive/issue_comments_103072.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nNOTE: The patches in this ticket require #10734 to be applied first.",
    "created_at": "2011-02-03T01:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103072",
    "user": "https://github.com/tornaria"
}
```

<div id="comment:1" align="right">comment:1</div>

NOTE: The patches in this ticket require #10734 to be applied first.



---

archive/issue_events_140285.json:
```json
{
    "actor": "https://github.com/tornaria",
    "created_at": "2011-02-05T23:02:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140285"
}
```



---

archive/issue_comments_103073.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThere are no doctests to illustrate the new functionality added by this patch.",
    "created_at": "2011-03-21T19:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103073",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:3" align="right">comment:3</div>

There are no doctests to illustrate the new functionality added by this patch.



---

archive/issue_events_140286.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-03-21T19:16:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140286"
}
```



---

archive/issue_events_140287.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-03-21T19:16:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140287"
}
```



---

archive/issue_comments_103074.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe patch doesn't add any new functionality.\n\nThe function didn't have a doctest before.\n\nI've attached a patch (to be applied in top of the other two) which adds a test for the sparse echelon form. The test takes about 20 seconds, so it's labeled as long.\n\nWhat the test does is to construct a 1000x1000 sparse matrix with density=1%, and compute the echelon form using different values for \"switch_density\", and also using the dense matrix echelon form method. Of course everything should give the same echelon form. I'm not sure if it makes sense to test with smaller matrices.\n\nIn any case, feel free to add more tests or modify the current one in any way you see fits.",
    "created_at": "2011-03-24T03:52:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103074",
    "user": "https://github.com/tornaria"
}
```

<div id="comment:4" align="right">comment:4</div>

The patch doesn't add any new functionality.

The function didn't have a doctest before.

I've attached a patch (to be applied in top of the other two) which adds a test for the sparse echelon form. The test takes about 20 seconds, so it's labeled as long.

What the test does is to construct a 1000x1000 sparse matrix with density=1%, and compute the echelon form using different values for "switch_density", and also using the dense matrix echelon form method. Of course everything should give the same echelon form. I'm not sure if it makes sense to test with smaller matrices.

In any case, feel free to add more tests or modify the current one in any way you see fits.



---

archive/issue_events_140288.json:
```json
{
    "actor": "https://github.com/tornaria",
    "created_at": "2011-03-24T03:52:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140288"
}
```



---

archive/issue_events_140289.json:
```json
{
    "actor": "https://github.com/tornaria",
    "created_at": "2011-03-24T03:52:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140289"
}
```



---

archive/issue_comments_103075.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI replaced the patch by a new version. In the new version, I copied the test twice, so it's always run for 100x100 matrices (5% density) and optionally (long) run for 1000x1000 matrices (1% density).\n\nThe test for 100x100 matrices takes about 0.1 s, so it's ok. I think it's still a useful test since it runs the algorithm switching to dense at several different columns.\n\nThe test for 1000x1000 takes about 25 s (I changed the modulus from 97 to 997) and it's still optional (long). Is that too long for a \"long\" test?",
    "created_at": "2011-03-24T04:01:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103075",
    "user": "https://github.com/tornaria"
}
```

<div id="comment:5" align="right">comment:5</div>

I replaced the patch by a new version. In the new version, I copied the test twice, so it's always run for 100x100 matrices (5% density) and optionally (long) run for 1000x1000 matrices (1% density).

The test for 100x100 matrices takes about 0.1 s, so it's ok. I think it's still a useful test since it runs the algorithm switching to dense at several different columns.

The test for 1000x1000 takes about 25 s (I changed the modulus from 97 to 997) and it's still optional (long). Is that too long for a "long" test?



---

archive/issue_comments_103076.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nPS: 500x500  with 1% density takes about 5s, so we may want to replace the 1000x1000 test by a 500x500 test (and still make it long time optional).",
    "created_at": "2011-03-24T04:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103076",
    "user": "https://github.com/tornaria"
}
```

<div id="comment:6" align="right">comment:6</div>

PS: 500x500  with 1% density takes about 5s, so we may want to replace the 1000x1000 test by a 500x500 test (and still make it long time optional).



---

archive/issue_events_140290.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-03-25T01:48:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140290"
}
```



---

archive/issue_comments_103077.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n       dense.\n ```\n That's what we will do in this ticket, by switching to linbox echelon form code when rows start to get non-dense.\n+\n+DEPENDS ON: #10734\n``````\n",
    "created_at": "2011-03-25T01:48:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103077",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
       dense.
 ```
 That's what we will do in this ticket, by switching to linbox echelon form code when rows start to get non-dense.
+
+DEPENDS ON: #10734
``````




---

archive/issue_comments_103078.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nREVIEW:\n\nAnnoyingly, there are issues when the modulus is 2, e.g.:\n\n```\nsage -t  sage/coding/linear_code.py\n**********************************************************************\nFile \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/devel/sage-main/sage/coding/linear_code.py\", line 1523:\n    sage: C.is_permutation_automorphism(g)\nException raised:\n    Traceback (most recent call last):\n      File \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_31[10]>\", line 1, in <module>\n        C.is_permutation_automorphism(g)###line 1523:\n    sage: C.is_permutation_automorphism(g)\n      File \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/lib/python/site-packages/sage/coding/linear_code.py\", line 1532, in is_permutation_automorphism\n        HGm = H*g.matrix()\n      File \"element.pyx\", line 2282, in sage.structure.element.Matrix.__mul__ (sage/structure/element.c:15874)\n      File \"coerce.pyx\", line 709, in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:6368)\n      File \"action.pyx\", line 144, in sage.matrix.action.MatrixMatrixAction._call_ (sage/matrix/action.c:2818)\n      File \"matrix_modn_sparse.pyx\", line 683, in sage.matrix.matrix_modn_sparse.Matrix_modn_sparse.dense_matrix (sage/matrix/matrix_modn_sparse.c:11767)\n    TypeError: Cannot convert sage.matrix.matrix_mod2_dense.Matrix_mod2_dense to sage.matrix.matrix_modn_dense.Matrix_modn_dense\n**********************************************************************\n```\n\nand\n\n```\nsage -t  sage/homology/cell_complex.py\n**********************************************************************\nFile \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/devel/sage-main/sage/homology/cell_complex.py\", line 456:\n    sage: P.homology(base_ring=GF(2))\nException raised:\n    Traceback (most recent call last):\n      File \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_15[4]>\", line 1, in <module>\n        P.homology(base_ring=GF(Integer(2)))###line 456:\n    sage: P.homology(base_ring=GF(2))\n      File \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/lib/python/site-packages/sage/homology/cell_complex.py\", line 552, in homology\n        dimensions=dims, **kwds)\n      File \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/lib/python/site-packages/sage/homology/delta_complex.py\", line 662, in chain_complex\n        return ChainComplex(data=differentials, degree=-1, **kwds)\n      File \"/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/lib/python/site-packages/sage/homology/chain_complex.py\", line 462, in __init__\n        raise TypeError, \"The differentials d_{%s} and d_{%s} are not compatible: their product is not defined.\" % (n, n+degree)\n    TypeError: The differentials d_{1} and d_{0} are not compatible: their product is not defined.\n```\n\nThe result of running the whole test suite:\n\n```\n\n\n```\n\n\nHere is another style comment.  In Cython now doing\n\n```\nfor c from 0 <= c < self._ncols:\n```\nis *identical* to doing:\n\n```\nfor c in range(self._ncols):\n```\n\n\nOtherwise, everything looks great, and this is going to be *extremeley* useful for my research!!",
    "created_at": "2011-03-25T02:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103078",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:8" align="right">comment:8</div>

REVIEW:

Annoyingly, there are issues when the modulus is 2, e.g.:

```
sage -t  sage/coding/linear_code.py
**********************************************************************
File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/devel/sage-main/sage/coding/linear_code.py", line 1523:
    sage: C.is_permutation_automorphism(g)
Exception raised:
    Traceback (most recent call last):
      File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_31[10]>", line 1, in <module>
        C.is_permutation_automorphism(g)###line 1523:
    sage: C.is_permutation_automorphism(g)
      File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/lib/python/site-packages/sage/coding/linear_code.py", line 1532, in is_permutation_automorphism
        HGm = H*g.matrix()
      File "element.pyx", line 2282, in sage.structure.element.Matrix.__mul__ (sage/structure/element.c:15874)
      File "coerce.pyx", line 709, in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:6368)
      File "action.pyx", line 144, in sage.matrix.action.MatrixMatrixAction._call_ (sage/matrix/action.c:2818)
      File "matrix_modn_sparse.pyx", line 683, in sage.matrix.matrix_modn_sparse.Matrix_modn_sparse.dense_matrix (sage/matrix/matrix_modn_sparse.c:11767)
    TypeError: Cannot convert sage.matrix.matrix_mod2_dense.Matrix_mod2_dense to sage.matrix.matrix_modn_dense.Matrix_modn_dense
**********************************************************************
```

and

```
sage -t  sage/homology/cell_complex.py
**********************************************************************
File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/devel/sage-main/sage/homology/cell_complex.py", line 456:
    sage: P.homology(base_ring=GF(2))
Exception raised:
    Traceback (most recent call last):
      File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_15[4]>", line 1, in <module>
        P.homology(base_ring=GF(Integer(2)))###line 456:
    sage: P.homology(base_ring=GF(2))
      File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/lib/python/site-packages/sage/homology/cell_complex.py", line 552, in homology
        dimensions=dims, **kwds)
      File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/lib/python/site-packages/sage/homology/delta_complex.py", line 662, in chain_complex
        return ChainComplex(data=differentials, degree=-1, **kwds)
      File "/tmp/wstein/sage-4.7.alpha3-sage.math.washington.edu-x86_64-Linux/local/lib/python/site-packages/sage/homology/chain_complex.py", line 462, in __init__
        raise TypeError, "The differentials d_{%s} and d_{%s} are not compatible: their product is not defined." % (n, n+degree)
    TypeError: The differentials d_{1} and d_{0} are not compatible: their product is not defined.
```

The result of running the whole test suite:

```


```


Here is another style comment.  In Cython now doing

```
for c from 0 <= c < self._ncols:
```
is *identical* to doing:

```
for c in range(self._ncols):
```


Otherwise, everything looks great, and this is going to be *extremeley* useful for my research!!



---

archive/issue_events_140291.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-03-25T02:03:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140291"
}
```



---

archive/issue_events_140292.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-03-25T02:03:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140292"
}
```



---

archive/issue_comments_103079.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nOh, here are the files with failures:\n\n```\n\n \n----------------------------------------------------------------------\n\nThe following tests failed:\n\n\tsage -t  devel/sage-main/sage/modular/modsym/ambient.py # 4 doctests failed\n\tsage -t  devel/sage-main/sage/matrix/matrix_space.py # 1 doctests failed\n\tsage -t  devel/sage-main/sage/coding/linear_code.py # 2 doctests failed\n\tsage -t  devel/sage-main/sage/rings/polynomial/pbori.pyx # 1 doctests failed\n\tsage -t  devel/sage-main/sage/homology/cell_complex.py # 2 doctests failed\n\tsage -t  devel/sage-main/sage/homology/examples.py # 2 doctests failed\n\tsage -t  devel/sage-main/sage/homology/delta_complex.py # 3 doctests failed\n----------------------------------------------------------------------\nTimings have been updated.\nTotal time for all tests: 328.6 seconds\n```\n\nIt's all p=2 weirdness, I suspect.",
    "created_at": "2011-03-25T02:04:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103079",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:10" align="right">comment:10</div>

Oh, here are the files with failures:

```

 
----------------------------------------------------------------------

The following tests failed:

	sage -t  devel/sage-main/sage/modular/modsym/ambient.py # 4 doctests failed
	sage -t  devel/sage-main/sage/matrix/matrix_space.py # 1 doctests failed
	sage -t  devel/sage-main/sage/coding/linear_code.py # 2 doctests failed
	sage -t  devel/sage-main/sage/rings/polynomial/pbori.pyx # 1 doctests failed
	sage -t  devel/sage-main/sage/homology/cell_complex.py # 2 doctests failed
	sage -t  devel/sage-main/sage/homology/examples.py # 2 doctests failed
	sage -t  devel/sage-main/sage/homology/delta_complex.py # 3 doctests failed
----------------------------------------------------------------------
Timings have been updated.
Total time for all tests: 328.6 seconds
```

It's all p=2 weirdness, I suspect.



---

archive/issue_comments_103080.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nComment: I haven't run the full test suite yet -- will report back later...",
    "created_at": "2011-04-08T06:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103080",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:11" align="right">comment:11</div>

Comment: I haven't run the full test suite yet -- will report back later...



---

archive/issue_comments_103081.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nTest suite run and it fully passes for me.   Gonzalo (say) needs to review patch 4 and then this can get a positive review.",
    "created_at": "2011-04-08T15:37:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103081",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:12" align="right">comment:12</div>

Test suite run and it fully passes for me.   Gonzalo (say) needs to review patch 4 and then this can get a positive review.



---

archive/issue_events_140293.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-04-08T15:37:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140293"
}
```



---

archive/issue_events_140294.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-04-08T15:37:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140294"
}
```



---

archive/issue_comments_103082.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI reviewed the new patch and ran the test suite, which passes for me as well.\n\nThe problematic method was `Matrix_modn_sparse.set_block_unsafe(..., Matrix_modn_dense m)` which is meant to set a block of a sparse matrix given by a dense matrix. But for mod 2, the dense matrices are implemented by a different class (`Matrix_mod2_dense`) so calls to `set_block_unsafe` will fail. What the reviewer patch does is to factor out a common superclass for both `Matrix_mod_dense` which can be used in the implementation of `set_block_unsafe`.\n\nI noticed that computing echelon form for a sparse mod2 matrix is much slower than converting the matrix to dense and using echelon form (which uses M4RI and is quite fast). Thus, it could make sense to reimplement sparse mod2 echelon form via conversion to dense. However, note that conversion from mod2 dense to mod2 sparse is quite slow currently.\n\nIn spite of the above comment, I'm giving positive review to patch 4 based on:\n- the code works properly for mod2 sparse matrices, so no functionality regression.\n- it runs definitely faster than what we had before for sparse matrices, so no performance regression.\nSince this ticket gives significant improvements for larger modulus, it's important that we merge it even if it's not the best we could do for the modulus 2.",
    "created_at": "2011-04-08T18:19:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103082",
    "user": "https://github.com/tornaria"
}
```

<div id="comment:13" align="right">comment:13</div>

I reviewed the new patch and ran the test suite, which passes for me as well.

The problematic method was `Matrix_modn_sparse.set_block_unsafe(..., Matrix_modn_dense m)` which is meant to set a block of a sparse matrix given by a dense matrix. But for mod 2, the dense matrices are implemented by a different class (`Matrix_mod2_dense`) so calls to `set_block_unsafe` will fail. What the reviewer patch does is to factor out a common superclass for both `Matrix_mod_dense` which can be used in the implementation of `set_block_unsafe`.

I noticed that computing echelon form for a sparse mod2 matrix is much slower than converting the matrix to dense and using echelon form (which uses M4RI and is quite fast). Thus, it could make sense to reimplement sparse mod2 echelon form via conversion to dense. However, note that conversion from mod2 dense to mod2 sparse is quite slow currently.

In spite of the above comment, I'm giving positive review to patch 4 based on:
- the code works properly for mod2 sparse matrices, so no functionality regression.
- it runs definitely faster than what we had before for sparse matrices, so no performance regression.
Since this ticket gives significant improvements for larger modulus, it's important that we merge it even if it's not the best we could do for the modulus 2.



---

archive/issue_events_140295.json:
```json
{
    "actor": "https://github.com/tornaria",
    "created_at": "2011-04-08T18:19:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140295"
}
```



---

archive/issue_events_140296.json:
```json
{
    "actor": "https://github.com/tornaria",
    "created_at": "2011-04-08T18:19:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140296"
}
```



---

archive/issue_comments_103083.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nFor the record, this is what I think could be used for mod2 sparse via dense:\n\n```\n   dense = self.dense_matrix()\n   dense.echelonize()\n   self.set_block_unsafe(0, 0, dense)\n```\nThe last step does the conversion from dense to sparse, and it's way faster than calling dense.matrix_sparse(), but it's still slow.",
    "created_at": "2011-04-08T18:34:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103083",
    "user": "https://github.com/tornaria"
}
```

<div id="comment:14" align="right">comment:14</div>

For the record, this is what I think could be used for mod2 sparse via dense:

```
   dense = self.dense_matrix()
   dense.echelonize()
   self.set_block_unsafe(0, 0, dense)
```
The last step does the conversion from dense to sparse, and it's way faster than calling dense.matrix_sparse(), but it's still slow.



---

archive/issue_comments_103084.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI added two more patches to the sequence:\n\n- trac_10733.05: adds a doctest for the case of mod2, because it is using different code it's worth testing separately\n- trac_10733.06: adds a special case to the method for the case when \"switch_density\" is 0.\n\nThe latter basically implements what I suggested in my last comment as part of the `_echelon_in_place_classical()` method. As is now, the default for \"switch_density\" is always 0.1 so this code would not be normally used. But if one explicitly uses \"switch_density=0\", then the method will run faster after this patch. And for the case of mod 2, it seems that it could indeed be faster to use switch_density=0 instead of the default 0.1.\n\nI guess these two patches need to go back to review, although trac doesn't give me the option of changing the status to needs_review...",
    "created_at": "2011-04-08T19:22:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103084",
    "user": "https://github.com/tornaria"
}
```

<div id="comment:15" align="right">comment:15</div>

I added two more patches to the sequence:

- trac_10733.05: adds a doctest for the case of mod2, because it is using different code it's worth testing separately
- trac_10733.06: adds a special case to the method for the case when "switch_density" is 0.

The latter basically implements what I suggested in my last comment as part of the `_echelon_in_place_classical()` method. As is now, the default for "switch_density" is always 0.1 so this code would not be normally used. But if one explicitly uses "switch_density=0", then the method will run faster after this patch. And for the case of mod 2, it seems that it could indeed be faster to use switch_density=0 instead of the default 0.1.

I guess these two patches need to go back to review, although trac doesn't give me the option of changing the status to needs_review...



---

archive/issue_comments_103085.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nNote that the \"switch_density=0\" case is already tested by the doctests so there's no need to add another doctest after patch 06.",
    "created_at": "2011-04-08T19:26:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103085",
    "user": "https://github.com/tornaria"
}
```

<div id="comment:16" align="right">comment:16</div>

Note that the "switch_density=0" case is already tested by the doctests so there's no need to add another doctest after patch 06.



---

archive/issue_comments_103086.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nPositive review (on the two extra little patches added, hence everything)!",
    "created_at": "2011-04-08T19:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103086",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:17" align="right">comment:17</div>

Positive review (on the two extra little patches added, hence everything)!



---

archive/issue_events_140297.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-13T07:46:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140297"
}
```



---

archive/issue_events_140298.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-13T07:46:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140298"
}
```



---

archive/issue_events_140299.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-20T15:06:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140299"
}
```



---

archive/issue_events_140300.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-20T15:06:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/feature",
    "label_color": "008080",
    "label_name": "feature",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140300"
}
```



---

archive/issue_comments_103087.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nMoving the milestone since this depends on a non-positively-reviewed ticket.",
    "created_at": "2011-04-20T15:06:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103087",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

Moving the milestone since this depends on a non-positively-reviewed ticket.



---

archive/issue_comments_103088.json:
```json
{
    "body": "Dependencies: **#10734**",
    "created_at": "2011-05-27T07:51:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103088",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#10734**



---

archive/issue_comments_103089.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,5 +5,3 @@\n       dense.\n ```\n That's what we will do in this ticket, by switching to linbox echelon form code when rows start to get non-dense.\n-\n-DEPENDS ON: #10734\n``````\n",
    "created_at": "2011-05-27T07:51:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103089",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,5 +5,3 @@
       dense.
 ```
 That's what we will do in this ticket, by switching to linbox echelon form code when rows start to get non-dense.
-
-DEPENDS ON: #10734
``````




---

archive/issue_events_140301.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-10T08:40:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/feature",
    "label_color": "008080",
    "label_name": "feature",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140301"
}
```



---

archive/issue_events_140302.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-10T08:40:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140302"
}
```



---

archive/issue_comments_103090.json:
```json
{
    "body": "Attachment: **[trac_10733.01-echelon_better_verbose.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.01-echelon_better_verbose.gz)**\n\nImprove verbose logging of echelon_in_place_classical",
    "created_at": "2011-06-13T18:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103090",
    "user": "https://github.com/tornaria"
}
```

Attachment: **[trac_10733.01-echelon_better_verbose.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.01-echelon_better_verbose.gz)**

Improve verbose logging of echelon_in_place_classical



---

archive/issue_comments_103091.json:
```json
{
    "body": "Make matrix modn sparse echelon form way faster by switching to dense linbox at a good time when the matrix gets too dense",
    "created_at": "2011-06-13T18:33:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103091",
    "user": "https://github.com/tornaria"
}
```

Make matrix modn sparse echelon form way faster by switching to dense linbox at a good time when the matrix gets too dense



---

archive/issue_comments_103092.json:
```json
{
    "body": "Attachment: **[trac_10733.02-echelon_make_faster.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.02-echelon_make_faster.gz)**\n\nAttachment: **[trac_10733.03-documentation.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.03-documentation.gz)**\n\nAdd a test for matrix_modn_sparse._echelon_in_place_classical",
    "created_at": "2011-06-13T18:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103092",
    "user": "https://github.com/tornaria"
}
```

Attachment: **[trac_10733.02-echelon_make_faster.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.02-echelon_make_faster.gz)**

Attachment: **[trac_10733.03-documentation.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.03-documentation.gz)**

Add a test for matrix_modn_sparse._echelon_in_place_classical



---

archive/issue_comments_103093.json:
```json
{
    "body": "Attachment: **[trac_10733.04-referee_refactor_to_support_p2.2.patch.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.04-referee_refactor_to_support_p2.2.patch.gz)**\n\nrefactor code to support p=2 case (part 2)",
    "created_at": "2011-06-13T18:35:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103093",
    "user": "https://github.com/tornaria"
}
```

Attachment: **[trac_10733.04-referee_refactor_to_support_p2.2.patch.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.04-referee_refactor_to_support_p2.2.patch.gz)**

refactor code to support p=2 case (part 2)



---

archive/issue_comments_103094.json:
```json
{
    "body": "Attachment: **[trac_10733.05-doctest_mod2.patch.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.05-doctest_mod2.patch.gz)**\n\nAdd testing for echelonize of mod2 sparse matrices",
    "created_at": "2011-06-13T18:36:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103094",
    "user": "https://github.com/tornaria"
}
```

Attachment: **[trac_10733.05-doctest_mod2.patch.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.05-doctest_mod2.patch.gz)**

Add testing for echelonize of mod2 sparse matrices



---

archive/issue_comments_103095.json:
```json
{
    "body": "Attachment: **[trac_10733.06-fastpath_for_strictly_dense_method.patch.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.06-fastpath_for_strictly_dense_method.patch.gz)**\n\nImplement a fast path for strictly using a dense method (could be useful for mod2)",
    "created_at": "2011-06-13T18:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103095",
    "user": "https://github.com/tornaria"
}
```

Attachment: **[trac_10733.06-fastpath_for_strictly_dense_method.patch.gz](https://github.com/sagemath/sage/files/ticket10733/trac_10733.06-fastpath_for_strictly_dense_method.patch.gz)**

Implement a fast path for strictly using a dense method (could be useful for mod2)



---

archive/issue_comments_103096.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI've reuploaded all the patches with the right format (see #10734).\n\nAlso, I moved part of the referee patch to #10734, otherwise some doctests would fail if that ticket is merged without the current one.\n\nThere's no new code at all, so I assume the positive review is still valid.\n\n---\n\nOTOH, I screwed up filenames because (a) I made a mistake uploading one patch (b) I don't have permissions to delete incorrectly uploaded patches (c) I don't have permissions to replace the referee patch.\n\nWhoever has the rights, what needs to be done is:\na. delete attachment  trac_10733.2.03-documentation (uploaded by mistake)\nb. delete the original referee patch trac_10733.04-referee_refactor_to_support_p2.patch, and replace it by the new trac_10733.04-referee_refactor_to_support_p2.2.patch\n\nAfter those two changes, the six patches are applied one after other in numerical order.",
    "created_at": "2011-06-13T18:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103096",
    "user": "https://github.com/tornaria"
}
```

<div id="comment:22" align="right">comment:22</div>

I've reuploaded all the patches with the right format (see #10734).

Also, I moved part of the referee patch to #10734, otherwise some doctests would fail if that ticket is merged without the current one.

There's no new code at all, so I assume the positive review is still valid.

---

OTOH, I screwed up filenames because (a) I made a mistake uploading one patch (b) I don't have permissions to delete incorrectly uploaded patches (c) I don't have permissions to replace the referee patch.

Whoever has the rights, what needs to be done is:
a. delete attachment  trac_10733.2.03-documentation (uploaded by mistake)
b. delete the original referee patch trac_10733.04-referee_refactor_to_support_p2.patch, and replace it by the new trac_10733.04-referee_refactor_to_support_p2.2.patch

After those two changes, the six patches are applied one after other in numerical order.



---

archive/issue_comments_103097.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\napply trac_10733.01-echelon_better_verbose, trac_10733.02-echelon_make_faster, trac_10733.03-documentation, trac_10733.04-referee_refactor_to_support_p2.2.patch, trac_10733.05-doctest_mod2.patch, trac_10733.06-fastpath_for_strictly_dense_method.patch",
    "created_at": "2011-06-15T12:55:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103097",
    "user": "https://github.com/tornaria"
}
```

<div id="comment:23" align="right">comment:23</div>

apply trac_10733.01-echelon_better_verbose, trac_10733.02-echelon_make_faster, trac_10733.03-documentation, trac_10733.04-referee_refactor_to_support_p2.2.patch, trac_10733.05-doctest_mod2.patch, trac_10733.06-fastpath_for_strictly_dense_method.patch



---

archive/issue_comments_103098.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nPlease fill in your real name as Reviewer.",
    "created_at": "2012-07-27T20:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103098",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Please fill in your real name as Reviewer.



---

archive/issue_comments_103099.json:
```json
{
    "body": "Changed author from **Gonzalo Tornaria** to **Gonzalo Tornar\u00eda, William Stein**",
    "created_at": "2013-12-20T17:58:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103099",
    "user": "https://github.com/vbraun"
}
```

Changed author from **Gonzalo Tornaria** to **Gonzalo Tornaría, William Stein**



---

archive/issue_comments_103100.json:
```json
{
    "body": "Reviewer: **William Stein, Gonzalo Tornar\u00eda**",
    "created_at": "2013-12-20T17:58:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103100",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **William Stein, Gonzalo Tornaría**



---

archive/issue_comments_103101.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI'm setting this to needs works since its not a git branch.",
    "created_at": "2015-03-12T23:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10733#issuecomment-103101",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:26" align="right">comment:26</div>

I'm setting this to needs works since its not a git branch.



---

archive/issue_events_140303.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-12T23:55:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140303"
}
```



---

archive/issue_events_140304.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-03-12T23:55:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10733",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10733#event-140304"
}
```
