# Issue 10830: Make pari support SAGE_SPKG_INSTALL_DOCS

archive/issues_010764.json:
```json
{
    "body": "This ticket implements #10823 for pari. New spkg at  \u00a0http://sage.math.washington.edu/home/jason/spkg-docs/pari-2.4.3.alpha.p6.spkg\n\n\n**Reviewer:** Dima Pasechnik\n\nIssue created by migration from https://trac.sagemath.org/ticket/10830\n\n",
    "closed_at": "2021-12-03T18:41:01Z",
    "created_at": "2011-02-23T01:54:42Z",
    "labels": [
        "component: packages: standard",
        "enhancement",
        "invalid"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Make pari support SAGE_SPKG_INSTALL_DOCS",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10830",
    "user": "https://github.com/jasongrout"
}
```
This ticket implements #10823 for pari. New spkg at   http://sage.math.washington.edu/home/jason/spkg-docs/pari-2.4.3.alpha.p6.spkg


**Reviewer:** Dima Pasechnik

Issue created by migration from https://trac.sagemath.org/ticket/10830





---

archive/issue_comments_133524.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2011-02-23T01:55:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133524",
    "user": "https://github.com/jasongrout"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_133525.json:
```json
{
    "body": "<a id='comment:2'></a>\nSee comments on #10828",
    "created_at": "2011-03-01T15:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133525",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:2'></a>
See comments on #10828



---

archive/issue_comments_133526.json:
```json
{
    "body": "**Reviewer:** David Kirkby",
    "created_at": "2011-03-01T15:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133526",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Reviewer:** David Kirkby



---

archive/issue_comments_133527.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2011-03-01T15:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133527",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Changing status** from needs_review to needs_work.



---

archive/attachments_014191.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "10830.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket10830/10830.patch",
    "created_at": "2011-03-01T18:21:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jasongrout"
}
```



---

archive/issue_comments_133528.json:
```json
{
    "body": "FYI Only---already applied to spkg.",
    "created_at": "2011-03-01T18:21:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133528",
    "user": "https://github.com/jasongrout"
}
```

FYI Only---already applied to spkg.



---

archive/issue_comments_133529.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2011-03-01T18:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133529",
    "user": "https://github.com/jasongrout"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_133530.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew spkg up.",
    "created_at": "2011-03-01T18:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133530",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:3'></a>
New spkg up.



---

archive/issue_comments_133531.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,2 +1,2 @@\n-This ticket implements #10823 for pari. New spkg at  \u00a0http://sage.math.washington.edu/home/jason/pari-2.4.3.alpha.p1.spkg\n+This ticket implements #10823 for pari. New spkg at  \u00a0http://sage.math.washington.edu/home/jason/spkg-docs/pari-2.4.3.alpha.p6.spkg\n \n``````\n",
    "created_at": "2011-03-01T18:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133531",
    "user": "https://github.com/jasongrout"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,2 +1,2 @@
-This ticket implements #10823 for pari. New spkg at   http://sage.math.washington.edu/home/jason/pari-2.4.3.alpha.p1.spkg
+This ticket implements #10823 for pari. New spkg at   http://sage.math.washington.edu/home/jason/spkg-docs/pari-2.4.3.alpha.p6.spkg
 
``````




---

archive/issue_comments_133532.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe '-r' is unnecessary on the 'cp' command. \n\nI think I know what you are trying to achieve, but be warned this syntax would never work if there were pdf files in sub-directories. Luckily in this case there are not, so a simple 'cp', with no options, will do. \n\nIf there were however any PDFs in sub-directories, and it was not possible to do a simple cp -r, because of other files, then one would probably use 'find' to locate the PDF files and tar to copy them from one place and put them in another. The syntax for doing this is non-trivial, and would be something like that below, where one:\n\n* Uses 'find' to find all the PDF files.\n* Uses 'tar' to create an archive of the PDF files, but instead of writing it to an intermediate file, one writes the archive on standard output.\n* Uses 'cd' to change to the directory where the files need to be extracted.\n* Uses 'tar', which reads from standard input, to extract the files written by the other tar. \n\n```\ntar cf - `find doc -name '*.pdf'` | ( cd \"$SAGE_ROOT/local/share/doc/pari\"; tar xfp -)\n```\n\nNote the above is untested. \n\nIn this case, simply remove the '-r' and what you have will be get a positive review. \n\nDave",
    "created_at": "2011-03-02T09:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133532",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:4'></a>
The '-r' is unnecessary on the 'cp' command. 

I think I know what you are trying to achieve, but be warned this syntax would never work if there were pdf files in sub-directories. Luckily in this case there are not, so a simple 'cp', with no options, will do. 

If there were however any PDFs in sub-directories, and it was not possible to do a simple cp -r, because of other files, then one would probably use 'find' to locate the PDF files and tar to copy them from one place and put them in another. The syntax for doing this is non-trivial, and would be something like that below, where one:

* Uses 'find' to find all the PDF files.
* Uses 'tar' to create an archive of the PDF files, but instead of writing it to an intermediate file, one writes the archive on standard output.
* Uses 'cd' to change to the directory where the files need to be extracted.
* Uses 'tar', which reads from standard input, to extract the files written by the other tar. 

```
tar cf - `find doc -name '*.pdf'` | ( cd "$SAGE_ROOT/local/share/doc/pari"; tar xfp -)
```

Note the above is untested. 

In this case, simply remove the '-r' and what you have will be get a positive review. 

Dave



---

archive/issue_comments_133533.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2011-03-02T09:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133533",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_133534.json:
```json
{
    "body": "<a id='comment:5'></a>\nGood catch!  The -r was mistakenly copied.  There are no subdirectories in this case.",
    "created_at": "2011-03-02T14:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133534",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:5'></a>
Good catch!  The -r was mistakenly copied.  There are no subdirectories in this case.



---

archive/issue_comments_133535.json:
```json
{
    "body": "<a id='comment:6'></a>\nSee #11197 for building docs after sage is built.",
    "created_at": "2011-04-14T13:53:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133535",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:6'></a>
See #11197 for building docs after sage is built.



---

archive/issue_events_033009.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10830#event-33009"
}
```



---

archive/issue_events_033010.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10830#event-33010"
}
```



---

archive/issue_events_033011.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10830#event-33011"
}
```



---

archive/issue_events_033012.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10830#event-33012"
}
```



---

archive/issue_events_033013.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10830#event-33013"
}
```



---

archive/issue_events_033014.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10830#event-33014"
}
```



---

archive/issue_events_033015.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10830#event-33015"
}
```



---

archive/issue_comments_133536.json:
```json
{
    "body": "<a id='comment:11'></a>\noutdated, should close",
    "created_at": "2021-12-02T01:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133536",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
outdated, should close



---

archive/issue_comments_133537.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-12-02T01:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133537",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_133538.json:
```json
{
    "body": "**Changing reviewer** from \"David Kirkby\" to \"\".",
    "created_at": "2021-12-02T01:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133538",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "David Kirkby" to "".



---

archive/issue_events_033016.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:11:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10830#event-33016"
}
```



---

archive/issue_events_033017.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:11:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10830#event-33017"
}
```



---

archive/issue_comments_133539.json:
```json
{
    "body": "**Changing author** from \"Jason Grout\" to \"\".",
    "created_at": "2021-12-02T01:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133539",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Jason Grout" to "".



---

archive/issue_comments_133540.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2021-12-02T23:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133540",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_133541.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-12-02T23:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10830#issuecomment-133541",
    "user": "https://github.com/dimpase"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_033018.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-03T18:41:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10830",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10830#event-33018"
}
```
