# Issue 10830: Make pari support SAGE_SPKG_INSTALL_DOCS

archive/issues_010764.json:
```json
{
    "assignees": [],
    "body": "This ticket implements #10823 for pari. New spkg at  \u00a0http://sage.math.washington.edu/home/jason/spkg-docs/pari-2.4.3.alpha.p6.spkg\n\n\nComponent: **packages: standard**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10830_\n\n",
    "closed_at": "2021-12-03T18:41:01Z",
    "created_at": "2011-02-23T01:54:42Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make pari support SAGE_SPKG_INSTALL_DOCS",
    "type": "issue",
    "updated_at": "2021-12-03T18:41:01Z",
    "url": "https://github.com/sagemath/sage/issues/10830",
    "user": "https://github.com/jasongrout"
}
```
This ticket implements #10823 for pari. New spkg at   http://sage.math.washington.edu/home/jason/spkg-docs/pari-2.4.3.alpha.p6.spkg


Component: **packages: standard**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/10830_





---

archive/issue_events_142059.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-02-23T01:54:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142059"
}
```



---

archive/issue_events_142060.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-02-23T01:54:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142060"
}
```



---

archive/issue_events_142061.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-02-23T01:54:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142061"
}
```



---

archive/issue_events_142062.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-02-23T01:54:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142062"
}
```



---

archive/issue_events_142063.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-02-23T01:55:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142063"
}
```



---

archive/issue_comments_104790.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSee comments on #10828",
    "created_at": "2011-03-01T15:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104790",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:2" align="right">comment:2</div>

See comments on #10828



---

archive/issue_comments_104791.json:
```json
{
    "body": "Reviewer: **David Kirkby**",
    "created_at": "2011-03-01T15:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104791",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

Reviewer: **David Kirkby**



---

archive/issue_events_142064.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-01T15:28:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142064"
}
```



---

archive/issue_events_142065.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-01T15:28:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142065"
}
```



---

archive/issue_comments_104792.json:
```json
{
    "body": "Attachment: **[10830.patch.gz](https://github.com/sagemath/sage/files/ticket10830/10830.patch.gz)**\n\nFYI Only---already applied to spkg.",
    "created_at": "2011-03-01T18:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104792",
    "user": "https://github.com/jasongrout"
}
```

Attachment: **[10830.patch.gz](https://github.com/sagemath/sage/files/ticket10830/10830.patch.gz)**

FYI Only---already applied to spkg.



---

archive/issue_events_142066.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-03-01T18:28:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142066"
}
```



---

archive/issue_events_142067.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-03-01T18:28:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142067"
}
```



---

archive/issue_comments_104793.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nNew spkg up.",
    "created_at": "2011-03-01T18:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104793",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:3" align="right">comment:3</div>

New spkg up.



---

archive/issue_comments_104794.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,2 @@\n-This ticket implements #10823 for pari. New spkg at  \u00a0http://sage.math.washington.edu/home/jason/pari-2.4.3.alpha.p1.spkg\n+This ticket implements #10823 for pari. New spkg at  \u00a0http://sage.math.washington.edu/home/jason/spkg-docs/pari-2.4.3.alpha.p6.spkg\n \n``````\n",
    "created_at": "2011-03-01T18:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104794",
    "user": "https://github.com/jasongrout"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,2 @@
-This ticket implements #10823 for pari. New spkg at   http://sage.math.washington.edu/home/jason/pari-2.4.3.alpha.p1.spkg
+This ticket implements #10823 for pari. New spkg at   http://sage.math.washington.edu/home/jason/spkg-docs/pari-2.4.3.alpha.p6.spkg
 
``````




---

archive/issue_comments_104795.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe '-r' is unnecessary on the 'cp' command. \n\nI think I know what you are trying to achieve, but be warned this syntax would never work if there were pdf files in sub-directories. Luckily in this case there are not, so a simple 'cp', with no options, will do. \n\nIf there were however any PDFs in sub-directories, and it was not possible to do a simple cp -r, because of other files, then one would probably use 'find' to locate the PDF files and tar to copy them from one place and put them in another. The syntax for doing this is non-trivial, and would be something like that below, where one:\n\n* Uses 'find' to find all the PDF files.\n* Uses 'tar' to create an archive of the PDF files, but instead of writing it to an intermediate file, one writes the archive on standard output.\n* Uses 'cd' to change to the directory where the files need to be extracted.\n* Uses 'tar', which reads from standard input, to extract the files written by the other tar. \n\n```\ntar cf - `find doc -name '*.pdf'` | ( cd \"$SAGE_ROOT/local/share/doc/pari\"; tar xfp -)\n```\n\nNote the above is untested. \n\nIn this case, simply remove the '-r' and what you have will be get a positive review. \n\nDave",
    "created_at": "2011-03-02T09:25:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104795",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:4" align="right">comment:4</div>

The '-r' is unnecessary on the 'cp' command. 

I think I know what you are trying to achieve, but be warned this syntax would never work if there were pdf files in sub-directories. Luckily in this case there are not, so a simple 'cp', with no options, will do. 

If there were however any PDFs in sub-directories, and it was not possible to do a simple cp -r, because of other files, then one would probably use 'find' to locate the PDF files and tar to copy them from one place and put them in another. The syntax for doing this is non-trivial, and would be something like that below, where one:

* Uses 'find' to find all the PDF files.
* Uses 'tar' to create an archive of the PDF files, but instead of writing it to an intermediate file, one writes the archive on standard output.
* Uses 'cd' to change to the directory where the files need to be extracted.
* Uses 'tar', which reads from standard input, to extract the files written by the other tar. 

```
tar cf - `find doc -name '*.pdf'` | ( cd "$SAGE_ROOT/local/share/doc/pari"; tar xfp -)
```

Note the above is untested. 

In this case, simply remove the '-r' and what you have will be get a positive review. 

Dave



---

archive/issue_events_142068.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-02T09:25:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142068"
}
```



---

archive/issue_events_142069.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-02T09:25:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142069"
}
```



---

archive/issue_comments_104796.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nGood catch!  The -r was mistakenly copied.  There are no subdirectories in this case.",
    "created_at": "2011-03-02T14:10:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104796",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:5" align="right">comment:5</div>

Good catch!  The -r was mistakenly copied.  There are no subdirectories in this case.



---

archive/issue_comments_104797.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSee #11197 for building docs after sage is built.",
    "created_at": "2011-04-14T13:53:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104797",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:6" align="right">comment:6</div>

See #11197 for building docs after sage is built.



---

archive/issue_events_142070.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142070"
}
```



---

archive/issue_events_142071.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142071"
}
```



---

archive/issue_events_142072.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142072"
}
```



---

archive/issue_events_142073.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142073"
}
```



---

archive/issue_events_142074.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142074"
}
```



---

archive/issue_events_142075.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142075"
}
```



---

archive/issue_events_142076.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142076"
}
```



---

archive/issue_events_142077.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142077"
}
```



---

archive/issue_comments_104798.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\noutdated, should close",
    "created_at": "2021-12-02T01:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104798",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

outdated, should close



---

archive/issue_events_142078.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:11:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142078"
}
```



---

archive/issue_events_142079.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:11:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142079"
}
```



---

archive/issue_comments_104799.json:
```json
{
    "body": "Changed reviewer from **David Kirkby** to none",
    "created_at": "2021-12-02T01:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104799",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **David Kirkby** to none



---

archive/issue_events_142080.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:11:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142080"
}
```



---

archive/issue_comments_104800.json:
```json
{
    "body": "Changed author from **Jason Grout** to none",
    "created_at": "2021-12-02T01:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104800",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Jason Grout** to none



---

archive/issue_comments_104801.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2021-12-02T23:37:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10830#issuecomment-104801",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_142081.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-02T23:37:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142081"
}
```



---

archive/issue_events_142082.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-02T23:37:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142082"
}
```



---

archive/issue_events_142083.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-03T18:41:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142083"
}
```



---

archive/issue_events_142084.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-03T18:41:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10830",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10830#event-142084"
}
```
