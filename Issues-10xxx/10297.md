# Issue 10297: Creating morphisms between projective varieties fails

archive/issues_010296.json:
```json
{
    "body": "Construction of morphisms between projective varieties which are no projective space itself fails, since the test that the defining polynomials are homogeneous and of the same degree cannot test `QuotientRingElement`s as these do not have `is_homogeneous()` or `degree()` methods.\n\nExample:\n\n```\nsage: P2.<x,y,z>=ProjectiveSpace(QQ,2)\nsage: f = x^3+y^3+60*z^3\nsage: g = y^2*z-( x^3 - 6400*z^3/3)\nsage: C = Curve(f)\nsage: E = Curve(g)\nsage: xbar,ybar,zbar=C.coordinate_ring().gens()\nsage: H = C.Hom(E)\nsage: H([zbar,xbar-ybar,-(xbar+ybar)/80])\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n\n/home/jec/<ipython console> in <module>()\n\n/home/jec/sage-current/local/lib/python2.6/site-packages/sage/schemes/generic/homset.pyc in __call__(self, x, check)\n    234         \"\"\"\n    235         if isinstance(x, (list, tuple)):\n--> 236             return self.domain()._point_morphism_class(self, x, check=check)\n    237         \n    238         if is_RingHomomorphism(x):\n\n/home/jec/sage-current/local/lib/python2.6/site-packages/sage/schemes/generic/algebraic_scheme.pyc in _point_morphism_class(self, *args, **kwds)\n   1099 class AlgebraicScheme_subscheme_projective(AlgebraicScheme_subscheme):\n   1100     def _point_morphism_class(self, *args, **kwds):\n-> 1101         return morphism.SchemeMorphism_on_points_projective_space(*args, **kwds)\n   1102 \n   1103     def dimension(self):\n\n/home/jec/sage-current/local/lib/python2.6/site-packages/sage/schemes/generic/morphism.pyc in __init__(self, parent, polys, check)\n    456             # morphisms from projective space are always given by\n    457             # homogeneous polynomials of the same degree\n--> 458             deg = self.defining_polynomials()[0].degree()\n    459             for poly in self.defining_polynomials():\n    460                 if (poly.degree() != deg) or not poly.is_homogeneous():\n\n/home/jec/sage-current/local/lib/python2.6/site-packages/sage/structure/element.so in sage.structure.element.Element.__getattr__ (sage/structure/element.c:2666)()\n\n/home/jec/sage-current/local/lib/python2.6/site-packages/sage/structure/parent.so in sage.structure.parent.getattr_from_other_class (sage/structure/parent.c:2840)()\n\n/home/jec/sage-current/local/lib/python2.6/site-packages/sage/structure/parent.so in sage.structure.parent.raise_attribute_error (sage/structure/parent.c:2638)()\n\nAttributeError: 'QuotientRingElement' object has no attribute 'degree'\n```\n\nPatch up soon.\n\nAssignee: @aghitza\n\nCC:  niels alexghitza\n\nKeywords: scheme projective morphism\n\nResolution: fixed\n\nAuthor: John Cremona\n\nReviewer: Andrey Novoseltsev\n\nMerged: sage-4.6.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/10297\n\n",
    "closed_at": "2011-01-12T06:34:15Z",
    "created_at": "2010-11-20T18:47:58Z",
    "labels": [
        "component: algebraic geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6.2",
    "title": "Creating morphisms between projective varieties fails",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10297",
    "user": "https://github.com/JohnCremona"
}
```
Construction of morphisms between projective varieties which are no projective space itself fails, since the test that the defining polynomials are homogeneous and of the same degree cannot test `QuotientRingElement`s as these do not have `is_homogeneous()` or `degree()` methods.

Example:

```
sage: P2.<x,y,z>=ProjectiveSpace(QQ,2)
sage: f = x^3+y^3+60*z^3
sage: g = y^2*z-( x^3 - 6400*z^3/3)
sage: C = Curve(f)
sage: E = Curve(g)
sage: xbar,ybar,zbar=C.coordinate_ring().gens()
sage: H = C.Hom(E)
sage: H([zbar,xbar-ybar,-(xbar+ybar)/80])
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)

/home/jec/<ipython console> in <module>()

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/schemes/generic/homset.pyc in __call__(self, x, check)
    234         """
    235         if isinstance(x, (list, tuple)):
--> 236             return self.domain()._point_morphism_class(self, x, check=check)
    237         
    238         if is_RingHomomorphism(x):

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/schemes/generic/algebraic_scheme.pyc in _point_morphism_class(self, *args, **kwds)
   1099 class AlgebraicScheme_subscheme_projective(AlgebraicScheme_subscheme):
   1100     def _point_morphism_class(self, *args, **kwds):
-> 1101         return morphism.SchemeMorphism_on_points_projective_space(*args, **kwds)
   1102 
   1103     def dimension(self):

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/schemes/generic/morphism.pyc in __init__(self, parent, polys, check)
    456             # morphisms from projective space are always given by
    457             # homogeneous polynomials of the same degree
--> 458             deg = self.defining_polynomials()[0].degree()
    459             for poly in self.defining_polynomials():
    460                 if (poly.degree() != deg) or not poly.is_homogeneous():

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/structure/element.so in sage.structure.element.Element.__getattr__ (sage/structure/element.c:2666)()

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/structure/parent.so in sage.structure.parent.getattr_from_other_class (sage/structure/parent.c:2840)()

/home/jec/sage-current/local/lib/python2.6/site-packages/sage/structure/parent.so in sage.structure.parent.raise_attribute_error (sage/structure/parent.c:2638)()

AttributeError: 'QuotientRingElement' object has no attribute 'degree'
```

Patch up soon.

Assignee: @aghitza

CC:  niels alexghitza

Keywords: scheme projective morphism

Resolution: fixed

Author: John Cremona

Reviewer: Andrey Novoseltsev

Merged: sage-4.6.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/10297





---

archive/issue_comments_126877.json:
```json
{
    "body": "Attachment [trac_10297-morphism.patch](tarball://root/attachments/some-uuid/ticket10297/trac_10297-morphism.patch) by @JohnCremona created at 2010-11-20 18:59:30\n\napplies to 4.6.1.alpha1",
    "created_at": "2010-11-20T18:59:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10297#issuecomment-126877",
    "user": "https://github.com/JohnCremona"
}
```

Attachment [trac_10297-morphism.patch](tarball://root/attachments/some-uuid/ticket10297/trac_10297-morphism.patch) by @JohnCremona created at 2010-11-20 18:59:30

applies to 4.6.1.alpha1



---

archive/issue_comments_126878.json:
```json
{
    "body": "Changing author from \"\" to \"John Cremona\"",
    "created_at": "2010-11-20T18:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10297#issuecomment-126878",
    "user": "https://github.com/JohnCremona"
}
```

Changing author from "" to "John Cremona"



---

archive/issue_comments_126879.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-11-20T18:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10297#issuecomment-126879",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_126880.json:
```json
{
    "body": "<a id='comment:2'></a>I am CC'ing AlexGhitza since the problem was caused by #3964 of he was the author (and I was the referee who clearly did not do a good job!)",
    "created_at": "2010-11-20T19:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10297#issuecomment-126880",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:2'></a>I am CC'ing AlexGhitza since the problem was caused by #3964 of he was the author (and I was the referee who clearly did not do a good job!)



---

archive/issue_comments_126881.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-11-28T20:01:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10297#issuecomment-126881",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_126882.json:
```json
{
    "body": "<a id='comment:3'></a>Fixes the error reported in this ticket, positive review!",
    "created_at": "2010-11-28T20:01:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10297#issuecomment-126882",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:3'></a>Fixes the error reported in this ticket, positive review!



---

archive/issue_comments_126883.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Andrey Novoseltsev\"",
    "created_at": "2010-11-28T20:01:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10297#issuecomment-126883",
    "user": "https://github.com/novoselt"
}
```

Changing reviewer from "" to "Andrey Novoseltsev"



---

archive/issue_comments_126884.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-01-12T06:34:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10297#issuecomment-126884",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_026499.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-12T06:34:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10297",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10297#event-26499"
}
```



---

archive/issue_comments_126885.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.6.2.alpha0\"",
    "created_at": "2011-01-12T06:34:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10297",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10297#issuecomment-126885",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-4.6.2.alpha0"
