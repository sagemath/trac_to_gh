# Issue 10065: removed bug and new methods in Poset

archive/issues_010064.json:
```json
{
    "body": "Poset.dual contained a bug:\n\n```\nP = Poset(([1,2],[[1,2]]))\nQ = P.dual()\nQ.show()\n... AssertionError: `self` should be an acyclic graph\n```\n\nThe patch contains the solution for this bug as well as new methods\nis_lattice\nis_isomorphic\nis_selfdual\npanyushev_complement\npanyushev_orbits\n\n**Assignee:** sage-combinat\n\n**CC:**  saliola@gmail.com chapoton@math.univ-lyon1.fr\n\n**Keywords:** poset, days30\n\n**Resolution:** duplicate\n\n**Reviewer:** Franco Saliola\n\nIssue created by migration from https://trac.sagemath.org/ticket/10065\n\n",
    "closed_at": "2011-05-31T17:17:06Z",
    "created_at": "2010-10-03T21:39:29Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "removed bug and new methods in Poset",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10065",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```
Poset.dual contained a bug:

```
P = Poset(([1,2],[[1,2]]))
Q = P.dual()
Q.show()
... AssertionError: `self` should be an acyclic graph
```

The patch contains the solution for this bug as well as new methods
is_lattice
is_isomorphic
is_selfdual
panyushev_complement
panyushev_orbits

**Assignee:** sage-combinat

**CC:**  saliola@gmail.com chapoton@math.univ-lyon1.fr

**Keywords:** poset, days30

**Resolution:** duplicate

**Reviewer:** Franco Saliola

Issue created by migration from https://trac.sagemath.org/ticket/10065





---

archive/issue_comments_127940.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2010-10-03T21:50:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127940",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_127941.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe procedure **is_isomorphic** has two problems :\n\n* one doctest is failing (see the report of the build bot). This is related to a deprecated use of size instead of cardinality, somewhere. Maybe we should correct this deprecated use first.\n\n* it fails on Lattices\n\n```\nP=Posets.PentagonPoset()\nP.is_isomorphic(P)\nValueError: The input is not a finite poset.\n```\n\nMaybe this can be corrected by having a method **is_isomorphic** for Lattices which is inherited from Posets.",
    "created_at": "2011-01-06T10:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127941",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
The procedure **is_isomorphic** has two problems :

* one doctest is failing (see the report of the build bot). This is related to a deprecated use of size instead of cardinality, somewhere. Maybe we should correct this deprecated use first.

* it fails on Lattices

```
P=Posets.PentagonPoset()
P.is_isomorphic(P)
ValueError: The input is not a finite poset.
```

Maybe this can be corrected by having a method **is_isomorphic** for Lattices which is inherited from Posets.



---

archive/issue_comments_127942.json:
```json
{
    "body": "<a id='comment:3'></a>\n\nOne more thing to be corrected :\n\nThe doc of !**panyushev_orbits!** is badly formatted. It does not display correctly in the notebook.",
    "created_at": "2011-01-07T09:46:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127942",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>

One more thing to be corrected :

The doc of !**panyushev_orbits!** is badly formatted. It does not display correctly in the notebook.



---

archive/issue_comments_127943.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [chapoton](#comment%3A2):\n\n>  * one doctest is failing (see the report of the build bot). This is related to a deprecated use of size instead of cardinality, somewhere. Maybe we should correct this deprecated use first.\n\n\nI only updated the doctest - the size/cardinality is in generic_graph.py. I am in the process to make changes to the is_isomorphic method in there anyway. I will make this little change in that other patch.\n\n>  * it fails on Lattices\n \n> {{{\n> P=Posets.PentagonPoset()\n> P.is_isomorphic(P)\n> ValueError: The input is not a finite poset.\n> }}}\n> \n> Maybe this can be corrected by having a method **is_isomorphic** for Lattices which is inherited from Posets.\n\n\nThis was just a minor mistake in the is_isomorphic method for Posets. I updated it.\n\n> The doc of **panyushev_orbits** is badly formatted. It does not display correctly in the notebook.\n\n\nDone...",
    "created_at": "2011-01-18T13:09:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127943",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:4'></a>
Replying to [chapoton](#comment%3A2):

>  * one doctest is failing (see the report of the build bot). This is related to a deprecated use of size instead of cardinality, somewhere. Maybe we should correct this deprecated use first.


I only updated the doctest - the size/cardinality is in generic_graph.py. I am in the process to make changes to the is_isomorphic method in there anyway. I will make this little change in that other patch.

>  * it fails on Lattices
 
> {{{
> P=Posets.PentagonPoset()
> P.is_isomorphic(P)
> ValueError: The input is not a finite poset.
> }}}
> 
> Maybe this can be corrected by having a method **is_isomorphic** for Lattices which is inherited from Posets.


This was just a minor mistake in the is_isomorphic method for Posets. I updated it.

> The doc of **panyushev_orbits** is badly formatted. It does not display correctly in the notebook.


Done...



---

archive/issue_comments_127944.json:
```json
{
    "body": "<a id='comment:5'></a>\nI uploaded a changed version of the patch containing a faster way to compute the Panyushev complement. Beside this, I didn't do any changes.",
    "created_at": "2011-01-26T03:08:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127944",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:5'></a>
I uploaded a changed version of the patch containing a faster way to compute the Panyushev complement. Beside this, I didn't do any changes.



---

archive/issue_comments_127945.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis last change makes some tests fail. See the shortlog by the buildbot.",
    "created_at": "2011-01-26T12:51:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127945",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
This last change makes some tests fail. See the shortlog by the buildbot.



---

archive/issue_comments_127946.json:
```json
{
    "body": "<a id='comment:7'></a>\nSorry Fred, I often forget to rebuild before making the test... if I didn't do more mistakes, it should work now.\n\n`@`Franco: I also had to edit the patches\n\ntrac_6641-poset_antichains_backtracker.patch\naddon_poset_antichains_backtracker-cs.patch\n\n(and uploaded them to the combinat queue) for ticket #6641. Could you probably fold them and add them to your ticket? Thanks!",
    "created_at": "2011-01-26T13:24:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127946",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:7'></a>
Sorry Fred, I often forget to rebuild before making the test... if I didn't do more mistakes, it should work now.

`@`Franco: I also had to edit the patches

trac_6641-poset_antichains_backtracker.patch
addon_poset_antichains_backtracker-cs.patch

(and uploaded them to the combinat queue) for ticket #6641. Could you probably fold them and add them to your ticket? Thanks!



---

archive/issue_comments_127947.json:
```json
{
    "body": "<a id='comment:8'></a>\nAttachment [trac_10065_smaller_poset_improvements-cs.patch](tarball://root/attachments/some-uuid/ticket10065/trac_10065_smaller_poset_improvements-cs.patch) by @saliola created at 2011-05-03 22:37:49\n\nThese issues are addressed in #10998.",
    "created_at": "2011-05-03T22:37:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127947",
    "user": "https://github.com/saliola"
}
```

<a id='comment:8'></a>
Attachment [trac_10065_smaller_poset_improvements-cs.patch](tarball://root/attachments/some-uuid/ticket10065/trac_10065_smaller_poset_improvements-cs.patch) by @saliola created at 2011-05-03 22:37:49

These issues are addressed in #10998.



---

archive/issue_events_030897.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2011-05-03T22:37:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10065#event-30897"
}
```



---

archive/issue_comments_127948.json:
```json
{
    "body": "**Changing keywords** from \"poset\" to \"poset, days30\".",
    "created_at": "2011-05-05T01:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127948",
    "user": "https://github.com/saliola"
}
```

**Changing keywords** from "poset" to "poset, days30".



---

archive/issue_comments_127949.json:
```json
{
    "body": "<a id='comment:10'></a>\nIf this is a sage-duplicate, then I believe this ticket can be closed.",
    "created_at": "2011-05-18T13:22:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127949",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

<a id='comment:10'></a>
If this is a sage-duplicate, then I believe this ticket can be closed.



---

archive/issue_comments_127950.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2011-05-18T13:22:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127950",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_127951.json:
```json
{
    "body": "**Changing author** from \"Christian Stump\" to \"\".",
    "created_at": "2011-05-31T17:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127951",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Christian Stump" to "".



---

archive/issue_comments_127952.json:
```json
{
    "body": "**Resolution:** duplicate",
    "created_at": "2011-05-31T17:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127952",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** duplicate



---

archive/issue_comments_127953.json:
```json
{
    "body": "**Reviewer:** Franco Saliola",
    "created_at": "2011-05-31T17:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10065#issuecomment-127953",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Franco Saliola



---

archive/issue_events_030898.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-31T17:17:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10065",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10065#event-30898"
}
```
