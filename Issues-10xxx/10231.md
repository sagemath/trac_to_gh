# Issue 10231: Don't repackage examples and extcode on sage-*dist

archive/issues_010230.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  @kini @nexttime\n\nKeywords: scripts upgrade extcode examples sd32\n\nRight now, the version of the following packages is **always** bumped in every new Sage version:\n\n```\nsage\nsage_scripts\nextcode\nexamples\n```\n\nThis patch will remove the last two from this list and shift the problem of upgrading these packages to the release manager (i.e. the merger script).\n\nIssue created by migration from https://trac.sagemath.org/ticket/10231\n\n",
    "closed_at": "2013-04-12T15:14:22Z",
    "created_at": "2010-11-07T11:35:07Z",
    "labels": [
        "component: distribution",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Don't repackage examples and extcode on sage-*dist",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10231",
    "user": "https://github.com/jdemeyer"
}
```
Assignee: tbd

CC:  @kini @nexttime

Keywords: scripts upgrade extcode examples sd32

Right now, the version of the following packages is **always** bumped in every new Sage version:

```
sage
sage_scripts
extcode
examples
```

This patch will remove the last two from this list and shift the problem of upgrading these packages to the release manager (i.e. the merger script).

Issue created by migration from https://trac.sagemath.org/ticket/10231





---

archive/issue_comments_104064.json:
```json
{
    "body": "Attachment [10231_extcode_dist.patch](tarball://root/attachments/some-uuid/ticket10231/10231_extcode_dist.patch) by @jdemeyer created at 2010-11-07 12:46:18\n\nRemove spkg-dist from extcode (apply to extcode repo)",
    "created_at": "2010-11-07T12:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104064",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [10231_extcode_dist.patch](tarball://root/attachments/some-uuid/ticket10231/10231_extcode_dist.patch) by @jdemeyer created at 2010-11-07 12:46:18

Remove spkg-dist from extcode (apply to extcode repo)



---

archive/issue_comments_104065.json:
```json
{
    "body": "Attachment [10231_scripts.patch](tarball://root/attachments/some-uuid/ticket10231/10231_scripts.patch) by @jdemeyer created at 2010-11-07 15:35:51\n\nPatch for the scripts repo",
    "created_at": "2010-11-07T15:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104065",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [10231_scripts.patch](tarball://root/attachments/some-uuid/ticket10231/10231_scripts.patch) by @jdemeyer created at 2010-11-07 15:35:51

Patch for the scripts repo



---

archive/issue_comments_104066.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-11-08T15:23:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104066",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_104067.json:
```json
{
    "body": "Well, I'm not sure how to test this, but the code changes look great to me. Hopefully someone who knows what they're saying can give this the go-ahead.",
    "created_at": "2011-04-04T11:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104067",
    "user": "https://github.com/kini"
}
```

Well, I'm not sure how to test this, but the code changes look great to me. Hopefully someone who knows what they're saying can give this the go-ahead.



---

archive/issue_comments_104068.json:
```json
{
    "body": "It would definitely be great to decouple these 2. Since this has been posted we have a new sage_root spkg should something be done here about it as well?",
    "created_at": "2011-04-04T21:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104068",
    "user": "https://github.com/kiwifb"
}
```

It would definitely be great to decouple these 2. Since this has been posted we have a new sage_root spkg should something be done here about it as well?



---

archive/issue_comments_104069.json:
```json
{
    "body": "I have discussed this ticket a million times on `sage-devel` and there never was a concensus about it, so I have essentially abandoned this effort.  If however everybody suddenly thinks this ticket is a good idea, I'm willing to go ahead.",
    "created_at": "2011-04-05T07:54:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104069",
    "user": "https://github.com/jdemeyer"
}
```

I have discussed this ticket a million times on `sage-devel` and there never was a concensus about it, so I have essentially abandoned this effort.  If however everybody suddenly thinks this ticket is a good idea, I'm willing to go ahead.



---

archive/issue_comments_104070.json:
```json
{
    "body": "I was always in the \"for\" camp. Unsurprisingly because it is less work for me.\nI even suggest that the new version number of the spkg in question should be of the form {extcode,examples}-YYYYMMDD.\n\nWhile there was no consensus on the list I suspect most people really don't care.",
    "created_at": "2011-04-05T08:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104070",
    "user": "https://github.com/kiwifb"
}
```

I was always in the "for" camp. Unsurprisingly because it is less work for me.
I even suggest that the new version number of the spkg in question should be of the form {extcode,examples}-YYYYMMDD.

While there was no consensus on the list I suspect most people really don't care.



---

archive/issue_comments_104071.json:
```json
{
    "body": "The patch [attachment:10231_scripts.patch] fails to apply to sage-4.7.1.alpha2:\n\n```\neno% ./sage\n----------------------------------------------------------------------\n----------------------------------------------------------------------\n**********************************************************************\n*                                                                    *\n* Warning: this is a prerelease version, and it may be unstable.     *\n*                                                                    *\n**********************************************************************\nsage: hg_scripts.apply(\"/home/mariah/10231_scripts.patch\")\ncd \"/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin\" && hg status\ncd \"/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin\" && hg status\ncd \"/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin\" && hg import   \"/home/mariah/10231_scripts.patch\"\napplying /home/mariah/10231_scripts.patch\npatching file sage-make_devel_packages\nHunk #2 FAILED at 18\nHunk #3 succeeded at 43 with fuzz 2 (offset 1 lines).\nHunk #4 FAILED at 64\n2 out of 4 hunks FAILED -- saving rejects to file sage-make_devel_packages.rej\npatching file sage-sdist\nHunk #1 FAILED at 69\n1 out of 1 hunks FAILED -- saving rejects to file sage-sdist.rej\nabort: patch failed to apply\nsage:\n```",
    "created_at": "2011-06-14T14:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104071",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

The patch [attachment:10231_scripts.patch] fails to apply to sage-4.7.1.alpha2:

```
eno% ./sage
----------------------------------------------------------------------
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
sage: hg_scripts.apply("/home/mariah/10231_scripts.patch")
cd "/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin" && hg status
cd "/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin" && hg status
cd "/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin" && hg import   "/home/mariah/10231_scripts.patch"
applying /home/mariah/10231_scripts.patch
patching file sage-make_devel_packages
Hunk #2 FAILED at 18
Hunk #3 succeeded at 43 with fuzz 2 (offset 1 lines).
Hunk #4 FAILED at 64
2 out of 4 hunks FAILED -- saving rejects to file sage-make_devel_packages.rej
patching file sage-sdist
Hunk #1 FAILED at 69
1 out of 1 hunks FAILED -- saving rejects to file sage-sdist.rej
abort: patch failed to apply
sage:
```



---

archive/issue_comments_104072.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-06-14T14:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104072",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_104073.json:
```json
{
    "body": "Replying to [comment:9 mariah]:\n> The patch [attachment:10231_scripts.patch] fails to apply to sage-4.7.1.alpha2\n\n\nCould be.  Since there is no consensus about whether this patch is a good idea, I am not going to work on this for now.",
    "created_at": "2011-06-14T17:36:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104073",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:9 mariah]:
> The patch [attachment:10231_scripts.patch] fails to apply to sage-4.7.1.alpha2


Could be.  Since there is no consensus about whether this patch is a good idea, I am not going to work on this for now.



---

archive/issue_comments_104074.json:
```json
{
    "body": "Changing keywords from \"scripts upgrade extcode examples\" to \"scripts upgrade extcode examples sd32\".",
    "created_at": "2011-08-24T23:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104074",
    "user": "https://github.com/williamstein"
}
```

Changing keywords from "scripts upgrade extcode examples" to "scripts upgrade extcode examples sd32".



---

archive/issue_comments_104075.json:
```json
{
    "body": "At least we meanwhile got rid of the \"examples\" spkg / repo, so the resistance may have been halved by that, too. ;-)\n\nI wouldn't *delete* extcode's `spkg-dist` btw.; it doesn't hurt and can be used for testing / experimenting, or even still by a / the release manager.",
    "created_at": "2011-10-27T01:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104075",
    "user": "https://github.com/nexttime"
}
```

At least we meanwhile got rid of the "examples" spkg / repo, so the resistance may have been halved by that, too. ;-)

I wouldn't *delete* extcode's `spkg-dist` btw.; it doesn't hurt and can be used for testing / experimenting, or even still by a / the release manager.



---

archive/issue_comments_104076.json:
```json
{
    "body": "Replying to [comment:13 leif]:\n> At least we meanwhile got rid of the \"examples\" spkg / repo, so the resistance may have been halved by that, too. ;-)\n> \n\n\nI am very happy about that bit really.\n\n> I wouldn't *delete* extcode's `spkg-dist` btw.; it doesn't hurt and can be used for testing / experimenting, or even still by a / the release manager.\n\n\nextcode has seen some activity in 4.7.1 and is set to get some activity in 4.7.3  but we should think about these sage specific spkg that are seldom updated.\n\nWe got rid of examples what else is low on updates?",
    "created_at": "2011-10-27T01:37:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104076",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:13 leif]:
> At least we meanwhile got rid of the "examples" spkg / repo, so the resistance may have been halved by that, too. ;-)
> 


I am very happy about that bit really.

> I wouldn't *delete* extcode's `spkg-dist` btw.; it doesn't hurt and can be used for testing / experimenting, or even still by a / the release manager.


extcode has seen some activity in 4.7.1 and is set to get some activity in 4.7.3  but we should think about these sage specific spkg that are seldom updated.

We got rid of examples what else is low on updates?



---

archive/issue_events_026276.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-12T15:14:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10231#event-26276"
}
```



---

archive/issue_events_026277.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-12T15:14:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10231#event-26277"
}
```



---

archive/issue_comments_104077.json:
```json
{
    "body": "Closing in the light of the move to GIT.",
    "created_at": "2013-04-12T15:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104077",
    "user": "https://github.com/jdemeyer"
}
```

Closing in the light of the move to GIT.



---

archive/issue_comments_104078.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2013-04-12T15:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-104078",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: invalid
