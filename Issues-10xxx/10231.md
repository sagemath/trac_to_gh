# Issue 10231: Don't repackage examples and extcode on sage-*dist

archive/issues_010230.json:
```json
{
    "body": "Right now, the version of the following packages is **always** bumped in every new Sage version:\n\n```\nsage\nsage_scripts\nextcode\nexamples\n```\n\nThis patch will remove the last two from this list and shift the problem of upgrading these packages to the release manager (i.e. the merger script).\n\n**CC:**  @kini @nexttime\n\n**Keywords:** scripts upgrade extcode examples sd32\n\n**Reviewer:** Jeroen Demeyer\n\nIssue created by migration from https://trac.sagemath.org/ticket/10231\n\n",
    "closed_at": "2013-04-12T15:14:22Z",
    "created_at": "2010-11-07T11:35:07Z",
    "labels": [
        "component: distribution",
        "critical",
        "enhancement",
        "invalid"
    ],
    "title": "Don't repackage examples and extcode on sage-*dist",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10231",
    "user": "https://github.com/jdemeyer"
}
```
Right now, the version of the following packages is **always** bumped in every new Sage version:

```
sage
sage_scripts
extcode
examples
```

This patch will remove the last two from this list and shift the problem of upgrading these packages to the release manager (i.e. the merger script).

**CC:**  @kini @nexttime

**Keywords:** scripts upgrade extcode examples sd32

**Reviewer:** Jeroen Demeyer

Issue created by migration from https://trac.sagemath.org/ticket/10231





---

archive/attachments_013381.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "10231_extcode_dist.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket10231/10231_extcode_dist.patch",
    "created_at": "2010-11-07T12:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_097164.json:
```json
{
    "body": "Remove spkg-dist from extcode (apply to extcode repo)",
    "created_at": "2010-11-07T12:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97164",
    "user": "https://github.com/jdemeyer"
}
```

Remove spkg-dist from extcode (apply to extcode repo)



---

archive/issue_events_077937.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-07T15:32:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "rename": {
        "from": "Don't rebuild examples and extcode on sage-*dist",
        "to": "Don't repackage examples and extcode on sage-*dist"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10231#event-77937"
}
```



---

archive/attachments_013382.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "10231_scripts.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket10231/10231_scripts.patch",
    "created_at": "2010-11-07T15:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_097165.json:
```json
{
    "body": "Patch for the scripts repo",
    "created_at": "2010-11-07T15:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97165",
    "user": "https://github.com/jdemeyer"
}
```

Patch for the scripts repo



---

archive/issue_comments_097166.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,4 +7,4 @@\n examples\n ```\n \n-This patch will remove the last two from this list and shift the problem of upgrading these packages to the release manager script.\n+This patch will remove the last two from this list and shift the problem of upgrading these packages to the release manager (i.e. the merger script).\n``````\n",
    "created_at": "2010-11-07T17:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97166",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,4 +7,4 @@
 examples
 ```
 
-This patch will remove the last two from this list and shift the problem of upgrading these packages to the release manager script.
+This patch will remove the last two from this list and shift the problem of upgrading these packages to the release manager (i.e. the merger script).
``````




---

archive/issue_events_077938.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-08T15:23:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10231#event-77938"
}
```



---

archive/issue_comments_097167.json:
```json
{
    "body": "<a id='comment:5'></a>\nWell, I'm not sure how to test this, but the code changes look great to me. Hopefully someone who knows what they're saying can give this the go-ahead.",
    "created_at": "2011-04-04T11:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97167",
    "user": "https://github.com/kini"
}
```

<a id='comment:5'></a>
Well, I'm not sure how to test this, but the code changes look great to me. Hopefully someone who knows what they're saying can give this the go-ahead.



---

archive/issue_comments_097168.json:
```json
{
    "body": "<a id='comment:6'></a>\nIt would definitely be great to decouple these 2. Since this has been posted we have a new sage_root spkg should something be done here about it as well?",
    "created_at": "2011-04-04T21:40:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97168",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'></a>
It would definitely be great to decouple these 2. Since this has been posted we have a new sage_root spkg should something be done here about it as well?



---

archive/issue_comments_097169.json:
```json
{
    "body": "<a id='comment:7'></a>\nI have discussed this ticket a million times on `sage-devel` and there never was a concensus about it, so I have essentially abandoned this effort.  If however everybody suddenly thinks this ticket is a good idea, I'm willing to go ahead.",
    "created_at": "2011-04-05T07:54:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97169",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>
I have discussed this ticket a million times on `sage-devel` and there never was a concensus about it, so I have essentially abandoned this effort.  If however everybody suddenly thinks this ticket is a good idea, I'm willing to go ahead.



---

archive/issue_comments_097170.json:
```json
{
    "body": "<a id='comment:8'></a>\nI was always in the \"for\" camp. Unsurprisingly because it is less work for me.\nI even suggest that the new version number of the spkg in question should be of the form {extcode,examples}-YYYYMMDD.\n\nWhile there was no consensus on the list I suspect most people really don't care.",
    "created_at": "2011-04-05T08:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97170",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>
I was always in the "for" camp. Unsurprisingly because it is less work for me.
I even suggest that the new version number of the spkg in question should be of the form {extcode,examples}-YYYYMMDD.

While there was no consensus on the list I suspect most people really don't care.



---

archive/issue_comments_097171.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe patch [attachment:10231_scripts.patch] fails to apply to sage-4.7.1.alpha2:\n\n```\neno% ./sage\n----------------------------------------------------------------------\n| Sage Version 4.7.1.alpha2, Release Date: 2011-06-07                |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\n**********************************************************************\n*                                                                    *\n* Warning: this is a prerelease version, and it may be unstable.     *\n*                                                                    *\n**********************************************************************\nsage: hg_scripts.apply(\"/home/mariah/10231_scripts.patch\")\ncd \"/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin\" && hg status\ncd \"/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin\" && hg status\ncd \"/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin\" && hg import   \"/home/mariah/10231_scripts.patch\"\napplying /home/mariah/10231_scripts.patch\npatching file sage-make_devel_packages\nHunk #2 FAILED at 18\nHunk #3 succeeded at 43 with fuzz 2 (offset 1 lines).\nHunk #4 FAILED at 64\n2 out of 4 hunks FAILED -- saving rejects to file sage-make_devel_packages.rej\npatching file sage-sdist\nHunk #1 FAILED at 69\n1 out of 1 hunks FAILED -- saving rejects to file sage-sdist.rej\nabort: patch failed to apply\nsage:\n```",
    "created_at": "2011-06-14T14:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97171",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

<a id='comment:9'></a>
The patch [attachment:10231_scripts.patch] fails to apply to sage-4.7.1.alpha2:

```
eno% ./sage
----------------------------------------------------------------------
| Sage Version 4.7.1.alpha2, Release Date: 2011-06-07                |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
sage: hg_scripts.apply("/home/mariah/10231_scripts.patch")
cd "/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin" && hg status
cd "/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin" && hg status
cd "/home/mariah/sage/sage-4.7.1.alpha2-x86_64-Linux-core2-fc/local/bin" && hg import   "/home/mariah/10231_scripts.patch"
applying /home/mariah/10231_scripts.patch
patching file sage-make_devel_packages
Hunk #2 FAILED at 18
Hunk #3 succeeded at 43 with fuzz 2 (offset 1 lines).
Hunk #4 FAILED at 64
2 out of 4 hunks FAILED -- saving rejects to file sage-make_devel_packages.rej
patching file sage-sdist
Hunk #1 FAILED at 69
1 out of 1 hunks FAILED -- saving rejects to file sage-sdist.rej
abort: patch failed to apply
sage:
```



---

archive/issue_events_077939.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mariah",
    "created_at": "2011-06-14T14:57:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10231#event-77939"
}
```



---

archive/issue_events_077940.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mariah",
    "created_at": "2011-06-14T14:57:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10231#event-77940"
}
```



---

archive/issue_events_077941.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-14T17:36:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10231#event-77941"
}
```



---

archive/issue_events_077942.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-14T17:36:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "label": "pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10231#event-77942"
}
```



---

archive/issue_comments_097172.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [mariah](#comment%3A9):\n> The patch [attachment:10231_scripts.patch] fails to apply to sage-4.7.1.alpha2\n\n\nCould be.  Since there is no consensus about whether this patch is a good idea, I am not going to work on this for now.",
    "created_at": "2011-06-14T17:36:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97172",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
Replying to [mariah](#comment%3A9):
> The patch [attachment:10231_scripts.patch] fails to apply to sage-4.7.1.alpha2


Could be.  Since there is no consensus about whether this patch is a good idea, I am not going to work on this for now.



---

archive/issue_comments_097173.json:
```json
{
    "body": "**Changing keywords** from \"scripts upgrade extcode examples\" to \"scripts upgrade extcode examples sd32\".",
    "created_at": "2011-08-24T23:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97173",
    "user": "https://github.com/williamstein"
}
```

**Changing keywords** from "scripts upgrade extcode examples" to "scripts upgrade extcode examples sd32".



---

archive/issue_comments_097174.json:
```json
{
    "body": "**Work_Issues:** At least rebase...",
    "created_at": "2011-08-27T12:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97174",
    "user": "https://github.com/nexttime"
}
```

**Work_Issues:** At least rebase...



---

archive/issue_comments_097175.json:
```json
{
    "body": "<a id='comment:13'></a>\nAt least we meanwhile got rid of the \"examples\" spkg / repo, so the resistance may have been halved by that, too. ;-)\n\nI wouldn't *delete* extcode's `spkg-dist` btw.; it doesn't hurt and can be used for testing / experimenting, or even still by a / the release manager.",
    "created_at": "2011-10-27T01:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97175",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:13'></a>
At least we meanwhile got rid of the "examples" spkg / repo, so the resistance may have been halved by that, too. ;-)

I wouldn't *delete* extcode's `spkg-dist` btw.; it doesn't hurt and can be used for testing / experimenting, or even still by a / the release manager.



---

archive/issue_comments_097176.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [leif](#comment%3A13):\n> At least we meanwhile got rid of the \"examples\" spkg / repo, so the resistance may have been halved by that, too. ;-)\n> \n\n\nI am very happy about that bit really.\n\n> I wouldn't *delete* extcode's `spkg-dist` btw.; it doesn't hurt and can be used for testing / experimenting, or even still by a / the release manager.\n\n\nextcode has seen some activity in 4.7.1 and is set to get some activity in 4.7.3  but we should think about these sage specific spkg that are seldom updated.\n\nWe got rid of examples what else is low on updates?",
    "created_at": "2011-10-27T01:37:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97176",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:14'></a>
Replying to [leif](#comment%3A13):
> At least we meanwhile got rid of the "examples" spkg / repo, so the resistance may have been halved by that, too. ;-)
> 


I am very happy about that bit really.

> I wouldn't *delete* extcode's `spkg-dist` btw.; it doesn't hurt and can be used for testing / experimenting, or even still by a / the release manager.


extcode has seen some activity in 4.7.1 and is set to get some activity in 4.7.3  but we should think about these sage specific spkg that are seldom updated.

We got rid of examples what else is low on updates?



---

archive/issue_events_077943.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-12T15:14:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10231#event-77943"
}
```



---

archive/issue_events_077944.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-12T15:14:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10231#event-77944"
}
```



---

archive/issue_events_077945.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-12T15:14:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "label": "pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10231#event-77945"
}
```



---

archive/issue_comments_097177.json:
```json
{
    "body": "<a id='comment:15'></a>\nClosing in the light of the move to GIT.",
    "created_at": "2013-04-12T15:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97177",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
Closing in the light of the move to GIT.



---

archive/issue_comments_097178.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer",
    "created_at": "2013-04-12T15:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97178",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Jeroen Demeyer



---

archive/issue_comments_097179.json:
```json
{
    "body": "**Changing work_issues** from \"At least rebase...\" to \"\".",
    "created_at": "2013-04-12T15:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97179",
    "user": "https://github.com/jdemeyer"
}
```

**Changing work_issues** from "At least rebase..." to "".



---

archive/issue_comments_097180.json:
```json
{
    "body": "**Changing author** from \"Jeroen Demeyer\" to \"\".",
    "created_at": "2013-04-12T15:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10231",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10231#issuecomment-97180",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Jeroen Demeyer" to "".
