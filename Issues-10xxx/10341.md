# Issue 10341: make MIP backend interface more Python-ic

archive/issues_010340.json:
```json
{
    "assignees": [
        "https://github.com/nathanncohen"
    ],
    "body": "Sage 4.6.1 will contain a new set of backend classes for mixed integer programming, which will make it easier to write interfaces for other solvers. There has been some off-list discussion about this interface and the follow changes were agreed upon:\n\n* :func: `add_linear_constraint` should allow ``lb`` and ``ub``  instead of direction and one bound, it's more expressive.\n* :func:`add_variable` should return the index of the newly created variable instead of the next index.\n* change :func:`add_linear_constraint` to accept any iterable of the form`` [(c,v) ...]``\n* ``min`` and ``max`` should be lower bound (or ``lb``) and upper bound (or ``ub``) to conform to MIP conventions\n* allow parameters in :func:`add_variable`\n\nThe patches are to be applied in this order:\n\n* mip_interface_changes.patch\n* trac_10431-part2.patch\n* trac_10431-part3.patch\n* trac_10431-part4.patch\n* trac_10431-part5.patch\n* trac_10431-part6.patch\n\nCC:  @nathanncohen\n\nComponent: **linear programming**\n\nAuthor: **Martin Albrecht, Nathann Cohen**\n\nReviewer: **Martin Albrecht, Nathann Cohen**\n\nMerged: **sage-4.6.2.alpha3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10341_\n\n",
    "closed_at": "2011-01-26T22:27:33Z",
    "created_at": "2010-11-26T16:51:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20linear%20programming",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/c%3A%20linear%20programming",
        "https://github.com/sagemath/sage/labels/component%3A%20linear%20programming"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "make MIP backend interface more Python-ic",
    "type": "issue",
    "updated_at": "2011-01-26T22:27:33Z",
    "url": "https://github.com/sagemath/sage/issues/10341",
    "user": "https://github.com/malb"
}
```
Sage 4.6.1 will contain a new set of backend classes for mixed integer programming, which will make it easier to write interfaces for other solvers. There has been some off-list discussion about this interface and the follow changes were agreed upon:

* :func: `add_linear_constraint` should allow ``lb`` and ``ub``  instead of direction and one bound, it's more expressive.
* :func:`add_variable` should return the index of the newly created variable instead of the next index.
* change :func:`add_linear_constraint` to accept any iterable of the form`` [(c,v) ...]``
* ``min`` and ``max`` should be lower bound (or ``lb``) and upper bound (or ``ub``) to conform to MIP conventions
* allow parameters in :func:`add_variable`

The patches are to be applied in this order:

* mip_interface_changes.patch
* trac_10431-part2.patch
* trac_10431-part3.patch
* trac_10431-part4.patch
* trac_10431-part5.patch
* trac_10431-part6.patch

CC:  @nathanncohen

Component: **linear programming**

Author: **Martin Albrecht, Nathann Cohen**

Reviewer: **Martin Albrecht, Nathann Cohen**

Merged: **sage-4.6.2.alpha3**

_Issue created by migration from https://trac.sagemath.org/ticket/10341_





---

archive/issue_events_134684.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-11-26T16:51:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "milestone_number": null,
    "milestone_title": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134684"
}
```



---

archive/issue_events_134685.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-11-26T16:51:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20linear%20programming",
    "label_color": "0000ff",
    "label_name": "c: linear programming",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134685"
}
```



---

archive/issue_events_134686.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-11-26T16:51:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134686"
}
```



---

archive/issue_events_134687.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-11-26T16:51:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134687"
}
```



---

archive/issue_events_134688.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-11-26T16:51:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20linear%20programming",
    "label_color": "0000ff",
    "label_name": "c: linear programming",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134688"
}
```



---

archive/issue_events_134689.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-11-26T16:51:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20linear%20programming",
    "label_color": "0000ff",
    "label_name": "component: linear programming",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134689"
}
```



---

archive/issue_events_134690.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-11-26T16:51:56Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "subject": "https://github.com/malb",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134690"
}
```



---

archive/issue_comments_097077.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[mip_interface_changes.patch.gz](https://github.com/sagemath/sage/files/ticket10341/mip_interface_changes.patch.gz)**\n\nThe attached patch makes the necessary changes to the ``GenericBackend`` and the ``GLPK`` class. ``Coin`` and ``CPLEX`` are not done yet.",
    "created_at": "2010-11-26T16:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97077",
    "user": "https://github.com/malb"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[mip_interface_changes.patch.gz](https://github.com/sagemath/sage/files/ticket10341/mip_interface_changes.patch.gz)**

The attached patch makes the necessary changes to the ``GenericBackend`` and the ``GLPK`` class. ``Coin`` and ``CPLEX`` are not done yet.



---

archive/issue_events_134691.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-11-26T16:54:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134691"
}
```



---

archive/issue_comments_097078.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAnd here are the modifications to CPLEX and Coin. The doctests pass, plus all the methods of Graph/Digraph/GenericGraph pass with both GLPK, Coin and CPLEX.\n\nI agreed with you patch almost everywhere ! The only modification I made is the \"constraints\" argument you had placed in the add_constraint method. I really didn't get why you picked this name. I made it \"coefficients\", as the pairs are actually the coefficient of the sparse matrix, but of course we can discuss it during the review `:-)`\n\nNathann",
    "created_at": "2010-11-27T15:48:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97078",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:2" align="right">comment:2</div>

And here are the modifications to CPLEX and Coin. The doctests pass, plus all the methods of Graph/Digraph/GenericGraph pass with both GLPK, Coin and CPLEX.

I agreed with you patch almost everywhere ! The only modification I made is the "constraints" argument you had placed in the add_constraint method. I really didn't get why you picked this name. I made it "coefficients", as the pairs are actually the coefficient of the sparse matrix, but of course we can discuss it during the review `:-)`

Nathann



---

archive/issue_events_134692.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-11-27T15:48:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134692"
}
```



---

archive/issue_events_134693.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-11-27T15:48:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134693"
}
```



---

archive/issue_comments_097079.json:
```json
{
    "body": "Attachment: **[trac_10431-part2.patch.gz](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part2.patch.gz)**",
    "created_at": "2010-11-27T15:49:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97079",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_10431-part2.patch.gz](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part2.patch.gz)**



---

archive/issue_comments_097080.json:
```json
{
    "body": "Changed author from **Martin Albrecht** to **Martin Albrecht, Nathann Cohen**",
    "created_at": "2010-11-27T15:50:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97080",
    "user": "https://github.com/nathanncohen"
}
```

Changed author from **Martin Albrecht** to **Martin Albrecht, Nathann Cohen**



---

archive/issue_comments_097081.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,8 @@\n * change :func:`add_linear_constraint` to accept any iterable of the form`` [(c,v) ...]``\n * ``min`` and ``max`` should be lower bound (or ``lb``) and upper bound (or ``ub``) to conform to MIP conventions\n * allow parameters in :func:`add_variable`\n+\n+The patches are to be applied in this order:\n+\n+* mip_interface_changes.patch\n+* trac_10431-part2.patch\n``````\n",
    "created_at": "2010-11-27T15:50:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97081",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,8 @@
 * change :func:`add_linear_constraint` to accept any iterable of the form`` [(c,v) ...]``
 * ``min`` and ``max`` should be lower bound (or ``lb``) and upper bound (or ``ub``) to conform to MIP conventions
 * allow parameters in :func:`add_variable`
+
+The patches are to be applied in this order:
+
+* mip_interface_changes.patch
+* trac_10431-part2.patch
``````




---

archive/issue_comments_097082.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSure, your naming makes much more sense. Are you reviewing mine first, or is your patch your review? I can review your's then?",
    "created_at": "2010-11-27T16:18:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97082",
    "user": "https://github.com/malb"
}
```

<div id="comment:4" align="right">comment:4</div>

Sure, your naming makes much more sense. Are you reviewing mine first, or is your patch your review? I can review your's then?



---

archive/issue_comments_097083.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI noticed two more interface \"issues\" we may decide to \"fix\":\n- ``p.row()`` returns two lists ``(indices,coeffs)`` right now, we could change it to return ``[(v1,c1),...,(vn,cn)]``.\n- We could allow an optional ``obj`` parameter which contains the coefficient of the new variable in the objective function?\n\nNeither of those changes I view as mandatory, just throwing the idea out there to see what others think.",
    "created_at": "2010-11-27T16:21:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97083",
    "user": "https://github.com/malb"
}
```

<div id="comment:5" align="right">comment:5</div>

I noticed two more interface "issues" we may decide to "fix":
- ``p.row()`` returns two lists ``(indices,coeffs)`` right now, we could change it to return ``[(v1,c1),...,(vn,cn)]``.
- We could allow an optional ``obj`` parameter which contains the coefficient of the new variable in the objective function?

Neither of those changes I view as mandatory, just throwing the idea out there to see what others think.



---

archive/issue_comments_097084.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n> Sure, your naming makes much more sense. Are you reviewing mine first, or is your patch your review?\n\nWell, I checked yours while working on it and fixed this \"constraints->coefficients\" inside of my patch ... If you review mine, both files will have be read by two sets of eyes, so I guess it would count as a valid review `:-)`\n\nNathann",
    "created_at": "2010-11-27T16:22:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97084",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

> Sure, your naming makes much more sense. Are you reviewing mine first, or is your patch your review?

Well, I checked yours while working on it and fixed this "constraints->coefficients" inside of my patch ... If you review mine, both files will have be read by two sets of eyes, so I guess it would count as a valid review `:-)`

Nathann



---

archive/issue_comments_097085.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@malb](#comment:5):\n> I noticed two more interface \"issues\" we may decide to \"fix\":\n> - ``p.row()`` returns two lists ``(indices,coeffs)`` right now, we could change it to return ``[(v1,c1),...,(vn,cn)]``.\n> - We could allow an optional ``obj`` parameter which contains the coefficient of the new variable in the objective function?\n> \n> Neither of those changes I view as mandatory, just throwing the idea out there to see what others think.\n\nThough they sound right... `:-)`\n\nNathann",
    "created_at": "2010-11-27T17:05:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97085",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@malb](#comment:5):
> I noticed two more interface "issues" we may decide to "fix":
> - ``p.row()`` returns two lists ``(indices,coeffs)`` right now, we could change it to return ``[(v1,c1),...,(vn,cn)]``.
> - We could allow an optional ``obj`` parameter which contains the coefficient of the new variable in the objective function?
> 
> Neither of those changes I view as mandatory, just throwing the idea out there to see what others think.

Though they sound right... `:-)`

Nathann



---

archive/issue_comments_097086.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nOne more thing: you assume in your interface that one can change column and row names after those have been created. However, this isn't easy in SCIP (I could possibly hack around it by hacking around the API). Can we change that, e.g. by adding name as an optional parameter to add_variable() and add_linear_constraint()?",
    "created_at": "2010-11-27T18:13:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97086",
    "user": "https://github.com/malb"
}
```

<div id="comment:8" align="right">comment:8</div>

One more thing: you assume in your interface that one can change column and row names after those have been created. However, this isn't easy in SCIP (I could possibly hack around it by hacking around the API). Can we change that, e.g. by adding name as an optional parameter to add_variable() and add_linear_constraint()?



---

archive/issue_comments_097087.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWell, if that's how SCIP's interface is written, I see no way around that .... `:-/`\n\nI just hope all these optional parameters won't hurt the interface's efficiency. I am eager  to have a working stable version of it in Sage, that would let me rebase other patches that have been made invalid because of the work we are doing here. I may spend some time trying to do some performance analysis on the interface afterwards `:-D`\n\nI'm already sick of these names... They are totally useless for all practical purposes, their only aim is to produce different results in p.show() (which doesn't even use them for the moment) or when writing the LP to files, which is totally orthogonal to actually *solving* them. Besides, each solver has a different way of managing them, especially Coin. I spent nights just fighting with it, for nothing in the end (oh yes.. it compiles, and there was no regression since the first version of LP.. Who the hell cares ?)\n\nJust to know : are you yourself using names for variables and constraints ? \n\nNathann\n\nP.S. : Oh, yes.. Let's add this optional argument if there is no way around. If at some point we find a trick, it won't be as hard to remove an optional argument from an interface as any other, as most of the method calls don't include it.\n\nSo in the end",
    "created_at": "2010-11-27T18:32:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97087",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:9" align="right">comment:9</div>

Well, if that's how SCIP's interface is written, I see no way around that .... `:-/`

I just hope all these optional parameters won't hurt the interface's efficiency. I am eager  to have a working stable version of it in Sage, that would let me rebase other patches that have been made invalid because of the work we are doing here. I may spend some time trying to do some performance analysis on the interface afterwards `:-D`

I'm already sick of these names... They are totally useless for all practical purposes, their only aim is to produce different results in p.show() (which doesn't even use them for the moment) or when writing the LP to files, which is totally orthogonal to actually *solving* them. Besides, each solver has a different way of managing them, especially Coin. I spent nights just fighting with it, for nothing in the end (oh yes.. it compiles, and there was no regression since the first version of LP.. Who the hell cares ?)

Just to know : are you yourself using names for variables and constraints ? 

Nathann

P.S. : Oh, yes.. Let's add this optional argument if there is no way around. If at some point we find a trick, it won't be as hard to remove an optional argument from an interface as any other, as most of the method calls don't include it.

So in the end



---

archive/issue_comments_097088.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI usually set them (e.g. when converting from polynomial systems), but I guess I'm not really using them usually.",
    "created_at": "2010-11-27T18:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97088",
    "user": "https://github.com/malb"
}
```

<div id="comment:10" align="right">comment:10</div>

I usually set them (e.g. when converting from polynomial systems), but I guess I'm not really using them usually.



---

archive/issue_comments_097089.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nSo what are they useful for in SCIP ? Can it produce outputs at .lp or .mpw files ?\n\nNathann",
    "created_at": "2010-11-27T18:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97089",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

So what are they useful for in SCIP ? Can it produce outputs at .lp or .mpw files ?

Nathann



---

archive/issue_comments_097090.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nYep, and other formats. You can also query a variable (which is a C struct) for its name in your code. For example, you can search for variables by name.",
    "created_at": "2010-11-27T18:58:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97090",
    "user": "https://github.com/malb"
}
```

<div id="comment:12" align="right">comment:12</div>

Yep, and other formats. You can also query a variable (which is a C struct) for its name in your code. For example, you can search for variables by name.



---

archive/issue_comments_097091.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@malb](#comment:12):\n> Yep, and other formats. \n\nNice !!\n\n> You can also query a variable (which is a C struct) for its name in your code. For example, you can search for variables by name.\n\nSame in GLPK. For the moment, I do not do any work on the matrix once it has been defined. Or rather, I only add more information, but never remove/read anything from it O_o\n\nNathann",
    "created_at": "2010-11-27T19:01:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97091",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@malb](#comment:12):
> Yep, and other formats. 

Nice !!

> You can also query a variable (which is a C struct) for its name in your code. For example, you can search for variables by name.

Same in GLPK. For the moment, I do not do any work on the matrix once it has been defined. Or rather, I only add more information, but never remove/read anything from it O_o

Nathann



---

archive/issue_comments_097092.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nOkay, what remains to be done then:\n* drop setting a variable name by col_name() \n* drop setting a constraint name by row_name()\n* add an optional parameter name to add_variable and add_linear_constraint\n* (optional) make row() return a list [(c1,v1),...,(cn,vn)]\n* (optional) add an optional parameter obj to add_variable\n* (optional) unify get/set_objective_value\n\nAnything I missed?",
    "created_at": "2010-11-27T19:05:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97092",
    "user": "https://github.com/malb"
}
```

<div id="comment:14" align="right">comment:14</div>

Okay, what remains to be done then:
* drop setting a variable name by col_name() 
* drop setting a constraint name by row_name()
* add an optional parameter name to add_variable and add_linear_constraint
* (optional) make row() return a list [(c1,v1),...,(cn,vn)]
* (optional) add an optional parameter obj to add_variable
* (optional) unify get/set_objective_value

Anything I missed?



---

archive/issue_events_134694.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-11-27T19:05:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134694"
}
```



---

archive/issue_events_134695.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-11-27T19:05:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134695"
}
```



---

archive/issue_comments_097093.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOh... Hem.. Actually, if we are to actually *drop* these methods... `-_-`\n\nI can not stand these names... Here is the problem : right now, there are no names when you add variables or constraints in MixedIntegerLinearProgram. When p.show() is called, the names are filled with something which makes them at least distinct and recognizable... But if we want to drop these methods, then p.show() has to be rewritten  too.. `-_-`\n\nNathann",
    "created_at": "2010-11-27T19:09:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97093",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:15" align="right">comment:15</div>

Oh... Hem.. Actually, if we are to actually *drop* these methods... `-_-`

I can not stand these names... Here is the problem : right now, there are no names when you add variables or constraints in MixedIntegerLinearProgram. When p.show() is called, the names are filled with something which makes them at least distinct and recognizable... But if we want to drop these methods, then p.show() has to be rewritten  too.. `-_-`

Nathann



---

archive/issue_comments_097094.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI would suggest an optional parameter \"name=None\" for add_variable()?",
    "created_at": "2010-11-27T21:12:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97094",
    "user": "https://github.com/malb"
}
```

<div id="comment:16" align="right">comment:16</div>

I would suggest an optional parameter "name=None" for add_variable()?



---

archive/issue_comments_097095.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@malb](#comment:16):\n> I would suggest an optional parameter \"name=None\" for add_variable()?\n\nIf you need it for SCIP... `:-/`",
    "created_at": "2010-11-27T21:18:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97095",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@malb](#comment:16):
> I would suggest an optional parameter "name=None" for add_variable()?

If you need it for SCIP... `:-/`



---

archive/issue_comments_097096.json:
```json
{
    "body": "Attachment: **[trac_10431-part3.patch.gz](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part3.patch.gz)**",
    "created_at": "2010-11-28T13:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97096",
    "user": "https://github.com/malb"
}
```

Attachment: **[trac_10431-part3.patch.gz](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part3.patch.gz)**



---

archive/issue_comments_097097.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,3 +10,4 @@\n \n * mip_interface_changes.patch\n * trac_10431-part2.patch\n+* trac_10431-part3.patch\n``````\n",
    "created_at": "2010-11-28T13:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97097",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,3 +10,4 @@
 
 * mip_interface_changes.patch
 * trac_10431-part2.patch
+* trac_10431-part3.patch
``````




---

archive/issue_comments_097098.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI did the changes below for the GenericBackend and GLPK. Nathann, can you do Coin and CPLEX? I'll update my SCIP interface to see whether now I can pass all doctests with it?\n* drop setting a variable name by col_name()\n* drop setting a constraint name by row_name()\n* add an optional parameter name to add_variable and add_linear_constraint\n* add an optional parameter obj to add_variable\n* unify get/set_objective_coefficient",
    "created_at": "2010-11-28T13:34:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97098",
    "user": "https://github.com/malb"
}
```

<div id="comment:19" align="right">comment:19</div>

I did the changes below for the GenericBackend and GLPK. Nathann, can you do Coin and CPLEX? I'll update my SCIP interface to see whether now I can pass all doctests with it?
* drop setting a variable name by col_name()
* drop setting a constraint name by row_name()
* add an optional parameter name to add_variable and add_linear_constraint
* add an optional parameter obj to add_variable
* unify get/set_objective_coefficient



---

archive/issue_comments_097099.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nHello !!!\n\nMartin, the point is that I do not know how to get rid of setting names through col_name and row_name for the moment ! It would mean show() would have to be rewritten, and I do not know how to do it nicely ! `:-/`\n\nIf you have any idea...\n\nNathann",
    "created_at": "2010-11-28T13:58:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97099",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:20" align="right">comment:20</div>

Hello !!!

Martin, the point is that I do not know how to get rid of setting names through col_name and row_name for the moment ! It would mean show() would have to be rewritten, and I do not know how to do it nicely ! `:-/`

If you have any idea...

Nathann



---

archive/issue_comments_097100.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nMy best bet would be to keep the name argument in row/col_name, and have SCIP ignore it when it is given or raise an exception. It is already the case for Coin which does not accept names for everything. We could then define a name when the variable/constraint is added (which would work for SCIP), or later on (which wouldn't for SCIP)..\n\nThen again, dropping everything name-related may be the best idea in the end. It's totally useless, it adds arguments/methods everywhere, and no two solvers handle it the same way. What do you think of it ?\n\nNathann",
    "created_at": "2010-11-28T14:02:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97100",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:21" align="right">comment:21</div>

My best bet would be to keep the name argument in row/col_name, and have SCIP ignore it when it is given or raise an exception. It is already the case for Coin which does not accept names for everything. We could then define a name when the variable/constraint is added (which would work for SCIP), or later on (which wouldn't for SCIP)..

Then again, dropping everything name-related may be the best idea in the end. It's totally useless, it adds arguments/methods everywhere, and no two solvers handle it the same way. What do you think of it ?

Nathann



---

archive/issue_comments_097101.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nDid you check my patch? For some reason p.show() still works, or is the doctest not enough to ensure this?",
    "created_at": "2010-11-28T14:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97101",
    "user": "https://github.com/malb"
}
```

<div id="comment:22" align="right">comment:22</div>

Did you check my patch? For some reason p.show() still works, or is the doctest not enough to ensure this?



---

archive/issue_comments_097102.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@malb](#comment:22):\n> Did you check my patch? For some reason p.show() still works, or is the doctest not enough to ensure this?\n\nWell, if your doctests pass then I guess the docstring is not enough. Anyway, for the moment the variable's names are just \"cached\" inside of MixedIntegerLinearProgram, because I thought stupid to call routines to updates the names unless someone wants to show() it or to export it to a file (which one never does when actually trying to solve them). There is a method named update_variable_name, which you commented in your patch, which does just that : before print show() or exporting the result, it updates the variable's names. This is the only way for the variables to have a name, and as it is usually done after the LP has been generated, it has to use the set_col_name commands. I remember having written somewhere that it was broken at some point, but I am never too eager to deal with this name mess.\n\nOh, of course everything works fine if you comment #update_variable_names. The .show() method will just print x_1, x_2, etc and the .lp and .mps files will have the same kind of names. I do not think it is that awful, and removing all this name-related stuff from the class will just make it easier to work with.\n\nI mean, it would have been nice to be able to deal with names, but :\n\n* The solvers all have a different way to deal with them. If we want to be able to deal with them all, we'll just end up with an awkward interface\n* You don't use them, I don't use them, they play no part in the actual solving of LP which stil;l has to be considered the main point here\n* The LP file formats deal with names, the solver's libraries too, but then again people write LP in languages like AMPL or Mathprog (for GLPK), which have a very basic set of commands available as they are only meant to deal with LP. In Sage, we have Python which is infinitely more expressive...\n\nIt looks like a lot of work for something we're not even sure we can use...\n\nNathann",
    "created_at": "2010-11-28T14:24:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97102",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@malb](#comment:22):
> Did you check my patch? For some reason p.show() still works, or is the doctest not enough to ensure this?

Well, if your doctests pass then I guess the docstring is not enough. Anyway, for the moment the variable's names are just "cached" inside of MixedIntegerLinearProgram, because I thought stupid to call routines to updates the names unless someone wants to show() it or to export it to a file (which one never does when actually trying to solve them). There is a method named update_variable_name, which you commented in your patch, which does just that : before print show() or exporting the result, it updates the variable's names. This is the only way for the variables to have a name, and as it is usually done after the LP has been generated, it has to use the set_col_name commands. I remember having written somewhere that it was broken at some point, but I am never too eager to deal with this name mess.

Oh, of course everything works fine if you comment #update_variable_names. The .show() method will just print x_1, x_2, etc and the .lp and .mps files will have the same kind of names. I do not think it is that awful, and removing all this name-related stuff from the class will just make it easier to work with.

I mean, it would have been nice to be able to deal with names, but :

* The solvers all have a different way to deal with them. If we want to be able to deal with them all, we'll just end up with an awkward interface
* You don't use them, I don't use them, they play no part in the actual solving of LP which stil;l has to be considered the main point here
* The LP file formats deal with names, the solver's libraries too, but then again people write LP in languages like AMPL or Mathprog (for GLPK), which have a very basic set of commands available as they are only meant to deal with LP. In Sage, we have Python which is infinitely more expressive...

It looks like a lot of work for something we're not even sure we can use...

Nathann



---

archive/issue_comments_097103.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nSo what about:\n* If the user wants to use names then (s)he has to provide them at creation time of variables or constraints. \n* Solvers which don't support them, simply ignore them. \n* In show, if there is a custom name set (queried by backend.col_name() and backend.row_name()) then it is used for printing\n* When writing lp we do the same?",
    "created_at": "2010-11-28T14:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97103",
    "user": "https://github.com/malb"
}
```

<div id="comment:24" align="right">comment:24</div>

So what about:
* If the user wants to use names then (s)he has to provide them at creation time of variables or constraints. 
* Solvers which don't support them, simply ignore them. 
* In show, if there is a custom name set (queried by backend.col_name() and backend.row_name()) then it is used for printing
* When writing lp we do the same?



---

archive/issue_comments_097104.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@malb](#comment:24):\n> So what about:\n> * If the user wants to use names then (s)he has to provide them at creation time of variables or constraints. \n> * Solvers which don't support them, simply ignore them. \n> * In show, if there is a custom name set (queried by backend.col_name() and backend.row_name()) then it is used for printing\n> * When writing lp we do the same?\n\n.....\n\nSounds logic enough `:-p`\n\nIt just exposes I had a stupid idea when I wrote this set_row_name in the first place. And I guess it's only fitting that I clean my own mess. Please comment the code from mip.py you need to make your patch run and pass doctests, and I'll change what is needed there when dealing with Coin and CPLEX !\n\nNathann",
    "created_at": "2010-11-28T14:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97104",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@malb](#comment:24):
> So what about:
> * If the user wants to use names then (s)he has to provide them at creation time of variables or constraints. 
> * Solvers which don't support them, simply ignore them. 
> * In show, if there is a custom name set (queried by backend.col_name() and backend.row_name()) then it is used for printing
> * When writing lp we do the same?

.....

Sounds logic enough `:-p`

It just exposes I had a stupid idea when I wrote this set_row_name in the first place. And I guess it's only fitting that I clean my own mess. Please comment the code from mip.py you need to make your patch run and pass doctests, and I'll change what is needed there when dealing with Coin and CPLEX !

Nathann



---

archive/issue_comments_097105.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\npart3 passes doctests for me. However, so far it simply ignores names.",
    "created_at": "2010-11-28T14:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97105",
    "user": "https://github.com/malb"
}
```

<div id="comment:26" align="right">comment:26</div>

part3 passes doctests for me. However, so far it simply ignores names.



---

archive/issue_comments_097106.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nPS: Can you give me some examples which take about 1 minute to compute with GLPK from the graph module? I want to test the performance of the SCIP solver for those.",
    "created_at": "2010-11-28T14:43:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97106",
    "user": "https://github.com/malb"
}
```

<div id="comment:27" align="right">comment:27</div>

PS: Can you give me some examples which take about 1 minute to compute with GLPK from the graph module? I want to test the performance of the SCIP solver for those.



---

archive/issue_comments_097107.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOh ! To compare performances, you could just try a sage -t on graph.py digraph.py and generic_graph.py.\n\nI guess the performances would then depend on the kind of problem : all the solvers I tried until now are just awful for the minor method :\n\n```python\nsage: %time graphs.Grid2dGraph(5,5).minor(graphs.CompleteGraph(4), solver = \"GLPK\")\nCPU times: user 10.59 s, sys: 0.01 s, total: 10.60 s\nWall time: 10.62 s\n{0: [(1, 3), (1, 2), (3, 3), (4, 4), (1, 4), (2, 3), (3, 4)], 1: [(2, 1), (2, 2), (3, 2), (4, 2), (2, 0)], 2: [(0, 0), (1, 0), (0, 1), (0, 2)], 3: [(1, 1)]}\n```\nThe methods raises an exception when 4 becomes 5, which is natural as the problem has no solution, but it takes one lifetime to get this answer from GLPK. If SCIP can get it quickly, that's just a miracle `:-D`\n\nAnother problem of the same kind :\n\n```python\nn = 7\ngraphs.Grid2dGraph(n,n).disjoint_routed_paths([((0,0), (n-1,n-1)), ((0, n-1), (n-1, 0))])\n```\n\nThis already takes 10 seconds with CPLEX. Try n=8 if you are patient !\n\nThe answer is also an infeasibility, and the solvers are having a hard time proving it.. But I guess it just comes from my bad LP formulation `^^;`\n\nA different type of LP formulation, on random graphs :\n\n```python\nfrom sage.graphs.graph_coloring import edge_coloring\n%timeit edge_coloring(graphs.RandomGNP(30,.3), solver = \"GLPK\", verbose = 2)\n5 loops, best of 3: 4.47 s per loop\n```\n\nNathann",
    "created_at": "2010-11-28T15:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97107",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:28" align="right">comment:28</div>

Oh ! To compare performances, you could just try a sage -t on graph.py digraph.py and generic_graph.py.

I guess the performances would then depend on the kind of problem : all the solvers I tried until now are just awful for the minor method :

```python
sage: %time graphs.Grid2dGraph(5,5).minor(graphs.CompleteGraph(4), solver = "GLPK")
CPU times: user 10.59 s, sys: 0.01 s, total: 10.60 s
Wall time: 10.62 s
{0: [(1, 3), (1, 2), (3, 3), (4, 4), (1, 4), (2, 3), (3, 4)], 1: [(2, 1), (2, 2), (3, 2), (4, 2), (2, 0)], 2: [(0, 0), (1, 0), (0, 1), (0, 2)], 3: [(1, 1)]}
```
The methods raises an exception when 4 becomes 5, which is natural as the problem has no solution, but it takes one lifetime to get this answer from GLPK. If SCIP can get it quickly, that's just a miracle `:-D`

Another problem of the same kind :

```python
n = 7
graphs.Grid2dGraph(n,n).disjoint_routed_paths([((0,0), (n-1,n-1)), ((0, n-1), (n-1, 0))])
```

This already takes 10 seconds with CPLEX. Try n=8 if you are patient !

The answer is also an infeasibility, and the solvers are having a hard time proving it.. But I guess it just comes from my bad LP formulation `^^;`

A different type of LP formulation, on random graphs :

```python
from sage.graphs.graph_coloring import edge_coloring
%timeit edge_coloring(graphs.RandomGNP(30,.3), solver = "GLPK", verbose = 2)
5 loops, best of 3: 4.47 s per loop
```

Nathann



---

archive/issue_comments_097108.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nOn my machine:\n\n```python\nsage: %time graphs.Grid2dGraph(5,5).minor(graphs.CompleteGraph(4), solver = \"GLPK\", verbose=0)\nCPU times: user 2.81 s, sys: 0.00 s, total: 2.81 s\nWall time: 2.82 s\n{0: [(1, 3), (1, 2), (1, 1), (2, 3), (2, 4)], 1: [(3, 0), (1, 0), (3, 1), (2, 0)], 2: [(2, 1)], 3: [(4, 4), (2, 2), (3, 2), (4, 2), (4, 3), (3, 4)]}\n```\n\nIt seems there's still a bug in my SCIP interface:\n\n```python\nsage: %time graphs.Grid2dGraph(5,5).minor(graphs.CompleteGraph(4), solver = \"SCIP\", verbose=0)\nCPU times: user 1.88 s, sys: 0.04 s, total: 1.92 s\nWall time: 1.94 s\n{0: [(0, 0), (0, 1)], 1: [(1, 1)], 2: [(2, 1), (2, 2), (1, 0), (2, 0)], 3: [(1, 2), (0, 2)]}\n```",
    "created_at": "2010-11-28T15:47:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97108",
    "user": "https://github.com/malb"
}
```

<div id="comment:29" align="right">comment:29</div>

On my machine:

```python
sage: %time graphs.Grid2dGraph(5,5).minor(graphs.CompleteGraph(4), solver = "GLPK", verbose=0)
CPU times: user 2.81 s, sys: 0.00 s, total: 2.81 s
Wall time: 2.82 s
{0: [(1, 3), (1, 2), (1, 1), (2, 3), (2, 4)], 1: [(3, 0), (1, 0), (3, 1), (2, 0)], 2: [(2, 1)], 3: [(4, 4), (2, 2), (3, 2), (4, 2), (4, 3), (3, 4)]}
```

It seems there's still a bug in my SCIP interface:

```python
sage: %time graphs.Grid2dGraph(5,5).minor(graphs.CompleteGraph(4), solver = "SCIP", verbose=0)
CPU times: user 1.88 s, sys: 0.04 s, total: 1.92 s
Wall time: 1.94 s
{0: [(0, 0), (0, 1)], 1: [(1, 1)], 2: [(2, 1), (2, 2), (1, 0), (2, 0)], 3: [(1, 2), (0, 2)]}
```



---

archive/issue_comments_097109.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@malb](#comment:29):\n> It seems there's still a bug in my SCIP interface:\n\nWhy so ? The answer is not unique ! `:-)`\n\nNathann",
    "created_at": "2010-11-28T16:20:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97109",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@malb](#comment:29):
> It seems there's still a bug in my SCIP interface:

Why so ? The answer is not unique ! `:-)`

Nathann



---

archive/issue_comments_097110.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThat's a critical piece of information I missed :)",
    "created_at": "2010-11-28T16:28:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97110",
    "user": "https://github.com/malb"
}
```

<div id="comment:31" align="right">comment:31</div>

That's a critical piece of information I missed :)



---

archive/issue_events_134696.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-11-29T19:07:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134696"
}
```



---

archive/issue_events_134697.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-11-29T19:07:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134697"
}
```



---

archive/issue_comments_097111.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nPlus CPLEX, plus Coin ! `:-)`\n\nNathann",
    "created_at": "2010-11-29T19:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97111",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:32" align="right">comment:32</div>

Plus CPLEX, plus Coin ! `:-)`

Nathann



---

archive/issue_comments_097112.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,3 +11,4 @@\n * mip_interface_changes.patch\n * trac_10431-part2.patch\n * trac_10431-part3.patch\n+* trac_10431-part4.patch\n``````\n",
    "created_at": "2010-11-29T19:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97112",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,3 +11,4 @@
 * mip_interface_changes.patch
 * trac_10431-part2.patch
 * trac_10431-part3.patch
+* trac_10431-part4.patch
``````




---

archive/issue_comments_097113.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThe patch looks good, I'm running long doctests on sage.math now. Can I assume you ran doctests for CPLEX and Coin (i.e. with the optional packages installed)? I think the only remaining issue is:\n\n```python\nsage: p = MixedIntegerLinearProgram()\nsage: p.new_variable(name=\"foo\")                                                                                                                                                                               \nMIPVariable of dimension 1.                                                                                                                                                                                    \nsage: x = _\nsage: p.add_constraint(0 <= x[1] <= 2)\nsage: p.show()\nMaximization:\n  \nConstraints:\n  x_0 <= 2.0\nVariables:\n  x_0 is a real variable (min=0.0, max=+oo)\n```\n\nFor some reason MIPVariable ignores the optional name parameter and hardcodes \"x\". Is there a reason for this?",
    "created_at": "2010-11-30T13:44:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97113",
    "user": "https://github.com/malb"
}
```

<div id="comment:34" align="right">comment:34</div>

The patch looks good, I'm running long doctests on sage.math now. Can I assume you ran doctests for CPLEX and Coin (i.e. with the optional packages installed)? I think the only remaining issue is:

```python
sage: p = MixedIntegerLinearProgram()
sage: p.new_variable(name="foo")                                                                                                                                                                               
MIPVariable of dimension 1.                                                                                                                                                                                    
sage: x = _
sage: p.add_constraint(0 <= x[1] <= 2)
sage: p.show()
Maximization:
  
Constraints:
  x_0 <= 2.0
Variables:
  x_0 is a real variable (min=0.0, max=+oo)
```

For some reason MIPVariable ignores the optional name parameter and hardcodes "x". Is there a reason for this?



---

archive/issue_comments_097114.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\n> Is there a reason for this?\n\nNot really. \nTechnically, you will find this 'x' inside of the `__repr__` method in LinearFunction, which does not care at all whether the variable has a name or not (it does not even know the MIPVariable object itself, just its id in the LP, and the MIPVariable itself does not know its name (only the LP does). All of is has to be rewritten, it is ugly and inefficient code, but would like to find a way to deal with this that does not make every LP waste time on totally useless name-related operations. \n\nI still think we should just remove anything in these classes which is name-related for the same eternal reasons. The code is ugly, hard to understand, it slows the class down, and it is totally useless for solving LP anyway `:-/`\n\nNathann",
    "created_at": "2010-11-30T15:38:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97114",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:35" align="right">comment:35</div>

> Is there a reason for this?

Not really. 
Technically, you will find this 'x' inside of the `__repr__` method in LinearFunction, which does not care at all whether the variable has a name or not (it does not even know the MIPVariable object itself, just its id in the LP, and the MIPVariable itself does not know its name (only the LP does). All of is has to be rewritten, it is ugly and inefficient code, but would like to find a way to deal with this that does not make every LP waste time on totally useless name-related operations. 

I still think we should just remove anything in these classes which is name-related for the same eternal reasons. The code is ugly, hard to understand, it slows the class down, and it is totally useless for solving LP anyway `:-/`

Nathann



---

archive/issue_comments_097115.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nOh, and I of course checked all the patches on CPLEX and Coin each time. All tests do not pass, because of old bugs :\n\n* Coin does not support names, so some doctests in mip.py fail because of that\n* for some reason the variable_min/max command on CPLEX variables that are not bounded return a BIG NUMBER and not None when the variable is not bounded (the doctest of a p.show() in mip.py fails because of that)\n* There is a doctest in generic_graph that fails when one uses LP and Coin to solve a max_flow problem on graphs whose edges are randomly weighted. Coin sometimes answers 8.16540000001 instead of 8.1654 and the tests is an equality.\n\nIn the end, the remaining bugs (and they have been there for quite a while, but I did not really worry....) are all about displaying stuff. One is about numerical noise on a very specific case (Coin + Flows. One also has to know that by default Sage uses a Cython implementation of the Ford-Fulkerson algorithm to compute a flow, and not the LP unless asked otherwise -- I made the docstring of Graph.flow mention this noise).\n\nShort of this, all tests pass in graph.py, digraph.py and generic_graph.py. So all the methods there do not see the difference between GLPK, Coin or CPLEX (except for the time spent testing the docstrings) `;-)`\n\nWould it be possible to address them in a future ticket ? And could I please have your thoughts about removing all these names from the class ? `:-)`\n\nNathann",
    "created_at": "2010-11-30T15:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97115",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:36" align="right">comment:36</div>

Oh, and I of course checked all the patches on CPLEX and Coin each time. All tests do not pass, because of old bugs :

* Coin does not support names, so some doctests in mip.py fail because of that
* for some reason the variable_min/max command on CPLEX variables that are not bounded return a BIG NUMBER and not None when the variable is not bounded (the doctest of a p.show() in mip.py fails because of that)
* There is a doctest in generic_graph that fails when one uses LP and Coin to solve a max_flow problem on graphs whose edges are randomly weighted. Coin sometimes answers 8.16540000001 instead of 8.1654 and the tests is an equality.

In the end, the remaining bugs (and they have been there for quite a while, but I did not really worry....) are all about displaying stuff. One is about numerical noise on a very specific case (Coin + Flows. One also has to know that by default Sage uses a Cython implementation of the Ford-Fulkerson algorithm to compute a flow, and not the LP unless asked otherwise -- I made the docstring of Graph.flow mention this noise).

Short of this, all tests pass in graph.py, digraph.py and generic_graph.py. So all the methods there do not see the difference between GLPK, Coin or CPLEX (except for the time spent testing the docstrings) `;-)`

Would it be possible to address them in a future ticket ? And could I please have your thoughts about removing all these names from the class ? `:-)`

Nathann



---

archive/issue_comments_097116.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\n> Would it be possible to address them in a future ticket ? \n\nAgreed.\n\n> And could I please have your thoughts about removing all these names from the class ? :-)\n\nI'm unsure about this. But it is certainly undesirable to allow \"name\" as a parameter in new_variable() and then to ignore it. My main motivation for keeping names around would be to make debugging easier: I can check whether my mixed integer program looks like I want it to look without getting confused about variable name matching.",
    "created_at": "2010-11-30T16:20:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97116",
    "user": "https://github.com/malb"
}
```

<div id="comment:37" align="right">comment:37</div>

> Would it be possible to address them in a future ticket ? 

Agreed.

> And could I please have your thoughts about removing all these names from the class ? :-)

I'm unsure about this. But it is certainly undesirable to allow "name" as a parameter in new_variable() and then to ignore it. My main motivation for keeping names around would be to make debugging easier: I can check whether my mixed integer program looks like I want it to look without getting confused about variable name matching.



---

archive/issue_comments_097117.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\n> I'm unsure about this. But it is certainly undesirable to allow \"name\" as a parameter in new_variable() and then to ignore it. My main motivation for keeping names around would be to make debugging easier: I can check whether my mixed integer program looks like I want it to look without getting confused about variable name matching.\n\nIt can be very useful like that for sure.... But I really can not stand that the performances of a solver could somehow suffer because of something which is not used 99% of the time : when the LP are known to work. I really hope this could be fixed soon `:-/`\n\nNathann",
    "created_at": "2010-11-30T16:58:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97117",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:38" align="right">comment:38</div>

> I'm unsure about this. But it is certainly undesirable to allow "name" as a parameter in new_variable() and then to ignore it. My main motivation for keeping names around would be to make debugging easier: I can check whether my mixed integer program looks like I want it to look without getting confused about variable name matching.

It can be very useful like that for sure.... But I really can not stand that the performances of a solver could somehow suffer because of something which is not used 99% of the time : when the LP are known to work. I really hope this could be fixed soon `:-/`

Nathann



---

archive/issue_comments_097118.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nHow does performance suffer exactly? Names aren't used except for showing and writing lp files?",
    "created_at": "2010-11-30T17:02:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97118",
    "user": "https://github.com/malb"
}
```

<div id="comment:39" align="right">comment:39</div>

How does performance suffer exactly? Names aren't used except for showing and writing lp files?



---

archive/issue_comments_097119.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nnames aren't used except in these cases, but when the mip.py file will have been rewritten any creation of variable will mean storing+concatenating names, any call to add_variables/constraints already creates variables that are to receive potential names. I still do not know the loss between calls of cdef methods and cpdef, and one of the reasons why we have so many optional arguments is to deal with names. And so much in the backends is about names (I can not stand to look at code when I know it is never used. I immediately want to remove it)\n\nI mean, all the LP interface does is create constraints and variables. When you add name considerations to all of these things, you just add time to earn nothing. I will have fun profiling all this when it will be in to check what we could earn by removing them or writing it more smartly. Perhaps I'm just complaining for nothing as usual... Even though cutting the code by half seems tempting just for its sake `:-D`\n\nNathann",
    "created_at": "2010-11-30T17:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97119",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:40" align="right">comment:40</div>

names aren't used except in these cases, but when the mip.py file will have been rewritten any creation of variable will mean storing+concatenating names, any call to add_variables/constraints already creates variables that are to receive potential names. I still do not know the loss between calls of cdef methods and cpdef, and one of the reasons why we have so many optional arguments is to deal with names. And so much in the backends is about names (I can not stand to look at code when I know it is never used. I immediately want to remove it)

I mean, all the LP interface does is create constraints and variables. When you add name considerations to all of these things, you just add time to earn nothing. I will have fun profiling all this when it will be in to check what we could earn by removing them or writing it more smartly. Perhaps I'm just complaining for nothing as usual... Even though cutting the code by half seems tempting just for its sake `:-D`

Nathann



---

archive/issue_comments_097120.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI don't care much about writing LP files but printing of MIPVariables (p.show()) should allow custom names. I'm not saying it should be supported in the backends but the frontend should. It's just the level of convenience users will expect.",
    "created_at": "2010-11-30T18:28:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97120",
    "user": "https://github.com/malb"
}
```

<div id="comment:41" align="right">comment:41</div>

I don't care much about writing LP files but printing of MIPVariables (p.show()) should allow custom names. I'm not saying it should be supported in the backends but the frontend should. It's just the level of convenience users will expect.



---

archive/issue_comments_097121.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nHere is another patch to fix the .show method and the names in general. Even the .lp files exported through Sage bear the good names !\n\nI also fixed the CPLEX problem with infinite bounds, so that all test pass with CPLEX too !\n\nNathann",
    "created_at": "2010-12-04T19:08:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97121",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:42" align="right">comment:42</div>

Here is another patch to fix the .show method and the names in general. Even the .lp files exported through Sage bear the good names !

I also fixed the CPLEX problem with infinite bounds, so that all test pass with CPLEX too !

Nathann



---

archive/issue_comments_097122.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nYou accidentally hardcoded GLPK it seems in generic_backend.pyx?\n\n```python\n  solver = \"GLPK\" \n```",
    "created_at": "2010-12-04T19:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97122",
    "user": "https://github.com/malb"
}
```

<div id="comment:43" align="right">comment:43</div>

You accidentally hardcoded GLPK it seems in generic_backend.pyx?

```python
  solver = "GLPK" 
```



---

archive/issue_comments_097123.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nGloops.... Thank you for spotting it, this would have been nasty `^^;`\n\nI use that line to test LP with GLPK even though I have CPLEX installed....\n\nPatch updated !\n\nNathann",
    "created_at": "2010-12-04T19:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97123",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:44" align="right">comment:44</div>

Gloops.... Thank you for spotting it, this would have been nasty `^^;`

I use that line to test LP with GLPK even though I have CPLEX installed....

Patch updated !

Nathann



---

archive/issue_comments_097124.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nDo doctests sill pass with CPLEX?",
    "created_at": "2010-12-04T19:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97124",
    "user": "https://github.com/malb"
}
```

<div id="comment:45" align="right">comment:45</div>

Do doctests sill pass with CPLEX?



---

archive/issue_comments_097125.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nOf course of course !! I always do a last check with GLPK when I am done with the patch, as it is the \"most important\" solver for Sage `:-)`\n\nNathann",
    "created_at": "2010-12-04T20:04:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97125",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:46" align="right">comment:46</div>

Of course of course !! I always do a last check with GLPK when I am done with the patch, as it is the "most important" solver for Sage `:-)`

Nathann



---

archive/issue_comments_097126.json:
```json
{
    "body": "Reviewer: **Martin Albrecht, Nathann Cohen**",
    "created_at": "2010-12-04T20:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97126",
    "user": "https://github.com/malb"
}
```

Reviewer: **Martin Albrecht, Nathann Cohen**



---

archive/issue_events_134698.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-12-04T20:27:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134698"
}
```



---

archive/issue_events_134699.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-12-04T20:27:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134699"
}
```



---

archive/issue_comments_097127.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nCool, positive review then!",
    "created_at": "2010-12-04T20:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97127",
    "user": "https://github.com/malb"
}
```

<div id="comment:47" align="right">comment:47</div>

Cool, positive review then!



---

archive/issue_events_134700.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-04T22:47:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "milestone_number": null,
    "milestone_title": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134700"
}
```



---

archive/issue_events_134701.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-04T22:47:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "milestone_number": null,
    "milestone_title": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134701"
}
```



---

archive/issue_comments_097128.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nWhy is there a [attachment: trac_10431-part5.patch](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part5.patch.gz)?  Should it be applied?",
    "created_at": "2010-12-05T22:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97128",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:49" align="right">comment:49</div>

Why is there a [attachment: trac_10431-part5.patch](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part5.patch.gz)?  Should it be applied?



---

archive/issue_events_134702.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-05T22:21:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134702"
}
```



---

archive/issue_events_134703.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-05T22:21:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134703"
}
```



---

archive/issue_comments_097129.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nIt should ! I forgot to update the ticket's description `:-)`\n\nNathann",
    "created_at": "2010-12-06T07:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97129",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:50" align="right">comment:50</div>

It should ! I forgot to update the ticket's description `:-)`

Nathann



---

archive/issue_comments_097130.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,3 +12,4 @@\n * trac_10431-part2.patch\n * trac_10431-part3.patch\n * trac_10431-part4.patch\n+* trac_10431-part5.patch\n``````\n",
    "created_at": "2010-12-06T07:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97130",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,3 +12,4 @@
 * trac_10431-part2.patch
 * trac_10431-part3.patch
 * trac_10431-part4.patch
+* trac_10431-part5.patch
``````




---

archive/issue_events_134704.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-12-06T07:36:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134704"
}
```



---

archive/issue_events_134705.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-12-06T07:36:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134705"
}
```



---

archive/issue_events_134706.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-12-06T07:37:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134706"
}
```



---

archive/issue_events_134707.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-12-06T07:37:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134707"
}
```



---

archive/issue_comments_097131.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nPlease fix the commit messages to contain the **correct** ticket number 10341 on the first line.",
    "created_at": "2011-01-23T19:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97131",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:52" align="right">comment:52</div>

Please fix the commit messages to contain the **correct** ticket number 10341 on the first line.



---

archive/issue_events_134708.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-23T19:38:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134708"
}
```



---

archive/issue_events_134709.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-23T19:38:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134709"
}
```



---

archive/issue_comments_097132.json:
```json
{
    "body": "Attachment: **[trac_10431-part4.patch.gz](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part4.patch.gz)**",
    "created_at": "2011-01-23T20:12:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97132",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_10431-part4.patch.gz](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part4.patch.gz)**



---

archive/issue_comments_097133.json:
```json
{
    "body": "Attachment: **[trac_10431-part5.patch.gz](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part5.patch.gz)**",
    "created_at": "2011-01-23T20:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97133",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_10431-part5.patch.gz](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part5.patch.gz)**



---

archive/issue_comments_097134.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nDone ! Sorry about that !\n\nNathann",
    "created_at": "2011-01-23T20:13:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97134",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:53" align="right">comment:53</div>

Done ! Sorry about that !

Nathann



---

archive/issue_events_134710.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-01-23T20:13:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134710"
}
```



---

archive/issue_events_134711.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-01-23T20:13:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134711"
}
```



---

archive/issue_events_134712.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-23T20:18:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134712"
}
```



---

archive/issue_events_134713.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-23T20:18:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134713"
}
```



---

archive/issue_comments_097135.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nCommit message of first patch still needs to be fixed.",
    "created_at": "2011-01-23T20:18:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97135",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:54" align="right">comment:54</div>

Commit message of first patch still needs to be fixed.



---

archive/issue_comments_097136.json:
```json
{
    "body": "Attachment: **[mip_interface_changes-fixed_commit_message.patch.gz](https://github.com/sagemath/sage/files/ticket10341/mip_interface_changes-fixed_commit_message.patch.gz)**",
    "created_at": "2011-01-23T20:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97136",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[mip_interface_changes-fixed_commit_message.patch.gz](https://github.com/sagemath/sage/files/ticket10341/mip_interface_changes-fixed_commit_message.patch.gz)**



---

archive/issue_events_134714.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-01-23T20:21:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134714"
}
```



---

archive/issue_events_134715.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-01-23T20:21:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134715"
}
```



---

archive/issue_comments_097137.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nOOps....\n\nI just uploaded a copy of this one (I can not overwrite it) `^^;`\n\nNathann",
    "created_at": "2011-01-23T20:21:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97137",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:55" align="right">comment:55</div>

OOps....

I just uploaded a copy of this one (I can not overwrite it) `^^;`

Nathann



---

archive/issue_events_134716.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-24T16:46:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134716"
}
```



---

archive/issue_events_134717.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-24T16:46:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134717"
}
```



---

archive/issue_comments_097138.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nPlease check Sphinx syntax:\n\n```\ndocstring of sage.numerical.mip.MixedIntegerLinearProgram.add_constraint:72: (WARNING/2) Literal block expected; none found.\n```",
    "created_at": "2011-01-24T16:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97138",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:56" align="right">comment:56</div>

Please check Sphinx syntax:

```
docstring of sage.numerical.mip.MixedIntegerLinearProgram.add_constraint:72: (WARNING/2) Literal block expected; none found.
```



---

archive/issue_events_134718.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-01-25T10:59:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134718"
}
```



---

archive/issue_events_134719.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-01-25T10:59:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134719"
}
```



---

archive/issue_comments_097139.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@jdemeyer](#comment:56):\n> Please check Sphinx syntax:\n\nRight.... Here it is !\n\nNathann",
    "created_at": "2011-01-25T10:59:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97139",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@jdemeyer](#comment:56):
> Please check Sphinx syntax:

Right.... Here it is !

Nathann



---

archive/issue_comments_097140.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,3 +13,4 @@\n * trac_10431-part3.patch\n * trac_10431-part4.patch\n * trac_10431-part5.patch\n+* trac_10431-part6.patch\n``````\n",
    "created_at": "2011-01-25T10:59:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97140",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,3 +13,4 @@
 * trac_10431-part3.patch
 * trac_10431-part4.patch
 * trac_10431-part5.patch
+* trac_10431-part6.patch
``````




---

archive/issue_comments_097141.json:
```json
{
    "body": "Attachment: **[trac_10431-part6.patch.gz](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part6.patch.gz)**",
    "created_at": "2011-01-25T11:00:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97141",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_10431-part6.patch.gz](https://github.com/sagemath/sage/files/ticket10341/trac_10431-part6.patch.gz)**



---

archive/issue_comments_097142.json:
```json
{
    "body": "Merged: **sage-4.6.2.alpha3**",
    "created_at": "2011-01-26T22:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10341#issuecomment-97142",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.6.2.alpha3**



---

archive/issue_events_134720.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-26T22:27:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134720"
}
```



---

archive/issue_events_134721.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-26T22:27:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10341",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10341#event-134721"
}
```
