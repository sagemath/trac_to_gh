# Issue 10509: cvxopt: undefined symbol: ilaenv_

archive/issues_010456.json:
```json
{
    "assignees": [],
    "body": "After updating ATLAS (#10508), cvxopt fails with\n\n```\nsage: from cvxopt import lapack\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n\n/home/vbraun/opt/sage-4.6.1.alpha3-atlas/<ipython console> in <module>()\n\nImportError: /home/vbraun/opt/sage-4.6.1.alpha3-atlas/local/lib/python2.6/site-packages/cvxopt/lapack.so: undefined symbol: ilaenv_\n```\n\nI've looked into the cvxopt spkg and its `lapack.so` uses the Fortran blas  function `ilaenv` without linking to f77blas. Adding f77blas to the libraries in `setup.py` fixes the undefined symbol error.\n\nAttached is a patch against `patch/setup.py` to add the extra library.\n\n\nCC:  @dimpase @nexttime @kcrisman\n\nKeywords: **ATLAS, BLAS**\n\nReviewer: **Volker Braun**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10509_\n\n",
    "closed_at": "2012-08-01T12:25:15Z",
    "created_at": "2010-12-21T12:53:39Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "cvxopt: undefined symbol: ilaenv_",
    "type": "issue",
    "updated_at": "2012-08-01T12:25:15Z",
    "url": "https://github.com/sagemath/sage/issues/10509",
    "user": "https://github.com/vbraun"
}
```
After updating ATLAS (#10508), cvxopt fails with

```
sage: from cvxopt import lapack
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)

/home/vbraun/opt/sage-4.6.1.alpha3-atlas/<ipython console> in <module>()

ImportError: /home/vbraun/opt/sage-4.6.1.alpha3-atlas/local/lib/python2.6/site-packages/cvxopt/lapack.so: undefined symbol: ilaenv_
```

I've looked into the cvxopt spkg and its `lapack.so` uses the Fortran blas  function `ilaenv` without linking to f77blas. Adding f77blas to the libraries in `setup.py` fixes the undefined symbol error.

Attached is a patch against `patch/setup.py` to add the extra library.


CC:  @dimpase @nexttime @kcrisman

Keywords: **ATLAS, BLAS**

Reviewer: **Volker Braun**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/10509_





---

archive/issue_events_136672.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-21T12:53:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "milestone_number": null,
    "milestone_title": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136672"
}
```



---

archive/issue_events_136673.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-21T12:53:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136673"
}
```



---

archive/issue_events_136674.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-21T12:53:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136674"
}
```



---

archive/issue_events_136675.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-21T12:53:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136675"
}
```



---

archive/issue_events_136676.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-12-21T12:56:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136676"
}
```



---

archive/issue_comments_099460.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nVolker, what platform do you get it on?\nI cannot reproduce it on Linux x86-64 Debian...\nCould it be an Altas hack done wrongly?",
    "created_at": "2010-12-21T13:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99460",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:2" align="right">comment:2</div>

Volker, what platform do you get it on?
I cannot reproduce it on Linux x86-64 Debian...
Could it be an Altas hack done wrongly?



---

archive/issue_events_136677.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2010-12-21T13:06:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136677"
}
```



---

archive/issue_events_136678.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2010-12-21T13:06:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136678"
}
```



---

archive/issue_comments_099461.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHi Dima, I'm talking about my new atlas-3.9.32.spkg from #10508. This version now builds shared libraries for everything, whereas the old atlas-3.8.3 did not provide a shared `libf77blas.so`. I think that cvxopt so far dragged in the static f77blas, so you did not trigger this issue.",
    "created_at": "2010-12-21T13:25:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99461",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">comment:3</div>

Hi Dima, I'm talking about my new atlas-3.9.32.spkg from #10508. This version now builds shared libraries for everything, whereas the old atlas-3.8.3 did not provide a shared `libf77blas.so`. I think that cvxopt so far dragged in the static f77blas, so you did not trigger this issue.



---

archive/issue_comments_099462.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@vbraun](#comment:3):\n> Hi Dima, I'm talking about my new atlas-3.9.32.spkg from #10508. This version now builds shared libraries for everything, whereas the old atlas-3.8.3 did not provide a shared `libf77blas.so`. I think that cvxopt so far dragged in the static f77blas, so you did not trigger this issue.\n\nHmm, how did cvxopt manage this? I'd rather think that something got changed in Atlas - IMHO Atlas 3.8 used to provide a complete wrapper to La@ack...\n\nActually, on some platforms, e.g. OSX PPC, f77blas does not even exist.\nOn this platform, Atlas is not installed. So your patch will break this, for sure.",
    "created_at": "2010-12-21T15:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99462",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@vbraun](#comment:3):
> Hi Dima, I'm talking about my new atlas-3.9.32.spkg from #10508. This version now builds shared libraries for everything, whereas the old atlas-3.8.3 did not provide a shared `libf77blas.so`. I think that cvxopt so far dragged in the static f77blas, so you did not trigger this issue.

Hmm, how did cvxopt manage this? I'd rather think that something got changed in Atlas - IMHO Atlas 3.8 used to provide a complete wrapper to La@ack...

Actually, on some platforms, e.g. OSX PPC, f77blas does not even exist.
On this platform, Atlas is not installed. So your patch will break this, for sure.



---

archive/issue_comments_099463.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAtlas-3.8.3 does only provide a static lapack library, so cvxopt's `lapack.so` statically linked it all:\n\n```\n(sage subshell) volker-desktop:sage-4.6.1.alpha0 vbraun$ ls -al local/lib/liblapack*\n-rw-r--r--. 1 vbraun vbraun 10254224 Nov 15 16:06 local/lib/liblapack.a\nSAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha0\n(sage subshell) volker-desktop:sage-4.6.1.alpha0 vbraun$ readelf -a local/lib/python/site-packages/cvxopt/lapack.so | grep ilaenv\n000000340600  019000000007 R_X86_64_JUMP_SLO 00000000000d6610 ilaenv_ + 0\n   400: 00000000000d6610  5800 FUNC    GLOBAL DEFAULT   11 ilaenv_\n   361: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS ilaenv.f\n   924: 00000000000d6610  5800 FUNC    GLOBAL DEFAULT   11 ilaenv_\nSAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha0\n```\n\nAtlas-3.9.32 builds shared libraries and cvxopt now links against the shared library.\n\n```\n(sage subshell) volker-desktop:sage-4.6.1.alpha3-atlas vbraun$ ls -al local/lib/liblapack* local/lib/libatlas* local/lib/lib*blas*\n-rw-r--r--. 1 vbraun vbraun 10964328 Dec 20 22:36 local/lib/libatlas.a\n-rw-r--r--. 1 vbraun vbraun  6402481 Dec 20 20:39 local/lib/libatlas.so\n-rw-rw-r--. 1 vbraun vbraun   786962 Dec 20 22:36 local/lib/libblas.a\n-rw-r--r--. 1 vbraun vbraun   499528 Dec 20 22:36 local/lib/libcblas.a\n-rw-r--r--. 1 vbraun vbraun   157226 Dec 20 20:39 local/lib/libcblas.so\n-rw-r--r--. 1 vbraun vbraun   599690 Dec 20 22:36 local/lib/libf77blas.a\n-rw-r--r--. 1 vbraun vbraun   154978 Dec 20 20:39 local/lib/libf77blas.so\n-rw-r--r--. 1 vbraun vbraun  1640938 Dec 20 22:36 local/lib/libgslcblas.a\n-rwxr-xr-x. 1 vbraun vbraun      988 Dec 20 22:36 local/lib/libgslcblas.la\nlrwxrwxrwx. 1 vbraun vbraun       20 Dec 20 20:43 local/lib/libgslcblas.so -> libgslcblas.so.0.0.0\nlrwxrwxrwx. 1 vbraun vbraun       20 Dec 20 20:43 local/lib/libgslcblas.so.0 -> libgslcblas.so.0.0.0\n-rwxr-xr-x. 1 vbraun vbraun   896520 Dec 20 20:43 local/lib/libgslcblas.so.0.0.0\n-rw-r--r--. 1 vbraun vbraun 10311776 Dec 20 22:36 local/lib/liblapack.a\n-rw-r--r--. 1 vbraun vbraun  5455501 Dec 20 20:39 local/lib/liblapack.so\n-rw-r--r--. 1 vbraun vbraun   500036 Dec 20 22:36 local/lib/libptcblas.a\n-rw-r--r--. 1 vbraun vbraun   157257 Dec 20 20:39 local/lib/libptcblas.so\n-rw-r--r--. 1 vbraun vbraun   600086 Dec 20 22:36 local/lib/libptf77blas.a\n-rw-r--r--. 1 vbraun vbraun   155009 Dec 20 20:39 local/lib/libptf77blas.so\nSAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha3-atlas\n(sage subshell) volker-desktop:sage-4.6.1.alpha3-atlas vbraun$ readelf -a local/lib/python/site-packages/cvxopt/lapack.so | grep ilaenv\n0000002997f8  004600000007 R_X86_64_JUMP_SLO 0000000000000000 ilaenv_ + 0\n    70: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND ilaenv_\n   471: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND ilaenv_\nSAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha3-atlas\n(sage subshell) volker-desktop:sage-4.6.1.alpha3-atlas vbraun$ readelf -a local/lib/liblapack.so | grep ilaenv\n00000070ff08  04e200000007 R_X86_64_JUMP_SLO 0000000000000000 clapack_ilaenv + 0\n000000710ba8  070d00000007 R_X86_64_JUMP_SLO 0000000000000000 ilaenv_ + 0\n  1250: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND clapack_ilaenv\n  1805: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND ilaenv_\n  3237: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND clapack_ilaenv\n  3792: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND ilaenv_\nSAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha3-atlas\n(sage subshell) volker-desktop:sage-4.6.1.alpha3-atlas vbraun$ readelf -a local/lib/libf77blas.so | grep ilaenv\n00000021e288  004700000007 R_X86_64_JUMP_SLO 00000000000081b0 atl_f77wrap_ilaenv_ + 0\n00000021e2b0  005100000007 R_X86_64_JUMP_SLO 0000000000000000 ATL_ilaenv + 0\n    71: 00000000000081b0    45 FUNC    GLOBAL DEFAULT    6 atl_f77wrap_ilaenv_\n    81: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND ATL_ilaenv\n   409: 00000000000089bc  3147 FUNC    GLOBAL DEFAULT    6 ilaenv_\n    12: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS ATL_f77wrap_ilaenv.c\n    44: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS ilaenv.f\n   400: 00000000000081b0    45 FUNC    GLOBAL DEFAULT    6 atl_f77wrap_ilaenv_\n   410: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND ATL_ilaenv\n   738: 00000000000089bc  3147 FUNC    GLOBAL DEFAULT    6 ilaenv_\nSAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha3-atlas\n```\nIn particular, ilaenv remains UNDefined in cvxopt `lapack.so` and atlas `liblapack.so` and needs to be dynamically linked in from `libf77blas.so`.\n\nI guess we should keep statically linking the static system-provided lapack on Windows and OSX, or change cvxopt to use the C version clapack_ilaenv (since it already links to `libcblas.so`)",
    "created_at": "2010-12-21T15:32:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99463",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:5" align="right">comment:5</div>

Atlas-3.8.3 does only provide a static lapack library, so cvxopt's `lapack.so` statically linked it all:

```
(sage subshell) volker-desktop:sage-4.6.1.alpha0 vbraun$ ls -al local/lib/liblapack*
-rw-r--r--. 1 vbraun vbraun 10254224 Nov 15 16:06 local/lib/liblapack.a
SAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha0
(sage subshell) volker-desktop:sage-4.6.1.alpha0 vbraun$ readelf -a local/lib/python/site-packages/cvxopt/lapack.so | grep ilaenv
000000340600  019000000007 R_X86_64_JUMP_SLO 00000000000d6610 ilaenv_ + 0
   400: 00000000000d6610  5800 FUNC    GLOBAL DEFAULT   11 ilaenv_
   361: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS ilaenv.f
   924: 00000000000d6610  5800 FUNC    GLOBAL DEFAULT   11 ilaenv_
SAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha0
```

Atlas-3.9.32 builds shared libraries and cvxopt now links against the shared library.

```
(sage subshell) volker-desktop:sage-4.6.1.alpha3-atlas vbraun$ ls -al local/lib/liblapack* local/lib/libatlas* local/lib/lib*blas*
-rw-r--r--. 1 vbraun vbraun 10964328 Dec 20 22:36 local/lib/libatlas.a
-rw-r--r--. 1 vbraun vbraun  6402481 Dec 20 20:39 local/lib/libatlas.so
-rw-rw-r--. 1 vbraun vbraun   786962 Dec 20 22:36 local/lib/libblas.a
-rw-r--r--. 1 vbraun vbraun   499528 Dec 20 22:36 local/lib/libcblas.a
-rw-r--r--. 1 vbraun vbraun   157226 Dec 20 20:39 local/lib/libcblas.so
-rw-r--r--. 1 vbraun vbraun   599690 Dec 20 22:36 local/lib/libf77blas.a
-rw-r--r--. 1 vbraun vbraun   154978 Dec 20 20:39 local/lib/libf77blas.so
-rw-r--r--. 1 vbraun vbraun  1640938 Dec 20 22:36 local/lib/libgslcblas.a
-rwxr-xr-x. 1 vbraun vbraun      988 Dec 20 22:36 local/lib/libgslcblas.la
lrwxrwxrwx. 1 vbraun vbraun       20 Dec 20 20:43 local/lib/libgslcblas.so -> libgslcblas.so.0.0.0
lrwxrwxrwx. 1 vbraun vbraun       20 Dec 20 20:43 local/lib/libgslcblas.so.0 -> libgslcblas.so.0.0.0
-rwxr-xr-x. 1 vbraun vbraun   896520 Dec 20 20:43 local/lib/libgslcblas.so.0.0.0
-rw-r--r--. 1 vbraun vbraun 10311776 Dec 20 22:36 local/lib/liblapack.a
-rw-r--r--. 1 vbraun vbraun  5455501 Dec 20 20:39 local/lib/liblapack.so
-rw-r--r--. 1 vbraun vbraun   500036 Dec 20 22:36 local/lib/libptcblas.a
-rw-r--r--. 1 vbraun vbraun   157257 Dec 20 20:39 local/lib/libptcblas.so
-rw-r--r--. 1 vbraun vbraun   600086 Dec 20 22:36 local/lib/libptf77blas.a
-rw-r--r--. 1 vbraun vbraun   155009 Dec 20 20:39 local/lib/libptf77blas.so
SAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha3-atlas
(sage subshell) volker-desktop:sage-4.6.1.alpha3-atlas vbraun$ readelf -a local/lib/python/site-packages/cvxopt/lapack.so | grep ilaenv
0000002997f8  004600000007 R_X86_64_JUMP_SLO 0000000000000000 ilaenv_ + 0
    70: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND ilaenv_
   471: 0000000000000000     0 FUNC    GLOBAL DEFAULT  UND ilaenv_
SAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha3-atlas
(sage subshell) volker-desktop:sage-4.6.1.alpha3-atlas vbraun$ readelf -a local/lib/liblapack.so | grep ilaenv
00000070ff08  04e200000007 R_X86_64_JUMP_SLO 0000000000000000 clapack_ilaenv + 0
000000710ba8  070d00000007 R_X86_64_JUMP_SLO 0000000000000000 ilaenv_ + 0
  1250: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND clapack_ilaenv
  1805: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND ilaenv_
  3237: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND clapack_ilaenv
  3792: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND ilaenv_
SAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha3-atlas
(sage subshell) volker-desktop:sage-4.6.1.alpha3-atlas vbraun$ readelf -a local/lib/libf77blas.so | grep ilaenv
00000021e288  004700000007 R_X86_64_JUMP_SLO 00000000000081b0 atl_f77wrap_ilaenv_ + 0
00000021e2b0  005100000007 R_X86_64_JUMP_SLO 0000000000000000 ATL_ilaenv + 0
    71: 00000000000081b0    45 FUNC    GLOBAL DEFAULT    6 atl_f77wrap_ilaenv_
    81: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND ATL_ilaenv
   409: 00000000000089bc  3147 FUNC    GLOBAL DEFAULT    6 ilaenv_
    12: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS ATL_f77wrap_ilaenv.c
    44: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS ilaenv.f
   400: 00000000000081b0    45 FUNC    GLOBAL DEFAULT    6 atl_f77wrap_ilaenv_
   410: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND ATL_ilaenv
   738: 00000000000089bc  3147 FUNC    GLOBAL DEFAULT    6 ilaenv_
SAGE_ROOT=/home/vbraun/opt/sage-4.6.1.alpha3-atlas
```
In particular, ilaenv remains UNDefined in cvxopt `lapack.so` and atlas `liblapack.so` and needs to be dynamically linked in from `libf77blas.so`.

I guess we should keep statically linking the static system-provided lapack on Windows and OSX, or change cvxopt to use the C version clapack_ilaenv (since it already links to `libcblas.so`)



---

archive/issue_comments_099464.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI meant: keep statically linking the static system-provided lapack on Windows and OSX, but add `libf77blas.so` on real unices. Or use `clapack_ilaenv`, then we are fine since we already link against the C blas.",
    "created_at": "2010-12-21T15:35:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99464",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:6" align="right">comment:6</div>

I meant: keep statically linking the static system-provided lapack on Windows and OSX, but add `libf77blas.so` on real unices. Or use `clapack_ilaenv`, then we are fine since we already link against the C blas.



---

archive/issue_comments_099465.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIn order to also remove the standalone blas in #10508, we need to remove `-lblas` and use `-lcblas -lf77blas` instead.",
    "created_at": "2010-12-22T15:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99465",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

In order to also remove the standalone blas in #10508, we need to remove `-lblas` and use `-lcblas -lf77blas` instead.



---

archive/issue_comments_099466.json:
```json
{
    "body": "Patch against patches/setup.py to add cblas, f77blas and remove standalone blas",
    "created_at": "2010-12-22T15:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99466",
    "user": "https://github.com/vbraun"
}
```

Patch against patches/setup.py to add cblas, f77blas and remove standalone blas



---

archive/issue_comments_099467.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAttachment: **[trac_10509_cvxopt_patches_setup.py.gz](https://github.com/sagemath/sage/files/ticket10509/trac_10509_cvxopt_patches_setup.py.gz)**",
    "created_at": "2011-07-23T10:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99467",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:8" align="right">comment:8</div>

Attachment: **[trac_10509_cvxopt_patches_setup.py.gz](https://github.com/sagemath/sage/files/ticket10509/trac_10509_cvxopt_patches_setup.py.gz)**



---

archive/issue_comments_099468.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nPing.",
    "created_at": "2011-09-20T03:25:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99468",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:9" align="right">comment:9</div>

Ping.



---

archive/issue_comments_099469.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@nexttime](#comment:9):\n> Ping.\n\nwill look into it today.",
    "created_at": "2011-09-20T04:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99469",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@nexttime](#comment:9):
> Ping.

will look into it today.



---

archive/issue_comments_099470.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIf #10508 is not an option yet, we should at least upgrade our dead old LAPACK, since people are having problems installing external packages into Sage which use it, but need a more recent version. (I.e., they get linker errors due to missing symbols.)\n\nAlso, someone<sup>TM</sup> should provide a cvxopt spkg with the patch already applied.",
    "created_at": "2011-09-20T04:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99470",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:11" align="right">comment:11</div>

If #10508 is not an option yet, we should at least upgrade our dead old LAPACK, since people are having problems installing external packages into Sage which use it, but need a more recent version. (I.e., they get linker errors due to missing symbols.)

Also, someone<sup>TM</sup> should provide a cvxopt spkg with the patch already applied.



---

archive/issue_comments_099471.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@nexttime](#comment:11):\n> If #10508 is not an option yet, we should at least upgrade our dead old LAPACK, since people are having problems installing external packages into Sage which use it, but need a more recent version. (I.e., they get linker errors due to missing symbols.)\n> \n> Also, someone<sup>TM</sup> should provide a cvxopt spkg with the patch already applied.\n\nthe power supply of my PPC Powerbook just died, so I can't tell if this will work. :-(\n\nKarl-Dieter, could you please test this on a MacOSX PPC ?",
    "created_at": "2011-09-20T04:57:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99471",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@nexttime](#comment:11):
> If #10508 is not an option yet, we should at least upgrade our dead old LAPACK, since people are having problems installing external packages into Sage which use it, but need a more recent version. (I.e., they get linker errors due to missing symbols.)
> 
> Also, someone<sup>TM</sup> should provide a cvxopt spkg with the patch already applied.

the power supply of my PPC Powerbook just died, so I can't tell if this will work. :-(

Karl-Dieter, could you please test this on a MacOSX PPC ?



---

archive/issue_comments_099472.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@dimpase](#comment:12):\n> the power supply of my PPC Powerbook just died, so I can't tell if this will work. :-(\n\nSo now it's just a book, without power... :/",
    "created_at": "2011-09-20T05:06:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99472",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@dimpase](#comment:12):
> the power supply of my PPC Powerbook just died, so I can't tell if this will work. :-(

So now it's just a book, without power... :/



---

archive/issue_comments_099473.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@dimpase](#comment:12):\n> Replying to [@nexttime](#comment:11):\n> > If #10508 is not an option yet, we should at least upgrade our dead old LAPACK, since people are having problems installing external packages into Sage which use it, but need a more recent version. (I.e., they get linker errors due to missing symbols.)\n> > \n> > Also, someone<sup>TM</sup> should provide a cvxopt spkg with the patch already applied.\n\n> \n> the power supply of my PPC Powerbook just died, so I can't tell if this will work. :-(\n> \n> Karl-Dieter, could you please test this on a MacOSX PPC ?\n>  \n\nIf you tell me exactly what to do and provide and spkg or two, sure.  I know I won't have time while at work to make a new spkg etc.   May need to wait until Thursday.  \n\nWill this potentially impact Cygwin as well?  Just curious.",
    "created_at": "2011-09-20T14:50:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99473",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@dimpase](#comment:12):
> Replying to [@nexttime](#comment:11):
> > If #10508 is not an option yet, we should at least upgrade our dead old LAPACK, since people are having problems installing external packages into Sage which use it, but need a more recent version. (I.e., they get linker errors due to missing symbols.)
> > 
> > Also, someone<sup>TM</sup> should provide a cvxopt spkg with the patch already applied.

> 
> the power supply of my PPC Powerbook just died, so I can't tell if this will work. :-(
> 
> Karl-Dieter, could you please test this on a MacOSX PPC ?
>  

If you tell me exactly what to do and provide and spkg or two, sure.  I know I won't have time while at work to make a new spkg etc.   May need to wait until Thursday.  

Will this potentially impact Cygwin as well?  Just curious.



---

archive/issue_comments_099474.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@kcrisman](#comment:14):\n> Replying to [@dimpase](#comment:12):\n> > Replying to [@nexttime](#comment:11):\n> > > If #10508 is not an option yet, we should at least upgrade our dead old LAPACK, since people are having problems installing external packages into Sage which use it, but need a more recent version. (I.e., they get linker errors due to missing symbols.)\n> > > \n> > > Also, someone<sup>TM</sup> should provide a cvxopt spkg with the patch already applied.\n\n> > \n> > the power supply of my PPC Powerbook just died, so I can't tell if this will work. :-(\n> > \n> > Karl-Dieter, could you please test this on a MacOSX PPC ?\n> >  \n\n> \n> If you tell me exactly what to do and provide and spkg or two, sure.  I know I won't have time while at work to make a new spkg etc.   May need to wait until Thursday.  \n\nwell, apply the patch on this ticket to the cvxopt spkg, and test if it still works.\nUnless I don't understand something, it will not :-)\n\n\n> \n> Will this potentially impact Cygwin as well?  Just curious.\n\nno, it should not.",
    "created_at": "2011-09-20T15:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99474",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@kcrisman](#comment:14):
> Replying to [@dimpase](#comment:12):
> > Replying to [@nexttime](#comment:11):
> > > If #10508 is not an option yet, we should at least upgrade our dead old LAPACK, since people are having problems installing external packages into Sage which use it, but need a more recent version. (I.e., they get linker errors due to missing symbols.)
> > > 
> > > Also, someone<sup>TM</sup> should provide a cvxopt spkg with the patch already applied.

> > 
> > the power supply of my PPC Powerbook just died, so I can't tell if this will work. :-(
> > 
> > Karl-Dieter, could you please test this on a MacOSX PPC ?
> >  

> 
> If you tell me exactly what to do and provide and spkg or two, sure.  I know I won't have time while at work to make a new spkg etc.   May need to wait until Thursday.  

well, apply the patch on this ticket to the cvxopt spkg, and test if it still works.
Unless I don't understand something, it will not :-)


> 
> Will this potentially impact Cygwin as well?  Just curious.

no, it should not.



---

archive/issue_comments_099475.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nEnd of very short attempt:\n\n```\nrunning build_ext\nbuilding 'gsl' extension\ncreating build/temp.macosx-10.4-ppc-2.6\ncreating build/temp.macosx-10.4-ppc-2.6/C\ngcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include/python2.6 -c C/gsl.c -o build/temp.macosx-10.4-ppc-2.6/C/gsl.o\ngcc -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -bundle -undefined dynamic_lookup build/temp.macosx-10.4-ppc-2.6/C/gsl.o -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib/gcc-lib/powerpc-apple-darwin6.8/4.0.3/ -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -lm -llapack -lgsl -lgslcblas -lcblas -lf77blas -lf95 -lgsl -o build/lib.macosx-10.4-ppc-2.6/cvxopt/gsl.so\n/usr/libexec/gcc/powerpc-apple-darwin8/4.0.1/ld: can't locate file for: -lcblas\ncollect2: ld returned 1 exit status\nerror: command 'gcc' failed with exit status 1\nError building/installing cvxopt\n\nreal    0m7.116s\nuser    0m0.953s\nsys     0m1.155s\n```\nMaybe I needed to do #10508 first?  But you didn't say that ;-)",
    "created_at": "2011-09-21T19:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99475",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">comment:16</div>

End of very short attempt:

```
running build_ext
building 'gsl' extension
creating build/temp.macosx-10.4-ppc-2.6
creating build/temp.macosx-10.4-ppc-2.6/C
gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include/python2.6 -c C/gsl.c -o build/temp.macosx-10.4-ppc-2.6/C/gsl.o
gcc -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -bundle -undefined dynamic_lookup build/temp.macosx-10.4-ppc-2.6/C/gsl.o -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib/gcc-lib/powerpc-apple-darwin6.8/4.0.3/ -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -lm -llapack -lgsl -lgslcblas -lcblas -lf77blas -lf95 -lgsl -o build/lib.macosx-10.4-ppc-2.6/cvxopt/gsl.so
/usr/libexec/gcc/powerpc-apple-darwin8/4.0.1/ld: can't locate file for: -lcblas
collect2: ld returned 1 exit status
error: command 'gcc' failed with exit status 1
Error building/installing cvxopt

real    0m7.116s
user    0m0.953s
sys     0m1.155s
```
Maybe I needed to do #10508 first?  But you didn't say that ;-)



---

archive/issue_comments_099476.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@kcrisman](#comment:16):\n> End of very short attempt:\n> \n> ```\n> running build_ext\n> building 'gsl' extension\n> creating build/temp.macosx-10.4-ppc-2.6\n> creating build/temp.macosx-10.4-ppc-2.6/C\n> gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include/python2.6 -c C/gsl.c -o build/temp.macosx-10.4-ppc-2.6/C/gsl.o\n> gcc -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -bundle -undefined dynamic_lookup build/temp.macosx-10.4-ppc-2.6/C/gsl.o -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib/gcc-lib/powerpc-apple-darwin6.8/4.0.3/ -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -lm -llapack -lgsl -lgslcblas -lcblas -lf77blas -lf95 -lgsl -o build/lib.macosx-10.4-ppc-2.6/cvxopt/gsl.so\n> /usr/libexec/gcc/powerpc-apple-darwin8/4.0.1/ld: can't locate file for: -lcblas\n> collect2: ld returned 1 exit status\n> error: command 'gcc' failed with exit status 1\n> Error building/installing cvxopt\n> \n> real    0m7.116s\n> user    0m0.953s\n> sys     0m1.155s\n> ```\n> Maybe I needed to do #10508 first?  But you didn't say that ;-)\n\nNo, 10508 updates Atlas, but on OSX we don't use Atlas at all?!\nWell, perhaps I was missing something: then you should start with the ticket 10508 depends on, then 10508 itself,\nand only then this one.",
    "created_at": "2011-09-21T20:21:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99476",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@kcrisman](#comment:16):
> End of very short attempt:
> 
> ```
> running build_ext
> building 'gsl' extension
> creating build/temp.macosx-10.4-ppc-2.6
> creating build/temp.macosx-10.4-ppc-2.6/C
> gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include -I/Users/student/Desktop/sage-4.7.2.alpha2/local/include/python2.6 -c C/gsl.c -o build/temp.macosx-10.4-ppc-2.6/C/gsl.o
> gcc -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -bundle -undefined dynamic_lookup build/temp.macosx-10.4-ppc-2.6/C/gsl.o -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib/gcc-lib/powerpc-apple-darwin6.8/4.0.3/ -L/Users/student/Desktop/sage-4.7.2.alpha2/local/lib -lm -llapack -lgsl -lgslcblas -lcblas -lf77blas -lf95 -lgsl -o build/lib.macosx-10.4-ppc-2.6/cvxopt/gsl.so
> /usr/libexec/gcc/powerpc-apple-darwin8/4.0.1/ld: can't locate file for: -lcblas
> collect2: ld returned 1 exit status
> error: command 'gcc' failed with exit status 1
> Error building/installing cvxopt
> 
> real    0m7.116s
> user    0m0.953s
> sys     0m1.155s
> ```
> Maybe I needed to do #10508 first?  But you didn't say that ;-)

No, 10508 updates Atlas, but on OSX we don't use Atlas at all?!
Well, perhaps I was missing something: then you should start with the ticket 10508 depends on, then 10508 itself,
and only then this one.



---

archive/issue_comments_099477.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nCorrect, we don't.  What ticket does #10508 depend on?  I don't see a list.\n\nDo we have to link to cblas instead of blas?  I realize this is pretty naive, but I don't know whether that exists on Mac (yet).  We would have to make it, maybe?  See [this ask.sagemath](http://ask.sagemath.org/question/453/linking-to-atlasblas-in-cython) question.",
    "created_at": "2011-09-21T20:52:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99477",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:18" align="right">comment:18</div>

Correct, we don't.  What ticket does #10508 depend on?  I don't see a list.

Do we have to link to cblas instead of blas?  I realize this is pretty naive, but I don't know whether that exists on Mac (yet).  We would have to make it, maybe?  See [this ask.sagemath](http://ask.sagemath.org/question/453/linking-to-atlasblas-in-cython) question.



---

archive/issue_comments_099478.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nWhat's the status of this ticket, given #12011 upgrading ATLAS?\n> Do we have to link to cblas instead of blas?  I realize this is pretty naive, but I don't know whether that exists on Mac (yet).  We would have to make it, maybe?  See [this ask.sagemath](http://ask.sagemath.org/question/453/linking-to-atlasblas-in-cython) question.\n\nSee #12519, where Jeroen is pretty clearly that cblas doesn't exist on Mac, or at least not in the current situation (see #12011 also).",
    "created_at": "2012-03-08T02:32:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99478",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:19" align="right">comment:19</div>

What's the status of this ticket, given #12011 upgrading ATLAS?
> Do we have to link to cblas instead of blas?  I realize this is pretty naive, but I don't know whether that exists on Mac (yet).  We would have to make it, maybe?  See [this ask.sagemath](http://ask.sagemath.org/question/453/linking-to-atlasblas-in-cython) question.

See #12519, where Jeroen is pretty clearly that cblas doesn't exist on Mac, or at least not in the current situation (see #12011 also).



---

archive/issue_comments_099479.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThat is, #12011 is also about upgrading ATLAS now, and #12519 is about cvxopt and blas.",
    "created_at": "2012-03-08T02:33:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99479",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:20" align="right">comment:20</div>

That is, #12011 is also about upgrading ATLAS now, and #12519 is about cvxopt and blas.



---

archive/issue_comments_099480.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@kcrisman](#comment:18):\n> Correct, we don't.  What ticket does #10508 depend on?  I don't see a list.\n> \n> Do we have to link to cblas instead of blas?  I realize this is pretty naive, but I don't know whether that exists on Mac (yet).  We would have to make it, maybe?  See [this ask.sagemath](http://ask.sagemath.org/question/453/linking-to-atlasblas-in-cython) question.\n\n`cblas` exists on Mac OSX in disguise. The equivalent of `-lcblas` in compiler/linker options is `-framework Accelerate`.\nAlthough I have no idea how setup.py has to be modified to accommodate this.",
    "created_at": "2012-03-08T10:54:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99480",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@kcrisman](#comment:18):
> Correct, we don't.  What ticket does #10508 depend on?  I don't see a list.
> 
> Do we have to link to cblas instead of blas?  I realize this is pretty naive, but I don't know whether that exists on Mac (yet).  We would have to make it, maybe?  See [this ask.sagemath](http://ask.sagemath.org/question/453/linking-to-atlasblas-in-cython) question.

`cblas` exists on Mac OSX in disguise. The equivalent of `-lcblas` in compiler/linker options is `-framework Accelerate`.
Although I have no idea how setup.py has to be modified to accommodate this.



---

archive/issue_comments_099481.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nIn fact, at William's answer to that ask.sagemath.org question, he claims `cblas` even exists 'normally', as `/usr/lib/libcblas.dylib` (which it does on Snow Leopard, but not on Tiger).  I got confused by #12519 because Jeroen was referring to it not being one of the Sage installed libraries, not that it didn't exist at all.",
    "created_at": "2012-03-08T18:17:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99481",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:22" align="right">comment:22</div>

In fact, at William's answer to that ask.sagemath.org question, he claims `cblas` even exists 'normally', as `/usr/lib/libcblas.dylib` (which it does on Snow Leopard, but not on Tiger).  I got confused by #12519 because Jeroen was referring to it not being one of the Sage installed libraries, not that it didn't exist at all.



---

archive/issue_comments_099482.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@kcrisman](#comment:22):\n> In fact, at William's answer to that ask.sagemath.org question, he claims `cblas` even exists 'normally', as `/usr/lib/libcblas.dylib` (which it does on Snow Leopard, but not on Tiger). \n\nIn which latter case I believe we use `$SAGE_LOCAL/lib/libgslcblas.dylib` for such purposes.",
    "created_at": "2012-03-08T18:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99482",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@kcrisman](#comment:22):
> In fact, at William's answer to that ask.sagemath.org question, he claims `cblas` even exists 'normally', as `/usr/lib/libcblas.dylib` (which it does on Snow Leopard, but not on Tiger). 

In which latter case I believe we use `$SAGE_LOCAL/lib/libgslcblas.dylib` for such purposes.



---

archive/issue_comments_099483.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nIt seems we should fall back to gslcblas on all old hardware or whenever atlas fails to build. But is it actually full-featured enough? Do all doctests pass if we just use gslcblas for everything?",
    "created_at": "2012-03-08T18:20:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99483",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

It seems we should fall back to gslcblas on all old hardware or whenever atlas fails to build. But is it actually full-featured enough? Do all doctests pass if we just use gslcblas for everything?



---

archive/issue_comments_099484.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@vbraun](#comment:24):\n> It seems we should fall back to gslcblas on all old hardware or whenever atlas fails to build. But is it actually full-featured enough? Do all doctests pass if we just use gslcblas for everything?\n\nApparently.  At any rate\n\n```\nfind . -name \"*blas.dylib\" -print\n```\nin the home directory on my PPC box yields only the library mentioned above and `$SAGE_LOCAL/lib/R/lib/libRblas.dylib`.  So I guess this is ok, if perhaps \"frickin' slow\", according to an old linbox spkg-install.",
    "created_at": "2012-03-08T18:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99484",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@vbraun](#comment:24):
> It seems we should fall back to gslcblas on all old hardware or whenever atlas fails to build. But is it actually full-featured enough? Do all doctests pass if we just use gslcblas for everything?

Apparently.  At any rate

```
find . -name "*blas.dylib" -print
```
in the home directory on my PPC box yields only the library mentioned above and `$SAGE_LOCAL/lib/R/lib/libRblas.dylib`.  So I guess this is ok, if perhaps "frickin' slow", according to an old linbox spkg-install.



---

archive/issue_comments_099485.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@kcrisman](#comment:25):\n> So I guess this is ok, if perhaps \"frickin' slow\", according to an old linbox spkg-install.\n\nSo is your PPC box ;-)",
    "created_at": "2012-03-08T18:29:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99485",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@kcrisman](#comment:25):
> So I guess this is ok, if perhaps "frickin' slow", according to an old linbox spkg-install.

So is your PPC box ;-)



---

archive/issue_comments_099486.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\n> > So I guess this is ok, if perhaps \"frickin' slow\", according to an old linbox spkg-install.\n\n> \n> So is your PPC box ;-)\n\nTouch\u00e9!  But beautiful; you wouldn't believe how many students come into the office and comment on how \"you've got a really cool computer!\"",
    "created_at": "2012-03-08T18:35:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99486",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:27" align="right">comment:27</div>

> > So I guess this is ok, if perhaps "frickin' slow", according to an old linbox spkg-install.

> 
> So is your PPC box ;-)

Touché!  But beautiful; you wouldn't believe how many students come into the office and comment on how "you've got a really cool computer!"



---

archive/issue_events_136679.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-07-19T16:33:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "milestone_number": null,
    "milestone_title": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136679"
}
```



---

archive/issue_comments_099487.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIn the new atlas-3.10.0 the symbol is moved back to liblapack so we can close this ticket as invalid.",
    "created_at": "2012-07-19T16:33:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99487",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">comment:28</div>

In the new atlas-3.10.0 the symbol is moved back to liblapack so we can close this ticket as invalid.



---

archive/issue_events_136680.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-07-19T16:33:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136680"
}
```



---

archive/issue_events_136681.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-07-19T16:33:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136681"
}
```



---

archive/issue_events_136682.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-07-19T16:33:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136682"
}
```



---

archive/issue_events_136683.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-07-19T16:33:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136683"
}
```



---

archive/issue_events_136684.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-01T12:25:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136684"
}
```



---

archive/issue_events_136685.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-01T12:25:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10509#event-136685"
}
```



---

archive/issue_comments_099488.json:
```json
{
    "body": "Changed author from **Volker Braun** to none",
    "created_at": "2012-08-01T12:25:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99488",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Volker Braun** to none



---

archive/issue_comments_099489.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2012-08-01T12:25:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10509",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10509#issuecomment-99489",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Volker Braun**
