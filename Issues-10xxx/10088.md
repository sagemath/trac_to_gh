# Issue 10088: numerical_integral fails for constant expressions

archive/issues_010087.json:
```json
{
    "body": "numerical_integral fails for constant expressions\n\n```\nsage: f = x\nsage: g = x-1\nsage: numerical_integral(f,-2,2)\n(0.0, 4.4389290910485955e-14)\nsage: numerical_integral(g,-2,2)\n(-4.0, 5.550866604629029e-14)\nsage: numerical_integral(f+g, -2, 2)\n(-4.0, 9.4350890128471666e-14)\nsage: numerical_integral(f-g, -2, 2)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n\n/home/luisfe/Varios/quotes/intradia/<ipython console> in <module>()\n\n/opt/SAGE/sage-4.5.2/local/lib/python2.6/site-packages/sage/gsl/integration.so in sage.gsl.integration.numerical_integral (sage/gsl/integration.c:1551)()\n\nValueError: Integrand has wrong number of parameters\n\nsage: type(f-g)\n<type 'sage.symbolic.expression.Expression'>\nsage: f-g\n1\n```\n\nAssignee: jason, jkantor\n\nKeywords: numerical_integral\n\nResolution: fixed\n\nAuthor: Douglas McNeil\n\nReviewer: Luis Felipe Tabera Alonso\n\nMerged: sage-4.7.alpha2\n\nIssue created by migration from https://trac.sagemath.org/ticket/10088\n\n",
    "closed_at": "2011-03-17T19:22:50Z",
    "created_at": "2010-10-06T14:22:45Z",
    "labels": [
        "component: numerical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7",
    "title": "numerical_integral fails for constant expressions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10088",
    "user": "https://github.com/lftabera"
}
```
numerical_integral fails for constant expressions

```
sage: f = x
sage: g = x-1
sage: numerical_integral(f,-2,2)
(0.0, 4.4389290910485955e-14)
sage: numerical_integral(g,-2,2)
(-4.0, 5.550866604629029e-14)
sage: numerical_integral(f+g, -2, 2)
(-4.0, 9.4350890128471666e-14)
sage: numerical_integral(f-g, -2, 2)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)

/home/luisfe/Varios/quotes/intradia/<ipython console> in <module>()

/opt/SAGE/sage-4.5.2/local/lib/python2.6/site-packages/sage/gsl/integration.so in sage.gsl.integration.numerical_integral (sage/gsl/integration.c:1551)()

ValueError: Integrand has wrong number of parameters

sage: type(f-g)
<type 'sage.symbolic.expression.Expression'>
sage: f-g
1
```

Assignee: jason, jkantor

Keywords: numerical_integral

Resolution: fixed

Author: Douglas McNeil

Reviewer: Luis Felipe Tabera Alonso

Merged: sage-4.7.alpha2

Issue created by migration from https://trac.sagemath.org/ticket/10088





---

archive/issue_events_038627.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "rename": {
        "from": "numerical_integral fails for xonstant expressions",
        "to": "numerical_integral fails for constant expressions"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10088#event-38627"
}
```



---

archive/issue_comments_120134.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe patch simply reuses the existing constant-case line in the symbolic expression branch.",
    "created_at": "2011-02-19T08:19:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10088#issuecomment-120134",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

<a id='comment:2'></a>
The patch simply reuses the existing constant-case line in the symbolic expression branch.



---

archive/issue_comments_120135.json:
```json
{
    "body": "<a id='comment:3'></a>\nIs it ready for review? The patch looks right, I will check it.",
    "created_at": "2011-02-19T11:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10088#issuecomment-120135",
    "user": "https://github.com/lftabera"
}
```

<a id='comment:3'></a>
Is it ready for review? The patch looks right, I will check it.



---

archive/issue_events_038628.json:
```json
{
    "actor": "https://github.com/lftabera",
    "created_at": "2011-02-19T11:57:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "milestone": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10088#event-38628"
}
```



---

archive/issue_comments_120136.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-02-22T09:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10088#issuecomment-120136",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_120137.json:
```json
{
    "body": "allow constant (i.e. variable-free) symbolic expressions in numerical_integral",
    "created_at": "2011-02-24T14:02:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10088#issuecomment-120137",
    "user": "https://trac.sagemath.org/admin/accounts/users/dsm"
}
```

allow constant (i.e. variable-free) symbolic expressions in numerical_integral



---

archive/issue_comments_120138.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Luis Felipe Tabera Alonso\"",
    "created_at": "2011-02-26T12:34:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10088#issuecomment-120138",
    "user": "https://github.com/lftabera"
}
```

Changing reviewer from "" to "Luis Felipe Tabera Alonso"



---

archive/issue_comments_120139.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-02-26T12:34:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10088#issuecomment-120139",
    "user": "https://github.com/lftabera"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_120140.json:
```json
{
    "body": "<a id='comment:5'></a>\nAttachment [trac_10088_constant_expressions_numerical_integral.patch](tarball://root/attachments/some-uuid/ticket10088/trac_10088_constant_expressions_numerical_integral.patch) by @lftabera created at 2011-02-26 12:34:08\n\nThe patch solves the problem as expected.",
    "created_at": "2011-02-26T12:34:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10088#issuecomment-120140",
    "user": "https://github.com/lftabera"
}
```

<a id='comment:5'></a>
Attachment [trac_10088_constant_expressions_numerical_integral.patch](tarball://root/attachments/some-uuid/ticket10088/trac_10088_constant_expressions_numerical_integral.patch) by @lftabera created at 2011-02-26 12:34:08

The patch solves the problem as expected.



---

archive/issue_comments_120141.json:
```json
{
    "body": "Changing author from \"\" to \"Douglas McNeil\"",
    "created_at": "2011-02-26T12:34:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10088#issuecomment-120141",
    "user": "https://github.com/lftabera"
}
```

Changing author from "" to "Douglas McNeil"



---

archive/issue_comments_120142.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-03-17T19:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10088#issuecomment-120142",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_038629.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-03-17T19:22:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10088#event-38629"
}
```



---

archive/issue_comments_120143.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.7.alpha2\"",
    "created_at": "2011-03-17T19:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10088",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10088#issuecomment-120143",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-4.7.alpha2"
