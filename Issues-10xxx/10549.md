# Issue 10549: Improvements in canonical_form, is_isomorphic, and graph_isom_equivalent_non_edge_labeled_graph

archive/issues_010496.json:
```json
{
    "assignees": [],
    "body": "This ticket implements several improvements in the three method in the summary.\n\nApply [attachment: trac_10549_flat.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_flat.patch.gz).\n\nDepends on #11181\n\nAssignee: **@jasongrout, @nathanncohen, @rlmill**\n\nCC:  @rlmill @anneschilling\n\nKeywords: **graph, canonical form, isomorphism**\n\nReviewer: **Robert Miller, Anne Schilling**\n\nAuthor: **Christian Stump, Robert Miller**\n\nMerged: **sage-4.7.1.alpha1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10549_\n\n",
    "closed_at": "2011-05-13T06:13:29Z",
    "created_at": "2011-01-03T16:23:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Improvements in canonical_form, is_isomorphic, and graph_isom_equivalent_non_edge_labeled_graph",
    "type": "issue",
    "updated_at": "2023-01-14T15:00:21Z",
    "url": "https://github.com/sagemath/sage/issues/10549",
    "user": "https://github.com/sagetrac-stumpc5"
}
```
This ticket implements several improvements in the three method in the summary.

Apply [attachment: trac_10549_flat.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_flat.patch.gz).

Depends on #11181

Assignee: **@jasongrout, @nathanncohen, @rlmill**

CC:  @rlmill @anneschilling

Keywords: **graph, canonical form, isomorphism**

Reviewer: **Robert Miller, Anne Schilling**

Author: **Christian Stump, Robert Miller**

Merged: **sage-4.7.1.alpha1**

_Issue created by migration from https://trac.sagemath.org/ticket/10549_





---

archive/issue_events_126638.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2011-01-03T16:23:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126638"
}
```



---

archive/issue_events_126639.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2011-01-03T16:23:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126639"
}
```



---

archive/issue_events_126640.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2011-01-03T16:23:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126640"
}
```



---

archive/issue_comments_102514.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nMore specifically, one improvement this ticket makes is the following:\n\nBefore, if given an edge labeled graph, the automorphism group function would first translate this to a non-edge labeled graph of larger size. It would do so by making a vertex `('o',v)` for each original vertex `v`, and also other vertices labeled `('x', i)`.\n\nThis ticket includes the optimization of using consecutive integers in the resulting graph instead of tuples to label the vertices. This removes a lot of overhead when translating back and forth, which makes the automorphism group function much faster.",
    "created_at": "2011-01-11T00:11:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102514",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:1'>Comment 1:</a>
More specifically, one improvement this ticket makes is the following:

Before, if given an edge labeled graph, the automorphism group function would first translate this to a non-edge labeled graph of larger size. It would do so by making a vertex `('o',v)` for each original vertex `v`, and also other vertices labeled `('x', i)`.

This ticket includes the optimization of using consecutive integers in the resulting graph instead of tuples to label the vertices. This removes a lot of overhead when translating back and forth, which makes the automorphism group function much faster.



---

archive/issue_comments_102515.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nUnfortunately, the patch here doeesn't finish the job. For example, on lines 13088--13814, the old translation is still used, and as a result several doctests fail, in `sage/graphs/generic_graph.py` and `sage/geometry/polyhedra/py`.",
    "created_at": "2011-01-11T00:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102515",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:2'>Comment 2:</a>
Unfortunately, the patch here doeesn't finish the job. For example, on lines 13088--13814, the old translation is still used, and as a result several doctests fail, in `sage/graphs/generic_graph.py` and `sage/geometry/polyhedra/py`.



---

archive/issue_events_126641.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-01-11T00:14:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126641"
}
```



---

archive/issue_comments_102516.json:
```json
{
    "body": "Reviewer: **Robert Miller**",
    "created_at": "2011-01-11T00:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102516",
    "user": "https://github.com/rlmill"
}
```

Reviewer: **Robert Miller**



---

archive/issue_comments_102517.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nSorry, that should have been lines 13808--13814.\n\nSame thing also on line 14347.\n\nAnother problem is that copying graph backends is not currently implemented. However, it may seem to be when the line `G._backend = copy( g._backend )` executes without error. It seems to be simply copying the link address:\n\n```\nsage: G = Graph(sparse=True)\nsage: G.add_edges( [(0,1,'a'),(1,2,'b'),(2,3,'c'),(3,4,'b'),(4,0,'a')] )\nsage: G.num_verts()\n5\nsage: X = G.canonical_label(edge_labels=True)\nsage: G.num_verts()\n10\n```\n\nSo that really needs to be fixed.\n\nAlso, this could have better coding style: `for i in [ v for v in g if v not in G_vertices ]:`. This could be `for i in g if i not in G_vertices:`, as there is no need to construct a list there.",
    "created_at": "2011-01-11T00:53:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102517",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:3'>Comment 3:</a>
Sorry, that should have been lines 13808--13814.

Same thing also on line 14347.

Another problem is that copying graph backends is not currently implemented. However, it may seem to be when the line `G._backend = copy( g._backend )` executes without error. It seems to be simply copying the link address:

```
sage: G = Graph(sparse=True)
sage: G.add_edges( [(0,1,'a'),(1,2,'b'),(2,3,'c'),(3,4,'b'),(4,0,'a')] )
sage: G.num_verts()
5
sage: X = G.canonical_label(edge_labels=True)
sage: G.num_verts()
10
```

So that really needs to be fixed.

Also, this could have better coding style: `for i in [ v for v in g if v not in G_vertices ]:`. This could be `for i in g if i not in G_vertices:`, as there is no need to construct a list there.



---

archive/issue_comments_102518.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [@rlmill](#comment%3A3):\n\n> Another problem is that copying graph backends is not currently implemented. However, it may seem to be when the line `G._backend = copy( g._backend )` executes without error.\n\nI now only make G = copy( g ), so this is again quite slow. But I don't see a better way to do it, do you?\n\n> Also, this could have better coding style: `for i in [ v for v in g if v not in G_vertices ]:`. This could be `for i in g if i not in G_vertices:`, as there is no need to construct a list there.\n\ndone.",
    "created_at": "2011-01-11T15:55:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102518",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [@rlmill](#comment%3A3):

> Another problem is that copying graph backends is not currently implemented. However, it may seem to be when the line `G._backend = copy( g._backend )` executes without error.

I now only make G = copy( g ), so this is again quite slow. But I don't see a better way to do it, do you?

> Also, this could have better coding style: `for i in [ v for v in g if v not in G_vertices ]:`. This could be `for i in g if i not in G_vertices:`, as there is no need to construct a list there.

done.



---

archive/issue_comments_102519.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nAttachment: **[trac_10549_refinements_graphs-cs.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_refinements_graphs-cs.patch.gz)**\n\nThe first patch looks very good. Since the ordering of canonical labels will now change for multi-edge and edge labeled graphs, this might be worth mentioning in the release note. Canonical labels are not in principle supposed to be stable from one release to the next, but they generally are. So it would be good to warn users about this.\n\nAs a result, I had to change one of the doctests in `species.py` whose canonical label is relabeled. I am certainly happy with the first patch, so if someone can review my patch, then this ticket can be set to positive review.",
    "created_at": "2011-01-18T21:50:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102519",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:5'>Comment 5:</a>
Attachment: **[trac_10549_refinements_graphs-cs.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_refinements_graphs-cs.patch.gz)**

The first patch looks very good. Since the ordering of canonical labels will now change for multi-edge and edge labeled graphs, this might be worth mentioning in the release note. Canonical labels are not in principle supposed to be stable from one release to the next, but they generally are. So it would be good to warn users about this.

As a result, I had to change one of the doctests in `species.py` whose canonical label is relabeled. I am certainly happy with the first patch, so if someone can review my patch, then this ticket can be set to positive review.



---

archive/issue_comments_102520.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,2 @@\n This ticket implements several improvements in the three method in the summary.\n \n-Still needs work!\n``````\n",
    "created_at": "2011-01-18T21:50:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102520",
    "user": "https://github.com/rlmill"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,2 @@
 This ticket implements several improvements in the three method in the summary.
 
-Still needs work!
``````




---

archive/issue_events_126642.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-01-18T21:50:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126642"
}
```



---

archive/issue_events_126643.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-01-18T21:50:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126643"
}
```



---

archive/issue_events_126644.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-01-23T13:06:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126644"
}
```



---

archive/issue_events_126645.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-01-23T13:06:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126645"
}
```



---

archive/issue_comments_102521.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nHellooooooo !!\n\nOnly two errors in a -testall -long :\n\n```python\nsage -t -long sage-bug/sage/graphs/generic_graph.py\n**********************************************************************\nFile \"/home/ncohen/sage/devel/sage-bug/sage/graphs/generic_graph.py\", line 14686:\n    sage: G.is_isomorphic(H, edge_labels=True)\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"/home/ncohen/sage/devel/sage-bug/sage/graphs/generic_graph.py\", line 14688:\n    sage: G.is_isomorphic(H, edge_labels=True, certify=True)\nExpected:\n    {0: 1, 1: 2, 2: 3, 3: 4, 4: 0}\nGot:\n    (False, None)\n**********************************************************************\n```\n\n(I'm running the latest alpha1)\n\nBy the way : would you know of a \"cheap/elegant\" way to deal with this :\n\n```python\nsage: g = graphs.KneserGraph(8,2)\nsage: h = g.copy()\nsage: %timeit g.is_isomorphic(h)\n125 loops, best of 3: 6.27 ms per loop\nsage: h.relabel()\nsage: %timeit g.is_isomorphic(h)\n125 loops, best of 3: 4.72 ms per loop\nsage: g.relabel()\nsage: %timeit g.is_isomorphic(h)\n125 loops, best of 3: 3.13 ms per loop\n```\n\nOr is it just because of the way labels are handled ?\n\nNathann",
    "created_at": "2011-01-23T13:06:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102521",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:6'>Comment 6:</a>
Hellooooooo !!

Only two errors in a -testall -long :

```python
sage -t -long sage-bug/sage/graphs/generic_graph.py
**********************************************************************
File "/home/ncohen/sage/devel/sage-bug/sage/graphs/generic_graph.py", line 14686:
    sage: G.is_isomorphic(H, edge_labels=True)
Expected:
    True
Got:
    False
**********************************************************************
File "/home/ncohen/sage/devel/sage-bug/sage/graphs/generic_graph.py", line 14688:
    sage: G.is_isomorphic(H, edge_labels=True, certify=True)
Expected:
    {0: 1, 1: 2, 2: 3, 3: 4, 4: 0}
Got:
    (False, None)
**********************************************************************
```

(I'm running the latest alpha1)

By the way : would you know of a "cheap/elegant" way to deal with this :

```python
sage: g = graphs.KneserGraph(8,2)
sage: h = g.copy()
sage: %timeit g.is_isomorphic(h)
125 loops, best of 3: 6.27 ms per loop
sage: h.relabel()
sage: %timeit g.is_isomorphic(h)
125 loops, best of 3: 4.72 ms per loop
sage: g.relabel()
sage: %timeit g.is_isomorphic(h)
125 loops, best of 3: 3.13 ms per loop
```

Or is it just because of the way labels are handled ?

Nathann



---

archive/issue_events_126646.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-03-11T05:25:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126646"
}
```



---

archive/issue_events_126647.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-03-11T05:25:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126647"
}
```



---

archive/issue_comments_102522.json:
```json
{
    "body": "apply after other patch",
    "created_at": "2011-03-11T05:56:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102522",
    "user": "https://github.com/rlmill"
}
```

apply after other patch



---

archive/issue_comments_102523.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nAttachment: **[trac_10549_part2.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_part2.patch.gz)**",
    "created_at": "2011-03-11T06:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102523",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:8'>Comment 8:</a>
Attachment: **[trac_10549_part2.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_part2.patch.gz)**



---

archive/issue_comments_102524.json:
```json
{
    "body": "Attachment: **[trac_10549_refinements_graphs-cs.2.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_refinements_graphs-cs.2.patch.gz)**",
    "created_at": "2011-03-11T07:33:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102524",
    "user": "https://github.com/anneschilling"
}
```

Attachment: **[trac_10549_refinements_graphs-cs.2.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_refinements_graphs-cs.2.patch.gz)**



---

archive/issue_comments_102525.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nI just posted a trivially rebased version of the patch trac_10549_refinements_graphs-cs.2.patch, which should now cleanly apply to sage-4.6.2. The same patch is now also in the sage-combinat queue (with the older version of the patch refinement_graphs-cs.patch disabled).\n\nAnne",
    "created_at": "2011-03-11T07:35:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102525",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:9'>Comment 9:</a>
I just posted a trivially rebased version of the patch trac_10549_refinements_graphs-cs.2.patch, which should now cleanly apply to sage-4.6.2. The same patch is now also in the sage-combinat queue (with the older version of the patch refinement_graphs-cs.patch disabled).

Anne



---

archive/issue_comments_102526.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n This ticket implements several improvements in the three method in the summary.\n \n+Apply trac_10549_refinements_graphs-cs.2.patch and trac_10549_part2.patch.\n``````\n",
    "created_at": "2011-03-11T11:36:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102526",
    "user": "https://github.com/rlmill"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
 This ticket implements several improvements in the three method in the summary.
 
+Apply trac_10549_refinements_graphs-cs.2.patch and trac_10549_part2.patch.
``````




---

archive/issue_comments_102527.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\ntrac_10549_part2.patch correctly fixes a bug in isomorphisms of graphs when edge labels are supposed to be considered.\n\nAnne",
    "created_at": "2011-03-12T09:49:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102527",
    "user": "https://github.com/anneschilling"
}
```

<a id='comment:11'>Comment 11:</a>
trac_10549_part2.patch correctly fixes a bug in isomorphisms of graphs when edge labels are supposed to be considered.

Anne



---

archive/issue_events_126648.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-03-12T19:30:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126648"
}
```



---

archive/issue_events_126649.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-03-12T19:30:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126649"
}
```



---

archive/issue_events_126650.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-03-12T19:30:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126650"
}
```



---

archive/issue_events_126651.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-03-12T19:30:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126651"
}
```



---

archive/issue_comments_102528.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nSince you're happy with the second patch and I'm happy with the first, I'm setting this to positive review.",
    "created_at": "2011-03-12T19:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102528",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:12'>Comment 12:</a>
Since you're happy with the second patch and I'm happy with the first, I'm setting this to positive review.



---

archive/issue_comments_102529.json:
```json
{
    "body": "Changed author from **Christian Stump** to **Christian Stump, Robert Miller**",
    "created_at": "2011-03-12T19:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102529",
    "user": "https://github.com/rlmill"
}
```

Changed author from **Christian Stump** to **Christian Stump, Robert Miller**



---

archive/issue_events_126652.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-03-12T19:30:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126652"
}
```



---

archive/issue_comments_102530.json:
```json
{
    "body": "Changed reviewer from **Robert Miller** to **Robert Miller, Anne Schilling**",
    "created_at": "2011-03-12T19:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102530",
    "user": "https://github.com/rlmill"
}
```

Changed reviewer from **Robert Miller** to **Robert Miller, Anne Schilling**



---

archive/issue_comments_102531.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nI somehow missed Nathann's message. Thanks for providing a patch!\n\nBest, Christian",
    "created_at": "2011-03-12T20:47:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102531",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:13'>Comment 13:</a>
I somehow missed Nathann's message. Thanks for providing a patch!

Best, Christian



---

archive/issue_events_126653.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-03-17T19:22:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126653"
}
```



---

archive/issue_events_126654.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-03-17T19:22:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126654"
}
```



---

archive/issue_comments_102532.json:
```json
{
    "body": "Merged: **sage-4.7.alpha2**",
    "created_at": "2011-03-17T19:22:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102532",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.alpha2**



---

archive/issue_comments_102533.json:
```json
{
    "body": "Changed merged from **sage-4.7.alpha2** to none",
    "created_at": "2011-03-19T17:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102533",
    "user": "https://github.com/jdemeyer"
}
```

Changed merged from **sage-4.7.alpha2** to none



---

archive/issue_comments_102534.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nSome problems on various Buildbot machines (probably the ones which are 32-bit):\n\n```\nsage -t -long  -force_lib devel/sage/sage/combinat/species/species.py\n**********************************************************************\nFile \"/home/buildbot/build/sage/cicero-1/cicero_full/build/sage-4.7.alpha2/devel/sage-main/sage/combinat/species/species.py\", line 667:\n    sage: list(sorted(labels.items()))\nExpected:\n    [(Combinatorial species, 1),\n     (Product of (Combinatorial species) and (Combinatorial species), 3),\n     (Singleton species, 0),\n     (Sum of (Singleton species) and (Product of (Combinatorial species) and (Combinatorial species)), 2)]\nGot:\n    [(Combinatorial species, 0), (Product of (Combinatorial species) and (Combinatorial species), 1), (Singleton species, 3), (Sum of (Singleton species) and (Product of (Combinatorial species) and (Combinatorial species)), 2)]\n**********************************************************************\nFile \"/home/buildbot/build/sage/cicero-1/cicero_full/build/sage-4.7.alpha2/devel/sage-main/sage/combinat/species/species.py\", line 672:\n    sage: g.edges()\nExpected:\n    [(1, 2, None), (2, 0, None), (2, 3, None), (3, 1, None), (3, 1, None)]\nGot:\n    [(0, 2, None), (1, 0, None), (1, 0, None), (2, 1, None), (2, 3, None)]\n**********************************************************************\n```",
    "created_at": "2011-03-19T17:12:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102534",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>Comment 15:</a>
Some problems on various Buildbot machines (probably the ones which are 32-bit):

```
sage -t -long  -force_lib devel/sage/sage/combinat/species/species.py
**********************************************************************
File "/home/buildbot/build/sage/cicero-1/cicero_full/build/sage-4.7.alpha2/devel/sage-main/sage/combinat/species/species.py", line 667:
    sage: list(sorted(labels.items()))
Expected:
    [(Combinatorial species, 1),
     (Product of (Combinatorial species) and (Combinatorial species), 3),
     (Singleton species, 0),
     (Sum of (Singleton species) and (Product of (Combinatorial species) and (Combinatorial species)), 2)]
Got:
    [(Combinatorial species, 0), (Product of (Combinatorial species) and (Combinatorial species), 1), (Singleton species, 3), (Sum of (Singleton species) and (Product of (Combinatorial species) and (Combinatorial species)), 2)]
**********************************************************************
File "/home/buildbot/build/sage/cicero-1/cicero_full/build/sage-4.7.alpha2/devel/sage-main/sage/combinat/species/species.py", line 672:
    sage: g.edges()
Expected:
    [(1, 2, None), (2, 0, None), (2, 3, None), (3, 1, None), (3, 1, None)]
Got:
    [(0, 2, None), (1, 0, None), (1, 0, None), (2, 1, None), (2, 3, None)]
**********************************************************************
```



---

archive/issue_events_126655.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-03-19T17:12:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126655"
}
```



---

archive/issue_comments_102535.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nAttachment: **[trac_10549_flat.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_flat.patch.gz)**",
    "created_at": "2011-04-12T20:27:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102535",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:17'>Comment 17:</a>
Attachment: **[trac_10549_flat.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_flat.patch.gz)**



---

archive/issue_comments_102536.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n This ticket implements several improvements in the three method in the summary.\n \n-Apply trac_10549_refinements_graphs-cs.2.patch and trac_10549_part2.patch.\n+Apply trac_10549_flat2.patch.\n+\n+Depends on #11181.\n``````\n",
    "created_at": "2011-04-12T20:27:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102536",
    "user": "https://github.com/rlmill"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 This ticket implements several improvements in the three method in the summary.
 
-Apply trac_10549_refinements_graphs-cs.2.patch and trac_10549_part2.patch.
+Apply trac_10549_flat2.patch.
+
+Depends on #11181.
``````




---

archive/issue_comments_102537.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This ticket implements several improvements in the three method in the summary.\n \n-Apply trac_10549_flat2.patch.\n+Apply trac_10549_flat.patch.\n \n Depends on #11181.\n``````\n",
    "created_at": "2011-04-12T20:27:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102537",
    "user": "https://github.com/rlmill"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This ticket implements several improvements in the three method in the summary.
 
-Apply trac_10549_flat2.patch.
+Apply trac_10549_flat.patch.
 
 Depends on #11181.
``````




---

archive/issue_comments_102538.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nI'm setting this to needs_review, although note that its dependency #11181 is not quite ready yet.",
    "created_at": "2011-04-12T20:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102538",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:19'>Comment 19:</a>
I'm setting this to needs_review, although note that its dependency #11181 is not quite ready yet.



---

archive/issue_events_126656.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-04-12T20:28:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126656"
}
```



---

archive/issue_events_126657.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-04-12T20:28:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126657"
}
```



---

archive/issue_comments_102539.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nApply trac_10549_flat.patch",
    "created_at": "2011-04-18T22:26:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102539",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:20'>Comment 20:</a>
Apply trac_10549_flat.patch



---

archive/issue_comments_102540.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nPositive review to this one !\n\nPasses -testall -long, so I hope the many, many doctests scattered in Sage which use those methods would have gone ballistic in case I missed something dangerous `:-)`\n\nNathann",
    "created_at": "2011-04-30T17:34:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102540",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:21'>Comment 21:</a>
Positive review to this one !

Passes -testall -long, so I hope the many, many doctests scattered in Sage which use those methods would have gone ballistic in case I missed something dangerous `:-)`

Nathann



---

archive/issue_events_126658.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-04-30T17:34:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126658"
}
```



---

archive/issue_events_126659.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-04-30T17:34:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126659"
}
```



---

archive/issue_events_126660.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-01T09:31:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126660"
}
```



---

archive/issue_events_126661.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-01T09:31:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126661"
}
```



---

archive/issue_comments_102541.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n This ticket implements several improvements in the three method in the summary.\n \n-Apply trac_10549_flat.patch.\n-\n-Depends on #11181.\n+Apply [attachment: trac_10549_flat.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_flat.patch.gz).\n``````\n",
    "created_at": "2011-05-10T08:00:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102541",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
 This ticket implements several improvements in the three method in the summary.
 
-Apply trac_10549_flat.patch.
-
-Depends on #11181.
+Apply [attachment: trac_10549_flat.patch.gz](https://github.com/sagemath/sage/files/ticket10549/trac_10549_flat.patch.gz).
``````




---

archive/issue_comments_102542.json:
```json
{
    "body": "Dependencies: **#11181**",
    "created_at": "2011-05-10T08:00:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102542",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#11181**



---

archive/issue_events_126662.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-10T08:20:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126662"
}
```



---

archive/issue_events_126663.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-10T08:20:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126663"
}
```



---

archive/issue_comments_102543.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nThis patch conflicts with #10804.",
    "created_at": "2011-05-10T08:20:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102543",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'>Comment 24:</a>
This patch conflicts with #10804.



---

archive/issue_events_126664.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-05-11T20:49:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126664"
}
```



---

archive/issue_events_126665.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-05-11T20:49:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126665"
}
```



---

archive/issue_comments_102544.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nGo ahead and merge this one, I'll rebase the other one.",
    "created_at": "2011-05-11T20:49:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102544",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:25'>Comment 25:</a>
Go ahead and merge this one, I'll rebase the other one.



---

archive/issue_events_126666.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-13T06:13:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126666"
}
```



---

archive/issue_events_126667.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-13T06:13:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10549#event-126667"
}
```



---

archive/issue_comments_102545.json:
```json
{
    "body": "Merged: **sage-4.7.1.alpha1**",
    "created_at": "2011-05-13T06:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10549#issuecomment-102545",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.1.alpha1**
