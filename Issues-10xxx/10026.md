# Issue 10026: Complex elliptic logs -- simplified algorithm

archive/issues_010025.json:
```json
{
    "body": "Complex elliptic logs were implemented in #6390 following joint work by John Cremona and Thotsaphon Thongjunthug (as talked about by JC at SD23 in Leiden).  Now the final touches are being put to our joint paper, we found a small simplification to the algorithm, where the iteration now deals with pairs of complex numbers rather than triples.  There is no essential difference except very slightly simpler code, but it is desirable that the code should match the paper in which the algorithm is developed.\n\nPatch up for review: depends on #8820 and #9931.\n\n**Assignee:** @JohnCremona\n\n**CC:**  @categorie @williamstein\n\n**Keywords:** elliptic logarithms\n\n**Author:** John Cremona\n\n**Reviewer:** Chris Wuthrich\n\n**Merged:** sage-4.6.1.alpha2\n\nIssue created by migration from https://trac.sagemath.org/ticket/10026\n\n",
    "closed_at": "2010-11-15T23:42:16Z",
    "created_at": "2010-09-28T13:35:28Z",
    "labels": [
        "component: elliptic curves",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6.1",
    "title": "Complex elliptic logs -- simplified algorithm",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10026",
    "user": "https://github.com/JohnCremona"
}
```
Complex elliptic logs were implemented in #6390 following joint work by John Cremona and Thotsaphon Thongjunthug (as talked about by JC at SD23 in Leiden).  Now the final touches are being put to our joint paper, we found a small simplification to the algorithm, where the iteration now deals with pairs of complex numbers rather than triples.  There is no essential difference except very slightly simpler code, but it is desirable that the code should match the paper in which the algorithm is developed.

Patch up for review: depends on #8820 and #9931.

**Assignee:** @JohnCremona

**CC:**  @categorie @williamstein

**Keywords:** elliptic logarithms

**Author:** John Cremona

**Reviewer:** Chris Wuthrich

**Merged:** sage-4.6.1.alpha2

Issue created by migration from https://trac.sagemath.org/ticket/10026





---

archive/issue_comments_095130.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Complex elliptic logs were implemented in #6390 following joint work by John Cremona and Thotsaphon Thongjunthug (as talked about by JC at SD23 in Leiden).  Now the final touches are being put to our joint paper, we found a small simplification to the algorithm, where the iteration now deals with pairs of complex numbers rather than triples.  There is no essential difference except very slightly simpler code, but it is desirable that the code should match the paper in which the algorithm is developed.\n \n-Patch up shortly: depends on #8820 and #9931.\n+Patch up for review: depends on #8820 and #9931.\n``````\n",
    "created_at": "2010-09-28T13:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95130",
    "user": "https://github.com/JohnCremona"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Complex elliptic logs were implemented in #6390 following joint work by John Cremona and Thotsaphon Thongjunthug (as talked about by JC at SD23 in Leiden).  Now the final touches are being put to our joint paper, we found a small simplification to the algorithm, where the iteration now deals with pairs of complex numbers rather than triples.  There is no essential difference except very slightly simpler code, but it is desirable that the code should match the paper in which the algorithm is developed.
 
-Patch up shortly: depends on #8820 and #9931.
+Patch up for review: depends on #8820 and #9931.
``````




---

archive/issue_events_077386.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-09-28T13:52:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10026#event-77386"
}
```



---

archive/issue_comments_095131.json:
```json
{
    "body": "<a id='comment:2'></a>\nI just checked that this still applies properly, and tests still pass, with the updated patch at #8820 (which still needs a new review).",
    "created_at": "2010-10-03T15:18:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95131",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:2'></a>
I just checked that this still applies properly, and tests still pass, with the updated patch at #8820 (which still needs a new review).



---

archive/issue_comments_095132.json:
```json
{
    "body": "<a id='comment:3'></a>\nNote: this should not get a positive review until this example works properly (reported by WAS):\n\n```\nK.<w> = QuadraticField(2); K\n  E = EllipticCurve([ 0, -1, 1, -3*w -4, 3*w + 4 ])\n```\nand both elliptic_logarithm and elliptic_exponential take a long time (i.e., don't finish while\nI'm waiting).  Is this expected?  I don't understand the complexity, but I sort of thought they would\nbe nearly instant.\n\n```\nembs = K.embeddings(CC)\nLambda = E.period_lattice(embs[0]); Lambda\nT = E.simon_two_descent()\nP,Q = T[2]\nLambda.elliptic_logarithm(P,10)\n```\n[wait foreover?]\n\nI have not yet checked that this behaviour still happens after the patch.",
    "created_at": "2010-10-19T07:55:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95132",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:3'></a>
Note: this should not get a positive review until this example works properly (reported by WAS):

```
K.<w> = QuadraticField(2); K
  E = EllipticCurve([ 0, -1, 1, -3*w -4, 3*w + 4 ])
```
and both elliptic_logarithm and elliptic_exponential take a long time (i.e., don't finish while
I'm waiting).  Is this expected?  I don't understand the complexity, but I sort of thought they would
be nearly instant.

```
embs = K.embeddings(CC)
Lambda = E.period_lattice(embs[0]); Lambda
T = E.simon_two_descent()
P,Q = T[2]
Lambda.elliptic_logarithm(P,10)
```
[wait foreover?]

I have not yet checked that this behaviour still happens after the patch.



---

archive/issue_events_077387.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-10-19T08:07:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10026#event-77387"
}
```



---

archive/issue_events_077388.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-10-19T08:07:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10026#event-77388"
}
```



---

archive/issue_comments_095133.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe patch does not fix that, so I have put it back to \"needs work\" and when fixed, this example should be included as a new doctest.",
    "created_at": "2010-10-19T08:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95133",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:4'></a>
The patch does not fix that, so I have put it back to "needs work" and when fixed, this example should be included as a new doctest.



---

archive/issue_events_077389.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-10-19T08:07:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "milestone": "sage-4.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10026#event-77389"
}
```



---

archive/issue_events_077390.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-10-19T08:07:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "milestone": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10026#event-77390"
}
```



---

archive/issue_events_077391.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-10-19T14:04:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10026#event-77391"
}
```



---

archive/issue_events_077392.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-10-19T14:04:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10026#event-77392"
}
```



---

archive/issue_comments_095134.json:
```json
{
    "body": "<a id='comment:5'></a>\nI have replaced the patch by one which now works for the reported problem example.  Essentially, I just made the elliptic_logarithm function use my new code in all cases, and adjusted some doctests slightly.\n\nReady for review again.",
    "created_at": "2010-10-19T14:04:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95134",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:5'></a>
I have replaced the patch by one which now works for the reported problem example.  Essentially, I just made the elliptic_logarithm function use my new code in all cases, and adjusted some doctests slightly.

Ready for review again.



---

archive/attachments_013066.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_10026-elog.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket10026/trac_10026-elog.patch",
    "created_at": "2010-10-24T20:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/JohnCremona"
}
```



---

archive/issue_comments_095135.json:
```json
{
    "body": "applies to 4.6.rc0",
    "created_at": "2010-10-24T20:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95135",
    "user": "https://github.com/JohnCremona"
}
```

applies to 4.6.rc0



---

archive/issue_comments_095136.json:
```json
{
    "body": "<a id='comment:6'></a>\nAnother update with a better solution:  there is now specific code for all three cases of real points on real curves, which uses the simplified iteration (with real variables).",
    "created_at": "2010-10-24T20:15:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95136",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:6'></a>
Another update with a better solution:  there is now specific code for all three cases of real points on real curves, which uses the simplified iteration (with real variables).



---

archive/attachments_013067.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_10026_reviewer.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket10026/trac_10026_reviewer.patch",
    "created_at": "2010-11-12T19:19:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/categorie"
}
```



---

archive/issue_comments_095137.json:
```json
{
    "body": "to be applied after the first patch",
    "created_at": "2010-11-12T19:19:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95137",
    "user": "https://github.com/categorie"
}
```

to be applied after the first patch



---

archive/issue_comments_095138.json:
```json
{
    "body": "**Reviewer:** Chris Wuthrich",
    "created_at": "2010-11-12T19:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95138",
    "user": "https://github.com/categorie"
}
```

**Reviewer:** Chris Wuthrich



---

archive/issue_events_077393.json:
```json
{
    "actor": "https://github.com/categorie",
    "created_at": "2010-11-12T19:21:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10026#event-77393"
}
```



---

archive/issue_events_077394.json:
```json
{
    "actor": "https://github.com/categorie",
    "created_at": "2010-11-12T19:21:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10026#event-77394"
}
```



---

archive/issue_comments_095139.json:
```json
{
    "body": "<a id='comment:7'></a>\napart from the minor documentation error that I found (and corrected with the second patch) I can not see any problem with this. All the test pass. I do trust the authors of the paper about the algorithms in the patch.",
    "created_at": "2010-11-12T19:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95139",
    "user": "https://github.com/categorie"
}
```

<a id='comment:7'></a>
apart from the minor documentation error that I found (and corrected with the second patch) I can not see any problem with this. All the test pass. I do trust the authors of the paper about the algorithms in the patch.



---

archive/issue_comments_095140.json:
```json
{
    "body": "<a id='comment:8'></a>\nThanks, Chris.  The paper is now at http://arxiv.org/abs/1011.0914 .",
    "created_at": "2010-11-12T20:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95140",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:8'></a>
Thanks, Chris.  The paper is now at http://arxiv.org/abs/1011.0914 .



---

archive/issue_events_077395.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-15T23:42:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10026#event-77395"
}
```



---

archive/issue_events_077396.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-15T23:42:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10026#event-77396"
}
```



---

archive/issue_comments_095141.json:
```json
{
    "body": "**Merged:** sage-4.6.1.alpha2",
    "created_at": "2010-11-15T23:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10026#issuecomment-95141",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.6.1.alpha2
