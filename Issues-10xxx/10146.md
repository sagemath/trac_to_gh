# Issue 10146: update SageTeX spkg to version 2.3.1

archive/issues_010145.json:
```json
{
    "assignees": [],
    "body": "I've just finished a new version of the SageTeX spkg, which is available from \n\nhttp://sage.math.washington.edu/home/drake/code/sage/st/sagetex-2.3.1.spkg\n\nAssignee: **@dandrake**\n\nCC:  @vbraun @sagetrac-abmasse\n\nKeywords: **sd31**\n\nAuthor: **Dan Drake**\n\nReviewer: **Mariah Lenox, Andrey Novoseltsev**\n\nMerged: **sage-4.7.2.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10146_\n\n",
    "closed_at": "2011-07-22T12:49:15Z",
    "created_at": "2010-10-20T13:45:24Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "update SageTeX spkg to version 2.3.1",
    "type": "issue",
    "updated_at": "2011-07-22T12:49:15Z",
    "url": "https://github.com/sagemath/sage/issues/10146",
    "user": "https://github.com/dandrake"
}
```
I've just finished a new version of the SageTeX spkg, which is available from 

http://sage.math.washington.edu/home/drake/code/sage/st/sagetex-2.3.1.spkg

Assignee: **@dandrake**

CC:  @vbraun @sagetrac-abmasse

Keywords: **sd31**

Author: **Dan Drake**

Reviewer: **Mariah Lenox, Andrey Novoseltsev**

Merged: **sage-4.7.2.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/10146_





---

archive/issue_events_121123.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2010-10-20T13:45:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121123"
}
```



---

archive/issue_events_121124.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2010-10-20T13:45:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121124"
}
```



---

archive/issue_events_121125.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2010-10-20T13:45:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121125"
}
```



---

archive/issue_events_121126.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2010-10-20T13:45:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121126"
}
```



---

archive/issue_comments_095507.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nWhat's new in this?  What should we look for?",
    "created_at": "2010-10-21T02:44:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95507",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:1" align="right">Comment 1</div>

What's new in this?  What should we look for?



---

archive/issue_comments_095508.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nRelevant thread on sage-devel: http://groups.google.com/group/sage-devel/browse_thread/thread/9613fc8c1775510f#",
    "created_at": "2010-10-21T02:46:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95508",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:2" align="right">Comment 2</div>

Relevant thread on sage-devel: http://groups.google.com/group/sage-devel/browse_thread/thread/9613fc8c1775510f#



---

archive/issue_events_121127.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-10-21T02:49:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121127"
}
```



---

archive/issue_comments_095509.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nWhat is the sagetex-2.3.cksum file?  How come it's not in the spkg directory?  I've never seen a file like this before",
    "created_at": "2010-10-21T02:49:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95509",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:3" align="right">Comment 3</div>

What is the sagetex-2.3.cksum file?  How come it's not in the spkg directory?  I've never seen a file like this before



---

archive/issue_comments_095510.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nReplying to [@jasongrout](#comment%3A3):\n> What is the sagetex-2.3.cksum file?  How come it's not in the spkg directory?  I've never seen a file like this before\n\nSee #329. It's for doing integrity checks of spkg files. The md5sum of the spkg should be a377b1b98b6e92164f4042783a949e75, if you want to be very cautious.\n\nYou could review #329 after you're done here. :)\n\nReplying to [@jasongrout](#comment%3A1):\n> What's new in this? What should we look for?\n\nThe `sagecommandline` environment is the new thing, so please look carefully at that. Look at the examples, try to make up your own examples, check over the documentation, etc.\n\nLooking over `hg log`, other changes include:\n\n* generated files are now called .sagetex.sage, .sagetex.py, etc.\n* the warning that you need to re-run Sage that LaTeX prints is hopefully a little more obvious\n* there's a CONTRIBUTORS file.\n\nThe commandline environment is the big thing.",
    "created_at": "2010-10-21T03:31:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95510",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:4" align="right">Comment 4</div>

Replying to [@jasongrout](#comment%3A3):
> What is the sagetex-2.3.cksum file?  How come it's not in the spkg directory?  I've never seen a file like this before

See #329. It's for doing integrity checks of spkg files. The md5sum of the spkg should be a377b1b98b6e92164f4042783a949e75, if you want to be very cautious.

You could review #329 after you're done here. :)

Replying to [@jasongrout](#comment%3A1):
> What's new in this? What should we look for?

The `sagecommandline` environment is the new thing, so please look carefully at that. Look at the examples, try to make up your own examples, check over the documentation, etc.

Looking over `hg log`, other changes include:

* generated files are now called .sagetex.sage, .sagetex.py, etc.
* the warning that you need to re-run Sage that LaTeX prints is hopefully a little more obvious
* there's a CONTRIBUTORS file.

The commandline environment is the big thing.



---

archive/issue_comments_095511.json:
```json
{
    "body": "Example of going over the margins",
    "created_at": "2010-11-11T18:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95511",
    "user": "https://github.com/novoselt"
}
```

Example of going over the margins



---

archive/issue_events_121128.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2010-11-11T18:35:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121128"
}
```



---

archive/issue_events_121129.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2010-11-11T18:35:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121129"
}
```



---

archive/issue_comments_095512.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nAttachment: **[Screenshot.png](https://github.com/sagemath/sage/files/ticket10146/Screenshot.png)**\n\nThe sagecommandline environment is going over margins on the right (perhaps it has textwidth width, but gets shifted?). I think this is a quite serious issue for any LaTeX package, so I will switch it to \"needs work.\" \n\n(Vertical line on the left and blue on the right on the attached screenshot are parts of window borders, the text above is within margins.)",
    "created_at": "2010-11-11T18:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95512",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:5" align="right">Comment 5</div>

Attachment: **[Screenshot.png](https://github.com/sagemath/sage/files/ticket10146/Screenshot.png)**

The sagecommandline environment is going over margins on the right (perhaps it has textwidth width, but gets shifted?). I think this is a quite serious issue for any LaTeX package, so I will switch it to "needs work." 

(Vertical line on the left and blue on the right on the attached screenshot are parts of window borders, the text above is within margins.)



---

archive/issue_comments_095513.json:
```json
{
    "body": "Work Issues: **Going over margins**",
    "created_at": "2010-11-11T18:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95513",
    "user": "https://github.com/novoselt"
}
```

Work Issues: **Going over margins**



---

archive/issue_comments_095514.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nAnother minor issue: clicking on the link in the footnote of the first page goes to\n\n```\nhttp://mathsci.kaist.ac.kr/%5Cprotect%20%5Cunhbox%20%5Cvoidb@x%20%5Cpenalty%20%5C@M%20%5C%20%7B%7Ddrake/\n```\nleading to\n\n```\nThe requested URL /\\protect \\unhbox \\voidb@x \\penalty \\@M \\ {}drake/ was not found on this server.\n```\n\nAnd two comments which are more like feature requests than issues:\n* I have a document with one-and-a-half line interval and Sage examples are typeset with the same interval. I'd rather use a single one (or even less) for examples, since there are no sub- and superscripts. I can easily achieve it by wrapping an example into `\\begin{spacing}{0}...\\end{spacing}` (using `setspace` package), but I'd have to repeat it every time, since my attempts to define a combined environment were unsuccessful, I guess because of fragility of sagecommandline.\n* It would be nice to have an option to turn off line numbers at all. Especially if they actually were meant to be on the margins, as it seems to me after looking at the documentation more carefully.",
    "created_at": "2010-11-11T20:20:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95514",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:6" align="right">Comment 6</div>

Another minor issue: clicking on the link in the footnote of the first page goes to

```
http://mathsci.kaist.ac.kr/%5Cprotect%20%5Cunhbox%20%5Cvoidb@x%20%5Cpenalty%20%5C@M%20%5C%20%7B%7Ddrake/
```
leading to

```
The requested URL /\protect \unhbox \voidb@x \penalty \@M \ {}drake/ was not found on this server.
```

And two comments which are more like feature requests than issues:
* I have a document with one-and-a-half line interval and Sage examples are typeset with the same interval. I'd rather use a single one (or even less) for examples, since there are no sub- and superscripts. I can easily achieve it by wrapping an example into `\begin{spacing}{0}...\end{spacing}` (using `setspace` package), but I'd have to repeat it every time, since my attempts to define a combined environment were unsuccessful, I guess because of fragility of sagecommandline.
* It would be nice to have an option to turn off line numbers at all. Especially if they actually were meant to be on the margins, as it seems to me after looking at the documentation more carefully.



---

archive/issue_comments_095515.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nThe documentation says: \"The SageTEX package defines a length \\sagetexindent, which controls how much the Sage code is indented when typeset.\" But when I try to change it, it seems that it affects only position of line numbers, not the code indentation itself.\n\nAfter reading listings documentation, I see that it is easy to turn off line numbers (or shift them off the margins), but it would be great if this was mentioned in the documentation of SageTEX - I think that users of Sage are much more likely to worry about it than about syntax highlighting and other stuff supported by listings.",
    "created_at": "2010-11-12T05:18:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95515",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:7" align="right">Comment 7</div>

The documentation says: "The SageTEX package defines a length \sagetexindent, which controls how much the Sage code is indented when typeset." But when I try to change it, it seems that it affects only position of line numbers, not the code indentation itself.

After reading listings documentation, I see that it is easy to turn off line numbers (or shift them off the margins), but it would be great if this was mentioned in the documentation of SageTEX - I think that users of Sage are much more likely to worry about it than about syntax highlighting and other stuff supported by listings.



---

archive/issue_comments_095516.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nOK, I'll try to make this the last comment (I wish I could edit the previous ones...)\n\nMy complains about \\sagetexindent affecting line numbers seem to be wrong, I think it was due to some of the extra code I had. But perhaps it is worth mentioning in the documentation that it does not affect sagecommandline.\n\nI managed to change the spacing in code blocks by adjusting `SageInput/Output` styles. However, as I understand, every line of Sage input/output is typeset in a separate listings environment. As a result, aboveskip, belowskip, and lineskip all affect the line spacing and allow making it whatever one wants, but I don't see a way to adjust before/after space for the whole sagecommandline environment. Is it possible? If yes, it would be nice to document it, if no, it would be nice to implement it.\n\nAs for line numbers on margins, I still don't like it, but it seems to be supposed to be like that, so I withdraw my request to change it (but still it would be nice to explain in SateTEX documentation, how to shift them or turn them off).\n\nOverall, thanks for a great package and a new environment in this version!",
    "created_at": "2010-11-12T07:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95516",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:8" align="right">Comment 8</div>

OK, I'll try to make this the last comment (I wish I could edit the previous ones...)

My complains about \sagetexindent affecting line numbers seem to be wrong, I think it was due to some of the extra code I had. But perhaps it is worth mentioning in the documentation that it does not affect sagecommandline.

I managed to change the spacing in code blocks by adjusting `SageInput/Output` styles. However, as I understand, every line of Sage input/output is typeset in a separate listings environment. As a result, aboveskip, belowskip, and lineskip all affect the line spacing and allow making it whatever one wants, but I don't see a way to adjust before/after space for the whole sagecommandline environment. Is it possible? If yes, it would be nice to document it, if no, it would be nice to implement it.

As for line numbers on margins, I still don't like it, but it seems to be supposed to be like that, so I withdraw my request to change it (but still it would be nice to explain in SateTEX documentation, how to shift them or turn them off).

Overall, thanks for a great package and a new environment in this version!



---

archive/issue_events_121130.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2010-11-12T07:05:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121130"
}
```



---

archive/issue_events_121131.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2010-11-12T07:05:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121131"
}
```



---

archive/issue_comments_095517.json:
```json
{
    "body": "Changed work issues from **Going over margins** to none",
    "created_at": "2010-11-12T07:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95517",
    "user": "https://github.com/novoselt"
}
```

Changed work issues from **Going over margins** to none



---

archive/issue_comments_095518.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nReplying to [@novoselt](#comment%3A6):\n> Another minor issue: clicking on the link in the footnote of the first page goes to\n> \n> ```\n> http://mathsci.kaist.ac.kr/%5Cprotect%20%5Cunhbox%20%5Cvoidb@x%20%5Cpenalty%20%5C@M%20%5C%20%7B%7Ddrake/\n> ```\n\nThat is weird. I have no idea what that is happening. It's because of the tilde in the URL in the footnote. I've asked about this: http://tex.stackexchange.com/questions/5260/why-is-docstrip-putting-extra-macro-calls-in-a-hyperlink-inside-a-footnote-that-h",
    "created_at": "2010-11-12T08:17:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95518",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:9" align="right">Comment 9</div>

Replying to [@novoselt](#comment%3A6):
> Another minor issue: clicking on the link in the footnote of the first page goes to
> 
> ```
> http://mathsci.kaist.ac.kr/%5Cprotect%20%5Cunhbox%20%5Cvoidb@x%20%5Cpenalty%20%5C@M%20%5C%20%7B%7Ddrake/
> ```

That is weird. I have no idea what that is happening. It's because of the tilde in the URL in the footnote. I've asked about this: http://tex.stackexchange.com/questions/5260/why-is-docstrip-putting-extra-macro-calls-in-a-hyperlink-inside-a-footnote-that-h



---

archive/issue_comments_095519.json:
```json
{
    "body": "Vertical space issues with sagecommandline",
    "created_at": "2010-11-18T01:50:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95519",
    "user": "https://github.com/novoselt"
}
```

Vertical space issues with sagecommandline



---

archive/issue_comments_095520.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nAttachment: **[STE.pdf.gz](https://github.com/sagemath/sage/files/ticket10146/STE.pdf.gz)**\n\nI've found a couple of issues with vertical spacing before and after sagecommandline environment and posted an example (the second page is the document that produces the first one). I have no idea how to fix it, but judging from other environments it is possible ;-)",
    "created_at": "2010-11-18T01:56:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95520",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:10" align="right">Comment 10</div>

Attachment: **[STE.pdf.gz](https://github.com/sagemath/sage/files/ticket10146/STE.pdf.gz)**

I've found a couple of issues with vertical spacing before and after sagecommandline environment and posted an example (the second page is the document that produces the first one). I have no idea how to fix it, but judging from other environments it is possible ;-)



---

archive/issue_comments_095521.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nI think that keyword coloring should be removed for the output:\n\n```\n\\begin{sagecommandline}\nsage: 'Is this statement True?'\n\\end{sagecommandline}\n```\nproduces the correct output line \n\n```\nIs this statement True?\n```\nBut \"True\" is blue and the rest of the text is black.",
    "created_at": "2010-11-18T05:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95521",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:11" align="right">Comment 11</div>

I think that keyword coloring should be removed for the output:

```
\begin{sagecommandline}
sage: 'Is this statement True?'
\end{sagecommandline}
```
produces the correct output line 

```
Is this statement True?
```
But "True" is blue and the rest of the text is black.



---

archive/issue_comments_095522.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nThose using SageTeX for plotting may find #7981 relevant.\n\nAlso I find the reference \"Till Tantau has some good commentary on the use of graphics in section 6 of the pgf manual\" a bit confusing. I suggest pointing the link at `http://www.ctan.org/tex-archive/help/Catalogue/entries/pgf.html` and adding the name of the section since now it is \"7 Guidelines on Graphics.\"",
    "created_at": "2010-11-19T04:03:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95522",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:12" align="right">Comment 12</div>

Those using SageTeX for plotting may find #7981 relevant.

Also I find the reference "Till Tantau has some good commentary on the use of graphics in section 6 of the pgf manual" a bit confusing. I suggest pointing the link at `http://www.ctan.org/tex-archive/help/Catalogue/entries/pgf.html` and adding the name of the section since now it is "7 Guidelines on Graphics."



---

archive/issue_comments_095523.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@dandrake](#comment%3A9):\n> That is weird. I have no idea what that is happening. It's because of the tilde in the URL in the footnote. I've asked about this: http://tex.stackexchange.com/questions/5260/why-is-docstrip-putting-extra-macro-calls-in-a-hyperlink-inside-a-footnote-that-h\n\nI got an answer there and [have fixed that problem](https://bitbucket.org/ddrake/sagetex/changeset/45599b7584e9).",
    "created_at": "2010-11-19T06:11:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95523",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@dandrake](#comment%3A9):
> That is weird. I have no idea what that is happening. It's because of the tilde in the URL in the footnote. I've asked about this: http://tex.stackexchange.com/questions/5260/why-is-docstrip-putting-extra-macro-calls-in-a-hyperlink-inside-a-footnote-that-h

I got an answer there and [have fixed that problem](https://bitbucket.org/ddrake/sagetex/changeset/45599b7584e9).



---

archive/issue_comments_095524.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@novoselt](#comment%3A11):\n> I think that keyword coloring should be removed for the output:\n> \n> ```\n> \\begin{sagecommandline}\n> sage: 'Is this statement True?'\n> \\end{sagecommandline}\n> ```\n> produces the correct output line \n> \n> ```\n> Is this statement True?\n> ```\n> But \"True\" is blue and the rest of the text is black.\n\nI'll add Volker Braun to the CC list and see if he has a comment; he knows more about the LaTeX listings package than I do.",
    "created_at": "2010-11-19T06:20:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95524",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@novoselt](#comment%3A11):
> I think that keyword coloring should be removed for the output:
> 
> ```
> \begin{sagecommandline}
> sage: 'Is this statement True?'
> \end{sagecommandline}
> ```
> produces the correct output line 
> 
> ```
> Is this statement True?
> ```
> But "True" is blue and the rest of the text is black.

I'll add Volker Braun to the CC list and see if he has a comment; he knows more about the LaTeX listings package than I do.



---

archive/issue_comments_095525.json:
```json
{
    "body": "Assignee: **@dandrake**",
    "created_at": "2010-11-19T06:44:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95525",
    "user": "https://github.com/dandrake"
}
```

Assignee: **@dandrake**



---

archive/issue_comments_095526.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@novoselt](#comment%3A12):\n> Those using SageTeX for plotting may find #7981 relevant.\n> \n> Also I find the reference \"Till Tantau has some good commentary on the use of graphics in section 6 of the pgf manual\" a bit confusing. I suggest pointing the link at `http://www.ctan.org/tex-archive/help/Catalogue/entries/pgf.html` and adding the name of the section since now it is \"7 Guidelines on Graphics.\"\n\n[Fixed](https://bitbucket.org/ddrake/sagetex/changeset/88d215fcf79b).\n\nI'll look over the other issues raised here and see what I can do.",
    "created_at": "2010-11-19T06:44:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95526",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@novoselt](#comment%3A12):
> Those using SageTeX for plotting may find #7981 relevant.
> 
> Also I find the reference "Till Tantau has some good commentary on the use of graphics in section 6 of the pgf manual" a bit confusing. I suggest pointing the link at `http://www.ctan.org/tex-archive/help/Catalogue/entries/pgf.html` and adding the name of the section since now it is "7 Guidelines on Graphics."

[Fixed](https://bitbucket.org/ddrake/sagetex/changeset/88d215fcf79b).

I'll look over the other issues raised here and see what I can do.



---

archive/issue_comments_095527.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nThanks for fixes! It was indeed illuminating to read that section in PGF manual. And after reading it, it seems to me that there should be no default scaling of the produced graphics to `0.75\\textwidth`, users should control it via `figsize` option to matplotlib, since in this case specifying font sizes and line widths in points makes sense and works as expected. This behaviour is easy to achieve in the present version by adding empty [] after `\\sageplot`, but I think it should be the default.\n\nBetter yet, it would be nice if it was possible to write\n\n```\n\\sageplot[width=0.5\\textwidth]{...}\n```\nand this resulted in automatic computation of the required figsize parameters (since `figsize=[\\textwidth, 2]` does not work). I guess this is a bit tricky since `figsize` requires two parameters, but perhaps it would make sense to use the same width and height if only one was given.",
    "created_at": "2010-11-19T16:31:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95527",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:16" align="right">Comment 16</div>

Thanks for fixes! It was indeed illuminating to read that section in PGF manual. And after reading it, it seems to me that there should be no default scaling of the produced graphics to `0.75\textwidth`, users should control it via `figsize` option to matplotlib, since in this case specifying font sizes and line widths in points makes sense and works as expected. This behaviour is easy to achieve in the present version by adding empty [] after `\sageplot`, but I think it should be the default.

Better yet, it would be nice if it was possible to write

```
\sageplot[width=0.5\textwidth]{...}
```
and this resulted in automatic computation of the required figsize parameters (since `figsize=[\textwidth, 2]` does not work). I guess this is a bit tricky since `figsize` requires two parameters, but perhaps it would make sense to use the same width and height if only one was given.



---

archive/issue_comments_095528.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\n#2100 may be relevant to the above suggestion.\n\nAlso I have another very general suggestion. I didn't succeed in installing sagetex.sty in my home folder and I don't really care what was wrong, as I just copied it directly to the folder with my main .tex file. I think that this is the best option, it should be recommended in the manual, and instead of checking that sagetex.sty version matches the installed Sage version, there should be a check that Sage installation is not older than sagetex.sty.\n\nThe reason was mentioned on sage-devel:\nhttp://groups.google.com/group/sage-devel/msg/999f3712689df932\npapers don't get updates as often as software and one of the really nice features of LaTeX is that its current versions can process old input files and produce the same output as many years ago. I think the same should be the case for SageTeX and it probably can be accomplished if its Sage module maintained backward compatibility with all previous versions of sagetex.sty. Then when one wants to write a new paper using SageTeX, s/he copies the current version of sagetex.sty into the paper directory, writes the paper and keeps that version of sagetex.sty with the paper source. Even if later sagetex.sty will be significantly altered, that paper should still work fine with the old copy, even if Sage installation is newer.",
    "created_at": "2010-12-05T04:57:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95528",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:17" align="right">Comment 17</div>

#2100 may be relevant to the above suggestion.

Also I have another very general suggestion. I didn't succeed in installing sagetex.sty in my home folder and I don't really care what was wrong, as I just copied it directly to the folder with my main .tex file. I think that this is the best option, it should be recommended in the manual, and instead of checking that sagetex.sty version matches the installed Sage version, there should be a check that Sage installation is not older than sagetex.sty.

The reason was mentioned on sage-devel:
http://groups.google.com/group/sage-devel/msg/999f3712689df932
papers don't get updates as often as software and one of the really nice features of LaTeX is that its current versions can process old input files and produce the same output as many years ago. I think the same should be the case for SageTeX and it probably can be accomplished if its Sage module maintained backward compatibility with all previous versions of sagetex.sty. Then when one wants to write a new paper using SageTeX, s/he copies the current version of sagetex.sty into the paper directory, writes the paper and keeps that version of sagetex.sty with the paper source. Even if later sagetex.sty will be significantly altered, that paper should still work fine with the old copy, even if Sage installation is newer.



---

archive/issue_comments_095529.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nOptimization suggestion for listings-styles: `basicstyle` propagates to all other ones, so setting it to `\\ttfamily` makes everything typeset with it. Also, there is no bold version of typewriter fonts (at least for standard fonts of LaTeX), so `\\bfseries` didn't do anything. The following commands do for me the same typesetting as the original ones, but look a little cleaner and make it easier for the user to understand what should be changed. (I wanted to make everything a little smaller, and my first impression was that I have to insert `\\small` into 10 places or so, but one turned out to be enough.)\n\n```\n\\lstdefinestyle{DefaultSageInputOutput}{\n  nolol,\n  identifierstyle=,\n  name=sagecommandline,\n  xleftmargin=5pt,\n  numbersep=5pt,\n  aboveskip=0pt,\n  belowskip=0pt,\n  breaklines=true,\n  basicstyle={\\ttfamily},\n  numberstyle=\\footnotesize,\n  numbers=right\n}\n\\lstdefinestyle{DefaultSageInput}{\n  language=Sage,\n  style=DefaultSageInputOutput,\n  commentstyle={\\color{dgreencolor}},\n  keywordstyle={\\color{dbluecolor}},\n  stringstyle={\\color{dgraycolor}},\n}\n\\lstdefinestyle{DefaultSageOutput}{\n  language=SageOutput,\n  style=DefaultSageInputOutput,\n  commentstyle={\\color{dgreencolor}},\n  keywordstyle={\\color{dbluecolor}},\n  stringstyle={\\color{dgraycolor}},\n}\n```\nIn the last definition I think all styles can go since the output should not be typeset with any kind of \"syntax highlighting\", in particular True/False should not be blue.",
    "created_at": "2010-12-10T01:58:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95529",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:18" align="right">Comment 18</div>

Optimization suggestion for listings-styles: `basicstyle` propagates to all other ones, so setting it to `\ttfamily` makes everything typeset with it. Also, there is no bold version of typewriter fonts (at least for standard fonts of LaTeX), so `\bfseries` didn't do anything. The following commands do for me the same typesetting as the original ones, but look a little cleaner and make it easier for the user to understand what should be changed. (I wanted to make everything a little smaller, and my first impression was that I have to insert `\small` into 10 places or so, but one turned out to be enough.)

```
\lstdefinestyle{DefaultSageInputOutput}{
  nolol,
  identifierstyle=,
  name=sagecommandline,
  xleftmargin=5pt,
  numbersep=5pt,
  aboveskip=0pt,
  belowskip=0pt,
  breaklines=true,
  basicstyle={\ttfamily},
  numberstyle=\footnotesize,
  numbers=right
}
\lstdefinestyle{DefaultSageInput}{
  language=Sage,
  style=DefaultSageInputOutput,
  commentstyle={\color{dgreencolor}},
  keywordstyle={\color{dbluecolor}},
  stringstyle={\color{dgraycolor}},
}
\lstdefinestyle{DefaultSageOutput}{
  language=SageOutput,
  style=DefaultSageInputOutput,
  commentstyle={\color{dgreencolor}},
  keywordstyle={\color{dbluecolor}},
  stringstyle={\color{dgraycolor}},
}
```
In the last definition I think all styles can go since the output should not be typeset with any kind of "syntax highlighting", in particular True/False should not be blue.



---

archive/issue_comments_095530.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nSome more issues:\n\n* If I have a `sagecommandline` block and then I insert `$\\sage{...}$` before it, I cannot compile the file. As I understand, because of the reference shift LaTeX tries to substitute the output of sagecommandline into inline sage and that does not work since the latter is in the math mode. But then rerunning Sage does not help since the source code for Sage does not get updated without a successful LaTeX run. So pretty much the only option seems to delete all (or some) autogenerated files, which is a bit annoying.\n\n* If I put `\\sage{...}` inside, say, `\\begin{gather} ... \\end{gather}`, then I get warnings about multiple definition of sage-related labels. Looking at `*.sagetex.py` file I suppose that the issue is in lines\n\n```\ntry:\n _st_.inline(_sage_const_28 , latex(1+1))\nexcept:\n _st_.goboom(_sage_const_961 )\ntry:\n _st_.inline(_sage_const_28 , latex(1+1))\nexcept:\n _st_.goboom(_sage_const_961 )\n```\ni.e. they are exactly the same. I suppose that's just how LaTeX works, it processes the input of complicated math environments twice, but it would be nice if it was somehow taken into account in SageTeX. \"Just ignoring these warnings\" is not a good option, because I see only the top warnings automatically in my editor and if that space is \"occupied\" I'll have to scroll manually to see if my new lines have introduced any warnings that I would like to fix. It is much more pleasant when there are usually no warnings at all and when they do appear I notice it right away.",
    "created_at": "2011-01-31T00:13:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95530",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:19" align="right">Comment 19</div>

Some more issues:

* If I have a `sagecommandline` block and then I insert `$\sage{...}$` before it, I cannot compile the file. As I understand, because of the reference shift LaTeX tries to substitute the output of sagecommandline into inline sage and that does not work since the latter is in the math mode. But then rerunning Sage does not help since the source code for Sage does not get updated without a successful LaTeX run. So pretty much the only option seems to delete all (or some) autogenerated files, which is a bit annoying.

* If I put `\sage{...}` inside, say, `\begin{gather} ... \end{gather}`, then I get warnings about multiple definition of sage-related labels. Looking at `*.sagetex.py` file I suppose that the issue is in lines

```
try:
 _st_.inline(_sage_const_28 , latex(1+1))
except:
 _st_.goboom(_sage_const_961 )
try:
 _st_.inline(_sage_const_28 , latex(1+1))
except:
 _st_.goboom(_sage_const_961 )
```
i.e. they are exactly the same. I suppose that's just how LaTeX works, it processes the input of complicated math environments twice, but it would be nice if it was somehow taken into account in SageTeX. "Just ignoring these warnings" is not a good option, because I see only the top warnings automatically in my editor and if that space is "occupied" I'll have to scroll manually to see if my new lines have introduced any warnings that I would like to fix. It is much more pleasant when there are usually no warnings at all and when they do appear I notice it right away.



---

archive/issue_comments_095531.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nBy the way, IMHO this update is very useful as is and I have an itch to switch it to positive review. I hesitate since I cannot really understand the guts of the package, but as a user I like it a lot despite of all the issues I have discovered. Perhaps this version can be merged with fixes and improvements delegated to future ones...",
    "created_at": "2011-01-31T00:20:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95531",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:20" align="right">Comment 20</div>

By the way, IMHO this update is very useful as is and I have an itch to switch it to positive review. I hesitate since I cannot really understand the guts of the package, but as a user I like it a lot despite of all the issues I have discovered. Perhaps this version can be merged with fixes and improvements delegated to future ones...



---

archive/issue_comments_095532.json:
```json
{
    "body": "Fixed vertical spacing (same input as before, with modified sagetex.py)",
    "created_at": "2011-03-27T06:58:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95532",
    "user": "https://github.com/novoselt"
}
```

Fixed vertical spacing (same input as before, with modified sagetex.py)



---

archive/issue_comments_095533.json:
```json
{
    "body": "Work Issues: **spacing before/after sagecommandline**",
    "created_at": "2011-03-27T07:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95533",
    "user": "https://github.com/novoselt"
}
```

Work Issues: **spacing before/after sagecommandline**



---

archive/issue_events_121132.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2011-03-27T07:15:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121132"
}
```



---

archive/issue_events_121133.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2011-03-27T07:15:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121133"
}
```



---

archive/issue_events_121134.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2011-03-27T07:15:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121134"
}
```



---

archive/issue_events_121135.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2011-03-27T07:15:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121135"
}
```



---

archive/issue_comments_095534.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nAttachment: **[STE-new.pdf.gz](https://github.com/sagemath/sage/files/ticket10146/STE-new.pdf.gz)**\n\nOK, I have found fixes for the vertical space issues both before and after. In the sagetex.py file (I am not sure where the original is supposed to be, I was fixing the version in `sage/local/lib/python2.6/site-packages`).\n\nLines 77-78 should be\n\n```\n    self.souttmp.write('\\\\newlabel{@sageinline' + str(counter) + '}{{%\\n' +\n                 s.rstrip() + '}}\\n')\n```\nI have removed four pairs of `{}` before the newline. It may be not the proper place/way to do it, but the main idea is that these braces should not appear on the last line of every command line listing in `*.sagetex.sout`. This seems to fix the issue with extra space appearing after sagecommandline, if the following text starts a new paragraph or a theorem.\n\nLine 145 should be\n\n```\n      latex_string = r\"\\unskip\\unskip\\vspace{\\sagecommandlineskip}\" + \"\\n\"\n```\nTwo unskips eliminate the space before sagecommandline which was appearing if the preceding line was \"full.\" One unskip does not work, what is the correct number of them I don't know, but I took the repetition idea from `amsthm.sty` which contains\n\n```\n\\ifhmode\\unskip\\unskip\\par\\fi\n```\non line 140.\n\nIt is possible that `\\ignorespaces` should be used somehow in the end of blocks for even more robust behaviour.\n\nPlease include these fixes, for these spacing issues are really annoying and it is somewhat non-trivial to figure out a workaround ;-)",
    "created_at": "2011-03-27T07:15:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95534",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:21" align="right">Comment 21</div>

Attachment: **[STE-new.pdf.gz](https://github.com/sagemath/sage/files/ticket10146/STE-new.pdf.gz)**

OK, I have found fixes for the vertical space issues both before and after. In the sagetex.py file (I am not sure where the original is supposed to be, I was fixing the version in `sage/local/lib/python2.6/site-packages`).

Lines 77-78 should be

```
    self.souttmp.write('\\newlabel{@sageinline' + str(counter) + '}{{%\n' +
                 s.rstrip() + '}}\n')
```
I have removed four pairs of `{}` before the newline. It may be not the proper place/way to do it, but the main idea is that these braces should not appear on the last line of every command line listing in `*.sagetex.sout`. This seems to fix the issue with extra space appearing after sagecommandline, if the following text starts a new paragraph or a theorem.

Line 145 should be

```
      latex_string = r"\unskip\unskip\vspace{\sagecommandlineskip}" + "\n"
```
Two unskips eliminate the space before sagecommandline which was appearing if the preceding line was "full." One unskip does not work, what is the correct number of them I don't know, but I took the repetition idea from `amsthm.sty` which contains

```
\ifhmode\unskip\unskip\par\fi
```
on line 140.

It is possible that `\ignorespaces` should be used somehow in the end of blocks for even more robust behaviour.

Please include these fixes, for these spacing issues are really annoying and it is somewhat non-trivial to figure out a workaround ;-)



---

archive/issue_comments_095535.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\n#11067 (sage -t on lstlistings) may be related.",
    "created_at": "2011-03-28T13:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95535",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:22" align="right">Comment 22</div>

#11067 (sage -t on lstlistings) may be related.



---

archive/issue_comments_095536.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nReplying to [@novoselt](#comment%3A21):\n> Lines 77-78 should be\n> \n> ```\n>     self.souttmp.write('\\\\newlabel{@sageinline' + str(counter) + '}{{%\\n' +\n>                  s.rstrip() + '}}\\n')\n> ```\n> I have removed four pairs of `{}` before the newline.\n\nDoing that breaks hyperref compatibility. We can't remove those brace pairs.\n\nI'll look into the other spacing issues.",
    "created_at": "2011-03-29T07:59:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95536",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:23" align="right">Comment 23</div>

Replying to [@novoselt](#comment%3A21):
> Lines 77-78 should be
> 
> ```
>     self.souttmp.write('\\newlabel{@sageinline' + str(counter) + '}{{%\n' +
>                  s.rstrip() + '}}\n')
> ```
> I have removed four pairs of `{}` before the newline.

Doing that breaks hyperref compatibility. We can't remove those brace pairs.

I'll look into the other spacing issues.



---

archive/issue_comments_095537.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nAs I said, it may be not the right place to fix it. Does `sagecommandline` need something from hyperref? It wraps each line into its own `lstlisting` environment and in the very end of the whole block there are these extra braces. Perhaps `inline` function should be left as is, but a copy of it without braces can be created specifically for `sagecommandline`?",
    "created_at": "2011-03-29T15:07:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95537",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:24" align="right">Comment 24</div>

As I said, it may be not the right place to fix it. Does `sagecommandline` need something from hyperref? It wraps each line into its own `lstlisting` environment and in the very end of the whole block there are these extra braces. Perhaps `inline` function should be left as is, but a copy of it without braces can be created specifically for `sagecommandline`?



---

archive/issue_comments_095538.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@novoselt](#comment%3A24):\n> As I said, it may be not the right place to fix it. Does `sagecommandline` need something from hyperref? \n\nNo, but if the user has hyperref loaded, any `\\newlabel` must have the five `{}` pairs or the document can't be typeset.\n\n> It wraps each line into its own `lstlisting` environment and in the very end of the whole block there are these extra braces. Perhaps `inline` function should be left as is, but a copy of it without braces can be created specifically for `sagecommandline`?\n\nThat's a good idea, but in that case the copy of `inline` would have the same problem: with hyperref loaded, the `\\newlabel` will fail without the extra `{}`s.",
    "created_at": "2011-03-30T08:13:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95538",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@novoselt](#comment%3A24):
> As I said, it may be not the right place to fix it. Does `sagecommandline` need something from hyperref? 

No, but if the user has hyperref loaded, any `\newlabel` must have the five `{}` pairs or the document can't be typeset.

> It wraps each line into its own `lstlisting` environment and in the very end of the whole block there are these extra braces. Perhaps `inline` function should be left as is, but a copy of it without braces can be created specifically for `sagecommandline`?

That's a good idea, but in that case the copy of `inline` would have the same problem: with hyperref loaded, the `\newlabel` will fail without the extra `{}`s.



---

archive/issue_comments_095539.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nI have also changed line 146 to be \n\n```\n      bottom_skip =  r\"\\vspace{\\sagecommandlineskip}\" + \"\\n\"\n```\nsince otherwise there is no bottom skip for blocks that do not produce any output.\n\nIt may be better to use `\\addvspace` instead of `\\vspace` - it works fine in the end of blocks since LaTeX is in vertical mode by then, but in the beginning it is in horizontal one, `\\par` is not acceptable inside `\\newlabel`, and I don't know how to switch to vertical mode otherwise. Does anyone know it? Or how to allow wrapping arbitrarily complicated LaTeX?\n\nRegarding `\\newlabel` and `hyperref` - perhaps SageTeX should detect whether it is in use or not or at least have a manual switch to adjust the number of parameters according to the used definition of `\\newlabel`. By the way - is there documentation on `\\newlabel` command and if yes, how can I find it???",
    "created_at": "2011-04-01T04:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95539",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:26" align="right">Comment 26</div>

I have also changed line 146 to be 

```
      bottom_skip =  r"\vspace{\sagecommandlineskip}" + "\n"
```
since otherwise there is no bottom skip for blocks that do not produce any output.

It may be better to use `\addvspace` instead of `\vspace` - it works fine in the end of blocks since LaTeX is in vertical mode by then, but in the beginning it is in horizontal one, `\par` is not acceptable inside `\newlabel`, and I don't know how to switch to vertical mode otherwise. Does anyone know it? Or how to allow wrapping arbitrarily complicated LaTeX?

Regarding `\newlabel` and `hyperref` - perhaps SageTeX should detect whether it is in use or not or at least have a manual switch to adjust the number of parameters according to the used definition of `\newlabel`. By the way - is there documentation on `\newlabel` command and if yes, how can I find it???



---

archive/issue_comments_095540.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nReplying to [@novoselt](#comment%3A19):\n> * If I have a `sagecommandline` block and then I insert `$\\sage{...}$` before it, I cannot compile the file. As I understand, because of the reference shift LaTeX tries to substitute the output of sagecommandline into inline sage and that does not work since the latter is in the math mode. But then rerunning Sage does not help since the source code for Sage does not get updated without a successful LaTeX run. So pretty much the only option seems to delete all (or some) autogenerated files, which is a bit annoying.\n\nNote that it will impossible to prevent this from happening: after the `.sout` file is written, you can rewrite your LaTeX file in all sorts of crazy ways to get the labels pulled into strange places. I can add a bit of sanity checking to the `commandline` stuff so that you at least don't get bizarre errors when typesetting your document.",
    "created_at": "2011-04-07T07:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95540",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:27" align="right">Comment 27</div>

Replying to [@novoselt](#comment%3A19):
> * If I have a `sagecommandline` block and then I insert `$\sage{...}$` before it, I cannot compile the file. As I understand, because of the reference shift LaTeX tries to substitute the output of sagecommandline into inline sage and that does not work since the latter is in the math mode. But then rerunning Sage does not help since the source code for Sage does not get updated without a successful LaTeX run. So pretty much the only option seems to delete all (or some) autogenerated files, which is a bit annoying.

Note that it will impossible to prevent this from happening: after the `.sout` file is written, you can rewrite your LaTeX file in all sorts of crazy ways to get the labels pulled into strange places. I can add a bit of sanity checking to the `commandline` stuff so that you at least don't get bizarre errors when typesetting your document.



---

archive/issue_comments_095541.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nReplying to [@dandrake](#comment%3A27):\n> Replying to [@novoselt](#comment%3A19):\n> > * If I have a `sagecommandline` block and then I insert `$\\sage{...}$` before it, I cannot compile the file. As I understand, because of the reference shift LaTeX tries to substitute the output of sagecommandline into inline sage and that does not work since the latter is in the math mode. But then rerunning Sage does not help since the source code for Sage does not get updated without a successful LaTeX run. So pretty much the only option seems to delete all (or some) autogenerated files, which is a bit annoying.\n\n> \n> Note that it will impossible to prevent this from happening: after the `.sout` file is written, you can rewrite your LaTeX file in all sorts of crazy ways to get the labels pulled into strange places. I can add a bit of sanity checking to the `commandline` stuff so that you at least don't get bizarre errors when typesetting your document.\n\nWould it be possible to use different label names for different SageTeX environments? If they are not mixed, then there should be no issue with using the output in a wrong mode and the user will be able to generate new input file and run Sage on it without deleting  anything.",
    "created_at": "2011-04-07T15:16:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95541",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:28" align="right">Comment 28</div>

Replying to [@dandrake](#comment%3A27):
> Replying to [@novoselt](#comment%3A19):
> > * If I have a `sagecommandline` block and then I insert `$\sage{...}$` before it, I cannot compile the file. As I understand, because of the reference shift LaTeX tries to substitute the output of sagecommandline into inline sage and that does not work since the latter is in the math mode. But then rerunning Sage does not help since the source code for Sage does not get updated without a successful LaTeX run. So pretty much the only option seems to delete all (or some) autogenerated files, which is a bit annoying.

> 
> Note that it will impossible to prevent this from happening: after the `.sout` file is written, you can rewrite your LaTeX file in all sorts of crazy ways to get the labels pulled into strange places. I can add a bit of sanity checking to the `commandline` stuff so that you at least don't get bizarre errors when typesetting your document.

Would it be possible to use different label names for different SageTeX environments? If they are not mixed, then there should be no issue with using the output in a wrong mode and the user will be able to generate new input file and run Sage on it without deleting  anything.



---

archive/issue_comments_095542.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nReplying to [@novoselt](#comment%3A28):\n> Would it be possible to use different label names for different SageTeX environments? If they are not mixed, then there should be no issue with using the output in a wrong mode and the user will be able to generate new input file and run Sage on it without deleting  anything.\n\nThat's a much smarter idea than what I was thinking. I've implemented your idea; it's in the most recent commits on bitbucket.",
    "created_at": "2011-04-08T06:22:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95542",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:29" align="right">Comment 29</div>

Replying to [@novoselt](#comment%3A28):
> Would it be possible to use different label names for different SageTeX environments? If they are not mixed, then there should be no issue with using the output in a wrong mode and the user will be able to generate new input file and run Sage on it without deleting  anything.

That's a much smarter idea than what I was thinking. I've implemented your idea; it's in the most recent commits on bitbucket.



---

archive/issue_comments_095543.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nI just found this ticket and downloaded the latest version. This is great! I'll try testing it.\n\nWhat's the current status of this ticket? I mean, could you summarize what remains to be done?\n\nThank you!",
    "created_at": "2011-05-25T00:47:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95543",
    "user": "https://github.com/sagetrac-abmasse"
}
```

<div id="comment:30" align="right">Comment 30</div>

I just found this ticket and downloaded the latest version. This is great! I'll try testing it.

What's the current status of this ticket? I mean, could you summarize what remains to be done?

Thank you!



---

archive/issue_comments_095544.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nI agree that the current state of the spkg is a big improvement, even if there are issues remaining. I'm in favor of giving it a positive review now so we can release it with Sage-4.7.1. There were some good suggestions on this ticket, maybe Dan can comment on whether he wants to make any other changes during this release?",
    "created_at": "2011-05-25T01:33:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95544",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:31" align="right">Comment 31</div>

I agree that the current state of the spkg is a big improvement, even if there are issues remaining. I'm in favor of giving it a positive review now so we can release it with Sage-4.7.1. There were some good suggestions on this ticket, maybe Dan can comment on whether he wants to make any other changes during this release?



---

archive/issue_events_121136.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-05-25T01:33:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121136"
}
```



---

archive/issue_events_121137.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-05-25T01:33:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121137"
}
```



---

archive/issue_comments_095545.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nLet's please not include the package which was made when this ticket was created, but rather a fresh version reflecting SageTeX repository. The very last issue (resolved by using different link names for different environments) was making it very annoying to modify files with extensive SageTeX usage.\n\nI also made a bunch of suggestions in comment 18 regarding settings of listings. The most important one of them: I strongly feel that there should be no syntax highlighting of any kind in the output (currently True/False are different).\n\nIt would be also a good idea to include some short instructions on installing luximono, which allows using bold font for listings and is quite a bit narrower than the standard typerwriter font.\n\nRegarding bold, I also quite strongly feel that listings should not be bold by default (the output may), since \"the main thing\" should be typeset using \"the main style\" and when commandline environment is used, the emphasis is probably on the code itself, so it is likely to be the bigger part of the listing. When the output gets large, it is probably a better idea to typeset/represent it some other way.",
    "created_at": "2011-05-25T02:12:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95545",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:32" align="right">Comment 32</div>

Let's please not include the package which was made when this ticket was created, but rather a fresh version reflecting SageTeX repository. The very last issue (resolved by using different link names for different environments) was making it very annoying to modify files with extensive SageTeX usage.

I also made a bunch of suggestions in comment 18 regarding settings of listings. The most important one of them: I strongly feel that there should be no syntax highlighting of any kind in the output (currently True/False are different).

It would be also a good idea to include some short instructions on installing luximono, which allows using bold font for listings and is quite a bit narrower than the standard typerwriter font.

Regarding bold, I also quite strongly feel that listings should not be bold by default (the output may), since "the main thing" should be typeset using "the main style" and when commandline environment is used, the emphasis is probably on the code itself, so it is likely to be the bigger part of the listing. When the output gets large, it is probably a better idea to typeset/represent it some other way.



---

archive/issue_comments_095546.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nReplying to [@vbraun](#comment%3A31):\n> I agree that the current state of the spkg is a big improvement, even if there are issues remaining. I'm in favor of giving it a positive review now so we can release it with Sage-4.7.1. There were some good suggestions on this ticket, maybe Dan can comment on whether he wants to make any other changes during this release?\n\nI'd really like to get the current version into 4.7.1. I looked over the changes since 2.3, and I see three nontrivial, user-visible things:\n\n* use `foo.sagetex.sout`, etc, instead of `foo.sout`. This means that if you put Sage code into `important_paper.sage`, it won't get clobbered when you typeset `important_paper.tex`.\n* handle (some) spaces in filenames.\n* use separate labels for `inline` and `commandline` (as reported above).\n\nThe issues not addressed are the spacing issues that Andrey has noted. The stuff about syntax highlighting needs to be addressed, but I think that counts as bikeshedding here.\n\nIf we merge the current version of SageTeX, we have something that definitely works better than what's currently shipping. I will likely have time over the summer to work on that, and in any case, Andrey (and Volker, and many other SageTeXers) will be at Sage Days 31 and we can have a discussion there.\n\nHere's my proposal: I make a spkg for the current version of SageTeX and we merge that with 4.7.1, and work on the other problems noted here over the summer. What do you think?",
    "created_at": "2011-05-25T13:16:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95546",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:33" align="right">Comment 33</div>

Replying to [@vbraun](#comment%3A31):
> I agree that the current state of the spkg is a big improvement, even if there are issues remaining. I'm in favor of giving it a positive review now so we can release it with Sage-4.7.1. There were some good suggestions on this ticket, maybe Dan can comment on whether he wants to make any other changes during this release?

I'd really like to get the current version into 4.7.1. I looked over the changes since 2.3, and I see three nontrivial, user-visible things:

* use `foo.sagetex.sout`, etc, instead of `foo.sout`. This means that if you put Sage code into `important_paper.sage`, it won't get clobbered when you typeset `important_paper.tex`.
* handle (some) spaces in filenames.
* use separate labels for `inline` and `commandline` (as reported above).

The issues not addressed are the spacing issues that Andrey has noted. The stuff about syntax highlighting needs to be addressed, but I think that counts as bikeshedding here.

If we merge the current version of SageTeX, we have something that definitely works better than what's currently shipping. I will likely have time over the summer to work on that, and in any case, Andrey (and Volker, and many other SageTeXers) will be at Sage Days 31 and we can have a discussion there.

Here's my proposal: I make a spkg for the current version of SageTeX and we merge that with 4.7.1, and work on the other problems noted here over the summer. What do you think?



---

archive/issue_comments_095547.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nReplying to [@dandrake](#comment%3A33):\n> Here's my proposal: I make a spkg for the current version of SageTeX and we merge that with 4.7.1, and work on the other problems noted here over the summer. What do you think?\n\n+1\n\nI also don't mind if the output is too colorful. If you don't like the syntax highlighting then its easy to turn off, but if its initially turned off then its hard to discover that the feature is there.",
    "created_at": "2011-05-25T14:09:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95547",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:34" align="right">Comment 34</div>

Replying to [@dandrake](#comment%3A33):
> Here's my proposal: I make a spkg for the current version of SageTeX and we merge that with 4.7.1, and work on the other problems noted here over the summer. What do you think?

+1

I also don't mind if the output is too colorful. If you don't like the syntax highlighting then its easy to turn off, but if its initially turned off then its hard to discover that the feature is there.



---

archive/issue_comments_095548.json:
```json
{
    "body": "Changed work issues from **spacing before/after sagecommandline** to **update spkg to the latest version of SageTeX**",
    "created_at": "2011-05-25T14:22:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95548",
    "user": "https://github.com/novoselt"
}
```

Changed work issues from **spacing before/after sagecommandline** to **update spkg to the latest version of SageTeX**



---

archive/issue_comments_095549.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nAs long as we merge the version with separate label names - I am fine!\n\nI will be even happier if there are no colored keywords in the output, which is a simple change ;-) But since it does not affect how things work, we may leave it and other things to the next version, after perhaps having some live discussions.",
    "created_at": "2011-05-25T14:22:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95549",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:35" align="right">Comment 35</div>

As long as we merge the version with separate label names - I am fine!

I will be even happier if there are no colored keywords in the output, which is a simple change ;-) But since it does not affect how things work, we may leave it and other things to the next version, after perhaps having some live discussions.



---

archive/issue_comments_095550.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n I've just finished a new version of the SageTeX spkg, which is available from \n \n-http://sage.math.washington.edu/home/drake/code/sage/st/sagetex-2.3.spkg\n+http://sage.math.washington.edu/home/drake/code/sage/st/sagetex-2.3.1.spkg\n \n Please review!\n``````\n",
    "created_at": "2011-05-27T04:50:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95550",
    "user": "https://github.com/dandrake"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 I've just finished a new version of the SageTeX spkg, which is available from 
 
-http://sage.math.washington.edu/home/drake/code/sage/st/sagetex-2.3.spkg
+http://sage.math.washington.edu/home/drake/code/sage/st/sagetex-2.3.1.spkg
 
 Please review!
``````




---

archive/issue_comments_095551.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nOkay, here's a new spkg: http://sage.math.washington.edu/home/drake/code/sage/st/sagetex-2.3.1.spkg\n\nI'm switching this to \"needs review\"; if that spkg works, then switch this to positive review and let's get this into 4.7.1 and work on the other bits this summer.",
    "created_at": "2011-05-27T04:50:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95551",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:36" align="right">Comment 36</div>

Okay, here's a new spkg: http://sage.math.washington.edu/home/drake/code/sage/st/sagetex-2.3.1.spkg

I'm switching this to "needs review"; if that spkg works, then switch this to positive review and let's get this into 4.7.1 and work on the other bits this summer.



---

archive/issue_events_121138.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2011-05-27T04:50:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "title_is": "update SageTeX spkg to version 2.3 (now 2.3.1)",
    "title_was": "update SageTeX spkg to version 2.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121138"
}
```



---

archive/issue_events_121139.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2011-05-27T04:50:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121139"
}
```



---

archive/issue_events_121140.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2011-05-27T04:50:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121140"
}
```



---

archive/issue_comments_095552.json:
```json
{
    "body": "Reviewer: **Mariah Lenox**",
    "created_at": "2011-06-16T13:40:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95552",
    "user": "https://github.com/sagetrac-mariah"
}
```

Reviewer: **Mariah Lenox**



---

archive/issue_events_121141.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-06-16T13:40:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121141"
}
```



---

archive/issue_events_121142.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-06-16T13:40:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121142"
}
```



---

archive/issue_comments_095553.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nI put the spkg into the source of sage-4.7.1.alpha2 and did 'make testlong'.  All tests passed.  Positive review!",
    "created_at": "2011-06-16T13:40:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95553",
    "user": "https://github.com/sagetrac-mariah"
}
```

<div id="comment:37" align="right">Comment 37</div>

I put the spkg into the source of sage-4.7.1.alpha2 and did 'make testlong'.  All tests passed.  Positive review!



---

archive/issue_comments_095554.json:
```json
{
    "body": "Changed keywords from none to **sd31**",
    "created_at": "2011-06-16T16:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95554",
    "user": "https://github.com/novoselt"
}
```

Changed keywords from none to **sd31**



---

archive/issue_comments_095555.json:
```json
{
    "body": "Changed reviewer from **Mariah Lenox** to **Mariah Lenox, Andrey Novoseltsev**",
    "created_at": "2011-06-16T16:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95555",
    "user": "https://github.com/novoselt"
}
```

Changed reviewer from **Mariah Lenox** to **Mariah Lenox, Andrey Novoseltsev**



---

archive/issue_comments_095556.json:
```json
{
    "body": "Changed work issues from **update spkg to the latest version of SageTeX** to none",
    "created_at": "2011-06-16T16:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95556",
    "user": "https://github.com/novoselt"
}
```

Changed work issues from **update spkg to the latest version of SageTeX** to none



---

archive/issue_events_121143.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-16T21:33:04Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "title_is": "update SageTeX spkg to version 2.3.1",
    "title_was": "update SageTeX spkg to version 2.3 (now 2.3.1)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121143"
}
```



---

archive/issue_comments_095557.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n I've just finished a new version of the SageTeX spkg, which is available from \n \n http://sage.math.washington.edu/home/drake/code/sage/st/sagetex-2.3.1.spkg\n-\n-Please review!\n``````\n",
    "created_at": "2011-06-16T21:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95557",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
 I've just finished a new version of the SageTeX spkg, which is available from 
 
 http://sage.math.washington.edu/home/drake/code/sage/st/sagetex-2.3.1.spkg
-
-Please review!
``````




---

archive/issue_events_121144.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-16T21:33:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121144"
}
```



---

archive/issue_events_121145.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-16T21:33:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121145"
}
```



---

archive/issue_comments_095558.json:
```json
{
    "body": "Merged: **sage-4.7.2.alpha0**",
    "created_at": "2011-07-22T12:49:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10146#issuecomment-95558",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.2.alpha0**



---

archive/issue_events_121146.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-22T12:49:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121146"
}
```



---

archive/issue_events_121147.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-22T12:49:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10146",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10146#event-121147"
}
```
