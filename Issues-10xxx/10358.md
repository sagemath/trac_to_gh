# Issue 10358: New interface with OEIS

archive/issues_010357.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-tmonteil"
    ],
    "body": "The sloane_find command, which parses output of a webpage, is broken for years due to the Sloane sequence webpage being rewritten. It silently always finds nothing.\n\n```\nsage: sloane_find([1,1,2,3,5,8,13,21], nresults=1)\n[]\n```\n\nThe aim of this ticket is to propose a new interface with OEIS http://oeis.org/\n\nApply: \n* [attachment: trac_10358-oeis-tm_rebase.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm_rebase.patch.gz)\n* [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)\n* [attachment: trac_10358-oeis-review_2-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)\n* [attachment: trac_10358-oeis-review_3-nc-tm.patch\u200b](https://github.com/sagemath/sage/files/ticket10358/67d8b96f8e3df0fd19199ab7e76eeaa4.gz)\n\n\nDepends on #15245\n\nCC:  @sagetrac-sage-combinat @williamstein @kini @jpflori @sagetrac-chrisjamesberg @VivianePons\n\nKeywords: **Cernay2012 days49**\n\nReviewer: **Nathann Cohen**\n\nAuthor: **Thierry Monteil**\n\nMerged: **sage-5.13.beta2**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10358_\n\n",
    "closed_at": "2013-10-31T19:15:49Z",
    "created_at": "2010-12-01T03:02:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.13",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "New interface with OEIS",
    "type": "issue",
    "updated_at": "2018-09-20T09:00:16Z",
    "url": "https://github.com/sagemath/sage/issues/10358",
    "user": "https://github.com/williamstein"
}
```
The sloane_find command, which parses output of a webpage, is broken for years due to the Sloane sequence webpage being rewritten. It silently always finds nothing.

```
sage: sloane_find([1,1,2,3,5,8,13,21], nresults=1)
[]
```

The aim of this ticket is to propose a new interface with OEIS http://oeis.org/

Apply: 
* [attachment: trac_10358-oeis-tm_rebase.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm_rebase.patch.gz)
* [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)
* [attachment: trac_10358-oeis-review_2-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)
* [attachment: trac_10358-oeis-review_3-nc-tm.patchâ€‹](https://github.com/sagemath/sage/files/ticket10358/67d8b96f8e3df0fd19199ab7e76eeaa4.gz)


Depends on #15245

CC:  @sagetrac-sage-combinat @williamstein @kini @jpflori @sagetrac-chrisjamesberg @VivianePons

Keywords: **Cernay2012 days49**

Reviewer: **Nathann Cohen**

Author: **Thierry Monteil**

Merged: **sage-5.13.beta2**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/10358_





---

archive/issue_events_134988.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-12-01T03:02:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "milestone_number": null,
    "milestone_title": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134988"
}
```



---

archive/issue_events_134989.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-12-01T03:02:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134989"
}
```



---

archive/issue_events_134990.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-12-01T03:02:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134990"
}
```



---

archive/issue_events_134991.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2010-12-01T03:02:31Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "subject": "https://github.com/williamstein",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134991"
}
```



---

archive/issue_events_134992.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-12-01T03:02:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134992"
}
```



---

archive/issue_events_134993.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-12-01T03:04:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134993"
}
```



---

archive/issue_events_134994.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-12-01T03:04:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "c6c6c6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134994"
}
```



---

archive/issue_comments_097402.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nCrap, this is a dup of #10056",
    "created_at": "2010-12-01T03:04:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97402",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:2" align="right">comment:2</div>

Crap, this is a dup of #10056



---

archive/issue_events_134995.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-12-01T03:04:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134995"
}
```



---

archive/issue_events_134996.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2011-01-25T13:43:55Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "subject": "https://github.com/sagetrac-tmonteil",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134996"
}
```



---

archive/issue_events_134997.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2011-01-25T13:43:55Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "subject": "https://github.com/sagetrac-tmonteil",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134997"
}
```



---

archive/issue_comments_097403.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHi,\n\nthe aim of #10056 was to migrate every url in sage that was dealing with Sloane's database at once (not only `sloane_find()`), hence this is not really a duplicate. The issue here is that oeis changed their html templates, so the sage parsers are not working anymore. I just coded a new parser, which you can see working on the combinat repository (`sloane_new_website_parsers-tm.patch`).\n\nI added the more atomic functions in `sage/databases/sloane.py` (the documentation still needs to be fixed):\n\n- `sloane_discover()` which discovers which sequences correspond to some list of integers.\n- `sloane_first_terms()` which returns the first terms of the sequence.\n- `sloane_description()` which returns the one line description of the sequence.\n\nI don't really know what to do with the broken functions:\n- `parse_sequence()` is completely dead and now useless. Should it now raise a deprecation warning ?\n- `sloane_sequence()` and `sloane_find()` are broken, but maybe some users still need them, should i make them working again as a combination of the first 3 functions ?\n\nAlso, maybe all those functions should be renamed by replacing sloane by oeis ? This may be too early since i guess most people know more about Sloane than about oeis. In such a case, what is the procedure/convention to ensure backward compatibility ?\n\nAt the end, we could have a daily crontab to check when the oeis changes its html template, and adapt the parsers accordingly. Better, we could ask them to provide an online standard query system, but if i understand a discussion in the nmbrthry mailing-list, this may not be their whish.\n\nCiao,\nThierry",
    "created_at": "2011-01-25T13:43:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97403",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:3" align="right">comment:3</div>

Hi,

the aim of #10056 was to migrate every url in sage that was dealing with Sloane's database at once (not only `sloane_find()`), hence this is not really a duplicate. The issue here is that oeis changed their html templates, so the sage parsers are not working anymore. I just coded a new parser, which you can see working on the combinat repository (`sloane_new_website_parsers-tm.patch`).

I added the more atomic functions in `sage/databases/sloane.py` (the documentation still needs to be fixed):

- `sloane_discover()` which discovers which sequences correspond to some list of integers.
- `sloane_first_terms()` which returns the first terms of the sequence.
- `sloane_description()` which returns the one line description of the sequence.

I don't really know what to do with the broken functions:
- `parse_sequence()` is completely dead and now useless. Should it now raise a deprecation warning ?
- `sloane_sequence()` and `sloane_find()` are broken, but maybe some users still need them, should i make them working again as a combination of the first 3 functions ?

Also, maybe all those functions should be renamed by replacing sloane by oeis ? This may be too early since i guess most people know more about Sloane than about oeis. In such a case, what is the procedure/convention to ensure backward compatibility ?

At the end, we could have a daily crontab to check when the oeis changes its html template, and adapt the parsers accordingly. Better, we could ask them to provide an online standard query system, but if i understand a discussion in the nmbrthry mailing-list, this may not be their whish.

Ciao,
Thierry



---

archive/issue_events_134998.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2011-01-25T13:44:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134998"
}
```



---

archive/issue_events_134999.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2011-01-25T13:44:16Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-134999"
}
```



---

archive/issue_events_135000.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2011-01-25T13:45:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "milestone_number": null,
    "milestone_title": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135000"
}
```



---

archive/issue_events_135001.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2011-01-25T13:45:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "milestone_number": null,
    "milestone_title": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135001"
}
```



---

archive/issue_comments_097404.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSalut Thierry,\n\nRather than having a bunch of functions to return the various pieces of a Sloane result, there could be a single object from which one could query the pieces via methods. Something like:\n\n```\n    sage: s = sloane_find([1,1,2,5,8,14])[0]\n    sage: s.description()\n    ...\n    sage: s[6]\n    42\n```\n\n\nActually, Anders Claesson [1] had implemented a prototype of this feature during FPSAC'09, and his demo was quite cool. I guess he would agree to give his code away for someone else to finalize it and merge it into Sage.\n\nBut maybe that should be the topic of a separate ticket.\n\n[1] http://combinatorics.is/anders/",
    "created_at": "2011-01-26T10:24:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97404",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:6" align="right">comment:6</div>

Salut Thierry,

Rather than having a bunch of functions to return the various pieces of a Sloane result, there could be a single object from which one could query the pieces via methods. Something like:

```
    sage: s = sloane_find([1,1,2,5,8,14])[0]
    sage: s.description()
    ...
    sage: s[6]
    42
```


Actually, Anders Claesson [1] had implemented a prototype of this feature during FPSAC'09, and his demo was quite cool. I guess he would agree to give his code away for someone else to finalize it and merge it into Sage.

But maybe that should be the topic of a separate ticket.

[1] http://combinatorics.is/anders/



---

archive/issue_events_135002.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-23T01:23:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "c6c6c6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135002"
}
```



---

archive/issue_events_135003.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-23T01:23:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135003"
}
```



---

archive/issue_events_135004.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-23T01:23:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135004"
}
```



---

archive/issue_events_135005.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-23T01:24:03Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135005"
}
```



---

archive/issue_comments_097405.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nBy the way, if you need to play with OEIS now, here is the current version of the patch in preparation, on sage-combinat: [http://combinat.sagemath.org/patches/file/0506836c7c66/sloane_new_website_parsers-tm.patch](http://combinat.sagemath.org/patches/file/0506836c7c66/sloane_new_website_parsers-tm.patch)\n\nThe methods still parse the new website correctly, but i didn't put everything in a single class yet as Nicolas suggested.",
    "created_at": "2011-10-23T15:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97405",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:10" align="right">comment:10</div>

By the way, if you need to play with OEIS now, here is the current version of the patch in preparation, on sage-combinat: [http://combinat.sagemath.org/patches/file/0506836c7c66/sloane_new_website_parsers-tm.patch](http://combinat.sagemath.org/patches/file/0506836c7c66/sloane_new_website_parsers-tm.patch)

The methods still parse the new website correctly, but i didn't put everything in a single class yet as Nicolas suggested.



---

archive/issue_comments_097406.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nOh, no particular hurry. I just happened to notice OEIS was broken, and was surprised to find that this ticket was closed, so I asked leif to reopen it. Glad to hear there is a patch in the works. If possible could you post it here once in a while? As the ticket hadn't been changed for 9 months I thought nobody was working on it. Thanks!",
    "created_at": "2011-10-24T07:07:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97406",
    "user": "https://github.com/kini"
}
```

<div id="comment:11" align="right">comment:11</div>

Oh, no particular hurry. I just happened to notice OEIS was broken, and was surprised to find that this ticket was closed, so I asked leif to reopen it. Glad to hear there is a patch in the works. If possible could you post it here once in a while? As the ticket hadn't been changed for 9 months I thought nobody was working on it. Thanks!



---

archive/issue_comments_097407.json:
```json
{
    "body": "Changed keywords from none to **Cernay2012**",
    "created_at": "2012-02-10T02:54:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97407",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed keywords from none to **Cernay2012**



---

archive/issue_comments_097408.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThierry, can you upload your patch here? Was it ready?\n\nS\u00e9bastien",
    "created_at": "2012-08-01T12:57:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97408",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:13" align="right">comment:13</div>

Thierry, can you upload your patch here? Was it ready?

SÃ©bastien



---

archive/issue_comments_097409.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nSee also #13884, though it should be dealt with here.\n\nAnd FYI, we would want to make sure that this also works:\n\n```\nsage -t --only_optional=internet \"devel/sage/sage/combinat/words/paths.py\"\n    sage: sloane_find(_, nresults=1) #optional - internet\nExpected:\n    Searching Sloane's online database...\n    [[1653,\n      'Numbers n such that 2*n^2 - 1 is a square.',\n      [1,\n       5,\n       29,\n       169,\n       985,\n       5741,\n       33461,\n       195025,\n       1136689,\n       6625109,\n       38613965,\n       225058681,\n       1311738121,\n       7645370045,\n       44560482149,\n       259717522849,\n       1513744654945,\n       8822750406821,\n       51422757785981,\n       299713796309065,\n       1746860020068409]]]\nGot:\n    Searching Sloane's online database...\n    []\n**********************************************************************\n```\nWhich of course it should once this is done, but wanted to point it out since it's in a different file.",
    "created_at": "2013-01-03T18:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97409",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">comment:14</div>

See also #13884, though it should be dealt with here.

And FYI, we would want to make sure that this also works:

```
sage -t --only_optional=internet "devel/sage/sage/combinat/words/paths.py"
    sage: sloane_find(_, nresults=1) #optional - internet
Expected:
    Searching Sloane's online database...
    [[1653,
      'Numbers n such that 2*n^2 - 1 is a square.',
      [1,
       5,
       29,
       169,
       985,
       5741,
       33461,
       195025,
       1136689,
       6625109,
       38613965,
       225058681,
       1311738121,
       7645370045,
       44560482149,
       259717522849,
       1513744654945,
       8822750406821,
       51422757785981,
       299713796309065,
       1746860020068409]]]
Got:
    Searching Sloane's online database...
    []
**********************************************************************
```
Which of course it should once this is done, but wanted to point it out since it's in a different file.



---

archive/issue_comments_097410.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n> Thierry, can you upload your patch here? Was it ready?\n\n6 months old question left unanswered.. Time for a ping `:-P`\n\nNathann",
    "created_at": "2013-01-20T10:07:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97410",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:15" align="right">comment:15</div>

> Thierry, can you upload your patch here? Was it ready?

6 months old question left unanswered.. Time for a ping `:-P`

Nathann



---

archive/issue_comments_097411.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nhttp://combinat.sagemath.org/patches/log/tip/sloane_new_website_parsers-tm.patch\n\nNothing happened for two years, and the patch is still sitting in the combinat queue without being posted on trac.",
    "created_at": "2013-01-20T10:12:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97411",
    "user": "https://github.com/kini"
}
```

<div id="comment:16" align="right">comment:16</div>

http://combinat.sagemath.org/patches/log/tip/sloane_new_website_parsers-tm.patch

Nothing happened for two years, and the patch is still sitting in the combinat queue without being posted on trac.



---

archive/issue_comments_097412.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n\"The Sage-Combinat experience\" `:-P`\n\nSo, should we set this ticket to `need_work`, or `needs_info`, or `wait_for_the_combinat_queue_to_be_reviewed` ? `:-P`\n\nNathann",
    "created_at": "2013-01-20T10:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97412",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:17" align="right">comment:17</div>

"The Sage-Combinat experience" `:-P`

So, should we set this ticket to `need_work`, or `needs_info`, or `wait_for_the_combinat_queue_to_be_reviewed` ? `:-P`

Nathann



---

archive/issue_comments_097413.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nHi,\n\nsorry for the delay, the version on the combinat queue is not the good one, during the Cernay combinat days in last february (less than one year!), i build a new class named oeis, that allows to get all kind of information from the oeis db (cross references, web links, ...).\n\nI upload a temporary version here so that you can try it, but the documentation is not finished, and non backward-compatible changes may still appear.\n\nThierry",
    "created_at": "2013-01-21T11:32:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97413",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:18" align="right">comment:18</div>

Hi,

sorry for the delay, the version on the combinat queue is not the good one, during the Cernay combinat days in last february (less than one year!), i build a new class named oeis, that allows to get all kind of information from the oeis db (cross references, web links, ...).

I upload a temporary version here so that you can try it, but the documentation is not finished, and non backward-compatible changes may still appear.

Thierry



---

archive/issue_comments_097414.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThe patch needs to be rebased after #13701, some doctests, and make urls clickable from the notebook. \n\nI will finish this during sage days 49.",
    "created_at": "2013-06-08T17:06:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97414",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:20" align="right">comment:20</div>

The patch needs to be rebased after #13701, some doctests, and make urls clickable from the notebook. 

I will finish this during sage days 49.



---

archive/issue_comments_097415.json:
```json
{
    "body": "Attachment: **[trac_10358-oeis-tm.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)**",
    "created_at": "2013-06-21T17:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97415",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Attachment: **[trac_10358-oeis-tm.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)**



---

archive/issue_comments_097416.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThere is a room for lots of improvements, but i submit it now under the social pressure ;)\n\nMost tests use an internet connection, so do not forget `--optional=sage,internet` when testing.\n\nThe name of the method `.natural_object()` might be improved (`.sage()` is not better since an OEIS sequence is already a Sage object).",
    "created_at": "2013-06-21T17:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97416",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:22" align="right">comment:22</div>

There is a room for lots of improvements, but i submit it now under the social pressure ;)

Most tests use an internet connection, so do not forget `--optional=sage,internet` when testing.

The name of the method `.natural_object()` might be improved (`.sage()` is not better since an OEIS sequence is already a Sage object).



---

archive/issue_comments_097417.json:
```json
{
    "body": "Changed keywords from **Cernay2012** to **Cernay2012 days49**",
    "created_at": "2013-06-21T17:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97417",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed keywords from **Cernay2012** to **Cernay2012 days49**



---

archive/issue_comments_097418.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,9 @@\n-The sloane_find command, which parses output of a webpage, is now completely broken due to the Sloane sequence webpage being rewritten. It silently always finds nothing.\n+The sloane_find command, which parses output of a webpage, is broken for years due to the Sloane sequence webpage being rewritten. It silently always finds nothing.\n \n ```\n sage: sloane_find([1,1,2,3,5,8,13,21], nresults=1)\n []\n ```\n+\n+The aim of this ticket is to propose a new interface with OEIS http://oeis.org/\n+\n``````\n",
    "created_at": "2013-06-21T17:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97418",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,9 @@
-The sloane_find command, which parses output of a webpage, is now completely broken due to the Sloane sequence webpage being rewritten. It silently always finds nothing.
+The sloane_find command, which parses output of a webpage, is broken for years due to the Sloane sequence webpage being rewritten. It silently always finds nothing.
 
 ```
 sage: sloane_find([1,1,2,3,5,8,13,21], nresults=1)
 []
 ```
+
+The aim of this ticket is to propose a new interface with OEIS http://oeis.org/
+
``````




---

archive/issue_events_135006.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2013-06-21T17:26:32Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "title_is": "New interface with OEIS",
    "title_was": "The sloane_find command is now completely broken",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135006"
}
```



---

archive/issue_events_135007.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2013-06-21T17:26:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135007"
}
```



---

archive/issue_comments_097419.json:
```json
{
    "body": "Author: **Thierry Monteil**",
    "created_at": "2013-06-21T17:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97419",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Author: **Thierry Monteil**



---

archive/issue_comments_097420.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nJust a brief question - why the `oeis()` rather than `sloane_find()`?  Are you just completely replacing the sloane.py?  I just don't quite get why this isn't just all put in sloane.py, and perhaps the new code replacing the broken code... Not that I have a vested interest in this.\n\nI do recommend that all references to `is broken for more than a year` be changed to `is broken` or perhaps `has been broken for some time`.\n\nAlso, it would be nice to have references like \n\n```\nclass:`sage.databases.oeis.OEIS`_\n```\nor whatever the correct format is.",
    "created_at": "2013-06-21T17:40:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97420",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:23" align="right">comment:23</div>

Just a brief question - why the `oeis()` rather than `sloane_find()`?  Are you just completely replacing the sloane.py?  I just don't quite get why this isn't just all put in sloane.py, and perhaps the new code replacing the broken code... Not that I have a vested interest in this.

I do recommend that all references to `is broken for more than a year` be changed to `is broken` or perhaps `has been broken for some time`.

Also, it would be nice to have references like 

```
class:`sage.databases.oeis.OEIS`_
```
or whatever the correct format is.



---

archive/issue_comments_097421.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nHere is how i understand the mess. There are three different things related to OEIS in Sage.\n\n- `sage/databases/sloane.py` (still) contains a class `SloaneEncyclopedia` that\n  corresponds to a local partial copy of the OEIS. It is really a database.\n  This file used to contain a function `sloane_find()` as well that, given a\n  sequence, looked on the web and answered the name, the title, and the first\n  terms of the OEIS sequences containing it.\n\n- `sage/databases/oeis.py` (which is created by this patch) contains two\n  classes,\n  - `OEIS`, that represents the on-line database, so that you can ask it questions\n    like\n    - give me the sequence whose ID is 'A000040'\n    - give me 5 sequences whose description deal with \"decimals\".\n    - give me 3 sequences that contain `[2,3,5,7]` as a subsequence.\n    - (todo) : give me the explanation of the keyword 'cofr'\n    - ...\n  - `OEISSequence` that represents a sequence, so that you can ask it questions like\n    - what is your name ?\n    - what are your first terms ?\n    - are you finite ?\n    - do you have some references, links,... ?\n    - what is your starting index ?\n    - which natural Sage object do you represent (continued fraction, decimal\n      number, sequence, power series,...) ?\n    - ...\n\n- `sage/combinat/sloane_functions.py` contains a generic class `SloaneSequence`,\n  and a class (that inherits from the generic one) for each implementation of a\n  given OEIS sequence. Such a class allows to dynamically give more terms than\n  the one stored in OEIS. This functionality could perhaps be redesigned in\n  something lighter (like a dictionary of functions), to ease adding new\n  entries).\n\nOf course `OEIS` and `sloane_find()` are related, which is why i posted the patch\non this ticket. But, the answers are not of the same type (direct informations\nversus an OEIS sequences that you can ask for informations), hence if i name\nthe class `OEIS` as `sloane_find`, old code using `sloane_find()` won't work either,\nhence the deprecation warning instead. Also it would have been harder to\nextend the `function sloane_find()`, where it will be easy for the classes\n`OEIS`/`OEISSequence`.\n\nActually, i do not know whether `oeis.py` should stay in the `sage/databases/`\ndirectory, since is it not an interface to a local database but a tool to\nfetch an online website, like `finance/stock.py` and `interfaces/magma_free.py`\n\nPerhaps should i move it to `sage/combinat/` directory (where\n`sloane_functions.py` is), or maybe we should move all three tools to a\n`sage/combinat/oeis/` directory (but then `sloane.py` will not be in `sage/databases/` anymore) ? The current choice is the laziest.\n\nOf course those 3 tools related to OEIS should be interfaced together (e.g. if\nthere are too many online queries, suggest the user to install the offline\ndatabase ; if there is a Sage implementation of some OEIS sequence, then use\nit when iterating over it once the first terms are exhausted ; and so on).\nThis is planned but, will take some more tests, and perhaps having 3 different tools for 3 different purposes is a good start. Having the web, the DB and the\nfunctions interfaced will also allow to be more lazy (e.g an OEIS sequence\ncould be created with only its ID, without fetching the web as long as there are local\nanswers, this could be easily done in the OEIS/OEISSequence framework).\n\nI will change the deprecation messages, and description of broken functions as you suggested.\n\nConcerning the reference class:`sage.databases.oeis.OEIS`_, i already put one in the general description of sloane.py (as a SEEALSO::). Should i also put one in the deprecation warnings as well ?",
    "created_at": "2013-06-22T09:23:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97421",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:24" align="right">comment:24</div>

Here is how i understand the mess. There are three different things related to OEIS in Sage.

- `sage/databases/sloane.py` (still) contains a class `SloaneEncyclopedia` that
  corresponds to a local partial copy of the OEIS. It is really a database.
  This file used to contain a function `sloane_find()` as well that, given a
  sequence, looked on the web and answered the name, the title, and the first
  terms of the OEIS sequences containing it.

- `sage/databases/oeis.py` (which is created by this patch) contains two
  classes,
  - `OEIS`, that represents the on-line database, so that you can ask it questions
    like
    - give me the sequence whose ID is 'A000040'
    - give me 5 sequences whose description deal with "decimals".
    - give me 3 sequences that contain `[2,3,5,7]` as a subsequence.
    - (todo) : give me the explanation of the keyword 'cofr'
    - ...
  - `OEISSequence` that represents a sequence, so that you can ask it questions like
    - what is your name ?
    - what are your first terms ?
    - are you finite ?
    - do you have some references, links,... ?
    - what is your starting index ?
    - which natural Sage object do you represent (continued fraction, decimal
      number, sequence, power series,...) ?
    - ...

- `sage/combinat/sloane_functions.py` contains a generic class `SloaneSequence`,
  and a class (that inherits from the generic one) for each implementation of a
  given OEIS sequence. Such a class allows to dynamically give more terms than
  the one stored in OEIS. This functionality could perhaps be redesigned in
  something lighter (like a dictionary of functions), to ease adding new
  entries).

Of course `OEIS` and `sloane_find()` are related, which is why i posted the patch
on this ticket. But, the answers are not of the same type (direct informations
versus an OEIS sequences that you can ask for informations), hence if i name
the class `OEIS` as `sloane_find`, old code using `sloane_find()` won't work either,
hence the deprecation warning instead. Also it would have been harder to
extend the `function sloane_find()`, where it will be easy for the classes
`OEIS`/`OEISSequence`.

Actually, i do not know whether `oeis.py` should stay in the `sage/databases/`
directory, since is it not an interface to a local database but a tool to
fetch an online website, like `finance/stock.py` and `interfaces/magma_free.py`

Perhaps should i move it to `sage/combinat/` directory (where
`sloane_functions.py` is), or maybe we should move all three tools to a
`sage/combinat/oeis/` directory (but then `sloane.py` will not be in `sage/databases/` anymore) ? The current choice is the laziest.

Of course those 3 tools related to OEIS should be interfaced together (e.g. if
there are too many online queries, suggest the user to install the offline
database ; if there is a Sage implementation of some OEIS sequence, then use
it when iterating over it once the first terms are exhausted ; and so on).
This is planned but, will take some more tests, and perhaps having 3 different tools for 3 different purposes is a good start. Having the web, the DB and the
functions interfaced will also allow to be more lazy (e.g an OEIS sequence
could be created with only its ID, without fetching the web as long as there are local
answers, this could be easily done in the OEIS/OEISSequence framework).

I will change the deprecation messages, and description of broken functions as you suggested.

Concerning the reference class:`sage.databases.oeis.OEIS`_, i already put one in the general description of sloane.py (as a SEEALSO::). Should i also put one in the deprecation warnings as well ?



---

archive/issue_comments_097422.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nHelloooooooo !!\n\nI noticed small things\n\n* `find_by_description` does not use `first_result`\n* <code>\\`\\`absolute_value\\`\\` - (bool, default False) expliquer le bordel.</code>\n* Shouldn't `OEISSequence.fields` be renamed to `_fields` ? It's weird to have this constant among so many functions in the tab-completion.\n* In your deprecation warnings could you replace \"oeis\" by \"oeis()\" ? To emphasize that \"oeis\" is a function that should be used instead of \"sloane_find\" ?\n* I am not a big fan of the design of `first_terms` which builds the list of all terms, and that is subsequently called by `__call__` and `__getitem__` that ignore most values and return only one. But of course efficiency is not really a problem here `:-P`\n* The documentation of the OEIS module begins a tad harshly. A sentence saying \"The OEIS is an online database for integer sequences, you can query it through Sage in order to guess how an integer sequence contiues and what it may mean\" would be nice before all Sage examples are given `:-)`\n\nThis being said I like your new code, and I think that it fits well in `database/`...\n\nNathann",
    "created_at": "2013-06-27T18:21:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97422",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:25" align="right">comment:25</div>

Helloooooooo !!

I noticed small things

* `find_by_description` does not use `first_result`
* <code>\`\`absolute_value\`\` - (bool, default False) expliquer le bordel.</code>
* Shouldn't `OEISSequence.fields` be renamed to `_fields` ? It's weird to have this constant among so many functions in the tab-completion.
* In your deprecation warnings could you replace "oeis" by "oeis()" ? To emphasize that "oeis" is a function that should be used instead of "sloane_find" ?
* I am not a big fan of the design of `first_terms` which builds the list of all terms, and that is subsequently called by `__call__` and `__getitem__` that ignore most values and return only one. But of course efficiency is not really a problem here `:-P`
* The documentation of the OEIS module begins a tad harshly. A sentence saying "The OEIS is an online database for integer sequences, you can query it through Sage in order to guess how an integer sequence contiues and what it may mean" would be nice before all Sage examples are given `:-)`

This being said I like your new code, and I think that it fits well in `database/`...

Nathann



---

archive/issue_events_135008.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-06-28T16:52:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135008"
}
```



---

archive/issue_events_135009.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-06-28T16:52:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135009"
}
```



---

archive/issue_comments_097423.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nHere is the first review patch.\n\nSuggested by Karl-Dieter:\n\n- I do recommend that all references to is broken for more than a year be\n  changed to is broken or perhaps has been broken for some time.\n    - Done.\n- Also, it would be nice to have references like\n  class:`sage.databases.oeis.OEIS`_ or whatever the correct format is.\n    - Done\n    - I added :mod:`OEIS <sage.databases.oeis>`\n    - I also added similar cross references between the three Sloane-related modules.\n\nSuggested by Nathann:\n\n- find_by_description does not use first_result\n    - Done.\n    - I think it disapeared when migrating from my first patch and the new\n      framework.\n- ``absolute_value`` - (bool, default False) expliquer le bordel.\n    - Done.\n    - Why did my en_GB spell checker did not alert me about that ? ;)\n- Shouldn't OEISSequence.fields be renamed to _fields ? It's weird to have\n  this constant among so many functions in the tab-completion.\n    - Done.\n    - I like to see it exists, but i agree this may be confusing, and perhaps\n      someone that need this will find it even if it is called _fields.\n- In your deprecation warnings could you replace \"oeis\" by \"oeis()\" ? To\n  emphasize that \"oeis\" is a function that should be used instead of\n  \"sloane_find\" ?\n    - Done.\n- I am not a big fan of the design of first_terms which builds the list of all\n  terms, and that is subsequently called by `__call__` and `__getitem__` that\n  ignore most values and return only one. But of course efficiency is not\n  really a problem here :-P\n    - Done.\n    - Actually, the result we get from the website is a string from which we\n      have to extract the first terms, and if i want the 10th term, id no not\n      see how to find it without parsing the whole string (or at least a big\n      part of it since i do not know the length of the 9 previous integers of\n      the sequence). There used to be a `@`cached_method here (and i forgot to\n      remove the associated import_statement), so i put it back, hence many\n      calls to `__call__` or `__getitem__` will cost string parsing only the first\n      time.\n    - Also, i think it is good to have such a separate method to say that\n      those first terms come from the online database. This might be useful\n      when interfacing with `sloane_functions`, and then have a differnt\n      method like `further_terms` or so, to distinguish them (and allow cross\n      testing).\n- The documentation of the OEIS module begins a tad harshly. A sentence saying\n  \"The OEIS is an online database for integer sequences, you can query it\n  through Sage in order to guess how an integer sequence contiues and what it\n  may mean\" would be nice before all Sage examples are given :-)\n    - Done.\n\nMoreover, i took the opportunity to fix a few things:\n\n- I added empty default values to the variables of sloane_find() and\n  sloane_sequence() so that calling them without argument will lead to the\n  deprecation warning instead of an error.\n- Thanks to the patchbot, i noticed that Sage startuptime was slower with\n  oeis, this is due to the import of modules that are not imported elsewhere\n  in Sage: `HTMLParser` and `webbrowser`. Therefore, i now import them in the\n  right methods only, and make oeis lazy_imported as well.\n- Thanks to the patchbot, i put doctest coverage of oeis.py to 100% (i forgot\n  to doctest `.__init__()` and untestable functions like `.browse()`)\n- I removed an old unused option in `FancyTuple`, and fixed some typos.\n- I added a .browse() method to OEIS class.",
    "created_at": "2013-07-16T10:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97423",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:28" align="right">comment:28</div>

Here is the first review patch.

Suggested by Karl-Dieter:

- I do recommend that all references to is broken for more than a year be
  changed to is broken or perhaps has been broken for some time.
    - Done.
- Also, it would be nice to have references like
  class:`sage.databases.oeis.OEIS`_ or whatever the correct format is.
    - Done
    - I added :mod:`OEIS <sage.databases.oeis>`
    - I also added similar cross references between the three Sloane-related modules.

Suggested by Nathann:

- find_by_description does not use first_result
    - Done.
    - I think it disapeared when migrating from my first patch and the new
      framework.
- ``absolute_value`` - (bool, default False) expliquer le bordel.
    - Done.
    - Why did my en_GB spell checker did not alert me about that ? ;)
- Shouldn't OEISSequence.fields be renamed to _fields ? It's weird to have
  this constant among so many functions in the tab-completion.
    - Done.
    - I like to see it exists, but i agree this may be confusing, and perhaps
      someone that need this will find it even if it is called _fields.
- In your deprecation warnings could you replace "oeis" by "oeis()" ? To
  emphasize that "oeis" is a function that should be used instead of
  "sloane_find" ?
    - Done.
- I am not a big fan of the design of first_terms which builds the list of all
  terms, and that is subsequently called by `__call__` and `__getitem__` that
  ignore most values and return only one. But of course efficiency is not
  really a problem here :-P
    - Done.
    - Actually, the result we get from the website is a string from which we
      have to extract the first terms, and if i want the 10th term, id no not
      see how to find it without parsing the whole string (or at least a big
      part of it since i do not know the length of the 9 previous integers of
      the sequence). There used to be a `@`cached_method here (and i forgot to
      remove the associated import_statement), so i put it back, hence many
      calls to `__call__` or `__getitem__` will cost string parsing only the first
      time.
    - Also, i think it is good to have such a separate method to say that
      those first terms come from the online database. This might be useful
      when interfacing with `sloane_functions`, and then have a differnt
      method like `further_terms` or so, to distinguish them (and allow cross
      testing).
- The documentation of the OEIS module begins a tad harshly. A sentence saying
  "The OEIS is an online database for integer sequences, you can query it
  through Sage in order to guess how an integer sequence contiues and what it
  may mean" would be nice before all Sage examples are given :-)
    - Done.

Moreover, i took the opportunity to fix a few things:

- I added empty default values to the variables of sloane_find() and
  sloane_sequence() so that calling them without argument will lead to the
  deprecation warning instead of an error.
- Thanks to the patchbot, i noticed that Sage startuptime was slower with
  oeis, this is due to the import of modules that are not imported elsewhere
  in Sage: `HTMLParser` and `webbrowser`. Therefore, i now import them in the
  right methods only, and make oeis lazy_imported as well.
- Thanks to the patchbot, i put doctest coverage of oeis.py to 100% (i forgot
  to doctest `.__init__()` and untestable functions like `.browse()`)
- I removed an old unused option in `FancyTuple`, and fixed some typos.
- I added a .browse() method to OEIS class.



---

archive/issue_comments_097424.json:
```json
{
    "body": "First review patch",
    "created_at": "2013-07-16T10:48:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97424",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

First review patch



---

archive/issue_events_135010.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2013-07-16T11:03:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135010"
}
```



---

archive/issue_events_135011.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2013-07-16T11:03:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135011"
}
```



---

archive/issue_comments_097425.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,8 @@\n \n The aim of this ticket is to propose a new interface with OEIS http://oeis.org/\n \n+Apply: \n+* [attachment: trac_10358-oeis-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)\n+* [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)\n+\n+\n``````\n",
    "created_at": "2013-07-16T11:03:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97425",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,8 @@
 
 The aim of this ticket is to propose a new interface with OEIS http://oeis.org/
 
+Apply: 
+* [attachment: trac_10358-oeis-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)
+* [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)
+
+
``````




---

archive/issue_comments_097426.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nAttachment: **[trac_10358-oeis-review_1-tm.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)**",
    "created_at": "2013-07-16T11:03:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97426",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:29" align="right">comment:29</div>

Attachment: **[trac_10358-oeis-review_1-tm.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)**



---

archive/issue_comments_097427.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI am playing with oeis again and thought of two others things..\n\n* How come that there is no \".sequence\" entry when you have a oeis sequence ? Sounds natural, doesn't it ? Wouldn't it be muuuuch more natural than \"first_n_terms\" ? `O_o`\n\n* How come that there is no way to print all the information that OEIS knows on the sequence ? Something like `seq.show_all()` or `seq.show` ? Right now everything is split in manymany fields, which is nice if you want to write some code but if you just want to know everything there is to know about this sequence, well.. It's quite uneasy to use, isn't it ?\n\nOh, and perhaps you should use viewer.browser instead of webbroser ?\n\nhttp://www.sagemath.org/doc/reference/misc/sage/misc/viewer.html\n\nNathann",
    "created_at": "2013-07-17T19:45:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97427",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:30" align="right">comment:30</div>

I am playing with oeis again and thought of two others things..

* How come that there is no ".sequence" entry when you have a oeis sequence ? Sounds natural, doesn't it ? Wouldn't it be muuuuch more natural than "first_n_terms" ? `O_o`

* How come that there is no way to print all the information that OEIS knows on the sequence ? Something like `seq.show_all()` or `seq.show` ? Right now everything is split in manymany fields, which is nice if you want to write some code but if you just want to know everything there is to know about this sequence, well.. It's quite uneasy to use, isn't it ?

Oh, and perhaps you should use viewer.browser instead of webbroser ?

http://www.sagemath.org/doc/reference/misc/sage/misc/viewer.html

Nathann



---

archive/issue_comments_097428.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nHmmmmmm... Looks like your way of picking the browser makes more sense than mine. It's bit weird though that `viewer.browser` does not use webbrowser at all `O_o`\n\nNathann",
    "created_at": "2013-07-17T21:57:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97428",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:31" align="right">comment:31</div>

Hmmmmmm... Looks like your way of picking the browser makes more sense than mine. It's bit weird though that `viewer.browser` does not use webbrowser at all `O_o`

Nathann



---

archive/issue_events_135012.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-17T21:57:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135012"
}
```



---

archive/issue_events_135013.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-17T21:57:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135013"
}
```



---

archive/issue_events_135014.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-17T21:58:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135014"
}
```



---

archive/issue_events_135015.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-17T21:58:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135015"
}
```



---

archive/issue_events_135016.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-17T21:58:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135016"
}
```



---

archive/issue_events_135017.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2013-07-17T21:58:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135017"
}
```



---

archive/issue_comments_097429.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nIn this second review ticket, i added a basic `.show()` method as Nathann suggested.\n\nI took the opportunity to update a doctest (an OEIS entry was updated), to let `.cross_references()` return tuples instead of lists (like the other methods), and to have a better alignment in the representation of `FancyTuple`.\n\nConcerning the name `.sequence()` vs `.first_terms()` i prefer to stick to `.first_terms()` because we only got the first few terms, not the whole sequence. Perhaps `.sequence()` could be defined while interfacing `oeis` with `sloane_sequence`.",
    "created_at": "2013-07-20T01:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97429",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:34" align="right">comment:34</div>

In this second review ticket, i added a basic `.show()` method as Nathann suggested.

I took the opportunity to update a doctest (an OEIS entry was updated), to let `.cross_references()` return tuples instead of lists (like the other methods), and to have a better alignment in the representation of `FancyTuple`.

Concerning the name `.sequence()` vs `.first_terms()` i prefer to stick to `.first_terms()` because we only got the first few terms, not the whole sequence. Perhaps `.sequence()` could be defined while interfacing `oeis` with `sloane_sequence`.



---

archive/issue_comments_097430.json:
```json
{
    "body": "Second review patch",
    "created_at": "2013-07-20T01:10:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97430",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Second review patch



---

archive/issue_comments_097431.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,5 +10,5 @@\n Apply: \n * [attachment: trac_10358-oeis-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)\n * [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)\n+* [attachment: trac_10358-oeis-review_2-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)\n \n-\n``````\n",
    "created_at": "2013-07-20T01:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97431",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,5 +10,5 @@
 Apply: 
 * [attachment: trac_10358-oeis-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)
 * [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)
+* [attachment: trac_10358-oeis-review_2-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)
 
-
``````




---

archive/issue_comments_097432.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nAttachment: **[trac_10358-oeis-review_2-tm.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)**",
    "created_at": "2013-07-20T01:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97432",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:35" align="right">comment:35</div>

Attachment: **[trac_10358-oeis-review_2-tm.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)**



---

archive/issue_comments_097433.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2013-07-20T12:54:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97433",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_097434.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nHelloooooooooo Thiery !\n\nI read your code again, and made a couple of modifications. Could you please give it a look ? If you agree with them you can set this ticket to `positive_review` `:-)`\n\n* Added `__call__` to the Sphinx doc\n* Copied the doc of `__call__` to the doc of OEIS because it's currently impossible to know what `oeis()` takes as parameters (that's what you get from using fancy `__call__` instead of a normal `.find()` function...)\n* Added a section for classes and methods in the module's doc, to separate them from the module's doc in the html page\n\nNathann",
    "created_at": "2013-07-20T12:54:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97434",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:36" align="right">comment:36</div>

Helloooooooooo Thiery !

I read your code again, and made a couple of modifications. Could you please give it a look ? If you agree with them you can set this ticket to `positive_review` `:-)`

* Added `__call__` to the Sphinx doc
* Copied the doc of `__call__` to the doc of OEIS because it's currently impossible to know what `oeis()` takes as parameters (that's what you get from using fancy `__call__` instead of a normal `.find()` function...)
* Added a section for classes and methods in the module's doc, to separate them from the module's doc in the html page

Nathann



---

archive/issue_comments_097435.json:
```json
{
    "body": "Attachment: **[trac_10358-rev.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-rev.patch.gz)**",
    "created_at": "2013-07-20T12:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97435",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_10358-rev.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-rev.patch.gz)**



---

archive/issue_comments_097436.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,4 @@\n * [attachment: trac_10358-oeis-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)\n * [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)\n * [attachment: trac_10358-oeis-review_2-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)\n-\n+* [attachment: trac_10358-rev.patch\u200b](https://github.com/sagemath/sage/files/ticket10358/e92ff6af6d1c0ecc3296b4bddf041b7c.gz)\n``````\n",
    "created_at": "2013-07-20T12:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97436",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,4 @@
 * [attachment: trac_10358-oeis-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)
 * [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)
 * [attachment: trac_10358-oeis-review_2-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)
-
+* [attachment: trac_10358-rev.patchâ€‹](https://github.com/sagemath/sage/files/ticket10358/e92ff6af6d1c0ecc3296b4bddf041b7c.gz)
``````




---

archive/issue_events_135018.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135018"
}
```



---

archive/issue_events_135019.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135019"
}
```



---

archive/issue_comments_097437.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nPing ?...",
    "created_at": "2013-10-10T12:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97437",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:39" align="right">comment:39</div>

Ping ?...



---

archive/issue_comments_097438.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nHi,\n\ni built a new patch above yours. Instead of copying the doc of `__call__` to the doc of `OEIS`, i moved it to avoid code replication.\n\nAlso, the `html()` function prints things but returns nothing, so i updated the doc accordingly.\n\nI also had to update some doctests since some OEIS entries get updated upstream.\n\nI made the patch with sage 5.10, so let us see if the patchbot can apply and test them on 5.12 (i am going compile it, but it may take some time).",
    "created_at": "2013-10-14T14:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97438",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:40" align="right">comment:40</div>

Hi,

i built a new patch above yours. Instead of copying the doc of `__call__` to the doc of `OEIS`, i moved it to avoid code replication.

Also, the `html()` function prints things but returns nothing, so i updated the doc accordingly.

I also had to update some doctests since some OEIS entries get updated upstream.

I made the patch with sage 5.10, so let us see if the patchbot can apply and test them on 5.12 (i am going compile it, but it may take some time).



---

archive/issue_comments_097439.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,5 @@\n * [attachment: trac_10358-oeis-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)\n * [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)\n * [attachment: trac_10358-oeis-review_2-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)\n-* [attachment: trac_10358-rev.patch\u200b](https://github.com/sagemath/sage/files/ticket10358/e92ff6af6d1c0ecc3296b4bddf041b7c.gz)\n+* [attachment: trac_10358-oeis-review_3-nc-tm.patch\u200b](https://github.com/sagemath/sage/files/ticket10358/67d8b96f8e3df0fd19199ab7e76eeaa4.gz)\n+\n``````\n",
    "created_at": "2013-10-14T14:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97439",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,5 @@
 * [attachment: trac_10358-oeis-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)
 * [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)
 * [attachment: trac_10358-oeis-review_2-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)
-* [attachment: trac_10358-rev.patchâ€‹](https://github.com/sagemath/sage/files/ticket10358/e92ff6af6d1c0ecc3296b4bddf041b7c.gz)
+* [attachment: trac_10358-oeis-review_3-nc-tm.patchâ€‹](https://github.com/sagemath/sage/files/ticket10358/67d8b96f8e3df0fd19199ab7e76eeaa4.gz)
+
``````




---

archive/issue_comments_097440.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nThe last patch does not apply, see the patchbot report. But maybe it is not supposed to apply it on top of Nathann's patch trac_10358-rev.patch\u200b ?\n\nIf so, you must tell the patchbot (in a comment) what patches to apply.",
    "created_at": "2013-10-14T20:04:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97440",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:41" align="right">comment:41</div>

The last patch does not apply, see the patchbot report. But maybe it is not supposed to apply it on top of Nathann's patch trac_10358-rev.patchâ€‹ ?

If so, you must tell the patchbot (in a comment) what patches to apply.



---

archive/issue_comments_097441.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nIndeed, the patch applies instead of Nathann's one, not on top of it. I specified it in the ticket description. Did i use a wrong syntax ?",
    "created_at": "2013-10-15T09:14:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97441",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:42" align="right">comment:42</div>

Indeed, the patch applies instead of Nathann's one, not on top of it. I specified it in the ticket description. Did i use a wrong syntax ?



---

archive/issue_comments_097442.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nHello. The **patchbots** do not look at the description, but only look here (in the comments). Let me do it:\n\napply trac_10358-oeis-tm.patch\u200b trac_10358-oeis-review_1-tm.patch\u200b trac_10358-oeis-review_2-tm.patch trac_10358-oeis-review_3-nc-tm.patch\u200b \n\nI do not remember if commas are necessary. Let us see.",
    "created_at": "2013-10-15T09:58:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97442",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:43" align="right">comment:43</div>

Hello. The **patchbots** do not look at the description, but only look here (in the comments). Let me do it:

apply trac_10358-oeis-tm.patchâ€‹ trac_10358-oeis-review_1-tm.patchâ€‹ trac_10358-oeis-review_2-tm.patch trac_10358-oeis-review_3-nc-tm.patchâ€‹ 

I do not remember if commas are necessary. Let us see.



---

archive/issue_comments_097443.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\napply trac_10358-oeis-tm.patch\u200b,trac_10358-oeis-review_1-tm.patch\u200b,trac_10358-oeis-review_2-tm.patch,trac_10358-oeis-review_3-nc-tm.patch\u200b",
    "created_at": "2013-10-15T10:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97443",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:44" align="right">comment:44</div>

apply trac_10358-oeis-tm.patchâ€‹,trac_10358-oeis-review_1-tm.patchâ€‹,trac_10358-oeis-review_2-tm.patch,trac_10358-oeis-review_3-nc-tm.patchâ€‹



---

archive/issue_comments_097444.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThis does not seem to work..\n\nfor patchbot: apply trac_10358-oeis-tm.patch\u200b trac_10358-oeis-review_1-tm.patch\u200b trac_10358-oeis-review_2-tm.patch trac_10358-oeis-review_3-nc-tm.patch\u200b",
    "created_at": "2013-10-15T10:03:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97444",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:45" align="right">comment:45</div>

This does not seem to work..

for patchbot: apply trac_10358-oeis-tm.patchâ€‹ trac_10358-oeis-review_1-tm.patchâ€‹ trac_10358-oeis-review_2-tm.patch trac_10358-oeis-review_3-nc-tm.patchâ€‹



---

archive/issue_comments_097445.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\n\"identify a sequence from of its first elements.\" ? `:-)`\n\nNathann",
    "created_at": "2013-10-15T14:34:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97445",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:46" align="right">comment:46</div>

"identify a sequence from of its first elements." ? `:-)`

Nathann



---

archive/issue_comments_097446.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nOh. Looks like the mistake was actually in my patch. Well, I guess you can fix it in yours as it replaces mine and set this patch to `positive_review` `:-)`\n\nNathann",
    "created_at": "2013-10-15T16:56:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97446",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:47" align="right">comment:47</div>

Oh. Looks like the mistake was actually in my patch. Well, I guess you can fix it in yours as it replaces mine and set this patch to `positive_review` `:-)`

Nathann



---

archive/issue_comments_097447.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\n**Patchbots** are sometimes dumb. Let us try again to teach them !\n\napply trac_10358-oeis-tm.patch\u200b,trac_10358-oeis-review_1-tm.patch,trac_10358-oeis-review_2-tm.patch,trac_10358-oeis-review_3-nc-tm.patch",
    "created_at": "2013-10-15T18:07:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97447",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:48" align="right">comment:48</div>

**Patchbots** are sometimes dumb. Let us try again to teach them !

apply trac_10358-oeis-tm.patchâ€‹,trac_10358-oeis-review_1-tm.patch,trac_10358-oeis-review_2-tm.patch,trac_10358-oeis-review_3-nc-tm.patch



---

archive/issue_comments_097448.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nAlmost good ... Let me try again\n\napply trac_10358-oeis-tm.patch\u200b,trac_10358-oeis-review_1-tm.patch,trac_10358-oeis-review_2-tm.patch,trac_10358-oeis-review_3-nc-tm.patch",
    "created_at": "2013-10-15T18:13:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97448",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:49" align="right">comment:49</div>

Almost good ... Let me try again

apply trac_10358-oeis-tm.patchâ€‹,trac_10358-oeis-review_1-tm.patch,trac_10358-oeis-review_2-tm.patch,trac_10358-oeis-review_3-nc-tm.patch



---

archive/issue_comments_097449.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\npfff.  Last try\n\napply only trac_10358-oeis-tm.patch\u200b,trac_10358-oeis-review_1-tm.patch,trac_10358-oeis-review_2-tm.patch,trac_10358-oeis-review_3-nc-tm.patch",
    "created_at": "2013-10-15T18:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97449",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:50" align="right">comment:50</div>

pfff.  Last try

apply only trac_10358-oeis-tm.patchâ€‹,trac_10358-oeis-review_1-tm.patch,trac_10358-oeis-review_2-tm.patch,trac_10358-oeis-review_3-nc-tm.patch



---

archive/issue_comments_097450.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nok, it was failing because the **patchbots** do not like invisible characters (and neither do I). This should work:\n\napply trac_10358-oeis-tm.patch trac_10358-oeis-review_1-tm.patch trac_10358-oeis-review_2-tm.patch trac_10358-oeis-review_3-nc-tm.patch",
    "created_at": "2013-10-15T18:55:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97450",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:51" align="right">comment:51</div>

ok, it was failing because the **patchbots** do not like invisible characters (and neither do I). This should work:

apply trac_10358-oeis-tm.patch trac_10358-oeis-review_1-tm.patch trac_10358-oeis-review_2-tm.patch trac_10358-oeis-review_3-nc-tm.patch



---

archive/issue_comments_097451.json:
```json
{
    "body": "Attachment: **[trac_10358-oeis-review_3-nc-tm.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_3-nc-tm.patch.gz)**\n\nTested on 5.12",
    "created_at": "2013-10-19T12:49:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97451",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Attachment: **[trac_10358-oeis-review_3-nc-tm.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_3-nc-tm.patch.gz)**

Tested on 5.12



---

archive/issue_events_135020.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2013-10-19T12:50:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135020"
}
```



---

archive/issue_events_135021.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2013-10-19T12:50:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135021"
}
```



---

archive/issue_comments_097452.json:
```json
{
    "body": "Dependencies: **#15245**",
    "created_at": "2013-10-20T21:29:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97452",
    "user": "https://github.com/jdemeyer"
}
```

Dependencies: **#15245**



---

archive/issue_events_135022.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-20T21:29:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135022"
}
```



---

archive/issue_events_135023.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-20T21:29:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135023"
}
```



---

archive/issue_comments_097453.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nThis needs to be rebased to #15245.",
    "created_at": "2013-10-20T21:29:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97453",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:53" align="right">comment:53</div>

This needs to be rebased to #15245.



---

archive/issue_comments_097454.json:
```json
{
    "body": "rebased after #15245",
    "created_at": "2013-10-20T22:54:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97454",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

rebased after #15245



---

archive/issue_comments_097455.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n The aim of this ticket is to propose a new interface with OEIS http://oeis.org/\n \n Apply: \n-* [attachment: trac_10358-oeis-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)\n+* [attachment: trac_10358-oeis-tm_rebase.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm_rebase.patch.gz)\n * [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)\n * [attachment: trac_10358-oeis-review_2-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)\n * [attachment: trac_10358-oeis-review_3-nc-tm.patch\u200b](https://github.com/sagemath/sage/files/ticket10358/67d8b96f8e3df0fd19199ab7e76eeaa4.gz)\n``````\n",
    "created_at": "2013-10-20T23:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97455",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 The aim of this ticket is to propose a new interface with OEIS http://oeis.org/
 
 Apply: 
-* [attachment: trac_10358-oeis-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm.patch.gz)
+* [attachment: trac_10358-oeis-tm_rebase.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm_rebase.patch.gz)
 * [attachment: trac_10358-oeis-review_1-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_1-tm.patch.gz)
 * [attachment: trac_10358-oeis-review_2-tm.patch](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-review_2-tm.patch.gz)
 * [attachment: trac_10358-oeis-review_3-nc-tm.patchâ€‹](https://github.com/sagemath/sage/files/ticket10358/67d8b96f8e3df0fd19199ab7e76eeaa4.gz)
``````




---

archive/issue_comments_097456.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nAttachment: **[trac_10358-oeis-tm_rebase.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm_rebase.patch.gz)**\n\nThe rebase is a shift in sage/matrix/matrix2.pyx\n\napply trac_10358-oeis-tm_rebase.patch trac_10358-oeis-review_1-tm.patch trac_10358-oeis-review_2-tm.patch trac_10358-oeis-review_3-nc-tm.patch",
    "created_at": "2013-10-20T23:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97456",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:54" align="right">comment:54</div>

Attachment: **[trac_10358-oeis-tm_rebase.patch.gz](https://github.com/sagemath/sage/files/ticket10358/trac_10358-oeis-tm_rebase.patch.gz)**

The rebase is a shift in sage/matrix/matrix2.pyx

apply trac_10358-oeis-tm_rebase.patch trac_10358-oeis-review_1-tm.patch trac_10358-oeis-review_2-tm.patch trac_10358-oeis-review_3-nc-tm.patch



---

archive/issue_events_135024.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2013-10-20T23:07:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135024"
}
```



---

archive/issue_events_135025.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2013-10-20T23:07:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135025"
}
```



---

archive/issue_comments_097457.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nThe patches apply now.",
    "created_at": "2013-10-21T11:58:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97457",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:55" align="right">comment:55</div>

The patches apply now.



---

archive/issue_events_135026.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-21T11:58:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135026"
}
```



---

archive/issue_events_135027.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-21T11:58:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135027"
}
```



---

archive/issue_events_135028.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-31T19:15:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135028"
}
```



---

archive/issue_events_135029.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-31T19:15:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10358#event-135029"
}
```



---

archive/issue_comments_097458.json:
```json
{
    "body": "Merged: **sage-5.13.beta2**",
    "created_at": "2013-10-31T19:15:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97458",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.13.beta2**



---

archive/issue_comments_097459.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nJoy, joy, joy is all around us!\n\nHail to Thierry, Hail to Nathann!",
    "created_at": "2013-10-31T22:52:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97459",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:57" align="right">comment:57</div>

Joy, joy, joy is all around us!

Hail to Thierry, Hail to Nathann!



---

archive/issue_comments_097460.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nI use this closed ticket to touch the interested people. In March 2017 I got:\n\n```\n  sage: oeis([1,1,2,5,14])\n  0: A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!). \\\nAlso called Segner numbers.\n  1: A120588: G.f. satisfies: 3*A(x) = 2 + x + A(x)^2, with a(0) = 1.\n  2: A080937: Number of Catalan paths (nonnegative, starting and ending at 0, s\\\ntep +/-1) of 2*n steps with all values <= 5.\n```\nand now I get with Sage 8.3:\n\n```\nsage: oeis([1,1,2,5,14])\n\n0: A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!). Also called Segner numbers.\n1: A120588: G.f. satisfies: 3*A(x) = 2 + x + A(x)^2, with a(0) = 1.\n2: A000679: Number of groups of order 2^n.\n```\nI have two questions:\n\n1) why did the output change?\n\n2) why do we get only 3 answers (I checked with `len(oeis(...))` that there are only 3 answers, and it is not only 3 answers that are printed), whereas the OEIS official site gives 209 answers?",
    "created_at": "2018-09-19T14:35:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97460",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:58" align="right">comment:58</div>

I use this closed ticket to touch the interested people. In March 2017 I got:

```
  sage: oeis([1,1,2,5,14])
  0: A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!). \
Also called Segner numbers.
  1: A120588: G.f. satisfies: 3*A(x) = 2 + x + A(x)^2, with a(0) = 1.
  2: A080937: Number of Catalan paths (nonnegative, starting and ending at 0, s\
tep +/-1) of 2*n steps with all values <= 5.
```
and now I get with Sage 8.3:

```
sage: oeis([1,1,2,5,14])

0: A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!). Also called Segner numbers.
1: A120588: G.f. satisfies: 3*A(x) = 2 + x + A(x)^2, with a(0) = 1.
2: A000679: Number of groups of order 2^n.
```
I have two questions:

1) why did the output change?

2) why do we get only 3 answers (I checked with `len(oeis(...))` that there are only 3 answers, and it is not only 3 answers that are printed), whereas the OEIS official site gives 209 answers?



---

archive/issue_comments_097461.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [@zimmermann6](#comment%3A58):\n> I use this closed ticket to touch the interested people. In March 2017 I got:\n> \n> ```\n>   sage: oeis([1,1,2,5,14])\n>   0: A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!). \\\n> Also called Segner numbers.\n>   1: A120588: G.f. satisfies: 3*A(x) = 2 + x + A(x)^2, with a(0) = 1.\n>   2: A080937: Number of Catalan paths (nonnegative, starting and ending at 0, s\\\n> tep +/-1) of 2*n steps with all values <= 5.\n> ```\n> and now I get with Sage 8.3:\n> \n> ```\n> sage: oeis([1,1,2,5,14])\n> \n> 0: A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!). Also called Segner numbers.\n> 1: A120588: G.f. satisfies: 3*A(x) = 2 + x + A(x)^2, with a(0) = 1.\n> 2: A000679: Number of groups of order 2^n.\n> ```\n> I have two questions:\n> \n> 1) why did the output change?\n\nThe `oeis` module connects to an on-line database, which is subject to changes. The output depends on the ordering provided by OEIS, which depends on various criteria (i do not know the details, but if the sequence has keywords `interesting` or `important` it will appear earlier).\n \n> 2) why do we get only 3 answers (I checked with `len(oeis(...))` that there are only 3 answers, and it is not only 3 answers that are printed), whereas the OEIS official site gives 209 answers?\n\nYou can get help about `oeis` as follows:\n\n```\nsage: oeis?\n```\n\nYou can see that there is a `max_results` option, which is set by default to 3 to avoid the outout being flooded. Maybe this could be extended to, say, 10.\n\nAlso, OEIS will only send the 100 first results even if you do:\n\n```\nsage: oeis([1,1,2,5,14], max_results=2000)\n```\n\nThis is why there is a `first_result` option, to be able to access the next ones.",
    "created_at": "2018-09-19T14:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97461",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [@zimmermann6](#comment%3A58):
> I use this closed ticket to touch the interested people. In March 2017 I got:
> 
> ```
>   sage: oeis([1,1,2,5,14])
>   0: A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!). \
> Also called Segner numbers.
>   1: A120588: G.f. satisfies: 3*A(x) = 2 + x + A(x)^2, with a(0) = 1.
>   2: A080937: Number of Catalan paths (nonnegative, starting and ending at 0, s\
> tep +/-1) of 2*n steps with all values <= 5.
> ```
> and now I get with Sage 8.3:
> 
> ```
> sage: oeis([1,1,2,5,14])
> 
> 0: A000108: Catalan numbers: C(n) = binomial(2n,n)/(n+1) = (2n)!/(n!(n+1)!). Also called Segner numbers.
> 1: A120588: G.f. satisfies: 3*A(x) = 2 + x + A(x)^2, with a(0) = 1.
> 2: A000679: Number of groups of order 2^n.
> ```
> I have two questions:
> 
> 1) why did the output change?

The `oeis` module connects to an on-line database, which is subject to changes. The output depends on the ordering provided by OEIS, which depends on various criteria (i do not know the details, but if the sequence has keywords `interesting` or `important` it will appear earlier).
 
> 2) why do we get only 3 answers (I checked with `len(oeis(...))` that there are only 3 answers, and it is not only 3 answers that are printed), whereas the OEIS official site gives 209 answers?

You can get help about `oeis` as follows:

```
sage: oeis?
```

You can see that there is a `max_results` option, which is set by default to 3 to avoid the outout being flooded. Maybe this could be extended to, say, 10.

Also, OEIS will only send the 100 first results even if you do:

```
sage: oeis([1,1,2,5,14], max_results=2000)
```

This is why there is a `first_result` option, to be able to access the next ones.



---

archive/issue_comments_097462.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nThierry, thank you for your answer.\n\nOf course I had tried `oeis?`, and in Sage 8.3 I get:\n\n```\n   * \"max_results\" - (integer, default: 30) the maximum number of\n     results to return, they are sorted according to their relevance.\n     In any cases, the OEIS website will never provide more than 100\n     results.\n```\nthus the documentation seems to differ from the code. Should I open a new ticket for that?",
    "created_at": "2018-09-20T09:00:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10358",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10358#issuecomment-97462",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:60" align="right">comment:60</div>

Thierry, thank you for your answer.

Of course I had tried `oeis?`, and in Sage 8.3 I get:

```
   * "max_results" - (integer, default: 30) the maximum number of
     results to return, they are sorted according to their relevance.
     In any cases, the OEIS website will never provide more than 100
     results.
```
thus the documentation seems to differ from the code. Should I open a new ticket for that?
