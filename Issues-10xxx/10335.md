# Issue 10335: Add domains for permutation groups

archive/issues_010334.json:
```json
{
    "body": "Assignee: joyner\n\nCC:  sage-combinat jasonbhill @rbeezer @jdemeyer\n\nKeywords: sd31\n\nOften, one wants to define a permutation group on a set other than ` {1,2,...,n} ` such as say ` {'a', 'b', 'c', 'd'} `.\n\nFor example,\n\n```\nsage: G = PermutationGroup([ [('c','d')], [('a','c')] ])\nsage: G.orbit('a')\n['a', 'c', 'd']\n```\n\n**Apply:**\n1.  [attachment:trac_10335-permgroup_domain-rebase.patch]\n\nIssue created by migration from https://trac.sagemath.org/ticket/10335\n\n",
    "closed_at": "2011-09-27T17:43:21Z",
    "created_at": "2010-11-26T06:02:34Z",
    "labels": [
        "component: group theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.2",
    "title": "Add domains for permutation groups",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10335",
    "user": "https://github.com/mwhansen"
}
```
Assignee: joyner

CC:  sage-combinat jasonbhill @rbeezer @jdemeyer

Keywords: sd31

Often, one wants to define a permutation group on a set other than ` {1,2,...,n} ` such as say ` {'a', 'b', 'c', 'd'} `.

For example,

```
sage: G = PermutationGroup([ [('c','d')], [('a','c')] ])
sage: G.orbit('a')
['a', 'c', 'd']
```

**Apply:**
1.  [attachment:trac_10335-permgroup_domain-rebase.patch]

Issue created by migration from https://trac.sagemath.org/ticket/10335





---

archive/issue_comments_105729.json:
```json
{
    "body": "This depends",
    "created_at": "2010-11-26T06:09:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105729",
    "user": "https://github.com/mwhansen"
}
```

This depends



---

archive/issue_comments_105730.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-11-26T06:09:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105730",
    "user": "https://github.com/mwhansen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_105731.json:
```json
{
    "body": "Applying to `sage-4.6.2.alpha0` on top of #10334, I get:\n\n```\napplying trac_10335-permgroup_domain-mh.patch\npatching file sage/groups/perm_gps/permgroup.py\nHunk #5 FAILED at 321\n1 out of 59 hunks FAILED -- saving rejects to file sage/groups/perm_gps/permgroup.py.rej\npatching file sage/groups/perm_gps/permgroup_named.py\nHunk #10 succeeded at 313 with fuzz 2 (offset 0 lines).\nHunk #11 succeeded at 315 with fuzz 1 (offset -49 lines).\npatch failed, unable to continue (try -v)\npatch failed, rejects left in working dir\nerrors during apply, please fix and refresh trac_10335-permgroup_domain-mh.patch\n```\n\nThe failure:\n\n```\n$ cat sage/groups/perm_gps/permgroup.py.rej\n--- permgroup.py\n+++ permgroup.py\n@@ -320,7 +322,7 @@\n         sage: G = PermutationGroup([[(1,2,3),(4,5)],[(3,4)]])\n         sage: TestSuite(G).run()\n     \"\"\"\n-    def __init__(self, gens=None, gap_group=None, canonicalize=True, category = None):\n+    def __init__(self, gens=None, gap_group=None, canonicalize=True, category=None, domain=None):\n         r\"\"\"\n         INPUT:\n\n```\n\n\nLooks trivial to fix, and I'm excited to see this feature in Sage. Thank you, Mike!",
    "created_at": "2011-01-19T04:32:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105731",
    "user": "https://github.com/rlmill"
}
```

Applying to `sage-4.6.2.alpha0` on top of #10334, I get:

```
applying trac_10335-permgroup_domain-mh.patch
patching file sage/groups/perm_gps/permgroup.py
Hunk #5 FAILED at 321
1 out of 59 hunks FAILED -- saving rejects to file sage/groups/perm_gps/permgroup.py.rej
patching file sage/groups/perm_gps/permgroup_named.py
Hunk #10 succeeded at 313 with fuzz 2 (offset 0 lines).
Hunk #11 succeeded at 315 with fuzz 1 (offset -49 lines).
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh trac_10335-permgroup_domain-mh.patch
```

The failure:

```
$ cat sage/groups/perm_gps/permgroup.py.rej
--- permgroup.py
+++ permgroup.py
@@ -320,7 +322,7 @@
         sage: G = PermutationGroup([[(1,2,3),(4,5)],[(3,4)]])
         sage: TestSuite(G).run()
     """
-    def __init__(self, gens=None, gap_group=None, canonicalize=True, category = None):
+    def __init__(self, gens=None, gap_group=None, canonicalize=True, category=None, domain=None):
         r"""
         INPUT:

```


Looks trivial to fix, and I'm excited to see this feature in Sage. Thank you, Mike!



---

archive/issue_comments_105732.json:
```json
{
    "body": "This was most likely a minor conflict with Rob's permgroup patches which were merged late in the 4.6.2 release cycle.\n\nOnly apply: trac_10335-permgroup_domain-mh.2.patch",
    "created_at": "2011-03-14T08:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105732",
    "user": "https://github.com/nthiery"
}
```

This was most likely a minor conflict with Rob's permgroup patches which were merged late in the 4.6.2 release cycle.

Only apply: trac_10335-permgroup_domain-mh.2.patch



---

archive/issue_comments_105733.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-03-14T13:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105733",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_105734.json:
```json
{
    "body": "Ah, the test fail, and that's because the patch still did not commute perfectly with trac_8359-coxeter-groups-permutation-nt.patch. we need to have this patch add the category argument to __init__ of permutation groups, and remove that part from 8359.\n\nMike: let me know if you can do it shortly, and then #8359 is fair game. Otherwise I'll handle it.",
    "created_at": "2011-03-14T13:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105734",
    "user": "https://github.com/nthiery"
}
```

Ah, the test fail, and that's because the patch still did not commute perfectly with trac_8359-coxeter-groups-permutation-nt.patch. we need to have this patch add the category argument to __init__ of permutation groups, and remove that part from 8359.

Mike: let me know if you can do it shortly, and then #8359 is fair game. Otherwise I'll handle it.



---

archive/issue_comments_105735.json:
```json
{
    "body": "I've fixed the issue along with updating the patch at #8359.\n\nOnly apply: trac_10335-permgroup_domain-mh.patch",
    "created_at": "2011-03-16T10:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105735",
    "user": "https://github.com/mwhansen"
}
```

I've fixed the issue along with updating the patch at #8359.

Only apply: trac_10335-permgroup_domain-mh.patch



---

archive/issue_comments_105736.json:
```json
{
    "body": "This looks real good, Mike.  I spent some time with this today.  I know its not done yet, but hopefully the following will be helpful.\n\nI applied the patch from sage-combinat for #8359 to 4.7.alpha1, as best I could tell (used patch from http://combinat.sagemath.org/hgwebdir.cgi/patches/rev/508d4942a6d2).  One hunk failure at sage/combinat/root_system/all.py.  Then #10334 had a hunk failure in sage/groups/perm_gps/permgroup.py and #10335 had a had failure in sage/categories/pushout.py.  All easy to fix by hand, and maybe a result of not getting the right thing from the sage-combinat server.\n\nPassed all tests in sage/groups/perm_gps, except two, so not too far off.  Both doctest failures look very minor, and a  result of routines I wrote that have been added recently.\n\n```\n**********************************************************************\nFile \"/sage/dev/devel/sage-main/sage/groups/perm_gps/permgroup.py\", line 1920:\n    sage: G.subgroups()\nExpected:\n    [Permutation Group with generators [()],\n     Permutation Group with generators [(2,3)],\n     Permutation Group with generators [(1,2)],\n     Permutation Group with generators [(1,3)],\n     Permutation Group with generators [(1,2,3)],\n     Permutation Group with generators [(1,3,2), (1,2)]]\nGot:\n    [Permutation Group with generators [()],\n     Permutation Group with generators [(2,3)],\n     Permutation Group with generators [(1,2)],\n     Permutation Group with generators [(1,3)],\n     Permutation Group with generators [(1,2,3)],\n     Permutation Group with generators [(1,2), (1,3,2)]]\n**********************************************************************\nFile \"/sage/dev/devel/sage-main/sage/groups/perm_gps/permgroup.py\", line 2082:\n    sage: A.cosets(S)\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: Subgroup of SymmetricGroup(3) generated by [(1,2)] is not a subgroup of AlternatingGroup(3)\nGot:\n    Traceback (most recent call last):\n      File \"/sage/dev/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/sage/dev/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/sage/dev/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_61[29]>\", line 1, in <module>\n        A.cosets(S)###line 2082:\n    sage: A.cosets(S)\n      File \"/sage/dev/local/lib/python/site-packages/sage/groups/perm_gps/permgroup.py\", line 2099, in cosets\n        raise ValueError(\"%s is not a subgroup of %s\" % (S, self))\n    ValueError: Subgroup of (Symmetric group of order 3! as a permutation group) generated by [(1,2)] is not a subgroup of Alternating group of order 3!/2 as a permutation group\n**********************************************************************\n```\n\nI think the stabilizer() routine needs some work.\n\n```\ntry:\n    postition = self._domain_to_gap[point]\nexcept KeyError:\n    return self.subgroup(gens=self.gens())\nreturn self.subgroup(gap_group=gap.Stabilizer(self, point))\n```\n\n\"position\" is mis-spelled as first defined, and in the return, I think \"point\" should be replaced with \"position\".  With these changes, this seems to work properly with a non-trivial domain in play.\n\nNot a comprehensive look, but hopefully of use.  Let me know what I can do to help (including assisting with documentation).  It'd be nice if there was a patch, or something, at #8359 explaining how best to apply that work.\n\nRob",
    "created_at": "2011-03-18T19:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105736",
    "user": "https://github.com/rbeezer"
}
```

This looks real good, Mike.  I spent some time with this today.  I know its not done yet, but hopefully the following will be helpful.

I applied the patch from sage-combinat for #8359 to 4.7.alpha1, as best I could tell (used patch from http://combinat.sagemath.org/hgwebdir.cgi/patches/rev/508d4942a6d2).  One hunk failure at sage/combinat/root_system/all.py.  Then #10334 had a hunk failure in sage/groups/perm_gps/permgroup.py and #10335 had a had failure in sage/categories/pushout.py.  All easy to fix by hand, and maybe a result of not getting the right thing from the sage-combinat server.

Passed all tests in sage/groups/perm_gps, except two, so not too far off.  Both doctest failures look very minor, and a  result of routines I wrote that have been added recently.

```
**********************************************************************
File "/sage/dev/devel/sage-main/sage/groups/perm_gps/permgroup.py", line 1920:
    sage: G.subgroups()
Expected:
    [Permutation Group with generators [()],
     Permutation Group with generators [(2,3)],
     Permutation Group with generators [(1,2)],
     Permutation Group with generators [(1,3)],
     Permutation Group with generators [(1,2,3)],
     Permutation Group with generators [(1,3,2), (1,2)]]
Got:
    [Permutation Group with generators [()],
     Permutation Group with generators [(2,3)],
     Permutation Group with generators [(1,2)],
     Permutation Group with generators [(1,3)],
     Permutation Group with generators [(1,2,3)],
     Permutation Group with generators [(1,2), (1,3,2)]]
**********************************************************************
File "/sage/dev/devel/sage-main/sage/groups/perm_gps/permgroup.py", line 2082:
    sage: A.cosets(S)
Expected:
    Traceback (most recent call last):
    ...
    ValueError: Subgroup of SymmetricGroup(3) generated by [(1,2)] is not a subgroup of AlternatingGroup(3)
Got:
    Traceback (most recent call last):
      File "/sage/dev/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/sage/dev/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/sage/dev/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_61[29]>", line 1, in <module>
        A.cosets(S)###line 2082:
    sage: A.cosets(S)
      File "/sage/dev/local/lib/python/site-packages/sage/groups/perm_gps/permgroup.py", line 2099, in cosets
        raise ValueError("%s is not a subgroup of %s" % (S, self))
    ValueError: Subgroup of (Symmetric group of order 3! as a permutation group) generated by [(1,2)] is not a subgroup of Alternating group of order 3!/2 as a permutation group
**********************************************************************
```

I think the stabilizer() routine needs some work.

```
try:
    postition = self._domain_to_gap[point]
except KeyError:
    return self.subgroup(gens=self.gens())
return self.subgroup(gap_group=gap.Stabilizer(self, point))
```

"position" is mis-spelled as first defined, and in the return, I think "point" should be replaced with "position".  With these changes, this seems to work properly with a non-trivial domain in play.

Not a comprehensive look, but hopefully of use.  Let me know what I can do to help (including assisting with documentation).  It'd be nice if there was a patch, or something, at #8359 explaining how best to apply that work.

Rob



---

archive/issue_comments_105737.json:
```json
{
    "body": "Hi Mike,\n\nFor the record: I rebased trac_10335-permgroup_domain-mh.patch on the sage-combinat server on top of #9949",
    "created_at": "2011-04-07T14:26:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105737",
    "user": "https://github.com/nthiery"
}
```

Hi Mike,

For the record: I rebased trac_10335-permgroup_domain-mh.patch on the sage-combinat server on top of #9949



---

archive/issue_comments_105738.json:
```json
{
    "body": "Hi Mike!\n\nReplying to [comment:10 nthiery]:\n> For the record: I rebased trac_10335-permgroup_domain-mh.patch on the sage-combinat server on top of #9949\n\n\nWith Rob we are both at Sage days 30, and would love to push permutation groups in. Rob is going to rebase #10334, and I'll finalize the review. #10335 itself needs rebase on 3.4.7, and has quite a few failing doctests, though most look harmless (it's just that the output of permutation groups have changed). Would there be any chance for you to work on this early this week?\n\nThanks!\n\nCheers,\n                   Nicolas",
    "created_at": "2011-05-02T19:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105738",
    "user": "https://github.com/nthiery"
}
```

Hi Mike!

Replying to [comment:10 nthiery]:
> For the record: I rebased trac_10335-permgroup_domain-mh.patch on the sage-combinat server on top of #9949


With Rob we are both at Sage days 30, and would love to push permutation groups in. Rob is going to rebase #10334, and I'll finalize the review. #10335 itself needs rebase on 3.4.7, and has quite a few failing doctests, though most look harmless (it's just that the output of permutation groups have changed). Would there be any chance for you to work on this early this week?

Thanks!

Cheers,
                   Nicolas



---

archive/issue_comments_105739.json:
```json
{
    "body": "Sure -- I'll try to get this taken care of tonight.",
    "created_at": "2011-05-04T02:10:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105739",
    "user": "https://github.com/mwhansen"
}
```

Sure -- I'll try to get this taken care of tonight.



---

archive/issue_comments_105740.json:
```json
{
    "body": "I've fixed the doctest failures and updated the patch.",
    "created_at": "2011-05-29T05:33:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105740",
    "user": "https://github.com/mwhansen"
}
```

I've fixed the doctest failures and updated the patch.



---

archive/issue_comments_105741.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-05-29T05:33:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105741",
    "user": "https://github.com/mwhansen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_105742.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-05-31T04:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105742",
    "user": "https://github.com/rbeezer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_105743.json:
```json
{
    "body": "I ran  `make ptestlong` and got quite a few failures.  I even tried it twice - not sure what is up.\n\n*  Many were in  sage/doc\n*  Many were simply the new version of `_repr_` for the symmetric group, and its subgroups\n*  The `latex()` method is putting a comma between the cycles within each generator.  Is this desired?\n\n```\nreturn \",\".join([\"(\" + \",\".join([latex(x) for x in cycle])+\")\" for cycle in self.cycle_tuples()])\n```\n    At a minimum it is causing doctest failures.\n* 73 failures in sage/rings/number_field/galois_group.py, likely all the same root cause\n\nSaw these in the patch itself:\n\n* a stray \"deprecated_function_alias\" in a docstring\n* ```selfs``` in a docstring",
    "created_at": "2011-05-31T04:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105743",
    "user": "https://github.com/rbeezer"
}
```

I ran  `make ptestlong` and got quite a few failures.  I even tried it twice - not sure what is up.

*  Many were in  sage/doc
*  Many were simply the new version of `_repr_` for the symmetric group, and its subgroups
*  The `latex()` method is putting a comma between the cycles within each generator.  Is this desired?

```
return ",".join(["(" + ",".join([latex(x) for x in cycle])+")" for cycle in self.cycle_tuples()])
```
    At a minimum it is causing doctest failures.
* 73 failures in sage/rings/number_field/galois_group.py, likely all the same root cause

Saw these in the patch itself:

* a stray "deprecated_function_alias" in a docstring
* ```selfs``` in a docstring



---

archive/issue_comments_105744.json:
```json
{
    "body": "I'm pretty sure that this patches addresses all of the above problems.\n\nApply trac_10335-permgroup_domain-mh.patch",
    "created_at": "2011-06-08T16:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105744",
    "user": "https://github.com/mwhansen"
}
```

I'm pretty sure that this patches addresses all of the above problems.

Apply trac_10335-permgroup_domain-mh.patch



---

archive/issue_comments_105745.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-06-08T16:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105745",
    "user": "https://github.com/mwhansen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_105746.json:
```json
{
    "body": "Fixed commit message.\n\nApply trac_10335-permgroup_domain-mh.patch",
    "created_at": "2011-06-08T18:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105746",
    "user": "https://github.com/mwhansen"
}
```

Fixed commit message.

Apply trac_10335-permgroup_domain-mh.patch



---

archive/issue_comments_105747.json:
```json
{
    "body": "I was very close to set a positive review for this patch but I got this faillure :\n\n```\nnicolas@lancelot:/opt/sage/devel/sage-combinat$ sage -t sage/groups/perm_gps/permgroup.py \nsage -t  \"devel/sage-combinat/sage/groups/perm_gps/permgroup.py\"\n**********************************************************************\nFile \"/opt/sage/devel/sage-combinat/sage/groups/perm_gps/permgroup.py\", line 2550:\n    sage: G.isomorphism_to(H)\nExpected:\n    Permutation group morphism:\n      From: Permutation Group with generators [(2,3), (1,2,3)]\n      To:   Permutation Group with generators [(1,2,4), (1,4)]\n      Defn: [(2,3), (1,2,3)] -> [(2,4), (1,2,4)]\nGot:\n    Permutation group morphism:\n      From: Permutation Group with generators [(2,3), (1,2,3)]\n      To:   Permutation Group with generators [(1,2,4), (1,4)]\n      Defn: [(2,3), (1,2,3)] -> [(2,4), (1,4,2)]\n**********************************************************************\n1 items had failures:\n   1 of   9 in __main__.example_73\n```\nIs this a random test ? Is this test really unrandonized (sorry for such a word) ?\nI am running a 11.4 Ubuntu up to date on a macbook santa rosa 4,1. I got this faillure both using the sage combinat queue and a separate branch with only 10334 and 10335.\n\nAlso, in sage/groups/perm-gps/permgroup.py line 1119, there is still the micro typo : \npostition --> position\n\nAnyway, It is a very very nice work and improvement of permutation groups.",
    "created_at": "2011-06-08T20:00:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105747",
    "user": "https://trac.sagemath.org/admin/accounts/users/nborie"
}
```

I was very close to set a positive review for this patch but I got this faillure :

```
nicolas@lancelot:/opt/sage/devel/sage-combinat$ sage -t sage/groups/perm_gps/permgroup.py 
sage -t  "devel/sage-combinat/sage/groups/perm_gps/permgroup.py"
**********************************************************************
File "/opt/sage/devel/sage-combinat/sage/groups/perm_gps/permgroup.py", line 2550:
    sage: G.isomorphism_to(H)
Expected:
    Permutation group morphism:
      From: Permutation Group with generators [(2,3), (1,2,3)]
      To:   Permutation Group with generators [(1,2,4), (1,4)]
      Defn: [(2,3), (1,2,3)] -> [(2,4), (1,2,4)]
Got:
    Permutation group morphism:
      From: Permutation Group with generators [(2,3), (1,2,3)]
      To:   Permutation Group with generators [(1,2,4), (1,4)]
      Defn: [(2,3), (1,2,3)] -> [(2,4), (1,4,2)]
**********************************************************************
1 items had failures:
   1 of   9 in __main__.example_73
```
Is this a random test ? Is this test really unrandonized (sorry for such a word) ?
I am running a 11.4 Ubuntu up to date on a macbook santa rosa 4,1. I got this faillure both using the sage combinat queue and a separate branch with only 10334 and 10335.

Also, in sage/groups/perm-gps/permgroup.py line 1119, there is still the micro typo : 
postition --> position

Anyway, It is a very very nice work and improvement of permutation groups.



---

archive/issue_comments_105748.json:
```json
{
    "body": "The failure you see is at #11427 .  I'll put up a new patch fixing the typo.",
    "created_at": "2011-06-08T20:03:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105748",
    "user": "https://github.com/mwhansen"
}
```

The failure you see is at #11427 .  I'll put up a new patch fixing the typo.



---

archive/issue_comments_105749.json:
```json
{
    "body": "Attachment [trac_10335-permgroup_domain-mh.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-permgroup_domain-mh.patch) by nborie created at 2011-06-08 20:21:50\n\nNice shoot! I confirm that I use a lot the Gap database especially for Transitive Groups. The optional package was installed on my machine.\n\nThanks for your work and your rapidity for fixing this last typo.\n\nI give this patch a positive review.",
    "created_at": "2011-06-08T20:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105749",
    "user": "https://trac.sagemath.org/admin/accounts/users/nborie"
}
```

Attachment [trac_10335-permgroup_domain-mh.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-permgroup_domain-mh.patch) by nborie created at 2011-06-08 20:21:50

Nice shoot! I confirm that I use a lot the Gap database especially for Transitive Groups. The optional package was installed on my machine.

Thanks for your work and your rapidity for fixing this last typo.

I give this patch a positive review.



---

archive/issue_comments_105750.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-06-08T20:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105750",
    "user": "https://trac.sagemath.org/admin/accounts/users/nborie"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_026581.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-10T08:44:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10335#event-26581"
}
```



---

archive/issue_comments_105751.json:
```json
{
    "body": "For the record: when applying this patch with the sage-combinat queue on sage-4.7.2, I got an import loop, and used the extra patch to fix it.",
    "created_at": "2011-06-13T16:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105751",
    "user": "https://github.com/nthiery"
}
```

For the record: when applying this patch with the sage-combinat queue on sage-4.7.2, I got an import loop, and used the extra patch to fix it.



---

archive/issue_comments_105752.json:
```json
{
    "body": "Replying to [comment:22 nthiery]:\n> For the record: when applying this patch with the sage-combinat queue on sage-4.7.2, I got an import loop, and used the extra patch to fix it.\n\n\nOn 4.7.2?",
    "created_at": "2011-06-13T16:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105752",
    "user": "https://github.com/mwhansen"
}
```

Replying to [comment:22 nthiery]:
> For the record: when applying this patch with the sage-combinat queue on sage-4.7.2, I got an import loop, and used the extra patch to fix it.


On 4.7.2?



---

archive/issue_comments_105753.json:
```json
{
    "body": "Replying to [comment:23 mhansen]:\n> Replying to [comment:22 nthiery]:\n> > For the record: when applying this patch with the sage-combinat queue on sage-4.7.2, I got an import loop, and used the extra patch to fix it.\n\n> \n> On 4.7.2?\n\n\nOops, 4.7.1 alpha2!\n\n Sage-Combinat is not that much in advance :-)",
    "created_at": "2011-06-13T17:24:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105753",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:23 mhansen]:
> Replying to [comment:22 nthiery]:
> > For the record: when applying this patch with the sage-combinat queue on sage-4.7.2, I got an import loop, and used the extra patch to fix it.

> 
> On 4.7.2?


Oops, 4.7.1 alpha2!

 Sage-Combinat is not that much in advance :-)



---

archive/issue_comments_105754.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-06-14T17:31:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105754",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_105755.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-06-14T17:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105755",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_105756.json:
```json
{
    "body": "New patch needs review.",
    "created_at": "2011-06-14T17:31:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105756",
    "user": "https://github.com/jdemeyer"
}
```

New patch needs review.



---

archive/issue_comments_105757.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd31\".",
    "created_at": "2011-06-14T19:52:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105757",
    "user": "https://github.com/rbeezer"
}
```

Changing keywords from "" to "sd31".



---

archive/issue_comments_105758.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-06-14T19:52:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105758",
    "user": "https://github.com/rbeezer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_105759.json:
```json
{
    "body": "Replying to [comment:26 jdemeyer]:\n> New patch needs review.\n\n\nAlmost passes all tests on 4.7.1.alpha2 and I get no import problems.\n\nBut the German documentation has old `_repr_` behavior.  Aargh.\n\n```\nsage -t  -long -force_lib ooks/devel/sage/doc/de/tutorial/tour_groups.rst # 1 doctests failed\nsage -t  -long -force_lib ooks/devel/sage/doc/de/tutorial/interfaces.rst # 1 doctests failed\n```\n\nPatch coming up, maybe.",
    "created_at": "2011-06-14T19:52:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105759",
    "user": "https://github.com/rbeezer"
}
```

Replying to [comment:26 jdemeyer]:
> New patch needs review.


Almost passes all tests on 4.7.1.alpha2 and I get no import problems.

But the German documentation has old `_repr_` behavior.  Aargh.

```
sage -t  -long -force_lib ooks/devel/sage/doc/de/tutorial/tour_groups.rst # 1 doctests failed
sage -t  -long -force_lib ooks/devel/sage/doc/de/tutorial/interfaces.rst # 1 doctests failed
```

Patch coming up, maybe.



---

archive/issue_comments_105760.json:
```json
{
    "body": "Attachment [trac_10335_german_tutorial_doc.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335_german_tutorial_doc.patch) by @rbeezer created at 2011-06-14 20:07:12",
    "created_at": "2011-06-14T20:07:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105760",
    "user": "https://github.com/rbeezer"
}
```

Attachment [trac_10335_german_tutorial_doc.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335_german_tutorial_doc.patch) by @rbeezer created at 2011-06-14 20:07:12



---

archive/issue_comments_105761.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-06-14T20:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105761",
    "user": "https://github.com/rbeezer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_105762.json:
```json
{
    "body": "German doc patch should solve above problems.  Gotta run - ticket needs \"apply\" block....",
    "created_at": "2011-06-14T20:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105762",
    "user": "https://github.com/rbeezer"
}
```

German doc patch should solve above problems.  Gotta run - ticket needs "apply" block....



---

archive/issue_comments_105763.json:
```json
{
    "body": "Note that [attachment:trac_10335-permgroup_domain-import_loop_fix-nt.patch] should have its commit message changed.",
    "created_at": "2011-06-15T15:26:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105763",
    "user": "https://github.com/jdemeyer"
}
```

Note that [attachment:trac_10335-permgroup_domain-import_loop_fix-nt.patch] should have its commit message changed.



---

archive/issue_events_026582.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-16T21:33:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10335#event-26582"
}
```



---

archive/issue_events_026583.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-16T21:33:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10335#event-26583"
}
```



---

archive/issue_comments_105764.json:
```json
{
    "body": "Merge only if needed",
    "created_at": "2011-06-16T23:48:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105764",
    "user": "https://github.com/nthiery"
}
```

Merge only if needed



---

archive/issue_comments_105765.json:
```json
{
    "body": "Attachment [trac_10335-permgroup_domain-import_loop_fix-nt.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-permgroup_domain-import_loop_fix-nt.patch) by @nthiery created at 2011-06-16 23:48:39\n\nReplying to [comment:30 jdemeyer]:\n> Note that [attachment:trac_10335-permgroup_domain-import_loop_fix-nt.patch] should have its commit message changed.\n\n\nOops, done.",
    "created_at": "2011-06-16T23:48:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105765",
    "user": "https://github.com/nthiery"
}
```

Attachment [trac_10335-permgroup_domain-import_loop_fix-nt.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-permgroup_domain-import_loop_fix-nt.patch) by @nthiery created at 2011-06-16 23:48:39

Replying to [comment:30 jdemeyer]:
> Note that [attachment:trac_10335-permgroup_domain-import_loop_fix-nt.patch] should have its commit message changed.


Oops, done.



---

archive/issue_comments_105766.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-06-16T23:49:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105766",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_105767.json:
```json
{
    "body": "Replying to [comment:28 rbeezer]:\n> German doc patch should solve above problems.  Gotta run - ticket needs \"apply\" block....\n\n\nSounds good to me assuming the patch bot is happy.",
    "created_at": "2011-06-16T23:49:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105767",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:28 rbeezer]:
> German doc patch should solve above problems.  Gotta run - ticket needs "apply" block....


Sounds good to me assuming the patch bot is happy.



---

archive/issue_comments_105768.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-06-19T09:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105768",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_105769.json:
```json
{
    "body": "The Russian tutorial (#9378) also needs to be fixed:\n\n```\nsage -t  -force_lib devel/sage/doc/ru/tutorial/interfaces.rst\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha0/devel/sage-main/doc/ru/tutorial/interfaces.rst\", line 167:\n    sage: G.center()\nExpected:\n    Permutation Group with generators [()]\nGot:\n    Subgroup of (Permutation Group with generators [(3,4), (1,2,3)(4,5)]) generated by [()]\n**********************************************************************\n```\n\n```\nsage -t  -force_lib devel/sage/doc/ru/tutorial/tour_groups.rst\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha0/devel/sage-main/doc/ru/tutorial/tour_groups.rst\", line 24:\n    sage: G.center()\nExpected:\n    Permutation Group with generators [()]\nGot:\n    Subgroup of (Permutation Group with generators [(3,4), (1,2,3)(4,5)]) generated by [()]\n**********************************************************************\n```",
    "created_at": "2011-06-19T09:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105769",
    "user": "https://github.com/jdemeyer"
}
```

The Russian tutorial (#9378) also needs to be fixed:

```
sage -t  -force_lib devel/sage/doc/ru/tutorial/interfaces.rst
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha0/devel/sage-main/doc/ru/tutorial/interfaces.rst", line 167:
    sage: G.center()
Expected:
    Permutation Group with generators [()]
Got:
    Subgroup of (Permutation Group with generators [(3,4), (1,2,3)(4,5)]) generated by [()]
**********************************************************************
```

```
sage -t  -force_lib devel/sage/doc/ru/tutorial/tour_groups.rst
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha0/devel/sage-main/doc/ru/tutorial/tour_groups.rst", line 24:
    sage: G.center()
Expected:
    Permutation Group with generators [()]
Got:
    Subgroup of (Permutation Group with generators [(3,4), (1,2,3)(4,5)]) generated by [()]
**********************************************************************
```



---

archive/issue_comments_105770.json:
```json
{
    "body": "German and Russian language fixes combined",
    "created_at": "2011-06-20T20:57:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105770",
    "user": "https://github.com/rbeezer"
}
```

German and Russian language fixes combined



---

archive/issue_comments_105771.json:
```json
{
    "body": "Attachment [trac_10335-tutorial-languages-fixes.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-tutorial-languages-fixes.patch) by @rbeezer created at 2011-06-20 21:05:38\n\nReplying to [comment:34 jdemeyer]:\n> The Russian tutorial (#9378) also needs to be fixed:\n\n\nApplied #9378 and the two main patches here.  (I do not understand what \"merge if needed\" is suppose to mean - so I included that).  Rolled the Russian fixes up with the German fixes into one patch.\n\nPasses all tests in  doc  directory.\n\nCould we *please* review and merge this before anymore new languages surface?  ;-) ;-)\n\nRob",
    "created_at": "2011-06-20T21:05:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105771",
    "user": "https://github.com/rbeezer"
}
```

Attachment [trac_10335-tutorial-languages-fixes.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-tutorial-languages-fixes.patch) by @rbeezer created at 2011-06-20 21:05:38

Replying to [comment:34 jdemeyer]:
> The Russian tutorial (#9378) also needs to be fixed:


Applied #9378 and the two main patches here.  (I do not understand what "merge if needed" is suppose to mean - so I included that).  Rolled the Russian fixes up with the German fixes into one patch.

Passes all tests in  doc  directory.

Could we *please* review and merge this before anymore new languages surface?  ;-) ;-)

Rob



---

archive/issue_comments_105772.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-06-20T21:05:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105772",
    "user": "https://github.com/rbeezer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_105773.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-06-22T11:18:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105773",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_105774.json:
```json
{
    "body": "Replying to [comment:35 rbeezer]:\n> Applied #9378 and the two main patches here.  (I do not understand what \"merge if needed\" is suppose to mean - so I included that). \n\n\nSee comment 23 above.\n\n> Rolled the Russian fixes up with the German fixes into one patch.\n> \n> Passes all tests in  doc  directory.\n> \n> Could we *please* review and merge this before anymore new languages surface?  ;-) ;-)\n\n\nI checked your new patch, and am happy with it. Back to positive review. Thanks!",
    "created_at": "2011-06-22T11:18:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105774",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:35 rbeezer]:
> Applied #9378 and the two main patches here.  (I do not understand what "merge if needed" is suppose to mean - so I included that). 


See comment 23 above.

> Rolled the Russian fixes up with the German fixes into one patch.
> 
> Passes all tests in  doc  directory.
> 
> Could we *please* review and merge this before anymore new languages surface?  ;-) ;-)


I checked your new patch, and am happy with it. Back to positive review. Thanks!



---

archive/issue_comments_105775.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-07-22T12:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105775",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_026584.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-22T12:49:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10335#event-26584"
}
```



---

archive/issue_comments_105776.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2011-08-01T11:38:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105776",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from closed to new.



---

archive/issue_events_026585.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-01T11:38:09Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10335#event-26585"
}
```



---

archive/issue_comments_105777.json:
```json
{
    "body": "Unfortunately, there is a doctest error on Solaris (to be more precise, the buildbot machine mark2):\n\n```\nsage -t -long  -force_lib devel/sage/sage/groups/perm_gps/permgroup.py\n**********************************************************************\nFile \"/home/buildbot/build/sage/mark-1/mark_full/build/sage-4.7.2.alpha0/devel/sage-main/sage/groups/perm_gps/permgroup.py\", line 811:\n    sage: G.gens_small()\nExpected:\n    [('a','b'), ('a','b','c')]\nGot:\n    [('b','c'), ('a','b','c')]\n**********************************************************************\n```",
    "created_at": "2011-08-01T11:38:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105777",
    "user": "https://github.com/jdemeyer"
}
```

Unfortunately, there is a doctest error on Solaris (to be more precise, the buildbot machine mark2):

```
sage -t -long  -force_lib devel/sage/sage/groups/perm_gps/permgroup.py
**********************************************************************
File "/home/buildbot/build/sage/mark-1/mark_full/build/sage-4.7.2.alpha0/devel/sage-main/sage/groups/perm_gps/permgroup.py", line 811:
    sage: G.gens_small()
Expected:
    [('a','b'), ('a','b','c')]
Got:
    [('b','c'), ('a','b','c')]
**********************************************************************
```



---

archive/issue_comments_105778.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2011-08-01T11:38:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105778",
    "user": "https://github.com/jdemeyer"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_105779.json:
```json
{
    "body": "What's the best way to test a fix on that machine?  Do I have to log into mark2 and do a full build or is there a way to access that build?",
    "created_at": "2011-08-01T18:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105779",
    "user": "https://github.com/mwhansen"
}
```

What's the best way to test a fix on that machine?  Do I have to log into mark2 and do a full build or is there a way to access that build?



---

archive/issue_comments_105780.json:
```json
{
    "body": "Ping.",
    "created_at": "2011-08-02T18:50:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105780",
    "user": "https://github.com/mwhansen"
}
```

Ping.



---

archive/issue_comments_105781.json:
```json
{
    "body": "jdemeyer:\n\n```\nWhat's the best way to test a fix on that machine? Do I have to log into mark2 and do a full build or is there a way to access that build?\n```",
    "created_at": "2011-08-16T19:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105781",
    "user": "https://github.com/mwhansen"
}
```

jdemeyer:

```
What's the best way to test a fix on that machine? Do I have to log into mark2 and do a full build or is there a way to access that build?
```



---

archive/issue_comments_105782.json:
```json
{
    "body": "Attachment [trac_10335-solaris_issue.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-solaris_issue.patch) by @loefflerd created at 2011-08-25 09:19:16\n\napply over previous patches",
    "created_at": "2011-08-25T09:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105782",
    "user": "https://github.com/loefflerd"
}
```

Attachment [trac_10335-solaris_issue.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-solaris_issue.patch) by @loefflerd created at 2011-08-25 09:19:16

apply over previous patches



---

archive/issue_comments_105783.json:
```json
{
    "body": "I don't have access to a Solaris machine to test this on; but, looking at the code, it's clear that (a) this Sage function just wraps the corresponding one in Gap, (b) the answer returned on Solaris is just as much a valid answer as that returned on other systems, and (c) there is already a perfectly good doctest for that function.\n\nI strongly suggest that we change this doctest to something less sensitive, given that there is a huge pile of other code waiting on this. I have just uploaded a patch which does this.",
    "created_at": "2011-08-25T09:20:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105783",
    "user": "https://github.com/loefflerd"
}
```

I don't have access to a Solaris machine to test this on; but, looking at the code, it's clear that (a) this Sage function just wraps the corresponding one in Gap, (b) the answer returned on Solaris is just as much a valid answer as that returned on other systems, and (c) there is already a perfectly good doctest for that function.

I strongly suggest that we change this doctest to something less sensitive, given that there is a huge pile of other code waiting on this. I have just uploaded a patch which does this.



---

archive/issue_comments_105784.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-08-25T09:20:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105784",
    "user": "https://github.com/loefflerd"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_105785.json:
```json
{
    "body": "apply over previous patches",
    "created_at": "2011-09-11T15:19:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105785",
    "user": "https://github.com/loefflerd"
}
```

apply over previous patches



---

archive/issue_comments_105786.json:
```json
{
    "body": "Attachment [trac_10335-updates.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-updates.patch) by @loefflerd created at 2011-09-11 15:20:19\n\nThis has now bitrotted: several doctests fail in trivial ways on sage 4.7.2.alpha2. I've just uploaded a patch that fixes these.",
    "created_at": "2011-09-11T15:20:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105786",
    "user": "https://github.com/loefflerd"
}
```

Attachment [trac_10335-updates.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-updates.patch) by @loefflerd created at 2011-09-11 15:20:19

This has now bitrotted: several doctests fail in trivial ways on sage 4.7.2.alpha2. I've just uploaded a patch that fixes these.



---

archive/issue_comments_105787.json:
```json
{
    "body": "I've tested this on the Sun machine \"mark\" on skynet, and all doctests pass (except for a pre-existing error in `matrix_double_dense` which has nothing to do with this patch. Can someone please visually check that the two most recent patches [attachment:trac_10335-solaris_issue.patch] and [attachment:trac_10335-updates.patch] are morally sound? I'd be really disappointed if this bitrotted yet again.",
    "created_at": "2011-09-18T08:09:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105787",
    "user": "https://github.com/loefflerd"
}
```

I've tested this on the Sun machine "mark" on skynet, and all doctests pass (except for a pre-existing error in `matrix_double_dense` which has nothing to do with this patch. Can someone please visually check that the two most recent patches [attachment:trac_10335-solaris_issue.patch] and [attachment:trac_10335-updates.patch] are morally sound? I'd be really disappointed if this bitrotted yet again.



---

archive/issue_comments_105788.json:
```json
{
    "body": "FWIW, the \"pre-existing error in `matrix_double_dense`\" is a known issue coming from #10795, which has apparently been de-merged from the next release for this reason.",
    "created_at": "2011-09-18T08:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105788",
    "user": "https://github.com/loefflerd"
}
```

FWIW, the "pre-existing error in `matrix_double_dense`" is a known issue coming from #10795, which has apparently been de-merged from the next release for this reason.



---

archive/issue_comments_105789.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-09-18T16:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105789",
    "user": "https://github.com/rbeezer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_105790.json:
```json
{
    "body": "David's two recent patches look good to me, and update from a point where this had a positive review.\n\nApplies, builds, passes long tests on 4.7.2.alpha2 and 64-bit Ubuntu 11.04.  So, back to positive review with a hope it merges it OK, finally.",
    "created_at": "2011-09-18T16:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105790",
    "user": "https://github.com/rbeezer"
}
```

David's two recent patches look good to me, and update from a point where this had a positive review.

Applies, builds, passes long tests on 4.7.2.alpha2 and 64-bit Ubuntu 11.04.  So, back to positive review with a hope it merges it OK, finally.



---

archive/issue_comments_105791.json:
```json
{
    "body": "I'm not sure whether removing a doctest is the proper way to fix a doctest error... ;-)",
    "created_at": "2011-09-18T17:33:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105791",
    "user": "https://github.com/nexttime"
}
```

I'm not sure whether removing a doctest is the proper way to fix a doctest error... ;-)



---

archive/issue_comments_105792.json:
```json
{
    "body": "Replying to [comment:47 leif]:\n> I'm not sure whether removing a doctest is the proper way to fix a doctest error... ;-)\n\n\nI agree.  But in this case, I agree with David's argument.  This patch implements a highly desirable feature with many doctests.  And if I understand right, GAP uses some probabilistic algorithms, so we could tie ourselves in knots trying to rewrite this doctest.\n\nMy understanding (and some grep'ing appears to confirm) is that this is a **new** test.  Would the patch have gone in without it if it had never appeared?  I think so.  If an **existing** test were failing, I'd be a lot less cavalier about dropping it.\n\nAnyway, my $0.02 worth.",
    "created_at": "2011-09-18T18:04:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105792",
    "user": "https://github.com/rbeezer"
}
```

Replying to [comment:47 leif]:
> I'm not sure whether removing a doctest is the proper way to fix a doctest error... ;-)


I agree.  But in this case, I agree with David's argument.  This patch implements a highly desirable feature with many doctests.  And if I understand right, GAP uses some probabilistic algorithms, so we could tie ourselves in knots trying to rewrite this doctest.

My understanding (and some grep'ing appears to confirm) is that this is a **new** test.  Would the patch have gone in without it if it had never appeared?  I think so.  If an **existing** test were failing, I'd be a lot less cavalier about dropping it.

Anyway, my $0.02 worth.



---

archive/issue_comments_105793.json:
```json
{
    "body": "I think the correct fix would to be to add one of the `current_randstate().set_seed_gap()` lines to the beginning of that function.",
    "created_at": "2011-09-18T18:10:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105793",
    "user": "https://github.com/mwhansen"
}
```

I think the correct fix would to be to add one of the `current_randstate().set_seed_gap()` lines to the beginning of that function.



---

archive/issue_comments_105794.json:
```json
{
    "body": "Replying to [comment:49 mhansen]:\n> I think the correct fix would to be to add one of the `current_randstate().set_seed_gap()` lines to the beginning of that function.\n\n\nOr otherwise at least *tag* the doctest with `# random`, `# not tested`, `# platform-specific`(?) or whatever, since doing so *documents* the different behaviour.",
    "created_at": "2011-09-18T19:11:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105794",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:49 mhansen]:
> I think the correct fix would to be to add one of the `current_randstate().set_seed_gap()` lines to the beginning of that function.


Or otherwise at least *tag* the doctest with `# random`, `# not tested`, `# platform-specific`(?) or whatever, since doing so *documents* the different behaviour.



---

archive/issue_comments_105795.json:
```json
{
    "body": "I agree that in an ideal world it would be better to have another doctest for this function, but as Rob points out, there was no such doctest before this ticket anyway. So it seems absurd to hold up all of the other new functionality added by this ticket, and the two other positively-reviewed tickets depending on it, for such a reason. \n\nIf it matters that much, perhaps we should have a new ticket \"improve doctests for wrapper of Gap function xxx\".",
    "created_at": "2011-09-18T21:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105795",
    "user": "https://github.com/loefflerd"
}
```

I agree that in an ideal world it would be better to have another doctest for this function, but as Rob points out, there was no such doctest before this ticket anyway. So it seems absurd to hold up all of the other new functionality added by this ticket, and the two other positively-reviewed tickets depending on it, for such a reason. 

If it matters that much, perhaps we should have a new ticket "improve doctests for wrapper of Gap function xxx".



---

archive/issue_comments_105796.json:
```json
{
    "body": "I agree with leif that adding a simple \"# random\" is an easy solution which at least documents the problem.",
    "created_at": "2011-09-19T09:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105796",
    "user": "https://github.com/jdemeyer"
}
```

I agree with leif that adding a simple "# random" is an easy solution which at least documents the problem.



---

archive/issue_comments_105797.json:
```json
{
    "body": "Aaargh! Do what you like, just *MERGE IT SOMEHOW*! If we miss the boat with this one again, and consequently #11422, #11598, #5048, #11601 and #10546 end up still trapped in purgatory, I will have to think very seriously about whether working on Sage in future is a productive use of my time.",
    "created_at": "2011-09-19T09:43:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105797",
    "user": "https://github.com/loefflerd"
}
```

Aaargh! Do what you like, just *MERGE IT SOMEHOW*! If we miss the boat with this one again, and consequently #11422, #11598, #5048, #11601 and #10546 end up still trapped in purgatory, I will have to think very seriously about whether working on Sage in future is a productive use of my time.



---

archive/issue_comments_105798.json:
```json
{
    "body": "Replying to [comment:53 davidloeffler]:\n> Aaargh! Do what you like, just *MERGE IT SOMEHOW*! If we miss the boat with this one again, and consequently #11422, #11598, #5048, #11601 and #10546 end up still trapped in purgatory, I will have to think very seriously about whether working on Sage in future is a productive use of my time.\n\n\nWell, to be honest, it's not my problem that this ticket bit-rottened. I started merging tickets \"officially\" into alpha3 about two weeks ago IIRC (including some you participated in); this ticket got positive review 20 hours ago.\n\nI agree that it's a pity, not just because other already positively reviewed tickets -- three of the other ones you mentioned still need review -- depend on this one, but as I told Rob yesterday, it would have to get rebased anyway, because of (at least) #11749, and I'm not going to back the latter out (or try to reapply it on top of tickets that haven't had positive review recently, again having to manually resolve conflicts and errors, some showing up only later during testing).\n\nWe haven't yet talked about the release plans for the final Sage 4.7.2, but I think there'll still be an alpha4 before we go into feature freeze, as there are other important things that still have to get fixed and should be solved in a final.\n\nSo IMHO it would be best to wait for the alpha3, hopefully released within the next days, and then rebase this ticket (and if necessary the others) on that.\n\n[I didn't touch the tickets having milestone \"sage-pending\" (including #11422 and #11598) at all, since I don't know why Jeroen put them there, although I have to admit I also didn't try to find out, mainly because of lack of time. I early did ping the authors and reviewers of all other tickets that were holding up other positively reviewed ones though, with some success.]\n\n\n\n\nW.r.t. the doctest with varying output:\n\nIt would IMHO be best to give the alternative, also correct result as an example, too, marking both `# not tested`, with an appropriate comment.\n\n(And perhaps add a real doctest which tests a property common to both.)",
    "created_at": "2011-09-19T13:04:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105798",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:53 davidloeffler]:
> Aaargh! Do what you like, just *MERGE IT SOMEHOW*! If we miss the boat with this one again, and consequently #11422, #11598, #5048, #11601 and #10546 end up still trapped in purgatory, I will have to think very seriously about whether working on Sage in future is a productive use of my time.


Well, to be honest, it's not my problem that this ticket bit-rottened. I started merging tickets "officially" into alpha3 about two weeks ago IIRC (including some you participated in); this ticket got positive review 20 hours ago.

I agree that it's a pity, not just because other already positively reviewed tickets -- three of the other ones you mentioned still need review -- depend on this one, but as I told Rob yesterday, it would have to get rebased anyway, because of (at least) #11749, and I'm not going to back the latter out (or try to reapply it on top of tickets that haven't had positive review recently, again having to manually resolve conflicts and errors, some showing up only later during testing).

We haven't yet talked about the release plans for the final Sage 4.7.2, but I think there'll still be an alpha4 before we go into feature freeze, as there are other important things that still have to get fixed and should be solved in a final.

So IMHO it would be best to wait for the alpha3, hopefully released within the next days, and then rebase this ticket (and if necessary the others) on that.

[I didn't touch the tickets having milestone "sage-pending" (including #11422 and #11598) at all, since I don't know why Jeroen put them there, although I have to admit I also didn't try to find out, mainly because of lack of time. I early did ping the authors and reviewers of all other tickets that were holding up other positively reviewed ones though, with some success.]




W.r.t. the doctest with varying output:

It would IMHO be best to give the alternative, also correct result as an example, too, marking both `# not tested`, with an appropriate comment.

(And perhaps add a real doctest which tests a property common to both.)



---

archive/issue_comments_105799.json:
```json
{
    "body": "Replying to [comment:54 leif]:\n> I didn't touch the tickets having milestone \"sage-pending\" (including #11422 and #11598) at all, since I don't know why Jeroen put them there\n\n\nI put them there because of the dependency on this ticket, no other reason.",
    "created_at": "2011-09-19T13:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105799",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:54 leif]:
> I didn't touch the tickets having milestone "sage-pending" (including #11422 and #11598) at all, since I don't know why Jeroen put them there


I put them there because of the dependency on this ticket, no other reason.



---

archive/issue_comments_105800.json:
```json
{
    "body": "Replying to [comment:53 davidloeffler]:\n> Aaargh! Do what you like, just *MERGE IT SOMEHOW*!\n\n\nLeif - thanks for the help with this one.  With classes starting, I really wasn't in a position to be chasing the evolving alpha, so I had to pass on that offer, but appreciate the willingness.\n\nDavid - How about the following?\n\n1.  Wait for alpha3 (which sounds big already).\n\n2.  I mark the disputed test `# random`.\n\n3.  I rebase on alpha3 in preparation for alpha4.\n\n4.  You review (2) and (3).\n\n5.  We quickly identify if the tickets in Permutation Group Purgatory needing changes/rebasing.\n\nLemme know and I'll carve out time to make it happen.\n\nRob",
    "created_at": "2011-09-19T14:40:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105800",
    "user": "https://github.com/rbeezer"
}
```

Replying to [comment:53 davidloeffler]:
> Aaargh! Do what you like, just *MERGE IT SOMEHOW*!


Leif - thanks for the help with this one.  With classes starting, I really wasn't in a position to be chasing the evolving alpha, so I had to pass on that offer, but appreciate the willingness.

David - How about the following?

1.  Wait for alpha3 (which sounds big already).

2.  I mark the disputed test `# random`.

3.  I rebase on alpha3 in preparation for alpha4.

4.  You review (2) and (3).

5.  We quickly identify if the tickets in Permutation Group Purgatory needing changes/rebasing.

Lemme know and I'll carve out time to make it happen.

Rob



---

archive/issue_comments_105801.json:
```json
{
    "body": "That sounds like a good solution -- thanks for volunteering to do (2) and (3). I can take care of (5). \n\nMy apologies, particularly to Leif, for my outburst earlier.",
    "created_at": "2011-09-19T14:51:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105801",
    "user": "https://github.com/loefflerd"
}
```

That sounds like a good solution -- thanks for volunteering to do (2) and (3). I can take care of (5). 

My apologies, particularly to Leif, for my outburst earlier.



---

archive/issue_comments_105802.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-09-19T15:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105802",
    "user": "https://github.com/rbeezer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_105803.json:
```json
{
    "body": "Replying to [comment:57 davidloeffler]:\n> That sounds like a good solution -- thanks for volunteering to do (2) and (3). I can take care of (5). \n\n\nGreat!  We have a plan. Thanks for taking (5).  \n\nLeif and/or Jeroen - feel free to ping us if we need to move quickly on something.\n\nAt the ready,\nRob",
    "created_at": "2011-09-19T15:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105803",
    "user": "https://github.com/rbeezer"
}
```

Replying to [comment:57 davidloeffler]:
> That sounds like a good solution -- thanks for volunteering to do (2) and (3). I can take care of (5). 


Great!  We have a plan. Thanks for taking (5).  

Leif and/or Jeroen - feel free to ping us if we need to move quickly on something.

At the ready,
Rob



---

archive/issue_comments_105804.json:
```json
{
    "body": "Replying to [comment:56 rbeezer]:\n> 1.  Wait for alpha3 (which sounds big already). \n\n\n> [...] \n\n\n> 3.  I rebase on alpha3 in preparation for alpha4. \n\n\n> [...] \n\n\n> 5.  We quickly identify if the tickets in Permutation Group Purgatory needing changes / rebasing.\n\n\n\n\nFor the impatient, an updated tarball and source tree for upgrading can be found in\n\n [http://sage.math.washington.edu/home/leif/Sage/release/sage-4.7.2.alpha3-prerelease/](http://sage.math.washington.edu/home/leif/Sage/release/sage-4.7.2.alpha3-prerelease/).\n\nI don't expect further changes to the alpha3 release, except for a few only fixing some doctest errors due to numerical noise below\n* `sage/rings/polynomial/` and\n* `sage/matrix/`,\nand perhaps some clean-up like adding ticket numbers to commit messages lacking them, so it should be safe to (re)base patches on this version.",
    "created_at": "2011-09-20T12:47:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105804",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:56 rbeezer]:
> 1.  Wait for alpha3 (which sounds big already). 


> [...] 


> 3.  I rebase on alpha3 in preparation for alpha4. 


> [...] 


> 5.  We quickly identify if the tickets in Permutation Group Purgatory needing changes / rebasing.




For the impatient, an updated tarball and source tree for upgrading can be found in

 [http://sage.math.washington.edu/home/leif/Sage/release/sage-4.7.2.alpha3-prerelease/](http://sage.math.washington.edu/home/leif/Sage/release/sage-4.7.2.alpha3-prerelease/).

I don't expect further changes to the alpha3 release, except for a few only fixing some doctest errors due to numerical noise below
* `sage/rings/polynomial/` and
* `sage/matrix/`,
and perhaps some clean-up like adding ticket numbers to commit messages lacking them, so it should be safe to (re)base patches on this version.



---

archive/issue_comments_105805.json:
```json
{
    "body": "Replying to [comment:59 leif]:\n> For the impatient\n\n\nPerfect - thanks!  Building now, will tinker tonight.",
    "created_at": "2011-09-20T13:42:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105805",
    "user": "https://github.com/rbeezer"
}
```

Replying to [comment:59 leif]:
> For the impatient


Perfect - thanks!  Building now, will tinker tonight.



---

archive/issue_comments_105806.json:
```json
{
    "body": "Attachment [trac_10335-permgroup_domain-rebase.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-permgroup_domain-rebase.patch) by @loefflerd created at 2011-09-20 18:28:37\n\npatch against 4.7.2.alpha3 prerelease",
    "created_at": "2011-09-20T18:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105806",
    "user": "https://github.com/loefflerd"
}
```

Attachment [trac_10335-permgroup_domain-rebase.patch](tarball://root/attachments/some-uuid/ticket10335/trac_10335-permgroup_domain-rebase.patch) by @loefflerd created at 2011-09-20 18:28:37

patch against 4.7.2.alpha3 prerelease



---

archive/issue_comments_105807.json:
```json
{
    "body": "I had a few minutes free this afternoon, so I've done a rebased patch myself. This is just the existing patches rebased and folded, but with the doctest in `permgroup.py` marked as random rather than deleted, and with examples of the output I got on a Linux and a Solaris machine.\n\nRob: any chance you could review this? Apologies if you'd already started rebasing this yourself as per our earlier agreement -- in that case feel free to ignore my patch and I'll review yours.\n\nLeif: you might be interested to hear that this prerelease builds and passes long doctests without problems on my 64-bit Linux machine -- no numerical noise or anything like that.",
    "created_at": "2011-09-20T18:33:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105807",
    "user": "https://github.com/loefflerd"
}
```

I had a few minutes free this afternoon, so I've done a rebased patch myself. This is just the existing patches rebased and folded, but with the doctest in `permgroup.py` marked as random rather than deleted, and with examples of the output I got on a Linux and a Solaris machine.

Rob: any chance you could review this? Apologies if you'd already started rebasing this yourself as per our earlier agreement -- in that case feel free to ignore my patch and I'll review yours.

Leif: you might be interested to hear that this prerelease builds and passes long doctests without problems on my 64-bit Linux machine -- no numerical noise or anything like that.



---

archive/issue_comments_105808.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-09-20T18:33:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105808",
    "user": "https://github.com/loefflerd"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_105809.json:
```json
{
    "body": "David - no problem, I'll do a review.  I have no free minutes today.  So tonight. ;-)\n\nProbably about 8-10 hours from now.  Thanks for hopping on this one.",
    "created_at": "2011-09-20T19:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105809",
    "user": "https://github.com/rbeezer"
}
```

David - no problem, I'll do a review.  I have no free minutes today.  So tonight. ;-)

Probably about 8-10 hours from now.  Thanks for hopping on this one.



---

archive/issue_comments_105810.json:
```json
{
    "body": "Replying to [comment:61 davidloeffler]:\n> Leif: you might be interested to hear that this prerelease builds and passes long doctests without problems on my 64-bit Linux machine -- no numerical noise or anything like that.\n\n\nIf you also tell me what CPU you built on... (e.g. top of `/proc/cpuinfo`, i.e., only for the first core...)\n\nMight be interesting.",
    "created_at": "2011-09-20T22:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105810",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:61 davidloeffler]:
> Leif: you might be interested to hear that this prerelease builds and passes long doctests without problems on my 64-bit Linux machine -- no numerical noise or anything like that.


If you also tell me what CPU you built on... (e.g. top of `/proc/cpuinfo`, i.e., only for the first core...)

Might be interesting.



---

archive/issue_comments_105811.json:
```json
{
    "body": "Replying to [comment:62 rbeezer]:\n> Probably about 8-10 hours from now.\n\n\nMy build was interrupted (long story) and now two files are giving segfaults when I doctest, with or without the patch.  Don't panic - likely entirely all my fault.  So anyway, I'm starting over and building overnight.  Stay tuned.\n\nRob",
    "created_at": "2011-09-21T04:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105811",
    "user": "https://github.com/rbeezer"
}
```

Replying to [comment:62 rbeezer]:
> Probably about 8-10 hours from now.


My build was interrupted (long story) and now two files are giving segfaults when I doctest, with or without the patch.  Don't panic - likely entirely all my fault.  So anyway, I'm starting over and building overnight.  Stay tuned.

Rob



---

archive/issue_comments_105812.json:
```json
{
    "body": "alpha3-prerelease segfaults during testing, without patch.  Errors, followed by system info.  I can follow up with more testing, if requested.\n\n\n```\nThe following tests failed:\n\n        sage -t  -long -force_lib devel/sage/sage/modular/modsym/ambient.py # 0 doctests failed\n        sage -t  -long -force_lib devel/sage/sage/modular/hecke/ambient_module.py # 0 doctests failed\n        sage -t  -long -force_lib devel/sage/sage/modular/hecke/hecke_operator.py # 0 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 2701.6 seconds\nmake: *** [ptestlong] Error 128\n```\n\n```\nrob@lava:/sage/sage-4.7.2.alpha3-prerelease$ ./sage -t  -long -force_lib devel/sage/sage/modular/modsym/ambient.py\nsage -t -long -force_lib \"devel/sage/sage/modular/modsym/ambient.py\"\n/sage/sage-4.7.2.alpha3-prerelease/local/lib/libcsage.so(print_backtrace+0x31)[0x7fd8e335834f]\n/sage/sage-4.7.2.alpha3-prerelease/local/lib/libcsage.so(sigdie+0x14)[0x7fd8e3358381]\n/sage/sage-4.7.2.alpha3-prerelease/local/lib/libcsage.so(sage_signal_handler+0x20e)[0x7fd8e3357fb4]\n/lib/x86_64-linux-gnu/libpthread.so.0(+0xfc60)[0x7fd8e484fc60]\n/sage/sage-4.7.2.alpha3-prerelease/local/lib/libatlas.so(ATL_dJIK44x44x44TN44x44x0_a1_b0+0x9d)[0x7fd8da12c3ed]\n\n------------------------------------------------------------------------\nUnhandled SIGSEGV: A segmentation fault occurred in Sage.\nThis probably occurred because a *compiled* component of Sage has a bug\nin it and is not properly wrapped with sig_on(), sig_off(). You might\nwant to run Sage under gdb with 'sage -gdb' to debug this.\nSage will now terminate.\n------------------------------------------------------------------------\nSegmentation fault\n\n         [5.9 s]\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n        sage -t -long -force_lib \"devel/sage/sage/modular/modsym/ambient.py\"\nTotal time for all tests: 5.9 seconds\n```\n\n```\nrob@lava:/sage/sage-4.7.2.alpha3-prerelease$ uname -a\nLinux lava 2.6.38-10-generic #46-Ubuntu SMP Tue Jun 28 15:07:17 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux\n```\n\n```\nrob@lava:/sage/sage-4.7.2.alpha3-prerelease$ gcc -v\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/usr/lib/x86_64-linux-gnu/gcc/x86_64-linux-gnu/4.5.2/lto-wrapper\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu/Linaro 4.5.2-8ubuntu4' --with-bugurl=file:///usr/share/doc/gcc-4.5/README.Bugs --enable-languages=c,c++,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-4.5 --enable-shared --enable-multiarch --with-multiarch-defaults=x86_64-linux-gnu --enable-linker-build-id --with-system-zlib --libexecdir=/usr/lib/x86_64-linux-gnu --without-included-gettext --enable-threads=posix --with-gxx-include-dir=/usr/include/c++/4.5 --libdir=/usr/lib/x86_64-linux-gnu --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --enable-plugin --enable-gold --enable-ld=default --with-plugin-ld=ld.gold --enable-objc-gc --disable-werror --with-arch-32=i686 --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 4.5.2 (Ubuntu/Linaro 4.5.2-8ubuntu4) \n```\n\n```\nrob@lava:/sage/sage-4.7.2.alpha3-prerelease$ cat /proc/cpuinfo\nprocessor       : 0\nvendor_id       : GenuineIntel\ncpu family      : 6\nmodel           : 42\nmodel name      : Intel(R) Core(TM) i7-2600 CPU @ 3.40GHz\nstepping        : 7\ncpu MHz         : 1600.000\ncache size      : 8192 KB\nphysical id     : 0\nsiblings        : 8\ncore id         : 0\ncpu cores       : 4\napicid          : 0\ninitial apicid  : 0\nfpu             : yes\nfpu_exception   : yes\ncpuid level     : 13\nwp              : yes\nflags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 x2apic popcnt aes xsave avx lahf_lm ida arat epb xsaveopt pln pts dts tpr_shadow vnmi flexpriority ept vpid\nbogomips        : 6822.05\nclflush size    : 64\ncache_alignment : 64\naddress sizes   : 36 bits physical, 48 bits virtual\npower management:\n```",
    "created_at": "2011-09-21T14:05:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105812",
    "user": "https://github.com/rbeezer"
}
```

alpha3-prerelease segfaults during testing, without patch.  Errors, followed by system info.  I can follow up with more testing, if requested.


```
The following tests failed:

        sage -t  -long -force_lib devel/sage/sage/modular/modsym/ambient.py # 0 doctests failed
        sage -t  -long -force_lib devel/sage/sage/modular/hecke/ambient_module.py # 0 doctests failed
        sage -t  -long -force_lib devel/sage/sage/modular/hecke/hecke_operator.py # 0 doctests failed
----------------------------------------------------------------------
Total time for all tests: 2701.6 seconds
make: *** [ptestlong] Error 128
```

```
rob@lava:/sage/sage-4.7.2.alpha3-prerelease$ ./sage -t  -long -force_lib devel/sage/sage/modular/modsym/ambient.py
sage -t -long -force_lib "devel/sage/sage/modular/modsym/ambient.py"
/sage/sage-4.7.2.alpha3-prerelease/local/lib/libcsage.so(print_backtrace+0x31)[0x7fd8e335834f]
/sage/sage-4.7.2.alpha3-prerelease/local/lib/libcsage.so(sigdie+0x14)[0x7fd8e3358381]
/sage/sage-4.7.2.alpha3-prerelease/local/lib/libcsage.so(sage_signal_handler+0x20e)[0x7fd8e3357fb4]
/lib/x86_64-linux-gnu/libpthread.so.0(+0xfc60)[0x7fd8e484fc60]
/sage/sage-4.7.2.alpha3-prerelease/local/lib/libatlas.so(ATL_dJIK44x44x44TN44x44x0_a1_b0+0x9d)[0x7fd8da12c3ed]

------------------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occurred in Sage.
This probably occurred because a *compiled* component of Sage has a bug
in it and is not properly wrapped with sig_on(), sig_off(). You might
want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate.
------------------------------------------------------------------------
Segmentation fault

         [5.9 s]
 
----------------------------------------------------------------------
The following tests failed:


        sage -t -long -force_lib "devel/sage/sage/modular/modsym/ambient.py"
Total time for all tests: 5.9 seconds
```

```
rob@lava:/sage/sage-4.7.2.alpha3-prerelease$ uname -a
Linux lava 2.6.38-10-generic #46-Ubuntu SMP Tue Jun 28 15:07:17 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux
```

```
rob@lava:/sage/sage-4.7.2.alpha3-prerelease$ gcc -v
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/lib/x86_64-linux-gnu/gcc/x86_64-linux-gnu/4.5.2/lto-wrapper
Target: x86_64-linux-gnu
Configured with: ../src/configure -v --with-pkgversion='Ubuntu/Linaro 4.5.2-8ubuntu4' --with-bugurl=file:///usr/share/doc/gcc-4.5/README.Bugs --enable-languages=c,c++,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-4.5 --enable-shared --enable-multiarch --with-multiarch-defaults=x86_64-linux-gnu --enable-linker-build-id --with-system-zlib --libexecdir=/usr/lib/x86_64-linux-gnu --without-included-gettext --enable-threads=posix --with-gxx-include-dir=/usr/include/c++/4.5 --libdir=/usr/lib/x86_64-linux-gnu --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --enable-plugin --enable-gold --enable-ld=default --with-plugin-ld=ld.gold --enable-objc-gc --disable-werror --with-arch-32=i686 --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
Thread model: posix
gcc version 4.5.2 (Ubuntu/Linaro 4.5.2-8ubuntu4) 
```

```
rob@lava:/sage/sage-4.7.2.alpha3-prerelease$ cat /proc/cpuinfo
processor       : 0
vendor_id       : GenuineIntel
cpu family      : 6
model           : 42
model name      : Intel(R) Core(TM) i7-2600 CPU @ 3.40GHz
stepping        : 7
cpu MHz         : 1600.000
cache size      : 8192 KB
physical id     : 0
siblings        : 8
core id         : 0
cpu cores       : 4
apicid          : 0
initial apicid  : 0
fpu             : yes
fpu_exception   : yes
cpuid level     : 13
wp              : yes
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 x2apic popcnt aes xsave avx lahf_lm ida arat epb xsaveopt pln pts dts tpr_shadow vnmi flexpriority ept vpid
bogomips        : 6822.05
clflush size    : 64
cache_alignment : 64
address sizes   : 36 bits physical, 48 bits virtual
power management:
```



---

archive/issue_comments_105813.json:
```json
{
    "body": "Replying to [comment:65 rbeezer]:\n> alpha3-prerelease segfaults during testing, without patch.  Errors, followed by system info.  I can follow up with more testing, if requested.\n\n\nThat's either due to Linaro, or, more likely, an ATLAS problem, since our version afaik doesn't yet support Sandy Bridge (second generation \"Core i\").\n\nYou could try using your system's ATLAS (may have to install it with your package manager first), by doing:\n\n```sh\n$ export SAGE_ATLAS_LIB=/usr/lib64/atlas # the directory; usual place on 64-bit Linux\n$ rm $SAGE_ROOT/spkg/installed/atlas-*\n$ cd $SAGE_ROOT\n$ env SAGE_UPGRADING=yes make # or \"... make build\"\n```\n\nThe `SAGE_UPGRADING=yes` is important to (really) rebuild all dependent packages as well.",
    "created_at": "2011-09-21T15:00:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105813",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:65 rbeezer]:
> alpha3-prerelease segfaults during testing, without patch.  Errors, followed by system info.  I can follow up with more testing, if requested.


That's either due to Linaro, or, more likely, an ATLAS problem, since our version afaik doesn't yet support Sandy Bridge (second generation "Core i").

You could try using your system's ATLAS (may have to install it with your package manager first), by doing:

```sh
$ export SAGE_ATLAS_LIB=/usr/lib64/atlas # the directory; usual place on 64-bit Linux
$ rm $SAGE_ROOT/spkg/installed/atlas-*
$ cd $SAGE_ROOT
$ env SAGE_UPGRADING=yes make # or "... make build"
```

The `SAGE_UPGRADING=yes` is important to (really) rebuild all dependent packages as well.



---

archive/issue_comments_105814.json:
```json
{
    "body": "Replying to [comment:66 leif]:\n> \n\n{{{#!sh\n$ export SAGE_ATLAS_LIB=/usr/lib64/atlas # the directory; usual place on 64-bit Linux\n...\n}}}\n\nMight be `/usr/lib/x86_64-linux-gnu/atlas/` on your system; you should check this before attempting to build... ;-)",
    "created_at": "2011-09-21T15:10:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105814",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:66 leif]:
> 

{{{#!sh
$ export SAGE_ATLAS_LIB=/usr/lib64/atlas # the directory; usual place on 64-bit Linux
...
}}}

Might be `/usr/lib/x86_64-linux-gnu/atlas/` on your system; you should check this before attempting to build... ;-)



---

archive/issue_comments_105815.json:
```json
{
    "body": "Thanks, Leif.  Ubuntu installs ATLAS into `/usr/lib64/atlas-base`.  Then setting up everything as you describe, suitably adjusted yields:\n\n```\nUnable to find one of liblapack, libcblas, libatlas or libf77blas\nin the directory /usr/lib64/atlas-base\nSet SAGE_ATLAS_LIB to the directory containing liblapack, libcblas,\nlibatlas and libf77blas (either .a or .so extensions) if you wish to\nuse existing ATLAS libraries. For more details, see\n```\n\nI've installed the packages `liblapack3gf, libblas3gf` but cannot see anything to provide libf77blas and do not know if I am getting libcblas.  Furthermore, these all go to different directories.\n\nAny advice?  My Sandy Bridge motherboard is about 8 months old.  Will anybody with a newer chip have to go through a drill like this?  Would Volker's ATLAS ticket be a better/workable approach?",
    "created_at": "2011-09-21T16:12:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105815",
    "user": "https://github.com/rbeezer"
}
```

Thanks, Leif.  Ubuntu installs ATLAS into `/usr/lib64/atlas-base`.  Then setting up everything as you describe, suitably adjusted yields:

```
Unable to find one of liblapack, libcblas, libatlas or libf77blas
in the directory /usr/lib64/atlas-base
Set SAGE_ATLAS_LIB to the directory containing liblapack, libcblas,
libatlas and libf77blas (either .a or .so extensions) if you wish to
use existing ATLAS libraries. For more details, see
```

I've installed the packages `liblapack3gf, libblas3gf` but cannot see anything to provide libf77blas and do not know if I am getting libcblas.  Furthermore, these all go to different directories.

Any advice?  My Sandy Bridge motherboard is about 8 months old.  Will anybody with a newer chip have to go through a drill like this?  Would Volker's ATLAS ticket be a better/workable approach?



---

archive/issue_comments_105816.json:
```json
{
    "body": "Replying to [comment:68 rbeezer]:\n> I've installed the packages `liblapack3gf, libblas3gf` but cannot see anything to provide libf77blas and do not know if I am getting libcblas.  Furthermore, these all go to different directories.\n\n\nI've asked Volker on the IRC for help. (Perhaps drop in if you can.)\n\nIf some libraries are simply in different directories, you could just create symbolic links to them in the `.../atlas-base/` directory. (Although there IMHO should<sup>TM</sup> be a directory containing all; are there some more self-contained ATLAS packages you could install?)\n\n\n\n\n\n> My Sandy Bridge motherboard is about 8 months old.\n\n\nThat shouldn't matter; Intel's bug just causes a SATA part of the chipset to die earlier.\n\nWhether AVX is available depends on your board (and chipset); if you have on-board graphics, AVX isn't usable.\n\n\n\n\n> Will anybody with a newer chip have to go through a drill like this?\n\n\nSimon King did successfully build the prerelease on a (Sandy Bridge) Core i3 with Debian x86_64; there only five doctests (in three files) failed due to numerical noise (the same doctests that failed on some other \"rare\" and older platforms).",
    "created_at": "2011-09-21T16:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105816",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:68 rbeezer]:
> I've installed the packages `liblapack3gf, libblas3gf` but cannot see anything to provide libf77blas and do not know if I am getting libcblas.  Furthermore, these all go to different directories.


I've asked Volker on the IRC for help. (Perhaps drop in if you can.)

If some libraries are simply in different directories, you could just create symbolic links to them in the `.../atlas-base/` directory. (Although there IMHO should<sup>TM</sup> be a directory containing all; are there some more self-contained ATLAS packages you could install?)





> My Sandy Bridge motherboard is about 8 months old.


That shouldn't matter; Intel's bug just causes a SATA part of the chipset to die earlier.

Whether AVX is available depends on your board (and chipset); if you have on-board graphics, AVX isn't usable.




> Will anybody with a newer chip have to go through a drill like this?


Simon King did successfully build the prerelease on a (Sandy Bridge) Core i3 with Debian x86_64; there only five doctests (in three files) failed due to numerical noise (the same doctests that failed on some other "rare" and older platforms).



---

archive/issue_comments_105817.json:
```json
{
    "body": "The following bug in Ubuntu launchpad says that the symlinks for the standard libraries are not created: https://bugs.launchpad.net/ubuntu/+source/atlas/+bug/769180  So you either create them manually (in a directory of your choice), or you compile ATLAS again. For the latter, you should probably try to set\n\n```sh\nexport SAGE_ATLAS_ARCH=Corei7,SSE3,SSE2,SSE1\n```\nThis works only with the new atlas spkg (4.7.2.alpha3+)",
    "created_at": "2011-09-21T16:45:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105817",
    "user": "https://github.com/vbraun"
}
```

The following bug in Ubuntu launchpad says that the symlinks for the standard libraries are not created: https://bugs.launchpad.net/ubuntu/+source/atlas/+bug/769180  So you either create them manually (in a directory of your choice), or you compile ATLAS again. For the latter, you should probably try to set

```sh
export SAGE_ATLAS_ARCH=Corei7,SSE3,SSE2,SSE1
```
This works only with the new atlas spkg (4.7.2.alpha3+)



---

archive/issue_comments_105818.json:
```json
{
    "body": "AVX is just the CPU instruction set extension du jour. The version of ATLAS that we are shipping knows nothing about AVX. All 2011 sandy bridge cpus have it, irrespective of on-board graphics.",
    "created_at": "2011-09-21T16:51:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105818",
    "user": "https://github.com/vbraun"
}
```

AVX is just the CPU instruction set extension du jour. The version of ATLAS that we are shipping knows nothing about AVX. All 2011 sandy bridge cpus have it, irrespective of on-board graphics.



---

archive/issue_comments_105819.json:
```json
{
    "body": "Replying to [comment:71 vbraun]:\n> AVX is just the CPU instruction set extension du jour. The version of ATLAS that we are shipping knows nothing about AVX.\n\n\nAha. Wasn't sure about that. But does 3.8.4 \"know\" Sandy Brigde already?\n\n\n\n\n> All 2011 sandy bridge cpus have it, irrespective of on-board graphics. \n\n\nThey have it, but you can only use it when the CPU doesn't also act as a GPU. And afaik that's hard-wired, i.e., you even cannot use it if your motherboard has on-board graphics you don't actually use.",
    "created_at": "2011-09-21T17:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105819",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:71 vbraun]:
> AVX is just the CPU instruction set extension du jour. The version of ATLAS that we are shipping knows nothing about AVX.


Aha. Wasn't sure about that. But does 3.8.4 "know" Sandy Brigde already?




> All 2011 sandy bridge cpus have it, irrespective of on-board graphics. 


They have it, but you can only use it when the CPU doesn't also act as a GPU. And afaik that's hard-wired, i.e., you even cannot use it if your motherboard has on-board graphics you don't actually use.



---

archive/issue_comments_105820.json:
```json
{
    "body": "Replying to [comment:70 vbraun]:\n> This works only with the new atlas spkg (4.7.2.alpha3+)\n\n\nI guess you meant alpha**2**+.\n\nApparently alpha2 in contrast did **not** segfault for Rob (on that machine), despite having **the same** ATLAS spkg. At least that's my understanding.",
    "created_at": "2011-09-21T17:13:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105820",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:70 vbraun]:
> This works only with the new atlas spkg (4.7.2.alpha3+)


I guess you meant alpha**2**+.

Apparently alpha2 in contrast did **not** segfault for Rob (on that machine), despite having **the same** ATLAS spkg. At least that's my understanding.



---

archive/issue_comments_105821.json:
```json
{
    "body": "Oh yes, it was merged in alpha2. \n\nThis is now completely OT, but my (Sandy Bridge) Thinkpad W520 uses the on-board GPU and has AVX:\n\n```sh\n\n[vbraun@volker-laptop-two ~]$ cat /proc/cpuinfo | head -24\nprocessor\t: 0\nvendor_id\t: GenuineIntel\ncpu family\t: 6\nmodel\t\t: 42\nmodel name\t: Intel(R) Core(TM) i7-2720QM CPU @ 2.20GHz\nstepping\t: 7\ncpu MHz\t\t: 2201.000\ncache size\t: 6144 KB\nphysical id\t: 0\nsiblings\t: 8\ncore id\t\t: 0\ncpu cores\t: 4\napicid\t\t: 0\ninitial apicid\t: 0\nfpu\t\t: yes\nfpu_exception\t: yes\ncpuid level\t: 13\nwp\t\t: yes\nflags\t\t: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology nonstop_tsc aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 x2apic popcnt aes xsave avx lahf_lm ida arat epb xsaveopt pln pts dts tpr_shadow vnmi flexpriority ept vpid\nbogomips\t: 4385.92\nclflush size\t: 64\ncache_alignment\t: 64\naddress sizes\t: 36 bits physical, 48 bits virtual\npower management:\n```",
    "created_at": "2011-09-21T17:16:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105821",
    "user": "https://github.com/vbraun"
}
```

Oh yes, it was merged in alpha2. 

This is now completely OT, but my (Sandy Bridge) Thinkpad W520 uses the on-board GPU and has AVX:

```sh

[vbraun@volker-laptop-two ~]$ cat /proc/cpuinfo | head -24
processor	: 0
vendor_id	: GenuineIntel
cpu family	: 6
model		: 42
model name	: Intel(R) Core(TM) i7-2720QM CPU @ 2.20GHz
stepping	: 7
cpu MHz		: 2201.000
cache size	: 6144 KB
physical id	: 0
siblings	: 8
core id		: 0
cpu cores	: 4
apicid		: 0
initial apicid	: 0
fpu		: yes
fpu_exception	: yes
cpuid level	: 13
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology nonstop_tsc aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 x2apic popcnt aes xsave avx lahf_lm ida arat epb xsaveopt pln pts dts tpr_shadow vnmi flexpriority ept vpid
bogomips	: 4385.92
clflush size	: 64
cache_alignment	: 64
address sizes	: 36 bits physical, 48 bits virtual
power management:
```



---

archive/issue_comments_105822.json:
```json
{
    "body": "Leif and Volker,\n\nThanks for the quick help, and I apologize to the group theorists for diverting this ticket.  I've got to attend to some other things the rest of today, but I'll see if I can get the symlinks in place with guidance from that bug report.\n\nI have Sandy Bridge with no on-board graphics.  I have built and tested alpha2 - this is my first problem like this.\n\nRob",
    "created_at": "2011-09-21T17:27:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105822",
    "user": "https://github.com/rbeezer"
}
```

Leif and Volker,

Thanks for the quick help, and I apologize to the group theorists for diverting this ticket.  I've got to attend to some other things the rest of today, but I'll see if I can get the symlinks in place with guidance from that bug report.

I have Sandy Bridge with no on-board graphics.  I have built and tested alpha2 - this is my first problem like this.

Rob



---

archive/issue_comments_105823.json:
```json
{
    "body": "Replying to [comment:75 rbeezer]:\n> Leif and Volker,\n> \n> Thanks for the quick help, and I apologize to the group theorists for diverting this ticket.\n\n\nYep, we can continue the discussion on e.g. [this sage-release thread](http://groups.google.com/group/sage-release/browse_thread/thread/e52a7d9593d50da5#), or -- preferably -- a new one there.",
    "created_at": "2011-09-21T19:22:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105823",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:75 rbeezer]:
> Leif and Volker,
> 
> Thanks for the quick help, and I apologize to the group theorists for diverting this ticket.


Yep, we can continue the discussion on e.g. [this sage-release thread](http://groups.google.com/group/sage-release/browse_thread/thread/e52a7d9593d50da5#), or -- preferably -- a new one there.



---

archive/issue_comments_105824.json:
```json
{
    "body": "alpha3 prerelease build is fixed and passes long tests, with and without this rebased patch.  To quote William \"merge that sucker\"!  In other words, positive review.\n\nSecond line of patch summary message credits Jason Hill - I'll add him to the authors, and Mike's name is still on the main patch.\n\nDavid - feel free to cc me on any of the follow-on tickets that might need review, especially if they are cosmetic changes.  I have not yet looked at them at all.\n\nLeif - thanks for your attention to this one and help with my build challenges.\n\nEverybody else - my apologies again for getting this ticket off the tracks.  I need to post a summary on sage-release.\n\nRob",
    "created_at": "2011-09-22T15:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105824",
    "user": "https://github.com/rbeezer"
}
```

alpha3 prerelease build is fixed and passes long tests, with and without this rebased patch.  To quote William "merge that sucker"!  In other words, positive review.

Second line of patch summary message credits Jason Hill - I'll add him to the authors, and Mike's name is still on the main patch.

David - feel free to cc me on any of the follow-on tickets that might need review, especially if they are cosmetic changes.  I have not yet looked at them at all.

Leif - thanks for your attention to this one and help with my build challenges.

Everybody else - my apologies again for getting this ticket off the tracks.  I need to post a summary on sage-release.

Rob



---

archive/issue_comments_105825.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-09-22T15:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105825",
    "user": "https://github.com/rbeezer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_105826.json:
```json
{
    "body": "Hi Rob,\n\nThanks for the review! I have tested the two tickets that follow on directly from this (#11422 and #11598) and they apply fine and pass doctests, so no futher reviewing is needed; I'm going to move them back to the 4.7.2 milestone (from \"sage-pending\"). \n\nRegards, David",
    "created_at": "2011-09-22T15:22:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105826",
    "user": "https://github.com/loefflerd"
}
```

Hi Rob,

Thanks for the review! I have tested the two tickets that follow on directly from this (#11422 and #11598) and they apply fine and pass doctests, so no futher reviewing is needed; I'm going to move them back to the 4.7.2 milestone (from "sage-pending"). 

Regards, David



---

archive/issue_comments_105827.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-09-27T17:43:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105827",
    "user": "https://github.com/nexttime"
}
```

Resolution: fixed



---

archive/issue_events_026586.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-27T17:43:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10335#event-26586"
}
```



---

archive/issue_comments_105828.json:
```json
{
    "body": "Hello and sorry to add a comment on a closed ticket. I have a patch which depend on it and the patchbot try to apply 2 patches instead one here.\n\napply trac_10335-permgroup_domain-rebase.patch",
    "created_at": "2011-10-19T18:48:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10335#issuecomment-105828",
    "user": "https://trac.sagemath.org/admin/accounts/users/nborie"
}
```

Hello and sorry to add a comment on a closed ticket. I have a patch which depend on it and the patchbot try to apply 2 patches instead one here.

apply trac_10335-permgroup_domain-rebase.patch
