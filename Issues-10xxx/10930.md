# Issue 10930: principal and exponential specializations for symmetric functions

archive/issues_010852.json:
```json
{
    "body": "With this patch, you can now do:\n\n```\nsage: s = SymmetricFunctions(QQ).s()\nsage: x = s[2,2,1]\nsage: x.principal_specialization()\n-q^4/(q^11 - 2*q^10 + q^8 + 2*q^6 - 2*q^5 - q^3 + 2*q - 1)\nsage: x.principal_specialization(n=4)\nq^11 + 2*q^10 + 3*q^9 + 4*q^8 + 4*q^7 + 3*q^6 + 2*q^5 + q^4\nsage: x.exponential_specialization()\n1/24*t^5\nsage: x.exponential_specialization(q=QQ[\"q\"].gen())\n(q^4/(q^6 + 3*q^5 + 5*q^4 + 6*q^3 + 5*q^2 + 3*q + 1))*t^5\n```\n\nImplement  the principal and exponential specializations for symmetric functions as given in Stanley, Enumerative Combinatorics, Section 7.8.\n\nAssignee: @mantepse\n\nCC:  @jbandlow @zabrocki @tscrim @darijgr\n\nKeywords: principal specialization, exponential specialization, symmetric functions\n\nBranch/Commit: cf9e0f2802032941595f0b25b9d090da04939bfa\n\nReviewer: Darij Grinberg, Mike Zabrocki\n\nAuthor: Martin Rubey\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/10930\n\n",
    "closed_at": "2020-05-31T08:48:51Z",
    "created_at": "2011-03-14T08:19:49Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "principal and exponential specializations for symmetric functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10930",
    "user": "https://github.com/mantepse"
}
```
With this patch, you can now do:

```
sage: s = SymmetricFunctions(QQ).s()
sage: x = s[2,2,1]
sage: x.principal_specialization()
-q^4/(q^11 - 2*q^10 + q^8 + 2*q^6 - 2*q^5 - q^3 + 2*q - 1)
sage: x.principal_specialization(n=4)
q^11 + 2*q^10 + 3*q^9 + 4*q^8 + 4*q^7 + 3*q^6 + 2*q^5 + q^4
sage: x.exponential_specialization()
1/24*t^5
sage: x.exponential_specialization(q=QQ["q"].gen())
(q^4/(q^6 + 3*q^5 + 5*q^4 + 6*q^3 + 5*q^2 + 3*q + 1))*t^5
```

Implement  the principal and exponential specializations for symmetric functions as given in Stanley, Enumerative Combinatorics, Section 7.8.

Assignee: @mantepse

CC:  @jbandlow @zabrocki @tscrim @darijgr

Keywords: principal specialization, exponential specialization, symmetric functions

Branch/Commit: cf9e0f2802032941595f0b25b9d090da04939bfa

Reviewer: Darij Grinberg, Mike Zabrocki

Author: Martin Rubey

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/10930





---

archive/issue_comments_137263.json:
```json
{
    "body": "patch for principal and exponential specialization",
    "created_at": "2011-03-14T08:20:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137263",
    "user": "https://github.com/mantepse"
}
```

patch for principal and exponential specialization



---

archive/issue_comments_137264.json:
```json
{
    "body": "Changing assignee from tbd to @mantepse.",
    "created_at": "2011-03-14T10:05:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137264",
    "user": "https://github.com/mantepse"
}
```

Changing assignee from tbd to @mantepse.



---

archive/issue_comments_137265.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [sf_principal_specialization-mr.patch](tarball://root/attachments/some-uuid/ticket10930/sf_principal_specialization-mr.patch) by @mantepse created at 2011-03-14 10:05:51",
    "created_at": "2011-03-14T10:05:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137265",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:1'></a>
Attachment [sf_principal_specialization-mr.patch](tarball://root/attachments/some-uuid/ticket10930/sf_principal_specialization-mr.patch) by @mantepse created at 2011-03-14 10:05:51



---

archive/issue_comments_137266.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,16 @@\n-This patch implements the principal and exponential specialisations for symmetric functions as given in Stanley, Enumerative Combinatorics, Section 7.8.\n+This patch -- in the combinat queue:\n+\n+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/sf_principal_specialization-mr.patch\n+\n+implements the principal and exponential specialisations for symmetric functions as given in Stanley, Enumerative Combinatorics, Section 7.8.\n \n Unfortunately, the patch currently has several problems:\n+\n 1) it seems that always the default code in sf/sfa.py is called, I don't know why\n+\n 2) I do not know how to give the desired default argument 1 the correct type in exponential_specialization\n+\n 3) I guess one should rather implement this for quasi-symmetric functions, but I do not know enough about these currently\n+\n 4) the documentation and sensible tests are still missing\n \n``````\n",
    "created_at": "2011-03-14T10:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137266",
    "user": "https://github.com/mantepse"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,16 @@
-This patch implements the principal and exponential specialisations for symmetric functions as given in Stanley, Enumerative Combinatorics, Section 7.8.
+This patch -- in the combinat queue:
+
+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/sf_principal_specialization-mr.patch
+
+implements the principal and exponential specialisations for symmetric functions as given in Stanley, Enumerative Combinatorics, Section 7.8.
 
 Unfortunately, the patch currently has several problems:
+
 1) it seems that always the default code in sf/sfa.py is called, I don't know why
+
 2) I do not know how to give the desired default argument 1 the correct type in exponential_specialization
+
 3) I guess one should rather implement this for quasi-symmetric functions, but I do not know enough about these currently
+
 4) the documentation and sensible tests are still missing
 
``````




---

archive/issue_comments_137267.json:
```json
{
    "body": "<a id='comment:4'></a>\nHi Martin,\n\nThanks submitting this!  A quick response to your points above.  I'm not sure what you mean by point (1)... can you elaborate?\n\nFor point (2), you can use None as the default value, and then do\n\n```\n    if q is None:\n        q = self.parent().base_ring().one()\n```\nas the first line of your code.\n\nFor point (3), quasisymmetric functions are still somewhat immature--in particular they are not in Sage proper. So this is not too big of a concern.\n\nFor point (4), yes, there should be more doc and tests.  In particular, I find tests like\n\n```\n    all( e[mu].principal_specialization(4) == e[mu].expand(4)(1,q,q^2,q^3) for mu in Partitions(4) )\n```\nparticularly convincing.",
    "created_at": "2011-03-14T17:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137267",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:4'></a>
Hi Martin,

Thanks submitting this!  A quick response to your points above.  I'm not sure what you mean by point (1)... can you elaborate?

For point (2), you can use None as the default value, and then do

```
    if q is None:
        q = self.parent().base_ring().one()
```
as the first line of your code.

For point (3), quasisymmetric functions are still somewhat immature--in particular they are not in Sage proper. So this is not too big of a concern.

For point (4), yes, there should be more doc and tests.  In particular, I find tests like

```
    all( e[mu].principal_specialization(4) == e[mu].expand(4)(1,q,q^2,q^3) for mu in Partitions(4) )
```
particularly convincing.



---

archive/issue_comments_137268.json:
```json
{
    "body": "<a id='comment:5'></a>\nHi Jason!\n\nMany thanks for your quick comments.\n\n1) Using trace I find\n\n```\nsage: S = SymmetricFunctions(QQ); s=S.s(); f = s[2,1]\nsage: trace(\"f.principal_specialization()\")\n> <string>(1)<module>()\n\nipdb> s\n--Call--\n> /home/martin/SAGE/local/lib/python2.6/site-packages/sage/combinat/sf/sfa.py(1653)principal_specialization()\n   1652 \n-> 1653     def principal_specialization(self, n=infinity, q=var('q')):\n   1654         r\"\"\"\n\nipdb> s\n> /home/martin/SAGE/local/lib/python2.6/site-packages/sage/combinat/sf/sfa.py(1681)principal_specialization()\n   1680         \"\"\"\n-> 1681         from sage.combinat.sf.sf import SymmetricFunctions\n   1682         p = SymmetricFunctions(self.parent().base_ring()).p()\n\nipdb> \n```\nbut I was hoping that the principal specialisation from schur.py would be called.\n\n2) Well, currently the actual value of 1 is not used at all (I test q==1 and call principal_specialization without passing q).  So my question really is: some day somebody might implement something where the q is actually used.  Is it better then if the default is None and the doc says, None should always mean one?\n\nThanks again!",
    "created_at": "2011-03-15T07:32:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137268",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:5'></a>
Hi Jason!

Many thanks for your quick comments.

1) Using trace I find

```
sage: S = SymmetricFunctions(QQ); s=S.s(); f = s[2,1]
sage: trace("f.principal_specialization()")
> <string>(1)<module>()

ipdb> s
--Call--
> /home/martin/SAGE/local/lib/python2.6/site-packages/sage/combinat/sf/sfa.py(1653)principal_specialization()
   1652 
-> 1653     def principal_specialization(self, n=infinity, q=var('q')):
   1654         r"""

ipdb> s
> /home/martin/SAGE/local/lib/python2.6/site-packages/sage/combinat/sf/sfa.py(1681)principal_specialization()
   1680         """
-> 1681         from sage.combinat.sf.sf import SymmetricFunctions
   1682         p = SymmetricFunctions(self.parent().base_ring()).p()

ipdb> 
```
but I was hoping that the principal specialisation from schur.py would be called.

2) Well, currently the actual value of 1 is not used at all (I test q==1 and call principal_specialization without passing q).  So my question really is: some day somebody might implement something where the q is actually used.  Is it better then if the default is None and the doc says, None should always mean one?

Thanks again!



---

archive/issue_comments_137269.json:
```json
{
    "body": "<a id='comment:6'></a>\nI fixed indenting, bugs and added documentation and tests.  Feedback welcome!",
    "created_at": "2011-03-19T19:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137269",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'></a>
I fixed indenting, bugs and added documentation and tests.  Feedback welcome!



---

archive/issue_comments_137270.json:
```json
{
    "body": "<a id='comment:7'></a>\nHi Martin, a few more points:\n\n1) If I'm not mistaken, the function f in the exponential_specialization code for Schur functions is returning the product of the hooks of partition. This can also be done with ` Partition(partition).hook_product(1) `\n\n2) You do not give the result of the test in line 275 of the Schur function code.\n\n3) See [this](http://groups.google.com/group/sage-devel/t/f5a9c012f6299a9e) and make sure that your patch satisfies these criteria. Please ask the sage-combinat list if you have any questions about these.\n\n4) Once you have completed all of this, mark the patch as 'Needs Review' (by clicking the button at the bottom of the page). Then the 'Patchbot' will automatically apply and test your code.\n\nAgain, many thanks for your good work!",
    "created_at": "2011-03-28T18:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137270",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:7'></a>
Hi Martin, a few more points:

1) If I'm not mistaken, the function f in the exponential_specialization code for Schur functions is returning the product of the hooks of partition. This can also be done with ` Partition(partition).hook_product(1) `

2) You do not give the result of the test in line 275 of the Schur function code.

3) See [this](http://groups.google.com/group/sage-devel/t/f5a9c012f6299a9e) and make sure that your patch satisfies these criteria. Please ask the sage-combinat list if you have any questions about these.

4) Once you have completed all of this, mark the patch as 'Needs Review' (by clicking the button at the bottom of the page). Then the 'Patchbot' will automatically apply and test your code.

Again, many thanks for your good work!



---

archive/issue_comments_137271.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [jbandlow](#comment%3A7):\n\nJason, might it be that you were looking on a different version of the patch?  There is no exponential_specialization for Schur functions (I use the generic version) and there is no test in line 275...\n\nOn the other hand, I just noticed several other problems with the code.  Eg., ` s[1].exponential_specialization() ` doesn't work right now.  I also should include tests for calling without any arguments...",
    "created_at": "2011-03-29T07:02:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137271",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:8'></a>
Replying to [jbandlow](#comment%3A7):

Jason, might it be that you were looking on a different version of the patch?  There is no exponential_specialization for Schur functions (I use the generic version) and there is no test in line 275...

On the other hand, I just noticed several other problems with the code.  Eg., ` s[1].exponential_specialization() ` doesn't work right now.  I also should include tests for calling without any arguments...



---

archive/issue_comments_137272.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [mantepse](#comment%3A8):\n\nHi Martin,\n\nSorry for the delay. Yes I was looking at the wrong version of the patch last time. Everything on the combinat queue now looks good to me. I think that all that is left is for you to prepare the patch for sage as mentioned in my point (3) above.",
    "created_at": "2011-04-04T13:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137272",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:9'></a>
Replying to [mantepse](#comment%3A8):

Hi Martin,

Sorry for the delay. Yes I was looking at the wrong version of the patch last time. Everything on the combinat queue now looks good to me. I think that all that is left is for you to prepare the patch for sage as mentioned in my point (3) above.



---

archive/issue_events_041411.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41411"
}
```



---

archive/issue_events_041412.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41412"
}
```



---

archive/issue_events_041413.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41413"
}
```



---

archive/issue_events_041414.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41414"
}
```



---

archive/issue_events_041415.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41415"
}
```



---

archive/issue_events_041416.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41416"
}
```



---

archive/issue_events_041417.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41417"
}
```



---

archive/issue_comments_137273.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mantepse/specializations_for_symmetric_functions\"",
    "created_at": "2019-04-03T00:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137273",
    "user": "https://github.com/mantepse"
}
```

Changing branch from "" to "u/mantepse/specializations_for_symmetric_functions"



---

archive/issue_comments_137274.json:
```json
{
    "body": "Changing commit from \"\" to \"366774b1099cb93ef6c168d66605af20daff32eb\"",
    "created_at": "2019-04-03T00:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137274",
    "user": "https://github.com/mantepse"
}
```

Changing commit from "" to "366774b1099cb93ef6c168d66605af20daff32eb"



---

archive/issue_comments_137275.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-04-03T00:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137275",
    "user": "https://github.com/mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_137276.json:
```json
{
    "body": "<a id='comment:15'></a>\nNew commits:\n|                                                                                                                                          |                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[366774b](https://github.com/sagemath/sagetrac-mirror/commit/366774b1099cb93ef6c168d66605af20daff32eb)|`rebase and correct`|",
    "created_at": "2019-04-03T00:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137276",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:15'></a>
New commits:
|                                                                                                                                          |                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[366774b](https://github.com/sagemath/sagetrac-mirror/commit/366774b1099cb93ef6c168d66605af20daff32eb)|`rebase and correct`|



---

archive/issue_comments_137277.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,24 @@\n+Eight years having passed, it might be time to finish this.  I added tests that discovered a dozen glitches, and fixed them all.\n+\n+With this patch, you can now do:\n+\n+```\n+sage: s = SymmetricFunctions(QQ).s()\n+sage: x = s[2,2,1]\n+sage: x.principal_specialization()\n+-q^4/(q^11 - 2*q^10 + q^8 + 2*q^6 - 2*q^5 - q^3 + 2*q - 1)\n+sage: x.principal_specialization(q=var(\"q\"))\n+-q^4/((q^4 - 1)*(q^3 - 1)*(q^2 - 1)*(q - 1)^2)\n+sage: x.principal_specialization(n=4, q=var(\"q\"))\n+(q^5 - 1)*(q^4 - 1)*q^4/(q - 1)^2\n+sage: x.exponential_specialization()\n+1/24*t^5\n+sage: x.exponential_specialization(q=QQ[\"q\"].gen())\n+(q^4/(q^6 + 3*q^5 + 5*q^4 + 6*q^3 + 5*q^2 + 3*q + 1))*t^5\n+```\n+\n+old description:\n+\n This patch -- in the combinat queue:\n \n http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/sf_principal_specialization-mr.patch\n``````\n",
    "created_at": "2019-04-03T00:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137277",
    "user": "https://github.com/mantepse"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,24 @@
+Eight years having passed, it might be time to finish this.  I added tests that discovered a dozen glitches, and fixed them all.
+
+With this patch, you can now do:
+
+```
+sage: s = SymmetricFunctions(QQ).s()
+sage: x = s[2,2,1]
+sage: x.principal_specialization()
+-q^4/(q^11 - 2*q^10 + q^8 + 2*q^6 - 2*q^5 - q^3 + 2*q - 1)
+sage: x.principal_specialization(q=var("q"))
+-q^4/((q^4 - 1)*(q^3 - 1)*(q^2 - 1)*(q - 1)^2)
+sage: x.principal_specialization(n=4, q=var("q"))
+(q^5 - 1)*(q^4 - 1)*q^4/(q - 1)^2
+sage: x.exponential_specialization()
+1/24*t^5
+sage: x.exponential_specialization(q=QQ["q"].gen())
+(q^4/(q^6 + 3*q^5 + 5*q^4 + 6*q^3 + 5*q^2 + 3*q + 1))*t^5
+```
+
+old description:
+
 This patch -- in the combinat queue:
 
 http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/sf_principal_specialization-mr.patch
``````




---

archive/issue_comments_137278.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|\n|[1784ac6](https://github.com/sagemath/sagetrac-mirror/commit/1784ac6b8908d23bcaead9498a566fbde4eb1ed6)|`fix doctests`|",
    "created_at": "2019-04-03T08:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|
|[1784ac6](https://github.com/sagemath/sagetrac-mirror/commit/1784ac6b8908d23bcaead9498a566fbde4eb1ed6)|`fix doctests`|



---

archive/issue_comments_137279.json:
```json
{
    "body": "Changing commit from \"366774b1099cb93ef6c168d66605af20daff32eb\" to \"1784ac6b8908d23bcaead9498a566fbde4eb1ed6\"",
    "created_at": "2019-04-03T08:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137279",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "366774b1099cb93ef6c168d66605af20daff32eb" to "1784ac6b8908d23bcaead9498a566fbde4eb1ed6"



---

archive/issue_comments_137280.json:
```json
{
    "body": "<a id='comment:18'></a>\nYour description of the definition of `principle_specialization` is clear, but all of your `exponential_specialization` functions need a description.\nThe one place that you have a description, it doesn't make sense to me because you seem to explain q-exponential_specialization, but not exponential_specialization and they don't clearly seem to be compatible by setting q=1.  It wouldn't hurt to add a reference to the definition in the documentation either.",
    "created_at": "2019-04-15T16:16:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137280",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:18'></a>
Your description of the definition of `principle_specialization` is clear, but all of your `exponential_specialization` functions need a description.
The one place that you have a description, it doesn't make sense to me because you seem to explain q-exponential_specialization, but not exponential_specialization and they don't clearly seem to be compatible by setting q=1.  It wouldn't hurt to add a reference to the definition in the documentation either.



---

archive/issue_comments_137281.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-04-15T16:16:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137281",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_137282.json:
```json
{
    "body": "Changing commit from \"1784ac6b8908d23bcaead9498a566fbde4eb1ed6\" to \"309e5da091cfc4e31ed7b9e207d1c8971ef1a98a\"",
    "created_at": "2019-04-15T17:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1784ac6b8908d23bcaead9498a566fbde4eb1ed6" to "309e5da091cfc4e31ed7b9e207d1c8971ef1a98a"



---

archive/issue_comments_137283.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|\n|[309e5da](https://github.com/sagemath/sagetrac-mirror/commit/309e5da091cfc4e31ed7b9e207d1c8971ef1a98a)|`add documentation`|",
    "created_at": "2019-04-15T17:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137283",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
|[309e5da](https://github.com/sagemath/sagetrac-mirror/commit/309e5da091cfc4e31ed7b9e207d1c8971ef1a98a)|`add documentation`|



---

archive/issue_comments_137284.json:
```json
{
    "body": "<a id='comment:20'></a>\nThank you, that was an oversight.  I hope it is better now!",
    "created_at": "2019-04-15T17:28:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137284",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:20'></a>
Thank you, that was an oversight.  I hope it is better now!



---

archive/issue_events_041418.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2019-04-15T18:50:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41418"
}
```



---

archive/issue_events_041419.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2019-04-15T18:50:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41419"
}
```



---

archive/issue_comments_137285.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-04-15T18:50:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137285",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_137286.json:
```json
{
    "body": "<a id='comment:23'></a>\nMoving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137286",
    "user": "https://github.com/embray"
}
```

<a id='comment:23'></a>
Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_events_041420.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41420"
}
```



---

archive/issue_events_041421.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41421"
}
```



---

archive/issue_comments_137287.json:
```json
{
    "body": "<a id='comment:24'></a>\nping?",
    "created_at": "2019-11-29T14:13:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137287",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:24'></a>
ping?



---

archive/issue_comments_137288.json:
```json
{
    "body": "<a id='comment:25'></a>\nI think that this needs to be more compatible with Hall-Littlewood and Macdonald symmetric functions because this seems to be one place that they might be used.  If the base ring already has a q in it, this creates an expression with two q's.\n\n```\nsage: Ht = SymmetricFunctions(QQ['q,t'].fraction_field()).macdonald().Ht()\nsage: Ht[2].principal_specialization()\n(q*q + 1)/(q^3 - q^2 - q + 1)\nsage: _.parent()\nFraction Field of Univariate Polynomial Ring in q over Fraction Field of Multivariate Polynomial Ring in q, t over Rational Field\n```\nand I think that is wrong.  What about:\n\n```\ntry:\n    q = self.base_ring()('q')\nexcept:\n    q = self.base_ring()[\"q\"].fraction_field().gen()\n```\nCurrently in 'powersum.py' you have just the last line.\n\nAlso maybe should have doc tests comparing the principal specialization to plethysm.\n\n```\nsage: one=f.parent().one()\nsage: f.principal_specialization(q=q)==f(one/(1-q)).coefficient([])\nTrue\nsage: f.principal_specialization(n=4,q=q)==f(one*(1-q^4)/(1-q)).coefficient([])\nTrue\n```",
    "created_at": "2019-12-01T18:22:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137288",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:25'></a>
I think that this needs to be more compatible with Hall-Littlewood and Macdonald symmetric functions because this seems to be one place that they might be used.  If the base ring already has a q in it, this creates an expression with two q's.

```
sage: Ht = SymmetricFunctions(QQ['q,t'].fraction_field()).macdonald().Ht()
sage: Ht[2].principal_specialization()
(q*q + 1)/(q^3 - q^2 - q + 1)
sage: _.parent()
Fraction Field of Univariate Polynomial Ring in q over Fraction Field of Multivariate Polynomial Ring in q, t over Rational Field
```
and I think that is wrong.  What about:

```
try:
    q = self.base_ring()('q')
except:
    q = self.base_ring()["q"].fraction_field().gen()
```
Currently in 'powersum.py' you have just the last line.

Also maybe should have doc tests comparing the principal specialization to plethysm.

```
sage: one=f.parent().one()
sage: f.principal_specialization(q=q)==f(one/(1-q)).coefficient([])
True
sage: f.principal_specialization(n=4,q=q)==f(one*(1-q^4)/(1-q)).coefficient([])
True
```



---

archive/issue_comments_137289.json:
```json
{
    "body": "<a id='comment:26'></a>\nI am not sure I agree with you Mike that the `q` for the principle specialization should be the same `q` as for the Macdonald. For example, at `t=0`, the Macdonald `q` counts the affine grading whereas the principle specialization `q` counts the principle grading after restricting to a finite-type representation. Because of this, I feel they should be different variables (and I would try to have a different name, perhaps `q1`, if `'q' in self.base_ring().variable_names_recursive()`). Could you explain more why do you think they should be the same `q`?",
    "created_at": "2019-12-01T21:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137289",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:26'></a>
I am not sure I agree with you Mike that the `q` for the principle specialization should be the same `q` as for the Macdonald. For example, at `t=0`, the Macdonald `q` counts the affine grading whereas the principle specialization `q` counts the principle grading after restricting to a finite-type representation. Because of this, I feel they should be different variables (and I would try to have a different name, perhaps `q1`, if `'q' in self.base_ring().variable_names_recursive()`). Could you explain more why do you think they should be the same `q`?



---

archive/issue_comments_137290.json:
```json
{
    "body": "<a id='comment:27'></a>\nI was thinking of applications like The Delta Conjecture (e.g. see Theorem 5.1).  My comment is not specific to Macdonald polynomials though, it was just an example.  Whatever variable you use, if it is in your base ring it seems that you should be using that letter and not adding another copy of it by default.  If you want to use another variable in your specialization you can always add one.",
    "created_at": "2019-12-01T22:27:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137290",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:27'></a>
I was thinking of applications like The Delta Conjecture (e.g. see Theorem 5.1).  My comment is not specific to Macdonald polynomials though, it was just an example.  Whatever variable you use, if it is in your base ring it seems that you should be using that letter and not adding another copy of it by default.  If you want to use another variable in your specialization you can always add one.



---

archive/issue_comments_137291.json:
```json
{
    "body": "<a id='comment:28'></a>\nI see. I think that violates the principle of least surprise: someone trying this method changes the variable in their base ring and suddenly the polynomial behaves differently. If you really wanted that base ring variable, then I think you should pass it as a parameter. So if you want a different variable name, then we should change the default name if q is already on the base ring.",
    "created_at": "2019-12-02T02:02:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137291",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>
I see. I think that violates the principle of least surprise: someone trying this method changes the variable in their base ring and suddenly the polynomial behaves differently. If you really wanted that base ring variable, then I think you should pass it as a parameter. So if you want a different variable name, then we should change the default name if q is already on the base ring.



---

archive/issue_comments_137292.json:
```json
{
    "body": "<a id='comment:29'></a>\nFrom my understanding what you are saying you are recommending behavior like:\n\n```\nsage: SymmetricFunctions(QQ).s()[1].principal_specialization()\n1/(1-q)\nsage: SymmetricFunctions(SR).s()[1].principal_specialization()\n1/(1-z)\n```",
    "created_at": "2019-12-02T03:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137292",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:29'></a>
From my understanding what you are saying you are recommending behavior like:

```
sage: SymmetricFunctions(QQ).s()[1].principal_specialization()
1/(1-q)
sage: SymmetricFunctions(SR).s()[1].principal_specialization()
1/(1-z)
```



---

archive/issue_comments_137293.json:
```json
{
    "body": "<a id='comment:30'></a>\nI think it is in the long run more user friendly, if the rule that determines which name is used for a variable, or whether a symbol is actually reused, is as simple and predictable as possible.  Therefore I would be rather against a \"renaming\" rule.",
    "created_at": "2019-12-02T06:56:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137293",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:30'></a>
I think it is in the long run more user friendly, if the rule that determines which name is used for a variable, or whether a symbol is actually reused, is as simple and predictable as possible.  Therefore I would be rather against a "renaming" rule.



---

archive/issue_comments_137294.json:
```json
{
    "body": "<a id='comment:31'></a>\nSo you would rather it be a part of the base ring then Martin? Or same name (with possibly repeated variable name)?",
    "created_at": "2019-12-02T22:44:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137294",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:31'></a>
So you would rather it be a part of the base ring then Martin? Or same name (with possibly repeated variable name)?



---

archive/issue_comments_137295.json:
```json
{
    "body": "<a id='comment:32'></a>\nI don't mind either way.  I guess that having two q's which are different in one expression is more likely to be overlooked, so I guess that checking whether q is there is less bad.  I would think that even the casual user might be aware that the base ring contains a q.\n\nIs this OK for you?\n\nA question: it turns out that the explicit `fraction_field()` in \n\n```\ntry:\n    q = self.base_ring()('q')\nexcept:\n    q = self.base_ring()[\"q\"].fraction_field().gen()\n```\nis unnecessary.  Should I keep it anyway?",
    "created_at": "2019-12-03T06:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137295",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:32'></a>
I don't mind either way.  I guess that having two q's which are different in one expression is more likely to be overlooked, so I guess that checking whether q is there is less bad.  I would think that even the casual user might be aware that the base ring contains a q.

Is this OK for you?

A question: it turns out that the explicit `fraction_field()` in 

```
try:
    q = self.base_ring()('q')
except:
    q = self.base_ring()["q"].fraction_field().gen()
```
is unnecessary.  Should I keep it anyway?



---

archive/issue_comments_137296.json:
```json
{
    "body": "<a id='comment:33'></a>\nIf you are visually looking at output, then I agree, but if you are programming something, then it will break if you are doing something assuming that the output is a univariate polynomial ring. It is also much easier for the user to pass in the `q` of the base ring than to create a new polynomial ring with the variable.\n\nPerhaps as a compromise, we raise an error if there is no `q` given but `q` is a variable name in the base ring? This is clearly the safest option, and it requires the user to know exactly what they are doing.\n\nAlso, I agree with removing the `fraction_field` since it is unnecessary.",
    "created_at": "2019-12-03T10:54:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137296",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:33'></a>
If you are visually looking at output, then I agree, but if you are programming something, then it will break if you are doing something assuming that the output is a univariate polynomial ring. It is also much easier for the user to pass in the `q` of the base ring than to create a new polynomial ring with the variable.

Perhaps as a compromise, we raise an error if there is no `q` given but `q` is a variable name in the base ring? This is clearly the safest option, and it requires the user to know exactly what they are doing.

Also, I agree with removing the `fraction_field` since it is unnecessary.



---

archive/issue_comments_137297.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [tscrim](#comment%3A33):\n> If you are visually looking at output, then I agree, but if you are programming something, then it will break if you are doing something assuming that the output is a univariate polynomial ring. It is also much easier for the user to pass in the `q` of the base ring than to create a new polynomial ring with the variable.\n\n\nI agree!\n\n> Perhaps as a compromise, we raise an error if there is no `q` given but `q` is a variable name in the base ring? This is clearly the safest option, and it requires the user to know exactly what they are doing.\n\n\nI think that is an excellent idea!\n\n> Also, I agree with removing the `fraction_field` since it is unnecessary.\n\n\nwill do.",
    "created_at": "2019-12-03T13:05:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137297",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:34'></a>
Replying to [tscrim](#comment%3A33):
> If you are visually looking at output, then I agree, but if you are programming something, then it will break if you are doing something assuming that the output is a univariate polynomial ring. It is also much easier for the user to pass in the `q` of the base ring than to create a new polynomial ring with the variable.


I agree!

> Perhaps as a compromise, we raise an error if there is no `q` given but `q` is a variable name in the base ring? This is clearly the safest option, and it requires the user to know exactly what they are doing.


I think that is an excellent idea!

> Also, I agree with removing the `fraction_field` since it is unnecessary.


will do.



---

archive/issue_comments_137298.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------|\n|[3934475](https://github.com/sagemath/sagetrac-mirror/commit/393447511fb7bcd1ffcd35b65e6b113d5e1f14d7)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/10930/specializations_for_symmetric_functions`|",
    "created_at": "2019-12-03T13:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137298",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------|
|[3934475](https://github.com/sagemath/sagetrac-mirror/commit/393447511fb7bcd1ffcd35b65e6b113d5e1f14d7)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/10930/specializations_for_symmetric_functions`|



---

archive/issue_comments_137299.json:
```json
{
    "body": "Changing commit from \"309e5da091cfc4e31ed7b9e207d1c8971ef1a98a\" to \"393447511fb7bcd1ffcd35b65e6b113d5e1f14d7\"",
    "created_at": "2019-12-03T13:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137299",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "309e5da091cfc4e31ed7b9e207d1c8971ef1a98a" to "393447511fb7bcd1ffcd35b65e6b113d5e1f14d7"



---

archive/issue_comments_137300.json:
```json
{
    "body": "<a id='comment:36'></a>\n> > Perhaps as a compromise, we raise an error if there is no `q` given but `q` is a variable name in the base ring? This is clearly the safest option, and it requires the user to know exactly what they \n\nare doing.\n> \n> I think that is an excellent idea!\n\n\nUnfortunately, it doesn't work.  The base ring could be the symbolic ring.",
    "created_at": "2019-12-03T13:42:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137300",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:36'></a>
> > Perhaps as a compromise, we raise an error if there is no `q` given but `q` is a variable name in the base ring? This is clearly the safest option, and it requires the user to know exactly what they 

are doing.
> 
> I think that is an excellent idea!


Unfortunately, it doesn't work.  The base ring could be the symbolic ring.



---

archive/issue_comments_137301.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [mantepse](#comment%3A36):\n> Unfortunately, it doesn't work.  The base ring could be the symbolic ring.\n\n\nWe can treat the symbolic ring as special. What I was think was doing\n\n```python\ntry:\n    if 'q' in self.base_ring().variable_names_recursive():\n        raise ValueError(\"q is already a variable name, so you must give the parameter q\")\n    else:\n        q = self.base_ring()['q'].gen()\nexcept AttributeError:\n    q = self.base_ring()['q'].gen()\n```\nFor this, they symbolic ring would be treated the same as `QQ`, and we would get a univariate polynomial ring over `SR`. The other option is just explicitly test for `self.base_ring() is SR` and just let `q = SR.var('q')`.",
    "created_at": "2019-12-03T21:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137301",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:37'></a>
Replying to [mantepse](#comment%3A36):
> Unfortunately, it doesn't work.  The base ring could be the symbolic ring.


We can treat the symbolic ring as special. What I was think was doing

```python
try:
    if 'q' in self.base_ring().variable_names_recursive():
        raise ValueError("q is already a variable name, so you must give the parameter q")
    else:
        q = self.base_ring()['q'].gen()
except AttributeError:
    q = self.base_ring()['q'].gen()
```
For this, they symbolic ring would be treated the same as `QQ`, and we would get a univariate polynomial ring over `SR`. The other option is just explicitly test for `self.base_ring() is SR` and just let `q = SR.var('q')`.



---

archive/issue_comments_137302.json:
```json
{
    "body": "Changing commit from \"393447511fb7bcd1ffcd35b65e6b113d5e1f14d7\" to \"c5f5b6152de83a6485b2da73a3524f4f1444d669\"",
    "created_at": "2019-12-03T21:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137302",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "393447511fb7bcd1ffcd35b65e6b113d5e1f14d7" to "c5f5b6152de83a6485b2da73a3524f4f1444d669"



---

archive/issue_comments_137303.json:
```json
{
    "body": "<a id='comment:38'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|\n|[c5f5b61](https://github.com/sagemath/sagetrac-mirror/commit/c5f5b6152de83a6485b2da73a3524f4f1444d669)|`raise error if q is in the base ring, add comment about plethysm`|",
    "created_at": "2019-12-03T21:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137303",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
|[c5f5b61](https://github.com/sagemath/sagetrac-mirror/commit/c5f5b6152de83a6485b2da73a3524f4f1444d669)|`raise error if q is in the base ring, add comment about plethysm`|



---

archive/issue_comments_137304.json:
```json
{
    "body": "<a id='comment:39'></a>\nemails crossed :-)\n\nI think it's OK to require q to be passed explicitely for the symbolic ring.  I would rather not test explicitely for `SR`, because it is quite possible to have, for example and some time in future, a polynomial ring which contains all variables.\n\nSince not all rings have `variable_names_recursive`, I simply try to convert \"q\" to a ring element, as Mike proposed.\n\nAre you OK with this version?",
    "created_at": "2019-12-03T21:32:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137304",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:39'></a>
emails crossed :-)

I think it's OK to require q to be passed explicitely for the symbolic ring.  I would rather not test explicitely for `SR`, because it is quite possible to have, for example and some time in future, a polynomial ring which contains all variables.

Since not all rings have `variable_names_recursive`, I simply try to convert "q" to a ring element, as Mike proposed.

Are you OK with this version?



---

archive/issue_comments_137305.json:
```json
{
    "body": "<a id='comment:40'></a>\nThis is acceptable to me. Mike?",
    "created_at": "2019-12-03T21:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137305",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:40'></a>
This is acceptable to me. Mike?



---

archive/issue_comments_137306.json:
```json
{
    "body": "<a id='comment:41'></a>\nI'll need a little time to try it out.  \"explicitely\" is spelled wrong and I want to check that all coercions are correct.\n\nAs long as there is an option to use one of the variables in the ring in case that is what is desired that should be ok.",
    "created_at": "2019-12-04T20:24:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137306",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:41'></a>
I'll need a little time to try it out.  "explicitely" is spelled wrong and I want to check that all coercions are correct.

As long as there is an option to use one of the variables in the ring in case that is what is desired that should be ok.



---

archive/issue_comments_137307.json:
```json
{
    "body": "Changing commit from \"c5f5b6152de83a6485b2da73a3524f4f1444d669\" to \"cff572bcf2428d3f267a9c9272107bca7205d34e\"",
    "created_at": "2019-12-04T21:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137307",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c5f5b6152de83a6485b2da73a3524f4f1444d669" to "cff572bcf2428d3f267a9c9272107bca7205d34e"



---

archive/issue_comments_137308.json:
```json
{
    "body": "<a id='comment:42'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[cff572b](https://github.com/sagemath/sagetrac-mirror/commit/cff572bcf2428d3f267a9c9272107bca7205d34e)|`explicitely -> explicitly`|",
    "created_at": "2019-12-04T21:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137308",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[cff572b](https://github.com/sagemath/sagetrac-mirror/commit/cff572bcf2428d3f267a9c9272107bca7205d34e)|`explicitely -> explicitly`|



---

archive/issue_comments_137309.json:
```json
{
    "body": "<a id='comment:43'></a>\nThanks for spotting the misspelling!  I created ticket #28843 for the other occurrences of \"explicitely\" :-)",
    "created_at": "2019-12-04T22:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137309",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:43'></a>
Thanks for spotting the misspelling!  I created ticket #28843 for the other occurrences of "explicitely" :-)



---

archive/issue_comments_137310.json:
```json
{
    "body": "<a id='comment:44'></a>\nThe startup modules plugin says:\n\n```\n========== startup_modules ==========\ngit checkout patchbot/ticket_merged\n/local/sage-patchbot/sage/sage -c ''\nTotal count: 1687\nNew:\nsage.combinat.q_analogues\n====================\n```\nI am guessing that this happens because I import `q_binomial` and `q_factorial` in `elementary.py` and `homogeneous.py`.  Should I rather import them locally?",
    "created_at": "2019-12-05T06:44:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137310",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:44'></a>
The startup modules plugin says:

```
========== startup_modules ==========
git checkout patchbot/ticket_merged
/local/sage-patchbot/sage/sage -c ''
Total count: 1687
New:
sage.combinat.q_analogues
====================
```
I am guessing that this happens because I import `q_binomial` and `q_factorial` in `elementary.py` and `homogeneous.py`.  Should I rather import them locally?



---

archive/issue_comments_137311.json:
```json
{
    "body": "<a id='comment:45'></a>\nI think it is better to do them locally as I don't see the extra import making a timing difference.",
    "created_at": "2019-12-05T07:28:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137311",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:45'></a>
I think it is better to do them locally as I don't see the extra import making a timing difference.



---

archive/issue_comments_137312.json:
```json
{
    "body": "Changing commit from \"cff572bcf2428d3f267a9c9272107bca7205d34e\" to \"a19c6f588381f6e21a58e1684799e65ee0fa4d56\"",
    "created_at": "2019-12-05T12:51:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cff572bcf2428d3f267a9c9272107bca7205d34e" to "a19c6f588381f6e21a58e1684799e65ee0fa4d56"



---

archive/issue_comments_137313.json:
```json
{
    "body": "<a id='comment:46'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|\n|[a19c6f5](https://github.com/sagemath/sagetrac-mirror/commit/a19c6f588381f6e21a58e1684799e65ee0fa4d56)|`fix default values for eponential specialisation, import q_analogues locally`|",
    "created_at": "2019-12-05T12:51:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:46'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
|[a19c6f5](https://github.com/sagemath/sagetrac-mirror/commit/a19c6f588381f6e21a58e1684799e65ee0fa4d56)|`fix default values for eponential specialisation, import q_analogues locally`|



---

archive/issue_comments_137314.json:
```json
{
    "body": "<a id='comment:47'></a>\nI just noticed that I overlooked the default values for the exponential specialisation.\n\nI factored out the following little helper function, but I do not know where to put it:\n\n```\ndef get_variable(ring, name):\n    try:\n        ring(name)\n    except TypeError:\n        return ring[name].gen()\n    else:\n        raise ValueError(\"the variable %s is in the base ring, pass it explicitly\" % name)\n```\n\nThis could also be used in `theta_qt`:\n\n```\n    def theta_qt(self, q=None, t=None):\n        r\"\"\"\n        Return the image of ``self`` under the `q,t`-deformed theta\n        endomorphism which sends `p_k` to `\\frac{1-q^k}{1-t^k} \\cdot p_k`\n        for all positive integers `k`.\n\n        In general, this is well-defined outside of the powersum basis only\n        if the base ring is a `\\QQ`-algebra.\n\n        INPUT:\n\n        - ``q``, ``t`` -- parameters (default: ``None``, in which case 'q'\n          and 't' are used)\n\n...\n\n        \"\"\"\n        parent = self.parent()\n        BR = parent.base_ring()\n        p = parent.realization_of().power()\n        p_self = p(self)\n        if t is None:\n            if hasattr(parent,\"t\"):\n                t = parent.t\n            else:\n                t = BR(QQ['t'].gen())\n        if q is None:\n            if hasattr(parent,\"q\"):\n                q = parent.q\n            else:\n                q = BR(QQ['q'].gen())\n\n```\n\nsame in `omega_qt`, `nabla`, `scalar_qt`, `scalar_jack`",
    "created_at": "2019-12-05T12:56:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137314",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:47'></a>
I just noticed that I overlooked the default values for the exponential specialisation.

I factored out the following little helper function, but I do not know where to put it:

```
def get_variable(ring, name):
    try:
        ring(name)
    except TypeError:
        return ring[name].gen()
    else:
        raise ValueError("the variable %s is in the base ring, pass it explicitly" % name)
```

This could also be used in `theta_qt`:

```
    def theta_qt(self, q=None, t=None):
        r"""
        Return the image of ``self`` under the `q,t`-deformed theta
        endomorphism which sends `p_k` to `\frac{1-q^k}{1-t^k} \cdot p_k`
        for all positive integers `k`.

        In general, this is well-defined outside of the powersum basis only
        if the base ring is a `\QQ`-algebra.

        INPUT:

        - ``q``, ``t`` -- parameters (default: ``None``, in which case 'q'
          and 't' are used)

...

        """
        parent = self.parent()
        BR = parent.base_ring()
        p = parent.realization_of().power()
        p_self = p(self)
        if t is None:
            if hasattr(parent,"t"):
                t = parent.t
            else:
                t = BR(QQ['t'].gen())
        if q is None:
            if hasattr(parent,"q"):
                q = parent.q
            else:
                q = BR(QQ['q'].gen())

```

same in `omega_qt`, `nabla`, `scalar_qt`, `scalar_jack`



---

archive/issue_comments_137315.json:
```json
{
    "body": "<a id='comment:48'></a>\nNo it can't be.  For `theta_qt` the `q` and the `t` must be in the `base_ring`.",
    "created_at": "2019-12-05T13:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137315",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:48'></a>
No it can't be.  For `theta_qt` the `q` and the `t` must be in the `base_ring`.



---

archive/issue_comments_137316.json:
```json
{
    "body": "<a id='comment:49'></a>\nReplying to [zabrocki](#comment%3A48):\n> No it can't be.  For `theta_qt` the `q` and the `t` must be in the `base_ring`.\n\n\nYou are right, I am sorry.",
    "created_at": "2019-12-05T13:44:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137316",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:49'></a>
Replying to [zabrocki](#comment%3A48):
> No it can't be.  For `theta_qt` the `q` and the `t` must be in the `base_ring`.


You are right, I am sorry.



---

archive/issue_comments_137317.json:
```json
{
    "body": "<a id='comment:50'></a>\nI'm still testing this out but here are some initial comments:\n\n\"specialisation\" -> \"specialization\"\n\nAlso in `exponential_specialization`, I think you should mention \"where `n` is the homogeneous degree of `f`.\"\n\nAre you sure that you intended the behavior with `t=None` and `q=None`?  You get expressions where the `q` and the `t` don't mix well.  This is not what I was expecting (maybe this is what you intended, but I'm asking for clarification).\n\n```\nsage: h = SymmetricFunctions(QQ).h()\nsage: h[3].exponential_specialization(t=None,q=None)\n((q^2 - 2*q + 1)/(q^2 + q + 1))*t^3\nsage: _.parent()\nUnivariate Polynomial Ring in t over Fraction Field of Univariate Polynomial Ring in q over Rational Field\n```\nThis is not what is documented under the INPUT section because it says that\n\"the default is to create the fraction field of polynomials in `t` over the coefficient ring.\"\n\nAre you sure you don't want to be using `self.base_ring()['q,t'].fraction_field()` `self.base_ring()['t']['q'].fraction_field()` or more simply `SR` for these expressions?  When do you anticipate users wanting to calculate the principal or exponential specialization and what will be done with the expressions afterwards?  \n\nThe calculation for elementary, power sum, monomial and Schur are all handled differently and the documentation for the `exponential_specialization` or `principal_specialization` is the same.  I think that the mathematical formulas used in those methods should be documented.\n\n\"Note that the stable principal specialization can be obtained as a plethysm\" delete the word \"stable\" since both the stable and non-stable are demonstrated to be plethysm in that example (n=infinity is \"stable\", right?)",
    "created_at": "2019-12-05T16:49:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137317",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:50'></a>
I'm still testing this out but here are some initial comments:

"specialisation" -> "specialization"

Also in `exponential_specialization`, I think you should mention "where `n` is the homogeneous degree of `f`."

Are you sure that you intended the behavior with `t=None` and `q=None`?  You get expressions where the `q` and the `t` don't mix well.  This is not what I was expecting (maybe this is what you intended, but I'm asking for clarification).

```
sage: h = SymmetricFunctions(QQ).h()
sage: h[3].exponential_specialization(t=None,q=None)
((q^2 - 2*q + 1)/(q^2 + q + 1))*t^3
sage: _.parent()
Univariate Polynomial Ring in t over Fraction Field of Univariate Polynomial Ring in q over Rational Field
```
This is not what is documented under the INPUT section because it says that
"the default is to create the fraction field of polynomials in `t` over the coefficient ring."

Are you sure you don't want to be using `self.base_ring()['q,t'].fraction_field()` `self.base_ring()['t']['q'].fraction_field()` or more simply `SR` for these expressions?  When do you anticipate users wanting to calculate the principal or exponential specialization and what will be done with the expressions afterwards?  

The calculation for elementary, power sum, monomial and Schur are all handled differently and the documentation for the `exponential_specialization` or `principal_specialization` is the same.  I think that the mathematical formulas used in those methods should be documented.

"Note that the stable principal specialization can be obtained as a plethysm" delete the word "stable" since both the stable and non-stable are demonstrated to be plethysm in that example (n=infinity is "stable", right?)



---

archive/issue_comments_137318.json:
```json
{
    "body": "<a id='comment:51'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[95de7cf](https://github.com/sagemath/sagetrac-mirror/commit/95de7cf67e3a46ee7b46cb8ebb9b9eebb9634609)|`specialisation -> specialization, remove erroneous \"stable\"`|",
    "created_at": "2019-12-05T18:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137318",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:51'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[95de7cf](https://github.com/sagemath/sagetrac-mirror/commit/95de7cf67e3a46ee7b46cb8ebb9b9eebb9634609)|`specialisation -> specialization, remove erroneous "stable"`|



---

archive/issue_comments_137319.json:
```json
{
    "body": "Changing commit from \"a19c6f588381f6e21a58e1684799e65ee0fa4d56\" to \"95de7cf67e3a46ee7b46cb8ebb9b9eebb9634609\"",
    "created_at": "2019-12-05T18:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a19c6f588381f6e21a58e1684799e65ee0fa4d56" to "95de7cf67e3a46ee7b46cb8ebb9b9eebb9634609"



---

archive/issue_comments_137320.json:
```json
{
    "body": "<a id='comment:52'></a>\nDear Mike!\n\nthank you for looking into this, and thank you for your comments.  I did the easy ones.\n\nReplying to [zabrocki](#comment%3A50):\n\n> Also in `exponential_specialization`, I think you should mention \"where `n` is the homogeneous degree of `f`.\"\n\n\nCould you say precisely where?  Currently, it is written, for example in `sfa.py`, on line 5543:\n\n```\n        By analogy `q`-exponential specialization is a ring homomorphism\n        defined on homogeneous symmetric functions `f` of degree `n`\n        as\n```\n\nOr am I misunderstanding you?\n\n> Are you sure that you intended the behavior with `t=None` and `q=None`?  You get expressions where the `q` and the `t` don't mix well.  This is not what I was expecting (maybe this is what you intended, but I'm asking for clarification).\n> \n> ```\n> sage: h = SymmetricFunctions(QQ).h()\n> sage: h[3].exponential_specialization(t=None,q=None)\n> ((q^2 - 2*q + 1)/(q^2 + q + 1))*t^3\n> sage: _.parent()\n> Univariate Polynomial Ring in t over Fraction Field of Univariate Polynomial Ring in q over Rational Field\n> ```\n> This is not what is documented under the INPUT section because it says that\n> \"the default is to create the fraction field of polynomials in `t` over the coefficient ring.\"\n\n\nYes, the documentation is inaccurate, because since a few commits ago it returns a polynomial.\n \n> Are you sure you don't want to be using `self.base_ring()['q,t'].fraction_field()` `self.base_ring()['t']['q'].fraction_field()` or more simply `SR` for these expressions?  When do you anticipate users wanting to calculate the principal or exponential specialization and what will be done with the expressions afterwards?  \n\n\nI don't think it is wise to use `SR` by default, because we always get something polynomial in `t` and rational in `q`.\n\nWhat I would do with the result afterwards might be factorisation, evaluation at roots of unity, expanding into Taylor series.  In brief: it depends.\n\nWhat would you expect / like? I admit I don't understand what you mean with \"not mixing well\".\n\n> The calculation for elementary, power sum, monomial and Schur are all handled differently and the documentation for the `exponential_specialization` or `principal_specialization` is the same.  I think that the mathematical formulas used in those methods should be documented.\n\n\nI agree that this makes sense.  It is a lot of work, but I'll do it.  It's a shame that I cannot easily inherit the \"generic\" documentation and append the special stuff.\n\nThanks again!",
    "created_at": "2019-12-05T18:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137320",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:52'></a>
Dear Mike!

thank you for looking into this, and thank you for your comments.  I did the easy ones.

Replying to [zabrocki](#comment%3A50):

> Also in `exponential_specialization`, I think you should mention "where `n` is the homogeneous degree of `f`."


Could you say precisely where?  Currently, it is written, for example in `sfa.py`, on line 5543:

```
        By analogy `q`-exponential specialization is a ring homomorphism
        defined on homogeneous symmetric functions `f` of degree `n`
        as
```

Or am I misunderstanding you?

> Are you sure that you intended the behavior with `t=None` and `q=None`?  You get expressions where the `q` and the `t` don't mix well.  This is not what I was expecting (maybe this is what you intended, but I'm asking for clarification).
> 
> ```
> sage: h = SymmetricFunctions(QQ).h()
> sage: h[3].exponential_specialization(t=None,q=None)
> ((q^2 - 2*q + 1)/(q^2 + q + 1))*t^3
> sage: _.parent()
> Univariate Polynomial Ring in t over Fraction Field of Univariate Polynomial Ring in q over Rational Field
> ```
> This is not what is documented under the INPUT section because it says that
> "the default is to create the fraction field of polynomials in `t` over the coefficient ring."


Yes, the documentation is inaccurate, because since a few commits ago it returns a polynomial.
 
> Are you sure you don't want to be using `self.base_ring()['q,t'].fraction_field()` `self.base_ring()['t']['q'].fraction_field()` or more simply `SR` for these expressions?  When do you anticipate users wanting to calculate the principal or exponential specialization and what will be done with the expressions afterwards?  


I don't think it is wise to use `SR` by default, because we always get something polynomial in `t` and rational in `q`.

What I would do with the result afterwards might be factorisation, evaluation at roots of unity, expanding into Taylor series.  In brief: it depends.

What would you expect / like? I admit I don't understand what you mean with "not mixing well".

> The calculation for elementary, power sum, monomial and Schur are all handled differently and the documentation for the `exponential_specialization` or `principal_specialization` is the same.  I think that the mathematical formulas used in those methods should be documented.


I agree that this makes sense.  It is a lot of work, but I'll do it.  It's a shame that I cannot easily inherit the "generic" documentation and append the special stuff.

Thanks again!



---

archive/issue_comments_137321.json:
```json
{
    "body": "<a id='comment:53'></a>\nI just learnt that there is also a formula for the stable principal specialisation of P-Schur functions, but I'd prefer to keep this for a later ticket.",
    "created_at": "2019-12-05T19:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137321",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:53'></a>
I just learnt that there is also a formula for the stable principal specialisation of P-Schur functions, but I'd prefer to keep this for a later ticket.



---

archive/issue_comments_137322.json:
```json
{
    "body": "<a id='comment:54'></a>\n> Could you say precisely where?  Currently, it is written, for example in `sfa.py`, on line 5543:\n> \n> ```\n>         By analogy `q`-exponential specialization is a ring homomorphism\n>         defined on homogeneous symmetric functions `f` of degree `n`\n>         as\n> ```\n\nI missed that `f` was above because it wasn't mentioned in the formula for `ex_q(h_n)`.  I would suggest moving the \"`f` of degree `n`\" down a bit since the formula that immediately follows does not refer to `f`, but the one after that does.\n\n> I don't think it is wise to use `SR` by default, because we always get something polynomial in `t` and rational in `q`.\n\n>\nMaybe not in `SR`, but what about the other rings?\n\n> What I would do with the result afterwards might be factorisation, evaluation at roots of unity, expanding into Taylor series.  In brief: it depends.\n\nThe reason I ask is exactly because of the applications you want because evaluation at roots of unity and Taylor series are pretty tough when you have the ring as `Univariate Polynomial Ring in t over Fraction Field of Univariate Polynomial Ring in q over Rational Field`.\n\n> What would you expect / like? I admit I don't understand what you mean with \"not mixing well\".\n\nBy \"not mixing well\" I meant that the expression was a polynomial in `t` with coefficients which are rational functions in `q` and you can't easily access the two generators at the same time and manipulate those sorts of expressions:\n\n```\nsage: a=h[3].exponential_specialization(t=None,q=None)\nsage: (t,q)=(a.parent().gen(), a.parent().base_ring().gen())\n```\nEven once you do that, I wasn't able to get a Taylor series or evaluate at roots of unity easily.  I'm guessing that if you know your application, then this would determine what base ring you would be using and the user would put in specific values for `q` and `t`.\n\n> I agree that this makes sense.  It is a lot of work, but I'll do it.  It's a shame that I cannot easily inherit the \"generic\" documentation and append the special stuff.\n\nMaybe the generic implementation and for either power sum or complete symmetric functions is sufficient?\nThere will be significant speedup at q=1 for the Schur basis, but I just checked:\n\n```\n%time h(s[6,6,4,4,3,3,3,2,2,1]).exponential_specialization(t=None,q=None)\n```\nruns about twice as fast as\n\n```\n%time s[6,6,4,4,3,3,3,2,2,1].exponential_specialization(t=None,q=None)\n```\non my computer.  I would coerce to the complete symmetric functions instead of the power sum.",
    "created_at": "2019-12-05T20:18:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137322",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:54'></a>
> Could you say precisely where?  Currently, it is written, for example in `sfa.py`, on line 5543:
> 
> ```
>         By analogy `q`-exponential specialization is a ring homomorphism
>         defined on homogeneous symmetric functions `f` of degree `n`
>         as
> ```

I missed that `f` was above because it wasn't mentioned in the formula for `ex_q(h_n)`.  I would suggest moving the "`f` of degree `n`" down a bit since the formula that immediately follows does not refer to `f`, but the one after that does.

> I don't think it is wise to use `SR` by default, because we always get something polynomial in `t` and rational in `q`.

>
Maybe not in `SR`, but what about the other rings?

> What I would do with the result afterwards might be factorisation, evaluation at roots of unity, expanding into Taylor series.  In brief: it depends.

The reason I ask is exactly because of the applications you want because evaluation at roots of unity and Taylor series are pretty tough when you have the ring as `Univariate Polynomial Ring in t over Fraction Field of Univariate Polynomial Ring in q over Rational Field`.

> What would you expect / like? I admit I don't understand what you mean with "not mixing well".

By "not mixing well" I meant that the expression was a polynomial in `t` with coefficients which are rational functions in `q` and you can't easily access the two generators at the same time and manipulate those sorts of expressions:

```
sage: a=h[3].exponential_specialization(t=None,q=None)
sage: (t,q)=(a.parent().gen(), a.parent().base_ring().gen())
```
Even once you do that, I wasn't able to get a Taylor series or evaluate at roots of unity easily.  I'm guessing that if you know your application, then this would determine what base ring you would be using and the user would put in specific values for `q` and `t`.

> I agree that this makes sense.  It is a lot of work, but I'll do it.  It's a shame that I cannot easily inherit the "generic" documentation and append the special stuff.

Maybe the generic implementation and for either power sum or complete symmetric functions is sufficient?
There will be significant speedup at q=1 for the Schur basis, but I just checked:

```
%time h(s[6,6,4,4,3,3,3,2,2,1]).exponential_specialization(t=None,q=None)
```
runs about twice as fast as

```
%time s[6,6,4,4,3,3,3,2,2,1].exponential_specialization(t=None,q=None)
```
on my computer.  I would coerce to the complete symmetric functions instead of the power sum.



---

archive/issue_comments_137323.json:
```json
{
    "body": "<a id='comment:55'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[8bc02d8](https://github.com/sagemath/sagetrac-mirror/commit/8bc02d807f2c9107d3189d649e7bf5869b205f9f)|`documentation improvements`|\n|[091010e](https://github.com/sagemath/sagetrac-mirror/commit/091010e4266c22147ae63314096d67f6cb22a129)|`homogeneous is faster than powersum for schur`|",
    "created_at": "2019-12-05T21:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137323",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[8bc02d8](https://github.com/sagemath/sagetrac-mirror/commit/8bc02d807f2c9107d3189d649e7bf5869b205f9f)|`documentation improvements`|
|[091010e](https://github.com/sagemath/sagetrac-mirror/commit/091010e4266c22147ae63314096d67f6cb22a129)|`homogeneous is faster than powersum for schur`|



---

archive/issue_comments_137324.json:
```json
{
    "body": "Changing commit from \"95de7cf67e3a46ee7b46cb8ebb9b9eebb9634609\" to \"091010e4266c22147ae63314096d67f6cb22a129\"",
    "created_at": "2019-12-05T21:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137324",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "95de7cf67e3a46ee7b46cb8ebb9b9eebb9634609" to "091010e4266c22147ae63314096d67f6cb22a129"



---

archive/issue_comments_137325.json:
```json
{
    "body": "<a id='comment:56'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|\n|[bf4e262](https://github.com/sagemath/sagetrac-mirror/commit/bf4e2629a9ffc5fe0ec9430bfba82a948d47d9a6)|`formulas in documentation, special case exponential specialization for Schur`|",
    "created_at": "2019-12-06T11:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137325",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
|[bf4e262](https://github.com/sagemath/sagetrac-mirror/commit/bf4e2629a9ffc5fe0ec9430bfba82a948d47d9a6)|`formulas in documentation, special case exponential specialization for Schur`|



---

archive/issue_comments_137326.json:
```json
{
    "body": "Changing commit from \"091010e4266c22147ae63314096d67f6cb22a129\" to \"bf4e2629a9ffc5fe0ec9430bfba82a948d47d9a6\"",
    "created_at": "2019-12-06T11:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137326",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "091010e4266c22147ae63314096d67f6cb22a129" to "bf4e2629a9ffc5fe0ec9430bfba82a948d47d9a6"



---

archive/issue_comments_137327.json:
```json
{
    "body": "<a id='comment:57'></a>\nSince it was easy to do, I implemented the formula for the exponential specialization of Schur functions, which makes a factor of about 5000 in your example.\n\nI also added math to the documentation.",
    "created_at": "2019-12-06T11:17:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137327",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:57'></a>
Since it was easy to do, I implemented the formula for the exponential specialization of Schur functions, which makes a factor of about 5000 in your example.

I also added math to the documentation.



---

archive/issue_comments_137328.json:
```json
{
    "body": "<a id='comment:58'></a>\nDear Mike,\n\nshould I switch to rational functions in `q` and `t` as default for the exponential specialization?",
    "created_at": "2019-12-10T13:49:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137328",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:58'></a>
Dear Mike,

should I switch to rational functions in `q` and `t` as default for the exponential specialization?



---

archive/issue_comments_137329.json:
```json
{
    "body": "Changing commit from \"bf4e2629a9ffc5fe0ec9430bfba82a948d47d9a6\" to \"6b03adda160e696f261688bbaacef5859abf9b31\"",
    "created_at": "2019-12-26T17:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137329",
    "user": "https://github.com/zabrocki"
}
```

Changing commit from "bf4e2629a9ffc5fe0ec9430bfba82a948d47d9a6" to "6b03adda160e696f261688bbaacef5859abf9b31"



---

archive/issue_comments_137330.json:
```json
{
    "body": "<a id='comment:59'></a>\nI made some changes to the documentation, but there was one comment that I have that I have not yet changed.\n\nIn the documentation for the exponential specialization it reads \"Note that setting `q = 1` in the stable principal specialization is an invalid operation.\"  This should be documented in principal specialization and this should be followed.  For instance\n\n```\nsage: e=SymmetricFunctions(QQ).e()\nsage: e[2].principal_specialization(q=1)\n+Infinity\nsage: (e[2]-e[1,1]).principal_specialization(q=1)\nSignError                                 Traceback (most recent call last)\n...\n```\nThat is, I think that you should raise an error in this case.  You can remove the comment from exponential specialization and just put it in principal specialization.\n\n---\nLast 10 new commits:\n|                                                                                                                                          |                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|\n|[c5f5b61](https://github.com/sagemath/sagetrac-mirror/commit/c5f5b6152de83a6485b2da73a3524f4f1444d669)|`raise error if q is in the base ring, add comment about plethysm`|\n|[cff572b](https://github.com/sagemath/sagetrac-mirror/commit/cff572bcf2428d3f267a9c9272107bca7205d34e)|`explicitely -> explicitly`|\n|[a19c6f5](https://github.com/sagemath/sagetrac-mirror/commit/a19c6f588381f6e21a58e1684799e65ee0fa4d56)|`fix default values for eponential specialisation, import q_analogues locally`|\n|[94bcb52](https://github.com/sagemath/sagetrac-mirror/commit/94bcb5241f1a429fb32bdd8e4f3b32f8d41e6009)|`Merge branch 'u/mantepse/specializations_for_symmetric_functions' of trac.sagemath.org:sage into specialization`|\n|[95de7cf](https://github.com/sagemath/sagetrac-mirror/commit/95de7cf67e3a46ee7b46cb8ebb9b9eebb9634609)|`specialisation -> specialization, remove erroneous \"stable\"`|\n|[8bc02d8](https://github.com/sagemath/sagetrac-mirror/commit/8bc02d807f2c9107d3189d649e7bf5869b205f9f)|`documentation improvements`|\n|[091010e](https://github.com/sagemath/sagetrac-mirror/commit/091010e4266c22147ae63314096d67f6cb22a129)|`homogeneous is faster than powersum for schur`|\n|[bf4e262](https://github.com/sagemath/sagetrac-mirror/commit/bf4e2629a9ffc5fe0ec9430bfba82a948d47d9a6)|`formulas in documentation, special case exponential specialization for Schur`|\n|[878257a](https://github.com/sagemath/sagetrac-mirror/commit/878257a61650154a1d1b60f4487a94c5897cf647)|`Merge branch 'u/mantepse/specializations_for_symmetric_functions' of trac.sagemath.org:sage into specialization`|\n|[6b03add](https://github.com/sagemath/sagetrac-mirror/commit/6b03adda160e696f261688bbaacef5859abf9b31)|`minor changes to documentation, mainly punctuation`|",
    "created_at": "2019-12-26T17:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137330",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:59'></a>
I made some changes to the documentation, but there was one comment that I have that I have not yet changed.

In the documentation for the exponential specialization it reads "Note that setting `q = 1` in the stable principal specialization is an invalid operation."  This should be documented in principal specialization and this should be followed.  For instance

```
sage: e=SymmetricFunctions(QQ).e()
sage: e[2].principal_specialization(q=1)
+Infinity
sage: (e[2]-e[1,1]).principal_specialization(q=1)
SignError                                 Traceback (most recent call last)
...
```
That is, I think that you should raise an error in this case.  You can remove the comment from exponential specialization and just put it in principal specialization.

---
Last 10 new commits:
|                                                                                                                                          |                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
|[c5f5b61](https://github.com/sagemath/sagetrac-mirror/commit/c5f5b6152de83a6485b2da73a3524f4f1444d669)|`raise error if q is in the base ring, add comment about plethysm`|
|[cff572b](https://github.com/sagemath/sagetrac-mirror/commit/cff572bcf2428d3f267a9c9272107bca7205d34e)|`explicitely -> explicitly`|
|[a19c6f5](https://github.com/sagemath/sagetrac-mirror/commit/a19c6f588381f6e21a58e1684799e65ee0fa4d56)|`fix default values for eponential specialisation, import q_analogues locally`|
|[94bcb52](https://github.com/sagemath/sagetrac-mirror/commit/94bcb5241f1a429fb32bdd8e4f3b32f8d41e6009)|`Merge branch 'u/mantepse/specializations_for_symmetric_functions' of trac.sagemath.org:sage into specialization`|
|[95de7cf](https://github.com/sagemath/sagetrac-mirror/commit/95de7cf67e3a46ee7b46cb8ebb9b9eebb9634609)|`specialisation -> specialization, remove erroneous "stable"`|
|[8bc02d8](https://github.com/sagemath/sagetrac-mirror/commit/8bc02d807f2c9107d3189d649e7bf5869b205f9f)|`documentation improvements`|
|[091010e](https://github.com/sagemath/sagetrac-mirror/commit/091010e4266c22147ae63314096d67f6cb22a129)|`homogeneous is faster than powersum for schur`|
|[bf4e262](https://github.com/sagemath/sagetrac-mirror/commit/bf4e2629a9ffc5fe0ec9430bfba82a948d47d9a6)|`formulas in documentation, special case exponential specialization for Schur`|
|[878257a](https://github.com/sagemath/sagetrac-mirror/commit/878257a61650154a1d1b60f4487a94c5897cf647)|`Merge branch 'u/mantepse/specializations_for_symmetric_functions' of trac.sagemath.org:sage into specialization`|
|[6b03add](https://github.com/sagemath/sagetrac-mirror/commit/6b03adda160e696f261688bbaacef5859abf9b31)|`minor changes to documentation, mainly punctuation`|



---

archive/issue_comments_137331.json:
```json
{
    "body": "Changing branch from \"u/mantepse/specializations_for_symmetric_functions\" to \"public/sf/principal_specialization\"",
    "created_at": "2019-12-26T17:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137331",
    "user": "https://github.com/zabrocki"
}
```

Changing branch from "u/mantepse/specializations_for_symmetric_functions" to "public/sf/principal_specialization"



---

archive/issue_comments_137332.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-12-26T17:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137332",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_137333.json:
```json
{
    "body": "<a id='comment:60'></a>\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137333",
    "user": "https://github.com/embray"
}
```

<a id='comment:60'></a>
Ticket retargeted after milestone closed



---

archive/issue_events_041422.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41422"
}
```



---

archive/issue_events_041423.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41423"
}
```



---

archive/issue_comments_137334.json:
```json
{
    "body": "Changing commit from \"6b03adda160e696f261688bbaacef5859abf9b31\" to \"c53809b3c3ef4fa1e38f72488038bc2f22ad30b9\"",
    "created_at": "2020-01-01T14:47:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137334",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6b03adda160e696f261688bbaacef5859abf9b31" to "c53809b3c3ef4fa1e38f72488038bc2f22ad30b9"



---

archive/issue_comments_137335.json:
```json
{
    "body": "<a id='comment:61'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|\n|[c53809b](https://github.com/sagemath/sagetrac-mirror/commit/c53809b3c3ef4fa1e38f72488038bc2f22ad30b9)|`move q=1, stable comment from exponential specialization to principal specialization and raise appropriate error`|",
    "created_at": "2020-01-01T14:47:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137335",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|
|[c53809b](https://github.com/sagemath/sagetrac-mirror/commit/c53809b3c3ef4fa1e38f72488038bc2f22ad30b9)|`move q=1, stable comment from exponential specialization to principal specialization and raise appropriate error`|



---

archive/issue_comments_137336.json:
```json
{
    "body": "<a id='comment:62'></a>\nDone, ready for review again - and thank you for the useful comment!",
    "created_at": "2020-01-01T14:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137336",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:62'></a>
Done, ready for review again - and thank you for the useful comment!



---

archive/issue_comments_137337.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-01-01T14:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137337",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_137338.json:
```json
{
    "body": "<a id='comment:63'></a>\nI am again needing this for my research.  I'd be extremely grateful for a review!",
    "created_at": "2020-03-26T12:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137338",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:63'></a>
I am again needing this for my research.  I'd be extremely grateful for a review!



---

archive/issue_comments_137339.json:
```json
{
    "body": "<a id='comment:64'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|\n|[885eab5](https://github.com/sagemath/sagetrac-mirror/commit/885eab553aa70b1ae509e66e947821161a4d36e9)|`Merge branch 'public/sf/principal_specialization' of git://trac.sagemath.org/sage into principal_specialization`|\n|[f3984a9](https://github.com/sagemath/sagetrac-mirror/commit/f3984a902f976b6333ed5daecbe0033ab792b081)|`improvements to doc`|\n|[73bced1](https://github.com/sagemath/sagetrac-mirror/commit/73bced1fc671b6f9c52392dc2673d623ba3ba592)|`redirect through monomial, not powersum`|",
    "created_at": "2020-04-02T13:50:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137339",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:64'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|
|[885eab5](https://github.com/sagemath/sagetrac-mirror/commit/885eab553aa70b1ae509e66e947821161a4d36e9)|`Merge branch 'public/sf/principal_specialization' of git://trac.sagemath.org/sage into principal_specialization`|
|[f3984a9](https://github.com/sagemath/sagetrac-mirror/commit/f3984a902f976b6333ed5daecbe0033ab792b081)|`improvements to doc`|
|[73bced1](https://github.com/sagemath/sagetrac-mirror/commit/73bced1fc671b6f9c52392dc2673d623ba3ba592)|`redirect through monomial, not powersum`|



---

archive/issue_comments_137340.json:
```json
{
    "body": "Changing commit from \"c53809b3c3ef4fa1e38f72488038bc2f22ad30b9\" to \"73bced1fc671b6f9c52392dc2673d623ba3ba592\"",
    "created_at": "2020-04-02T13:50:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c53809b3c3ef4fa1e38f72488038bc2f22ad30b9" to "73bced1fc671b6f9c52392dc2673d623ba3ba592"



---

archive/issue_comments_137341.json:
```json
{
    "body": "<a id='comment:65'></a>\nBefore I move on with the review, can you please comment on the following:\n\n- In powersum.py, you have a get_variable function that deals with unspecified q. In monomial.py, you don't. Is it actually unneeded in monomial.py, or have you forgotten to include it?\n\n- In powersum.py, you use fractions like `(1-q**(n*part))/(1-q**part)`, which are undefined in general since the denominator can be non-invertible. This is probably fine for n == infinity, since the specialization is only defined in limited situations in that case, but for finite n the method should work in full generality. I suggest replacing this fraction by a sum.",
    "created_at": "2020-04-02T13:54:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137341",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:65'></a>
Before I move on with the review, can you please comment on the following:

- In powersum.py, you have a get_variable function that deals with unspecified q. In monomial.py, you don't. Is it actually unneeded in monomial.py, or have you forgotten to include it?

- In powersum.py, you use fractions like `(1-q**(n*part))/(1-q**part)`, which are undefined in general since the denominator can be non-invertible. This is probably fine for n == infinity, since the specialization is only defined in limited situations in that case, but for finite n the method should work in full generality. I suggest replacing this fraction by a sum.



---

archive/issue_comments_137342.json:
```json
{
    "body": "Changing commit from \"73bced1fc671b6f9c52392dc2673d623ba3ba592\" to \"e0b3aa5f7e253a916345733031275511416bef0b\"",
    "created_at": "2020-04-02T14:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137342",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "73bced1fc671b6f9c52392dc2673d623ba3ba592" to "e0b3aa5f7e253a916345733031275511416bef0b"



---

archive/issue_comments_137343.json:
```json
{
    "body": "<a id='comment:66'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------|\n|[e0b3aa5](https://github.com/sagemath/sagetrac-mirror/commit/e0b3aa5f7e253a916345733031275511416bef0b)|`more doc`|",
    "created_at": "2020-04-02T14:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137343",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------|
|[e0b3aa5](https://github.com/sagemath/sagetrac-mirror/commit/e0b3aa5f7e253a916345733031275511416bef0b)|`more doc`|



---

archive/issue_comments_137344.json:
```json
{
    "body": "<a id='comment:67'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------|\n|[09cdbd4](https://github.com/sagemath/sagetrac-mirror/commit/09cdbd487381741c3efa7508b02601e1a9404e49)|`more doc`|",
    "created_at": "2020-04-02T14:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:67'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------|
|[09cdbd4](https://github.com/sagemath/sagetrac-mirror/commit/09cdbd487381741c3efa7508b02601e1a9404e49)|`more doc`|



---

archive/issue_comments_137345.json:
```json
{
    "body": "Changing commit from \"e0b3aa5f7e253a916345733031275511416bef0b\" to \"09cdbd487381741c3efa7508b02601e1a9404e49\"",
    "created_at": "2020-04-02T14:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e0b3aa5f7e253a916345733031275511416bef0b" to "09cdbd487381741c3efa7508b02601e1a9404e49"



---

archive/issue_comments_137346.json:
```json
{
    "body": "<a id='comment:68'></a>\nHi Darij!\n\n* concerning `get_variable`, I see it in `monomial.py` also, line 427.  Or did I misunderstand?\n\n* concerning division by zero: this problem actually affects all bases. The workaround \n  would be to have q symbolic and then take the limit.  I can think of a few problems, \n  let's first check that they are non-problems:\n    - speed for large n and weird coefficient rings\n    - less nice output when q is symbolic\n\n* Heuristically, redirecting via the monomial basis seems faster in real life examples \n  than via the powersum basis.  Did you undo this on purpose?\n\n```diff\n@@ -5549,8 +5551,8 @@ class SymmetricFunctionAlgebra_generic_Element(CombinatorialFreeModule.Element):\n             {'the stable principal specialization at q=1 is not defined'}\n \n         \"\"\"\n-        m = self.parent().realization_of().monomial()\n-        return m(self).principal_specialization(n, q=q)\n+        p = self.parent().realization_of().powersum()\n+        return p(self).principal_specialization(n, q=q)\n```",
    "created_at": "2020-04-02T20:37:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137346",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:68'></a>
Hi Darij!

* concerning `get_variable`, I see it in `monomial.py` also, line 427.  Or did I misunderstand?

* concerning division by zero: this problem actually affects all bases. The workaround 
  would be to have q symbolic and then take the limit.  I can think of a few problems, 
  let's first check that they are non-problems:
    - speed for large n and weird coefficient rings
    - less nice output when q is symbolic

* Heuristically, redirecting via the monomial basis seems faster in real life examples 
  than via the powersum basis.  Did you undo this on purpose?

```diff
@@ -5549,8 +5551,8 @@ class SymmetricFunctionAlgebra_generic_Element(CombinatorialFreeModule.Element):
             {'the stable principal specialization at q=1 is not defined'}
 
         """
-        m = self.parent().realization_of().monomial()
-        return m(self).principal_specialization(n, q=q)
+        p = self.parent().realization_of().powersum()
+        return p(self).principal_specialization(n, q=q)
```



---

archive/issue_comments_137347.json:
```json
{
    "body": "<a id='comment:69'></a>\nHi Martin!\n\n* I see `get_variable` defined only 9 times, but there are 6 files and 2 functions in each, so there are probably 3 missing. Sorry if it isn't monomial.py.\n\n* Division by 0 shouldn't affect any basis (in principal_specialization) when n is finite! The definition works just fine, so I think the method should work as well -- which I think it doesn't.\n\n* I undid my p->m change by accident (having a file open in two different editors); this is why I then force-pushed an updated commit where it was not undone. Or is it still?",
    "created_at": "2020-04-02T20:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137347",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:69'></a>
Hi Martin!

* I see `get_variable` defined only 9 times, but there are 6 files and 2 functions in each, so there are probably 3 missing. Sorry if it isn't monomial.py.

* Division by 0 shouldn't affect any basis (in principal_specialization) when n is finite! The definition works just fine, so I think the method should work as well -- which I think it doesn't.

* I undid my p->m change by accident (having a file open in two different editors); this is why I then force-pushed an updated commit where it was not undone. Or is it still?



---

archive/issue_comments_137348.json:
```json
{
    "body": "Changing commit from \"09cdbd487381741c3efa7508b02601e1a9404e49\" to \"e57d1bd5603d795a44e7bec0c40bd887e88cd7e2\"",
    "created_at": "2020-04-04T17:03:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137348",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "09cdbd487381741c3efa7508b02601e1a9404e49" to "e57d1bd5603d795a44e7bec0c40bd887e88cd7e2"



---

archive/issue_comments_137349.json:
```json
{
    "body": "<a id='comment:70'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|\n|[e57d1bd](https://github.com/sagemath/sagetrac-mirror/commit/e57d1bd5603d795a44e7bec0c40bd887e88cd7e2)|`correct use of n in exponential_specialization documentation in schur.py`|",
    "created_at": "2020-04-04T17:03:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137349",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:70'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
|[e57d1bd](https://github.com/sagemath/sagetrac-mirror/commit/e57d1bd5603d795a44e7bec0c40bd887e88cd7e2)|`correct use of n in exponential_specialization documentation in schur.py`|



---

archive/issue_comments_137350.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n-Eight years having passed, it might be time to finish this.  I added tests that discovered a dozen glitches, and fixed them all.\n-\n With this patch, you can now do:\n \n ```\n@@ -7,31 +5,12 @@\n sage: x = s[2,2,1]\n sage: x.principal_specialization()\n -q^4/(q^11 - 2*q^10 + q^8 + 2*q^6 - 2*q^5 - q^3 + 2*q - 1)\n-sage: x.principal_specialization(q=var(\"q\"))\n--q^4/((q^4 - 1)*(q^3 - 1)*(q^2 - 1)*(q - 1)^2)\n-sage: x.principal_specialization(n=4, q=var(\"q\"))\n-(q^5 - 1)*(q^4 - 1)*q^4/(q - 1)^2\n+sage: x.principal_specialization(n=4)\n+q^11 + 2*q^10 + 3*q^9 + 4*q^8 + 4*q^7 + 3*q^6 + 2*q^5 + q^4\n sage: x.exponential_specialization()\n 1/24*t^5\n sage: x.exponential_specialization(q=QQ[\"q\"].gen())\n (q^4/(q^6 + 3*q^5 + 5*q^4 + 6*q^3 + 5*q^2 + 3*q + 1))*t^5\n ```\n \n-old description:\n-\n-This patch -- in the combinat queue:\n-\n-http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/sf_principal_specialization-mr.patch\n-\n-implements the principal and exponential specialisations for symmetric functions as given in Stanley, Enumerative Combinatorics, Section 7.8.\n-\n-Unfortunately, the patch currently has several problems:\n-\n-1) it seems that always the default code in sf/sfa.py is called, I don't know why\n-\n-2) I do not know how to give the desired default argument 1 the correct type in exponential_specialization\n-\n-3) I guess one should rather implement this for quasi-symmetric functions, but I do not know enough about these currently\n-\n-4) the documentation and sensible tests are still missing\n-\n+Implement  the principal and exponential specializations for symmetric functions as given in Stanley, Enumerative Combinatorics, Section 7.8.\n``````\n",
    "created_at": "2020-04-04T17:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137350",
    "user": "https://github.com/zabrocki"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
-Eight years having passed, it might be time to finish this.  I added tests that discovered a dozen glitches, and fixed them all.
-
 With this patch, you can now do:
 
 ```
@@ -7,31 +5,12 @@
 sage: x = s[2,2,1]
 sage: x.principal_specialization()
 -q^4/(q^11 - 2*q^10 + q^8 + 2*q^6 - 2*q^5 - q^3 + 2*q - 1)
-sage: x.principal_specialization(q=var("q"))
--q^4/((q^4 - 1)*(q^3 - 1)*(q^2 - 1)*(q - 1)^2)
-sage: x.principal_specialization(n=4, q=var("q"))
-(q^5 - 1)*(q^4 - 1)*q^4/(q - 1)^2
+sage: x.principal_specialization(n=4)
+q^11 + 2*q^10 + 3*q^9 + 4*q^8 + 4*q^7 + 3*q^6 + 2*q^5 + q^4
 sage: x.exponential_specialization()
 1/24*t^5
 sage: x.exponential_specialization(q=QQ["q"].gen())
 (q^4/(q^6 + 3*q^5 + 5*q^4 + 6*q^3 + 5*q^2 + 3*q + 1))*t^5
 ```
 
-old description:
-
-This patch -- in the combinat queue:
-
-http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/sf_principal_specialization-mr.patch
-
-implements the principal and exponential specialisations for symmetric functions as given in Stanley, Enumerative Combinatorics, Section 7.8.
-
-Unfortunately, the patch currently has several problems:
-
-1) it seems that always the default code in sf/sfa.py is called, I don't know why
-
-2) I do not know how to give the desired default argument 1 the correct type in exponential_specialization
-
-3) I guess one should rather implement this for quasi-symmetric functions, but I do not know enough about these currently
-
-4) the documentation and sensible tests are still missing
-
+Implement  the principal and exponential specializations for symmetric functions as given in Stanley, Enumerative Combinatorics, Section 7.8.
``````




---

archive/issue_comments_137351.json:
```json
{
    "body": "<a id='comment:71'></a>\nI'm ok with the current implementation and I checked that all tests pass.  Darij, do you have any additional comments or changes?",
    "created_at": "2020-04-04T17:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137351",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:71'></a>
I'm ok with the current implementation and I checked that all tests pass.  Darij, do you have any additional comments or changes?



---

archive/issue_comments_137352.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Darij Grinberg, Mike Zabrocki\"",
    "created_at": "2020-04-04T17:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137352",
    "user": "https://github.com/zabrocki"
}
```

Changing reviewer from "" to "Darij Grinberg, Mike Zabrocki"



---

archive/issue_events_041424.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "rename": {
        "from": "specializations for symmetric functions",
        "to": "principal and exponential specializations for symmetric functions"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41424"
}
```



---

archive/issue_comments_137353.json:
```json
{
    "body": "<a id='comment:72'></a>\nThe issues from #69 are still open; I'm worried it might even silently produce wrong results if the / operator gives a non-unique quotient in some non-integral domain.",
    "created_at": "2020-04-04T17:20:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137353",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:72'></a>
The issues from #69 are still open; I'm worried it might even silently produce wrong results if the / operator gives a non-unique quotient in some non-integral domain.



---

archive/issue_events_041425.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41425"
}
```



---

archive/issue_events_041426.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41426"
}
```



---

archive/issue_comments_137354.json:
```json
{
    "body": "<a id='comment:73'></a>\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137354",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:73'></a>
Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_137355.json:
```json
{
    "body": "<a id='comment:74'></a>\nReplying to [gh-darijgr](#comment%3A69):\n> Hi Martin!\n> \n> * I see `get_variable` defined only 9 times, but there are 6 files and 2 functions in each, so there are probably 3 missing. Sorry if it isn't monomial.py.\n\n\nI just checked. No there are none missing.  `get_variable` is not used in `principal_specialization` of `monomial.py` and not used at all in `sfa.py`.\n\n> * Division by 0 shouldn't affect any basis (in principal_specialization) when n is finite! The definition works just fine, so I think the method should work as well -- which I think it doesn't.\n\n\nThis is correct, but, for example in `schur.py` I don't see a better way than actually computing with indeterminate `q` and substituting the value afterwards.  Do you think this is worth it?\n\n> * I undid my p->m change by accident (having a file open in two different editors); this is why I then force-pushed an updated commit where it was not undone. Or is it still?\n\n\nActually, there is some nonsense going on right now, because for q other than 1, the monomial basis redirects to the powersum basis.  In any case, I'll add a comment.",
    "created_at": "2020-04-23T19:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137355",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:74'></a>
Replying to [gh-darijgr](#comment%3A69):
> Hi Martin!
> 
> * I see `get_variable` defined only 9 times, but there are 6 files and 2 functions in each, so there are probably 3 missing. Sorry if it isn't monomial.py.


I just checked. No there are none missing.  `get_variable` is not used in `principal_specialization` of `monomial.py` and not used at all in `sfa.py`.

> * Division by 0 shouldn't affect any basis (in principal_specialization) when n is finite! The definition works just fine, so I think the method should work as well -- which I think it doesn't.


This is correct, but, for example in `schur.py` I don't see a better way than actually computing with indeterminate `q` and substituting the value afterwards.  Do you think this is worth it?

> * I undid my p->m change by accident (having a file open in two different editors); this is why I then force-pushed an updated commit where it was not undone. Or is it still?


Actually, there is some nonsense going on right now, because for q other than 1, the monomial basis redirects to the powersum basis.  In any case, I'll add a comment.



---

archive/issue_comments_137356.json:
```json
{
    "body": "<a id='comment:75'></a>\n> I just checked. No there are none missing. get_variable is not used in principal_specialization of monomial.py and not used at all in sfa.py.\n\n\nOh, I see -- you're right! The q just gets passed.\n\n> This is correct, but, for example in schur.py I don't see a better way than actually computing with indeterminate q and substituting the value afterwards. Do you think this is worth it?\n\n\nThat's what I would do.",
    "created_at": "2020-04-23T19:24:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137356",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:75'></a>
> I just checked. No there are none missing. get_variable is not used in principal_specialization of monomial.py and not used at all in sfa.py.


Oh, I see -- you're right! The q just gets passed.

> This is correct, but, for example in schur.py I don't see a better way than actually computing with indeterminate q and substituting the value afterwards. Do you think this is worth it?


That's what I would do.



---

archive/issue_comments_137357.json:
```json
{
    "body": "Changing commit from \"e57d1bd5603d795a44e7bec0c40bd887e88cd7e2\" to \"203b42cce50648cac8cdbdc572a6908a0f0ff780\"",
    "created_at": "2020-04-24T11:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137357",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e57d1bd5603d795a44e7bec0c40bd887e88cd7e2" to "203b42cce50648cac8cdbdc572a6908a0f0ff780"



---

archive/issue_comments_137358.json:
```json
{
    "body": "<a id='comment:76'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[203b42c](https://github.com/sagemath/sagetrac-mirror/commit/203b42cce50648cac8cdbdc572a6908a0f0ff780)|`better behaviour with respect to removable singularities`|",
    "created_at": "2020-04-24T11:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137358",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:76'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[203b42c](https://github.com/sagemath/sagetrac-mirror/commit/203b42cce50648cac8cdbdc572a6908a0f0ff780)|`better behaviour with respect to removable singularities`|



---

archive/issue_comments_137359.json:
```json
{
    "body": "<a id='comment:77'></a>\nPlease review :-)",
    "created_at": "2020-04-24T11:42:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137359",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:77'></a>
Please review :-)



---

archive/issue_comments_137360.json:
```json
{
    "body": "<a id='comment:78'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|\n|[fd59f1f](https://github.com/sagemath/sagetrac-mirror/commit/fd59f1f2c7825f4d223cacd09476244e420e7693)|`Merge branch 'public/sf/principal_specialization' of git://trac.sagemath.org/sage into princ`|\n|[ab1c36b](https://github.com/sagemath/sagetrac-mirror/commit/ab1c36bab74ad1f7c836bb392b5f293c726b3a58)|`review the doc`|\n|[63ee2ec](https://github.com/sagemath/sagetrac-mirror/commit/63ee2ec239b479c80eca5a59ce85e41eaff8abfb)|`use h, not p, as the base ring might not have 1/n`|",
    "created_at": "2020-04-24T12:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137360",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:78'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|
|[fd59f1f](https://github.com/sagemath/sagetrac-mirror/commit/fd59f1f2c7825f4d223cacd09476244e420e7693)|`Merge branch 'public/sf/principal_specialization' of git://trac.sagemath.org/sage into princ`|
|[ab1c36b](https://github.com/sagemath/sagetrac-mirror/commit/ab1c36bab74ad1f7c836bb392b5f293c726b3a58)|`review the doc`|
|[63ee2ec](https://github.com/sagemath/sagetrac-mirror/commit/63ee2ec239b479c80eca5a59ce85e41eaff8abfb)|`use h, not p, as the base ring might not have 1/n`|



---

archive/issue_comments_137361.json:
```json
{
    "body": "Changing commit from \"203b42cce50648cac8cdbdc572a6908a0f0ff780\" to \"63ee2ec239b479c80eca5a59ce85e41eaff8abfb\"",
    "created_at": "2020-04-24T12:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137361",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "203b42cce50648cac8cdbdc572a6908a0f0ff780" to "63ee2ec239b479c80eca5a59ce85e41eaff8abfb"



---

archive/issue_comments_137362.json:
```json
{
    "body": "<a id='comment:79'></a>\nI've reviewed the docstrings, except for the fact that I'd like to see more doctests for bad cases (such as q = -1).\n\nWill come back to the methods later tonight.",
    "created_at": "2020-04-24T12:48:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137362",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:79'></a>
I've reviewed the docstrings, except for the fact that I'd like to see more doctests for bad cases (such as q = -1).

Will come back to the methods later tonight.



---

archive/issue_comments_137363.json:
```json
{
    "body": "<a id='comment:80'></a>\nThe `get_variable` method uses `ring[name]` to adjoin a variable called `name` to `ring`. I'm not sure how universal this syntax is; if `ring` is, say, a realization of the symmetric functions, then this will try (and fail) to pick a basis element. Isn't there a better way?",
    "created_at": "2020-04-24T13:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137363",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:80'></a>
The `get_variable` method uses `ring[name]` to adjoin a variable called `name` to `ring`. I'm not sure how universal this syntax is; if `ring` is, say, a realization of the symmetric functions, then this will try (and fail) to pick a basis element. Isn't there a better way?



---

archive/issue_comments_137364.json:
```json
{
    "body": "<a id='comment:81'></a>\nReplying to [gh-darijgr](#comment%3A79):\n> I've reviewed the docstrings, except for the fact that I'd like to see more doctests for bad cases (such as q = -1).\n\n\nI'll incorporate all doctests you (explicitly!) suggest, OK?",
    "created_at": "2020-04-24T13:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137364",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:81'></a>
Replying to [gh-darijgr](#comment%3A79):
> I've reviewed the docstrings, except for the fact that I'd like to see more doctests for bad cases (such as q = -1).


I'll incorporate all doctests you (explicitly!) suggest, OK?



---

archive/issue_comments_137365.json:
```json
{
    "body": "<a id='comment:82'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[83cc0f3](https://github.com/sagemath/sagetrac-mirror/commit/83cc0f36bfb5c82755cb1a5a7fce2a9d1ab577bd)|`some doctests for a start`|",
    "created_at": "2020-04-24T13:46:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137365",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:82'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[83cc0f3](https://github.com/sagemath/sagetrac-mirror/commit/83cc0f36bfb5c82755cb1a5a7fce2a9d1ab577bd)|`some doctests for a start`|



---

archive/issue_comments_137366.json:
```json
{
    "body": "Changing commit from \"63ee2ec239b479c80eca5a59ce85e41eaff8abfb\" to \"83cc0f36bfb5c82755cb1a5a7fce2a9d1ab577bd\"",
    "created_at": "2020-04-24T13:46:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137366",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "63ee2ec239b479c80eca5a59ce85e41eaff8abfb" to "83cc0f36bfb5c82755cb1a5a7fce2a9d1ab577bd"



---

archive/issue_comments_137367.json:
```json
{
    "body": "<a id='comment:83'></a>\nI've pushed a few doctests into the principal specialization in elementary.py. This is roughly the kind of stuff I want to test. If you can check that they work (errors can lie both in the tests and the code; I can't run sage on my machine), I'll add similar tests in all other functions.\n\nOne other cluster of possible issues I'd like to test is whether `_apply_module_morphism` does the necessary coercions for coefficients, seeing that (e.g.) the q-binomials are computed in the \"wrong\" ring.",
    "created_at": "2020-04-24T13:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137367",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:83'></a>
I've pushed a few doctests into the principal specialization in elementary.py. This is roughly the kind of stuff I want to test. If you can check that they work (errors can lie both in the tests and the code; I can't run sage on my machine), I'll add similar tests in all other functions.

One other cluster of possible issues I'd like to test is whether `_apply_module_morphism` does the necessary coercions for coefficients, seeing that (e.g.) the q-binomials are computed in the "wrong" ring.



---

archive/issue_comments_137368.json:
```json
{
    "body": "<a id='comment:84'></a>\nI think it would be better to put these tests into `sfa.py` and test all implemened bases at once.",
    "created_at": "2020-04-24T13:56:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137368",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:84'></a>
I think it would be better to put these tests into `sfa.py` and test all implemened bases at once.



---

archive/issue_comments_137369.json:
```json
{
    "body": "<a id='comment:85'></a>\nOK, but are the results correct? Do they throw errors?",
    "created_at": "2020-04-24T14:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137369",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:85'></a>
OK, but are the results correct? Do they throw errors?



---

archive/issue_comments_137370.json:
```json
{
    "body": "<a id='comment:86'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[4fb5819](https://github.com/sagemath/sagetrac-mirror/commit/4fb581914354d3768bef56541de047c1a382b96a)|`a bit more doc on q-factorials and ex`|\n|[b1434ca](https://github.com/sagemath/sagetrac-mirror/commit/b1434cae7e4e51308e9aeca86a1cc78737540800)|`further corrections`|",
    "created_at": "2020-04-24T17:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137370",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:86'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[4fb5819](https://github.com/sagemath/sagetrac-mirror/commit/4fb581914354d3768bef56541de047c1a382b96a)|`a bit more doc on q-factorials and ex`|
|[b1434ca](https://github.com/sagemath/sagetrac-mirror/commit/b1434cae7e4e51308e9aeca86a1cc78737540800)|`further corrections`|



---

archive/issue_comments_137371.json:
```json
{
    "body": "Changing commit from \"83cc0f36bfb5c82755cb1a5a7fce2a9d1ab577bd\" to \"b1434cae7e4e51308e9aeca86a1cc78737540800\"",
    "created_at": "2020-04-24T17:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137371",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "83cc0f36bfb5c82755cb1a5a7fce2a9d1ab577bd" to "b1434cae7e4e51308e9aeca86a1cc78737540800"



---

archive/issue_comments_137372.json:
```json
{
    "body": "<a id='comment:87'></a>\nThe math is all correct. Now we need to (1) add doctests showing that no bad things happen coercion- and singularity-wise (ideally with some really nasty cases like q=2 in Zmod(4)) and (2) using something better than `ring[name]` in the `get_variable` methods. Then I'll take one more look at the yak-shaving part of the implementations and someone will have to run the doctests as I cannot. Sorry for how long this has been taking; the code is more complicated than it may look at a first sight.",
    "created_at": "2020-04-24T17:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137372",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:87'></a>
The math is all correct. Now we need to (1) add doctests showing that no bad things happen coercion- and singularity-wise (ideally with some really nasty cases like q=2 in Zmod(4)) and (2) using something better than `ring[name]` in the `get_variable` methods. Then I'll take one more look at the yak-shaving part of the implementations and someone will have to run the doctests as I cannot. Sorry for how long this has been taking; the code is more complicated than it may look at a first sight.



---

archive/issue_comments_137373.json:
```json
{
    "body": "Changing commit from \"b1434cae7e4e51308e9aeca86a1cc78737540800\" to \"a93ebd484f91e3d47513bcb2f6a45087235aee7f\"",
    "created_at": "2020-04-24T17:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137373",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b1434cae7e4e51308e9aeca86a1cc78737540800" to "a93ebd484f91e3d47513bcb2f6a45087235aee7f"



---

archive/issue_comments_137374.json:
```json
{
    "body": "<a id='comment:88'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[a93ebd4](https://github.com/sagemath/sagetrac-mirror/commit/a93ebd484f91e3d47513bcb2f6a45087235aee7f)|`oops, there is no is_invertible in general rings`|",
    "created_at": "2020-04-24T17:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137374",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:88'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[a93ebd4](https://github.com/sagemath/sagetrac-mirror/commit/a93ebd484f91e3d47513bcb2f6a45087235aee7f)|`oops, there is no is_invertible in general rings`|



---

archive/issue_comments_137375.json:
```json
{
    "body": "<a id='comment:89'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[59a0885](https://github.com/sagemath/sagetrac-mirror/commit/59a0885dfef955a64459a3dd0da08fdf7930d8aa)|`update references to Grinberg/Reiner (v6 is out)`|",
    "created_at": "2020-04-24T18:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137375",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:89'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[59a0885](https://github.com/sagemath/sagetrac-mirror/commit/59a0885dfef955a64459a3dd0da08fdf7930d8aa)|`update references to Grinberg/Reiner (v6 is out)`|



---

archive/issue_comments_137376.json:
```json
{
    "body": "Changing commit from \"a93ebd484f91e3d47513bcb2f6a45087235aee7f\" to \"59a0885dfef955a64459a3dd0da08fdf7930d8aa\"",
    "created_at": "2020-04-24T18:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137376",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a93ebd484f91e3d47513bcb2f6a45087235aee7f" to "59a0885dfef955a64459a3dd0da08fdf7930d8aa"



---

archive/issue_comments_137377.json:
```json
{
    "body": "Changing commit from \"59a0885dfef955a64459a3dd0da08fdf7930d8aa\" to \"6e4006dace369d2af262b358606af0d7e3561b87\"",
    "created_at": "2020-04-24T19:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137377",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "59a0885dfef955a64459a3dd0da08fdf7930d8aa" to "6e4006dace369d2af262b358606af0d7e3561b87"



---

archive/issue_comments_137378.json:
```json
{
    "body": "<a id='comment:90'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[6e4006d](https://github.com/sagemath/sagetrac-mirror/commit/6e4006dace369d2af262b358606af0d7e3561b87)|`fix two doctests`|",
    "created_at": "2020-04-24T19:08:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137378",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:90'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[6e4006d](https://github.com/sagemath/sagetrac-mirror/commit/6e4006dace369d2af262b358606af0d7e3561b87)|`fix two doctests`|



---

archive/issue_comments_137379.json:
```json
{
    "body": "<a id='comment:91'></a>\nRedirecting to homogeneous instead of powersum in monomial.py has an interesting side effect:\n\n```\n    x.principal_specialization(3, q=var(\"q\"))\nExpected:\n    5*(q^6 - 1)/(q^2 - 1) + 3*(q^3 - 1)/(q - 1) + 1\nGot:\n    -5*(q^3 - 1)^2/(q - 1)^2 + 3*(q^3 - 1)/(q - 1) + 10*(q^4 - 1)*(q^3 - 1)/((q^2 - 1)*(q - 1)) + 1\n```\nDo we still want this?  (I am well aware that this is most likely completely arbitrary.) For the record, redirecting to elementary would give\n\n```\n    x.principal_specialization(3, q=var(\"q\"))\nExpected:\n    5*(q^6 - 1)/(q^2 - 1) + 3*(q^3 - 1)/(q - 1) + 1\nGot:\n    -10*(q^3 - 1)*q/(q - 1) + 5*(q^3 - 1)^2/(q - 1)^2 + 3*(q^3 - 1)/(q - 1) + 1\n```",
    "created_at": "2020-04-24T19:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137379",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:91'></a>
Redirecting to homogeneous instead of powersum in monomial.py has an interesting side effect:

```
    x.principal_specialization(3, q=var("q"))
Expected:
    5*(q^6 - 1)/(q^2 - 1) + 3*(q^3 - 1)/(q - 1) + 1
Got:
    -5*(q^3 - 1)^2/(q - 1)^2 + 3*(q^3 - 1)/(q - 1) + 10*(q^4 - 1)*(q^3 - 1)/((q^2 - 1)*(q - 1)) + 1
```
Do we still want this?  (I am well aware that this is most likely completely arbitrary.) For the record, redirecting to elementary would give

```
    x.principal_specialization(3, q=var("q"))
Expected:
    5*(q^6 - 1)/(q^2 - 1) + 3*(q^3 - 1)/(q - 1) + 1
Got:
    -10*(q^3 - 1)*q/(q - 1) + 5*(q^3 - 1)^2/(q - 1)^2 + 3*(q^3 - 1)/(q - 1) + 1
```



---

archive/issue_comments_137380.json:
```json
{
    "body": "<a id='comment:92'></a>\nMaybe we should use elementary instead of homogeneous then. Either way, we shouldn't use powersum, as it introduces a dependency on 1/n's. I view finite fields as more important than the symbolic ring (which can't ever be assumed completely bulletproof anyway).",
    "created_at": "2020-04-24T19:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137380",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:92'></a>
Maybe we should use elementary instead of homogeneous then. Either way, we shouldn't use powersum, as it introduces a dependency on 1/n's. I view finite fields as more important than the symbolic ring (which can't ever be assumed completely bulletproof anyway).



---

archive/issue_comments_137381.json:
```json
{
    "body": "<a id='comment:93'></a>\nAlso, thanks for fixing my doctests (yes, for some reason I thought (x+y)^2 = x^2 + y^2 over GF(3)). Will finish the review tomorrow.",
    "created_at": "2020-04-24T20:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137381",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:93'></a>
Also, thanks for fixing my doctests (yes, for some reason I thought (x+y)^2 = x^2 + y^2 over GF(3)). Will finish the review tomorrow.



---

archive/issue_comments_137382.json:
```json
{
    "body": "<a id='comment:94'></a>\nReplying to [gh-darijgr](#comment%3A92):\n> Maybe we should use elementary instead of homogeneous then. Either way, we shouldn't use powersum, as it introduces a dependency on 1/n's. I view finite fields as more important than the symbolic ring (which can't ever be assumed completely bulletproof anyway).\n\n\nI agree, that's an excellent point!  Let's always redirect to elementary then, and write this in a comment (that elementary behaves well with respect to introducing singularities and seems fastest).",
    "created_at": "2020-04-25T09:59:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137382",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:94'></a>
Replying to [gh-darijgr](#comment%3A92):
> Maybe we should use elementary instead of homogeneous then. Either way, we shouldn't use powersum, as it introduces a dependency on 1/n's. I view finite fields as more important than the symbolic ring (which can't ever be assumed completely bulletproof anyway).


I agree, that's an excellent point!  Let's always redirect to elementary then, and write this in a comment (that elementary behaves well with respect to introducing singularities and seems fastest).



---

archive/issue_comments_137383.json:
```json
{
    "body": "<a id='comment:95'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------|\n|[28b1e2b](https://github.com/sagemath/sagetrac-mirror/commit/28b1e2bcd0514927675c4e92df4cdcf7070cd4d0)|`this way?`|\n|[7d45a6c](https://github.com/sagemath/sagetrac-mirror/commit/7d45a6ce1e91c2964cafa21b6652811fca8e0698)|`Merge branch 'public/sf/principal_specialization' of git://trac.sagemath.org/sage into princ`|",
    "created_at": "2020-04-25T11:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137383",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:95'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------|
|[28b1e2b](https://github.com/sagemath/sagetrac-mirror/commit/28b1e2bcd0514927675c4e92df4cdcf7070cd4d0)|`this way?`|
|[7d45a6c](https://github.com/sagemath/sagetrac-mirror/commit/7d45a6ce1e91c2964cafa21b6652811fca8e0698)|`Merge branch 'public/sf/principal_specialization' of git://trac.sagemath.org/sage into princ`|



---

archive/issue_comments_137384.json:
```json
{
    "body": "Changing commit from \"6e4006dace369d2af262b358606af0d7e3561b87\" to \"7d45a6ce1e91c2964cafa21b6652811fca8e0698\"",
    "created_at": "2020-04-25T11:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137384",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6e4006dace369d2af262b358606af0d7e3561b87" to "7d45a6ce1e91c2964cafa21b6652811fca8e0698"



---

archive/issue_comments_137385.json:
```json
{
    "body": "Changing commit from \"7d45a6ce1e91c2964cafa21b6652811fca8e0698\" to \"1c48b472d4e8386a323f975fa2d881a086963707\"",
    "created_at": "2020-04-25T15:35:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137385",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7d45a6ce1e91c2964cafa21b6652811fca8e0698" to "1c48b472d4e8386a323f975fa2d881a086963707"



---

archive/issue_comments_137386.json:
```json
{
    "body": "<a id='comment:96'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[1c48b47](https://github.com/sagemath/sagetrac-mirror/commit/1c48b472d4e8386a323f975fa2d881a086963707)|`replacing ring[name]`|",
    "created_at": "2020-04-25T15:35:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137386",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:96'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[1c48b47](https://github.com/sagemath/sagetrac-mirror/commit/1c48b472d4e8386a323f975fa2d881a086963707)|`replacing ring[name]`|



---

archive/issue_comments_137387.json:
```json
{
    "body": "<a id='comment:97'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[b19c0f4](https://github.com/sagemath/sagetrac-mirror/commit/b19c0f436ebdf75eb607dbe6f1f3768e9e95a714)|`replacing ring[name]`|",
    "created_at": "2020-04-25T15:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137387",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:97'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[b19c0f4](https://github.com/sagemath/sagetrac-mirror/commit/b19c0f436ebdf75eb607dbe6f1f3768e9e95a714)|`replacing ring[name]`|



---

archive/issue_comments_137388.json:
```json
{
    "body": "Changing commit from \"1c48b472d4e8386a323f975fa2d881a086963707\" to \"b19c0f436ebdf75eb607dbe6f1f3768e9e95a714\"",
    "created_at": "2020-04-25T15:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137388",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1c48b472d4e8386a323f975fa2d881a086963707" to "b19c0f436ebdf75eb607dbe6f1f3768e9e95a714"



---

archive/issue_comments_137389.json:
```json
{
    "body": "<a id='comment:98'></a>\nDo the last two commits look good to you, Martin?",
    "created_at": "2020-04-25T15:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137389",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:98'></a>
Do the last two commits look good to you, Martin?



---

archive/issue_comments_137390.json:
```json
{
    "body": "<a id='comment:99'></a>\nActually, I now think that for monomial we should convert to powersum, not to elementary.\n\nIf something is nice in the monomial basis, it will also be nice in the powersum basis but not necessarily in the elementary basis, don't you think?\n\n```\nsage: p(m[7,4,2])\np[7, 4, 2] - p[7, 6] - p[9, 4] - p[11, 2] + 2*p[13]\n```",
    "created_at": "2020-04-25T17:50:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137390",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:99'></a>
Actually, I now think that for monomial we should convert to powersum, not to elementary.

If something is nice in the monomial basis, it will also be nice in the powersum basis but not necessarily in the elementary basis, don't you think?

```
sage: p(m[7,4,2])
p[7, 4, 2] - p[7, 6] - p[9, 4] - p[11, 2] + 2*p[13]
```



---

archive/issue_comments_137391.json:
```json
{
    "body": "<a id='comment:0'></a>\nBut powersum is broken for the reasons I claimed. Which is why I'm for adding all those weird-ring tests.\n\nAre my changes so far OK? I'd then add the tests.",
    "created_at": "2020-04-25T17:55:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137391",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:0'></a>
But powersum is broken for the reasons I claimed. Which is why I'm for adding all those weird-ring tests.

Are my changes so far OK? I'd then add the tests.



---

archive/issue_comments_137392.json:
```json
{
    "body": "<a id='comment:101'></a>\nReplying to [gh-darijgr](#comment%3A100):\n> But powersum is broken for the reasons I claimed. Which is why I'm for adding all those weird-ring tests.\n\n\nI don't completely understand.  Am I wrong in assuming that passing from monomial to powersum will not introduce singularities?",
    "created_at": "2020-04-25T18:19:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137392",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:101'></a>
Replying to [gh-darijgr](#comment%3A100):
> But powersum is broken for the reasons I claimed. Which is why I'm for adding all those weird-ring tests.


I don't completely understand.  Am I wrong in assuming that passing from monomial to powersum will not introduce singularities?



---

archive/issue_comments_137393.json:
```json
{
    "body": "<a id='comment:2'></a>\nIt will introduce singularities, since the powersum basis isn't a basis unless the base ring contains the rationals. (Of course, if you're doing the exponential specialization at q=1, you need the rationals anyway, but in all the other cases you don't.)",
    "created_at": "2020-04-25T18:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137393",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:2'></a>
It will introduce singularities, since the powersum basis isn't a basis unless the base ring contains the rationals. (Of course, if you're doing the exponential specialization at q=1, you need the rationals anyway, but in all the other cases you don't.)



---

archive/issue_comments_137394.json:
```json
{
    "body": "<a id='comment:103'></a>\nReplying to [gh-darijgr](#comment%3A102):\n> It will introduce singularities, since the powersum basis isn't a basis unless the base ring contains the rationals. (Of course, if you're doing the exponential specialization at q=1, you need the rationals anyway, but in all the other cases you don't.)\n\n\nOops, sorry, I made a very fundamental mistake, you are right of course (witnessed by `p(m[1,1])`.",
    "created_at": "2020-04-25T19:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137394",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:103'></a>
Replying to [gh-darijgr](#comment%3A102):
> It will introduce singularities, since the powersum basis isn't a basis unless the base ring contains the rationals. (Of course, if you're doing the exponential specialization at q=1, you need the rationals anyway, but in all the other cases you don't.)


Oops, sorry, I made a very fundamental mistake, you are right of course (witnessed by `p(m[1,1])`.



---

archive/issue_comments_137395.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[155e0ea](https://github.com/sagemath/sagetrac-mirror/commit/155e0ea6ae8d49654989f37b5effb5ac80ebe765)|`fix doctest, fix comments`|",
    "created_at": "2020-04-25T19:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137395",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[155e0ea](https://github.com/sagemath/sagetrac-mirror/commit/155e0ea6ae8d49654989f37b5effb5ac80ebe765)|`fix doctest, fix comments`|



---

archive/issue_comments_137396.json:
```json
{
    "body": "Changing commit from \"b19c0f436ebdf75eb607dbe6f1f3768e9e95a714\" to \"155e0ea6ae8d49654989f37b5effb5ac80ebe765\"",
    "created_at": "2020-04-25T19:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137396",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b19c0f436ebdf75eb607dbe6f1f3768e9e95a714" to "155e0ea6ae8d49654989f37b5effb5ac80ebe765"



---

archive/issue_comments_137397.json:
```json
{
    "body": "<a id='comment:5'></a>\nI fixed the doctest and added a comment why we don't use the powersum basis as fallback.  Doctests pass on my computer.",
    "created_at": "2020-04-25T19:25:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137397",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:5'></a>
I fixed the doctest and added a comment why we don't use the powersum basis as fallback.  Doctests pass on my computer.



---

archive/issue_comments_137398.json:
```json
{
    "body": "<a id='comment:6'></a>\n(So, please go ahead!)",
    "created_at": "2020-04-25T19:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137398",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'></a>
(So, please go ahead!)



---

archive/issue_comments_137399.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[12e4437](https://github.com/sagemath/sagetrac-mirror/commit/12e4437fdd0defddbda2e349f1bff1400a0c89a4)|`test battery for principal_specialization`|",
    "created_at": "2020-04-25T20:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137399",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[12e4437](https://github.com/sagemath/sagetrac-mirror/commit/12e4437fdd0defddbda2e349f1bff1400a0c89a4)|`test battery for principal_specialization`|



---

archive/issue_comments_137400.json:
```json
{
    "body": "Changing commit from \"155e0ea6ae8d49654989f37b5effb5ac80ebe765\" to \"12e4437fdd0defddbda2e349f1bff1400a0c89a4\"",
    "created_at": "2020-04-25T20:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137400",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "155e0ea6ae8d49654989f37b5effb5ac80ebe765" to "12e4437fdd0defddbda2e349f1bff1400a0c89a4"



---

archive/issue_comments_137401.json:
```json
{
    "body": "<a id='comment:8'></a>\nOK, here are tests for principal_specialization. Can you check that they work before I adapt them for exponential_specialization too?",
    "created_at": "2020-04-25T20:06:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137401",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:8'></a>
OK, here are tests for principal_specialization. Can you check that they work before I adapt them for exponential_specialization too?



---

archive/issue_comments_137402.json:
```json
{
    "body": "<a id='comment:9'></a>\nThere are actually several failures.  The first one that fails is\n\n```\nsage: S = SymmetricFunctions(Zmod(4))\nsage: B = [S.m(), S.e(), S.h(), S.s(), S.f()]\nsage: m = S.m(); x = m[3,2,1]                                                                                                                         \nsage: set([b(x).principal_specialization(n=4, q=Zmod(4)(2)) for b in B])\n...\nZeroDivisionError: inverse of Mod(2, 4) does not exist\n\nDuring handling of the above exception, another exception occurred:\n...\nTypeError: self must be an integral domain.\n```\n(It fails for the Schur basis.)",
    "created_at": "2020-04-25T21:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137402",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:9'></a>
There are actually several failures.  The first one that fails is

```
sage: S = SymmetricFunctions(Zmod(4))
sage: B = [S.m(), S.e(), S.h(), S.s(), S.f()]
sage: m = S.m(); x = m[3,2,1]                                                                                                                         
sage: set([b(x).principal_specialization(n=4, q=Zmod(4)(2)) for b in B])
...
ZeroDivisionError: inverse of Mod(2, 4) does not exist

During handling of the above exception, another exception occurred:
...
TypeError: self must be an integral domain.
```
(It fails for the Schur basis.)



---

archive/issue_comments_137403.json:
```json
{
    "body": "<a id='comment:0'></a>\nCan we zoom? Assuming you can easily doctest the file, as we'd probably have to go through this a few times.",
    "created_at": "2020-04-25T21:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137403",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:0'></a>
Can we zoom? Assuming you can easily doctest the file, as we'd probably have to go through this a few times.



---

archive/issue_comments_137404.json:
```json
{
    "body": "Changing commit from \"12e4437fdd0defddbda2e349f1bff1400a0c89a4\" to \"d4d652b162166f76dddcf5cb394837534effd210\"",
    "created_at": "2020-04-25T21:38:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137404",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "12e4437fdd0defddbda2e349f1bff1400a0c89a4" to "d4d652b162166f76dddcf5cb394837534effd210"



---

archive/issue_comments_137405.json:
```json
{
    "body": "<a id='comment:1'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[d4d652b](https://github.com/sagemath/sagetrac-mirror/commit/d4d652b162166f76dddcf5cb394837534effd210)|`attempt at fixing schur principal_spec`|",
    "created_at": "2020-04-25T21:38:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137405",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[d4d652b](https://github.com/sagemath/sagetrac-mirror/commit/d4d652b162166f76dddcf5cb394837534effd210)|`attempt at fixing schur principal_spec`|



---

archive/issue_comments_137406.json:
```json
{
    "body": "Changing commit from \"d4d652b162166f76dddcf5cb394837534effd210\" to \"1680397bd0993fd1ae3351ee888fba2c29103501\"",
    "created_at": "2020-04-25T22:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137406",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d4d652b162166f76dddcf5cb394837534effd210" to "1680397bd0993fd1ae3351ee888fba2c29103501"



---

archive/issue_comments_137407.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|\n|[1680397](https://github.com/sagemath/sagetrac-mirror/commit/1680397bd0993fd1ae3351ee888fba2c29103501)|`fix quotients`|",
    "created_at": "2020-04-25T22:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137407",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|[1680397](https://github.com/sagemath/sagetrac-mirror/commit/1680397bd0993fd1ae3351ee888fba2c29103501)|`fix quotients`|



---

archive/issue_comments_137408.json:
```json
{
    "body": "Changing commit from \"1680397bd0993fd1ae3351ee888fba2c29103501\" to \"db009ef22d0a31312db15adf199c718e23d2891a\"",
    "created_at": "2020-04-25T22:12:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137408",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1680397bd0993fd1ae3351ee888fba2c29103501" to "db009ef22d0a31312db15adf199c718e23d2891a"



---

archive/issue_comments_137409.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[db009ef](https://github.com/sagemath/sagetrac-mirror/commit/db009ef22d0a31312db15adf199c718e23d2891a)|`similar changes to powersum`|",
    "created_at": "2020-04-25T22:12:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137409",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[db009ef](https://github.com/sagemath/sagetrac-mirror/commit/db009ef22d0a31312db15adf199c718e23d2891a)|`similar changes to powersum`|



---

archive/issue_comments_137410.json:
```json
{
    "body": "Changing commit from \"db009ef22d0a31312db15adf199c718e23d2891a\" to \"96efc4fc13fdd56976e54120a983b7af0112ef0a\"",
    "created_at": "2020-04-25T22:13:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137410",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "db009ef22d0a31312db15adf199c718e23d2891a" to "96efc4fc13fdd56976e54120a983b7af0112ef0a"



---

archive/issue_comments_137411.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[96efc4f](https://github.com/sagemath/sagetrac-mirror/commit/96efc4fc13fdd56976e54120a983b7af0112ef0a)|`add doctests for powersums`|",
    "created_at": "2020-04-25T22:13:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137411",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[96efc4f](https://github.com/sagemath/sagetrac-mirror/commit/96efc4fc13fdd56976e54120a983b7af0112ef0a)|`add doctests for powersums`|



---

archive/issue_comments_137412.json:
```json
{
    "body": "Changing commit from \"96efc4fc13fdd56976e54120a983b7af0112ef0a\" to \"f0f31e6d8c15695665849ab9fed8687ef74879df\"",
    "created_at": "2020-04-25T22:56:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "96efc4fc13fdd56976e54120a983b7af0112ef0a" to "f0f31e6d8c15695665849ab9fed8687ef74879df"



---

archive/issue_comments_137413.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[f0f31e6](https://github.com/sagemath/sagetrac-mirror/commit/f0f31e6d8c15695665849ab9fed8687ef74879df)|`attempt at a test battery for exponential specialization`|",
    "created_at": "2020-04-25T22:56:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[f0f31e6](https://github.com/sagemath/sagetrac-mirror/commit/f0f31e6d8c15695665849ab9fed8687ef74879df)|`attempt at a test battery for exponential specialization`|



---

archive/issue_comments_137414.json:
```json
{
    "body": "<a id='comment:6'></a>\nI've added tests for exponential_specialization; I'm curious to hear what Sage thinks of them.\n\nI haven't tested for removable singularities this time, since there aren't any (all denominators are unavoidable, although there is some occasional cancellation).",
    "created_at": "2020-04-25T22:57:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137414",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:6'></a>
I've added tests for exponential_specialization; I'm curious to hear what Sage thinks of them.

I haven't tested for removable singularities this time, since there aren't any (all denominators are unavoidable, although there is some occasional cancellation).



---

archive/issue_comments_137415.json:
```json
{
    "body": "<a id='comment:7'></a>\nPS. I have no idea why the trac merge is failing. Should we hit it with the rebase hammer?",
    "created_at": "2020-04-25T22:59:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137415",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:7'></a>
PS. I have no idea why the trac merge is failing. Should we hit it with the rebase hammer?



---

archive/issue_comments_137416.json:
```json
{
    "body": "<a id='comment:8'></a>\nThere are a few failing tests.  I cannot correct them now, so I just paste them here:\n\n```\nFile \"src/sage/combinat/sf/sfa.py\", line 5739, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            \nFailed example:                                                                                                                                       \n    (m[2,1]+m[1,1]).exponential_specialization(q=None)                                                                                                \nExpected:                                                                                                                                             \n    t**2 * (1 - q)/(1 + q)                                                                                                                            \nGot:                                                                                                                                                  \n    ((-2*q^3 + q^2 + q)/(q^3 + 2*q^2 + 2*q + 1))*t^3 + (q/(q + 1))*t^2                                                                                \n**********************************************************************                                                                                \nFile \"src/sage/combinat/sf/sfa.py\", line 5742, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            \nFailed example:                                                                                                                                       \n    (m[2,1]+m[1,1]).exponential_specialization(q=q)                                                                                                   \nExpected:                                                                                                                                             \n    t**2 * (1 - q)/(1 + q)                                                                                                                            \nGot:                                                                                                                                                  \n    ((-2*q^3 + q^2 + q)/(q^3 + 2*q^2 + 2*q + 1))*t^3 + (q/(q + 1))*t^2                                                                                \n**********************************************************************                                                                                \nFile \"src/sage/combinat/sf/sfa.py\", line 5745, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            \nFailed example:                                                                                                                                       \n    (m[2,1]+m[1,1]).exponential_specialization(t=t)                                                                                                   \nExpected:                                                                                                                                             \n    t**2 * (1 - q)/(1 + q)                                                                                                                            \nGot:                                                                                                                                                  \n    1/2*t^2                                                                                                                                           \n**********************************************************************                                                                                \nFile \"src/sage/combinat/sf/sfa.py\", line 5748, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            \nFailed example:                                                                                                                                       \n    (m[2,1]+m[1,1]).exponential_specialization(q=q, t=t)                                                                                              \nExpected:                                                                                                                                             \n    t**2 * (1 - q)/(1 + q)                                                                                                                            \nGot:                                                                                                                                                  \n    (-2*q^3*t^3 + q^3*t^2 + q^2*t^3 + q^2*t^2 + q*t^3 + q*t^2)/(q^3 + 2*q^2 + 2*q + 1)                                                                \n**********************************************************************                                                                                \nFile \"src/sage/combinat/sf/sfa.py\", line 5787, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            \nFailed example:                                                                                                                                       \n    set(b[lam].exponential_specialization(q=None).parent() for b in B for lam in lams)                                                                \nExpected:    \n    {Fraction Field of Univariate Polynomial Ring in t over                                                                                           \n      Univariate Polynomial Ring in q over Finite Field of size 3,                                                                                    \n     Univariate Polynomial Ring in t over Univariate Polynomial Ring in q                                                                             \n      over Finite Field of size 3}                                                                                                                    \nGot:                                                                                                                                                  \n    {Univariate Polynomial Ring in t over Fraction Field of Univariate Polynomial Ring in q over Finite Field of size 3,                              \n     Univariate Polynomial Ring in t over Univariate Polynomial Ring in q over Finite Field of size 3}                                                \n**********************************************************************                                                                                \nFile \"src/sage/combinat/sf/sfa.py\", line 5819, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            \nFailed example:                                                                                                                                       \n    set(b[lam].exponential_specialization(q=q).parent() for b in B for lam in lams)                                                                   \nExpected:                                                                                                                                             \n    {Univariate Polynomial Ring in t over                                                                                                             \n     Univariate Polynomial Ring in q over Rational Field}                                                                                             \nGot:                                                                                                                                                  \n    {Univariate Polynomial Ring in t over Fraction Field of Univariate Polynomial Ring in q over Rational Field,                                      \n     Univariate Polynomial Ring in t over Univariate Polynomial Ring in q over Rational Field}                                                        \n**********************************************************************                                                                                \nFile \"src/sage/combinat/sf/sfa.py\", line 5822, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            \nFailed example:                                                                                                                                       \n    set(b[lam].exponential_specialization(q=q, t=1).parent() for b in B for lam in lams)                                                              \nExpected:                                                                                                                                             \n    {Univariate Polynomial Ring in q over Integer Ring}                                                                                               \nGot:                                                                                                                                                  \n    {Fraction Field of Univariate Polynomial Ring in q over Rational Field,                                                                           \n     Univariate Polynomial Ring in q over Rational Field}                                                                                             \n**********************************************************************                                                                                \n1 item had failures:                                                                                                                                  \n   7 of  46 in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization                                               \n    [1155 tests, 7 failures, 4.81 s]                                                                       \n```",
    "created_at": "2020-04-26T07:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137416",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:8'></a>
There are a few failing tests.  I cannot correct them now, so I just paste them here:

```
File "src/sage/combinat/sf/sfa.py", line 5739, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            
Failed example:                                                                                                                                       
    (m[2,1]+m[1,1]).exponential_specialization(q=None)                                                                                                
Expected:                                                                                                                                             
    t**2 * (1 - q)/(1 + q)                                                                                                                            
Got:                                                                                                                                                  
    ((-2*q^3 + q^2 + q)/(q^3 + 2*q^2 + 2*q + 1))*t^3 + (q/(q + 1))*t^2                                                                                
**********************************************************************                                                                                
File "src/sage/combinat/sf/sfa.py", line 5742, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            
Failed example:                                                                                                                                       
    (m[2,1]+m[1,1]).exponential_specialization(q=q)                                                                                                   
Expected:                                                                                                                                             
    t**2 * (1 - q)/(1 + q)                                                                                                                            
Got:                                                                                                                                                  
    ((-2*q^3 + q^2 + q)/(q^3 + 2*q^2 + 2*q + 1))*t^3 + (q/(q + 1))*t^2                                                                                
**********************************************************************                                                                                
File "src/sage/combinat/sf/sfa.py", line 5745, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            
Failed example:                                                                                                                                       
    (m[2,1]+m[1,1]).exponential_specialization(t=t)                                                                                                   
Expected:                                                                                                                                             
    t**2 * (1 - q)/(1 + q)                                                                                                                            
Got:                                                                                                                                                  
    1/2*t^2                                                                                                                                           
**********************************************************************                                                                                
File "src/sage/combinat/sf/sfa.py", line 5748, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            
Failed example:                                                                                                                                       
    (m[2,1]+m[1,1]).exponential_specialization(q=q, t=t)                                                                                              
Expected:                                                                                                                                             
    t**2 * (1 - q)/(1 + q)                                                                                                                            
Got:                                                                                                                                                  
    (-2*q^3*t^3 + q^3*t^2 + q^2*t^3 + q^2*t^2 + q*t^3 + q*t^2)/(q^3 + 2*q^2 + 2*q + 1)                                                                
**********************************************************************                                                                                
File "src/sage/combinat/sf/sfa.py", line 5787, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            
Failed example:                                                                                                                                       
    set(b[lam].exponential_specialization(q=None).parent() for b in B for lam in lams)                                                                
Expected:    
    {Fraction Field of Univariate Polynomial Ring in t over                                                                                           
      Univariate Polynomial Ring in q over Finite Field of size 3,                                                                                    
     Univariate Polynomial Ring in t over Univariate Polynomial Ring in q                                                                             
      over Finite Field of size 3}                                                                                                                    
Got:                                                                                                                                                  
    {Univariate Polynomial Ring in t over Fraction Field of Univariate Polynomial Ring in q over Finite Field of size 3,                              
     Univariate Polynomial Ring in t over Univariate Polynomial Ring in q over Finite Field of size 3}                                                
**********************************************************************                                                                                
File "src/sage/combinat/sf/sfa.py", line 5819, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            
Failed example:                                                                                                                                       
    set(b[lam].exponential_specialization(q=q).parent() for b in B for lam in lams)                                                                   
Expected:                                                                                                                                             
    {Univariate Polynomial Ring in t over                                                                                                             
     Univariate Polynomial Ring in q over Rational Field}                                                                                             
Got:                                                                                                                                                  
    {Univariate Polynomial Ring in t over Fraction Field of Univariate Polynomial Ring in q over Rational Field,                                      
     Univariate Polynomial Ring in t over Univariate Polynomial Ring in q over Rational Field}                                                        
**********************************************************************                                                                                
File "src/sage/combinat/sf/sfa.py", line 5822, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            
Failed example:                                                                                                                                       
    set(b[lam].exponential_specialization(q=q, t=1).parent() for b in B for lam in lams)                                                              
Expected:                                                                                                                                             
    {Univariate Polynomial Ring in q over Integer Ring}                                                                                               
Got:                                                                                                                                                  
    {Fraction Field of Univariate Polynomial Ring in q over Rational Field,                                                                           
     Univariate Polynomial Ring in q over Rational Field}                                                                                             
**********************************************************************                                                                                
1 item had failures:                                                                                                                                  
   7 of  46 in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization                                               
    [1155 tests, 7 failures, 4.81 s]                                                                       
```



---

archive/issue_comments_137417.json:
```json
{
    "body": "<a id='comment:9'></a>\nOops -- all of these are my careless errors in the doctests. Can you try again after the next commit I'll push in a few seconds? Note that some results may be equivalent but in a different form.",
    "created_at": "2020-04-26T07:29:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137417",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:9'></a>
Oops -- all of these are my careless errors in the doctests. Can you try again after the next commit I'll push in a few seconds? Note that some results may be equivalent but in a different form.



---

archive/issue_comments_137418.json:
```json
{
    "body": "Changing commit from \"f0f31e6d8c15695665849ab9fed8687ef74879df\" to \"ccd6902363e5d682913b523d2b353b5352d234ed\"",
    "created_at": "2020-04-26T07:30:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137418",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f0f31e6d8c15695665849ab9fed8687ef74879df" to "ccd6902363e5d682913b523d2b353b5352d234ed"



---

archive/issue_comments_137419.json:
```json
{
    "body": "<a id='comment:0'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|\n|[ccd6902](https://github.com/sagemath/sagetrac-mirror/commit/ccd6902363e5d682913b523d2b353b5352d234ed)|`fix doctests`|",
    "created_at": "2020-04-26T07:30:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137419",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|
|[ccd6902](https://github.com/sagemath/sagetrac-mirror/commit/ccd6902363e5d682913b523d2b353b5352d234ed)|`fix doctests`|



---

archive/issue_comments_137420.json:
```json
{
    "body": "<a id='comment:1'></a>\nCan we avoid the doctests outputting a set either by sorting or checking some other condition? Such tests have had a history of being fickle.",
    "created_at": "2020-04-26T07:38:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137420",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
Can we avoid the doctests outputting a set either by sorting or checking some other condition? Such tests have had a history of being fickle.



---

archive/issue_comments_137421.json:
```json
{
    "body": "<a id='comment:2'></a>\nOuch. Yes, we can do sorted(str(...) for ...).",
    "created_at": "2020-04-26T07:40:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137421",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:2'></a>
Ouch. Yes, we can do sorted(str(...) for ...).



---

archive/issue_comments_137422.json:
```json
{
    "body": "<a id='comment:3'></a>\n\n```\nsage -t src/sage/combinat/sf/sfa.py                                                                                                                   \n**********************************************************************                                                                                \nFile \"src/sage/combinat/sf/sfa.py\", line 5739, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            \nFailed example:                                                                                                                                       \n    m[1,1].exponential_specialization(q=None)                                                                                                         \nExpected:                                                                                                                                             \n    1/2*t^2                                                                                                                                           \nGot:                                                                                                                                                  \n    (q/(q + 1))*t^2                                                                                                                                   \n**********************************************************************                                                                                \nFile \"src/sage/combinat/sf/sfa.py\", line 5742, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            \nFailed example:                                                                                                                                       \n    m[1,1].exponential_specialization(q=q)                                                                                                            \nExpected:                                                                                                                                             \n    t^2 * (1 - q)/(1 + q)                                                                                                                             \nGot:                                                                                                                                                  \n    (q/(q + 1))*t^2                                                                                                                                   \n**********************************************************************                                                                                \nFile \"src/sage/combinat/sf/sfa.py\", line 5748, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            \nFailed example:                                                                                                                                       \n    m[1,1].exponential_specialization(q=q, t=t)                                                                                                       \nExpected:                                                                                                                                             \n    t^2 * (1 - q)/(1 + q)                                                                                                                             \nGot:                                                                                                                                                  \n    q*t^2/(q + 1)                                                                                                                                     \n**********************************************************************                                                                                \nFile \"src/sage/combinat/sf/sfa.py\", line 5794, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            \nFailed example:                                                                                                                                       \n    set(b[lam].exponential_specialization(q=q2, t=t2).parent() for b in B for lam in lams)                                                            \nExpected:         \n    {Fraction Field of Multivariate Polynomial Ring in q, t over Finite Field of size 3,                                                              \n     Multivariate Polynomial Ring in q, t over Finite Field of size 3}                                                                                \nGot:                                                                                                                                                  \n    {Multivariate Polynomial Ring in q, t over Finite Field of size 3,                                                                                \n     Fraction Field of Multivariate Polynomial Ring in q, t over Finite Field of size 3}                                                              \n**********************************************************************                                                                                \n1 item had failures:                                                                                                                                  \n   4 of  46 in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization                                               \n    [1155 tests, 4 failures, 4.96 s]                                                                                                                  \n----------------------------------------------------------------------                                                                                \nsage -t src/sage/combinat/sf/sfa.py  # 4 doctests failed                                                                                              \n----------------------------------------------------------------------                                                       \n```",
    "created_at": "2020-04-26T08:13:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137422",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:3'></a>

```
sage -t src/sage/combinat/sf/sfa.py                                                                                                                   
**********************************************************************                                                                                
File "src/sage/combinat/sf/sfa.py", line 5739, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            
Failed example:                                                                                                                                       
    m[1,1].exponential_specialization(q=None)                                                                                                         
Expected:                                                                                                                                             
    1/2*t^2                                                                                                                                           
Got:                                                                                                                                                  
    (q/(q + 1))*t^2                                                                                                                                   
**********************************************************************                                                                                
File "src/sage/combinat/sf/sfa.py", line 5742, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            
Failed example:                                                                                                                                       
    m[1,1].exponential_specialization(q=q)                                                                                                            
Expected:                                                                                                                                             
    t^2 * (1 - q)/(1 + q)                                                                                                                             
Got:                                                                                                                                                  
    (q/(q + 1))*t^2                                                                                                                                   
**********************************************************************                                                                                
File "src/sage/combinat/sf/sfa.py", line 5748, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            
Failed example:                                                                                                                                       
    m[1,1].exponential_specialization(q=q, t=t)                                                                                                       
Expected:                                                                                                                                             
    t^2 * (1 - q)/(1 + q)                                                                                                                             
Got:                                                                                                                                                  
    q*t^2/(q + 1)                                                                                                                                     
**********************************************************************                                                                                
File "src/sage/combinat/sf/sfa.py", line 5794, in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization            
Failed example:                                                                                                                                       
    set(b[lam].exponential_specialization(q=q2, t=t2).parent() for b in B for lam in lams)                                                            
Expected:         
    {Fraction Field of Multivariate Polynomial Ring in q, t over Finite Field of size 3,                                                              
     Multivariate Polynomial Ring in q, t over Finite Field of size 3}                                                                                
Got:                                                                                                                                                  
    {Multivariate Polynomial Ring in q, t over Finite Field of size 3,                                                                                
     Fraction Field of Multivariate Polynomial Ring in q, t over Finite Field of size 3}                                                              
**********************************************************************                                                                                
1 item had failures:                                                                                                                                  
   4 of  46 in sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.exponential_specialization                                               
    [1155 tests, 4 failures, 4.96 s]                                                                                                                  
----------------------------------------------------------------------                                                                                
sage -t src/sage/combinat/sf/sfa.py  # 4 doctests failed                                                                                              
----------------------------------------------------------------------                                                       
```



---

archive/issue_comments_137423.json:
```json
{
    "body": "<a id='comment:4'></a>\nSage is right on all four counts here. Sorry again.",
    "created_at": "2020-04-26T10:24:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137423",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:4'></a>
Sage is right on all four counts here. Sorry again.



---

archive/issue_comments_137424.json:
```json
{
    "body": "Changing commit from \"ccd6902363e5d682913b523d2b353b5352d234ed\" to \"bb5d51dea6a6f2c62fe295957bbadccd28f4c5e6\"",
    "created_at": "2020-04-26T10:31:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137424",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ccd6902363e5d682913b523d2b353b5352d234ed" to "bb5d51dea6a6f2c62fe295957bbadccd28f4c5e6"



---

archive/issue_comments_137425.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|\n|[deaf172](https://github.com/sagemath/sagetrac-mirror/commit/deaf172a5d5289b8dbaca96a786e1a294c99ca6f)|`fix doctests`|\n|[bb5d51d](https://github.com/sagemath/sagetrac-mirror/commit/bb5d51dea6a6f2c62fe295957bbadccd28f4c5e6)|`follow Travis's suggestion about set output`|",
    "created_at": "2020-04-26T10:31:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137425",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|
|[deaf172](https://github.com/sagemath/sagetrac-mirror/commit/deaf172a5d5289b8dbaca96a786e1a294c99ca6f)|`fix doctests`|
|[bb5d51d](https://github.com/sagemath/sagetrac-mirror/commit/bb5d51dea6a6f2c62fe295957bbadccd28f4c5e6)|`follow Travis's suggestion about set output`|



---

archive/issue_comments_137426.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[cad4c9a](https://github.com/sagemath/sagetrac-mirror/commit/cad4c9a52d4afd9b0935c397b2a0bbb60d6f81de)|`fix doctest, fix comments`|\n|[326ad0c](https://github.com/sagemath/sagetrac-mirror/commit/326ad0c752e5946ea5ca0e77285de37fbfe1453c)|`test battery for principal_specialization`|\n|[88030f5](https://github.com/sagemath/sagetrac-mirror/commit/88030f5d5a2fc4cfc2c4f1f099ff4e485568208b)|`attempt at fixing schur principal_spec`|\n|[9a63445](https://github.com/sagemath/sagetrac-mirror/commit/9a63445b7e6816a0b996cab9e1125f78db781aeb)|`fix quotients`|\n|[e0a7742](https://github.com/sagemath/sagetrac-mirror/commit/e0a7742d9107fc482663657b31e8ab2a3d6a76c4)|`similar changes to powersum`|\n|[08acbef](https://github.com/sagemath/sagetrac-mirror/commit/08acbeff1bbba84c5ad1c4b0d039df0a5a1c7dbc)|`add doctests for powersums`|\n|[ed11078](https://github.com/sagemath/sagetrac-mirror/commit/ed110782db7b552c72ee4393ec37e7404d47c796)|`attempt at a test battery for exponential specialization`|\n|[dcae3dd](https://github.com/sagemath/sagetrac-mirror/commit/dcae3dd9861aa30b379956423e360ceff7d41c1a)|`fix doctests`|\n|[d3ed94f](https://github.com/sagemath/sagetrac-mirror/commit/d3ed94fde743521acb92f8043eabef2061389303)|`fix doctests`|\n|[dcded65](https://github.com/sagemath/sagetrac-mirror/commit/dcded652f27390f2e7328379b7135ac1656409e7)|`follow Travis's suggestion about set output`|",
    "created_at": "2020-04-26T10:32:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137426",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[cad4c9a](https://github.com/sagemath/sagetrac-mirror/commit/cad4c9a52d4afd9b0935c397b2a0bbb60d6f81de)|`fix doctest, fix comments`|
|[326ad0c](https://github.com/sagemath/sagetrac-mirror/commit/326ad0c752e5946ea5ca0e77285de37fbfe1453c)|`test battery for principal_specialization`|
|[88030f5](https://github.com/sagemath/sagetrac-mirror/commit/88030f5d5a2fc4cfc2c4f1f099ff4e485568208b)|`attempt at fixing schur principal_spec`|
|[9a63445](https://github.com/sagemath/sagetrac-mirror/commit/9a63445b7e6816a0b996cab9e1125f78db781aeb)|`fix quotients`|
|[e0a7742](https://github.com/sagemath/sagetrac-mirror/commit/e0a7742d9107fc482663657b31e8ab2a3d6a76c4)|`similar changes to powersum`|
|[08acbef](https://github.com/sagemath/sagetrac-mirror/commit/08acbeff1bbba84c5ad1c4b0d039df0a5a1c7dbc)|`add doctests for powersums`|
|[ed11078](https://github.com/sagemath/sagetrac-mirror/commit/ed110782db7b552c72ee4393ec37e7404d47c796)|`attempt at a test battery for exponential specialization`|
|[dcae3dd](https://github.com/sagemath/sagetrac-mirror/commit/dcae3dd9861aa30b379956423e360ceff7d41c1a)|`fix doctests`|
|[d3ed94f](https://github.com/sagemath/sagetrac-mirror/commit/d3ed94fde743521acb92f8043eabef2061389303)|`fix doctests`|
|[dcded65](https://github.com/sagemath/sagetrac-mirror/commit/dcded652f27390f2e7328379b7135ac1656409e7)|`follow Travis's suggestion about set output`|



---

archive/issue_comments_137427.json:
```json
{
    "body": "Changing commit from \"bb5d51dea6a6f2c62fe295957bbadccd28f4c5e6\" to \"dcded652f27390f2e7328379b7135ac1656409e7\"",
    "created_at": "2020-04-26T10:32:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137427",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bb5d51dea6a6f2c62fe295957bbadccd28f4c5e6" to "dcded652f27390f2e7328379b7135ac1656409e7"



---

archive/issue_comments_137428.json:
```json
{
    "body": "<a id='comment:7'></a>\nI've fixed what I believe to be all issues, and rebased the entire branch on the newest develop. And yet the merge is still failing :( Any ideas?",
    "created_at": "2020-04-26T10:33:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137428",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:7'></a>
I've fixed what I believe to be all issues, and rebased the entire branch on the newest develop. And yet the merge is still failing :( Any ideas?



---

archive/issue_comments_137429.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|\n|[9e0ce98](https://github.com/sagemath/sagetrac-mirror/commit/9e0ce98b30dbd778c45bfa8c4f3956df0c23e2db)|`Revert \"update`|",
    "created_at": "2020-04-26T15:50:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137429",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|
|[9e0ce98](https://github.com/sagemath/sagetrac-mirror/commit/9e0ce98b30dbd778c45bfa8c4f3956df0c23e2db)|`Revert "update`|



---

archive/issue_comments_137430.json:
```json
{
    "body": "Changing commit from \"dcded652f27390f2e7328379b7135ac1656409e7\" to \"9e0ce98b30dbd778c45bfa8c4f3956df0c23e2db\"",
    "created_at": "2020-04-26T15:50:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137430",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dcded652f27390f2e7328379b7135ac1656409e7" to "9e0ce98b30dbd778c45bfa8c4f3956df0c23e2db"



---

archive/issue_comments_137431.json:
```json
{
    "body": "Changing commit from \"9e0ce98b30dbd778c45bfa8c4f3956df0c23e2db\" to \"cc7462f99ac35e7b703277a1a07a47e27329eb19\"",
    "created_at": "2020-04-26T15:52:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137431",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9e0ce98b30dbd778c45bfa8c4f3956df0c23e2db" to "cc7462f99ac35e7b703277a1a07a47e27329eb19"



---

archive/issue_comments_137432.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[cc7462f](https://github.com/sagemath/sagetrac-mirror/commit/cc7462f99ac35e7b703277a1a07a47e27329eb19)|`Revert \"Revert \"update\"`|",
    "created_at": "2020-04-26T15:52:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137432",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[cc7462f](https://github.com/sagemath/sagetrac-mirror/commit/cc7462f99ac35e7b703277a1a07a47e27329eb19)|`Revert "Revert "update"`|



---

archive/issue_comments_137433.json:
```json
{
    "body": "<a id='comment:0'></a>\nIgnore the last two commits; I thought they'd fix the merge issue, but they didn't.\n\nAny news on the new doctests? If they work right, I'd declare positive review and let it sort itself out once rc2 is out.",
    "created_at": "2020-04-26T15:53:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137433",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:0'></a>
Ignore the last two commits; I thought they'd fix the merge issue, but they didn't.

Any news on the new doctests? If they work right, I'd declare positive review and let it sort itself out once rc2 is out.



---

archive/issue_comments_137434.json:
```json
{
    "body": "<a id='comment:1'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[b19c0f4](https://github.com/sagemath/sagetrac-mirror/commit/b19c0f436ebdf75eb607dbe6f1f3768e9e95a714)|`replacing ring[name]`|\n|[155e0ea](https://github.com/sagemath/sagetrac-mirror/commit/155e0ea6ae8d49654989f37b5effb5ac80ebe765)|`fix doctest, fix comments`|\n|[12e4437](https://github.com/sagemath/sagetrac-mirror/commit/12e4437fdd0defddbda2e349f1bff1400a0c89a4)|`test battery for principal_specialization`|\n|[d4d652b](https://github.com/sagemath/sagetrac-mirror/commit/d4d652b162166f76dddcf5cb394837534effd210)|`attempt at fixing schur principal_spec`|\n|[1680397](https://github.com/sagemath/sagetrac-mirror/commit/1680397bd0993fd1ae3351ee888fba2c29103501)|`fix quotients`|\n|[db009ef](https://github.com/sagemath/sagetrac-mirror/commit/db009ef22d0a31312db15adf199c718e23d2891a)|`similar changes to powersum`|\n|[96efc4f](https://github.com/sagemath/sagetrac-mirror/commit/96efc4fc13fdd56976e54120a983b7af0112ef0a)|`add doctests for powersums`|\n|[f0f31e6](https://github.com/sagemath/sagetrac-mirror/commit/f0f31e6d8c15695665849ab9fed8687ef74879df)|`attempt at a test battery for exponential specialization`|\n|[ccd6902](https://github.com/sagemath/sagetrac-mirror/commit/ccd6902363e5d682913b523d2b353b5352d234ed)|`fix doctests`|\n|[679dc74](https://github.com/sagemath/sagetrac-mirror/commit/679dc74c1fc114460989d2f805b5a5141911ee97)|`Merge branch 'public/sf/principal_specialization' of git://trac.sagemath.org/sage into t/10930/public/sf/principal_specialization`|",
    "created_at": "2020-04-26T18:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137434",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[b19c0f4](https://github.com/sagemath/sagetrac-mirror/commit/b19c0f436ebdf75eb607dbe6f1f3768e9e95a714)|`replacing ring[name]`|
|[155e0ea](https://github.com/sagemath/sagetrac-mirror/commit/155e0ea6ae8d49654989f37b5effb5ac80ebe765)|`fix doctest, fix comments`|
|[12e4437](https://github.com/sagemath/sagetrac-mirror/commit/12e4437fdd0defddbda2e349f1bff1400a0c89a4)|`test battery for principal_specialization`|
|[d4d652b](https://github.com/sagemath/sagetrac-mirror/commit/d4d652b162166f76dddcf5cb394837534effd210)|`attempt at fixing schur principal_spec`|
|[1680397](https://github.com/sagemath/sagetrac-mirror/commit/1680397bd0993fd1ae3351ee888fba2c29103501)|`fix quotients`|
|[db009ef](https://github.com/sagemath/sagetrac-mirror/commit/db009ef22d0a31312db15adf199c718e23d2891a)|`similar changes to powersum`|
|[96efc4f](https://github.com/sagemath/sagetrac-mirror/commit/96efc4fc13fdd56976e54120a983b7af0112ef0a)|`add doctests for powersums`|
|[f0f31e6](https://github.com/sagemath/sagetrac-mirror/commit/f0f31e6d8c15695665849ab9fed8687ef74879df)|`attempt at a test battery for exponential specialization`|
|[ccd6902](https://github.com/sagemath/sagetrac-mirror/commit/ccd6902363e5d682913b523d2b353b5352d234ed)|`fix doctests`|
|[679dc74](https://github.com/sagemath/sagetrac-mirror/commit/679dc74c1fc114460989d2f805b5a5141911ee97)|`Merge branch 'public/sf/principal_specialization' of git://trac.sagemath.org/sage into t/10930/public/sf/principal_specialization`|



---

archive/issue_comments_137435.json:
```json
{
    "body": "Changing commit from \"cc7462f99ac35e7b703277a1a07a47e27329eb19\" to \"679dc74c1fc114460989d2f805b5a5141911ee97\"",
    "created_at": "2020-04-26T18:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137435",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cc7462f99ac35e7b703277a1a07a47e27329eb19" to "679dc74c1fc114460989d2f805b5a5141911ee97"



---

archive/issue_comments_137436.json:
```json
{
    "body": "Changing commit from \"679dc74c1fc114460989d2f805b5a5141911ee97\" to \"ede20159c2be62cb9bebe0d02ddd2e0bea5a4b5a\"",
    "created_at": "2020-04-26T18:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137436",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "679dc74c1fc114460989d2f805b5a5141911ee97" to "ede20159c2be62cb9bebe0d02ddd2e0bea5a4b5a"



---

archive/issue_comments_137437.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[ede2015](https://github.com/sagemath/sagetrac-mirror/commit/ede20159c2be62cb9bebe0d02ddd2e0bea5a4b5a)|`Merge branch 'develop' into t/10930/public/sf/principal_specialization`|",
    "created_at": "2020-04-26T18:41:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137437",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[ede2015](https://github.com/sagemath/sagetrac-mirror/commit/ede20159c2be62cb9bebe0d02ddd2e0bea5a4b5a)|`Merge branch 'develop' into t/10930/public/sf/principal_specialization`|



---

archive/issue_comments_137438.json:
```json
{
    "body": "<a id='comment:3'></a>\nLooks good to me!",
    "created_at": "2020-04-26T18:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137438",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:3'></a>
Looks good to me!



---

archive/issue_comments_137439.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-26T18:52:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137439",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_137440.json:
```json
{
    "body": "<a id='comment:4'></a>\nThanks for the merge! Positive review then.",
    "created_at": "2020-04-26T18:52:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137440",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:4'></a>
Thanks for the merge! Positive review then.



---

archive/issue_comments_137441.json:
```json
{
    "body": "<a id='comment:5'></a>\nIncredible! 03/14/11 - 04/26/20",
    "created_at": "2020-04-26T18:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137441",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:5'></a>
Incredible! 03/14/11 - 04/26/20



---

archive/issue_comments_137442.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-04-28T02:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137442",
    "user": "https://github.com/kiwifb"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_137443.json:
```json
{
    "body": "<a id='comment:6'></a>\nDocumentation doesn't build because in `sage/combinat/sfa.py` you have `[GriRei18_]` instead of `[GriRei18]_`.",
    "created_at": "2020-04-28T02:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137443",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'></a>
Documentation doesn't build because in `sage/combinat/sfa.py` you have `[GriRei18_]` instead of `[GriRei18]_`.



---

archive/issue_comments_137444.json:
```json
{
    "body": "Changing commit from \"ede20159c2be62cb9bebe0d02ddd2e0bea5a4b5a\" to \"a7a602b28dc48d88012f261c7e4137ac046877e7\"",
    "created_at": "2020-04-28T03:54:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137444",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ede20159c2be62cb9bebe0d02ddd2e0bea5a4b5a" to "a7a602b28dc48d88012f261c7e4137ac046877e7"



---

archive/issue_comments_137445.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[a7a602b](https://github.com/sagemath/sagetrac-mirror/commit/a7a602b28dc48d88012f261c7e4137ac046877e7)|`src/sage/combinat/sf/sfa.py: Fixup markup in docstring`|",
    "created_at": "2020-04-28T03:54:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137445",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[a7a602b](https://github.com/sagemath/sagetrac-mirror/commit/a7a602b28dc48d88012f261c7e4137ac046877e7)|`src/sage/combinat/sf/sfa.py: Fixup markup in docstring`|



---

archive/issue_comments_137446.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2020-04-28T03:54:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137446",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_137447.json:
```json
{
    "body": "<a id='comment:9'></a>\nThanks, Francois and Matthias!",
    "created_at": "2020-04-28T07:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137447",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:9'></a>
Thanks, Francois and Matthias!



---

archive/issue_comments_137448.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-05-02T23:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137448",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_137449.json:
```json
{
    "body": "<a id='comment:0'></a>\nPDF docs don't build",
    "created_at": "2020-05-02T23:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137449",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:0'></a>
PDF docs don't build



---

archive/issue_comments_137450.json:
```json
{
    "body": "<a id='comment:1'></a>\nLog? I can't run make on cygwin right now.",
    "created_at": "2020-05-03T09:14:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137450",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:1'></a>
Log? I can't run make on cygwin right now.



---

archive/issue_comments_137451.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[1ab1097](https://github.com/sagemath/sagetrac-mirror/commit/1ab1097f1aa12b10f1144e7e3b02bd349b0e8026)|`attempt at fixing schur principal_spec`|\n|[d67dadd](https://github.com/sagemath/sagetrac-mirror/commit/d67dadd25d965fc77746dba6dc2f61041b915528)|`fix quotients`|\n|[b283d23](https://github.com/sagemath/sagetrac-mirror/commit/b283d231be19a63f0df2fb5eb7e94b456ac523bc)|`similar changes to powersum`|\n|[0e2f95c](https://github.com/sagemath/sagetrac-mirror/commit/0e2f95ce92868be51c8c8b21ebfe1a6b74f52eda)|`add doctests for powersums`|\n|[e16d524](https://github.com/sagemath/sagetrac-mirror/commit/e16d5249d729fa50350a8f7e1a4d3b6c4aedfe79)|`attempt at a test battery for exponential specialization`|\n|[9777740](https://github.com/sagemath/sagetrac-mirror/commit/97777402bbb51b0592e2b53bfb06fbea583a8def)|`fix doctests`|\n|[ab684e7](https://github.com/sagemath/sagetrac-mirror/commit/ab684e74e9bf8e622843de3bbfe5fed1e1a6b7b7)|`fix doctests`|\n|[db17045](https://github.com/sagemath/sagetrac-mirror/commit/db1704513d5a2a0138bfabb94a409f6439f1d220)|`follow Travis's suggestion about set output`|\n|[f55e4d9](https://github.com/sagemath/sagetrac-mirror/commit/f55e4d96fb4e67fe23c4252d29a26ff9a0732c6e)|`oops`|\n|[cf9e0f2](https://github.com/sagemath/sagetrac-mirror/commit/cf9e0f2802032941595f0b25b9d090da04939bfa)|`src/sage/combinat/sf/sfa.py: Fixup markup in docstring`|",
    "created_at": "2020-05-03T09:24:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137451",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[1ab1097](https://github.com/sagemath/sagetrac-mirror/commit/1ab1097f1aa12b10f1144e7e3b02bd349b0e8026)|`attempt at fixing schur principal_spec`|
|[d67dadd](https://github.com/sagemath/sagetrac-mirror/commit/d67dadd25d965fc77746dba6dc2f61041b915528)|`fix quotients`|
|[b283d23](https://github.com/sagemath/sagetrac-mirror/commit/b283d231be19a63f0df2fb5eb7e94b456ac523bc)|`similar changes to powersum`|
|[0e2f95c](https://github.com/sagemath/sagetrac-mirror/commit/0e2f95ce92868be51c8c8b21ebfe1a6b74f52eda)|`add doctests for powersums`|
|[e16d524](https://github.com/sagemath/sagetrac-mirror/commit/e16d5249d729fa50350a8f7e1a4d3b6c4aedfe79)|`attempt at a test battery for exponential specialization`|
|[9777740](https://github.com/sagemath/sagetrac-mirror/commit/97777402bbb51b0592e2b53bfb06fbea583a8def)|`fix doctests`|
|[ab684e7](https://github.com/sagemath/sagetrac-mirror/commit/ab684e74e9bf8e622843de3bbfe5fed1e1a6b7b7)|`fix doctests`|
|[db17045](https://github.com/sagemath/sagetrac-mirror/commit/db1704513d5a2a0138bfabb94a409f6439f1d220)|`follow Travis's suggestion about set output`|
|[f55e4d9](https://github.com/sagemath/sagetrac-mirror/commit/f55e4d96fb4e67fe23c4252d29a26ff9a0732c6e)|`oops`|
|[cf9e0f2](https://github.com/sagemath/sagetrac-mirror/commit/cf9e0f2802032941595f0b25b9d090da04939bfa)|`src/sage/combinat/sf/sfa.py: Fixup markup in docstring`|



---

archive/issue_comments_137452.json:
```json
{
    "body": "Changing commit from \"a7a602b28dc48d88012f261c7e4137ac046877e7\" to \"cf9e0f2802032941595f0b25b9d090da04939bfa\"",
    "created_at": "2020-05-03T09:24:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137452",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a7a602b28dc48d88012f261c7e4137ac046877e7" to "cf9e0f2802032941595f0b25b9d090da04939bfa"



---

archive/issue_comments_137453.json:
```json
{
    "body": "<a id='comment:3'></a>\nFound it! Am pushing with force since I've once again rebased the entire branch (with my new commit as second-to-last and Matthias's as last).\n\n---\nLast 10 new commits:\n|                                                                                                                                          |                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[1ab1097](https://github.com/sagemath/sagetrac-mirror/commit/1ab1097f1aa12b10f1144e7e3b02bd349b0e8026)|`attempt at fixing schur principal_spec`|\n|[d67dadd](https://github.com/sagemath/sagetrac-mirror/commit/d67dadd25d965fc77746dba6dc2f61041b915528)|`fix quotients`|\n|[b283d23](https://github.com/sagemath/sagetrac-mirror/commit/b283d231be19a63f0df2fb5eb7e94b456ac523bc)|`similar changes to powersum`|\n|[0e2f95c](https://github.com/sagemath/sagetrac-mirror/commit/0e2f95ce92868be51c8c8b21ebfe1a6b74f52eda)|`add doctests for powersums`|\n|[e16d524](https://github.com/sagemath/sagetrac-mirror/commit/e16d5249d729fa50350a8f7e1a4d3b6c4aedfe79)|`attempt at a test battery for exponential specialization`|\n|[9777740](https://github.com/sagemath/sagetrac-mirror/commit/97777402bbb51b0592e2b53bfb06fbea583a8def)|`fix doctests`|\n|[ab684e7](https://github.com/sagemath/sagetrac-mirror/commit/ab684e74e9bf8e622843de3bbfe5fed1e1a6b7b7)|`fix doctests`|\n|[db17045](https://github.com/sagemath/sagetrac-mirror/commit/db1704513d5a2a0138bfabb94a409f6439f1d220)|`follow Travis's suggestion about set output`|\n|[f55e4d9](https://github.com/sagemath/sagetrac-mirror/commit/f55e4d96fb4e67fe23c4252d29a26ff9a0732c6e)|`oops`|\n|[cf9e0f2](https://github.com/sagemath/sagetrac-mirror/commit/cf9e0f2802032941595f0b25b9d090da04939bfa)|`src/sage/combinat/sf/sfa.py: Fixup markup in docstring`|",
    "created_at": "2020-05-03T09:24:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137453",
    "user": "https://github.com/darijgr"
}
```

<a id='comment:3'></a>
Found it! Am pushing with force since I've once again rebased the entire branch (with my new commit as second-to-last and Matthias's as last).

---
Last 10 new commits:
|                                                                                                                                          |                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[1ab1097](https://github.com/sagemath/sagetrac-mirror/commit/1ab1097f1aa12b10f1144e7e3b02bd349b0e8026)|`attempt at fixing schur principal_spec`|
|[d67dadd](https://github.com/sagemath/sagetrac-mirror/commit/d67dadd25d965fc77746dba6dc2f61041b915528)|`fix quotients`|
|[b283d23](https://github.com/sagemath/sagetrac-mirror/commit/b283d231be19a63f0df2fb5eb7e94b456ac523bc)|`similar changes to powersum`|
|[0e2f95c](https://github.com/sagemath/sagetrac-mirror/commit/0e2f95ce92868be51c8c8b21ebfe1a6b74f52eda)|`add doctests for powersums`|
|[e16d524](https://github.com/sagemath/sagetrac-mirror/commit/e16d5249d729fa50350a8f7e1a4d3b6c4aedfe79)|`attempt at a test battery for exponential specialization`|
|[9777740](https://github.com/sagemath/sagetrac-mirror/commit/97777402bbb51b0592e2b53bfb06fbea583a8def)|`fix doctests`|
|[ab684e7](https://github.com/sagemath/sagetrac-mirror/commit/ab684e74e9bf8e622843de3bbfe5fed1e1a6b7b7)|`fix doctests`|
|[db17045](https://github.com/sagemath/sagetrac-mirror/commit/db1704513d5a2a0138bfabb94a409f6439f1d220)|`follow Travis's suggestion about set output`|
|[f55e4d9](https://github.com/sagemath/sagetrac-mirror/commit/f55e4d96fb4e67fe23c4252d29a26ff9a0732c6e)|`oops`|
|[cf9e0f2](https://github.com/sagemath/sagetrac-mirror/commit/cf9e0f2802032941595f0b25b9d090da04939bfa)|`src/sage/combinat/sf/sfa.py: Fixup markup in docstring`|



---

archive/issue_comments_137454.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2020-05-03T09:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137454",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_137455.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-05-31T08:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137455",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_137456.json:
```json
{
    "body": "Changing branch from \"public/sf/principal_specialization\" to \"cf9e0f2802032941595f0b25b9d090da04939bfa\"",
    "created_at": "2020-05-31T08:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10930#issuecomment-137456",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/sf/principal_specialization" to "cf9e0f2802032941595f0b25b9d090da04939bfa"



---

archive/issue_events_041427.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-31T08:48:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10930",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10930#event-41427"
}
```
