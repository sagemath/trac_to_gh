# Issue 10775: streamline plots

archive/issues_010710.json:
```json
{
    "body": "Recently there was a thread on the matplotlib list where someone posted matplotlib code for a streamline plot.  It looks very nice.  If the code doesn't get included in matplotlib, we could still ask about including it in Sage to do streamline plots.\n\nMailing list message: http://permalink.gmane.org/gmane.comp.python.matplotlib.general/26362\n\nMailing list thread: http://comments.gmane.org/gmane.comp.python.matplotlib.general/26354\n\nExample code: http://web.mit.edu/speth/Public/streamlines.py\n\nExample plot: http://web.mit.edu/speth/Public/streamlines.png\n\n\nAssignee: jason, was\n\nCC:  @kcrisman @alauve jakobkroeker @paulmasson jhonrubia6\n\nBranch/Commit: 640cb6aad1a6b6380adabcb2c4d24d10eca3e718\n\nUpstream: Completely fixed; Fix reported upstream\n\nReviewer: Travis Scrimshaw\n\nAuthor: Paul Masson\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/10775\n\n",
    "closed_at": "2016-10-21T07:04:45Z",
    "created_at": "2011-02-12T20:28:39Z",
    "labels": [
        "component: graphics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "streamline plots",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10775",
    "user": "https://github.com/jasongrout"
}
```
Recently there was a thread on the matplotlib list where someone posted matplotlib code for a streamline plot.  It looks very nice.  If the code doesn't get included in matplotlib, we could still ask about including it in Sage to do streamline plots.

Mailing list message: http://permalink.gmane.org/gmane.comp.python.matplotlib.general/26362

Mailing list thread: http://comments.gmane.org/gmane.comp.python.matplotlib.general/26354

Example code: http://web.mit.edu/speth/Public/streamlines.py

Example plot: http://web.mit.edu/speth/Public/streamlines.png


Assignee: jason, was

CC:  @kcrisman @alauve jakobkroeker @paulmasson jhonrubia6

Branch/Commit: 640cb6aad1a6b6380adabcb2c4d24d10eca3e718

Upstream: Completely fixed; Fix reported upstream

Reviewer: Travis Scrimshaw

Author: Paul Masson

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/10775





---

archive/issue_comments_136309.json:
```json
{
    "body": "<a id='comment:1'></a>\nAnd here is another file from the same message with some fantastically nice plots:\n\nCode: http://www.atm.damtp.cam.ac.uk/people/tjf37/streamplot.py\n\nResult: http://www.atm.damtp.cam.ac.uk/people/tjf37/streamlines1.png\n\nResult 2: http://www.atm.damtp.cam.ac.uk/people/tjf37/streamlines2.png",
    "created_at": "2011-02-14T12:27:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136309",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:1'></a>
And here is another file from the same message with some fantastically nice plots:

Code: http://www.atm.damtp.cam.ac.uk/people/tjf37/streamplot.py

Result: http://www.atm.damtp.cam.ac.uk/people/tjf37/streamlines1.png

Result 2: http://www.atm.damtp.cam.ac.uk/people/tjf37/streamlines2.png



---

archive/issue_comments_136310.json:
```json
{
    "body": "Attachment [streamplot.py](tarball://root/attachments/some-uuid/ticket10775/streamplot.py) by @jasongrout created at 2011-02-14 12:28:41",
    "created_at": "2011-02-14T12:28:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136310",
    "user": "https://github.com/jasongrout"
}
```

Attachment [streamplot.py](tarball://root/attachments/some-uuid/ticket10775/streamplot.py) by @jasongrout created at 2011-02-14 12:28:41



---

archive/issue_comments_136311.json:
```json
{
    "body": "<a id='comment:2'></a>\nI've attached both code files so that we have them even if the above links go down for whatever reason.",
    "created_at": "2011-02-14T12:29:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136311",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:2'></a>
I've attached both code files so that we have them even if the above links go down for whatever reason.



---

archive/issue_comments_136312.json:
```json
{
    "body": "<a id='comment:3'></a>\nSee http://sagenb.org/home/pub/3237/ for a short example and rough Sage code (posted at http://sage.math.washington.edu/home/jason/sage-field-plots/)",
    "created_at": "2011-09-27T20:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136312",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:3'></a>
See http://sagenb.org/home/pub/3237/ for a short example and rough Sage code (posted at http://sage.math.washington.edu/home/jason/sage-field-plots/)



---

archive/issue_comments_136313.json:
```json
{
    "body": "<a id='comment:4'></a>\nYo, this is now in mpl!\n* [the file](https://github.com/matplotlib/matplotlib/blob/master/lib/matplotlib/streamplot.py)\n* [the commit](https://github.com/matplotlib/matplotlib/commit/687af189381b46e40a6b25b4aafa4e208962c914)\nI'm not sure how to figure out which release it's in, if it's in a release yet.  It looks like it will probably be in 1.1.1, as 1.1.0 has been out for longer than this was in.",
    "created_at": "2012-06-25T19:25:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136313",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
Yo, this is now in mpl!
* [the file](https://github.com/matplotlib/matplotlib/blob/master/lib/matplotlib/streamplot.py)
* [the commit](https://github.com/matplotlib/matplotlib/commit/687af189381b46e40a6b25b4aafa4e208962c914)
I'm not sure how to figure out which release it's in, if it's in a release yet.  It looks like it will probably be in 1.1.1, as 1.1.0 has been out for longer than this was in.



---

archive/issue_comments_136314.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Fixed upstream, but not in a stable release.\"",
    "created_at": "2012-06-25T19:25:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136314",
    "user": "https://github.com/kcrisman"
}
```

Changing upstream from "N/A" to "Fixed upstream, but not in a stable release."



---

archive/issue_comments_136315.json:
```json
{
    "body": "<a id='comment:5'></a>\nSee also http://sage.cs.drake.edu/home/pub/60/ for another example.",
    "created_at": "2012-06-25T20:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136315",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:5'></a>
See also http://sage.cs.drake.edu/home/pub/60/ for another example.



---

archive/issue_comments_136316.json:
```json
{
    "body": "<a id='comment:6'></a>\nAttachment [DE Solutions (1).sws](tarball://root/attachments/some-uuid/ticket10775/DE Solutions (1).sws) by @jasongrout created at 2012-10-02 13:12:06\n\nI attached the example I pointed out in the sage.cs.drake.edu server.",
    "created_at": "2012-10-02T13:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136316",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:6'></a>
Attachment [DE Solutions (1).sws](tarball://root/attachments/some-uuid/ticket10775/DE Solutions (1).sws) by @jasongrout created at 2012-10-02 13:12:06

I attached the example I pointed out in the sage.cs.drake.edu server.



---

archive/issue_comments_136317.json:
```json
{
    "body": "<a id='comment:7'></a>\n#13693 is for the appropriate mpl upgrade for this.",
    "created_at": "2013-03-03T01:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136317",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'></a>
#13693 is for the appropriate mpl upgrade for this.



---

archive/issue_events_027777.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10775#event-27777"
}
```



---

archive/issue_events_027778.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10775#event-27778"
}
```



---

archive/issue_events_027779.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10775#event-27779"
}
```



---

archive/issue_events_027780.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10775#event-27780"
}
```



---

archive/issue_events_027781.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10775#event-27781"
}
```



---

archive/issue_events_027782.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10775#event-27782"
}
```



---

archive/issue_events_027783.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10775#event-27783"
}
```



---

archive/issue_comments_136318.json:
```json
{
    "body": "<a id='comment:12'></a>\nHere are some [upstream examples](http://matplotlib.org/examples/images_contours_and_fields/streamplot_demo_features.html).\n\n---\nHere is another example from somewhere in this discussion, allowing phase plots.  Not directly related but looks nice with such things.\n\n```\n# based on code from oddrobot, http://sagenb.org/home/pub/1532/\nfrom sage.calculus.desolvers import desolve_system_rk4\nx,y,t=var('x y t')\nclass DESolution:\n    def __init__(self,system,time_range,initial,stepsize=0.05):\n        \n        self.tvar=time_range[0]\n        self._times=srange(time_range[1],time_range[2],stepsize)\n        self.vars=[v for v,_ in initial]\n        self.dim=len(self.vars)\n        self._soln=desolve_odeint(system, ics=[v for _,v in initial], times=self._times, dvars=self.vars, ivar=self.tvar)\n        \n    def phase_plot(self,vars=None,color='blue',**kwargs):\n        # find which indices the specified variables are\n        if vars is not None:\n            vars_index=[self.vars.index(v) for v in vars]\n        elif self.dim<=3:\n            vars_index=range(self.dim)\n        else:\n            vars_index=range(2)\n            \n        p=line(self._soln[:,vars_index],color=color,**kwargs)\n        # add an arrow head showing which way we are going around the phase line\n        half=int(self._soln.shape[0]/2)\n        p+=arrow(self._soln[half,vars_index], self._soln[half+1,vars_index],color=color)\n        if len(vars_index)==2:\n            p.axes_labels([str(self.vars[v]) for v in vars_index])\n        return p\n        \n    def coordinates(self,colors=None,**kwargs):\n        if colors is None:\n            colors=rainbow(len(self.vars))\n        p=Graphics()\n        p+=sum(line(zip(self._times,self._soln[:,i]), color=colors[i], legend_label=str(self.vars[i]),**kwargs) for i in range(self.dim))\n        return p\n```",
    "created_at": "2014-10-30T18:32:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136318",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>
Here are some [upstream examples](http://matplotlib.org/examples/images_contours_and_fields/streamplot_demo_features.html).

---
Here is another example from somewhere in this discussion, allowing phase plots.  Not directly related but looks nice with such things.

```
# based on code from oddrobot, http://sagenb.org/home/pub/1532/
from sage.calculus.desolvers import desolve_system_rk4
x,y,t=var('x y t')
class DESolution:
    def __init__(self,system,time_range,initial,stepsize=0.05):
        
        self.tvar=time_range[0]
        self._times=srange(time_range[1],time_range[2],stepsize)
        self.vars=[v for v,_ in initial]
        self.dim=len(self.vars)
        self._soln=desolve_odeint(system, ics=[v for _,v in initial], times=self._times, dvars=self.vars, ivar=self.tvar)
        
    def phase_plot(self,vars=None,color='blue',**kwargs):
        # find which indices the specified variables are
        if vars is not None:
            vars_index=[self.vars.index(v) for v in vars]
        elif self.dim<=3:
            vars_index=range(self.dim)
        else:
            vars_index=range(2)
            
        p=line(self._soln[:,vars_index],color=color,**kwargs)
        # add an arrow head showing which way we are going around the phase line
        half=int(self._soln.shape[0]/2)
        p+=arrow(self._soln[half,vars_index], self._soln[half+1,vars_index],color=color)
        if len(vars_index)==2:
            p.axes_labels([str(self.vars[v]) for v in vars_index])
        return p
        
    def coordinates(self,colors=None,**kwargs):
        if colors is None:
            colors=rainbow(len(self.vars))
        p=Graphics()
        p+=sum(line(zip(self._times,self._soln[:,i]), color=colors[i], legend_label=str(self.vars[i]),**kwargs) for i in range(self.dim))
        return p
```



---

archive/issue_comments_136319.json:
```json
{
    "body": "<a id='comment:13'></a>\nI was hoping we could resurrect this ticket as I am teaching a class on ODE's this semester and would like to plot streamlines on top of the slope fields. Does someone have some time to work on this? Alas, I don't know how much time I might have to do so.\n\nSo streamlines are included in matplotlib: http://matplotlib.org/examples/images_contours_and_fields/streamplot_demo_features.html\n\nThere is also another plot package I came across that is open-source python that does streamlines: https://plot.ly/python/streamline-plots/",
    "created_at": "2016-09-12T16:46:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136319",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
I was hoping we could resurrect this ticket as I am teaching a class on ODE's this semester and would like to plot streamlines on top of the slope fields. Does someone have some time to work on this? Alas, I don't know how much time I might have to do so.

So streamlines are included in matplotlib: http://matplotlib.org/examples/images_contours_and_fields/streamplot_demo_features.html

There is also another plot package I came across that is open-source python that does streamlines: https://plot.ly/python/streamline-plots/



---

archive/issue_comments_136320.json:
```json
{
    "body": "Changing upstream from \"Fixed upstream, but not in a stable release.\" to \"Completely fixed; Fix reported upstream\"",
    "created_at": "2016-09-12T16:46:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136320",
    "user": "https://github.com/tscrim"
}
```

Changing upstream from "Fixed upstream, but not in a stable release." to "Completely fixed; Fix reported upstream"



---

archive/issue_events_027784.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-09-12T16:46:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10775#event-27784"
}
```



---

archive/issue_events_027785.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2016-09-12T16:46:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "milestone": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10775#event-27785"
}
```



---

archive/issue_comments_136321.json:
```json
{
    "body": "<a id='comment:14'></a>\nSince I spent too much time today reading graphics code, I can take a crack at this. It looks like a new class is needed, modeled on `PlotField` but calling the `pyplot` method `streamplot` instead of `quiver`. It shouldn't be too difficult but won't happen overnight.\n\nTravis, if you see a way to avoid a new class, then let me know before I dive in tomorrow.",
    "created_at": "2016-09-13T01:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136321",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:14'></a>
Since I spent too much time today reading graphics code, I can take a crack at this. It looks like a new class is needed, modeled on `PlotField` but calling the `pyplot` method `streamplot` instead of `quiver`. It shouldn't be too difficult but won't happen overnight.

Travis, if you see a way to avoid a new class, then let me know before I dive in tomorrow.



---

archive/issue_comments_136322.json:
```json
{
    "body": "<a id='comment:15'></a>\nTo clarify: by new class I mean an individual file like `scatter_plot.py`, which calls the `pyplot` method `scatter`.",
    "created_at": "2016-09-13T01:58:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136322",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:15'></a>
To clarify: by new class I mean an individual file like `scatter_plot.py`, which calls the `pyplot` method `scatter`.



---

archive/issue_comments_136323.json:
```json
{
    "body": "<a id='comment:16'></a>\nYes, this is exactly how you should do it.  You could even keep it in the same module as the vector field plots, you can see that e.g. contour and density plots are in the same file.",
    "created_at": "2016-09-13T13:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136323",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>
Yes, this is exactly how you should do it.  You could even keep it in the same module as the vector field plots, you can see that e.g. contour and density plots are in the same file.



---

archive/issue_comments_136324.json:
```json
{
    "body": "<a id='comment:17'></a>\nThank you for taking point on this Paul!\n\nI agree with Karl-Dieter, you should definitely create a new class. However, contour and density plots are in separate files. Although, I have no preference whether or not you put in a separate file; it fits very well with `plot_field.py`.",
    "created_at": "2016-09-13T13:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136324",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'></a>
Thank you for taking point on this Paul!

I agree with Karl-Dieter, you should definitely create a new class. However, contour and density plots are in separate files. Although, I have no preference whether or not you put in a separate file; it fits very well with `plot_field.py`.



---

archive/issue_comments_136325.json:
```json
{
    "body": "Changing branch from \"\" to \"u/paulmasson/10775\"",
    "created_at": "2016-09-14T21:32:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136325",
    "user": "https://github.com/paulmasson"
}
```

Changing branch from "" to "u/paulmasson/10775"



---

archive/issue_comments_136326.json:
```json
{
    "body": "<a id='comment:19'></a>\nThis was surprisingly easy to get working! I copied over `plot_field.py` and left variable names the same for consistency. Then it was a matter of rearranging how the data arrays were assembled and changing the `pyplot` function name.\n\nDoctests and useful examples have been updated. I left the `_allowed_options` untouched because they might be relevant.\n\n---\nNew commits:\n|                                                                                                                                          |                |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------|\n|[852c719](https://git.sagemath.org/sage.git/commit?id=852c719b9707ee32622b6dbe3c0450d3e5f7fb49)|`Initial commit`|\n|[e6094a3](https://git.sagemath.org/sage.git/commit?id=e6094a3dc36480687265c2d7ea3c9db1fc5ab3cf)|`Initial working commit`|\n|[188b3c7](https://git.sagemath.org/sage.git/commit?id=188b3c75e50eece12cb3491bf8066abadf85c85c)|`Update doctests`|\n|[4c2ff90](https://git.sagemath.org/sage.git/commit?id=4c2ff907b1fe8bcb4ead3874a4a5b76e3ab01f05)|`Add streamline_plot`|\n|[9576ba7](https://git.sagemath.org/sage.git/commit?id=9576ba7abe47606fdf7667ea88e4bf8cf6dbefad)|`Update documentation`|",
    "created_at": "2016-09-14T21:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136326",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:19'></a>
This was surprisingly easy to get working! I copied over `plot_field.py` and left variable names the same for consistency. Then it was a matter of rearranging how the data arrays were assembled and changing the `pyplot` function name.

Doctests and useful examples have been updated. I left the `_allowed_options` untouched because they might be relevant.

---
New commits:
|                                                                                                                                          |                |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------|
|[852c719](https://git.sagemath.org/sage.git/commit?id=852c719b9707ee32622b6dbe3c0450d3e5f7fb49)|`Initial commit`|
|[e6094a3](https://git.sagemath.org/sage.git/commit?id=e6094a3dc36480687265c2d7ea3c9db1fc5ab3cf)|`Initial working commit`|
|[188b3c7](https://git.sagemath.org/sage.git/commit?id=188b3c75e50eece12cb3491bf8066abadf85c85c)|`Update doctests`|
|[4c2ff90](https://git.sagemath.org/sage.git/commit?id=4c2ff907b1fe8bcb4ead3874a4a5b76e3ab01f05)|`Add streamline_plot`|
|[9576ba7](https://git.sagemath.org/sage.git/commit?id=9576ba7abe47606fdf7667ea88e4bf8cf6dbefad)|`Update documentation`|



---

archive/issue_comments_136327.json:
```json
{
    "body": "Changing author from \"\" to \"Paul Masson\"",
    "created_at": "2016-09-14T21:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136327",
    "user": "https://github.com/paulmasson"
}
```

Changing author from "" to "Paul Masson"



---

archive/issue_comments_136328.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-09-14T21:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136328",
    "user": "https://github.com/paulmasson"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_136329.json:
```json
{
    "body": "Changing commit from \"\" to \"9576ba7abe47606fdf7667ea88e4bf8cf6dbefad\"",
    "created_at": "2016-09-14T21:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136329",
    "user": "https://github.com/paulmasson"
}
```

Changing commit from "" to "9576ba7abe47606fdf7667ea88e4bf8cf6dbefad"



---

archive/issue_comments_136330.json:
```json
{
    "body": "<a id='comment:20'></a>\nSorry to ask for a bit more. Could we add a way to input an initial point, allow input as a single function to treat it as a slope field, and an option to display the vector/slope field? If this is too much trouble, I am okay with positive reviewing this ticket as-is.",
    "created_at": "2016-09-15T04:06:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136330",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:20'></a>
Sorry to ask for a bit more. Could we add a way to input an initial point, allow input as a single function to treat it as a slope field, and an option to display the vector/slope field? If this is too much trouble, I am okay with positive reviewing this ticket as-is.



---

archive/issue_comments_136331.json:
```json
{
    "body": "<a id='comment:21'></a>\nTravis, if by \"initial point\" you mean initial conditions, aren't those just part of the function arguments given to the plot? What more do you intend with this feature?\n\nThe idea of a convenience function that switches between streamline and vector/slope plots is interesting, but shouldn't be part of `streamline_plot` itself. That one should stand alone, partly because the `streamplot` function it uses behaves differently from the `quiver` function used by the others. Some of the examples from `plot_field.py` had to be left out of this new file because `streamplot` returned errors for them.\n\nWould this convenience function be used regularly by others, or just you for one class? What's the rule of thumb for adding those sorts of features to Sage?\n\nIf you still want an additional convenience function added to this file, give me a name for it and its options.",
    "created_at": "2016-09-15T23:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136331",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:21'></a>
Travis, if by "initial point" you mean initial conditions, aren't those just part of the function arguments given to the plot? What more do you intend with this feature?

The idea of a convenience function that switches between streamline and vector/slope plots is interesting, but shouldn't be part of `streamline_plot` itself. That one should stand alone, partly because the `streamplot` function it uses behaves differently from the `quiver` function used by the others. Some of the examples from `plot_field.py` had to be left out of this new file because `streamplot` returned errors for them.

Would this convenience function be used regularly by others, or just you for one class? What's the rule of thumb for adding those sorts of features to Sage?

If you still want an additional convenience function added to this file, give me a name for it and its options.



---

archive/issue_comments_136332.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [paulmasson](#comment%3A21):\n> Travis, if by \"initial point\" you mean initial conditions, aren't those just part of the function arguments given to the plot?\n\n\nYes, but how I am reading the code, it looks like it does streamlines starting at each integer point.\n\n> What more do you intend with this feature?\n\n\nPlot a solution for a given IVP.\n\n> The idea of a convenience function that switches between streamline and vector/slope plots is interesting, but shouldn't be part of `streamline_plot` itself. That one should stand alone, partly because the `streamplot` function it uses behaves differently from the `quiver` function used by the others. Some of the examples from `plot_field.py` had to be left out of this new file because `streamplot` returned errors for them.\n\n\nIf you look at the slope plot, it redirects to the vector plot with special options. We should be able to automate this by looking at the input, a tuple for a vector plot and otherwise consider it a slope plot.\n\n> Would this convenience function be used regularly by others, or just you for one class? What's the rule of thumb for adding those sorts of features to Sage?\n\n\nI would be surprised if this did not get significant uptake in a variety of other classes. One of my first forays into Python was plotting a single streamline for the Lorenz attractor. However, there are a number of things in Sage that are likely only used by a few people, so the rule is it gets added if someone is willing to positively review it.\n\n> If you still want an additional convenience function added to this file, give me a name for it and its options.\n\n\nGranted, I would eventually like a 3d version, but that can most certainly be a followup ticket.\n\nI should have time next week to actually directly work on this (i.e. write code).",
    "created_at": "2016-09-15T23:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136332",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>
Replying to [paulmasson](#comment%3A21):
> Travis, if by "initial point" you mean initial conditions, aren't those just part of the function arguments given to the plot?


Yes, but how I am reading the code, it looks like it does streamlines starting at each integer point.

> What more do you intend with this feature?


Plot a solution for a given IVP.

> The idea of a convenience function that switches between streamline and vector/slope plots is interesting, but shouldn't be part of `streamline_plot` itself. That one should stand alone, partly because the `streamplot` function it uses behaves differently from the `quiver` function used by the others. Some of the examples from `plot_field.py` had to be left out of this new file because `streamplot` returned errors for them.


If you look at the slope plot, it redirects to the vector plot with special options. We should be able to automate this by looking at the input, a tuple for a vector plot and otherwise consider it a slope plot.

> Would this convenience function be used regularly by others, or just you for one class? What's the rule of thumb for adding those sorts of features to Sage?


I would be surprised if this did not get significant uptake in a variety of other classes. One of my first forays into Python was plotting a single streamline for the Lorenz attractor. However, there are a number of things in Sage that are likely only used by a few people, so the rule is it gets added if someone is willing to positively review it.

> If you still want an additional convenience function added to this file, give me a name for it and its options.


Granted, I would eventually like a 3d version, but that can most certainly be a followup ticket.

I should have time next week to actually directly work on this (i.e. write code).



---

archive/issue_comments_136333.json:
```json
{
    "body": "Changing commit from \"9576ba7abe47606fdf7667ea88e4bf8cf6dbefad\" to \"9201066f0ce6d2aab310a875b00a2eeeb4ec75e3\"",
    "created_at": "2016-09-22T23:09:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136333",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9576ba7abe47606fdf7667ea88e4bf8cf6dbefad" to "9201066f0ce6d2aab310a875b00a2eeeb4ec75e3"



---

archive/issue_comments_136334.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[77651df](https://git.sagemath.org/sage.git/commit/?id=77651dfd4f469cc5466471142842fb8f0dc73b62)|`Remove unused keyword arguments`|\n|[9201066](https://git.sagemath.org/sage.git/commit/?id=9201066f0ce6d2aab310a875b00a2eeeb4ec75e3)|`Add density option`|",
    "created_at": "2016-09-22T23:09:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136334",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[77651df](https://git.sagemath.org/sage.git/commit/?id=77651dfd4f469cc5466471142842fb8f0dc73b62)|`Remove unused keyword arguments`|
|[9201066](https://git.sagemath.org/sage.git/commit/?id=9201066f0ce6d2aab310a875b00a2eeeb4ec75e3)|`Add density option`|



---

archive/issue_comments_136335.json:
```json
{
    "body": "<a id='comment:24'></a>\nTravis, I went through the existing options, removed those that are not accepted by `streamplot` and added one that is, `density`. This value must be a single float or a pair of floats in a list, although I haven't added any validation for input values. It will at least allow you to see more streamlines and verify that they do not always start at integers.\n\nThere is another `streamplot` option I though might be interesting called `start_points`, but all it does is restrict streamlines to only those passing through an input list of points. You can test it by adding an option `start_points=[[0,.1],[0,-.1]]` or the like. Doesn't look too interesting to me.",
    "created_at": "2016-09-22T23:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136335",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:24'></a>
Travis, I went through the existing options, removed those that are not accepted by `streamplot` and added one that is, `density`. This value must be a single float or a pair of floats in a list, although I haven't added any validation for input values. It will at least allow you to see more streamlines and verify that they do not always start at integers.

There is another `streamplot` option I though might be interesting called `start_points`, but all it does is restrict streamlines to only those passing through an input list of points. You can test it by adding an option `start_points=[[0,.1],[0,-.1]]` or the like. Doesn't look too interesting to me.



---

archive/issue_comments_136336.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2016-09-23T04:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136336",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_136337.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [paulmasson](#comment%3A24):\n> Travis, I went through the existing options, removed those that are not accepted by `streamplot` and added one that is, `density`. This value must be a single float or a pair of floats in a list, although I haven't added any validation for input values. It will at least allow you to see more streamlines and verify that they do not always start at integers.\n\n\nI added some input checking, but `density` will still need to be documented.\n\n> There is another `streamplot` option I though might be interesting called `start_points`, but all it does is restrict streamlines to only those passing through an input list of points. You can test it by adding an option `start_points=[[0,.1],[0,-.1]]` or the like. Doesn't look too interesting to me.\n\n\nIt is useful for showing numerical solutions to initial value problems (IVPs) of (nonlinear) ODEs. Also useful for seeing how stable solutions are. Although it is very annoying that it can't plot start points that are too close together:\n\n```\nsage: x,y = var('x,y')\nsage: f = (x + y) / sqrt(x^2 + y^2)\nsage: pts = [[-1., -2.+val/8] for val in range(10)]\nsage: streamline_plot((cos(x), sin(x+y)), (x,-3,3), (y,-3,3), start_points=pts)\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/repl/rich_output/display_manager.py:590: RichReprWarning: Exception in _rich_repr_ while displaying object: \n  RichReprWarning,\nGraphics object consisting of 1 graphics primitive\n```\nAlthough this is not something that would (nor should) block this getting a positive review.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|\n|[c443cc4](https://git.sagemath.org/sage.git/commit?id=c443cc46e89bd1a3869cfb7ce93727f11939e536)|`Merge branch 'u/paulmasson/10775' of git://trac.sagemath.org/sage into u/paulmasson/10775`|\n|[584486b](https://git.sagemath.org/sage.git/commit?id=584486bf675c0c4b813ca2a75f745369f55f65a6)|`Adding start points option and slope field input.`|",
    "created_at": "2016-09-23T04:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136337",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>
Replying to [paulmasson](#comment%3A24):
> Travis, I went through the existing options, removed those that are not accepted by `streamplot` and added one that is, `density`. This value must be a single float or a pair of floats in a list, although I haven't added any validation for input values. It will at least allow you to see more streamlines and verify that they do not always start at integers.


I added some input checking, but `density` will still need to be documented.

> There is another `streamplot` option I though might be interesting called `start_points`, but all it does is restrict streamlines to only those passing through an input list of points. You can test it by adding an option `start_points=[[0,.1],[0,-.1]]` or the like. Doesn't look too interesting to me.


It is useful for showing numerical solutions to initial value problems (IVPs) of (nonlinear) ODEs. Also useful for seeing how stable solutions are. Although it is very annoying that it can't plot start points that are too close together:

```
sage: x,y = var('x,y')
sage: f = (x + y) / sqrt(x^2 + y^2)
sage: pts = [[-1., -2.+val/8] for val in range(10)]
sage: streamline_plot((cos(x), sin(x+y)), (x,-3,3), (y,-3,3), start_points=pts)
/home/travis/sage-build/local/lib/python2.7/site-packages/sage/repl/rich_output/display_manager.py:590: RichReprWarning: Exception in _rich_repr_ while displaying object: 
  RichReprWarning,
Graphics object consisting of 1 graphics primitive
```
Although this is not something that would (nor should) block this getting a positive review.

---
New commits:
|                                                                                                                                          |                                                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
|[c443cc4](https://git.sagemath.org/sage.git/commit?id=c443cc46e89bd1a3869cfb7ce93727f11939e536)|`Merge branch 'u/paulmasson/10775' of git://trac.sagemath.org/sage into u/paulmasson/10775`|
|[584486b](https://git.sagemath.org/sage.git/commit?id=584486bf675c0c4b813ca2a75f745369f55f65a6)|`Adding start points option and slope field input.`|



---

archive/issue_comments_136338.json:
```json
{
    "body": "Changing branch from \"u/paulmasson/10775\" to \"u/tscrim/streamline_plot-10775\"",
    "created_at": "2016-09-23T04:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136338",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "u/paulmasson/10775" to "u/tscrim/streamline_plot-10775"



---

archive/issue_comments_136339.json:
```json
{
    "body": "Changing commit from \"9201066f0ce6d2aab310a875b00a2eeeb4ec75e3\" to \"584486bf675c0c4b813ca2a75f745369f55f65a6\"",
    "created_at": "2016-09-23T04:00:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136339",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "9201066f0ce6d2aab310a875b00a2eeeb4ec75e3" to "584486bf675c0c4b813ca2a75f745369f55f65a6"



---

archive/issue_comments_136340.json:
```json
{
    "body": "Changing branch from \"u/tscrim/streamline_plot-10775\" to \"u/paulmasson/streamline_plot-10775\"",
    "created_at": "2016-09-23T21:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136340",
    "user": "https://github.com/paulmasson"
}
```

Changing branch from "u/tscrim/streamline_plot-10775" to "u/paulmasson/streamline_plot-10775"



---

archive/issue_comments_136341.json:
```json
{
    "body": "<a id='comment:27'></a>\nAh, so that's what you had in mind for the additions.\n\nThe documentation would not build without some fixes. Sphinx plots do not allow `^` for exponentiation, needs to be `**`, and variable declarations do not carry over between them. Documentation now builds.\n\n---\nNew commits:\n|                                                                                                                                          |                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[9f3a5c2](https://git.sagemath.org/sage.git/commit?id=9f3a5c25cd924b53bb8c4cb58fe6bd992440e40a)|`Fix Sphinx plots`|",
    "created_at": "2016-09-23T21:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136341",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:27'></a>
Ah, so that's what you had in mind for the additions.

The documentation would not build without some fixes. Sphinx plots do not allow `^` for exponentiation, needs to be `**`, and variable declarations do not carry over between them. Documentation now builds.

---
New commits:
|                                                                                                                                          |                  |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[9f3a5c2](https://git.sagemath.org/sage.git/commit?id=9f3a5c25cd924b53bb8c4cb58fe6bd992440e40a)|`Fix Sphinx plots`|



---

archive/issue_comments_136342.json:
```json
{
    "body": "Changing commit from \"584486bf675c0c4b813ca2a75f745369f55f65a6\" to \"9f3a5c25cd924b53bb8c4cb58fe6bd992440e40a\"",
    "created_at": "2016-09-23T21:41:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136342",
    "user": "https://github.com/paulmasson"
}
```

Changing commit from "584486bf675c0c4b813ca2a75f745369f55f65a6" to "9f3a5c25cd924b53bb8c4cb58fe6bd992440e40a"



---

archive/issue_comments_136343.json:
```json
{
    "body": "<a id='comment:28'></a>\nDon't know if you noticed, Travis, but in the example with `start_points` the streamlines come close to the start points but do not pass through them. I thought it might be because you didn't process the start points as in this example\n\nhttp://matplotlib.org/examples/images_contours_and_fields/streamplot_demo_start_points.html\n\nbut even with setting up a numpy array as indicated and transposing it, the streamlines still do not pass through the start points. In fact the resulting graph is exactly the same as not bothering to process the points, so apparently that isn't necessary.\n\nProblem with `streamplot`? Thought you should know before any students ask what's going on.",
    "created_at": "2016-09-23T22:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136343",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:28'></a>
Don't know if you noticed, Travis, but in the example with `start_points` the streamlines come close to the start points but do not pass through them. I thought it might be because you didn't process the start points as in this example

http://matplotlib.org/examples/images_contours_and_fields/streamplot_demo_start_points.html

but even with setting up a numpy array as indicated and transposing it, the streamlines still do not pass through the start points. In fact the resulting graph is exactly the same as not bothering to process the points, so apparently that isn't necessary.

Problem with `streamplot`? Thought you should know before any students ask what's going on.



---

archive/issue_comments_136344.json:
```json
{
    "body": "<a id='comment:29'></a>\nThanks for fixing that Paul. I guess we should add a note and example about the behavior of `start_points`. Also, do you want me to document the `density` option?\n\nActually, I think I should not be normalizing the input when we want to consider it as a slope field, which makes sense when considering plotting the tangent lines. I believe it just adds a unnecessary computation that cancels when considering splitting `dy / dx` to `(dx, dy)`.",
    "created_at": "2016-09-23T23:24:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136344",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'></a>
Thanks for fixing that Paul. I guess we should add a note and example about the behavior of `start_points`. Also, do you want me to document the `density` option?

Actually, I think I should not be normalizing the input when we want to consider it as a slope field, which makes sense when considering plotting the tangent lines. I believe it just adds a unnecessary computation that cancels when considering splitting `dy / dx` to `(dx, dy)`.



---

archive/issue_comments_136345.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[78c53a0](https://git.sagemath.org/sage.git/commit/?id=78c53a01a55b27e736878f08c366a86e9eff0c64)|`Improve documentation and example`|\n|[478b1e1](https://git.sagemath.org/sage.git/commit/?id=478b1e19adc03befdc57d983aea8a09fc6e3e4dd)|`Code block for start_points`|",
    "created_at": "2016-09-24T00:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[78c53a0](https://git.sagemath.org/sage.git/commit/?id=78c53a01a55b27e736878f08c366a86e9eff0c64)|`Improve documentation and example`|
|[478b1e1](https://git.sagemath.org/sage.git/commit/?id=478b1e19adc03befdc57d983aea8a09fc6e3e4dd)|`Code block for start_points`|



---

archive/issue_comments_136346.json:
```json
{
    "body": "Changing commit from \"9f3a5c25cd924b53bb8c4cb58fe6bd992440e40a\" to \"478b1e19adc03befdc57d983aea8a09fc6e3e4dd\"",
    "created_at": "2016-09-24T00:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9f3a5c25cd924b53bb8c4cb58fe6bd992440e40a" to "478b1e19adc03befdc57d983aea8a09fc6e3e4dd"



---

archive/issue_comments_136347.json:
```json
{
    "body": "<a id='comment:31'></a>\nDocumentation for implemented plot options now included. I also updated your language for `start_points` using that from the matplotlib website and added the note.\n\nI'm including a commented code block for the official way to handle `start_points` in the event it is useful later.",
    "created_at": "2016-09-24T00:32:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136347",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:31'></a>
Documentation for implemented plot options now included. I also updated your language for `start_points` using that from the matplotlib website and added the note.

I'm including a commented code block for the official way to handle `start_points` in the event it is useful later.



---

archive/issue_comments_136348.json:
```json
{
    "body": "<a id='comment:32'></a>\nI disagree with adding `start_points` to the ``@`options`, where if that is changed, it is perpetuated in all future plots, which is not what we want. I will revert this back when I make my next round of changes.\n\nDoes the \"official way\" for `start_points` make any difference?",
    "created_at": "2016-09-24T04:26:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136348",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:32'></a>
I disagree with adding `start_points` to the ``@`options`, where if that is changed, it is perpetuated in all future plots, which is not what we want. I will revert this back when I make my next round of changes.

Does the "official way" for `start_points` make any difference?



---

archive/issue_comments_136349.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [tscrim](#comment%3A32):\n> Does the \"official way\" for `start_points` make any difference?\n\nNot that I can tell. `xpos_array` and `ypos_array` need to be explicit numpy arrays to avoid errors. The documentation says that `start_points` is also supposed to be a numpy array, so I added this block of commented code in case that is ever enforced, but you can remove it if you feel that is more appropriate.",
    "created_at": "2016-09-24T19:45:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136349",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:33'></a>
Replying to [tscrim](#comment%3A32):
> Does the "official way" for `start_points` make any difference?

Not that I can tell. `xpos_array` and `ypos_array` need to be explicit numpy arrays to avoid errors. The documentation says that `start_points` is also supposed to be a numpy array, so I added this block of commented code in case that is ever enforced, but you can remove it if you feel that is more appropriate.



---

archive/issue_comments_136350.json:
```json
{
    "body": "<a id='comment:34'></a>\nLet's use the official way. Also (not that it makes any real difference), you don't need to pop off the option:\n\n```python\n    if 'start_points' in options:\n        xstart_array, ystart_array = [], []\n        for point in options['start_points']:\n            xstart_array.append(point[0])\n            ystart_array.append(point[1])\n        options['start_points'] = numpy.array([xstart_array, ystart_array]).T\n```",
    "created_at": "2016-09-27T15:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136350",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:34'></a>
Let's use the official way. Also (not that it makes any real difference), you don't need to pop off the option:

```python
    if 'start_points' in options:
        xstart_array, ystart_array = [], []
        for point in options['start_points']:
            xstart_array.append(point[0])
            ystart_array.append(point[1])
        options['start_points'] = numpy.array([xstart_array, ystart_array]).T
```



---

archive/issue_comments_136351.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[79e8795](https://git.sagemath.org/sage.git/commit/?id=79e879535dc2096ed3e15a77f4ff276253e72e44)|`Update start_points handling`|",
    "created_at": "2016-09-27T21:33:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136351",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[79e8795](https://git.sagemath.org/sage.git/commit/?id=79e879535dc2096ed3e15a77f4ff276253e72e44)|`Update start_points handling`|



---

archive/issue_comments_136352.json:
```json
{
    "body": "Changing commit from \"478b1e19adc03befdc57d983aea8a09fc6e3e4dd\" to \"79e879535dc2096ed3e15a77f4ff276253e72e44\"",
    "created_at": "2016-09-27T21:33:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136352",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "478b1e19adc03befdc57d983aea8a09fc6e3e4dd" to "79e879535dc2096ed3e15a77f4ff276253e72e44"



---

archive/issue_comments_136353.json:
```json
{
    "body": "<a id='comment:36'></a>\nThank you for all your work on this.",
    "created_at": "2016-09-29T02:10:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136353",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:36'></a>
Thank you for all your work on this.



---

archive/issue_comments_136354.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-09-29T02:10:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136354",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_136355.json:
```json
{
    "body": "<a id='comment:37'></a>\nNot sure what Volker will find in his current run but I am failing to build the documentation in sage-on-gentoo\n\n```\n[plotting ] /scratch2/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/lib/sage/plot/streamline_plot.py:docstring of sage.plot.streamline_plot.streamline_plot:35: WARNING: Exception occurred in plotting streamline_plot-1\n[plotting ] from /scratch2/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/doc/en/reference/plotting/sage/plot/streamline_plot.rst:\n[plotting ] Traceback (most recent call last):\n[plotting ] File \"/usr/lib64/python2.7/site-packages/matplotlib/sphinxext/plot_directive.py\", line 517, in run_code\n[plotting ] six.exec_(code, ns)\n[plotting ] File \"/usr/lib64/python2.7/site-packages/matplotlib/externals/six.py\", line 672, in exec_\n[plotting ] exec(\"\"\"exec _code_ in _globs_, _locs_\"\"\")\n[plotting ] File \"<string>\", line 1, in <module>\n[plotting ] File \"<string>\", line 2, in <module>\n[plotting ] File \"/scratch2/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/lib/sage/misc/decorators.py\", line 554, in wrapper\n[plotting ] return func(*args, **options)\n[plotting ] File \"/scratch2/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/lib/sage/plot/streamline_plot.py\", line 316, in streamline_plot\n[plotting ] for point in options['start_points']:\n[plotting ] TypeError: 'NoneType' object is not iterable\n```\nI have this several times. I note that the bots have a similar problem in their logs.",
    "created_at": "2016-10-03T01:54:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136355",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:37'></a>
Not sure what Volker will find in his current run but I am failing to build the documentation in sage-on-gentoo

```
[plotting ] /scratch2/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/lib/sage/plot/streamline_plot.py:docstring of sage.plot.streamline_plot.streamline_plot:35: WARNING: Exception occurred in plotting streamline_plot-1
[plotting ] from /scratch2/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/doc/en/reference/plotting/sage/plot/streamline_plot.rst:
[plotting ] Traceback (most recent call last):
[plotting ] File "/usr/lib64/python2.7/site-packages/matplotlib/sphinxext/plot_directive.py", line 517, in run_code
[plotting ] six.exec_(code, ns)
[plotting ] File "/usr/lib64/python2.7/site-packages/matplotlib/externals/six.py", line 672, in exec_
[plotting ] exec("""exec _code_ in _globs_, _locs_""")
[plotting ] File "<string>", line 1, in <module>
[plotting ] File "<string>", line 2, in <module>
[plotting ] File "/scratch2/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/lib/sage/misc/decorators.py", line 554, in wrapper
[plotting ] return func(*args, **options)
[plotting ] File "/scratch2/portage/sci-mathematics/sage-9999/work/sage-9999/src-python2_7/build/lib/sage/plot/streamline_plot.py", line 316, in streamline_plot
[plotting ] for point in options['start_points']:
[plotting ] TypeError: 'NoneType' object is not iterable
```
I have this several times. I note that the bots have a similar problem in their logs.



---

archive/issue_comments_136356.json:
```json
{
    "body": "<a id='comment:38'></a>\nI had thought the first part of[comment:32](#comment%3A32) was done by Paul. I removed `start_points` from the ``@`options` and did some little doc tweaking. Paul, can you make a quick check of my changes?\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|\n|[1e2b2d0](https://git.sagemath.org/sage.git/commit?id=1e2b2d06e1e9153dbf0fe420088796fbebdf976a)|`Merge branch 'u/paulmasson/10775' of git://trac.sagemath.org/sage into u/tscrim/streamline_plot-10775`|\n|[fa8cda9](https://git.sagemath.org/sage.git/commit?id=fa8cda972a91c2b51ad743bd6318db8bd11b9bef)|`Merge branch 'u/paulmasson/streamline_plot-10775' of git://trac.sagemath.org/sage into u/tscrim/streamline_plot-10775`|\n|[640cb6a](https://git.sagemath.org/sage.git/commit?id=640cb6aad1a6b6380adabcb2c4d24d10eca3e718)|`Some last little touchups.`|",
    "created_at": "2016-10-03T04:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136356",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:38'></a>
I had thought the first part of[comment:32](#comment%3A32) was done by Paul. I removed `start_points` from the ``@`options` and did some little doc tweaking. Paul, can you make a quick check of my changes?

---
New commits:
|                                                                                                                                          |                                                                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
|[1e2b2d0](https://git.sagemath.org/sage.git/commit?id=1e2b2d06e1e9153dbf0fe420088796fbebdf976a)|`Merge branch 'u/paulmasson/10775' of git://trac.sagemath.org/sage into u/tscrim/streamline_plot-10775`|
|[fa8cda9](https://git.sagemath.org/sage.git/commit?id=fa8cda972a91c2b51ad743bd6318db8bd11b9bef)|`Merge branch 'u/paulmasson/streamline_plot-10775' of git://trac.sagemath.org/sage into u/tscrim/streamline_plot-10775`|
|[640cb6a](https://git.sagemath.org/sage.git/commit?id=640cb6aad1a6b6380adabcb2c4d24d10eca3e718)|`Some last little touchups.`|



---

archive/issue_comments_136357.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2016-10-03T04:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136357",
    "user": "https://github.com/tscrim"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_136358.json:
```json
{
    "body": "Changing branch from \"u/paulmasson/streamline_plot-10775\" to \"u/tscrim/streamline_plot-10775\"",
    "created_at": "2016-10-03T04:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136358",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "u/paulmasson/streamline_plot-10775" to "u/tscrim/streamline_plot-10775"



---

archive/issue_comments_136359.json:
```json
{
    "body": "Changing commit from \"79e879535dc2096ed3e15a77f4ff276253e72e44\" to \"640cb6aad1a6b6380adabcb2c4d24d10eca3e718\"",
    "created_at": "2016-10-03T04:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136359",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "79e879535dc2096ed3e15a77f4ff276253e72e44" to "640cb6aad1a6b6380adabcb2c4d24d10eca3e718"



---

archive/issue_comments_136360.json:
```json
{
    "body": "<a id='comment:39'></a>\nDocumentation now builds. Setting back to positive review.",
    "created_at": "2016-10-03T19:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136360",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:39'></a>
Documentation now builds. Setting back to positive review.



---

archive/issue_comments_136361.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-10-03T19:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136361",
    "user": "https://github.com/paulmasson"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_136362.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-10-21T07:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136362",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_027786.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-10-21T07:04:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10775#event-27786"
}
```



---

archive/issue_comments_136363.json:
```json
{
    "body": "Changing branch from \"u/tscrim/streamline_plot-10775\" to \"640cb6aad1a6b6380adabcb2c4d24d10eca3e718\"",
    "created_at": "2016-10-21T07:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10775",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10775#issuecomment-136363",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/tscrim/streamline_plot-10775" to "640cb6aad1a6b6380adabcb2c4d24d10eca3e718"
