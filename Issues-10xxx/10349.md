# Issue 10349: Implementation of mutations for matrices

archive/issues_010348.json:
```json
{
    "assignees": [],
    "body": "This patch implements a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.\n\nDepends on #10347\n\nCC:  @hughrthomas\n\nKeywords: **matrix mutation**\n\nReviewer: **Hugh Thomas**\n\nAuthor: **Christian Stump**\n\nMerged: **sage-5.0.beta6**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10349_\n\n",
    "closed_at": "2012-02-27T11:20:13Z",
    "created_at": "2010-11-27T23:13:35Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implementation of mutations for matrices",
    "type": "issue",
    "updated_at": "2023-01-14T14:22:00Z",
    "url": "https://github.com/sagemath/sage/issues/10349",
    "user": "https://github.com/sagetrac-stumpc5"
}
```
This patch implements a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.

Depends on #10347

CC:  @hughrthomas

Keywords: **matrix mutation**

Reviewer: **Hugh Thomas**

Author: **Christian Stump**

Merged: **sage-5.0.beta6**

_Issue created by migration from https://trac.sagemath.org/ticket/10349_





---

archive/issue_events_124244.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2010-11-27T23:13:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124244"
}
```



---

archive/issue_events_124245.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2010-11-27T23:13:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124245"
}
```



---

archive/issue_events_124246.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2010-11-27T23:13:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124246"
}
```



---

archive/issue_events_124247.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2011-02-08T16:16:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124247"
}
```



---

archive/issue_events_124248.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2011-02-08T16:16:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124248"
}
```



---

archive/issue_comments_099238.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n This patch implements a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.\n+\n+Depends on #10347.\n``````\n",
    "created_at": "2011-02-22T18:40:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99238",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 This patch implements a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.
+
+Depends on #10347.
``````




---

archive/issue_comments_099239.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nFor the buildbot:\n\nDepends on #10347.",
    "created_at": "2011-02-24T17:49:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99239",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:3" align="right">Comment 3</div>

For the buildbot:

Depends on #10347.



---

archive/issue_comments_099240.json:
```json
{
    "body": "Dependencies: **10347**",
    "created_at": "2011-06-08T17:17:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99240",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

Dependencies: **10347**



---

archive/issue_comments_099241.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1 @@\n This patch implements a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.\n-\n-Depends on #10347.\n``````\n",
    "created_at": "2011-06-08T17:17:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99241",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1 @@
 This patch implements a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.
-
-Depends on #10347.
``````




---

archive/issue_comments_099242.json:
```json
{
    "body": "Changed dependencies from **10347** to **#10347**",
    "created_at": "2011-06-10T14:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99242",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

Changed dependencies from **10347** to **#10347**



---

archive/issue_events_124249.json:
```json
{
    "actor": "https://github.com/hughrthomas",
    "created_at": "2011-06-12T09:45:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124249"
}
```



---

archive/issue_events_124250.json:
```json
{
    "actor": "https://github.com/hughrthomas",
    "created_at": "2011-06-12T09:45:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124250"
}
```



---

archive/issue_comments_099243.json:
```json
{
    "body": "Reviewer: **Hugh Thomas**",
    "created_at": "2011-06-12T09:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99243",
    "user": "https://github.com/hughrthomas"
}
```

Reviewer: **Hugh Thomas**



---

archive/issue_comments_099244.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nHi Christian--\n\nWhat do you think about the idea of checking that 0 <= k < min(ncols,nrows)?  Your code is very nicely written to be safe even if someone tries to mutate a 2x2 matrix at row 15, but they shouldn't be doing that.  More importantly, they shouldn't be trying to mutate a 2n x n matrix at row j for n<= j < 2n -- for such a parameter, mutation is *undefined*.  Returning what looks like meaningful output in such a case is potentially deceptive.  (That's my view, at any rate, though if you disagree, I could be convinced otherwise.)  \n\nIt's also true that the principal part of B should be skew-symmetrizable, but I don't think it's necessary to check that -- though maybe it would be good to mention this in the documentation?  (The legit range of k values should also go in the documentation, I guess.)\n\nAnd, Zelevinsky :)\n\nOtherwise, though, it looks good.\n\ncheers,\n\nHugh",
    "created_at": "2011-06-12T09:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99244",
    "user": "https://github.com/hughrthomas"
}
```

<div id="comment:6" align="right">Comment 6</div>

Hi Christian--

What do you think about the idea of checking that 0 <= k < min(ncols,nrows)?  Your code is very nicely written to be safe even if someone tries to mutate a 2x2 matrix at row 15, but they shouldn't be doing that.  More importantly, they shouldn't be trying to mutate a 2n x n matrix at row j for n<= j < 2n -- for such a parameter, mutation is *undefined*.  Returning what looks like meaningful output in such a case is potentially deceptive.  (That's my view, at any rate, though if you disagree, I could be convinced otherwise.)  

It's also true that the principal part of B should be skew-symmetrizable, but I don't think it's necessary to check that -- though maybe it would be good to mention this in the documentation?  (The legit range of k values should also go in the documentation, I guess.)

And, Zelevinsky :)

Otherwise, though, it looks good.

cheers,

Hugh



---

archive/issue_comments_099245.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nOh, one more comment, in the doc-string, you have \"b-matrix\"; I'd prefer \"B-matrix\".    \n\ncheers\n\nHugh",
    "created_at": "2011-06-12T09:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99245",
    "user": "https://github.com/hughrthomas"
}
```

<div id="comment:7" align="right">Comment 7</div>

Oh, one more comment, in the doc-string, you have "b-matrix"; I'd prefer "B-matrix".    

cheers

Hugh



---

archive/issue_comments_099246.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nDear Hugh,\n\nI added the changes you suggested -- thanks a lot for looking at it!\n\nChristian",
    "created_at": "2011-06-12T12:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99246",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:8" align="right">Comment 8</div>

Dear Hugh,

I added the changes you suggested -- thanks a lot for looking at it!

Christian



---

archive/issue_events_124251.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2011-06-15T13:30:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124251"
}
```



---

archive/issue_events_124252.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2011-06-15T13:30:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124252"
}
```



---

archive/issue_events_124253.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2011-06-16T21:40:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124253"
}
```



---

archive/issue_events_124254.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2011-06-16T21:40:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124254"
}
```



---

archive/issue_comments_099247.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nReplying to [@sagetrac-stumpc5](#comment%3A8):\n\nI just pushed a new version which should be compatible with the #10347, if you also wanna have a look here...\n\nBest, Christian",
    "created_at": "2012-02-15T08:05:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99247",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:11" align="right">Comment 11</div>

Replying to [@sagetrac-stumpc5](#comment%3A8):

I just pushed a new version which should be compatible with the #10347, if you also wanna have a look here...

Best, Christian



---

archive/issue_comments_099248.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI'll take a look.\n\ncheers,\n\nHugh",
    "created_at": "2012-02-15T12:38:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99248",
    "user": "https://github.com/hughrthomas"
}
```

<div id="comment:12" align="right">Comment 12</div>

I'll take a look.

cheers,

Hugh



---

archive/issue_comments_099249.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nHi Christian--\n\nWhat's the point of declaring k to be of type Py_ssize_t?  I thought the point was that this would allow k to be huge, but in that case, it seems that you would get overflows when you run into the fact that i and j are declared to be integers.  \n\ncheers,\n\nHugh",
    "created_at": "2012-02-18T14:03:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99249",
    "user": "https://github.com/hughrthomas"
}
```

<div id="comment:13" align="right">Comment 13</div>

Hi Christian--

What's the point of declaring k to be of type Py_ssize_t?  I thought the point was that this would allow k to be huge, but in that case, it seems that you would get overflows when you run into the fact that i and j are declared to be integers.  

cheers,

Hugh



---

archive/issue_comments_099250.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nOtherwise, I am happy.  The patchbot was happy with this patch before, right?  So I assume that its present unhappiness (?) is unrelated to the patch itself, so I guess all that's left is the question in my previous comment.",
    "created_at": "2012-02-18T14:47:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99250",
    "user": "https://github.com/hughrthomas"
}
```

<div id="comment:14" align="right">Comment 14</div>

Otherwise, I am happy.  The patchbot was happy with this patch before, right?  So I assume that its present unhappiness (?) is unrelated to the patch itself, so I guess all that's left is the question in my previous comment.



---

archive/issue_comments_099251.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-This patch implements a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.\n+This patch implehttp://www.python.org/dev/peps/pep-0353/ments a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.\n``````\n",
    "created_at": "2012-02-18T15:57:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99251",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-This patch implements a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.
+This patch implehttp://www.python.org/dev/peps/pep-0353/ments a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.
``````




---

archive/issue_comments_099252.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@hughrthomas](#comment%3A13):\n> Hi Christian--\n> \n> What's the point of declaring k to be of type Py_ssize_t?  I thought the point was that this would allow k to be huge, but in that case, it seems that you would get overflows when you run into the fact that i and j are declared to be integers.  \n\nHi Hugh,\n\n`Py_ssize_t` is the recommended integer type for cython, see http://www.python.org/dev/peps/pep-0353/. In fact, in our current situation there is no advantage of using this type over using `int`. It is used all over in the code for matrices, see for example the method `get_unsafe` - that's why I also used it.",
    "created_at": "2012-02-18T15:57:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99252",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@hughrthomas](#comment%3A13):
> Hi Christian--
> 
> What's the point of declaring k to be of type Py_ssize_t?  I thought the point was that this would allow k to be huge, but in that case, it seems that you would get overflows when you run into the fact that i and j are declared to be integers.  

Hi Hugh,

`Py_ssize_t` is the recommended integer type for cython, see http://www.python.org/dev/peps/pep-0353/. In fact, in our current situation there is no advantage of using this type over using `int`. It is used all over in the code for matrices, see for example the method `get_unsafe` - that's why I also used it.



---

archive/issue_comments_099253.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-This patch implehttp://www.python.org/dev/peps/pep-0353/ments a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.\n+This patch implements a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.\n``````\n",
    "created_at": "2012-02-18T15:58:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99253",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-This patch implehttp://www.python.org/dev/peps/pep-0353/ments a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.
+This patch implements a method to mutate matrices. This method is needed for the cluster algebra and quiver package, see Ticket #10298.
``````




---

archive/issue_comments_099254.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@sagetrac-stumpc5](#comment%3A16):\n\nThen why not declare i,j,_ also to be the same type?  It seems to me that if it's ever useful to have chosen that type, you would also have needed i,j,_ to have been of that type.",
    "created_at": "2012-02-18T21:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99254",
    "user": "https://github.com/hughrthomas"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@sagetrac-stumpc5](#comment%3A16):

Then why not declare i,j,_ also to be the same type?  It seems to me that if it's ever useful to have chosen that type, you would also have needed i,j,_ to have been of that type.



---

archive/issue_comments_099255.json:
```json
{
    "body": "contains matrix method mutate",
    "created_at": "2012-02-19T13:51:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99255",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

contains matrix method mutate



---

archive/issue_comments_099256.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nAttachment: **[trac_10349_matrix_mutation-cs.patch.gz](https://github.com/sagemath/sage/files/ticket10349/trac_10349_matrix_mutation-cs.patch.gz)**\n\nReplying to [@hughrthomas](#comment%3A17):\n> Replying to [@sagetrac-stumpc5](#comment%3A16):\n> \n> Then why not declare i,j,_ also to be the same type?  It seems to me that if it's ever useful to have chosen that type, you would also have needed i,j,_ to have been of that type.  \n\nDone!",
    "created_at": "2012-02-19T13:53:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99256",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<div id="comment:18" align="right">Comment 18</div>

Attachment: **[trac_10349_matrix_mutation-cs.patch.gz](https://github.com/sagemath/sage/files/ticket10349/trac_10349_matrix_mutation-cs.patch.gz)**

Replying to [@hughrthomas](#comment%3A17):
> Replying to [@sagetrac-stumpc5](#comment%3A16):
> 
> Then why not declare i,j,_ also to be the same type?  It seems to me that if it's ever useful to have chosen that type, you would also have needed i,j,_ to have been of that type.  

Done!



---

archive/issue_comments_099257.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nOkay, then, I think it's ready.  \n\ncheers,\n\nHugh",
    "created_at": "2012-02-22T01:42:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99257",
    "user": "https://github.com/hughrthomas"
}
```

<div id="comment:19" align="right">Comment 19</div>

Okay, then, I think it's ready.  

cheers,

Hugh



---

archive/issue_events_124255.json:
```json
{
    "actor": "https://github.com/hughrthomas",
    "created_at": "2012-02-22T01:42:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124255"
}
```



---

archive/issue_events_124256.json:
```json
{
    "actor": "https://github.com/hughrthomas",
    "created_at": "2012-02-22T01:42:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124256"
}
```



---

archive/issue_events_124257.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-27T11:20:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124257"
}
```



---

archive/issue_events_124258.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-27T11:20:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10349#event-124258"
}
```



---

archive/issue_comments_099258.json:
```json
{
    "body": "Merged: **sage-5.0.beta6**",
    "created_at": "2012-02-27T11:20:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99258",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.beta6**



---

archive/issue_comments_099259.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nHi!\n\nThis patch is merged in, and we want the cluster algebra material to get in. So this comment is for the future.\n\nThe functionality implemented in this ticket is rather specific to the context of cluster algebras. The average matrix user will have no clue what this is about, and might get confused with the unrelated concept of mutability (as in set_immutable). So I would recommend, in a later ticket, to:\n\n- Rename this method to something more specific like cluster_algebra_mutate\n  Maybe even move it into the cluster algebra library\n- Add a minimal description of what the method actually does\n- Add links to the cluster algebra library / tutorial (when it exists)\n- Add link to the _check_symmetrizability",
    "created_at": "2012-03-06T08:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10349#issuecomment-99259",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:21" align="right">Comment 21</div>

Hi!

This patch is merged in, and we want the cluster algebra material to get in. So this comment is for the future.

The functionality implemented in this ticket is rather specific to the context of cluster algebras. The average matrix user will have no clue what this is about, and might get confused with the unrelated concept of mutability (as in set_immutable). So I would recommend, in a later ticket, to:

- Rename this method to something more specific like cluster_algebra_mutate
  Maybe even move it into the cluster algebra library
- Add a minimal description of what the method actually does
- Add links to the cluster algebra library / tutorial (when it exists)
- Add link to the _check_symmetrizability
