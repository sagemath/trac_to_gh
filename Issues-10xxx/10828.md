# Issue 10828: Make matplotlib support SAGE_SPKG_INSTALL_DOCS

archive/issues_010762.json:
```json
{
    "assignees": [],
    "body": "This ticket implements #10823 for matplotlib. New spkg at \u00a0http://sage.math.washington.edu/home/jason/spkg-docs/matplotlib-1.0.1.p0.spkg (depends on #10588)\n\n\nCC:  @sagetrac-ryan\n\nKeywords: **sd32**\n\nReviewer: **Dima Pasechnik**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10828_\n\n",
    "closed_at": "2021-12-03T18:41:01Z",
    "created_at": "2011-02-23T01:54:34Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make matplotlib support SAGE_SPKG_INSTALL_DOCS",
    "type": "issue",
    "updated_at": "2021-12-03T18:41:01Z",
    "url": "https://github.com/sagemath/sage/issues/10828",
    "user": "https://github.com/jasongrout"
}
```
This ticket implements #10823 for matplotlib. New spkg at  http://sage.math.washington.edu/home/jason/spkg-docs/matplotlib-1.0.1.p0.spkg (depends on #10588)


CC:  @sagetrac-ryan

Keywords: **sd32**

Reviewer: **Dima Pasechnik**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/10828_





---

archive/issue_events_143436.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-02-23T01:54:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143436"
}
```



---

archive/issue_events_143437.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-02-23T01:54:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143437"
}
```



---

archive/issue_events_143438.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-02-23T01:54:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143438"
}
```



---

archive/issue_events_143439.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-02-23T01:54:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143439"
}
```



---

archive/issue_events_143440.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-02-23T01:55:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143440"
}
```



---

archive/issue_events_143441.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-01T15:24:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143441"
}
```



---

archive/issue_events_143442.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-01T15:24:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143442"
}
```



---

archive/issue_comments_104800.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nA few points. \n\n* The SPKG.txt file does not have the number of this ticket in it - only #10823 \n* On #10823 the patch which updates the Developers Guide shows the documentation being **copied** not moved, which is better, as it leaves the build directory untouched.  \n* It would make reviewing much easier, and be a better historical record, if there was a Mercurial patch of the changes attached to the ticket. \n\nIt looks like similar issues arise with the other updated .spkg files that you produced which are related to #10823",
    "created_at": "2011-03-01T15:24:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104800",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:2" align="right">comment:2</div>

A few points. 

* The SPKG.txt file does not have the number of this ticket in it - only #10823 
* On #10823 the patch which updates the Developers Guide shows the documentation being **copied** not moved, which is better, as it leaves the build directory untouched.  
* It would make reviewing much easier, and be a better historical record, if there was a Mercurial patch of the changes attached to the ticket. 

It looks like similar issues arise with the other updated .spkg files that you produced which are related to #10823



---

archive/issue_comments_104801.json:
```json
{
    "body": "Attachment: **[10828.patch.gz](https://github.com/sagemath/sage/files/ticket10828/10828.patch.gz)**\n\nFYI Only---already applied to spkg.",
    "created_at": "2011-03-01T19:41:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104801",
    "user": "https://github.com/jasongrout"
}
```

Attachment: **[10828.patch.gz](https://github.com/sagemath/sage/files/ticket10828/10828.patch.gz)**

FYI Only---already applied to spkg.



---

archive/issue_comments_104802.json:
```json
{
    "body": "FYI Only---already applied to spkg.",
    "created_at": "2011-03-01T19:41:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104802",
    "user": "https://github.com/jasongrout"
}
```

FYI Only---already applied to spkg.



---

archive/issue_comments_104803.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,2 @@\n-This ticket implements #10823 for matplotlib. New spkg at \u00a0http://sage.math.washington.edu/home/jason/matplotlib-1.0.1.p0.spkg (depends on #10588)\n+This ticket implements #10823 for matplotlib. New spkg at \u00a0http://sage.math.washington.edu/home/jason/spkg-docs/matplotlib-1.0.1.p0.spkg (depends on #10588)\n \n``````\n",
    "created_at": "2011-03-01T19:42:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104803",
    "user": "https://github.com/jasongrout"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,2 @@
-This ticket implements #10823 for matplotlib. New spkg at  http://sage.math.washington.edu/home/jason/matplotlib-1.0.1.p0.spkg (depends on #10588)
+This ticket implements #10823 for matplotlib. New spkg at  http://sage.math.washington.edu/home/jason/spkg-docs/matplotlib-1.0.1.p0.spkg (depends on #10588)
 
``````




---

archive/issue_comments_104804.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[10828-1.patch.gz](https://github.com/sagemath/sage/files/ticket10828/10828-1.patch.gz)**",
    "created_at": "2011-03-01T19:42:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104804",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[10828-1.patch.gz](https://github.com/sagemath/sage/files/ticket10828/10828-1.patch.gz)**



---

archive/issue_comments_104805.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI also found that the last matplotlib spkg from #10588 had a dirty src/ directory, instead a pristine copy of the sources.  That was probably all my fault, as I was the reviewer, and the contributor was a new contributor.  I'm CCing Ryan to make sure he knows about it, just as an FYI.\n\nThe new matplotlib spkg above replaces the src/ directory with a pristine copy of the 1.0.1 matplotlib sources, which removes the build directory, some of the files that are generated in compilation, and trims the final spkg from 19M to 11M.",
    "created_at": "2011-03-01T19:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104805",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:4" align="right">comment:4</div>

I also found that the last matplotlib spkg from #10588 had a dirty src/ directory, instead a pristine copy of the sources.  That was probably all my fault, as I was the reviewer, and the contributor was a new contributor.  I'm CCing Ryan to make sure he knows about it, just as an FYI.

The new matplotlib spkg above replaces the src/ directory with a pristine copy of the 1.0.1 matplotlib sources, which removes the build directory, some of the files that are generated in compilation, and trims the final spkg from 19M to 11M.



---

archive/issue_events_143443.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-03-01T20:08:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143443"
}
```



---

archive/issue_events_143444.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-03-01T20:08:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143444"
}
```



---

archive/issue_comments_104806.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nNew spkg is up, ready for review.",
    "created_at": "2011-03-01T20:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104806",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:6" align="right">comment:6</div>

New spkg is up, ready for review.



---

archive/issue_comments_104807.json:
```json
{
    "body": "Reviewer: **David Kirkby**",
    "created_at": "2011-03-02T01:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104807",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

Reviewer: **David Kirkby**



---

archive/issue_events_143445.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-02T01:35:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143445"
}
```



---

archive/issue_events_143446.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-02T01:35:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143446"
}
```



---

archive/issue_comments_104808.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis generates the HTML and puts it where expected. However, the simple \n\n```\ncp -r doc/* $SAGE_ROOT/local/share/doc/PACKAGE_NAME/\n```\n\nis copying a **lot** of unnecessary files. There are 29 files with the extension .py, 511 files with the extension .pyc, and possibly some other unnecessary files that are being copied to `$SAGE_ROOT/local/share/doc/PACKAGE_NAME/` There are 945 pdf files there too - I'm not quite sure how they got there. The total size of the files copied to `$SAGE_ROOT/local/share/doc/PACKAGE_NAME/` is 115 MB\n\nI think we need to find the unnecessary files and remove them. Something like:\n\n```\nfind \"$SAGE_ROOT/local/share/doc/matplotlib\" -name '*.pyc' -exec rm -f {} \\;\nfind \"$SAGE_ROOT/local/share/doc/matplotlib\" -name '*.py'  -exec rm -f {} \\;\n```\n\nwould be a start, but there's probably more that can be done. \n\nShould we generate all the PDFs if `pdftex` is present? (In which case there will be several hundred more), or delete all the PDFs??\n\nI can't see any point in having the .py and .pyc files, but I'm not so sure about the .pdf files. \n\nI'm not going to copy the same comments to all the other packages - lets get one right first, before going on to the others. \n\nI think #10823 should be updated to advise developers to remove unnecessary files if they are present, otherwise we are just going to be copying a lot of unneeded junk, and filling up disks unnecessarily. \n\nDave",
    "created_at": "2011-03-02T01:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104808",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:7" align="right">comment:7</div>

This generates the HTML and puts it where expected. However, the simple 

```
cp -r doc/* $SAGE_ROOT/local/share/doc/PACKAGE_NAME/
```

is copying a **lot** of unnecessary files. There are 29 files with the extension .py, 511 files with the extension .pyc, and possibly some other unnecessary files that are being copied to `$SAGE_ROOT/local/share/doc/PACKAGE_NAME/` There are 945 pdf files there too - I'm not quite sure how they got there. The total size of the files copied to `$SAGE_ROOT/local/share/doc/PACKAGE_NAME/` is 115 MB

I think we need to find the unnecessary files and remove them. Something like:

```
find "$SAGE_ROOT/local/share/doc/matplotlib" -name '*.pyc' -exec rm -f {} \;
find "$SAGE_ROOT/local/share/doc/matplotlib" -name '*.py'  -exec rm -f {} \;
```

would be a start, but there's probably more that can be done. 

Should we generate all the PDFs if `pdftex` is present? (In which case there will be several hundred more), or delete all the PDFs??

I can't see any point in having the .py and .pyc files, but I'm not so sure about the .pdf files. 

I'm not going to copy the same comments to all the other packages - lets get one right first, before going on to the others. 

I think #10823 should be updated to advise developers to remove unnecessary files if they are present, otherwise we are just going to be copying a lot of unneeded junk, and filling up disks unnecessarily. 

Dave



---

archive/issue_comments_104809.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIn matplotlib, it's not \"cp -r doc/* $SAGE_ROOT/local/share/doc/PACKAGE_NAME/\", but rather, it's copying the results of the build directory.\n\nThe documentation for matplotlib includes a *lot* of example figures (generated in both png and pdf formats) as well as the .py files that generated those examples, so I think those files are legitimate.  I'm not sure about the .pyc files---I'll check those.",
    "created_at": "2011-03-02T02:04:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104809",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:8" align="right">comment:8</div>

In matplotlib, it's not "cp -r doc/* $SAGE_ROOT/local/share/doc/PACKAGE_NAME/", but rather, it's copying the results of the build directory.

The documentation for matplotlib includes a *lot* of example figures (generated in both png and pdf formats) as well as the .py files that generated those examples, so I think those files are legitimate.  I'm not sure about the .pyc files---I'll check those.



---

archive/issue_comments_104810.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThis spkg (as well as the other spkgs from #10823) are copying the directories containing the actual built documentation (e.g., build/html), not the entire documentation source tree.  As such, only the actual documentation files should be there.  In matplotlib's case, lots of pdf and png files are generated as example images (this is a plotting package, after all) and the generating .py files are also included in the docs.\n\nI see some pyc files that probably should not be in the build directory of the docs.  \nI feel like these should be reported upstream and dealt with on another ticket.  I'd really rather use the default upstream doc build system, and report problems upstream.\n\nPlease remember that SAGE_SPKG_INSTALL_DOCS is an optional feature, and the people that invoke it are making a decision that the documentation is worth the disk space.",
    "created_at": "2011-03-02T02:40:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104810",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:9" align="right">comment:9</div>

This spkg (as well as the other spkgs from #10823) are copying the directories containing the actual built documentation (e.g., build/html), not the entire documentation source tree.  As such, only the actual documentation files should be there.  In matplotlib's case, lots of pdf and png files are generated as example images (this is a plotting package, after all) and the generating .py files are also included in the docs.

I see some pyc files that probably should not be in the build directory of the docs.  
I feel like these should be reported upstream and dealt with on another ticket.  I'd really rather use the default upstream doc build system, and report problems upstream.

Please remember that SAGE_SPKG_INSTALL_DOCS is an optional feature, and the people that invoke it are making a decision that the documentation is worth the disk space.



---

archive/issue_events_143447.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-03-02T02:40:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143447"
}
```



---

archive/issue_events_143448.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-03-02T02:40:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143448"
}
```



---

archive/issue_comments_104811.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI've posted a message to the matplotlib list about the .pyc files, as well as a possible redundancy in image files.",
    "created_at": "2011-03-02T04:27:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104811",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:10" align="right">comment:10</div>

I've posted a message to the matplotlib list about the .pyc files, as well as a possible redundancy in image files.



---

archive/issue_comments_104812.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nOK, in light of what you have said, I'll put this to positive review.",
    "created_at": "2011-03-02T04:45:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104812",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:11" align="right">comment:11</div>

OK, in light of what you have said, I'll put this to positive review.



---

archive/issue_events_143449.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-02T04:45:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143449"
}
```



---

archive/issue_events_143450.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-02T04:45:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143450"
}
```



---

archive/issue_comments_104813.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAn upstream developer has proposed some changes to matplotlib that will cut down on the redundant files.  See the mailing list thread here: http://thread.gmane.org/gmane.comp.python.matplotlib.general/26576",
    "created_at": "2011-03-04T16:59:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104813",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:12" align="right">comment:12</div>

An upstream developer has proposed some changes to matplotlib that will cut down on the redundant files.  See the mailing list thread here: http://thread.gmane.org/gmane.comp.python.matplotlib.general/26576



---

archive/issue_comments_104814.json:
```json
{
    "body": "Merged: **sage-4.7.alpha1**",
    "created_at": "2011-03-08T21:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104814",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.alpha1**



---

archive/issue_events_143451.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-03-08T21:48:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143451"
}
```



---

archive/issue_events_143452.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-03-08T21:48:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143452"
}
```



---

archive/issue_comments_104815.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nmatplotlib doesn't build from scratch using SAGE_SPKG_INSTALL_DOCS, see also #10826.",
    "created_at": "2011-04-14T11:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104815",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

matplotlib doesn't build from scratch using SAGE_SPKG_INSTALL_DOCS, see also #10826.



---

archive/issue_comments_104816.json:
```json
{
    "body": "Changed merged from **sage-4.7.alpha1** to none",
    "created_at": "2011-04-14T11:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104816",
    "user": "https://github.com/jdemeyer"
}
```

Changed merged from **sage-4.7.alpha1** to none



---

archive/issue_events_143453.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-14T11:59:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143453"
}
```



---

archive/issue_comments_104817.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nSee #11197 for building docs after Sage is built.",
    "created_at": "2011-04-14T13:52:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104817",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:16" align="right">comment:16</div>

See #11197 for building docs after Sage is built.



---

archive/issue_comments_104818.json:
```json
{
    "body": "Changed keywords from none to **sd32**",
    "created_at": "2011-08-24T23:39:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104818",
    "user": "https://github.com/williamstein"
}
```

Changed keywords from none to **sd32**



---

archive/issue_events_143454.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143454"
}
```



---

archive/issue_events_143455.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143455"
}
```



---

archive/issue_events_143456.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143456"
}
```



---

archive/issue_events_143457.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143457"
}
```



---

archive/issue_events_143458.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143458"
}
```



---

archive/issue_events_143459.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143459"
}
```



---

archive/issue_events_143460.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143460"
}
```



---

archive/issue_events_143461.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143461"
}
```



---

archive/issue_comments_104819.json:
```json
{
    "body": "Changed reviewer from **David Kirkby** to none",
    "created_at": "2021-12-02T01:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104819",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **David Kirkby** to none



---

archive/issue_events_143462.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:11:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143462"
}
```



---

archive/issue_events_143463.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:11:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143463"
}
```



---

archive/issue_events_143464.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:11:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143464"
}
```



---

archive/issue_events_143465.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:11:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143465"
}
```



---

archive/issue_events_143466.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:11:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143466"
}
```



---

archive/issue_comments_104820.json:
```json
{
    "body": "Changed author from **Jason Grout** to none",
    "created_at": "2021-12-02T01:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104820",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Jason Grout** to none



---

archive/issue_comments_104821.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\noutdated, should close",
    "created_at": "2021-12-02T01:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104821",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

outdated, should close



---

archive/issue_events_143467.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-03T09:32:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143467"
}
```



---

archive/issue_events_143468.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-03T09:32:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143468"
}
```



---

archive/issue_comments_104822.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2021-12-03T09:32:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10828#issuecomment-104822",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_143469.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-03T18:41:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143469"
}
```



---

archive/issue_events_143470.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-03T18:41:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10828",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10828#event-143470"
}
```
