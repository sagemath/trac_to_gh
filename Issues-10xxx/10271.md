# Issue 10271: Make big_oh notation work for any element that has a big_oh() method

archive/issues_010270.json:
```json
{
    "body": "One can use the big-oh notation\n\nO(x<sup>n</sup>)\n\nwhen x is a generator of a power series or a laurent series. It is convenient to also be able to use this notation when the parent of x is another ring (for example, a subclass of a power series ring).\n\nThe current implementation in `rings/big_oh.py` imports a large number of types, which slows down the Sage startup.  Elements should implement their own big_oh() methods, and the function `O(x)` should simply call `x.big_oh()`.\n\nAssignee: boothby\n\nKeywords: sd32\n\nWork_Issues: add doctest\n\nReviewer: Timo Kluck\n\nAuthor: Tom Boothby\n\nStatus: needs_work\n\nDependencies: #11726, #11719\n\nIssue created by migration from https://trac.sagemath.org/ticket/10271\n\n",
    "created_at": "2010-11-15T14:10:31Z",
    "labels": [
        "component: commutative algebra",
        "trivial"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Make big_oh notation work for any element that has a big_oh() method",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10271",
    "user": "https://github.com/tkluck"
}
```
One can use the big-oh notation

O(x<sup>n</sup>)

when x is a generator of a power series or a laurent series. It is convenient to also be able to use this notation when the parent of x is another ring (for example, a subclass of a power series ring).

The current implementation in `rings/big_oh.py` imports a large number of types, which slows down the Sage startup.  Elements should implement their own big_oh() methods, and the function `O(x)` should simply call `x.big_oh()`.

Assignee: boothby

Keywords: sd32

Work_Issues: add doctest

Reviewer: Timo Kluck

Author: Tom Boothby

Status: needs_work

Dependencies: #11726, #11719

Issue created by migration from https://trac.sagemath.org/ticket/10271





---

archive/issue_comments_126107.json:
```json
{
    "body": "patch for sage.rings.big_oh",
    "created_at": "2010-11-15T14:10:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126107",
    "user": "https://github.com/tkluck"
}
```

patch for sage.rings.big_oh



---

archive/issue_comments_126108.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-01-11T13:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126108",
    "user": "https://github.com/tkluck"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_126109.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [bigoh.patch](tarball://root/attachments/some-uuid/ticket10271/bigoh.patch) by @tkluck created at 2011-01-11 13:46:39",
    "created_at": "2011-01-11T13:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126109",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:1'></a>Attachment [bigoh.patch](tarball://root/attachments/some-uuid/ticket10271/bigoh.patch) by @tkluck created at 2011-01-11 13:46:39



---

archive/issue_comments_126110.json:
```json
{
    "body": "<a id='comment:2'></a>Attachment [trac_10271_bigoh_extension.patch](tarball://root/attachments/some-uuid/ticket10271/trac_10271_bigoh_extension.patch) by @tkluck created at 2011-03-16 15:39:02\n\nI just added the patch in the right format, i.e. the output of hg_sage.export() instead of a normal diff.",
    "created_at": "2011-03-16T15:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126110",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:2'></a>Attachment [trac_10271_bigoh_extension.patch](tarball://root/attachments/some-uuid/ticket10271/trac_10271_bigoh_extension.patch) by @tkluck created at 2011-03-16 15:39:02

I just added the patch in the right format, i.e. the output of hg_sage.export() instead of a normal diff.



---

archive/issue_comments_126111.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-On can use the big-oh notation\n+One can use the big-oh notation\n \n O(x^n)\n \n``````\n",
    "created_at": "2011-06-14T20:27:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126111",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-On can use the big-oh notation
+One can use the big-oh notation
 
 O(x^n)
 
``````




---

archive/issue_comments_126112.json:
```json
{
    "body": "<a id='comment:4'></a>Applied patch to sage-4.7.1.alpha2, did 'sage -b', then 'make testlong'.  All tests passed.  Positive review!",
    "created_at": "2011-06-16T13:27:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126112",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

<a id='comment:4'></a>Applied patch to sage-4.7.1.alpha2, did 'sage -b', then 'make testlong'.  All tests passed.  Positive review!



---

archive/issue_comments_126113.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-06-16T13:27:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126113",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_026406.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mariah",
    "created_at": "2011-06-16T13:27:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10271#event-26406"
}
```



---

archive/issue_comments_126114.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Mariah Lenox\"",
    "created_at": "2011-06-16T13:27:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126114",
    "user": "https://trac.sagemath.org/admin/accounts/users/mariah"
}
```

Changing reviewer from "" to "Mariah Lenox"



---

archive/issue_comments_126115.json:
```json
{
    "body": "<a id='comment:5'></a>I think this patch needs an extra doctest to demonstrate what it does and that it works as expected.",
    "created_at": "2011-06-19T13:48:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126115",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>I think this patch needs an extra doctest to demonstrate what it does and that it works as expected.



---

archive/issue_comments_126116.json:
```json
{
    "body": "Changing work_issues from \"\" to \"add doctest\"",
    "created_at": "2011-06-19T13:48:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126116",
    "user": "https://github.com/jdemeyer"
}
```

Changing work_issues from "" to "add doctest"



---

archive/issue_comments_126117.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-06-19T13:48:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126117",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_126118.json:
```json
{
    "body": "<a id='comment:6'></a>The following behavior is bad.  In both cases, I think one should get an error.\n\n```\nsage: R.<x> = QQ[[]]\nsage: O(1+x^10)\nO(x^10)\nsage: f = x*(1/x + x^9); type(f)\n<type 'sage.rings.laurent_series_ring_element.LaurentSeries'>\nsage: O(f)\nO(x^0)\n```",
    "created_at": "2011-08-23T06:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126118",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:6'></a>The following behavior is bad.  In both cases, I think one should get an error.

```
sage: R.<x> = QQ[[]]
sage: O(1+x^10)
O(x^10)
sage: f = x*(1/x + x^9); type(f)
<type 'sage.rings.laurent_series_ring_element.LaurentSeries'>
sage: O(f)
O(x^0)
```



---

archive/issue_comments_126119.json:
```json
{
    "body": "Changing assignee from @malb to boothby.",
    "created_at": "2011-08-23T06:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126119",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing assignee from @malb to boothby.



---

archive/issue_comments_126120.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n One can use the big-oh notation\n \n-O(x^n)\n+O(x<sup>n</sup>)\n \n when x is a generator of a power series or a laurent series. It is convenient to also be able to use this notation when the parent of x is another ring (for example, a subclass of a power series ring).\n \n-For this, we only need x to implement x.degree() and x.add_bigoh(). I made a patch for sage.rings.big_oh that tests for this and returns x.add_bigoh(x.degree()) when possible.\n+The current implementation in `rings/big_oh.py` imports a large number of types, which slows down the Sage startup.  Elements should implement their own big_oh() methods, and the function `O(x)` should simply call `x.big_oh()`.\n``````\n",
    "created_at": "2011-08-23T06:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126120",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 One can use the big-oh notation
 
-O(x^n)
+O(x<sup>n</sup>)
 
 when x is a generator of a power series or a laurent series. It is convenient to also be able to use this notation when the parent of x is another ring (for example, a subclass of a power series ring).
 
-For this, we only need x to implement x.degree() and x.add_bigoh(). I made a patch for sage.rings.big_oh that tests for this and returns x.add_bigoh(x.degree()) when possible.
+The current implementation in `rings/big_oh.py` imports a large number of types, which slows down the Sage startup.  Elements should implement their own big_oh() methods, and the function `O(x)` should simply call `x.big_oh()`.
``````




---

archive/issue_comments_126121.json:
```json
{
    "body": "<a id='comment:9'></a>Tom Boothby is currently working on this.  See also #11726 and #11729.",
    "created_at": "2011-08-24T05:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126121",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:9'></a>Tom Boothby is currently working on this.  See also #11726 and #11729.



---

archive/issue_comments_126122.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd32\".",
    "created_at": "2011-08-24T23:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126122",
    "user": "https://github.com/williamstein"
}
```

Changing keywords from "" to "sd32".



---

archive/issue_comments_126123.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#11726, #11719\"",
    "created_at": "2011-08-25T07:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126123",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing dependencies from "" to "#11726, #11719"



---

archive/issue_comments_126124.json:
```json
{
    "body": "Changing author from \"Timo Kluck\" to \"Tom Boothby\"",
    "created_at": "2011-08-25T07:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126124",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing author from "Timo Kluck" to "Tom Boothby"



---

archive/issue_comments_126125.json:
```json
{
    "body": "Attachment [trac_10271.patch](tarball://root/attachments/some-uuid/ticket10271/trac_10271.patch) by boothby created at 2011-08-25 08:30:50\n\napply only this patch",
    "created_at": "2011-08-25T08:30:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126125",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Attachment [trac_10271.patch](tarball://root/attachments/some-uuid/ticket10271/trac_10271.patch) by boothby created at 2011-08-25 08:30:50

apply only this patch



---

archive/issue_comments_126126.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-08-25T08:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126126",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_126127.json:
```json
{
    "body": "Changing reviewer from \"Mariah Lenox\" to \"Timo Kluck\"",
    "created_at": "2012-12-23T19:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126127",
    "user": "https://github.com/tkluck"
}
```

Changing reviewer from "Mariah Lenox" to "Timo Kluck"



---

archive/issue_comments_126128.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-12-23T19:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126128",
    "user": "https://github.com/tkluck"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_126129.json:
```json
{
    "body": "<a id='comment:13'></a>I could have reviewed this sooner, sorry about that. However, the ticket's dependencies are still open, so maybe we should still wait for them to be accepted? \n\nThis doesn't apply to v5.4 anymore. I also couldn't easily fix that myself. I'll set the status to needs_work.",
    "created_at": "2012-12-23T19:32:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10271#issuecomment-126129",
    "user": "https://github.com/tkluck"
}
```

<a id='comment:13'></a>I could have reviewed this sooner, sorry about that. However, the ticket's dependencies are still open, so maybe we should still wait for them to be accepted? 

This doesn't apply to v5.4 anymore. I also couldn't easily fix that myself. I'll set the status to needs_work.



---

archive/issue_events_026407.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10271#event-26407"
}
```



---

archive/issue_events_026408.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10271#event-26408"
}
```



---

archive/issue_events_026409.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10271#event-26409"
}
```



---

archive/issue_events_026410.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10271#event-26410"
}
```



---

archive/issue_events_026411.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10271#event-26411"
}
```



---

archive/issue_events_026412.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10271#event-26412"
}
```



---

archive/issue_events_026413.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10271#event-26413"
}
```



---

archive/issue_events_026414.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10271",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10271#event-26414"
}
```
