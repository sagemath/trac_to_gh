# Issue 10473: Wrong docs of _lmul_ and _rmul_ in the polynomial module

archive/issues_010420.json:
```json
{
    "body": "\n```\n\n>> sage: s=1/2*x;parent(s)\n>> sage: s._rmul_?\n>> ...\n>> Definition:     s._rmul_(self, right)\n>> Docstring:\n>>      File: sage/rings/polynomial/polynomial_rational_flint.pyx\n>> (starting at\n>>      line 933)\n\n>>         Returns self * right, where right is a rational number. \n\n```\nThis is reversed. \n\n\nr*s means that s is on the right side, hence, s._rmul_(r), while s is on the left side in s*r, hence, s._lmul_(r). \n\nthe `_rmul_` docs should be:\n\ns._rmul_(self, left)\n\nand say it returns left*self, where left is a rational number. \n\n**Assignee:** @aghitza\n\n**Author:** Kwankyu Lee\n\n**Reviewer:** Aly Deines\n\n**Merged:** sage-4.6.2.alpha2\n\nIssue created by migration from https://trac.sagemath.org/ticket/10473\n\n",
    "closed_at": "2011-01-25T08:15:55Z",
    "created_at": "2010-12-14T07:21:20Z",
    "labels": [
        "component: basic arithmetic",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6.2",
    "title": "Wrong docs of _lmul_ and _rmul_ in the polynomial module",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10473",
    "user": "https://github.com/kwankyu"
}
```

```

>> sage: s=1/2*x;parent(s)
>> sage: s._rmul_?
>> ...
>> Definition:     s._rmul_(self, right)
>> Docstring:
>>      File: sage/rings/polynomial/polynomial_rational_flint.pyx
>> (starting at
>>      line 933)

>>         Returns self * right, where right is a rational number. 

```
This is reversed. 


r*s means that s is on the right side, hence, s._rmul_(r), while s is on the left side in s*r, hence, s._lmul_(r). 

the `_rmul_` docs should be:

s._rmul_(self, left)

and say it returns left*self, where left is a rational number. 

**Assignee:** @aghitza

**Author:** Kwankyu Lee

**Reviewer:** Aly Deines

**Merged:** sage-4.6.2.alpha2

Issue created by migration from https://trac.sagemath.org/ticket/10473





---

archive/issue_comments_101814.json:
```json
{
    "body": "<a id='comment:1'></a>\nThe patch fixes an instance of the error in the file sage/rings/polynomial/polynomial_rational_flint.pyx. There may be the same error in other files.",
    "created_at": "2010-12-14T07:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101814",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:1'></a>
The patch fixes an instance of the error in the file sage/rings/polynomial/polynomial_rational_flint.pyx. There may be the same error in other files.



---

archive/issue_events_081834.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2010-12-14T07:34:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81834"
}
```



---

archive/issue_events_081835.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2010-12-14T07:34:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "bug",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81835"
}
```



---

archive/issue_comments_101815.json:
```json
{
    "body": "**Author:** Kwankyu Lee",
    "created_at": "2010-12-14T07:34:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101815",
    "user": "https://github.com/kwankyu"
}
```

**Author:** Kwankyu Lee



---

archive/issue_comments_101816.json:
```json
{
    "body": "<a id='comment:4'></a>\nThank you for noticing this!  Of course, the code behaves correctly in both cases right now, because the operation is commutative, but I agree the documentation needs to be changed.\n\nThis patch seems to be doing exactly the right thing, however, it does not apply cleanly to 4.6.1.rc0.  Is there any chance you might be able to change this?  (In that case, I am happy to run tests etc and give it a positive review.)\n\nMany thanks!\nSebastian",
    "created_at": "2011-01-08T07:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101816",
    "user": "https://trac.sagemath.org/admin/accounts/users/spancratz"
}
```

<a id='comment:4'></a>
Thank you for noticing this!  Of course, the code behaves correctly in both cases right now, because the operation is commutative, but I agree the documentation needs to be changed.

This patch seems to be doing exactly the right thing, however, it does not apply cleanly to 4.6.1.rc0.  Is there any chance you might be able to change this?  (In that case, I am happy to run tests etc and give it a positive review.)

Many thanks!
Sebastian



---

archive/issue_events_081836.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/spancratz",
    "created_at": "2011-01-08T07:01:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81836"
}
```



---

archive/issue_events_081837.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/spancratz",
    "created_at": "2011-01-08T07:01:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81837"
}
```



---

archive/attachments_013650.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_10473.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket10473/trac_10473.patch",
    "created_at": "2011-01-08T20:21:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/kwankyu"
}
```



---

archive/issue_comments_101817.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe patch rebased to Sage 4.6.1.rc0",
    "created_at": "2011-01-08T20:21:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101817",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:5'></a>
The patch rebased to Sage 4.6.1.rc0



---

archive/issue_events_081838.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-01-08T20:21:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81838"
}
```



---

archive/issue_events_081839.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-01-08T20:21:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81839"
}
```



---

archive/issue_comments_101818.json:
```json
{
    "body": "<a id='comment:6'></a>\nThank you for the quick reply.\n\nUnfortunately, the patch still does not apply cleanly to 4.6.1.rc0.  It's the second hunk of the patch that fails, i.e., the following\n\n```\n--- polynomial_rational_flint.pyx\n+++ polynomial_rational_flint.pyx\n@@ -923,14 +923,14 @@\n         \"\"\"\n         cdef Polynomial_rational_flint res = self._new()\n         cdef bint do_sig = _do_sig(self.__poly)\n-\n+\n         if do_sig: _sig_on\n         fmpq_poly_scalar_mul_mpq(res.__poly, self.__poly, \\\n-                                 (<Rational> right).value)\n+                                 (<Rational> left).value)\n         if do_sig: _sig_off\n         return res\n\n-    cpdef ModuleElement _rmul_(self, RingElement right):\n+    cpdef ModuleElement _lmul_(self, RingElement right):\n         r\"\"\"\n         Returns self * right, where right is a rational number.\n```\n\nI am not quite sure why this is;  perhaps you accidentally did not upload the updated patch?\n\nFeel free to try again (and I'll check and review it).  Alternatively, I am also happy to fix this myself;  let me know what you prefer.\n\nBest wishes,\nSebastian",
    "created_at": "2011-01-08T23:05:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101818",
    "user": "https://trac.sagemath.org/admin/accounts/users/spancratz"
}
```

<a id='comment:6'></a>
Thank you for the quick reply.

Unfortunately, the patch still does not apply cleanly to 4.6.1.rc0.  It's the second hunk of the patch that fails, i.e., the following

```
--- polynomial_rational_flint.pyx
+++ polynomial_rational_flint.pyx
@@ -923,14 +923,14 @@
         """
         cdef Polynomial_rational_flint res = self._new()
         cdef bint do_sig = _do_sig(self.__poly)
-
+
         if do_sig: _sig_on
         fmpq_poly_scalar_mul_mpq(res.__poly, self.__poly, \
-                                 (<Rational> right).value)
+                                 (<Rational> left).value)
         if do_sig: _sig_off
         return res

-    cpdef ModuleElement _rmul_(self, RingElement right):
+    cpdef ModuleElement _lmul_(self, RingElement right):
         r"""
         Returns self * right, where right is a rational number.
```

I am not quite sure why this is;  perhaps you accidentally did not upload the updated patch?

Feel free to try again (and I'll check and review it).  Alternatively, I am also happy to fix this myself;  let me know what you prefer.

Best wishes,
Sebastian



---

archive/attachments_013651.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac-10473.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket10473/trac-10473.patch",
    "created_at": "2011-01-14T00:08:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/spancratz"
}
```



---

archive/issue_comments_101819.json:
```json
{
    "body": "Updated version for 4.6.1.rc0",
    "created_at": "2011-01-14T00:08:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101819",
    "user": "https://trac.sagemath.org/admin/accounts/users/spancratz"
}
```

Updated version for 4.6.1.rc0



---

archive/issue_comments_101820.json:
```json
{
    "body": "<a id='comment:7'></a>\nLooks good!",
    "created_at": "2011-01-14T01:17:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101820",
    "user": "https://github.com/adeines"
}
```

<a id='comment:7'></a>
Looks good!



---

archive/issue_events_081840.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2011-01-14T01:17:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81840"
}
```



---

archive/issue_events_081841.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2011-01-14T01:17:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81841"
}
```



---

archive/issue_comments_101821.json:
```json
{
    "body": "**Reviewer:** Aly Deines",
    "created_at": "2011-01-14T01:18:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101821",
    "user": "https://github.com/adeines"
}
```

**Reviewer:** Aly Deines



---

archive/issue_comments_101822.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe patch lacks a commit message, probably because you used `hg diff` instead of the proper `hg export tip`.  Please add a commit message (which should contain the ticket number on the first line).",
    "created_at": "2011-01-18T14:00:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101822",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
The patch lacks a commit message, probably because you used `hg diff` instead of the proper `hg export tip`.  Please add a commit message (which should contain the ticket number on the first line).



---

archive/issue_events_081842.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-18T14:00:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81842"
}
```



---

archive/issue_events_081843.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-18T14:00:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81843"
}
```



---

archive/attachments_013652.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_10473_rebased.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket10473/trac_10473_rebased.patch",
    "created_at": "2011-01-21T14:11:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/kwankyu"
}
```



---

archive/issue_comments_101823.json:
```json
{
    "body": "",
    "created_at": "2011-01-21T14:11:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101823",
    "user": "https://github.com/kwankyu"
}
```





---

archive/issue_comments_101824.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe patch rebased for the latest release 4.6.1",
    "created_at": "2011-01-21T14:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101824",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:10'></a>
The patch rebased for the latest release 4.6.1



---

archive/issue_events_081844.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-01-21T14:14:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81844"
}
```



---

archive/issue_events_081845.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-01-21T14:14:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81845"
}
```



---

archive/issue_events_081846.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-22T20:16:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81846"
}
```



---

archive/issue_events_081847.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-22T20:16:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81847"
}
```



---

archive/issue_comments_101825.json:
```json
{
    "body": "**Merged:** sage-4.6.2.alpha2",
    "created_at": "2011-01-25T08:15:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10473#issuecomment-101825",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.6.2.alpha2



---

archive/issue_events_081848.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-25T08:15:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81848"
}
```



---

archive/issue_events_081849.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-25T08:15:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10473",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10473#event-81849"
}
```
