# Issue 10108: Calling mwrank(-10) hangs Sage, but uses very little CPU time

archive/issues_010107.json:
```json
{
    "assignees": [
        "https://github.com/JohnCremona"
    ],
    "body": "Following some very quick hacks at using \"fuzz testing\" techniques, I found that\n\n```\nsage: mwrank(-10)\n```\n\njust hangs, but does not appear to be using any CPU time. Although I don't know what this is supposed to do, from discussions on sage-devel, I understand my suspicions this behavior is an error were correct. \n\nCan someone please select the component appropriately, as I don't have a clue myself. \n\n\nCC:  @JohnCremona\n\nComponent: **elliptic curves**\n\nKeywords: **mwrank**\n\nAuthor: **John Cremona**\n\nBranch/Commit: **[u/wuthrich/ticket/10108](https://github.com/sagemath/sagetrac-mirror/tree/u/wuthrich/ticket/10108) @ [`0fb4c7d`](https://github.com/sagemath/sagetrac-mirror/commit/0fb4c7dadbe5b82ffccff51cccfc03b33ca895f4)**\n\nReviewer: **Mike Hansen, Chris Wuthrich**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10108_\n\n",
    "closed_at": "2014-02-01T15:16:59Z",
    "created_at": "2010-10-09T19:53:29Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Calling mwrank(-10) hangs Sage, but uses very little CPU time",
    "type": "issue",
    "updated_at": "2014-02-08T13:01:58Z",
    "url": "https://github.com/sagemath/sage/issues/10108",
    "user": "https://github.com/sagetrac-drkirkby"
}
```
Following some very quick hacks at using "fuzz testing" techniques, I found that

```
sage: mwrank(-10)
```

just hangs, but does not appear to be using any CPU time. Although I don't know what this is supposed to do, from discussions on sage-devel, I understand my suspicions this behavior is an error were correct. 

Can someone please select the component appropriately, as I don't have a clue myself. 


CC:  @JohnCremona

Component: **elliptic curves**

Keywords: **mwrank**

Author: **John Cremona**

Branch/Commit: **[u/wuthrich/ticket/10108](https://github.com/sagemath/sagetrac-mirror/tree/u/wuthrich/ticket/10108) @ [`0fb4c7d`](https://github.com/sagemath/sagetrac-mirror/commit/0fb4c7dadbe5b82ffccff51cccfc03b33ca895f4)**

Reviewer: **Mike Hansen, Chris Wuthrich**

_Issue created by migration from https://trac.sagemath.org/ticket/10108_





---

archive/issue_events_130816.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-10-09T19:53:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130816"
}
```



---

archive/issue_events_130817.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-10-09T19:53:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130817"
}
```



---

archive/issue_events_130818.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-10-09T19:53:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130818"
}
```



---

archive/issue_comments_092886.json:
```json
{
    "body": "Changed keywords from none to **mwrank**",
    "created_at": "2010-10-09T19:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92886",
    "user": "https://github.com/JohnCremona"
}
```

Changed keywords from none to **mwrank**



---

archive/issue_events_130819.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-10-09T19:55:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
    "label_color": "0000ff",
    "label_name": "c: elliptic curves",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130819"
}
```



---

archive/issue_events_130820.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-10-09T19:55:25Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "subject": "https://github.com/JohnCremona",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130820"
}
```



---

archive/issue_comments_092887.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI have a patch for this which I will post soon.",
    "created_at": "2010-10-09T19:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92887",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:1" align="right">comment:1</div>

I have a patch for this which I will post soon.



---

archive/issue_comments_092888.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nReplying to [@JohnCremona](#comment%3A1):\n> I have a patch for this which I will post soon.\n\nDelays caused by break in internet access -- hope to post patch Sunday.",
    "created_at": "2010-10-09T22:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92888",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:2" align="right">comment:2</div>

Replying to [@JohnCremona](#comment%3A1):
> I have a patch for this which I will post soon.

Delays caused by break in internet access -- hope to post patch Sunday.



---

archive/issue_comments_092889.json:
```json
{
    "body": "applies to 4.6.alpha3",
    "created_at": "2010-10-10T20:18:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92889",
    "user": "https://github.com/JohnCremona"
}
```

applies to 4.6.alpha3



---

archive/issue_comments_092890.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[trac_10108-mwrank.patch.gz](https://github.com/sagemath/sage/files/ticket10108/trac_10108-mwrank.patch.gz)**\n\nThis was harder than expected.  Without either (1) rewriting mwrank's in put parser or (2) writing a full parser within Sage and only sending to mwrank when certainly correct, which I do not want to do.  If you feed mwrank correct but incomplete input (such as <5 integers separated by whitespace) it quietly waits for the rest of the input (with no prompts).\n\nTo get around this I pad the strings sent to mwrank with ' 0 0 0 0 0 ' which means that this never happens, and then to get repeated calls to mwrank to work properly need a bit of fiddling.  I tested the patch on two machines (4.6.alpha3).",
    "created_at": "2010-10-10T20:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92890",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[trac_10108-mwrank.patch.gz](https://github.com/sagemath/sage/files/ticket10108/trac_10108-mwrank.patch.gz)**

This was harder than expected.  Without either (1) rewriting mwrank's in put parser or (2) writing a full parser within Sage and only sending to mwrank when certainly correct, which I do not want to do.  If you feed mwrank correct but incomplete input (such as <5 integers separated by whitespace) it quietly waits for the rest of the input (with no prompts).

To get around this I pad the strings sent to mwrank with ' 0 0 0 0 0 ' which means that this never happens, and then to get repeated calls to mwrank to work properly need a bit of fiddling.  I tested the patch on two machines (4.6.alpha3).



---

archive/issue_comments_092891.json:
```json
{
    "body": "Author: **John Cremona**",
    "created_at": "2010-10-10T20:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92891",
    "user": "https://github.com/JohnCremona"
}
```

Author: **John Cremona**



---

archive/issue_events_130821.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-10-10T20:23:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130821"
}
```



---

archive/issue_comments_092892.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@JohnCremona](#comment%3A3):\n> This was harder than expected.  Without either (1) rewriting mwrank's in put parser or (2) writing a full parser within Sage and only sending to mwrank when certainly correct, which I do not want to do.  If you feed mwrank correct but incomplete input (such as <5 integers separated by whitespace) it quietly waits for the rest of the input (with no prompts).\n\n\nIf this hard, then perhaps it's more effort to fix properly than it is worth. You are a better judge of that than me. \n\nI can't help feeling if this is supposed to take 5 integers then it should take 5, and not accept fewer or more, as it does. For example:\n\n```\nsage: mwrank('1 2 3')\n\"Curve [0,0,0,1,2] :     \\n1 points of order 2:\\n[-1:0:1]\\n\\nUsing 2-isogenous curve [0,6,0,-7,0] (minimal model [0,0,0,-19,30])\\n-------------------------------------------------------\\nFirst step, determining 1st descent Selmer groups\\n-------------------------------------------------------\\nAfter first local descent, rank bound = 0\\nrk(S^{phi}(E'))=        1\\nrk(S^{phi'}(E))=        1\\n\\n-------------------------------------------------------\\nSecond step, determining 2nd descent Selmer groups\\n-------------------------------------------------------\\n...skipping since we already know rank=0\\nAfter second local descent, rank bound = 0\\nrk(phi'(S^{2}(E)))=     1\\nrk(phi(S^{2}(E')))=     1\\nrk(S^{2}(E))=   1\\nrk(S^{2}(E'))=  2\\n\\nThird step, determining E(Q)/phi(E'(Q)) and E'(Q)/phi'(E(Q))\\n-------------------------------------------------------\\n1. E(Q)/phi(E'(Q))\\n-------------------------------------------------------\\n(c,d)  =(-3,4)\\n(c',d')=(6,-7)\\nThis component of the rank is 0\\n-------------------------------------------------------\\n2. E'(Q)/phi'(E(Q))\\n-------------------------------------------------------\\nThis component of the rank is 0\\n\\n-------------------------------------------------------\\nSummary of results:\\n-------------------------------------------------------\\n        rank(E) = 0\\n        #E(Q)/2E(Q) = 2\\n\\nInformation on III(E/Q):\\n        #III(E/Q)[phi']    = 1\\n        #III(E/Q)[2]       = 1\\n\\nInformation on III(E'/Q):\\n        #phi'(III(E/Q)[2]) = 1\\n        #III(E'/Q)[phi]    = 1\\n        #III(E'/Q)[2]      = 1\\n\\n\\nUsed descent via 2-isogeny with isogenous curve E' = [0,0,0,-19,30]\\nRank = 0\\nRank of S^2(E)  = 1\\nRank of S^2(E') = 2\\nRank of S^phi(E') = 1\\nRank of S^phi'(E) = 1\\n\\nSearching for points (bound = 8)...done:\\n  found points of rank 0\\n  and regulator 1\\nProcessing points found during 2-descent...done:\\n  now regulator = 1\\nSaturating (bound = 100)...done:\\n  points were already saturated.\\n\\n\\nRegulator = 1\\n\\nThe rank and full Mordell-Weil basis have been determined unconditionally.\\n (0.055625 seconds)\"\n```\n\n(It would also be nice if those `\\n`'s actually created a new line, as I expect they are supposed to do, but that's another issue entirely.)\n\nAgain, I don't feel able to review the Python.",
    "created_at": "2010-10-11T01:56:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92892",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@JohnCremona](#comment%3A3):
> This was harder than expected.  Without either (1) rewriting mwrank's in put parser or (2) writing a full parser within Sage and only sending to mwrank when certainly correct, which I do not want to do.  If you feed mwrank correct but incomplete input (such as <5 integers separated by whitespace) it quietly waits for the rest of the input (with no prompts).


If this hard, then perhaps it's more effort to fix properly than it is worth. You are a better judge of that than me. 

I can't help feeling if this is supposed to take 5 integers then it should take 5, and not accept fewer or more, as it does. For example:

```
sage: mwrank('1 2 3')
"Curve [0,0,0,1,2] :     \n1 points of order 2:\n[-1:0:1]\n\nUsing 2-isogenous curve [0,6,0,-7,0] (minimal model [0,0,0,-19,30])\n-------------------------------------------------------\nFirst step, determining 1st descent Selmer groups\n-------------------------------------------------------\nAfter first local descent, rank bound = 0\nrk(S^{phi}(E'))=        1\nrk(S^{phi'}(E))=        1\n\n-------------------------------------------------------\nSecond step, determining 2nd descent Selmer groups\n-------------------------------------------------------\n...skipping since we already know rank=0\nAfter second local descent, rank bound = 0\nrk(phi'(S^{2}(E)))=     1\nrk(phi(S^{2}(E')))=     1\nrk(S^{2}(E))=   1\nrk(S^{2}(E'))=  2\n\nThird step, determining E(Q)/phi(E'(Q)) and E'(Q)/phi'(E(Q))\n-------------------------------------------------------\n1. E(Q)/phi(E'(Q))\n-------------------------------------------------------\n(c,d)  =(-3,4)\n(c',d')=(6,-7)\nThis component of the rank is 0\n-------------------------------------------------------\n2. E'(Q)/phi'(E(Q))\n-------------------------------------------------------\nThis component of the rank is 0\n\n-------------------------------------------------------\nSummary of results:\n-------------------------------------------------------\n        rank(E) = 0\n        #E(Q)/2E(Q) = 2\n\nInformation on III(E/Q):\n        #III(E/Q)[phi']    = 1\n        #III(E/Q)[2]       = 1\n\nInformation on III(E'/Q):\n        #phi'(III(E/Q)[2]) = 1\n        #III(E'/Q)[phi]    = 1\n        #III(E'/Q)[2]      = 1\n\n\nUsed descent via 2-isogeny with isogenous curve E' = [0,0,0,-19,30]\nRank = 0\nRank of S^2(E)  = 1\nRank of S^2(E') = 2\nRank of S^phi(E') = 1\nRank of S^phi'(E) = 1\n\nSearching for points (bound = 8)...done:\n  found points of rank 0\n  and regulator 1\nProcessing points found during 2-descent...done:\n  now regulator = 1\nSaturating (bound = 100)...done:\n  points were already saturated.\n\n\nRegulator = 1\n\nThe rank and full Mordell-Weil basis have been determined unconditionally.\n (0.055625 seconds)"
```

(It would also be nice if those `\n`'s actually created a new line, as I expect they are supposed to do, but that's another issue entirely.)

Again, I don't feel able to review the Python.



---

archive/issue_comments_092893.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAttachment: **[trac_10108-mwrank.2.patch.gz](https://github.com/sagemath/sage/files/ticket10108/trac_10108-mwrank.2.patch.gz)**\n\nLooks good to me.  I added a patch which fixes the indentation of the options blocks.",
    "created_at": "2010-10-11T03:19:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92893",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:5" align="right">comment:5</div>

Attachment: **[trac_10108-mwrank.2.patch.gz](https://github.com/sagemath/sage/files/ticket10108/trac_10108-mwrank.2.patch.gz)**

Looks good to me.  I added a patch which fixes the indentation of the options blocks.



---

archive/issue_comments_092894.json:
```json
{
    "body": "Reviewer: **Mike Hansen**",
    "created_at": "2010-10-11T03:19:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92894",
    "user": "https://github.com/mwhansen"
}
```

Reviewer: **Mike Hansen**



---

archive/issue_events_130822.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-10-11T03:19:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130822"
}
```



---

archive/issue_events_130823.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-10-11T03:19:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130823"
}
```



---

archive/issue_comments_092895.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nPlease fix the ticket number (10108, NOT 10105) in the patch",
    "created_at": "2010-10-23T12:28:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92895",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Please fix the ticket number (10108, NOT 10105) in the patch



---

archive/issue_events_130824.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-10-23T12:28:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130824"
}
```



---

archive/issue_events_130825.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-10-23T12:28:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130825"
}
```



---

archive/issue_comments_092896.json:
```json
{
    "body": "Attachment: **[trac_10105-mwrank.patch.gz](https://github.com/sagemath/sage/files/ticket10108/trac_10105-mwrank.patch.gz)**\n\nrenamed version of previous -- applies to 4.6.rc0",
    "created_at": "2010-10-23T12:53:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92896",
    "user": "https://github.com/JohnCremona"
}
```

Attachment: **[trac_10105-mwrank.patch.gz](https://github.com/sagemath/sage/files/ticket10108/trac_10105-mwrank.patch.gz)**

renamed version of previous -- applies to 4.6.rc0



---

archive/issue_events_130826.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-10-23T12:58:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130826"
}
```



---

archive/issue_events_130827.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-10-23T12:58:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130827"
}
```



---

archive/issue_comments_092897.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAttachment: **[trac_10108-mwrank.3.patch.gz](https://github.com/sagemath/sage/files/ticket10108/trac_10108-mwrank.3.patch.gz)**\n\nApply only trac_10108-mwrank.3.patch (and sorry for the mess -- previous ones can be deleted).",
    "created_at": "2010-10-23T12:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92897",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:7" align="right">comment:7</div>

Attachment: **[trac_10108-mwrank.3.patch.gz](https://github.com/sagemath/sage/files/ticket10108/trac_10108-mwrank.3.patch.gz)**

Apply only trac_10108-mwrank.3.patch (and sorry for the mess -- previous ones can be deleted).



---

archive/issue_comments_092898.json:
```json
{
    "body": "Ticket number fixed, apply only this patch",
    "created_at": "2010-10-23T16:03:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92898",
    "user": "https://github.com/jdemeyer"
}
```

Ticket number fixed, apply only this patch



---

archive/issue_comments_092899.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAttachment: **[trac_10108-mwrank.4.patch.gz](https://github.com/sagemath/sage/files/ticket10108/trac_10108-mwrank.4.patch.gz)**\n\nJohn, I seem to have confused you :-)\nNever mind, I made the fix myself.",
    "created_at": "2010-10-23T16:05:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92899",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Attachment: **[trac_10108-mwrank.4.patch.gz](https://github.com/sagemath/sage/files/ticket10108/trac_10108-mwrank.4.patch.gz)**

John, I seem to have confused you :-)
Never mind, I made the fix myself.



---

archive/issue_events_130828.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-10-23T16:05:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130828"
}
```



---

archive/issue_events_130829.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-10-23T16:05:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130829"
}
```



---

archive/issue_comments_092900.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@jdemeyer](#comment%3A8):\n> John, I seem to have confused you :-)\n> Never mind, I made the fix myself.\n\nVery sorry - -first I thought it was the patch's name, then the comment in the doctest...  but at least the bugfix works!",
    "created_at": "2010-10-23T16:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92900",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@jdemeyer](#comment%3A8):
> John, I seem to have confused you :-)
> Never mind, I made the fix myself.

Very sorry - -first I thought it was the patch's name, then the comment in the doctest...  but at least the bugfix works!



---

archive/issue_events_130830.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-10-23T20:59:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130830"
}
```



---

archive/issue_events_130831.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-10-23T20:59:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130831"
}
```



---

archive/issue_comments_092901.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis patch gives trouble for me when merging it as part of a potential sage-4.6.1.alpha0.  For some reason I cannot explain, I get the following error when running `sage -t devel/sage/sage/interfaces/mwrank.py`:\n\n```\nsage -t  \"devel/sage/sage/interfaces/mwrank.py\"\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/sage-4.6.1.alpha0-x86_64-Linux/devel/sage/sage/interfaces/mwrank.py\", line 111:\n    sage: mwrank([0,-1,1,0,0])\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/usb1/scratch/jdemeyer/sage-4.6.1.alpha0-x86_64-Linux/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/mnt/usb1/scratch/jdemeyer/sage-4.6.1.alpha0-x86_64-Linux/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/mnt/usb1/scratch/jdemeyer/sage-4.6.1.alpha0-x86_64-Linux/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_4[3]>\", line 1, in <module>\n        mwrank([Integer(0),-Integer(1),Integer(1),Integer(0),Integer(0)])###line 111:\n    sage: mwrank([0,-1,1,0,0])\n      File \"/mnt/usb1/scratch/jdemeyer/sage-4.6.1.alpha0-x86_64-Linux/local/lib/python/site-packages/sage/interfaces/mwrank.py\", line 139, in __call__\n        raise ValueError, 'Invalid input (%s) to mwrank'%cmd\n    ValueError: Invalid input ([0, -1, 1, 0, 0]) to mwrank\n**********************************************************************\n```\n\nWhat is strange is that simply doing\n\n```\nsage: mwrank([0,-1,1,0,0])\n```\nin a \"real\" Sage session works.  So it works in Sage, but not in a doctest.  I will need to investigate further.",
    "created_at": "2010-10-23T20:59:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92901",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

This patch gives trouble for me when merging it as part of a potential sage-4.6.1.alpha0.  For some reason I cannot explain, I get the following error when running `sage -t devel/sage/sage/interfaces/mwrank.py`:

```
sage -t  "devel/sage/sage/interfaces/mwrank.py"
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/sage-4.6.1.alpha0-x86_64-Linux/devel/sage/sage/interfaces/mwrank.py", line 111:
    sage: mwrank([0,-1,1,0,0])
Exception raised:
    Traceback (most recent call last):
      File "/mnt/usb1/scratch/jdemeyer/sage-4.6.1.alpha0-x86_64-Linux/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/mnt/usb1/scratch/jdemeyer/sage-4.6.1.alpha0-x86_64-Linux/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/mnt/usb1/scratch/jdemeyer/sage-4.6.1.alpha0-x86_64-Linux/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_4[3]>", line 1, in <module>
        mwrank([Integer(0),-Integer(1),Integer(1),Integer(0),Integer(0)])###line 111:
    sage: mwrank([0,-1,1,0,0])
      File "/mnt/usb1/scratch/jdemeyer/sage-4.6.1.alpha0-x86_64-Linux/local/lib/python/site-packages/sage/interfaces/mwrank.py", line 139, in __call__
        raise ValueError, 'Invalid input (%s) to mwrank'%cmd
    ValueError: Invalid input ([0, -1, 1, 0, 0]) to mwrank
**********************************************************************
```

What is strange is that simply doing

```
sage: mwrank([0,-1,1,0,0])
```
in a "real" Sage session works.  So it works in Sage, but not in a doctest.  I will need to investigate further.



---

archive/issue_comments_092902.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI think I can explain this.  The problem to be solved for this ticket was that if mwrank is given incomplete but otherwise correct input, it just waits for the rest of the input, making Sage appear to hang.  To fix this I made sure that the input provided by Sage always has some other stuff appended to it, so mwrank never has insufficient input.  But then,  the *next* time input is sent to mwrank, there is likely to be still some of that extra stuff in its input buffer.  To get around that (I thought) I made sure that mwrank was restarted at every call.\n\nClearly what I did was insufficient, but this does explain who the order of executing commands does matter.",
    "created_at": "2010-10-23T21:50:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92902",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:11" align="right">comment:11</div>

I think I can explain this.  The problem to be solved for this ticket was that if mwrank is given incomplete but otherwise correct input, it just waits for the rest of the input, making Sage appear to hang.  To fix this I made sure that the input provided by Sage always has some other stuff appended to it, so mwrank never has insufficient input.  But then,  the *next* time input is sent to mwrank, there is likely to be still some of that extra stuff in its input buffer.  To get around that (I thought) I made sure that mwrank was restarted at every call.

Clearly what I did was insufficient, but this does explain who the order of executing commands does matter.



---

archive/issue_events_130832.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130832"
}
```



---

archive/issue_events_130833.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130833"
}
```



---

archive/issue_comments_092903.json:
```json
{
    "body": "Branch: **[u/cremona/ticket/10108](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/ticket/10108)**",
    "created_at": "2014-01-13T12:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92903",
    "user": "https://github.com/JohnCremona"
}
```

Branch: **[u/cremona/ticket/10108](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/ticket/10108)**



---

archive/issue_comments_092904.json:
```json
{
    "body": "Commit: **[`5b664d9`](https://github.com/sagemath/sagetrac-mirror/commit/5b664d97bd33efcdc415b1e0342f8e3922658f26)**",
    "created_at": "2014-01-13T12:29:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92904",
    "user": "https://github.com/JohnCremona"
}
```

Commit: **[`5b664d9`](https://github.com/sagemath/sagetrac-mirror/commit/5b664d97bd33efcdc415b1e0342f8e3922658f26)**



---

archive/issue_comments_092905.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThe git commit does a better jpb than the old patch:  I implemented a new function `validate_mwrank_input` which accepts (and to a small degree standardises) valid mwrank inputs using some regular expression analysis.  This means that mwrank will only get sent a valid string.\n\nThis is now ready for review.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/520cfca7cdd1734c1694a63abb3b74b654f7cfb5\"><code>520cfca</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage into build_system</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38d22b794f2febb5ad4cfcebdfebcd4be60f4c93\"><code>38d22b7</code></a></td><td><code>Merge branch 'master' of ssh://trac.sagemath.org:2222/sage into build_system</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/139dcf5c9eed42069d260cf01f52ce84032038ac\"><code>139dcf5</code></a></td><td><code>Merge branch 'build_system' of git://github.com/sagemath/sage into build_system</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17e17ddc5bae00a52ed1eeb69d2518bb05e5c9f7\"><code>17e17dd</code></a></td><td><code>Merge branch 'master' of ssh://trac.sagemath.org:2222/sage into build_system</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b06bd7c4c0b22d891023a30fc10ec4d2dd33a4ab\"><code>b06bd7c</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/858bb9582d4e7bff3ab6dc5572d1d14a32cae6f7\"><code>858bb95</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0523e0ddae40720246f5b357c09e78fa88d4671a\"><code>0523e0d</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88ffd55b76c68cc1b462c6fe473545d8856d1464\"><code>88ffd55</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68d0a5d1f1852db83b575d3ac93210cb291ad84f\"><code>68d0a5d</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/057b3cda7e5b1c7f11d94506197e196c7a492d54\"><code>057b3cd</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr></table>\n",
    "created_at": "2014-01-13T12:29:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92905",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:14" align="right">comment:14</div>

The git commit does a better jpb than the old patch:  I implemented a new function `validate_mwrank_input` which accepts (and to a small degree standardises) valid mwrank inputs using some regular expression analysis.  This means that mwrank will only get sent a valid string.

This is now ready for review.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/520cfca7cdd1734c1694a63abb3b74b654f7cfb5"><code>520cfca</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage into build_system</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38d22b794f2febb5ad4cfcebdfebcd4be60f4c93"><code>38d22b7</code></a></td><td><code>Merge branch 'master' of ssh://trac.sagemath.org:2222/sage into build_system</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/139dcf5c9eed42069d260cf01f52ce84032038ac"><code>139dcf5</code></a></td><td><code>Merge branch 'build_system' of git://github.com/sagemath/sage into build_system</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17e17ddc5bae00a52ed1eeb69d2518bb05e5c9f7"><code>17e17dd</code></a></td><td><code>Merge branch 'master' of ssh://trac.sagemath.org:2222/sage into build_system</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b06bd7c4c0b22d891023a30fc10ec4d2dd33a4ab"><code>b06bd7c</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/858bb9582d4e7bff3ab6dc5572d1d14a32cae6f7"><code>858bb95</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0523e0ddae40720246f5b357c09e78fa88d4671a"><code>0523e0d</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88ffd55b76c68cc1b462c6fe473545d8856d1464"><code>88ffd55</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68d0a5d1f1852db83b575d3ac93210cb291ad84f"><code>68d0a5d</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/057b3cda7e5b1c7f11d94506197e196c7a492d54"><code>057b3cd</code></a></td><td><code>Merge branch 'master' of git://github.com/sagemath/sage</code></td></tr></table>




---

archive/issue_events_130834.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2014-01-13T12:29:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130834"
}
```



---

archive/issue_events_130835.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2014-01-13T12:29:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130835"
}
```



---

archive/issue_comments_092906.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI have two tests that do not pass. (I have rebased the branch to 6.1.rc0; so maybe mwrank changed in the meantime.) I looks like\n\n```\n**********************************************************************\nFile \"mwrank.py\", line 233, in sage.interfaces.mwrank.Mwrank_class.__call__\nFailed example:\n    mwrank('0 -1 1 0 0')\nExpected:\n    'Curve [0,-1,1,0,0] :\\tBasic pair: I=16, J=-304\\ndisc=-76032\\n2-adic index bound = 2\\nBy Lemma 5.1(a), 2-adic index = 1\\n2-adic index = 1\\nOne (I,J) pair\\nLooking for quartics with I = 16, J = -304\\nLooking for Type 3 quartics:\\nTrying positive a from 1 up to 1 (square a first...)\\n(1,0,-4,4,0)\\t--trivial\\n(1,0,2,4,1)\\t--trivial\\nTrying positive a from 1 up to 1 (...then non-square a)\\nFinished looking for Type 3 quartics.\\nMordell rank contribution from B=im(eps) = 0\\nSelmer  rank contribution from B=im(eps) = 0\\nSha     rank contribution from B=im(eps) = 0\\nMordell rank contribution from A=ker(eps) = 0\\nSelmer  rank contribution from A=ker(eps) = 0\\nSha     rank contribution from A=ker(eps) = 0\\n\\nUsed full 2-descent via multiplication-by-2 map\\nRank = 0\\nRank of S^2(E)  = 0\\n\\nProcessing points found during 2-descent...done:\\n  now regulator = 1\\n\\n\\nRegulator = 1\\n\\nThe rank has been determined unconditionally.\\n\\n...'\nGot:\n    'Curve [0,-1,1,0,0] :\\tBasic pair: I=16, J=-304\\ndisc=-76032\\n2-adic index bound = 2\\nBy Lemma 5.1(a), 2-adic index = 1\\n2-adic index = 1\\nOne (I,J) pair\\nLooking for quartics with I = 16, J = -304\\nLooking for Type 3 quartics:\\nTrying positive a from 1 up to 1 (square a first...)\\n(1,0,-4,4,0)\\t--trivial\\n(1,0,2,4,1)\\t--trivial\\nTrying positive a from 1 up to 1 (...then non-square a)\\nFinished looking for Type 3 quartics.\\nMordell rank contribution from B=im(eps) = 0\\nSelmer  rank contribution from B=im(eps) = 0\\nSha     rank contribution from B=im(eps) = 0\\nMordell rank contribution from A=ker(eps) = 0\\nSelmer  rank contribution from A=ker(eps) = 0\\nSha     rank contribution from A=ker(eps) = 0\\n\\nUsed full 2-descent via multiplication-by-2 map\\nRank = 0\\nRank of S^2(E)  = 0\\n\\nProcessing points found during 2-descent...done:\\n  now regulator = 1\\n\\n\\nRegulator = 1\\n\\nThe rank and full Mordell-Weil basis have been determined unconditionally.\\n (0.006 seconds)'\n**********************************************************************\nFile \"mwrank.py\", line 239, in sage.interfaces.mwrank.Mwrank_class.__call__\nFailed example:\n    \"Rank = 0\" in s and \"The rank has been determined unconditionally\" in s\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n```",
    "created_at": "2014-01-25T22:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92906",
    "user": "https://github.com/categorie"
}
```

<div id="comment:15" align="right">comment:15</div>

I have two tests that do not pass. (I have rebased the branch to 6.1.rc0; so maybe mwrank changed in the meantime.) I looks like

```
**********************************************************************
File "mwrank.py", line 233, in sage.interfaces.mwrank.Mwrank_class.__call__
Failed example:
    mwrank('0 -1 1 0 0')
Expected:
    'Curve [0,-1,1,0,0] :\tBasic pair: I=16, J=-304\ndisc=-76032\n2-adic index bound = 2\nBy Lemma 5.1(a), 2-adic index = 1\n2-adic index = 1\nOne (I,J) pair\nLooking for quartics with I = 16, J = -304\nLooking for Type 3 quartics:\nTrying positive a from 1 up to 1 (square a first...)\n(1,0,-4,4,0)\t--trivial\n(1,0,2,4,1)\t--trivial\nTrying positive a from 1 up to 1 (...then non-square a)\nFinished looking for Type 3 quartics.\nMordell rank contribution from B=im(eps) = 0\nSelmer  rank contribution from B=im(eps) = 0\nSha     rank contribution from B=im(eps) = 0\nMordell rank contribution from A=ker(eps) = 0\nSelmer  rank contribution from A=ker(eps) = 0\nSha     rank contribution from A=ker(eps) = 0\n\nUsed full 2-descent via multiplication-by-2 map\nRank = 0\nRank of S^2(E)  = 0\n\nProcessing points found during 2-descent...done:\n  now regulator = 1\n\n\nRegulator = 1\n\nThe rank has been determined unconditionally.\n\n...'
Got:
    'Curve [0,-1,1,0,0] :\tBasic pair: I=16, J=-304\ndisc=-76032\n2-adic index bound = 2\nBy Lemma 5.1(a), 2-adic index = 1\n2-adic index = 1\nOne (I,J) pair\nLooking for quartics with I = 16, J = -304\nLooking for Type 3 quartics:\nTrying positive a from 1 up to 1 (square a first...)\n(1,0,-4,4,0)\t--trivial\n(1,0,2,4,1)\t--trivial\nTrying positive a from 1 up to 1 (...then non-square a)\nFinished looking for Type 3 quartics.\nMordell rank contribution from B=im(eps) = 0\nSelmer  rank contribution from B=im(eps) = 0\nSha     rank contribution from B=im(eps) = 0\nMordell rank contribution from A=ker(eps) = 0\nSelmer  rank contribution from A=ker(eps) = 0\nSha     rank contribution from A=ker(eps) = 0\n\nUsed full 2-descent via multiplication-by-2 map\nRank = 0\nRank of S^2(E)  = 0\n\nProcessing points found during 2-descent...done:\n  now regulator = 1\n\n\nRegulator = 1\n\nThe rank and full Mordell-Weil basis have been determined unconditionally.\n (0.006 seconds)'
**********************************************************************
File "mwrank.py", line 239, in sage.interfaces.mwrank.Mwrank_class.__call__
Failed example:
    "Rank = 0" in s and "The rank has been determined unconditionally" in s
Expected:
    True
Got:
    False
**********************************************************************
```



---

archive/issue_comments_092907.json:
```json
{
    "body": "Changed reviewer from **Mike Hansen** to **Mike Hansen, Chris Wuthrich**",
    "created_at": "2014-01-25T22:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92907",
    "user": "https://github.com/categorie"
}
```

Changed reviewer from **Mike Hansen** to **Mike Hansen, Chris Wuthrich**



---

archive/issue_events_130836.json:
```json
{
    "actor": "https://github.com/categorie",
    "created_at": "2014-01-25T22:37:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130836"
}
```



---

archive/issue_events_130837.json:
```json
{
    "actor": "https://github.com/categorie",
    "created_at": "2014-01-25T22:37:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130837"
}
```



---

archive/issue_comments_092908.json:
```json
{
    "body": "Changed commit from **[`5b664d9`](https://github.com/sagemath/sagetrac-mirror/commit/5b664d97bd33efcdc415b1e0342f8e3922658f26)** to **[`e4f365a`](https://github.com/sagemath/sagetrac-mirror/commit/e4f365ae32a8804072b839205566fede75066431)**",
    "created_at": "2014-01-25T22:38:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92908",
    "user": "https://github.com/categorie"
}
```

Changed commit from **[`5b664d9`](https://github.com/sagemath/sagetrac-mirror/commit/5b664d97bd33efcdc415b1e0342f8e3922658f26)** to **[`e4f365a`](https://github.com/sagemath/sagetrac-mirror/commit/e4f365ae32a8804072b839205566fede75066431)**



---

archive/issue_comments_092909.json:
```json
{
    "body": "Changed branch from **[u/cremona/ticket/10108](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/ticket/10108)** to **[u/wuthrich/ticket/10108](https://github.com/sagemath/sagetrac-mirror/tree/u/wuthrich/ticket/10108)**",
    "created_at": "2014-01-25T22:38:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92909",
    "user": "https://github.com/categorie"
}
```

Changed branch from **[u/cremona/ticket/10108](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/ticket/10108)** to **[u/wuthrich/ticket/10108](https://github.com/sagemath/sagetrac-mirror/tree/u/wuthrich/ticket/10108)**



---

archive/issue_comments_092910.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThanks.  Since you did a rebase I can't see what you changed additionally, but I seem to have slipped up in testing (in one example) that the long-winded mwrank output is good where because of the time output one cannot just do a literal comparison.\nTesting...",
    "created_at": "2014-01-26T09:21:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92910",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:17" align="right">comment:17</div>

Thanks.  Since you did a rebase I can't see what you changed additionally, but I seem to have slipped up in testing (in one example) that the long-winded mwrank output is good where because of the time output one cannot just do a literal comparison.
Testing...



---

archive/issue_events_130838.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2014-01-26T09:33:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130838"
}
```



---

archive/issue_events_130839.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2014-01-26T09:33:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130839"
}
```



---

archive/issue_comments_092911.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nOK, works for me (though I think my earlier branch did too!).  I have set this back to \"needs review\" and Chris you can set it to positive review.",
    "created_at": "2014-01-26T09:33:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92911",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:18" align="right">comment:18</div>

OK, works for me (though I think my earlier branch did too!).  I have set this back to "needs review" and Chris you can set it to positive review.



---

archive/issue_comments_092912.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAh interesting.\n\nI did not change anything. I litterally took your mwrank.py and copied it into a branch based at develop, checking that this file was not touch on since then.\n\nSo I get the above errors and you do not get them. So it seems that mwrank does not give back the same string for you than for me. The issue (in both failures) is the final sentence. I get\n\n\"The rank and full Mordell-Weil basis have been determined unconditionally.\"\n\nwhile we test for\n\n\"The rank has been determined unconditionally.\"\n\nIs there a change in mwrank that I have missed?\n\n(I revert back to needs_work).",
    "created_at": "2014-01-26T11:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92912",
    "user": "https://github.com/categorie"
}
```

<div id="comment:19" align="right">comment:19</div>

Ah interesting.

I did not change anything. I litterally took your mwrank.py and copied it into a branch based at develop, checking that this file was not touch on since then.

So I get the above errors and you do not get them. So it seems that mwrank does not give back the same string for you than for me. The issue (in both failures) is the final sentence. I get

"The rank and full Mordell-Weil basis have been determined unconditionally."

while we test for

"The rank has been determined unconditionally."

Is there a change in mwrank that I have missed?

(I revert back to needs_work).



---

archive/issue_events_130840.json:
```json
{
    "actor": "https://github.com/categorie",
    "created_at": "2014-01-26T11:49:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130840"
}
```



---

archive/issue_events_130841.json:
```json
{
    "actor": "https://github.com/categorie",
    "created_at": "2014-01-26T11:49:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130841"
}
```



---

archive/issue_comments_092913.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThat is weird;  I misunderstood.  No changes at all in mwrank.  But when I switch branches there is more recompilation than I would have expected (mpir rebuilds) for this.  Very odd!  I'll look into it further.",
    "created_at": "2014-01-26T12:57:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92913",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:20" align="right">comment:20</div>

That is weird;  I misunderstood.  No changes at all in mwrank.  But when I switch branches there is more recompilation than I would have expected (mpir rebuilds) for this.  Very odd!  I'll look into it further.



---

archive/issue_comments_092914.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nFrom my develop to this branch u/wuthrich/..., it only compiles mwrank.py (as I would expect).",
    "created_at": "2014-01-26T13:41:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92914",
    "user": "https://github.com/categorie"
}
```

<div id="comment:21" align="right">comment:21</div>

From my develop to this branch u/wuthrich/..., it only compiles mwrank.py (as I would expect).



---

archive/issue_comments_092915.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI think there was some conflict between the state of the original branch of mine called ticket/10108 and the branch I had after checking out yours.  So I switched back to develop, deleted the branch ticket/10108 altogether and re-pulled it.  Now my git log has the right look to it:\n\n```\ncommit e4f365ae32a8804072b839205566fede75066431\nAuthor: Chris Wuthrich <christian.wuthrich@gmail.com>\nDate:   Sat Jan 25 20:33:23 2014 +0000\n\n    Trac #10108: more robust interface to mwrank\n\ncommit 1bd331978c99681b70e4877fa3149b0c9adf47ce\nAuthor: Volker Braun <vbraun.name@gmail.com>\nDate:   Sat Jan 25 01:41:12 2014 +0000\n\n    Updated Sage version to 6.1.rc0\n```\nso I rebuild (i.e. \"make\").  And sage/interfaces/mwrank.py passes its tests.  And specifically when in Sage I run\n\n```\nsage: mwrank('0 -1 1 0 0')\n```\nthe output string is\n\n```\n'Curve [0,-1,1,0,0] :\\tBasic pair: I=16, J=-304\\ndisc=-76032\\n2-adic index bound = 2\\nBy Lemma 5.1(a), 2-adic index = 1\\n2-adic index = 1\\nOne (I,J) pair\\nLooking for quartics with I = 16, J = -304\\nLooking for Type 3 quartics:\\nTrying positive a from 1 up to 1 (square a first...)\\n(1,0,-4,4,0)\\t--trivial\\n(1,0,2,4,1)\\t--trivial\\nTrying positive a from 1 up to 1 (...then non-square a)\\nFinished looking for Type 3 quartics.\\nMordell rank contribution from B=im(eps) = 0\\nSelmer  rank contribution from B=im(eps) = 0\\nSha     rank contribution from B=im(eps) = 0\\nMordell rank contribution from A=ker(eps) = 0\\nSelmer  rank contribution from A=ker(eps) = 0\\nSha     rank contribution from A=ker(eps) = 0\\n\\nUsed full 2-descent via multiplication-by-2 map\\nRank = 0\\nRank of S^2(E)  = 0\\n\\nProcessing points found during 2-descent...done:\\n  now regulator = 1\\n\\n\\nRegulator = 1\\n\\nThe rank has been determined unconditionally.\\n\\n (0.004001 seconds)'\n```\n\n\nNow I see what is happening!    The curve has rank 0;  so mwrank does not do the usual saturation step of making sure that we have the full MW group and not a subgroup of finite index;  there is a flag (in my C++ code) called sat_ok which is set to 1 if saturation suceeds, 0 if it fails -- and is uninitialized otherwise!  So it will be random for a rank 0 curve where one sees the additional string \"The rank and full Mordell-Weil basis have been determined\" or \"The rank and full Mordell-Weil basis have been determined\".\n\nObviously I will correct this in eclib, which is timely since I was planning tp update Sage's version sson anyway.  Meanwhile we'll have to sidestep this by changing that doctest sneakily.  I suggest first deleting the variable sentence, effectively moving the \"...\" forward; and in the next line just test for \"Rank = 0\" in s.\n\nShall I do that or will you?",
    "created_at": "2014-01-26T14:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92915",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:22" align="right">comment:22</div>

I think there was some conflict between the state of the original branch of mine called ticket/10108 and the branch I had after checking out yours.  So I switched back to develop, deleted the branch ticket/10108 altogether and re-pulled it.  Now my git log has the right look to it:

```
commit e4f365ae32a8804072b839205566fede75066431
Author: Chris Wuthrich <christian.wuthrich@gmail.com>
Date:   Sat Jan 25 20:33:23 2014 +0000

    Trac #10108: more robust interface to mwrank

commit 1bd331978c99681b70e4877fa3149b0c9adf47ce
Author: Volker Braun <vbraun.name@gmail.com>
Date:   Sat Jan 25 01:41:12 2014 +0000

    Updated Sage version to 6.1.rc0
```
so I rebuild (i.e. "make").  And sage/interfaces/mwrank.py passes its tests.  And specifically when in Sage I run

```
sage: mwrank('0 -1 1 0 0')
```
the output string is

```
'Curve [0,-1,1,0,0] :\tBasic pair: I=16, J=-304\ndisc=-76032\n2-adic index bound = 2\nBy Lemma 5.1(a), 2-adic index = 1\n2-adic index = 1\nOne (I,J) pair\nLooking for quartics with I = 16, J = -304\nLooking for Type 3 quartics:\nTrying positive a from 1 up to 1 (square a first...)\n(1,0,-4,4,0)\t--trivial\n(1,0,2,4,1)\t--trivial\nTrying positive a from 1 up to 1 (...then non-square a)\nFinished looking for Type 3 quartics.\nMordell rank contribution from B=im(eps) = 0\nSelmer  rank contribution from B=im(eps) = 0\nSha     rank contribution from B=im(eps) = 0\nMordell rank contribution from A=ker(eps) = 0\nSelmer  rank contribution from A=ker(eps) = 0\nSha     rank contribution from A=ker(eps) = 0\n\nUsed full 2-descent via multiplication-by-2 map\nRank = 0\nRank of S^2(E)  = 0\n\nProcessing points found during 2-descent...done:\n  now regulator = 1\n\n\nRegulator = 1\n\nThe rank has been determined unconditionally.\n\n (0.004001 seconds)'
```


Now I see what is happening!    The curve has rank 0;  so mwrank does not do the usual saturation step of making sure that we have the full MW group and not a subgroup of finite index;  there is a flag (in my C++ code) called sat_ok which is set to 1 if saturation suceeds, 0 if it fails -- and is uninitialized otherwise!  So it will be random for a rank 0 curve where one sees the additional string "The rank and full Mordell-Weil basis have been determined" or "The rank and full Mordell-Weil basis have been determined".

Obviously I will correct this in eclib, which is timely since I was planning tp update Sage's version sson anyway.  Meanwhile we'll have to sidestep this by changing that doctest sneakily.  I suggest first deleting the variable sentence, effectively moving the "..." forward; and in the next line just test for "Rank = 0" in s.

Shall I do that or will you?



---

archive/issue_comments_092916.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI can do it. \n\nDo you want to keep the lengthy output to be tested ? Or would not \n'Curve [0,-1,1,0,0] :\\tBasic pair: I=16, J=-304 ... determined unconditionally ...'\nbe enough ?",
    "created_at": "2014-01-26T15:06:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92916",
    "user": "https://github.com/categorie"
}
```

<div id="comment:23" align="right">comment:23</div>

I can do it. 

Do you want to keep the lengthy output to be tested ? Or would not 
'Curve [0,-1,1,0,0] :\tBasic pair: I=16, J=-304 ... determined unconditionally ...'
be enough ?



---

archive/issue_comments_092917.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@categorie](#comment%3A23):\n> I can do it. \n> \n\nThanks.\n\n> Do you want to keep the lengthy output to be tested ? Or would not \n> 'Curve [0,-1,1,0,0] :\\tBasic pair: I=16, J=-304 ... determined unconditionally ...'\n> be enough ?\n\nThat would be enough, certainly as we also check that \"Rank = 0\" is in there.",
    "created_at": "2014-01-26T15:09:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92917",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@categorie](#comment%3A23):
> I can do it. 
> 

Thanks.

> Do you want to keep the lengthy output to be tested ? Or would not 
> 'Curve [0,-1,1,0,0] :\tBasic pair: I=16, J=-304 ... determined unconditionally ...'
> be enough ?

That would be enough, certainly as we also check that "Rank = 0" is in there.



---

archive/issue_comments_092918.json:
```json
{
    "body": "Changed commit from **[`e4f365a`](https://github.com/sagemath/sagetrac-mirror/commit/e4f365ae32a8804072b839205566fede75066431)** to **[`0fb4c7d`](https://github.com/sagemath/sagetrac-mirror/commit/0fb4c7dadbe5b82ffccff51cccfc03b33ca895f4)**",
    "created_at": "2014-01-26T16:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92918",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e4f365a`](https://github.com/sagemath/sagetrac-mirror/commit/e4f365ae32a8804072b839205566fede75066431)** to **[`0fb4c7d`](https://github.com/sagemath/sagetrac-mirror/commit/0fb4c7dadbe5b82ffccff51cccfc03b33ca895f4)**



---

archive/issue_comments_092919.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fb4c7dadbe5b82ffccff51cccfc03b33ca895f4\"><code>0fb4c7d</code></a></td><td><code>Trac 10108: Change and shorten one doctest</code></td></tr></table>\n",
    "created_at": "2014-01-26T16:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92919",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fb4c7dadbe5b82ffccff51cccfc03b33ca895f4"><code>0fb4c7d</code></a></td><td><code>Trac 10108: Change and shorten one doctest</code></td></tr></table>




---

archive/issue_comments_092920.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI run the tests now.",
    "created_at": "2014-01-26T16:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92920",
    "user": "https://github.com/categorie"
}
```

<div id="comment:26" align="right">comment:26</div>

I run the tests now.



---

archive/issue_comments_092921.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@JohnCremona](#comment%3A22):\n\n> Obviously I will correct this in eclib, which is timely since I was planning to update Sage's version soon anyway. \n\nThe eclib patch is visible here:\n\nhttps://github.com/JohnCremona/eclib/commit/d1ab6a59103fb86730f1e668e70ecf010ee37b2d\n\nand the new version (with a lot more than just this change) is in a new spkg at #15738.  But this ticket does not need that.",
    "created_at": "2014-01-26T20:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92921",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@JohnCremona](#comment%3A22):

> Obviously I will correct this in eclib, which is timely since I was planning to update Sage's version soon anyway. 

The eclib patch is visible here:

https://github.com/JohnCremona/eclib/commit/d1ab6a59103fb86730f1e668e70ecf010ee37b2d

and the new version (with a lot more than just this change) is in a new spkg at #15738.  But this ticket does not need that.



---

archive/issue_events_130842.json:
```json
{
    "actor": "https://github.com/categorie",
    "created_at": "2014-01-26T23:22:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130842"
}
```



---

archive/issue_events_130843.json:
```json
{
    "actor": "https://github.com/categorie",
    "created_at": "2014-01-26T23:22:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130843"
}
```



---

archive/issue_events_130844.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130844"
}
```



---

archive/issue_events_130845.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130845"
}
```



---

archive/issue_events_130846.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-02-01T15:16:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130846"
}
```



---

archive/issue_events_130847.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c18f6068b5294683dfd55b2522a94fbfc872f227",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-02-01T15:16:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10108#event-130847"
}
```



---

archive/issue_comments_092922.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nSee #15798 for a followup ticket",
    "created_at": "2014-02-08T13:01:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10108",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10108#issuecomment-92922",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:31" align="right">comment:31</div>

See #15798 for a followup ticket
