# Issue 10461: Raising doctest coverage to 100% for sage/combinat/partition.py

archive/issues_010408.json:
```json
{
    "assignees": [],
    "body": "Since one of the goal of sage-5.0 is to raise doctest coverage to 90%, I take this opportunity to document a module I'm less familiar with.\n\nAssignee: **@sagetrac-mvngu**\n\nCC:  @sagetrac-sage-combinat\n\nReviewer: **John Cremona, Alexandre Blondin Mass\u00e9**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10461_\n\n",
    "closed_at": "2013-01-31T20:35:33Z",
    "created_at": "2010-12-10T19:50:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20documentation",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/invalid",
        "https://github.com/sagemath/sage/labels/worksforme"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Raising doctest coverage to 100% for sage/combinat/partition.py",
    "type": "issue",
    "updated_at": "2013-01-31T20:35:33Z",
    "url": "https://github.com/sagemath/sage/issues/10461",
    "user": "https://github.com/sagetrac-abmasse"
}
```
Since one of the goal of sage-5.0 is to raise doctest coverage to 90%, I take this opportunity to document a module I'm less familiar with.

Assignee: **@sagetrac-mvngu**

CC:  @sagetrac-sage-combinat

Reviewer: **John Cremona, Alexandre Blondin Massé**

_Issue created by migration from https://trac.sagemath.org/ticket/10461_





---

archive/issue_events_125128.json:
```json
{
    "actor": "https://github.com/sagetrac-abmasse",
    "created_at": "2010-12-10T19:50:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "component: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125128"
}
```



---

archive/issue_events_125129.json:
```json
{
    "actor": "https://github.com/sagetrac-abmasse",
    "created_at": "2010-12-10T19:50:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125129"
}
```



---

archive/issue_events_125130.json:
```json
{
    "actor": "https://github.com/sagetrac-abmasse",
    "created_at": "2010-12-10T19:50:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125130"
}
```



---

archive/issue_comments_100103.json:
```json
{
    "body": "Attachment: **[trac_10461_partition_doctest-abm.patch.gz](https://github.com/sagemath/sage/files/ticket10461/trac_10461_partition_doctest-abm.patch.gz)**\n\nDoctest improvement",
    "created_at": "2010-12-10T22:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100103",
    "user": "https://github.com/sagetrac-abmasse"
}
```

Attachment: **[trac_10461_partition_doctest-abm.patch.gz](https://github.com/sagemath/sage/files/ticket10461/trac_10461_partition_doctest-abm.patch.gz)**

Doctest improvement



---

archive/issue_comments_100104.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Since one of the goal of sage-5.0 is to raise doctest coverage to 90%, I take this opportunity to document a new module.\n+Since one of the goal of sage-5.0 is to raise doctest coverage to 90%, I take this opportunity to document a module I'm less familiar with.\n``````\n",
    "created_at": "2010-12-10T22:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100104",
    "user": "https://github.com/sagetrac-abmasse"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Since one of the goal of sage-5.0 is to raise doctest coverage to 90%, I take this opportunity to document a new module.
+Since one of the goal of sage-5.0 is to raise doctest coverage to 90%, I take this opportunity to document a module I'm less familiar with.
``````




---

archive/issue_comments_100105.json:
```json
{
    "body": "Author: **Alexandre Blondin Mass\u00e9**",
    "created_at": "2010-12-10T22:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100105",
    "user": "https://github.com/sagetrac-abmasse"
}
```

Author: **Alexandre Blondin Massé**



---

archive/issue_comments_100106.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI just added a patch documenting the five functions remaining to reach 100% coverage. Needs review!",
    "created_at": "2010-12-10T22:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100106",
    "user": "https://github.com/sagetrac-abmasse"
}
```

<div id="comment:1" align="right">Comment 1</div>

I just added a patch documenting the five functions remaining to reach 100% coverage. Needs review!



---

archive/issue_events_125131.json:
```json
{
    "actor": "https://github.com/sagetrac-abmasse",
    "created_at": "2010-12-10T22:06:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125131"
}
```



---

archive/issue_events_125132.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-12-11T06:01:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "milestone_number": null,
    "milestone_title": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125132"
}
```



---

archive/issue_comments_100107.json:
```json
{
    "body": "Reviewer: **John Cremona**",
    "created_at": "2010-12-21T17:38:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100107",
    "user": "https://github.com/JohnCremona"
}
```

Reviewer: **John Cremona**



---

archive/issue_events_125133.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-12-21T17:38:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125133"
}
```



---

archive/issue_events_125134.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-12-21T17:38:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125134"
}
```



---

archive/issue_comments_100108.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nReview:  patch applies fine to 4.6.1.alpha3, and tests in sage.combinat.partition pass.\n\nAfter the patch:\n\n```\nsage/combinat/partition.py\nSCORE sage/combinat/partition.py: 100% (155 of 155)\n\nPossibly wrong (function name doesn't occur in doctests):\n\t * from_exp(exp):\n\t * from_core_and_quotient(core, quotient):\n\t * _repr_(self):\n\t * _repr_(self):\n\t * partition_sign(pi):\n```\nThe latter can be fixed by inserting the tag # indirect doctest on the relevant lines.\n\nIn addition:  The new docstrings do not conform to Sage's standards perfectly.  Each function should have a one line description, then INPUT and OUTPUT blocks to describe the input parameters (if any;  ignore self) and output.  And apply suitable markup to mathematical symbols: a few are missing.\n\nThe reference manual rebuilds fine, no warnings.\n\nHence: needs work (but only trivial work).\n\nFeel free to return the compliment at #9228!",
    "created_at": "2010-12-21T17:38:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100108",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:3" align="right">Comment 3</div>

Review:  patch applies fine to 4.6.1.alpha3, and tests in sage.combinat.partition pass.

After the patch:

```
sage/combinat/partition.py
SCORE sage/combinat/partition.py: 100% (155 of 155)

Possibly wrong (function name doesn't occur in doctests):
	 * from_exp(exp):
	 * from_core_and_quotient(core, quotient):
	 * _repr_(self):
	 * _repr_(self):
	 * partition_sign(pi):
```
The latter can be fixed by inserting the tag # indirect doctest on the relevant lines.

In addition:  The new docstrings do not conform to Sage's standards perfectly.  Each function should have a one line description, then INPUT and OUTPUT blocks to describe the input parameters (if any;  ignore self) and output.  And apply suitable markup to mathematical symbols: a few are missing.

The reference manual rebuilds fine, no warnings.

Hence: needs work (but only trivial work).

Feel free to return the compliment at #9228!



---

archive/issue_events_125135.json:
```json
{
    "actor": "https://github.com/sagetrac-abmasse",
    "created_at": "2010-12-22T20:04:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125135"
}
```



---

archive/issue_events_125136.json:
```json
{
    "actor": "https://github.com/sagetrac-abmasse",
    "created_at": "2010-12-22T20:04:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125136"
}
```



---

archive/issue_comments_100109.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nReplying to [@JohnCremona](#comment%3A3):\n> The latter can be fixed by inserting the tag # indirect doctest on the relevant lines.\n\nOk, thanks, I will correct those!\n\n> \n> In addition:  The new docstrings do not conform to Sage's standards perfectly.  Each function should have a one line description, then INPUT and OUTPUT blocks to describe the input parameters (if any;  ignore self) and output.  And apply suitable markup to mathematical symbols: a few are missing.\n\nOk for the mathematical markup.\n\nAbout the INPUT and OUTPUT blocks, do I have to put them for every function? I didn't know that. By the way, it seems that in #9228, the docstring you added do not contain those INPUT/OUTPUT blocks? Is it because I don't understand you or because we have to put them only in some cases? \n\n> \n> The reference manual rebuilds fine, no warnings.\n> \n> Hence: needs work (but only trivial work).\n> \n> Feel free to return the compliment at #9228!\n\nI'll give it a shot. Thank you for the review!",
    "created_at": "2010-12-22T20:04:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100109",
    "user": "https://github.com/sagetrac-abmasse"
}
```

<div id="comment:4" align="right">Comment 4</div>

Replying to [@JohnCremona](#comment%3A3):
> The latter can be fixed by inserting the tag # indirect doctest on the relevant lines.

Ok, thanks, I will correct those!

> 
> In addition:  The new docstrings do not conform to Sage's standards perfectly.  Each function should have a one line description, then INPUT and OUTPUT blocks to describe the input parameters (if any;  ignore self) and output.  And apply suitable markup to mathematical symbols: a few are missing.

Ok for the mathematical markup.

About the INPUT and OUTPUT blocks, do I have to put them for every function? I didn't know that. By the way, it seems that in #9228, the docstring you added do not contain those INPUT/OUTPUT blocks? Is it because I don't understand you or because we have to put them only in some cases? 

> 
> The reference manual rebuilds fine, no warnings.
> 
> Hence: needs work (but only trivial work).
> 
> Feel free to return the compliment at #9228!

I'll give it a shot. Thank you for the review!



---

archive/issue_comments_100110.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nTake a look at http://www.sagemath.org/doc/developer/conventions.html#documentation-strings for the coding conventions.  Also, look at some other source files, and compare with how the output looks by checking the relevant pages of the online reference manual.\n\nThe INPUT block is most important (but do not list \"self\").   People often omit the OUTPUT block especially when it is obvious from the one-line description, or of course when there is no output.\n\nAs for #9228... well, I may not have done a perfect job!  If so, please point this out in your review!",
    "created_at": "2010-12-22T20:11:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100110",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:5" align="right">Comment 5</div>

Take a look at http://www.sagemath.org/doc/developer/conventions.html#documentation-strings for the coding conventions.  Also, look at some other source files, and compare with how the output looks by checking the relevant pages of the online reference manual.

The INPUT block is most important (but do not list "self").   People often omit the OUTPUT block especially when it is obvious from the one-line description, or of course when there is no output.

As for #9228... well, I may not have done a perfect job!  If so, please point this out in your review!



---

archive/issue_events_125137.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-12-11T04:59:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125137"
}
```



---

archive/issue_events_125138.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-12-11T04:59:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125138"
}
```



---

archive/issue_events_125139.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-12-11T04:59:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "milestone_number": null,
    "milestone_title": "sage-5.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125139"
}
```



---

archive/issue_events_125140.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-12-11T04:59:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125140"
}
```



---

archive/issue_events_125141.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2012-12-11T04:59:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125141"
}
```



---

archive/issue_comments_100111.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\n`partition.py` has full doctest coverage as of `5.5.rc0`:\n\n```\ntravis@travis-virtualbox:~/sage-5.5.rc0/devel/sage-reviews/sage/combinat$ sage -coverage partition.py \n----------------------------------------------------------------------\npartition.py\nSCORE partition.py: 100% (163 of 163)\n----------------------------------------------------------------------\n```",
    "created_at": "2012-12-11T04:59:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100111",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">Comment 6</div>

`partition.py` has full doctest coverage as of `5.5.rc0`:

```
travis@travis-virtualbox:~/sage-5.5.rc0/devel/sage-reviews/sage/combinat$ sage -coverage partition.py 
----------------------------------------------------------------------
partition.py
SCORE partition.py: 100% (163 of 163)
----------------------------------------------------------------------
```



---

archive/issue_comments_100112.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nAs of Sage 5.6, here is what I get. So, I think this can be given positive review. :) \n\n```\nknsam@PerverseSheaf:/usr/lib/sagemath/devel/sage/sage/combinat$ sage -version\nSage Version 5.6, Release Date: 2013-01-21\nknsam@PerverseSheaf:/usr/lib/sagemath/devel/sage/sage/combinat$ sage -coverage partition.py\n----------------------------------------------------------------------\npartition.py\nSCORE partition.py: 100% (174 of 174)\n----------------------------------------------------------------------\n```",
    "created_at": "2013-01-31T04:15:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100112",
    "user": "https://github.com/KPanComputes"
}
```

<div id="comment:7" align="right">Comment 7</div>

As of Sage 5.6, here is what I get. So, I think this can be given positive review. :) 

```
knsam@PerverseSheaf:/usr/lib/sagemath/devel/sage/sage/combinat$ sage -version
Sage Version 5.6, Release Date: 2013-01-21
knsam@PerverseSheaf:/usr/lib/sagemath/devel/sage/sage/combinat$ sage -coverage partition.py
----------------------------------------------------------------------
partition.py
SCORE partition.py: 100% (174 of 174)
----------------------------------------------------------------------
```



---

archive/issue_events_125142.json:
```json
{
    "actor": "https://github.com/KPanComputes",
    "created_at": "2013-01-31T04:16:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125142"
}
```



---

archive/issue_events_125143.json:
```json
{
    "actor": "https://github.com/KPanComputes",
    "created_at": "2013-01-31T04:16:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125143"
}
```



---

archive/issue_events_125144.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-31T20:35:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125144"
}
```



---

archive/issue_events_125145.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-31T20:35:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125145"
}
```



---

archive/issue_comments_100113.json:
```json
{
    "body": "Changed author from **Alexandre Blondin Mass\u00e9** to none",
    "created_at": "2013-01-31T20:35:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100113",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Alexandre Blondin Massé** to none



---

archive/issue_events_125146.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-31T20:35:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "label": "https://github.com/sagemath/sage/labels/worksforme",
    "label_color": "a6a6a6",
    "label_name": "worksforme",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10461#event-125146"
}
```



---

archive/issue_comments_100114.json:
```json
{
    "body": "Changed reviewer from **John Cremona** to **John Cremona, Alexandre Blondin Mass\u00e9**",
    "created_at": "2013-01-31T20:35:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10461",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10461#issuecomment-100114",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **John Cremona** to **John Cremona, Alexandre Blondin Massé**
