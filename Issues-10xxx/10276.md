# Issue 10276: Create a random triangulation (max planar graph)

archive/issues_010275.json:
```json
{
    "assignees": [],
    "body": "This is a new graph generator to create a random triangulation, i.e., a random planar graph all of whose faces are triangles (3-cycles). We do this by generation points iid uniformly on the surface of a sphere, finding the convex hull of those points, and returning the 1-skeleton of that polyhedron.\n\nThere might be numerical issues with the convex hull here, so we by default work over `QQ`\n\nAssignee: **@jasongrout, @nathanncohen, @rlmill**\n\nCC:  @dcoudert\n\nKeywords: **random graph**\n\nBranch/Commit: **[9a682fa](https://github.com/sagemath/sagetrac-mirror/commit/9a682fa03e54c6bcfda500532fb3ecf17e61b583)**\n\nReviewer: **Nathann Cohen, Fr\u00e9d\u00e9ric Chapoton, Dima Pasechnik**\n\nAuthor: **Ed Scheinerman**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10276_\n\n",
    "closed_at": "2015-07-03T10:32:04Z",
    "created_at": "2010-11-15T22:48:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Create a random triangulation (max planar graph)",
    "type": "issue",
    "updated_at": "2015-07-03T10:32:04Z",
    "url": "https://github.com/sagemath/sage/issues/10276",
    "user": "https://github.com/sagetrac-edward-scheinerman"
}
```
This is a new graph generator to create a random triangulation, i.e., a random planar graph all of whose faces are triangles (3-cycles). We do this by generation points iid uniformly on the surface of a sphere, finding the convex hull of those points, and returning the 1-skeleton of that polyhedron.

There might be numerical issues with the convex hull here, so we by default work over `QQ`

Assignee: **@jasongrout, @nathanncohen, @rlmill**

CC:  @dcoudert

Keywords: **random graph**

Branch/Commit: **[9a682fa](https://github.com/sagemath/sagetrac-mirror/commit/9a682fa03e54c6bcfda500532fb3ecf17e61b583)**

Reviewer: **Nathann Cohen, Frédéric Chapoton, Dima Pasechnik**

Author: **Ed Scheinerman**

_Issue created by migration from https://trac.sagemath.org/ticket/10276_





---

archive/issue_events_123170.json:
```json
{
    "actor": "https://github.com/sagetrac-edward-scheinerman",
    "created_at": "2010-11-15T22:48:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123170"
}
```



---

archive/issue_events_123171.json:
```json
{
    "actor": "https://github.com/sagetrac-edward-scheinerman",
    "created_at": "2010-11-15T22:48:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123171"
}
```



---

archive/issue_comments_097840.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nAttachment: **[trac_10276.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276.patch.gz)**",
    "created_at": "2010-11-15T22:50:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97840",
    "user": "https://github.com/sagetrac-edward-scheinerman"
}
```

<a id='comment:1'>Comment 1:</a>
Attachment: **[trac_10276.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276.patch.gz)**



---

archive/issue_comments_097841.json:
```json
{
    "body": "Assignee: **@jasongrout, @nathanncohen, @rlmill**",
    "created_at": "2010-11-15T22:50:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97841",
    "user": "https://github.com/sagetrac-edward-scheinerman"
}
```

Assignee: **@jasongrout, @nathanncohen, @rlmill**



---

archive/issue_events_123172.json:
```json
{
    "actor": "https://github.com/sagetrac-edward-scheinerman",
    "created_at": "2010-11-15T22:50:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123172"
}
```



---

archive/issue_comments_097842.json:
```json
{
    "body": "Attachment: **[trac_10276-random-triangulation-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase.patch.gz)**",
    "created_at": "2012-01-05T09:53:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97842",
    "user": "https://github.com/rbeezer"
}
```

Attachment: **[trac_10276-random-triangulation-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase.patch.gz)**



---

archive/issue_events_123173.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2012-01-05T09:59:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123173"
}
```



---

archive/issue_comments_097843.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n This is a new graph generator to create a random triangulation, i.e., a random planar graph all of whose faces are triangles (3-cycles). We do this by generation points iid uniformly on the surface of a sphere, finding the convex hull of those points, and returning the 1-skeleton of that polyhedron.\n+\n+**Apply:**\n+\n+1. [attachment: trac_10276-random-triangulation-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase.patch.gz)\n``````\n",
    "created_at": "2012-01-05T09:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97843",
    "user": "https://github.com/rbeezer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 This is a new graph generator to create a random triangulation, i.e., a random planar graph all of whose faces are triangles (3-cycles). We do this by generation points iid uniformly on the surface of a sphere, finding the convex hull of those points, and returning the 1-skeleton of that polyhedron.
+
+**Apply:**
+
+1. [attachment: trac_10276-random-triangulation-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase.patch.gz)
``````




---

archive/issue_comments_097844.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nDear Ed,\n\nNice.  I needed this for a course, so I rebased it against 4.8.alpha6.  Only the author credit was failing, so it was a trivial fix.\n\nHow much work would it be to get layout information from the locations on the sphere?  I would think a projection onto the plane might be better than what a planar layout currently provides and would be simpler computationally.  Could you easily locate the \"largest\" face to be the exterior?\n\nI'll try to stick with this for a review - I'd like to see it in Sage.\n\nThanks,\nRob",
    "created_at": "2012-01-05T09:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97844",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:2'>Comment 2:</a>
Dear Ed,

Nice.  I needed this for a course, so I rebased it against 4.8.alpha6.  Only the author credit was failing, so it was a trivial fix.

How much work would it be to get layout information from the locations on the sphere?  I would think a projection onto the plane might be better than what a planar layout currently provides and would be simpler computationally.  Could you easily locate the "largest" face to be the exterior?

I'll try to stick with this for a review - I'd like to see it in Sage.

Thanks,
Rob



---

archive/issue_comments_097845.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nHi Rob,\nI wrote this over a year ago, so it's not fresh in my mind. As best I recall, this should create a planar graph in which *all* faces are triangles, so all faces are \"largest\". Is there something I need to do to keep this moving? (Should I click one of the \"action\" buttons?)\nBest, \nEd",
    "created_at": "2012-01-13T01:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97845",
    "user": "https://github.com/sagetrac-edward-scheinerman"
}
```

<a id='comment:3'>Comment 3:</a>
Hi Rob,
I wrote this over a year ago, so it's not fresh in my mind. As best I recall, this should create a planar graph in which *all* faces are triangles, so all faces are "largest". Is there something I need to do to keep this moving? (Should I click one of the "action" buttons?)
Best, 
Ed



---

archive/issue_comments_097846.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [edward.scheinerman](#comment%3A3):\n\nDear Ed,\n\n> Is there something I need to do to keep this moving?\n\nYes, I noticed it had been dormant for a while.  My students here at AIMS have been using this the past few days, so I could probably give it a positive review right now.  But it seems silly not to provide a layout (or a planar embedding) when it seems that all that information could be obtained from what is already computed.  In other words, it should be relatively easy to improve on \n\n```\nG = graphs.RandomTriangulation(40)\nG.plot(layout='planar')\n```\n\nboth in execution time and visual quality.  Maybe an embedding is already available from the 1-skeleton or something.  I am happy to pursue contributing code for the layout if you are not interested, or I could review something you would add.  Whatever is your pleasure.\n\nSo not really anything official to do to move this along at the moment.  I'm suggesting the improvement of adding a layout (with code from either of us) and would like to work this through to a positive review.\n\nRob",
    "created_at": "2012-01-13T07:22:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97846",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [edward.scheinerman](#comment%3A3):

Dear Ed,

> Is there something I need to do to keep this moving?

Yes, I noticed it had been dormant for a while.  My students here at AIMS have been using this the past few days, so I could probably give it a positive review right now.  But it seems silly not to provide a layout (or a planar embedding) when it seems that all that information could be obtained from what is already computed.  In other words, it should be relatively easy to improve on 

```
G = graphs.RandomTriangulation(40)
G.plot(layout='planar')
```

both in execution time and visual quality.  Maybe an embedding is already available from the 1-skeleton or something.  I am happy to pursue contributing code for the layout if you are not interested, or I could review something you would add.  Whatever is your pleasure.

So not really anything official to do to move this along at the moment.  I'm suggesting the improvement of adding a layout (with code from either of us) and would like to work this through to a positive review.

Rob



---

archive/issue_comments_097847.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nHi Rob,\n\nI thought about this some more. Your comments make perfect sense. The `RandomTriangulation` method can edited to provide an embedding by stereographically projecting the vertices of the polytope into the plane. But I fear that this would give pictures that are mathematically correct but visually awful. I can sketch out the method offline if you like. \n\nWhat Sage really needs (and I'm not knowledgeable enough to do this) is a really good planar graph layout algorithm. Compare:\n\n```\ng = graphs.DodecahedralGraph()\ng.show()\n```\nto\n\n```\ng = graphs.DodecahedralGraph()\ng.plot(layout='planar')\n```\n\nIf you think adding the stereographic projection embedding is worthwhile, I'd be happy to have you add it to this method. (I found creating patches and the like to be non-intuitive ... I'm willing to work on the code, but then have you upload it to this site :-)\n\nBest,\nEd",
    "created_at": "2012-01-13T13:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97847",
    "user": "https://github.com/sagetrac-edward-scheinerman"
}
```

<a id='comment:5'>Comment 5:</a>
Hi Rob,

I thought about this some more. Your comments make perfect sense. The `RandomTriangulation` method can edited to provide an embedding by stereographically projecting the vertices of the polytope into the plane. But I fear that this would give pictures that are mathematically correct but visually awful. I can sketch out the method offline if you like. 

What Sage really needs (and I'm not knowledgeable enough to do this) is a really good planar graph layout algorithm. Compare:

```
g = graphs.DodecahedralGraph()
g.show()
```
to

```
g = graphs.DodecahedralGraph()
g.plot(layout='planar')
```

If you think adding the stereographic projection embedding is worthwhile, I'd be happy to have you add it to this method. (I found creating patches and the like to be non-intuitive ... I'm willing to work on the code, but then have you upload it to this site :-)

Best,
Ed



---

archive/issue_comments_097848.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nDear Ed,\n\nThat all sounds good.  I think a graph can carry an embedding, as a logical construction - the neighbors of a vertex as an ordered list, we ought to capture that at a minimum.  (Need to double-check on that.)  Then if a general layout algorithm can utilize that information, the visual appeal might improve in the future.  But I would like to see if the actual coordinates from the stereographic projection are useful as well.  And I may appeal to the sage-devel list for ideas.\n\nSo, please send me any ideas for code off-list at `beezer@ups.edu` and I'll see what I can do.  Next two weeks are very hectic - finishing a course in Cape Town and starting new ones at home, so there may be a delay until life settles down.\n\nThanks,\nRob",
    "created_at": "2012-01-13T14:25:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97848",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:6'>Comment 6:</a>
Dear Ed,

That all sounds good.  I think a graph can carry an embedding, as a logical construction - the neighbors of a vertex as an ordered list, we ought to capture that at a minimum.  (Need to double-check on that.)  Then if a general layout algorithm can utilize that information, the visual appeal might improve in the future.  But I would like to see if the actual coordinates from the stereographic projection are useful as well.  And I may appeal to the sage-devel list for ideas.

So, please send me any ideas for code off-list at `beezer@ups.edu` and I'll see what I can do.  Next two weeks are very hectic - finishing a course in Cape Town and starting new ones at home, so there may be a delay until life settles down.

Thanks,
Rob



---

archive/issue_comments_097849.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nfor the patchbot:\n\napply trac_10276-random-triangulation-rebase.patch",
    "created_at": "2013-10-28T20:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97849",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'>Comment 7:</a>
for the patchbot:

apply trac_10276-random-triangulation-rebase.patch



---

archive/issue_comments_097850.json:
```json
{
    "body": "Attachment: **[trac_10276-random-triangulation-rebase_v2.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase_v2.patch.gz)**",
    "created_at": "2013-10-28T20:35:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97850",
    "user": "https://github.com/fchapoton"
}
```

Attachment: **[trac_10276-random-triangulation-rebase_v2.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase_v2.patch.gz)**



---

archive/issue_comments_097851.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n **Apply:**\n \n-1. [attachment: trac_10276-random-triangulation-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase.patch.gz)\n+1. [attachment: trac_10276-random-triangulation-rebase_v2.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase_v2.patch.gz)\n``````\n",
    "created_at": "2013-10-28T20:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97851",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 **Apply:**
 
-1. [attachment: trac_10276-random-triangulation-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase.patch.gz)
+1. [attachment: trac_10276-random-triangulation-rebase_v2.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase_v2.patch.gz)
``````




---

archive/issue_comments_097852.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nfor the patchbot:\n\napply trac_10276-random-triangulation-rebase_v2.patch\n\nI have just rebased the patch..",
    "created_at": "2013-10-28T20:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97852",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>Comment 8:</a>
for the patchbot:

apply trac_10276-random-triangulation-rebase_v2.patch

I have just rebased the patch..



---

archive/issue_comments_097853.json:
```json
{
    "body": "Changed keywords from **** to **random graph**",
    "created_at": "2013-10-28T20:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97853",
    "user": "https://github.com/fchapoton"
}
```

Changed keywords from **** to **random graph**



---

archive/issue_comments_097854.json:
```json
{
    "body": "Commit: **[0158086](https://github.com/sagemath/sagetrac-mirror/commit/0158086673e62ca06d6529ec2d4f25210395ab65)**",
    "created_at": "2014-12-28T20:38:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97854",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[0158086](https://github.com/sagemath/sagetrac-mirror/commit/0158086673e62ca06d6529ec2d4f25210395ab65)**



---

archive/issue_comments_097855.json:
```json
{
    "body": "Branch: **[u/chapoton/10276](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/10276)**",
    "created_at": "2014-12-28T20:38:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97855",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/10276](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/10276)**



---

archive/issue_events_123174.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-12-28T20:38:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123174"
}
```



---

archive/issue_events_123175.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-12-28T20:38:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123175"
}
```



---

archive/issue_comments_097856.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1897a45ffce8f29121e6d30c9986e3f2ecb3496\">a1897a4</a></td><td><code>trac #10276 -- Random triangulation (max planar graph) generator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ac50ea48c7d220ecad5eb10a1d6f193b5cb2410\">5ac50ea</a></td><td><code>trac #10276 details (pep8)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0158086673e62ca06d6529ec2d4f25210395ab65\">0158086</a></td><td><code>trac #10276 allow to use stereo projection</code></td></tr></table>\n",
    "created_at": "2014-12-28T20:38:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97856",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'>Comment 9:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1897a45ffce8f29121e6d30c9986e3f2ecb3496">a1897a4</a></td><td><code>trac #10276 -- Random triangulation (max planar graph) generator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ac50ea48c7d220ecad5eb10a1d6f193b5cb2410">5ac50ea</a></td><td><code>trac #10276 details (pep8)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0158086673e62ca06d6529ec2d4f25210395ab65">0158086</a></td><td><code>trac #10276 allow to use stereo projection</code></td></tr></table>




---

archive/issue_comments_097857.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nHello,\n\nI have a random error with your code, not directly caused by your code. From time to time, the following happens:\n\n```\nsage: g = graphs.RandomTriangulation(70, embed=True)\nsage: g\nPlanar triangulation on 70 vertices\nsage: g = graphs.RandomTriangulation(70, embed=True)\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n<ipython-input-44-2d58770e9f2f> in <module>()\n----> 1 get_ipython().magic(u'time g = graphs.RandomTriangulation(70, embed=True)')\n\n/Users/dcoudert/sage/local/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in magic(self, arg_s)\n   2203         magic_name, _, magic_arg_s = arg_s.partition(' ')\n   2204         magic_name = magic_name.lstrip(prefilter.ESC_MAGIC)\n-> 2205         return self.run_line_magic(magic_name, magic_arg_s)\n   2206 \n   2207     #-------------------------------------------------------------------------\n\n/Users/dcoudert/sage/local/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in run_line_magic(self, magic_name, line)\n   2124                 kwargs['local_ns'] = sys._getframe(stack_depth).f_locals\n   2125             with self.builtin_trap:\n-> 2126                 result = fn(*args,**kwargs)\n   2127             return result\n   2128 \n\n/Users/dcoudert/sage/local/lib/python2.7/site-packages/IPython/core/magics/execution.pyc in time(self, line, cell, local_ns)\n\n/Users/dcoudert/sage/local/lib/python2.7/site-packages/IPython/core/magic.pyc in <lambda>(f, *a, **k)\n    191     # but it's overkill for just that one bit of state.\n    192     def magic_deco(arg):\n--> 193         call = lambda f, *a, **k: f(*a, **k)\n    194 \n    195         if callable(arg):\n\n/Users/dcoudert/sage/local/lib/python2.7/site-packages/IPython/core/magics/execution.pyc in time(self, line, cell, local_ns)\n   1127         else:\n   1128             st = clock2()\n-> 1129             exec(code, glob, local_ns)\n   1130             end = clock2()\n   1131             out = None\n\n<timed exec> in <module>()\n\n/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generators/random.pyc in RandomTriangulation(n, embed)\n    835 \n    836     # extract the 1-skeleton\n--> 837     g = P.vertex_graph()\n    838     g.rename('Planar triangulation on {} vertices'.format(n))\n    839     if embed:\n\n/Users/dcoudert/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:13663)()\n   2207         if self.cache is None:\n   2208             f = self.f\n-> 2209             self.cache = f(self._instance)\n   2210         return self.cache\n   2211 \n\n/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in vertex_graph(self)\n   2933             True\n   2934         \"\"\"\n-> 2935         return Graph(self.vertex_adjacency_matrix(), loops=False)\n   2936 \n   2937     graph = vertex_graph\n\n/Users/dcoudert/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:13663)()\n   2207         if self.cache is None:\n   2208             f = self.f\n-> 2209             self.cache = f(self._instance)\n   2210         return self.cache\n   2211 \n\n/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in vertex_adjacency_matrix(self)\n   1638             (0, 0, 1, 1, 0) A vertex at (3, 0)\n   1639         \"\"\"\n-> 1640         return self._vertex_adjacency_matrix()\n   1641 \n   1642     adjacency_matrix = vertex_adjacency_matrix\n\n/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in _vertex_adjacency_matrix(self)\n    286             M[j,i]=1\n    287 \n--> 288         face_lattice = self.face_lattice()\n    289         for face in face_lattice:\n    290             Vrep = face.ambient_Vrepresentation()\n\n/Users/dcoudert/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:13663)()\n   2207         if self.cache is None:\n   2208             f = self.f\n-> 2209             self.cache = f(self._instance)\n   2210         return self.cache\n   2211 \n\n/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in face_lattice(self)\n   2815         return Hasse_diagram_from_incidences\\\n   2816             (atoms_incidences, coatoms_incidences,\n-> 2817              face_constructor=face_constructor, required_atoms=atoms_vertices)\n   2818 \n   2819     def faces(self, face_dimension):\n\n/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/geometry/hasse_diagram.pyc in Hasse_diagram_from_incidences(atom_to_coatoms, coatom_to_atoms, face_constructor, required_atoms, key, **kwds)\n    188     # Make sure that coatoms are in the end in proper order\n    189     tail = [faces[atoms, frozenset([coatom])]\n--> 190             for coatom, atoms in enumerate(coatom_to_atoms)]\n    191     tail.append(faces[A, frozenset()])\n    192     new_order = [n for n in new_order if n not in tail] + tail\n\nKeyError: (frozenset([]), frozenset([132]))\n```\n\nDavid.",
    "created_at": "2015-01-21T07:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97857",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:10'>Comment 10:</a>
Hello,

I have a random error with your code, not directly caused by your code. From time to time, the following happens:

```
sage: g = graphs.RandomTriangulation(70, embed=True)
sage: g
Planar triangulation on 70 vertices
sage: g = graphs.RandomTriangulation(70, embed=True)
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
<ipython-input-44-2d58770e9f2f> in <module>()
----> 1 get_ipython().magic(u'time g = graphs.RandomTriangulation(70, embed=True)')

/Users/dcoudert/sage/local/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in magic(self, arg_s)
   2203         magic_name, _, magic_arg_s = arg_s.partition(' ')
   2204         magic_name = magic_name.lstrip(prefilter.ESC_MAGIC)
-> 2205         return self.run_line_magic(magic_name, magic_arg_s)
   2206 
   2207     #-------------------------------------------------------------------------

/Users/dcoudert/sage/local/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in run_line_magic(self, magic_name, line)
   2124                 kwargs['local_ns'] = sys._getframe(stack_depth).f_locals
   2125             with self.builtin_trap:
-> 2126                 result = fn(*args,**kwargs)
   2127             return result
   2128 

/Users/dcoudert/sage/local/lib/python2.7/site-packages/IPython/core/magics/execution.pyc in time(self, line, cell, local_ns)

/Users/dcoudert/sage/local/lib/python2.7/site-packages/IPython/core/magic.pyc in <lambda>(f, *a, **k)
    191     # but it's overkill for just that one bit of state.
    192     def magic_deco(arg):
--> 193         call = lambda f, *a, **k: f(*a, **k)
    194 
    195         if callable(arg):

/Users/dcoudert/sage/local/lib/python2.7/site-packages/IPython/core/magics/execution.pyc in time(self, line, cell, local_ns)
   1127         else:
   1128             st = clock2()
-> 1129             exec(code, glob, local_ns)
   1130             end = clock2()
   1131             out = None

<timed exec> in <module>()

/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/graphs/generators/random.pyc in RandomTriangulation(n, embed)
    835 
    836     # extract the 1-skeleton
--> 837     g = P.vertex_graph()
    838     g.rename('Planar triangulation on {} vertices'.format(n))
    839     if embed:

/Users/dcoudert/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:13663)()
   2207         if self.cache is None:
   2208             f = self.f
-> 2209             self.cache = f(self._instance)
   2210         return self.cache
   2211 

/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in vertex_graph(self)
   2933             True
   2934         """
-> 2935         return Graph(self.vertex_adjacency_matrix(), loops=False)
   2936 
   2937     graph = vertex_graph

/Users/dcoudert/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:13663)()
   2207         if self.cache is None:
   2208             f = self.f
-> 2209             self.cache = f(self._instance)
   2210         return self.cache
   2211 

/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in vertex_adjacency_matrix(self)
   1638             (0, 0, 1, 1, 0) A vertex at (3, 0)
   1639         """
-> 1640         return self._vertex_adjacency_matrix()
   1641 
   1642     adjacency_matrix = vertex_adjacency_matrix

/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in _vertex_adjacency_matrix(self)
    286             M[j,i]=1
    287 
--> 288         face_lattice = self.face_lattice()
    289         for face in face_lattice:
    290             Vrep = face.ambient_Vrepresentation()

/Users/dcoudert/sage/src/sage/misc/cachefunc.pyx in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:13663)()
   2207         if self.cache is None:
   2208             f = self.f
-> 2209             self.cache = f(self._instance)
   2210         return self.cache
   2211 

/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.pyc in face_lattice(self)
   2815         return Hasse_diagram_from_incidences\
   2816             (atoms_incidences, coatoms_incidences,
-> 2817              face_constructor=face_constructor, required_atoms=atoms_vertices)
   2818 
   2819     def faces(self, face_dimension):

/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/geometry/hasse_diagram.pyc in Hasse_diagram_from_incidences(atom_to_coatoms, coatom_to_atoms, face_constructor, required_atoms, key, **kwds)
    188     # Make sure that coatoms are in the end in proper order
    189     tail = [faces[atoms, frozenset([coatom])]
--> 190             for coatom, atoms in enumerate(coatom_to_atoms)]
    191     tail.append(faces[A, frozenset()])
    192     new_order = [n for n in new_order if n not in tail] + tail

KeyError: (frozenset([]), frozenset([132]))
```

David.



---

archive/issue_events_123176.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-29T07:03:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123176"
}
```



---

archive/issue_events_123177.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-29T07:03:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123177"
}
```



---

archive/issue_comments_097858.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nHellooooo,\n\nI just looked at this code, and I thank you very very much for reminding me that the normal distribution was invariant by rotation. I had totally forgotten this, and it is soooo elegant to be able to sample sphere point uniformly this easily  `;-)`\n\nI added a small commit at public/10276 which does no non-trivial things. If you do not see anything wrong with it, you can change the ticket's status to `positive_review`.\n\nThankssssss,\n\nNathann",
    "created_at": "2015-06-29T07:03:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97858",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:12'>Comment 12:</a>
Hellooooo,

I just looked at this code, and I thank you very very much for reminding me that the normal distribution was invariant by rotation. I had totally forgotten this, and it is soooo elegant to be able to sample sphere point uniformly this easily  `;-)`

I added a small commit at public/10276 which does no non-trivial things. If you do not see anything wrong with it, you can change the ticket's status to `positive_review`.

Thankssssss,

Nathann



---

archive/issue_comments_097859.json:
```json
{
    "body": "Reviewer: **Nathann Cohen**",
    "created_at": "2015-06-29T07:03:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97859",
    "user": "https://github.com/nathanncohen"
}
```

Reviewer: **Nathann Cohen**



---

archive/issue_comments_097860.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nThe random failure is probably still there..",
    "created_at": "2015-06-29T07:16:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97860",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'>Comment 13:</a>
The random failure is probably still there..



---

archive/issue_comments_097861.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\n> The random failure is probably still there..\n\n`needs_work` then?",
    "created_at": "2015-06-29T07:18:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97861",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:14'>Comment 14:</a>
> The random failure is probably still there..

`needs_work` then?



---

archive/issue_events_123178.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-29T07:18:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123178"
}
```



---

archive/issue_events_123179.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-29T07:18:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123179"
}
```



---

archive/issue_comments_097862.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nI do not know what to do. Some time ago, I have tried to understand the failure, but did not succeed.",
    "created_at": "2015-06-29T07:48:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97862",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'>Comment 15:</a>
I do not know what to do. Some time ago, I have tried to understand the failure, but did not succeed.



---

archive/issue_comments_097863.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nWell.. Given that it is not caused by your code, can't we still merge this patch? There seems to be a bug alright and it will have to be fixed, but that's not a reason to hold this one back.\n\nNathann",
    "created_at": "2015-06-29T10:24:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97863",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:16'>Comment 16:</a>
Well.. Given that it is not caused by your code, can't we still merge this patch? There seems to be a bug alright and it will have to be fixed, but that's not a reason to hold this one back.

Nathann



---

archive/issue_comments_097864.json:
```json
{
    "body": "a deterministic way to get the error",
    "created_at": "2015-06-29T14:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97864",
    "user": "https://github.com/dimpase"
}
```

a deterministic way to get the error



---

archive/issue_comments_097865.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nAttachment: **[x.sage.gz](https://github.com/sagemath/sage/files/ticket10276/x.sage.gz)**\n\nnow we just fix this (hopefully) :-)",
    "created_at": "2015-06-29T14:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97865",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'>Comment 17:</a>
Attachment: **[x.sage.gz](https://github.com/sagemath/sage/files/ticket10276/x.sage.gz)**

now we just fix this (hopefully) :-)



---

archive/issue_comments_097866.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nok, then I have no longer any objection against this ticket. Another ticket should be created for the polyhedron problem.",
    "created_at": "2015-06-29T14:13:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97866",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'>Comment 18:</a>
ok, then I have no longer any objection against this ticket. Another ticket should be created for the polyhedron problem.



---

archive/issue_events_123180.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-29T14:14:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123180"
}
```



---

archive/issue_events_123181.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-29T14:14:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123181"
}
```



---

archive/issue_comments_097867.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nOkayyyyyyyyyyyyyyyyyyy!\n\nNathann",
    "created_at": "2015-06-29T14:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97867",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'>Comment 19:</a>
Okayyyyyyyyyyyyyyyyyyy!

Nathann



---

archive/issue_events_123182.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-29T14:14:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123182"
}
```



---

archive/issue_events_123183.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-29T14:14:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123183"
}
```



---

archive/issue_events_123184.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-29T14:14:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123184"
}
```



---

archive/issue_events_123185.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-06-29T14:14:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123185"
}
```



---

archive/issue_comments_097868.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nCould you decide what you want to do with my additional commit (see [comment:12])?",
    "created_at": "2015-06-29T14:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97868",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:22'>Comment 22:</a>
Could you decide what you want to do with my additional commit (see [comment:12])?



---

archive/issue_comments_097869.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nNo, the bug is here, not elsewhere - it is a loss of precision issue, one cannot handle these points using RDF, you need exact field. I'll post a fix soon.",
    "created_at": "2015-06-29T15:20:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97869",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'>Comment 23:</a>
No, the bug is here, not elsewhere - it is a loss of precision issue, one cannot handle these points using RDF, you need exact field. I'll post a fix soon.



---

archive/issue_comments_097870.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nI added a second commit from Dima at public/10276 (he couldn't push it himself, some git oddity).\n\nNathann",
    "created_at": "2015-06-29T16:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97870",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:24'>Comment 24:</a>
I added a second commit from Dima at public/10276 (he couldn't push it himself, some git oddity).

Nathann



---

archive/issue_events_123186.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-06-29T17:32:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123186"
}
```



---

archive/issue_events_123187.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-06-29T17:32:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123187"
}
```



---

archive/issue_comments_097871.json:
```json
{
    "body": "Changed branch from **[u/chapoton/10276](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/10276)** to **[public/10276](https://github.com/sagemath/sagetrac-mirror/tree/public/10276)**",
    "created_at": "2015-06-29T17:32:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97871",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/chapoton/10276](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/10276)** to **[public/10276](https://github.com/sagemath/sagetrac-mirror/tree/public/10276)**



---

archive/issue_comments_097872.json:
```json
{
    "body": "Changed commit from **[0158086](https://github.com/sagemath/sagetrac-mirror/commit/0158086673e62ca06d6529ec2d4f25210395ab65)** to **[1ea5a64](https://github.com/sagemath/sagetrac-mirror/commit/1ea5a64f544fc01f932d86f6962825a7cdad1936)**",
    "created_at": "2015-06-29T17:32:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97872",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[0158086](https://github.com/sagemath/sagetrac-mirror/commit/0158086673e62ca06d6529ec2d4f25210395ab65)** to **[1ea5a64](https://github.com/sagemath/sagetrac-mirror/commit/1ea5a64f544fc01f932d86f6962825a7cdad1936)**



---

archive/issue_comments_097873.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nI'm happy with this branch. By the way, the example in the attachment illustrating the bug produces a polytope with 136 trianglular faces, but if the `base_ring=RDF` then one triangle does not contain any vertices (loss of precision happens). With `base_ring=QQ` it's all right, of course.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e742c9e2996591b395e1f0cd9344594b03f09179\">e742c9e</a></td><td><code>trac #10276: Merged with 6.8.beta6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7eef8443c9c72e89a937d13f534d9f5b1db3b842\">7eef844</a></td><td><code>trac #10267: Reviewer's commit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ea5a64f544fc01f932d86f6962825a7cdad1936\">1ea5a64</a></td><td><code>trac #10276: Reviewer's commit</code></td></tr></table>\n",
    "created_at": "2015-06-29T17:32:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97873",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'>Comment 25:</a>
I'm happy with this branch. By the way, the example in the attachment illustrating the bug produces a polytope with 136 trianglular faces, but if the `base_ring=RDF` then one triangle does not contain any vertices (loss of precision happens). With `base_ring=QQ` it's all right, of course.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e742c9e2996591b395e1f0cd9344594b03f09179">e742c9e</a></td><td><code>trac #10276: Merged with 6.8.beta6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7eef8443c9c72e89a937d13f534d9f5b1db3b842">7eef844</a></td><td><code>trac #10267: Reviewer's commit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ea5a64f544fc01f932d86f6962825a7cdad1936">1ea5a64</a></td><td><code>trac #10276: Reviewer's commit</code></td></tr></table>




---

archive/issue_comments_097874.json:
```json
{
    "body": "Changed reviewer from **Nathann Cohen** to **Nathann Cohen, Fr\u00e9d\u00e9ric Chapoton, Dima Pasechnik**",
    "created_at": "2015-06-29T17:32:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97874",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Nathann Cohen** to **Nathann Cohen, Frédéric Chapoton, Dima Pasechnik**



---

archive/issue_events_123188.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-06-29T23:12:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123188"
}
```



---

archive/issue_events_123189.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-06-29T23:12:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123189"
}
```



---

archive/issue_comments_097875.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\ndocs don't build, as `QQ` is not imported. will fix this now.",
    "created_at": "2015-06-29T23:12:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97875",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'>Comment 26:</a>
docs don't build, as `QQ` is not imported. will fix this now.



---

archive/issue_comments_097876.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a682fa03e54c6bcfda500532fb3ecf17e61b583\">9a682fa</a></td><td><code>QQ must be imported</code></td></tr></table>\n",
    "created_at": "2015-06-29T23:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97876",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a682fa03e54c6bcfda500532fb3ecf17e61b583">9a682fa</a></td><td><code>QQ must be imported</code></td></tr></table>




---

archive/issue_comments_097877.json:
```json
{
    "body": "Changed commit from **[1ea5a64](https://github.com/sagemath/sagetrac-mirror/commit/1ea5a64f544fc01f932d86f6962825a7cdad1936)** to **[9a682fa](https://github.com/sagemath/sagetrac-mirror/commit/9a682fa03e54c6bcfda500532fb3ecf17e61b583)**",
    "created_at": "2015-06-29T23:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97877",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1ea5a64](https://github.com/sagemath/sagetrac-mirror/commit/1ea5a64f544fc01f932d86f6962825a7cdad1936)** to **[9a682fa](https://github.com/sagemath/sagetrac-mirror/commit/9a682fa03e54c6bcfda500532fb3ecf17e61b583)**



---

archive/issue_events_123190.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-06-29T23:31:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123190"
}
```



---

archive/issue_events_123191.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2015-06-29T23:31:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123191"
}
```



---

archive/issue_comments_097878.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n This is a new graph generator to create a random triangulation, i.e., a random planar graph all of whose faces are triangles (3-cycles). We do this by generation points iid uniformly on the surface of a sphere, finding the convex hull of those points, and returning the 1-skeleton of that polyhedron.\n \n-**Apply:**\n-\n-1. [attachment: trac_10276-random-triangulation-rebase_v2.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase_v2.patch.gz)\n+There might be numerical issues with the convex hull here, so we by default work over `QQ`\n``````\n",
    "created_at": "2015-06-29T23:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97878",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
 This is a new graph generator to create a random triangulation, i.e., a random planar graph all of whose faces are triangles (3-cycles). We do this by generation points iid uniformly on the surface of a sphere, finding the convex hull of those points, and returning the 1-skeleton of that polyhedron.
 
-**Apply:**
-
-1. [attachment: trac_10276-random-triangulation-rebase_v2.patch.gz](https://github.com/sagemath/sage/files/ticket10276/trac_10276-random-triangulation-rebase_v2.patch.gz)
+There might be numerical issues with the convex hull here, so we by default work over `QQ`
``````




---

archive/issue_comments_097879.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nPSA: Tickets without a milestone set are not going to be merged. Not sure if its intentional, just trying to get the word out.",
    "created_at": "2015-07-03T07:08:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97879",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'>Comment 29:</a>
PSA: Tickets without a milestone set are not going to be merged. Not sure if its intentional, just trying to get the word out.



---

archive/issue_events_123192.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2015-07-03T07:10:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123192"
}
```



---

archive/issue_events_123193.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-03T10:32:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123193"
}
```



---

archive/issue_events_123194.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a04d7d0d42bd8a7738aa5b226ea20fbe4c2a0897",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-07-03T10:32:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10276#event-123194"
}
```



---

archive/issue_comments_097880.json:
```json
{
    "body": "Changed branch from **[public/10276](https://github.com/sagemath/sagetrac-mirror/tree/public/10276)** to **[9a682fa](https://github.com/sagemath/sagetrac-mirror/commit/9a682fa03e54c6bcfda500532fb3ecf17e61b583)**",
    "created_at": "2015-07-03T10:32:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10276#issuecomment-97880",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/10276](https://github.com/sagemath/sagetrac-mirror/tree/public/10276)** to **[9a682fa](https://github.com/sagemath/sagetrac-mirror/commit/9a682fa03e54c6bcfda500532fb3ecf17e61b583)**
