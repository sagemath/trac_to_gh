# Issue 10808: atlas-3.8.3.p16 doesn't build on ARM

archive/issues_010742.json:
```json
{
    "assignees": [],
    "body": "This makes sage-4.6.1 not build on ARM ; here is a patch that makes it build.\n\nAssignee: **@sagetrac-drkirkby**\n\nReviewer: **Julien Puydt, Dmitrii Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10808_\n\n",
    "closed_at": "2012-02-07T13:32:54Z",
    "created_at": "2011-02-20T17:59:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20porting",
        "https://github.com/sagemath/sage/labels/invalid",
        "https://github.com/sagemath/sage/labels/worksforme"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "atlas-3.8.3.p16 doesn't build on ARM",
    "type": "issue",
    "updated_at": "2012-02-07T13:32:54Z",
    "url": "https://github.com/sagemath/sage/issues/10808",
    "user": "https://github.com/sagetrac-Snark"
}
```
This makes sage-4.6.1 not build on ARM ; here is a patch that makes it build.

Assignee: **@sagetrac-drkirkby**

Reviewer: **Julien Puydt, Dmitrii Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/10808_





---

archive/issue_events_130465.json:
```json
{
    "actor": "https://github.com/sagetrac-Snark",
    "created_at": "2011-02-20T17:59:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130465"
}
```



---

archive/issue_events_130466.json:
```json
{
    "actor": "https://github.com/sagetrac-Snark",
    "created_at": "2011-02-20T17:59:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20porting",
    "label_color": "000080",
    "label_name": "component: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130466"
}
```



---

archive/issue_events_130467.json:
```json
{
    "actor": "https://github.com/sagetrac-Snark",
    "created_at": "2011-02-20T17:59:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130467"
}
```



---

archive/issue_events_130468.json:
```json
{
    "actor": "https://github.com/sagetrac-Snark",
    "created_at": "2011-02-20T17:59:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130468"
}
```



---

archive/issue_comments_106400.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nThis makes sage-4.6.2 also not build on ARM ; the same patch works.",
    "created_at": "2011-03-12T18:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106400",
    "user": "https://github.com/sagetrac-Snark"
}
```

<div id="comment:1" align="right">Comment 1</div>

This makes sage-4.6.2 also not build on ARM ; the same patch works.



---

archive/issue_events_130469.json:
```json
{
    "actor": "https://github.com/sagetrac-Snark",
    "created_at": "2011-03-12T18:01:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130469"
}
```



---

archive/issue_comments_106401.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nit looks quite harmless for non-ARM machines, so this can be included, IMHO. I can't test this on an ARM, though.",
    "created_at": "2011-05-14T13:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106401",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:2" align="right">Comment 2</div>

it looks quite harmless for non-ARM machines, so this can be included, IMHO. I can't test this on an ARM, though.



---

archive/issue_events_130470.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2011-05-14T13:18:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130470"
}
```



---

archive/issue_events_130471.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2011-05-14T13:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130471"
}
```



---

archive/issue_comments_106402.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nThis patch looks geared towards atlas-3.9.32 does it apply to the current version in sage? And there should be a spkg.",
    "created_at": "2011-05-15T04:38:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106402",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:3" align="right">Comment 3</div>

This patch looks geared towards atlas-3.9.32 does it apply to the current version in sage? And there should be a spkg.



---

archive/issue_events_130472.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-05-15T04:38:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130472"
}
```



---

archive/issue_events_130473.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-05-15T04:38:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130473"
}
```



---

archive/issue_comments_106403.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nReplying to [@kiwifb](#comment%3A3):\n> This patch looks geared towards atlas-3.9.32 does it apply to the current version in sage? And there should be a spkg.\n\nOops, my bad:\u2013(\n I haven't noticed the wrong Atlas version.",
    "created_at": "2011-05-15T05:08:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106403",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">Comment 4</div>

Replying to [@kiwifb](#comment%3A3):
> This patch looks geared towards atlas-3.9.32 does it apply to the current version in sage? And there should be a spkg.

Oops, my bad:â€“(
 I haven't noticed the wrong Atlas version.



---

archive/issue_comments_106404.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nThe newly-released 4.7.1 still ships with an atlas which doesn't compile on ARM, so I came to check where that report stands ; is it sure that a fixed spkg will find its way into sage-4.7.2 ?",
    "created_at": "2011-08-19T18:33:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106404",
    "user": "https://github.com/sagetrac-Snark"
}
```

<div id="comment:5" align="right">Comment 5</div>

The newly-released 4.7.1 still ships with an atlas which doesn't compile on ARM, so I came to check where that report stands ; is it sure that a fixed spkg will find its way into sage-4.7.2 ?



---

archive/issue_comments_106405.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThere are numerous problems with the atlas 3.9.xx series (it causes some strange behaviors in iml and linbox at least). As it stands we won't be using it for 4.7.2.\n\nIf you want to provide a patch against atlas-3.8.4, we could try to include that in 4.7.2 relatively quickly.",
    "created_at": "2011-08-19T20:37:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106405",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:6" align="right">Comment 6</div>

There are numerous problems with the atlas 3.9.xx series (it causes some strange behaviors in iml and linbox at least). As it stands we won't be using it for 4.7.2.

If you want to provide a patch against atlas-3.8.4, we could try to include that in 4.7.2 relatively quickly.



---

archive/issue_comments_106406.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI'm still compiling sage 4.7.1 and it will probably wait until monday before I'm able to provide a cleaner patch than the one I currently use, but I'll work on one.",
    "created_at": "2011-08-19T21:25:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106406",
    "user": "https://github.com/sagetrac-Snark"
}
```

<div id="comment:7" align="right">Comment 7</div>

I'm still compiling sage 4.7.1 and it will probably wait until monday before I'm able to provide a cleaner patch than the one I currently use, but I'll work on one.



---

archive/issue_comments_106407.json:
```json
{
    "body": "Attachment: **[atlas-no-m32-on-ARM.diff.gz](https://github.com/sagemath/sage/files/ticket10808/atlas-no-m32-on-ARM.diff.gz)**\n\nThis patch to the atlas in 4.7.1 makes it possible to compile on ARM",
    "created_at": "2011-08-22T12:19:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106407",
    "user": "https://github.com/sagetrac-Snark"
}
```

Attachment: **[atlas-no-m32-on-ARM.diff.gz](https://github.com/sagemath/sage/files/ticket10808/atlas-no-m32-on-ARM.diff.gz)**

This patch to the atlas in 4.7.1 makes it possible to compile on ARM



---

archive/issue_comments_106408.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\n<sup>^</sup> The patch described above is visibly clean, since it only modifies the code on ARM platforms",
    "created_at": "2011-08-22T12:21:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106408",
    "user": "https://github.com/sagetrac-Snark"
}
```

<div id="comment:8" align="right">Comment 8</div>

<sup>^</sup> The patch described above is visibly clean, since it only modifies the code on ARM platforms



---

archive/issue_comments_106409.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nThanks for the patch. I'll try to make a new spkg based on it so it can be included in 4.7.2.",
    "created_at": "2011-08-22T12:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106409",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:9" align="right">Comment 9</div>

Thanks for the patch. I'll try to make a new spkg based on it so it can be included in 4.7.2.



---

archive/issue_comments_106410.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nThe singular in 4.8, 3.8.4.p1, compiles correctly on ARM : please close that report as obsolete, invalid or some such.",
    "created_at": "2012-02-04T07:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106410",
    "user": "https://github.com/sagetrac-Snark"
}
```

<div id="comment:10" align="right">Comment 10</div>

The singular in 4.8, 3.8.4.p1, compiles correctly on ARM : please close that report as obsolete, invalid or some such.



---

archive/issue_events_130474.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-02-04T09:07:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130474"
}
```



---

archive/issue_events_130475.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-02-04T09:07:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130475"
}
```



---

archive/issue_events_130476.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-04T14:02:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130476"
}
```



---

archive/issue_events_130477.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-04T14:02:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130477"
}
```



---

archive/issue_events_130478.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-04T14:02:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130478"
}
```



---

archive/issue_comments_106411.json:
```json
{
    "body": "Reviewer: **Julien Puydt, Dmitrii Pasechnik**",
    "created_at": "2012-02-07T13:32:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10808#issuecomment-106411",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Julien Puydt, Dmitrii Pasechnik**



---

archive/issue_events_130479.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-07T13:32:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/worksforme",
    "label_color": "a6a6a6",
    "label_name": "worksforme",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130479"
}
```



---

archive/issue_events_130480.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-07T13:32:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130480"
}
```



---

archive/issue_events_130481.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-07T13:32:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10808",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10808#event-130481"
}
```
