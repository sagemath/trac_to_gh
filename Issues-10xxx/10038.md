# Issue 10038: Wrap Maxima's  demoivre and exponentialize

archive/issues_010037.json:
```json
{
    "body": "Sage does not appear to have easily accesible analogues of Mathematica's `TrigToExp` and `ExpToTrig`.  From [AskSage](http://ask.sagemath.org/question/148/complex-exponentialtrigonometric#comment-587):\n\n```python\nsage: x = var('x')\nsage: t1 = cos(x)\nsage: t2 = e^(I * x) / 2 / I - e^(-I * x) / 2 / I\nsage: sageobj(t1._maxima_().exponentialize())\n1/2*e^(-I*x) + 1/2*e^(I*x)\nsage: sageobj(t2._maxima_().demoivre())\nsin(x)\n```\n\n**Assignee:** @burcin\n\n**CC:**  @kcrisman fmaltey @slel\n\n**Keywords:** expression tree\n\n**Branch/Commit:** [e913beec4fbb65fb228923581aa47513e8bc7ef5](https://github.com/sagemath/sagetrac-mirror/commit/e913beec4fbb65fb228923581aa47513e8bc7ef5)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Emmanuel Charpentier\n\nIssue created by migration from https://trac.sagemath.org/ticket/10038\n\n",
    "closed_at": "2021-08-31T22:01:01Z",
    "created_at": "2010-09-30T03:09:23Z",
    "labels": [
        "component: symbolics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Wrap Maxima's  demoivre and exponentialize",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10038",
    "user": "https://github.com/qed777"
}
```
Sage does not appear to have easily accesible analogues of Mathematica's `TrigToExp` and `ExpToTrig`.  From [AskSage](http://ask.sagemath.org/question/148/complex-exponentialtrigonometric#comment-587):

```python
sage: x = var('x')
sage: t1 = cos(x)
sage: t2 = e^(I * x) / 2 / I - e^(-I * x) / 2 / I
sage: sageobj(t1._maxima_().exponentialize())
1/2*e^(-I*x) + 1/2*e^(I*x)
sage: sageobj(t2._maxima_().demoivre())
sin(x)
```

**Assignee:** @burcin

**CC:**  @kcrisman fmaltey @slel

**Keywords:** expression tree

**Branch/Commit:** [e913beec4fbb65fb228923581aa47513e8bc7ef5](https://github.com/sagemath/sagetrac-mirror/commit/e913beec4fbb65fb228923581aa47513e8bc7ef5)

**Reviewer:** Travis Scrimshaw

**Author:** Emmanuel Charpentier

Issue created by migration from https://trac.sagemath.org/ticket/10038





---

archive/issue_comments_095291.json:
```json
{
    "body": "<a id='comment:1'></a>\nYou can use `maxima_methods()` to access the maxima functions easily.\n\n```\nsage: x = var('x')\nsage: t1 = cos(x)\nsage: t2 = e^(I * x) / 2 / I - e^(-I * x) / 2 / I\nsage: res = t1.maxima_methods().exponentialize(); res\n1/2*e^(-I*x) + 1/2*e^(I*x)\nsage: type(res)\n<type 'sage.symbolic.expression.Expression'>\nsage: t2.maxima_methods().demoivre()\nsin(x)\n```\n\nI am very much against wrapping each maxima function for manipulating symbolic expressions individually from Sage. Even though maxima provides a lot of functionality, their user interface is far from intuitive. \n\nIMHO, the user interface to these functions should be something like:\n\n```\nsage: t1.rewrite(exp)\n1/2*e^(-I*x) + 1/2*e^(I*x)\nsage: t2.rewrite(sin)\nsin(x)\n```\n\n\nBTW, it would be great if we could think about how to provide basic functionality like this directly in Sage without relying on maxima. It's possible that this requires wrapping more of pynac's features, for example\n\n* http://www.ginac.de/tutorial/Applying-a-function-on-subexpressions.html and\n* http://www.ginac.de/tutorial/Visitors-and-tree-traversal.html\n\nbut it's well worth the effort.",
    "created_at": "2010-10-01T15:11:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95291",
    "user": "https://github.com/burcin"
}
```

<a id='comment:1'></a>
You can use `maxima_methods()` to access the maxima functions easily.

```
sage: x = var('x')
sage: t1 = cos(x)
sage: t2 = e^(I * x) / 2 / I - e^(-I * x) / 2 / I
sage: res = t1.maxima_methods().exponentialize(); res
1/2*e^(-I*x) + 1/2*e^(I*x)
sage: type(res)
<type 'sage.symbolic.expression.Expression'>
sage: t2.maxima_methods().demoivre()
sin(x)
```

I am very much against wrapping each maxima function for manipulating symbolic expressions individually from Sage. Even though maxima provides a lot of functionality, their user interface is far from intuitive. 

IMHO, the user interface to these functions should be something like:

```
sage: t1.rewrite(exp)
1/2*e^(-I*x) + 1/2*e^(I*x)
sage: t2.rewrite(sin)
sin(x)
```


BTW, it would be great if we could think about how to provide basic functionality like this directly in Sage without relying on maxima. It's possible that this requires wrapping more of pynac's features, for example

* http://www.ginac.de/tutorial/Applying-a-function-on-subexpressions.html and
* http://www.ginac.de/tutorial/Visitors-and-tree-traversal.html

but it's well worth the effort.



---

archive/issue_comments_095292.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [burcin](#comment%3A1):\n> You can use `maxima_methods()` to access the maxima functions easily.\n> \n\nYes, thanks for that reminder!\n> I am very much against wrapping each maxima function for manipulating symbolic expressions individually from Sage. Even though maxima provides a lot of functionality, their user interface is far from intuitive. \n\n\nI don't see why we can't provide a more intuitive user interface for some of them, though.  Just because a ticket is opened doesn't mean it will ever be fulfilled, but at least it's here now if enough people want it.\n> IMHO, the user interface to these functions should be something like:\n> \n> ```\n> sage: t1.rewrite(exp)\n> 1/2*e^(-I*x) + 1/2*e^(I*x)\n> sage: t2.rewrite(sin)\n> sin(x)\n> ```\n\nThis seems awkward, esp. if you don't know ahead of time whether it's sin or cos. I think that `simplify_*` makes sense, the way we have it now.  For now it's not worth having the discussion - I doubt anyone has time to do this right now.  But if someone does, maybe it's time to revisit that.\n> BTW, it would be great if we could think about how to provide basic functionality like this directly in Sage without relying on \n\nYes, of course.   If only we could have that Sage Days solely about symbolics...\n> \n> * http://www.ginac.de/tutorial/Applying-a-function-on-subexpressions.html and\n> * http://www.ginac.de/tutorial/Visitors-and-tree-traversal.html\n> \n> but it's well worth the effort.\n",
    "created_at": "2010-10-01T15:19:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95292",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>
Replying to [burcin](#comment%3A1):
> You can use `maxima_methods()` to access the maxima functions easily.
> 

Yes, thanks for that reminder!
> I am very much against wrapping each maxima function for manipulating symbolic expressions individually from Sage. Even though maxima provides a lot of functionality, their user interface is far from intuitive. 


I don't see why we can't provide a more intuitive user interface for some of them, though.  Just because a ticket is opened doesn't mean it will ever be fulfilled, but at least it's here now if enough people want it.
> IMHO, the user interface to these functions should be something like:
> 
> ```
> sage: t1.rewrite(exp)
> 1/2*e^(-I*x) + 1/2*e^(I*x)
> sage: t2.rewrite(sin)
> sin(x)
> ```

This seems awkward, esp. if you don't know ahead of time whether it's sin or cos. I think that `simplify_*` makes sense, the way we have it now.  For now it's not worth having the discussion - I doubt anyone has time to do this right now.  But if someone does, maybe it's time to revisit that.
> BTW, it would be great if we could think about how to provide basic functionality like this directly in Sage without relying on 

Yes, of course.   If only we could have that Sage Days solely about symbolics...
> 
> * http://www.ginac.de/tutorial/Applying-a-function-on-subexpressions.html and
> * http://www.ginac.de/tutorial/Visitors-and-tree-traversal.html
> 
> but it's well worth the effort.




---

archive/issue_events_077525.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-10-01T15:19:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "milestone": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77525"
}
```



---

archive/issue_events_077526.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77526"
}
```



---

archive/issue_events_077527.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77527"
}
```



---

archive/issue_events_077528.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77528"
}
```



---

archive/issue_events_077529.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77529"
}
```



---

archive/issue_events_077530.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77530"
}
```



---

archive/issue_events_077531.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77531"
}
```



---

archive/issue_events_077532.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77532"
}
```



---

archive/issue_events_077533.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77533"
}
```



---

archive/issue_comments_095293.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"expression tree\".",
    "created_at": "2021-08-05T21:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95293",
    "user": "https://github.com/slel"
}
```

**Changing keywords** from "" to "expression tree".



---

archive/issue_comments_095294.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [burcin](#comment%3A1):\n>\n> BTW, it would be great if we could think about how to provide basic functionality like this directly in Sage without relying on maxima. It's possible that this requires wrapping more of pynac's features, for example\n> \n>* http://www.ginac.de/tutorial/Applying-a-function-on-subexpressions.html and\n>* http://www.ginac.de/tutorial/Visitors-and-tree-traversal.html\n> \n> but it's well worth the effort.\n\n\nThe links seem to have slightly changed:\n\n- https://www.ginac.de/tutorial/#Applying-a-function-on-subexpressions\n- https://www.ginac.de/tutorial/#Visitors-and-tree-traversal",
    "created_at": "2021-08-05T21:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95294",
    "user": "https://github.com/slel"
}
```

<a id='comment:7'></a>
Replying to [burcin](#comment%3A1):
>
> BTW, it would be great if we could think about how to provide basic functionality like this directly in Sage without relying on maxima. It's possible that this requires wrapping more of pynac's features, for example
> 
>* http://www.ginac.de/tutorial/Applying-a-function-on-subexpressions.html and
>* http://www.ginac.de/tutorial/Visitors-and-tree-traversal.html
> 
> but it's well worth the effort.


The links seem to have slightly changed:

- https://www.ginac.de/tutorial/#Applying-a-function-on-subexpressions
- https://www.ginac.de/tutorial/#Visitors-and-tree-traversal



---

archive/issue_comments_095295.json:
```json
{
    "body": "**Branch:** [u/charpent/dm2](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/dm2)",
    "created_at": "2021-08-12T13:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95295",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Branch:** [u/charpent/dm2](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/dm2)



---

archive/issue_events_077534.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-12T13:36:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77534"
}
```



---

archive/issue_events_077535.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-12T13:36:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77535"
}
```



---

archive/issue_comments_095296.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [charpent](#comment%3A8):\n\nEleven years later, it seems obvious that no one ever undertook to wrap Pynac's tree traversal utilities. However, the `expressionTreeWalker` class offers means to implement such utilities not too painfully.\n\nThis proposal passes `ptestlong` with no new failures.\n\n==>`needs_review`\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22d03545981eb0ed080a0f184aa8afaeab72273b\">22d0354</a></td><td><code>de Moivre/exponentialize methods for symbolic expressions (Sage)</code></td></tr></table>\n",
    "created_at": "2021-08-12T13:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95296",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:9'></a>
Replying to [charpent](#comment%3A8):

Eleven years later, it seems obvious that no one ever undertook to wrap Pynac's tree traversal utilities. However, the `expressionTreeWalker` class offers means to implement such utilities not too painfully.

This proposal passes `ptestlong` with no new failures.

==>`needs_review`

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22d03545981eb0ed080a0f184aa8afaeab72273b">22d0354</a></td><td><code>de Moivre/exponentialize methods for symbolic expressions (Sage)</code></td></tr></table>




---

archive/issue_events_077536.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-12T13:36:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77536"
}
```



---

archive/issue_comments_095297.json:
```json
{
    "body": "**Commit:** [22d03545981eb0ed080a0f184aa8afaeab72273b](https://github.com/sagemath/sagetrac-mirror/commit/22d03545981eb0ed080a0f184aa8afaeab72273b)",
    "created_at": "2021-08-12T13:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95297",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Commit:** [22d03545981eb0ed080a0f184aa8afaeab72273b](https://github.com/sagemath/sagetrac-mirror/commit/22d03545981eb0ed080a0f184aa8afaeab72273b)



---

archive/issue_events_077537.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-17T21:12:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77537"
}
```



---

archive/issue_events_077538.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-17T21:12:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77538"
}
```



---

archive/issue_comments_095298.json:
```json
{
    "body": "<a id='comment:10'></a>\nWups. A nice typo : `_init__` for `__init__`...\n\n==> `needs_work`.",
    "created_at": "2021-08-17T21:12:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95298",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:10'></a>
Wups. A nice typo : `_init__` for `__init__`...

==> `needs_work`.



---

archive/issue_comments_095299.json:
```json
{
    "body": "**Changing commit** from \"[22d03545981eb0ed080a0f184aa8afaeab72273b](https://github.com/sagemath/sagetrac-mirror/commit/22d03545981eb0ed080a0f184aa8afaeab72273b)\" to \"[43bce841913d6cbf3ee29d2e4151110e4631dca4](https://github.com/sagemath/sagetrac-mirror/commit/43bce841913d6cbf3ee29d2e4151110e4631dca4)\".",
    "created_at": "2021-08-17T21:14:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95299",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[22d03545981eb0ed080a0f184aa8afaeab72273b](https://github.com/sagemath/sagetrac-mirror/commit/22d03545981eb0ed080a0f184aa8afaeab72273b)" to "[43bce841913d6cbf3ee29d2e4151110e4631dca4](https://github.com/sagemath/sagetrac-mirror/commit/43bce841913d6cbf3ee29d2e4151110e4631dca4)".



---

archive/issue_comments_095300.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43bce841913d6cbf3ee29d2e4151110e4631dca4\">43bce84</a></td><td><code>Exponentialize : typo.</code></td></tr></table>\n",
    "created_at": "2021-08-17T21:14:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95300",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43bce841913d6cbf3ee29d2e4151110e4631dca4">43bce84</a></td><td><code>Exponentialize : typo.</code></td></tr></table>




---

archive/issue_events_077539.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-17T21:16:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77539"
}
```



---

archive/issue_events_077540.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-17T21:16:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77540"
}
```



---

archive/issue_comments_095301.json:
```json
{
    "body": "<a id='comment:12'></a>\nTypo fixed ==>`needs_review`.",
    "created_at": "2021-08-17T21:16:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95301",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:12'></a>
Typo fixed ==>`needs_review`.



---

archive/issue_comments_095302.json:
```json
{
    "body": "**Author:** Emmanuel Charpentier",
    "created_at": "2021-08-17T22:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95302",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Author:** Emmanuel Charpentier



---

archive/issue_events_077541.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-18T08:41:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77541"
}
```



---

archive/issue_events_077542.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-18T08:41:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77542"
}
```



---

archive/issue_comments_095303.json:
```json
{
    "body": "<a id='comment:14'></a>\nOne doctest (src/sage/doctest/sources.py) fails.",
    "created_at": "2021-08-18T08:41:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95303",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:14'></a>
One doctest (src/sage/doctest/sources.py) fails.



---

archive/issue_comments_095304.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7810b8040546ab9f89ec4c20ba91989b39d68248\">7810b80</a></td><td><code>deMoivre : reformatting doctests.</code></td></tr></table>\n",
    "created_at": "2021-08-18T09:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95304",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7810b8040546ab9f89ec4c20ba91989b39d68248">7810b80</a></td><td><code>deMoivre : reformatting doctests.</code></td></tr></table>




---

archive/issue_comments_095305.json:
```json
{
    "body": "**Changing commit** from \"[43bce841913d6cbf3ee29d2e4151110e4631dca4](https://github.com/sagemath/sagetrac-mirror/commit/43bce841913d6cbf3ee29d2e4151110e4631dca4)\" to \"[7810b8040546ab9f89ec4c20ba91989b39d68248](https://github.com/sagemath/sagetrac-mirror/commit/7810b8040546ab9f89ec4c20ba91989b39d68248)\".",
    "created_at": "2021-08-18T09:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95305",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[43bce841913d6cbf3ee29d2e4151110e4631dca4](https://github.com/sagemath/sagetrac-mirror/commit/43bce841913d6cbf3ee29d2e4151110e4631dca4)" to "[7810b8040546ab9f89ec4c20ba91989b39d68248](https://github.com/sagemath/sagetrac-mirror/commit/7810b8040546ab9f89ec4c20ba91989b39d68248)".



---

archive/issue_events_077543.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-18T09:31:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77543"
}
```



---

archive/issue_events_077544.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-18T09:31:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77544"
}
```



---

archive/issue_comments_095306.json:
```json
{
    "body": "<a id='comment:16'></a>\nNew patchbot attempt ==>`needs_review`",
    "created_at": "2021-08-18T09:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95306",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:16'></a>
New patchbot attempt ==>`needs_review`



---

archive/issue_comments_095307.json:
```json
{
    "body": "<a id='comment:17'></a>\nA few little things:\n\nIt would be good to use Sage's doc conventions:\n\n```diff\n-        \"\"\"Returns this sumbolic expression with all circular and hyperbolic\n+        \"\"\"\n+        Return this sumbolic expression with all circular and hyperbolic\n         functions replaced by their respective exponential\n         expressions.\n```\n\n`Exponentialize.__init__` is missing a doctest.\n\nThe import here\n\n```\n    def demoivre(self, force=False):\n        from sage.symbolic.expression_conversions import DeMoivre\n        \"\"\"\n```\nshould go after the docstring (which probably is not being picked up as a docstring but instead just a string being created within the function).\n\n```diff\n-return op(*[self(_) for _ in ex.operands()])\n+return op(*[self(oper) for oper in ex.operands()])\n```",
    "created_at": "2021-08-23T00:25:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95307",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'></a>
A few little things:

It would be good to use Sage's doc conventions:

```diff
-        """Returns this sumbolic expression with all circular and hyperbolic
+        """
+        Return this sumbolic expression with all circular and hyperbolic
         functions replaced by their respective exponential
         expressions.
```

`Exponentialize.__init__` is missing a doctest.

The import here

```
    def demoivre(self, force=False):
        from sage.symbolic.expression_conversions import DeMoivre
        """
```
should go after the docstring (which probably is not being picked up as a docstring but instead just a string being created within the function).

```diff
-return op(*[self(_) for _ in ex.operands()])
+return op(*[self(oper) for oper in ex.operands()])
```



---

archive/issue_events_077545.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-23T00:32:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77545"
}
```



---

archive/issue_events_077546.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-23T00:32:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77546"
}
```



---

archive/issue_comments_095308.json:
```json
{
    "body": "**Changing commit** from \"[7810b8040546ab9f89ec4c20ba91989b39d68248](https://github.com/sagemath/sagetrac-mirror/commit/7810b8040546ab9f89ec4c20ba91989b39d68248)\" to \"[518361f2c30ccfef96f54740d0c0187e07dcb72d](https://github.com/sagemath/sagetrac-mirror/commit/518361f2c30ccfef96f54740d0c0187e07dcb72d)\".",
    "created_at": "2021-08-23T01:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95308",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7810b8040546ab9f89ec4c20ba91989b39d68248](https://github.com/sagemath/sagetrac-mirror/commit/7810b8040546ab9f89ec4c20ba91989b39d68248)" to "[518361f2c30ccfef96f54740d0c0187e07dcb72d](https://github.com/sagemath/sagetrac-mirror/commit/518361f2c30ccfef96f54740d0c0187e07dcb72d)".



---

archive/issue_comments_095309.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/518361f2c30ccfef96f54740d0c0187e07dcb72d\">518361f</a></td><td><code>de Moivre/exponentialize : documentation fixes, code streamlining.</code></td></tr></table>\n",
    "created_at": "2021-08-23T01:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95309",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/518361f2c30ccfef96f54740d0c0187e07dcb72d">518361f</a></td><td><code>de Moivre/exponentialize : documentation fixes, code streamlining.</code></td></tr></table>




---

archive/issue_comments_095310.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [git](#comment%3A19):\n> Branch pushed to git repo; I updated commit sha1. **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/518361f2c30ccfef96f54740d0c0187e07dcb72d\">518361f</a></td><td><code>de Moivre/exponentialize : documentation fixes, code streamlining.</code></td></tr></table>\n\n\nFixed doctests pass. setting `needs_review` to start the patchbots.",
    "created_at": "2021-08-23T01:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95310",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:20'></a>
Replying to [git](#comment%3A19):
> Branch pushed to git repo; I updated commit sha1. **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/518361f2c30ccfef96f54740d0c0187e07dcb72d">518361f</a></td><td><code>de Moivre/exponentialize : documentation fixes, code streamlining.</code></td></tr></table>


Fixed doctests pass. setting `needs_review` to start the patchbots.



---

archive/issue_events_077547.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-23T01:38:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77547"
}
```



---

archive/issue_events_077548.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-23T01:38:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77548"
}
```



---

archive/issue_comments_095311.json:
```json
{
    "body": "**Changing commit** from \"[518361f2c30ccfef96f54740d0c0187e07dcb72d](https://github.com/sagemath/sagetrac-mirror/commit/518361f2c30ccfef96f54740d0c0187e07dcb72d)\" to \"[e913beec4fbb65fb228923581aa47513e8bc7ef5](https://github.com/sagemath/sagetrac-mirror/commit/e913beec4fbb65fb228923581aa47513e8bc7ef5)\".",
    "created_at": "2021-08-25T04:28:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95311",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[518361f2c30ccfef96f54740d0c0187e07dcb72d](https://github.com/sagemath/sagetrac-mirror/commit/518361f2c30ccfef96f54740d0c0187e07dcb72d)" to "[e913beec4fbb65fb228923581aa47513e8bc7ef5](https://github.com/sagemath/sagetrac-mirror/commit/e913beec4fbb65fb228923581aa47513e8bc7ef5)".



---

archive/issue_comments_095312.json:
```json
{
    "body": "<a id='comment:21'></a>\nI did a few more reviewer changes. If my changes are good, then positive review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/751776bd52f9d071462d99b48cfb2aeb7d2ca713\">751776b</a></td><td><code>Merge branch 'u/charpent/dm2' of git://trac.sagemath.org/sage into u/tscrim/demoivre_exp-10038</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e913beec4fbb65fb228923581aa47513e8bc7ef5\">e913bee</a></td><td><code>Trac #10038: reviewer changes.</code></td></tr></table>\n",
    "created_at": "2021-08-25T04:28:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95312",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:21'></a>
I did a few more reviewer changes. If my changes are good, then positive review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/751776bd52f9d071462d99b48cfb2aeb7d2ca713">751776b</a></td><td><code>Merge branch 'u/charpent/dm2' of git://trac.sagemath.org/sage into u/tscrim/demoivre_exp-10038</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e913beec4fbb65fb228923581aa47513e8bc7ef5">e913bee</a></td><td><code>Trac #10038: reviewer changes.</code></td></tr></table>




---

archive/issue_comments_095313.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2021-08-25T04:28:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95313",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_095314.json:
```json
{
    "body": "**Changing branch** from \"[u/charpent/dm2](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/dm2)\" to \"[u/tscrim/demoivre_exp-10038](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/demoivre_exp-10038)\".",
    "created_at": "2021-08-25T04:28:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95314",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/charpent/dm2](https://github.com/sagemath/sagetrac-mirror/tree/u/charpent/dm2)" to "[u/tscrim/demoivre_exp-10038](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/demoivre_exp-10038)".



---

archive/issue_comments_095315.json:
```json
{
    "body": "<a id='comment:22'></a>\nThanks !\n\nOkay with your cosmetics (notwithstanding the fact that I do not grasp their rationale) ==> `positive_review`.",
    "created_at": "2021-08-25T06:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95315",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:22'></a>
Thanks !

Okay with your cosmetics (notwithstanding the fact that I do not grasp their rationale) ==> `positive_review`.



---

archive/issue_events_077549.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-25T06:48:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77549"
}
```



---

archive/issue_events_077550.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2021-08-25T06:48:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77550"
}
```



---

archive/issue_comments_095316.json:
```json
{
    "body": "<a id='comment:23'></a>\nThank you.\n\nMost of them are formatting corrections, so after a `::` is needed to be indented (which becomes code) and the corresponding text needs to be at the base level. If something is followed by text, then it should be a single colon `:`. Convention says we should start docstrings with `Return` not `Returns`, and a few other small tweaks for that and PEP8.",
    "created_at": "2021-08-25T09:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95316",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>
Thank you.

Most of them are formatting corrections, so after a `::` is needed to be indented (which becomes code) and the corresponding text needs to be at the base level. If something is followed by text, then it should be a single colon `:`. Convention says we should start docstrings with `Return` not `Returns`, and a few other small tweaks for that and PEP8.



---

archive/issue_events_077551.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-08-31T22:01:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77551"
}
```



---

archive/issue_events_077552.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-08-31T22:01:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10038#event-77552"
}
```



---

archive/issue_comments_095317.json:
```json
{
    "body": "**Changing branch** from \"[u/tscrim/demoivre_exp-10038](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/demoivre_exp-10038)\" to \"[e913beec4fbb65fb228923581aa47513e8bc7ef5](https://github.com/sagemath/sagetrac-mirror/commit/e913beec4fbb65fb228923581aa47513e8bc7ef5)\".",
    "created_at": "2021-08-31T22:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10038",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10038#issuecomment-95317",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/tscrim/demoivre_exp-10038](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/demoivre_exp-10038)" to "[e913beec4fbb65fb228923581aa47513e8bc7ef5](https://github.com/sagemath/sagetrac-mirror/commit/e913beec4fbb65fb228923581aa47513e8bc7ef5)".
