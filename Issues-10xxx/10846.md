# Issue 10846: Conversion of PowerSeries -> SR bug

archive/issues_010780.json:
```json
{
    "body": "If I convert a powerseries into the symbolic ring, it does not have any variables.\n\n```\nsage: R.<x> = PowerSeriesRing(QQ)\nsage: s = R([1,2,3,4,5],prec=10)\nsage: s\n1 + 2*x + 3*x^2 + 4*x^3 + 5*x^4 + O(x^10)\nsage: SR(s)\n1 + 2*x + 3*x^2 + 4*x^3 + 5*x^4 + O(x^10)\nsage: SR(s).variables()\n()\n```\nRunning simplify() fixes it:\n\n```\nsage: SR(s).simplify().variables()\n(x,)\n```\n\n**Assignee:** @burcin\n\n**Branch/Commit:** [26df71b66563b3785d8180412f5979a62f1ba0c1](https://github.com/sagemath/sagetrac-mirror/commit/26df71b66563b3785d8180412f5979a62f1ba0c1)\n\n**Reviewer:** Volker Braun\n\n**Author:** Ralf Stephan\n\nIssue created by migration from https://trac.sagemath.org/ticket/10846\n\n",
    "closed_at": "2015-04-14T19:44:25Z",
    "created_at": "2011-02-24T18:30:19Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Conversion of PowerSeries -> SR bug",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10846",
    "user": "https://github.com/vbraun"
}
```
If I convert a powerseries into the symbolic ring, it does not have any variables.

```
sage: R.<x> = PowerSeriesRing(QQ)
sage: s = R([1,2,3,4,5],prec=10)
sage: s
1 + 2*x + 3*x^2 + 4*x^3 + 5*x^4 + O(x^10)
sage: SR(s)
1 + 2*x + 3*x^2 + 4*x^3 + 5*x^4 + O(x^10)
sage: SR(s).variables()
()
```
Running simplify() fixes it:

```
sage: SR(s).simplify().variables()
(x,)
```

**Assignee:** @burcin

**Branch/Commit:** [26df71b66563b3785d8180412f5979a62f1ba0c1](https://github.com/sagemath/sagetrac-mirror/commit/26df71b66563b3785d8180412f5979a62f1ba0c1)

**Reviewer:** Volker Braun

**Author:** Ralf Stephan

Issue created by migration from https://trac.sagemath.org/ticket/10846





---

archive/issue_comments_133832.json:
```json
{
    "body": "<a id='comment:1'></a>\nA possibly related bug is Trac #9769: Coercon problems to symbolic ring",
    "created_at": "2011-02-24T20:26:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133832",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:1'></a>
A possibly related bug is Trac #9769: Coercon problems to symbolic ring



---

archive/issue_events_033067.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10846#event-33067"
}
```



---

archive/issue_events_033068.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10846#event-33068"
}
```



---

archive/issue_events_033069.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10846#event-33069"
}
```



---

archive/issue_events_033070.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10846#event-33070"
}
```



---

archive/issue_events_033071.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10846#event-33071"
}
```



---

archive/issue_events_033072.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10846#event-33072"
}
```



---

archive/issue_events_033073.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10846#event-33073"
}
```



---

archive/issue_comments_133833.json:
```json
{
    "body": "**Branch:** [u/rws/conversion_of_powerseries____sr_bug](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/conversion_of_powerseries____sr_bug)",
    "created_at": "2015-01-17T08:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133833",
    "user": "https://github.com/rwst"
}
```

**Branch:** [u/rws/conversion_of_powerseries____sr_bug](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/conversion_of_powerseries____sr_bug)



---

archive/issue_comments_133834.json:
```json
{
    "body": "**Author:** Ralf Stephan",
    "created_at": "2015-01-17T08:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133834",
    "user": "https://github.com/rwst"
}
```

**Author:** Ralf Stephan



---

archive/issue_comments_133835.json:
```json
{
    "body": "**Commit:** [99916f9b08354e99489d59858311bf57f342c24b](https://github.com/sagemath/sagetrac-mirror/commit/99916f9b08354e99489d59858311bf57f342c24b)",
    "created_at": "2015-01-17T08:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133835",
    "user": "https://github.com/rwst"
}
```

**Commit:** [99916f9b08354e99489d59858311bf57f342c24b](https://github.com/sagemath/sagetrac-mirror/commit/99916f9b08354e99489d59858311bf57f342c24b)



---

archive/issue_comments_133836.json:
```json
{
    "body": "<a id='comment:7'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99916f9b08354e99489d59858311bf57f342c24b\">99916f9</a></td><td><code>10846: fix conversion of power series to symbolic series</code></td></tr></table>\n",
    "created_at": "2015-01-17T08:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133836",
    "user": "https://github.com/rwst"
}
```

<a id='comment:7'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99916f9b08354e99489d59858311bf57f342c24b">99916f9</a></td><td><code>10846: fix conversion of power series to symbolic series</code></td></tr></table>




---

archive/issue_comments_133837.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2015-01-17T08:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133837",
    "user": "https://github.com/rwst"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_133838.json:
```json
{
    "body": "<a id='comment:8'></a>\nDeleted.",
    "created_at": "2015-01-17T15:07:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133838",
    "user": "https://github.com/rwst"
}
```

<a id='comment:8'></a>
Deleted.



---

archive/issue_comments_133839.json:
```json
{
    "body": "<a id='comment:9'></a>\nNote that GiNaC will not add an order term to series from polynomials even if requested. I would consider this a bug. The reason is that pseries are formal, anyway, so they should be fully manipulatable.\n\nThis restriction can be circumvented with a simple trick.",
    "created_at": "2015-01-23T09:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133839",
    "user": "https://github.com/rwst"
}
```

<a id='comment:9'></a>
Note that GiNaC will not add an order term to series from polynomials even if requested. I would consider this a bug. The reason is that pseries are formal, anyway, so they should be fully manipulatable.

This restriction can be circumvented with a simple trick.



---

archive/issue_comments_133840.json:
```json
{
    "body": "**Changing commit** from \"[99916f9b08354e99489d59858311bf57f342c24b](https://github.com/sagemath/sagetrac-mirror/commit/99916f9b08354e99489d59858311bf57f342c24b)\" to \"[26df71b66563b3785d8180412f5979a62f1ba0c1](https://github.com/sagemath/sagetrac-mirror/commit/26df71b66563b3785d8180412f5979a62f1ba0c1)\".",
    "created_at": "2015-01-23T09:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133840",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[99916f9b08354e99489d59858311bf57f342c24b](https://github.com/sagemath/sagetrac-mirror/commit/99916f9b08354e99489d59858311bf57f342c24b)" to "[26df71b66563b3785d8180412f5979a62f1ba0c1](https://github.com/sagemath/sagetrac-mirror/commit/26df71b66563b3785d8180412f5979a62f1ba0c1)".



---

archive/issue_comments_133841.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26df71b66563b3785d8180412f5979a62f1ba0c1\">26df71b</a></td><td><code>10846: handle order term correctly</code></td></tr></table>\n",
    "created_at": "2015-01-23T09:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133841",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26df71b66563b3785d8180412f5979a62f1ba0c1">26df71b</a></td><td><code>10846: handle order term correctly</code></td></tr></table>




---

archive/issue_comments_133842.json:
```json
{
    "body": "<a id='comment:11'></a>\nPasses all tests in a 6.5 patchbot run.",
    "created_at": "2015-03-30T06:46:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133842",
    "user": "https://github.com/rwst"
}
```

<a id='comment:11'></a>
Passes all tests in a 6.5 patchbot run.



---

archive/issue_comments_133843.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2015-03-30T08:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133843",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_133844.json:
```json
{
    "body": "**Reviewer:** Volker Braun",
    "created_at": "2015-03-30T08:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133844",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Volker Braun



---

archive/issue_comments_133845.json:
```json
{
    "body": "<a id='comment:13'></a>\nFollowup in #18094 which uncovers a bug with bigoh handling.",
    "created_at": "2015-04-01T06:43:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133845",
    "user": "https://github.com/rwst"
}
```

<a id='comment:13'></a>
Followup in #18094 which uncovers a bug with bigoh handling.



---

archive/issue_comments_133846.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/conversion_of_powerseries____sr_bug](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/conversion_of_powerseries____sr_bug)\" to \"[26df71b66563b3785d8180412f5979a62f1ba0c1](https://github.com/sagemath/sagetrac-mirror/commit/26df71b66563b3785d8180412f5979a62f1ba0c1)\".",
    "created_at": "2015-04-14T19:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10846#issuecomment-133846",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/rws/conversion_of_powerseries____sr_bug](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/conversion_of_powerseries____sr_bug)" to "[26df71b66563b3785d8180412f5979a62f1ba0c1](https://github.com/sagemath/sagetrac-mirror/commit/26df71b66563b3785d8180412f5979a62f1ba0c1)".



---

archive/issue_events_033074.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T19:44:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10846",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10846#event-33074"
}
```
