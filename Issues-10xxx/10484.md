# Issue 10484: Chinese remainder code raises an error when called with Python ints

archive/issues_010431.json:
```json
{
    "body": "Lots of the congruence subgroup code works intensively with small integers, and represents these as Python ints rather than Sage integers for speed reasons. This brought to light the following irritating bug:\n\n```\nsage: crt(int(2), int(3), int(5), int(7))\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n\n/storage/masiao/sage-4.6.1.alpha3/devel/sage-reviewing/<ipython console> in <module>()\n\n/usr/local/sage/sage-4.6/local/lib/python2.6/site-packages/sage/rings/arith.pyc in crt(a, b, m, n)\n   2737         return CRT_list(a, b)\n   2738     g, alpha, beta = XGCD(m, n)\n-> 2739     q, r = (b - a).quo_rem(g)\n   2740     if r != 0:\n   2741         raise ValueError(\"No solution to crt problem since gcd(%s,%s) does not divide %s-%s\" % (m, n, a, b))\n\nAttributeError: 'int' object has no attribute 'quo_rem'\n```\n\nAssignee: @williamstein\n\nKeywords: CRT\n\nResolution: fixed\n\nAuthor: David Loeffler\n\nReviewer: Robert Bradshaw, Mike Hansen\n\nMerged: sage-4.6.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/10484\n\n",
    "closed_at": "2011-01-12T06:40:22Z",
    "created_at": "2010-12-16T15:12:50Z",
    "labels": [
        "component: number theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6.2",
    "title": "Chinese remainder code raises an error when called with Python ints",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10484",
    "user": "https://github.com/loefflerd"
}
```
Lots of the congruence subgroup code works intensively with small integers, and represents these as Python ints rather than Sage integers for speed reasons. This brought to light the following irritating bug:

```
sage: crt(int(2), int(3), int(5), int(7))
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)

/storage/masiao/sage-4.6.1.alpha3/devel/sage-reviewing/<ipython console> in <module>()

/usr/local/sage/sage-4.6/local/lib/python2.6/site-packages/sage/rings/arith.pyc in crt(a, b, m, n)
   2737         return CRT_list(a, b)
   2738     g, alpha, beta = XGCD(m, n)
-> 2739     q, r = (b - a).quo_rem(g)
   2740     if r != 0:
   2741         raise ValueError("No solution to crt problem since gcd(%s,%s) does not divide %s-%s" % (m, n, a, b))

AttributeError: 'int' object has no attribute 'quo_rem'
```

Assignee: @williamstein

Keywords: CRT

Resolution: fixed

Author: David Loeffler

Reviewer: Robert Bradshaw, Mike Hansen

Merged: sage-4.6.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/10484





---

archive/issue_comments_129716.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-12-16T15:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129716",
    "user": "https://github.com/loefflerd"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_129717.json:
```json
{
    "body": "Changing author from \"\" to \"David Loeffler\"",
    "created_at": "2010-12-16T15:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129717",
    "user": "https://github.com/loefflerd"
}
```

Changing author from "" to "David Loeffler"



---

archive/issue_comments_129718.json:
```json
{
    "body": "<a id='comment:1'></a>\nHere's a tiny little patch (one line, one comment, one doctest).",
    "created_at": "2010-12-16T15:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129718",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:1'></a>
Here's a tiny little patch (one line, one comment, one doctest).



---

archive/issue_comments_129719.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-12-16T16:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129719",
    "user": "https://github.com/robertwb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_129720.json:
```json
{
    "body": "<a id='comment:3'></a>\nShouldn't you use `Integer(a)` instead of `ZZ(a)` since it's about 3.5 times faster (on boxen)?",
    "created_at": "2010-12-16T19:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129720",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:3'></a>
Shouldn't you use `Integer(a)` instead of `ZZ(a)` since it's about 3.5 times faster (on boxen)?



---

archive/issue_comments_129721.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2010-12-16T19:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129721",
    "user": "https://github.com/mwhansen"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_129722.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Robert  Bradshaw, Mike Hansen\"",
    "created_at": "2010-12-16T19:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129722",
    "user": "https://github.com/mwhansen"
}
```

Changing reviewer from "" to "Robert  Bradshaw, Mike Hansen"



---

archive/issue_comments_129723.json:
```json
{
    "body": "new version",
    "created_at": "2010-12-16T20:07:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129723",
    "user": "https://github.com/loefflerd"
}
```

new version



---

archive/issue_comments_129724.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2010-12-16T20:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129724",
    "user": "https://github.com/loefflerd"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_129725.json:
```json
{
    "body": "<a id='comment:4'></a>\nAttachment [trac_10484-crt_bug.2.patch](tarball://root/attachments/some-uuid/ticket10484/trac_10484-crt_bug.2.patch) by @loefflerd created at 2010-12-16 20:08:31\n\nHere's a new patch using Integer. Sorry, I meant to overwrite the original patch -- apply only the second one.",
    "created_at": "2010-12-16T20:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129725",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:4'></a>
Attachment [trac_10484-crt_bug.2.patch](tarball://root/attachments/some-uuid/ticket10484/trac_10484-crt_bug.2.patch) by @loefflerd created at 2010-12-16 20:08:31

Here's a new patch using Integer. Sorry, I meant to overwrite the original patch -- apply only the second one.



---

archive/issue_comments_129726.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks!",
    "created_at": "2010-12-16T21:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129726",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:5'></a>
Thanks!



---

archive/issue_comments_129727.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-12-16T21:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129727",
    "user": "https://github.com/mwhansen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_129728.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.6.2.alpha0\"",
    "created_at": "2011-01-12T06:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129728",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-4.6.2.alpha0"



---

archive/issue_comments_129729.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-01-12T06:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129729",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_026880.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-12T06:40:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10484#event-26880"
}
```



---

archive/issue_comments_129730.json:
```json
{
    "body": "Changing reviewer from \"Robert  Bradshaw, Mike Hansen\" to \"Robert Bradshaw, Mike Hansen\"",
    "created_at": "2011-02-28T09:53:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10484#issuecomment-129730",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "Robert  Bradshaw, Mike Hansen" to "Robert Bradshaw, Mike Hansen"
