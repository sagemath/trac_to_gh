# Issue 10817: implementation of the generalized associahedron as a polyhedral complex

archive/issues_010751.json:
```json
{
    "body": "The patch contains the implementation of the generalized associahedron, as constructed in [CFZ] Chapoton, Fomin, Zelevinsky - Polytopal realizations of the generalized associahedra, http://arxiv.org/abs/math/0202004.\n\n```\nsage: Associahedron(['A',3])\nGeneralized associahedron of type ['A', 3] with 14 vertices\n```\n\nThe class inherits from Polyhedra, and uses several new methods for root spaces:\n\n- `RootLatticeRealization`.index_bipartition, returns the bipartition of the indices of the Dynkin diagram vertices, if it is bipartite\n\n- `RootLatticeRealization`.almost_positive_roots, returns the sorted list of positive and simple negative roots\n\n- `RootLatticeRealization`.tau_plus_minus, returns two piecewise linear operators on the root space which are used to define the \"tropical Coxeter element\" in [CFZ]\n\n- `RootLatticeRealization`.almost_positive_root_decomposition, returns the orbit decomposition of the almost positive roots under the dihedral group action of < tau_plus, tau_minus > as defined above\n\nKeywords: associahedra\n\nResolution: fixed\n\nAuthor: Christian Stump\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton, Nicolas M. Thi\u00e9ry\n\nMerged: sage-5.0.beta8\n\nIssue created by migration from https://trac.sagemath.org/ticket/10817\n\n",
    "closed_at": "2012-03-13T08:22:07Z",
    "created_at": "2011-02-21T22:25:24Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "implementation of the generalized associahedron as a polyhedral complex",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10817",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```
The patch contains the implementation of the generalized associahedron, as constructed in [CFZ] Chapoton, Fomin, Zelevinsky - Polytopal realizations of the generalized associahedra, http://arxiv.org/abs/math/0202004.

```
sage: Associahedron(['A',3])
Generalized associahedron of type ['A', 3] with 14 vertices
```

The class inherits from Polyhedra, and uses several new methods for root spaces:

- `RootLatticeRealization`.index_bipartition, returns the bipartition of the indices of the Dynkin diagram vertices, if it is bipartite

- `RootLatticeRealization`.almost_positive_roots, returns the sorted list of positive and simple negative roots

- `RootLatticeRealization`.tau_plus_minus, returns two piecewise linear operators on the root space which are used to define the "tropical Coxeter element" in [CFZ]

- `RootLatticeRealization`.almost_positive_root_decomposition, returns the orbit decomposition of the almost positive roots under the dihedral group action of < tau_plus, tau_minus > as defined above

Keywords: associahedra

Resolution: fixed

Author: Christian Stump

Reviewer: Frédéric Chapoton, Nicolas M. Thiéry

Merged: sage-5.0.beta8

Issue created by migration from https://trac.sagemath.org/ticket/10817





---

archive/issue_comments_137296.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-02-24T14:36:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137296",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_137297.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,21 @@\n-The patch contains the implementation of the generalized associahedron, as constructed in Chapoton, Fomin, Zelevinsky - Polytopal realizations of the generalized associahedra, http://arxiv.org/abs/math/0202004.\n+The patch contains the implementation of the generalized associahedron, as constructed in [CFZ] Chapoton, Fomin, Zelevinsky - Polytopal realizations of the generalized associahedra, http://arxiv.org/abs/math/0202004.\n \n ```\n sage: Associahedron(['A',3])\n Generalized associahedron of type ['A', 3] with 14 vertices\n ```\n \n-The class inherits from Polyhedra, and uses several new methods for root spaces.\n+The class inherits from Polyhedra, and uses several new methods for root spaces:\n \n-Assignee: sage-combinat\n+- `RootLatticeRealization`.index_bipartition, returns the bipartition of the indices of the Dynkin diagram vertices, if it is bipartite\n+\n+- `RootLatticeRealization`.almost_positive_roots, returns the sorted list of positive and simple negative roots\n+\n+- `RootLatticeRealization`.tau_plus_minus, returns two piecewise linear operators on the root space which are used to define the \"tropical Coxeter element\" in [CFZ]\n+\n+- `RootLatticeRealization`.almost_positive_root_decomposition, returns the orbit decomposition of the almost positive roots under the dihedral group action of < tau_plus, tau_minus > as defined above\n+\n+Some documentation is still missing!\n \n Author: Christian Stump\n \n``````\n",
    "created_at": "2011-02-24T14:49:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137297",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,21 @@
-The patch contains the implementation of the generalized associahedron, as constructed in Chapoton, Fomin, Zelevinsky - Polytopal realizations of the generalized associahedra, http://arxiv.org/abs/math/0202004.
+The patch contains the implementation of the generalized associahedron, as constructed in [CFZ] Chapoton, Fomin, Zelevinsky - Polytopal realizations of the generalized associahedra, http://arxiv.org/abs/math/0202004.
 
 ```
 sage: Associahedron(['A',3])
 Generalized associahedron of type ['A', 3] with 14 vertices
 ```
 
-The class inherits from Polyhedra, and uses several new methods for root spaces.
+The class inherits from Polyhedra, and uses several new methods for root spaces:
 
-Assignee: sage-combinat
+- `RootLatticeRealization`.index_bipartition, returns the bipartition of the indices of the Dynkin diagram vertices, if it is bipartite
+
+- `RootLatticeRealization`.almost_positive_roots, returns the sorted list of positive and simple negative roots
+
+- `RootLatticeRealization`.tau_plus_minus, returns two piecewise linear operators on the root space which are used to define the "tropical Coxeter element" in [CFZ]
+
+- `RootLatticeRealization`.almost_positive_root_decomposition, returns the orbit decomposition of the almost positive roots under the dihedral group action of < tau_plus, tau_minus > as defined above
+
+Some documentation is still missing!
 
 Author: Christian Stump
 
``````




---

archive/issue_comments_137298.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,21 @@\n+The patch contains the implementation of the generalized associahedron, as constructed in [CFZ] Chapoton, Fomin, Zelevinsky - Polytopal realizations of the generalized associahedra, http://arxiv.org/abs/math/0202004.\n \n+```\n+sage: Associahedron(['A',3])\n+Generalized associahedron of type ['A', 3] with 14 vertices\n+```\n+\n+The class inherits from Polyhedra, and uses several new methods for root spaces:\n+\n+- `RootLatticeRealization`.index_bipartition, returns the bipartition of the indices of the Dynkin diagram vertices, if it is bipartite\n+\n+- `RootLatticeRealization`.almost_positive_roots, returns the sorted list of positive and simple negative roots\n+\n+- `RootLatticeRealization`.tau_plus_minus, returns two piecewise linear operators on the root space which are used to define the \"tropical Coxeter element\" in [CFZ]\n+\n+- `RootLatticeRealization`.almost_positive_root_decomposition, returns the orbit decomposition of the almost positive roots under the dihedral group action of < tau_plus, tau_minus > as defined above\n+\n+Apply only trac_10817-generalized_associahedra-cs.patch\n \n Author: Christian Stump\n \n``````\n",
    "created_at": "2011-06-08T19:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137298",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,21 @@
+The patch contains the implementation of the generalized associahedron, as constructed in [CFZ] Chapoton, Fomin, Zelevinsky - Polytopal realizations of the generalized associahedra, http://arxiv.org/abs/math/0202004.
 
+```
+sage: Associahedron(['A',3])
+Generalized associahedron of type ['A', 3] with 14 vertices
+```
+
+The class inherits from Polyhedra, and uses several new methods for root spaces:
+
+- `RootLatticeRealization`.index_bipartition, returns the bipartition of the indices of the Dynkin diagram vertices, if it is bipartite
+
+- `RootLatticeRealization`.almost_positive_roots, returns the sorted list of positive and simple negative roots
+
+- `RootLatticeRealization`.tau_plus_minus, returns two piecewise linear operators on the root space which are used to define the "tropical Coxeter element" in [CFZ]
+
+- `RootLatticeRealization`.almost_positive_root_decomposition, returns the orbit decomposition of the almost positive roots under the dihedral group action of < tau_plus, tau_minus > as defined above
+
+Apply only trac_10817-generalized_associahedra-cs.patch
 
 Author: Christian Stump
 
``````




---

archive/issue_comments_137299.json:
```json
{
    "body": "Remove assignee sage-combinat.",
    "created_at": "2011-06-10T17:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137299",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Remove assignee sage-combinat.



---

archive/issue_comments_137300.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#10538\"",
    "created_at": "2011-06-10T17:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137300",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing dependencies from "" to "#10538"



---

archive/issue_comments_137301.json:
```json
{
    "body": "<a id='comment:5'></a>As many files are touched in #11187, this \"depends\" on it to apply properly.",
    "created_at": "2011-06-10T17:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137301",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:5'></a>As many files are touched in #11187, this "depends" on it to apply properly.



---

archive/issue_comments_137302.json:
```json
{
    "body": "Changing dependencies from \"#10538\" to \"#11187\"",
    "created_at": "2011-06-10T17:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137302",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing dependencies from "#10538" to "#11187"



---

archive/issue_comments_137303.json:
```json
{
    "body": "<a id='comment:6'></a>Apply trac_10817-generalized_associahedra-cs.patch",
    "created_at": "2011-06-10T19:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137303",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>Apply trac_10817-generalized_associahedra-cs.patch



---

archive/issue_events_027913.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/stumpc5",
    "created_at": "2011-06-11T11:42:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10817#event-27913"
}
```



---

archive/issue_comments_137304.json:
```json
{
    "body": "<a id='comment:8'></a>Let us try without the dependency, which is not obviously needed.\n\nApply trac_10817-generalized_associahedra-cs.patch",
    "created_at": "2011-06-12T07:54:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137304",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>Let us try without the dependency, which is not obviously needed.

Apply trac_10817-generalized_associahedra-cs.patch



---

archive/issue_comments_137305.json:
```json
{
    "body": "Changing dependencies from \"#11187\" to \"\"",
    "created_at": "2011-06-12T07:54:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137305",
    "user": "https://github.com/fchapoton"
}
```

Changing dependencies from "#11187" to ""



---

archive/issue_comments_137306.json:
```json
{
    "body": "<a id='comment:9'></a>well, too bad, it does really depends on #11187",
    "created_at": "2011-06-12T07:56:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137306",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>well, too bad, it does really depends on #11187



---

archive/issue_comments_137307.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#11187\"",
    "created_at": "2011-06-12T07:56:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137307",
    "user": "https://github.com/fchapoton"
}
```

Changing dependencies from "" to "#11187"



---

archive/issue_comments_137308.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 chapoton]:\n> well, too bad, it does really depends on #11187\n\n\nI removed the dependencies so we can get it done without waiting for the other patch - Thanks for looking at it!",
    "created_at": "2011-06-12T13:30:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137308",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:10'></a>Replying to [comment:9 chapoton]:
> well, too bad, it does really depends on #11187


I removed the dependencies so we can get it done without waiting for the other patch - Thanks for looking at it!



---

archive/issue_comments_137309.json:
```json
{
    "body": "Changing dependencies from \"#11187\" to \"\"",
    "created_at": "2011-06-12T13:30:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137309",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing dependencies from "#11187" to ""



---

archive/issue_comments_137310.json:
```json
{
    "body": "<a id='comment:11'></a>Apply trac_10817-generalized_associahedra-cs.patch",
    "created_at": "2011-06-13T19:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137310",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>Apply trac_10817-generalized_associahedra-cs.patch



---

archive/issue_comments_137311.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,19 @@\n+The patch contains the implementation of the generalized associahedron, as constructed in [CFZ] Chapoton, Fomin, Zelevinsky - Polytopal realizations of the generalized associahedra, http://arxiv.org/abs/math/0202004.\n \n+```\n+sage: Associahedron(['A',3])\n+Generalized associahedron of type ['A', 3] with 14 vertices\n+```\n+\n+The class inherits from Polyhedra, and uses several new methods for root spaces:\n+\n+- `RootLatticeRealization`.index_bipartition, returns the bipartition of the indices of the Dynkin diagram vertices, if it is bipartite\n+\n+- `RootLatticeRealization`.almost_positive_roots, returns the sorted list of positive and simple negative roots\n+\n+- `RootLatticeRealization`.tau_plus_minus, returns two piecewise linear operators on the root space which are used to define the \"tropical Coxeter element\" in [CFZ]\n+\n+- `RootLatticeRealization`.almost_positive_root_decomposition, returns the orbit decomposition of the almost positive roots under the dihedral group action of < tau_plus, tau_minus > as defined above\n \n Author: Christian Stump\n \n``````\n",
    "created_at": "2011-06-14T15:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137311",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,19 @@
+The patch contains the implementation of the generalized associahedron, as constructed in [CFZ] Chapoton, Fomin, Zelevinsky - Polytopal realizations of the generalized associahedra, http://arxiv.org/abs/math/0202004.
 
+```
+sage: Associahedron(['A',3])
+Generalized associahedron of type ['A', 3] with 14 vertices
+```
+
+The class inherits from Polyhedra, and uses several new methods for root spaces:
+
+- `RootLatticeRealization`.index_bipartition, returns the bipartition of the indices of the Dynkin diagram vertices, if it is bipartite
+
+- `RootLatticeRealization`.almost_positive_roots, returns the sorted list of positive and simple negative roots
+
+- `RootLatticeRealization`.tau_plus_minus, returns two piecewise linear operators on the root space which are used to define the "tropical Coxeter element" in [CFZ]
+
+- `RootLatticeRealization`.almost_positive_root_decomposition, returns the orbit decomposition of the almost positive roots under the dihedral group action of < tau_plus, tau_minus > as defined above
 
 Author: Christian Stump
 
``````




---

archive/issue_events_027914.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/stumpc5",
    "created_at": "2011-06-14T15:17:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10817#event-27914"
}
```



---

archive/issue_events_027915.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/stumpc5",
    "created_at": "2011-06-14T15:17:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10817#event-27915"
}
```



---

archive/issue_events_027916.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/stumpc5",
    "created_at": "2011-06-16T21:41:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10817#event-27916"
}
```



---

archive/issue_events_027917.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/stumpc5",
    "created_at": "2011-06-16T21:41:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10817#event-27917"
}
```



---

archive/issue_comments_137312.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton, Nicolas M. Thi\u00e9ry\"",
    "created_at": "2012-02-23T12:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137312",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton, Nicolas M. Thiéry"



---

archive/issue_comments_137313.json:
```json
{
    "body": "<a id='comment:14'></a>A review has been done, and a reviewer patch follows soon.",
    "created_at": "2012-02-23T12:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137313",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'></a>A review has been done, and a reviewer patch follows soon.



---

archive/issue_comments_137314.json:
```json
{
    "body": "<a id='comment:15'></a>I just pushed the reviewer patch on the sage-combinat server; please check if you agree with it. I still want to have a last look, but this may not occur before next week (vacations here).\n\nCheers,\n                            Nicolas",
    "created_at": "2012-02-24T14:40:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137314",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:15'></a>I just pushed the reviewer patch on the sage-combinat server; please check if you agree with it. I still want to have a last look, but this may not occur before next week (vacations here).

Cheers,
                            Nicolas



---

archive/issue_comments_137315.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:15 nthiery]:\n> I just pushed the reviewer patch on the sage-combinat server; please check if you agree with it. I still want to have a last look, but this may not occur before next week (vacations here).\n\n\nOk, I finally could do it. The patch is on the queue. If you are happy with it, you may fold the two patches, upload them here, and set a positive review on my behalf.",
    "created_at": "2012-02-24T17:35:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137315",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:16'></a>Replying to [comment:15 nthiery]:
> I just pushed the reviewer patch on the sage-combinat server; please check if you agree with it. I still want to have a last look, but this may not occur before next week (vacations here).


Ok, I finally could do it. The patch is on the queue. If you are happy with it, you may fold the two patches, upload them here, and set a positive review on my behalf.



---

archive/issue_comments_137316.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-02-24T19:04:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137316",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_137317.json:
```json
{
    "body": "<a id='comment:17'></a>Thanks for the review -- you should add yourself as an author actually... .\n\nI set a positive review on Nicolas' behalf.\n\nBest, Christian",
    "created_at": "2012-02-24T19:04:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137317",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:17'></a>Thanks for the review -- you should add yourself as an author actually... .

I set a positive review on Nicolas' behalf.

Best, Christian



---

archive/issue_comments_137318.json:
```json
{
    "body": "<a id='comment:18'></a>For the record: all tests pass on 5.0 beta4, with the following patches applied:\n\n```\ntrac_11003-folded.patch\ntrac_10998-categories-posets-nt.patch\ntrac_11118-finite_enumset_list_cache-fh.patch\ntrac_11250-action_coerce_doc-fh.patch\ntrac_11257_avoid_coercion_power_zero-nb.patch\ntrac_12483-family-workaround_12482-nt.patch\ntrac_12464-free_module_classcall-fh.patch\ntrac_12490-trac_role-fh.patch\ntrac_10670_integral_mobius_matrix_for_posets-fh.patch\ntrac_11382-subposet_to_vertex_speedup-fh.patch\ntrac_12484-free_module-monomials_cmp-nt.patch\ntrac_12489-freemod_eq-nt.patch\ntrac_10347_is_skew_symmetrizable-cs.patch\ntrac_12476-lattice_join_matrix_speedup-fh.patch\ntrac_9469-category-membership_without_arguments-nt.patch\ntrac_10603-union_enumset_elconstr_fix-fh.patch\ntrac_12528_free_module-optimize-nt.patch\ntrac_10817-generalized_associahedra-cs.patch\ntrac_10817-generalized_associahedra-review-nt.patch\n```\n\nMost of the above patches are either orthogonal or already merged in beta5, so I assume the test pass without them too.",
    "created_at": "2012-02-24T22:54:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137318",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:18'></a>For the record: all tests pass on 5.0 beta4, with the following patches applied:

```
trac_11003-folded.patch
trac_10998-categories-posets-nt.patch
trac_11118-finite_enumset_list_cache-fh.patch
trac_11250-action_coerce_doc-fh.patch
trac_11257_avoid_coercion_power_zero-nb.patch
trac_12483-family-workaround_12482-nt.patch
trac_12464-free_module_classcall-fh.patch
trac_12490-trac_role-fh.patch
trac_10670_integral_mobius_matrix_for_posets-fh.patch
trac_11382-subposet_to_vertex_speedup-fh.patch
trac_12484-free_module-monomials_cmp-nt.patch
trac_12489-freemod_eq-nt.patch
trac_10347_is_skew_symmetrizable-cs.patch
trac_12476-lattice_join_matrix_speedup-fh.patch
trac_9469-category-membership_without_arguments-nt.patch
trac_10603-union_enumset_elconstr_fix-fh.patch
trac_12528_free_module-optimize-nt.patch
trac_10817-generalized_associahedra-cs.patch
trac_10817-generalized_associahedra-review-nt.patch
```

Most of the above patches are either orthogonal or already merged in beta5, so I assume the test pass without them too.



---

archive/issue_comments_137319.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:17 stumpc5]:\n> Thanks for the review -- you should add yourself as an author actually... .\n\n\nBah, just my reviewer's job. You drove this patch through!",
    "created_at": "2012-02-24T22:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137319",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:19'></a>Replying to [comment:17 stumpc5]:
> Thanks for the review -- you should add yourself as an author actually... .


Bah, just my reviewer's job. You drove this patch through!



---

archive/issue_comments_137320.json:
```json
{
    "body": "<a id='comment:20'></a>There is a doctest failure on hawk (OpenSolaris 06.2009-32):\n\n```\n**********************************************************************\nFile \"/export/home/buildbot/build/sage/hawk-1/hawk_full/build/sage-5.0.beta6/devel/sage-main/sage/combinat/root_system/associahedron.py\", line 43:\n    sage: sorted(Asso.Hrepresentation())\nExpected:\n    [An inequality (-1, 0) x + 1 >= 0, An inequality (1, 0) x + 1 >= 0, An inequality (1, 1) x + 1 >= 0, An inequality (0, 1) x + 1 >= 0, An inequality (0, -1) x + 1 >= 0]\nGot:\n    [An inequality (0, -1) x + 1 >= 0, An inequality (1, 1) x + 1 >= 0, An inequality (1, 0) x + 1 >= 0, An inequality (0, 1) x + 1 >= 0, An inequality (-1, 0) x + 1 >= 0]\n**********************************************************************\n```",
    "created_at": "2012-02-26T22:13:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137320",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>There is a doctest failure on hawk (OpenSolaris 06.2009-32):

```
**********************************************************************
File "/export/home/buildbot/build/sage/hawk-1/hawk_full/build/sage-5.0.beta6/devel/sage-main/sage/combinat/root_system/associahedron.py", line 43:
    sage: sorted(Asso.Hrepresentation())
Expected:
    [An inequality (-1, 0) x + 1 >= 0, An inequality (1, 0) x + 1 >= 0, An inequality (1, 1) x + 1 >= 0, An inequality (0, 1) x + 1 >= 0, An inequality (0, -1) x + 1 >= 0]
Got:
    [An inequality (0, -1) x + 1 >= 0, An inequality (1, 1) x + 1 >= 0, An inequality (1, 0) x + 1 >= 0, An inequality (0, 1) x + 1 >= 0, An inequality (-1, 0) x + 1 >= 0]
**********************************************************************
```



---

archive/issue_comments_137321.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-02-26T22:13:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137321",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_137322.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:20 jdemeyer]:\n> There is a doctest failure on hawk (OpenSolaris 06.2009-32):\n\n{{{\n    sage: sorted(Asso.Hrepresentation())\n}}}\n\nThe buildbot doesn't find the failure, and the list has actually the same content. So the problem must be something with the cmp of inequalities.\n\nI wouldn't know how to fix that in this patch actually.\n\nBest, Christian",
    "created_at": "2012-02-27T08:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137322",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:21'></a>Replying to [comment:20 jdemeyer]:
> There is a doctest failure on hawk (OpenSolaris 06.2009-32):

{{{
    sage: sorted(Asso.Hrepresentation())
}}}

The buildbot doesn't find the failure, and the list has actually the same content. So the problem must be something with the cmp of inequalities.

I wouldn't know how to fix that in this patch actually.

Best, Christian



---

archive/issue_comments_137323.json:
```json
{
    "body": "<a id='comment:22'></a>On Cicero (Linux i386):\n\n```\n**********************************************************************\nFile \"/home/buildbot/build/sage/cicero-1/cicero_full/build/sage-5.0.beta6/devel/sage-main/sage/combinat/root_system/associahedron.py\", line 43:\n    sage: sorted(Asso.Hrepresentation())\nExpected:\n    [An inequality (-1, 0) x + 1 >= 0, An inequality (1, 0) x + 1 >= 0, An inequality (1, 1) x + 1 >= 0, An inequality (0, 1) x + 1 >= 0, An inequality (0, -1) x + 1 >= 0]\nGot:\n    [An inequality (0, 1) x + 1 >= 0, An inequality (-1, 0) x + 1 >= 0, An inequality (1, 0) x + 1 >= 0, An inequality (0, -1) x + 1 >= 0, An inequality (1, 1) x + 1 >= 0]\n**********************************************************************\n```",
    "created_at": "2012-02-27T11:16:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137323",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>On Cicero (Linux i386):

```
**********************************************************************
File "/home/buildbot/build/sage/cicero-1/cicero_full/build/sage-5.0.beta6/devel/sage-main/sage/combinat/root_system/associahedron.py", line 43:
    sage: sorted(Asso.Hrepresentation())
Expected:
    [An inequality (-1, 0) x + 1 >= 0, An inequality (1, 0) x + 1 >= 0, An inequality (1, 1) x + 1 >= 0, An inequality (0, 1) x + 1 >= 0, An inequality (0, -1) x + 1 >= 0]
Got:
    [An inequality (0, 1) x + 1 >= 0, An inequality (-1, 0) x + 1 >= 0, An inequality (1, 0) x + 1 >= 0, An inequality (0, -1) x + 1 >= 0, An inequality (1, 1) x + 1 >= 0]
**********************************************************************
```



---

archive/issue_comments_137324.json:
```json
{
    "body": "<a id='comment:23'></a>Replying to [comment:22 jdemeyer]:\n\nI updated the patch with this order in the sorted list of inequalities.\n\nBut now I see that the two machines you are using sort this list differently - in particular, we have no chance to get no failure on any of the two machines you used...\n\nAny suggestions?",
    "created_at": "2012-02-27T13:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137324",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:23'></a>Replying to [comment:22 jdemeyer]:

I updated the patch with this order in the sorted list of inequalities.

But now I see that the two machines you are using sort this list differently - in particular, we have no chance to get no failure on any of the two machines you used...

Any suggestions?



---

archive/issue_comments_137325.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:23 stumpc5]:\n> But now I see that the two machines you are using sort this list differently - in particular, we have no chance to get no failure on any of the two machines you used...\n> \n> Any suggestions?\n\n\nWhat about:\n\n```\n    sage: sorted(Asso.Hrepresentation(), key=repr)\n    [An inequality (-1, 0) x + 1 >= 0, An inequality (0, -1) x + 1 >= 0, An inequality (0, 1) x + 1 >= 0, An inequality (1, 0) x + 1 >= 0, An inequality (1, 1) x + 1 >= 0]\n```\n\nThen the result should be sorted according to their string\nrepresentation, and string comparison should be platform independent.",
    "created_at": "2012-03-06T12:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137325",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:24'></a>Replying to [comment:23 stumpc5]:
> But now I see that the two machines you are using sort this list differently - in particular, we have no chance to get no failure on any of the two machines you used...
> 
> Any suggestions?


What about:

```
    sage: sorted(Asso.Hrepresentation(), key=repr)
    [An inequality (-1, 0) x + 1 >= 0, An inequality (0, -1) x + 1 >= 0, An inequality (0, 1) x + 1 >= 0, An inequality (1, 0) x + 1 >= 0, An inequality (1, 1) x + 1 >= 0]
```

Then the result should be sorted according to their string
representation, and string comparison should be platform independent.



---

archive/issue_comments_137326.json:
```json
{
    "body": "Attachment [trac_10817-generalized_associahedra-cs.patch](tarball://root/attachments/some-uuid/ticket10817/trac_10817-generalized_associahedra-cs.patch) by stumpc5 created at 2012-03-07 08:18:16",
    "created_at": "2012-03-07T08:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137326",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Attachment [trac_10817-generalized_associahedra-cs.patch](tarball://root/attachments/some-uuid/ticket10817/trac_10817-generalized_associahedra-cs.patch) by stumpc5 created at 2012-03-07 08:18:16



---

archive/issue_comments_137327.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:24 nthiery]:\n> Replying to [comment:23 stumpc5]:\n> Then the result should be sorted according to their string\n> representation, and string comparison should be platform independent.\n\n\nDone - how can I know that string representations should be platform independent and some others aren't?\n\nThanks! Christian",
    "created_at": "2012-03-07T08:21:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137327",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:25'></a>Replying to [comment:24 nthiery]:
> Replying to [comment:23 stumpc5]:
> Then the result should be sorted according to their string
> representation, and string comparison should be platform independent.


Done - how can I know that string representations should be platform independent and some others aren't?

Thanks! Christian



---

archive/issue_comments_137328.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-03-07T08:21:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137328",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_137329.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:25 stumpc5]:\n> Replying to [comment:24 nthiery]:\n> > Replying to [comment:23 stumpc5]:\n> > Then the result should be sorted according to their string\n> > representation, and string comparison should be platform independent.\n\n> \n> Done\n\n\nThanks! Positive review, assuming the tests pass.\n\n> how can I know that string representations should be platform independent and some others aren't?\n\n\nBecause:\n\n- I am amost certain that Python compares strings lexicographically (it does for e.g. tuples; see http://docs.python.org/library/stdtypes.html; it's certainly specified somewhere for strings too)\n- The Inequality class implements _repr_ independently of the platform\n- On the other hand, this class does not implement __cmp__, so its behavior is unspecified. And likely to be platform dependent.",
    "created_at": "2012-03-07T09:54:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137329",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:26'></a>Replying to [comment:25 stumpc5]:
> Replying to [comment:24 nthiery]:
> > Replying to [comment:23 stumpc5]:
> > Then the result should be sorted according to their string
> > representation, and string comparison should be platform independent.

> 
> Done


Thanks! Positive review, assuming the tests pass.

> how can I know that string representations should be platform independent and some others aren't?


Because:

- I am amost certain that Python compares strings lexicographically (it does for e.g. tuples; see http://docs.python.org/library/stdtypes.html; it's certainly specified somewhere for strings too)
- The Inequality class implements _repr_ independently of the platform
- On the other hand, this class does not implement __cmp__, so its behavior is unspecified. And likely to be platform dependent.



---

archive/issue_comments_137330.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-03-07T09:54:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137330",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_137331.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:26 nthiery]:\n> Thanks! Positive review, assuming the tests pass.\n\n\nThe buildbot somehow doesn't like the test\n\n```\nfor root in L.almost_positive_roots():\n         print 'tau({:<41}) ='.format(root), tau(root)\n```\n\nI guess, you added it, didn't you? On my 5.0.beta6, it passed though.\n\nBest, Christian",
    "created_at": "2012-03-07T11:08:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137331",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

<a id='comment:27'></a>Replying to [comment:26 nthiery]:
> Thanks! Positive review, assuming the tests pass.


The buildbot somehow doesn't like the test

```
for root in L.almost_positive_roots():
         print 'tau({:<41}) ='.format(root), tau(root)
```

I guess, you added it, didn't you? On my 5.0.beta6, it passed though.

Best, Christian



---

archive/issue_comments_137332.json:
```json
{
    "body": "<a id='comment:28'></a>Replying to [comment:27 stumpc5]:\n> Replying to [comment:26 nthiery]:\n> > Thanks! Positive review, assuming the tests pass.\n\n> \n> The buildbot somehow doesn't like the test\n> \n> \n> ```\n> for root in L.almost_positive_roots():\n>          print 'tau({:<41}) ='.format(root), tau(root)\n> ```\n> \n> I guess, you added it, didn't you? On my 5.0.beta6, it passed though.\n\n\nIndeed.\n\nPython has been upgraded to 2.7 in Sage 5.0. I guess this syntax for format was not yet supported in Python 2.6. Let's just wait for the buildbot to run on 5.0.",
    "created_at": "2012-03-07T11:25:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137332",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:28'></a>Replying to [comment:27 stumpc5]:
> Replying to [comment:26 nthiery]:
> > Thanks! Positive review, assuming the tests pass.

> 
> The buildbot somehow doesn't like the test
> 
> 
> ```
> for root in L.almost_positive_roots():
>          print 'tau({:<41}) ='.format(root), tau(root)
> ```
> 
> I guess, you added it, didn't you? On my 5.0.beta6, it passed though.


Indeed.

Python has been upgraded to 2.7 in Sage 5.0. I guess this syntax for format was not yet supported in Python 2.6. Let's just wait for the buildbot to run on 5.0.



---

archive/issue_events_027918.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-13T08:22:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10817#event-27918"
}
```



---

archive/issue_comments_137333.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.0.beta8\"",
    "created_at": "2012-03-13T08:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137333",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.0.beta8"



---

archive/issue_comments_137334.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-03-13T08:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10817#issuecomment-137334",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
