# Issue 10620: Upgrade Sphinx to version 1.1.2

archive/issues_010567.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-mvngu"
    ],
    "body": "Just made a spkg and a change to sage_autodoc in order to upgrade sphinx to the latest version. Spkg and patch attached. \n\n---\n\nNew spkg:\n\n- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg)\n\nApply\n\n- [attachment: trac_10620-scripts-hgignore.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-scripts-hgignore.patch.gz) to the scripts repo\n- [attachment: trac_10620-sageinspect.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sageinspect.patch.gz) to the main Sage library\n- [attachment: trac_10620-sagenb-sageinspect.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sagenb-sageinspect.patch.gz) to the sagenb repo\n\n\nCC:  @jasongrout @hivert\n\nKeywords: **sphinx upgrade spkg autodoc**\n\nComponent: **packages: standard**\n\nAuthor: **John Palmieri**\n\nReviewer: **Jeroen Demeyer**\n\nMerged: **sage-4.8.alpha2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10620_\n\n",
    "closed_at": "2011-11-14T17:31:48Z",
    "created_at": "2011-01-13T07:44:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade Sphinx to version 1.1.2",
    "type": "issue",
    "updated_at": "2011-11-14T17:31:48Z",
    "url": "https://github.com/sagemath/sage/issues/10620",
    "user": "https://github.com/sagetrac-davidm"
}
```
Just made a spkg and a change to sage_autodoc in order to upgrade sphinx to the latest version. Spkg and patch attached. 

---

New spkg:

- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg)

Apply

- [attachment: trac_10620-scripts-hgignore.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-scripts-hgignore.patch.gz) to the scripts repo
- [attachment: trac_10620-sageinspect.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sageinspect.patch.gz) to the main Sage library
- [attachment: trac_10620-sagenb-sageinspect.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sagenb-sageinspect.patch.gz) to the sagenb repo


CC:  @jasongrout @hivert

Keywords: **sphinx upgrade spkg autodoc**

Component: **packages: standard**

Author: **John Palmieri**

Reviewer: **Jeroen Demeyer**

Merged: **sage-4.8.alpha2**

_Issue created by migration from https://trac.sagemath.org/ticket/10620_





---

archive/issue_events_140572.json:
```json
{
    "actor": "https://github.com/sagetrac-davidm",
    "created_at": "2011-01-13T07:44:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140572"
}
```



---

archive/issue_events_140573.json:
```json
{
    "actor": "https://github.com/sagetrac-davidm",
    "created_at": "2011-01-13T07:44:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140573"
}
```



---

archive/issue_events_140574.json:
```json
{
    "actor": "https://github.com/sagetrac-davidm",
    "created_at": "2011-01-13T07:44:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140574"
}
```



---

archive/issue_events_140575.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2011-01-13T07:44:53Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "subject": "https://github.com/sagetrac-davidm",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140575"
}
```



---

archive/issue_comments_101432.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[sage_autodoc.patch.gz](https://github.com/sagemath/sage/files/ticket10620/sage_autodoc.patch.gz)**\n\nIn 4.6.1, Sphinx was upgraded to 1.0.4.  Any new spkg should be based on the one found in #10350.",
    "created_at": "2011-01-13T09:07:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101432",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[sage_autodoc.patch.gz](https://github.com/sagemath/sage/files/ticket10620/sage_autodoc.patch.gz)**

In 4.6.1, Sphinx was upgraded to 1.0.4.  Any new spkg should be based on the one found in #10350.



---

archive/issue_events_140576.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2011-01-13T11:10:16Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "title_is": "Upgrade sphinx-1.0.4.p5 to sphinx-1.0.6",
    "title_was": "Upgrade sphinx-0.9.6.p4 to sphinx-1.0.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140576"
}
```



---

archive/issue_events_140577.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2011-01-13T11:10:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "milestone_number": null,
    "milestone_title": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140577"
}
```



---

archive/issue_events_140578.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-04-27T15:06:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140578"
}
```



---

archive/issue_comments_101433.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nShould this ticket be set to \"needs review\"?\n\nI guess by now sphinx 1.0.7 is released.",
    "created_at": "2011-04-27T15:06:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101433",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:4" align="right">comment:4</div>

Should this ticket be set to "needs review"?

I guess by now sphinx 1.0.7 is released.



---

archive/issue_comments_101434.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nWe might want to wait for 1.1, depending on how long it will take, since 1.1 includes MathJax (hurrah!).",
    "created_at": "2011-04-28T05:39:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101434",
    "user": "https://github.com/kini"
}
```

<div id="comment:5" align="right">comment:5</div>

We might want to wait for 1.1, depending on how long it will take, since 1.1 includes MathJax (hurrah!).



---

archive/issue_events_140579.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-23T21:48:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140579"
}
```



---

archive/issue_events_140580.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-23T21:48:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140580"
}
```



---

archive/issue_comments_101435.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThe patch for sage_autodoc needs a lot more work: the file sage_autodoc should be kept in line with the file autodoc.py in sphinx/ext.  Should we somehow autogenerate this file (using patch) from autodoc.py?",
    "created_at": "2011-07-23T21:48:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101435",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">comment:6</div>

The patch for sage_autodoc needs a lot more work: the file sage_autodoc should be kept in line with the file autodoc.py in sphinx/ext.  Should we somehow autogenerate this file (using patch) from autodoc.py?



---

archive/issue_comments_101436.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIn fact, maybe we should include sage_autodoc.py in the Sphinx spkg: make a copy of autodoc.py, patch it, and write it in the sphinx/ext directory.  That would make it much easier to keep sage_autodoc.py in sync with autodoc.py. Then we just have to make this change in SAGE_ROOT/devel/sage/doc/common/conf.py:\n\n```diff\ndiff --git a/doc/common/conf.py b/doc/common/conf.py\n--- a/doc/common/conf.py\n+++ b/doc/common/conf.py\n@@ -13,7 +13,7 @@ sys.path.append(os.path.abspath(os.path.\n \n # Add any Sphinx extension module names here, as strings. They can be extensions\n # coming with Sphinx (named 'sphinx.ext.*') or your custom ones.\n-extensions = ['sage_autodoc',  'sphinx.ext.graphviz',\n+extensions = ['sphinx.ext.sage_autodoc',  'sphinx.ext.graphviz',\n               'sphinx.ext.inheritance_diagram', 'sphinx.ext.todo',\n               'sphinx.ext.intersphinx']\n # also of interest:\n```",
    "created_at": "2011-07-24T17:33:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101436",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:7" align="right">comment:7</div>

In fact, maybe we should include sage_autodoc.py in the Sphinx spkg: make a copy of autodoc.py, patch it, and write it in the sphinx/ext directory.  That would make it much easier to keep sage_autodoc.py in sync with autodoc.py. Then we just have to make this change in SAGE_ROOT/devel/sage/doc/common/conf.py:

```diff
diff --git a/doc/common/conf.py b/doc/common/conf.py
--- a/doc/common/conf.py
+++ b/doc/common/conf.py
@@ -13,7 +13,7 @@ sys.path.append(os.path.abspath(os.path.
 
 # Add any Sphinx extension module names here, as strings. They can be extensions
 # coming with Sphinx (named 'sphinx.ext.*') or your custom ones.
-extensions = ['sage_autodoc',  'sphinx.ext.graphviz',
+extensions = ['sphinx.ext.sage_autodoc',  'sphinx.ext.graphviz',
               'sphinx.ext.inheritance_diagram', 'sphinx.ext.todo',
               'sphinx.ext.intersphinx']
 # also of interest:
```



---

archive/issue_comments_101437.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n#10715 is also an \"upgrade sphinx\" ticket that might be considered a dup of this ticket.",
    "created_at": "2011-08-09T21:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101437",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:8" align="right">comment:8</div>

#10715 is also an "upgrade sphinx" ticket that might be considered a dup of this ticket.



---

archive/issue_events_140581.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-08-09T22:38:58Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "title_is": "Upgrade Sphinx to version 1.0.6 (or later)",
    "title_was": "Upgrade sphinx-1.0.4.p5 to sphinx-1.0.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140581"
}
```



---

archive/issue_comments_101438.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAnd the spkg has to be rebased on that of #11659 (1.0.4.p7).",
    "created_at": "2011-08-09T22:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101438",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:9" align="right">comment:9</div>

And the spkg has to be rebased on that of #11659 (1.0.4.p7).



---

archive/issue_comments_101439.json:
```json
{
    "body": "Changed keywords from **sphinx uprgrade** to **sphinx upgrade spkg autodoc**",
    "created_at": "2011-08-09T22:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101439",
    "user": "https://github.com/nexttime"
}
```

Changed keywords from **sphinx uprgrade** to **sphinx upgrade spkg autodoc**



---

archive/issue_comments_101440.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@nexttime](#comment:9):\n> And the spkg has to be rebased on that of #11659 (1.0.4.p7).\n\nOh, just remembered I had prepared a follow-up Sphinx 1.0.4.p8 spkg at #11665 myself (currently needing review).",
    "created_at": "2011-08-10T19:19:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101440",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@nexttime](#comment:9):
> And the spkg has to be rebased on that of #11659 (1.0.4.p7).

Oh, just remembered I had prepared a follow-up Sphinx 1.0.4.p8 spkg at #11665 myself (currently needing review).



---

archive/issue_comments_101441.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nVersion 1.0.8 of Sphinx has just been released.",
    "created_at": "2011-09-23T23:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101441",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:11" align="right">comment:11</div>

Version 1.0.8 of Sphinx has just been released.



---

archive/issue_events_140582.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-23T23:27:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140582"
}
```



---

archive/issue_events_140583.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-23T23:27:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140583"
}
```



---

archive/issue_comments_101442.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nOkay, I have a new spkg, actually, two.  The first (\"p0\") is just a straightforward upgrade of the previous version.  However, we should probably update sage_autodoc.py in light of changes to the Sphinx extension autodoc.py, on which it is based.  I can provide a patch to the Sage library modifying sage_autodoc.py if necessary.\n\nA different approach: the second spkg (\"p1\") autogenerates sage_autodoc.py from autodoc.py, and saves sage_autodoc.py in sphinx/ext instead of in sage/doc/common.  So using this one requires a change to sage/doc/common/conf.py, which I've provided.  This approach seems as though it will be easier to maintain, or at least it will be easier to keep sage_autodoc.py in line with autodoc.py.\n\nWith both of these approaches, I get some warnings about cross-references, which are why the other entries are in the patch for the Sage library.  I'm seeing lots of broken cross-references, though: take a look at the reference manual for categories/examples/finite_weyl_groups.py: \n\n```\n    Only the following basic operations are implemented:\n     - :meth:`one`\n     - :meth:`product`\n     - :meth:`simple_reflection`\n     - :meth:`Element.has_right_descent`.\n{{{\nNone of these produces a link.  I don't know what's going on.",
    "created_at": "2011-09-24T04:55:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101442",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:12" align="right">comment:12</div>

Okay, I have a new spkg, actually, two.  The first ("p0") is just a straightforward upgrade of the previous version.  However, we should probably update sage_autodoc.py in light of changes to the Sphinx extension autodoc.py, on which it is based.  I can provide a patch to the Sage library modifying sage_autodoc.py if necessary.

A different approach: the second spkg ("p1") autogenerates sage_autodoc.py from autodoc.py, and saves sage_autodoc.py in sphinx/ext instead of in sage/doc/common.  So using this one requires a change to sage/doc/common/conf.py, which I've provided.  This approach seems as though it will be easier to maintain, or at least it will be easier to keep sage_autodoc.py in line with autodoc.py.

With both of these approaches, I get some warnings about cross-references, which are why the other entries are in the patch for the Sage library.  I'm seeing lots of broken cross-references, though: take a look at the reference manual for categories/examples/finite_weyl_groups.py: 

```
    Only the following basic operations are implemented:
     - :meth:`one`
     - :meth:`product`
     - :meth:`simple_reflection`
     - :meth:`Element.has_right_descent`.
{{{
None of these produces a link.  I don't know what's going on.



---

archive/issue_comments_101443.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,13 @@\n Just made a spkg and a change to sage_autodoc in order to upgrade sphinx to the latest version. Spkg and patch attached. \n \n+---\n+\n+Straightforward upgrade:\n+\n+- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p0.spkg)\n+\n+Alternative approach, autogenerating sage-autodoc.py from autodoc.py:\n+\n+- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p1.spkg)\n+- apply [attachment: trac_10620-sage.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sage.patch.gz) to the Sage library\n+\n``````\n",
    "created_at": "2011-09-24T04:55:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101443",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,13 @@
 Just made a spkg and a change to sage_autodoc in order to upgrade sphinx to the latest version. Spkg and patch attached. 
 
+---
+
+Straightforward upgrade:
+
+- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p0.spkg)
+
+Alternative approach, autogenerating sage-autodoc.py from autodoc.py:
+
+- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p1.spkg)
+- apply [attachment: trac_10620-sage.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sage.patch.gz) to the Sage library
+
``````




---

archive/issue_comments_101444.json:
```json
{
    "body": "Attachment: **[trac_10620-sphinx-p0.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sphinx-p0.patch.gz)**\n\npatch for sphinx pkg, for review only",
    "created_at": "2011-09-24T04:55:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101444",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_10620-sphinx-p0.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sphinx-p0.patch.gz)**

patch for sphinx pkg, for review only



---

archive/issue_comments_101445.json:
```json
{
    "body": "patch for sphinx pkg, for review only",
    "created_at": "2011-09-24T04:56:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101445",
    "user": "https://github.com/jhpalmieri"
}
```

patch for sphinx pkg, for review only



---

archive/issue_comments_101446.json:
```json
{
    "body": "Attachment: **[trac_10620-sphinx-p1.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sphinx-p1.patch.gz)**\n\nAttachment: **[trac_10620-sage.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sage.patch.gz)**",
    "created_at": "2011-09-24T04:56:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101446",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_10620-sphinx-p1.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sphinx-p1.patch.gz)**

Attachment: **[trac_10620-sage.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sage.patch.gz)**



---

archive/issue_comments_101447.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nBy the way, we could use the new spkg (either version) and keep the Sage library intact; this would use the old, and now somewhat out-dated, sage_autodoc.py, but it does not have the cross-reference problems.",
    "created_at": "2011-09-24T05:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101447",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:13" align="right">comment:13</div>

By the way, we could use the new spkg (either version) and keep the Sage library intact; this would use the old, and now somewhat out-dated, sage_autodoc.py, but it does not have the cross-reference problems.



---

archive/issue_comments_101448.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@jhpalmieri](#comment:13):\n\nThanks for building the new spkg ! \n\n> By the way, we could use the new spkg (either version) and keep the Sage library intact; this would use the old, and now somewhat out-dated, sage_autodoc.py, but it does not have the cross-reference problems.\n\nConcerning cross references, I've been doing some work in #9128. So my suggestion is to upgrade the spkg (I can probably find the time to review it this week) and the keep the cross reference problem for another ticket. What to you think ?",
    "created_at": "2011-09-24T08:59:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101448",
    "user": "https://github.com/hivert"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@jhpalmieri](#comment:13):

Thanks for building the new spkg ! 

> By the way, we could use the new spkg (either version) and keep the Sage library intact; this would use the old, and now somewhat out-dated, sage_autodoc.py, but it does not have the cross-reference problems.

Concerning cross references, I've been doing some work in #9128. So my suggestion is to upgrade the spkg (I can probably find the time to review it this week) and the keep the cross reference problem for another ticket. What to you think ?



---

archive/issue_events_140584.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-24T18:08:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140584"
}
```



---

archive/issue_events_140585.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-24T18:08:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140585"
}
```



---

archive/issue_comments_101449.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@hivert](#comment:14):\n> Replying to [@jhpalmieri](#comment:13):\n> \n> Thanks for building the new spkg ! \n> \n> > By the way, we could use the new spkg (either version) and keep the Sage library intact; this would use the old, and now somewhat out-dated, sage_autodoc.py, but it does not have the cross-reference problems.\n\n> \n> Concerning cross references, I've been doing some work in #9128. So my suggestion is to upgrade the spkg (I can probably find the time to review it this week) and the keep the cross reference problem for another ticket. What to you think ? \n\nIt makes me uncomfortable to have sage_autodoc.py so out-of-synch with autodoc.py, and as far as I can tell, changes to autodoc.py, and hence to the updated sage_autodoc.py, are what is causing the problem with the cross-references.  So I think just merging the spkg would only be acceptable if the work on #9128 (or elsewhere?) includes updating sage_autodoc.py.  What do you think of the idea of putting that file in the Sphinx directory (as in the \"p1\" version of the spkg) instead of keeping it in the Sage library?",
    "created_at": "2011-09-24T18:08:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101449",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@hivert](#comment:14):
> Replying to [@jhpalmieri](#comment:13):
> 
> Thanks for building the new spkg ! 
> 
> > By the way, we could use the new spkg (either version) and keep the Sage library intact; this would use the old, and now somewhat out-dated, sage_autodoc.py, but it does not have the cross-reference problems.

> 
> Concerning cross references, I've been doing some work in #9128. So my suggestion is to upgrade the spkg (I can probably find the time to review it this week) and the keep the cross reference problem for another ticket. What to you think ? 

It makes me uncomfortable to have sage_autodoc.py so out-of-synch with autodoc.py, and as far as I can tell, changes to autodoc.py, and hence to the updated sage_autodoc.py, are what is causing the problem with the cross-references.  So I think just merging the spkg would only be acceptable if the work on #9128 (or elsewhere?) includes updating sage_autodoc.py.  What do you think of the idea of putting that file in the Sphinx directory (as in the "p1" version of the spkg) instead of keeping it in the Sage library?



---

archive/issue_comments_101450.json:
```json
{
    "body": "Changed author from **David Monarres** to **John Palmieri**",
    "created_at": "2011-09-24T18:08:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101450",
    "user": "https://github.com/jhpalmieri"
}
```

Changed author from **David Monarres** to **John Palmieri**



---

archive/issue_events_140586.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-05T18:50:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "title_is": "Upgrade Sphinx to version 1.1.2",
    "title_was": "Upgrade Sphinx to version 1.0.6 (or later)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140586"
}
```



---

archive/issue_events_140587.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-05T18:50:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140587"
}
```



---

archive/issue_events_140588.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-05T18:50:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140588"
}
```



---

archive/issue_comments_101451.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThere is now a version 1.1.2 of Sphinx.  Probably we should update this spkg.",
    "created_at": "2011-11-05T18:50:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101451",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

There is now a version 1.1.2 of Sphinx.  Probably we should update this spkg.



---

archive/issue_comments_101452.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n Straightforward upgrade:\n \n-- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p0.spkg)\n+- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg)\n \n Alternative approach, autogenerating sage-autodoc.py from autodoc.py:\n \n``````\n",
    "created_at": "2011-11-05T19:45:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101452",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 Straightforward upgrade:
 
-- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p0.spkg)
+- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg)
 
 Alternative approach, autogenerating sage-autodoc.py from autodoc.py:
 
``````




---

archive/issue_comments_101453.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI updated the \"straightforward\" spkg, I have no clue what `autodoc` is, so I left that alone.",
    "created_at": "2011-11-05T19:45:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101453",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

I updated the "straightforward" spkg, I have no clue what `autodoc` is, so I left that alone.



---

archive/issue_events_140589.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-05T19:45:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140589"
}
```



---

archive/issue_events_140590.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-05T19:45:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140590"
}
```



---

archive/issue_comments_101454.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n Straightforward upgrade:\n \n-- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg)\n+- [http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.1.2.p0.spkg)\n \n Alternative approach, autogenerating sage-autodoc.py from autodoc.py:\n \n``````\n",
    "created_at": "2011-11-05T19:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101454",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 Straightforward upgrade:
 
-- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg)
+- [http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.1.2.p0.spkg)
 
 Alternative approach, autogenerating sage-autodoc.py from autodoc.py:
 
``````




---

archive/issue_comments_101455.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,12 +2,7 @@\n \n ---\n \n-Straightforward upgrade:\n+New spkg:\n \n-- [http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.1.2.p0.spkg)\n+- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg)\n \n-Alternative approach, autogenerating sage-autodoc.py from autodoc.py:\n-\n-- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p1.spkg)\n-- apply [attachment: trac_10620-sage.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sage.patch.gz) to the Sage library\n-\n``````\n",
    "created_at": "2011-11-05T20:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101455",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,12 +2,7 @@
 
 ---
 
-Straightforward upgrade:
+New spkg:
 
-- [http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/sphinx-1.1.2.p0.spkg)
+- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg)
 
-Alternative approach, autogenerating sage-autodoc.py from autodoc.py:
-
-- [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.0.8.p1.spkg)
-- apply [attachment: trac_10620-sage.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sage.patch.gz) to the Sage library
-
``````




---

archive/issue_comments_101456.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n`sage_autodoc` is the Sage version of the Sphinx extension `autodoc` (found in `sphinx/ext/`); it is used to extract the reference manual from the source code.  We've modified the original to handle various things (perhaps cython code, lazy methods, cached methods?).  So `sage_autodoc.py`, which lives in `devel/sage/doc/common`, used to be a simple modification of the Sphinx file `autodoc.py`, but now the two files differ more dramatically as `autodoc.py` has been patched in ways that `sage_autodoc.py` hasn't, and vice versa.\n\nIt might be good, to take full advantage of upgrades to Sphinx, to try to remedy this by creating `sage_autodoc.py` by patching `autodoc.py` in the Sphinx spkg.  Unfortunately, when I tried this approach, the new `sage_autodoc` module didn't work perfectly, probably because of recent changes in `autodoc`.  This could be dealt with on another ticket.  Following Leif's general suggestion about this kind of thing, perhaps we should add a \"To do\" item to the \"Special Build Instructions\" section of SPKG.txt.  I've prepared a new spkg (based on yours) with this change.  The spkg also removes the patch to 'autodoc.py', since I don't think we use that anymore: we use 'sage_autodoc.py' instead.",
    "created_at": "2011-11-05T20:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101456",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:20" align="right">comment:20</div>

`sage_autodoc` is the Sage version of the Sphinx extension `autodoc` (found in `sphinx/ext/`); it is used to extract the reference manual from the source code.  We've modified the original to handle various things (perhaps cython code, lazy methods, cached methods?).  So `sage_autodoc.py`, which lives in `devel/sage/doc/common`, used to be a simple modification of the Sphinx file `autodoc.py`, but now the two files differ more dramatically as `autodoc.py` has been patched in ways that `sage_autodoc.py` hasn't, and vice versa.

It might be good, to take full advantage of upgrades to Sphinx, to try to remedy this by creating `sage_autodoc.py` by patching `autodoc.py` in the Sphinx spkg.  Unfortunately, when I tried this approach, the new `sage_autodoc` module didn't work perfectly, probably because of recent changes in `autodoc`.  This could be dealt with on another ticket.  Following Leif's general suggestion about this kind of thing, perhaps we should add a "To do" item to the "Special Build Instructions" section of SPKG.txt.  I've prepared a new spkg (based on yours) with this change.  The spkg also removes the patch to 'autodoc.py', since I don't think we use that anymore: we use 'sage_autodoc.py' instead.



---

archive/issue_comments_101457.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThe following should be added to the scripts ``.hgignore``:\n\n```\nsphinx-apidoc\n```",
    "created_at": "2011-11-05T23:58:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101457",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

The following should be added to the scripts ``.hgignore``:

```
sphinx-apidoc
```



---

archive/issue_events_140591.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-05T23:58:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140591"
}
```



---

archive/issue_events_140592.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-05T23:58:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140592"
}
```



---

archive/issue_comments_101458.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI think this is okay now.  It's a little more complicated than I thought.  First, Sage does use autodoc, in the 'sphinxify' routine when doing introspection.  So I restored the autodoc patch.  Second, with the new spkg, I was getting doctest failures: one piece of output in sageinspect.py was wrong.  I think that the new output is actually better: it's processing a docstring using sphinxify and coming up with nicer output.  So I think it's okay to change the output for the doctest.\n\nSo there are three or four patches, one for the scripts repo (hgignore), one for the Sage library (doctest), and one for the Sphinx spkg.  The patch for the Sage library should come with a corresponding patch for sagenb, but I don't know what to do about that.  Submit a ticket for the flask notebook?  I'll include one for the current sagenb repo, in case that's the right thing to do.",
    "created_at": "2011-11-06T02:14:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101458",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:22" align="right">comment:22</div>

I think this is okay now.  It's a little more complicated than I thought.  First, Sage does use autodoc, in the 'sphinxify' routine when doing introspection.  So I restored the autodoc patch.  Second, with the new spkg, I was getting doctest failures: one piece of output in sageinspect.py was wrong.  I think that the new output is actually better: it's processing a docstring using sphinxify and coming up with nicer output.  So I think it's okay to change the output for the doctest.

So there are three or four patches, one for the scripts repo (hgignore), one for the Sage library (doctest), and one for the Sphinx spkg.  The patch for the Sage library should come with a corresponding patch for sagenb, but I don't know what to do about that.  Submit a ticket for the flask notebook?  I'll include one for the current sagenb repo, in case that's the right thing to do.



---

archive/issue_comments_101459.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,9 @@\n \n - [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg)\n \n+Apply\n+\n+- [attachment: trac_10620-scripts-hgignore.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-scripts-hgignore.patch.gz) to the scripts repo\n+- [attachment: trac_10620-sageinspect.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sageinspect.patch.gz) to the main Sage library\n+- [attachment: trac_10620-sagenb-sageinspect.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sagenb-sageinspect.patch.gz) to the sagenb repo\n+\n``````\n",
    "created_at": "2011-11-06T02:14:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101459",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,9 @@
 
 - [http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/sphinx-1.1.2.p0.spkg)
 
+Apply
+
+- [attachment: trac_10620-scripts-hgignore.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-scripts-hgignore.patch.gz) to the scripts repo
+- [attachment: trac_10620-sageinspect.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sageinspect.patch.gz) to the main Sage library
+- [attachment: trac_10620-sagenb-sageinspect.patch](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sagenb-sageinspect.patch.gz) to the sagenb repo
+
``````




---

archive/issue_events_140593.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-11-06T02:14:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140593"
}
```



---

archive/issue_events_140594.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-11-06T02:14:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140594"
}
```



---

archive/issue_comments_101460.json:
```json
{
    "body": "Attachment: **[trac_10620-sphinx-1.1.2.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sphinx-1.1.2.patch.gz)**\n\npatch for sphinx 1.1.2 spkg; for review only",
    "created_at": "2011-11-06T02:15:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101460",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_10620-sphinx-1.1.2.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sphinx-1.1.2.patch.gz)**

patch for sphinx 1.1.2 spkg; for review only



---

archive/issue_comments_101461.json:
```json
{
    "body": "Attachment: **[trac_10620-scripts-hgignore.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-scripts-hgignore.patch.gz)**\n\nscripts repo",
    "created_at": "2011-11-06T02:15:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101461",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_10620-scripts-hgignore.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-scripts-hgignore.patch.gz)**

scripts repo



---

archive/issue_comments_101462.json:
```json
{
    "body": "sage library repo",
    "created_at": "2011-11-06T02:49:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101462",
    "user": "https://github.com/jhpalmieri"
}
```

sage library repo



---

archive/issue_comments_101463.json:
```json
{
    "body": "Attachment: **[trac_10620-sageinspect.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sageinspect.patch.gz)**\n\nAttachment: **[trac_10620-sagenb-sageinspect.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sagenb-sageinspect.patch.gz)**\n\nsagenb repo",
    "created_at": "2011-11-06T02:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101463",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_10620-sageinspect.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sageinspect.patch.gz)**

Attachment: **[trac_10620-sagenb-sageinspect.patch.gz](https://github.com/sagemath/sage/files/ticket10620/trac_10620-sagenb-sageinspect.patch.gz)**

sagenb repo



---

archive/issue_comments_101464.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@jhpalmieri](#comment:22):\n> I'll include one for the current sagenb repo, in case that's the right thing to do.\n\nYes, this is the right thing to do (I have discussed with the sagenb developers some time ago).",
    "created_at": "2011-11-06T09:57:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101464",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@jhpalmieri](#comment:22):
> I'll include one for the current sagenb repo, in case that's the right thing to do.

Yes, this is the right thing to do (I have discussed with the sagenb developers some time ago).



---

archive/issue_events_140595.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-11T22:17:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140595"
}
```



---

archive/issue_events_140596.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-11T22:17:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140596"
}
```



---

archive/issue_comments_101465.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2011-11-11T22:17:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101465",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_101466.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nLooks good to me, but see the encoding issue at #10112.",
    "created_at": "2011-11-11T22:17:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101466",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

Looks good to me, but see the encoding issue at #10112.



---

archive/issue_events_140597.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-14T17:31:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140597"
}
```



---

archive/issue_events_140598.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-14T17:31:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10620#event-140598"
}
```



---

archive/issue_comments_101467.json:
```json
{
    "body": "Merged: **sage-4.8.alpha2**",
    "created_at": "2011-11-14T17:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10620#issuecomment-101467",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.8.alpha2**
