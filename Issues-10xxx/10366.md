# Issue 10366: Improve plots involving dates

archive/issues_010365.json:
```json
{
    "body": "In Sage 9.3.rc4, having defined:\n\n```\nsage: from matplotlib.dates import YearLocator, DateFormatter\nsage: import datetime\nsage: data = [(datetime.date(1995, 1, 1), 30),\n....:         (datetime.date(1996, 3, 1), 50),\n....:         (datetime.date(1997, 2, 4), 40)]\n```\nthis gives three dots on the x-axis, and no x-axis ticks:\n\n```\nsage: list_plot(data,\n....:           ticks=[YearLocator(), None],\n....:           tick_formatter=[DateFormatter('%Y-%m-%d'), None])\nLaunched png viewer for Graphics object consisting of 1 graphics primitive\n```\nwhile this gives three points with y-values 30, 50, 40 as expected,\nbut the x-axis ticks are `3964-01-01`, `3965-01-01`, `3966-01-01`.\n\n```\nsage: list_plot([(i.toordinal(), j) for i, j in data],\n....:           ticks=[YearLocator(), None],\n....:           tick_formatter=[DateFormatter('%Y-%m-%d'), None])\nLaunched png viewer for Graphics object consisting of 1 graphics primitive\n```\n\n---\n\nThe initial report noted that in Sage 4.6,\nthe first `list_plot` gave\n\n```\nTypeError: float() argument must be a string or a number\n```\nwhile the second one worked, and suggested to intelligently\nhandle date data in that way automatically.\n\n\nAssignee: jason, was\n\nCC:  @slel\n\nKeywords: dates\n\nStatus: new\n\nIssue created by migration from https://trac.sagemath.org/ticket/10366\n\n",
    "created_at": "2010-12-02T05:01:14Z",
    "labels": [
        "component: graphics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Improve plots involving dates",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10366",
    "user": "https://github.com/jasongrout"
}
```
In Sage 9.3.rc4, having defined:

```
sage: from matplotlib.dates import YearLocator, DateFormatter
sage: import datetime
sage: data = [(datetime.date(1995, 1, 1), 30),
....:         (datetime.date(1996, 3, 1), 50),
....:         (datetime.date(1997, 2, 4), 40)]
```
this gives three dots on the x-axis, and no x-axis ticks:

```
sage: list_plot(data,
....:           ticks=[YearLocator(), None],
....:           tick_formatter=[DateFormatter('%Y-%m-%d'), None])
Launched png viewer for Graphics object consisting of 1 graphics primitive
```
while this gives three points with y-values 30, 50, 40 as expected,
but the x-axis ticks are `3964-01-01`, `3965-01-01`, `3966-01-01`.

```
sage: list_plot([(i.toordinal(), j) for i, j in data],
....:           ticks=[YearLocator(), None],
....:           tick_formatter=[DateFormatter('%Y-%m-%d'), None])
Launched png viewer for Graphics object consisting of 1 graphics primitive
```

---

The initial report noted that in Sage 4.6,
the first `list_plot` gave

```
TypeError: float() argument must be a string or a number
```
while the second one worked, and suggested to intelligently
handle date data in that way automatically.


Assignee: jason, was

CC:  @slel

Keywords: dates

Status: new

Issue created by migration from https://trac.sagemath.org/ticket/10366





---

archive/issue_events_026678.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26678"
}
```



---

archive/issue_events_026679.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26679"
}
```



---

archive/issue_events_026680.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26680"
}
```



---

archive/issue_events_026681.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26681"
}
```



---

archive/issue_events_026682.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26682"
}
```



---

archive/issue_events_026683.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26683"
}
```



---

archive/issue_events_026684.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26684"
}
```



---

archive/issue_events_026685.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-04-30T15:16:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26685"
}
```



---

archive/issue_events_026686.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-04-30T15:16:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26686"
}
```



---

archive/issue_comments_106422.json:
```json
{
    "body": "Changing keywords from \"\" to \"dates\".",
    "created_at": "2021-04-30T15:16:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10366#issuecomment-106422",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "dates".



---

archive/issue_comments_106423.json:
```json
{
    "body": "<a id='comment:5'></a>Some related Ask Sage questions (and the answers to them) might help:\n\n- [Ask Sage question 49227: How to change ticks labels attributes for the 2D plot?](https://ask.sagemath.org/question/49227)\n- [Ask Sage question 10792: date x-axis](https://ask.sagemath.org/question/10792)\n\nand maybe some of those from Stack Overflow:\n\n- [SO question 63607212: Pandas dataframe plot: x-axis date labels display but not data](https://stackoverflow.com/q/63607212)\n- [SO question 52231917: Pandas/NumPy: Plotting dates as x-axis](https://stackoverflow.com/q/52231917)\n- [SO question 51105648: Ordering and formatting dates on x-axis in Seaborn bar plot](https://stackoverflow.com/q/51105648)\n- [SO question 5498510: Create matplotlib graph with date and time in axis labels](https://stackoverflow.com/q/5498510)\n- [SO question 466345: Converting string into datetime](https://stackoverflow.com/q/466345)",
    "created_at": "2021-04-30T15:16:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10366#issuecomment-106423",
    "user": "https://github.com/slel"
}
```

<a id='comment:5'></a>Some related Ask Sage questions (and the answers to them) might help:

- [Ask Sage question 49227: How to change ticks labels attributes for the 2D plot?](https://ask.sagemath.org/question/49227)
- [Ask Sage question 10792: date x-axis](https://ask.sagemath.org/question/10792)

and maybe some of those from Stack Overflow:

- [SO question 63607212: Pandas dataframe plot: x-axis date labels display but not data](https://stackoverflow.com/q/63607212)
- [SO question 52231917: Pandas/NumPy: Plotting dates as x-axis](https://stackoverflow.com/q/52231917)
- [SO question 51105648: Ordering and formatting dates on x-axis in Seaborn bar plot](https://stackoverflow.com/q/51105648)
- [SO question 5498510: Create matplotlib graph with date and time in axis labels](https://stackoverflow.com/q/5498510)
- [SO question 466345: Converting string into datetime](https://stackoverflow.com/q/466345)



---

archive/issue_events_026687.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26687"
}
```



---

archive/issue_events_026688.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26688"
}
```



---

archive/issue_events_026689.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26689"
}
```



---

archive/issue_events_026690.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26690"
}
```



---

archive/issue_events_026691.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26691"
}
```



---

archive/issue_events_026692.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26692"
}
```



---

archive/issue_events_026693.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26693"
}
```



---

archive/issue_events_026694.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10366",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10366#event-26694"
}
```
