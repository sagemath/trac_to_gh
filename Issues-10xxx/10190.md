# Issue 10190: developer's guide: warnings & notes about commit message, cloning and setting the text editor

archive/issues_010189.json:
```json
{
    "body": "Add a new chapter to the Developer's Guide on advanced uses of Mercurial.\n\nSee the following URL for the rebuilt Developer's Guide after applying the patch below to Sage 4.6.\n\nhttp://mvngu.googlecode.com/hg/10190-mercurial/index.html\n\n**Assignee:** mvngu\n\n**CC:**  @kcrisman @nexttime\n\n**Keywords:** Mercurial, developer's guide\n\n**Reviewer:** Marc mezzarobba\n\n**Author:** Minh Van Nguyen\n\nIssue created by migration from https://trac.sagemath.org/ticket/10190\n\n",
    "closed_at": "2014-03-19T04:38:29Z",
    "created_at": "2010-10-30T09:34:52Z",
    "labels": [
        "component: documentation",
        "enhancement",
        "wontfix"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "developer's guide: warnings & notes about commit message, cloning and setting the text editor",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10190",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```
Add a new chapter to the Developer's Guide on advanced uses of Mercurial.

See the following URL for the rebuilt Developer's Guide after applying the patch below to Sage 4.6.

http://mvngu.googlecode.com/hg/10190-mercurial/index.html

**Assignee:** mvngu

**CC:**  @kcrisman @nexttime

**Keywords:** Mercurial, developer's guide

**Reviewer:** Marc mezzarobba

**Author:** Minh Van Nguyen

Issue created by migration from https://trac.sagemath.org/ticket/10190





---

archive/issue_comments_120929.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2010-10-30T12:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120929",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_120930.json:
```json
{
    "body": "<a id='comment:1'></a>\nThe attachment provides the following changes to the Developer's Guide:\n\n* Add a new section \"Commit messages\" to explain that you can have a commit message that spans multiple lines.\n* Add a new section \"Setting the editor\" to explain how to set the editor that Mercurial launches.\n* Cross reference between the walk-through and the chapter on advanced Mercurial usage.",
    "created_at": "2010-10-30T12:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120930",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:1'></a>
The attachment provides the following changes to the Developer's Guide:

* Add a new section "Commit messages" to explain that you can have a commit message that spans multiple lines.
* Add a new section "Setting the editor" to explain how to set the editor that Mercurial launches.
* Cross reference between the walk-through and the chapter on advanced Mercurial usage.



---

archive/issue_comments_120931.json:
```json
{
    "body": "**Author:** Minh Van Nguyen",
    "created_at": "2010-10-30T12:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120931",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Author:** Minh Van Nguyen



---

archive/issue_comments_120932.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n Add a new chapter to the Developer's Guide on advanced uses of Mercurial.\n+\n+See the following URL for the rebuilt Developer's Guide after applying the patch [attachment:trac-10190_advanced-mercurial.patch] to Sage 4.6.rc0:\n+\n+http://mvngu.googlecode.com/hg/10190-mercurial/index.html\n``````\n",
    "created_at": "2010-10-30T12:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120932",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 Add a new chapter to the Developer's Guide on advanced uses of Mercurial.
+
+See the following URL for the rebuilt Developer's Guide after applying the patch [attachment:trac-10190_advanced-mercurial.patch] to Sage 4.6.rc0:
+
+http://mvngu.googlecode.com/hg/10190-mercurial/index.html
``````




---

archive/issue_comments_120933.json:
```json
{
    "body": "<a id='comment:3'></a>\nI think the description of commit messages is still somewhat misleading, especially the first time they are mentioned.\n\nIMHO one should almost always give a \"long[er]\" commit message, but in any case the first line has to be one summarizing the whole patch.\n\n(The example of Jeroen's long commit message might still confuse people, since it consists of a few lines all starting with a ticket number, all being \"short\" commit messages, i.e. summaries by themselves. For spkgs, I usually copy the whole changelog entry from SPKG.txt into the [final] commit message, below the summary and a blank line. Other commit messages look similar.)\n\n\nKarl-Dieter, you can perhaps better comment on the changes regarding Mercurial's use of an editor to provide commit messages.\n\n(To me, e.g. using Mercurial from the Sage prompt is more complicated than using it directly from the shell. One does not have to record changeset numbers, filename (and option) completion is available, not to mention help etc. ...)",
    "created_at": "2010-10-30T16:47:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120933",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:3'></a>
I think the description of commit messages is still somewhat misleading, especially the first time they are mentioned.

IMHO one should almost always give a "long[er]" commit message, but in any case the first line has to be one summarizing the whole patch.

(The example of Jeroen's long commit message might still confuse people, since it consists of a few lines all starting with a ticket number, all being "short" commit messages, i.e. summaries by themselves. For spkgs, I usually copy the whole changelog entry from SPKG.txt into the [final] commit message, below the summary and a blank line. Other commit messages look similar.)


Karl-Dieter, you can perhaps better comment on the changes regarding Mercurial's use of an editor to provide commit messages.

(To me, e.g. using Mercurial from the Sage prompt is more complicated than using it directly from the shell. One does not have to record changeset numbers, filename (and option) completion is available, not to mention help etc. ...)



---

archive/issue_comments_120934.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [leif](#comment%3A3):\n> I think the description of commit messages is still somewhat misleading, especially the first time they are mentioned.\n\n\nI'm in the middle of reviewing this one.  I wrote much of the walk-through.  At one time I was given the impression a one-line message was best.  Thus the strident \"one-line\" request.\n\nI agree that a multi-line commit can be an improvement.  Personally, I would go back to Trac if I wanted to know more.  So I don't necessarily agree that they should be required or preferred.  As a patch author, I've always found one line sufficient (and less work!).\n\nWhat I have seen is rookie developers put gobs of stuff in the commit message, with no summary line.  Not pretty.  So a more thorough discussion in the advanced section is a good compromise I think.  What would you suggest for the introductory discussion?\n\nRe: editors,\n\n`hg qrefresh -m \"#xxxx: Summary...\"` \n\nis my optimal solution.  But not good for multi-line stuff.",
    "created_at": "2010-10-30T17:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120934",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:4'></a>
Replying to [leif](#comment%3A3):
> I think the description of commit messages is still somewhat misleading, especially the first time they are mentioned.


I'm in the middle of reviewing this one.  I wrote much of the walk-through.  At one time I was given the impression a one-line message was best.  Thus the strident "one-line" request.

I agree that a multi-line commit can be an improvement.  Personally, I would go back to Trac if I wanted to know more.  So I don't necessarily agree that they should be required or preferred.  As a patch author, I've always found one line sufficient (and less work!).

What I have seen is rookie developers put gobs of stuff in the commit message, with no summary line.  Not pretty.  So a more thorough discussion in the advanced section is a good compromise I think.  What would you suggest for the introductory discussion?

Re: editors,

`hg qrefresh -m "#xxxx: Summary..."` 

is my optimal solution.  But not good for multi-line stuff.



---

archive/issue_comments_120935.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [rbeezer](#comment%3A4):\n> I agree that a multi-line commit can be an improvement.  Personally, I would go back to Trac if I wanted to know more.\n\n\nThat's IMHO a mess. I don't want to connect to trac in the first place when trying to find out when and why somebody changed this or that. (And you know how some tickets look like.)\n\nA few people name their patches just `6812.patch`, and some put **just** the ticket number in the commit message.\n\nIt's already often tedious enough for spkgs to map changes to patch levels (and their changelog entries if at all present; many old ones are missing, others are less informative).\n\n> So I don't necessarily agree that they should be required or preferred.\n\n\nAt least welcome, if they contain useful information.\n\n> What I have seen is rookie developers put gobs of stuff in the commit message, with no summary line.\n\n\nYes, *\"... and also changed the third word bhfsdifugsdi on line 5628 (right after djshdgh) to ghjgjhgfdsj and then inserted 4 blank lines so that the line below starting with 'if (x*y+2)<z' is now line 5633 ...\"*\n\n> Not pretty.  So a more thorough discussion in the advanced section is a good compromise I think.  What would you suggest for the introductory discussion?\n\n\nOne shouldn't have to (perhaps by chance) read an advanced section to learn that longer commit messages aren't forbidden (but instead even useful)... The paragraph is quite long, but doesn't refer to longer commit messages at all.\n\nA description of them with the commit message of this ticket's patch as an example in the advanced section is ok. ;-)",
    "created_at": "2010-10-30T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120935",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:5'></a>
Replying to [rbeezer](#comment%3A4):
> I agree that a multi-line commit can be an improvement.  Personally, I would go back to Trac if I wanted to know more.


That's IMHO a mess. I don't want to connect to trac in the first place when trying to find out when and why somebody changed this or that. (And you know how some tickets look like.)

A few people name their patches just `6812.patch`, and some put **just** the ticket number in the commit message.

It's already often tedious enough for spkgs to map changes to patch levels (and their changelog entries if at all present; many old ones are missing, others are less informative).

> So I don't necessarily agree that they should be required or preferred.


At least welcome, if they contain useful information.

> What I have seen is rookie developers put gobs of stuff in the commit message, with no summary line.


Yes, *"... and also changed the third word bhfsdifugsdi on line 5628 (right after djshdgh) to ghjgjhgfdsj and then inserted 4 blank lines so that the line below starting with 'if (x*y+2)<z' is now line 5633 ..."*

> Not pretty.  So a more thorough discussion in the advanced section is a good compromise I think.  What would you suggest for the introductory discussion?


One shouldn't have to (perhaps by chance) read an advanced section to learn that longer commit messages aren't forbidden (but instead even useful)... The paragraph is quite long, but doesn't refer to longer commit messages at all.

A description of them with the commit message of this ticket's patch as an example in the advanced section is ok. ;-)



---

archive/issue_comments_120936.json:
```json
{
    "body": "<a id='comment:6'></a>\nP.S.: I think it's a bit funny to describe Mercurial queues in the \"introductory\" section, but have a note on commit messages, and also how to set an editor, in an \"advanced\" section.\n\nI suggested to put the `editor = ...` into the template, along with a small note that *people not familiar with vi* should change that to one they are used to (or read about `vi`) *before* they do their first commit. (The advanced section, or a \"warning\" block in the introduction, could then also describe how to enter text in `vi` and - especially - how to quit `vi`.)",
    "created_at": "2010-10-30T18:45:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120936",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'></a>
P.S.: I think it's a bit funny to describe Mercurial queues in the "introductory" section, but have a note on commit messages, and also how to set an editor, in an "advanced" section.

I suggested to put the `editor = ...` into the template, along with a small note that *people not familiar with vi* should change that to one they are used to (or read about `vi`) *before* they do their first commit. (The advanced section, or a "warning" block in the introduction, could then also describe how to enter text in `vi` and - especially - how to quit `vi`.)



---

archive/issue_comments_120937.json:
```json
{
    "body": "<a id='comment:7'></a>\nThe above reviews by leif and rbeezer are the sort of reviews I really want from contributors: constructive, to the point, what the patch lacks, possible ways to make the patch better, etc. I'll rework the patch and the walk-through chapter.",
    "created_at": "2010-10-31T04:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120937",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:7'></a>
The above reviews by leif and rbeezer are the sort of reviews I really want from contributors: constructive, to the point, what the patch lacks, possible ways to make the patch better, etc. I'll rework the patch and the walk-through chapter.



---

archive/issue_comments_120938.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2010-10-31T04:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120938",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_120939.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [mvngu](#comment%3A7):\n> The above reviews by leif and rbeezer\n\n\nHi Minh and Leif,\n\nI don't do as much system/build level work as leif, so his comments about spkgs, etc are important.  However this changes, linking back to any advanced section is one way to keep the introduction short and make everything available to the person with more experience, or the newcomer who gains more experience.\n\nWhen I start with newcomers (I've done this at least four times now), I just do queues and we never invoke the editor.  But I like Leif's suggestion of including the editor command set up for vi and a comment in the template about making a change as an option.\n\nI've had at least one suggestion from an experienced developer to make queues more prominent in the introduction and de-emphasise clones.  I struggled with clones whenever I had to update a patch or wanted to add a reviewer patch, and I became so much more productive with queues.  I don't think they are hard, or advanced.  Being optional does not necessarily equate to being advanced.\n\nThere are two things I'd like to do long-term.  A cleaner split between clones and queues, maybe even rearranging the order.  I'd also like to do \"queues under the hood\" - a small discussion about the contents of `.hg/patches` as a way of understanding what is really happening.  Of course that can all wait.\n\nIn a day or two I'll be totally busy with other stuff for a few weeks, even 100% offline for a week.  Feel free to pester me about a review if it slips my mind once I'm back in the saddle (presuming no action in the next day or two).\n\nRob",
    "created_at": "2010-10-31T05:48:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120939",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:8'></a>
Replying to [mvngu](#comment%3A7):
> The above reviews by leif and rbeezer


Hi Minh and Leif,

I don't do as much system/build level work as leif, so his comments about spkgs, etc are important.  However this changes, linking back to any advanced section is one way to keep the introduction short and make everything available to the person with more experience, or the newcomer who gains more experience.

When I start with newcomers (I've done this at least four times now), I just do queues and we never invoke the editor.  But I like Leif's suggestion of including the editor command set up for vi and a comment in the template about making a change as an option.

I've had at least one suggestion from an experienced developer to make queues more prominent in the introduction and de-emphasise clones.  I struggled with clones whenever I had to update a patch or wanted to add a reviewer patch, and I became so much more productive with queues.  I don't think they are hard, or advanced.  Being optional does not necessarily equate to being advanced.

There are two things I'd like to do long-term.  A cleaner split between clones and queues, maybe even rearranging the order.  I'd also like to do "queues under the hood" - a small discussion about the contents of `.hg/patches` as a way of understanding what is really happening.  Of course that can all wait.

In a day or two I'll be totally busy with other stuff for a few weeks, even 100% offline for a week.  Feel free to pester me about a review if it slips my mind once I'm back in the saddle (presuming no action in the next day or two).

Rob



---

archive/issue_comments_120940.json:
```json
{
    "body": "<a id='comment:9'></a>\nPerhaps a bit OT: Is there any advantage (perhaps to a new user) of using Mercurial from the Sage prompt?\n\nSince the section on queues directly uses `hg` from the shell, shouldn't we do that throughout the chapter, perhaps with a \"footnote\" that some functions are also available from the Sage prompt?\n\n(If Sage's functions would abstract from Mercurial, they would make much more sense to me, but as is, they provide just a different, clumsy syntax for a very limited subset of Mercurial's features. Of course others might disagree on that.)",
    "created_at": "2010-10-31T08:24:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120940",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:9'></a>
Perhaps a bit OT: Is there any advantage (perhaps to a new user) of using Mercurial from the Sage prompt?

Since the section on queues directly uses `hg` from the shell, shouldn't we do that throughout the chapter, perhaps with a "footnote" that some functions are also available from the Sage prompt?

(If Sage's functions would abstract from Mercurial, they would make much more sense to me, but as is, they provide just a different, clumsy syntax for a very limited subset of Mercurial's features. Of course others might disagree on that.)



---

archive/issue_comments_120941.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1 @@\n Add a new chapter to the Developer's Guide on advanced uses of Mercurial.\n-\n-See the following URL for the rebuilt Developer's Guide after applying the patch [attachment:trac-10190_advanced-mercurial.patch] to Sage 4.6.rc0:\n-\n-http://mvngu.googlecode.com/hg/10190-mercurial/index.html\n``````\n",
    "created_at": "2010-10-31T09:23:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120941",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1 @@
 Add a new chapter to the Developer's Guide on advanced uses of Mercurial.
-
-See the following URL for the rebuilt Developer's Guide after applying the patch [attachment:trac-10190_advanced-mercurial.patch] to Sage 4.6.rc0:
-
-http://mvngu.googlecode.com/hg/10190-mercurial/index.html
``````




---

archive/issue_comments_120942.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2010-10-31T09:23:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120942",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_events_030975.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "rename": {
        "from": "developer's guide: new chapter \"Advanced Mercurial Usage\"",
        "to": "developer's guide: warnings & notes about commit message, cloning and setting the text editor"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10190#event-30975"
}
```



---

archive/issue_comments_120943.json:
```json
{
    "body": "<a id='comment:10'></a>\nUpdated patch takes into account most reviewer comments. I scrapped the idea of creating a new chapter on advanced Mercurial usage. That can wait for another ticket. The new patch has warnings and notes about commit message, cloning, and setting the text editor all within the walk-through chapter. Here's a summary of changes proposed by the patch:\n\n* Warnings about the inefficiency of cloning and point out that Mercurial queues fits naturally into the patch management problem.\n* Some typo fixes.\n* Explain that you can write a commit message that spans multiple lines.\n* Instructions on writing/editing a commit message with Vi(m) and then quit the Vi(m) editor.\n* Explain that Sage's interface to Mercurial is very basic and that directly using Mercurial can allow you to be much more productive.",
    "created_at": "2010-10-31T09:23:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120943",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:10'></a>
Updated patch takes into account most reviewer comments. I scrapped the idea of creating a new chapter on advanced Mercurial usage. That can wait for another ticket. The new patch has warnings and notes about commit message, cloning, and setting the text editor all within the walk-through chapter. Here's a summary of changes proposed by the patch:

* Warnings about the inefficiency of cloning and point out that Mercurial queues fits naturally into the patch management problem.
* Some typo fixes.
* Explain that you can write a commit message that spans multiple lines.
* Instructions on writing/editing a commit message with Vi(m) and then quit the Vi(m) editor.
* Explain that Sage's interface to Mercurial is very basic and that directly using Mercurial can allow you to be much more productive.



---

archive/issue_comments_120944.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [mvngu](#comment%3A10):\n\nHi Minh,\n\nThanks for your work on this one.  Two quick comments before I head out for a bit.\n\n1.  When you say:\n\n```\ni.e. Mercurial queues, for efficiently working with a sandbox of \nthe Sage library\n```\n\nI think it would be better not to infer that queues give you a \"sandbox\".  A clone makes a copy of lots of source code and if you wreck it you can delete it.  No harm.  Queues work on the one copy of source code, though it is easy to back out of a mess, but you can't just trash it.  Maybe delete \"a sandbox of\" for each copy of the warning?\n\n2.  I think leif's suggestion was to put an \"editor=\" line in the template, all filled in to point to vim.  I have new users cut/paste the template to construct an `.hgrc` file - somebody wishing to change it would find it later in their `.hgrc`.\n\nGotta run.\n\nRob",
    "created_at": "2010-10-31T11:02:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120944",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:11'></a>
Replying to [mvngu](#comment%3A10):

Hi Minh,

Thanks for your work on this one.  Two quick comments before I head out for a bit.

1.  When you say:

```
i.e. Mercurial queues, for efficiently working with a sandbox of 
the Sage library
```

I think it would be better not to infer that queues give you a "sandbox".  A clone makes a copy of lots of source code and if you wreck it you can delete it.  No harm.  Queues work on the one copy of source code, though it is easy to back out of a mess, but you can't just trash it.  Maybe delete "a sandbox of" for each copy of the warning?

2.  I think leif's suggestion was to put an "editor=" line in the template, all filled in to point to vim.  I have new users cut/paste the template to construct an `.hgrc` file - somebody wishing to change it would find it later in their `.hgrc`.

Gotta run.

Rob



---

archive/attachments_013324.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac-10190_mercurial.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket10190/trac-10190_mercurial.patch",
    "created_at": "2010-11-01T11:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```



---

archive/issue_comments_120945.json:
```json
{
    "body": "",
    "created_at": "2010-11-01T11:32:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120945",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```





---

archive/issue_comments_120946.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n Add a new chapter to the Developer's Guide on advanced uses of Mercurial.\n+\n+See the following URL for the rebuilt Developer's Guide after applying the patch below to Sage 4.6.\n+\n+http://mvngu.googlecode.com/hg/10190-mercurial/index.html\n``````\n",
    "created_at": "2010-11-01T11:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120946",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 Add a new chapter to the Developer's Guide on advanced uses of Mercurial.
+
+See the following URL for the rebuilt Developer's Guide after applying the patch below to Sage 4.6.
+
+http://mvngu.googlecode.com/hg/10190-mercurial/index.html
``````




---

archive/issue_comments_120947.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [rbeezer](#comment%3A11):\n> I think it would be better not to infer that queues give you a \"sandbox\".  A clone makes a copy of lots of source code and if you wreck it you can delete it.  No harm.  Queues work on the one copy of source code, though it is easy to back out of a mess, but you can't just trash it.  Maybe delete \"a sandbox of\" for each copy of the warning?\n\n\nDone. The warnings are reworded to avoid giving the impression that queues give user a sandbox.\n\n\n\n\n> 2.  I think leif's suggestion was to put an \"editor=\" line in the template, all filled in to point to vim.  I have new users cut/paste the template to construct an `.hgrc` file - somebody wishing to change it would find it later in their `.hgrc`.\n\n\nDone. The updated `~/.hgrc` template has the section `editor =` together with other common configuration options.",
    "created_at": "2010-11-01T11:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120947",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:12'></a>
Replying to [rbeezer](#comment%3A11):
> I think it would be better not to infer that queues give you a "sandbox".  A clone makes a copy of lots of source code and if you wreck it you can delete it.  No harm.  Queues work on the one copy of source code, though it is easy to back out of a mess, but you can't just trash it.  Maybe delete "a sandbox of" for each copy of the warning?


Done. The warnings are reworded to avoid giving the impression that queues give user a sandbox.




> 2.  I think leif's suggestion was to put an "editor=" line in the template, all filled in to point to vim.  I have new users cut/paste the template to construct an `.hgrc` file - somebody wishing to change it would find it later in their `.hgrc`.


Done. The updated `~/.hgrc` template has the section `editor =` together with other common configuration options.



---

archive/issue_comments_120948.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [leif](#comment%3A9):\n> Perhaps a bit OT: Is there any advantage (perhaps to a new user) of using Mercurial from the Sage prompt?\n> \n\n\nYes.  Again, this comment can only come from someone who has used command line stuff for so long that it is second nature (that's not an insult, just a fact - please take no offense).\n\n\"Just\" setting up an alias to Sage's HG is already non-intuitive, esp. if one doesn't know what a .bashrc or whatever is, and then there is the issue of when one upgrades/builds a new Sage, having to change the alias... or not setting up an alias, which is what I do in the rare instances that I need the full Sage HG.\n\nBut pointing out for those who have done so before or are comfortable with such things \"here's how easy it is to set this up right\" would be fine.",
    "created_at": "2010-11-01T14:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120948",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:13'></a>
Replying to [leif](#comment%3A9):
> Perhaps a bit OT: Is there any advantage (perhaps to a new user) of using Mercurial from the Sage prompt?
> 


Yes.  Again, this comment can only come from someone who has used command line stuff for so long that it is second nature (that's not an insult, just a fact - please take no offense).

"Just" setting up an alias to Sage's HG is already non-intuitive, esp. if one doesn't know what a .bashrc or whatever is, and then there is the issue of when one upgrades/builds a new Sage, having to change the alias... or not setting up an alias, which is what I do in the rare instances that I need the full Sage HG.

But pointing out for those who have done so before or are comfortable with such things "here's how easy it is to set this up right" would be fine.



---

archive/issue_comments_120949.json:
```json
{
    "body": "<a id='comment:14'></a>\nI was rather thinking that mixing the usage of Mercurial from the Sage prompt (a command line interface anyway ;-) but with a quite different syntax) and the shell prompt might be more confusing. (The Sage functions could be moved to another section or paragraph.) \n\nSetting up an alias is a different issue; for those that don't have a system-wide `hg` we could use `./sage -hg ...` (perhaps without the `./`) in the examples.",
    "created_at": "2010-11-01T16:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120949",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:14'></a>
I was rather thinking that mixing the usage of Mercurial from the Sage prompt (a command line interface anyway ;-) but with a quite different syntax) and the shell prompt might be more confusing. (The Sage functions could be moved to another section or paragraph.) 

Setting up an alias is a different issue; for those that don't have a system-wide `hg` we could use `./sage -hg ...` (perhaps without the `./`) in the examples.



---

archive/issue_comments_120950.json:
```json
{
    "body": "<a id='comment:15'></a>\nMinh, in case I can consider your patch \"stable\", I'll create a patch on top of yours with some suggestions (but not right now), which I think is easier than listing them in a comment.\n\nJust one point in advance: Wouldn't it be easier to start the examples from a Sage shell, `./sage -sh`?\n\nThen we'd not only have `SAGE_ROOT` a properly set environment variable, but also `sage` and other commands (including `hg` btw.) in the path (`$PATH`).\n\n(I assume people more familiar with shells / the command line will be able to ignore this step and know how to \"translate\" the examples if necessary.)",
    "created_at": "2010-11-01T17:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120950",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:15'></a>
Minh, in case I can consider your patch "stable", I'll create a patch on top of yours with some suggestions (but not right now), which I think is easier than listing them in a comment.

Just one point in advance: Wouldn't it be easier to start the examples from a Sage shell, `./sage -sh`?

Then we'd not only have `SAGE_ROOT` a properly set environment variable, but also `sage` and other commands (including `hg` btw.) in the path (`$PATH`).

(I assume people more familiar with shells / the command line will be able to ignore this step and know how to "translate" the examples if necessary.)



---

archive/issue_comments_120951.json:
```json
{
    "body": "<a id='comment:16'></a>\nHere are some comments: on line 107 of the patch, \"Mercurial queues fits\" \u2014 change \"fits\" to \"fit\".\n\nLines 234-239: I don't agree that the Sage interface is limiting: you can execute any Mercurial command with the Sage library repo, for example, by typing `hg_sage(\"command\")`.  It is true that the number of options available via tab completion is not great, in particular missing anything having to do with queues.\n\nI don't think that we need the same warning about cloning three different times, especially since the lines before give a link to the section on creating a clone, which includes the original warning.  (I'm also hoping that #6495 will help speed up the cloning process.)\n\nRegarding `HGEDITOR` etc., it seems to me that you don't need to enter the full path for the editor.  I tried with `export HGEDITOR=vim`, and similarly for the `editor` setting in `.hgrc`, and it worked fine.  Do we need so much detail for this setting, or can we just advise users to set their `EDITOR` environment variable, perhaps with a link to [http://mercurial.selenic.com/wiki/editor](http://mercurial.selenic.com/wiki/editor)?",
    "created_at": "2011-08-02T20:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120951",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:16'></a>
Here are some comments: on line 107 of the patch, "Mercurial queues fits" — change "fits" to "fit".

Lines 234-239: I don't agree that the Sage interface is limiting: you can execute any Mercurial command with the Sage library repo, for example, by typing `hg_sage("command")`.  It is true that the number of options available via tab completion is not great, in particular missing anything having to do with queues.

I don't think that we need the same warning about cloning three different times, especially since the lines before give a link to the section on creating a clone, which includes the original warning.  (I'm also hoping that #6495 will help speed up the cloning process.)

Regarding `HGEDITOR` etc., it seems to me that you don't need to enter the full path for the editor.  I tried with `export HGEDITOR=vim`, and similarly for the `editor` setting in `.hgrc`, and it worked fine.  Do we need so much detail for this setting, or can we just advise users to set their `EDITOR` environment variable, perhaps with a link to [http://mercurial.selenic.com/wiki/editor](http://mercurial.selenic.com/wiki/editor)?



---

archive/issue_comments_120952.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2011-08-02T20:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120952",
    "user": "https://github.com/jhpalmieri"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_120953.json:
```json
{
    "body": "<a id='comment:17'></a>\nBy the way, #11142 adds commands for working with queues to the Sage classes like `hg_sage`.  Also, Leif, one small advantage of working within Sage is that you don't have to change to the appropriate directory first: you can start Sage from any directory and `hg_sage...` will access the main Sage repository.  So you can work with all of the repos at once without changing directories or having multiple terminal windows open.  Not a big deal, but one answer to your question.",
    "created_at": "2011-08-02T20:34:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120953",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'></a>
By the way, #11142 adds commands for working with queues to the Sage classes like `hg_sage`.  Also, Leif, one small advantage of working within Sage is that you don't have to change to the appropriate directory first: you can start Sage from any directory and `hg_sage...` will access the main Sage repository.  So you can work with all of the repos at once without changing directories or having multiple terminal windows open.  Not a big deal, but one answer to your question.



---

archive/issue_comments_120954.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [jhpalmieri](#comment%3A17):\n> By the way, #11142 adds commands for working with queues to the Sage classes like `hg_sage`. \n\nOh, I didn't know that ticket did that too - that's great.\n> Also, Leif, one small advantage of working within Sage is that you don't have to change to the appropriate directory first: you can start Sage from any directory and `hg_sage...` will access the main Sage repository.  So you can work with all of the repos at once without changing directories or having multiple terminal windows open.  Not a big deal, but one answer to your question.\n\n\n+1, I really like this part, though I'm starting to use hg outside sometimes now.",
    "created_at": "2011-08-03T00:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120954",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'></a>
Replying to [jhpalmieri](#comment%3A17):
> By the way, #11142 adds commands for working with queues to the Sage classes like `hg_sage`. 

Oh, I didn't know that ticket did that too - that's great.
> Also, Leif, one small advantage of working within Sage is that you don't have to change to the appropriate directory first: you can start Sage from any directory and `hg_sage...` will access the main Sage repository.  So you can work with all of the repos at once without changing directories or having multiple terminal windows open.  Not a big deal, but one answer to your question.


+1, I really like this part, though I'm starting to use hg outside sometimes now.



---

archive/issue_events_030976.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10190#event-30976"
}
```



---

archive/issue_events_030977.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10190#event-30977"
}
```



---

archive/issue_events_030978.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10190#event-30978"
}
```



---

archive/issue_comments_120955.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2014-03-15T18:58:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120955",
    "user": "https://github.com/mezzarobba"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_120956.json:
```json
{
    "body": "<a id='comment:21'></a>\nProbably no longer relevant.",
    "created_at": "2014-03-15T18:58:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120956",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:21'></a>
Probably no longer relevant.



---

archive/issue_events_030979.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2014-03-15T18:58:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10190#event-30979"
}
```



---

archive/issue_events_030980.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2014-03-15T18:58:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10190#event-30980"
}
```



---

archive/issue_comments_120957.json:
```json
{
    "body": "<a id='comment:22'></a>\nYeah, though that doesn't mean that the git info doesn't need more details.  But that would be a different ticket.\n\nUsually for a \"not relevant\" you only need one reviewer + the release manager, so feel free to put positive review and your name.",
    "created_at": "2014-03-16T00:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120957",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:22'></a>
Yeah, though that doesn't mean that the git info doesn't need more details.  But that would be a different ticket.

Usually for a "not relevant" you only need one reviewer + the release manager, so feel free to put positive review and your name.



---

archive/issue_comments_120958.json:
```json
{
    "body": "**Reviewer:** Marc mezzarobba",
    "created_at": "2014-03-16T08:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120958",
    "user": "https://github.com/mezzarobba"
}
```

**Reviewer:** Marc mezzarobba



---

archive/issue_comments_120959.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2014-03-16T08:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10190#issuecomment-120959",
    "user": "https://github.com/mezzarobba"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_030981.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-03-19T04:38:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10190",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10190#event-30981"
}
```
