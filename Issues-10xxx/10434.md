# Issue 10434: add doctests from #8582 and other integration improvements from Maxima 5.22.1

archive/issues_010381.json:
```json
{
    "body": "This is a follow-up to ticket #10187. Tickets #8582 and #8624 have many useful doctests to ensure that the upgrade to Maxima 5.22.1 fixes many reported issues. Add those doctests.\n\nAssignee: mvngu\n\nCC:  @burcin @jasongrout\n\nResolution: fixed\n\nAuthor: Minh Van Nguyen\n\nReviewer: Karl-Dieter Crisman\n\nMerged: sage-4.6.1.rc0\n\nIssue created by migration from https://trac.sagemath.org/ticket/10434\n\n",
    "closed_at": "2010-12-19T09:34:02Z",
    "created_at": "2010-12-06T13:36:46Z",
    "labels": [
        "component: documentation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6.1",
    "title": "add doctests from #8582 and other integration improvements from Maxima 5.22.1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10434",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```
This is a follow-up to ticket #10187. Tickets #8582 and #8624 have many useful doctests to ensure that the upgrade to Maxima 5.22.1 fixes many reported issues. Add those doctests.

Assignee: mvngu

CC:  @burcin @jasongrout

Resolution: fixed

Author: Minh Van Nguyen

Reviewer: Karl-Dieter Crisman

Merged: sage-4.6.1.rc0

Issue created by migration from https://trac.sagemath.org/ticket/10434





---

archive/issue_comments_128700.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This is a follow-up to ticket #10187.\n+This is a follow-up to ticket #10187. Tickets #8582 and #8624 have many useful doctests to ensure that the upgrade to Maxima 5.22.1 fixes many reported issues. Add those doctests.\n \n Comment: 1\n \n``````\n",
    "created_at": "2010-12-06T13:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128700",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This is a follow-up to ticket #10187.
+This is a follow-up to ticket #10187. Tickets #8582 and #8624 have many useful doctests to ensure that the upgrade to Maxima 5.22.1 fixes many reported issues. Add those doctests.
 
 Comment: 1
 
``````




---

archive/issue_comments_128701.json:
```json
{
    "body": "<a id='comment:3'></a>Attachment [trac-10434_doctests.patch](tarball://root/attachments/some-uuid/ticket10434/trac-10434_doctests.patch) by mvngu created at 2010-12-06 15:31:18\n\nIn Sage 4.6.1.alpha3, I cannot/don't know how to reproduce the following:\n\n```\nsage: integrate(sqrt(x + sqrt(x)), x).simplify_full() \n1/12*sqrt(sqrt(x) + 1)*((8*x - 3)*x^(1/4) + 2*x^(3/4)) - 1/8*log(sqrt(sqrt(x) + 1) - x^(1/4)) + 1/8*log(sqrt(sqrt(x) + 1) + x^(1/4))\n```\n\nI left out the remaining doctests from [attachment:http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8624/trac-8624-abs-integration.patch] because those, I think, haven't resulted in failures.",
    "created_at": "2010-12-06T15:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128701",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:3'></a>Attachment [trac-10434_doctests.patch](tarball://root/attachments/some-uuid/ticket10434/trac-10434_doctests.patch) by mvngu created at 2010-12-06 15:31:18

In Sage 4.6.1.alpha3, I cannot/don't know how to reproduce the following:

```
sage: integrate(sqrt(x + sqrt(x)), x).simplify_full() 
1/12*sqrt(sqrt(x) + 1)*((8*x - 3)*x^(1/4) + 2*x^(3/4)) - 1/8*log(sqrt(sqrt(x) + 1) - x^(1/4)) + 1/8*log(sqrt(sqrt(x) + 1) + x^(1/4))
```

I left out the remaining doctests from [attachment:http://trac.sagemath.org/sage_trac/raw-attachment/ticket/8624/trac-8624-abs-integration.patch] because those, I think, haven't resulted in failures.



---

archive/issue_comments_128702.json:
```json
{
    "body": "Changing author from \"\" to \"Minh Van Nguyen\"",
    "created_at": "2010-12-06T15:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128702",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing author from "" to "Minh Van Nguyen"



---

archive/issue_comments_128703.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-12-06T15:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128703",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_128704.json:
```json
{
    "body": "<a id='comment:4'></a>I really hate opening new tickets... makes it look like we're making Sage better than is actually true.  Anyway, once I get the chance to upgrade I will take a look at this.",
    "created_at": "2010-12-06T18:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128704",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>I really hate opening new tickets... makes it look like we're making Sage better than is actually true.  Anyway, once I get the chance to upgrade I will take a look at this.



---

archive/issue_comments_128705.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 kcrisman]:\n> I really hate opening new tickets... makes it look like we're making Sage better than is actually true.  Anyway, once I get the chance to upgrade I will take a look at this.\n\n\nI agree. I would have preferred to close those tickets after merging patches with doctests as well.\n\nIn this case, I think we should still reopen #8624 and change the summary to \"enable abs_integrate package from maxima\".",
    "created_at": "2010-12-06T19:03:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128705",
    "user": "https://github.com/burcin"
}
```

<a id='comment:5'></a>Replying to [comment:4 kcrisman]:
> I really hate opening new tickets... makes it look like we're making Sage better than is actually true.  Anyway, once I get the chance to upgrade I will take a look at this.


I agree. I would have preferred to close those tickets after merging patches with doctests as well.

In this case, I think we should still reopen #8624 and change the summary to "enable abs_integrate package from maxima".



---

archive/issue_comments_128706.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-12-08T21:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128706",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_128707.json:
```json
{
    "body": "<a id='comment:6'></a>Okay, correctly checks #8582 and does the right stuff from #8624 that we need.  I agree with Minh that the other stuff was not needed.  \n\nVery odd about the `sqrt(x+sqrt(x))` thing.  I think that Burcin is right; we never enabled the abs integrate - Maxima just got better at the #8624 integrals on its own:\n\n```\n\nMaxima 5.22.1 http://maxima.sourceforge.net\nusing Lisp ECL 10.4.1\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) integrate(abs(cos(x))*sin(x),x,%pi/2,%pi);\n                                       1\n(%o1)                                  -\n                                       2\n```\n\nSo I respectfully request that someone with the authority reopen that ticket as he suggests, with new title.  Using `abs_integrate` does solve the square root integral in question (`sqrt(x+sqrt(x))`).\n\nHowever, I think that this one can still be merged, since there are no problems with these, and they were verified as correct on the relevant tickets, and it passes the tests, of course, and applies, of course.\n\nTo release manager/patchbot: doc fix only, apply trac-10434_doctests.patch",
    "created_at": "2010-12-08T21:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128707",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>Okay, correctly checks #8582 and does the right stuff from #8624 that we need.  I agree with Minh that the other stuff was not needed.  

Very odd about the `sqrt(x+sqrt(x))` thing.  I think that Burcin is right; we never enabled the abs integrate - Maxima just got better at the #8624 integrals on its own:

```

Maxima 5.22.1 http://maxima.sourceforge.net
using Lisp ECL 10.4.1
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) integrate(abs(cos(x))*sin(x),x,%pi/2,%pi);
                                       1
(%o1)                                  -
                                       2
```

So I respectfully request that someone with the authority reopen that ticket as he suggests, with new title.  Using `abs_integrate` does solve the square root integral in question (`sqrt(x+sqrt(x))`).

However, I think that this one can still be merged, since there are no problems with these, and they were verified as correct on the relevant tickets, and it passes the tests, of course, and applies, of course.

To release manager/patchbot: doc fix only, apply trac-10434_doctests.patch



---

archive/issue_comments_128708.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Karl-Dieter Crisman\"",
    "created_at": "2010-12-08T21:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128708",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "" to "Karl-Dieter Crisman"



---

archive/issue_comments_128709.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.6.1.rc0\"",
    "created_at": "2010-12-19T09:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128709",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-4.6.1.rc0"



---

archive/issue_events_026726.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-12-19T09:34:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10434#event-26726"
}
```



---

archive/issue_comments_128710.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-12-19T09:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128710",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_128711.json:
```json
{
    "body": "<a id='comment:8'></a>See also #11483 for the `abs_integrate` stuff.",
    "created_at": "2011-06-14T18:15:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10434",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10434#issuecomment-128711",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>See also #11483 for the `abs_integrate` stuff.
