# Issue 10804: Improvements to partn_ref functions, including stabilizer chains

archive/issues_010738.json:
```json
{
    "body": "Stabilizer chains and other improvements.\n\nAssignee: @rlmill\n\nCC:  boothby\n\nResolution: fixed\n\nDependencies: #10886, #10549\n\nAuthor: Robert Miller\n\nReviewer: Tom Boothby\n\nMerged: sage-4.7.1.alpha2\n\nIssue created by migration from https://trac.sagemath.org/ticket/10804\n\n",
    "closed_at": "2011-06-01T07:10:38Z",
    "created_at": "2011-02-19T09:06:21Z",
    "labels": [
        "component: group theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.1",
    "title": "Improvements to partn_ref functions, including stabilizer chains",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10804",
    "user": "https://github.com/rlmill"
}
```
Stabilizer chains and other improvements.

Assignee: @rlmill

CC:  boothby

Resolution: fixed

Dependencies: #10886, #10549

Author: Robert Miller

Reviewer: Tom Boothby

Merged: sage-4.7.1.alpha2

Issue created by migration from https://trac.sagemath.org/ticket/10804





---

archive/issue_comments_118827.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-03-08T21:25:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118827",
    "user": "https://github.com/rlmill"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_118828.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-03-29T17:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118828",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_118829.json:
```json
{
    "body": "<a id='comment:3'></a>buildbot applied the wrong patch... let's see if it works next time.",
    "created_at": "2011-03-29T17:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118829",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:3'></a>buildbot applied the wrong patch... let's see if it works next time.



---

archive/issue_comments_118830.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-03-29T17:56:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118830",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_118831.json:
```json
{
    "body": "<a id='comment:5'></a>apply trac_10804.patch",
    "created_at": "2011-04-01T20:00:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118831",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:5'></a>apply trac_10804.patch



---

archive/issue_comments_118832.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-04-01T20:01:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118832",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_118833.json:
```json
{
    "body": "<a id='comment:6'></a>Just updated patch to deal with conflict coming from #10712.",
    "created_at": "2011-04-01T20:01:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118833",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:6'></a>Just updated patch to deal with conflict coming from #10712.



---

archive/issue_comments_118834.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-04-01T20:02:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118834",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_118835.json:
```json
{
    "body": "<a id='comment:8'></a>How do I get the buildbot to try again?",
    "created_at": "2011-04-04T18:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118835",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:8'></a>How do I get the buildbot to try again?



---

archive/issue_comments_118836.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2011-04-05T04:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118836",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_118837.json:
```json
{
    "body": "<a id='comment:9'></a>I just tried to apply this to 4.6.2.rc0 and got loads of failed hunks.  Am I missing something, or are you?",
    "created_at": "2011-04-05T04:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118837",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:9'></a>I just tried to apply this to 4.6.2.rc0 and got loads of failed hunks.  Am I missing something, or are you?



---

archive/issue_comments_118838.json:
```json
{
    "body": "<a id='comment:10'></a>Due to #10712 you need 4.6.2.rc1 or later.",
    "created_at": "2011-04-05T18:22:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118838",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:10'></a>Due to #10712 you need 4.6.2.rc1 or later.



---

archive/issue_comments_118839.json:
```json
{
    "body": "<a id='comment:11'></a>I just successfully applied this patch to sage-4.7.alpha3.",
    "created_at": "2011-04-05T21:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118839",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:11'></a>I just successfully applied this patch to sage-4.7.alpha3.



---

archive/issue_comments_118840.json:
```json
{
    "body": "<a id='comment:12'></a>Okay, this is a little weird.  Applied fine to 4.6.2, but I get the following:\n\n```\nsage -t  \".6.2/devel/sage/sage/groups/perm_gps/permgroup_morphism.py\"\n         [8.1 s]\nsage -t  \".6.2/devel/sage/sage/groups/generic.py\"\n         [13.3 s]\nsage -t  \".6.2/devel/sage/sage/stats/__init__.py\"\n         [0.2 s]\nsage -t  \".6.2/devel/sage/sage/stats/intlist.pyx\"\n         [7.0 s]\nsage -t  \".6.2/devel/sage/sage/stats/all.py\"\n         [0.2 s]\nsage -t  \".6.2/devel/sage/sage/stats/test.py\"\n\n            if coset_eq(p, r, gens):\n                found = True\n                break\n        if not found:\n            reps.append(p)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/tboothby/sage-4.6.2/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_1[14]>\", line 5, in <module>\n        if coset_eq(p, r, gens):\n    NameError: name 'coset_eq' is not defined\n**********************************************************************\nFile \"/cecm/home/tboothby/sage-4.6.2/devel/sage/sage/groups/perm_gps/partn_ref/double_coset.pyx\", line 165:\n    sage: len(reps)\nExpected:\n    8\nGot:\n    1\n**********************************************************************\n1 items had failures:\n   8 of  16 in __main__.example_1\n***Test Failed*** 8 failures.\nFor whitespace errors, see the file /home/tboothby/.sage//tmp/.doctest_double_coset.py\n         [5.3 s]\nsage -t  \".6.2/devel/sage/sage/groups/perm_gps/permgroup_element.pyx\"\n         [6.0 s]\nsage -t  \".6.2/devel/sage/sage/groups/perm_gps/permgroup_morphism.py\"\n         [8.1 s]\nsage -t  \".6.2/devel/sage/sage/groups/generic.py\"\n         [13.3 s]\nsage -t  \".6.2/devel/sage/sage/stats/__init__.py\"\n         [0.2 s]\nsage -t  \".6.2/devel/sage/sage/stats/intlist.pyx\"\n         [7.0 s]\nsage -t  \".6.2/devel/sage/sage/stats/all.py\"\n         [0.2 s]\nsage -t  \".6.2/devel/sage/sage/stats/test.py\"\n\n            if coset_eq(p, r, gens):\n                found = True\n                break\n        if not found:\n            reps.append(p)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/tboothby/sage-4.6.2/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_1[14]>\", line 5, in <module>\n        if coset_eq(p, r, gens):\n    NameError: name 'coset_eq' is not defined\n**********************************************************************\nFile \"/cecm/home/tboothby/sage-4.6.2/devel/sage/sage/groups/perm_gps/partn_ref/double_coset.pyx\", line 165:\n    sage: len(reps)\nExpected:\n    8\nGot:\n    1\n**********************************************************************\n1 items had failures:\n   8 of  16 in __main__.example_1\n***Test Failed*** 8 failures.\nFor whitespace errors, see the file /home/tboothby/.sage//tmp/.doctest_double_coset.py\n         [5.3 s]\nsage -t  \".6.2/devel/sage/sage/groups/perm_gps/permgroup_element.pyx\"\n         [6.0 s]\nsage -t  \".6.2/devel/sage/sage/groups/perm_gps/permgroup_morphism.py\"\n         [8.1 s]\nsage -t  \".6.2/devel/sage/sage/groups/generic.py\"\n         [13.3 s]\nsage -t  \".6.2/devel/sage/sage/stats/__init__.py\"\n         [0.2 s]\nsage -t  \".6.2/devel/sage/sage/stats/intlist.pyx\"\n         [7.0 s]\nsage -t  \".6.2/devel/sage/sage/stats/all.py\"\n         [0.2 s]\nsage -t  \".6.2/devel/sage/sage/stats/test.py\"\n         [4.8 s]\nsage -t  \".6.2/devel/sage/sage/stats/basic_stats.py\"        \n\n                break\n        if not found:\n            reps.append(p)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/tboothby/sage-4.6.2/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_1[14]>\", line 5, in <module>\n        if coset_eq(p, r, gens):\n    NameError: name 'coset_eq' is not defined\n**********************************************************************\nFile \"/cecm/home/tboothby/sage-4.6.2/devel/sage/sage/groups/perm_gps/partn_ref/double_coset.pyx\", line 165:\n    sage: len(reps)\nExpected:\n    8\nGot:\n    1\n**********************************************************************\n1 items had failures:\n   8 of  16 in __main__.example_1\n***Test Failed*** 8 failures.\nFor whitespace errors, see the file /home/tboothby/.sage//tmp/.doctest_double_coset.py\n         [5.3 s]\nsage -t  \".6.2/devel/sage/sage/groups/perm_gps/permgroup_element.pyx\"\n         [6.0 s]\nsage -t  \".6.2/devel/sage/sage/groups/perm_gps/permgroup_morphism.py\"\n```\n\n... and it just keeps going.  This machine is a little flaky, so maybe the problem is on my end.  I'll try it on my laptop tonight.",
    "created_at": "2011-04-06T17:30:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118840",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:12'></a>Okay, this is a little weird.  Applied fine to 4.6.2, but I get the following:

```
sage -t  ".6.2/devel/sage/sage/groups/perm_gps/permgroup_morphism.py"
         [8.1 s]
sage -t  ".6.2/devel/sage/sage/groups/generic.py"
         [13.3 s]
sage -t  ".6.2/devel/sage/sage/stats/__init__.py"
         [0.2 s]
sage -t  ".6.2/devel/sage/sage/stats/intlist.pyx"
         [7.0 s]
sage -t  ".6.2/devel/sage/sage/stats/all.py"
         [0.2 s]
sage -t  ".6.2/devel/sage/sage/stats/test.py"

            if coset_eq(p, r, gens):
                found = True
                break
        if not found:
            reps.append(p)
Exception raised:
    Traceback (most recent call last):
      File "/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/tboothby/sage-4.6.2/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_1[14]>", line 5, in <module>
        if coset_eq(p, r, gens):
    NameError: name 'coset_eq' is not defined
**********************************************************************
File "/cecm/home/tboothby/sage-4.6.2/devel/sage/sage/groups/perm_gps/partn_ref/double_coset.pyx", line 165:
    sage: len(reps)
Expected:
    8
Got:
    1
**********************************************************************
1 items had failures:
   8 of  16 in __main__.example_1
***Test Failed*** 8 failures.
For whitespace errors, see the file /home/tboothby/.sage//tmp/.doctest_double_coset.py
         [5.3 s]
sage -t  ".6.2/devel/sage/sage/groups/perm_gps/permgroup_element.pyx"
         [6.0 s]
sage -t  ".6.2/devel/sage/sage/groups/perm_gps/permgroup_morphism.py"
         [8.1 s]
sage -t  ".6.2/devel/sage/sage/groups/generic.py"
         [13.3 s]
sage -t  ".6.2/devel/sage/sage/stats/__init__.py"
         [0.2 s]
sage -t  ".6.2/devel/sage/sage/stats/intlist.pyx"
         [7.0 s]
sage -t  ".6.2/devel/sage/sage/stats/all.py"
         [0.2 s]
sage -t  ".6.2/devel/sage/sage/stats/test.py"

            if coset_eq(p, r, gens):
                found = True
                break
        if not found:
            reps.append(p)
Exception raised:
    Traceback (most recent call last):
      File "/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/tboothby/sage-4.6.2/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_1[14]>", line 5, in <module>
        if coset_eq(p, r, gens):
    NameError: name 'coset_eq' is not defined
**********************************************************************
File "/cecm/home/tboothby/sage-4.6.2/devel/sage/sage/groups/perm_gps/partn_ref/double_coset.pyx", line 165:
    sage: len(reps)
Expected:
    8
Got:
    1
**********************************************************************
1 items had failures:
   8 of  16 in __main__.example_1
***Test Failed*** 8 failures.
For whitespace errors, see the file /home/tboothby/.sage//tmp/.doctest_double_coset.py
         [5.3 s]
sage -t  ".6.2/devel/sage/sage/groups/perm_gps/permgroup_element.pyx"
         [6.0 s]
sage -t  ".6.2/devel/sage/sage/groups/perm_gps/permgroup_morphism.py"
         [8.1 s]
sage -t  ".6.2/devel/sage/sage/groups/generic.py"
         [13.3 s]
sage -t  ".6.2/devel/sage/sage/stats/__init__.py"
         [0.2 s]
sage -t  ".6.2/devel/sage/sage/stats/intlist.pyx"
         [7.0 s]
sage -t  ".6.2/devel/sage/sage/stats/all.py"
         [0.2 s]
sage -t  ".6.2/devel/sage/sage/stats/test.py"
         [4.8 s]
sage -t  ".6.2/devel/sage/sage/stats/basic_stats.py"        

                break
        if not found:
            reps.append(p)
Exception raised:
    Traceback (most recent call last):
      File "/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/tboothby/sage-4.6.2/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/tboothby/sage-4.6.2/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_1[14]>", line 5, in <module>
        if coset_eq(p, r, gens):
    NameError: name 'coset_eq' is not defined
**********************************************************************
File "/cecm/home/tboothby/sage-4.6.2/devel/sage/sage/groups/perm_gps/partn_ref/double_coset.pyx", line 165:
    sage: len(reps)
Expected:
    8
Got:
    1
**********************************************************************
1 items had failures:
   8 of  16 in __main__.example_1
***Test Failed*** 8 failures.
For whitespace errors, see the file /home/tboothby/.sage//tmp/.doctest_double_coset.py
         [5.3 s]
sage -t  ".6.2/devel/sage/sage/groups/perm_gps/permgroup_element.pyx"
         [6.0 s]
sage -t  ".6.2/devel/sage/sage/groups/perm_gps/permgroup_morphism.py"
```

... and it just keeps going.  This machine is a little flaky, so maybe the problem is on my end.  I'll try it on my laptop tonight.



---

archive/issue_comments_118841.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2011-04-07T15:32:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118841",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_118842.json:
```json
{
    "body": "<a id='comment:14'></a>bah, that was pebcak, I was wrong to blame my poor computer.  All tests pass, and this code looks really good!",
    "created_at": "2011-04-07T15:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118842",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:14'></a>bah, that was pebcak, I was wrong to blame my poor computer.  All tests pass, and this code looks really good!



---

archive/issue_comments_118843.json:
```json
{
    "body": "<a id='comment:15'></a>... and, I forgot to change the status on that last comment.  Does newbie behavior qualify me for a \"first time review\" in the changelog?",
    "created_at": "2011-04-11T20:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118843",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:15'></a>... and, I forgot to change the status on that last comment.  Does newbie behavior qualify me for a "first time review" in the changelog?



---

archive/issue_comments_118844.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-04-11T20:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118844",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_027878.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-12T13:32:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10804#event-27878"
}
```



---

archive/issue_comments_118845.json:
```json
{
    "body": "<a id='comment:17'></a>This needs to be rebased to sage-4.7.alpha4 (because of #10886).",
    "created_at": "2011-04-13T15:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118845",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>This needs to be rebased to sage-4.7.alpha4 (because of #10886).



---

archive/issue_comments_118846.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-04-13T15:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118846",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_118847.json:
```json
{
    "body": "<a id='comment:18'></a>A pretty trivial rebase, so I'm setting the status back to positive review.",
    "created_at": "2011-04-13T18:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118847",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:18'></a>A pretty trivial rebase, so I'm setting the status back to positive review.



---

archive/issue_comments_118848.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2011-04-13T18:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118848",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_118849.json:
```json
{
    "body": "<a id='comment:19'></a>\n```\nsage -t  -long -force_lib devel/sage/sage/groups/perm_gps/partn_ref/refinement_graphs.pyx\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.1.alpha0/devel/sage-main/sage/groups/perm_gps/partn_ref/refinement_graphs.pyx\", line 764:\n    sage: sage.groups.perm_gps.partn_ref.refinement_graphs.random_tests()  # long time (up to 25s on sage.math, 2011)\nExpected:\n    All passed: 640 random tests on 40 graphs.\nGot:\n    All passed: 200 random tests on 20 graphs.\n**********************************************************************\n```",
    "created_at": "2011-04-14T12:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118849",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
```
sage -t  -long -force_lib devel/sage/sage/groups/perm_gps/partn_ref/refinement_graphs.pyx
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.1.alpha0/devel/sage-main/sage/groups/perm_gps/partn_ref/refinement_graphs.pyx", line 764:
    sage: sage.groups.perm_gps.partn_ref.refinement_graphs.random_tests()  # long time (up to 25s on sage.math, 2011)
Expected:
    All passed: 640 random tests on 40 graphs.
Got:
    All passed: 200 random tests on 20 graphs.
**********************************************************************
```



---

archive/issue_comments_118850.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-04-14T12:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118850",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_118851.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2011-04-14T17:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118851",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_118852.json:
```json
{
    "body": "<a id='comment:20'></a>Sorry about that, please try again!",
    "created_at": "2011-04-14T17:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118852",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:20'></a>Sorry about that, please try again!



---

archive/issue_comments_118853.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-04-15T16:57:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118853",
    "user": "https://github.com/rlmill"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_118854.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+I'm glad I caught this in time...\n \n+The group output by the automorphism group function should be optional. Right now the stabilizer chain functions could seriously slow down some computations, such as automorphism groups of graphs of large degree. This is unnecessary and seriously bad. I'll update the patch and get it re-reviewed soon.\n \n Author: Robert Miller\n \n```\n",
    "created_at": "2011-04-15T16:57:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118854",
    "user": "https://github.com/rlmill"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,6 @@
+I'm glad I caught this in time...
 
+The group output by the automorphism group function should be optional. Right now the stabilizer chain functions could seriously slow down some computations, such as automorphism groups of graphs of large degree. This is unnecessary and seriously bad. I'll update the patch and get it re-reviewed soon.
 
 Author: Robert Miller
 
```




---

archive/issue_comments_118855.json:
```json
{
    "body": "<a id='comment:22'></a>I'm now convinced that the speed issues aren't a problem. The reason is that when we're computing an automorphism group we know that the stabilizer chain will be up to date below the current level, so we don't sift at all.\n\nJust to make the argument convincing, I tested empty graphs (which have full symmetry group and would be most likely to show this problem if it were there):\n\n```\nsage: G = Graph(n)\nsage: timeit('H = G.automorphism_group()')\n```\n\nThe results, in milliseconds:\n\n```\nn:      |  10 |  20 |  30 |  40 |  50 |\n--------|-----|-----|-----|-----|-----|\nBEFORE: | 148 | 313 | 480 | 645 | 809 |\nAFTER:  | 148 | 311 | 479 | 645 | 820 |\n```\n\nIn other words, no change at all. For a more complicated graph of higher degree:\n\n```\nsage: G = graphs.HigmanSimsGraph()\nsage: G.num_verts()\n100\nsage: G.num_edges()\n1100\n```\n\nBefore:\n\n```\nsage: timeit('H = G.automorphism_group()')\n5 loops, best of 3: 274 ms per loop\n```\n\nAfter:\n\n```\nsage: timeit('H = G.automorphism_group()')\n5 loops, best of 3: 267 ms per loop\n```\n\nSo no significant changes. I'm going to ask Tom to re-review this patch, since it's been through a few changes since he gave it the thumbs up. Note that this patch applies cleanly to sage-4.7.alpha4.",
    "created_at": "2011-04-15T17:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118855",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:22'></a>I'm now convinced that the speed issues aren't a problem. The reason is that when we're computing an automorphism group we know that the stabilizer chain will be up to date below the current level, so we don't sift at all.

Just to make the argument convincing, I tested empty graphs (which have full symmetry group and would be most likely to show this problem if it were there):

```
sage: G = Graph(n)
sage: timeit('H = G.automorphism_group()')
```

The results, in milliseconds:

```
n:      |  10 |  20 |  30 |  40 |  50 |
--------|-----|-----|-----|-----|-----|
BEFORE: | 148 | 313 | 480 | 645 | 809 |
AFTER:  | 148 | 311 | 479 | 645 | 820 |
```

In other words, no change at all. For a more complicated graph of higher degree:

```
sage: G = graphs.HigmanSimsGraph()
sage: G.num_verts()
100
sage: G.num_edges()
1100
```

Before:

```
sage: timeit('H = G.automorphism_group()')
5 loops, best of 3: 274 ms per loop
```

After:

```
sage: timeit('H = G.automorphism_group()')
5 loops, best of 3: 267 ms per loop
```

So no significant changes. I'm going to ask Tom to re-review this patch, since it's been through a few changes since he gave it the thumbs up. Note that this patch applies cleanly to sage-4.7.alpha4.



---

archive/issue_comments_118856.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-04-15T17:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118856",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_118857.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+Stabilizer chains and other improvements.\n \n Author: Robert Miller\n \n```\n",
    "created_at": "2011-04-15T17:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118857",
    "user": "https://github.com/rlmill"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+Stabilizer chains and other improvements.
 
 Author: Robert Miller
 
```




---

archive/issue_comments_118858.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+Stabilizer chains and other improvements.\n \n+Depends on #10712 and #10886.\n \n Author: Robert Miller\n \n```\n",
    "created_at": "2011-04-18T02:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118858",
    "user": "https://github.com/rlmill"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,6 @@
+Stabilizer chains and other improvements.
 
+Depends on #10712 and #10886.
 
 Author: Robert Miller
 
```




---

archive/issue_comments_118859.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2011-04-18T02:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118859",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_118860.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2011-04-18T02:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118860",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_118861.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-04-18T02:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118861",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_118862.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-04-18T02:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118862",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_118863.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-04-24T04:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118863",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_118864.json:
```json
{
    "body": "<a id='comment:27'></a>Tested against 4.7.alpha5, all tests pass!",
    "created_at": "2011-04-24T04:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118864",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:27'></a>Tested against 4.7.alpha5, all tests pass!



---

archive/issue_comments_118865.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-05-03T12:29:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118865",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_027879.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-03T12:29:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10804#event-27879"
}
```



---

archive/issue_comments_118866.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2011-05-10T08:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118866",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from closed to new.



---

archive/issue_events_027880.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-10T08:19:54Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10804#event-27880"
}
```



---

archive/issue_comments_118867.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2011-05-10T08:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118867",
    "user": "https://github.com/jdemeyer"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_118868.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+Stabilizer chains and other improvements.\n \n Author: Robert Miller\n \n```\n",
    "created_at": "2011-05-10T08:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118868",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+Stabilizer chains and other improvements.
 
 Author: Robert Miller
 
```




---

archive/issue_comments_118869.json:
```json
{
    "body": "<a id='comment:29'></a>This patch conflicts with #10549.",
    "created_at": "2011-05-10T08:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118869",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:29'></a>This patch conflicts with #10549.



---

archive/issue_comments_118870.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-05-10T08:20:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118870",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_118871.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-05-10T08:20:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118871",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_118872.json:
```json
{
    "body": "<a id='comment:33'></a>Hold on, wasn't this merged?  #10549 wasn't merged yet, why was this marked `needs_work`?",
    "created_at": "2011-05-13T04:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118872",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:33'></a>Hold on, wasn't this merged?  #10549 wasn't merged yet, why was this marked `needs_work`?



---

archive/issue_comments_118873.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-05-13T04:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118873",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_118874.json:
```json
{
    "body": "<a id='comment:34'></a>Attachment [trac_10804.patch](tarball://root/attachments/some-uuid/ticket10804/trac_10804.patch) by @rlmill created at 2011-05-13 04:58:05\n\nI've rebased the patch here on #10549...",
    "created_at": "2011-05-13T04:58:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118874",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:34'></a>Attachment [trac_10804.patch](tarball://root/attachments/some-uuid/ticket10804/trac_10804.patch) by @rlmill created at 2011-05-13 04:58:05

I've rebased the patch here on #10549...



---

archive/issue_comments_118875.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-05-16T04:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118875",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_118876.json:
```json
{
    "body": "<a id='comment:35'></a>works for me.",
    "created_at": "2011-05-16T04:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118876",
    "user": "https://trac.sagemath.org/admin/accounts/users/boothby"
}
```

<a id='comment:35'></a>works for me.



---

archive/issue_events_027881.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-01T07:10:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10804#event-27881"
}
```



---

archive/issue_comments_118877.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-06-01T07:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10804",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10804#issuecomment-118877",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
