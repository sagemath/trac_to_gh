# Issue 10360: Polyhedron.vertex_adjacencies() gives different answers because of a side effect

archive/issues_010359.json:
```json
{
    "body": "The vertex_adjacencies function returns a list giving the adjacency of every vertex of a polyhedron.\n\nIf you assign this list and modify it, it will also modify the output of any new call of vertex_adjacencies, which shouldn't be the case.\n\nThis can be reproduced in the following manner:\n\n```\n\nsage: P=Polyhedron([[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]);P.vertex_adjacencies()\n[[0, [1, 2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]\nsage: V_adj=P.vertex_adjacencies();V_adj\n[[0, [1, 2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]\nsage: V_adj[0][1].remove(1);V_adj\n[[0, [2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]\nsage: P.vertex_adjacencies()\n[[0, [2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]\n\n```\n\n**Assignee:** mhampton\n\n**CC:**  @vbraun\n\n**Keywords:** vertex adjacencies, polyhedron\n\n**Reviewer:** Volker Braun, Andrey Novoseltsev\n\n**Resolution:** duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/10360\n\n",
    "closed_at": "2013-04-10T08:06:30Z",
    "created_at": "2010-12-01T15:36:08Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Polyhedron.vertex_adjacencies() gives different answers because of a side effect",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10360",
    "user": "https://github.com/jplab"
}
```
The vertex_adjacencies function returns a list giving the adjacency of every vertex of a polyhedron.

If you assign this list and modify it, it will also modify the output of any new call of vertex_adjacencies, which shouldn't be the case.

This can be reproduced in the following manner:

```

sage: P=Polyhedron([[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]);P.vertex_adjacencies()
[[0, [1, 2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]
sage: V_adj=P.vertex_adjacencies();V_adj
[[0, [1, 2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]
sage: V_adj[0][1].remove(1);V_adj
[[0, [2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]
sage: P.vertex_adjacencies()
[[0, [2]], [1, [0, 3]], [2, [0, 4]], [3, [1, 5]], [4, [2, 5]], [5, [3, 4]]]

```

**Assignee:** mhampton

**CC:**  @vbraun

**Keywords:** vertex adjacencies, polyhedron

**Reviewer:** Volker Braun, Andrey Novoseltsev

**Resolution:** duplicate

Issue created by migration from https://trac.sagemath.org/ticket/10360





---

archive/issue_comments_134382.json:
```json
{
    "body": "<a id='comment:1'></a>\nI would suggest switching to tuples instead of lists for cached values.",
    "created_at": "2010-12-01T20:07:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10360#issuecomment-134382",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:1'></a>
I would suggest switching to tuples instead of lists for cached values.



---

archive/issue_comments_134383.json:
```json
{
    "body": "<a id='comment:2'></a>\nWe should deprecate the method and eventually remove it. Its just a bad API in so many ways... and changing lists of lists on nondescript integers into tuples of tuples of nondescript integers does not fix it :-)",
    "created_at": "2010-12-01T20:51:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10360#issuecomment-134383",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'></a>
We should deprecate the method and eventually remove it. Its just a bad API in so many ways... and changing lists of lists on nondescript integers into tuples of tuples of nondescript integers does not fix it :-)



---

archive/issue_comments_134384.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2013-04-07T11:43:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10360#issuecomment-134384",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_134385.json:
```json
{
    "body": "**Author:** Volker Braun",
    "created_at": "2013-04-07T11:43:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10360#issuecomment-134385",
    "user": "https://github.com/vbraun"
}
```

**Author:** Volker Braun



---

archive/issue_comments_134386.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis was fixed (i.e. deprecated) in #11763. Close as duplicate.",
    "created_at": "2013-04-07T11:43:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10360#issuecomment-134386",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>
This was fixed (i.e. deprecated) in #11763. Close as duplicate.



---

archive/issue_events_032023.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2013-04-07T11:43:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10360#event-32023"
}
```



---

archive/issue_comments_134387.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2013-04-07T17:03:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10360#issuecomment-134387",
    "user": "https://github.com/novoselt"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_134388.json:
```json
{
    "body": "**Reviewer:** Andrey Novoseltsev",
    "created_at": "2013-04-07T17:03:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10360#issuecomment-134388",
    "user": "https://github.com/novoselt"
}
```

**Reviewer:** Andrey Novoseltsev



---

archive/issue_events_032024.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-10T08:06:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10360#event-32024"
}
```



---

archive/issue_comments_134389.json:
```json
{
    "body": "**Changing reviewer** from \"Andrey Novoseltsev\" to \"Volker Braun, Andrey Novoseltsev\".",
    "created_at": "2013-04-10T08:06:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10360#issuecomment-134389",
    "user": "https://github.com/jdemeyer"
}
```

**Changing reviewer** from "Andrey Novoseltsev" to "Volker Braun, Andrey Novoseltsev".



---

archive/issue_comments_134390.json:
```json
{
    "body": "**Resolution:** duplicate",
    "created_at": "2013-04-10T08:06:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10360#issuecomment-134390",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** duplicate



---

archive/issue_comments_134391.json:
```json
{
    "body": "**Changing author** from \"Volker Braun\" to \"\".",
    "created_at": "2013-04-10T08:06:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10360",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10360#issuecomment-134391",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Volker Braun" to "".
