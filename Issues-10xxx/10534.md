# Issue 10534: Cleanup in choose_nk, split_nk, subword, subset

archive/issues_010481.json:
```json
{
    "assignees": [
        "https://github.com/videlec"
    ],
    "body": "- deprecate `ChooseNK` (in `sage.combinat.choose_nk`) and `SplitNK` (in `sage.combinat.split_nk`).\n- clean `sage.combinat.subword` and `sage.combinat.subset`\n  - inheritance from `Parent`\n  - much better iteration/random generation\n  - ...\n\nAnd become more pep8 compliant ;=)\n\nsee also: #16472\n\nCC:  @sagetrac-sage-combinat\n\nKeywords: **generation, combinatorics, set, subset, partition**\n\nBranch/Commit: **[`714f266`](https://github.com/sagemath/sagetrac-mirror/commit/714f266d81f57dd6d98daa5598a3b54478c213c8)**\n\nReviewer: **Florent Hivert, Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw**\n\nAuthor: **Vincent Delecroix, Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10534_\n\n",
    "closed_at": "2014-06-18T12:00:18Z",
    "created_at": "2010-12-30T16:27:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Cleanup in choose_nk, split_nk, subword, subset",
    "type": "issue",
    "updated_at": "2014-06-18T12:00:18Z",
    "url": "https://github.com/sagemath/sage/issues/10534",
    "user": "https://github.com/videlec"
}
```
- deprecate `ChooseNK` (in `sage.combinat.choose_nk`) and `SplitNK` (in `sage.combinat.split_nk`).
- clean `sage.combinat.subword` and `sage.combinat.subset`
  - inheritance from `Parent`
  - much better iteration/random generation
  - ...

And become more pep8 compliant ;=)

see also: #16472

CC:  @sagetrac-sage-combinat

Keywords: **generation, combinatorics, set, subset, partition**

Branch/Commit: **[`714f266`](https://github.com/sagemath/sagetrac-mirror/commit/714f266d81f57dd6d98daa5598a3b54478c213c8)**

Reviewer: **Florent Hivert, Frédéric Chapoton, Travis Scrimshaw**

Author: **Vincent Delecroix, Frédéric Chapoton**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/10534_





---

archive/issue_events_138561.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2010-12-30T16:27:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138561"
}
```



---

archive/issue_events_138562.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2010-12-30T16:27:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138562"
}
```



---

archive/issue_events_138563.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2010-12-30T16:27:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138563"
}
```



---

archive/issue_events_138564.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2010-12-30T16:27:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138564"
}
```



---

archive/issue_events_138565.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2010-12-30T16:27:16Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "subject": "https://github.com/videlec",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138565"
}
```



---

archive/issue_comments_100218.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,31 +1,36 @@\n-This ticket stands for a faster implementation of subset and partition generation of (finite or infinite) enumerated sets.\n+This ticket stands for a faster method of exhaustive generation of\n \n-The timing for anything related to Sage sage.combinat.Subwords, sage.combinat.Subsets, sage.combinat.SetPartitions, ... are very slow. The roadmap is as follows\n+* subwords\n+* subsets\n+* set partitions\n \n-1) **Low level generation:** Implement a small python extension which must be as performant as itertools is\n+Moreover we correct bugs and typos (see details in the patch) and create some random generation capabilities.\n+\n+Timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)\n+\n+Old version\n \n ```\n-sage: import itertools\n-sage: list(itertools.combinations(['a','b','c'],2))\n-[('a', 'b'), ('a', 'c'), ('b', 'c')]\n+sage: S = SetPartitions(8,[3,3,2])\n+sage: timeit('for p in S: pass')\n+5 loops, best of 3: 401 ms per loop\n+\n+sage: S = SetPartitions(9,[3,3,2,1])\n+sage: timeit('for p in S: pass')\n+5 loops, best of 3: 4 s per loop\n ```\n+New version\n \n-The following will be available:\n+```\n+sage: S = SetPartitions(8,[3,3,2])\n+sage: timeit('for p in S: pass')\n+5 loops, best of 3: 130 ms per loop\n+sage: timeit('for p in S._fast_iterator(): pass')\n+25 loops, best of 3: 10.4 ms per loop\n \n-* subset of given size\n-* all subsets\n-* set partitions with given integer combination\n-* all set partitions\n-\n-And for each of them different order of generation (lex, revlex, Gray codes, ...) and output as list or tuple.\n-\n-Any Suggested names for iterators?\n-\n-combinations_lex_as_list, combinations_lex_as_tuple combinations_revlex_as_\n-\n-2) **Include and interface it with Sage:** this won't be hard.\n-\n-REFERENCES:\n-\n-* Knuth TAOCP fascicule 3a\n-* Python C API http://docs.python.org/c-api/\n+sage: S = SetPartitions(9,[3,3,2,1])\n+sage: timeit('for p in S: pass')\n+5 loops, best of 3: 1.47 s per loop\n+sage: timeit('for p in S._fast_iterator(): pass')\n+5 loops, best of 3: 94.1 ms per loop\n+```\n``````\n",
    "created_at": "2011-03-28T11:12:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100218",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,31 +1,36 @@
-This ticket stands for a faster implementation of subset and partition generation of (finite or infinite) enumerated sets.
+This ticket stands for a faster method of exhaustive generation of
 
-The timing for anything related to Sage sage.combinat.Subwords, sage.combinat.Subsets, sage.combinat.SetPartitions, ... are very slow. The roadmap is as follows
+* subwords
+* subsets
+* set partitions
 
-1) **Low level generation:** Implement a small python extension which must be as performant as itertools is
+Moreover we correct bugs and typos (see details in the patch) and create some random generation capabilities.
+
+Timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)
+
+Old version
 
 ```
-sage: import itertools
-sage: list(itertools.combinations(['a','b','c'],2))
-[('a', 'b'), ('a', 'c'), ('b', 'c')]
+sage: S = SetPartitions(8,[3,3,2])
+sage: timeit('for p in S: pass')
+5 loops, best of 3: 401 ms per loop
+
+sage: S = SetPartitions(9,[3,3,2,1])
+sage: timeit('for p in S: pass')
+5 loops, best of 3: 4 s per loop
 ```
+New version
 
-The following will be available:
+```
+sage: S = SetPartitions(8,[3,3,2])
+sage: timeit('for p in S: pass')
+5 loops, best of 3: 130 ms per loop
+sage: timeit('for p in S._fast_iterator(): pass')
+25 loops, best of 3: 10.4 ms per loop
 
-* subset of given size
-* all subsets
-* set partitions with given integer combination
-* all set partitions
-
-And for each of them different order of generation (lex, revlex, Gray codes, ...) and output as list or tuple.
-
-Any Suggested names for iterators?
-
-combinations_lex_as_list, combinations_lex_as_tuple combinations_revlex_as_
-
-2) **Include and interface it with Sage:** this won't be hard.
-
-REFERENCES:
-
-* Knuth TAOCP fascicule 3a
-* Python C API http://docs.python.org/c-api/
+sage: S = SetPartitions(9,[3,3,2,1])
+sage: timeit('for p in S: pass')
+5 loops, best of 3: 1.47 s per loop
+sage: timeit('for p in S._fast_iterator(): pass')
+5 loops, best of 3: 94.1 ms per loop
+```
``````




---

archive/issue_events_138566.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-03-28T11:12:33Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "title_is": "Generation of subwords, subsets and set partitions",
    "title_was": "Generation of subsets and partitions enumerated sets",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138566"
}
```



---

archive/issue_comments_100219.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n * subsets\n * set partitions\n \n-Moreover we correct bugs and typos (see details in the patch) and create some random generation capabilities.\n+Moreover we correct bugs and typos (see details in the patch, doctest coverage is now 100%) and create some random generation capabilities.\n \n Timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)\n \n@@ -30,7 +30,7 @@\n \n sage: S = SetPartitions(9,[3,3,2,1])\n sage: timeit('for p in S: pass')\n-5 loops, best of 3: 1.47 s per loop\n+5 loops, best of 3: 1.43 s per loop\n sage: timeit('for p in S._fast_iterator(): pass')\n-5 loops, best of 3: 94.1 ms per loop\n+5 loops, best of 3: 91.3 ms per loop\n ```\n``````\n",
    "created_at": "2011-04-05T13:32:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100219",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 * subsets
 * set partitions
 
-Moreover we correct bugs and typos (see details in the patch) and create some random generation capabilities.
+Moreover we correct bugs and typos (see details in the patch, doctest coverage is now 100%) and create some random generation capabilities.
 
 Timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)
 
@@ -30,7 +30,7 @@
 
 sage: S = SetPartitions(9,[3,3,2,1])
 sage: timeit('for p in S: pass')
-5 loops, best of 3: 1.47 s per loop
+5 loops, best of 3: 1.43 s per loop
 sage: timeit('for p in S._fast_iterator(): pass')
-5 loops, best of 3: 94.1 ms per loop
+5 loops, best of 3: 91.3 ms per loop
 ```
``````




---

archive/issue_events_138567.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-04-05T13:32:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138567"
}
```



---

archive/issue_comments_100220.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n * subwords\n * subsets\n-* set partitions\n+* set partitions (ordered and non orderered)\n \n Moreover we correct bugs and typos (see details in the patch, doctest coverage is now 100%) and create some random generation capabilities.\n \n``````\n",
    "created_at": "2011-04-05T13:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100220",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 * subwords
 * subsets
-* set partitions
+* set partitions (ordered and non orderered)
 
 Moreover we correct bugs and typos (see details in the patch, doctest coverage is now 100%) and create some random generation capabilities.
 
``````




---

archive/issue_events_138568.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-04-29T20:52:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138568"
}
```



---

archive/issue_events_138569.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-04-29T20:52:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138569"
}
```



---

archive/issue_comments_100221.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,8 @@\n * set partitions (ordered and non orderered)\n \n Moreover we correct bugs and typos (see details in the patch, doctest coverage is now 100%) and create some random generation capabilities.\n+\n+To fit with FiniteEnumeratedSet, cardinality returns now a Sage Integer (and no more a Python int).\n \n Timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)\n \n@@ -34,3 +36,5 @@\n sage: timeit('for p in S._fast_iterator(): pass')\n 5 loops, best of 3: 91.3 ms per loop\n ```\n+\n+\n``````\n",
    "created_at": "2011-04-29T20:52:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100221",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,8 @@
 * set partitions (ordered and non orderered)
 
 Moreover we correct bugs and typos (see details in the patch, doctest coverage is now 100%) and create some random generation capabilities.
+
+To fit with FiniteEnumeratedSet, cardinality returns now a Sage Integer (and no more a Python int).
 
 Timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)
 
@@ -34,3 +36,5 @@
 sage: timeit('for p in S._fast_iterator(): pass')
 5 loops, best of 3: 91.3 ms per loop
 ```
+
+
``````




---

archive/issue_events_138570.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-05-27T17:20:27Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "subject": "https://github.com/videlec",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138570"
}
```



---

archive/issue_events_138571.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-05-27T17:27:54Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "subject": "https://github.com/videlec",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138571"
}
```



---

archive/issue_comments_100222.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,11 +4,12 @@\n * subsets\n * set partitions (ordered and non orderered)\n \n-Moreover we correct bugs and typos (see details in the patch, doctest coverage is now 100%) and create some random generation capabilities.\n+Moreover, the patch provides\n+* bugs and typos corrections (doctest coverage is now 100%)\n+* random generation capabilities\n+* modified cardinality method which always return a Sage Integer (and no more Python int or Sage Rational)\n \n-To fit with FiniteEnumeratedSet, cardinality returns now a Sage Integer (and no more a Python int).\n-\n-Timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)\n+Some timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)\n \n Old version\n \n``````\n",
    "created_at": "2011-05-27T17:27:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100222",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,11 +4,12 @@
 * subsets
 * set partitions (ordered and non orderered)
 
-Moreover we correct bugs and typos (see details in the patch, doctest coverage is now 100%) and create some random generation capabilities.
+Moreover, the patch provides
+* bugs and typos corrections (doctest coverage is now 100%)
+* random generation capabilities
+* modified cardinality method which always return a Sage Integer (and no more Python int or Sage Rational)
 
-To fit with FiniteEnumeratedSet, cardinality returns now a Sage Integer (and no more a Python int).
-
-Timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)
+Some timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)
 
 Old version
 
``````




---

archive/issue_comments_100223.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,6 +21,10 @@\n sage: S = SetPartitions(9,[3,3,2,1])\n sage: timeit('for p in S: pass')\n 5 loops, best of 3: 4 s per loop\n+\n+sage: S = Subsets([1]*1+[2]*2+[3]*3+[4]*4+[5]*5, submultiset=True)\n+sage: timeit('S.cardinality()')\n+5 loops, best of 3: 712 ms per loop\n ```\n New version\n \n@@ -36,6 +40,9 @@\n 5 loops, best of 3: 1.43 s per loop\n sage: timeit('for p in S._fast_iterator(): pass')\n 5 loops, best of 3: 91.3 ms per loop\n+\n+sage: S = Subsets([1]*1+[2]*2+[3]*3+[4]*4+[5]*5,submultiset=True)\n+sage: timeit('S.cardinality()')\n+625 loops, best of 3: 33.9 \u00b5s per loop\n ```\n \n-\n``````\n",
    "created_at": "2011-05-27T17:39:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100223",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,6 +21,10 @@
 sage: S = SetPartitions(9,[3,3,2,1])
 sage: timeit('for p in S: pass')
 5 loops, best of 3: 4 s per loop
+
+sage: S = Subsets([1]*1+[2]*2+[3]*3+[4]*4+[5]*5, submultiset=True)
+sage: timeit('S.cardinality()')
+5 loops, best of 3: 712 ms per loop
 ```
 New version
 
@@ -36,6 +40,9 @@
 5 loops, best of 3: 1.43 s per loop
 sage: timeit('for p in S._fast_iterator(): pass')
 5 loops, best of 3: 91.3 ms per loop
+
+sage: S = Subsets([1]*1+[2]*2+[3]*3+[4]*4+[5]*5,submultiset=True)
+sage: timeit('S.cardinality()')
+625 loops, best of 3: 33.9 µs per loop
 ```
 
-
``````




---

archive/issue_events_138572.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-06-02T10:39:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138572"
}
```



---

archive/issue_events_138573.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2011-06-02T10:39:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138573"
}
```



---

archive/issue_comments_100224.json:
```json
{
    "body": "Changed author from **vdelecroix** to **Vincent Delecroix**",
    "created_at": "2011-06-02T16:21:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100224",
    "user": "https://github.com/hivert"
}
```

Changed author from **vdelecroix** to **Vincent Delecroix**



---

archive/issue_comments_100225.json:
```json
{
    "body": "Reviewer: **Florent Hivert**",
    "created_at": "2011-06-02T16:21:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100225",
    "user": "https://github.com/hivert"
}
```

Reviewer: **Florent Hivert**



---

archive/issue_comments_100226.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHi Vincent,\n\nYour patch looks good except a few remarks:\n\n- the field Author below is for credits. You should put your real name and\n  not your login.\n\n- the documentation now says:\n\n    ```\n    [...]\n    The elements of the output are tuples of Python int (and not Sage Integer).\n    [...]\n    It's element are returned as plain list of python int.\n   ```\n   At least one of those two sentences is wrong. Also they seems a little\n   redundent. This should be fixed.\n\nI'm sorry for not having the time to put a review patch, nor finish the review\nnow.",
    "created_at": "2011-06-02T16:21:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100226",
    "user": "https://github.com/hivert"
}
```

<div id="comment:9" align="right">comment:9</div>

Hi Vincent,

Your patch looks good except a few remarks:

- the field Author below is for credits. You should put your real name and
  not your login.

- the documentation now says:

    ```
    [...]
    The elements of the output are tuples of Python int (and not Sage Integer).
    [...]
    It's element are returned as plain list of python int.
   ```
   At least one of those two sentences is wrong. Also they seems a little
   redundent. This should be fixed.

I'm sorry for not having the time to put a review patch, nor finish the review
now.



---

archive/issue_comments_100227.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n> - the field Author below is for credits. You should put your real name and\n>   not your login.\n\nThank you for modifying this.\n\n> - the documentation now says:\n> \n>     ```\n>     [...]\n>     The elements of the output are tuples of Python int (and not Sage Integer).\n>     [...]\n>     It's element are returned as plain list of python int.\n>    ```\n\nThat's right. Output value are now tuples and it is fully specified.",
    "created_at": "2011-06-03T13:08:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100227",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

> - the field Author below is for credits. You should put your real name and
>   not your login.

Thank you for modifying this.

> - the documentation now says:
> 
>     ```
>     [...]
>     The elements of the output are tuples of Python int (and not Sage Integer).
>     [...]
>     It's element are returned as plain list of python int.
>    ```

That's right. Output value are now tuples and it is fully specified.



---

archive/issue_comments_100228.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAttachment: **[trac_10534-generation_of_subsets_and_set_partitions.patch.gz](https://github.com/sagemath/sage/files/ticket10534/trac_10534-generation_of_subsets_and_set_partitions.patch.gz)**\n\nHi Vincent,\n\nI need more time to review your long patch. I just notice the following:\n\n```\nfile: sage/combinat/choose_nk.py\n85\t            sage: [0,2] in c52   # trac XXXX \n```\nYou probably want to replace XXXX by an actual number. I'll continue my review tomorrow (hopefully)\n\nFlorent",
    "created_at": "2011-06-14T21:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100228",
    "user": "https://github.com/hivert"
}
```

<div id="comment:11" align="right">comment:11</div>

Attachment: **[trac_10534-generation_of_subsets_and_set_partitions.patch.gz](https://github.com/sagemath/sage/files/ticket10534/trac_10534-generation_of_subsets_and_set_partitions.patch.gz)**

Hi Vincent,

I need more time to review your long patch. I just notice the following:

```
file: sage/combinat/choose_nk.py
85	            sage: [0,2] in c52   # trac XXXX 
```
You probably want to replace XXXX by an actual number. I'll continue my review tomorrow (hopefully)

Florent



---

archive/issue_comments_100229.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nHi Florent\n\n> I need more time to review your long patch. \n\nCertainly. Thanks for the review.\n\nI have three important design questions relative to that patch and the Combinatorial classes which it modify\n* should the attributes of a CombinatorialClass be visible like S.w or do we prefer S._w (some code in graphs uses a direct call to S.w) ?\n* what should be the inheritance/relations between say Subsets (subset of a given set) and Subsets_k (subset of size k of a given set) ?\n* what should be the output of Subwords ? tuple, list, strings, any user defined type ? Actually, if you initialize it with list (resp. tuple, string) it output lists (resp. tuple, string). \n\n> I just notice the following:\n> \n> ```\n> file: sage/combinat/choose_nk.py\n> 85\t            sage: [0,2] in c52   # trac XXXX \n> ```\n> You probably want to replace XXXX by an actual number.\n\nDone",
    "created_at": "2011-06-16T12:30:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100229",
    "user": "https://github.com/videlec"
}
```

<div id="comment:12" align="right">comment:12</div>

Hi Florent

> I need more time to review your long patch. 

Certainly. Thanks for the review.

I have three important design questions relative to that patch and the Combinatorial classes which it modify
* should the attributes of a CombinatorialClass be visible like S.w or do we prefer S._w (some code in graphs uses a direct call to S.w) ?
* what should be the inheritance/relations between say Subsets (subset of a given set) and Subsets_k (subset of size k of a given set) ?
* what should be the output of Subwords ? tuple, list, strings, any user defined type ? Actually, if you initialize it with list (resp. tuple, string) it output lists (resp. tuple, string). 

> I just notice the following:
> 
> ```
> file: sage/combinat/choose_nk.py
> 85	            sage: [0,2] in c52   # trac XXXX 
> ```
> You probably want to replace XXXX by an actual number.

Done



---

archive/issue_events_138574.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-01-29T15:47:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138574"
}
```



---

archive/issue_events_138575.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-01-29T15:47:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138575"
}
```



---

archive/issue_comments_100230.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,10 @@\n-This ticket stands for a faster method of exhaustive generation of\n+This ticket stands for a faster method of exhaustive generation of combinatorial object that may be found in sage.combinat.* and more precisely\n \n-* subwords\n-* subsets\n-* set partitions (ordered and non orderered)\n+* subwords (sage.combinat.subword)\n+* subsets (sage.combinat.subset)\n+* set partitions (sage.combinat.set_partitions and sage.combinat.set_partition_ordered)\n+\n+Most of the time, the improvment just consists in calling the python library itertools. For other, it consists in creating a lower level Python iterator which does not use the heavy mechanism of Parent/Element (which is not intended for the frontend user).\n \n Moreover, the patch provides\n * bugs and typos corrections (doctest coverage is now 100%)\n@@ -45,4 +47,3 @@\n sage: timeit('S.cardinality()')\n 625 loops, best of 3: 33.9 \u00b5s per loop\n ```\n-\n``````\n",
    "created_at": "2012-04-29T19:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100230",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,10 @@
-This ticket stands for a faster method of exhaustive generation of
+This ticket stands for a faster method of exhaustive generation of combinatorial object that may be found in sage.combinat.* and more precisely
 
-* subwords
-* subsets
-* set partitions (ordered and non orderered)
+* subwords (sage.combinat.subword)
+* subsets (sage.combinat.subset)
+* set partitions (sage.combinat.set_partitions and sage.combinat.set_partition_ordered)
+
+Most of the time, the improvment just consists in calling the python library itertools. For other, it consists in creating a lower level Python iterator which does not use the heavy mechanism of Parent/Element (which is not intended for the frontend user).
 
 Moreover, the patch provides
 * bugs and typos corrections (doctest coverage is now 100%)
@@ -45,4 +47,3 @@
 sage: timeit('S.cardinality()')
 625 loops, best of 3: 33.9 µs per loop
 ```
-
``````




---

archive/issue_comments_100231.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nNathan, you should be more explicit when asking for more info...",
    "created_at": "2012-04-29T19:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100231",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">comment:14</div>

Nathan, you should be more explicit when asking for more info...



---

archive/issue_events_138576.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2012-04-29T19:42:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138576"
}
```



---

archive/issue_events_138577.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2012-04-29T19:42:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138577"
}
```



---

archive/issue_comments_100232.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -47,3 +47,7 @@\n sage: timeit('S.cardinality()')\n 625 loops, best of 3: 33.9 \u00b5s per loop\n ```\n+\n+Apply only:\n+\n+* trac_10534-generation_of_subsets_and_set_partitions.2.patch\n``````\n",
    "created_at": "2012-04-29T19:42:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100232",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -47,3 +47,7 @@
 sage: timeit('S.cardinality()')
 625 loops, best of 3: 33.9 µs per loop
 ```
+
+Apply only:
+
+* trac_10534-generation_of_subsets_and_set_partitions.2.patch
``````




---

archive/issue_events_138578.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-05-06T16:07:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "title_is": "Optimizations for the generation of subwords, subsets and set partitions",
    "title_was": "Generation of subwords, subsets and set partitions",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138578"
}
```



---

archive/issue_comments_100233.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI update the file to make it works on sage-5.0. I will update the corresponding patch in the combinat queue.",
    "created_at": "2012-05-25T12:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100233",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">comment:17</div>

I update the file to make it works on sage-5.0. I will update the corresponding patch in the combinat queue.



---

archive/issue_comments_100234.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis code breaks a test in polytopes.parallelotope, because this last procedure calls Combinations and expect to receive a list and not a tuple. This has to be cured, maybe by inserting a list() at the appropriate place in this procedure. Please test that the correction works before uploading a new patch.\n\nPlease also remove all trailing whitespaces, see the bot report.",
    "created_at": "2012-07-11T10:01:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100234",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">comment:18</div>

This code breaks a test in polytopes.parallelotope, because this last procedure calls Combinations and expect to receive a list and not a tuple. This has to be cured, maybe by inserting a list() at the appropriate place in this procedure. Please test that the correction works before uploading a new patch.

Please also remove all trailing whitespaces, see the bot report.



---

archive/issue_comments_100235.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nHere is a minimal example of what goes wrong in polytopes.parallelotope :\n\n```\nsage: g=[ vector([1,0]), vector([0,1])]\nsage: Combinations(g)\n```\n\nThis is a mutability/hash problem, when trying to convert a multiset in a set, apparently..",
    "created_at": "2012-07-16T14:06:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100235",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

Here is a minimal example of what goes wrong in polytopes.parallelotope :

```
sage: g=[ vector([1,0]), vector([0,1])]
sage: Combinations(g)
```

This is a mutability/hash problem, when trying to convert a multiset in a set, apparently..



---

archive/issue_comments_100236.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@fchapoton](#comment:19):\n> Here is a minimal example of what goes wrong in polytopes.parallelotope :\n> \n> ```\n> sage: g=[ vector([1,0]), vector([0,1])]\n> sage: Combinations(g)\n> ```\n> \n> This is a mutability/hash problem, when trying to convert a multiset in a set, apparently..\n\nIn the above example, the command fails because the *vector* is not hashable.",
    "created_at": "2012-07-20T11:12:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100236",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@fchapoton](#comment:19):
> Here is a minimal example of what goes wrong in polytopes.parallelotope :
> 
> ```
> sage: g=[ vector([1,0]), vector([0,1])]
> sage: Combinations(g)
> ```
> 
> This is a mutability/hash problem, when trying to convert a multiset in a set, apparently..

In the above example, the command fails because the *vector* is not hashable.



---

archive/issue_comments_100237.json:
```json
{
    "body": "Attachment: **[trac_10534-generation_of_subsets_and_set_partitions.2.patch.gz](https://github.com/sagemath/sage/files/ticket10534/trac_10534-generation_of_subsets_and_set_partitions.2.patch.gz)**",
    "created_at": "2012-07-20T11:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100237",
    "user": "https://github.com/videlec"
}
```

Attachment: **[trac_10534-generation_of_subsets_and_set_partitions.2.patch.gz](https://github.com/sagemath/sage/files/ticket10534/trac_10534-generation_of_subsets_and_set_partitions.2.patch.gz)**



---

archive/issue_comments_100238.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI correct the error and add the ticket number on the first line of the patch (as asked by the patchbot).",
    "created_at": "2012-07-20T11:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100238",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">comment:21</div>

I correct the error and add the ticket number on the first line of the patch (as asked by the patchbot).



---

archive/issue_comments_100239.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -50,4 +50,4 @@\n \n Apply only:\n \n-* trac_10534-generation_of_subsets_and_set_partitions.2.patch\n+* trac_10534-generation_of_subsets_and_set_partitions.3.patch\n``````\n",
    "created_at": "2012-08-27T18:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100239",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -50,4 +50,4 @@
 
 Apply only:
 
-* trac_10534-generation_of_subsets_and_set_partitions.2.patch
+* trac_10534-generation_of_subsets_and_set_partitions.3.patch
``````




---

archive/issue_comments_100240.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nApply only:\n\n* trac_10534-generation_of_subsets_and_set_partitions.3.patch",
    "created_at": "2012-08-27T18:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100240",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

Apply only:

* trac_10534-generation_of_subsets_and_set_partitions.3.patch



---

archive/issue_comments_100241.json:
```json
{
    "body": "Attachment: **[trac_10534-generation_of_subsets_and_set_partitions.3.patch.gz](https://github.com/sagemath/sage/files/ticket10534/trac_10534-generation_of_subsets_and_set_partitions.3.patch.gz)**",
    "created_at": "2012-08-31T19:29:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100241",
    "user": "https://github.com/fchapoton"
}
```

Attachment: **[trac_10534-generation_of_subsets_and_set_partitions.3.patch.gz](https://github.com/sagemath/sage/files/ticket10534/trac_10534-generation_of_subsets_and_set_partitions.3.patch.gz)**



---

archive/issue_comments_100242.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nnew patch, to ensure 100% doctest",
    "created_at": "2012-08-31T19:29:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100242",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">comment:23</div>

new patch, to ensure 100% doctest



---

archive/issue_comments_100243.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI got 100% doctest coverage for all the edited files but there was one warning. If someone doesn't mind explaining what is the significance of this, that would be helpful.\n\n---\nSCORE /Applications/sage/devel/sage-main/sage/combinat/subset.py: 100% (33 of 33)\n\nPossibly wrong (function name doesn't occur in doctests):\n* _element_constructor_(self, x):\n* _element_constructor_(self, x):\n\n---\n\nAlso, \"devel/sage/sage/tests/interrupt.pyx\" timed out when I ran the long doctests.",
    "created_at": "2012-11-03T22:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100243",
    "user": "https://github.com/sagetrac-emchennyc"
}
```

<div id="comment:24" align="right">comment:24</div>

I got 100% doctest coverage for all the edited files but there was one warning. If someone doesn't mind explaining what is the significance of this, that would be helpful.

---
SCORE /Applications/sage/devel/sage-main/sage/combinat/subset.py: 100% (33 of 33)

Possibly wrong (function name doesn't occur in doctests):
* _element_constructor_(self, x):
* _element_constructor_(self, x):

---

Also, "devel/sage/sage/tests/interrupt.pyx" timed out when I ran the long doctests.



---

archive/issue_comments_100244.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\n> ---\n> SCORE /Applications/sage/devel/sage-main/sage/combinat/subset.py: 100% (33 of 33)\n> \n> Possibly wrong (function name doesn't occur in doctests):\n> * _element_constructor_(self, x):\n> * _element_constructor_(self, x):\n\nThis is because the methods _element_constructor_(self, x) are not directly tested. There should be a comment \"# indirect doctest\" after the corresponding test. Basically, this function is used to build an element of a parent, but it is called through the method `__call__` of the parent (which is implemented in Parent).\n\n> Also, \"devel/sage/sage/tests/interrupt.pyx\" timed out when I ran the long doctests.\n\nThis is much more ennoying and I do not know why.",
    "created_at": "2012-11-04T18:44:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100244",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">comment:25</div>

> ---
> SCORE /Applications/sage/devel/sage-main/sage/combinat/subset.py: 100% (33 of 33)
> 
> Possibly wrong (function name doesn't occur in doctests):
> * _element_constructor_(self, x):
> * _element_constructor_(self, x):

This is because the methods _element_constructor_(self, x) are not directly tested. There should be a comment "# indirect doctest" after the corresponding test. Basically, this function is used to build an element of a parent, but it is called through the method `__call__` of the parent (which is implemented in Parent).

> Also, "devel/sage/sage/tests/interrupt.pyx" timed out when I ran the long doctests.

This is much more ennoying and I do not know why.



---

archive/issue_comments_100245.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nHelloooooooooooooooo !!!\n\nWhile I read your patch, two things :\n* an \"It's\" should become an \"its\"\n* why do you change the ouput type from lists to tuples ?\n\nBtw, sorry I did not answer your comment many months ago, I may have missed the warning from trac : I had set the ticket to `needs_info` because you seemed to be asking rather fundamental questions which would have had an impact on the patch, so that it would have been a pity to review the patch if you intended to change it so much later.\n\nHave you had an answer from Florent since ?\n\nNathann",
    "created_at": "2013-03-24T19:37:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100245",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:26" align="right">comment:26</div>

Helloooooooooooooooo !!!

While I read your patch, two things :
* an "It's" should become an "its"
* why do you change the ouput type from lists to tuples ?

Btw, sorry I did not answer your comment many months ago, I may have missed the warning from trac : I had set the ticket to `needs_info` because you seemed to be asking rather fundamental questions which would have had an impact on the patch, so that it would have been a pity to review the patch if you intended to change it so much later.

Have you had an answer from Florent since ?

Nathann



---

archive/issue_events_138579.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2013-06-03T18:48:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138579"
}
```



---

archive/issue_events_138580.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2013-06-03T18:48:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138580"
}
```



---

archive/issue_comments_100246.json:
```json
{
    "body": "Work Issues: **does not apply**",
    "created_at": "2013-06-03T18:48:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100246",
    "user": "https://github.com/videlec"
}
```

Work Issues: **does not apply**



---

archive/issue_events_138581.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138581"
}
```



---

archive/issue_events_138582.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138582"
}
```



---

archive/issue_events_138583.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138583"
}
```



---

archive/issue_events_138584.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138584"
}
```



---

archive/issue_events_138585.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138585"
}
```



---

archive/issue_events_138586.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138586"
}
```



---

archive/issue_comments_100247.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nHello,\n\nI have made a branch from the latest patch, but only partially. I have not touched the files `set_partition` and `set_partition_ordered`. \n\nMaybe one could just try to get this smaller changes in ?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48cd968c79718dbf13a5ce769dbdc3a2a16b0309\"><code>48cd968</code></a></td><td><code>trac 10534: Optimizations for the generation of subwords, subsets and set partitions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e30be38b2e924e4bc4b6a46d68a3a32a1ee7ae5\"><code>8e30be3</code></a></td><td><code>trac #10534 partial conversion of the mercurial patch</code></td></tr></table>\n",
    "created_at": "2014-06-06T12:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100247",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:31" align="right">comment:31</div>

Hello,

I have made a branch from the latest patch, but only partially. I have not touched the files `set_partition` and `set_partition_ordered`. 

Maybe one could just try to get this smaller changes in ?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48cd968c79718dbf13a5ce769dbdc3a2a16b0309"><code>48cd968</code></a></td><td><code>trac 10534: Optimizations for the generation of subwords, subsets and set partitions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e30be38b2e924e4bc4b6a46d68a3a32a1ee7ae5"><code>8e30be3</code></a></td><td><code>trac #10534 partial conversion of the mercurial patch</code></td></tr></table>




---

archive/issue_comments_100248.json:
```json
{
    "body": "Branch: **[u/chapoton/10534](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/10534)**",
    "created_at": "2014-06-06T12:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100248",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/10534](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/10534)**



---

archive/issue_comments_100249.json:
```json
{
    "body": "Commit: **[`8e30be3`](https://github.com/sagemath/sagetrac-mirror/commit/8e30be38b2e924e4bc4b6a46d68a3a32a1ee7ae5)**",
    "created_at": "2014-06-06T12:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100249",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`8e30be3`](https://github.com/sagemath/sagetrac-mirror/commit/8e30be38b2e924e4bc4b6a46d68a3a32a1ee7ae5)**



---

archive/issue_comments_100250.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nHi,\n\nYou deserve a necromancy badge ;-) I gave up on that ticket since Travis was refactoring a lot in `sage.combinat.*`. It definitely makes sense to have at least a portion of it. I will have a look.\n\nVincent",
    "created_at": "2014-06-06T14:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100250",
    "user": "https://github.com/videlec"
}
```

<div id="comment:32" align="right">comment:32</div>

Hi,

You deserve a necromancy badge ;-) I gave up on that ticket since Travis was refactoring a lot in `sage.combinat.*`. It definitely makes sense to have at least a portion of it. I will have a look.

Vincent



---

archive/issue_comments_100251.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nOk. From the commit you proposed, I think we could\n- deprecate `ChooseNK` and `SplitNK` as it is used nowhere and subsumed by subsets and set partitions.\n- do some more cleaning in `combination.py`, `subset.py` and `subwords.py`:\n    - remove the inheritance from `CombinatorialClass` and make them inherit from `Parent`. We would set the category to `EnumeratedSets().Finite()`\n    - better iteration\n    - make `Subwords` work with words as input\n\n      ```\n      sage: Subwords(Word([1,2,3,4,5]))\n      Traceback (most recent call last):\n      ...\n      ValueError: datatype should be str, list or tuple\n      ```\n    - etc\nIf you agree with this, I can modify the ticket description and propose a commit.\n\nVincent",
    "created_at": "2014-06-06T19:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100251",
    "user": "https://github.com/videlec"
}
```

<div id="comment:33" align="right">comment:33</div>

Ok. From the commit you proposed, I think we could
- deprecate `ChooseNK` and `SplitNK` as it is used nowhere and subsumed by subsets and set partitions.
- do some more cleaning in `combination.py`, `subset.py` and `subwords.py`:
    - remove the inheritance from `CombinatorialClass` and make them inherit from `Parent`. We would set the category to `EnumeratedSets().Finite()`
    - better iteration
    - make `Subwords` work with words as input

      ```
      sage: Subwords(Word([1,2,3,4,5]))
      Traceback (most recent call last):
      ...
      ValueError: datatype should be str, list or tuple
      ```
    - etc
If you agree with this, I can modify the ticket description and propose a commit.

Vincent



---

archive/issue_comments_100252.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@videlec](#comment:32):\n> You deserve a necromancy badge ;-) I gave up on that ticket since Travis was refactoring a lot in `sage.combinat.*`. It definitely makes sense to have at least a portion of it. I will have a look.\n\nI don't really have time right now to keep going through that, as much as I'd like to. +1 on getting this in. I don't remember if I had any (partial) removal of `CombinatorialClass` in `combination.py`, `subset.py`, or `subwords.py` to give as a starting point, but I don't think I did. However if you have any problems with doing this, I might have some answers so feel free to ask.\n\nBest,\n\nTravis",
    "created_at": "2014-06-06T19:47:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100252",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@videlec](#comment:32):
> You deserve a necromancy badge ;-) I gave up on that ticket since Travis was refactoring a lot in `sage.combinat.*`. It definitely makes sense to have at least a portion of it. I will have a look.

I don't really have time right now to keep going through that, as much as I'd like to. +1 on getting this in. I don't remember if I had any (partial) removal of `CombinatorialClass` in `combination.py`, `subset.py`, or `subwords.py` to give as a starting point, but I don't think I did. However if you have any problems with doing this, I might have some answers so feel free to ask.

Best,

Travis



---

archive/issue_comments_100253.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/efd638056cb99427de29b298169299fa171184fc\"><code>efd6380</code></a></td><td><code>trac #10534 just a partial pep8 cleanup</code></td></tr></table>\n",
    "created_at": "2014-06-06T19:57:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100253",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/efd638056cb99427de29b298169299fa171184fc"><code>efd6380</code></a></td><td><code>trac #10534 just a partial pep8 cleanup</code></td></tr></table>




---

archive/issue_comments_100254.json:
```json
{
    "body": "Changed commit from **[`8e30be3`](https://github.com/sagemath/sagetrac-mirror/commit/8e30be38b2e924e4bc4b6a46d68a3a32a1ee7ae5)** to **[`efd6380`](https://github.com/sagemath/sagetrac-mirror/commit/efd638056cb99427de29b298169299fa171184fc)**",
    "created_at": "2014-06-06T19:57:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100254",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8e30be3`](https://github.com/sagemath/sagetrac-mirror/commit/8e30be38b2e924e4bc4b6a46d68a3a32a1ee7ae5)** to **[`efd6380`](https://github.com/sagemath/sagetrac-mirror/commit/efd638056cb99427de29b298169299fa171184fc)**



---

archive/issue_comments_100255.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI have made a clean-up commit, changin only small details such as raise syntax and so on. I will now stop working on that.\n\nI agree with the changes that you propose. I hope there will be no merge problem with my stupid clean-up commit..",
    "created_at": "2014-06-06T19:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100255",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:36" align="right">comment:36</div>

I have made a clean-up commit, changin only small details such as raise syntax and so on. I will now stop working on that.

I agree with the changes that you propose. I hope there will be no merge problem with my stupid clean-up commit..



---

archive/issue_comments_100256.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,53 +1,7 @@\n-This ticket stands for a faster method of exhaustive generation of combinatorial object that may be found in sage.combinat.* and more precisely\n+- deprecate `ChooseNK` (in `sage.combinat.choose_nk`) and `SplitNK` (in `sage.combinat.split_nk`).\n+- clean `sage.combinat.subword` and `sage.combinat.subset`\n+  - inheritance from `Parent`\n+  - much better iteration/random generation\n+  - ...\n \n-* subwords (sage.combinat.subword)\n-* subsets (sage.combinat.subset)\n-* set partitions (sage.combinat.set_partitions and sage.combinat.set_partition_ordered)\n-\n-Most of the time, the improvment just consists in calling the python library itertools. For other, it consists in creating a lower level Python iterator which does not use the heavy mechanism of Parent/Element (which is not intended for the frontend user).\n-\n-Moreover, the patch provides\n-* bugs and typos corrections (doctest coverage is now 100%)\n-* random generation capabilities\n-* modified cardinality method which always return a Sage Integer (and no more Python int or Sage Rational)\n-\n-Some timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)\n-\n-Old version\n-\n-```\n-sage: S = SetPartitions(8,[3,3,2])\n-sage: timeit('for p in S: pass')\n-5 loops, best of 3: 401 ms per loop\n-\n-sage: S = SetPartitions(9,[3,3,2,1])\n-sage: timeit('for p in S: pass')\n-5 loops, best of 3: 4 s per loop\n-\n-sage: S = Subsets([1]*1+[2]*2+[3]*3+[4]*4+[5]*5, submultiset=True)\n-sage: timeit('S.cardinality()')\n-5 loops, best of 3: 712 ms per loop\n-```\n-New version\n-\n-```\n-sage: S = SetPartitions(8,[3,3,2])\n-sage: timeit('for p in S: pass')\n-5 loops, best of 3: 130 ms per loop\n-sage: timeit('for p in S._fast_iterator(): pass')\n-25 loops, best of 3: 10.4 ms per loop\n-\n-sage: S = SetPartitions(9,[3,3,2,1])\n-sage: timeit('for p in S: pass')\n-5 loops, best of 3: 1.43 s per loop\n-sage: timeit('for p in S._fast_iterator(): pass')\n-5 loops, best of 3: 91.3 ms per loop\n-\n-sage: S = Subsets([1]*1+[2]*2+[3]*3+[4]*4+[5]*5,submultiset=True)\n-sage: timeit('S.cardinality()')\n-625 loops, best of 3: 33.9 \u00b5s per loop\n-```\n-\n-Apply only:\n-\n-* trac_10534-generation_of_subsets_and_set_partitions.3.patch\n+And become more pep8 compliant ;=)\n``````\n",
    "created_at": "2014-06-06T20:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100256",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,53 +1,7 @@
-This ticket stands for a faster method of exhaustive generation of combinatorial object that may be found in sage.combinat.* and more precisely
+- deprecate `ChooseNK` (in `sage.combinat.choose_nk`) and `SplitNK` (in `sage.combinat.split_nk`).
+- clean `sage.combinat.subword` and `sage.combinat.subset`
+  - inheritance from `Parent`
+  - much better iteration/random generation
+  - ...
 
-* subwords (sage.combinat.subword)
-* subsets (sage.combinat.subset)
-* set partitions (sage.combinat.set_partitions and sage.combinat.set_partition_ordered)
-
-Most of the time, the improvment just consists in calling the python library itertools. For other, it consists in creating a lower level Python iterator which does not use the heavy mechanism of Parent/Element (which is not intended for the frontend user).
-
-Moreover, the patch provides
-* bugs and typos corrections (doctest coverage is now 100%)
-* random generation capabilities
-* modified cardinality method which always return a Sage Integer (and no more Python int or Sage Rational)
-
-Some timings (on Intel(R) Core(TM)2 Duo CPU T8100  @ 2.10GHz)
-
-Old version
-
-```
-sage: S = SetPartitions(8,[3,3,2])
-sage: timeit('for p in S: pass')
-5 loops, best of 3: 401 ms per loop
-
-sage: S = SetPartitions(9,[3,3,2,1])
-sage: timeit('for p in S: pass')
-5 loops, best of 3: 4 s per loop
-
-sage: S = Subsets([1]*1+[2]*2+[3]*3+[4]*4+[5]*5, submultiset=True)
-sage: timeit('S.cardinality()')
-5 loops, best of 3: 712 ms per loop
-```
-New version
-
-```
-sage: S = SetPartitions(8,[3,3,2])
-sage: timeit('for p in S: pass')
-5 loops, best of 3: 130 ms per loop
-sage: timeit('for p in S._fast_iterator(): pass')
-25 loops, best of 3: 10.4 ms per loop
-
-sage: S = SetPartitions(9,[3,3,2,1])
-sage: timeit('for p in S: pass')
-5 loops, best of 3: 1.43 s per loop
-sage: timeit('for p in S._fast_iterator(): pass')
-5 loops, best of 3: 91.3 ms per loop
-
-sage: S = Subsets([1]*1+[2]*2+[3]*3+[4]*4+[5]*5,submultiset=True)
-sage: timeit('S.cardinality()')
-625 loops, best of 3: 33.9 µs per loop
-```
-
-Apply only:
-
-* trac_10534-generation_of_subsets_and_set_partitions.3.patch
+And become more pep8 compliant ;=)
``````




---

archive/issue_events_138587.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-06T20:31:07Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "title_is": "Cleanup in choose_nk, split_nk, subword, subset",
    "title_was": "Optimizations for the generation of subwords, subsets and set partitions",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138587"
}
```



---

archive/issue_comments_100257.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI have some more to push on subsets and subwords... but for tomorrow ;-)\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/052c36e126793b5b5dfb4e1de0dcbc6323b44947\"><code>052c36e</code></a></td><td><code>trac #10534: deprecate ChooseNK and use Combinations instead</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1995fca0cc79b20ffc8863e425e50c614e61a02b\"><code>1995fca</code></a></td><td><code>trac #10534: remove imports in choose_nk + deprecate SplitNK</code></td></tr></table>\n",
    "created_at": "2014-06-06T21:20:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100257",
    "user": "https://github.com/videlec"
}
```

<div id="comment:38" align="right">comment:38</div>

I have some more to push on subsets and subwords... but for tomorrow ;-)

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/052c36e126793b5b5dfb4e1de0dcbc6323b44947"><code>052c36e</code></a></td><td><code>trac #10534: deprecate ChooseNK and use Combinations instead</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1995fca0cc79b20ffc8863e425e50c614e61a02b"><code>1995fca</code></a></td><td><code>trac #10534: remove imports in choose_nk + deprecate SplitNK</code></td></tr></table>




---

archive/issue_comments_100258.json:
```json
{
    "body": "Changed branch from **[u/chapoton/10534](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/10534)** to **[public/10534](https://github.com/sagemath/sagetrac-mirror/tree/public/10534)**",
    "created_at": "2014-06-06T21:20:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100258",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[u/chapoton/10534](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/10534)** to **[public/10534](https://github.com/sagemath/sagetrac-mirror/tree/public/10534)**



---

archive/issue_comments_100259.json:
```json
{
    "body": "Changed commit from **[`efd6380`](https://github.com/sagemath/sagetrac-mirror/commit/efd638056cb99427de29b298169299fa171184fc)** to **[`1995fca`](https://github.com/sagemath/sagetrac-mirror/commit/1995fca0cc79b20ffc8863e425e50c614e61a02b)**",
    "created_at": "2014-06-06T21:20:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100259",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[`efd6380`](https://github.com/sagemath/sagetrac-mirror/commit/efd638056cb99427de29b298169299fa171184fc)** to **[`1995fca`](https://github.com/sagemath/sagetrac-mirror/commit/1995fca0cc79b20ffc8863e425e50c614e61a02b)**



---

archive/issue_comments_100260.json:
```json
{
    "body": "Changed work issues from **does not apply** to none",
    "created_at": "2014-06-07T06:50:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100260",
    "user": "https://github.com/fchapoton"
}
```

Changed work issues from **does not apply** to none



---

archive/issue_comments_100261.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nThere are some doctest continuation `...` that should be replaced by `....:`",
    "created_at": "2014-06-07T06:50:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100261",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:39" align="right">comment:39</div>

There are some doctest continuation `...` that should be replaced by `....:`



---

archive/issue_comments_100262.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e858998035ee733bbb4796c47a2b9e843c67c614\"><code>e858998</code></a></td><td><code>trac #10534 doctest continuation using ...:</code></td></tr></table>\n",
    "created_at": "2014-06-07T12:38:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100262",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e858998035ee733bbb4796c47a2b9e843c67c614"><code>e858998</code></a></td><td><code>trac #10534 doctest continuation using ...:</code></td></tr></table>




---

archive/issue_comments_100263.json:
```json
{
    "body": "Changed commit from **[`1995fca`](https://github.com/sagemath/sagetrac-mirror/commit/1995fca0cc79b20ffc8863e425e50c614e61a02b)** to **[`e858998`](https://github.com/sagemath/sagetrac-mirror/commit/e858998035ee733bbb4796c47a2b9e843c67c614)**",
    "created_at": "2014-06-07T12:38:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100263",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1995fca`](https://github.com/sagemath/sagetrac-mirror/commit/1995fca0cc79b20ffc8863e425e50c614e61a02b)** to **[`e858998`](https://github.com/sagemath/sagetrac-mirror/commit/e858998035ee733bbb4796c47a2b9e843c67c614)**



---

archive/issue_comments_100264.json:
```json
{
    "body": "Changed commit from **[`e858998`](https://github.com/sagemath/sagetrac-mirror/commit/e858998035ee733bbb4796c47a2b9e843c67c614)** to **[`1d73c1b`](https://github.com/sagemath/sagetrac-mirror/commit/1d73c1b243dcc5fd25ccef10af5f3edff31e9d46)**",
    "created_at": "2014-06-07T15:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100264",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e858998`](https://github.com/sagemath/sagetrac-mirror/commit/e858998035ee733bbb4796c47a2b9e843c67c614)** to **[`1d73c1b`](https://github.com/sagemath/sagetrac-mirror/commit/1d73c1b243dcc5fd25ccef10af5f3edff31e9d46)**



---

archive/issue_comments_100265.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2915642f7f5357e0d374aaf007680c263cd164c\"><code>a291564</code></a></td><td><code>trac #10534: doctest in choose_nk + redraw subset/subword</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cc4187da40414017094cac0df0d6a28a0fca127\"><code>1cc4187</code></a></td><td><code>trac #10534: better implementation for subset</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65f33c92a59670c89459b5938788fe322287cf0a\"><code>65f33c9</code></a></td><td><code>trac #10534: fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d73c1b243dcc5fd25ccef10af5f3edff31e9d46\"><code>1d73c1b</code></a></td><td><code>trac #10534: merge changes of Frederic</code></td></tr></table>\n",
    "created_at": "2014-06-07T15:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100265",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2915642f7f5357e0d374aaf007680c263cd164c"><code>a291564</code></a></td><td><code>trac #10534: doctest in choose_nk + redraw subset/subword</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cc4187da40414017094cac0df0d6a28a0fca127"><code>1cc4187</code></a></td><td><code>trac #10534: better implementation for subset</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65f33c92a59670c89459b5938788fe322287cf0a"><code>65f33c9</code></a></td><td><code>trac #10534: fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d73c1b243dcc5fd25ccef10af5f3edff31e9d46"><code>1d73c1b</code></a></td><td><code>trac #10534: merge changes of Frederic</code></td></tr></table>




---

archive/issue_comments_100266.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nVery cool... now we can do\n\n```\nsage: S = Subsets(Subsets(Subsets(3)))\nsage: S.cardinality()\n115792089237316195423570985008687907853269984665640564039457584007913129639936\nsage: S.unrank(14321093401985)\n{{{1, 3}, {3}}, {{2}, {3}, {1, 2}, {2, 3}, {1, 3}, {1, 2, 3}}, {{1, 3}, {2}, {2, 3}, {}, {3}}, {{2}}, {}, {{1, 3}, {1, 2}, {2}, {3}}, {{2}, {1}}, {{1, 2}, {2}, {1}}}\nsage: S.random_element()\n...\n}}}\n(so I updated the tutorial which had before a `#long time` for that kind of examples). And moreover no `CombinatorialClass` anymore.\n\nNeeds review!\n\nVincent",
    "created_at": "2014-06-07T15:33:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100266",
    "user": "https://github.com/videlec"
}
```

<div id="comment:42" align="right">comment:42</div>

Very cool... now we can do

```
sage: S = Subsets(Subsets(Subsets(3)))
sage: S.cardinality()
115792089237316195423570985008687907853269984665640564039457584007913129639936
sage: S.unrank(14321093401985)
{{{1, 3}, {3}}, {{2}, {3}, {1, 2}, {2, 3}, {1, 3}, {1, 2, 3}}, {{1, 3}, {2}, {2, 3}, {}, {3}}, {{2}}, {}, {{1, 3}, {1, 2}, {2}, {3}}, {{2}, {1}}, {{1, 2}, {2}, {1}}}
sage: S.random_element()
...
}}}
(so I updated the tutorial which had before a `#long time` for that kind of examples). And moreover no `CombinatorialClass` anymore.

Needs review!

Vincent



---

archive/issue_events_138588.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-07T15:33:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138588"
}
```



---

archive/issue_events_138589.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-07T15:33:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138589"
}
```



---

archive/issue_comments_100267.json:
```json
{
    "body": "Changed commit from **[`1d73c1b`](https://github.com/sagemath/sagetrac-mirror/commit/1d73c1b243dcc5fd25ccef10af5f3edff31e9d46)** to **[`772615d`](https://github.com/sagemath/sagetrac-mirror/commit/772615d0b343605327a8089a838c75dad798c1c2)**",
    "created_at": "2014-06-07T18:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100267",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1d73c1b`](https://github.com/sagemath/sagetrac-mirror/commit/1d73c1b243dcc5fd25ccef10af5f3edff31e9d46)** to **[`772615d`](https://github.com/sagemath/sagetrac-mirror/commit/772615d0b343605327a8089a838c75dad798c1c2)**



---

archive/issue_comments_100268.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/772615d0b343605327a8089a838c75dad798c1c2\"><code>772615d</code></a></td><td><code>trac #10534 removed unused imports</code></td></tr></table>\n",
    "created_at": "2014-06-07T18:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100268",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/772615d0b343605327a8089a838c75dad798c1c2"><code>772615d</code></a></td><td><code>trac #10534 removed unused imports</code></td></tr></table>




---

archive/issue_comments_100269.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n   - ...\n \n And become more pep8 compliant ;=)\n+\n+see also: #16472\n``````\n",
    "created_at": "2014-06-11T18:00:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100269",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
   - ...
 
 And become more pep8 compliant ;=)
+
+see also: #16472
``````




---

archive/issue_comments_100270.json:
```json
{
    "body": "Changed commit from **[`772615d`](https://github.com/sagemath/sagetrac-mirror/commit/772615d0b343605327a8089a838c75dad798c1c2)** to **[`c3979af`](https://github.com/sagemath/sagetrac-mirror/commit/c3979afa7d7a304abc5b8b9ba5d0e2f3c25f6984)**",
    "created_at": "2014-06-12T16:30:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100270",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`772615d`](https://github.com/sagemath/sagetrac-mirror/commit/772615d0b343605327a8089a838c75dad798c1c2)** to **[`c3979af`](https://github.com/sagemath/sagetrac-mirror/commit/c3979afa7d7a304abc5b8b9ba5d0e2f3c25f6984)**



---

archive/issue_comments_100271.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3979afa7d7a304abc5b8b9ba5d0e2f3c25f6984\"><code>c3979af</code></a></td><td><code>Some review tweaks and python 3 stuff.</code></td></tr></table>\n",
    "created_at": "2014-06-12T16:30:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100271",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3979afa7d7a304abc5b8b9ba5d0e2f3c25f6984"><code>c3979af</code></a></td><td><code>Some review tweaks and python 3 stuff.</code></td></tr></table>




---

archive/issue_comments_100272.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nHey Vincent, I've gone through and it looks good (I tried to change the `element_class` workaround, but `Set_object_enumerated` is actually a subclass of `Parent` causing layout conflicts...uggg). I've made some minor tweaks and changed the strings to the python 3 `format`. If you're happy with my changes, then positive review. Other things (like removing `CombinatorialClass` from `Combinations` and the `element_class` thing) can be on followups.",
    "created_at": "2014-06-12T16:38:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100272",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:46" align="right">comment:46</div>

Hey Vincent, I've gone through and it looks good (I tried to change the `element_class` workaround, but `Set_object_enumerated` is actually a subclass of `Parent` causing layout conflicts...uggg). I've made some minor tweaks and changed the strings to the python 3 `format`. If you're happy with my changes, then positive review. Other things (like removing `CombinatorialClass` from `Combinations` and the `element_class` thing) can be on followups.



---

archive/issue_events_138590.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-12T16:49:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138590"
}
```



---

archive/issue_events_138591.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-12T16:49:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138591"
}
```



---

archive/issue_comments_100273.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@tscrim](#comment:46):\n> Hey Vincent, I've gone through and it looks good (I tried to change the `element_class` workaround, but `Set_object_enumerated` is actually a subclass of `Parent` causing layout conflicts...uggg). I've made some minor tweaks and changed the strings to the python 3 `format`. If you're happy with my changes, then positive review. Other things (like removing `CombinatorialClass` from `Combinations` and the `element_class` thing) can be on followups.\n\nThanks for your contribution on this!\n\nVincent",
    "created_at": "2014-06-12T16:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100273",
    "user": "https://github.com/videlec"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@tscrim](#comment:46):
> Hey Vincent, I've gone through and it looks good (I tried to change the `element_class` workaround, but `Set_object_enumerated` is actually a subclass of `Parent` causing layout conflicts...uggg). I've made some minor tweaks and changed the strings to the python 3 `format`. If you're happy with my changes, then positive review. Other things (like removing `CombinatorialClass` from `Combinations` and the `element_class` thing) can be on followups.

Thanks for your contribution on this!

Vincent



---

archive/issue_comments_100274.json:
```json
{
    "body": "Changed author from **Vincent Delecroix** to **Vincent Delecroix, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2014-06-12T16:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100274",
    "user": "https://github.com/videlec"
}
```

Changed author from **Vincent Delecroix** to **Vincent Delecroix, Frédéric Chapoton**



---

archive/issue_comments_100275.json:
```json
{
    "body": "Changed reviewer from **Florent Hivert** to **Florent Hivert, Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw**",
    "created_at": "2014-06-12T16:49:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100275",
    "user": "https://github.com/videlec"
}
```

Changed reviewer from **Florent Hivert** to **Florent Hivert, Frédéric Chapoton, Travis Scrimshaw**



---

archive/issue_comments_100276.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nMerge failure due to #16067",
    "created_at": "2014-06-14T20:05:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100276",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:48" align="right">comment:48</div>

Merge failure due to #16067



---

archive/issue_events_138592.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-14T20:06:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138592"
}
```



---

archive/issue_events_138593.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-14T20:06:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138593"
}
```



---

archive/issue_comments_100277.json:
```json
{
    "body": "Changed commit from **[`c3979af`](https://github.com/sagemath/sagetrac-mirror/commit/c3979afa7d7a304abc5b8b9ba5d0e2f3c25f6984)** to **[`9146bde`](https://github.com/sagemath/sagetrac-mirror/commit/9146bde20c077c880c8f364e99bb8ef4c879de41)**",
    "created_at": "2014-06-14T20:24:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100277",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c3979af`](https://github.com/sagemath/sagetrac-mirror/commit/c3979afa7d7a304abc5b8b9ba5d0e2f3c25f6984)** to **[`9146bde`](https://github.com/sagemath/sagetrac-mirror/commit/9146bde20c077c880c8f364e99bb8ef4c879de41)**



---

archive/issue_comments_100278.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e574c6856980b83c05e687c4f8a50119972789c0\"><code>e574c68</code></a></td><td><code>trac #16067: changes generated by \"2to3 -w -f filter src/sage\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65c86200df14be22f4af62c494df1ad702ce7e14\"><code>65c8620</code></a></td><td><code>trac #16067: fix an error generated by \"2to3\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d505928a109bdb8cfb358fa6c8ef8df257981d9\"><code>1d50592</code></a></td><td><code>trac #16067: tidying up the generated patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c68a033ee1b8a8dcd886a55926fb593ef60662ba\"><code>c68a033</code></a></td><td><code>Merge branch 'develop' into u/wluebbe/ticket/16067</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cebea10fe118ba5bfb322bc9a559fe424bde238\"><code>0cebea1</code></a></td><td><code>Merge branch 'develop' into u/wluebbe/ticket/16067</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c2486edf69cec395da0af127570fef6e56074a7\"><code>0c2486e</code></a></td><td><code>trac #16067: answered reviewer comments and further improvements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49e52c3a05223943a6f2777cb336ca68c294fc73\"><code>49e52c3</code></a></td><td><code>trac #16067: fixed duplicate lines found by reviewer</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9146bde20c077c880c8f364e99bb8ef4c879de41\"><code>9146bde</code></a></td><td><code>trac #10534: merge #16067</code></td></tr></table>\n",
    "created_at": "2014-06-14T20:24:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100278",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e574c6856980b83c05e687c4f8a50119972789c0"><code>e574c68</code></a></td><td><code>trac #16067: changes generated by "2to3 -w -f filter src/sage"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65c86200df14be22f4af62c494df1ad702ce7e14"><code>65c8620</code></a></td><td><code>trac #16067: fix an error generated by "2to3"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d505928a109bdb8cfb358fa6c8ef8df257981d9"><code>1d50592</code></a></td><td><code>trac #16067: tidying up the generated patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c68a033ee1b8a8dcd886a55926fb593ef60662ba"><code>c68a033</code></a></td><td><code>Merge branch 'develop' into u/wluebbe/ticket/16067</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cebea10fe118ba5bfb322bc9a559fe424bde238"><code>0cebea1</code></a></td><td><code>Merge branch 'develop' into u/wluebbe/ticket/16067</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c2486edf69cec395da0af127570fef6e56074a7"><code>0c2486e</code></a></td><td><code>trac #16067: answered reviewer comments and further improvements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49e52c3a05223943a6f2777cb336ca68c294fc73"><code>49e52c3</code></a></td><td><code>trac #16067: fixed duplicate lines found by reviewer</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9146bde20c077c880c8f364e99bb8ef4c879de41"><code>9146bde</code></a></td><td><code>trac #10534: merge #16067</code></td></tr></table>




---

archive/issue_comments_100279.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nAll right. The rebase was rather trivial.",
    "created_at": "2014-06-14T20:25:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100279",
    "user": "https://github.com/videlec"
}
```

<div id="comment:51" align="right">comment:51</div>

All right. The rebase was rather trivial.



---

archive/issue_events_138594.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-14T20:25:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138594"
}
```



---

archive/issue_events_138595.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-14T20:25:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138595"
}
```



---

archive/issue_events_138596.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-15T12:06:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138596"
}
```



---

archive/issue_events_138597.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-15T12:06:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138597"
}
```



---

archive/issue_comments_100280.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\n\n```\nsage -t --long src/sage/misc/sageinspect.py  # 1 doctest failed\n```",
    "created_at": "2014-06-15T12:06:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100280",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:52" align="right">comment:52</div>


```
sage -t --long src/sage/misc/sageinspect.py  # 1 doctest failed
```



---

archive/issue_comments_100281.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9637bdbfa0f65d670c8fbcdb8425661f36c6343\"><code>d9637bd</code></a></td><td><code>Trivial doctest fix due to line number changes.</code></td></tr></table>\n",
    "created_at": "2014-06-15T14:57:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100281",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9637bdbfa0f65d670c8fbcdb8425661f36c6343"><code>d9637bd</code></a></td><td><code>Trivial doctest fix due to line number changes.</code></td></tr></table>




---

archive/issue_comments_100282.json:
```json
{
    "body": "Changed commit from **[`9146bde`](https://github.com/sagemath/sagetrac-mirror/commit/9146bde20c077c880c8f364e99bb8ef4c879de41)** to **[`d9637bd`](https://github.com/sagemath/sagetrac-mirror/commit/d9637bdbfa0f65d670c8fbcdb8425661f36c6343)**",
    "created_at": "2014-06-15T14:57:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100282",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9146bde`](https://github.com/sagemath/sagetrac-mirror/commit/9146bde20c077c880c8f364e99bb8ef4c879de41)** to **[`d9637bd`](https://github.com/sagemath/sagetrac-mirror/commit/d9637bdbfa0f65d670c8fbcdb8425661f36c6343)**



---

archive/issue_events_138598.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-06-15T14:58:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138598"
}
```



---

archive/issue_events_138599.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-06-15T14:58:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138599"
}
```



---

archive/issue_events_138600.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-15T16:19:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138600"
}
```



---

archive/issue_events_138601.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-15T16:19:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138601"
}
```



---

archive/issue_comments_100283.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nTry running the testsuite...",
    "created_at": "2014-06-15T16:19:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100283",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:55" align="right">comment:55</div>

Try running the testsuite...



---

archive/issue_comments_100284.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nI did (again):\n\n```\ntravis@travis-sage:~/sage/src/sage/misc$ sage -tp sageinspect.py \nRunning doctests with ID 2014-06-15-09-38-19-7033a8ad.\nDoctesting 1 file using 4 threads.\nsage -t sageinspect.py\n    [251 tests, 24.24 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 24.6 seconds\n    cpu time: 4.7 seconds\n    cumulative wall time: 24.2 seconds\ntravis@travis-sage:~/sage/src/sage/misc$ sage -tp --long sageinspect.py \nRunning doctests with ID 2014-06-15-09-40-50-0dd08e9e.\nDoctesting 1 file using 4 threads.\nsage -t --long sageinspect.py\n    [251 tests, 24.16 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 24.5 seconds\n    cpu time: 4.7 seconds\n    cumulative wall time: 24.2 seconds\n```\nIs there a failure elsewhere (I also checked the failures that the patchbot reported and those passed)?",
    "created_at": "2014-06-15T16:49:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100284",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:56" align="right">comment:56</div>

I did (again):

```
travis@travis-sage:~/sage/src/sage/misc$ sage -tp sageinspect.py 
Running doctests with ID 2014-06-15-09-38-19-7033a8ad.
Doctesting 1 file using 4 threads.
sage -t sageinspect.py
    [251 tests, 24.24 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 24.6 seconds
    cpu time: 4.7 seconds
    cumulative wall time: 24.2 seconds
travis@travis-sage:~/sage/src/sage/misc$ sage -tp --long sageinspect.py 
Running doctests with ID 2014-06-15-09-40-50-0dd08e9e.
Doctesting 1 file using 4 threads.
sage -t --long sageinspect.py
    [251 tests, 24.16 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 24.5 seconds
    cpu time: 4.7 seconds
    cumulative wall time: 24.2 seconds
```
Is there a failure elsewhere (I also checked the failures that the patchbot reported and those passed)?



---

archive/issue_comments_100285.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nSame problem as in #16472\n\n```\nsage -t --long structure/sage_object.pyx\n**********************************************************************\nFile \"structure/sage_object.pyx\", line 1346, in sage.structure.sage_object.unpickle_all\nFailed example:\n    sage.structure.sage_object.unpickle_all()  # (4s on sage.math, 2011)\nExpected\n...\nGot:\n...\n    Failed:\n    _class__sage_combinat_choose_nk_ChooseNK__.sobj\n    _class__sage_combinat_split_nk_SplitNK_nk__.sobj\n```\n\nIf the approach with `__setstate__` is more standard then we should go for it here as well.",
    "created_at": "2014-06-15T17:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100285",
    "user": "https://github.com/videlec"
}
```

<div id="comment:57" align="right">comment:57</div>

Same problem as in #16472

```
sage -t --long structure/sage_object.pyx
**********************************************************************
File "structure/sage_object.pyx", line 1346, in sage.structure.sage_object.unpickle_all
Failed example:
    sage.structure.sage_object.unpickle_all()  # (4s on sage.math, 2011)
Expected
...
Got:
...
    Failed:
    _class__sage_combinat_choose_nk_ChooseNK__.sobj
    _class__sage_combinat_split_nk_SplitNK_nk__.sobj
```

If the approach with `__setstate__` is more standard then we should go for it here as well.



---

archive/issue_comments_100286.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nWill you be taking care of it Vincent or do you want me to?",
    "created_at": "2014-06-15T17:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100286",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:58" align="right">comment:58</div>

Will you be taking care of it Vincent or do you want me to?



---

archive/issue_comments_100287.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [@tscrim](#comment:58):\n> Will you be taking care of it Vincent or do you want me to?\n\nNo, no. I will do it along your lines. Thanks for proposing.",
    "created_at": "2014-06-15T17:42:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100287",
    "user": "https://github.com/videlec"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [@tscrim](#comment:58):
> Will you be taking care of it Vincent or do you want me to?

No, no. I will do it along your lines. Thanks for proposing.



---

archive/issue_comments_100288.json:
```json
{
    "body": "<div id=\"comment:60\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/714f266d81f57dd6d98daa5598a3b54478c213c8\"><code>714f266</code></a></td><td><code>trac #10534: fix pickling</code></td></tr></table>\n",
    "created_at": "2014-06-15T19:13:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100288",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:60"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/714f266d81f57dd6d98daa5598a3b54478c213c8"><code>714f266</code></a></td><td><code>trac #10534: fix pickling</code></td></tr></table>




---

archive/issue_comments_100289.json:
```json
{
    "body": "Changed commit from **[`d9637bd`](https://github.com/sagemath/sagetrac-mirror/commit/d9637bdbfa0f65d670c8fbcdb8425661f36c6343)** to **[`714f266`](https://github.com/sagemath/sagetrac-mirror/commit/714f266d81f57dd6d98daa5598a3b54478c213c8)**",
    "created_at": "2014-06-15T19:13:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100289",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d9637bd`](https://github.com/sagemath/sagetrac-mirror/commit/d9637bdbfa0f65d670c8fbcdb8425661f36c6343)** to **[`714f266`](https://github.com/sagemath/sagetrac-mirror/commit/714f266d81f57dd6d98daa5598a3b54478c213c8)**



---

archive/issue_events_138602.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-15T19:14:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138602"
}
```



---

archive/issue_events_138603.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2014-06-15T19:14:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138603"
}
```



---

archive/issue_comments_100290.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nHey Travis,\n\nPlease double check that everything is fine.\n\nVincent",
    "created_at": "2014-06-15T19:14:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100290",
    "user": "https://github.com/videlec"
}
```

<div id="comment:61" align="right">comment:61</div>

Hey Travis,

Please double check that everything is fine.

Vincent



---

archive/issue_events_138604.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-06-16T05:06:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138604"
}
```



---

archive/issue_events_138605.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2014-06-16T05:06:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138605"
}
```



---

archive/issue_comments_100291.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nLGTM. Thanks Vincent.",
    "created_at": "2014-06-16T05:06:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100291",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:62" align="right">comment:62</div>

LGTM. Thanks Vincent.



---

archive/issue_comments_100292.json:
```json
{
    "body": "Changed branch from **[public/10534](https://github.com/sagemath/sagetrac-mirror/tree/public/10534)** to **[`714f266`](https://github.com/sagemath/sagetrac-mirror/commit/714f266d81f57dd6d98daa5598a3b54478c213c8)**",
    "created_at": "2014-06-18T12:00:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10534#issuecomment-100292",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/10534](https://github.com/sagemath/sagetrac-mirror/tree/public/10534)** to **[`714f266`](https://github.com/sagemath/sagetrac-mirror/commit/714f266d81f57dd6d98daa5598a3b54478c213c8)**



---

archive/issue_events_138606.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-06-18T12:00:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138606"
}
```



---

archive/issue_events_138607.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a1f24f951c4ee4e84d8c610d32703e56967bc6d2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2014-06-18T12:00:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10534",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10534#event-138607"
}
```
