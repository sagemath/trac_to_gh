# Issue 10512: wrap matplotlib's title functionality

archive/issues_010459.json:
```json
{
    "body": "We should wrap matplotlib's ability to add titles to axes, perhaps as an option to show.\n\nhttp://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.title\n\nhttp://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.suptitle\n\n---\n\nApply [attachment:trac-10512-plot-title.1.patch] and [attachment:trac_10512_review-sl.patch] to devel/sage\n\nAssignee: @jasongrout\n\nCC:  @kcrisman @seblabbe\n\nReviewer: S\u00e9bastien Labb\u00e9, Punarbasu Purkayastha\n\nAuthor: Jason Grout, Punarbasu Purkayastha,  S\u00e9bastien Labb\u00e9\n\nMerged: sage-5.3.beta2\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/10512\n\n",
    "closed_at": "2012-08-16T18:23:36Z",
    "created_at": "2010-12-22T09:01:46Z",
    "labels": [
        "component: graphics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.3",
    "title": "wrap matplotlib's title functionality",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10512",
    "user": "https://github.com/jasongrout"
}
```
We should wrap matplotlib's ability to add titles to axes, perhaps as an option to show.

http://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.title

http://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.suptitle

---

Apply [attachment:trac-10512-plot-title.1.patch] and [attachment:trac_10512_review-sl.patch] to devel/sage

Assignee: @jasongrout

CC:  @kcrisman @seblabbe

Reviewer: Sébastien Labbé, Punarbasu Purkayastha

Author: Jason Grout, Punarbasu Purkayastha,  Sébastien Labbé

Merged: sage-5.3.beta2

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/10512





---

archive/issue_comments_113599.json:
```json
{
    "body": "Attachment [trac-10512-plot-title.patch](tarball://root/attachments/some-uuid/ticket10512/trac-10512-plot-title.patch) by @jasongrout created at 2011-03-08 15:43:45",
    "created_at": "2011-03-08T15:43:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113599",
    "user": "https://github.com/jasongrout"
}
```

Attachment [trac-10512-plot-title.patch](tarball://root/attachments/some-uuid/ticket10512/trac-10512-plot-title.patch) by @jasongrout created at 2011-03-08 15:43:45



---

archive/issue_comments_113600.json:
```json
{
    "body": "Changing assignee from jason, was to @jasongrout.",
    "created_at": "2011-03-08T15:45:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113600",
    "user": "https://github.com/jasongrout"
}
```

Changing assignee from jason, was to @jasongrout.



---

archive/issue_comments_113601.json:
```json
{
    "body": "<a id='comment:2'></a>I've attached a patch.  There is still an issue that needs to be solved, though.  In this plot:\n\n```\nplot(sin(x^2), (x, -3, 3), title='Plot of sin(x)', axes_labels=['x','y'],frame=True)\n```\n\nthe title overwrites the axis label.  Maybe the axis label should be smarter here, or the plot title should be slightly adjusted up in this situation.",
    "created_at": "2011-03-08T15:45:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113601",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:2'></a>I've attached a patch.  There is still an issue that needs to be solved, though.  In this plot:

```
plot(sin(x^2), (x, -3, 3), title='Plot of sin(x)', axes_labels=['x','y'],frame=True)
```

the title overwrites the axis label.  Maybe the axis label should be smarter here, or the plot title should be slightly adjusted up in this situation.



---

archive/issue_comments_113602.json:
```json
{
    "body": "Changing status from new to needs_work.",
    "created_at": "2011-03-08T15:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113602",
    "user": "https://github.com/jasongrout"
}
```

Changing status from new to needs_work.



---

archive/issue_comments_113603.json:
```json
{
    "body": "<a id='comment:4'></a>> `plot(sin(x^2), (x, -3, 3), title='Plot of sin(x)', axes_labels=['x','y'],frame=True)`\n\n\nI get no problem when `frame=True` but do get the described problem when `frame=False`.\n\nS\u00e9bastien",
    "created_at": "2011-03-08T20:09:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113603",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:4'></a>> `plot(sin(x^2), (x, -3, 3), title='Plot of sin(x)', axes_labels=['x','y'],frame=True)`


I get no problem when `frame=True` but do get the described problem when `frame=False`.

Sébastien



---

archive/issue_comments_113604.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-08-05T11:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113604",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_113605.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -4,7 +4,9 @@\n \n http://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.suptitle\n \n-Assignee: jason, was\n+---\n+\n+Apply [attachment:trac-10512-plot-title.1.patch] to devel/sage\n \n Comment: 1\n \n```\n",
    "created_at": "2012-08-05T11:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113605",
    "user": "https://github.com/ppurka"
}
```

Description changed:
```diff
--- 
+++ 
@@ -4,7 +4,9 @@
 
 http://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.suptitle
 
-Assignee: jason, was
+---
+
+Apply [attachment:trac-10512-plot-title.1.patch] to devel/sage
 
 Comment: 1
 
```




---

archive/issue_comments_113606.json:
```json
{
    "body": "<a id='comment:5'></a>Updated [attachment:trac-10512-plot-title.1.patch the patch] to sage-5.2 and fixed the positioning of the title. Please review.",
    "created_at": "2012-08-05T11:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113606",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:5'></a>Updated [attachment:trac-10512-plot-title.1.patch the patch] to sage-5.2 and fixed the positioning of the title. Please review.



---

archive/issue_comments_113607.json:
```json
{
    "body": "updated to sage-5.2, fixed position",
    "created_at": "2012-08-06T05:24:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113607",
    "user": "https://github.com/ppurka"
}
```

updated to sage-5.2, fixed position



---

archive/issue_comments_113608.json:
```json
{
    "body": "<a id='comment:6'></a>Attachment [trac-10512-plot-title.1.patch](tarball://root/attachments/some-uuid/ticket10512/trac-10512-plot-title.1.patch) by @ppurka created at 2012-08-06 05:24:53\n\nThere was a small typo in the backticks used around the `title` docstring. Fixed it now.",
    "created_at": "2012-08-06T05:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113608",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:6'></a>Attachment [trac-10512-plot-title.1.patch](tarball://root/attachments/some-uuid/ticket10512/trac-10512-plot-title.1.patch) by @ppurka created at 2012-08-06 05:24:53

There was a small typo in the backticks used around the `title` docstring. Fixed it now.



---

archive/issue_comments_113609.json:
```json
{
    "body": "Applies over the preceding patche",
    "created_at": "2012-08-09T18:05:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113609",
    "user": "https://github.com/seblabbe"
}
```

Applies over the preceding patche



---

archive/issue_comments_113610.json:
```json
{
    "body": "<a id='comment:7'></a>Attachment [trac_10512_review-sl.patch](tarball://root/attachments/some-uuid/ticket10512/trac_10512_review-sl.patch) by @seblabbe created at 2012-08-09 18:12:20\n\nI added a patch which adds a doctest about the fact that\n\n```\nplot(sin(x^2), (x, -3, 3), title='Plot of sin(x^2)', axes_labels=['x','y'],frame=True)\n```\n\nshould be ok (no overlap between title and axes labels). I know the doctest system won't see in the future if it is not the case, but at least the documentation will recall it.\n\nAlso added some `x^2` in title instead of `x`.\n\nMy patch needs review.\n\nI tested ppurka patch. All tests passed on `sage/combinat/graphics.py and plot.py`. Documentation builds fine. I give a positive review to his patch.\n\nBTW I am wondering why ppurka started from scratch instead of applying a patch over jason's one? Jason work will not appear in the log...",
    "created_at": "2012-08-09T18:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113610",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:7'></a>Attachment [trac_10512_review-sl.patch](tarball://root/attachments/some-uuid/ticket10512/trac_10512_review-sl.patch) by @seblabbe created at 2012-08-09 18:12:20

I added a patch which adds a doctest about the fact that

```
plot(sin(x^2), (x, -3, 3), title='Plot of sin(x^2)', axes_labels=['x','y'],frame=True)
```

should be ok (no overlap between title and axes labels). I know the doctest system won't see in the future if it is not the case, but at least the documentation will recall it.

Also added some `x^2` in title instead of `x`.

My patch needs review.

I tested ppurka patch. All tests passed on `sage/combinat/graphics.py and plot.py`. Documentation builds fine. I give a positive review to his patch.

BTW I am wondering why ppurka started from scratch instead of applying a patch over jason's one? Jason work will not appear in the log...



---

archive/issue_comments_113611.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n+We should wrap matplotlib's ability to add titles to axes, perhaps as an option to show.\n \n+http://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.title\n+\n+http://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.suptitle\n+\n+---\n+\n+Apply [attachment:trac-10512-plot-title.1.patch] and [attachment:trac_10512_review-sl.patch] to devel/sage\n \n Comment: 1\n \n```\n",
    "created_at": "2012-08-09T18:13:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113611",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,12 @@
+We should wrap matplotlib's ability to add titles to axes, perhaps as an option to show.
 
+http://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.title
+
+http://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.suptitle
+
+---
+
+Apply [attachment:trac-10512-plot-title.1.patch] and [attachment:trac_10512_review-sl.patch] to devel/sage
 
 Comment: 1
 
```




---

archive/issue_comments_113612.json:
```json
{
    "body": "<a id='comment:9'></a>Hello, the patch still contains Jason's name in the patch header. The patch fails in many places in 5.2, and I had to move many of the patch lines from plot.py to graphics.py. Otherwise the code is almost the same as what Jason had.",
    "created_at": "2012-08-12T01:00:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113612",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:9'></a>Hello, the patch still contains Jason's name in the patch header. The patch fails in many places in 5.2, and I had to move many of the patch lines from plot.py to graphics.py. Otherwise the code is almost the same as what Jason had.



---

archive/issue_comments_113613.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-08-13T10:39:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113613",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_113614.json:
```json
{
    "body": "<a id='comment:10'></a>Thanks for the patch. That was a good catch on the typos. :) Positive review from me.\n\nI see now what you actually meant in comment:7. I am setting the authors as all three of us. That should be good enough.",
    "created_at": "2012-08-13T10:39:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113614",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:10'></a>Thanks for the patch. That was a good catch on the typos. :) Positive review from me.

I see now what you actually meant in comment:7. I am setting the authors as all three of us. That should be good enough.



---

archive/issue_comments_113615.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-08-16T18:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113615",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_026962.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-16T18:23:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10512#event-26962"
}
```



---

archive/issue_comments_113616.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:2 jason]:\n> I've attached a patch.  There is still an issue that needs to be solved, though.  In this plot:\n> \n> ```\n> plot(sin(x^2), (x, -3, 3), title='Plot of sin(x)', axes_labels=['x','y'],frame=True)\n> ```\n> \n> the title overwrites the axis label.  Maybe the axis label should be smarter here, or the plot title should be slightly adjusted up in this situation.\n\n\nIt turns out that this happens in matrix plots as well, even with this code (because it has a frame).  See [this ask.sagemath.org question](http://ask.sagemath.org/question/1888/put-title-on-matrix_plot). I've opened #13625 for this.",
    "created_at": "2012-10-19T12:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10512",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10512#issuecomment-113616",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:13'></a>Replying to [comment:2 jason]:
> I've attached a patch.  There is still an issue that needs to be solved, though.  In this plot:
> 
> ```
> plot(sin(x^2), (x, -3, 3), title='Plot of sin(x)', axes_labels=['x','y'],frame=True)
> ```
> 
> the title overwrites the axis label.  Maybe the axis label should be smarter here, or the plot title should be slightly adjusted up in this situation.


It turns out that this happens in matrix plots as well, even with this code (because it has a frame).  See [this ask.sagemath.org question](http://ask.sagemath.org/question/1888/put-title-on-matrix_plot). I've opened #13625 for this.
