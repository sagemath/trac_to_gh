# Issue 10636: new method RootSystem.root_poset

archive/issues_010636.json:
```json
{
    "body": "Assignee: sage-combinat\n\nKeywords: root system, root poset\n\nThis patch contains the implementation of the root poset for root systems.\n\nIssue created by migration from https://trac.sagemath.org/ticket/10692\n\n",
    "closed_at": "2011-07-22T12:49:30Z",
    "created_at": "2011-01-26T02:57:54Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.2",
    "title": "new method RootSystem.root_poset",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10636",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```
Assignee: sage-combinat

Keywords: root system, root poset

This patch contains the implementation of the root poset for root systems.

Issue created by migration from https://trac.sagemath.org/ticket/10692





---

archive/issue_comments_111477.json:
```json
{
    "body": "Hi Christian!\n\nThanks for this useful feature!\n\nA couple suggestions:\n\n- Thanks for being careful with potential conflicts with #6588 (so far so good :-))\n- I would prefer to call the method as\n  RootSystem([\"A\",3]).root_lattice().root_poset() (possibly with a shortcut from root system, to possibly let the user choose in which realization the roots are returned\n- The code could be written generically for any RootLatticeRealization by computing scalar products with coweights.\n- Even without using scalar products, there should be no need to use dict's. Better use instead something like:\n\n```\n   for (i,c) in alpha:\n       if beta[i] < c: ...\n```\n\n- The root comparison function could be extracted as a separate method, as it could be of more general use\n\nCheers,\n                                 Nicolas",
    "created_at": "2011-01-26T07:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111477",
    "user": "https://github.com/nthiery"
}
```

Hi Christian!

Thanks for this useful feature!

A couple suggestions:

- Thanks for being careful with potential conflicts with #6588 (so far so good :-))
- I would prefer to call the method as
  RootSystem(["A",3]).root_lattice().root_poset() (possibly with a shortcut from root system, to possibly let the user choose in which realization the roots are returned
- The code could be written generically for any RootLatticeRealization by computing scalar products with coweights.
- Even without using scalar products, there should be no need to use dict's. Better use instead something like:

```
   for (i,c) in alpha:
       if beta[i] < c: ...
```

- The root comparison function could be extracted as a separate method, as it could be of more general use

Cheers,
                                 Nicolas



---

archive/issue_comments_111478.json:
```json
{
    "body": ">  - I would prefer to call the method as\n>    RootSystem([\"A\",3]).root_lattice().root_poset() (possibly with a shortcut from root system, to possibly let the user choose in which realization the roots are returned\n\n\nI only moved the method to the root lattice realization for now.\n\n>  - The code could be written generically for any RootLatticeRealization by computing scalar products with coweights.\n\n\nthis is still not done.\n\n>  - Even without using scalar products, there should be no need to use dict's.\n\n\ndone.\n\n>  - The root comparison function could be extracted as a separate method, as it could be of more general use\n\n\ndone, maybe there should be a better name, and it might be good to exclude negative roots.",
    "created_at": "2011-01-26T23:26:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111478",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

>  - I would prefer to call the method as
>    RootSystem(["A",3]).root_lattice().root_poset() (possibly with a shortcut from root system, to possibly let the user choose in which realization the roots are returned


I only moved the method to the root lattice realization for now.

>  - The code could be written generically for any RootLatticeRealization by computing scalar products with coweights.


this is still not done.

>  - Even without using scalar products, there should be no need to use dict's.


done.

>  - The root comparison function could be extracted as a separate method, as it could be of more general use


done, maybe there should be a better name, and it might be good to exclude negative roots.



---

archive/issue_events_027543.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/stumpc5",
    "created_at": "2011-06-10T16:32:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10636#event-27543"
}
```



---

archive/issue_comments_111479.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-06-10T16:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111479",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_111480.json:
```json
{
    "body": "I have read the patch, I have two comments.\n\n1) Maybe the doc could make use of Sphinx markup, to replace alpha and beta by true greek letters.\n\n2) Maybe one could also implement the poset of positive-but-not-simple-roots (under what name, I do not know) ? This is another very useful poset, at least for me.",
    "created_at": "2011-06-10T19:01:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111480",
    "user": "https://github.com/fchapoton"
}
```

I have read the patch, I have two comments.

1) Maybe the doc could make use of Sphinx markup, to replace alpha and beta by true greek letters.

2) Maybe one could also implement the poset of positive-but-not-simple-roots (under what name, I do not know) ? This is another very useful poset, at least for me.



---

archive/issue_comments_111481.json:
```json
{
    "body": "Replying to [comment:4 chapoton]:\n> 1) Maybe the doc could make use of Sphinx markup, to replace alpha and beta by true greek letters.\n\n\ndone\n\n> 2) Maybe one could also implement the poset of positive-but-not-simple-roots (under what name, I do not know) ? This is another very useful poset, at least for me.\n\n\nIt is! I added an optional argument `restricted` which can be used to obtain this *restricted root poset*. If you know a better name, feel free to change it...",
    "created_at": "2011-06-10T23:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111481",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Replying to [comment:4 chapoton]:
> 1) Maybe the doc could make use of Sphinx markup, to replace alpha and beta by true greek letters.


done

> 2) Maybe one could also implement the poset of positive-but-not-simple-roots (under what name, I do not know) ? This is another very useful poset, at least for me.


It is! I added an optional argument `restricted` which can be used to obtain this *restricted root poset*. If you know a better name, feel free to change it...



---

archive/issue_comments_111482.json:
```json
{
    "body": "ok, this is nice, but I would like to see the result of the Sphinx markup. I have doubts about the capital at the beginning of \\Leftrightarrow... could you put this patch in the combinat queue ?",
    "created_at": "2011-06-11T20:42:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111482",
    "user": "https://github.com/fchapoton"
}
```

ok, this is nice, but I would like to see the result of the Sphinx markup. I have doubts about the capital at the beginning of \Leftrightarrow... could you put this patch in the combinat queue ?



---

archive/issue_comments_111483.json:
```json
{
    "body": "Replying to [comment:6 chapoton]:\n> ok, this is nice, but I would like to see the result of the Sphinx markup. I have doubts about the capital at the beginning of \\Leftrightarrow... could you put this patch in the combinat queue ?\n\n\nI pushed it to the queue -- I build the doc yesterday and looked at it, this patch seems to build properly.",
    "created_at": "2011-06-11T21:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111483",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Replying to [comment:6 chapoton]:
> ok, this is nice, but I would like to see the result of the Sphinx markup. I have doubts about the capital at the beginning of \Leftrightarrow... could you put this patch in the combinat queue ?


I pushed it to the queue -- I build the doc yesterday and looked at it, this patch seems to build properly.



---

archive/issue_comments_111484.json:
```json
{
    "body": "The Sphinx markup does not work nicely. I wonder why you used the latex command '\\text' instead of just closing the latex environnement.",
    "created_at": "2011-06-13T18:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111484",
    "user": "https://github.com/fchapoton"
}
```

The Sphinx markup does not work nicely. I wonder why you used the latex command '\text' instead of just closing the latex environnement.



---

archive/issue_comments_111485.json:
```json
{
    "body": "Replying to [comment:8 chapoton]:\n> The Sphinx markup does not work nicely. I wonder why you used the latex command '\\text' instead of just closing the latex environnement.\n\n\nHow do I actually check if a patch contains any warnings or errors? When I build it, I don't see anything wrong looking at the (html) output.\n\nI used '\\text' to have this statement written in latex text style rather than in the usual text style. I found this output emphasising the statement better.\n\nBest, Christian",
    "created_at": "2011-06-13T19:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111485",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Replying to [comment:8 chapoton]:
> The Sphinx markup does not work nicely. I wonder why you used the latex command '\text' instead of just closing the latex environnement.


How do I actually check if a patch contains any warnings or errors? When I build it, I don't see anything wrong looking at the (html) output.

I used '\text' to have this statement written in latex text style rather than in the usual text style. I found this output emphasising the statement better.

Best, Christian



---

archive/issue_comments_111486.json:
```json
{
    "body": "Attachment [trac_10692-root_poset-cs.patch](tarball://root/attachments/some-uuid/ticket10692/trac_10692-root_poset-cs.patch) by stumpc5 created at 2011-06-13 20:41:49",
    "created_at": "2011-06-13T20:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111486",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Attachment [trac_10692-root_poset-cs.patch](tarball://root/attachments/some-uuid/ticket10692/trac_10692-root_poset-cs.patch) by stumpc5 created at 2011-06-13 20:41:49



---

archive/issue_comments_111487.json:
```json
{
    "body": "Replying to [comment:9 stumpc5]:\n> Replying to [comment:8 chapoton]:\n> > The Sphinx markup does not work nicely. I wonder why you used the latex command '\\text' instead of just closing the latex environnement.\n\n\nI also found another typo, so I changed it according to your suggestion...",
    "created_at": "2011-06-13T20:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111487",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Replying to [comment:9 stumpc5]:
> Replying to [comment:8 chapoton]:
> > The Sphinx markup does not work nicely. I wonder why you used the latex command '\text' instead of just closing the latex environnement.


I also found another typo, so I changed it according to your suggestion...



---

archive/issue_comments_111488.json:
```json
{
    "body": "Everything looks good, so positive review.",
    "created_at": "2011-06-16T18:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111488",
    "user": "https://github.com/fchapoton"
}
```

Everything looks good, so positive review.



---

archive/issue_comments_111489.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-06-16T18:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111489",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_027544.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-16T21:35:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10636#event-27544"
}
```



---

archive/issue_events_027545.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-16T21:35:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10636#event-27545"
}
```



---

archive/issue_comments_111490.json:
```json
{
    "body": "This needs to be rebased to sage-4.7.1.alpha2.",
    "created_at": "2011-06-18T09:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111490",
    "user": "https://github.com/jdemeyer"
}
```

This needs to be rebased to sage-4.7.1.alpha2.



---

archive/issue_comments_111491.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-06-18T09:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111491",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_111492.json:
```json
{
    "body": "Attachment [trac_10692-root_poset-cs.rebased.patch](tarball://root/attachments/some-uuid/ticket10692/trac_10692-root_poset-cs.rebased.patch) by @nilesjohnson created at 2011-06-19 10:52:16\n\nrebased to 4.7.1.alpha2",
    "created_at": "2011-06-19T10:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111492",
    "user": "https://github.com/nilesjohnson"
}
```

Attachment [trac_10692-root_poset-cs.rebased.patch](tarball://root/attachments/some-uuid/ticket10692/trac_10692-root_poset-cs.rebased.patch) by @nilesjohnson created at 2011-06-19 10:52:16

rebased to 4.7.1.alpha2



---

archive/issue_comments_111493.json:
```json
{
    "body": "rebased; no other changes.",
    "created_at": "2011-06-19T10:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111493",
    "user": "https://github.com/nilesjohnson"
}
```

rebased; no other changes.



---

archive/issue_comments_111494.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2011-06-19T10:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111494",
    "user": "https://github.com/nilesjohnson"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_027546.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-22T12:49:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10636#event-27546"
}
```



---

archive/issue_comments_111495.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-07-22T12:49:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10636#issuecomment-111495",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
