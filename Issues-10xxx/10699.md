# Issue 10699: Misc improvements to the code of sage/combinat/e_one_star.py

archive/issues_010643.json:
```json
{
    "assignees": [],
    "body": "The file e_one_star.py was merged recently into sage. After using it a bit for our research, we suggest the following improvements:\n\n* Add `extra_code_before` and `extra_code_after` arguments to the `plot_tikz` method.\n* Macros don't work when using sagetex. Remove the macros loza, lozb, lozc: just print the plain tikz code.\n* Allow the options `iterations=0` in the `__call__` method of `E1Star`.\n* Be able to plot patches made of unit segments (discrete lines).\n* Add the Patch method `.occurences_in` which returns the positions at which a patch appears in an other patch.\n* Change the default color map for the `.repaint` method (it's just nicer).\n* Add the `.faces_of_vector` method for `Patch`.\n* Fix a small bug: allow the type of a face and of the letters of a substitution to be `int`, and not only `Integer`.\n* Some other small fixes and documentation details.\n\nAssignee: **@seblabbe, tjolivet**\n\nCC:  tjolivet\n\nAuthor: **Timo Jolivet, S\u00e9bastien Labb\u00e9**\n\nReviewer: **S\u00e9bastien Labb\u00e9, Timo Jolivet**\n\nMerged: **sage-4.6.2.alpha4**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/10699_\n\n",
    "closed_at": "2011-02-07T08:16:02Z",
    "created_at": "2011-01-26T18:21:42Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Misc improvements to the code of sage/combinat/e_one_star.py",
    "type": "issue",
    "updated_at": "2011-02-07T08:16:02Z",
    "url": "https://github.com/sagemath/sage/issues/10699",
    "user": "https://github.com/seblabbe"
}
```
The file e_one_star.py was merged recently into sage. After using it a bit for our research, we suggest the following improvements:

* Add `extra_code_before` and `extra_code_after` arguments to the `plot_tikz` method.
* Macros don't work when using sagetex. Remove the macros loza, lozb, lozc: just print the plain tikz code.
* Allow the options `iterations=0` in the `__call__` method of `E1Star`.
* Be able to plot patches made of unit segments (discrete lines).
* Add the Patch method `.occurences_in` which returns the positions at which a patch appears in an other patch.
* Change the default color map for the `.repaint` method (it's just nicer).
* Add the `.faces_of_vector` method for `Patch`.
* Fix a small bug: allow the type of a face and of the letters of a substitution to be `int`, and not only `Integer`.
* Some other small fixes and documentation details.

Assignee: **@seblabbe, tjolivet**

CC:  tjolivet

Author: **Timo Jolivet, Sébastien Labbé**

Reviewer: **Sébastien Labbé, Timo Jolivet**

Merged: **sage-4.6.2.alpha4**

_Issue created by migration from https://trac.sagemath.org/ticket/10699_





---

archive/issue_events_124584.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2011-01-26T18:21:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "milestone_number": null,
    "milestone_title": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124584"
}
```



---

archive/issue_events_124585.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2011-01-26T18:21:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124585"
}
```



---

archive/issue_events_124586.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2011-01-26T18:21:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124586"
}
```



---

archive/issue_events_124587.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2011-01-26T18:21:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124587"
}
```



---

archive/issue_comments_104770.json:
```json
{
    "body": "Attachment: **[trac_10699_e_one_star_fix-sl.patch.gz](https://github.com/sagemath/sage/files/ticket10699/trac_10699_e_one_star_fix-sl.patch.gz)**\n\nFirst patch.",
    "created_at": "2011-01-26T18:23:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104770",
    "user": "https://github.com/seblabbe"
}
```

Attachment: **[trac_10699_e_one_star_fix-sl.patch.gz](https://github.com/sagemath/sage/files/ticket10699/trac_10699_e_one_star_fix-sl.patch.gz)**

First patch.



---

archive/issue_comments_104771.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,11 @@\n-The file e_one_star.py was merged recently into sage. After using it a bit for my research, there are some small improvements that I suggest:\n+The file e_one_star.py was merged recently into sage. After using it a bit for our research, we suggest the following improvements:\n \n-- Add extra_code_before and extra_code_after arguments to the plot_tikz method.\n-- Macros don't work when using sagetex. Remove the macros loza, lozb, lozc: just print the plain tikz code.\n-- ...\n-- Timo : add yours here ...\n+* Add `extra_code_before` and `extra_code_after` arguments to the `plot_tikz` method.\n+* Macros don't work when using sagetex. Remove the macros loza, lozb, lozc: just print the plain tikz code.\n+* Allow the options `iterations=0` in the `__call__` method of `E1Star`.\n+* Be able to plot patches made of unit segments (discrete lines).\n+* Add the Patch method `.occurences_in` which returns the positions at which a patch appears in an other patch.\n+* Change the default color map for the `.repaint` method (it's just nicer).\n+* Add the `.faces_of_vector` method for `Patch`.\n+* Fix a small bug: allow the type of a face and of the letters of a substitution to be `int`, and not only `Integer`.\n+* Some other small fixes and documentation details.\n``````\n",
    "created_at": "2011-01-27T14:07:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104771",
    "user": "https://github.com/sagetrac-tjolivet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,11 @@
-The file e_one_star.py was merged recently into sage. After using it a bit for my research, there are some small improvements that I suggest:
+The file e_one_star.py was merged recently into sage. After using it a bit for our research, we suggest the following improvements:
 
-- Add extra_code_before and extra_code_after arguments to the plot_tikz method.
-- Macros don't work when using sagetex. Remove the macros loza, lozb, lozc: just print the plain tikz code.
-- ...
-- Timo : add yours here ...
+* Add `extra_code_before` and `extra_code_after` arguments to the `plot_tikz` method.
+* Macros don't work when using sagetex. Remove the macros loza, lozb, lozc: just print the plain tikz code.
+* Allow the options `iterations=0` in the `__call__` method of `E1Star`.
+* Be able to plot patches made of unit segments (discrete lines).
+* Add the Patch method `.occurences_in` which returns the positions at which a patch appears in an other patch.
+* Change the default color map for the `.repaint` method (it's just nicer).
+* Add the `.faces_of_vector` method for `Patch`.
+* Fix a small bug: allow the type of a face and of the letters of a substitution to be `int`, and not only `Integer`.
+* Some other small fixes and documentation details.
``````




---

archive/issue_events_124588.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2011-01-30T00:02:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124588"
}
```



---

archive/issue_comments_104772.json:
```json
{
    "body": "Applies over the precedent 2 patches",
    "created_at": "2011-01-30T01:50:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104772",
    "user": "https://github.com/seblabbe"
}
```

Applies over the precedent 2 patches



---

archive/issue_comments_104773.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nAttachment: **[trac_10699_small_fixes-sl.patch.gz](https://github.com/sagemath/sage/files/ticket10699/trac_10699_small_fixes-sl.patch.gz)**\n\nI just added a patch which fixes some small issues. All test passed. Documentation builds fine. I am OK with giving this ticket a positive review if Timo agrees with my two patches.",
    "created_at": "2011-01-30T02:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104773",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:4'>Comment 4:</a>
Attachment: **[trac_10699_small_fixes-sl.patch.gz](https://github.com/sagemath/sage/files/ticket10699/trac_10699_small_fixes-sl.patch.gz)**

I just added a patch which fixes some small issues. All test passed. Documentation builds fine. I am OK with giving this ticket a positive review if Timo agrees with my two patches.



---

archive/issue_events_124589.json:
```json
{
    "actor": "https://github.com/sagetrac-tjolivet",
    "created_at": "2011-01-30T17:35:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124589"
}
```



---

archive/issue_events_124590.json:
```json
{
    "actor": "https://github.com/sagetrac-tjolivet",
    "created_at": "2011-01-30T17:35:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124590"
}
```



---

archive/issue_comments_104774.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nTests passed and I agree with the patches.",
    "created_at": "2011-01-30T17:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104774",
    "user": "https://github.com/sagetrac-tjolivet"
}
```

<a id='comment:5'>Comment 5:</a>
Tests passed and I agree with the patches.



---

archive/issue_events_124591.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-31T13:34:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124591"
}
```



---

archive/issue_events_124592.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-01-31T13:34:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124592"
}
```



---

archive/issue_comments_104775.json:
```json
{
    "body": "Reviewer: **S\u00e9bastien Labb\u00e9, Timo Jolivet**",
    "created_at": "2011-01-31T13:34:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104775",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Sébastien Labbé, Timo Jolivet**



---

archive/issue_comments_104776.json:
```json
{
    "body": "Author: **Timo Jolivet, S\u00e9bastien Labb\u00e9**",
    "created_at": "2011-01-31T13:34:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104776",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Timo Jolivet, Sébastien Labbé**



---

archive/issue_comments_104777.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nTimo: please fix the commit message of your patch (use `hg qrefresh -e` for that).\n\nAlso, remember to fill in your names as Author/Reviewer.",
    "created_at": "2011-01-31T13:34:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104777",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'>Comment 6:</a>
Timo: please fix the commit message of your patch (use `hg qrefresh -e` for that).

Also, remember to fill in your names as Author/Reviewer.



---

archive/issue_events_124593.json:
```json
{
    "actor": "https://github.com/sagetrac-tjolivet",
    "created_at": "2011-01-31T13:53:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124593"
}
```



---

archive/issue_events_124594.json:
```json
{
    "actor": "https://github.com/sagetrac-tjolivet",
    "created_at": "2011-01-31T13:53:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124594"
}
```



---

archive/issue_comments_104778.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@jdemeyer](#comment%3A6):\n> Timo: please fix the commit message of your patch (use `hg qrefresh -e` for that).\n\nOK it's done.",
    "created_at": "2011-01-31T13:53:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104778",
    "user": "https://github.com/sagetrac-tjolivet"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@jdemeyer](#comment%3A6):
> Timo: please fix the commit message of your patch (use `hg qrefresh -e` for that).

OK it's done.



---

archive/issue_comments_104779.json:
```json
{
    "body": "applies over the first patch",
    "created_at": "2011-01-31T17:17:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104779",
    "user": "https://github.com/sagetrac-tjolivet"
}
```

applies over the first patch



---

archive/issue_comments_104780.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nAttachment: **[trac_10699_e_one_star_fix-tj.patch.gz](https://github.com/sagemath/sage/files/ticket10699/trac_10699_e_one_star_fix-tj.patch.gz)**\n\nI just re-uploaded the patch trac_10699_e_one_star_fix-tj.patch to correct a minor typo in a function name (occurences_of instead of occurrences_of).",
    "created_at": "2011-01-31T17:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104780",
    "user": "https://github.com/sagetrac-tjolivet"
}
```

<a id='comment:8'>Comment 8:</a>
Attachment: **[trac_10699_e_one_star_fix-tj.patch.gz](https://github.com/sagemath/sage/files/ticket10699/trac_10699_e_one_star_fix-tj.patch.gz)**

I just re-uploaded the patch trac_10699_e_one_star_fix-tj.patch to correct a minor typo in a function name (occurences_of instead of occurrences_of).



---

archive/issue_events_124595.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-02-07T08:16:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124595"
}
```



---

archive/issue_events_124596.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-02-07T08:16:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/10699#event-124596"
}
```



---

archive/issue_comments_104781.json:
```json
{
    "body": "Merged: **sage-4.6.2.alpha4**",
    "created_at": "2011-02-07T08:16:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/10699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/10699#issuecomment-104781",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.6.2.alpha4**
