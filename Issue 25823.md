# Issue 25823: Wrong limit calculation

archive/issues_025823.json:
```json
{
    "body": "CC:  @slel\n\nKeywords: limit,maxima\n\n\n```python\nsage: (x / (x+2^x+cos(x))).limit(x=-infinity)\nund\n```\n\nShould clearly be 1.\n\nSymPy returns the correct result:\n\n```python\nsage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='sympy')\n1\n```\n\n\nSo is it a bug in Maxima?\n\nIssue created by migration from https://trac.sagemath.org/ticket/26060\n\n",
    "created_at": "2018-08-14T06:02:05Z",
    "labels": [
        "calculus",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Wrong limit calculation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25823",
    "user": "@pelegm"
}
```
CC:  @slel

Keywords: limit,maxima


```python
sage: (x / (x+2^x+cos(x))).limit(x=-infinity)
und
```

Should clearly be 1.

SymPy returns the correct result:

```python
sage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='sympy')
1
```


So is it a bug in Maxima?

Issue created by migration from https://trac.sagemath.org/ticket/26060





---

archive/issue_comments_364506.json:
```json
{
    "body": "Apparently yes.\n\n```\n$ sage --maxima\n<snip>\nMaxima 5.41.0 http://maxima.sourceforge.net\nusing Lisp ECL 16.1.2\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) limit(x / (x+2^x+cos(x)),x,-inf)       ;\n(%o1)                                 und\n```\n\n\nI've reported this at [Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/).",
    "created_at": "2018-08-15T13:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364506",
    "user": "@kcrisman"
}
```

Apparently yes.

```
$ sage --maxima
<snip>
Maxima 5.41.0 http://maxima.sourceforge.net
using Lisp ECL 16.1.2
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) limit(x / (x+2^x+cos(x)),x,-inf)       ;
(%o1)                                 und
```


I've reported this at [Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/).



---

archive/issue_comments_364507.json:
```json
{
    "body": "(That was pretty fast work!)",
    "created_at": "2018-08-31T00:49:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364507",
    "user": "@kcrisman"
}
```

(That was pretty fast work!)



---

archive/issue_comments_364508.json:
```json
{
    "body": "Changing keywords from \"limit,maxima\" to \"limit, maxima\".",
    "created_at": "2019-02-19T21:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364508",
    "user": "@slel"
}
```

Changing keywords from "limit,maxima" to "limit, maxima".



---

archive/issue_comments_364509.json:
```json
{
    "body": "After the upgrade to Maxima 5.42.2 in #26625, we should add a doctest here.",
    "created_at": "2019-02-19T21:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364509",
    "user": "@slel"
}
```

After the upgrade to Maxima 5.42.2 in #26625, we should add a doctest here.



---

archive/issue_comments_364510.json:
```json
{
    "body": "Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364510",
    "user": "@embray"
}
```

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_364511.json:
```json
{
    "body": "As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364511",
    "user": "@embray"
}
```

As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_comments_364512.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-29T18:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364512",
    "user": "@mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_364513.json:
```json
{
    "body": "Works in 9.2.beta10",
    "created_at": "2020-08-29T18:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364513",
    "user": "@mkoeppe"
}
```

Works in 9.2.beta10



---

archive/issue_comments_364514.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-29T20:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364514",
    "user": "@kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_364515.json:
```json
{
    "body": "Doctest",
    "created_at": "2020-08-29T20:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364515",
    "user": "@kcrisman"
}
```

Doctest



---

archive/issue_comments_364516.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-09-16T01:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364516",
    "user": "@slel"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_364517.json:
```json
{
    "body": "Doctest added. Please review.\n----\nNew commits:",
    "created_at": "2020-09-16T01:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364517",
    "user": "@slel"
}
```

Doctest added. Please review.
----
New commits:



---

archive/issue_comments_364518.json:
```json
{
    "body": "Looks fine to me (assuming patchbot says it's fine), though all the other changes in typesetting could have occurred on another ticket.  Thanks for doctesting!",
    "created_at": "2020-09-16T01:56:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364518",
    "user": "@kcrisman"
}
```

Looks fine to me (assuming patchbot says it's fine), though all the other changes in typesetting could have occurred on another ticket.  Thanks for doctesting!



---

archive/issue_comments_364519.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-16T01:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364519",
    "user": "@kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_364520.json:
```json
{
    "body": "Sorry!  Haven't been keeping \"Trac\" as much lately.",
    "created_at": "2020-09-16T10:56:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364520",
    "user": "@kcrisman"
}
```

Sorry!  Haven't been keeping "Trac" as much lately.



---

archive/issue_comments_364521.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-09-23T21:27:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25823",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25823#issuecomment-364521",
    "user": "@vbraun"
}
```

Resolution: fixed
