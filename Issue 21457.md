# Issue 21457: Exception types in posets.py

Issue created by migration from https://trac.sagemath.org/ticket/21694

Original creator: jmantysalo

Original creation time: 2016-10-13 08:11:23

CC:  jdemeyer

This patch modifies several `raise` statements in `posets.py`.

The context is this discussion: https://groups.google.com/forum/#!topic/sage-devel/nXTaoQQdT3Y . This patch tries to make some concrete examples of raising exceptions; hopefully later something will be added to devel manual.



---

Comment by jmantysalo created at 2016-10-13 08:12:29

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2016-10-13 08:12:29

New commits:


---

Comment by tscrim created at 2016-10-13 13:37:26

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2016-10-13 13:37:26

LGTM.


---

Comment by jmantysalo created at 2016-10-14 02:56:36

Sorry, this should not have been on _needs_review_ yet. But don't worry, I'll just convert some  `ValueError` to `ArithmeticError` so remaining review should be easy.


---

Comment by jmantysalo created at 2016-10-14 02:56:36

Changing status from positive_review to needs_work.


---

Comment by git created at 2016-10-14 03:11:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2016-10-14 03:29:46

It seems that at least for this particular case it is quite easy to select between `ValueError` and `ArithmeticError`; `ValueError` is left for cases where the user for example put `direction='junk'`. Hardest part is something like `Poset({0: [1], 1: [0]})`, which error it should be?

OTOH Python itself gives `ZeroDivisionError`, a subclass of `ArithmeticError`, from `1/0`, but `ValueError` from `sqrt(-42)`. But then, some other Sage code already raises ArithmeticErrors, so maybe that should happen here also.


---

Comment by jmantysalo created at 2016-10-14 03:29:46

Changing status from needs_work to needs_info.


---

Comment by git created at 2016-10-24 04:09:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2016-10-24 04:11:29

Changing status from needs_info to positive_review.


---

Comment by jmantysalo created at 2016-10-24 04:11:29

There was no more interest in this bikeshedding. Hence I revert this to phase that Travis already give a positive review. This at least unifies exception strings.


---

Comment by vbraun created at 2016-11-02 19:19:58

Resolution: fixed
