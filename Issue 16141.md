# Issue 16141: list_plot throws a TypeError with complex lists

archive/issues_016141.json:
```json
{
    "body": "CC:  @ppurka\n\nExample of the issue on SageMathCloud.\n\n> L=[1+i,4+i,4+2*i,2+2*i,2+3*i,1+3*i,1+i]\n>list_plot(L,plotjoined=True,aspect_ratio=1)\n\nError in lines 2-2\nTraceback (most recent call last):\n  File \"/projects/70e0e4f6-0afa-4aad-af80-07b2d31c1ec6/.sagemathcloud/sage_server.py\", line 733, in execute\n    exec compile(block+'\\n', '', 'single') in namespace, locals\n  File \"\", line 1, in <module>\n  File \"/usr/local/sage/sage-6.2.rc0/local/lib/python2.7/site-packages/sage/misc/decorators.py\", line 550, in wrapper\n    return func(*args, **options)\n  File \"/usr/local/sage/sage-6.2.rc0/local/lib/python2.7/site-packages/sage/plot/plot.py\", line 1810, in list_plot\n    data = [(z.real(), z.imag()) for z in [CC(z[1]) for z in data]]\nTypeError: 'sage.symbolic.expression.Expression' object does not support indexing\n\nIssue created by migration from https://trac.sagemath.org/ticket/16378\n\n",
    "created_at": "2014-05-20T01:45:44Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "list_plot throws a TypeError with complex lists",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16141",
    "user": "bradlys"
}
```
CC:  @ppurka

Example of the issue on SageMathCloud.

> L=[1+i,4+i,4+2*i,2+2*i,2+3*i,1+3*i,1+i]
>list_plot(L,plotjoined=True,aspect_ratio=1)

Error in lines 2-2
Traceback (most recent call last):
  File "/projects/70e0e4f6-0afa-4aad-af80-07b2d31c1ec6/.sagemathcloud/sage_server.py", line 733, in execute
    exec compile(block+'\n', '', 'single') in namespace, locals
  File "", line 1, in <module>
  File "/usr/local/sage/sage-6.2.rc0/local/lib/python2.7/site-packages/sage/misc/decorators.py", line 550, in wrapper
    return func(*args, **options)
  File "/usr/local/sage/sage-6.2.rc0/local/lib/python2.7/site-packages/sage/plot/plot.py", line 1810, in list_plot
    data = [(z.real(), z.imag()) for z in [CC(z[1]) for z in data]]
TypeError: 'sage.symbolic.expression.Expression' object does not support indexing

Issue created by migration from https://trac.sagemath.org/ticket/16378





---

archive/issue_comments_210732.json:
```json
{
    "body": "Set assignee to bradlys.",
    "created_at": "2014-05-20T01:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210732",
    "user": "bradlys"
}
```

Set assignee to bradlys.



---

archive/issue_comments_210733.json:
```json
{
    "body": "Normally, `L` should be changed to `list(enumerate(L))` so that this works fine, but apparently we are finally tripping the `pass` created when we get a `TypeError` in this branch of `list_plot`.  I'm not sure where this happened yet, though.",
    "created_at": "2014-05-20T14:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210733",
    "user": "@kcrisman"
}
```

Normally, `L` should be changed to `list(enumerate(L))` so that this works fine, but apparently we are finally tripping the `pass` created when we get a `TypeError` in this branch of `list_plot`.  I'm not sure where this happened yet, though.



---

archive/issue_comments_210734.json:
```json
{
    "body": "I think what's happening is that at line 1792, a TypeError is thrown.\n\n\n```\ntry:\n    from sage.rings.all import RDF #1791\n    tmp = RDF(data[0]) #1792\n    data = list(enumerate(data)) #1793\nexcept TypeError:\n    pass\ntry:\n    if plotjoined:\n        return line(data, **kwargs)\n    else:\n        return point(data, **kwargs)\nexcept (TypeError, IndexError):\n    # Assume we have complex-valued input and plot real and imaginary parts.\n    # Need to catch IndexError because if data is, say, [(0, 1), (1, I)],\n    # point3d() throws an IndexError on the (0,1) before it ever\n    # gets to (1, I).\n    from sage.rings.complex_field import ComplexField\n    CC = ComplexField()\n    # if we get here, we already did \"list(enumerate(data))\",\n    # so look at z[1] in inner list\n    data = [(z.real(), z.imag()) for z in [CC(z[1]) for z in data]] # LINE 1810\n    if plotjoined:\n        return line(data, **kwargs)\n    else:\n        return point(data, **kwargs)\n```\n\n\nI tested this theory by running this code in a sage worksheet on SMC:\n\n```\nfrom sage.rings.all import RDF\ndata = [1+i,4+i,4+2*i,2+2*i,2+3*i,1+3*i,1+i]\ntmp = RDF(data[0])\n```\n\nWhich throws a TypeError saying \"TypeError: Unable to convert 1.0 + 1.0*I to float; use abs() or real_part() as desired\".\n\nThat makes sense but that ends up skipping line 1793 where we need data = list(enumerate(data)) to occur. I could add data = list(enumerate(data)) at line 1809 and I think that would solve the issue since that's the case where you have complex-valued input.\n\nI tried this snippet, again in SMC, which does produce the desired output as far as I can tell.\n\n\n```\nfrom sage.rings.all import RDF\ndata = [1+i,4+i,4+2*i,2+2*i,2+3*i,1+3*i,1+i]\ndata = list(enumerate(data))\nfrom sage.rings.complex_field import ComplexField\nCC = ComplexField()\ndata = [(z.real(), z.imag()) for z in [CC(z[1]) for z in data]]\npoint(data)\n```\n",
    "created_at": "2014-05-26T01:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210734",
    "user": "bradlys"
}
```

I think what's happening is that at line 1792, a TypeError is thrown.


```
try:
    from sage.rings.all import RDF #1791
    tmp = RDF(data[0]) #1792
    data = list(enumerate(data)) #1793
except TypeError:
    pass
try:
    if plotjoined:
        return line(data, **kwargs)
    else:
        return point(data, **kwargs)
except (TypeError, IndexError):
    # Assume we have complex-valued input and plot real and imaginary parts.
    # Need to catch IndexError because if data is, say, [(0, 1), (1, I)],
    # point3d() throws an IndexError on the (0,1) before it ever
    # gets to (1, I).
    from sage.rings.complex_field import ComplexField
    CC = ComplexField()
    # if we get here, we already did "list(enumerate(data))",
    # so look at z[1] in inner list
    data = [(z.real(), z.imag()) for z in [CC(z[1]) for z in data]] # LINE 1810
    if plotjoined:
        return line(data, **kwargs)
    else:
        return point(data, **kwargs)
```


I tested this theory by running this code in a sage worksheet on SMC:

```
from sage.rings.all import RDF
data = [1+i,4+i,4+2*i,2+2*i,2+3*i,1+3*i,1+i]
tmp = RDF(data[0])
```

Which throws a TypeError saying "TypeError: Unable to convert 1.0 + 1.0*I to float; use abs() or real_part() as desired".

That makes sense but that ends up skipping line 1793 where we need data = list(enumerate(data)) to occur. I could add data = list(enumerate(data)) at line 1809 and I think that would solve the issue since that's the case where you have complex-valued input.

I tried this snippet, again in SMC, which does produce the desired output as far as I can tell.


```
from sage.rings.all import RDF
data = [1+i,4+i,4+2*i,2+2*i,2+3*i,1+3*i,1+i]
data = list(enumerate(data))
from sage.rings.complex_field import ComplexField
CC = ComplexField()
data = [(z.real(), z.imag()) for z in [CC(z[1]) for z in data]]
point(data)
```




---

archive/issue_comments_210735.json:
```json
{
    "body": "Thanks for adding the full details; that is exactly what I was alluding to.  The question is **why** this is happening now, because I don't think this behavior of `RDF(data[0])` is any different from before (well, the error message is somewhat different, but a `TypeError` is raised even in much older version of Sage, as it should be) - hence my saying \"finally\".  \n\nAnd I'm stumped on that.  In 5.12 all is well.  I hate to have to bisect things, though I agree that adding the line in the place you mention should work, but my suspicion is that there is another change/bug involved and it would be best to get to the bottom of this  - in case it was fixed another time and then we ended up enumerating an enumerated list, causing a different bug.",
    "created_at": "2014-05-27T14:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210735",
    "user": "@kcrisman"
}
```

Thanks for adding the full details; that is exactly what I was alluding to.  The question is **why** this is happening now, because I don't think this behavior of `RDF(data[0])` is any different from before (well, the error message is somewhat different, but a `TypeError` is raised even in much older version of Sage, as it should be) - hence my saying "finally".  

And I'm stumped on that.  In 5.12 all is well.  I hate to have to bisect things, though I agree that adding the line in the place you mention should work, but my suspicion is that there is another change/bug involved and it would be best to get to the bottom of this  - in case it was fixed another time and then we ended up enumerating an enumerated list, causing a different bug.



---

archive/issue_comments_210736.json:
```json
{
    "body": "This is how list_plot works from 5.1.2. It's significantly different than the current implementation. I'm not sure how to track down where the changes were made as I am pretty new to fixing bugs for Sage.\n\n```\nfrom sage.plot.all import line, point\nif data == {} or data == () or data == []:\n\treturn Graphics()\nif isinstance(data, dict):\n\tif plotjoined:\n\t\tlist_data = sorted(list(data.iteritems()))\n\telse:\n\t\tlist_data = list(data.iteritems())\n\treturn list_plot(list_data, plotjoined=plotjoined, **kwargs)\nif not isinstance(data[0], (list, tuple)):\n\tdata = zip(range(len(data)), data)\nif isinstance(plotjoined, (list, tuple)):\n\traise TypeError, \"The second argument 'plotjoined' should be boolean (True or False).  If you meant to plot two lists 'x' and 'y' against each other, use 'list_plot(zip(x,y))'.\"\ntry:\n\tif plotjoined:\n\t\treturn line(data, **kwargs)\n\telse:\n\t\treturn point(data, **kwargs)\nexcept (TypeError, IndexError):\n\t# Assume we have complex-valued input and plot real and imaginary parts.\n\t# Need to catch IndexError because if data is, say, [(0, 1), (1, I)],\n\t# point3d() throws an IndexError on the (0,1) before it ever\n\t# gets to (1, I).\n\tfrom sage.rings.complex_field import ComplexField\n\tCC = ComplexField()\n\t# if we get here, we already did \"zip(range(len(data)), data)\",\n\t# so look at z[1] in inner list\n\tdata = [(z.real(), z.imag()) for z in [CC(z[1]) for z in data]]\n\tif plotjoined:\n\t\treturn line(data, **kwargs)\n\telse:\n\t\treturn point(data, **kwargs)\n```\n",
    "created_at": "2014-05-27T23:51:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210736",
    "user": "bradlys"
}
```

This is how list_plot works from 5.1.2. It's significantly different than the current implementation. I'm not sure how to track down where the changes were made as I am pretty new to fixing bugs for Sage.

```
from sage.plot.all import line, point
if data == {} or data == () or data == []:
	return Graphics()
if isinstance(data, dict):
	if plotjoined:
		list_data = sorted(list(data.iteritems()))
	else:
		list_data = list(data.iteritems())
	return list_plot(list_data, plotjoined=plotjoined, **kwargs)
if not isinstance(data[0], (list, tuple)):
	data = zip(range(len(data)), data)
if isinstance(plotjoined, (list, tuple)):
	raise TypeError, "The second argument 'plotjoined' should be boolean (True or False).  If you meant to plot two lists 'x' and 'y' against each other, use 'list_plot(zip(x,y))'."
try:
	if plotjoined:
		return line(data, **kwargs)
	else:
		return point(data, **kwargs)
except (TypeError, IndexError):
	# Assume we have complex-valued input and plot real and imaginary parts.
	# Need to catch IndexError because if data is, say, [(0, 1), (1, I)],
	# point3d() throws an IndexError on the (0,1) before it ever
	# gets to (1, I).
	from sage.rings.complex_field import ComplexField
	CC = ComplexField()
	# if we get here, we already did "zip(range(len(data)), data)",
	# so look at z[1] in inner list
	data = [(z.real(), z.imag()) for z in [CC(z[1]) for z in data]]
	if plotjoined:
		return line(data, **kwargs)
	else:
		return point(data, **kwargs)
```




---

archive/issue_comments_210737.json:
```json
{
    "body": "> This is how list_plot works from 5.1.2. It's significantly different than the current implementation. I'm not sure how to track down where the changes were made as I am pretty new to fixing bugs for Sage.\n\nThanks - I haven't had enough working installations around lately, but this will undoubtedly make it easier to track down.\n\nIn fact, I see one thing already - `zip(range(len(data)), data)` is functionally equivalent to `enumerate(data)`, and so apparently someone got too cute.  I should be able to track down where this change was made now momentarily.",
    "created_at": "2014-05-28T00:04:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210737",
    "user": "@kcrisman"
}
```

> This is how list_plot works from 5.1.2. It's significantly different than the current implementation. I'm not sure how to track down where the changes were made as I am pretty new to fixing bugs for Sage.

Thanks - I haven't had enough working installations around lately, but this will undoubtedly make it easier to track down.

In fact, I see one thing already - `zip(range(len(data)), data)` is functionally equivalent to `enumerate(data)`, and so apparently someone got too cute.  I should be able to track down where this change was made now momentarily.



---

archive/issue_comments_210738.json:
```json
{
    "body": "Changing component from packages: standard to graphics.",
    "created_at": "2014-05-28T00:14:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210738",
    "user": "@kcrisman"
}
```

Changing component from packages: standard to graphics.



---

archive/issue_comments_210739.json:
```json
{
    "body": "It was basu, in #11787.\n\n```\n\ncommit 603ea722edbbd46d2dcde0abb6c85f32ef6cdf18\nAuthor: Punarbasu Purkayastha <ppurka@gmail.com>\nDate:   Fri Apr 19 15:56:20 2013 +0000\n\n    allow numpy arrays in list_plot, line, points\n```\n\nHe's very efficient and knowledgeable and it should not be hard to get a fix in soon, maybe even in 6.3.  The reason this wasn't caught is because \n\n```\n\n    try:\n        from sage.rings.all import RDF\n        tmp = RDF(data[0])\n        data = list(enumerate(data))\n\n```\n\nand in all the examples in the documentation, you ***can*** put the first element in the list into `RDF`!  So we should be more careful; any one element could be complex and that would be enough to need the enumerate.",
    "created_at": "2014-05-28T00:14:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210739",
    "user": "@kcrisman"
}
```

It was basu, in #11787.

```

commit 603ea722edbbd46d2dcde0abb6c85f32ef6cdf18
Author: Punarbasu Purkayastha <ppurka@gmail.com>
Date:   Fri Apr 19 15:56:20 2013 +0000

    allow numpy arrays in list_plot, line, points
```

He's very efficient and knowledgeable and it should not be hard to get a fix in soon, maybe even in 6.3.  The reason this wasn't caught is because 

```

    try:
        from sage.rings.all import RDF
        tmp = RDF(data[0])
        data = list(enumerate(data))

```

and in all the examples in the documentation, you ***can*** put the first element in the list into `RDF`!  So we should be more careful; any one element could be complex and that would be enough to need the enumerate.



---

archive/issue_comments_210740.json:
```json
{
    "body": "Sorry guys. Looks like I failed to notice this in #11787.\n\nThe reason to move away from\n\n```\nif not isinstance(data[0], (list, tuple)):\n```\n\nis because of the introduction of numpy arrays. The following would break otherwise\n\n```\nsage: A = numpy.array([[1,2], [2,3], [3,4]])\nsage: list_plot(A)       # this is fine now with the RDF() check\n\nsage: A[0]               # even though A[0] is a two dimensional object...\narray([1, 2])            # ... it is neither a tuple nor a list (see below)\n\nsage: isinstance(A[0], (list, tuple))\nFalse\n```\n\nI went through many iterations in #11787 to completely avoid importing numpy unnecessarily. I will be adding a patch shortly to check for elements in `SR`.",
    "created_at": "2014-05-28T15:21:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210740",
    "user": "@ppurka"
}
```

Sorry guys. Looks like I failed to notice this in #11787.

The reason to move away from

```
if not isinstance(data[0], (list, tuple)):
```

is because of the introduction of numpy arrays. The following would break otherwise

```
sage: A = numpy.array([[1,2], [2,3], [3,4]])
sage: list_plot(A)       # this is fine now with the RDF() check

sage: A[0]               # even though A[0] is a two dimensional object...
array([1, 2])            # ... it is neither a tuple nor a list (see below)

sage: isinstance(A[0], (list, tuple))
False
```

I went through many iterations in #11787 to completely avoid importing numpy unnecessarily. I will be adding a patch shortly to check for elements in `SR`.



---

archive/issue_comments_210741.json:
```json
{
    "body": "Patch is up for review. Passes all doctests in sage/plot. `<sup>.</sup>`\n----\nNew commits:",
    "created_at": "2014-05-28T15:59:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210741",
    "user": "@ppurka"
}
```

Patch is up for review. Passes all doctests in sage/plot. `<sup>.</sup>`
----
New commits:



---

archive/issue_comments_210742.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-28T15:59:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210742",
    "user": "@ppurka"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_210743.json:
```json
{
    "body": "I'm not sure I buy this, though.  What if the result is complex but not in the symbolic ring?  (Or are even things in CDF also in SR?)",
    "created_at": "2014-05-28T16:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210743",
    "user": "@kcrisman"
}
```

I'm not sure I buy this, though.  What if the result is complex but not in the symbolic ring?  (Or are even things in CDF also in SR?)



---

archive/issue_comments_210744.json:
```json
{
    "body": "Replying to [comment:13 kcrisman]:\n> I'm not sure I buy this, though.  What if the result is complex but not in the symbolic ring?  (Or are even things in CDF also in SR?) \n\nIf it is complex but not in the symbolic ring, then it is automatically handled by `line()` and `point()` directly. These inputs are tested [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/plot.py#L1701), [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/plot.py#L1692), and possibly also in `line` and `point` docstrings.\n\nIf they fail `tmp = RDF(data[0])`, they will be handled correctly by `line` and/or `point`. All I have done in the above patch is make sure `SR` is taken care of separately.\n\n\nEDIT: References in `line` and `point`: [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/line.py#L404), [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/point.py#L388).",
    "created_at": "2014-05-28T18:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210744",
    "user": "@ppurka"
}
```

Replying to [comment:13 kcrisman]:
> I'm not sure I buy this, though.  What if the result is complex but not in the symbolic ring?  (Or are even things in CDF also in SR?) 

If it is complex but not in the symbolic ring, then it is automatically handled by `line()` and `point()` directly. These inputs are tested [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/plot.py#L1701), [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/plot.py#L1692), and possibly also in `line` and `point` docstrings.

If they fail `tmp = RDF(data[0])`, they will be handled correctly by `line` and/or `point`. All I have done in the above patch is make sure `SR` is taken care of separately.


EDIT: References in `line` and `point`: [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/line.py#L404), [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/point.py#L388).



---

archive/issue_comments_210745.json:
```json
{
    "body": "> > I'm not sure I buy this, though.  What if the result is complex but not in the symbolic ring?  (Or are even things in CDF also in SR?) \n> \n> If it is complex but not in the symbolic ring, then it is automatically handled by `line()` and `point()` directly. These inputs are tested [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/plot.py#L1701), [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/plot.py#L1692), and possibly also in `line` and `point` docstrings.\n> \n> If they fail `tmp = RDF(data[0])`, they will be handled correctly by `line` and/or `point`. All I have done in the above patch is make sure `SR` is taken care of separately.\n\nOkay, just thinking out loud here... what if the first element is in SR but not following ones, or vice versa?  (My guess is you've thought of that, but the `data[0]` just makes me nervous.)",
    "created_at": "2014-05-28T19:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210745",
    "user": "@kcrisman"
}
```

> > I'm not sure I buy this, though.  What if the result is complex but not in the symbolic ring?  (Or are even things in CDF also in SR?) 
> 
> If it is complex but not in the symbolic ring, then it is automatically handled by `line()` and `point()` directly. These inputs are tested [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/plot.py#L1701), [here](https://github.com/sagemath/sage/blob/master/src/sage/plot/plot.py#L1692), and possibly also in `line` and `point` docstrings.
> 
> If they fail `tmp = RDF(data[0])`, they will be handled correctly by `line` and/or `point`. All I have done in the above patch is make sure `SR` is taken care of separately.

Okay, just thinking out loud here... what if the first element is in SR but not following ones, or vice versa?  (My guess is you've thought of that, but the `data[0]` just makes me nervous.)



---

archive/issue_comments_210746.json:
```json
{
    "body": "Replying to [comment:15 kcrisman]:\n> Okay, just thinking out loud here... what if the first element is in SR but not following ones, or vice versa?  (My guess is you've thought of that, but the `data[0]` just makes me nervous.)\n\nThey have always worked fine before (before my numpy patch). I just added some tests to indicate that it is possible to mix and match SR, CC and reals.",
    "created_at": "2014-05-29T01:42:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210746",
    "user": "@ppurka"
}
```

Replying to [comment:15 kcrisman]:
> Okay, just thinking out loud here... what if the first element is in SR but not following ones, or vice versa?  (My guess is you've thought of that, but the `data[0]` just makes me nervous.)

They have always worked fine before (before my numpy patch). I just added some tests to indicate that it is possible to mix and match SR, CC and reals.



---

archive/issue_comments_210747.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-29T01:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210747",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_210748.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-15T10:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210748",
    "user": "@kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_210749.json:
```json
{
    "body": "Got a little time to test... This is interesting because\n\n```\nsage: list_plot([1,2,3])\nsage: list_plot([1,i,3])\n```\n\nso it switches from the one form of list plot to the other.   But whatever, this is good.",
    "created_at": "2014-08-15T10:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210749",
    "user": "@kcrisman"
}
```

Got a little time to test... This is interesting because

```
sage: list_plot([1,2,3])
sage: list_plot([1,i,3])
```

so it switches from the one form of list plot to the other.   But whatever, this is good.



---

archive/issue_comments_210750.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-08-16T09:32:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16141",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16141#issuecomment-210750",
    "user": "@vbraun"
}
```

Resolution: fixed
