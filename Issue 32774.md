# Issue 32774: Remove __init__.py files for packages designated to be namespace packages

archive/issues_032774.json:
```json
{
    "body": "CC:  @tobiasdiez @kwankyu\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/33011\n\n",
    "created_at": "2021-12-11T04:27:50Z",
    "labels": [
        "refactoring",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Remove __init__.py files for packages designated to be namespace packages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32774",
    "user": "@mkoeppe"
}
```
CC:  @tobiasdiez @kwankyu



Issue created by migration from https://trac.sagemath.org/ticket/33011





---

archive/issue_comments_467364.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2021-12-11T04:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467364",
    "user": "@mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_467365.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-12-17T07:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467365",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_467366.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-17T16:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467366",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467367.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-17T16:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467367",
    "user": "@mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_467368.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-23T06:26:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467368",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467369.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-14T05:46:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467369",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467370.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-02-14T06:05:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467370",
    "user": "@mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_467371.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-02-14T06:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467371",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467372.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-14T07:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467372",
    "user": "@mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_467373.json:
```json
{
    "body": "Is this supposed to work even in incremental build?\n\nDoing `./configure; make` with the branch, I got\n\n```\n[sagelib-9.6.beta5] ************************************************************************\n[sagelib-9.6.beta5] Traceback (most recent call last):\n[sagelib-9.6.beta5]   File \"/Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-standard/setup.py\", line 89, in <module>\n[sagelib-9.6.beta5]     from sage_setup.find import find_python_sources, is_package_or_namespace_package_dir\n[sagelib-9.6.beta5] ImportError: cannot import name 'is_package_or_namespace_package_dir' from 'sage_setup.find' (/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_setup/find.py)\n```\n",
    "created_at": "2022-03-13T09:47:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467373",
    "user": "@kwankyu"
}
```

Is this supposed to work even in incremental build?

Doing `./configure; make` with the branch, I got

```
[sagelib-9.6.beta5] ************************************************************************
[sagelib-9.6.beta5] Traceback (most recent call last):
[sagelib-9.6.beta5]   File "/Users/kwankyu/GitHub/sage-dev/pkgs/sagemath-standard/setup.py", line 89, in <module>
[sagelib-9.6.beta5]     from sage_setup.find import find_python_sources, is_package_or_namespace_package_dir
[sagelib-9.6.beta5] ImportError: cannot import name 'is_package_or_namespace_package_dir' from 'sage_setup.find' (/Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_setup/find.py)
```




---

archive/issue_comments_467374.json:
```json
{
    "body": "Building from scratch (after `make distclean`) works. Sage starts with no difference. I am running tests. No problem up to now.\n\nI checked removed `__init__.py` files. There is still `src/sage/numerical/__init__.py` file. Is this correct?\n\nWhat else should I check as a user/reviewer?",
    "created_at": "2022-03-13T10:00:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467374",
    "user": "@kwankyu"
}
```

Building from scratch (after `make distclean`) works. Sage starts with no difference. I am running tests. No problem up to now.

I checked removed `__init__.py` files. There is still `src/sage/numerical/__init__.py` file. Is this correct?

What else should I check as a user/reviewer?



---

archive/issue_comments_467375.json:
```json
{
    "body": "A comment perhaps naive and not relevant here:\n\nIf a file like `all__sagemath_objects.py` is only to serve\n\n```\n# The presence of this file ensures that sage_setup for sagemath-objects\n# considers this directory as a namespace package \n```\n\nthen a simpler name like `__namespace_package__.py` would not work?",
    "created_at": "2022-03-13T10:17:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467375",
    "user": "@kwankyu"
}
```

A comment perhaps naive and not relevant here:

If a file like `all__sagemath_objects.py` is only to serve

```
# The presence of this file ensures that sage_setup for sagemath-objects
# considers this directory as a namespace package 
```

then a simpler name like `__namespace_package__.py` would not work?



---

archive/issue_comments_467376.json:
```json
{
    "body": "I get these persistent doctest failures\n\n```\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/tests/cmdline.py  # 4 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/structure/element.pyx  # 35 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/cython.py  # 3 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/graphs/connectivity.pyx  # 2 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/cachefunc.pyx  # 23 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/arith/long.pxd  # 14 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/ext/memory_allocator.pxd  # 6 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/ext/memory_allocator.pyx  # 9 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/integer_fake.pxd  # 1 doctest failed\nsage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage_setup/find.py  # 1 doctest failed\n```\n",
    "created_at": "2022-03-13T11:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467376",
    "user": "@kwankyu"
}
```

I get these persistent doctest failures

```
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/tests/cmdline.py  # 4 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/structure/element.pyx  # 35 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/cython.py  # 3 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/graphs/connectivity.pyx  # 2 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/cachefunc.pyx  # 23 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/arith/long.pxd  # 14 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/ext/memory_allocator.pxd  # 6 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/ext/memory_allocator.pyx  # 9 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage/rings/integer_fake.pxd  # 1 doctest failed
sage -t --warn-long 74.5 --random-seed=209187923013064120554478148791206188460 src/sage_setup/find.py  # 1 doctest failed
```




---

archive/issue_comments_467377.json:
```json
{
    "body": "Replying to [comment:16 klee]:\n> If a file like `all__sagemath_objects.py` is only to serve\n> {{{\n> # The presence of this file ensures that sage_setup for sagemath-objects\n> # considers this directory as a namespace package \n> }}}\n> then a simpler name like `__namespace_package__.py` would not work?\n\nIt would work, but based on discussion in #28925, I decided to use a file pattern that is already in use in the Sage sources",
    "created_at": "2022-03-13T17:48:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467377",
    "user": "@mkoeppe"
}
```

Replying to [comment:16 klee]:
> If a file like `all__sagemath_objects.py` is only to serve
> {{{
> # The presence of this file ensures that sage_setup for sagemath-objects
> # considers this directory as a namespace package 
> }}}
> then a simpler name like `__namespace_package__.py` would not work?

It would work, but based on discussion in #28925, I decided to use a file pattern that is already in use in the Sage sources



---

archive/issue_comments_467378.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-13T17:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467378",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467379.json:
```json
{
    "body": "Replying to [comment:15 klee]:\n> I checked removed `__init__.py` files. There is still `src/sage/numerical/__init__.py` file. Is this correct?\n\nThanks for catching this! I have removed it now.",
    "created_at": "2022-03-13T17:51:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467379",
    "user": "@mkoeppe"
}
```

Replying to [comment:15 klee]:
> I checked removed `__init__.py` files. There is still `src/sage/numerical/__init__.py` file. Is this correct?

Thanks for catching this! I have removed it now.



---

archive/issue_comments_467380.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-13T18:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467380",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467381.json:
```json
{
    "body": "Replying to [comment:14 klee]:\n> Is this supposed to work even in incremental build?\n\nI think this is fixed now by the latest commit in #28925",
    "created_at": "2022-03-13T18:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467381",
    "user": "@mkoeppe"
}
```

Replying to [comment:14 klee]:
> Is this supposed to work even in incremental build?

I think this is fixed now by the latest commit in #28925



---

archive/issue_comments_467382.json:
```json
{
    "body": "Replying to [comment:17 klee]:\n> I get these persistent doctest failures\n\nThanks for testing! I cannot reproduce these failures. Maybe they have been resolved by merging the latest beta into the branch already.",
    "created_at": "2022-03-13T18:32:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467382",
    "user": "@mkoeppe"
}
```

Replying to [comment:17 klee]:
> I get these persistent doctest failures

Thanks for testing! I cannot reproduce these failures. Maybe they have been resolved by merging the latest beta into the branch already.



---

archive/issue_comments_467383.json:
```json
{
    "body": "Replying to [comment:15 klee]:\n> What else should I check as a user/reviewer?\n\nNothing special really, there should be no observable change. The dependency #28925 does give some additional things that could be checked regarding the subset distributions **sagemath-objects**, **sagemath-categories**.",
    "created_at": "2022-03-13T18:34:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467383",
    "user": "@mkoeppe"
}
```

Replying to [comment:15 klee]:
> What else should I check as a user/reviewer?

Nothing special really, there should be no observable change. The dependency #28925 does give some additional things that could be checked regarding the subset distributions **sagemath-objects**, **sagemath-categories**.



---

archive/issue_comments_467384.json:
```json
{
    "body": "Replying to [comment:18 mkoeppe]:\n> Replying to [comment:16 klee]:\n> > If a file like `all__sagemath_objects.py` is only to serve\n> > {{{\n> > # The presence of this file ensures that sage_setup for sagemath-objects\n> > # considers this directory as a namespace package \n> > }}}\n> > then a simpler name like `__namespace_package__.py` would not work?\n> \n> It would work, but based on discussion in #28925, I decided to use a file pattern that is already in use in the Sage sources\n\nI don't find any discussion about naming there... Anyway, \n\n(1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?\n\n(2) Should the name depend on the distribution package name (here `sagemath_objects`)? Then is it subject to change depending on how sage library is organized as distribution packages?",
    "created_at": "2022-03-14T00:29:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467384",
    "user": "@kwankyu"
}
```

Replying to [comment:18 mkoeppe]:
> Replying to [comment:16 klee]:
> > If a file like `all__sagemath_objects.py` is only to serve
> > {{{
> > # The presence of this file ensures that sage_setup for sagemath-objects
> > # considers this directory as a namespace package 
> > }}}
> > then a simpler name like `__namespace_package__.py` would not work?
> 
> It would work, but based on discussion in #28925, I decided to use a file pattern that is already in use in the Sage sources

I don't find any discussion about naming there... Anyway, 

(1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?

(2) Should the name depend on the distribution package name (here `sagemath_objects`)? Then is it subject to change depending on how sage library is organized as distribution packages?



---

archive/issue_comments_467385.json:
```json
{
    "body": "Replying to [comment:26 klee]:\n> (1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?\n\nNot true. See for example https://github.com/sagemath/sage/blob/develop/src/sage/categories/all__sagemath_objects.py, which is imported in https://github.com/sagemath/sage/blob/develop/src/sage/categories/all.py",
    "created_at": "2022-03-14T01:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467385",
    "user": "@mkoeppe"
}
```

Replying to [comment:26 klee]:
> (1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?

Not true. See for example https://github.com/sagemath/sage/blob/develop/src/sage/categories/all__sagemath_objects.py, which is imported in https://github.com/sagemath/sage/blob/develop/src/sage/categories/all.py



---

archive/issue_comments_467386.json:
```json
{
    "body": "Just the `all__sagemath_objects.py` files added in the present ticket happen to be trivial because the distribution **sagemath-objects** does not put anything from the modules that it contains in the global namespace.",
    "created_at": "2022-03-14T01:09:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467386",
    "user": "@mkoeppe"
}
```

Just the `all__sagemath_objects.py` files added in the present ticket happen to be trivial because the distribution **sagemath-objects** does not put anything from the modules that it contains in the global namespace.



---

archive/issue_comments_467387.json:
```json
{
    "body": "Replying to [comment:27 mkoeppe]:\n> Replying to [comment:26 klee]:\n> > (1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?\n> \n> Not true. See for example https://github.com/sagemath/sage/blob/develop/src/sage/categories/all__sagemath_objects.py, which is imported in https://github.com/sagemath/sage/blob/develop/src/sage/categories/all.py\n> \n\nOkay. I see the idea.",
    "created_at": "2022-03-14T04:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467387",
    "user": "@kwankyu"
}
```

Replying to [comment:27 mkoeppe]:
> Replying to [comment:26 klee]:
> > (1) Is it true that the prefix `all__` has nothing to do with the purpose of the file `all.py`?
> 
> Not true. See for example https://github.com/sagemath/sage/blob/develop/src/sage/categories/all__sagemath_objects.py, which is imported in https://github.com/sagemath/sage/blob/develop/src/sage/categories/all.py
> 

Okay. I see the idea.



---

archive/issue_comments_467388.json:
```json
{
    "body": "With sage built with Volker's branch and #28925, I get these failures only with this branch:\n\n```\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/tests/cmdline.py  # 4 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/sagedoc.py  # 3 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/structure/element.pyx  # 35 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/cachefunc.pyx  # 23 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/cython.py  # 3 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/graphs/connectivity.pyx  # 2 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/arith/long.pxd  # 14 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/ext/memory_allocator.pxd  # 6 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/ext/memory_allocator.pyx  # 9 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/integer_fake.pxd  # 1 doctest failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage_setup/find.py  # 1 doctest failed\nsage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/docs/conf.py  # 1 doctest failed\n```\n",
    "created_at": "2022-03-14T08:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467388",
    "user": "@kwankyu"
}
```

With sage built with Volker's branch and #28925, I get these failures only with this branch:

```
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/tests/cmdline.py  # 4 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/sagedoc.py  # 3 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/structure/element.pyx  # 35 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/cachefunc.pyx  # 23 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/cython.py  # 3 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/graphs/connectivity.pyx  # 2 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/arith/long.pxd  # 14 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/ext/memory_allocator.pxd  # 6 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/ext/memory_allocator.pyx  # 9 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/rings/integer_fake.pxd  # 1 doctest failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage_setup/find.py  # 1 doctest failed
sage -t --warn-long 63.0 --random-seed=176571558312394579781618281386824830468 src/sage/docs/conf.py  # 1 doctest failed
```




---

archive/issue_comments_467389.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-05-30T05:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467389",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467390.json:
```json
{
    "body": "With the current branch, `make distclean; make -j8; sage -tp --all` results in \n\n```\n----------------------------------------------------------------------\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/tests/cmdline.py  # 4 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/sagedoc.py  # 3 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/structure/element.pyx  # 35 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cython.py  # 3 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cachefunc.pyx  # 23 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/connectivity.pyx  # 2 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pxd  # 6 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pyx  # 9 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/arith/long.pxd  # 14 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/integer_fake.pxd  # 1 doctest failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/normal_form_game.py  # 2 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_setup/find.py  # 1 doctest failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_docbuild/conf.py  # 1 doctest failed\nsage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/docs/conf.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n\non mac.",
    "created_at": "2022-06-07T09:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467390",
    "user": "@kwankyu"
}
```

With the current branch, `make distclean; make -j8; sage -tp --all` results in 

```
----------------------------------------------------------------------
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/tests/cmdline.py  # 4 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/sagedoc.py  # 3 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/structure/element.pyx  # 35 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cython.py  # 3 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cachefunc.pyx  # 23 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/connectivity.pyx  # 2 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pxd  # 6 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pyx  # 9 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/arith/long.pxd  # 14 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/integer_fake.pxd  # 1 doctest failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/normal_form_game.py  # 2 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_setup/find.py  # 1 doctest failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_docbuild/conf.py  # 1 doctest failed
sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/docs/conf.py  # 1 doctest failed
----------------------------------------------------------------------
```

on mac.



---

archive/issue_comments_467391.json:
```json
{
    "body": "This comment \n\n```\n# To build and test in the tox environment:\n#\n# ./sage -sh -c '(cd pkgs/sagemath-categories/src && tox -v -v -v)'   \n```\n\nin `pkgs/sagemath-categories/tox.ini` seems wrong. \n\nThis `./sage -sh -c '(cd pkgs/sagemath-categories && tox -v -v -v)'` works though.",
    "created_at": "2022-06-07T09:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467391",
    "user": "@kwankyu"
}
```

This comment 

```
# To build and test in the tox environment:
#
# ./sage -sh -c '(cd pkgs/sagemath-categories/src && tox -v -v -v)'   
```

in `pkgs/sagemath-categories/tox.ini` seems wrong. 

This `./sage -sh -c '(cd pkgs/sagemath-categories && tox -v -v -v)'` works though.



---

archive/issue_comments_467392.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-07T17:45:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467392",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467393.json:
```json
{
    "body": "Replying to [comment:33 klee]:\n> With the current branch, `make distclean; make -j8; sage -tp --all` results in \n> {{{\n> ----------------------------------------------------------------------\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/tests/cmdline.py  # 4 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/sagedoc.py  # 3 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/structure/element.pyx  # 35 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cython.py  # 3 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cachefunc.pyx  # 23 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/connectivity.pyx  # 2 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pxd  # 6 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pyx  # 9 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/arith/long.pxd  # 14 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/integer_fake.pxd  # 1 doctest failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/normal_form_game.py  # 2 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_setup/find.py  # 1 doctest failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_docbuild/conf.py  # 1 doctest failed\n> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/docs/conf.py  # 1 doctest failed\n> ----------------------------------------------------------------------\n> }}}\n> on mac.\n\nCould you share the details of these failures please? I cannot reproduce them (also on mac)",
    "created_at": "2022-06-07T19:48:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467393",
    "user": "@mkoeppe"
}
```

Replying to [comment:33 klee]:
> With the current branch, `make distclean; make -j8; sage -tp --all` results in 
> {{{
> ----------------------------------------------------------------------
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/tests/cmdline.py  # 4 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/sagedoc.py  # 3 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/structure/element.pyx  # 35 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cython.py  # 3 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/cachefunc.pyx  # 23 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/connectivity.pyx  # 2 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/graphs/graph_decompositions/fast_digraph.pyx  # 5 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/tate_algebra_ideal.pyx  # 6 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/polynomial/ore_polynomial_element.pyx  # 6 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pxd  # 6 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/ext/memory_allocator.pyx  # 9 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/arith/long.pxd  # 14 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/inherit_comparison.pyx  # 5 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/misc/lazy_attribute.pyx  # 3 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/rings/integer_fake.pxd  # 1 doctest failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/normal_form_game.py  # 2 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_setup/find.py  # 1 doctest failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/game_theory/catalog_normal_form_games.py  # 15 doctests failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage_docbuild/conf.py  # 1 doctest failed
> sage -t --warn-long 59.6 --random-seed=58674280218506165844967914886745987426 src/sage/docs/conf.py  # 1 doctest failed
> ----------------------------------------------------------------------
> }}}
> on mac.

Could you share the details of these failures please? I cannot reproduce them (also on mac)



---

archive/issue_comments_467394.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-06-07T21:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467394",
    "user": "@mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_467395.json:
```json
{
    "body": "OK, now I do see some failures that come from the runtime use of Cython.",
    "created_at": "2022-06-07T21:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467395",
    "user": "@mkoeppe"
}
```

OK, now I do see some failures that come from the runtime use of Cython.



---

archive/issue_comments_467396.json:
```json
{
    "body": "Some doctest failures are caused by the failure of documentation building. Indeed I have \n\n```\n[sagemath_doc_html-none] [graphs   ] The inventory files are in local/share/doc/sage/inventory/en/reference/graphs.\n[sagemath_doc_html-none] Build finished. The built documents can be found in /Users/kwankyu/GitHub/sage-temp/local/share/doc/sage/inventory/en/reference/graphs\n[sagemath_doc_html-none] Error building the documentation.\n[sagemath_doc_html-none] Traceback (most recent call last):\n[sagemath_doc_html-none]   File \"/usr/local/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/runpy.py\", line 197, in _run_module_as_main\n[sagemath_doc_html-none]     return _run_code(code, main_globals, None,\n[sagemath_doc_html-none]   File \"/usr/local/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/runpy.py\", line 87, in _run_code\n[sagemath_doc_html-none]     exec(code, run_globals)\n[sagemath_doc_html-none]   File \"/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__main__.py\", line 500, in <module>\n[sagemath_doc_html-none]     sys.exit(main())\n[sagemath_doc_html-none]   File \"/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__main__.py\", line 497, in main\n[sagemath_doc_html-none]     builder()\n[sagemath_doc_html-none]   File \"/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/builders.py\", line 814, in _wrapper\n[sagemath_doc_html-none]     for module_name in self.get_new_and_updated_modules():\n[sagemath_doc_html-none]   File \"/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/builders.py\", line 1014, in get_new_and_updated_modules\n[sagemath_doc_html-none]     if (module_filename.endswith('.pyc') or module_filename.endswith('.pyo')):\n[sagemath_doc_html-none] AttributeError: 'NoneType' object has no attribute 'endswith'\n[sagemath_doc_html-none] \n[sagemath_doc_html-none]     Note: incremental documentation builds sometimes cause spurious\n[sagemath_doc_html-none]     error messages. To be certain that these are real errors, run\n[sagemath_doc_html-none]     \"make doc-clean doc-uninstall\" first and try again.\n[sagemath_doc_html-none] cd /Users/kwankyu/GitHub/sage-temp && ./sage --docbuild --no-pdf-links reference/cryptography inventory --no-prune-empty-dirs\n[sagemath_doc_html-none] make[6]: *** [doc-inventory--reference-categories] Error 1\n[sagemath_doc_html-none] make[6]: *** Waiting for unfinished jobs....\n[sagemath_doc_html-none] [asymptoti] no targets are out of date.\n```\n\nDo you have no problem in building documentation?",
    "created_at": "2022-06-08T01:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467396",
    "user": "@kwankyu"
}
```

Some doctest failures are caused by the failure of documentation building. Indeed I have 

```
[sagemath_doc_html-none] [graphs   ] The inventory files are in local/share/doc/sage/inventory/en/reference/graphs.
[sagemath_doc_html-none] Build finished. The built documents can be found in /Users/kwankyu/GitHub/sage-temp/local/share/doc/sage/inventory/en/reference/graphs
[sagemath_doc_html-none] Error building the documentation.
[sagemath_doc_html-none] Traceback (most recent call last):
[sagemath_doc_html-none]   File "/usr/local/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/runpy.py", line 197, in _run_module_as_main
[sagemath_doc_html-none]     return _run_code(code, main_globals, None,
[sagemath_doc_html-none]   File "/usr/local/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/runpy.py", line 87, in _run_code
[sagemath_doc_html-none]     exec(code, run_globals)
[sagemath_doc_html-none]   File "/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__main__.py", line 500, in <module>
[sagemath_doc_html-none]     sys.exit(main())
[sagemath_doc_html-none]   File "/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__main__.py", line 497, in main
[sagemath_doc_html-none]     builder()
[sagemath_doc_html-none]   File "/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/builders.py", line 814, in _wrapper
[sagemath_doc_html-none]     for module_name in self.get_new_and_updated_modules():
[sagemath_doc_html-none]   File "/Users/kwankyu/GitHub/sage-temp/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/builders.py", line 1014, in get_new_and_updated_modules
[sagemath_doc_html-none]     if (module_filename.endswith('.pyc') or module_filename.endswith('.pyo')):
[sagemath_doc_html-none] AttributeError: 'NoneType' object has no attribute 'endswith'
[sagemath_doc_html-none] 
[sagemath_doc_html-none]     Note: incremental documentation builds sometimes cause spurious
[sagemath_doc_html-none]     error messages. To be certain that these are real errors, run
[sagemath_doc_html-none]     "make doc-clean doc-uninstall" first and try again.
[sagemath_doc_html-none] cd /Users/kwankyu/GitHub/sage-temp && ./sage --docbuild --no-pdf-links reference/cryptography inventory --no-prune-empty-dirs
[sagemath_doc_html-none] make[6]: *** [doc-inventory--reference-categories] Error 1
[sagemath_doc_html-none] make[6]: *** Waiting for unfinished jobs....
[sagemath_doc_html-none] [asymptoti] no targets are out of date.
```

Do you have no problem in building documentation?



---

archive/issue_comments_467397.json:
```json
{
    "body": "Now I see that too, sorry. Previously it seems I didn't clean fully",
    "created_at": "2022-06-08T05:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467397",
    "user": "@mkoeppe"
}
```

Now I see that too, sorry. Previously it seems I didn't clean fully



---

archive/issue_comments_467398.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-08T06:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467398",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467399.json:
```json
{
    "body": "Here's an attempt to fix the docbuild problem",
    "created_at": "2022-06-08T06:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467399",
    "user": "@mkoeppe"
}
```

Here's an attempt to fix the docbuild problem



---

archive/issue_comments_467400.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-08T06:32:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467400",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467401.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-08T06:40:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467401",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467402.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-06-08T06:49:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467402",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_467403.json:
```json
{
    "body": "Rebased on updated #28925",
    "created_at": "2022-06-08T06:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467403",
    "user": "@mkoeppe"
}
```

Rebased on updated #28925



---

archive/issue_comments_467404.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-06-08T07:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467404",
    "user": "@mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_467405.json:
```json
{
    "body": "Only this one remains:\n\n```\nsage -t --random-seed=189805995761835901272169845153382768673 src/sage_setup/find.py\nRunning doctests with ID 2022-06-08-18-44-23-6fbbcef6.\nUsing --optional=homebrew,pip,sage,sage_spkg\nFeatures to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,gfan,graphviz,imagemagick,jupymake,kenzo,latte_int,lrslib,mcqd,meataxe,msolve,nauty,palp,pandoc,pdf2svg,pdftocairo,phitigra,plantri,polytopes_db,polytopes_db_4d,pynormaliz,python_igraph,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,sagemath_doc_html,sphinx,tdlib\nDoctesting 1 file.\nsage -t --warn-long 64.2 --random-seed=189805995761835901272169845153382768673 src/sage_setup/find.py\n**********************************************************************\nFile \"src/sage_setup/find.py\", line 401, in sage_setup.find.installed_files_by_module\nFailed example:\n    files_by_module['sage.graphs.graph_decompositions']\nExpected:\n    {...'sage/graphs/graph_decompositions/__init__.py'...}\nGot:\n    set()\n**********************************************************************\n1 item had failures:\n   1 of  10 in sage_setup.find.installed_files_by_module\n    [49 tests, 1 failure, 1.47 s]\n```\n",
    "created_at": "2022-06-08T09:47:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467405",
    "user": "@kwankyu"
}
```

Only this one remains:

```
sage -t --random-seed=189805995761835901272169845153382768673 src/sage_setup/find.py
Running doctests with ID 2022-06-08-18-44-23-6fbbcef6.
Using --optional=homebrew,pip,sage,sage_spkg
Features to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,gfan,graphviz,imagemagick,jupymake,kenzo,latte_int,lrslib,mcqd,meataxe,msolve,nauty,palp,pandoc,pdf2svg,pdftocairo,phitigra,plantri,polytopes_db,polytopes_db_4d,pynormaliz,python_igraph,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.groups,sage.plot,sage.rings.number_field,sage.rings.padics,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,sagemath_doc_html,sphinx,tdlib
Doctesting 1 file.
sage -t --warn-long 64.2 --random-seed=189805995761835901272169845153382768673 src/sage_setup/find.py
**********************************************************************
File "src/sage_setup/find.py", line 401, in sage_setup.find.installed_files_by_module
Failed example:
    files_by_module['sage.graphs.graph_decompositions']
Expected:
    {...'sage/graphs/graph_decompositions/__init__.py'...}
Got:
    set()
**********************************************************************
1 item had failures:
   1 of  10 in sage_setup.find.installed_files_by_module
    [49 tests, 1 failure, 1.47 s]
```




---

archive/issue_comments_467406.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-08T11:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467406",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467407.json:
```json
{
    "body": "Thanks for testing! Fixed now",
    "created_at": "2022-06-08T11:32:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467407",
    "user": "@mkoeppe"
}
```

Thanks for testing! Fixed now



---

archive/issue_comments_467408.json:
```json
{
    "body": "All tests passed! Also I ran tox tests on sagemath-categories. All passed.\n\nAnd then I did `pkgs/sagemath-categories/.tox/python/bin/python`, and then \n\n```\nfrom sage.categories.all import *\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/sage/categories/all.py\", line 32, in <module>\n    from sage.misc.lazy_import import lazy_import\nModuleNotFoundError: No module named 'sage.misc.lazy_import'\n```\n\nPerhaps I did something that I should not do. What are reasonable things to do, to test `sagemath-categories`?",
    "created_at": "2022-06-08T12:25:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467408",
    "user": "@kwankyu"
}
```

All tests passed! Also I ran tox tests on sagemath-categories. All passed.

And then I did `pkgs/sagemath-categories/.tox/python/bin/python`, and then 

```
from sage.categories.all import *
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/sage/categories/all.py", line 32, in <module>
    from sage.misc.lazy_import import lazy_import
ModuleNotFoundError: No module named 'sage.misc.lazy_import'
```

Perhaps I did something that I should not do. What are reasonable things to do, to test `sagemath-categories`?



---

archive/issue_comments_467409.json:
```json
{
    "body": "This works just fine here:\n\n```\n$ ./sage -sh -c '(cd pkgs/sagemath-categories && SAGE_NUM_THREADS=16 tox -r -v -v -v -e py39)'\n[...]\n$ pkgs/sagemath-categories/.tox/py39/bin/python\nPython 3.9.10 (v3.9.10:f2f3f53782, Jan 13 2022, 17:02:14) \n[Clang 6.0 (clang-600.0.57)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from sage.categories.all import *\n>>> \n```\n\n\nDid you by any chance run this from the directory `/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/`?\nThis won't work because by default `.` is in the front of `PYTHONPATH`. And then the directory in the source tree (`sage`), which does not contain the compiled Cython modules, shadows the installed package `sage`. \n\n(That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)",
    "created_at": "2022-06-08T17:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467409",
    "user": "@mkoeppe"
}
```

This works just fine here:

```
$ ./sage -sh -c '(cd pkgs/sagemath-categories && SAGE_NUM_THREADS=16 tox -r -v -v -v -e py39)'
[...]
$ pkgs/sagemath-categories/.tox/py39/bin/python
Python 3.9.10 (v3.9.10:f2f3f53782, Jan 13 2022, 17:02:14) 
[Clang 6.0 (clang-600.0.57)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> from sage.categories.all import *
>>> 
```


Did you by any chance run this from the directory `/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/`?
This won't work because by default `.` is in the front of `PYTHONPATH`. And then the directory in the source tree (`sage`), which does not contain the compiled Cython modules, shadows the installed package `sage`. 

(That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)



---

archive/issue_comments_467410.json:
```json
{
    "body": "Replying to [comment:51 mkoeppe]:\n> Did you by any chance run this from the directory `/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/`?\n\nCorrect.\n\n> This won't work because by default `.` is in the front of `PYTHONPATH`. And then the directory in the source tree (`sage`), which does not contain the compiled Cython modules, shadows the installed package `sage`.\n\nI see.  \n\n> (That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)\n\nSo this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?",
    "created_at": "2022-06-08T19:03:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467410",
    "user": "@kwankyu"
}
```

Replying to [comment:51 mkoeppe]:
> Did you by any chance run this from the directory `/Users/kwankyu/GitHub/sage-temp/pkgs/sagemath-categories/`?

Correct.

> This won't work because by default `.` is in the front of `PYTHONPATH`. And then the directory in the source tree (`sage`), which does not contain the compiled Cython modules, shadows the installed package `sage`.

I see.  

> (That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)

So this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?



---

archive/issue_comments_467411.json:
```json
{
    "body": "Replying to [comment:52 klee]:\n> > (That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)\n> \n> So this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?\n\nAs far as I can see, there is no consensus in the Python community regarding which of the two layouts should be preferred. To me, the extra `src/` is additional clutter",
    "created_at": "2022-06-09T00:59:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467411",
    "user": "@mkoeppe"
}
```

Replying to [comment:52 klee]:
> > (That's what the comment `# Beware of the treacherous non-src layout` in tox.ini refers to.)
> 
> So this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?

As far as I can see, there is no consensus in the Python community regarding which of the two layouts should be preferred. To me, the extra `src/` is additional clutter



---

archive/issue_comments_467412.json:
```json
{
    "body": "Replying to [comment:53 mkoeppe]: \n> > So this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?\n> \n> As far as I can see, there is no consensus in the Python community regarding which of the two layouts should be preferred. To me, the extra `src/` is additional clutter\n\nOkay. Not a big deal.",
    "created_at": "2022-06-09T04:46:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467412",
    "user": "@kwankyu"
}
```

Replying to [comment:53 mkoeppe]: 
> > So this would be a common gotcha. Then why not `src` layout? Perhaps this is explained somewhere?
> 
> As far as I can see, there is no consensus in the Python community regarding which of the two layouts should be preferred. To me, the extra `src/` is additional clutter

Okay. Not a big deal.



---

archive/issue_comments_467413.json:
```json
{
    "body": "I am working on a ticket on sage merged with the present ticket. When I rebuild sage by `sage -b`, I observe much bigger log, including \n\n```\n...\n...\n***********************************************\n[sagelib-9.7.beta1] Building interpreters for fast_callable\n[sagelib-9.7.beta1] Discovering Python/Cython source code....\n[sagelib-9.7.beta1] distributions = ['']\n[sagelib-9.7.beta1] Discovered Python/Cython sources, time: 5.48 seconds.\n[sagelib-9.7.beta1] running build\n[sagelib-9.7.beta1] running build_py\n[sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/numerical/backends/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/ext/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/arith/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/libs/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/libs/mpfi/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/libs/mpfr/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/libs/polybori/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/libs/mpc/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/sets/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/rings/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/graphs/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/graphs/graph_decompositions/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] copying sage/modules/free_module.py -> build/lib.macosx-12-x86_64-3.9/sage/modules\n[sagelib-9.7.beta1] package init file 'sage/categories/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/matrix/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] package init file 'sage/interfaces/__init__.py' not found (or not a regular file)\n[sagelib-9.7.beta1] running build_ext\n[sagelib-9.7.beta1] running build_cython\n[sagelib-9.7.beta1] Enabling Cython debugging support\n[sagelib-9.7.beta1] Updating Cython code....\n[sagelib-9.7.beta1] Compiling sage/resolutions/free.pyx because it changed.\n[sagelib-9.7.beta1] [1/1] Cythonizing sage/resolutions/free.pyx\n[sagelib-9.7.beta1] Finished Cythonizing, time: 6.33 seconds.\n[sagelib-9.7.beta1] cythonized_files = [('sage/misc', ['./sage/misc/parser.pyx', './sage/misc/classcall_metaclass.pyx', './sage/misc/weak_dict.pyx', './sage/misc/sage_timeit_class.pyx', './sage/misc/lazy_string.pyx', './sage/misc/search.pyx', './sage/misc/c3_controlled.pyx', './sage/misc/instancedoc.pyx', './sage/misc/binary_tree.pxd', './sage/misc/reset.pyx', './sage/misc/sage_ostools.pyx', './sage/misc/function_mangling.pyx', './sage/misc/lazy_list.pyx', './sage/misc/citation.pyx', './sage/misc/nested_class.pxd', './sage/misc/fast_methods.pyx', './sage/misc/misc_c.pxd', './sage/misc/cachefunc.pyx', './sage/misc/session.pyx', './sage/misc/pickle_old.pyx', './sage/misc/allocator.pyx', './sage/misc/inherit_comparison.pxd', './sage/misc/randstate.pxd', './sage/misc/randstate.pyx', './sage/misc/inherit_comparison.pyx', './sage/misc/allocator.pxd', './sage/misc/cachefunc.pxd', './sage/misc/callable_dict.pyx', './sage/misc/fast_methods.pxd', './sage/misc/nested_class.pyx', './sage/misc/derivative.pyx', './sage/misc/misc_c.pyx', './sage/misc/lazy_attribute.pyx', './sage/misc/lazy_list.pxd', './sage/misc/function_mangling.pxd', './sage/misc/lazy_import.pyx', './sage/misc/binary_tree.pyx', './sage/misc/search.pxd', './sage/misc/c3_controlled.pxd', './sage/misc/fpickle.pyx', './sage/misc/lazy_string.pxd', './sage/misc/stopgap.pyx', './sage/misc/persist.pyx', './sage/misc/weak_dict.pxd', './sage/misc/c3.pyx', './sage/misc/constant_function.pyx', './sage/misc/classcall_metaclass.pxd']), ('sage/schemes/hyperelliptic_curves', ['./sage/schemes/hyperelliptic_curves/hypellfrob.pyx']), ('sage/schemes/elliptic_curves', ['./sage/schemes/elliptic_curves/period_lattice_region.pyx', './sage/schemes/elliptic_curves/mod_sym_num.pyx', './sage/schemes/elliptic_curves/descent_two_isogeny.pyx']), ('sage/schemes/toric', ['./sage/schemes/toric/divisor_class.pyx']), ('sage/crypto', ['./sage/crypto/boolean_function.pyx', './sage/crypto/sbox.pyx', './sage/crypto/boolean_function.pxd']), ('sage/data_structures', ['./sage/data_structures/bitset.pyx', './sage/data_structures/bounded_integer_sequences.pyx', './sage/data_structures/bitset_base.pxd', './sage/data_structures/binary_search.pyx', './sage/data_structures/blas_dict.pxd', './sage/data_structures/blas_dict.pyx', './sage/data_structures/binary_matrix.pxd', './sage/data_structures/binary_search.pxd', './sage/data_structures/sparse_bitset.pxd', './sage/data_structures/bitset_base.pyx', './sage/data_structures/bitset.pxd', './sage/data_structures/bounded_integer_sequences.pxd', 'build/cythonized/sage/data_structures/bitset_intrinsics.h']), ('sage/dynamics/complex_dynamics', ['./sage/dynamics/complex_dynamics/mandel_julia_helper.pyx']), ('sage/dynamics/arithmetic_dynamics', ['./sage/dynamics/arithmetic_dynamics/projective_ds_helper.pyx']), ('sage/probability', ['./sage/probability/probability_distribution.pyx']), ('sage/plot', ['./sage/plot/complex_plot.pyx']), ('sage/plot/plot3d', ['./sage/plot/plot3d/point_c.pxi', './sage/plot/plot3d/parametric_surface.pxd', './sage/plot/plot3d/shapes.pyx', './sage/plot/plot3d/index_face_set.pyx', './sage/plot/plot3d/base.pxd', './sage/plot/plot3d/transform.pyx', './sage/plot/plot3d/transform.pxd', './sage/plot/plot3d/base.pyx', './sage/plot/plot3d/implicit_surface.pyx', './sage/plot/plot3d/shapes.pxd', './sage/plot/plot3d/index_face_set.pxd', './sage/plot/plot3d/parametric_surface.pyx']), ('sage/combinat', ['./sage/combinat/permutation_cython.pyx\n...\n...\nlong long list of cythonized files!\n...\n...\n[sagelib-9.7.beta1] running install_scripts\n[sagelib-9.7.beta1] running egg_info\n[sagelib-9.7.beta1] writing sagemath_standard.egg-info/PKG-INFO\n[sagelib-9.7.beta1] writing dependency_links to sagemath_standard.egg-info/dependency_links.txt\n[sagelib-9.7.beta1] writing requirements to sagemath_standard.egg-info/requires.txt\n[sagelib-9.7.beta1] writing top-level names to sagemath_standard.egg-info/top_level.txt\n[sagelib-9.7.beta1] reading manifest template 'MANIFEST.in'\n[sagelib-9.7.beta1] warning: no files found matching '*.hh' anywhere in distribution\n[sagelib-9.7.beta1] warning: no files found matching '*.inc' anywhere in distribution\n[sagelib-9.7.beta1] no previously-included directories found matching '.tox'\n[sagelib-9.7.beta1] no previously-included directories found matching 'sage_setup'\n[sagelib-9.7.beta1] adding license file 'LICENSE.txt'\n[sagelib-9.7.beta1] writing manifest file 'sagemath_standard.egg-info/SOURCES.txt'\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-notebook to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-inline-fortran to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-valgrind to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-coverage to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-run to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipython to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-run-cython to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-grep to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-venv-config to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebaseall.sh to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-update-version to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebase.sh to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebaseall.bat to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/math-readline to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-env to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-list-packages to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-callgrind to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-runtests to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebase.bat to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-fixdoctests to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-preparse to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-python to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cleaner to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-omega to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-massif to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cachegrind to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-grepdoc to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-num-threads.py to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cython to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-version.sh to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-gdb-commands to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-eval to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage to 755\n[sagelib-9.7.beta1] running install_egg_info\n[sagelib-9.7.beta1] removing '/Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sagemath_standard-9.7b1-py3.9.egg-info' (and everything under it)\n[sagelib-9.7.beta1] Copying sagemath_standard.egg-info to /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sagemath_standard-9.7b1-py3.9.egg-info\n[sagelib-9.7.beta1] - cleaning build/lib.macosx-12-x86_64-3.9\n[sagelib-9.7.beta1] - cleaning /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages\n[sagelib-9.7.beta1] Cleaning up stale file: /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-39.pyc\n[sagelib-9.7.beta1] Finished cleaning, time: 0.40 seconds.\n[sagelib-9.7.beta1] \n[sagelib-9.7.beta1] real\t0m22.506s\n[sagelib-9.7.beta1] user\t0m17.144s\n[sagelib-9.7.beta1] sys\t0m5.558s\n\nreal\t0m22.669s\nuser\t0m17.244s\nsys\t0m5.624s\nSage build/upgrade complete!\n```\n\n\nWithout this ticket, the log is comparatively short: \n\n```\n...\n...\n***********************************************\n[sagelib-9.7.beta1] Building interpreters for fast_callable\n[sagelib-9.7.beta1] Discovering Python/Cython source code....\n[sagelib-9.7.beta1] distributions = ['']\n[sagelib-9.7.beta1] Discovered Python/Cython sources, time: 5.70 seconds.\n[sagelib-9.7.beta1] running build\n[sagelib-9.7.beta1] running build_py\n[sagelib-9.7.beta1] copying sage/schemes/product_projective/space.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/product_projective\n[sagelib-9.7.beta1] copying sage/schemes/elliptic_curves/ell_curve_isogeny.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/elliptic_curves\n[sagelib-9.7.beta1] copying sage/schemes/plane_conics/con_field.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/plane_conics\n[sagelib-9.7.beta1] copying sage/schemes/projective/projective_morphism.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/projective\n[sagelib-9.7.beta1] copying sage/modules/free_module.py -> build/lib.macosx-12-x86_64-cpython-39/sage/modules\n[sagelib-9.7.beta1] running build_ext\n[sagelib-9.7.beta1] running build_cython\n[sagelib-9.7.beta1] Enabling Cython debugging support\n[sagelib-9.7.beta1] INFO: Disabling color, you really want to install colorlog.\n[sagelib-9.7.beta1] Disabling color, you really want to install colorlog.\n[sagelib-9.7.beta1] Compiling sage/resolutions/free.pyx because it changed.\n[sagelib-9.7.beta1] [1/1] Cythonizing sage/resolutions/free.pyx\n[sagelib-9.7.beta1] Executing 1 command (using 1 thread)\n[sagelib-9.7.beta1] [1/1] build/cythonized/sage/resolutions/free.cpp:8891:18: warning: unused function '__pyx_pw_4sage_9structure_7element_1parent' [-Wunused-function]\n[sagelib-9.7.beta1] static PyObject *__pyx_pw_4sage_9structure_7element_1parent(PyObject *__pyx_self, PyObject *__pyx_v_x) {\n[sagelib-9.7.beta1]                  ^\n[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:8890:13: warning: unused variable '__pyx_doc_4sage_9structure_7element_parent' [-Wunused-variable]\n[sagelib-9.7.beta1] static char __pyx_doc_4sage_9structure_7element_parent[] = \"parent(x)\\nFile: sage/structure/element.pxd (starting at line 6)\\n\\n    Return the parent of the element ``x``.\\n\\n    Usually, this means the mathematical object of which ``x`` is an\\n    element.\\n\\n    INPUT:\\n\\n    - ``x`` -- an element\\n\\n    OUTPUT:\\n\\n    - If ``x`` is a Sage :class:`Element`, return ``x.parent()``.\\n\\n    - Otherwise, return ``type(x)``.\\n\\n    .. SEEALSO::\\n\\n        `Parents, Conversion and Coercion <http://doc.sagemath.org/html/en/tutorial/tour_coercion.html>`_\\n        Section in the Sage Tutorial\\n\\n    EXAMPLES::\\n\\n        sage: a = 42\\n        sage: parent(a)\\n        Integer Ring\\n        sage: b = 42/1\\n        sage: parent(b)\\n        Rational Field\\n        sage: c = 42.0\\n        sage: parent(c)\\n        Real Field with 53 bits of precision\\n\\n    Some more complicated examples::\\n\\n        sage: x = Partition([3,2,1,1,1])\\n        sage: parent(x)\\n        Partitions\\n        sage: v = vector(RDF, [1,2,3])\\n        sage: parent(v)\\n        Vector space of dimension 3 over Real Double Field\\n\\n    The following are not considered to be elements, so the type is\\n    returned::\\n\\n        sage: d = int(42)  # Python int\\n        sage: parent(d)\\n        <... 'int'>\\n        sage: L = list(range(10))\\n        sage: parent(L)\\n        <... 'list'>\\n    \";\n[sagelib-9.7.beta1]             ^\n[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:9236:18: warning: unused function '__pyx_pw_4sage_9structure_7element_3have_same_parent' [-Wunused-function]\n[sagelib-9.7.beta1] static PyObject *__pyx_pw_4sage_9structure_7element_3have_same_parent(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {\n[sagelib-9.7.beta1]                  ^\n[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:9235:13: warning: unused variable '__pyx_doc_4sage_9structure_7element_2have_same_parent' [-Wunused-variable]\n[sagelib-9.7.beta1] static char __pyx_doc_4sage_9structure_7element_2have_same_parent[] = \"have_same_parent(left, right) -> bool\\nFile: sage/structure/element.pxd (starting at line 111)\\n\\n    Return ``True`` if and only if ``left`` and ``right`` have the\\n    same parent.\\n\\n    .. WARNING::\\n\\n        This function assumes that at least one of the arguments is a\\n        Sage :class:`Element`. When in doubt, use the slower\\n        ``parent(left) is parent(right)`` instead.\\n\\n    EXAMPLES::\\n\\n        sage: from sage.structure.element import have_same_parent\\n        sage: have_same_parent(1, 3)\\n        True\\n        sage: have_same_parent(1, 1/2)\\n        False\\n        sage: have_same_parent(gap(1), gap(1/2))\\n        True\\n\\n    These have different types but the same parent::\\n\\n        sage: a = RLF(2)\\n        sage: b = exp(a)\\n        sage: type(a)\\n        <... 'sage.rings.real_lazy.LazyWrapper'>\\n        sage: type(b)\\n        <... 'sage.rings.real_lazy.LazyNamedUnop'>\\n        sage: have_same_parent(a, b)\\n        True\\n    \";\n[sagelib-9.7.beta1]             ^\n[sagelib-9.7.beta1] 4 warnings generated.\n[sagelib-9.7.beta1] Time to execute 1 command: 4.20 seconds.\n[sagelib-9.7.beta1] Total time spent compiling C/C++ extensions: 4.31 seconds.\n[sagelib-9.7.beta1] warning: no files found matching '*.inc' anywhere in distribution\n[sagelib-9.7.beta1] no previously-included directories found matching 'sage_setup'\n[sagelib-9.7.beta1] Cleaning up stale file: /Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-39.pyc\n[sagelib-9.7.beta1] \n[sagelib-9.7.beta1] real\t0m26.868s\n[sagelib-9.7.beta1] user\t0m19.950s\n[sagelib-9.7.beta1] sys\t0m6.686s\n\nreal\t0m27.035s\nuser\t0m20.050s\nsys\t0m6.750s\nSage build/upgrade complete!\n```\n\n\nI think this is a regression.",
    "created_at": "2022-06-09T07:52:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467413",
    "user": "@kwankyu"
}
```

I am working on a ticket on sage merged with the present ticket. When I rebuild sage by `sage -b`, I observe much bigger log, including 

```
...
...
***********************************************
[sagelib-9.7.beta1] Building interpreters for fast_callable
[sagelib-9.7.beta1] Discovering Python/Cython source code....
[sagelib-9.7.beta1] distributions = ['']
[sagelib-9.7.beta1] Discovered Python/Cython sources, time: 5.48 seconds.
[sagelib-9.7.beta1] running build
[sagelib-9.7.beta1] running build_py
[sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/numerical/backends/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/ext/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/arith/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/libs/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/libs/mpfi/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/libs/mpfr/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/libs/polybori/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/libs/mpc/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/sets/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/rings/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/graphs/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/graphs/graph_decompositions/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] copying sage/modules/free_module.py -> build/lib.macosx-12-x86_64-3.9/sage/modules
[sagelib-9.7.beta1] package init file 'sage/categories/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/matrix/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] package init file 'sage/interfaces/__init__.py' not found (or not a regular file)
[sagelib-9.7.beta1] running build_ext
[sagelib-9.7.beta1] running build_cython
[sagelib-9.7.beta1] Enabling Cython debugging support
[sagelib-9.7.beta1] Updating Cython code....
[sagelib-9.7.beta1] Compiling sage/resolutions/free.pyx because it changed.
[sagelib-9.7.beta1] [1/1] Cythonizing sage/resolutions/free.pyx
[sagelib-9.7.beta1] Finished Cythonizing, time: 6.33 seconds.
[sagelib-9.7.beta1] cythonized_files = [('sage/misc', ['./sage/misc/parser.pyx', './sage/misc/classcall_metaclass.pyx', './sage/misc/weak_dict.pyx', './sage/misc/sage_timeit_class.pyx', './sage/misc/lazy_string.pyx', './sage/misc/search.pyx', './sage/misc/c3_controlled.pyx', './sage/misc/instancedoc.pyx', './sage/misc/binary_tree.pxd', './sage/misc/reset.pyx', './sage/misc/sage_ostools.pyx', './sage/misc/function_mangling.pyx', './sage/misc/lazy_list.pyx', './sage/misc/citation.pyx', './sage/misc/nested_class.pxd', './sage/misc/fast_methods.pyx', './sage/misc/misc_c.pxd', './sage/misc/cachefunc.pyx', './sage/misc/session.pyx', './sage/misc/pickle_old.pyx', './sage/misc/allocator.pyx', './sage/misc/inherit_comparison.pxd', './sage/misc/randstate.pxd', './sage/misc/randstate.pyx', './sage/misc/inherit_comparison.pyx', './sage/misc/allocator.pxd', './sage/misc/cachefunc.pxd', './sage/misc/callable_dict.pyx', './sage/misc/fast_methods.pxd', './sage/misc/nested_class.pyx', './sage/misc/derivative.pyx', './sage/misc/misc_c.pyx', './sage/misc/lazy_attribute.pyx', './sage/misc/lazy_list.pxd', './sage/misc/function_mangling.pxd', './sage/misc/lazy_import.pyx', './sage/misc/binary_tree.pyx', './sage/misc/search.pxd', './sage/misc/c3_controlled.pxd', './sage/misc/fpickle.pyx', './sage/misc/lazy_string.pxd', './sage/misc/stopgap.pyx', './sage/misc/persist.pyx', './sage/misc/weak_dict.pxd', './sage/misc/c3.pyx', './sage/misc/constant_function.pyx', './sage/misc/classcall_metaclass.pxd']), ('sage/schemes/hyperelliptic_curves', ['./sage/schemes/hyperelliptic_curves/hypellfrob.pyx']), ('sage/schemes/elliptic_curves', ['./sage/schemes/elliptic_curves/period_lattice_region.pyx', './sage/schemes/elliptic_curves/mod_sym_num.pyx', './sage/schemes/elliptic_curves/descent_two_isogeny.pyx']), ('sage/schemes/toric', ['./sage/schemes/toric/divisor_class.pyx']), ('sage/crypto', ['./sage/crypto/boolean_function.pyx', './sage/crypto/sbox.pyx', './sage/crypto/boolean_function.pxd']), ('sage/data_structures', ['./sage/data_structures/bitset.pyx', './sage/data_structures/bounded_integer_sequences.pyx', './sage/data_structures/bitset_base.pxd', './sage/data_structures/binary_search.pyx', './sage/data_structures/blas_dict.pxd', './sage/data_structures/blas_dict.pyx', './sage/data_structures/binary_matrix.pxd', './sage/data_structures/binary_search.pxd', './sage/data_structures/sparse_bitset.pxd', './sage/data_structures/bitset_base.pyx', './sage/data_structures/bitset.pxd', './sage/data_structures/bounded_integer_sequences.pxd', 'build/cythonized/sage/data_structures/bitset_intrinsics.h']), ('sage/dynamics/complex_dynamics', ['./sage/dynamics/complex_dynamics/mandel_julia_helper.pyx']), ('sage/dynamics/arithmetic_dynamics', ['./sage/dynamics/arithmetic_dynamics/projective_ds_helper.pyx']), ('sage/probability', ['./sage/probability/probability_distribution.pyx']), ('sage/plot', ['./sage/plot/complex_plot.pyx']), ('sage/plot/plot3d', ['./sage/plot/plot3d/point_c.pxi', './sage/plot/plot3d/parametric_surface.pxd', './sage/plot/plot3d/shapes.pyx', './sage/plot/plot3d/index_face_set.pyx', './sage/plot/plot3d/base.pxd', './sage/plot/plot3d/transform.pyx', './sage/plot/plot3d/transform.pxd', './sage/plot/plot3d/base.pyx', './sage/plot/plot3d/implicit_surface.pyx', './sage/plot/plot3d/shapes.pxd', './sage/plot/plot3d/index_face_set.pxd', './sage/plot/plot3d/parametric_surface.pyx']), ('sage/combinat', ['./sage/combinat/permutation_cython.pyx
...
...
long long list of cythonized files!
...
...
[sagelib-9.7.beta1] running install_scripts
[sagelib-9.7.beta1] running egg_info
[sagelib-9.7.beta1] writing sagemath_standard.egg-info/PKG-INFO
[sagelib-9.7.beta1] writing dependency_links to sagemath_standard.egg-info/dependency_links.txt
[sagelib-9.7.beta1] writing requirements to sagemath_standard.egg-info/requires.txt
[sagelib-9.7.beta1] writing top-level names to sagemath_standard.egg-info/top_level.txt
[sagelib-9.7.beta1] reading manifest template 'MANIFEST.in'
[sagelib-9.7.beta1] warning: no files found matching '*.hh' anywhere in distribution
[sagelib-9.7.beta1] warning: no files found matching '*.inc' anywhere in distribution
[sagelib-9.7.beta1] no previously-included directories found matching '.tox'
[sagelib-9.7.beta1] no previously-included directories found matching 'sage_setup'
[sagelib-9.7.beta1] adding license file 'LICENSE.txt'
[sagelib-9.7.beta1] writing manifest file 'sagemath_standard.egg-info/SOURCES.txt'
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-notebook to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-inline-fortran to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-valgrind to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-coverage to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-run to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipython to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-run-cython to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-grep to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-venv-config to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebaseall.sh to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-update-version to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebase.sh to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebaseall.bat to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/math-readline to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-env to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-list-packages to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-callgrind to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-runtests to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-rebase.bat to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-fixdoctests to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-preparse to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-python to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cleaner to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-omega to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-massif to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cachegrind to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-grepdoc to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-num-threads.py to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-cython to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-version.sh to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-gdb-commands to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-eval to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage to 755
[sagelib-9.7.beta1] running install_egg_info
[sagelib-9.7.beta1] removing '/Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sagemath_standard-9.7b1-py3.9.egg-info' (and everything under it)
[sagelib-9.7.beta1] Copying sagemath_standard.egg-info to /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sagemath_standard-9.7b1-py3.9.egg-info
[sagelib-9.7.beta1] - cleaning build/lib.macosx-12-x86_64-3.9
[sagelib-9.7.beta1] - cleaning /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages
[sagelib-9.7.beta1] Cleaning up stale file: /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-39.pyc
[sagelib-9.7.beta1] Finished cleaning, time: 0.40 seconds.
[sagelib-9.7.beta1] 
[sagelib-9.7.beta1] real	0m22.506s
[sagelib-9.7.beta1] user	0m17.144s
[sagelib-9.7.beta1] sys	0m5.558s

real	0m22.669s
user	0m17.244s
sys	0m5.624s
Sage build/upgrade complete!
```


Without this ticket, the log is comparatively short: 

```
...
...
***********************************************
[sagelib-9.7.beta1] Building interpreters for fast_callable
[sagelib-9.7.beta1] Discovering Python/Cython source code....
[sagelib-9.7.beta1] distributions = ['']
[sagelib-9.7.beta1] Discovered Python/Cython sources, time: 5.70 seconds.
[sagelib-9.7.beta1] running build
[sagelib-9.7.beta1] running build_py
[sagelib-9.7.beta1] copying sage/schemes/product_projective/space.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/product_projective
[sagelib-9.7.beta1] copying sage/schemes/elliptic_curves/ell_curve_isogeny.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/elliptic_curves
[sagelib-9.7.beta1] copying sage/schemes/plane_conics/con_field.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/plane_conics
[sagelib-9.7.beta1] copying sage/schemes/projective/projective_morphism.py -> build/lib.macosx-12-x86_64-cpython-39/sage/schemes/projective
[sagelib-9.7.beta1] copying sage/modules/free_module.py -> build/lib.macosx-12-x86_64-cpython-39/sage/modules
[sagelib-9.7.beta1] running build_ext
[sagelib-9.7.beta1] running build_cython
[sagelib-9.7.beta1] Enabling Cython debugging support
[sagelib-9.7.beta1] INFO: Disabling color, you really want to install colorlog.
[sagelib-9.7.beta1] Disabling color, you really want to install colorlog.
[sagelib-9.7.beta1] Compiling sage/resolutions/free.pyx because it changed.
[sagelib-9.7.beta1] [1/1] Cythonizing sage/resolutions/free.pyx
[sagelib-9.7.beta1] Executing 1 command (using 1 thread)
[sagelib-9.7.beta1] [1/1] build/cythonized/sage/resolutions/free.cpp:8891:18: warning: unused function '__pyx_pw_4sage_9structure_7element_1parent' [-Wunused-function]
[sagelib-9.7.beta1] static PyObject *__pyx_pw_4sage_9structure_7element_1parent(PyObject *__pyx_self, PyObject *__pyx_v_x) {
[sagelib-9.7.beta1]                  ^
[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:8890:13: warning: unused variable '__pyx_doc_4sage_9structure_7element_parent' [-Wunused-variable]
[sagelib-9.7.beta1] static char __pyx_doc_4sage_9structure_7element_parent[] = "parent(x)\nFile: sage/structure/element.pxd (starting at line 6)\n\n    Return the parent of the element ``x``.\n\n    Usually, this means the mathematical object of which ``x`` is an\n    element.\n\n    INPUT:\n\n    - ``x`` -- an element\n\n    OUTPUT:\n\n    - If ``x`` is a Sage :class:`Element`, return ``x.parent()``.\n\n    - Otherwise, return ``type(x)``.\n\n    .. SEEALSO::\n\n        `Parents, Conversion and Coercion <http://doc.sagemath.org/html/en/tutorial/tour_coercion.html>`_\n        Section in the Sage Tutorial\n\n    EXAMPLES::\n\n        sage: a = 42\n        sage: parent(a)\n        Integer Ring\n        sage: b = 42/1\n        sage: parent(b)\n        Rational Field\n        sage: c = 42.0\n        sage: parent(c)\n        Real Field with 53 bits of precision\n\n    Some more complicated examples::\n\n        sage: x = Partition([3,2,1,1,1])\n        sage: parent(x)\n        Partitions\n        sage: v = vector(RDF, [1,2,3])\n        sage: parent(v)\n        Vector space of dimension 3 over Real Double Field\n\n    The following are not considered to be elements, so the type is\n    returned::\n\n        sage: d = int(42)  # Python int\n        sage: parent(d)\n        <... 'int'>\n        sage: L = list(range(10))\n        sage: parent(L)\n        <... 'list'>\n    ";
[sagelib-9.7.beta1]             ^
[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:9236:18: warning: unused function '__pyx_pw_4sage_9structure_7element_3have_same_parent' [-Wunused-function]
[sagelib-9.7.beta1] static PyObject *__pyx_pw_4sage_9structure_7element_3have_same_parent(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
[sagelib-9.7.beta1]                  ^
[sagelib-9.7.beta1] build/cythonized/sage/resolutions/free.cpp:9235:13: warning: unused variable '__pyx_doc_4sage_9structure_7element_2have_same_parent' [-Wunused-variable]
[sagelib-9.7.beta1] static char __pyx_doc_4sage_9structure_7element_2have_same_parent[] = "have_same_parent(left, right) -> bool\nFile: sage/structure/element.pxd (starting at line 111)\n\n    Return ``True`` if and only if ``left`` and ``right`` have the\n    same parent.\n\n    .. WARNING::\n\n        This function assumes that at least one of the arguments is a\n        Sage :class:`Element`. When in doubt, use the slower\n        ``parent(left) is parent(right)`` instead.\n\n    EXAMPLES::\n\n        sage: from sage.structure.element import have_same_parent\n        sage: have_same_parent(1, 3)\n        True\n        sage: have_same_parent(1, 1/2)\n        False\n        sage: have_same_parent(gap(1), gap(1/2))\n        True\n\n    These have different types but the same parent::\n\n        sage: a = RLF(2)\n        sage: b = exp(a)\n        sage: type(a)\n        <... 'sage.rings.real_lazy.LazyWrapper'>\n        sage: type(b)\n        <... 'sage.rings.real_lazy.LazyNamedUnop'>\n        sage: have_same_parent(a, b)\n        True\n    ";
[sagelib-9.7.beta1]             ^
[sagelib-9.7.beta1] 4 warnings generated.
[sagelib-9.7.beta1] Time to execute 1 command: 4.20 seconds.
[sagelib-9.7.beta1] Total time spent compiling C/C++ extensions: 4.31 seconds.
[sagelib-9.7.beta1] warning: no files found matching '*.inc' anywhere in distribution
[sagelib-9.7.beta1] no previously-included directories found matching 'sage_setup'
[sagelib-9.7.beta1] Cleaning up stale file: /Users/kwankyu/GitHub/sage-dev/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-39.pyc
[sagelib-9.7.beta1] 
[sagelib-9.7.beta1] real	0m26.868s
[sagelib-9.7.beta1] user	0m19.950s
[sagelib-9.7.beta1] sys	0m6.686s

real	0m27.035s
user	0m20.050s
sys	0m6.750s
Sage build/upgrade complete!
```


I think this is a regression.



---

archive/issue_comments_467414.json:
```json
{
    "body": "It is the same if I repeat rebuilding.",
    "created_at": "2022-06-09T07:55:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467414",
    "user": "@kwankyu"
}
```

It is the same if I repeat rebuilding.



---

archive/issue_comments_467415.json:
```json
{
    "body": "Replying to [comment:55 klee]:\n> When I rebuild sage by `sage -b`, I observe much bigger log, including \n> {{{\n> ...\n> [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> [...]\n> }}}\n\nThese messages are normal output when namespace packages are in use.\n\n> {{{\n> [sagelib-9.7.beta1] cythonized_files = [('sage/misc', ['./sage/misc/parser.pyx', './sage/misc/classcall_metaclass.pyx', './sage/misc/weak_dict.pyx', './sage/misc/sage_timeit_class.pyx', './sage/misc/lazy_string.pyx', './sage/misc/search.pyx', './sage/misc/c3_controlled.pyx', > ...\n> long long list of cythonized files!\n> ...\n> }}}\n> I think this is a regression. \n\nI agree, this is too much verbosity",
    "created_at": "2022-06-09T18:58:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467415",
    "user": "@mkoeppe"
}
```

Replying to [comment:55 klee]:
> When I rebuild sage by `sage -b`, I observe much bigger log, including 
> {{{
> ...
> [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> [...]
> }}}

These messages are normal output when namespace packages are in use.

> {{{
> [sagelib-9.7.beta1] cythonized_files = [('sage/misc', ['./sage/misc/parser.pyx', './sage/misc/classcall_metaclass.pyx', './sage/misc/weak_dict.pyx', './sage/misc/sage_timeit_class.pyx', './sage/misc/lazy_string.pyx', './sage/misc/search.pyx', './sage/misc/c3_controlled.pyx', > ...
> long long list of cythonized files!
> ...
> }}}
> I think this is a regression. 

I agree, this is too much verbosity



---

archive/issue_comments_467416.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-09T18:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467416",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467417.json:
```json
{
    "body": "Fixed via #28925",
    "created_at": "2022-06-09T18:58:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467417",
    "user": "@mkoeppe"
}
```

Fixed via #28925



---

archive/issue_comments_467418.json:
```json
{
    "body": "Replying to [comment:57 mkoeppe]:\n> Replying to [comment:55 klee]:\n> > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > {{{\n> > ...\n> > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > [...]\n> > }}}\n> \n> These messages are normal output when namespace packages are in use.\n\nThey are not very informative and look like error messages. \n\nThese long list of `changing mode of ...`:\n\n```\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755\n[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755\n...\n```\n\nis also not informative. Moreover they look redundant jobs.",
    "created_at": "2022-06-10T04:30:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467418",
    "user": "@kwankyu"
}
```

Replying to [comment:57 mkoeppe]:
> Replying to [comment:55 klee]:
> > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > {{{
> > ...
> > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > [...]
> > }}}
> 
> These messages are normal output when namespace packages are in use.

They are not very informative and look like error messages. 

These long list of `changing mode of ...`:

```
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755
[sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755
...
```

is also not informative. Moreover they look redundant jobs.



---

archive/issue_comments_467419.json:
```json
{
    "body": "Replying to [comment:60 klee]:\n> Replying to [comment:57 mkoeppe]:\n> > Replying to [comment:55 klee]:\n> > > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > > {{{\n> > > ...\n> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > > [...]\n> > > }}}\n> > \n> > These messages are normal output when namespace packages are in use.\n> \n> They are not very informative and look like error messages. \n\nIs this (googled):\n\n  Because .. doesn\u2019t contain an `__init__.py`, `setuptools.find_packages()` won\u2019t find the sub-package. You must use `setuptools.find_namespace_packages()` instead or explicitly list all packages in your setup.py.\n\nthe cause of those warnings?",
    "created_at": "2022-06-10T04:56:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467419",
    "user": "@kwankyu"
}
```

Replying to [comment:60 klee]:
> Replying to [comment:57 mkoeppe]:
> > Replying to [comment:55 klee]:
> > > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > > {{{
> > > ...
> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > > [...]
> > > }}}
> > 
> > These messages are normal output when namespace packages are in use.
> 
> They are not very informative and look like error messages. 

Is this (googled):

  Because .. doesn’t contain an `__init__.py`, `setuptools.find_packages()` won’t find the sub-package. You must use `setuptools.find_namespace_packages()` instead or explicitly list all packages in your setup.py.

the cause of those warnings?



---

archive/issue_comments_467420.json:
```json
{
    "body": "Replying to [comment:60 klee]:\n> Replying to [comment:57 mkoeppe]:\n> > Replying to [comment:55 klee]:\n> > > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > > {{{\n> > > ...\n> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > > [...]\n> > > }}}\n> > \n> > These messages are normal output when namespace packages are in use.\n> \n> They are not very informative and look like error messages. \n\nI agree, but this is an upstream `setuptools` concern. \n\n> \n> These long list of `changing mode of ...`:\n> {{{\n> [sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755\n> [sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755\n> ...\n> }}}\n> is also not informative. Moreover they look redundant jobs.\n\nI think this is not new from this ticket. And it's also an upstream `setuptools` concern.",
    "created_at": "2022-06-10T05:04:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467420",
    "user": "@mkoeppe"
}
```

Replying to [comment:60 klee]:
> Replying to [comment:57 mkoeppe]:
> > Replying to [comment:55 klee]:
> > > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > > {{{
> > > ...
> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > > [...]
> > > }}}
> > 
> > These messages are normal output when namespace packages are in use.
> 
> They are not very informative and look like error messages. 

I agree, but this is an upstream `setuptools` concern. 

> 
> These long list of `changing mode of ...`:
> {{{
> [sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-startuptime.py to 755
> [sagelib-9.7.beta1] changing mode of /Users/kwankyu/GitHub/sage/local/var/lib/sage/venv-python3.9/bin/sage-ipynb2rst to 755
> ...
> }}}
> is also not informative. Moreover they look redundant jobs.

I think this is not new from this ticket. And it's also an upstream `setuptools` concern.



---

archive/issue_comments_467421.json:
```json
{
    "body": "Replying to [comment:61 klee]:\n> Replying to [comment:60 klee]:\n> > Replying to [comment:57 mkoeppe]:\n> > > Replying to [comment:55 klee]:\n> > > > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > > > {{{\n> > > > ...\n> > > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > > > [...]\n> > > > }}}\n> > > \n> > > These messages are normal output when namespace packages are in use.\n> > \n> > They are not very informative and look like error messages. \n> \n> Is this (googled):\n> \n>   Because .. doesn\u2019t contain an `__init__.py`, `setuptools.find_packages()` won\u2019t find the sub-package. You must use `setuptools.find_namespace_packages()` instead or explicitly list all packages in your setup.py.\n> \n> the cause of those warnings?\n\nNo. `find_namespace_packages` lists all directories instead of only directories that have an __init__.py file. It does not change what setuptools complains about.",
    "created_at": "2022-06-10T05:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467421",
    "user": "@mkoeppe"
}
```

Replying to [comment:61 klee]:
> Replying to [comment:60 klee]:
> > Replying to [comment:57 mkoeppe]:
> > > Replying to [comment:55 klee]:
> > > > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > > > {{{
> > > > ...
> > > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > > > [...]
> > > > }}}
> > > 
> > > These messages are normal output when namespace packages are in use.
> > 
> > They are not very informative and look like error messages. 
> 
> Is this (googled):
> 
>   Because .. doesn’t contain an `__init__.py`, `setuptools.find_packages()` won’t find the sub-package. You must use `setuptools.find_namespace_packages()` instead or explicitly list all packages in your setup.py.
> 
> the cause of those warnings?

No. `find_namespace_packages` lists all directories instead of only directories that have an __init__.py file. It does not change what setuptools complains about.



---

archive/issue_comments_467422.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-01T01:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467422",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467423.json:
```json
{
    "body": "Replying to [comment:60 klee]:\n> Replying to [comment:57 mkoeppe]:\n> > Replying to [comment:55 klee]:\n> > > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > > {{{\n> > > ...\n> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > > [...]\n> > > }}}\n> > \n> > These messages are normal output when namespace packages are in use.\n> \n> They are not very informative and look like error messages. \n\nsetuptools 63.1.0 will eliminate them - https://setuptools.pypa.io/en/latest/history.html#v63-1-0",
    "created_at": "2022-07-04T03:01:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467423",
    "user": "@mkoeppe"
}
```

Replying to [comment:60 klee]:
> Replying to [comment:57 mkoeppe]:
> > Replying to [comment:55 klee]:
> > > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > > {{{
> > > ...
> > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > > [...]
> > > }}}
> > 
> > These messages are normal output when namespace packages are in use.
> 
> They are not very informative and look like error messages. 

setuptools 63.1.0 will eliminate them - https://setuptools.pypa.io/en/latest/history.html#v63-1-0



---

archive/issue_comments_467424.json:
```json
{
    "body": "Replying to [comment:65 mkoeppe]:\n> Replying to [comment:60 klee]:\n> > Replying to [comment:57 mkoeppe]:\n> > > Replying to [comment:55 klee]:\n> > > > When I rebuild sage by `sage -b`, I observe much bigger log, including \n> > > > {{{\n> > > > ...\n> > > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)\n> > > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)\n> > > > [...]\n> > > > }}}\n> > > \n> > > These messages are normal output when namespace packages are in use.\n> > \n> > They are not very informative and look like error messages. \n> \n> setuptools 63.1.0 will eliminate them - https://setuptools.pypa.io/en/latest/history.html#v63-1-0\n\nNice! \n\nThose `changing mode of ...` lines are not seen any more already.",
    "created_at": "2022-07-04T04:18:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467424",
    "user": "@kwankyu"
}
```

Replying to [comment:65 mkoeppe]:
> Replying to [comment:60 klee]:
> > Replying to [comment:57 mkoeppe]:
> > > Replying to [comment:55 klee]:
> > > > When I rebuild sage by `sage -b`, I observe much bigger log, including 
> > > > {{{
> > > > ...
> > > > [sagelib-9.7.beta1] package init file 'sage/misc/__init__.py' not found (or not a regular file)
> > > > [sagelib-9.7.beta1] package init file 'sage/numerical/__init__.py' not found (or not a regular file)
> > > > [...]
> > > > }}}
> > > 
> > > These messages are normal output when namespace packages are in use.
> > 
> > They are not very informative and look like error messages. 
> 
> setuptools 63.1.0 will eliminate them - https://setuptools.pypa.io/en/latest/history.html#v63-1-0

Nice! 

Those `changing mode of ...` lines are not seen any more already.



---

archive/issue_comments_467425.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-11T00:26:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467425",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467426.json:
```json
{
    "body": "I get \n\n```\nsage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py\n**********************************************************************\nFile \"src/sage_setup/find.py\", line 406, in sage_setup.find.installed_files_by_module\nFailed example:\n    files_by_module['sage.graphs.graph_decompositions']\nExpected:\n    set()\nGot:\n    {'sage/graphs/graph_decompositions/__init__.py',\n     'sage/graphs/graph_decompositions/__pycache__/__init__.cpython-39.pyc'}\n**********************************************************************\n1 item had failures:\n   1 of  10 in sage_setup.find.installed_files_by_module\n    [49 tests, 1 failure, 1.77 s]\n----------------------------------------------------------------------\nsage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n\nThere is no `__init__.py` in `src/sage/graphs/graph_decompositions`, but there is one in `local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/graphs/graph_decompositions`. Even if I delete it, it gets created when I rebuild sage by `sage -b`.\n\nDo I need to `make distclean` first?",
    "created_at": "2022-07-12T04:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467426",
    "user": "@kwankyu"
}
```

I get 

```
sage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py
**********************************************************************
File "src/sage_setup/find.py", line 406, in sage_setup.find.installed_files_by_module
Failed example:
    files_by_module['sage.graphs.graph_decompositions']
Expected:
    set()
Got:
    {'sage/graphs/graph_decompositions/__init__.py',
     'sage/graphs/graph_decompositions/__pycache__/__init__.cpython-39.pyc'}
**********************************************************************
1 item had failures:
   1 of  10 in sage_setup.find.installed_files_by_module
    [49 tests, 1 failure, 1.77 s]
----------------------------------------------------------------------
sage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py  # 1 doctest failed
----------------------------------------------------------------------
```

There is no `__init__.py` in `src/sage/graphs/graph_decompositions`, but there is one in `local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/graphs/graph_decompositions`. Even if I delete it, it gets created when I rebuild sage by `sage -b`.

Do I need to `make distclean` first?



---

archive/issue_comments_467427.json:
```json
{
    "body": "Hm, I guess the `__init__.py` file survives in `pkgs/sagemath-standard/build/lib.*`",
    "created_at": "2022-07-12T04:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467427",
    "user": "@mkoeppe"
}
```

Hm, I guess the `__init__.py` file survives in `pkgs/sagemath-standard/build/lib.*`



---

archive/issue_comments_467428.json:
```json
{
    "body": "`make distclean` (or just `rm -rf pkgs/sagemath-standard/build`) will solve it. Not sure if there's a good way to make it work with incremental builds",
    "created_at": "2022-07-12T04:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467428",
    "user": "@mkoeppe"
}
```

`make distclean` (or just `rm -rf pkgs/sagemath-standard/build`) will solve it. Not sure if there's a good way to make it work with incremental builds



---

archive/issue_comments_467429.json:
```json
{
    "body": "Replying to [comment:70 mkoeppe]:\n> Hm, I guess the `__init__.py` file survives in `pkgs/sagemath-standard/build/lib.*`\n\nYes. it's there.",
    "created_at": "2022-07-12T04:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467429",
    "user": "@kwankyu"
}
```

Replying to [comment:70 mkoeppe]:
> Hm, I guess the `__init__.py` file survives in `pkgs/sagemath-standard/build/lib.*`

Yes. it's there.



---

archive/issue_comments_467430.json:
```json
{
    "body": "Replying to [comment:71 mkoeppe]:\n> `make distclean` (or just `rm -rf pkgs/sagemath-standard/build`) will solve it. Not sure if there's a good way to make it work with incremental builds\n\nI deleted the directory `pkgs/sagemath-standard/build` and did `make -j8`. This will save time, but I don't know if this is a valid way to build sage.",
    "created_at": "2022-07-12T04:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467430",
    "user": "@kwankyu"
}
```

Replying to [comment:71 mkoeppe]:
> `make distclean` (or just `rm -rf pkgs/sagemath-standard/build`) will solve it. Not sure if there's a good way to make it work with incremental builds

I deleted the directory `pkgs/sagemath-standard/build` and did `make -j8`. This will save time, but I don't know if this is a valid way to build sage.



---

archive/issue_comments_467431.json:
```json
{
    "body": "Replying to [comment:73 klee]:\n> Replying to [comment:71 mkoeppe]:\n> (or just `rm -rf pkgs/sagemath-standard/build`)\n\nAh, you mentioned this.",
    "created_at": "2022-07-12T04:38:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467431",
    "user": "@kwankyu"
}
```

Replying to [comment:73 klee]:
> Replying to [comment:71 mkoeppe]:
> (or just `rm -rf pkgs/sagemath-standard/build`)

Ah, you mentioned this.



---

archive/issue_comments_467432.json:
```json
{
    "body": "Replying to [comment:69 klee]:\n> I get \n> {{{\n> sage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py\n> **********************************************************************\n> File \"src/sage_setup/find.py\", line 406, in sage_setup.find.installed_files_by_module\n> Failed example:\n>     files_by_module['sage.graphs.graph_decompositions']\n> Expected:\n>     set()\n> Got:\n>     {'sage/graphs/graph_decompositions/__init__.py',\n>      'sage/graphs/graph_decompositions/__pycache__/__init__.cpython-39.pyc'}\n\nHow about adding a comment like \n\n```\n     files_by_module['sage.graphs.graph_decompositions']  # make distclean if failed\n```\n\nto guide people what to do to resolve the failure?",
    "created_at": "2022-07-13T00:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467432",
    "user": "@kwankyu"
}
```

Replying to [comment:69 klee]:
> I get 
> {{{
> sage -t --warn-long 67.8 --random-seed=272636909256794490188818216866457263419 src/sage_setup/find.py
> **********************************************************************
> File "src/sage_setup/find.py", line 406, in sage_setup.find.installed_files_by_module
> Failed example:
>     files_by_module['sage.graphs.graph_decompositions']
> Expected:
>     set()
> Got:
>     {'sage/graphs/graph_decompositions/__init__.py',
>      'sage/graphs/graph_decompositions/__pycache__/__init__.cpython-39.pyc'}

How about adding a comment like 

```
     files_by_module['sage.graphs.graph_decompositions']  # make distclean if failed
```

to guide people what to do to resolve the failure?



---

archive/issue_comments_467433.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-13T15:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467433",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467434.json:
```json
{
    "body": "I think I found a proper solution for this",
    "created_at": "2022-07-13T15:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467434",
    "user": "@mkoeppe"
}
```

I think I found a proper solution for this



---

archive/issue_comments_467435.json:
```json
{
    "body": "Replying to [comment:77 mkoeppe]:\n> I think I found a proper solution for this\n\nYes. It looks good.\n\nI have some questions. The file `sage/__init__.py` is not deleted yet here. Then can a subpackage of `sage` be a namespace package? I guess the answer is yes, but no two distribution packages can install into the namespace package. Am I right?\n\nIs the complication of removing `sage/__init__.py` still valid?",
    "created_at": "2022-07-15T08:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467435",
    "user": "@kwankyu"
}
```

Replying to [comment:77 mkoeppe]:
> I think I found a proper solution for this

Yes. It looks good.

I have some questions. The file `sage/__init__.py` is not deleted yet here. Then can a subpackage of `sage` be a namespace package? I guess the answer is yes, but no two distribution packages can install into the namespace package. Am I right?

Is the complication of removing `sage/__init__.py` still valid?



---

archive/issue_comments_467436.json:
```json
{
    "body": "Replying to [comment:78 klee]:\n> Is the complication of removing `sage/__init__.py` still valid?\n\nI am asking this even though I do not understand the complication (I tried to).",
    "created_at": "2022-07-15T10:11:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467436",
    "user": "@kwankyu"
}
```

Replying to [comment:78 klee]:
> Is the complication of removing `sage/__init__.py` still valid?

I am asking this even though I do not understand the complication (I tried to).



---

archive/issue_comments_467437.json:
```json
{
    "body": "Replying to [comment:78 klee]:\n> The file `sage/__init__.py` is not deleted yet here. Then can a subpackage of `sage` be a namespace package? I guess the answer is yes, but no two distribution packages can install into the namespace package. Am I right?\n\nThat's right.\n\n> Is the complication of removing `sage/__init__.py` still valid?\n\nYes, I've opened #34187 for it",
    "created_at": "2022-07-15T14:26:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467437",
    "user": "@mkoeppe"
}
```

Replying to [comment:78 klee]:
> The file `sage/__init__.py` is not deleted yet here. Then can a subpackage of `sage` be a namespace package? I guess the answer is yes, but no two distribution packages can install into the namespace package. Am I right?

That's right.

> Is the complication of removing `sage/__init__.py` still valid?

Yes, I've opened #34187 for it



---

archive/issue_comments_467438.json:
```json
{
    "body": "I think sage is now ready to get this in.",
    "created_at": "2022-07-15T14:58:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467438",
    "user": "@kwankyu"
}
```

I think sage is now ready to get this in.



---

archive/issue_comments_467439.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-07-15T14:58:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467439",
    "user": "@kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_467440.json:
```json
{
    "body": "Thank you!",
    "created_at": "2022-07-15T15:34:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467440",
    "user": "@mkoeppe"
}
```

Thank you!



---

archive/issue_comments_467441.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-07-21T21:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32774",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32774#issuecomment-467441",
    "user": "@vbraun"
}
```

Resolution: fixed
