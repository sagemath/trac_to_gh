# Issue 28034: Implement LexM traversal

archive/issues_028034.json:
```json
{
    "body": "Keywords: gsoc19\n\nThe algorithm is described here: http://dept-info.labri.fr/~gavoille/article/DG07. Using this traversal we can approximate the tree-length of an arbitrary graph. The complexity of this algorithm will be ***O(nm)*** where ***n*** is the number of vertices and ***m*** the number of edges if implemented properly in Cython.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28271\n\n",
    "created_at": "2019-07-27T13:39:14Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Implement LexM traversal",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28034",
    "user": "@giorgosgiapis"
}
```
Keywords: gsoc19

The algorithm is described here: http://dept-info.labri.fr/~gavoille/article/DG07. Using this traversal we can approximate the tree-length of an arbitrary graph. The complexity of this algorithm will be ***O(nm)*** where ***n*** is the number of vertices and ***m*** the number of edges if implemented properly in Cython.

Issue created by migration from https://trac.sagemath.org/ticket/28271





---

archive/issue_comments_396248.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-28T13:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396248",
    "user": "@giorgosgiapis"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_396249.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-28T13:44:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396249",
    "user": "@giorgosgiapis"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_396250.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-28T13:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396250",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396251.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-28T23:10:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396251",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396252.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-01T15:55:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396252",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396253.json:
```json
{
    "body": "This implementation of lexM is far from OK but some comments and thoughts on the algorithm and the way it is implemented would be very helpful.",
    "created_at": "2019-08-01T16:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396253",
    "user": "@giorgosgiapis"
}
```

This implementation of lexM is far from OK but some comments and thoughts on the algorithm and the way it is implemented would be very helpful.



---

archive/issue_comments_396254.json:
```json
{
    "body": "I think that this method should only work for undirected graphs since triangulation and tree decomposition are only meaningful in undirected graphs. Also, the `tree` parameter is not useful since LexM doesn't produce a spanning tree like all the other traversals do.",
    "created_at": "2019-08-01T16:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396254",
    "user": "@giorgosgiapis"
}
```

I think that this method should only work for undirected graphs since triangulation and tree decomposition are only meaningful in undirected graphs. Also, the `tree` parameter is not useful since LexM doesn't produce a spanning tree like all the other traversals do.



---

archive/issue_comments_396255.json:
```json
{
    "body": "It's not easy to check the validity of the code. Can you comment it.\nYou tried to follow the algorithm from Dourisboure and Gavoille, right ? It's not easy to recognize it.\n\nI tried the algorithm and I doubt it is correct. For a PetersenGraph, the ordering is `0, 1, .., 9`.\n\nAlso I don't like the way you manipulate strings. You could directly have string labels, no ?\n\nYou should read the original paper by Rose, Tarjan and Luecker 1976 https://epubs.siam.org/doi/10.1137/0205021 . \nIt provides other algorithms.\n\nI have now a working implementation of the algorithms in sections 4 and 5.3. Both versions give same orders, but the one of section 5.3 is of course way faster. I'm not claiming the orders I produce are correct. Not easy to guess what the output should be.\n\nI will push my code to save you time, but before if want to understand what you did and if there is an error and where. So please add some comments.",
    "created_at": "2019-08-02T15:47:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396255",
    "user": "dcoudert"
}
```

It's not easy to check the validity of the code. Can you comment it.
You tried to follow the algorithm from Dourisboure and Gavoille, right ? It's not easy to recognize it.

I tried the algorithm and I doubt it is correct. For a PetersenGraph, the ordering is `0, 1, .., 9`.

Also I don't like the way you manipulate strings. You could directly have string labels, no ?

You should read the original paper by Rose, Tarjan and Luecker 1976 https://epubs.siam.org/doi/10.1137/0205021 . 
It provides other algorithms.

I have now a working implementation of the algorithms in sections 4 and 5.3. Both versions give same orders, but the one of section 5.3 is of course way faster. I'm not claiming the orders I produce are correct. Not easy to guess what the output should be.

I will push my code to save you time, but before if want to understand what you did and if there is an error and where. So please add some comments.



---

archive/issue_comments_396256.json:
```json
{
    "body": "Replying to [comment:12 dcoudert]:\n> It's not easy to check the validity of the code. Can you comment it.\n> You tried to follow the algorithm from Dourisboure and Gavoille, right ? It's not easy to recognize it.\n> \n> I tried the algorithm and I doubt it is correct. For a PetersenGraph, the ordering is `0, 1, .., 9`.\n> \n> Also I don't like the way you manipulate strings. You could directly have string labels, no ?\n\nThe reason I didn't choose to have string labels in the first place is that the labels will be used for the tree decomposition later so strings would only make the parsing harder. Also, the conversion to string is needed if we want to use C++ queue.\n\n> You should read the original paper by Rose, Tarjan and Luecker 1976 https://epubs.siam.org/doi/10.1137/0205021 . \n> It provides other algorithms.\n> \n> I have now a working implementation of the algorithms in sections 4 and 5.3. Both versions give same orders, but the one of section 5.3 is of course way faster. I'm not claiming the orders I produce are correct. Not easy to guess what the output should be.\n> \n> I will push my code to save you time, but before if want to understand what you did and if there is an error and where. So please add some comments.\n\nThe general idea is that when we assign a number to a vertex we start a BFS-like procedure from that vertex. In the queue, we are keeping two things: the vertex and the maximum label in the path from our initial vertex to this one. We take care of the case when a vertex is already numbered or examined earlier (`if int_neighbor in vertices and not int_neighbor in seen:`).",
    "created_at": "2019-08-02T16:20:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396256",
    "user": "@giorgosgiapis"
}
```

Replying to [comment:12 dcoudert]:
> It's not easy to check the validity of the code. Can you comment it.
> You tried to follow the algorithm from Dourisboure and Gavoille, right ? It's not easy to recognize it.
> 
> I tried the algorithm and I doubt it is correct. For a PetersenGraph, the ordering is `0, 1, .., 9`.
> 
> Also I don't like the way you manipulate strings. You could directly have string labels, no ?

The reason I didn't choose to have string labels in the first place is that the labels will be used for the tree decomposition later so strings would only make the parsing harder. Also, the conversion to string is needed if we want to use C++ queue.

> You should read the original paper by Rose, Tarjan and Luecker 1976 https://epubs.siam.org/doi/10.1137/0205021 . 
> It provides other algorithms.
> 
> I have now a working implementation of the algorithms in sections 4 and 5.3. Both versions give same orders, but the one of section 5.3 is of course way faster. I'm not claiming the orders I produce are correct. Not easy to guess what the output should be.
> 
> I will push my code to save you time, but before if want to understand what you did and if there is an error and where. So please add some comments.

The general idea is that when we assign a number to a vertex we start a BFS-like procedure from that vertex. In the queue, we are keeping two things: the vertex and the maximum label in the path from our initial vertex to this one. We take care of the case when a vertex is already numbered or examined earlier (`if int_neighbor in vertices and not int_neighbor in seen:`).



---

archive/issue_comments_396257.json:
```json
{
    "body": "What you want to do with this string is not correct. See the example below where the second label is larger than the first one (lexicographic order).\n\n```\nsage: label = [[9, 2], [10, 2]]\nsage: s0 = \"\".join(str(code) for code in label[0])\nsage: s1 = \"\".join(str(code) for code in label[1])\nsage: s0, s1, s0 > s1, label[0] > label[1]\n('92', '102', True, False)\n```\n",
    "created_at": "2019-08-02T17:00:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396257",
    "user": "dcoudert"
}
```

What you want to do with this string is not correct. See the example below where the second label is larger than the first one (lexicographic order).

```
sage: label = [[9, 2], [10, 2]]
sage: s0 = "".join(str(code) for code in label[0])
sage: s1 = "".join(str(code) for code in label[1])
sage: s0, s1, s0 > s1, label[0] > label[1]
('92', '102', True, False)
```




---

archive/issue_comments_396258.json:
```json
{
    "body": "I see now. I should find another way to do it.",
    "created_at": "2019-08-02T17:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396258",
    "user": "@giorgosgiapis"
}
```

I see now. I should find another way to do it.



---

archive/issue_comments_396259.json:
```json
{
    "body": "Well, I found one solution:\n\n\n\n```\nsage: label = [[9, 2], [10, 2]]\nsage: s0 = \",\".join(str(code) for code in label[0])\nsage: s1 = \",\".join(str(code) for code in label[1])\nsage: l1 = list(map(int, s0.split(\",\")))\nsage: l2 = list(map(int, s1.split(\",\")))\nsage: label[0], label[1], l1, l2\n([9, 2], [10, 2], [9, 2], [10, 2])\n```\n",
    "created_at": "2019-08-02T17:30:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396259",
    "user": "@giorgosgiapis"
}
```

Well, I found one solution:



```
sage: label = [[9, 2], [10, 2]]
sage: s0 = ",".join(str(code) for code in label[0])
sage: s1 = ",".join(str(code) for code in label[1])
sage: l1 = list(map(int, s0.split(",")))
sage: l2 = list(map(int, s1.split(",")))
sage: label[0], label[1], l1, l2
([9, 2], [10, 2], [9, 2], [10, 2])
```




---

archive/issue_comments_396260.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-02T17:49:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396260",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396261.json:
```json
{
    "body": "Do you have any examples with graphs and their corresponding LexM orderings to test my code? I could create some but if there are any verified examples it would help me a lot.",
    "created_at": "2019-08-02T17:52:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396261",
    "user": "@giorgosgiapis"
}
```

Do you have any examples with graphs and their corresponding LexM orderings to test my code? I could create some but if there are any verified examples it would help me a lot.



---

archive/issue_comments_396262.json:
```json
{
    "body": "In the paper by Rose, Tarjan and Luecker, there is this graph `G = Graph({1: [2, 5], 2: [3, 4, 6], 3: [7], 4: [5, 6, 8], 5: [8], 6: [7, 9], 7: [9], 8: [9]})`, but I'm not sure we can get the same labels.",
    "created_at": "2019-08-03T10:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396262",
    "user": "dcoudert"
}
```

In the paper by Rose, Tarjan and Luecker, there is this graph `G = Graph({1: [2, 5], 2: [3, 4, 6], 3: [7], 4: [5, 6, 8], 5: [8], 6: [7, 9], 7: [9], 8: [9]})`, but I'm not sure we can get the same labels.



---

archive/issue_comments_396263.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-03T17:36:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396263",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396264.json:
```json
{
    "body": "I rebased on last beta and did small corrections on your method to make it compliant with Python 3 (I'm working with it).\n\nI have also added my implementation of the same algorithm and a test method. We can remove that later if not needed.\nI hope it will be useful to correct your implementation as I think it is not correct.",
    "created_at": "2019-08-03T17:39:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396264",
    "user": "dcoudert"
}
```

I rebased on last beta and did small corrections on your method to make it compliant with Python 3 (I'm working with it).

I have also added my implementation of the same algorithm and a test method. We can remove that later if not needed.
I hope it will be useful to correct your implementation as I think it is not correct.



---

archive/issue_comments_396265.json:
```json
{
    "body": "No need for the dependency to #28195, as it is merged in 8.9.beta5.",
    "created_at": "2019-08-03T17:40:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396265",
    "user": "dcoudert"
}
```

No need for the dependency to #28195, as it is merged in 8.9.beta5.



---

archive/issue_comments_396266.json:
```json
{
    "body": "Currently, I am having trouble building sage. When running make I am getting error `cp: cannot overwrite directory with non-directory` while building `[gap-4.10.2.p0]`. Should I post to sage-devel about it?",
    "created_at": "2019-08-04T06:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396266",
    "user": "@giorgosgiapis"
}
```

Currently, I am having trouble building sage. When running make I am getting error `cp: cannot overwrite directory with non-directory` while building `[gap-4.10.2.p0]`. Should I post to sage-devel about it?



---

archive/issue_comments_396267.json:
```json
{
    "body": "Yes, sage-devel is the right place.",
    "created_at": "2019-08-04T07:56:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396267",
    "user": "dcoudert"
}
```

Yes, sage-devel is the right place.



---

archive/issue_comments_396268.json:
```json
{
    "body": "My implementation is actually incorrect. I will try implementing the algorithm described in section  5.3 of the paper Rose.",
    "created_at": "2019-08-05T16:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396268",
    "user": "@giorgosgiapis"
}
```

My implementation is actually incorrect. I will try implementing the algorithm described in section  5.3 of the paper Rose.



---

archive/issue_comments_396269.json:
```json
{
    "body": "The problem with the new implementation is that we cannot directly get the labels assigned to each vertex.",
    "created_at": "2019-08-05T16:26:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396269",
    "user": "@giorgosgiapis"
}
```

The problem with the new implementation is that we cannot directly get the labels assigned to each vertex.



---

archive/issue_comments_396270.json:
```json
{
    "body": "I will push my code for the algorithm in section 5.3.\n\nWhy do we need the labels ? The edges of the triangulation and the order are not enough ?",
    "created_at": "2019-08-05T16:29:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396270",
    "user": "dcoudert"
}
```

I will push my code for the algorithm in section 5.3.

Why do we need the labels ? The edges of the triangulation and the order are not enough ?



---

archive/issue_comments_396271.json:
```json
{
    "body": "Don't we need the labels for the tree decomposition?",
    "created_at": "2019-08-05T16:30:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396271",
    "user": "@giorgosgiapis"
}
```

Don't we need the labels for the tree decomposition?



---

archive/issue_comments_396272.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-05T16:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396272",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396273.json:
```json
{
    "body": "I don't know, I have not checked how to build the tree-decomposition from the output of `lex_M`.",
    "created_at": "2019-08-05T16:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396273",
    "user": "dcoudert"
}
```

I don't know, I have not checked how to build the tree-decomposition from the output of `lex_M`.



---

archive/issue_comments_396274.json:
```json
{
    "body": "I thought that the labels give us a tree decomposition of the graph.",
    "created_at": "2019-08-05T16:49:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396274",
    "user": "@giorgosgiapis"
}
```

I thought that the labels give us a tree decomposition of the graph.



---

archive/issue_comments_396275.json:
```json
{
    "body": "I guess we could start with this code, add examples and tests and then think about the labels.",
    "created_at": "2019-08-05T16:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396275",
    "user": "@giorgosgiapis"
}
```

I guess we could start with this code, add examples and tests and then think about the labels.



---

archive/issue_comments_396276.json:
```json
{
    "body": "So make a front-end `lex_M` method with parameter `algorithm` and keep both versions (slow and 53) plus the test function. Feel free to rename the methods if you have more suitable names in mind ;)",
    "created_at": "2019-08-05T17:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396276",
    "user": "dcoudert"
}
```

So make a front-end `lex_M` method with parameter `algorithm` and keep both versions (slow and 53) plus the test function. Feel free to rename the methods if you have more suitable names in mind ;)



---

archive/issue_comments_396277.json:
```json
{
    "body": "Good idea! I will work on it.",
    "created_at": "2019-08-05T18:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396277",
    "user": "@giorgosgiapis"
}
```

Good idea! I will work on it.



---

archive/issue_comments_396278.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-06T18:35:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396278",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396279.json:
```json
{
    "body": "I have added `INPUT` and `OUTPUT` to all methods and also renamed them. We also raise an exception if the given graph is directed. I will also add examples and tests and then start working with the front-end.",
    "created_at": "2019-08-06T18:37:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396279",
    "user": "@giorgosgiapis"
}
```

I have added `INPUT` and `OUTPUT` to all methods and also renamed them. We also raise an exception if the given graph is directed. I will also add examples and tests and then start working with the front-end.



---

archive/issue_comments_396280.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-07T15:54:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396280",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396281.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-08-07T15:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396281",
    "user": "@giorgosgiapis"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_396282.json:
```json
{
    "body": "I have added examples and tests for both methods. Maybe it would be better to implement the front-end in another ticket. Let me know what you think.",
    "created_at": "2019-08-07T16:01:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396282",
    "user": "@giorgosgiapis"
}
```

I have added examples and tests for both methods. Maybe it would be better to implement the front-end in another ticket. Let me know what you think.



---

archive/issue_comments_396283.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-07T23:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396283",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396284.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-08T02:23:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396284",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396285.json:
```json
{
    "body": "The front-end must be in this ticket. No need for another ticket for that.",
    "created_at": "2019-08-08T08:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396285",
    "user": "dcoudert"
}
```

The front-end must be in this ticket. No need for another ticket for that.



---

archive/issue_comments_396286.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-08T13:28:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396286",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396287.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-08T13:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396287",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396288.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-09T15:06:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396288",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396289.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-09T15:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396289",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396290.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-10T13:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396290",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396291.json:
```json
{
    "body": "Everything is complete now. All methods are documented and have `EXAMPLES` and `TESTS` blocks. I can't, however, build the documentation (not because of this ticket) so if anyone can do this and confirm that it is displayed nicely it would be helpful.",
    "created_at": "2019-08-10T14:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396291",
    "user": "@giorgosgiapis"
}
```

Everything is complete now. All methods are documented and have `EXAMPLES` and `TESTS` blocks. I can't, however, build the documentation (not because of this ticket) so if anyone can do this and confirm that it is displayed nicely it would be helpful.



---

archive/issue_comments_396292.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-10T15:09:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396292",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396293.json:
```json
{
    "body": "- R. Endre Tarjan -> Robert Endre Tarjan\n- the front-end method can be defined directly in `traversals.pyx`.\n- in the example `LexM produces an ordering of the vertices`, you should not only check the len of the output, but also that all vertices are in (compare sets)\n- you can show an ordering in an example\n- add explanation for the test ` Both algorithms produce a valid LexM ordering`, i.e., what is a valid ordering\n- The triangulation contains original graph edges, so we can directly do `H = Graph(F, format='list_of_edges')`\n- I don't like the names `lex_M_slow` and `lex_M_fast`, and it's quite complicated for users to type. We can keep these names for the methods, but it would be better to find simple and clear names for the algorithms.\n- `algorithm == None` -> `algorithm is None` or simply `not algorithm`\n\n- remove the terms efficient and inefficient in the table of methods\n\n- use latex (you also have to replace a `\"\"\"` by `r\"\"\"`\n\n```diff\n-    Note that instead of using labels 1, 2, ..., k and adding 1/2, we use labels\n-    2, 4, ..., k and add 1, thus avoiding to use floats or rationals.\n+    Note that instead of using labels `1, 2, \\ldots, k` and adding `1/2`, we use labels\n+    `2, 4, \\ldots, k` and add `1`, thus avoiding to use floats or rationals.\n```\n\n\n- a possible improvement, but I'm not sure it makes a difference.\n\n```diff\n-                        F.append((int_to_v[v], int_to_v[z]))\n+                        if triangulation:\n+                            F.append((int_to_v[v], int_to_v[z]))\n```\n",
    "created_at": "2019-08-11T09:14:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396293",
    "user": "dcoudert"
}
```

- R. Endre Tarjan -> Robert Endre Tarjan
- the front-end method can be defined directly in `traversals.pyx`.
- in the example `LexM produces an ordering of the vertices`, you should not only check the len of the output, but also that all vertices are in (compare sets)
- you can show an ordering in an example
- add explanation for the test ` Both algorithms produce a valid LexM ordering`, i.e., what is a valid ordering
- The triangulation contains original graph edges, so we can directly do `H = Graph(F, format='list_of_edges')`
- I don't like the names `lex_M_slow` and `lex_M_fast`, and it's quite complicated for users to type. We can keep these names for the methods, but it would be better to find simple and clear names for the algorithms.
- `algorithm == None` -> `algorithm is None` or simply `not algorithm`

- remove the terms efficient and inefficient in the table of methods

- use latex (you also have to replace a `"""` by `r"""`

```diff
-    Note that instead of using labels 1, 2, ..., k and adding 1/2, we use labels
-    2, 4, ..., k and add 1, thus avoiding to use floats or rationals.
+    Note that instead of using labels `1, 2, \ldots, k` and adding `1/2`, we use labels
+    `2, 4, \ldots, k` and add `1`, thus avoiding to use floats or rationals.
```


- a possible improvement, but I'm not sure it makes a difference.

```diff
-                        F.append((int_to_v[v], int_to_v[z]))
+                        if triangulation:
+                            F.append((int_to_v[v], int_to_v[z]))
```




---

archive/issue_comments_396294.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-11T17:05:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396294",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396295.json:
```json
{
    "body": "Replying to [comment:50 dcoudert]:\n> - the front-end method can be defined directly in `traversals.pyx`.\nYou mean define it in `traversals.pyx` and create an alias in `generic_graph.py`? I think this is a good idea\n\n> - I don't like the names `lex_M_slow` and `lex_M_fast`, and it's quite complicated for users to type. We can keep these names for the methods, but it would be better to find simple and clear names for the algorithms.\nI will try to think of a better name. If you have anything in mind let me know.",
    "created_at": "2019-08-11T17:08:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396295",
    "user": "@giorgosgiapis"
}
```

Replying to [comment:50 dcoudert]:
> - the front-end method can be defined directly in `traversals.pyx`.
You mean define it in `traversals.pyx` and create an alias in `generic_graph.py`? I think this is a good idea

> - I don't like the names `lex_M_slow` and `lex_M_fast`, and it's quite complicated for users to type. We can keep these names for the methods, but it would be better to find simple and clear names for the algorithms.
I will try to think of a better name. If you have anything in mind let me know.



---

archive/issue_comments_396296.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-15T23:48:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396296",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396297.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-19T16:52:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396297",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396298.json:
```json
{
    "body": "I did some corrections. Please check. I you agree, you can set to positive review on my behalf.",
    "created_at": "2019-08-19T16:53:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396298",
    "user": "dcoudert"
}
```

I did some corrections. Please check. I you agree, you can set to positive review on my behalf.



---

archive/issue_comments_396299.json:
```json
{
    "body": "Seems OK. Let's wait for the Patchbot. If all tests pass I will set to positive review.",
    "created_at": "2019-08-19T17:26:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396299",
    "user": "@giorgosgiapis"
}
```

Seems OK. Let's wait for the Patchbot. If all tests pass I will set to positive review.



---

archive/issue_comments_396300.json:
```json
{
    "body": "There is an error when building the html documentation. Could be \n\n```diff\n-    :meth:`~lex_M` | Return an ordering of the vertices of G according the LexM graph traversal.\n+    :meth:`~GenericGraph.lex_M` | Return an ordering of the vertices of G according the LexM graph traversal.\n```\n\nPlease check",
    "created_at": "2019-08-20T16:43:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396300",
    "user": "dcoudert"
}
```

There is an error when building the html documentation. Could be 

```diff
-    :meth:`~lex_M` | Return an ordering of the vertices of G according the LexM graph traversal.
+    :meth:`~GenericGraph.lex_M` | Return an ordering of the vertices of G according the LexM graph traversal.
```

Please check



---

archive/issue_comments_396301.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-21T02:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396301",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396302.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-21T11:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396302",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396303.json:
```json
{
    "body": "I suspect you have not even tried to build the documentation and check if it looks good...\n\nI have done several corrections. Please check.",
    "created_at": "2019-08-21T11:47:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396303",
    "user": "dcoudert"
}
```

I suspect you have not even tried to build the documentation and check if it looks good...

I have done several corrections. Please check.



---

archive/issue_comments_396304.json:
```json
{
    "body": "I can't seem to get the documentation to build on my MacBook and I currently don't have access to my desktop. I will post to sage-devel about it.",
    "created_at": "2019-08-21T11:50:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396304",
    "user": "@giorgosgiapis"
}
```

I can't seem to get the documentation to build on my MacBook and I currently don't have access to my desktop. I will post to sage-devel about it.



---

archive/issue_comments_396305.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-21T12:48:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396305",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396306.json:
```json
{
    "body": "I have added exceptions for when `initial_vertex` is not a graph vertex.",
    "created_at": "2019-08-21T12:50:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396306",
    "user": "@giorgosgiapis"
}
```

I have added exceptions for when `initial_vertex` is not a graph vertex.



---

archive/issue_comments_396307.json:
```json
{
    "body": "why using `str(initial_vertex)` ? I don't think it's needed.",
    "created_at": "2019-08-21T13:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396307",
    "user": "dcoudert"
}
```

why using `str(initial_vertex)` ? I don't think it's needed.



---

archive/issue_comments_396308.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-21T14:35:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396308",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396309.json:
```json
{
    "body": "Replying to [comment:64 dcoudert]:\n> why using `str(initial_vertex)` ? I don't think it's needed.\nYou are right. Fixed!",
    "created_at": "2019-08-21T14:35:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396309",
    "user": "@giorgosgiapis"
}
```

Replying to [comment:64 dcoudert]:
> why using `str(initial_vertex)` ? I don't think it's needed.
You are right. Fixed!



---

archive/issue_comments_396310.json:
```json
{
    "body": "You have again not tested your commit !!!\n\n\n```diff\n-        ValueError: 'foo' is not a graph vertex dad\n+        ValueError: 'foo' is not a graph vertex\n```\n\n\nand everywhere:\n\n```diff\n-        Traceback (most recent call last)\n+        Traceback (most recent call last):\n```\n",
    "created_at": "2019-08-21T14:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396310",
    "user": "dcoudert"
}
```

You have again not tested your commit !!!


```diff
-        ValueError: 'foo' is not a graph vertex dad
+        ValueError: 'foo' is not a graph vertex
```


and everywhere:

```diff
-        Traceback (most recent call last)
+        Traceback (most recent call last):
```




---

archive/issue_comments_396311.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-21T15:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396311",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396312.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-08-22T15:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396312",
    "user": "dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_396313.json:
```json
{
    "body": "LGTM.",
    "created_at": "2019-08-22T15:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396313",
    "user": "dcoudert"
}
```

LGTM.



---

archive/issue_comments_396314.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-08-28T19:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28034",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28034#issuecomment-396314",
    "user": "vbraun"
}
```

Resolution: fixed
