# Issue 20371: S-unit functionality not available from unit_group method

Issue created by migration from https://trac.sagemath.org/ticket/20608

Original creator: kedlaya

Original creation time: 2016-05-13 22:39:38

Keywords: S-unit group, number field

The following example is taken from the Sage Reference Guide:

```
sage: K.<a> = NumberField(x^6+2)
sage: S = K.ideal(3).prime_factors(); S
[Fractional ideal (3, a + 1), Fractional ideal (3, a - 1)]
sage: SUK = UnitGroup(K,S=tuple(S)); SUK
S-unit group with structure C2 x Z x Z x Z x Z of Number Field in a with defining polynomial x^6 + 2 with S = (Fractional ideal (3, a + 1), Fractional ideal (3, a - 1))
```

However, this format should also work and currently doesn't:

```
sage: K.unit_group() == UnitGroup(K)
True
sage: K.unit_group(S = tuple(S)) == SUK # Should return True
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-5-01b385903c37> in <module>()
----> 1 SUK = K.unit_group(S = tuple(S))

TypeError: unit_group() got an unexpected keyword argument 'S'
```

Optional (may require additional discussion): also deprecate the unbound method `UnitGroup`.


---

Comment by kedlaya created at 2016-05-24 18:57:09

It appears that this format works:

```
sage: K.S_unit_group(S=S) == SUK
True
```

so a simpler alternative would be to edit the docstring for `K.unit_group` to refer to `K.S_unit_group`.

Aside: confusingly the argument `S` is not positional:

```
sage: K.S_unit_group(S) == SUK
False
sage: K.S_unit_group(S) == K.unit_group() # S is ignored!
True
```



---

Comment by kedlaya created at 2016-05-24 19:48:06

Changing status from new to needs_review.


---

Comment by kedlaya created at 2016-05-24 19:48:06

Patch up to change the docstrings for `K.units` and `K.unit_group` to add "SEEALSO" lines referencing S-units. This seems easier than changing any actual functionality.
----
New commits:


---

Comment by vbraun created at 2016-05-25 23:29:40

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-05-27 22:39:52

Resolution: fixed
