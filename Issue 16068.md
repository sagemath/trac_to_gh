# Issue 16068: sage-env must wait longer before setting MPLCONFIGDIR

archive/issues_016068.json:
```json
{
    "body": "CC:  jhpalmieri leif\n\nWhen the environment variable `MPLCONFIGDIR` is set by `sage-env`, other important bits of initialisation on which it depends has not been done yet; see comment:17:ticket:15901 and follow-up comments.  We should move this part of `sage-env` further down.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16305\n\n",
    "created_at": "2014-05-07T21:04:18Z",
    "labels": [
        "distribution",
        "major",
        "bug"
    ],
    "title": "sage-env must wait longer before setting MPLCONFIGDIR",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16068",
    "user": "pbruin"
}
```
CC:  jhpalmieri leif

When the environment variable `MPLCONFIGDIR` is set by `sage-env`, other important bits of initialisation on which it depends has not been done yet; see comment:17:ticket:15901 and follow-up comments.  We should move this part of `sage-env` further down.

Issue created by migration from https://trac.sagemath.org/ticket/16305





---

archive/issue_comments_209230.json:
```json
{
    "body": "Should we just move the `MPLCONFIGDIR` part to the very end?  This solves the problem for me.",
    "created_at": "2014-05-07T21:06:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16068#issuecomment-209230",
    "user": "pbruin"
}
```

Should we just move the `MPLCONFIGDIR` part to the very end?  This solves the problem for me.



---

archive/issue_comments_209231.json:
```json
{
    "body": "I'd just swap the parts I've cited; first set `LD_LIBRARY_PATH`, then `MPLCONFIGDIR`.",
    "created_at": "2014-05-07T21:07:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16068#issuecomment-209231",
    "user": "leif"
}
```

I'd just swap the parts I've cited; first set `LD_LIBRARY_PATH`, then `MPLCONFIGDIR`.



---

archive/issue_comments_209232.json:
```json
{
    "body": "(plus the Darwin stuff)",
    "created_at": "2014-05-07T21:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16068#issuecomment-209232",
    "user": "leif"
}
```

(plus the Darwin stuff)



---

archive/issue_comments_209233.json:
```json
{
    "body": "OK, that also solves the problem for me.",
    "created_at": "2014-05-07T21:20:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16068#issuecomment-209233",
    "user": "pbruin"
}
```

OK, that also solves the problem for me.



---

archive/issue_comments_209234.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-07T21:20:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16068#issuecomment-209234",
    "user": "pbruin"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_209235.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-07T22:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16068#issuecomment-209235",
    "user": "leif"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_209236.json:
```json
{
    "body": "WFM2.",
    "created_at": "2014-05-07T22:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16068#issuecomment-209236",
    "user": "leif"
}
```

WFM2.



---

archive/issue_comments_209237.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-08T11:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16068#issuecomment-209237",
    "user": "vbraun"
}
```

Resolution: fixed
