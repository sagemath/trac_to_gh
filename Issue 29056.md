# Issue 29056: pari call on x+O(x**2) fails

archive/issues_029056.json:
```json
{
    "body": "CC:  @tscrim\n\nKeywords: pari\n\nas follows:\n\n```\nsage: pari('x+O(x^2)')\n---------------------------------------------------------------------------\nPariError                                 Traceback (most recent call last)\n<ipython-input-29-3844ab2b33fc> in <module>()\n----> 1 pari('x+O(x^2)')\n\ncypari2/pari_instance.pyx in cypari2.pari_instance.Pari.__call__()\n\ncypari2/gen.pyx in cypari2.gen.objtogen()\n\ncypari2/convert.pyx in cypari2.convert.PyObject_AsGEN()\n\ncypari2/handle_error.pyx in cypari2.handle_error._pari_err_handle()\n\nPariError: O(_^_): incorrect type in O (t_SER)\n```\n\nThis prevents automatic testing of PARI code in oeis.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29293\n\n",
    "created_at": "2020-03-07T08:14:02Z",
    "labels": [
        "interfaces",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "pari call on x+O(x**2) fails",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29056",
    "user": "@fchapoton"
}
```
CC:  @tscrim

Keywords: pari

as follows:

```
sage: pari('x+O(x^2)')
---------------------------------------------------------------------------
PariError                                 Traceback (most recent call last)
<ipython-input-29-3844ab2b33fc> in <module>()
----> 1 pari('x+O(x^2)')

cypari2/pari_instance.pyx in cypari2.pari_instance.Pari.__call__()

cypari2/gen.pyx in cypari2.gen.objtogen()

cypari2/convert.pyx in cypari2.convert.PyObject_AsGEN()

cypari2/handle_error.pyx in cypari2.handle_error._pari_err_handle()

PariError: O(_^_): incorrect type in O (t_SER)
```

This prevents automatic testing of PARI code in oeis.

Issue created by migration from https://trac.sagemath.org/ticket/29293





---

archive/issue_comments_411264.json:
```json
{
    "body": "I also see a failure in the cypari testsuite that looks similar",
    "created_at": "2020-03-12T22:44:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29056",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29056#issuecomment-411264",
    "user": "@mkoeppe"
}
```

I also see a failure in the cypari testsuite that looks similar



---

archive/issue_comments_411265.json:
```json
{
    "body": "Hmm, it seem to works for me now. Invalid ticket ?",
    "created_at": "2020-03-19T12:59:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29056",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29056#issuecomment-411265",
    "user": "@fchapoton"
}
```

Hmm, it seem to works for me now. Invalid ticket ?



---

archive/issue_comments_411266.json:
```json
{
    "body": "Travis, could you please double check that this works and the ticket is invalid ?\n\nBy the way, how do you do ? Are you confined as I am ?",
    "created_at": "2020-03-24T16:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29056",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29056#issuecomment-411266",
    "user": "@fchapoton"
}
```

Travis, could you please double check that this works and the ticket is invalid ?

By the way, how do you do ? Are you confined as I am ?



---

archive/issue_comments_411267.json:
```json
{
    "body": "Replying to [comment:5 chapoton]:\n> Travis, could you please double check that this works and the ticket is invalid ?\n\nYes, it now works. Since it is upstream in cypari2, I don't think we need to (or should) add a doctest.\n\n> By the way, how do you do ? Are you confined as I am ?\n\nI am doing okay. I am confined to Australia since they closed their boarders and there are essentially no international flights from Australia. However I am still able to go outside and to my office at UQ. However, the situation seems to change daily without much warning, so who knows how long that will last.",
    "created_at": "2020-03-24T23:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29056",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29056#issuecomment-411267",
    "user": "@tscrim"
}
```

Replying to [comment:5 chapoton]:
> Travis, could you please double check that this works and the ticket is invalid ?

Yes, it now works. Since it is upstream in cypari2, I don't think we need to (or should) add a doctest.

> By the way, how do you do ? Are you confined as I am ?

I am doing okay. I am confined to Australia since they closed their boarders and there are essentially no international flights from Australia. However I am still able to go outside and to my office at UQ. However, the situation seems to change daily without much warning, so who knows how long that will last.



---

archive/issue_comments_411268.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-24T23:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29056",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29056#issuecomment-411268",
    "user": "@tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_411269.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-24T23:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29056",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29056#issuecomment-411269",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_411270.json:
```json
{
    "body": "How are you doing?",
    "created_at": "2020-03-24T23:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29056",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29056#issuecomment-411270",
    "user": "@tscrim"
}
```

How are you doing?



---

archive/issue_comments_411271.json:
```json
{
    "body": "I going well, as far as possible.",
    "created_at": "2020-03-25T19:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29056",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29056#issuecomment-411271",
    "user": "@fchapoton"
}
```

I going well, as far as possible.



---

archive/issue_comments_411272.json:
```json
{
    "body": "Resolution: worksforme",
    "created_at": "2020-03-25T19:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29056",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29056#issuecomment-411272",
    "user": "@fchapoton"
}
```

Resolution: worksforme
