# Issue 22706: Speedup rigged configuration bijection in type B

Issue created by migration from Trac.

Original creator: tscrim

Original creation time: 2017-05-04 04:52:52

CC:  sage-combinat aschilling bsalisbury1

Keywords: rigged configurations

We don't need to generate all module generators of the tensor product of KR crystals in type B as we just need a placeholder element. Generating all of these takes a significant amount of time, so we should just create a simple placeholder element.


---

Comment by tscrim created at 2017-05-04 04:54:18

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-05-04 04:54:18

This makes a huge difference when the number of factors is more than 3, even for B<sub>3</sub><sup>(1)</sup>. It makes it almost instantaneous compared to minutes in the current version.


---

Comment by chapoton created at 2017-05-04 10:05:14

no branch of the given name is known


---

Comment by git created at 2017-05-04 14:50:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-05-04 14:51:06

Forgot that it is commit _then_ push. :P


---

Comment by bsalisbury1 created at 2017-05-04 21:43:53

With the current development branch:

```
sage: RiggedConfigurations.options(display='horizontal')
sage: from sage.combinat.rigged_configurations.bij_type_B import KRTToRCBijectionTypeB
sage: KRT = crystals.TensorProductOfKirillovReshetikhinTableaux(['B', 3, 1], [This is the Trac macro *3, 1* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#3, 1-macro))
sage: %time for x in KRT: print KRTToRCBijectionTypeB(x).run(), '\n-----'
(/)   (/)   (/) 
-----
(/)   (/)   -1[]-1 
-----
(/)   -1[ ]-1   0[]0 
-----
-1[ ]-1   0[ ]0   0[]0 
-----
(/)   0[ ]0   -1[][]-1 
-----
-1[ ]-1   1[ ]1   -1[][]-1 
-----
0[ ]0   -1[ ]-1   1[][]1
        -1[ ]-1          
-----
0[ ]0   0[ ]0   -1[][]-1
        0[ ]0   -1[]-1   
-----
CPU times: user 104 ms, sys: 33.3 ms, total: 137 ms
Wall time: 134 ms
```


With this branch applied:

```
sage: RiggedConfigurations.options(display='horizontal')
sage: from sage.combinat.rigged_configurations.bij_type_B import KRTToRCBijectionTypeB
sage: KRT = crystals.TensorProductOfKirillovReshetikhinTableaux(['B', 3, 1], [This is the Trac macro *3, 1* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#3, 1-macro))
sage: %time for x in KRT: print KRTToRCBijectionTypeB(x).run(), '\n-----'
(/)   (/)   (/) 
-----
(/)   (/)   -1[]-1 
-----
(/)   -1[ ]-1   0[]0 
-----
-1[ ]-1   0[ ]0   0[]0 
-----
(/)   0[ ]0   -1[][]-1 
-----
-1[ ]-1   1[ ]1   -1[][]-1 
-----
0[ ]0   -1[ ]-1   1[][]1
        -1[ ]-1          
-----
0[ ]0   0[ ]0   -1[][]-1
        0[ ]0   -1[]-1   
-----
CPU times: user 12.8 ms, sys: 2.26 ms, total: 15 ms
Wall time: 13.3 ms
```



---

Comment by bsalisbury1 created at 2017-05-04 21:43:53

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-05-08 21:18:38

Resolution: fixed
