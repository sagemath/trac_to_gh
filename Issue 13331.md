# Issue 13331: Tab completion failing on dynamic help pages on 5.3

archive/issues_013331.json:
```json
{
    "body": "Assignee: jason, mpatel, was\n\nHow to reproduce on Sage 5.3 main on Unbuntu 11.10. Run:\n\n```\n   sage -notebook\n```\n\n\nGo to any help page, and type in\n\n```\n   o = 3\n   o.<tab>\n```\n\n\nNothing happens and the following traceback appears in the terminal\nwhere sage-notebook was launched:\n\n```\n\tTraceback (most recent call last):\n\t  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/threadpool.py\", line 190, in _worker\n\t    o = self.q.get()\n\t  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py\", line 118, in callWithContext\n\t    return self.currentContext().callWithContext(ctx, func, *args, **kw)\n\t  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py\", line 83, in callWithContext\n\t    self.contexts.pop()\n\t  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py\", line 340, in run\n\t    self.started = True\n\t--- <exception caught here> ---\n\t  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py\", line 315, in run\n\t    appIterator = self.application(self.environ, self.startResponse)\n\t  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1701, in __call__\n\t    return self.wsgi_app(environ, start_response)\n\t  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1689, in wsgi_app\n\t    response = self.make_response(self.handle_exception(e))\n\t  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1687, in wsgi_app\n\t    response = self.full_dispatch_request()\n\t  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1360, in full_dispatch_request\n\t    rv = self.handle_user_exception(e)\n\t  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1358, in full_dispatch_request\n\t    rv = self.dispatch_request()\n\t  File \"/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py\", line 1344, in dispatch_request\n\t    return self.view_functions[rule.endpoint](**req.view_args)\n\t  File \"/opt/sage-5.3/devel/sagenb/flask_version/decorators.py\", line 27, in wrapper\n\t    return f(*args, **kwds)\n\t  File \"/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py\", line 45, in wrapper\n\t    return f(username, id, **kwds)\n\t  File \"/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py\", line 115, in wrapper\n\t    raise NotImplementedError(\"User _sage_ can not access URL %s\"%target)\n\texceptions.NotImplementedError: User _sage_ can not access URL introspect\n```\n\n\nThere is no such failure in 5.1.\n\nIssue created by migration from https://trac.sagemath.org/ticket/13535\n\n",
    "created_at": "2012-09-25T21:00:51Z",
    "labels": [
        "component: notebook",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Tab completion failing on dynamic help pages on 5.3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13331",
    "user": "https://github.com/nthiery"
}
```
Assignee: jason, mpatel, was

How to reproduce on Sage 5.3 main on Unbuntu 11.10. Run:

```
   sage -notebook
```


Go to any help page, and type in

```
   o = 3
   o.<tab>
```


Nothing happens and the following traceback appears in the terminal
where sage-notebook was launched:

```
	Traceback (most recent call last):
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/threadpool.py", line 190, in _worker
	    o = self.q.get()
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py", line 83, in callWithContext
	    self.contexts.pop()
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py", line 340, in run
	    self.started = True
	--- <exception caught here> ---
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py", line 315, in run
	    appIterator = self.application(self.environ, self.startResponse)
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1701, in __call__
	    return self.wsgi_app(environ, start_response)
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1689, in wsgi_app
	    response = self.make_response(self.handle_exception(e))
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1687, in wsgi_app
	    response = self.full_dispatch_request()
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1360, in full_dispatch_request
	    rv = self.handle_user_exception(e)
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1358, in full_dispatch_request
	    rv = self.dispatch_request()
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1344, in dispatch_request
	    return self.view_functions[rule.endpoint](**req.view_args)
	  File "/opt/sage-5.3/devel/sagenb/flask_version/decorators.py", line 27, in wrapper
	    return f(*args, **kwds)
	  File "/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py", line 45, in wrapper
	    return f(username, id, **kwds)
	  File "/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py", line 115, in wrapper
	    raise NotImplementedError("User _sage_ can not access URL %s"%target)
	exceptions.NotImplementedError: User _sage_ can not access URL introspect
```


There is no such failure in 5.1.

Issue created by migration from https://trac.sagemath.org/ticket/13535





---

archive/issue_comments_163526.json:
```json
{
    "body": "In case this would be related, I just got the following message \"exceptions.NotImplementedError: User _sage_ can not access URL copy\" while trying to make a copy of such a dynamic help page.",
    "created_at": "2012-09-25T22:12:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163526",
    "user": "https://github.com/nthiery"
}
```

In case this would be related, I just got the following message "exceptions.NotImplementedError: User _sage_ can not access URL copy" while trying to make a copy of such a dynamic help page.



---

archive/issue_comments_163527.json:
```json
{
    "body": "Changing keywords from \"\" to \"agregation\".",
    "created_at": "2012-10-02T15:11:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163527",
    "user": "https://github.com/nthiery"
}
```

Changing keywords from "" to "agregation".



---

archive/issue_comments_163528.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-11-13T10:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163528",
    "user": "https://github.com/nthiery"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_163529.json:
```json
{
    "body": "Changing keywords from \"agregation\" to \"agregation, bobo2012\".",
    "created_at": "2012-11-13T10:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163529",
    "user": "https://github.com/nthiery"
}
```

Changing keywords from "agregation" to "agregation, bobo2012".



---

archive/issue_comments_163530.json:
```json
{
    "body": "Attachment [trac_13535_live_introspection_flask-nt.patch](tarball://root/attachments/some-uuid/ticket13535/trac_13535_live_introspection_flask-nt.patch) by @nthiery created at 2012-11-13 10:03:28",
    "created_at": "2012-11-13T10:03:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163530",
    "user": "https://github.com/nthiery"
}
```

Attachment [trac_13535_live_introspection_flask-nt.patch](tarball://root/attachments/some-uuid/ticket13535/trac_13535_live_introspection_flask-nt.patch) by @nthiery created at 2012-11-13 10:03:28



---

archive/issue_comments_163531.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-03-27T22:34:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163531",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_163532.json:
```json
{
    "body": "Keshav made this into a pull request on github. This ticket can be closed here.",
    "created_at": "2013-03-27T22:34:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163532",
    "user": "https://github.com/nthiery"
}
```

Keshav made this into a pull request on github. This ticket can be closed here.



---

archive/issue_comments_163533.json:
```json
{
    "body": "Pull request: https://github.com/sagemath/sagenb/pull/143",
    "created_at": "2013-03-27T22:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163533",
    "user": "https://github.com/kini"
}
```

Pull request: https://github.com/sagemath/sagenb/pull/143



---

archive/issue_comments_163534.json:
```json
{
    "body": "I have changed this to \"reported upstream, developers acknowledge bug\".  Nicolas, we wouldn't close a ticket for an upstream bug until we actually merged that functionality into Sage - it isn't sufficient to just report the bug!  Who knows if it would ever be fixed?  Luckily, we have a \"good relationship\" with sagenb :) but with other spkgs, especially ones that are essentially not being developed any more, that may not be the case (see for instance #13947).  It doesn't seem reasonable to grant sagenb some sort of \"most favored\" status that assumes all bugs will eventually be addressed.\n\nIn fact, this isn't even *fixed* upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.",
    "created_at": "2013-03-28T14:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163534",
    "user": "https://github.com/kcrisman"
}
```

I have changed this to "reported upstream, developers acknowledge bug".  Nicolas, we wouldn't close a ticket for an upstream bug until we actually merged that functionality into Sage - it isn't sufficient to just report the bug!  Who knows if it would ever be fixed?  Luckily, we have a "good relationship" with sagenb :) but with other spkgs, especially ones that are essentially not being developed any more, that may not be the case (see for instance #13947).  It doesn't seem reasonable to grant sagenb some sort of "most favored" status that assumes all bugs will eventually be addressed.

In fact, this isn't even *fixed* upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.



---

archive/issue_comments_163535.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2013-03-28T14:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163535",
    "user": "https://github.com/kcrisman"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_163536.json:
```json
{
    "body": "Yup, OK.",
    "created_at": "2013-03-28T14:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163536",
    "user": "https://github.com/kini"
}
```

Yup, OK.



---

archive/issue_comments_163537.json:
```json
{
    "body": ">In fact, this isn't even fixed upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.\n\nYes, probably, and probably even get into Sage relatively soon (I hope). See #14330.",
    "created_at": "2013-03-28T14:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163537",
    "user": "https://github.com/kini"
}
```

>In fact, this isn't even fixed upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.

Yes, probably, and probably even get into Sage relatively soon (I hope). See #14330.



---

archive/issue_comments_163538.json:
```json
{
    "body": "Hi Karl!\n\nReplying to [comment:8 kcrisman]:\n> I have changed this to \"reported upstream, developers acknowledge bug\".  Nicolas, we wouldn't close a ticket for an upstream bug until we actually merged that functionality into Sage - it isn't sufficient to just report the bug!  Who knows if it would ever be fixed?  Luckily, we have a \"good relationship\" with sagenb :) but with other spkgs, especially ones that are essentially not being developed any more, that may not be the case (see for instance #13947).  It doesn't seem reasonable to grant sagenb some sort of \"most favored\" status that assumes all bugs will eventually be addressed.\n> \n> In fact, this isn't even *fixed* upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.\n\nWell, I guess my idea was that this ticket should never have been\ncreated here in the first place, since notebook development occurs\nelsewhere. We don't want to create tickets here for every bug / pull\nrequest on the sagenb web-site, right?\n\nAnyway, I don't mind either way.\n\nCheers,\n                      Nicolas",
    "created_at": "2013-03-28T16:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163538",
    "user": "https://github.com/nthiery"
}
```

Hi Karl!

Replying to [comment:8 kcrisman]:
> I have changed this to "reported upstream, developers acknowledge bug".  Nicolas, we wouldn't close a ticket for an upstream bug until we actually merged that functionality into Sage - it isn't sufficient to just report the bug!  Who knows if it would ever be fixed?  Luckily, we have a "good relationship" with sagenb :) but with other spkgs, especially ones that are essentially not being developed any more, that may not be the case (see for instance #13947).  It doesn't seem reasonable to grant sagenb some sort of "most favored" status that assumes all bugs will eventually be addressed.
> 
> In fact, this isn't even *fixed* upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.

Well, I guess my idea was that this ticket should never have been
created here in the first place, since notebook development occurs
elsewhere. We don't want to create tickets here for every bug / pull
request on the sagenb web-site, right?

Anyway, I don't mind either way.

Cheers,
                      Nicolas



---

archive/issue_comments_163539.json:
```json
{
    "body": "> Well, I guess my idea was that this ticket should never have been\n> created here in the first place, since notebook development occurs\n> elsewhere. We don't want to create tickets here for every bug / pull\n> request on the sagenb web-site, right?\n\nFor sure, but that argument would apply to other spkgs as well.  I think it *does* make sense to encourage people to report to sagenb.  Though I've noticed that things reported both places have much higher visibility, and it might make things more likely to be resolved if it's on the \"official\" Sage Trac.",
    "created_at": "2013-03-28T18:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163539",
    "user": "https://github.com/kcrisman"
}
```

> Well, I guess my idea was that this ticket should never have been
> created here in the first place, since notebook development occurs
> elsewhere. We don't want to create tickets here for every bug / pull
> request on the sagenb web-site, right?

For sure, but that argument would apply to other spkgs as well.  I think it *does* make sense to encourage people to report to sagenb.  Though I've noticed that things reported both places have much higher visibility, and it might make things more likely to be resolved if it's on the "official" Sage Trac.



---

archive/issue_comments_163540.json:
```json
{
    "body": "This was fixed long ago by https://github.com/sagemath/sagenb/pull/143 as noted above.",
    "created_at": "2014-10-22T15:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163540",
    "user": "https://github.com/kcrisman"
}
```

This was fixed long ago by https://github.com/sagemath/sagenb/pull/143 as noted above.



---

archive/issue_comments_163541.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2014-10-22T15:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163541",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_events_013225.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-27T16:26:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13331#event-13225"
}
```



---

archive/issue_comments_163542.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-10-27T16:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13331#issuecomment-163542",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
