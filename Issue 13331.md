# Issue 13331: Tab completion failing on dynamic help pages on 5.3

Issue created by migration from Trac.

Original creator: nthiery

Original creation time: 2012-09-25 21:00:51

Assignee: jason, mpatel, was

How to reproduce on Sage 5.3 main on Unbuntu 11.10. Run:

```
   sage -notebook
```


Go to any help page, and type in

```
   o = 3
   o.<tab>
```


Nothing happens and the following traceback appears in the terminal
where sage-notebook was launched:

```
	Traceback (most recent call last):
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/threadpool.py", line 190, in _worker
	    o = self.q.get()
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py", line 118, in callWithContext
	    return self.currentContext().callWithContext(ctx, func, *args, **kw)
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/python/context.py", line 83, in callWithContext
	    self.contexts.pop()
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py", line 340, in run
	    self.started = True
	--- <exception caught here> ---
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Twisted-12.1.0-py2.7-linux-x86_64.egg/twisted/web/wsgi.py", line 315, in run
	    appIterator = self.application(self.environ, self.startResponse)
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1701, in __call__
	    return self.wsgi_app(environ, start_response)
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1689, in wsgi_app
	    response = self.make_response(self.handle_exception(e))
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1687, in wsgi_app
	    response = self.full_dispatch_request()
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1360, in full_dispatch_request
	    rv = self.handle_user_exception(e)
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1358, in full_dispatch_request
	    rv = self.dispatch_request()
	  File "/opt/sage-5.3/local/lib/python2.7/site-packages/Flask-0.9-py2.7.egg/flask/app.py", line 1344, in dispatch_request
	    return self.view_functions[rule.endpoint](**req.view_args)
	  File "/opt/sage-5.3/devel/sagenb/flask_version/decorators.py", line 27, in wrapper
	    return f(*args, **kwds)
	  File "/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py", line 45, in wrapper
	    return f(username, id, **kwds)
	  File "/opt/sage-5.3/devel/sagenb/flask_version/worksheet.py", line 115, in wrapper
	    raise NotImplementedError("User _sage_ can not access URL %s"%target)
	exceptions.NotImplementedError: User _sage_ can not access URL introspect
```


There is no such failure in 5.1.


---

Comment by nthiery created at 2012-09-25 22:12:55

In case this would be related, I just got the following message "exceptions.NotImplementedError: User _sage_ can not access URL copy" while trying to make a copy of such a dynamic help page.


---

Comment by nthiery created at 2012-10-02 15:11:33

Changing keywords from "" to "agregation".


---

Comment by nthiery created at 2012-11-13 10:00:17

Changing status from new to needs_review.


---

Comment by nthiery created at 2012-11-13 10:00:17

Changing keywords from "agregation" to "agregation, bobo2012".


---

Attachment


---

Comment by nthiery created at 2013-03-27 22:34:35

Changing status from needs_review to positive_review.


---

Comment by nthiery created at 2013-03-27 22:34:35

Keshav made this into a pull request on github. This ticket can be closed here.


---

Comment by kini created at 2013-03-27 22:40:31

Pull request: https://github.com/sagemath/sagenb/pull/143


---

Comment by kcrisman created at 2013-03-28 14:04:09

I have changed this to "reported upstream, developers acknowledge bug".  Nicolas, we wouldn't close a ticket for an upstream bug until we actually merged that functionality into Sage - it isn't sufficient to just report the bug!  Who knows if it would ever be fixed?  Luckily, we have a "good relationship" with sagenb :) but with other spkgs, especially ones that are essentially not being developed any more, that may not be the case (see for instance #13947).  It doesn't seem reasonable to grant sagenb some sort of "most favored" status that assumes all bugs will eventually be addressed.

In fact, this isn't even _fixed_ upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.


---

Comment by kcrisman created at 2013-03-28 14:04:09

Changing status from positive_review to needs_info.


---

Comment by kini created at 2013-03-28 14:13:55

Yup, OK.


---

Comment by kini created at 2013-03-28 14:18:18

>In fact, this isn't even fixed upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.

Yes, probably, and probably even get into Sage relatively soon (I hope). See #14330.


---

Comment by nthiery created at 2013-03-28 16:58:48

Hi Karl!

Replying to [comment:8 kcrisman]:
> I have changed this to "reported upstream, developers acknowledge bug".  Nicolas, we wouldn't close a ticket for an upstream bug until we actually merged that functionality into Sage - it isn't sufficient to just report the bug!  Who knows if it would ever be fixed?  Luckily, we have a "good relationship" with sagenb :) but with other spkgs, especially ones that are essentially not being developed any more, that may not be the case (see for instance #13947).  It doesn't seem reasonable to grant sagenb some sort of "most favored" status that assumes all bugs will eventually be addressed.
> 
> In fact, this isn't even _fixed_ upstream yet - just a pull request - though presumably it will be merged into a devel release of sagenb relatively soon.

Well, I guess my idea was that this ticket should never have been
created here in the first place, since notebook development occurs
elsewhere. We don't want to create tickets here for every bug / pull
request on the sagenb web-site, right?

Anyway, I don't mind either way.

Cheers,
                      Nicolas


---

Comment by kcrisman created at 2013-03-28 18:05:54

> Well, I guess my idea was that this ticket should never have been
> created here in the first place, since notebook development occurs
> elsewhere. We don't want to create tickets here for every bug / pull
> request on the sagenb web-site, right?

For sure, but that argument would apply to other spkgs as well.  I think it _does_ make sense to encourage people to report to sagenb.  Though I've noticed that things reported both places have much higher visibility, and it might make things more likely to be resolved if it's on the "official" Sage Trac.


---

Comment by kcrisman created at 2014-10-22 15:36:31

This was fixed long ago by https://github.com/sagemath/sagenb/pull/143 as noted above.


---

Comment by kcrisman created at 2014-10-22 15:36:31

Changing status from needs_info to positive_review.


---

Comment by vbraun created at 2014-10-27 16:26:20

Resolution: fixed
