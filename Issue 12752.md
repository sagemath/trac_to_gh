# Issue 12752: SchubertPolynomialRing causes symmetrica and Sage to crash on bad input

Issue created by migration from Trac.

Original creator: VivianePons

Original creation time: 2012-05-08 15:16:12

Assignee: VivianePons

CC:  sage-combinat nthiery

Keywords: days38, Schubert polynomials

The SchubertPolynomialRing expects a permutation as an index. When a list is given which is not a permutation, the object is created anyway. The problem comes when one tries to expand the polynomial, if the index is not a valid permutation, it makes symmetrica crash which makes Sage crash ! 


```
sage: S = SchubertPolynomialRing(ZZ)                                  
sage: pol = S([2,1,3])
sage: pol.expand()
x0
sage: pol = S([2,1,1])
sage: pol.expand()
function: mult_apply_integer(2) 
python: function: mult_apply_integer(2) 
: Operation not permitted
```

So the idea would be to check when the polynomial is created that the input is correct and raise an exception at this point if it's not. 



---

Comment by VivianePons created at 2012-05-08 18:44:32

Changing status from new to needs_review.


---

Attachment


---

Attachment

I've fixed some of the formatting.  If you're fine with these changes, you can mark this ticket as positive_review.


---

Comment by VivianePons created at 2012-08-02 02:09:51

It's ok with me ! Thank's for the review


---

Comment by mhansen created at 2012-08-02 02:40:22

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-08-12 18:59:38

Resolution: fixed
