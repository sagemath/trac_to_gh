# Issue 13680: Fix optional internet tests.

archive/issues_013680.json:
```json
{
    "body": "Assignee: mvngu\n\nUntested = broken.\n\n\n```\n\tsage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py # 2 doctests failed\n\tsage -t --only_optional=internet devel/sage/sage/combinat/words/paths.py # 1 doctests failed\n\tsage -t --only_optional=internet devel/sage/sage/misc/preparser.py # 1 doctests failed\n\tsage -t --only_optional=internet devel/sage/sage/interfaces/r.py # 1 doctests failed\n\tsage -t --only_optional=internet devel/sage/sage/finance/stock.py # 11 doctests failed\n\tsage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/13884\n\n",
    "created_at": "2012-12-29T23:03:34Z",
    "labels": [
        "doctest coverage",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.2",
    "title": "Fix optional internet tests.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13680",
    "user": "robertwb"
}
```
Assignee: mvngu

Untested = broken.


```
	sage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py # 2 doctests failed
	sage -t --only_optional=internet devel/sage/sage/combinat/words/paths.py # 1 doctests failed
	sage -t --only_optional=internet devel/sage/sage/misc/preparser.py # 1 doctests failed
	sage -t --only_optional=internet devel/sage/sage/interfaces/r.py # 1 doctests failed
	sage -t --only_optional=internet devel/sage/sage/finance/stock.py # 11 doctests failed
	sage -t --only_optional=internet devel/sage/sage/databases/sloane.py # 8 doctests failed
```


Issue created by migration from https://trac.sagemath.org/ticket/13884





---

archive/issue_comments_169536.json:
```json
{
    "body": "So this doesn't happen again, re-enable these via #13540.",
    "created_at": "2012-12-30T00:29:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169536",
    "user": "robertwb"
}
```

So this doesn't happen again, re-enable these via #13540.



---

archive/issue_comments_169537.json:
```json
{
    "body": "\n```\nsage -t --only_optional=internet devel/sage/sage/interfaces/r.py\n```\n\nJust for clarification, this one is broken, but not because of the internet, and has been for a while.  This was originally noticed (and fixed) by Minh while reviewing #7771 in [attachment:trac_7771-reviewer.patch:ticket:7771 this patch].  It wasn't clear how to proceed, as you can see by reading the comments there.",
    "created_at": "2013-01-03T17:49:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169537",
    "user": "kcrisman"
}
```


```
sage -t --only_optional=internet devel/sage/sage/interfaces/r.py
```

Just for clarification, this one is broken, but not because of the internet, and has been for a while.  This was originally noticed (and fixed) by Minh while reviewing #7771 in [attachment:trac_7771-reviewer.patch:ticket:7771 this patch].  It wasn't clear how to proceed, as you can see by reading the comments there.



---

archive/issue_comments_169538.json:
```json
{
    "body": "Haha!  And the first one is not really a problem, just a logic issue.\n\n```\nsage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py\n    sage: f.integrate(algorithm=\"mathematica_free\")       # optional -- requires internet\nExpected:\n    sqrt(pi)*sqrt(1/2)*fresnels(sqrt(2)*x/sqrt(pi)) + y^z*x\nGot:\n    doctest:674: DeprecationWarning: Variable of integration should be specified explicitly.\n    See http://trac.sagemath.org/12438 for details.\n    sqrt(pi)*sqrt(1/2)*fresnels(sqrt(2)*x/sqrt(pi)) + y^z*x\n**********************************************************************\nExpected:\n    doctest:...: DeprecationWarning:\n    Variable of integration should be specified explicitly.\n    See http://trac.sagemath.org/12438 for details.\n    1/2*x^2\nGot:\n    1/2*x^2\n```\n\nWhat happens is that when the test is done, the deprecation warning, which **only occurs once**, occurs with the internet test.  This is a two-character fix.  I'll try to see if I can fix any others along with it.",
    "created_at": "2013-01-03T17:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169538",
    "user": "kcrisman"
}
```

Haha!  And the first one is not really a problem, just a logic issue.

```
sage -t --only_optional=internet devel/sage/sage/symbolic/integration/integral.py
    sage: f.integrate(algorithm="mathematica_free")       # optional -- requires internet
Expected:
    sqrt(pi)*sqrt(1/2)*fresnels(sqrt(2)*x/sqrt(pi)) + y^z*x
Got:
    doctest:674: DeprecationWarning: Variable of integration should be specified explicitly.
    See http://trac.sagemath.org/12438 for details.
    sqrt(pi)*sqrt(1/2)*fresnels(sqrt(2)*x/sqrt(pi)) + y^z*x
**********************************************************************
Expected:
    doctest:...: DeprecationWarning:
    Variable of integration should be specified explicitly.
    See http://trac.sagemath.org/12438 for details.
    1/2*x^2
Got:
    1/2*x^2
```

What happens is that when the test is done, the deprecation warning, which **only occurs once**, occurs with the internet test.  This is a two-character fix.  I'll try to see if I can fix any others along with it.



---

archive/issue_comments_169539.json:
```json
{
    "body": "Next:  Considering that William at some point changed the file in this test\n\n```\n    sage: sage.misc.preparser.load('http://wstein.org/loadtest.py', globals())  # optional - internet\nExpected:\n    hi from the net\nGot:\n    hi from the net\n    5\n```\n\nto\n\n```\nprint \"hi from the net\"\n\nprint 2+3      \n```\n\nI think we'll be okay just changing this one too.",
    "created_at": "2013-01-03T17:56:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169539",
    "user": "kcrisman"
}
```

Next:  Considering that William at some point changed the file in this test

```
    sage: sage.misc.preparser.load('http://wstein.org/loadtest.py', globals())  # optional - internet
Expected:
    hi from the net
Got:
    hi from the net
    5
```

to

```
print "hi from the net"

print 2+3      
```

I think we'll be okay just changing this one too.



---

archive/issue_comments_169540.json:
```json
{
    "body": "Just for reference, in general this file (sloane.py) is almost completely undocumented and #10358 is supposed to update with respect to this.  So this is fully known.",
    "created_at": "2013-01-03T18:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169540",
    "user": "kcrisman"
}
```

Just for reference, in general this file (sloane.py) is almost completely undocumented and #10358 is supposed to update with respect to this.  So this is fully known.



---

archive/issue_comments_169541.json:
```json
{
    "body": "The finance errors seem mostly due to a change in how Google uses `startdate`, though at least one of them shouldn't have even worked the first time!\n\n```\n\n    sage: finance.Stock('vmw').google()[:5]   # optional -- internet\nExpected:\n    [\n     28-Nov-07 80.57 88.49 80.57 87.69    7496000,\n     29-Nov-07 90.91 93.20 89.50 90.85    5497600,\n     30-Nov-07 95.39 95.60 89.85 91.37    4750200,\n      3-Dec-07 89.87 96.00 88.70 94.97    4401100,\n      4-Dec-07 92.26 97.10 92.05 95.08    2896600\n    ]\nGot:\n    [\n      5-Jan-12 81.76 82.84 81.52 82.31    2888520,\n      6-Jan-12 82.96 84.33 82.47 83.31    1922781,\n      9-Jan-12 83.45 85.17 82.94 84.95    1841373,\n     10-Jan-12 86.01 86.80 85.10 85.30    1762911,\n     11-Jan-12 85.42 88.20 85.30 87.92    2192664\n    ]\n```\n\nAt least this tells us when William added the finance stuff!",
    "created_at": "2013-01-03T18:10:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169541",
    "user": "kcrisman"
}
```

The finance errors seem mostly due to a change in how Google uses `startdate`, though at least one of them shouldn't have even worked the first time!

```

    sage: finance.Stock('vmw').google()[:5]   # optional -- internet
Expected:
    [
     28-Nov-07 80.57 88.49 80.57 87.69    7496000,
     29-Nov-07 90.91 93.20 89.50 90.85    5497600,
     30-Nov-07 95.39 95.60 89.85 91.37    4750200,
      3-Dec-07 89.87 96.00 88.70 94.97    4401100,
      4-Dec-07 92.26 97.10 92.05 95.08    2896600
    ]
Got:
    [
      5-Jan-12 81.76 82.84 81.52 82.31    2888520,
      6-Jan-12 82.96 84.33 82.47 83.31    1922781,
      9-Jan-12 83.45 85.17 82.94 84.95    1841373,
     10-Jan-12 86.01 86.80 85.10 85.30    1762911,
     11-Jan-12 85.42 88.20 85.30 87.92    2192664
    ]
```

At least this tells us when William added the finance stuff!



---

archive/issue_comments_169542.json:
```json
{
    "body": "And finally, the combinat error is due to the broken `sloane_find` issue.  So this ticket should be quite fixable - hope to have a patch up soon.",
    "created_at": "2013-01-03T18:12:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169542",
    "user": "kcrisman"
}
```

And finally, the combinat error is due to the broken `sloane_find` issue.  So this ticket should be quite fixable - hope to have a patch up soon.



---

archive/issue_comments_169543.json:
```json
{
    "body": "Google now apparently does not return data that is more than a certain number of years old - or at least the interface must have changed?\n\n```\n\nsage: finance.Stock('F').google('Jan+3,+1978', 'Jul+7,+2008')[:1]\n[\n 20-Aug-92 0.00 2.26 2.21 2.24   19202479\n]\nsage: finance.Stock('F').google('Jan+3,+1982', 'Jul+7,+2008')[:1]\n[\n 20-Aug-92 0.00 2.26 2.21 2.24   19202479\n]\n```\n\n\nIn fact, according to [this blog post](http://googlecode.blogspot.com/2011/05/spring-cleaning-for-some-of-our-apis.html), \n> These APIs are now deprecated but have no scheduled shutdown date: ... Finance API ...\nAnd although the data is still there if one uses e.g. a URL [like this](http://www.google.com/finance/historical?q=AAPL&startdate=Jan%201%2C%201990&enddate=Jan%2003%2C%202013&histperiod=daily&start=5790&num=30&ei=Xs_lULgX56nQAe0t) downloading the CSV only gives you so much.  \n\nWhat should we do, oh many Sage devels who are Google employees?  ;-)  I can fix some stuff but don't want to fix more of this if it's going to be gone eventually anyway.",
    "created_at": "2013-01-03T18:42:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169543",
    "user": "kcrisman"
}
```

Google now apparently does not return data that is more than a certain number of years old - or at least the interface must have changed?

```

sage: finance.Stock('F').google('Jan+3,+1978', 'Jul+7,+2008')[:1]
[
 20-Aug-92 0.00 2.26 2.21 2.24   19202479
]
sage: finance.Stock('F').google('Jan+3,+1982', 'Jul+7,+2008')[:1]
[
 20-Aug-92 0.00 2.26 2.21 2.24   19202479
]
```


In fact, according to [this blog post](http://googlecode.blogspot.com/2011/05/spring-cleaning-for-some-of-our-apis.html), 
> These APIs are now deprecated but have no scheduled shutdown date: ... Finance API ...
And although the data is still there if one uses e.g. a URL [like this](http://www.google.com/finance/historical?q=AAPL&startdate=Jan%201%2C%201990&enddate=Jan%2003%2C%202013&histperiod=daily&start=5790&num=30&ei=Xs_lULgX56nQAe0t) downloading the CSV only gives you so much.  

What should we do, oh many Sage devels who are Google employees?  ;-)  I can fix some stuff but don't want to fix more of this if it's going to be gone eventually anyway.



---

archive/issue_comments_169544.json:
```json
{
    "body": "Okay, the following patch fixes everything not from #10358, #7771, and the change in the CSV files that the Google Finance API produces.  (Note that Apple must have had a 4-1 stock split at some point as well.) In some cases I could circumvent the latter when the point wasn't testing historical data, but there are still two failures.\n\n```\n\nsage -t --only_optional=internet \"devel/sage/sage/finance/stock.py\"\n**********************************************************************\n    sage: finance.Stock('F').google('Jan+3,+1978', 'Jul+7,+2008')[:5] # optional -- internet\nExpected:\n    [\n      3-Jan-78 0.00 1.93 1.89 1.89    1618200,\n      4-Jan-78 0.00 1.89 1.87 1.88    2482700,\n      5-Jan-78 0.00 1.89 1.84 1.84    2994900,\n      6-Jan-78 0.00 1.84 1.82 1.83    3042500,\n      9-Jan-78 0.00 1.81 1.79 1.81    3916400\n    ]\nGot:\n    [\n     20-Aug-92 0.00 2.26 2.21 2.24   19202479,\n     21-Aug-92 0.00 2.27 2.19 2.20   18689616,\n     24-Aug-92 0.00 2.17 2.10 2.10   38652825,\n     25-Aug-92 0.00 2.19 2.11 2.18   31028049,\n     26-Aug-92 0.00 2.21 2.18 2.20   22539411\n    ]\n**********************************************************************\n    sage: sage.finance.stock.Stock(\"AAPL\", 22144).google(startdate='Jan+1,+1990')[:5] #optional -- internet\nExpected:\n    [\n      2-Jan-90 0.00 9.38 8.75 9.31    6542800,\n      3-Jan-90 0.00 9.50 9.38 9.38    7428400,\n      4-Jan-90 0.00 9.69 9.31 9.41    7911200,\n      5-Jan-90 0.00 9.56 9.25 9.44    4404000,\n      8-Jan-90 0.00 9.50 9.25 9.50    3627600\n    ]\nGot:\n    [\n     28-Feb-97 0.00 1.05 1.02 1.02   17411200,\n      3-Mar-97 0.00 1.03 1.00 1.01   18636800,\n      4-Mar-97 0.00 1.03 1.00 1.03   14745600,\n      5-Mar-97 0.00 1.06 1.03 1.06   13737600,\n      6-Mar-97 0.00 1.06 1.03 1.04   16612800\n    ]\n**********************************************************************\n```\n\nI don't know if these are fixable.",
    "created_at": "2013-01-03T19:16:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169544",
    "user": "kcrisman"
}
```

Okay, the following patch fixes everything not from #10358, #7771, and the change in the CSV files that the Google Finance API produces.  (Note that Apple must have had a 4-1 stock split at some point as well.) In some cases I could circumvent the latter when the point wasn't testing historical data, but there are still two failures.

```

sage -t --only_optional=internet "devel/sage/sage/finance/stock.py"
**********************************************************************
    sage: finance.Stock('F').google('Jan+3,+1978', 'Jul+7,+2008')[:5] # optional -- internet
Expected:
    [
      3-Jan-78 0.00 1.93 1.89 1.89    1618200,
      4-Jan-78 0.00 1.89 1.87 1.88    2482700,
      5-Jan-78 0.00 1.89 1.84 1.84    2994900,
      6-Jan-78 0.00 1.84 1.82 1.83    3042500,
      9-Jan-78 0.00 1.81 1.79 1.81    3916400
    ]
Got:
    [
     20-Aug-92 0.00 2.26 2.21 2.24   19202479,
     21-Aug-92 0.00 2.27 2.19 2.20   18689616,
     24-Aug-92 0.00 2.17 2.10 2.10   38652825,
     25-Aug-92 0.00 2.19 2.11 2.18   31028049,
     26-Aug-92 0.00 2.21 2.18 2.20   22539411
    ]
**********************************************************************
    sage: sage.finance.stock.Stock("AAPL", 22144).google(startdate='Jan+1,+1990')[:5] #optional -- internet
Expected:
    [
      2-Jan-90 0.00 9.38 8.75 9.31    6542800,
      3-Jan-90 0.00 9.50 9.38 9.38    7428400,
      4-Jan-90 0.00 9.69 9.31 9.41    7911200,
      5-Jan-90 0.00 9.56 9.25 9.44    4404000,
      8-Jan-90 0.00 9.50 9.25 9.50    3627600
    ]
Got:
    [
     28-Feb-97 0.00 1.05 1.02 1.02   17411200,
      3-Mar-97 0.00 1.03 1.00 1.01   18636800,
      4-Mar-97 0.00 1.03 1.00 1.03   14745600,
      5-Mar-97 0.00 1.06 1.03 1.06   13737600,
      6-Mar-97 0.00 1.06 1.03 1.04   16612800
    ]
**********************************************************************
```

I don't know if these are fixable.



---

archive/issue_comments_169545.json:
```json
{
    "body": "Attachment [trac_13884.patch](tarball://root/attachments/some-uuid/ticket13884/trac_13884.patch) by kcrisman created at 2013-01-03 19:20:30\n\nPatchbot, apply trac_13884.patch\n\nI'd appreciate feedback; however, the easiest to me seems to be to review this and then open a new ticket to fix the Google finance interface csv download issue - if that is even possible.",
    "created_at": "2013-01-03T19:20:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169545",
    "user": "kcrisman"
}
```

Attachment [trac_13884.patch](tarball://root/attachments/some-uuid/ticket13884/trac_13884.patch) by kcrisman created at 2013-01-03 19:20:30

Patchbot, apply trac_13884.patch

I'd appreciate feedback; however, the easiest to me seems to be to review this and then open a new ticket to fix the Google finance interface csv download issue - if that is even possible.



---

archive/issue_comments_169546.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-01-03T19:20:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169546",
    "user": "kcrisman"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_169547.json:
```json
{
    "body": "Okay, in the meantime the Google stuff has changed yet again (???), and we get the following bizarre error:\n\n```\nFile \"sage/symbolic/integration/integral.py\", line 466, in sage.symbolic.integration.integral.integrate\nFailed example:\n    f.integrate(algorithm=\"mathematica_free\")       # optional - internet\n    NameError: name 'f' is not defined\n**********************************************************************\n```\n\nThis one baffles me; even doing `f.integrate(x)` with no algorithm or anything still fails.  Doing this by hand usually works - I think there is some potential for timeouts.  But it consistently fails with this in doctesting.  So I'm giving up on this patch for now, unless someone has some other bright ideas.",
    "created_at": "2013-06-14T15:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169547",
    "user": "kcrisman"
}
```

Okay, in the meantime the Google stuff has changed yet again (???), and we get the following bizarre error:

```
File "sage/symbolic/integration/integral.py", line 466, in sage.symbolic.integration.integral.integrate
Failed example:
    f.integrate(algorithm="mathematica_free")       # optional - internet
    NameError: name 'f' is not defined
**********************************************************************
```

This one baffles me; even doing `f.integrate(x)` with no algorithm or anything still fails.  Doing this by hand usually works - I think there is some potential for timeouts.  But it consistently fails with this in doctesting.  So I'm giving up on this patch for now, unless someone has some other bright ideas.



---

archive/issue_comments_169548.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-06-14T15:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169548",
    "user": "kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_169549.json:
```json
{
    "body": "Attachment [trac_13884_addon1.patch](tarball://root/attachments/some-uuid/ticket13884/trac_13884_addon1.patch) by chapoton created at 2013-09-01 15:40:59\n\nI think this solves the problem in the integral file.",
    "created_at": "2013-09-01T15:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169549",
    "user": "chapoton"
}
```

Attachment [trac_13884_addon1.patch](tarball://root/attachments/some-uuid/ticket13884/trac_13884_addon1.patch) by chapoton created at 2013-09-01 15:40:59

I think this solves the problem in the integral file.



---

archive/issue_comments_169550.json:
```json
{
    "body": "The add-on patch is good. I'm not sure why that should make a difference, but it did.\n\nI'm tempted to have us just add the preparser test to the integral one and then open a new ticket for stock.py, which clearly isn't functioning properly in any case (not just a problem of changed values any more).  Frederic, do you want to create a patch like that?",
    "created_at": "2013-09-02T13:14:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169550",
    "user": "kcrisman"
}
```

The add-on patch is good. I'm not sure why that should make a difference, but it did.

I'm tempted to have us just add the preparser test to the integral one and then open a new ticket for stock.py, which clearly isn't functioning properly in any case (not just a problem of changed values any more).  Frederic, do you want to create a patch like that?



---

archive/issue_comments_169551.json:
```json
{
    "body": "A partial fix is better than no fix at all, IMHO.",
    "created_at": "2014-01-04T04:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169551",
    "user": "vbraun"
}
```

A partial fix is better than no fix at all, IMHO.



---

archive/issue_comments_169552.json:
```json
{
    "body": "I agree, no need to fix all of them before any of them go in.",
    "created_at": "2014-01-04T05:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169552",
    "user": "robertwb"
}
```

I agree, no need to fix all of them before any of them go in.



---

archive/issue_comments_169553.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-01-04T10:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169553",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_169554.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-01-04T10:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169554",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_169555.json:
```json
{
    "body": "What test command do you use? With `--optional=internet` I get:\n\n```\nsage -t src/sage/finance/stock.py  # 11 doctests failed\nsage -t src/sage/symbolic/integration/external.py  # 1 doctest failed\n```\n",
    "created_at": "2014-04-05T08:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169555",
    "user": "rws"
}
```

What test command do you use? With `--optional=internet` I get:

```
sage -t src/sage/finance/stock.py  # 11 doctests failed
sage -t src/sage/symbolic/integration/external.py  # 1 doctest failed
```




---

archive/issue_comments_169556.json:
```json
{
    "body": "Sounds good to me; somebody interested in finance can take up the stock.py failures.",
    "created_at": "2014-04-05T10:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169556",
    "user": "vbraun"
}
```

Sounds good to me; somebody interested in finance can take up the stock.py failures.



---

archive/issue_comments_169557.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-04-05T10:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169557",
    "user": "vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_169558.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-04-06T20:49:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13680",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13680#issuecomment-169558",
    "user": "vbraun"
}
```

Resolution: fixed
