# Issue 17916: Handle conversion to infinity and int in libgap

Issue created by migration from https://trac.sagemath.org/ticket/18153

Original creator: vdelecroix

Original creation time: 2015-04-09 22:22:25

CC:  vbraun

We just add support to the following

```
sage: int(libgap(3))
3
sage: libgap.eval('infinity').sage()
+Infinity
```



---

Comment by vdelecroix created at 2015-04-09 22:24:31

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2015-04-09 22:24:31

New commits:


---

Comment by vbraun created at 2015-04-10 00:33:29

DRY: `__int__` is just `self.sage(ring=int)`.

There is also `IsNegInfinity` for negative infinity...


---

Comment by git created at 2015-04-10 04:43:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vbraun created at 2015-04-10 08:58:40

How about also adding the other way, libgap(oo) should do the right thing.... e.g. by adding a `_libgap_` method to `sage.rings.infinity.PlusInfinity`. Then you could also clean up the docstrings, the raw `libgap.eval` isn't what you would want to show to users.


---

Comment by git created at 2015-04-10 09:09:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-04-10 09:09:54

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2015-04-10 09:10:27

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2015-04-10 09:11:55

Replying to [comment:6 vbraun]:
> How about also adding the other way, libgap(oo) should do the right thing.... e.g. by adding a `_libgap_` method to `sage.rings.infinity.PlusInfinity`. Then you could also clean up the docstrings, the raw `libgap.eval` isn't what you would want to show to users.

Right! I did implement a `_gap_init_` method. That way even the gap interface gets some benefit in it.

Vincent


---

Comment by vbraun created at 2015-04-10 10:25:35

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-04-10 10:25:35

Thanks, lgtm!


---

Comment by vdelecroix created at 2015-04-10 10:32:23

Thanks for the review.


---

Comment by vbraun created at 2015-04-14 19:42:59

Resolution: fixed
