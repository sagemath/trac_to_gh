# Issue 22784: Implement Essential quasisymmetric functions

Issue created by migration from https://trac.sagemath.org/ticket/23021

Original creator: tscrim

Original creation time: 2017-05-18 02:38:54

CC:  sage-combinat darij zabrocki saliola

The Essential quasisymmetric functions E<sub>I</sub> are defined by summing over M<sub>J</sub> of all possible coarsenings J of I.


---

Comment by tscrim created at 2017-05-18 02:41:14

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-05-18 02:41:14

New commits:


---

Comment by tscrim created at 2017-05-18 02:44:18

Experimentally, up to (-1)<sup>n-L</sup> with L being the length of the composition of n, the Essentials QSyms are dual to the Elementary NSCFs.

Addendum - Is this known?


---

Comment by git created at 2017-05-18 03:14:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by darij created at 2017-05-18 11:54:54

I don't have a reasonably recent sage install right now and can't ssh to my UMN machine, so I'm just commenting on what I see:

* From the definitions, we should have `(-1)**(len(I)) * E[I] == M[I].star_involution().antipode()` for all compositions `I`. Could you doctest this for, say, `I in Compositions(k) for k in [3,4]`?

* Also, doctesting both E2M and M2E conversions would be good.

* The documentation of `product_on_basis` incorrectly defines the `L` in `(-1)^L`. It should be the length of the composition minus the sum of the lengths of the compositions multiplied.

Other than this, assuminag that the extended doctests pass, this LGTM!


---

Comment by git created at 2017-05-18 13:45:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by darij created at 2017-05-18 13:48:46

Changing keywords from "" to "QSym, symmetric functions, sage-combinat".


---

Comment by darij created at 2017-05-18 13:48:46

Perfect!


---

Comment by darij created at 2017-05-18 13:48:46

Changing status from needs_review to positive_review.


---

Comment by darij created at 2017-05-18 13:49:01

New commits:


---

Comment by tscrim created at 2017-05-18 13:49:35

Changing status from positive_review to needs_work.


---

Comment by tscrim created at 2017-05-18 13:49:35

One doctest failing in `tutorial.py`. One second more.


---

Comment by darij created at 2017-05-18 13:49:42

Sorry for the branch in-and-out; my Chrome autofilled the branch field with the word "Cambridge" (for some reason, it thought it would be a branch of a bank or something?).


---

Comment by git created at 2017-05-18 13:51:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by zabrocki created at 2017-05-18 13:52:25

give me some time to compile the documentation and see that everything looks right.
----
New commits:


---

Comment by tscrim created at 2017-05-18 13:53:56

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2017-05-18 13:53:56

Fixed the doctest.

Thank you both.


---

Comment by chapoton created at 2017-05-18 18:46:04

maybe one `quasisymmetric` should be `quasi-symmetric` ?


---

Comment by git created at 2017-05-18 19:12:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-05-18 19:13:38

Replying to [comment:13 chapoton]:
> maybe one `quasisymmetric` should be `quasi-symmetric` ?

I agree and changed. (The file itself is fairly inconsistent and is something that should be corrected at some point...)


---

Comment by zabrocki created at 2017-05-19 11:09:41

Changing status from needs_review to positive_review.


---

Comment by zabrocki created at 2017-05-19 11:09:41

I got it to compile and I'm happy with the way the documentation looks.  All tests pass.


---

Comment by tscrim created at 2017-05-19 15:29:24

Thank you!


---

Comment by vbraun created at 2017-05-20 21:57:16

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2017-05-20 21:57:16

Test fail


---

Comment by git created at 2017-05-20 23:42:53

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-05-20 23:47:15

Trivial doctest fix in `categories/sets_cat.py`.


---

Comment by tscrim created at 2017-05-20 23:47:15

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2017-05-21 21:51:50

Resolution: fixed
