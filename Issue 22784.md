# Issue 22784: Implement Essential quasisymmetric functions

archive/issues_022784.json:
```json
{
    "body": "CC:  sage-combinat @darijgr @zabrocki @saliola\n\nThe Essential quasisymmetric functions E<sub>I</sub> are defined by summing over M<sub>J</sub> of all possible coarsenings J of I.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23021\n\n",
    "created_at": "2017-05-18T02:38:54Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Implement Essential quasisymmetric functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22784",
    "user": "@tscrim"
}
```
CC:  sage-combinat @darijgr @zabrocki @saliola

The Essential quasisymmetric functions E<sub>I</sub> are defined by summing over M<sub>J</sub> of all possible coarsenings J of I.

Issue created by migration from https://trac.sagemath.org/ticket/23021





---

archive/issue_comments_318384.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-18T02:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318384",
    "user": "@tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_318385.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-05-18T02:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318385",
    "user": "@tscrim"
}
```

New commits:



---

archive/issue_comments_318386.json:
```json
{
    "body": "Experimentally, up to (-1)<sup>n-L</sup> with L being the length of the composition of n, the Essentials QSyms are dual to the Elementary NSCFs.\n\nAddendum - Is this known?",
    "created_at": "2017-05-18T02:44:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318386",
    "user": "@tscrim"
}
```

Experimentally, up to (-1)<sup>n-L</sup> with L being the length of the composition of n, the Essentials QSyms are dual to the Elementary NSCFs.

Addendum - Is this known?



---

archive/issue_comments_318387.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-18T03:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318387",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318388.json:
```json
{
    "body": "I don't have a reasonably recent sage install right now and can't ssh to my UMN machine, so I'm just commenting on what I see:\n\n* From the definitions, we should have `(-1)**(len(I)) * E[I] == M[I].star_involution().antipode()` for all compositions `I`. Could you doctest this for, say, `I in Compositions(k) for k in [3,4]`?\n\n* Also, doctesting both E2M and M2E conversions would be good.\n\n* The documentation of `product_on_basis` incorrectly defines the `L` in `(-1)^L`. It should be the length of the composition minus the sum of the lengths of the compositions multiplied.\n\nOther than this, assuminag that the extended doctests pass, this LGTM!",
    "created_at": "2017-05-18T11:54:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318388",
    "user": "@darijgr"
}
```

I don't have a reasonably recent sage install right now and can't ssh to my UMN machine, so I'm just commenting on what I see:

* From the definitions, we should have `(-1)**(len(I)) * E[I] == M[I].star_involution().antipode()` for all compositions `I`. Could you doctest this for, say, `I in Compositions(k) for k in [3,4]`?

* Also, doctesting both E2M and M2E conversions would be good.

* The documentation of `product_on_basis` incorrectly defines the `L` in `(-1)^L`. It should be the length of the composition minus the sum of the lengths of the compositions multiplied.

Other than this, assuminag that the extended doctests pass, this LGTM!



---

archive/issue_comments_318389.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-18T13:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318389",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318390.json:
```json
{
    "body": "Changing keywords from \"\" to \"QSym, symmetric functions, sage-combinat\".",
    "created_at": "2017-05-18T13:48:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318390",
    "user": "@darijgr"
}
```

Changing keywords from "" to "QSym, symmetric functions, sage-combinat".



---

archive/issue_comments_318391.json:
```json
{
    "body": "Perfect!",
    "created_at": "2017-05-18T13:48:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318391",
    "user": "@darijgr"
}
```

Perfect!



---

archive/issue_comments_318392.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-18T13:48:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318392",
    "user": "@darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_318393.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-05-18T13:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318393",
    "user": "@darijgr"
}
```

New commits:



---

archive/issue_comments_318394.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-05-18T13:49:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318394",
    "user": "@tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_318395.json:
```json
{
    "body": "One doctest failing in `tutorial.py`. One second more.",
    "created_at": "2017-05-18T13:49:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318395",
    "user": "@tscrim"
}
```

One doctest failing in `tutorial.py`. One second more.



---

archive/issue_comments_318396.json:
```json
{
    "body": "Sorry for the branch in-and-out; my Chrome autofilled the branch field with the word \"Cambridge\" (for some reason, it thought it would be a branch of a bank or something?).",
    "created_at": "2017-05-18T13:49:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318396",
    "user": "@darijgr"
}
```

Sorry for the branch in-and-out; my Chrome autofilled the branch field with the word "Cambridge" (for some reason, it thought it would be a branch of a bank or something?).



---

archive/issue_comments_318397.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-18T13:51:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318397",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318398.json:
```json
{
    "body": "give me some time to compile the documentation and see that everything looks right.\n----\nNew commits:",
    "created_at": "2017-05-18T13:52:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318398",
    "user": "@zabrocki"
}
```

give me some time to compile the documentation and see that everything looks right.
----
New commits:



---

archive/issue_comments_318399.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-05-18T13:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318399",
    "user": "@tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_318400.json:
```json
{
    "body": "Fixed the doctest.\n\nThank you both.",
    "created_at": "2017-05-18T13:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318400",
    "user": "@tscrim"
}
```

Fixed the doctest.

Thank you both.



---

archive/issue_comments_318401.json:
```json
{
    "body": "maybe one `quasisymmetric` should be `quasi-symmetric` ?",
    "created_at": "2017-05-18T18:46:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318401",
    "user": "@fchapoton"
}
```

maybe one `quasisymmetric` should be `quasi-symmetric` ?



---

archive/issue_comments_318402.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-18T19:12:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318402",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318403.json:
```json
{
    "body": "Replying to [comment:13 chapoton]:\n> maybe one `quasisymmetric` should be `quasi-symmetric` ?\n\nI agree and changed. (The file itself is fairly inconsistent and is something that should be corrected at some point...)",
    "created_at": "2017-05-18T19:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318403",
    "user": "@tscrim"
}
```

Replying to [comment:13 chapoton]:
> maybe one `quasisymmetric` should be `quasi-symmetric` ?

I agree and changed. (The file itself is fairly inconsistent and is something that should be corrected at some point...)



---

archive/issue_comments_318404.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-19T11:09:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318404",
    "user": "@zabrocki"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_318405.json:
```json
{
    "body": "I got it to compile and I'm happy with the way the documentation looks.  All tests pass.",
    "created_at": "2017-05-19T11:09:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318405",
    "user": "@zabrocki"
}
```

I got it to compile and I'm happy with the way the documentation looks.  All tests pass.



---

archive/issue_comments_318406.json:
```json
{
    "body": "Thank you!",
    "created_at": "2017-05-19T15:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318406",
    "user": "@tscrim"
}
```

Thank you!



---

archive/issue_comments_318407.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-05-20T21:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318407",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_318408.json:
```json
{
    "body": "Test fail",
    "created_at": "2017-05-20T21:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318408",
    "user": "@vbraun"
}
```

Test fail



---

archive/issue_comments_318409.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-20T23:42:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318409",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318410.json:
```json
{
    "body": "Trivial doctest fix in `categories/sets_cat.py`.",
    "created_at": "2017-05-20T23:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318410",
    "user": "@tscrim"
}
```

Trivial doctest fix in `categories/sets_cat.py`.



---

archive/issue_comments_318411.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-05-20T23:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318411",
    "user": "@tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_318412.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-21T21:51:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318412",
    "user": "@vbraun"
}
```

Resolution: fixed
