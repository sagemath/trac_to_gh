# Issue 22784: Implement Essential quasisymmetric functions

archive/issues_022784.json:
```json
{
    "body": "CC:  sage-combinat @darijgr @zabrocki @saliola\n\nThe Essential quasisymmetric functions E<sub>I</sub> are defined by summing over M<sub>J</sub> of all possible coarsenings J of I.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23021\n\n",
    "created_at": "2017-05-18T02:38:54Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Implement Essential quasisymmetric functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22784",
    "user": "https://github.com/tscrim"
}
```
CC:  sage-combinat @darijgr @zabrocki @saliola

The Essential quasisymmetric functions E<sub>I</sub> are defined by summing over M<sub>J</sub> of all possible coarsenings J of I.

Issue created by migration from https://trac.sagemath.org/ticket/23021





---

archive/issue_comments_318031.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-18T02:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318031",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_318032.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-05-18T02:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318032",
    "user": "https://github.com/tscrim"
}
```

New commits:



---

archive/issue_comments_318033.json:
```json
{
    "body": "Experimentally, up to (-1)<sup>n-L</sup> with L being the length of the composition of n, the Essentials QSyms are dual to the Elementary NSCFs.\n\nAddendum - Is this known?",
    "created_at": "2017-05-18T02:44:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318033",
    "user": "https://github.com/tscrim"
}
```

Experimentally, up to (-1)<sup>n-L</sup> with L being the length of the composition of n, the Essentials QSyms are dual to the Elementary NSCFs.

Addendum - Is this known?



---

archive/issue_comments_318034.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-18T03:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318034",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318035.json:
```json
{
    "body": "I don't have a reasonably recent sage install right now and can't ssh to my UMN machine, so I'm just commenting on what I see:\n\n* From the definitions, we should have `(-1)**(len(I)) * E[I] == M[I].star_involution().antipode()` for all compositions `I`. Could you doctest this for, say, `I in Compositions(k) for k in [3,4]`?\n\n* Also, doctesting both E2M and M2E conversions would be good.\n\n* The documentation of `product_on_basis` incorrectly defines the `L` in `(-1)^L`. It should be the length of the composition minus the sum of the lengths of the compositions multiplied.\n\nOther than this, assuminag that the extended doctests pass, this LGTM!",
    "created_at": "2017-05-18T11:54:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318035",
    "user": "https://github.com/darijgr"
}
```

I don't have a reasonably recent sage install right now and can't ssh to my UMN machine, so I'm just commenting on what I see:

* From the definitions, we should have `(-1)**(len(I)) * E[I] == M[I].star_involution().antipode()` for all compositions `I`. Could you doctest this for, say, `I in Compositions(k) for k in [3,4]`?

* Also, doctesting both E2M and M2E conversions would be good.

* The documentation of `product_on_basis` incorrectly defines the `L` in `(-1)^L`. It should be the length of the composition minus the sum of the lengths of the compositions multiplied.

Other than this, assuminag that the extended doctests pass, this LGTM!



---

archive/issue_comments_318036.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-18T13:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318037.json:
```json
{
    "body": "Changing keywords from \"\" to \"QSym, symmetric functions, sage-combinat\".",
    "created_at": "2017-05-18T13:48:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318037",
    "user": "https://github.com/darijgr"
}
```

Changing keywords from "" to "QSym, symmetric functions, sage-combinat".



---

archive/issue_comments_318038.json:
```json
{
    "body": "Perfect!",
    "created_at": "2017-05-18T13:48:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318038",
    "user": "https://github.com/darijgr"
}
```

Perfect!



---

archive/issue_comments_318039.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-18T13:48:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318039",
    "user": "https://github.com/darijgr"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_318040.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-05-18T13:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318040",
    "user": "https://github.com/darijgr"
}
```

New commits:



---

archive/issue_comments_318041.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-05-18T13:49:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318041",
    "user": "https://github.com/tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_318042.json:
```json
{
    "body": "One doctest failing in `tutorial.py`. One second more.",
    "created_at": "2017-05-18T13:49:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318042",
    "user": "https://github.com/tscrim"
}
```

One doctest failing in `tutorial.py`. One second more.



---

archive/issue_comments_318043.json:
```json
{
    "body": "Sorry for the branch in-and-out; my Chrome autofilled the branch field with the word \"Cambridge\" (for some reason, it thought it would be a branch of a bank or something?).",
    "created_at": "2017-05-18T13:49:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318043",
    "user": "https://github.com/darijgr"
}
```

Sorry for the branch in-and-out; my Chrome autofilled the branch field with the word "Cambridge" (for some reason, it thought it would be a branch of a bank or something?).



---

archive/issue_comments_318044.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-18T13:51:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318044",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318045.json:
```json
{
    "body": "give me some time to compile the documentation and see that everything looks right.\n----\nNew commits:",
    "created_at": "2017-05-18T13:52:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318045",
    "user": "https://github.com/zabrocki"
}
```

give me some time to compile the documentation and see that everything looks right.
----
New commits:



---

archive/issue_comments_318046.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-05-18T13:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318046",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_318047.json:
```json
{
    "body": "Fixed the doctest.\n\nThank you both.",
    "created_at": "2017-05-18T13:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318047",
    "user": "https://github.com/tscrim"
}
```

Fixed the doctest.

Thank you both.



---

archive/issue_comments_318048.json:
```json
{
    "body": "maybe one `quasisymmetric` should be `quasi-symmetric` ?",
    "created_at": "2017-05-18T18:46:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318048",
    "user": "https://github.com/fchapoton"
}
```

maybe one `quasisymmetric` should be `quasi-symmetric` ?



---

archive/issue_comments_318049.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-18T19:12:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318050.json:
```json
{
    "body": "Replying to [comment:13 chapoton]:\n> maybe one `quasisymmetric` should be `quasi-symmetric` ?\n\nI agree and changed. (The file itself is fairly inconsistent and is something that should be corrected at some point...)",
    "created_at": "2017-05-18T19:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318050",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:13 chapoton]:
> maybe one `quasisymmetric` should be `quasi-symmetric` ?

I agree and changed. (The file itself is fairly inconsistent and is something that should be corrected at some point...)



---

archive/issue_comments_318051.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-19T11:09:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318051",
    "user": "https://github.com/zabrocki"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_318052.json:
```json
{
    "body": "I got it to compile and I'm happy with the way the documentation looks.  All tests pass.",
    "created_at": "2017-05-19T11:09:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318052",
    "user": "https://github.com/zabrocki"
}
```

I got it to compile and I'm happy with the way the documentation looks.  All tests pass.



---

archive/issue_comments_318053.json:
```json
{
    "body": "Thank you!",
    "created_at": "2017-05-19T15:29:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318053",
    "user": "https://github.com/tscrim"
}
```

Thank you!



---

archive/issue_comments_318054.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-05-20T21:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318054",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_318055.json:
```json
{
    "body": "Test fail",
    "created_at": "2017-05-20T21:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318055",
    "user": "https://github.com/vbraun"
}
```

Test fail



---

archive/issue_comments_318056.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-20T23:42:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318056",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_318057.json:
```json
{
    "body": "Trivial doctest fix in `categories/sets_cat.py`.",
    "created_at": "2017-05-20T23:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318057",
    "user": "https://github.com/tscrim"
}
```

Trivial doctest fix in `categories/sets_cat.py`.



---

archive/issue_comments_318058.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-05-20T23:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318058",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_318059.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-21T21:51:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22784#issuecomment-318059",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_021414.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2017-05-21T21:51:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22784",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22784#event-21414"
}
```
