# Issue 21649: sage --gdb not working

Issue created by migration from Trac.

Original creator: rws

Original creation time: 2016-11-17 15:11:32


```
ralf`@`ark:~/sage> ./sage --gdb
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 7.5.beta2, Release Date: 2016-11-09               │
│ Type "notebook()" for the browser-based notebook interface.        │
│ Type "help()" for help.                                            │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
Usage: cygdb [options] [PATH [-- GDB_ARGUMENTS]].
No debug files were found in /home/ralf/sage/src/build. Aborting.
```

This is with gdb package installed, and Sage compiled with `SAGE_INTERNAL_GCC=yes`. I also reinstalled Cython with `SAGE_DEBUG=yes`.


---

Comment by rws created at 2016-11-17 15:26:15

It works if I explicitly set `SAGE_DEBUG=no`. I think my problem was that here

```
    if [ "$SAGE_DEBUG" = "no" ]; then
        gdb -x "$SAGE_LOCAL/bin/sage-gdb-commands" \
            -args python "$SAGE_LOCAL/bin/sage-ipython" "$`@`" -i
    else
        cygdb "$SAGE_SRC/build" "$SAGE_SRC/sage" \
            -- -x "$SAGE_LOCAL/bin/sage-gdb-commands" \
            -args python "$SAGE_LOCAL/bin/sage-ipython" "$`@`" -i
    fi
```

is checked for "no" instead of not "yes".

(EDIT) That leaves the issue of cygdb. I adapt the ticket heading.


---

Comment by jdemeyer created at 2016-11-19 17:40:38

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2016-11-19 17:40:38

New commits:


---

Comment by rws created at 2016-11-20 09:06:40

Thanks, it works now.


---

Comment by rws created at 2016-11-20 09:06:40

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-11-21 21:56:18

Resolution: fixed
