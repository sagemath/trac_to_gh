# Issue 11453: speed up "remove_faces" for simplicial complexes

Issue created by migration from Trac.

Original creator: jhpalmieri

Original creation time: 2011-07-25 23:24:22

Assignee: jhpalmieri

Keywords: simplicial remove_face

The attached patch, taken from a [discussion on ask.sagemath.org](http://ask.sagemath.org/question/521/why-remove_face-uses-alexander-duality), speeds up `remove_face` for large simplicial complexes.  For smaller ones, it is comparable, perhaps a little slower, but the speed-up for large ones is significant.

Before the patch:

```
sage: S = range(1,8)
sage: timeit('Z = SimplicialComplex(S, [S]); Z.remove_face([1,2,3])')
625 loops, best of 3: 767 µs per loop

sage: timeit('SimplicialComplex(10,[[0,1,2,3,4,5,6],[1,2,3,4,5,6,7],[0,1,2,4,5,6,7],[0,1,2,3,5,6,7],[0,1,2,3,4,5,7]]).remove_face(Simplex([1,2,5]))')
5 loops, best of 3: 42.2 ms per loop
```

After the patch:

```
sage: S = range(1,8)
sage: timeit('Z = SimplicialComplex(S, [S]); Z.remove_face([1,2,3])')
625 loops, best of 3: 835 µs per loop

sage: timeit('SimplicialComplex(10,[[0,1,2,3,4,5,6],[1,2,3,4,5,6,7],[0,1,2,4,5,6,7],[0,1,2,3,5,6,7],[0,1,2,3,4,5,7]]).remove_face2(Simplex([1,2,5]))')
125 loops, best of 3: 1.79 ms per loop
```

The original idea (from ask.sagemath.org) is by "EmersonL", and John Palmieri modified it and wrote the actual patch.




---

Comment by jhpalmieri created at 2011-07-25 23:26:07

Changing status from new to needs_review.


---

Attachment

Looks good to me.


---

Comment by mhansen created at 2012-03-28 21:37:13

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-04-19 06:43:21

Resolution: fixed
