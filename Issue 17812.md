# Issue 17812: Compute class polynomials using PARI

Issue created by migration from https://trac.sagemath.org/ticket/18049

Original creator: jdemeyer

Original creation time: 2015-03-24 22:39:53

PARI can quickly compute class polynomials, we no longer need to rely on `database_kohel` for this.


---

Comment by jdemeyer created at 2015-03-24 23:38:58

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-03-24 23:42:40

New commits:


---

Comment by vdelecroix created at 2015-03-26 21:01:44

I really like the name of your branch ;-)


---

Comment by vdelecroix created at 2015-03-26 21:04:00

Why is the following in commit b20b2b0

```
--- a/build/pkgs/pari/package-version.txt
+++ b/build/pkgs/pari/package-version.txt
@@ -1 +1 @@
-2.8-1369-g0e48e9b
+2.8-1369-g0e48e9b.p0
```



---

Comment by jdemeyer created at 2015-03-26 21:25:28

Replying to [comment:6 vdelecroix]:
> Why is the following in commit b20b2b0
> {{{
> --- a/build/pkgs/pari/package-version.txt
> +++ b/build/pkgs/pari/package-version.txt
> `@``@` -1 +1 `@``@`
> -2.8-1369-g0e48e9b
> +2.8-1369-g0e48e9b.p0
> }}}

To force a rebuild of `auto_gen.pxi`, see [comment:9:ticket:17860]


---

Comment by jdemeyer created at 2015-03-26 21:26:18

Replying to [comment:5 vdelecroix]:
> I really like the name of your branch ;-)
I started out as a branch for #6311, but then I realized that the test didn't need to be optional at all.


---

Comment by vdelecroix created at 2015-03-26 21:36:22

Replying to [comment:7 jdemeyer]:
> Replying to [comment:6 vdelecroix]:
> > Why is the following in commit b20b2b0
> > {{{
> > --- a/build/pkgs/pari/package-version.txt
> > +++ b/build/pkgs/pari/package-version.txt
> > `@``@` -1 +1 `@``@`
> > -2.8-1369-g0e48e9b
> > +2.8-1369-g0e48e9b.p0
> > }}}
> 
> To force a rebuild of `auto_gen.pxi`, see [comment:9:ticket:17860]

Each time we add something to the declaration file of pari or modifiate the generation we should artificially upgrade the package version? Won't this force the build system to download again the pari package? In any case, it forces a useless recompilation of pari...


---

Comment by jdemeyer created at 2015-03-26 21:40:18

Replying to [comment:9 vdelecroix]:
> Each time we add something to the declaration file of pari or modifiate the generation we should artificially upgrade the package version?
Yes. I agree it's far from optimal, but at least it works. I think it can be improved (using a `Makefile` for this is probably the best strategy), but I wouldn't want this issue to block this ticket or #17860.

> Won't this force the build system to download again the pari package?
No.


---

Comment by vdelecroix created at 2015-03-31 14:56:30

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-04-09 12:21:41

Changing status from positive_review to needs_info.


---

Comment by vbraun created at 2015-04-09 12:21:41

You can't depend on a duplicate ticket as I can't merge it... Whats the real dependency, if any?


---

Comment by jdemeyer created at 2015-04-09 12:31:38

Changing status from needs_info to positive_review.


---

Comment by vbraun created at 2015-04-14 19:44:32

Resolution: fixed
