# Issue 18074: Improve radical_basis and cartan_invariants_matrix for a finite dimensional algebra

archive/issues_018074.json:
```json
{
    "body": "CC:  hivert saliola virmaux sage-combinat\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/18311\n\n",
    "created_at": "2015-04-27T10:46:37Z",
    "labels": [
        "algebra",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "Improve radical_basis and cartan_invariants_matrix for a finite dimensional algebra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18074",
    "user": "nthiery"
}
```
CC:  hivert saliola virmaux sage-combinat



Issue created by migration from https://trac.sagemath.org/ticket/18311





---

archive/issue_comments_243537.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2015-04-27T10:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18074",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18074#issuecomment-243537",
    "user": "nthiery"
}
```

Last 10 new commits:



---

archive/issue_comments_243538.json:
```json
{
    "body": "Mainly to cc myself.",
    "created_at": "2015-04-27T17:43:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18074",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18074#issuecomment-243538",
    "user": "tscrim"
}
```

Mainly to cc myself.



---

archive/issue_comments_243539.json:
```json
{
    "body": "Hello,\n\nI just took some time to read the patch.\n\n`FiniteDimensionalAlgebrasWithBasis.multiplication_matrix` the name is not very explicit, what about `basis_action_matrices` ? As well, wether we want sparse matrices or not may be given as an argument?\n\nShould we overwrite the previous method for Cartan invariant matrix from #16659 with this new one ? Indeed the return should be the same and it's much faster! In this case maybe we may want to wait that #16659 is positive_reviewed to avoid merging issues.\n\nEverything else looks good to me (modulo the remaining documentation)\nI can do the aforementioned modifications.",
    "created_at": "2015-04-29T08:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18074",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18074#issuecomment-243539",
    "user": "virmaux"
}
```

Hello,

I just took some time to read the patch.

`FiniteDimensionalAlgebrasWithBasis.multiplication_matrix` the name is not very explicit, what about `basis_action_matrices` ? As well, wether we want sparse matrices or not may be given as an argument?

Should we overwrite the previous method for Cartan invariant matrix from #16659 with this new one ? Indeed the return should be the same and it's much faster! In this case maybe we may want to wait that #16659 is positive_reviewed to avoid merging issues.

Everything else looks good to me (modulo the remaining documentation)
I can do the aforementioned modifications.



---

archive/issue_comments_243540.json:
```json
{
    "body": "Replying to [comment:5 virmaux]:\n> I just took some time to read the patch.\n\nThanks!\n\n> `FiniteDimensionalAlgebrasWithBasis.multiplication_matrix` the name is not very explicit, what about `basis_action_matrices` ?\n\nAgreed; maybe `multiplication_matrix_on_basis`. Suggestions anyone?\n\n> As well, wether we want sparse matrices or not may be given as an argument?\n\nMaybe indeed. I am also thinking about an option that would apply to\nthe whole algebra to state whether its coefficients structure are\nsparse or dense.\n\n> Should we overwrite the previous method for Cartan invariant matrix from #16659 with this new one ? Indeed the return should be the same and it's much faster!\n\nThis one is only valid in large enough characteristic. Also it can be\ngood to have several algorithm for comparison. But I agree we probably\nwant to have an option instead (and possibly several private methods\nbehind the scene).\n\n> In this case maybe we may want to wait that #16659 is positive_reviewed to avoid merging issues.\n\nYeah, I'd rather wait for #16659 to be finished.\n\n> Everything else looks good to me (modulo the remaining documentation)\n> I can do the aforementioned modifications.\n\nLet's discuss this tomorrow with Florent. We might want to think about\nthe graded Cartan matrix.\n\nCheers,\n                       Nicolas",
    "created_at": "2015-04-29T12:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18074",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18074#issuecomment-243540",
    "user": "nthiery"
}
```

Replying to [comment:5 virmaux]:
> I just took some time to read the patch.

Thanks!

> `FiniteDimensionalAlgebrasWithBasis.multiplication_matrix` the name is not very explicit, what about `basis_action_matrices` ?

Agreed; maybe `multiplication_matrix_on_basis`. Suggestions anyone?

> As well, wether we want sparse matrices or not may be given as an argument?

Maybe indeed. I am also thinking about an option that would apply to
the whole algebra to state whether its coefficients structure are
sparse or dense.

> Should we overwrite the previous method for Cartan invariant matrix from #16659 with this new one ? Indeed the return should be the same and it's much faster!

This one is only valid in large enough characteristic. Also it can be
good to have several algorithm for comparison. But I agree we probably
want to have an option instead (and possibly several private methods
behind the scene).

> In this case maybe we may want to wait that #16659 is positive_reviewed to avoid merging issues.

Yeah, I'd rather wait for #16659 to be finished.

> Everything else looks good to me (modulo the remaining documentation)
> I can do the aforementioned modifications.

Let's discuss this tomorrow with Florent. We might want to think about
the graded Cartan matrix.

Cheers,
                       Nicolas



---

archive/issue_comments_243541.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-04T12:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18074",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18074#issuecomment-243541",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_243542.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-04T20:10:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18074",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18074#issuecomment-243542",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:
