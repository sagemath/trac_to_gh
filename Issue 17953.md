# Issue 17953: bindings to Latte

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2015-04-14 13:34:16

CC:  dimpase novoselt vbraun nthiery tscrim schilly chapoton ncohen bedutra

Sage lacks a lot of feature that are in Latte:
 - integer point counting in polyhedron
 - computation of Ehrart polynomial
just to mention some of them.

Note that Latte has no documentation for its library (only the various command line does have). So it might be nice to ask whether it is stable accross versions to upstream.


---

Comment by jdemeyer created at 2015-04-14 21:09:45

What is the input for `latte`? I assume a polyhedron given by its _vertices_ (V-representation) or does it also support a polyhedron given by constraints (H-representation)?


---

Comment by vdelecroix created at 2015-04-14 21:14:18

Replying to [comment:4 jdemeyer]:
> What is the input for `latte`? I assume a polyhedron given by its _vertices_ (V-representation) or does it also support a polyhedron given by constraints (H-representation)?

By constraints. Actually it would be quite straightforward to have an implementation creating a temporary file and just call `count` on this file. The input is basically the same as `cdd` as defined in `sage.geometry.polyhedron.cdd_file_format`.

But the aim of the ticket is to implement a more direct interface (Matthias Koeppe developing latte is in the loop). Though there is also some work needed from latte side.

Vincent


---

Comment by jdemeyer created at 2015-04-14 21:20:26

Replying to [comment:5 vdelecroix]:
> Replying to [comment:4 jdemeyer]:
> > What is the input for `latte`? I assume a polyhedron given by its _vertices_ (V-representation) or does it also support a polyhedron given by constraints (H-representation)?
> 
> By constraints.
...only?

It is required that the vertices are lattice points?

I ask because `Polyhedron()` in Sage always computes the vertices. I know from #17920 that this step sometimes takes more time than enumerating the points. So if you really want efficiency, you would want a way to define a `Polyhedron` _without_ computing its vertices.


---

Comment by dimpase created at 2015-04-14 21:28:07

LMGIFY: https://www.math.ucdavis.edu/~latte/software/packages/latte_current/manual_v1.7.2.pdf


---

Comment by vbraun created at 2015-04-14 23:00:33

Barvinok's method always reduces to counting points in lattice simplices afaik. So you either triangulate (=more than just knowing vertices) or write it as formal addition & subtraction of simplices (less simplices but more complicated to do)


---

Comment by mkoeppe created at 2015-04-14 23:25:48

LattE's input is either the vertices (V-rep) or the inequalities (H-rep). 
It computes the other representation of the polyhedron (and makes other polyhedral computations) by calling either cddlib, or 4ti2.
(Ideally, there should be a way to feed both representations into LattE to avoid recomputation, but this is not implemented.)

`@`jdemeyer: The vertices can be rational.


---

Comment by mkoeppe created at 2015-04-15 00:22:17

Replying to [comment:5 vdelecroix]:
> Actually it would be quite straightforward to have an implementation creating a temporary file and just call `count` on this file. The input is basically the same as `cdd` as defined in `sage.geometry.polyhedron.cdd_file_format`.

In fact, when "count" is invoked with --cdd, then CDD file format is accepted. 

So building a preliminary interface should indeed be very easy.


---

Comment by jdemeyer created at 2015-06-23 13:49:26

Changing component from interfaces to interfaces: optional.
