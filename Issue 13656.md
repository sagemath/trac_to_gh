# Issue 13656: maxima 5.26.0 update to make it work with new ASDF

archive/issues_013656.json:
```json
{
    "body": "Assignee: @burcin\n\nCC:  jpflori @nexttime @kcrisman\n\nECL has moved to use a new ASDF, which means that as of ECL 12, the maxima 5.26.0 spkg stops working with it, due to a small change in the naming scheme of intermediary files.\nThe update  takes care of this, and the patched spkg works with both the current ASDF and the new ASDF.\n\nThe updated spkg: http://boxen.math.washington.edu/home/dima/packages/maxima-5.26.0.p1.spkg\n\nIssue created by migration from https://trac.sagemath.org/ticket/13860\n\n",
    "created_at": "2012-12-23T08:30:03Z",
    "labels": [
        "symbolics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.6",
    "title": "maxima 5.26.0 update to make it work with new ASDF",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13656",
    "user": "@dimpase"
}
```
Assignee: @burcin

CC:  jpflori @nexttime @kcrisman

ECL has moved to use a new ASDF, which means that as of ECL 12, the maxima 5.26.0 spkg stops working with it, due to a small change in the naming scheme of intermediary files.
The update  takes care of this, and the patched spkg works with both the current ASDF and the new ASDF.

The updated spkg: http://boxen.math.washington.edu/home/dima/packages/maxima-5.26.0.p1.spkg

Issue created by migration from https://trac.sagemath.org/ticket/13860





---

archive/issue_comments_169008.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-12-23T08:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169008",
    "user": "@dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_169009.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-12-23T15:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169009",
    "user": "@nexttime"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_169010.json:
```json
{
    "body": "I've only read the attached patch (why \"41\", and what's the first file?), but that still contains the bug w.r.t. `check_error()` (see #13364).\n\nIt would also be better to use `cp -p[f] ...` (and delete some PDF files if we don't install them anyway; cf. #12759).",
    "created_at": "2012-12-23T15:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169010",
    "user": "@nexttime"
}
```

I've only read the attached patch (why "41", and what's the first file?), but that still contains the bug w.r.t. `check_error()` (see #13364).

It would also be better to use `cp -p[f] ...` (and delete some PDF files if we don't install them anyway; cf. #12759).



---

archive/issue_comments_169011.json:
```json
{
    "body": "I'd also use `elif [This is the Trac macro *-f maxima.fasb * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#-f maxima.fasb -macro); then ...`, since the non-presence of `maxima.system.fasb` doesn't really imply \"Old ASDF\".",
    "created_at": "2012-12-23T15:58:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169011",
    "user": "@nexttime"
}
```

I'd also use `elif [This is the Trac macro *-f maxima.fasb * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#-f maxima.fasb -macro); then ...`, since the non-presence of `maxima.system.fasb` doesn't really imply "Old ASDF".



---

archive/issue_comments_169012.json:
```json
{
    "body": "OK, all fixed, please see the updated spkg - and `p0tp1_changes.patch`.\n\nPlease ignore `diff41.*` - they are for the previous revision.",
    "created_at": "2012-12-24T08:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169012",
    "user": "@dimpase"
}
```

OK, all fixed, please see the updated spkg - and `p0tp1_changes.patch`.

Please ignore `diff41.*` - they are for the previous revision.



---

archive/issue_comments_169013.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-12-24T08:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169013",
    "user": "@dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_169014.json:
```json
{
    "body": "Replying to [comment:4 dimpase]:\n> OK, all fixed, please see the updated spkg - and `p0tp1_changes.patch`.\n\nPatch looks ok.\n\n\n\n\n> Please ignore `diff41.*` - they are for the previous revision. \n\nDeleted...",
    "created_at": "2012-12-24T16:07:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169014",
    "user": "@nexttime"
}
```

Replying to [comment:4 dimpase]:
> OK, all fixed, please see the updated spkg - and `p0tp1_changes.patch`.

Patch looks ok.




> Please ignore `diff41.*` - they are for the previous revision. 

Deleted...



---

archive/issue_comments_169015.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-12-24T18:15:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169015",
    "user": "@nexttime"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_169016.json:
```json
{
    "body": "Replying to [comment:5 leif]:\n> Patch looks ok.\n\nThe spkg as well (and builds with both ECL 11.1 and 12.12; tests pass).\n\nMerry Chrismas.\n\n----\n\nDeletion of some PDF files (we do not install) from the upstream tree belongs to `spkg-dist` (and/or should be mentioned in *\"Special !Update/Build Instructions\"*), but that's for another ticket, IMHO.",
    "created_at": "2012-12-24T18:15:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169016",
    "user": "@nexttime"
}
```

Replying to [comment:5 leif]:
> Patch looks ok.

The spkg as well (and builds with both ECL 11.1 and 12.12; tests pass).

Merry Chrismas.

----

Deletion of some PDF files (we do not install) from the upstream tree belongs to `spkg-dist` (and/or should be mentioned in *"Special !Update/Build Instructions"*), but that's for another ticket, IMHO.



---

archive/issue_comments_169017.json:
```json
{
    "body": "Replying to [comment:7 leif]:\n> Deletion of some PDF files (we do not install) from the upstream tree belongs to `spkg-dist` (and/or should be mentioned in *\"Special !Update/Build Instructions\"*)\n+1",
    "created_at": "2012-12-26T13:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169017",
    "user": "@jdemeyer"
}
```

Replying to [comment:7 leif]:
> Deletion of some PDF files (we do not install) from the upstream tree belongs to `spkg-dist` (and/or should be mentioned in *"Special !Update/Build Instructions"*)
+1



---

archive/issue_comments_169018.json:
```json
{
    "body": "Attachment [p0top1_changes.patch](tarball://root/attachments/some-uuid/ticket13860/p0top1_changes.patch) by @dimpase created at 2012-12-27 04:15:06\n\nspkg changes - for review only",
    "created_at": "2012-12-27T04:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169018",
    "user": "@dimpase"
}
```

Attachment [p0top1_changes.patch](tarball://root/attachments/some-uuid/ticket13860/p0top1_changes.patch) by @dimpase created at 2012-12-27 04:15:06

spkg changes - for review only



---

archive/issue_comments_169019.json:
```json
{
    "body": "Replying to [comment:8 jdemeyer]:\n> Replying to [comment:7 leif]:\n> > Deletion of some PDF files (we do not install) from the upstream tree belongs to `spkg-dist` (and/or should be mentioned in *\"Special !Update/Build Instructions\"*)\n> +1\n\nadded a line in `spkg-dist` for this. spkg updated.",
    "created_at": "2012-12-27T04:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169019",
    "user": "@dimpase"
}
```

Replying to [comment:8 jdemeyer]:
> Replying to [comment:7 leif]:
> > Deletion of some PDF files (we do not install) from the upstream tree belongs to `spkg-dist` (and/or should be mentioned in *"Special !Update/Build Instructions"*)
> +1

added a line in `spkg-dist` for this. spkg updated.



---

archive/issue_comments_169020.json:
```json
{
    "body": "I would have prefered to have the ticket number at the beginning of the changelog (and removed the reference at the end of the pwd part) and put a capital letter at the beginning of the third point, but that's not the most crucial point here.\n\nIt is just that I feel our spkgs lack some consistency (and the dev manual some clear guide on how to craft them).\nAnd I'm not even thinking of the ATLAS spkg which uses Python :)",
    "created_at": "2012-12-27T15:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169020",
    "user": "jpflori"
}
```

I would have prefered to have the ticket number at the beginning of the changelog (and removed the reference at the end of the pwd part) and put a capital letter at the beginning of the third point, but that's not the most crucial point here.

It is just that I feel our spkgs lack some consistency (and the dev manual some clear guide on how to craft them).
And I'm not even thinking of the ATLAS spkg which uses Python :)



---

archive/issue_comments_169021.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-12-29T19:32:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13656",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13656#issuecomment-169021",
    "user": "@jdemeyer"
}
```

Resolution: fixed
