# Issue 13656: maxima 5.26.0 update to make it work with new ASDF

Issue created by migration from Trac.

Original creator: dimpase

Original creation time: 2012-12-23 08:30:03

Assignee: burcin

CC:  jpflori leif kcrisman

ECL has moved to use a new ASDF, which means that as of ECL 12, the maxima 5.26.0 spkg stops working with it, due to a small change in the naming scheme of intermediary files.
The update  takes care of this, and the patched spkg works with both the current ASDF and the new ASDF.

The updated spkg: http://boxen.math.washington.edu/home/dima/packages/maxima-5.26.0.p1.spkg


---

Comment by dimpase created at 2012-12-23 08:33:11

Changing status from new to needs_review.


---

Comment by leif created at 2012-12-23 15:53:05

Changing status from needs_review to needs_work.


---

Comment by leif created at 2012-12-23 15:53:05

I've only read the attached patch (why "41", and what's the first file?), but that still contains the bug w.r.t. `check_error()` (see #13364).

It would also be better to use `cp -p[f] ...` (and delete some PDF files if we don't install them anyway; cf. #12759).


---

Comment by leif created at 2012-12-23 15:58:12

I'd also use `elif [This is the Trac macro *-f maxima.fasb * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#-f maxima.fasb -macro); then ...`, since the non-presence of `maxima.system.fasb` doesn't really imply "Old ASDF".


---

Comment by dimpase created at 2012-12-24 08:30:49

OK, all fixed, please see the updated spkg - and `p0tp1_changes.patch`.

Please ignore `diff41.*` - they are for the previous revision.


---

Comment by dimpase created at 2012-12-24 08:30:49

Changing status from needs_work to needs_review.


---

Comment by leif created at 2012-12-24 16:07:13

Replying to [comment:4 dimpase]:
> OK, all fixed, please see the updated spkg - and `p0tp1_changes.patch`.

Patch looks ok.




> Please ignore `diff41.*` - they are for the previous revision. 

Deleted...


---

Comment by leif created at 2012-12-24 18:15:43

Changing status from needs_review to positive_review.


---

Comment by leif created at 2012-12-24 18:15:43

Replying to [comment:5 leif]:
> Patch looks ok.

The spkg as well (and builds with both ECL 11.1 and 12.12; tests pass).

Merry Chrismas.

----

Deletion of some PDF files (we do not install) from the upstream tree belongs to `spkg-dist` (and/or should be mentioned in _"Special !Update/Build Instructions"_), but that's for another ticket, IMHO.


---

Comment by jdemeyer created at 2012-12-26 13:24:17

Replying to [comment:7 leif]:
> Deletion of some PDF files (we do not install) from the upstream tree belongs to `spkg-dist` (and/or should be mentioned in _"Special !Update/Build Instructions"_)
+1


---

Attachment

spkg changes - for review only


---

Comment by dimpase created at 2012-12-27 04:16:27

Replying to [comment:8 jdemeyer]:
> Replying to [comment:7 leif]:
> > Deletion of some PDF files (we do not install) from the upstream tree belongs to `spkg-dist` (and/or should be mentioned in _"Special !Update/Build Instructions"_)
> +1

added a line in `spkg-dist` for this. spkg updated.


---

Comment by jpflori created at 2012-12-27 15:18:05

I would have prefered to have the ticket number at the beginning of the changelog (and removed the reference at the end of the pwd part) and put a capital letter at the beginning of the third point, but that's not the most crucial point here.

It is just that I feel our spkgs lack some consistency (and the dev manual some clear guide on how to craft them).
And I'm not even thinking of the ATLAS spkg which uses Python :)


---

Comment by jdemeyer created at 2012-12-29 19:32:00

Resolution: fixed
