# Issue 28965: character art: avoid repeated additions

Issue created by migration from https://trac.sagemath.org/ticket/29202

Original creator: @mwageringel

Original creation time: 2020-02-15 12:55:17

This ticket rewrites some constructions of ASCII and unicode art to avoid repeatedly adding character art elements, but to concatenate multiple character art elements in one go instead which is more efficient.

In `tensor_algebra.py` and `free_module.py`, this also removes some breakpoints that seemed to be unintended. This might stem from misunderstanding that adding two character art elements always creates a breakpoint in between. (Arguably, this is a bad default.)


```
sage: R = NonCommutativeSymmetricFunctions(QQ).R()
sage: Partitions.options(diagram_str="#", convention="french")
sage: a = ascii_art(tensor((R[1,2], R[3,1,2]))); a
R   # R
 #     ###
 ##      #
         ##
sage: a._breakpoints
[0, 3, 6]       # before (in particular the 0 is undesirable, the 3 unnecessary)
[6]             # after
```


Moreover, this ticket fixes the default implementation of `_unicode_art_` in `SageObject` (which is based on `_ascii_art_`) to preserve the ascii art element's breakpoints and baseline.



---

Comment by @mwageringel created at 2020-02-15 13:53:28

Changing status from new to needs_review.


---

Comment by @mwageringel created at 2020-02-15 13:53:28

Changing keywords from "" to "ascii_art, unicode_art".


---

Comment by @mwageringel created at 2020-02-15 13:53:28

New commits:


---

Comment by vdelecroix created at 2020-02-16 14:53:14

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-02-21 22:17:21

Resolution: fixed
