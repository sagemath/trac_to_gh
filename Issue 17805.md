# Issue 17805: importing Sage library in .spyx files

Issue created by migration from Trac.

Original creator: jhpalmieri

Original creation time: 2015-03-23 17:54:50

CC:  jdemeyer vbraun

Create a file `testing.spyx` containing

```
from sage.all import *
print ZZ
```

and then run `sage testing.spyx`. This will produce an error:

```
NameError: name 'ZZ' is not defined
```

The same happens if the import statement is `from sage.all import ZZ`. This file works properly if it is attached or loaded.

I think this used to work and I think this ought to work. Is the problem in `sage-run-cython`? Or in `sage.repl`?

Any fix should add a doctest (or modify the existing doctest) in sage.tests.cmdline for running a `.spyx` file.


---

Comment by jdemeyer created at 2015-03-23 17:57:26

I have no idea why this happens...


---

Comment by jhpalmieri created at 2015-03-23 17:58:16

A workaround, in case anyone needs to do this: `sage -c "load('filename')"`


---

Comment by jdemeyer created at 2015-03-23 19:23:36

More generally, first importing all of `sage` fixes the problem.


---

Comment by jdemeyer created at 2017-06-02 09:44:11

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2017-06-02 09:44:11

Works for me now.


---

Comment by jdemeyer created at 2017-06-02 09:44:16

Changing status from needs_review to positive_review.


---

Comment by embray created at 2017-07-13 07:54:31

Resolution: wontfix


---

Comment by embray created at 2017-07-13 07:54:31

Closing tickets in the sage-duplicate/invalid/wontfix module with positive_review (i.e. someone has confirmed they should be closed).
