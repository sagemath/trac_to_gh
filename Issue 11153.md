# Issue 11153: Multiple line cells generation in live help broken, lots of samples unusable

Issue created by migration from https://trac.sagemath.org/ticket/11325

Original creator: aginiewicz

Original creation time: 2011-05-11 13:43:38

Assignee: jason, mpatel, was

Keywords: IndentationError, live help

In notebook the sample tags like "sage:" and "..." are removed. As far as I tested, in case of notebook, after "sage:" all spaces are removed until next character, and after "..." one space is removed.

In notebooks automatically generated from html help, space after "..." isn't removed, causing unexpected indentation error in all samples that require first and second lines aligned. Best example are all decorated samples, like `@`interact in reference manual. This bug makes all such cells fail by default, which is bad thing for bundled documentation, that's why I set the priority to major, it might be even higher probably.

See topic http://groups.google.com/group/sage-devel/browse_thread/thread/4d0aabee8ecc4cf1 for first report.


---

Attachment

patch that (I hope) fixes the issue


---

Comment by aginiewicz created at 2011-05-11 13:49:34

Above patch fixes the issue I hope. No issues in testlong and `@`interact samples in reference manual works by default now. I tried to make a doctest but wasn't able to make small html file for parsing, that's why I left it as is. The patch itself is I hope ready for review.


---

Comment by aginiewicz created at 2011-05-11 13:49:34

Changing status from new to needs_review.


---

Comment by jason created at 2011-05-11 14:45:08

Changing keywords from "IndentationError, live help" to "IndentationError, live help, beginner".


---

Comment by jason created at 2011-05-11 14:45:08

Tagging this as "beginner" since it would make a great "first review" for someone learning the process.


---

Comment by aginiewicz created at 2011-12-18 13:48:32

As I updated another ticket (moved spkg url) I also gone trough other tickets I have interest in. For this one, I can confirm that this is still an issue with 4.7.2, breaking `@`interact and `@`parallel examples in interactive documentation.


---

Comment by peter.story created at 2012-01-11 15:27:51

We will report this upstream momentarily.


---

Comment by peter.story created at 2012-01-11 15:44:17

Changing status from needs_review to positive_review.


---

Comment by peter.story created at 2012-01-11 15:44:17

Verified that the patch fixes the indentation problems.
It hasn't caused any apparent problems elsewhere.


---

Comment by jdemeyer created at 2012-01-12 08:37:00

Resolution: invalid


---

Comment by jdemeyer created at 2012-01-12 08:37:00

I mentioned this to the notebook people, so they can actually apply the patch.


---

Comment by kcrisman created at 2012-01-12 14:45:20

This was also mentioned to them _in person_ here at the time it was checked that this works.  And it's [here on github](https://github.com/sagemath/sagenb/issues/21) :)


---

Comment by kcrisman created at 2012-01-12 14:45:20

Changing keywords from "IndentationError, live help, beginner" to "IndentationError, live help, beginner sd35.5".


---

Comment by jason created at 2012-01-12 14:57:31

Fixed by sagenb git commit 26c1f7899c14ad9e9efe41dda4ba86ba868dd877
