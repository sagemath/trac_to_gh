# Issue 11153: Multiple line cells generation in live help broken, lots of samples unusable

archive/issues_011153.json:
```json
{
    "body": "Assignee: jason, mpatel, was\n\nKeywords: IndentationError, live help\n\nIn notebook the sample tags like \"sage:\" and \"...\" are removed. As far as I tested, in case of notebook, after \"sage:\" all spaces are removed until next character, and after \"...\" one space is removed.\n\nIn notebooks automatically generated from html help, space after \"...\" isn't removed, causing unexpected indentation error in all samples that require first and second lines aligned. Best example are all decorated samples, like `@`interact in reference manual. This bug makes all such cells fail by default, which is bad thing for bundled documentation, that's why I set the priority to major, it might be even higher probably.\n\nSee topic http://groups.google.com/group/sage-devel/browse_thread/thread/4d0aabee8ecc4cf1 for first report.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11325\n\n",
    "created_at": "2011-05-11T13:43:38Z",
    "labels": [
        "component: notebook",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Multiple line cells generation in live help broken, lots of samples unusable",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11153",
    "user": "https://trac.sagemath.org/admin/accounts/users/aginiewicz"
}
```
Assignee: jason, mpatel, was

Keywords: IndentationError, live help

In notebook the sample tags like "sage:" and "..." are removed. As far as I tested, in case of notebook, after "sage:" all spaces are removed until next character, and after "..." one space is removed.

In notebooks automatically generated from html help, space after "..." isn't removed, causing unexpected indentation error in all samples that require first and second lines aligned. Best example are all decorated samples, like `@`interact in reference manual. This bug makes all such cells fail by default, which is bad thing for bundled documentation, that's why I set the priority to major, it might be even higher probably.

See topic http://groups.google.com/group/sage-devel/browse_thread/thread/4d0aabee8ecc4cf1 for first report.

Issue created by migration from https://trac.sagemath.org/ticket/11325





---

archive/issue_comments_122044.json:
```json
{
    "body": "Attachment [Trac_11325.patch](tarball://root/attachments/some-uuid/ticket11325/Trac_11325.patch) by aginiewicz created at 2011-05-11 13:46:30\n\npatch that (I hope) fixes the issue",
    "created_at": "2011-05-11T13:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122044",
    "user": "https://trac.sagemath.org/admin/accounts/users/aginiewicz"
}
```

Attachment [Trac_11325.patch](tarball://root/attachments/some-uuid/ticket11325/Trac_11325.patch) by aginiewicz created at 2011-05-11 13:46:30

patch that (I hope) fixes the issue



---

archive/issue_comments_122045.json:
```json
{
    "body": "Above patch fixes the issue I hope. No issues in testlong and `@`interact samples in reference manual works by default now. I tried to make a doctest but wasn't able to make small html file for parsing, that's why I left it as is. The patch itself is I hope ready for review.",
    "created_at": "2011-05-11T13:49:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122045",
    "user": "https://trac.sagemath.org/admin/accounts/users/aginiewicz"
}
```

Above patch fixes the issue I hope. No issues in testlong and `@`interact samples in reference manual works by default now. I tried to make a doctest but wasn't able to make small html file for parsing, that's why I left it as is. The patch itself is I hope ready for review.



---

archive/issue_comments_122046.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-05-11T13:49:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122046",
    "user": "https://trac.sagemath.org/admin/accounts/users/aginiewicz"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_122047.json:
```json
{
    "body": "Changing keywords from \"IndentationError, live help\" to \"IndentationError, live help, beginner\".",
    "created_at": "2011-05-11T14:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122047",
    "user": "https://github.com/jasongrout"
}
```

Changing keywords from "IndentationError, live help" to "IndentationError, live help, beginner".



---

archive/issue_comments_122048.json:
```json
{
    "body": "Tagging this as \"beginner\" since it would make a great \"first review\" for someone learning the process.",
    "created_at": "2011-05-11T14:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122048",
    "user": "https://github.com/jasongrout"
}
```

Tagging this as "beginner" since it would make a great "first review" for someone learning the process.



---

archive/issue_comments_122049.json:
```json
{
    "body": "As I updated another ticket (moved spkg url) I also gone trough other tickets I have interest in. For this one, I can confirm that this is still an issue with 4.7.2, breaking `@`interact and `@`parallel examples in interactive documentation.",
    "created_at": "2011-12-18T13:48:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122049",
    "user": "https://trac.sagemath.org/admin/accounts/users/aginiewicz"
}
```

As I updated another ticket (moved spkg url) I also gone trough other tickets I have interest in. For this one, I can confirm that this is still an issue with 4.7.2, breaking `@`interact and `@`parallel examples in interactive documentation.



---

archive/issue_comments_122050.json:
```json
{
    "body": "We will report this upstream momentarily.",
    "created_at": "2012-01-11T15:27:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122050",
    "user": "https://trac.sagemath.org/admin/accounts/users/peter.story"
}
```

We will report this upstream momentarily.



---

archive/issue_comments_122051.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-01-11T15:44:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122051",
    "user": "https://trac.sagemath.org/admin/accounts/users/peter.story"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_122052.json:
```json
{
    "body": "Verified that the patch fixes the indentation problems.\nIt hasn't caused any apparent problems elsewhere.",
    "created_at": "2012-01-11T15:44:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122052",
    "user": "https://trac.sagemath.org/admin/accounts/users/peter.story"
}
```

Verified that the patch fixes the indentation problems.
It hasn't caused any apparent problems elsewhere.



---

archive/issue_comments_122053.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2012-01-12T08:37:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122053",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: invalid



---

archive/issue_comments_122054.json:
```json
{
    "body": "I mentioned this to the notebook people, so they can actually apply the patch.",
    "created_at": "2012-01-12T08:37:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122054",
    "user": "https://github.com/jdemeyer"
}
```

I mentioned this to the notebook people, so they can actually apply the patch.



---

archive/issue_events_029353.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-12T08:37:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11153#event-29353"
}
```



---

archive/issue_events_029354.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-12T08:37:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11153#event-29354"
}
```



---

archive/issue_comments_122055.json:
```json
{
    "body": "This was also mentioned to them *in person* here at the time it was checked that this works.  And it's [here on github](https://github.com/sagemath/sagenb/issues/21) :)",
    "created_at": "2012-01-12T14:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122055",
    "user": "https://github.com/kcrisman"
}
```

This was also mentioned to them *in person* here at the time it was checked that this works.  And it's [here on github](https://github.com/sagemath/sagenb/issues/21) :)



---

archive/issue_comments_122056.json:
```json
{
    "body": "Changing keywords from \"IndentationError, live help, beginner\" to \"IndentationError, live help, beginner sd35.5\".",
    "created_at": "2012-01-12T14:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122056",
    "user": "https://github.com/kcrisman"
}
```

Changing keywords from "IndentationError, live help, beginner" to "IndentationError, live help, beginner sd35.5".



---

archive/issue_comments_122057.json:
```json
{
    "body": "Fixed by sagenb git commit 26c1f7899c14ad9e9efe41dda4ba86ba868dd877",
    "created_at": "2012-01-12T14:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11153",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11153#issuecomment-122057",
    "user": "https://github.com/jasongrout"
}
```

Fixed by sagenb git commit 26c1f7899c14ad9e9efe41dda4ba86ba868dd877
