# Issue 10431: Chinese remainder code raises an error when called with Python ints

archive/issues_010431.json:
```json
{
    "body": "Assignee: was\n\nKeywords: CRT\n\nLots of the congruence subgroup code works intensively with small integers, and represents these as Python ints rather than Sage integers for speed reasons. This brought to light the following irritating bug:\n\n\n```\nsage: crt(int(2), int(3), int(5), int(7))\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n\n/storage/masiao/sage-4.6.1.alpha3/devel/sage-reviewing/<ipython console> in <module>()\n\n/usr/local/sage/sage-4.6/local/lib/python2.6/site-packages/sage/rings/arith.pyc in crt(a, b, m, n)\n   2737         return CRT_list(a, b)\n   2738     g, alpha, beta = XGCD(m, n)\n-> 2739     q, r = (b - a).quo_rem(g)\n   2740     if r != 0:\n   2741         raise ValueError(\"No solution to crt problem since gcd(%s,%s) does not divide %s-%s\" % (m, n, a, b))\n\nAttributeError: 'int' object has no attribute 'quo_rem'\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/10484\n\n",
    "created_at": "2010-12-16T15:12:50Z",
    "labels": [
        "number theory",
        "major",
        "bug"
    ],
    "title": "Chinese remainder code raises an error when called with Python ints",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10431",
    "user": "davidloeffler"
}
```
Assignee: was

Keywords: CRT

Lots of the congruence subgroup code works intensively with small integers, and represents these as Python ints rather than Sage integers for speed reasons. This brought to light the following irritating bug:


```
sage: crt(int(2), int(3), int(5), int(7))
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)

/storage/masiao/sage-4.6.1.alpha3/devel/sage-reviewing/<ipython console> in <module>()

/usr/local/sage/sage-4.6/local/lib/python2.6/site-packages/sage/rings/arith.pyc in crt(a, b, m, n)
   2737         return CRT_list(a, b)
   2738     g, alpha, beta = XGCD(m, n)
-> 2739     q, r = (b - a).quo_rem(g)
   2740     if r != 0:
   2741         raise ValueError("No solution to crt problem since gcd(%s,%s) does not divide %s-%s" % (m, n, a, b))

AttributeError: 'int' object has no attribute 'quo_rem'
```


Issue created by migration from https://trac.sagemath.org/ticket/10484





---

archive/issue_comments_107561.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-12-16T15:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10431#issuecomment-107561",
    "user": "davidloeffler"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_107562.json:
```json
{
    "body": "Here's a tiny little patch (one line, one comment, one doctest).",
    "created_at": "2010-12-16T15:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10431#issuecomment-107562",
    "user": "davidloeffler"
}
```

Here's a tiny little patch (one line, one comment, one doctest).



---

archive/issue_comments_107563.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-12-16T16:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10431#issuecomment-107563",
    "user": "robertwb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_107564.json:
```json
{
    "body": "Shouldn't you use `Integer(a)` instead of `ZZ(a)` since it's about 3.5 times faster (on boxen)?",
    "created_at": "2010-12-16T19:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10431#issuecomment-107564",
    "user": "mhansen"
}
```

Shouldn't you use `Integer(a)` instead of `ZZ(a)` since it's about 3.5 times faster (on boxen)?



---

archive/issue_comments_107565.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2010-12-16T19:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10431#issuecomment-107565",
    "user": "mhansen"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_107566.json:
```json
{
    "body": "new version",
    "created_at": "2010-12-16T20:07:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10431#issuecomment-107566",
    "user": "davidloeffler"
}
```

new version



---

archive/issue_comments_107567.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2010-12-16T20:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10431#issuecomment-107567",
    "user": "davidloeffler"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_107568.json:
```json
{
    "body": "Attachment\n\nHere's a new patch using Integer. Sorry, I meant to overwrite the original patch -- apply only the second one.",
    "created_at": "2010-12-16T20:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10431#issuecomment-107568",
    "user": "davidloeffler"
}
```

Attachment

Here's a new patch using Integer. Sorry, I meant to overwrite the original patch -- apply only the second one.



---

archive/issue_comments_107569.json:
```json
{
    "body": "Thanks!",
    "created_at": "2010-12-16T21:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10431#issuecomment-107569",
    "user": "mhansen"
}
```

Thanks!



---

archive/issue_comments_107570.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-12-16T21:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10431#issuecomment-107570",
    "user": "mhansen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_107571.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-01-12T06:40:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10431#issuecomment-107571",
    "user": "jdemeyer"
}
```

Resolution: fixed
