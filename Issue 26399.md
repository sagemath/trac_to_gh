# Issue 26399: py3: fix doctests in geometry/cone

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2018-11-04 17:57:26

CC:  mjo novoselt

by sorting


---

Comment by chapoton created at 2018-11-04 17:57:58

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-11-04 17:57:58

New commits:


---

Comment by mjo created at 2018-11-05 01:00:50

For what it's worth, I believe the non-determinism is due to the following in `semigroup_generators`:


```
    gens = set()
    for cone in subcones:
        gens.update(cone.semigroup_generators())
    return tuple(gens)
```


An ordered tuple or PointCollection (which amounts to the same thing) is always returned, but using `set()` to eliminate the duplicates makes the order of the tuple itself unreliable.

Andrey will know whether this should be fixed by sorting the output, or by making the output deterministic.


---

Comment by novoselt created at 2018-11-05 03:44:56

Only sorting the output - there is no canonical ordering, so there is no point in wasting time on sorting it always.


---

Comment by novoselt created at 2018-11-05 03:44:56

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-11-07 11:27:36

Resolution: fixed
