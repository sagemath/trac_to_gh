# Issue 25740: A Goppa code class

archive/issues_025740.json:
```json
{
    "body": "CC:  @dimpase @pfasante @kwankyu\n\nThis ticket presents a first implementation for Goppa codes. It contains a class goppa.py that can construct the parity matrix from a generating polynomial and a defining set.\n\nIssue created by migration from https://trac.sagemath.org/ticket/25977\n\n",
    "created_at": "2018-07-30T18:19:16Z",
    "labels": [
        "coding theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "A Goppa code class",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25740",
    "user": "fion"
}
```
CC:  @dimpase @pfasante @kwankyu

This ticket presents a first implementation for Goppa codes. It contains a class goppa.py that can construct the parity matrix from a generating polynomial and a defining set.

Issue created by migration from https://trac.sagemath.org/ticket/25977





---

archive/issue_comments_363164.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-30T18:21:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363164",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_363165.json:
```json
{
    "body": "Rebased over the latest Sage dev version 8.3.rc3",
    "created_at": "2018-08-02T13:46:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363165",
    "user": "@dimpase"
}
```

Rebased over the latest Sage dev version 8.3.rc3



---

archive/issue_comments_363166.json:
```json
{
    "body": "any reviewers for this?",
    "created_at": "2019-03-04T09:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363166",
    "user": "@dimpase"
}
```

any reviewers for this?



---

archive/issue_comments_363167.json:
```json
{
    "body": "What is the author's full name?",
    "created_at": "2019-03-04T11:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363167",
    "user": "@kwankyu"
}
```

What is the author's full name?



---

archive/issue_comments_363168.json:
```json
{
    "body": "Changing keywords from \"\" to \"coding theory, gsoc-2018\".",
    "created_at": "2019-03-04T11:46:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363168",
    "user": "@dimpase"
}
```

Changing keywords from "" to "coding theory, gsoc-2018".



---

archive/issue_comments_363169.json:
```json
{
    "body": "Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363169",
    "user": "@embray"
}
```

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_363170.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-13T14:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363170",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_363171.json:
```json
{
    "body": "first things first \n\n- add yourself to the list of authors\n\n- make sure the only lines that are longer than 80 characters are input/output of doctests, but not elsewhere in the documentation",
    "created_at": "2019-06-13T15:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363171",
    "user": "@dimpase"
}
```

first things first 

- add yourself to the list of authors

- make sure the only lines that are longer than 80 characters are input/output of doctests, but not elsewhere in the documentation



---

archive/issue_comments_363172.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-06-13T15:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363172",
    "user": "@dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_363173.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-13T15:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363173",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_363174.json:
```json
{
    "body": "Replying to [comment:13 dimpase]:\n> first things first \n> \n> - add yourself to the list of authors\n> \n> - make sure the only lines that are longer than 80 characters are input/output of doctests, but not elsewhere in the documentation",
    "created_at": "2019-06-13T15:48:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363174",
    "user": "@emes4"
}
```

Replying to [comment:13 dimpase]:
> first things first 
> 
> - add yourself to the list of authors
> 
> - make sure the only lines that are longer than 80 characters are input/output of doctests, but not elsewhere in the documentation



---

archive/issue_comments_363175.json:
```json
{
    "body": "Replying to [comment:13 dimpase]:\n> first things first \n> \n> - add yourself to the list of authors\n> \n> - make sure the only lines that are longer than 80 characters are input/output of doctests, but not elsewhere in the documentation \n\nDone. Fixed the line length in a new commit.",
    "created_at": "2019-06-13T15:49:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363175",
    "user": "@emes4"
}
```

Replying to [comment:13 dimpase]:
> first things first 
> 
> - add yourself to the list of authors
> 
> - make sure the only lines that are longer than 80 characters are input/output of doctests, but not elsewhere in the documentation 

Done. Fixed the line length in a new commit.



---

archive/issue_comments_363176.json:
```json
{
    "body": "oops, src/sage/coding/goppa.py is in MSDOS format. This makes diffing painful, so let's keep it in this format for review, and once done, we'll run `dos2unix` on it...",
    "created_at": "2019-06-13T16:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363176",
    "user": "@dimpase"
}
```

oops, src/sage/coding/goppa.py is in MSDOS format. This makes diffing painful, so let's keep it in this format for review, and once done, we'll run `dos2unix` on it...



---

archive/issue_comments_363177.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-06-13T16:27:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363177",
    "user": "@dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_363178.json:
```json
{
    "body": "OK, so let's work on the \"public\" branch, so that we both can push into the same place.\n\nI've edited a part of the goppa.py file, in particular using \n\n```\nstuff like `u` - for maths (LaTeX)\n\nstuff like ``self`` for Python variables etc\n```\n\n\nPlease fix the rest of it, as well as things marked by `???`.\n\nThen, for functions and classes the 1st line of the multilibe doctring has a special\nmeaning, it should be short, and followed by an empty line (for indexing).\n\nI probably fixed all of the latter already.\n\nTo see my chnages, check out the branch and do `git diff HEAD^ -w` (`-w` is needed to ignore whitespace changes, as I converted the file to the Unix format...)\n\n\nAs well, please try building Sage docs with these changes - it's important that all the\nspaces are at the right places, as `rst` is a tricky forrmat...\n\n\n\n  \n----\nNew commits:",
    "created_at": "2019-06-13T16:27:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363178",
    "user": "@dimpase"
}
```

OK, so let's work on the "public" branch, so that we both can push into the same place.

I've edited a part of the goppa.py file, in particular using 

```
stuff like `u` - for maths (LaTeX)

stuff like ``self`` for Python variables etc
```


Please fix the rest of it, as well as things marked by `???`.

Then, for functions and classes the 1st line of the multilibe doctring has a special
meaning, it should be short, and followed by an empty line (for indexing).

I probably fixed all of the latter already.

To see my chnages, check out the branch and do `git diff HEAD^ -w` (`-w` is needed to ignore whitespace changes, as I converted the file to the Unix format...)


As well, please try building Sage docs with these changes - it's important that all the
spaces are at the right places, as `rst` is a tricky forrmat...



  
----
New commits:



---

archive/issue_comments_363179.json:
```json
{
    "body": "Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363179",
    "user": "@embray"
}
```

Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_comments_363180.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-14T15:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363180",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_363181.json:
```json
{
    "body": "Replying to [comment:18 dimpase]:\n \nFixed everything in the latest commit.",
    "created_at": "2019-06-14T15:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363181",
    "user": "@emes4"
}
```

Replying to [comment:18 dimpase]:
 
Fixed everything in the latest commit.



---

archive/issue_comments_363182.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-06-14T15:19:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363182",
    "user": "@emes4"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_363183.json:
```json
{
    "body": "Please inspect the results of docbuild in the browser, by opening `file:///<SAGEROOT>/share/doc/sage/html/en/reference/coding/sage/coding/goppa.html`\n(where you need to replace `<SAGEROOT>` by the full path to your Sage install)\n\nThings inside TeX markers should be proper TeX maths, e.g. `F_{p^m}` rather than `F_p^m`.\nI've started on doing needed changes:\n\n```diff\ndiff --git a/src/sage/coding/goppa.py b/src/sage/coding/goppa.py\nindex 10f0d8e1d3..bbb45269e4 100755\n--- a/src/sage/coding/goppa.py\n+++ b/src/sage/coding/goppa.py\n@@ -19,19 +19,19 @@ class GoppaCode(AbstractLinearCode):\n     Implementation of Goppa codes\n \n     Goppa codes are a generalization of narrow-sense BCH codes.\n-    These codes are defined by a generating polynomial `g over a finite field\n-    `F_p^m`, and a defining set `L` of elements from `F_p^m`, which are not roots\n+    These codes are defined by a generating polynomial `g` over a finite field\n+    `F_{p^m}`, and a defining set `L` of elements from `F_{p^m}`, which are not roots\n     of `g`. The number of defining elements determines the length of the code.\n \n-    In binary cases, the minimum distance is `2*t + 1`, where `t` is the degree\n+    In binary cases, the minimum distance is `2t + 1`, where `t` is the degree\n     of `g`.\n \n     INPUTS:\n \n     - ``generating_pol`` -- a monic polynomial with coefficients in a finite\n-      field `F_p^m`, the code is defined over `F_p`, `p` must be a prime number\n+      field `F_{p^m}`, the code is defined over `F_p`, `p` must be a prime number\n \n-    - ``defining_set`` -- a set of elements of `F_p^m` that are not roots\n+    - ``defining_set`` -- a set of elements of `F_{p^m}` that are not roots\n       of `g`, its cardinality is the length of the code\n \n     EXAMPLES::\n```\n\n\nPlease do this for the whole file.",
    "created_at": "2019-06-17T10:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363183",
    "user": "@dimpase"
}
```

Please inspect the results of docbuild in the browser, by opening `file:///<SAGEROOT>/share/doc/sage/html/en/reference/coding/sage/coding/goppa.html`
(where you need to replace `<SAGEROOT>` by the full path to your Sage install)

Things inside TeX markers should be proper TeX maths, e.g. `F_{p^m}` rather than `F_p^m`.
I've started on doing needed changes:

```diff
diff --git a/src/sage/coding/goppa.py b/src/sage/coding/goppa.py
index 10f0d8e1d3..bbb45269e4 100755
--- a/src/sage/coding/goppa.py
+++ b/src/sage/coding/goppa.py
@@ -19,19 +19,19 @@ class GoppaCode(AbstractLinearCode):
     Implementation of Goppa codes
 
     Goppa codes are a generalization of narrow-sense BCH codes.
-    These codes are defined by a generating polynomial `g over a finite field
-    `F_p^m`, and a defining set `L` of elements from `F_p^m`, which are not roots
+    These codes are defined by a generating polynomial `g` over a finite field
+    `F_{p^m}`, and a defining set `L` of elements from `F_{p^m}`, which are not roots
     of `g`. The number of defining elements determines the length of the code.
 
-    In binary cases, the minimum distance is `2*t + 1`, where `t` is the degree
+    In binary cases, the minimum distance is `2t + 1`, where `t` is the degree
     of `g`.
 
     INPUTS:
 
     - ``generating_pol`` -- a monic polynomial with coefficients in a finite
-      field `F_p^m`, the code is defined over `F_p`, `p` must be a prime number
+      field `F_{p^m}`, the code is defined over `F_p`, `p` must be a prime number
 
-    - ``defining_set`` -- a set of elements of `F_p^m` that are not roots
+    - ``defining_set`` -- a set of elements of `F_{p^m}` that are not roots
       of `g`, its cardinality is the length of the code
 
     EXAMPLES::
```


Please do this for the whole file.



---

archive/issue_comments_363184.json:
```json
{
    "body": "I'll push the commit for the latter, just a moment.",
    "created_at": "2019-06-17T10:48:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363184",
    "user": "@dimpase"
}
```

I'll push the commit for the latter, just a moment.



---

archive/issue_comments_363185.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-17T10:50:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363185",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_363186.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-17T13:59:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363186",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_363187.json:
```json
{
    "body": "I fixed all the TeX formatting. Also noticed that there was a badly formatted list in the parity check matrix documentation bit and fixed that too.",
    "created_at": "2019-06-17T14:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363187",
    "user": "@emes4"
}
```

I fixed all the TeX formatting. Also noticed that there was a badly formatted list in the parity check matrix documentation bit and fixed that too.



---

archive/issue_comments_363188.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-17T17:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363188",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_363189.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-17T17:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363189",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_363190.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-17T17:43:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363190",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_363191.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-06-17T17:59:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363191",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_363192.json:
```json
{
    "body": "some commit squashing...",
    "created_at": "2019-06-17T18:01:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363192",
    "user": "@dimpase"
}
```

some commit squashing...



---

archive/issue_comments_363193.json:
```json
{
    "body": "Changing keywords from \"coding theory, gsoc-2018\" to \"coding theory, gsoc-2018, gsoc-2019\".",
    "created_at": "2019-06-17T18:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363193",
    "user": "@dimpase"
}
```

Changing keywords from "coding theory, gsoc-2018" to "coding theory, gsoc-2018, gsoc-2019".



---

archive/issue_comments_363194.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-06-17T18:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363194",
    "user": "@dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_363195.json:
```json
{
    "body": "Changing keywords from \"coding theory, gsoc-2018, gsoc-2019\" to \"coding theory, gsoc-2018, gsoc19\".",
    "created_at": "2019-06-27T16:49:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363195",
    "user": "@dimpase"
}
```

Changing keywords from "coding theory, gsoc-2018, gsoc-2019" to "coding theory, gsoc-2018, gsoc19".



---

archive/issue_comments_363196.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-06-27T20:13:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363196",
    "user": "@vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_363197.json:
```json
{
    "body": "There are some cleanups in #27634 for `goppa.py`",
    "created_at": "2019-07-04T02:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25740#issuecomment-363197",
    "user": "@kwankyu"
}
```

There are some cleanups in #27634 for `goppa.py`
