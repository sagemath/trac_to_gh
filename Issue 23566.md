# Issue 23566: Rebuild doc when Sphinx is reinstalled

archive/issues_023566.json:
```json
{
    "body": "CC:  @jhpalmieri\n\nThe upgrade to Sphinx-1.6.3 broke docbuilding if `make doc-clean` was not done. We propose to automatically delete documentation in the docbuilder if Sphinx was reinstalled.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23803\n\n",
    "created_at": "2017-09-08T07:48:04Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Rebuild doc when Sphinx is reinstalled",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23566",
    "user": "https://github.com/jdemeyer"
}
```
CC:  @jhpalmieri

The upgrade to Sphinx-1.6.3 broke docbuilding if `make doc-clean` was not done. We propose to automatically delete documentation in the docbuilder if Sphinx was reinstalled.

Issue created by migration from https://trac.sagemath.org/ticket/23803





---

archive/issue_comments_329757.json:
```json
{
    "body": "Actually, I'm experimenting with a much simpler change to allow a graceful upgrade to Sphinx-1.6.3: it's a specific pickle which fails to load. Wrapping that in `try`/`except` might work.",
    "created_at": "2017-09-08T09:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23566",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23566#issuecomment-329757",
    "user": "https://github.com/jdemeyer"
}
```

Actually, I'm experimenting with a much simpler change to allow a graceful upgrade to Sphinx-1.6.3: it's a specific pickle which fails to load. Wrapping that in `try`/`except` might work.



---

archive/issue_comments_329758.json:
```json
{
    "body": "https://github.com/sphinx-doc/sphinx/pull/4048",
    "created_at": "2017-09-08T09:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23566",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23566#issuecomment-329758",
    "user": "https://github.com/jdemeyer"
}
```

https://github.com/sphinx-doc/sphinx/pull/4048



---

archive/issue_comments_329759.json:
```json
{
    "body": "Changing component from build to packages: standard.",
    "created_at": "2017-09-08T10:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23566",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23566#issuecomment-329759",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from build to packages: standard.



---

archive/issue_comments_329760.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-08T10:18:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23566",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23566#issuecomment-329760",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_329761.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-09-08T10:18:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23566",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23566#issuecomment-329761",
    "user": "https://github.com/jdemeyer"
}
```

New commits:



---

archive/issue_comments_329762.json:
```json
{
    "body": "Is it worth printing more information than just\n\n```\n[diophanti] loading pickled environment... failed: 'module' object has no attribute 'WarningStream'\n```\n\nto let users know that this is indeed harmless?",
    "created_at": "2017-09-08T18:37:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23566",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23566#issuecomment-329762",
    "user": "https://github.com/jhpalmieri"
}
```

Is it worth printing more information than just

```
[diophanti] loading pickled environment... failed: 'module' object has no attribute 'WarningStream'
```

to let users know that this is indeed harmless?



---

archive/issue_comments_329763.json:
```json
{
    "body": "I don't really see the point... In any case, I feel that this is something that upstream should decide.",
    "created_at": "2017-09-09T08:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23566",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23566#issuecomment-329763",
    "user": "https://github.com/jdemeyer"
}
```

I don't really see the point... In any case, I feel that this is something that upstream should decide.



---

archive/issue_comments_329764.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-09-11T16:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23566",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23566#issuecomment-329764",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_329765.json:
```json
{
    "body": "Replying to [comment:7 jdemeyer]:\n> I don't really see the point... \n\nThe point, as I said, is \"to let users know that this is indeed harmless\". Some people worry when they see messages saying that something \"failed\".",
    "created_at": "2017-09-11T16:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23566",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23566#issuecomment-329765",
    "user": "https://github.com/jhpalmieri"
}
```

Replying to [comment:7 jdemeyer]:
> I don't really see the point... 

The point, as I said, is "to let users know that this is indeed harmless". Some people worry when they see messages saying that something "failed".



---

archive/issue_comments_329766.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-15T07:47:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23566",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23566#issuecomment-329766",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
