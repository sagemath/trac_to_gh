# Issue 24230: Refactor IntegerMulAction

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2018-01-03 16:53:52

Refactor `IntegerMulAction` in preparation for #24247:

1. Add an abstract base class `IntegerAction` which will also be used to implement `IntegerPowAction` in #24247.

2. Add a new helper function `parent_is_integers` to check if some type/parent represents the integers.

3. Instead of the hack in `discover_action` involving an explicit `IntegerMulAction` check, return an `IntegerMulAction` for anything satisfying `parent_is_integers()`.


---

Comment by jdemeyer created at 2018-01-03 16:55:35

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2018-01-03 16:55:35

New commits:


---

Comment by git created at 2018-01-04 11:05:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-01-08 01:30:56

The `·` is not ascii nor latex: `n · a = a + a + ... + a`. So if you change that to `\cdot` (personally, I would also change the `...` to `\cdots`), then you can set a positive review on my behalf.


---

Comment by jdemeyer created at 2018-01-08 08:22:32

Replying to [comment:5 tscrim]:
> The `·` is not ascii nor latex

Is that a problem really? The documentation builds fine and I think that `·` is more readable than `\cdot` in text mode.


---

Comment by git created at 2018-01-08 08:30:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2018-01-08 08:30:51

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-01-08 15:44:03

Replying to [comment:6 jdemeyer]:
> Replying to [comment:5 tscrim]:
> > The `·` is not ascii nor latex
> 
> Is that a problem really? The documentation builds fine and I think that `·` is more readable than `\cdot` in text mode.

With the non-ascii characters, the pdf docs tend to have difficulty if the encoding is not declared (in particular, the non-ascii hyphen comes to mind). What we probably should do is add a bunch of the unicode versions of certain latex commands to the console doc replacer since we generally assume terminals support unicode.

Thanks for the change.


---

Comment by jdemeyer created at 2018-01-08 15:57:24

Replying to [comment:9 tscrim]:
> What we probably should do is add a bunch of the unicode versions of certain latex commands to the console doc replacer since we generally assume terminals support unicode.

No, we do the opposite: replace certain Unicode characters by latex when building the PDF docs. In `src/doc/common/conf.py` you will find for example

```
\DeclareUnicodeCharacter{00B7}{\cdot}
```

saying that `·` should be replaced by `\cdot`. So `·` in docstrings should work just fine.


---

Comment by tscrim created at 2018-01-08 16:22:55

I see. I wasn't aware of that. Thank you.


---

Comment by vbraun created at 2018-01-14 10:14:23

Resolution: fixed
