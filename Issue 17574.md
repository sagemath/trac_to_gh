# Issue 17574: RealBall: sig_on for arb_to_mpfi

Issue created by migration from Trac.

Original creator: cheuberg

Original creation time: 2015-02-19 16:43:49

CC:  mmezzarobba fredrik.johansson

Keywords: arb, RealBall

As discussed in [#17194](http://trac.sagemath.org/ticket/17194#comment:73), `arb_to_mpfi` might run into an overflow and this should be guarded by a `sig_on`/`sig_off` pair.



---

Comment by cheuberg created at 2015-02-19 16:48:05

Changing status from new to needs_review.


---

Comment by cheuberg created at 2015-02-19 16:48:05

Changing component from PLEASE CHANGE to numerical.


---

Comment by cheuberg created at 2015-02-19 16:48:05

The doctest checking whether this actually works is clumsy as the necessary arithmetic operations are not readily available yet; so this has to be done in cython. Eventually, the doctest should be replaced.
----
Last 10 new commits:


---

Comment by jdemeyer created at 2015-02-19 17:23:13

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2015-02-19 17:23:13

According to the doctest, your exception is _ignored_. See [http://docs.cython.org/src/userguide/language_basics.html#error-return-values](http://docs.cython.org/src/userguide/language_basics.html#error-return-values) for how to fix this.


---

Comment by git created at 2015-02-19 18:54:15

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by cheuberg created at 2015-02-19 18:55:06

Replying to [comment:3 jdemeyer]:
> According to the doctest, your exception is _ignored_. See [http://docs.cython.org/src/userguide/language_basics.html#error-return-values](http://docs.cython.org/src/userguide/language_basics.html#error-return-values) for how to fix this.

Thanks for the pointer, fixed.


---

Comment by cheuberg created at 2015-02-19 18:55:06

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2015-02-19 20:38:00

Instead of `cdef void ..... except *` it's more efficient to do `cdef int ..... except -1`.


---

Comment by git created at 2015-02-20 07:56:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mmezzarobba created at 2015-02-27 08:50:12

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-02-28 21:24:14

Resolution: fixed
