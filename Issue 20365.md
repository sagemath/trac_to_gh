# Issue 20365: MixedIntegerLinearProgram.gen() does not do anything useful

archive/issues_020365.json:
```json
{
    "body": "CC:  @nbruin @dimpase @videlec @jdemeyer @fchapoton @novoselt\n\nKeywords: lp\n\nAs observed in the comments in #20461:\n\n\n```\nsage: mip = MixedIntegerLinearProgram(solver='GLPK')\nsage: mip.gen(0)           ### Names a variable, but does not create it in the backend\nx_0\nsage: mip.number_of_variables()\n0\nsage: mip[0]                  ### This now creates a variable. It prints the same as the result of gen(0), but is different.\nx_0\nsage: mip.get_values(mip.gen(0))\n[...]\nTypeError: Not a MIPVariable: x_0\nsage: mip.is_real(mip.gen(0))\n[...]\nKeyError: x_0\nsage: mip.is_real(mip[0])\nTrue\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/20602\n\n",
    "created_at": "2016-05-13T07:51:53Z",
    "labels": [
        "numerical",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "MixedIntegerLinearProgram.gen() does not do anything useful",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20365",
    "user": "@mkoeppe"
}
```
CC:  @nbruin @dimpase @videlec @jdemeyer @fchapoton @novoselt

Keywords: lp

As observed in the comments in #20461:


```
sage: mip = MixedIntegerLinearProgram(solver='GLPK')
sage: mip.gen(0)           ### Names a variable, but does not create it in the backend
x_0
sage: mip.number_of_variables()
0
sage: mip[0]                  ### This now creates a variable. It prints the same as the result of gen(0), but is different.
x_0
sage: mip.get_values(mip.gen(0))
[...]
TypeError: Not a MIPVariable: x_0
sage: mip.is_real(mip.gen(0))
[...]
KeyError: x_0
sage: mip.is_real(mip[0])
True
```


Issue created by migration from https://trac.sagemath.org/ticket/20602





---

archive/issue_comments_280777.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-06-27T01:41:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280777",
    "user": "@mkoeppe"
}
```

New commits:



---

archive/issue_comments_280778.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-06-27T01:41:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280778",
    "user": "@mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_280779.json:
```json
{
    "body": "If the old methods were indeed always broken and could not be used for anything useful, I say - just delete (or fix) them instead of deprecating...",
    "created_at": "2016-06-27T02:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280779",
    "user": "@novoselt"
}
```

If the old methods were indeed always broken and could not be used for anything useful, I say - just delete (or fix) them instead of deprecating...



---

archive/issue_comments_280780.json:
```json
{
    "body": "It's possible that there's some user code around that uses these methods as part of a workaround for the many bugs that had to be fixed in `MixedIntegerLinearProgram` (see #20302 for a list). That's why I wanted to go the deprecation route with these methods.",
    "created_at": "2016-06-27T04:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280780",
    "user": "@mkoeppe"
}
```

It's possible that there's some user code around that uses these methods as part of a workaround for the many bugs that had to be fixed in `MixedIntegerLinearProgram` (see #20302 for a list). That's why I wanted to go the deprecation route with these methods.



---

archive/issue_comments_280781.json:
```json
{
    "body": "doc does not build + failing doctests, see patchbot report\n\n```\nOSError: [numerical] docstring of sage.numerical.mip:115:\nWARNING: Inline interpreted text or phrase reference start-string\nwithout end-string.\n```\n",
    "created_at": "2016-06-27T15:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280781",
    "user": "@fchapoton"
}
```

doc does not build + failing doctests, see patchbot report

```
OSError: [numerical] docstring of sage.numerical.mip:115:
WARNING: Inline interpreted text or phrase reference start-string
without end-string.
```




---

archive/issue_comments_280782.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-06-27T20:58:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280782",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_280783.json:
```json
{
    "body": "Still 2 failing doctests",
    "created_at": "2016-06-28T06:02:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280783",
    "user": "@fchapoton"
}
```

Still 2 failing doctests



---

archive/issue_comments_280784.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-07-07T10:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280784",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_280785.json:
```json
{
    "body": "I've changed the doctests to no longer use the deprecated methods.\nWhile doing this, I noticed that `LinearTensor` had some doctests that were copied from `LinearFunction` and were not testing the methods; and one of the methods needed fixing; done.",
    "created_at": "2016-07-07T10:33:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280785",
    "user": "@mkoeppe"
}
```

I've changed the doctests to no longer use the deprecated methods.
While doing this, I noticed that `LinearTensor` had some doctests that were copied from `LinearFunction` and were not testing the methods; and one of the methods needed fixing; done.



---

archive/issue_comments_280786.json:
```json
{
    "body": "ready for review.",
    "created_at": "2016-07-11T20:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280786",
    "user": "@mkoeppe"
}
```

ready for review.



---

archive/issue_comments_280787.json:
```json
{
    "body": "patchbots report nonsense; errors in a line that does not exist in the file `src/sage/coding/guava.py`. How can this happen, I have no clue.",
    "created_at": "2016-07-11T21:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280787",
    "user": "@dimpase"
}
```

patchbots report nonsense; errors in a line that does not exist in the file `src/sage/coding/guava.py`. How can this happen, I have no clue.



---

archive/issue_comments_280788.json:
```json
{
    "body": "Replying to [comment:13 dimpase]:\n> patchbots report nonsense; errors in a line that does not exist in the file `src/sage/coding/guava.py`. How can this happen, I have no clue.\n\nThe patchbot report was for 7.3.b6, and there was a real issue with guava, which has since\nbeen solved. I am launching my own bot on the ticket, but this bot has its own fake failures for the moment (solved in the next beta).",
    "created_at": "2016-07-12T06:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280788",
    "user": "@fchapoton"
}
```

Replying to [comment:13 dimpase]:
> patchbots report nonsense; errors in a line that does not exist in the file `src/sage/coding/guava.py`. How can this happen, I have no clue.

The patchbot report was for 7.3.b6, and there was a real issue with guava, which has since
been solved. I am launching my own bot on the ticket, but this bot has its own fake failures for the moment (solved in the next beta).



---

archive/issue_comments_280789.json:
```json
{
    "body": "patchbot is green (the 4 failures are not related to this ticket)",
    "created_at": "2016-07-13T18:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280789",
    "user": "@fchapoton"
}
```

patchbot is green (the 4 failures are not related to this ticket)



---

archive/issue_comments_280790.json:
```json
{
    "body": "OK, looks good.",
    "created_at": "2016-07-15T12:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280790",
    "user": "@dimpase"
}
```

OK, looks good.



---

archive/issue_comments_280791.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-07-15T12:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280791",
    "user": "@dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_280792.json:
```json
{
    "body": "Replying to [comment:17 mkoeppe]:\n\noh, right...",
    "created_at": "2016-07-15T12:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280792",
    "user": "@dimpase"
}
```

Replying to [comment:17 mkoeppe]:

oh, right...



---

archive/issue_comments_280793.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-07-16T20:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20365",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20365#issuecomment-280793",
    "user": "@vbraun"
}
```

Resolution: fixed
