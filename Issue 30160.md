# Issue 30160: Remove old Python 2 code from cython files

Issue created by migration from https://trac.sagemath.org/ticket/30397

Original creator: @tobiasdiez

Original creation time: 2020-08-19 19:33:38

CC:  mkoeppe @kliem

While working on #30371, I found a bit of code that was written for Python 2. This PR removes these obsolete code snippets.


---

Comment by @tobiasdiez created at 2020-08-19 19:34:02

New commits:


---

Comment by @tobiasdiez created at 2020-08-19 19:34:02

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-08-19 19:57:16

This all looks good, but could you please take out this part? User packages might be depending on these definitions.

```
diff --git a/src/sage_setup/command/sage_build_cython.py b/src/sage_setup/command/sage_build_cython.py
index 3faeaf0..c16f72c 100644
--- a/src/sage_setup/command/sage_build_cython.py
+++ b/src/sage_setup/command/sage_build_cython.py
@@ -161,8 +161,6 @@ class sage_build_cython(Command):
             profile=self.profile,
         )
         self.compile_time_env = dict(
-            PY_VERSION_HEX=sys.hexversion,
-            PY_MAJOR_VERSION=sys.version_info[0],
             PY_PLATFORM=sys.platform
         )
```



---

Comment by git created at 2020-08-19 20:14:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @tobiasdiez created at 2020-08-19 20:15:36

done


---

Comment by mkoeppe created at 2020-08-19 20:16:46

just waiting for the patchbot


---

Comment by @kliem created at 2020-08-20 06:36:29

This should help "my" patchbot find this ticket.


---

Comment by git created at 2020-08-20 09:07:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-08-20 18:39:12

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-08-23 16:27:37

Resolution: fixed
