# Issue 12622: Invalid simplification from Expression.simplify_rational()

archive/issues_012622.json:
```json
{
    "body": "Assignee: burcin\n\nWell, I thought this one was safe. Not so!\n\nIssue created by migration from https://trac.sagemath.org/ticket/12794\n\n",
    "created_at": "2012-04-02T17:12:09Z",
    "labels": [
        "symbolics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Invalid simplification from Expression.simplify_rational()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12622",
    "user": "mjo"
}
```
Assignee: burcin

Well, I thought this one was safe. Not so!

Issue created by migration from https://trac.sagemath.org/ticket/12794





---

archive/issue_comments_150102.json:
```json
{
    "body": "A .sage file exhibiting the problem",
    "created_at": "2012-04-02T17:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12622#issuecomment-150102",
    "user": "mjo"
}
```

A .sage file exhibiting the problem



---

archive/issue_comments_150103.json:
```json
{
    "body": "Attachment [simplify_rational_gone_wild.sage](tarball://root/attachments/some-uuid/ticket12794/simplify_rational_gone_wild.sage) by kcrisman created at 2012-04-03 03:42:07\n\nIf you could narrow it down, that would be helpful.   I'm adding this to the description, as well as the graphic.",
    "created_at": "2012-04-03T03:42:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12622#issuecomment-150103",
    "user": "kcrisman"
}
```

Attachment [simplify_rational_gone_wild.sage](tarball://root/attachments/some-uuid/ticket12794/simplify_rational_gone_wild.sage) by kcrisman created at 2012-04-03 03:42:07

If you could narrow it down, that would be helpful.   I'm adding this to the description, as well as the graphic.



---

archive/issue_comments_150104.json:
```json
{
    "body": "Shows the problem",
    "created_at": "2012-04-03T03:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12622#issuecomment-150104",
    "user": "kcrisman"
}
```

Shows the problem



---

archive/issue_comments_150105.json:
```json
{
    "body": "Attachment [tmp_0.png](tarball://root/attachments/some-uuid/ticket12794/tmp_0.png) by kcrisman created at 2012-04-03 03:46:03\n\nBut I should point out that there are lots of cool examples of \"simplification\" actually making things simpler.  Could this just be a loss of significance error? Otherwise, try \n\n```\nsage: plot(((x^3+4)^2-x^6)/x^3,(x,0,10^6))\n```\n\n(courtesy of the calculus text we currently teach from here).\n\nSo I'm more concerned about the left end of your graph than the right.",
    "created_at": "2012-04-03T03:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12622#issuecomment-150105",
    "user": "kcrisman"
}
```

Attachment [tmp_0.png](tarball://root/attachments/some-uuid/ticket12794/tmp_0.png) by kcrisman created at 2012-04-03 03:46:03

But I should point out that there are lots of cool examples of "simplification" actually making things simpler.  Could this just be a loss of significance error? Otherwise, try 

```
sage: plot(((x^3+4)^2-x^6)/x^3,(x,0,10^6))
```

(courtesy of the calculus text we currently teach from here).

So I'm more concerned about the left end of your graph than the right.



---

archive/issue_comments_150106.json:
```json
{
    "body": "Attachment [better.png](tarball://root/attachments/some-uuid/ticket12794/better.png) by kcrisman created at 2013-06-16 00:54:42\n\nshows the solution!",
    "created_at": "2013-06-16T00:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12622#issuecomment-150106",
    "user": "kcrisman"
}
```

Attachment [better.png](tarball://root/attachments/some-uuid/ticket12794/better.png) by kcrisman created at 2013-06-16 00:54:42

shows the solution!



---

archive/issue_comments_150107.json:
```json
{
    "body": "The attached picture actually is for #12795, but as it was the same, it's still worth posting here too.  I think they are probably both invalid, or more precisely are warnings about how rewriting expressions in different ways allows for a lot of numerical error to creep in.  Good stuff.  (Not good enough for me to want to teach a numerical analysis course, but good enough for me to want to *take* a numerical analysis course...)",
    "created_at": "2013-06-16T00:58:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12622#issuecomment-150107",
    "user": "kcrisman"
}
```

The attached picture actually is for #12795, but as it was the same, it's still worth posting here too.  I think they are probably both invalid, or more precisely are warnings about how rewriting expressions in different ways allows for a lot of numerical error to creep in.  Good stuff.  (Not good enough for me to want to teach a numerical analysis course, but good enough for me to want to *take* a numerical analysis course...)



---

archive/issue_comments_150108.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-12-04T01:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12622#issuecomment-150108",
    "user": "mjo"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_150109.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-04T01:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12622#issuecomment-150109",
    "user": "mjo"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_150110.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2015-12-04T22:13:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12622",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12622#issuecomment-150110",
    "user": "vbraun"
}
```

Resolution: invalid
