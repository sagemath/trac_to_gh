# Issue 26640: Bugfix: basis method of FusionRing

Issue created by migration from Trac.

Original creator: bump

Original creation time: 2018-12-11 14:47:18

CC:  tscrim sage-combinat bump

Keywords: FusionRing

For Type A and Type E6, E7 Fusion rings the roots do not span the ambient space. The basis should be projected into the space spanned by the roots.


```
sage: A22=FusionRing("A2",2)
sage: A22.basis()
Finite family {(0, 0, 0): A22(0,0), (1, 1, 0): A22(0,1), (1, 0, 0):
A22(1,0), (2, 0, 0): A22(2,0), (2, 2, 0): A22(0,2), (2, 1, 0): A22(1,1)}
sage: b=A22.basis().list()[2]; b
A22(1,0)
sage: b.highest_weight()
(1, 0, 0)
sage: A22(1,0).highest_weight()
(2/3, -1/3, -1/3)
```


The last two answers should be the same. The fix is to run the `from_vector_notation` method of the ambient space on the basis.



---

Comment by bump created at 2018-12-11 15:00:45

New commits:


---

Comment by bump created at 2018-12-11 21:19:16

Changing component from PLEASE CHANGE to combinatorics.


---

Comment by bump created at 2018-12-11 21:19:16

Changing type from PLEASE CHANGE to defect.


---

Comment by tscrim created at 2018-12-12 02:30:21

Ready for a full review?


---

Comment by bump created at 2018-12-12 16:18:52

Changing status from new to needs_review.


---

Comment by bump created at 2018-12-12 16:26:05

Replying to [comment:3 tscrim]:
> Ready for a full review?

I changed the  ticket to needs review.

One minor point: you had originally suggested making this test conditional
on `style="coroots"`. 

But if `FusionRing` is used as intended, style will be "coroots" every
time this code is reached, because the test is already conditioned on `k is not None`. 
So I omitted the test and pass `style=style` to the `from_vector_notation`.


---

Comment by git created at 2018-12-14 01:53:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-12-14 01:54:25

Good point about the style. I made a few small changes. If my changes are good, then positive review.


---

Comment by bump created at 2018-12-14 03:40:55

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-12-23 23:39:59

Resolution: fixed


---

Comment by embray created at 2018-12-28 14:06:38

This tickets were closed as fixed after the Sage 8.5 release.
