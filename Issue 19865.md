# Issue 19865: test fixed series expansion of powers of functions at poles

archive/issues_019865.json:
```json
{
    "body": "CC:  @rwst\n\nKeywords: pynac\n\nCurrently we have the following behavior:\n\n```\nsage: (gamma(x)^2).series(x==0, 2)\nTraceback (most recent call last):\n...\nValueError: psi_eval(): simple pole\nsage: (zeta(x)^2).series(x==1, 2)\n(Infinity) + (Infinity)*(x - 1) + Order((x - 1)^2)\nsage: (tan(x)^2).series(x==pi/2, 2)\n(Infinity) + (Infinity)*(-1/2*pi + x) + Order(1/4*(pi - 2*x)^2)\n```\n\n\nThis is fixed in the current development version of pynac. This ticket shall add corresponding doctests.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20102\n\n",
    "created_at": "2016-02-23T22:03:51Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "test fixed series expansion of powers of functions at poles",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19865",
    "user": "https://github.com/behackl"
}
```
CC:  @rwst

Keywords: pynac

Currently we have the following behavior:

```
sage: (gamma(x)^2).series(x==0, 2)
Traceback (most recent call last):
...
ValueError: psi_eval(): simple pole
sage: (zeta(x)^2).series(x==1, 2)
(Infinity) + (Infinity)*(x - 1) + Order((x - 1)^2)
sage: (tan(x)^2).series(x==pi/2, 2)
(Infinity) + (Infinity)*(-1/2*pi + x) + Order(1/4*(pi - 2*x)^2)
```


This is fixed in the current development version of pynac. This ticket shall add corresponding doctests.

Issue created by migration from https://trac.sagemath.org/ticket/20102





---

archive/issue_comments_272793.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-03-03T22:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272793",
    "user": "https://github.com/behackl"
}
```

New commits:



---

archive/issue_comments_272794.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-03T22:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272794",
    "user": "https://github.com/behackl"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_272795.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-03T22:39:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272795",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_272796.json:
```json
{
    "body": "Can be set to positive as soon as the dependency is reviewed.",
    "created_at": "2016-03-04T06:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272796",
    "user": "https://github.com/rwst"
}
```

Can be set to positive as soon as the dependency is reviewed.



---

archive/issue_comments_272797.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-04-17T08:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272797",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_272798.json:
```json
{
    "body": "There are some merge conflicts.",
    "created_at": "2016-04-17T08:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272798",
    "user": "https://github.com/rwst"
}
```

There are some merge conflicts.



---

archive/issue_comments_272799.json:
```json
{
    "body": "Well, this took quite some time: I just saw that I never finished the work on this ticket, but I'd like to have these series expansions documented and tested.\n\nHere is a new branch adding these particular doctests.\n----\nNew commits:",
    "created_at": "2019-04-29T16:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272799",
    "user": "https://github.com/behackl"
}
```

Well, this took quite some time: I just saw that I never finished the work on this ticket, but I'd like to have these series expansions documented and tested.

Here is a new branch adding these particular doctests.
----
New commits:



---

archive/issue_comments_272800.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-04-29T16:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272800",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_272801.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-06-08T05:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272801",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_272802.json:
```json
{
    "body": "ok, let it be",
    "created_at": "2019-06-08T05:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272802",
    "user": "https://github.com/fchapoton"
}
```

ok, let it be



---

archive/issue_events_018896.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2019-06-27T20:13:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19865#event-18896"
}
```



---

archive/issue_comments_272803.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-06-27T20:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272803",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_272804.json:
```json
{
    "body": "Not in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were *actually* included, especially when closing tickets.",
    "created_at": "2019-07-03T11:34:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19865",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19865#issuecomment-272804",
    "user": "https://github.com/embray"
}
```

Not in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were *actually* included, especially when closing tickets.
