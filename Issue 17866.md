# Issue 17866: cleanup number fields coerce embeddings

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2015-04-01 22:31:49

CC:  sstarosta

Currently, the default coerce embedding uses RLF (or CLF) but heavily relies on AA (or QQbar). It is bad for several reasons:
 - there is no coercion from RLF to AA
 - equality and comparisons in RLF are completely broken (because it relies on finite approximations)

```
sage: K.<cbrt3> = NumberField(x^3 - 3, embedding=1)
sage: b=(1+RLF(cbrt3))/2
sage: c=1/2 + 3/2*(RLF(cbrt3)/3)
sage: b == c
False
```


In this ticket we get rid of RLF/CLF for number field embeddings.


---

Comment by vdelecroix created at 2015-04-01 22:40:57

Changing keywords from "" to "sd66".


---

Comment by mmezzarobba created at 2015-04-13 14:07:05

Looks like a duplicate of #5355 and #12715.


---

Comment by vdelecroix created at 2015-04-13 14:15:47

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2015-04-13 14:15:47

Replying to [comment:2 mmezzarobba]:
> Looks like a duplicate of #5355 and #12715.

It is (of #12715). Could you close it?

I will add some details in #12715 (I have an implementation which works except for cyclotomic fields).

Vincent


---

Comment by mmezzarobba created at 2015-04-13 15:17:27

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-04-13 17:47:47

Resolution: duplicate
