# Issue 32883: Update plantri to 5.2 and fullgen

archive/issues_032883.json:
```json
{
    "body": "CC:  @fchapoton @slel\n\nThis ticket updates\n- `plantri` to version 5.2 which has been released on July 2, 2021 (https://users.cecs.anu.edu.au/~bdm/plantri/). The current version we use is 4.5 release in 2011...\n- `fullgen`. This tool is in the same package than `plantri` and it's code has been updated in 2016.\n\nIssue created by migration from https://trac.sagemath.org/ticket/33120\n\n",
    "created_at": "2022-01-05T15:43:39Z",
    "labels": [
        "packages: optional",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Update plantri to 5.2 and fullgen",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32883",
    "user": "@dcoudert"
}
```
CC:  @fchapoton @slel

This ticket updates
- `plantri` to version 5.2 which has been released on July 2, 2021 (https://users.cecs.anu.edu.au/~bdm/plantri/). The current version we use is 4.5 release in 2011...
- `fullgen`. This tool is in the same package than `plantri` and it's code has been updated in 2016.

Issue created by migration from https://trac.sagemath.org/ticket/33120





---

archive/issue_comments_468956.json:
```json
{
    "body": "Should we rename the source file `plantri-5.2.tar.gz`? Note that it creates directory `plantri52/`. So either we let as is, or we have to fully repackage `plantri`.\n\nNote that the package also contains `fullgen`, a generator of fullerenes. It was mentioned in #14618 but at the time buckygen was preferred due to licensing problems (I assume it's no longer an issue since we have plantri). So we could also use it... \n----\nNew commits:",
    "created_at": "2022-01-05T17:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468956",
    "user": "@dcoudert"
}
```

Should we rename the source file `plantri-5.2.tar.gz`? Note that it creates directory `plantri52/`. So either we let as is, or we have to fully repackage `plantri`.

Note that the package also contains `fullgen`, a generator of fullerenes. It was mentioned in #14618 but at the time buckygen was preferred due to licensing problems (I assume it's no longer an issue since we have plantri). So we could also use it... 
----
New commits:



---

archive/issue_comments_468957.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-01-05T17:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468957",
    "user": "@dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_468958.json:
```json
{
    "body": "Replying to [comment:1 dcoudert]:\n> Note that the package also contains `fullgen`, a generator of fullerenes. It was mentioned in #14618 but at the time buckygen was preferred due to licensing problems (I assume it's no longer an issue since we have plantri).\n\nAs far as I can see on the website, \"The programs are written in C and are free for all purposes other than sale for profit.\" - so this is still a non-free license.",
    "created_at": "2022-03-03T06:48:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468958",
    "user": "@mkoeppe"
}
```

Replying to [comment:1 dcoudert]:
> Note that the package also contains `fullgen`, a generator of fullerenes. It was mentioned in #14618 but at the time buckygen was preferred due to licensing problems (I assume it's no longer an issue since we have plantri).

As far as I can see on the website, "The programs are written in C and are free for all purposes other than sale for profit." - so this is still a non-free license.



---

archive/issue_comments_468959.json:
```json
{
    "body": "It's an optional package so we can make an interface, right ? Or should we ask something to authors ?",
    "created_at": "2022-03-04T10:22:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468959",
    "user": "@dcoudert"
}
```

It's an optional package so we can make an interface, right ? Or should we ask something to authors ?



---

archive/issue_comments_468960.json:
```json
{
    "body": "Sure, we also have another non-free package (`scipoptsuite`) as an optional package, as well as interfaces to the non-free solvers cplex, gurobi",
    "created_at": "2022-03-04T20:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468960",
    "user": "@mkoeppe"
}
```

Sure, we also have another non-free package (`scipoptsuite`) as an optional package, as well as interfaces to the non-free solvers cplex, gurobi



---

archive/issue_comments_468961.json:
```json
{
    "body": "I think `package-version.txt` should be 5.2, not 52",
    "created_at": "2022-03-07T21:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468961",
    "user": "@mkoeppe"
}
```

I think `package-version.txt` should be 5.2, not 52



---

archive/issue_comments_468962.json:
```json
{
    "body": "You are right, but upstream package is named `plantri52.tar.gz` and I don't see how to set `package-version.txt` to 5.2 without renaming the tarball.",
    "created_at": "2022-03-07T21:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468962",
    "user": "@dcoudert"
}
```

You are right, but upstream package is named `plantri52.tar.gz` and I don't see how to set `package-version.txt` to 5.2 without renaming the tarball.



---

archive/issue_comments_468963.json:
```json
{
    "body": "The tarball name for downloading is hardcoded in `upstream_url` and would have to be manually changed on the next update anyway. So you can hardcode it as well in `tarball`, instead of using `VERSION`.",
    "created_at": "2022-03-07T22:07:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468963",
    "user": "@mkoeppe"
}
```

The tarball name for downloading is hardcoded in `upstream_url` and would have to be manually changed on the next update anyway. So you can hardcode it as well in `tarball`, instead of using `VERSION`.



---

archive/issue_comments_468964.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-08T08:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468964",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468965.json:
```json
{
    "body": "Thanks for the hints.",
    "created_at": "2022-03-08T08:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468965",
    "user": "@dcoudert"
}
```

Thanks for the hints.



---

archive/issue_comments_468966.json:
```json
{
    "body": "Tested on macOS. Also tested building the package using `tox -e docker-ubuntu-trusty-minimal -- plantri`",
    "created_at": "2022-03-08T17:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468966",
    "user": "@mkoeppe"
}
```

Tested on macOS. Also tested building the package using `tox -e docker-ubuntu-trusty-minimal -- plantri`



---

archive/issue_comments_468967.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-08T17:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468967",
    "user": "@mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_468968.json:
```json
{
    "body": "Thank you !",
    "created_at": "2022-03-08T17:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468968",
    "user": "@dcoudert"
}
```

Thank you !



---

archive/issue_comments_468969.json:
```json
{
    "body": "Thank you. Much better like that.",
    "created_at": "2022-03-09T14:28:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468969",
    "user": "@dcoudert"
}
```

Thank you. Much better like that.



---

archive/issue_comments_468970.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-12T15:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32883",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32883#issuecomment-468970",
    "user": "@vbraun"
}
```

Resolution: fixed
