# Issue 32883: Update plantri to 5.2 and fullgen

Issue created by migration from https://trac.sagemath.org/ticket/33120

Original creator: dcoudert

Original creation time: 2022-01-05 15:43:39

CC:  chapoton slelievre

This ticket updates
- `plantri` to version 5.2 which has been released on July 2, 2021 (https://users.cecs.anu.edu.au/~bdm/plantri/). The current version we use is 4.5 release in 2011...
- `fullgen`. This tool is in the same package than `plantri` and it's code has been updated in 2016.


---

Comment by dcoudert created at 2022-01-05 17:04:09

Should we rename the source file `plantri-5.2.tar.gz`? Note that it creates directory `plantri52/`. So either we let as is, or we have to fully repackage `plantri`.

Note that the package also contains `fullgen`, a generator of fullerenes. It was mentioned in #14618 but at the time buckygen was preferred due to licensing problems (I assume it's no longer an issue since we have plantri). So we could also use it... 
----
New commits:


---

Comment by dcoudert created at 2022-01-05 17:04:09

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2022-03-03 06:48:50

Replying to [comment:1 dcoudert]:
> Note that the package also contains `fullgen`, a generator of fullerenes. It was mentioned in #14618 but at the time buckygen was preferred due to licensing problems (I assume it's no longer an issue since we have plantri).

As far as I can see on the website, "The programs are written in C and are free for all purposes other than sale for profit." - so this is still a non-free license.


---

Comment by dcoudert created at 2022-03-04 10:22:59

It's an optional package so we can make an interface, right ? Or should we ask something to authors ?


---

Comment by mkoeppe created at 2022-03-04 20:04:09

Sure, we also have another non-free package (`scipoptsuite`) as an optional package, as well as interfaces to the non-free solvers cplex, gurobi


---

Comment by mkoeppe created at 2022-03-07 21:01:01

I think `package-version.txt` should be 5.2, not 52


---

Comment by dcoudert created at 2022-03-07 21:14:40

You are right, but upstream package is named `plantri52.tar.gz` and I don't see how to set `package-version.txt` to 5.2 without renaming the tarball.


---

Comment by mkoeppe created at 2022-03-07 22:07:40

The tarball name for downloading is hardcoded in `upstream_url` and would have to be manually changed on the next update anyway. So you can hardcode it as well in `tarball`, instead of using `VERSION`.


---

Comment by git created at 2022-03-08 08:44:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2022-03-08 08:45:25

Thanks for the hints.


---

Comment by mkoeppe created at 2022-03-08 17:52:59

Tested on macOS. Also tested building the package using `tox -e docker-ubuntu-trusty-minimal -- plantri`


---

Comment by mkoeppe created at 2022-03-08 17:52:59

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2022-03-08 17:54:45

Thank you !


---

Comment by dcoudert created at 2022-03-09 14:28:03

Thank you. Much better like that.


---

Comment by vbraun created at 2022-03-12 15:11:13

Resolution: fixed
