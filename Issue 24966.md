# Issue 24966: Speed up FiniteField.zeta()

Issue created by migration from https://trac.sagemath.org/ticket/25203

Original creator: jdemeyer

Original creation time: 2018-04-18 12:15:02

Something like this takes forever:

```
sage: GF(2^1000).zeta(3)
```

This is because `k.zeta()` is implemented by taking the power of a multiplicative generator, but computing a multiplicative generator can take a very long time.


---

Comment by jdemeyer created at 2018-04-19 08:54:56

New commits:


---

Comment by jdemeyer created at 2018-04-19 08:54:56

Changing status from new to needs_review.


---

Comment by git created at 2018-04-19 12:35:32

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2018-05-01 12:55:06

There is no clear specifications with `R.zeta(n)` for a general ring `R` but I would expect `R.zeta(m*n) ** m == R.zeta(n)` to be `True`. This might not be the case anymore with your implementation that returns "some" root of unity. I do think that your version is more useful than the previous one. But perhaps not appropriate for the name "zeta". What do you think?


---

Comment by vdelecroix created at 2018-05-01 12:55:06

Changing status from needs_review to needs_info.


---

Comment by jdemeyer created at 2018-05-01 14:35:57

I am wondering if we can somehow compute `zeta(n)` in a compatible way. Suppose that somebody first asks for `zeta(n)` and then `zeta(n * m)`, can we enforce compatibility? Or do we need discrete logs for that?


---

Comment by git created at 2018-05-01 17:38:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2018-05-01 17:39:23

I just talked to Luca and we both think that it's hard to enforce compatibility for large finite fields. So I suggest that we don't do this. I added a warning to the documentation to explain this.


---

Comment by jdemeyer created at 2018-05-01 19:21:12

Changing status from needs_info to needs_review.


---

Comment by vdelecroix created at 2018-05-02 05:38:07

The doctest

```
sage: k.<a> = GF(2^2000)
sage: p = 8877945148742945001146041439025147034098690503591013177336356694416517527310181938001
sage: z = k.zeta(p)
sage: z ^ p
1
```

is not wonderful as it might well be that `z = 1`. Sadly `z.multiplicative_order()` does not terminate.


---

Comment by git created at 2018-05-02 07:43:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2018-05-02 08:42:14

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-05-14 17:35:38

Resolution: fixed
