# Issue 17320: creating a (136,4,1)-BIBD raises an exception

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2014-12-27 18:14:54

CC:  vdelecroix

Just a bug


```
sage: designs.balanced_incomplete_block_design(136,4)
...
TypeError: unsupported operand type(s) for +: 'TransversalDesign' and 'list'
```



---

Comment by ncohen created at 2014-12-27 18:18:16

Changing status from new to needs_review.


---

Comment by ncohen created at 2014-12-27 18:18:16

New commits:


---

Comment by git created at 2014-12-27 18:19:21

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2014-12-27 18:52:15

Hi Nathann,

What about a doctest?

Vincent


---

Comment by git created at 2014-12-28 03:05:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2014-12-28 03:05:55

I can't do anything smarter than that !

Nathann


---

Comment by vdelecroix created at 2014-12-28 09:33:18

Hello,

The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.

Vincent
----
New commits:


---

Comment by git created at 2014-12-28 09:46:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2014-12-28 09:47:44

Replacing `Set` with `frozenset` in `steiner_triple_system` I got a times 10 speedup (from 40ms to 4ms)!!


---

Comment by ncohen created at 2014-12-28 09:56:08

Yo !

> The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.

Oh, sorry. But instead of this complicated loop with random values and the if to set the modulos right, could you just change the 100 to 400 ? It takes 3 seconds, and is way more systematic and easier to read.

Thanks for the speedup in steiner triple systems.

Nathann


---

Comment by git created at 2014-12-28 10:20:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2014-12-28 10:22:25

Replying to [comment:9 ncohen]:
> Yo !
> 
> > The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.
> 
> Oh, sorry. But instead of this complicated loop with random values and the if to set the modulos right, could you just change the 100 to 400 ? It takes 3 seconds, and is way more systematic and easier to read.

Actually, I was wrong. The first test checks the function `v_4_1_BIBD` while the second one checks `designs.balanced_incomplete_block_design`. So it is fine to start again from `13`.

Vincent


---

Comment by ncohen created at 2014-12-28 10:26:40

Yooooooooo !

Well, I still don't know why you care so much about avoiding 13 BIBD of small size... Nor why you want to have a doctest for 136 right before having a doctest for 13-400.. But WELL, this is fixed `:-D`

Can we set it to `positive review` or is there anything else ???

Thanks for your help,

Nathann


---

Comment by git created at 2014-12-28 10:42:04

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vdelecroix created at 2014-12-28 10:43:33

Forced push. You can set to positive review if you like it.


---

Comment by ncohen created at 2014-12-28 10:45:11

No objection ! Thanks !

Nathann


---

Comment by ncohen created at 2014-12-28 10:45:11

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-01-02 22:12:34

Resolution: fixed
