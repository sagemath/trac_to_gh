# Issue 17320: creating a (136,4,1)-BIBD raises an exception

archive/issues_017320.json:
```json
{
    "body": "CC:  @videlec\n\nJust a bug\n\n\n```\nsage: designs.balanced_incomplete_block_design(136,4)\n...\nTypeError: unsupported operand type(s) for +: 'TransversalDesign' and 'list'\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/17557\n\n",
    "created_at": "2014-12-27T18:14:54Z",
    "labels": [
        "combinatorial designs",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "creating a (136,4,1)-BIBD raises an exception",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17320",
    "user": "@nathanncohen"
}
```
CC:  @videlec

Just a bug


```
sage: designs.balanced_incomplete_block_design(136,4)
...
TypeError: unsupported operand type(s) for +: 'TransversalDesign' and 'list'
```


Issue created by migration from https://trac.sagemath.org/ticket/17557





---

archive/issue_comments_230732.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-12-27T18:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230732",
    "user": "@nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_230733.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-12-27T18:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230733",
    "user": "@nathanncohen"
}
```

New commits:



---

archive/issue_comments_230734.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-12-27T18:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230734",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_230735.json:
```json
{
    "body": "Hi Nathann,\n\nWhat about a doctest?\n\nVincent",
    "created_at": "2014-12-27T18:52:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230735",
    "user": "@videlec"
}
```

Hi Nathann,

What about a doctest?

Vincent



---

archive/issue_comments_230736.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-28T03:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230736",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_230737.json:
```json
{
    "body": "I can't do anything smarter than that !\n\nNathann",
    "created_at": "2014-12-28T03:05:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230737",
    "user": "@nathanncohen"
}
```

I can't do anything smarter than that !

Nathann



---

archive/issue_comments_230738.json:
```json
{
    "body": "Hello,\n\nThe values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.\n\nVincent\n----\nNew commits:",
    "created_at": "2014-12-28T09:33:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230738",
    "user": "@videlec"
}
```

Hello,

The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.

Vincent
----
New commits:



---

archive/issue_comments_230739.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-28T09:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230739",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_230740.json:
```json
{
    "body": "Replacing `Set` with `frozenset` in `steiner_triple_system` I got a times 10 speedup (from 40ms to 4ms)!!",
    "created_at": "2014-12-28T09:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230740",
    "user": "@videlec"
}
```

Replacing `Set` with `frozenset` in `steiner_triple_system` I got a times 10 speedup (from 40ms to 4ms)!!



---

archive/issue_comments_230741.json:
```json
{
    "body": "Yo !\n\n> The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.\n\nOh, sorry. But instead of this complicated loop with random values and the if to set the modulos right, could you just change the 100 to 400 ? It takes 3 seconds, and is way more systematic and easier to read.\n\nThanks for the speedup in steiner triple systems.\n\nNathann",
    "created_at": "2014-12-28T09:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230741",
    "user": "@nathanncohen"
}
```

Yo !

> The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.

Oh, sorry. But instead of this complicated loop with random values and the if to set the modulos right, could you just change the 100 to 400 ? It takes 3 seconds, and is way more systematic and easier to read.

Thanks for the speedup in steiner triple systems.

Nathann



---

archive/issue_comments_230742.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-12-28T10:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230742",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_230743.json:
```json
{
    "body": "Replying to [comment:9 ncohen]:\n> Yo !\n> \n> > The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.\n> \n> Oh, sorry. But instead of this complicated loop with random values and the if to set the modulos right, could you just change the 100 to 400 ? It takes 3 seconds, and is way more systematic and easier to read.\n\nActually, I was wrong. The first test checks the function `v_4_1_BIBD` while the second one checks `designs.balanced_incomplete_block_design`. So it is fine to start again from `13`.\n\nVincent",
    "created_at": "2014-12-28T10:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230743",
    "user": "@videlec"
}
```

Replying to [comment:9 ncohen]:
> Yo !
> 
> > The values from `0` to `99` were already tested in a loop above. And it would be better if the specific value `v=136` is tested alone. See my commit.
> 
> Oh, sorry. But instead of this complicated loop with random values and the if to set the modulos right, could you just change the 100 to 400 ? It takes 3 seconds, and is way more systematic and easier to read.

Actually, I was wrong. The first test checks the function `v_4_1_BIBD` while the second one checks `designs.balanced_incomplete_block_design`. So it is fine to start again from `13`.

Vincent



---

archive/issue_comments_230744.json:
```json
{
    "body": "Yooooooooo !\n\nWell, I still don't know why you care so much about avoiding 13 BIBD of small size... Nor why you want to have a doctest for 136 right before having a doctest for 13-400.. But WELL, this is fixed `:-D`\n\nCan we set it to `positive review` or is there anything else ???\n\nThanks for your help,\n\nNathann",
    "created_at": "2014-12-28T10:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230744",
    "user": "@nathanncohen"
}
```

Yooooooooo !

Well, I still don't know why you care so much about avoiding 13 BIBD of small size... Nor why you want to have a doctest for 136 right before having a doctest for 13-400.. But WELL, this is fixed `:-D`

Can we set it to `positive review` or is there anything else ???

Thanks for your help,

Nathann



---

archive/issue_comments_230745.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-12-28T10:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230745",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_230746.json:
```json
{
    "body": "Forced push. You can set to positive review if you like it.",
    "created_at": "2014-12-28T10:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230746",
    "user": "@videlec"
}
```

Forced push. You can set to positive review if you like it.



---

archive/issue_comments_230747.json:
```json
{
    "body": "No objection ! Thanks !\n\nNathann",
    "created_at": "2014-12-28T10:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230747",
    "user": "@nathanncohen"
}
```

No objection ! Thanks !

Nathann



---

archive/issue_comments_230748.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-28T10:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230748",
    "user": "@nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_230749.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-01-02T22:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17320#issuecomment-230749",
    "user": "@vbraun"
}
```

Resolution: fixed
