# Issue 18524: method submatrix of matrix_mod2_dense needs default arguments

archive/issues_018524.json:
```json
{
    "body": "CC:  malb\n\nKeywords: dense matrix, sub matrix\n\nThe `submatrix` methods for dense matrices mod 2<sup>e</sup> have a different signature than the other `submatrix` methods; the latter treat their last two arguments as optional. This leads to errors like this (from 6.8.beta5):\n\n\n```\nsage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])\nsage: d0._echelon_form_PID()---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: submatrix() takes exactly 4 positional arguments (2 given)\n```\n \n\nor this\n\n\n```\nsage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])\nsage: d1=matrix(GF(2),[[1, 1, 0, 0],\n [1, 1, 0, 0],\n [1, 1, 1, 1],\n [1, 1, 1, 1],\n [0, 0, 1, 1],\n [0, 0, 1, 1]]\n)\nsage: C=ChainComplex(data=(d0,d1))\nsage: C.homology(1,generators=True)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: submatrix() takes exactly 4 positional arguments (2 given)\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/18761\n\n",
    "created_at": "2015-06-22T18:07:58Z",
    "labels": [
        "linear algebra",
        "major",
        "bug"
    ],
    "title": "method submatrix of matrix_mod2_dense needs default arguments",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18524",
    "user": "cnassau"
}
```
CC:  malb

Keywords: dense matrix, sub matrix

The `submatrix` methods for dense matrices mod 2<sup>e</sup> have a different signature than the other `submatrix` methods; the latter treat their last two arguments as optional. This leads to errors like this (from 6.8.beta5):


```
sage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])
sage: d0._echelon_form_PID()---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: submatrix() takes exactly 4 positional arguments (2 given)
```
 

or this


```
sage: d0=matrix(GF(2),[[1, 1], [1, 1], [1, 1], [1, 1]])
sage: d1=matrix(GF(2),[[1, 1, 0, 0],
 [1, 1, 0, 0],
 [1, 1, 1, 1],
 [1, 1, 1, 1],
 [0, 0, 1, 1],
 [0, 0, 1, 1]]
)
sage: C=ChainComplex(data=(d0,d1))
sage: C.homology(1,generators=True)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: submatrix() takes exactly 4 positional arguments (2 given)
```


Issue created by migration from https://trac.sagemath.org/ticket/18761





---

archive/issue_comments_251949.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-06-22T19:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18524#issuecomment-251949",
    "user": "cnassau"
}
```

New commits:



---

archive/issue_comments_251950.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-06-22T19:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18524#issuecomment-251950",
    "user": "cnassau"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_251951.json:
```json
{
    "body": "I have given the submatrix methods the same signature as in file \"matrix1.pyx\". This includes a name change of the arguments, because in parts of Sage (eg, `ChainComplex._homology_generators_snf`) the method is called with named arguments.\n\nI also made this change: \n\n```\n-        if self._ncols == 0 or self._nrows == 0:\n+        if ncols == 0 or nrows == 0:\n```\n\nThis fixed a segfault in my tests, and also seems to make more sense that the original: one returns an uninitialized matrix if *it* is empty, not if *self* is empty.\n\nCaveat: I have no detailed understanding of m4rie, someone knowledgeable might want to have a look at my changes.",
    "created_at": "2015-06-22T19:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18524#issuecomment-251951",
    "user": "cnassau"
}
```

I have given the submatrix methods the same signature as in file "matrix1.pyx". This includes a name change of the arguments, because in parts of Sage (eg, `ChainComplex._homology_generators_snf`) the method is called with named arguments.

I also made this change: 

```
-        if self._ncols == 0 or self._nrows == 0:
+        if ncols == 0 or nrows == 0:
```

This fixed a segfault in my tests, and also seems to make more sense that the original: one returns an uninitialized matrix if *it* is empty, not if *self* is empty.

Caveat: I have no detailed understanding of m4rie, someone knowledgeable might want to have a look at my changes.



---

archive/issue_comments_251952.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2015-06-23T08:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18524#issuecomment-251952",
    "user": "malb"
}
```

Looks good to me.



---

archive/issue_comments_251953.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-23T08:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18524#issuecomment-251953",
    "user": "malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_251954.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-06-24T10:06:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18524#issuecomment-251954",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_251955.json:
```json
{
    "body": "Reviewer name is missing",
    "created_at": "2015-06-24T10:06:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18524#issuecomment-251955",
    "user": "vbraun"
}
```

Reviewer name is missing



---

archive/issue_comments_251956.json:
```json
{
    "body": "I have added the name of the reviewer, and taken the liberty to revert the status to positive-review again myself.",
    "created_at": "2015-06-24T10:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18524#issuecomment-251956",
    "user": "cnassau"
}
```

I have added the name of the reviewer, and taken the liberty to revert the status to positive-review again myself.



---

archive/issue_comments_251957.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-06-24T10:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18524#issuecomment-251957",
    "user": "cnassau"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_251958.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-24T20:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18524",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18524#issuecomment-251958",
    "user": "vbraun"
}
```

Resolution: fixed
