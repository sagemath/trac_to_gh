# Issue 15060: Elements from a Field of Fractions that compare equal should have equal hashes

Issue created by migration from Trac.

Original creator: Stefan

Original creation time: 2013-10-16 19:41:39

CC:  yzh mkoeppe

Keywords: field of fractions, hashing

Sage can't guarantee that `p == q` implies `hash(p) == hash(q)`, but it is not unreasonable to strive to make this work in case `p,q` belong to the same ring or field.

This ticket deals with Fields of Fractions. The proposed solution from this post appears to do the trick:
https://groups.google.com/forum/#!topic/sage-devel/TOp_5LCBBR4

Example:

```
sage: R.<x> = ZZ['x']
sage: F = R.fraction_field()
sage: p = 1/(1-x)
sage: q = (-1)/(x-1)
sage: p == q
True
sage: hash(p) == hash(q)
False
```



---

Comment by mkoeppe created at 2018-09-28 21:12:47

Still broken even with #16268; see #26339.


---

Comment by mkoeppe created at 2020-05-02 01:09:05

Still broken in 9.1.rc2


---

Comment by mkoeppe created at 2021-03-27 02:13:38

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.
