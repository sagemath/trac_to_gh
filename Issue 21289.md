# Issue 21289: package autotools: '$SAGE_LOCAL/automake-1.11.6/share/aclocal': No such file or directory

Issue created by migration from https://trac.sagemath.org/ticket/21526

Original creator: mkoeppe

Original creation time: 2016-09-18 01:32:48

I get this when installing `ecm`.

A workaround is:

```
cd automake-1.11.6/share/ && ln -s aclocal-1.11/ aclocal

```


Unclear if this a bug of a specific automake version, or a general shortcoming of the installation scheme of our autotools. This needs investigating.



---

Comment by embray created at 2017-07-17 14:54:06

I'm seeing this too when trying to build giac.


---

Comment by embray created at 2017-07-17 15:13:24

The directory it's complaining about is a path that `aclocal` searches for "system-wide" m4 macros (which since we install a bunch of automake versions ends up localized to `local/automake-<version>`).  Some newer automake versions are creating this directory by default (empty, except for a `README` file) whereas older versions, it seems, do not create it by default.

For older versions we may have to create it.

`aclocal` has a function that scans this directory for m4 macros, but the function errors out if the directory does not exist (which itself seems a bit unnecessary...)


---

Comment by embray created at 2017-07-17 18:09:13

Changing component from packages: experimental to packages: optional.


---

Comment by embray created at 2017-07-17 18:09:13

Changing status from new to needs_review.


---

Comment by embray created at 2017-07-17 18:09:13

This fixes the issue.  The question remains why building giac is invoking autoconf in the first place--it shouldn't be.  But that's a separate issue.
----
New commits:


---

Comment by mkoeppe created at 2017-08-30 04:58:58

Looks good to me.

It seems to be recommended though that the patch level is increased when there is a change to the package like this.


---

Comment by embray created at 2017-08-30 09:10:35

You are right, it should probably bump the patch level.


---

Comment by git created at 2017-08-30 09:13:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2017-08-31 04:46:51

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-09-04 06:10:58

Resolution: fixed
