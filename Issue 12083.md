# Issue 12083: coeffs() fails on symbolic functions

archive/issues_012083.json:
```json
{
    "body": "Assignee: @burcin\n\nThis was reported on sage-support:\n\n  http://groups.google.com/group/sage-support/t/fa439b8dd28daaa8\n\nAs of 4.8.alpha6,\n\n\n```\nsage: g = function('g', var('t'))\nsage: f = 3*g + g**2 + t\nsage: f.coeffs(g)\n...\nValueError: The name \"g(t)\" is not a valid Python identifier.\n```\n\n\nThis worked in 4.7,\n\n\n```\nsage: f.coeffs(g)\n[[g(t)^2 + t + 3*g(t), 0]]\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/12255\n\n",
    "created_at": "2012-01-03T16:21:22Z",
    "labels": [
        "symbolics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "coeffs() fails on symbolic functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12083",
    "user": "@orlitzky"
}
```
Assignee: @burcin

This was reported on sage-support:

  http://groups.google.com/group/sage-support/t/fa439b8dd28daaa8

As of 4.8.alpha6,


```
sage: g = function('g', var('t'))
sage: f = 3*g + g**2 + t
sage: f.coeffs(g)
...
ValueError: The name "g(t)" is not a valid Python identifier.
```


This worked in 4.7,


```
sage: f.coeffs(g)
[[g(t)^2 + t + 3*g(t), 0]]
```


Issue created by migration from https://trac.sagemath.org/ticket/12255





---

archive/issue_comments_140112.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-01-31T08:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12083#issuecomment-140112",
    "user": "@rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_140113.json:
```json
{
    "body": "This seems fixed now (still wasn't in 6.2):\n\n```\n/home/ralf/sage/src/bin/sage-ipython:1: DeprecationWarning: coeffs is deprecated. Please use coefficients instead.\nSee http://trac.sagemath.org/17438 for details.\n  #!/usr/bin/env python\n[[t, 0], [3, 1], [1, 2]]\n```\n",
    "created_at": "2015-01-31T08:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12083#issuecomment-140113",
    "user": "@rwst"
}
```

This seems fixed now (still wasn't in 6.2):

```
/home/ralf/sage/src/bin/sage-ipython:1: DeprecationWarning: coeffs is deprecated. Please use coefficients instead.
See http://trac.sagemath.org/17438 for details.
  #!/usr/bin/env python
[[t, 0], [3, 1], [1, 2]]
```




---

archive/issue_comments_140114.json:
```json
{
    "body": "Indeed, but let's add a doctest to `Expression.coefficients()` if you don't mind.\n----\nNew commits:",
    "created_at": "2015-01-31T17:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12083#issuecomment-140114",
    "user": "@orlitzky"
}
```

Indeed, but let's add a doctest to `Expression.coefficients()` if you don't mind.
----
New commits:



---

archive/issue_comments_140115.json:
```json
{
    "body": "Is fine!",
    "created_at": "2015-02-01T06:25:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12083#issuecomment-140115",
    "user": "@rwst"
}
```

Is fine!



---

archive/issue_comments_140116.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-02-01T06:25:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12083#issuecomment-140116",
    "user": "@rwst"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_140117.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-02-17T19:28:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12083",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12083#issuecomment-140117",
    "user": "@vbraun"
}
```

Resolution: fixed
