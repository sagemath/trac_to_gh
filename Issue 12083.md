# Issue 12083: coeffs() fails on symbolic functions

Issue created by migration from https://trac.sagemath.org/ticket/12255

Original creator: mjo

Original creation time: 2012-01-03 16:21:22

Assignee: burcin

This was reported on sage-support:

  http://groups.google.com/group/sage-support/t/fa439b8dd28daaa8

As of 4.8.alpha6,


```
sage: g = function('g', var('t'))
sage: f = 3*g + g**2 + t
sage: f.coeffs(g)
...
ValueError: The name "g(t)" is not a valid Python identifier.
```


This worked in 4.7,


```
sage: f.coeffs(g)
[[g(t)^2 + t + 3*g(t), 0]]
```



---

Comment by rws created at 2015-01-31 08:56:46

Changing status from new to needs_review.


---

Comment by rws created at 2015-01-31 08:56:46

This seems fixed now (still wasn't in 6.2):

```
/home/ralf/sage/src/bin/sage-ipython:1: DeprecationWarning: coeffs is deprecated. Please use coefficients instead.
See http://trac.sagemath.org/17438 for details.
  #!/usr/bin/env python
[[t, 0], [3, 1], [1, 2]]
```



---

Comment by mjo created at 2015-01-31 17:17:48

Indeed, but let's add a doctest to `Expression.coefficients()` if you don't mind.
----
New commits:


---

Comment by rws created at 2015-02-01 06:25:10

Is fine!


---

Comment by rws created at 2015-02-01 06:25:10

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-02-17 19:28:22

Resolution: fixed
