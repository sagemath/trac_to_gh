# Issue 20007: root_field() does not work for p-adic fields

Issue created by migration from Trac.

Original creator: saraedum

Original creation time: 2016-03-21 17:48:59

Keywords: days71, beginner


```
sage: R.<x> = Qp(3)[]
sage: (x^3+3).root_field('a')
Univariate Quotient Polynomial Ring in a over 3-adic Field with capped relative precision 20 with modulus (1 + O(3^20))*x^3 + (3 + O(3^21))
```


Also the documentation is somewhat confusing. It should be made clear that this is not the same as `splitting_field()`.


---

Comment by immi created at 2016-03-23 16:31:55

Changing status from new to needs_review.


---

Comment by immi created at 2016-03-23 16:31:55

New commits:


---

Comment by roed created at 2016-03-23 16:35:19

Looks good.  I doubt that anywhere else in Sage was using root_field for p-adic polynomials, since polynomial quotient rings have so little functionality.


---

Comment by roed created at 2016-03-23 16:35:19

Changing status from needs_review to positive_review.


---

Comment by wuthrich created at 2016-03-24 21:39:03

Maybe, in to avoid rewriting doctest twice, it would be good to put this in after #20254.


---

Comment by roed created at 2016-03-24 22:03:49

Why not have #20254 depend on this?  With this this change, using `root_field` should be perfectly fine.


---

Comment by wuthrich created at 2016-03-24 22:40:24

If I were to do both I would do it the other way around to save me the work of changing the doctests in padic_lseries twice. But if this is urgent, then just change the output there and I adapt mine on top of this.


---

Comment by roed created at 2016-03-24 22:54:10

I don't understand why you would need to change the doctests in `padic_lseries` twice.  Just because root_field works now doesn't mean you need to use it....

Can you push a branch to #20254 so I can look at the doctests you're referring to?


---

Comment by wuthrich created at 2016-03-25 00:48:27

if you change `root_field` the printing of the p-adic L-functions of elliptic curves will change. I found some errors and they will actually change by some factor 2, too. So they will be changed twice.

It doesn't matter. By now I have written more then the double change will cause :)


---

Comment by vbraun created at 2016-03-25 08:36:51


```
sage -t --long src/sage/misc/cachefunc.pyx  # 1 doctest failed
sage -t --long src/sage/schemes/elliptic_curves/padic_lseries.py  # 7 doctests failed
sage -t --long src/sage/schemes/elliptic_curves/sha_tate.py  # 1 doctest failed
```



---

Comment by vbraun created at 2016-03-25 08:37:04

Changing status from positive_review to needs_work.


---

Comment by wuthrich created at 2016-03-27 13:10:21

I believe that applying this ticket after #20254 should get rid of the doctest problems found above. I will run the test later today.


---

Comment by roed created at 2017-07-17 17:43:32

Changing keywords from "days71, beginner" to "days71, beginner, sd87".


---

Comment by aly.deines created at 2017-07-19 14:04:05

The doctests that failed above now pass (all doctest now pass.)


---

Comment by aly.deines created at 2017-07-19 14:04:05

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2017-07-26 22:13:36

Resolution: fixed
