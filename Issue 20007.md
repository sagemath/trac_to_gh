# Issue 20007: root_field() does not work for p-adic fields

archive/issues_020007.json:
```json
{
    "body": "Keywords: days71, beginner\n\n\n```\nsage: R.<x> = Qp(3)[]\nsage: (x^3+3).root_field('a')\nUnivariate Quotient Polynomial Ring in a over 3-adic Field with capped relative precision 20 with modulus (1 + O(3^20))*x^3 + (3 + O(3^21))\n```\n\n\nAlso the documentation is somewhat confusing. It should be made clear that this is not the same as `splitting_field()`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20244\n\n",
    "created_at": "2016-03-21T17:48:59Z",
    "labels": [
        "padics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "root_field() does not work for p-adic fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20007",
    "user": "saraedum"
}
```
Keywords: days71, beginner


```
sage: R.<x> = Qp(3)[]
sage: (x^3+3).root_field('a')
Univariate Quotient Polynomial Ring in a over 3-adic Field with capped relative precision 20 with modulus (1 + O(3^20))*x^3 + (3 + O(3^21))
```


Also the documentation is somewhat confusing. It should be made clear that this is not the same as `splitting_field()`.

Issue created by migration from https://trac.sagemath.org/ticket/20244





---

archive/issue_comments_275623.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-03-23T16:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275623",
    "user": "immi"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_275624.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-03-23T16:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275624",
    "user": "immi"
}
```

New commits:



---

archive/issue_comments_275625.json:
```json
{
    "body": "Looks good.  I doubt that anywhere else in Sage was using root_field for p-adic polynomials, since polynomial quotient rings have so little functionality.",
    "created_at": "2016-03-23T16:35:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275625",
    "user": "roed"
}
```

Looks good.  I doubt that anywhere else in Sage was using root_field for p-adic polynomials, since polynomial quotient rings have so little functionality.



---

archive/issue_comments_275626.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-03-23T16:35:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275626",
    "user": "roed"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_275627.json:
```json
{
    "body": "Maybe, in to avoid rewriting doctest twice, it would be good to put this in after #20254.",
    "created_at": "2016-03-24T21:39:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275627",
    "user": "wuthrich"
}
```

Maybe, in to avoid rewriting doctest twice, it would be good to put this in after #20254.



---

archive/issue_comments_275628.json:
```json
{
    "body": "Why not have #20254 depend on this?  With this this change, using `root_field` should be perfectly fine.",
    "created_at": "2016-03-24T22:03:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275628",
    "user": "roed"
}
```

Why not have #20254 depend on this?  With this this change, using `root_field` should be perfectly fine.



---

archive/issue_comments_275629.json:
```json
{
    "body": "If I were to do both I would do it the other way around to save me the work of changing the doctests in padic_lseries twice. But if this is urgent, then just change the output there and I adapt mine on top of this.",
    "created_at": "2016-03-24T22:40:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275629",
    "user": "wuthrich"
}
```

If I were to do both I would do it the other way around to save me the work of changing the doctests in padic_lseries twice. But if this is urgent, then just change the output there and I adapt mine on top of this.



---

archive/issue_comments_275630.json:
```json
{
    "body": "I don't understand why you would need to change the doctests in `padic_lseries` twice.  Just because root_field works now doesn't mean you need to use it....\n\nCan you push a branch to #20254 so I can look at the doctests you're referring to?",
    "created_at": "2016-03-24T22:54:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275630",
    "user": "roed"
}
```

I don't understand why you would need to change the doctests in `padic_lseries` twice.  Just because root_field works now doesn't mean you need to use it....

Can you push a branch to #20254 so I can look at the doctests you're referring to?



---

archive/issue_comments_275631.json:
```json
{
    "body": "if you change `root_field` the printing of the p-adic L-functions of elliptic curves will change. I found some errors and they will actually change by some factor 2, too. So they will be changed twice.\n\nIt doesn't matter. By now I have written more then the double change will cause :)",
    "created_at": "2016-03-25T00:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275631",
    "user": "wuthrich"
}
```

if you change `root_field` the printing of the p-adic L-functions of elliptic curves will change. I found some errors and they will actually change by some factor 2, too. So they will be changed twice.

It doesn't matter. By now I have written more then the double change will cause :)



---

archive/issue_comments_275632.json:
```json
{
    "body": "\n```\nsage -t --long src/sage/misc/cachefunc.pyx  # 1 doctest failed\nsage -t --long src/sage/schemes/elliptic_curves/padic_lseries.py  # 7 doctests failed\nsage -t --long src/sage/schemes/elliptic_curves/sha_tate.py  # 1 doctest failed\n```\n",
    "created_at": "2016-03-25T08:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275632",
    "user": "vbraun"
}
```


```
sage -t --long src/sage/misc/cachefunc.pyx  # 1 doctest failed
sage -t --long src/sage/schemes/elliptic_curves/padic_lseries.py  # 7 doctests failed
sage -t --long src/sage/schemes/elliptic_curves/sha_tate.py  # 1 doctest failed
```




---

archive/issue_comments_275633.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-03-25T08:37:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275633",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_275634.json:
```json
{
    "body": "I believe that applying this ticket after #20254 should get rid of the doctest problems found above. I will run the test later today.",
    "created_at": "2016-03-27T13:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275634",
    "user": "wuthrich"
}
```

I believe that applying this ticket after #20254 should get rid of the doctest problems found above. I will run the test later today.



---

archive/issue_comments_275635.json:
```json
{
    "body": "Changing keywords from \"days71, beginner\" to \"days71, beginner, sd87\".",
    "created_at": "2017-07-17T17:43:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275635",
    "user": "roed"
}
```

Changing keywords from "days71, beginner" to "days71, beginner, sd87".



---

archive/issue_comments_275636.json:
```json
{
    "body": "The doctests that failed above now pass (all doctest now pass.)",
    "created_at": "2017-07-19T14:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275636",
    "user": "aly.deines"
}
```

The doctests that failed above now pass (all doctest now pass.)



---

archive/issue_comments_275637.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-07-19T14:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275637",
    "user": "aly.deines"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_275638.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-07-26T22:13:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20007",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20007#issuecomment-275638",
    "user": "vbraun"
}
```

Resolution: fixed
