# Issue 32101: adding support for subschemes in _is_preperiodic

archive/issues_032101.json:
```json
{
    "body": "CC:  bhutz\n\nKeywords: gsoc2021\n\nCurrently _is_preperiodic does not support dynamical systems defined on subschemes. This ticket aims to add support for morphisms of projective space defined over a subscheme.\n\nIssue created by migration from https://trac.sagemath.org/ticket/32338\n\n",
    "created_at": "2021-08-05T22:36:58Z",
    "labels": [
        "dynamics",
        "trivial",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "adding support for subschemes in _is_preperiodic",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32101",
    "user": "@EnderWannabe"
}
```
CC:  bhutz

Keywords: gsoc2021

Currently _is_preperiodic does not support dynamical systems defined on subschemes. This ticket aims to add support for morphisms of projective space defined over a subscheme.

Issue created by migration from https://trac.sagemath.org/ticket/32338





---

archive/issue_comments_458469.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-08-05T22:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32101#issuecomment-458469",
    "user": "@EnderWannabe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_458470.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-08-05T22:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32101#issuecomment-458470",
    "user": "@EnderWannabe"
}
```

New commits:



---

archive/issue_comments_458471.json:
```json
{
    "body": "This looks fine, but I think you should add an example showing the orbit leaving the subscheme failure:\n\n\n```\nP.<x,y,z> = ProjectiveSpace(QQ, 2)\nX = P.subscheme(x)\nf = DynamicalSystem([x^2 - y^2, y^2, z^2], domain=X)\np = X((0, 1, 0))\nf._is_preperiodic(p, return_period=True)\n```\n\n\n- You also need to update the documentation for the .is_preperiodic() function exposed to users in projective_point.py. A subscheme example or two should be added there too.",
    "created_at": "2021-08-13T17:49:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32101#issuecomment-458471",
    "user": "bhutz"
}
```

This looks fine, but I think you should add an example showing the orbit leaving the subscheme failure:


```
P.<x,y,z> = ProjectiveSpace(QQ, 2)
X = P.subscheme(x)
f = DynamicalSystem([x^2 - y^2, y^2, z^2], domain=X)
p = X((0, 1, 0))
f._is_preperiodic(p, return_period=True)
```


- You also need to update the documentation for the .is_preperiodic() function exposed to users in projective_point.py. A subscheme example or two should be added there too.



---

archive/issue_comments_458472.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-08-13T17:49:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32101#issuecomment-458472",
    "user": "bhutz"
}
```

Changing status from needs_review to needs_work.
