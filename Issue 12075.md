# Issue 12075: var(['x','y']) should work but doesn't

Issue created by migration from Trac.

Original creator: was

Original creation time: 2012-01-02 16:50:49

Assignee: burcin

CC:  vbraun

We were very surprised that `var(['x','y'])` doesn't work at the JMM QA session.


---

Comment by burcin created at 2012-01-02 16:56:58

This probably broke while fixing #7496.


---

Comment by vbraun created at 2012-01-02 17:30:31

Well I was not aware that its supposed to work and the docstring doesn't mention it. The syntax

```
var('x, y')
```

is more compact imho. But then, why not allow a list/tuple of strings. Attached patch implements this.


---

Comment by vbraun created at 2012-01-02 17:30:31

Changing status from new to needs_review.


---

Comment by nbruin created at 2012-01-02 18:06:19

The pythonic thing would be to realize that the important part of the list here is that it is an iterable and hence accepting an iterable might be the right thing to do. But since strings are iterable too, this doesn't work.

So either lists or strings would need to be special cased. This breaks subclassing (if someone writes a class that is supposed to mimic strings or lists, how do you tell which is which? isinstance doesn't work on builtins, and multiple inheritance would mean you would not necessarily be able to decide based on that anyway. Look in the mro which of list or str you meet first?)

Perhaps safer is to accept var('x','y') and hence also var(*['x','y']).


---

Comment by vbraun created at 2012-01-02 18:20:25

You are not supposed to use `var()` from code, so I don't think accepting more general iterables is particularly desirable.


---

Comment by vbraun created at 2012-01-02 18:35:39

Updated patch


---

Attachment

The new patch makes `var` a variadic function, so `var('x','y')` works as well.


---

Comment by burcin created at 2012-01-03 14:39:47

fix typo in Volker's patch - apply only this one


---

Comment by burcin created at 2012-01-03 14:43:59

Changing keywords from "" to "var".


---

Comment by burcin created at 2012-01-03 14:43:59

Changing status from needs_review to positive_review.


---

Attachment

I attached a new patch attachment:trac_12247_var_construction-fix_typo.patch which fixes a typo `tree` -> `three` in Volker's patch.

Volker's changes look good to me. I am switching this to a positive review.


---

Comment by jdemeyer created at 2012-01-18 08:08:52

Resolution: fixed
