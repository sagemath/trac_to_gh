# Issue 20661: Syndrome decoder for a linear code sometimes sets wrong decoder type

archive/issues_020661.json:
```json
{
    "body": "CC:  dlucas\n\nKeywords: linear code, syndrome\n\nThere is a bug in how the decoder type is set for the syndrome decoder. Consider\n\n\n```\nsage: C = codes.HammingCode(GF(5), 3)\nsage: D = C.decoder(\"Syndrome\")\nsage: C.minimum_distance()\n3\nsage: D.maximum_error_weight()\n1\nsage: D.decoder_type()\n{'complete', 'hard-decision', 'might-error', 'unique'}\n```\n\n\nThe last line should not have had \"might-error\" but instead should have had \"always-succeed\" and \"minimum-distance\".\n\nIssue created by migration from https://trac.sagemath.org/ticket/20898\n\n",
    "created_at": "2016-06-28T15:16:34Z",
    "labels": [
        "component: coding theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.3",
    "title": "Syndrome decoder for a linear code sometimes sets wrong decoder type",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20661",
    "user": "https://github.com/johanrosenkilde"
}
```
CC:  dlucas

Keywords: linear code, syndrome

There is a bug in how the decoder type is set for the syndrome decoder. Consider


```
sage: C = codes.HammingCode(GF(5), 3)
sage: D = C.decoder("Syndrome")
sage: C.minimum_distance()
3
sage: D.maximum_error_weight()
1
sage: D.decoder_type()
{'complete', 'hard-decision', 'might-error', 'unique'}
```


The last line should not have had "might-error" but instead should have had "always-succeed" and "minimum-distance".

Issue created by migration from https://trac.sagemath.org/ticket/20898





---

archive/issue_comments_285010.json:
```json
{
    "body": "There was actually 2 bugs: the decoding_radius tested for this decision was not updated with the value found during the construction of the lookup table. Then some set.add needed to be changed.\n\nI also added the ticket's code as a doctest.\n\nAttached branch should fix the pb. Open for review.\n----\nNew commits:",
    "created_at": "2017-02-07T13:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20661#issuecomment-285010",
    "user": "https://github.com/ClementPernet"
}
```

There was actually 2 bugs: the decoding_radius tested for this decision was not updated with the value found during the construction of the lookup table. Then some set.add needed to be changed.

I also added the ticket's code as a doctest.

Attached branch should fix the pb. Open for review.
----
New commits:



---

archive/issue_comments_285011.json:
```json
{
    "body": "Changing keywords from \"linear code, syndrome\" to \"linear code, syndrome, rd3\".",
    "created_at": "2017-02-07T13:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20661#issuecomment-285011",
    "user": "https://github.com/ClementPernet"
}
```

Changing keywords from "linear code, syndrome" to "linear code, syndrome, rd3".



---

archive/issue_comments_285012.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-07T13:55:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20661#issuecomment-285012",
    "user": "https://github.com/ClementPernet"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_285013.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-02-07T14:24:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20661#issuecomment-285013",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_285014.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-02-07T14:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20661#issuecomment-285014",
    "user": "https://github.com/bgrenet"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_285015.json:
```json
{
    "body": "Looks OK!",
    "created_at": "2017-02-07T14:27:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20661#issuecomment-285015",
    "user": "https://github.com/bgrenet"
}
```

Looks OK!



---

archive/issue_comments_285016.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-08T22:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20661",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20661#issuecomment-285016",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
