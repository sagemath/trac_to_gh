# Issue 19330: Using elements of universal cyclotomic field and symbolic ring silently produces garbage

Issue created by migration from https://trac.sagemath.org/ticket/19567

Original creator: switzel

Original creation time: 2015-11-10 20:45:28

CC:  chapoton slelievre stumpc5 vdelecroix

Keywords: cyclotomic field, symbolic ring


```
sage: UCF = UniversalCyclotomicField()
sage: UCF(1)*SR(1)
0
sage: UCF(1)+SR(1)
1
```

Clearly the first one should be 1 in some ring or raise an exception. Similarly the second should be 2 in some ring or raise an exception.


---

Comment by nbruin created at 2015-11-10 23:10:52

It's an off-by-one error in loop bounds:

```
sage: 1+UCF.4
1 + E(4)
sage: (1+UCF.4)._symbolic_(SR)
I
```

The routine lives in `sage/rings/universal_cyclotomic_field.py` and the range should be `range(k)` rather than `range(1,k)` there.


---

Comment by slelievre created at 2016-05-19 08:20:16

Changing status from new to needs_review.


---

Comment by slelievre created at 2016-05-19 08:20:16

Apparently fixed at #19912 by exactly the fix suggested in [comment 1](http://trac.sagemath.org/ticket/19567#comment:1) above.


---

Comment by tscrim created at 2016-05-19 13:57:29

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-06-12 12:02:30

Resolution: fixed
