# Issue 32446: LP Bounds for Johnson Scheme, Q-Polynomial Association Schemes

Issue created by migration from https://trac.sagemath.org/ticket/32683

Original creator: @ckokkalis

Original creation time: 2021-10-13 13:56:53

CC:  dimpase tmonteil @ferihr

Added Delsarte bounds for binary constant weight codes (similarly to preexisting work on Hamming codes), as well as Q-Polynomial Association schemes (where we can now calculate the bounds given the Q-matrix).


---

Comment by dimpase created at 2021-10-14 08:28:28

Last 10 new commits:


---

Comment by dimpase created at 2021-10-14 08:30:16

Changing priority from minor to major.


---

Comment by dimpase created at 2021-10-14 08:30:16

Changing type from task to enhancement.


---

Comment by git created at 2021-10-14 11:30:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2021-10-31 22:44:51

Changing status from new to needs_review.


---

Comment by dimpase created at 2021-11-01 09:58:10

patchbot complains about the need to run `git gc`.


---

Comment by dimpase created at 2021-11-02 13:05:13

Last 10 new commits:


---

Comment by dimpase created at 2021-11-02 13:06:04

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2021-11-02 13:06:04

let the bots do work


---

Comment by dimpase created at 2021-11-02 13:10:23

Any idea about classes of association schemes (more precisely, graphs from them) for which Delsart bounds might be interesting to compute?


---

Comment by tmonteil created at 2021-11-02 13:18:33

Replying to [comment:5 dimpase]:
> patchbot complains about the need to run `git gc`.

I did run `git gc`, however, i am not sure that the segmentation faults come from that.


---

Comment by mkoeppe created at 2021-11-02 17:49:27

Changing status from positive_review to needs_work.


---

Comment by mkoeppe created at 2021-11-02 17:49:27

This needs some more work on test coverage and coding style. Try `tox -e pycodestyle -- src/sage/coding/delsarte_bounds.py`


---

Comment by dimpase created at 2021-11-03 09:02:11

I set it to positive review mostly to see patchbots in action.


---

Comment by dimpase created at 2021-11-03 18:34:41

Let us also do renaming of functions: remove `delsarte_bound_` prefix: currently in the docs it's 
`sage.coding.delsarte_bounds.delsarte_bound_additive_hamming_space` etc.

It made sense previously, without `.delsarte_bounds.` namespace thing, but not any more.


---

Comment by dimpase created at 2021-11-03 18:47:00

Perhaps it's more a documentation bug. Indeed,
at the Sage prompt one does, say,  `codes.bounds.krawtchouk(24,2,5,4)`, but docs say
`sage.coding.delsarte_bounds.krawtchouk`. The call
`sage.coding.delsarte_bounds.krawtchouk(24,2,5,4)` works just as well.

Why is that so, it's kind of weird...


---

Comment by git created at 2021-11-03 19:44:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2021-11-03 19:51:42

more linting etc to fix, though


---

Comment by dimpase created at 2021-12-03 12:10:00

Here is where we are now:

```
$ tox -e pycodestyle -- src/sage/coding/delsarte_bounds.py
pycodestyle create: /mnt/opt/Sage/sage-dev/.tox/src
pycodestyle run-test-pre: PYTHONHASHSEED='3098080624'
pycodestyle run-test: commands[0] | tox -c /mnt/opt/Sage/sage-dev/src/tox.ini -e pycodestyle -- src/sage/coding/delsarte_bounds.py
pycodestyle create: /mnt/opt/Sage/sage-dev/src/.tox/pycodestyle
pycodestyle installdeps: pycodestyle
pycodestyle installed: pycodestyle==2.8.0
pycodestyle run-test-pre: PYTHONHASHSEED='3272264379'
pycodestyle run-test: commands[0] | pycodestyle sage/coding/delsarte_bounds.py
sage/coding/delsarte_bounds.py:32:22: E741 ambiguous variable name 'l'
sage/coding/delsarte_bounds.py:104:9: E741 ambiguous variable name 'l'
sage/coding/delsarte_bounds.py:449:22: E128 continuation line under-indented for visual indent
sage/coding/delsarte_bounds.py:450:4: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:526:4: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:527:4: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:528:8: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:530:4: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:531:4: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:532:8: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:534:4: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:535:8: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:536:8: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:538:4: E114 indentation is not a multiple of 4 (comment)
sage/coding/delsarte_bounds.py:539:4: E114 indentation is not a multiple of 4 (comment)
sage/coding/delsarte_bounds.py:541:4: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:542:4: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:544:4: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:544:25: E261 at least two spaces before inline comment
sage/coding/delsarte_bounds.py:545:8: E114 indentation is not a multiple of 4 (comment)
sage/coding/delsarte_bounds.py:546:8: E114 indentation is not a multiple of 4 (comment)
sage/coding/delsarte_bounds.py:547:8: E114 indentation is not a multiple of 4 (comment)
sage/coding/delsarte_bounds.py:548:7: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:549:7: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:550:11: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:551:7: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:552:11: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:553:11: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:554:15: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:555:11: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:558:7: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:559:7: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:561:7: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:564:4: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:565:8: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:566:4: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:567:8: E111 indentation is not a multiple of 4
sage/coding/delsarte_bounds.py:569:1: E302 expected 2 blank lines, found 1
sage/coding/delsarte_bounds.py:569:30: E231 missing whitespace after ','
sage/coding/delsarte_bounds.py:569:32: E231 missing whitespace after ','
sage/coding/delsarte_bounds.py:569:39: E231 missing whitespace after ','
sage/coding/delsarte_bounds.py:595:26: E261 at least two spaces before inline comment
sage/coding/delsarte_bounds.py:601:26: E225 missing whitespace around operator
sage/coding/delsarte_bounds.py:604:25: E231 missing whitespace after ','
sage/coding/delsarte_bounds.py:605:34: E225 missing whitespace around operator
sage/coding/delsarte_bounds.py:606:5: E722 do not use bare 'except'
sage/coding/delsarte_bounds.py:608:34: E225 missing whitespace around operator
sage/coding/delsarte_bounds.py:610:21: E231 missing whitespace after ','
sage/coding/delsarte_bounds.py:611:63: E231 missing whitespace after ','
sage/coding/delsarte_bounds.py:616:30: E231 missing whitespace after ','
sage/coding/delsarte_bounds.py:616:32: E231 missing whitespace after ','
sage/coding/delsarte_bounds.py:678:11: E225 missing whitespace around operator
sage/coding/delsarte_bounds.py:682:21: E231 missing whitespace after ','
sage/coding/delsarte_bounds.py:682:23: E231 missing whitespace after ','
sage/coding/delsarte_bounds.py:686:17: E231 missing whitespace after ','
sage/coding/delsarte_bounds.py:686:19: E231 missing whitespace after ','
28      E111 indentation is not a multiple of 4
5       E114 indentation is not a multiple of 4 (comment)
1       E128 continuation line under-indented for visual indent
4       E225 missing whitespace around operator
12      E231 missing whitespace after ','
2       E261 at least two spaces before inline comment
1       E302 expected 2 blank lines, found 1
1       E722 do not use bare 'except'
2       E741 ambiguous variable name 'l'
ERROR: InvocationError for command /mnt/opt/Sage/sage-dev/src/.tox/pycodestyle/bin/pycodestyle sage/coding/delsarte_bounds.py (exited with code 1)
______________________________________________________________ summary ______________________________________________________________
ERROR:   pycodestyle: commands failed
ERROR: InvocationError for command /usr/bin/tox -c src/tox.ini -e pycodestyle -- src/sage/coding/delsarte_bounds.py (exited with code 1)
______________________________________________________________ summary 
```



---

Comment by @ckokkalis created at 2021-12-05 12:19:26

Last 10 new commits:


---

Comment by dimpase created at 2021-12-05 19:59:57

no, this is your old branch - the last commit, "Linting changes", dated 14 Oct.


---

Comment by git created at 2021-12-06 11:19:22

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by dimpase created at 2021-12-06 12:05:33

OK, this looks better.


---

Comment by dimpase created at 2021-12-06 12:58:21

Add a test for `_delsarte_Q_LP_building()`, it would be good to go then.


---

Comment by git created at 2021-12-07 17:53:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2022-01-22 23:44:23

Changing status from needs_work to positive_review.


---

Comment by dimpase created at 2022-01-22 23:44:23

merged 9.5.rc3 in and fixed one doctest.
----
New commits:


---

Comment by vbraun created at 2022-01-31 23:31:21

Resolution: fixed
