# Issue 13928: documentation for matrix( ) mentions ncols and nrows

archive/issues_013928.json:
```json
{
    "body": "Assignee: mvngu\n\nCC:  @rbeezer @jasongrout\n\nKeywords: matrix ncols nrows\n\nmatrix( ncols=...,nrows=... ) does not create a matrix (even a sparse one) with the according number of columns and rows, contrary to what's described here\n\nhttp://sagemath.org/doc/reference/sage/matrix/constructor.html\n\nIssue created by migration from https://trac.sagemath.org/ticket/14132\n\n",
    "created_at": "2013-02-15T16:53:21Z",
    "labels": [
        "component: documentation",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "documentation for matrix( ) mentions ncols and nrows",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13928",
    "user": "https://trac.sagemath.org/admin/accounts/users/ManDay"
}
```
Assignee: mvngu

CC:  @rbeezer @jasongrout

Keywords: matrix ncols nrows

matrix( ncols=...,nrows=... ) does not create a matrix (even a sparse one) with the according number of columns and rows, contrary to what's described here

http://sagemath.org/doc/reference/sage/matrix/constructor.html

Issue created by migration from https://trac.sagemath.org/ticket/14132





---

archive/issue_comments_173346.json:
```json
{
    "body": "Hello!! \n\nI am not sure I understand what the problem is. The manual claims that setting some values to the parameters `nrows` and `ncols` will create a `nrows x ncols` matrix. And, Sage does, no?: \n\n\n```\nsage: matrix(2,3)             \n[0 0 0]\n[0 0 0]\n```\n\n\nWould you please help me understand what the issue is? ~KnS",
    "created_at": "2013-02-20T17:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13928#issuecomment-173346",
    "user": "https://github.com/KPanComputes"
}
```

Hello!! 

I am not sure I understand what the problem is. The manual claims that setting some values to the parameters `nrows` and `ncols` will create a `nrows x ncols` matrix. And, Sage does, no?: 


```
sage: matrix(2,3)             
[0 0 0]
[0 0 0]
```


Would you please help me understand what the issue is? ~KnS



---

archive/issue_comments_173347.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2013-02-20T17:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13928#issuecomment-173347",
    "user": "https://github.com/KPanComputes"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_173348.json:
```json
{
    "body": "A misinterpreation on my side. I blame the (once again) awful/nonexisting formalisation of documentation, though (which is hardly the fault of the authors but rather owing to that abominable piece of so-proclaimed *software*, \"Sphinx\").\n\nThe prose part of the documentation does indeed say \"*The ring, number of rows, and number of columns of the matrix can be specified by setting the ring, nrows, or ncols parameters or by passing them as the first arguments to the function in the order ring, nrows, ncols.*\", below, then, lists\n\n**ring** - the base ring for the entries of the matrix.\n\n**nrows** - the number of rows in the matrix..\n\n**ncols** - the number of columns in the matrix.\n\n**sparse** - create a sparse matrix. This defaults to True when the entries are given as a dictionary, otherwise defaults to False.\n\n...as if those were any sort of keywords, although they aren't even mentioned in the function header, which, by the most intelligent design of \"Sphinx\" and Python's state of formalisation, only goes\n\n*Matrix(*args, * *kwds)*",
    "created_at": "2013-02-20T17:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13928#issuecomment-173348",
    "user": "https://trac.sagemath.org/admin/accounts/users/ManDay"
}
```

A misinterpreation on my side. I blame the (once again) awful/nonexisting formalisation of documentation, though (which is hardly the fault of the authors but rather owing to that abominable piece of so-proclaimed *software*, "Sphinx").

The prose part of the documentation does indeed say "*The ring, number of rows, and number of columns of the matrix can be specified by setting the ring, nrows, or ncols parameters or by passing them as the first arguments to the function in the order ring, nrows, ncols.*", below, then, lists

**ring** - the base ring for the entries of the matrix.

**nrows** - the number of rows in the matrix..

**ncols** - the number of columns in the matrix.

**sparse** - create a sparse matrix. This defaults to True when the entries are given as a dictionary, otherwise defaults to False.

...as if those were any sort of keywords, although they aren't even mentioned in the function header, which, by the most intelligent design of "Sphinx" and Python's state of formalisation, only goes

*Matrix(*args, * *kwds)*



---

archive/issue_comments_173349.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-02-20T17:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13928#issuecomment-173349",
    "user": "https://trac.sagemath.org/admin/accounts/users/ManDay"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_173350.json:
```json
{
    "body": "Replying to [comment:3 ManDay]:\n> A misinterpreation on my side. I blame the (once again) awful/nonexisting formalisation of documentation, though (which is hardly the fault of the authors but rather owing to that abominable piece of so-proclaimed *software*, \"Sphinx\").\n> \n\nOops! But that is fine! I will set this to sage-invalid. Is that OK with you, or you think something could be done about this? May be a top-level \"how to refer to the docs?\" ;-)\n\nPlease note that you'd set a ticket to needs_review only if there is a patch to review. Tickets without patches, such as this, don't yet need a review.",
    "created_at": "2013-02-20T17:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13928#issuecomment-173350",
    "user": "https://github.com/KPanComputes"
}
```

Replying to [comment:3 ManDay]:
> A misinterpreation on my side. I blame the (once again) awful/nonexisting formalisation of documentation, though (which is hardly the fault of the authors but rather owing to that abominable piece of so-proclaimed *software*, "Sphinx").
> 

Oops! But that is fine! I will set this to sage-invalid. Is that OK with you, or you think something could be done about this? May be a top-level "how to refer to the docs?" ;-)

Please note that you'd set a ticket to needs_review only if there is a patch to review. Tickets without patches, such as this, don't yet need a review.



---

archive/issue_comments_173351.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2013-02-20T17:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13928#issuecomment-173351",
    "user": "https://github.com/KPanComputes"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_173352.json:
```json
{
    "body": "Given that completely purposeless list of non-keywords, it seems obvious to me that this list should either be removed or - much more reasonably - what's been described as prose in the text, put to significance in the actual function header, such as:\n\nMatrix( ring, nrows, ncols, * *kwds )",
    "created_at": "2013-02-20T17:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13928#issuecomment-173352",
    "user": "https://trac.sagemath.org/admin/accounts/users/ManDay"
}
```

Given that completely purposeless list of non-keywords, it seems obvious to me that this list should either be removed or - much more reasonably - what's been described as prose in the text, put to significance in the actual function header, such as:

Matrix( ring, nrows, ncols, * *kwds )



---

archive/issue_comments_173353.json:
```json
{
    "body": "OK, I explored this a bit: here are my observations. \n\n(1) `nrows`, `ncols` ARE keywords! And, so this is not a bug in the documentation as far as I can see. But, the documentation needs to enhanced: although the documentation claims that these parameters can be set, there is no example illustrating this. IMHO, we should add examples. Also, the problem is as described in the description. \n\n(2) The bug is very strange! \n\n\n```\nsage: matrix(nrows=2, ncols=3)\n[]\nsage: matrix(2,3)\n[0 0 0]\n[0 0 0]\nsage: matrix(ZZ, nrows=2, ncols=3)\n[0 0 0]\n[0 0 0]\nsage: matrix(ZZ, ncols=3)         \n[]\n```\n\n\nI'll add some examples and lines from the documentation that the examples contradict! I am tempted to make this \"blocker\" given that a basic things such as this is buggy (although these are only edges, we need to have them documented better). \n\n---------\n\nI am also ccing Jason who completely rewrote this part of sage.",
    "created_at": "2013-03-16T21:42:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13928#issuecomment-173353",
    "user": "https://github.com/KPanComputes"
}
```

OK, I explored this a bit: here are my observations. 

(1) `nrows`, `ncols` ARE keywords! And, so this is not a bug in the documentation as far as I can see. But, the documentation needs to enhanced: although the documentation claims that these parameters can be set, there is no example illustrating this. IMHO, we should add examples. Also, the problem is as described in the description. 

(2) The bug is very strange! 


```
sage: matrix(nrows=2, ncols=3)
[]
sage: matrix(2,3)
[0 0 0]
[0 0 0]
sage: matrix(ZZ, nrows=2, ncols=3)
[0 0 0]
[0 0 0]
sage: matrix(ZZ, ncols=3)         
[]
```


I'll add some examples and lines from the documentation that the examples contradict! I am tempted to make this "blocker" given that a basic things such as this is buggy (although these are only edges, we need to have them documented better). 

---------

I am also ccing Jason who completely rewrote this part of sage.



---

archive/issue_comments_173354.json:
```json
{
    "body": "A (slightly) related note: There's another issue with passing a matrix into `matrix()` which is done in #14314.\n\nAs for your examples in (2), I would call the first one a bug and should return the same as the following two. I think the last one should raise an exception since there is insufficient data, but I'd be okay with it returning a 3x3 matrix.",
    "created_at": "2013-03-20T21:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13928#issuecomment-173354",
    "user": "https://github.com/tscrim"
}
```

A (slightly) related note: There's another issue with passing a matrix into `matrix()` which is done in #14314.

As for your examples in (2), I would call the first one a bug and should return the same as the following two. I think the last one should raise an exception since there is insufficient data, but I'd be okay with it returning a 3x3 matrix.



---

archive/issue_events_039871.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13928#event-39871"
}
```



---

archive/issue_events_039872.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13928#event-39872"
}
```



---

archive/issue_events_039873.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13928#event-39873"
}
```



---

archive/issue_events_039874.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13928#event-39874"
}
```



---

archive/issue_events_039875.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13928#event-39875"
}
```



---

archive/issue_events_039876.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13928#event-39876"
}
```



---

archive/issue_events_039877.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/13928",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13928#event-39877"
}
```
