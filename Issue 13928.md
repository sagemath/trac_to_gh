# Issue 13928: documentation for matrix( ) mentions ncols and nrows

Issue created by migration from Trac.

Original creator: ManDay

Original creation time: 2013-02-15 16:53:21

Assignee: mvngu

CC:  rbeezer jason

Keywords: matrix ncols nrows

matrix( ncols=...,nrows=... ) does not create a matrix (even a sparse one) with the according number of columns and rows, contrary to what's described here

http://sagemath.org/doc/reference/sage/matrix/constructor.html


---

Comment by knsam created at 2013-02-20 17:02:46

Hello!! 

I am not sure I understand what the problem is. The manual claims that setting some values to the parameters `nrows` and `ncols` will create a `nrows x ncols` matrix. And, Sage does, no?: 


```
sage: matrix(2,3)             
[0 0 0]
[0 0 0]
```


Would you please help me understand what the issue is? ~KnS


---

Comment by knsam created at 2013-02-20 17:03:00

Changing status from new to needs_info.


---

Comment by ManDay created at 2013-02-20 17:17:39

A misinterpreation on my side. I blame the (once again) awful/nonexisting formalisation of documentation, though (which is hardly the fault of the authors but rather owing to that abominable piece of so-proclaimed _software_, "Sphinx").

The prose part of the documentation does indeed say "_The ring, number of rows, and number of columns of the matrix can be specified by setting the ring, nrows, or ncols parameters or by passing them as the first arguments to the function in the order ring, nrows, ncols._", below, then, lists

*ring* - the base ring for the entries of the matrix.

*nrows* - the number of rows in the matrix..

*ncols* - the number of columns in the matrix.

*sparse* - create a sparse matrix. This defaults to True when the entries are given as a dictionary, otherwise defaults to False.

...as if those were any sort of keywords, although they aren't even mentioned in the function header, which, by the most intelligent design of "Sphinx" and Python's state of formalisation, only goes

_Matrix(*args, * *kwds)_


---

Comment by ManDay created at 2013-02-20 17:17:39

Changing status from needs_info to needs_review.


---

Comment by knsam created at 2013-02-20 17:26:26

Replying to [comment:3 ManDay]:
> A misinterpreation on my side. I blame the (once again) awful/nonexisting formalisation of documentation, though (which is hardly the fault of the authors but rather owing to that abominable piece of so-proclaimed _software_, "Sphinx").
> 

Oops! But that is fine! I will set this to sage-invalid. Is that OK with you, or you think something could be done about this? May be a top-level "how to refer to the docs?" ;-)

Please note that you'd set a ticket to needs_review only if there is a patch to review. Tickets without patches, such as this, don't yet need a review.


---

Comment by knsam created at 2013-02-20 17:28:25

Changing status from needs_review to needs_info.


---

Comment by ManDay created at 2013-02-20 17:40:37

Given that completely purposeless list of non-keywords, it seems obvious to me that this list should either be removed or - much more reasonably - what's been described as prose in the text, put to significance in the actual function header, such as:

Matrix( ring, nrows, ncols, * *kwds )


---

Comment by knsam created at 2013-03-16 21:42:51

OK, I explored this a bit: here are my observations. 

(1) `nrows`, `ncols` ARE keywords! And, so this is not a bug in the documentation as far as I can see. But, the documentation needs to enhanced: although the documentation claims that these parameters can be set, there is no example illustrating this. IMHO, we should add examples. Also, the problem is as described in the description. 

(2) The bug is very strange! 


```
sage: matrix(nrows=2, ncols=3)
[]
sage: matrix(2,3)
[0 0 0]
[0 0 0]
sage: matrix(ZZ, nrows=2, ncols=3)
[0 0 0]
[0 0 0]
sage: matrix(ZZ, ncols=3)         
[]
```


I'll add some examples and lines from the documentation that the examples contradict! I am tempted to make this "blocker" given that a basic things such as this is buggy (although these are only edges, we need to have them documented better). 

---------

I am also ccing Jason who completely rewrote this part of sage.


---

Comment by tscrim created at 2013-03-20 21:55:39

A (slightly) related note: There's another issue with passing a matrix into `matrix()` which is done in #14314.

As for your examples in (2), I would call the first one a bug and should return the same as the following two. I think the last one should raise an exception since there is insufficient data, but I'd be okay with it returning a 3x3 matrix.
