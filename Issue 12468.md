# Issue 12468: some special cases of dimension_new_cusp_forms are broken

Issue created by migration from Trac.

Original creator: was

Original creation time: 2012-03-08 15:28:25

Assignee: craigcitro

I think somebody changed something elsewhere that dims.py depends on, which resulted in breaking dimension_new_cusp_forms when the character is trivial and the level is 1 or 2.


```
sage: dimension_new_cusp_forms(DirichletGroup(1)(1), 12)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/Users/wstein/db/mfdb/<ipython console> in <module>()

/Users/wstein/sage/install/sage-5.0.beta2/local/lib/python2.7/site-packages/sage/modular/dims.pyc in dimension_new_cusp_forms(X, k, p)
    304         return X.dimension_new_cusp_forms(k,p=p)
    305     elif isinstance(X, dirichlet.DirichletCharacter):
--> 306         return Gamma1(X.modulus()).dimension_new_cusp_forms(k,eps=X,p=p)
    307     elif isinstance(X, (int,long,Integer)):
    308         return Gamma0(X).dimension_new_cusp_forms(k,p=p)

TypeError: dimension_new_cusp_forms() got an unexpected keyword argument 'eps'
sage: dimension_new_cusp_forms(DirichletGroup(2)(1), 12)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/Users/wstein/db/mfdb/<ipython console> in <module>()

/Users/wstein/sage/install/sage-5.0.beta2/local/lib/python2.7/site-packages/sage/modular/dims.pyc in dimension_new_cusp_forms(X, k, p)
    304         return X.dimension_new_cusp_forms(k,p=p)
    305     elif isinstance(X, dirichlet.DirichletCharacter):
--> 306         return Gamma1(X.modulus()).dimension_new_cusp_forms(k,eps=X,p=p)
    307     elif isinstance(X, (int,long,Integer)):
    308         return Gamma0(X).dimension_new_cusp_forms(k,p=p)

TypeError: dimension_new_cusp_forms() got an unexpected keyword argument 'eps'
```

It seems like bigger levels work fine...

```
sage: dimension_new_cusp_forms(DirichletGroup(3)(1), 12)
1
sage: dimension_new_cusp_forms(DirichletGroup(4)(1), 12)
1
```



---

Attachment


---

Comment by was created at 2012-03-19 18:49:45

Changing status from new to needs_review.


---

Comment by jen created at 2012-03-19 19:45:29

Looks great. All tests pass.


---

Comment by jen created at 2012-03-19 19:45:29

Changing keywords from "" to "rd2".


---

Comment by jen created at 2012-03-19 19:45:29

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-03-23 15:22:05

Resolution: fixed


---

Comment by davidloeffler created at 2012-03-24 11:19:10

Just for the record: that "somebody" was me, at ticket #11601. From that ticket description:

"Some "rationalisation" is also included: e.g. one can no longer create Gamma1(1) or GammaH(11, [2]), which previously existed as less-functional duplicates of SL2Z and Gamma0(11)."
