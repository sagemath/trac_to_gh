# Issue 29764: Update sphinx to 3.1

Issue created by migration from https://trac.sagemath.org/ticket/30001

Original creator: arojas

Original creation time: 2020-06-27 11:10:37

CC:  @timokau fbissey jhpalmieri




---

Comment by arojas created at 2020-06-27 11:16:04

Changing type from PLEASE CHANGE to enhancement.


---

Comment by arojas created at 2020-06-27 11:16:04

Changing component from PLEASE CHANGE to documentation.


---

Comment by arojas created at 2020-06-27 11:16:04

New commits:


---

Comment by arojas created at 2020-06-27 11:16:04

Changing status from new to needs_review.


---

Comment by @kliem created at 2020-06-29 19:37:47

I'm checking whether this will also fix #30008

https://github.com/kliem/sage/pull/17/checks.


---

Comment by jhpalmieri created at 2020-06-30 00:09:17

Compared to Sage 9.2.beta1 with Sphinx 3.0.4, the bulleted lists here look double-spaced. Do we need to modify some setting?


---

Comment by jhpalmieri created at 2020-06-30 16:06:25

Replying to [comment:4 jhpalmieri]:
> Compared to Sage 9.2.beta1 with Sphinx 3.0.4, the bulleted lists here look double-spaced. Do we need to modify some setting?

It turns out that this is a Sphinx issue: https://github.com/sphinx-doc/sphinx/issues/7838.


---

Comment by jhpalmieri created at 2020-06-30 18:13:47

And https://github.com/sphinx-doc/sphinx/pull/7852 contains a good fix. Do we want to use vanilla Sphinx 3.1.1 for now, or wait until this is merged (perhaps in 3.1.2)?


---

Comment by jhpalmieri created at 2020-07-05 16:48:27

The vertical spacing problem supposedly has been fixed in Sphinx 3.1.2, which has now been released.


---

Comment by git created at 2020-07-05 17:01:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jhpalmieri created at 2020-07-06 23:51:35

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2020-07-06 23:51:35

Thank you for taking care of the upgrade to 3.1.2. The spacing is indeed fixed, and it builds and passes tests for me. Documentation looks good at a quick glance, although I didn't look at it super carefully.


---

Comment by vbraun created at 2020-07-10 19:33:42

Resolution: fixed
