# Issue 19211: Improvements to submodules

Issue created by migration from https://trac.sagemath.org/ticket/19448

Original creator: tscrim

Original creation time: 2015-10-21 18:05:29

Assignee: tscrim

CC:  jhpalmieri nthiery darij virmaux chapoton mkoeppe

We implement the lift map as a coercion map from a submodule and extend the submodule to work over modules with infinite bases.


---

Comment by tscrim created at 2015-10-21 19:40:43

Changing status from new to needs_review.


---

Comment by tscrim created at 2015-10-21 19:40:43

One thing that might be slightly controversial is that I construct an explicit ordering of elements used after the echelonization. However, this is needed to be stored in the submodule because if the ordering of the ambient changes (which it can by the `set_order` method), this could break the triangularity of the `lift` map. This also allowed me to construct submodules of infinite-dimensional modules.
----
New commits:


---

Comment by git created at 2016-04-29 19:06:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by cheuberg created at 2017-01-12 06:45:47

Changing status from needs_review to needs_work.


---

Comment by cheuberg created at 2017-01-12 06:45:47

merge conflict


---

Comment by git created at 2017-06-09 14:03:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-06-09 14:05:32

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2017-06-09 14:05:32

Actually, the more I think about it, the more I am for fixing the ordering of the submodule basis as the submodule is defined by a matrix, where there is an implicit ordering of the basis already in there.


---

Comment by sbrandhorst created at 2020-01-06 16:52:22

failing doctest


---

Comment by sbrandhorst created at 2020-01-06 16:52:22

Changing status from needs_review to needs_work.


---

Comment by git created at 2020-05-29 05:18:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2020-05-29 05:19:35

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2020-05-29 05:19:35

This should now pass all tests. I also extended the `echelon_form` to handle the case when the ambient module is infinite dimensional.


---

Comment by mkoeppe created at 2020-05-29 13:37:16

Changing keywords from "" to "sd109".


---

Comment by git created at 2020-06-02 07:22:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2020-06-02 07:23:36

So doctests were failing elsewhere because `_support_order` was also an attribute used by the submodules. So I refactored the method to now be called `_compute_support_order`. I also found some other issues with `to/from_vector` not being consistent in their parameters. Doctests that were failing now pass.


---

Comment by sbrandhorst created at 2020-06-08 07:05:13

looks reasonable to me.


---

Comment by sbrandhorst created at 2020-06-08 07:05:13

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-06-21 22:37:22

Resolution: fixed


---

Comment by mkoeppe created at 2020-11-24 23:14:00

Follow-up discussion in https://groups.google.com/g/sage-devel/c/z1k8IT3ocR4/m/UfkhlDweBwAJ
