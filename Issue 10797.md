# Issue 10797: update copyright years to include 2011

Issue created by migration from https://trac.sagemath.org/ticket/10865

Original creator: mvngu

Original creation time: 2011-03-02 18:54:49

Assignee: mvngu

As the subject says. The relevant files for which the copyright years need to be updated are:

 * devel/sage-main/doc/common/conf.py
 * data/extcode/sage/ext/mac-app/Sage-Info.plist
 * README.txt


---

Attachment


---

Attachment


---

Attachment


---

Comment by mvngu created at 2011-03-02 19:05:56

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2011-04-02 08:11:39

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2011-04-02 08:11:39

SAGE_ROOT now has a hg repository (#9433), so you should use that to update the `README.txt`.  i.e.: use the usual procedure with hg commands to produce a patch.


---

Comment by mariah created at 2011-04-07 15:05:20

Changing status from needs_work to needs_review.


---

Attachment


---

Comment by mvngu created at 2011-04-09 04:19:29

Mariah: If you add the ticket number to your patch and provide a proper commit merge, then your patch should be OK by me. Of course, someone other than myself needs to give the go-ahead for the remaining two patches.


---

Comment by mariah created at 2011-04-12 19:42:17

Changing status from needs_review to needs_work.


---

Comment by mariah created at 2011-04-12 19:42:17

Minh - Would you please review 
[attachment:trac-10865_copyright-README.patch]

I can give [attachment:trac-10865_copyright-doc.patch]
a positive review.  However [attachment: trac-10865_copyright-macapp.patch] needs work - it does not apply
because the path is wrong.  You have `sage/ext/mac-app/Sage-Info.plist` when I believe you mean `data/extcode/sage/ext/mac-app/Sage-Info.plist`


---

Comment by mvngu created at 2011-04-13 05:53:33

Replying to [comment:5 mariah]:
> Minh - Would you please review 
> [attachment:trac-10865_copyright-README.patch]

Notice the following line in your patch for the README file:

```
# Trac 10865: update copyright years to include 2011
```

This would be interpreted by Mercurial as a comment on a patch file, and not as a commit message as you intended. The hash "#" followed by a space is Mercurial's magic pattern for delimiting a comment. For example:

```
[mvngu@sage sage-4.7.alpha4]$ hg qimport http://trac.sagemath.org/sage_trac/raw-attachment/ticket/10865/trac-10865_copyright-README.patch && hg qpush 
adding trac-10865_copyright-README.patch to series file
applying trac-10865_copyright-README.patch
now at: trac-10865_copyright-README.patch
[mvngu@sage sage-4.7.alpha4]$ hg tip
changeset:   10:1f2ac1797126
tag:         qtip
tag:         tip
tag:         trac-10865_copyright-README.patch
tag:         qbase
user:        Mariah Lenox <mariah.lenox@gmail.com>
date:        Tue Apr 12 14:43:13 2011 -0400
summary:     imported patch trac-10865_copyright-README.patch
```

Thus the content for the "summary:" line should be

```
summary:     Trac 10865: update copyright years to include 2011
```

instead of

```
summary:     imported patch trac-10865_copyright-README.patch
```

To rectify the situation, simply remove the string "# ".





> I can give [attachment:trac-10865_copyright-doc.patch]
> a positive review.  However [attachment: trac-10865_copyright-macapp.patch] needs work - it does not apply
> because the path is wrong.  You have `sage/ext/mac-app/Sage-Info.plist` when I believe you mean `data/extcode/sage/ext/mac-app/Sage-Info.plist`

The given path is wrong if you apply the patch from `SAGE_ROOT`. Note that `SAGE_ROOT` was recently put under revision control, whereas `data/extcode` has been under revision control for many years now. During that time, `data/extcode` was and still is its own Mercurial repository, separate from everything else that is under revision control. So to apply a patch to `data/extcode`, you would need to do

```
$ cd data/extcode
```

and then apply the patch. Here's an illustration:

```
[mvngu@sage sage-4.7.alpha4]$ hg tip
changeset:   9:7d65e0c65ba0
tag:         tip
user:        Jeroen Demeyer <jdemeyer@cage.ugent.be>
date:        Mon Apr 11 08:55:03 2011 +0000
summary:     Added tag 4.7.alpha4 for changeset 072b1c841573

[mvngu@sage sage-4.7.alpha4]$ hg qimport http://trac.sagemath.org/sage_trac/raw-attachment/ticket/10865/trac-10865_copyright-macapp.patch && hg qpush 
adding trac-10865_copyright-macapp.patch to series file
applying trac-10865_copyright-macapp.patch
unable to find 'sage/ext/mac-app/Sage-Info.plist' for patching
1 out of 1 hunks FAILED -- saving rejects to file sage/ext/mac-app/Sage-Info.plist.rej
patch failed, unable to continue (try -v)
sage/ext/mac-app/Sage-Info.plist: Not a directory
patch failed, rejects left in working dir
errors during apply, please fix and refresh trac-10865_copyright-macapp.patch
[mvngu@sage sage-4.7.alpha4]$ hg qpop -a
patch queue now empty
[mvngu@sage sage-4.7.alpha4]$ hg qdelete $(hg qunapplied)
[mvngu@sage sage-4.7.alpha4]$ cd data/extcode/
[mvngu@sage extcode]$ hg qimport http://trac.sagemath.org/sage_trac/raw-attachment/ticket/10865/trac-10865_copyright-macapp.patch && hg qpush 
adding trac-10865_copyright-macapp.patch to series file
applying trac-10865_copyright-macapp.patch
now at: trac-10865_copyright-macapp.patch
[mvngu@sage extcode]$ hg tip
changeset:   544:a159dd0446c6
tag:         qtip
tag:         trac-10865_copyright-macapp.patch
tag:         tip
tag:         qbase
user:        Minh Van Nguyen <nguyenminh2@gmail.com>
date:        Wed Mar 02 10:58:08 2011 -0800
summary:     #10865: update copyright years to include 2011
```



---

Attachment


---

Comment by mariah created at 2011-04-14 13:38:50

Changing status from needs_work to needs_review.


---

Comment by mariah created at 2011-04-14 13:38:50

Minh,

I have updated `trac-10865_copyright-README.patch` to take
advantage of your explaination.  I want to thank you for your
patience with me.  Would you please review this patch.

I have reviewed your patches `trac-10865_copyright-doc.patch`
and `trac-10865_copyright-macapp.patch` and give them a postive
review.


---

Comment by mvngu created at 2011-04-14 13:58:22

Replying to [comment:7 mariah]:
> I have updated `trac-10865_copyright-README.patch` to take
> advantage of your explaination.  I want to thank you for your
> patience with me.  Would you please review this patch.

Positive review. Yay! `\o/`


---

Comment by mvngu created at 2011-04-14 13:58:22

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-04-15 08:17:19

Resolution: fixed
