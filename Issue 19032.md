# Issue 19032: add category Posets to ZZ and QQ

archive/issues_019032.json:
```json
{
    "body": "CC:  @nathanncohen @behackl @tscrim @nthiery\n\n`ZZ` and `QQ` should have the category `Posets` as well.\n\nIssue created by migration from https://trac.sagemath.org/ticket/19269\n\n",
    "created_at": "2015-09-22T12:52:52Z",
    "labels": [
        "component: categories"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "add category Posets to ZZ and QQ",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19032",
    "user": "https://github.com/dkrenn"
}
```
CC:  @nathanncohen @behackl @tscrim @nthiery

`ZZ` and `QQ` should have the category `Posets` as well.

Issue created by migration from https://trac.sagemath.org/ticket/19269





---

archive/issue_comments_260788.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-09-22T13:30:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260788",
    "user": "https://github.com/dkrenn"
}
```

New commits:



---

archive/issue_comments_260789.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-09-22T13:30:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260789",
    "user": "https://github.com/dkrenn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_260790.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-09-22T13:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260790",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_260791.json:
```json
{
    "body": "Hola,\n\nWe should try to make the cartesian products of copies of `ZZ` compatible with the current behavior of `ZZ^n` (actually, I would feel more confortable if `cartesian_product([ZZ,ZZ])` would return `ZZ^2`). But vectors are compared with respect to the lexicographic ordering\n\n```\nsage: V = ZZ^2\nsage: my_list = [V((i,j)) for i in range(3) for j in range(3)]\n[(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]\n```\nSo it is not (strictly speaking) a cartesian product of posets. Several solutions:\n- change the behavior of comparisons for vectors\n  - modify `richcmp` to be the product order and keep `cmp` to be the lexicographic ordering in order to keep the sort feature... we will have some Python3 troubles later on\n  - break the sort operation\n- find a compromise with respect to the order of the product (how?)\n\nHaving so many category for `ZZ` might also be a problem when it comes to morphisms. What should be\n\n```\nsage: Hom(ZZ,ZZ)\nsage: Hom(ZZ^2, ZZ^2)\n```\nIn the category of `Euclidean domains + Posets` there are few elements! And most of the time, when people think about `ZZ^2` they do not care about the poset structure. Something likethe following should work out of the box\n\n```\nsage: Hom(ZZ^2, ZZ^2, Posets())\nsage: Hom(ZZ^2, ZZ^2, Modules(ZZ))\n```\nMy question is about the default behavior of `Hom` with this multiple categories.\n\nVincent",
    "created_at": "2015-09-22T13:33:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260791",
    "user": "https://github.com/videlec"
}
```

Hola,

We should try to make the cartesian products of copies of `ZZ` compatible with the current behavior of `ZZ^n` (actually, I would feel more confortable if `cartesian_product([ZZ,ZZ])` would return `ZZ^2`). But vectors are compared with respect to the lexicographic ordering

```
sage: V = ZZ^2
sage: my_list = [V((i,j)) for i in range(3) for j in range(3)]
[(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]
```
So it is not (strictly speaking) a cartesian product of posets. Several solutions:
- change the behavior of comparisons for vectors
  - modify `richcmp` to be the product order and keep `cmp` to be the lexicographic ordering in order to keep the sort feature... we will have some Python3 troubles later on
  - break the sort operation
- find a compromise with respect to the order of the product (how?)

Having so many category for `ZZ` might also be a problem when it comes to morphisms. What should be

```
sage: Hom(ZZ,ZZ)
sage: Hom(ZZ^2, ZZ^2)
```
In the category of `Euclidean domains + Posets` there are few elements! And most of the time, when people think about `ZZ^2` they do not care about the poset structure. Something likethe following should work out of the box

```
sage: Hom(ZZ^2, ZZ^2, Posets())
sage: Hom(ZZ^2, ZZ^2, Modules(ZZ))
```
My question is about the default behavior of `Hom` with this multiple categories.

Vincent



---

archive/issue_comments_260792.json:
```json
{
    "body": "Could you base the branch on the latest beta? Trac is not able to automatically merge.",
    "created_at": "2015-09-22T13:34:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260792",
    "user": "https://github.com/videlec"
}
```

Could you base the branch on the latest beta? Trac is not able to automatically merge.



---

archive/issue_comments_260793.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-22T13:39:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260793",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_260794.json:
```json
{
    "body": "Replying to [comment:7 vdelecroix]:\n> Could you base the branch on the latest beta? Trac is not able to automatically merge.\n\n\nDone.",
    "created_at": "2015-09-22T13:40:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260794",
    "user": "https://github.com/dkrenn"
}
```

Replying to [comment:7 vdelecroix]:
> Could you base the branch on the latest beta? Trac is not able to automatically merge.


Done.



---

archive/issue_comments_260795.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2015-09-22T13:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260795",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_260796.json:
```json
{
    "body": "Replying to [comment:6 vdelecroix]:\n> Having so many category for `ZZ` might also be a problem when it comes to morphisms. What should be\n> \n> ```\n> sage: Hom(ZZ,ZZ)\n> sage: Hom(ZZ^2, ZZ^2)\n> ```\n> In the category of `Euclidean domains + Posets` there are few elements! And most of the time, when people think about `ZZ^2` they do not care about the poset structure. Something likethe following should work out of the box\n> \n> ```\n> sage: Hom(ZZ^2, ZZ^2, Posets())\n> sage: Hom(ZZ^2, ZZ^2, Modules(ZZ))\n> ```\n> My question is about the default behavior of `Hom` with this multiple categories.\n\n\nWhat would be a solution to this or what are possible scenarios? What can we do to get this ticket (make ZZ and QQ posets) towards a positive review?",
    "created_at": "2015-10-21T11:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260796",
    "user": "https://github.com/dkrenn"
}
```

Replying to [comment:6 vdelecroix]:
> Having so many category for `ZZ` might also be a problem when it comes to morphisms. What should be
> 
> ```
> sage: Hom(ZZ,ZZ)
> sage: Hom(ZZ^2, ZZ^2)
> ```
> In the category of `Euclidean domains + Posets` there are few elements! And most of the time, when people think about `ZZ^2` they do not care about the poset structure. Something likethe following should work out of the box
> 
> ```
> sage: Hom(ZZ^2, ZZ^2, Posets())
> sage: Hom(ZZ^2, ZZ^2, Modules(ZZ))
> ```
> My question is about the default behavior of `Hom` with this multiple categories.


What would be a solution to this or what are possible scenarios? What can we do to get this ticket (make ZZ and QQ posets) towards a positive review?



---

archive/issue_comments_260797.json:
```json
{
    "body": "Replying to [comment:12 dkrenn]:\n> Replying to [comment:6 vdelecroix]:\n> > Having so many category for `ZZ` might also be a problem when it comes to morphisms. What should be\n> > \n> > ```\n> > sage: Hom(ZZ,ZZ)\n> > sage: Hom(ZZ^2, ZZ^2)\n> > ```\n> > In the category of `Euclidean domains + Posets` there are few elements! And most of the time, when people think about `ZZ^2` they do not care about the poset structure. Something likethe following should work out of the box\n> > \n> > ```\n> > sage: Hom(ZZ^2, ZZ^2, Posets())\n> > sage: Hom(ZZ^2, ZZ^2, Modules(ZZ))\n> > ```\n> > My question is about the default behavior of `Hom` with this multiple categories.\n\n> \n> What would be a solution to this or what are possible scenarios? What can we do to get this ticket (make ZZ and QQ posets) towards a positive review?\n\n\nIndeed, it was a question... One possibility: make some priorities for the `Hom` functor in `sage.categories.homset`.\n\nCurrently, to deduce the category of `Hom(X,Y)` the functor does `X.category()._meet_(Y.category())` which is documented as being \"the largest common subcategory of self and other\". Instead of `_meet_` one could try to implement a more dedicated method that forget some of the categories (such as the Poset one if there is some algebraic structure).\n\nVincent",
    "created_at": "2015-10-21T12:06:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260797",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:12 dkrenn]:
> Replying to [comment:6 vdelecroix]:
> > Having so many category for `ZZ` might also be a problem when it comes to morphisms. What should be
> > 
> > ```
> > sage: Hom(ZZ,ZZ)
> > sage: Hom(ZZ^2, ZZ^2)
> > ```
> > In the category of `Euclidean domains + Posets` there are few elements! And most of the time, when people think about `ZZ^2` they do not care about the poset structure. Something likethe following should work out of the box
> > 
> > ```
> > sage: Hom(ZZ^2, ZZ^2, Posets())
> > sage: Hom(ZZ^2, ZZ^2, Modules(ZZ))
> > ```
> > My question is about the default behavior of `Hom` with this multiple categories.

> 
> What would be a solution to this or what are possible scenarios? What can we do to get this ticket (make ZZ and QQ posets) towards a positive review?


Indeed, it was a question... One possibility: make some priorities for the `Hom` functor in `sage.categories.homset`.

Currently, to deduce the category of `Hom(X,Y)` the functor does `X.category()._meet_(Y.category())` which is documented as being "the largest common subcategory of self and other". Instead of `_meet_` one could try to implement a more dedicated method that forget some of the categories (such as the Poset one if there is some algebraic structure).

Vincent



---

archive/issue_comments_260798.json:
```json
{
    "body": "Replying to [comment:13 vdelecroix]:\n> Indeed, it was a question... One possibility: make some priorities for the `Hom` functor in `sage.categories.homset`.\n> \n> Currently, to deduce the category of `Hom(X,Y)` the functor does `X.category()._meet_(Y.category())` which is documented as being \"the largest common subcategory of self and other\". Instead of `_meet_` one could try to implement a more dedicated method that forget some of the categories (such as the Poset one if there is some algebraic structure).\n\n\nThis could be something like an negated version of `extra_super_categories`, which kicks the specified (forbidden) categories out...",
    "created_at": "2015-10-21T15:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260798",
    "user": "https://github.com/dkrenn"
}
```

Replying to [comment:13 vdelecroix]:
> Indeed, it was a question... One possibility: make some priorities for the `Hom` functor in `sage.categories.homset`.
> 
> Currently, to deduce the category of `Hom(X,Y)` the functor does `X.category()._meet_(Y.category())` which is documented as being "the largest common subcategory of self and other". Instead of `_meet_` one could try to implement a more dedicated method that forget some of the categories (such as the Poset one if there is some algebraic structure).


This could be something like an negated version of `extra_super_categories`, which kicks the specified (forbidden) categories out...



---

archive/issue_events_053406.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-26T03:44:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53406"
}
```



---

archive/issue_events_053407.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53407"
}
```



---

archive/issue_events_053408.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53408"
}
```



---

archive/issue_comments_260799.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260799",
    "user": "https://github.com/mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_053409.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53409"
}
```



---

archive/issue_events_053410.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53410"
}
```



---

archive/issue_comments_260800.json:
```json
{
    "body": "Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260800",
    "user": "https://github.com/mkoeppe"
}
```

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_053411.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53411"
}
```



---

archive/issue_events_053412.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53412"
}
```



---

archive/issue_comments_260801.json:
```json
{
    "body": "Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19032#issuecomment-260801",
    "user": "https://github.com/mkoeppe"
}
```

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_053413.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53413"
}
```



---

archive/issue_events_053414.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53414"
}
```



---

archive/issue_events_053415.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53415"
}
```



---

archive/issue_events_053416.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53416"
}
```



---

archive/issue_events_053417.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53417"
}
```



---

archive/issue_events_053418.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/19032",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19032#event-53418"
}
```
