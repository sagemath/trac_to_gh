# Issue 27282: Update `src/ext/doctest/python3-known-passing.txt`

Issue created by migration from https://trac.sagemath.org/ticket/27519

Original creator: jhpalmieri

Original creation time: 2019-03-20 20:45:09

Update the list of files whose doctests should pass with Python 3.



---

Comment by jhpalmieri created at 2019-03-20 21:17:29

I'm also tempted to make this change:

```diff
diff --git a/Makefile b/Makefile
index cb1e291313..7628ad7855 100644
--- a/Makefile
+++ b/Makefile
@@ -143,7 +143,7 @@ fast-rebuild-clean: misc-clean bdist-clean
 
 TESTALL = ./sage -t --all
 PTESTALL = ./sage -t -p --all
-PTEST_PYTHON3 = cat src/ext/doctest/python3-known-passing.txt | xargs ./sage -t --long -p
+PTEST_PYTHON3 = sed '/^\#.*$$/d' src/ext/doctest/python3-known-passing.txt | xargs ./sage -t --long -p
 
 # Flags for ./sage -t --all.
 # By default, include all tests marked 'dochtml' -- see
diff --git a/src/ext/doctest/python3-known-passing.txt b/src/ext/doctest/python3-known-passing.txt
index 0b70f229f0..99412b844e 100644
--- a/src/ext/doctest/python3-known-passing.txt
+++ b/src/ext/doctest/python3-known-passing.txt
@@ -1,3 +1,7 @@
+# Each line starting with '#' is a comment.
+# Each other line should list a directory in which doctests are known
+# to pass with Python 3.
+#
 src/sage/algebras/
 src/sage/arith/
 src/sage/calculus/
```

Comments? Good idea or bad? Here or on another ticket?
----
New commits:


---

Comment by git created at 2019-03-20 21:19:09

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jhpalmieri created at 2019-03-20 21:20:24

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2019-03-21 01:22:56

I would really like to focus our Python3 effort on Python 3.7 (#25680) first.

If it weren't for the previous ticket updating `python3-known-passing.txt`, #25680 would have been merged already. At some point, everything worked with 3.7 but because the tests are such a moving target, stuff got broken again.

For that reason, I'm personally -1 on this ticket.


---

Comment by jhpalmieri created at 2019-03-21 03:58:28

The file hasn't been modified in a month, and it is important to try to catch regressions. I think upgrading once per release is not too often. Did you never want to modify this file? What's your alternative?

What is left to be done on #25680, anyway?


---

Comment by jdemeyer created at 2019-03-21 06:58:24

Replying to [comment:6 jhpalmieri]:
> Did you never want to modify this file? What's your alternative?

My suggestion is to first merge #25680.


---

Comment by jdemeyer created at 2019-03-21 15:40:39

Changing component from PLEASE CHANGE to python3.


---

Comment by jdemeyer created at 2019-03-21 15:47:21

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-03-31 22:43:31

Resolution: fixed
