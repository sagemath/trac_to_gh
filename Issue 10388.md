# Issue 10388: Error creating an empty multi-edge (di)graph

archive/issues_010388.json:
```json
{
    "body": "Assignee: somebody\n\nCC:  mvngu brunellus\n\nKeywords: creating empty Graph, DiGraph, multiple_edges=True\n\nIn SAGE 4.5.1 if you try to create an empty graph or digraph using the multi-edge keyword the (di)graph created is a non-multi (di)graph.\n\nExamples of the strange behaviour:\n\n\n```\nsage: G=Graph(multiple_edges=True)\nsage: G\nGraph on 0 vertices\n```\n\n\n\n```\nsage: G=Graph([],multiple_edges=True)\nsage: G\nGraph on 0 vertices\n```\n\n\n\n```\nsage: H=DiGraph(multiple_edges=True)\nsage: H\nDigraph on 0 vertices\n```\n\n\n\n```\nsage: H=DiGraph([],multiple_edges=True)\nsage: H\nDigraph on 0 vertices\n```\n\n\nNevertheless it works fine, i.e. produces a multi-graph/multi-digraph if one uses an empty dictionary like in the following:\n\n\n```\nsage: G=Graph([],multiple_edges=True)\nsage: G\nMulti-graph on 0 vertices\n```\n\n\n\n```\nsage: H=DiGraph({},multiple_edges=True)\nsage: H\nMulti-digraph on 0 vertices\n```\n\n\nAfter posting on sage-develop **Strange behaviour of add_edges** [http://groups.google.com/group/sage-devel/browse_thread/thread/69773eae8ba3cefc](http://groups.google.com/group/sage-devel/browse_thread/thread/69773eae8ba3cefc) I was asked to open a new ticket...\n\nIssue created by migration from https://trac.sagemath.org/ticket/10441\n\n",
    "created_at": "2010-12-08T03:00:40Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Error creating an empty multi-edge (di)graph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10388",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhs"
}
```
Assignee: somebody

CC:  mvngu brunellus

Keywords: creating empty Graph, DiGraph, multiple_edges=True

In SAGE 4.5.1 if you try to create an empty graph or digraph using the multi-edge keyword the (di)graph created is a non-multi (di)graph.

Examples of the strange behaviour:


```
sage: G=Graph(multiple_edges=True)
sage: G
Graph on 0 vertices
```



```
sage: G=Graph([],multiple_edges=True)
sage: G
Graph on 0 vertices
```



```
sage: H=DiGraph(multiple_edges=True)
sage: H
Digraph on 0 vertices
```



```
sage: H=DiGraph([],multiple_edges=True)
sage: H
Digraph on 0 vertices
```


Nevertheless it works fine, i.e. produces a multi-graph/multi-digraph if one uses an empty dictionary like in the following:


```
sage: G=Graph([],multiple_edges=True)
sage: G
Multi-graph on 0 vertices
```



```
sage: H=DiGraph({},multiple_edges=True)
sage: H
Multi-digraph on 0 vertices
```


After posting on sage-develop **Strange behaviour of add_edges** [http://groups.google.com/group/sage-devel/browse_thread/thread/69773eae8ba3cefc](http://groups.google.com/group/sage-devel/browse_thread/thread/69773eae8ba3cefc) I was asked to open a new ticket...

Issue created by migration from https://trac.sagemath.org/ticket/10441





---

archive/issue_comments_106710.json:
```json
{
    "body": "I think that having **kwds in the Graph constructor is very confusing, because any misspelling of an argument pass through without notice. Do you see some serious reason why is this there? I'm looking into the code and can't see anything.",
    "created_at": "2012-01-13T10:22:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10388",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10388#issuecomment-106710",
    "user": "https://trac.sagemath.org/admin/accounts/users/brunellus"
}
```

I think that having **kwds in the Graph constructor is very confusing, because any misspelling of an argument pass through without notice. Do you see some serious reason why is this there? I'm looking into the code and can't see anything.



---

archive/issue_comments_106711.json:
```json
{
    "body": "I started #12318 for the mentioned problem.\n\nFix for this ticket is a rather simple one, I think. Prove me wrong! :-)",
    "created_at": "2012-01-20T22:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10388",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10388#issuecomment-106711",
    "user": "https://trac.sagemath.org/admin/accounts/users/brunellus"
}
```

I started #12318 for the mentioned problem.

Fix for this ticket is a rather simple one, I think. Prove me wrong! :-)



---

archive/issue_comments_106712.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-01-20T22:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10388",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10388#issuecomment-106712",
    "user": "https://trac.sagemath.org/admin/accounts/users/brunellus"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_106713.json:
```json
{
    "body": "Hellooooooooooooo !!\n\nWell, the code building the graph is a bit messy but indeed what you wrote 1) prevents the bug 2) is what we should do until somebody comes with another weird situation `:-)`\n\nWould it be possible to move your \"# not a multi [...]\" comments to the line just above the test, though ? That's where we put flags like \"optional\" or \"not tested\" for the automatic tests, and it's best to be sure these comments do not interfere `^^;`\n\nNathann",
    "created_at": "2012-01-29T18:37:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10388",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10388#issuecomment-106713",
    "user": "https://github.com/nathanncohen"
}
```

Hellooooooooooooo !!

Well, the code building the graph is a bit messy but indeed what you wrote 1) prevents the bug 2) is what we should do until somebody comes with another weird situation `:-)`

Would it be possible to move your "# not a multi [...]" comments to the line just above the test, though ? That's where we put flags like "optional" or "not tested" for the automatic tests, and it's best to be sure these comments do not interfere `^^;`

Nathann



---

archive/issue_comments_106714.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-01-29T18:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10388",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10388#issuecomment-106714",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_106715.json:
```json
{
    "body": "Attachment [trac_10441_multigraph.patch](tarball://root/attachments/some-uuid/ticket10441/trac_10441_multigraph.patch) by brunellus created at 2012-01-31 11:37:51\n\nThanks! Is it better now?",
    "created_at": "2012-01-31T11:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10388",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10388#issuecomment-106715",
    "user": "https://trac.sagemath.org/admin/accounts/users/brunellus"
}
```

Attachment [trac_10441_multigraph.patch](tarball://root/attachments/some-uuid/ticket10441/trac_10441_multigraph.patch) by brunellus created at 2012-01-31 11:37:51

Thanks! Is it better now?



---

archive/issue_comments_106716.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-01-31T11:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10388",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10388#issuecomment-106716",
    "user": "https://trac.sagemath.org/admin/accounts/users/brunellus"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_106717.json:
```json
{
    "body": "Hellooooooo !!!\n\nI thought you would put the comments just before the \"::\" but there's no problem with way either... Good to go ! `:-)`\n\nNathann",
    "created_at": "2012-01-31T11:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10388",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10388#issuecomment-106717",
    "user": "https://github.com/nathanncohen"
}
```

Hellooooooo !!!

I thought you would put the comments just before the "::" but there's no problem with way either... Good to go ! `:-)`

Nathann



---

archive/issue_comments_106718.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-01-31T11:47:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10388",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10388#issuecomment-106718",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_106719.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-02-06T21:23:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10388",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10388#issuecomment-106719",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_010519.json:
```json
{
    "actor": "@jdemeyer",
    "created_at": "2012-02-06T21:23:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/10388",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/10388#event-10519"
}
```
