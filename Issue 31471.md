# Issue 31471: gf2e and gfpn matrices do not accept vectors

Issue created by migration from https://trac.sagemath.org/ticket/31708

Original creator: tscrim

Original creation time: 2021-04-21 01:52:12

Keywords: matrix

Nor do they accept the `subdivide` input. Compare:

```
sage: R = ZZ                                                                                              
sage: M = matrix(R, [[1,1],[0,1]])                                                                        
sage: M.stack(vector(R, [1,0]))                                                                           
[1 1]
[0 1]
[1 0]
```


```                                                              
sage: R = GF(2^3)                                                                                         
sage: M = matrix(R, [[1,1],[0,1]])                                                                        
sage: M.stack(vector(R, [1,0]))                                                                           
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-8-37e1a2e26d3e> in <module>
----> 1 M.stack(vector(R, [Integer(1),Integer(0)]))

TypeError: Argument 'other' has incorrect type (expected sage.matrix.matrix_gf2e_dense.Matrix_gf2e_dense, got sage.modules.free_module_element.FreeModuleElement_generic_dense)
```

This should follow #16399.


---

Comment by tscrim created at 2021-04-21 01:59:25

Changing status from new to needs_review.


---

Comment by tscrim created at 2021-04-21 01:59:25

New commits:


---

Comment by chapoton created at 2021-04-21 08:22:20

ok, looks good

maybe `Stack ``self`` on top of ``other``.` should become 
`Stack ``self`` on top of ``bottom``.`

if you agree, once done, you can set to positive


---

Comment by git created at 2021-04-21 23:31:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2021-04-21 23:32:55

Thank you. I made one other minor change: I removed the column equality check since that is done in the `stack()` method and other `_stack_impl` methods make the same assumption. Could you please check it?


---

Comment by chapoton created at 2021-04-24 18:24:16

ok


---

Comment by chapoton created at 2021-04-24 18:24:16

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2021-04-25 17:12:48

The initial ticket description mentioned gf2e and gfpn matrices
not accepting `subdivide` input, please give an example and say
whether that is addressed here.


---

Comment by tscrim created at 2021-04-25 23:32:40

That was just a mistake on my part. I wrote `subdivide` when I really meant to write `stack`.


---

Comment by vbraun created at 2021-06-19 20:58:14

Resolution: fixed
