# Issue 22699: Newton polygon of polynomials over power series with infinite precision

Issue created by migration from https://trac.sagemath.org/ticket/22936

Original creator: bruno

Original creation time: 2017-05-03 12:33:49

CC:  caruso

Keywords: newton polygon

Computing the Newton polygon of a polynomial with coefficients in a ring of power series fails if the coefficients have infinite precision:


```python
sage: S.<x> = PowerSeriesRing(GF(5))
sage: R.<y> = S[]
sage: p = x^2+y+x*y^2
sage: p.newton_polygon()
Traceback (most recent call last):
...
IndexError: list index out of range
```




---

Comment by caruso created at 2017-05-11 20:23:08

I attach a small patch fixing this issue.
I've also updated the method `_factor_of_degree` in order to make the slope factorization work correctly. (Otherwise, at infinite precision, it may never stop.)


---

Comment by caruso created at 2017-05-11 20:23:08

Changing status from new to needs_review.


---

Comment by git created at 2017-05-11 20:29:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-05-11 20:48:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by saraedum created at 2017-05-11 20:50:20

Looks good, except for the `TESTS:`. Positive review if the patchbot is happy.
----
New commits:


---

Comment by bruno created at 2017-05-12 08:14:25

~~Two~~ One comment~~s~~:

* You changed too many `TESTS:` by `TESTS::`: There should be double colons only when `TESTS:` is followed by an actual test, not when it is followed by a sentence that explains the test.

* ~~It would be nice to add a test for slope factorization.~~ (The test already exists...)


---

Comment by bruno created at 2017-05-12 08:14:25

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-05-12 15:51:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by caruso created at 2017-05-12 15:52:07

Changing status from needs_work to needs_review.


---

Comment by bruno created at 2017-05-12 16:26:46

LGTM, thanks for the patch!


---

Comment by bruno created at 2017-05-12 16:26:46

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-05-14 08:20:02

Resolution: fixed
