# Issue 14278: create the new development scripts/library

archive/issues_014278.json:
```json
{
    "body": "Assignee: jason\n\nCC:  mderickx robertwb roed jdemeyer kini saraedum leif simonking\n\nIn order to switch to the new workflow, we need to create a set of development scripts for interfacing against git and trac.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14482\n\n",
    "created_at": "2013-04-24T05:54:23Z",
    "labels": [
        "misc",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.0",
    "title": "create the new development scripts/library",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14278",
    "user": "ohanar"
}
```
Assignee: jason

CC:  mderickx robertwb roed jdemeyer kini saraedum leif simonking

In order to switch to the new workflow, we need to create a set of development scripts for interfacing against git and trac.

Issue created by migration from https://trac.sagemath.org/ticket/14482





---

archive/issue_comments_179824.json:
```json
{
    "body": "The dependencies got lost through the ./sage --dev upload script. I'm putting them back.",
    "created_at": "2013-07-20T12:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179824",
    "user": "tkluck"
}
```

The dependencies got lost through the ./sage --dev upload script. I'm putting them back.



---

archive/issue_comments_179825.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd51\".",
    "created_at": "2013-07-22T13:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179825",
    "user": "tkluck"
}
```

Changing keywords from "" to "sd51".



---

archive/issue_comments_179826.json:
```json
{
    "body": "Remove circular dependency.",
    "created_at": "2013-07-23T10:09:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179826",
    "user": "tkluck"
}
```

Remove circular dependency.



---

archive/issue_comments_179827.json:
```json
{
    "body": "We can now add comments.",
    "created_at": "2013-07-25T15:51:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179827",
    "user": "saraedum"
}
```

We can now add comments.



---

archive/issue_comments_179828.json:
```json
{
    "body": "I will spend the better part of this week trying to complete these scripts (i.e. mostly writing doctests). If anybody else wants to do substantial work on these scripts, it's probably best to contact me, so we don't work on the same issues.",
    "created_at": "2013-07-29T14:53:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179828",
    "user": "saraedum"
}
```

I will spend the better part of this week trying to complete these scripts (i.e. mostly writing doctests). If anybody else wants to do substantial work on these scripts, it's probably best to contact me, so we don't work on the same issues.



---

archive/issue_comments_179829.json:
```json
{
    "body": "I did some work on doctesting and better reporting of exceptions. I will not be able to work on this for about a week but will try to finish this afterwards.",
    "created_at": "2013-08-04T21:03:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179829",
    "user": "saraedum"
}
```

I did some work on doctesting and better reporting of exceptions. I will not be able to work on this for about a week but will try to finish this afterwards.



---

archive/issue_comments_179830.json:
```json
{
    "body": "There is a problem in the handling of untracked files. Git interprets \"untracked\" as untracked in cwd. In fact, just having been given `--git-dir` we can't possibly know where the working directory is. For example, consider the filesystem layout:\n\n```\n$ tree -a\n.\n\u251c\u2500\u2500 a\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 file_in_a\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 .git\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 branches\n\u2502       [...] \n\u2514\u2500\u2500 b\n    \u2514\u2500\u2500 file_in_b\n$ cd b\n$ git --git-dir=../a/.git ls-files --other\nfile_in_b\n```\n\nwhereas you probably would have expected `file_in_a`.",
    "created_at": "2013-08-13T20:41:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179830",
    "user": "vbraun"
}
```

There is a problem in the handling of untracked files. Git interprets "untracked" as untracked in cwd. In fact, just having been given `--git-dir` we can't possibly know where the working directory is. For example, consider the filesystem layout:

```
$ tree -a
.
├── a
│   ├── file_in_a
│   └── .git
│       ├── branches
│       [...] 
└── b
    └── file_in_b
$ cd b
$ git --git-dir=../a/.git ls-files --other
file_in_b
```

whereas you probably would have expected `file_in_a`.



---

archive/issue_comments_179831.json:
```json
{
    "body": "Replying to [comment:27 vbraun]:\nThis should be fixed now in `git_interface.untracked_files()`.",
    "created_at": "2013-08-19T18:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179831",
    "user": "saraedum"
}
```

Replying to [comment:27 vbraun]:
This should be fixed now in `git_interface.untracked_files()`.



---

archive/issue_comments_179832.json:
```json
{
    "body": "wget (when invoked by the dev scripts) complains that the Common Name for the SSL certificate on trac.sagemath.org refers to sagecell.sagemath.org. I don't know much about SSL but do we not have a certificate for trac.sagemath.org?",
    "created_at": "2013-08-19T18:03:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179832",
    "user": "saraedum"
}
```

wget (when invoked by the dev scripts) complains that the Common Name for the SSL certificate on trac.sagemath.org refers to sagecell.sagemath.org. I don't know much about SSL but do we not have a certificate for trac.sagemath.org?



---

archive/issue_comments_179833.json:
```json
{
    "body": "The scripts should use curl instead of wget, the latter is not available on OSX since Apple is prejudiced against the GPL. \n\nThe SSL problem is that we are trying to host two SSL virtual domains on the same IP, that is a no-no. I've posted to sage-devel about it at https://groups.google.com/d/msg/sage-devel/VRohw4DSNrk/TpjWGQ-Vtu8J",
    "created_at": "2013-08-19T19:09:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179833",
    "user": "vbraun"
}
```

The scripts should use curl instead of wget, the latter is not available on OSX since Apple is prejudiced against the GPL. 

The SSL problem is that we are trying to host two SSL virtual domains on the same IP, that is a no-no. I've posted to sage-devel about it at https://groups.google.com/d/msg/sage-devel/VRohw4DSNrk/TpjWGQ-Vtu8J



---

archive/issue_comments_179834.json:
```json
{
    "body": "If you are trying to download a file from within python you should probably use the retrieve method of `urllib.FancyURLopener`. See src/bin/sage-download-file for an example.",
    "created_at": "2013-08-19T21:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179834",
    "user": "ohanar"
}
```

If you are trying to download a file from within python you should probably use the retrieve method of `urllib.FancyURLopener`. See src/bin/sage-download-file for an example.



---

archive/issue_comments_179835.json:
```json
{
    "body": "Also, I'm not entirely happy with the git interface. Though I also think its good enough to use in the git scripts and its probably a bad idea to do any architectural changes at this point. For the record I've built on the current code at https://github.com/vbraun/SageUI/tree/release/src/sageui/model. Changes incude\n\n* Use proxy objects instead of having to import magic constants:\n  {{{\nIn [3]: git.status()   # return stdout by default, the most desirable behaviour\nOut[3]: '# On branch dev_scripts\\nnothing to commit, working directory clean\\n'\n\nIn [4]: git.exit_code.status()\nOut[4]: 0\n\nIn [5]: git.silent.status()\n\nIn [6]: git.echo.status()\n# On branch dev_scripts\nnothing to commit, working directory clean\n  }}}\n* Don't hardcode the Sage repo directory, this is probably going to be useful elsewhere\n* Use the `GIT_DIR` and `GIT_WORK_TREE` environment variables instead of `--git-dir` (though warning: there seems to be a bug in `git status`, it is not respecting `GIT_WORK_TREE`)\n* Split the git interface (handling the mechanics of interfacing with the git binary) from the logical repository handling (like the `create_ticket` method)\n* Put all the doctesting setup into a utility class instead of having lengthy sections creating `Doctest*` classes and sample repos.",
    "created_at": "2013-08-19T21:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179835",
    "user": "vbraun"
}
```

Also, I'm not entirely happy with the git interface. Though I also think its good enough to use in the git scripts and its probably a bad idea to do any architectural changes at this point. For the record I've built on the current code at https://github.com/vbraun/SageUI/tree/release/src/sageui/model. Changes incude

* Use proxy objects instead of having to import magic constants:
  {{{
In [3]: git.status()   # return stdout by default, the most desirable behaviour
Out[3]: '# On branch dev_scripts\nnothing to commit, working directory clean\n'

In [4]: git.exit_code.status()
Out[4]: 0

In [5]: git.silent.status()

In [6]: git.echo.status()
# On branch dev_scripts
nothing to commit, working directory clean
  }}}
* Don't hardcode the Sage repo directory, this is probably going to be useful elsewhere
* Use the `GIT_DIR` and `GIT_WORK_TREE` environment variables instead of `--git-dir` (though warning: there seems to be a bug in `git status`, it is not respecting `GIT_WORK_TREE`)
* Split the git interface (handling the mechanics of interfacing with the git binary) from the logical repository handling (like the `create_ticket` method)
* Put all the doctesting setup into a utility class instead of having lengthy sections creating `Doctest*` classes and sample repos.



---

archive/issue_comments_179836.json:
```json
{
    "body": "Replying to [comment:31 ohanar]:\n> If you are trying to download a file from within python you should probably use the retrieve method of `urllib.FancyURLopener`. See src/bin/sage-download-file for an example.\n\nOk. I changed it to use urllib.",
    "created_at": "2013-08-20T11:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179836",
    "user": "saraedum"
}
```

Replying to [comment:31 ohanar]:
> If you are trying to download a file from within python you should probably use the retrieve method of `urllib.FancyURLopener`. See src/bin/sage-download-file for an example.

Ok. I changed it to use urllib.



---

archive/issue_comments_179837.json:
```json
{
    "body": "Replying to [comment:32 vbraun]:\n> * Use proxy objects instead of having to import magic constants\nRight, this is syntactically much nicer. I changed this in my branch.\n> * Don't hardcode the Sage repo directory, this is probably going to be useful elsewhere\nWhere is the repo hardcoded?\n> * Use the `GIT_DIR` and `GIT_WORK_TREE` environment variables instead of `--git-dir` (though warning: there seems to be a bug in `git status`, it is not respecting `GIT_WORK_TREE`)\nCould you explain the benefit of GIT_DIR and GIT_WORK_TREE?\n> * Split the git interface (handling the mechanics of interfacing with the git binary) from the logical repository handling (like the `create_ticket` method)\n`create_ticket` is not part of the git interface anymore. Are there any other methods you want to move?\n> * Put all the doctesting setup into a utility class instead of having lengthy sections creating `Doctest*` classes and sample repos.\nGood point. I was not sure initially what the doctests would look like. Now it seems that there are only two cases (one user, two users). I'll put the usual setup into special functions.",
    "created_at": "2013-08-20T11:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179837",
    "user": "saraedum"
}
```

Replying to [comment:32 vbraun]:
> * Use proxy objects instead of having to import magic constants
Right, this is syntactically much nicer. I changed this in my branch.
> * Don't hardcode the Sage repo directory, this is probably going to be useful elsewhere
Where is the repo hardcoded?
> * Use the `GIT_DIR` and `GIT_WORK_TREE` environment variables instead of `--git-dir` (though warning: there seems to be a bug in `git status`, it is not respecting `GIT_WORK_TREE`)
Could you explain the benefit of GIT_DIR and GIT_WORK_TREE?
> * Split the git interface (handling the mechanics of interfacing with the git binary) from the logical repository handling (like the `create_ticket` method)
`create_ticket` is not part of the git interface anymore. Are there any other methods you want to move?
> * Put all the doctesting setup into a utility class instead of having lengthy sections creating `Doctest*` classes and sample repos.
Good point. I was not sure initially what the doctests would look like. Now it seems that there are only two cases (one user, two users). I'll put the usual setup into special functions.



---

archive/issue_comments_179838.json:
```json
{
    "body": "Changing type from task to enhancement.",
    "created_at": "2013-08-20T13:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179838",
    "user": "vbraun"
}
```

Changing type from task to enhancement.



---

archive/issue_comments_179839.json:
```json
{
    "body": "Thanks, looks much better.\n\nI would say anything that accesses the UI or Config ought to not be part of the low-level git interface. That should only know about the path to the repo and nothing else, so it can be used in the future for other git repos. But its not really urgent to fine-tune this right now.\n\nFunctionally, setting `GIT_DIR` and `GIT_WORK_TREE` is basically equivalent to setting `--git-dir` and always chdir-ing to the right directory. I just find the former better structured, you don't have to filter out arguments for the log etc. But again its not a big difference.",
    "created_at": "2013-08-20T13:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179839",
    "user": "vbraun"
}
```

Thanks, looks much better.

I would say anything that accesses the UI or Config ought to not be part of the low-level git interface. That should only know about the path to the repo and nothing else, so it can be used in the future for other git repos. But its not really urgent to fine-tune this right now.

Functionally, setting `GIT_DIR` and `GIT_WORK_TREE` is basically equivalent to setting `--git-dir` and always chdir-ing to the right directory. I just find the former better structured, you don't have to filter out arguments for the log etc. But again its not a big difference.



---

archive/issue_comments_179840.json:
```json
{
    "body": "Replying to [comment:35 vbraun]:\n> I would say anything that accesses the UI or Config ought to not be part of the low-level git interface. That should only know about the path to the repo and nothing else, so it can be used in the future for other git repos. But its not really urgent to fine-tune this right now.\n\n> Functionally, setting `GIT_DIR` and `GIT_WORK_TREE` is basically equivalent to setting `--git-dir` and always chdir-ing to the right directory. I just find the former better structured, you don't have to filter out arguments for the log etc. But again its not a big difference.\n\nI agree with both points. It would be nice to change this some day. For the time being I would rather leave it the way it is, just to be able to focus on the missing bits in sagedev.py.",
    "created_at": "2013-08-20T13:52:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179840",
    "user": "saraedum"
}
```

Replying to [comment:35 vbraun]:
> I would say anything that accesses the UI or Config ought to not be part of the low-level git interface. That should only know about the path to the repo and nothing else, so it can be used in the future for other git repos. But its not really urgent to fine-tune this right now.

> Functionally, setting `GIT_DIR` and `GIT_WORK_TREE` is basically equivalent to setting `--git-dir` and always chdir-ing to the right directory. I just find the former better structured, you don't have to filter out arguments for the log etc. But again its not a big difference.

I agree with both points. It would be nice to change this some day. For the time being I would rather leave it the way it is, just to be able to focus on the missing bits in sagedev.py.



---

archive/issue_comments_179841.json:
```json
{
    "body": "Replying to [comment:35 vbraun]:\n> Functionally, setting `GIT_DIR` and `GIT_WORK_TREE` is basically equivalent to setting `--git-dir` and always chdir-ing to the right directory.\n\nNot quite, setting `GIT_WORK_TREE` doesn't behave the same as chdir-ing to a given directory, it simply specifies what git should consider is the root of work tree -- it will still display relative paths to the current directory (for all commands, as far as I can tell) if the current directory is a within the specified work tree.",
    "created_at": "2013-08-20T21:48:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179841",
    "user": "ohanar"
}
```

Replying to [comment:35 vbraun]:
> Functionally, setting `GIT_DIR` and `GIT_WORK_TREE` is basically equivalent to setting `--git-dir` and always chdir-ing to the right directory.

Not quite, setting `GIT_WORK_TREE` doesn't behave the same as chdir-ing to a given directory, it simply specifies what git should consider is the root of work tree -- it will still display relative paths to the current directory (for all commands, as far as I can tell) if the current directory is a within the specified work tree.



---

archive/issue_comments_179842.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-08-22T18:36:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179842",
    "user": "saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_179843.json:
```json
{
    "body": "I have a DSA ssh key (`~/.ssh/id_dsa` and `~/.ssh/id_dsa.pub`). I encountered two bugs:\n1. The dev scripts only check for a RSA key, which I don't have. \n2. Since it didn't find my key, the scripts generated a new one. But as (`~/.ssh/id_rsa.pub` and `~/.ssh/id_rsa.pub.pub`), making the private key look like a public key that can be shared.",
    "created_at": "2013-08-29T15:15:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179843",
    "user": "vbraun"
}
```

I have a DSA ssh key (`~/.ssh/id_dsa` and `~/.ssh/id_dsa.pub`). I encountered two bugs:
1. The dev scripts only check for a RSA key, which I don't have. 
2. Since it didn't find my key, the scripts generated a new one. But as (`~/.ssh/id_rsa.pub` and `~/.ssh/id_rsa.pub.pub`), making the private key look like a public key that can be shared.



---

archive/issue_comments_179844.json:
```json
{
    "body": "Thanks for trying things out. This should be fixed now.\n\nReplying to [comment:40 vbraun]:\n> I have a DSA ssh key (`~/.ssh/id_dsa` and `~/.ssh/id_dsa.pub`). I encountered two bugs:\n> 1. The dev scripts only check for a RSA key, which I don't have. \n> 2. Since it didn't find my key, the scripts generated a new one. But as (`~/.ssh/id_rsa.pub` and `~/.ssh/id_rsa.pub.pub`), making the private key look like a public key that can be shared.",
    "created_at": "2013-08-29T15:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179844",
    "user": "saraedum"
}
```

Thanks for trying things out. This should be fixed now.

Replying to [comment:40 vbraun]:
> I have a DSA ssh key (`~/.ssh/id_dsa` and `~/.ssh/id_dsa.pub`). I encountered two bugs:
> 1. The dev scripts only check for a RSA key, which I don't have. 
> 2. Since it didn't find my key, the scripts generated a new one. But as (`~/.ssh/id_rsa.pub` and `~/.ssh/id_rsa.pub.pub`), making the private key look like a public key that can be shared.



---

archive/issue_comments_179845.json:
```json
{
    "body": "Thanks!\n\nThere is a minor annoyance left, I have already set up ssh keys yet the dev scripts insist on doing it again and prompt for username/password. We should first check if authetication to gitolite works, and only upload keys if it doesn't. I suggest the following test: Run\n\n```\nssh -o \"StrictHostKeyChecking yes\" -o \"PasswordAuthentication no\" -o \"PubkeyAuthentication yes\" -p 2222 git@trac.sagemath.org help\n```\n\nIf the exit code is 0, then the host key and ssh keys are already set up.",
    "created_at": "2013-08-29T19:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179845",
    "user": "vbraun"
}
```

Thanks!

There is a minor annoyance left, I have already set up ssh keys yet the dev scripts insist on doing it again and prompt for username/password. We should first check if authetication to gitolite works, and only upload keys if it doesn't. I suggest the following test: Run

```
ssh -o "StrictHostKeyChecking yes" -o "PasswordAuthentication no" -o "PubkeyAuthentication yes" -p 2222 git@trac.sagemath.org help
```

If the exit code is 0, then the host key and ssh keys are already set up.



---

archive/issue_comments_179846.json:
```json
{
    "body": "Replying to [comment:42 vbraun]:\n> There is a minor annoyance left, I have already set up ssh keys yet the dev scripts insist on doing it again and prompt for username/password. We should first check if authetication to gitolite works, and only upload keys if it doesn't. I suggest the following test: Run\n\nI now simply changed the scripts to only ask the user once. Your solution is much nicer but I just did something that is easy to implement. (Also, I'm not sure how portable the ssh call is, and I do not have a MAC to test.)",
    "created_at": "2013-08-29T22:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179846",
    "user": "saraedum"
}
```

Replying to [comment:42 vbraun]:
> There is a minor annoyance left, I have already set up ssh keys yet the dev scripts insist on doing it again and prompt for username/password. We should first check if authetication to gitolite works, and only upload keys if it doesn't. I suggest the following test: Run

I now simply changed the scripts to only ask the user once. Your solution is much nicer but I just did something that is easy to implement. (Also, I'm not sure how portable the ssh call is, and I do not have a MAC to test.)



---

archive/issue_comments_179847.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-08-31T12:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179847",
    "user": "saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_179848.json:
```json
{
    "body": "The SavingDicts' data is stored in DOT_SAGE. This is not a good idea because multiple copies of sage will write to the same data file. I guess these dicts need to go somewhere in the repository. Where should that be? `local/`?",
    "created_at": "2013-08-31T12:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179848",
    "user": "saraedum"
}
```

The SavingDicts' data is stored in DOT_SAGE. This is not a good idea because multiple copies of sage will write to the same data file. I guess these dicts need to go somewhere in the repository. Where should that be? `local/`?



---

archive/issue_comments_179849.json:
```json
{
    "body": "maybe .git is best. They contain data about branches, right? I would also expect to be able to rm -rf local for a full rebuild.",
    "created_at": "2013-08-31T14:52:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179849",
    "user": "tkluck"
}
```

maybe .git is best. They contain data about branches, right? I would also expect to be able to rm -rf local for a full rebuild.



---

archive/issue_comments_179850.json:
```json
{
    "body": "Replying to [comment:45 tkluck]:\n> maybe .git is best. They contain data about branches, right? I would also expect to be able to rm -rf local for a full rebuild.\n\nYou are right. Does git care if there are extra files in .git?",
    "created_at": "2013-08-31T14:57:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179850",
    "user": "saraedum"
}
```

Replying to [comment:45 tkluck]:
> maybe .git is best. They contain data about branches, right? I would also expect to be able to rm -rf local for a full rebuild.

You are right. Does git care if there are extra files in .git?



---

archive/issue_comments_179851.json:
```json
{
    "body": "Replying to [comment:46 saraedum]:\n> Replying to [comment:45 tkluck]:\n> > maybe .git is best. They contain data about branches, right? I would also expect to be able to rm -rf local for a full rebuild.\n> \n> You are right. Does git care if there are extra files in .git?\n\nNo it does not. man git says:\n\nHigher level SCMs may provide and manage additional information in the $GIT_DIR.",
    "created_at": "2013-08-31T15:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179851",
    "user": "saraedum"
}
```

Replying to [comment:46 saraedum]:
> Replying to [comment:45 tkluck]:
> > maybe .git is best. They contain data about branches, right? I would also expect to be able to rm -rf local for a full rebuild.
> 
> You are right. Does git care if there are extra files in .git?

No it does not. man git says:

Higher level SCMs may provide and manage additional information in the $GIT_DIR.



---

archive/issue_comments_179852.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-08-31T16:05:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179852",
    "user": "saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_179853.json:
```json
{
    "body": "Does not merge cleanly with `build_system` again, although easy fix. (More I want to hijack the branch here to review #15133)",
    "created_at": "2013-08-31T22:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179853",
    "user": "ohanar"
}
```

Does not merge cleanly with `build_system` again, although easy fix. (More I want to hijack the branch here to review #15133)



---

archive/issue_comments_179854.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Recent commits:",
    "created_at": "2013-08-31T22:38:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179854",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Recent commits:



---

archive/issue_comments_179855.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Recent commits:",
    "created_at": "2013-08-31T22:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179855",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Recent commits:



---

archive/issue_comments_179856.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-03T14:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179856",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179857.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-03T22:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179857",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179858.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-04T16:08:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179858",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179859.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T01:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179859",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179860.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T12:43:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179860",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179861.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T14:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179861",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179862.json:
```json
{
    "body": "\n```\n    sage: alice.git.echo.log('--pretty=%s') \n    Merge branch 'u/bob/ticket/1' of /dev/shm/... into ticket/1 \n```\n\nmost peopole don't have their temp dir on `/dev/shm`. Can you ellipsize some more?",
    "created_at": "2013-09-05T16:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179862",
    "user": "vbraun"
}
```


```
    sage: alice.git.echo.log('--pretty=%s') 
    Merge branch 'u/bob/ticket/1' of /dev/shm/... into ticket/1 
```

most peopole don't have their temp dir on `/dev/shm`. Can you ellipsize some more?



---

archive/issue_comments_179863.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T16:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179863",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179864.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T16:46:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179864",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179865.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T16:51:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179865",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179866.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T16:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179866",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179867.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T18:32:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179867",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179868.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T18:53:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179868",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179869.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T19:07:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179869",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179870.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-06T14:05:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179870",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179871.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-06T14:29:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179871",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179872.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-06T14:32:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179872",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179873.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-06T23:49:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179873",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179874.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-09T16:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179874",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179875.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-10T21:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179875",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179876.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-10T21:53:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179876",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179877.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-11T17:16:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179877",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179878.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-11T22:49:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179878",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179879.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-12T15:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179879",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179880.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-13T13:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179880",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179881.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-13T13:38:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179881",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179882.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-13T21:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179882",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179883.json:
```json
{
    "body": "How difficult would it be to preserve the description part of the `u/user/description` branch name? That is, when checking out a branch from a ticket #12345 use the local name `ticket/12345/description`? I think it'll be a bit annoying that the dev script users bulldoze your carefully thought-out description.\n\nIf the description already starts with `ticket/12345/...` then that first bit would be skipped. So if you push back to trac, it would become `u/user/ticket/12345/description`. And if somebody checks that ticket out, it would again become the local branch `ticket/12345/description`.",
    "created_at": "2013-09-20T10:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179883",
    "user": "vbraun"
}
```

How difficult would it be to preserve the description part of the `u/user/description` branch name? That is, when checking out a branch from a ticket #12345 use the local name `ticket/12345/description`? I think it'll be a bit annoying that the dev script users bulldoze your carefully thought-out description.

If the description already starts with `ticket/12345/...` then that first bit would be skipped. So if you push back to trac, it would become `u/user/ticket/12345/description`. And if somebody checks that ticket out, it would again become the local branch `ticket/12345/description`.



---

archive/issue_comments_179884.json:
```json
{
    "body": "That's not hard to do. I guess I would like to prompt the user because personally I prefer the short names.\n\nWould you mind creating an issue at the github page?",
    "created_at": "2013-09-20T13:48:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179884",
    "user": "saraedum"
}
```

That's not hard to do. I guess I would like to prompt the user because personally I prefer the short names.

Would you mind creating an issue at the github page?



---

archive/issue_comments_179885.json:
```json
{
    "body": "Do you want to spit in the original author's face and delete his description [Y/N]?\n\nIf you are using the dev scripts then you never get to see the actual branch name, so it shouldn't matter. If not then you should have tab-completion for git branches, making it into a non-issue as well. \n\nIn any case, we can easily add that later so its not important for the first release of the dev scripts.",
    "created_at": "2013-09-20T13:57:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179885",
    "user": "vbraun"
}
```

Do you want to spit in the original author's face and delete his description [Y/N]?

If you are using the dev scripts then you never get to see the actual branch name, so it shouldn't matter. If not then you should have tab-completion for git branches, making it into a non-issue as well. 

In any case, we can easily add that later so its not important for the first release of the dev scripts.



---

archive/issue_comments_179886.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-20T15:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179886",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179887.json:
```json
{
    "body": "I'm pretty happy with the rename. Two things remain:\n\n```\n    reset-to-clean-working-directory\n                        Drop any uncommitted changes in the working directory.\n```\n\nshould be something like\n\n```\n    clean               Delete all uncommited changes.\n```\n\nAnd `unstash` is not a word, its akin to \"unspend\" not being the opposite of \"spend\". It should be removed (my favorite) or renamed to `stash apply' (preferably) or 'stash-apply' (if we really must).",
    "created_at": "2013-09-22T21:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179887",
    "user": "vbraun"
}
```

I'm pretty happy with the rename. Two things remain:

```
    reset-to-clean-working-directory
                        Drop any uncommitted changes in the working directory.
```

should be something like

```
    clean               Delete all uncommited changes.
```

And `unstash` is not a word, its akin to "unspend" not being the opposite of "spend". It should be removed (my favorite) or renamed to `stash apply' (preferably) or 'stash-apply' (if we really must).



---

archive/issue_comments_179888.json:
```json
{
    "body": "Replying to [comment:92 vbraun]:\n> I'm pretty happy with the rename. Two things remain:\n> {{{\n>     reset-to-clean-working-directory\n>                         Drop any uncommitted changes in the working directory.\n> }}}\n> should be something like\n> {{{\n>     clean               Delete all uncommited changes.\n> }}}\n> And `unstash` is not a word, its akin to \"unspend\" not being the opposite of \"spend\". It should be removed (my favorite) or renamed to `stash apply' (preferably) or 'stash-apply' (if we really must).\n\nI'm happy with the `clean` rename, but I think `unstash` is better than either of the alternatives you've suggested, even if it's not a word.",
    "created_at": "2013-09-22T22:26:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179888",
    "user": "roed"
}
```

Replying to [comment:92 vbraun]:
> I'm pretty happy with the rename. Two things remain:
> {{{
>     reset-to-clean-working-directory
>                         Drop any uncommitted changes in the working directory.
> }}}
> should be something like
> {{{
>     clean               Delete all uncommited changes.
> }}}
> And `unstash` is not a word, its akin to "unspend" not being the opposite of "spend". It should be removed (my favorite) or renamed to `stash apply' (preferably) or 'stash-apply' (if we really must).

I'm happy with the `clean` rename, but I think `unstash` is better than either of the alternatives you've suggested, even if it's not a word.



---

archive/issue_comments_179889.json:
```json
{
    "body": "I always though `unstash` was supposed to be `stash drop` until I read the docs, found that very confusing.",
    "created_at": "2013-09-22T22:49:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179889",
    "user": "vbraun"
}
```

I always though `unstash` was supposed to be `stash drop` until I read the docs, found that very confusing.



---

archive/issue_comments_179890.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-23T15:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179890",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179891.json:
```json
{
    "body": "I just debugged Simon's problem, and the dev scripts trip over the German localization in various places. The dev scripts should always set `LC_ALL=C` or `posix` before launching external programs if the output is being parsed. See also the thread at https://groups.google.com/d/msg/sage-git/jlm0piUE8Pk/DsA6lkbmhIsJ",
    "created_at": "2013-09-24T11:41:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179891",
    "user": "vbraun"
}
```

I just debugged Simon's problem, and the dev scripts trip over the German localization in various places. The dev scripts should always set `LC_ALL=C` or `posix` before launching external programs if the output is being parsed. See also the thread at https://groups.google.com/d/msg/sage-git/jlm0piUE8Pk/DsA6lkbmhIsJ



---

archive/issue_comments_179892.json:
```json
{
    "body": "I tried out the \"stash\" feature and it doesn't stash anything. It reimplements something that is similar but using branches instead of the git stash stack. So if this is the desired effect then we shouldn't call it stash, which also resolves the unstash naming question. Just call its save/restore or something like that. \n\nAlso, documentation build failures:\n\n```\n[dev      ] /home/vbraun/Code/sage/src/doc/en/reference/dev/index.rst:2: WARNING: Title underline too short.\n[dev      ] Sage's Development Scripts\n[dev      ] =========\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/git_interface.py:docstring of sage.dev.git_interface.GitInterface.local_branches:5: WARNING: Literal block expected; none found.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.merge:60: WARNING: Literal block expected; none found.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:10: WARNING: Block quote ends without a blank line; unexpected unindent.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.push:25: WARNING: Literal block expected; none found.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.show_dependencies:35: WARNING: Literal block expected; none found.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/trac_interface.py:docstring of sage.dev.trac_interface.TicketSyntaxError:5: WARNING: Block quote ends without a blank line; unexpected unindent.\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/trac_interface.py:docstring of sage.dev.trac_interface.TicketSyntaxError:7: ERROR: Unexpected indentation.\n```\n",
    "created_at": "2013-09-26T13:26:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179892",
    "user": "vbraun"
}
```

I tried out the "stash" feature and it doesn't stash anything. It reimplements something that is similar but using branches instead of the git stash stack. So if this is the desired effect then we shouldn't call it stash, which also resolves the unstash naming question. Just call its save/restore or something like that. 

Also, documentation build failures:

```
[dev      ] /home/vbraun/Code/sage/src/doc/en/reference/dev/index.rst:2: WARNING: Title underline too short.
[dev      ] Sage's Development Scripts
[dev      ] =========
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/git_interface.py:docstring of sage.dev.git_interface.GitInterface.local_branches:5: WARNING: Literal block expected; none found.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.merge:60: WARNING: Literal block expected; none found.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:10: WARNING: Block quote ends without a blank line; unexpected unindent.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.push:25: WARNING: Literal block expected; none found.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.show_dependencies:35: WARNING: Literal block expected; none found.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/trac_interface.py:docstring of sage.dev.trac_interface.TicketSyntaxError:5: WARNING: Block quote ends without a blank line; unexpected unindent.
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/trac_interface.py:docstring of sage.dev.trac_interface.TicketSyntaxError:7: ERROR: Unexpected indentation.
```




---

archive/issue_comments_179893.json:
```json
{
    "body": "Replying to [comment:99 vbraun]:\n> I tried out the \"stash\" feature and it doesn't stash anything. It reimplements something that is similar but using branches instead of the git stash stack. So if this is the desired effect then we shouldn't call it stash, which also resolves the unstash naming question. Just call its save/restore or something like that.\nIt implements something that feels like stashing but internally it does not stash, correct. The reason for this is that the names of stashes change, i.e., the first stash is called something like ``@`stash{0}` but if you create another stash then it changes to ``@`stash{1}`. Feel free to change the current behaviour/naming if you are not happy with it.\n \n> Also, documentation build failures:\n> {{{\n> [dev      ] /home/vbraun/Code/sage/src/doc/en/reference/dev/index.rst:2: WARNING: Title underline too short.\n> [dev      ] Sage's Development Scripts\n> [dev      ] =========\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/git_interface.py:docstring of sage.dev.git_interface.GitInterface.local_branches:5: WARNING: Literal block expected; none found.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.merge:60: WARNING: Literal block expected; none found.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:10: WARNING: Block quote ends without a blank line; unexpected unindent.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.push:25: WARNING: Literal block expected; none found.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.show_dependencies:35: WARNING: Literal block expected; none found.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/trac_interface.py:docstring of sage.dev.trac_interface.TicketSyntaxError:5: WARNING: Block quote ends without a blank line; unexpected unindent.\n> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/trac_interface.py:docstring of sage.dev.trac_interface.TicketSyntaxError:7: ERROR: Unexpected indentation.\n> }}}\nThanks. I forgot to build the docs. I'll fix these later.",
    "created_at": "2013-09-26T15:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179893",
    "user": "saraedum"
}
```

Replying to [comment:99 vbraun]:
> I tried out the "stash" feature and it doesn't stash anything. It reimplements something that is similar but using branches instead of the git stash stack. So if this is the desired effect then we shouldn't call it stash, which also resolves the unstash naming question. Just call its save/restore or something like that.
It implements something that feels like stashing but internally it does not stash, correct. The reason for this is that the names of stashes change, i.e., the first stash is called something like ``@`stash{0}` but if you create another stash then it changes to ``@`stash{1}`. Feel free to change the current behaviour/naming if you are not happy with it.
 
> Also, documentation build failures:
> {{{
> [dev      ] /home/vbraun/Code/sage/src/doc/en/reference/dev/index.rst:2: WARNING: Title underline too short.
> [dev      ] Sage's Development Scripts
> [dev      ] =========
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/git_interface.py:docstring of sage.dev.git_interface.GitInterface.local_branches:5: WARNING: Literal block expected; none found.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.merge:60: WARNING: Literal block expected; none found.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:10: WARNING: Block quote ends without a blank line; unexpected unindent.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev:3: WARNING: Bullet list ends without a blank line; unexpected unindent.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev:11: WARNING: Block quote ends without a blank line; unexpected unindent.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.push:25: WARNING: Literal block expected; none found.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/sagedev.py:docstring of sage.dev.sagedev.SageDev.show_dependencies:35: WARNING: Literal block expected; none found.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/trac_interface.py:docstring of sage.dev.trac_interface.TicketSyntaxError:5: WARNING: Block quote ends without a blank line; unexpected unindent.
> [dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/trac_interface.py:docstring of sage.dev.trac_interface.TicketSyntaxError:7: ERROR: Unexpected indentation.
> }}}
Thanks. I forgot to build the docs. I'll fix these later.



---

archive/issue_comments_179894.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-26T16:16:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179894",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179895.json:
```json
{
    "body": "I can't make any sense of this warning:\n\n\n```\n[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/trac_interface.py:docstring of sage.dev.trac_interface.TicketSyntaxError:5: WARNING: Block quote ends without a blank line; unexpected unindent.\n```\n\n\nCould someone else have a look at this?",
    "created_at": "2013-09-26T16:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179895",
    "user": "saraedum"
}
```

I can't make any sense of this warning:


```
[dev      ] /home/vbraun/Code/sage/local/lib/python2.7/site-packages/sage/dev/trac_interface.py:docstring of sage.dev.trac_interface.TicketSyntaxError:5: WARNING: Block quote ends without a blank line; unexpected unindent.
```


Could someone else have a look at this?



---

archive/issue_comments_179896.json:
```json
{
    "body": "All external programs ought to be called via `sage-native-execute`. Otherwise this is bound to happen (Fedora 19):\n\n```\n$ sage -dev create-ticket\nnano: symbol lookup error: /lib64/libncursesw.so.5: undefined symbol: _nc_putchar\nTicketSyntaxError: Editor returned non-zero exit value\n```\n",
    "created_at": "2013-09-29T13:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179896",
    "user": "vbraun"
}
```

All external programs ought to be called via `sage-native-execute`. Otherwise this is bound to happen (Fedora 19):

```
$ sage -dev create-ticket
nano: symbol lookup error: /lib64/libncursesw.so.5: undefined symbol: _nc_putchar
TicketSyntaxError: Editor returned non-zero exit value
```




---

archive/issue_comments_179897.json:
```json
{
    "body": "I fixed the doc build issues. Will try to find some time this week to go through the code.",
    "created_at": "2013-09-29T20:57:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179897",
    "user": "vbraun"
}
```

I fixed the doc build issues. Will try to find some time this week to go through the code.



---

archive/issue_comments_179898.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-29T20:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179898",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179899.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-30T15:56:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179899",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179900.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-30T17:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179900",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179901.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-30T19:39:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179901",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179902.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-30T21:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179902",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179903.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-30T23:36:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179903",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179904.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-01T02:55:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179904",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179905.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-01T02:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179905",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179906.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-01T04:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179906",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179907.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-01T04:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179907",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179908.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-01T04:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179908",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179909.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-01T06:09:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179909",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179910.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-01T06:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179910",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179911.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-01T06:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179911",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179912.json:
```json
{
    "body": "I used INFO to log messages about how to proceed, this is one of the crucial features that make git usable:\n\n```\n$ git status\n# On branch dev_scripts\n# Your branch is ahead of 'trac/u/vbraun/dev_scripts' by 11 commits.\n#   (use \"git push\" to publish your local commits)\n#\n# Untracked files:\n#   (use \"git add <file>...\" to include in what will be committed)\n#\n#\ttest\nnothing added to commit but untracked files present (use \"git add\" to track)\n```\n\nEverything with comment markers is what I call INFO. I spent a lot of time observing people trying to use the dev scripts last week and not being told about the next logical step is a huge obstacle.\n\nThere are lots of DEBUG messages (=stuff that protocols the execution flow like \"operation completed successfully\") that are mislabeled as INFO. If you don't want to see unless you are trying to debug the program then it should be DEBUG.\n\nWe can have an intermediate INFO < HELP < NORMAL level if somebody really has a use for non-debug informational messages but I think that would be overkill.",
    "created_at": "2013-10-01T11:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179912",
    "user": "vbraun"
}
```

I used INFO to log messages about how to proceed, this is one of the crucial features that make git usable:

```
$ git status
# On branch dev_scripts
# Your branch is ahead of 'trac/u/vbraun/dev_scripts' by 11 commits.
#   (use "git push" to publish your local commits)
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#	test
nothing added to commit but untracked files present (use "git add" to track)
```

Everything with comment markers is what I call INFO. I spent a lot of time observing people trying to use the dev scripts last week and not being told about the next logical step is a huge obstacle.

There are lots of DEBUG messages (=stuff that protocols the execution flow like "operation completed successfully") that are mislabeled as INFO. If you don't want to see unless you are trying to debug the program then it should be DEBUG.

We can have an intermediate INFO < HELP < NORMAL level if somebody really has a use for non-debug informational messages but I think that would be overkill.



---

archive/issue_comments_179913.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-01T12:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179913",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179914.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-01T17:44:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179914",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179915.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-01T22:00:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179915",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179916.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-02T19:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179916",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179917.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-02T20:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179917",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179918.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-03T16:16:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179918",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179919.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-03T18:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179919",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179920.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-03T20:14:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179920",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179921.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-03T22:29:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179921",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179922.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-07T23:27:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179922",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179923.json:
```json
{
    "body": "The last commit should fix the issue that Robert noted on https://groups.google.com/d/msg/sage-git/1V391vUBTH0/9qXjxD5u23UJ",
    "created_at": "2013-10-07T23:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179923",
    "user": "vbraun"
}
```

The last commit should fix the issue that Robert noted on https://groups.google.com/d/msg/sage-git/1V391vUBTH0/9qXjxD5u23UJ



---

archive/issue_comments_179924.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-17T15:00:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179924",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179925.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-18T10:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179925",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179926.json:
```json
{
    "body": "There is a non-trivial merge with this branch and 5.13.beta1 in `src/bin/sage-fixdoctests` (which I'm not familiar with). I've merge the latest beta into my build system branch, but not into master due to this conflict, please resolve.",
    "created_at": "2013-10-24T19:02:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179926",
    "user": "ohanar"
}
```

There is a non-trivial merge with this branch and 5.13.beta1 in `src/bin/sage-fixdoctests` (which I'm not familiar with). I've merge the latest beta into my build system branch, but not into master due to this conflict, please resolve.



---

archive/issue_comments_179927.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2013-10-24T21:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179927",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_179928.json:
```json
{
    "body": "I had made a quick&dirty fix to `sage-fixdoctests` since I needed it to fix the doctests... but in the meantime the proper fix from #10589 hit.",
    "created_at": "2013-10-24T21:08:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179928",
    "user": "vbraun"
}
```

I had made a quick&dirty fix to `sage-fixdoctests` since I needed it to fix the doctests... but in the meantime the proper fix from #10589 hit.



---

archive/issue_comments_179929.json:
```json
{
    "body": "The dev scripts fail on a clean install:\n\n```\n$ ./sage -dev\nTraceback (most recent call last):\n  File \"/home/vbraun/opt/sage-git/sage-5.13.beta1/src/bin/sage-dev\", line 9, in <module>\n    from sage.dev import dev as DEV\nImportError: cannot import name dev\n```\n\nI haven't noticed before because this is masked by a stale `.pyc` file if you have been following development for a while. Fix in the following commit.",
    "created_at": "2013-10-29T22:01:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179929",
    "user": "vbraun"
}
```

The dev scripts fail on a clean install:

```
$ ./sage -dev
Traceback (most recent call last):
  File "/home/vbraun/opt/sage-git/sage-5.13.beta1/src/bin/sage-dev", line 9, in <module>
    from sage.dev import dev as DEV
ImportError: cannot import name dev
```

I haven't noticed before because this is masked by a stale `.pyc` file if you have been following development for a while. Fix in the following commit.



---

archive/issue_comments_179930.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-29T22:01:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179930",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179931.json:
```json
{
    "body": "New commits:",
    "created_at": "2013-11-05T01:37:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179931",
    "user": "vbraun"
}
```

New commits:



---

archive/issue_comments_179932.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-05T01:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179932",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179933.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-05T23:40:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179933",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179934.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-06T01:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179934",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179935.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-06T01:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179935",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179936.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-06T02:19:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179936",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179937.json:
```json
{
    "body": "I have the impression that this ticket is still heavily under developement and hence should not have a \"needs review\" status.",
    "created_at": "2013-11-06T04:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179937",
    "user": "mderickx"
}
```

I have the impression that this ticket is still heavily under developement and hence should not have a "needs review" status.



---

archive/issue_comments_179938.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-11-06T04:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179938",
    "user": "mderickx"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_179939.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-06T05:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179939",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179940.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-06T18:12:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179940",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179941.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-06T18:30:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179941",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179942.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-07T00:48:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179942",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179943.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-07T23:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179943",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179944.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-08T20:24:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179944",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179945.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-08T20:43:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179945",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179946.json:
```json
{
    "body": "New commits:",
    "created_at": "2013-11-11T16:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179946",
    "user": "vbraun"
}
```

New commits:



---

archive/issue_comments_179947.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-11-11T18:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179947",
    "user": "vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_179948.json:
```json
{
    "body": "I agree with everything that I haven't written myself here... Andrew, is there anything left that we need to fix?",
    "created_at": "2013-11-11T18:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179948",
    "user": "vbraun"
}
```

I agree with everything that I haven't written myself here... Andrew, is there anything left that we need to fix?



---

archive/issue_comments_179949.json:
```json
{
    "body": "Not that I know of.",
    "created_at": "2013-11-12T17:54:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179949",
    "user": "ohanar"
}
```

Not that I know of.



---

archive/issue_comments_179950.json:
```json
{
    "body": "I get doctest failures on fresh accounts (cached stuff in DOT_SAGE?) of the type\n\n```\nFile \"src/sage/dev/git_interface.py\", line 118, in sage.dev.git_interface.GitProxy._run_git\nFailed example:\n    dev.git.status()\nExpected:\n    Traceback (most recent call last):\n    ...\n    AssertionError: working with the sage repository in a doctest\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.dev.git_interface.GitProxy._run_git[7]>\", line 1, in <module>\n        dev.git.status()\n      File \"lazy_import.pyx\", line 312, in sage.misc.lazy_import.LazyImport.__getattr__ (sage/misc/lazy_import.c:2402)\n      File \"lazy_import.pyx\", line 248, in sage.misc.lazy_import.LazyImport._get_object (sage/misc/lazy_import.c:1885)\n      File \"/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/dev/sagedev_wrapper.py\", line 250, in <module>\n        dev = SageDevWrapper(SageDev())\n      File \"/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/dev/sagedev.py\", line 119, in __init__\n        self.trac = TracInterface(self.config['trac'], self._UI)\n      File \"/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/dev/trac_interface.py\", line 212, in __init__\n        self.__ticket_cache = SavingDict(ticket_cache_file)\n      File \"/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/dev/saving_dict.py\", line 116, in __init__\n        self._write()\n      File \"/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/dev/saving_dict.py\", line 236, in _write\n        assert os.path.abspath(self._filename).startswith(SAGE_TMP), error\n    AssertionError: write attempt to a saving_dict in a doctest\n```\n\nDoesn't happen in my own user account. Anybody knows whats up?",
    "created_at": "2013-11-16T03:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179950",
    "user": "vbraun"
}
```

I get doctest failures on fresh accounts (cached stuff in DOT_SAGE?) of the type

```
File "src/sage/dev/git_interface.py", line 118, in sage.dev.git_interface.GitProxy._run_git
Failed example:
    dev.git.status()
Expected:
    Traceback (most recent call last):
    ...
    AssertionError: working with the sage repository in a doctest
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.dev.git_interface.GitProxy._run_git[7]>", line 1, in <module>
        dev.git.status()
      File "lazy_import.pyx", line 312, in sage.misc.lazy_import.LazyImport.__getattr__ (sage/misc/lazy_import.c:2402)
      File "lazy_import.pyx", line 248, in sage.misc.lazy_import.LazyImport._get_object (sage/misc/lazy_import.c:1885)
      File "/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/dev/sagedev_wrapper.py", line 250, in <module>
        dev = SageDevWrapper(SageDev())
      File "/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/dev/sagedev.py", line 119, in __init__
        self.trac = TracInterface(self.config['trac'], self._UI)
      File "/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/dev/trac_interface.py", line 212, in __init__
        self.__ticket_cache = SavingDict(ticket_cache_file)
      File "/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/dev/saving_dict.py", line 116, in __init__
        self._write()
      File "/home/buildslave/slave/local_full/build/local/lib/python2.7/site-packages/sage/dev/saving_dict.py", line 236, in _write
        assert os.path.abspath(self._filename).startswith(SAGE_TMP), error
    AssertionError: write attempt to a saving_dict in a doctest
```

Doesn't happen in my own user account. Anybody knows whats up?



---

archive/issue_comments_179951.json:
```json
{
    "body": "On skynet/mark (Sparc Solaris, `Sun_SSH_1.1`) you must specify the key type in `ssh-keygen`: \n\n```\n-bash-3.00$ ssh-keygen -q -f /tmp/foo -P ''\nYou must specify a key type (-t).\nUsage: ssh-keygen [options]\nOptions:\n  -b bits     Number of bits in the key to create.\n  -c          Change comment in private and public key files.\n  -e          Convert OpenSSH to IETF SECSH key file.\n  -f filename Filename of the key file.\n  -i          Convert IETF SECSH to OpenSSH key file.\n  -l          Show fingerprint of key file.\n  -p          Change passphrase of private key file.\n  -q          Quiet.\n  -y          Read private key file and print public key.\n  -t type     Specify type of key to create.\n  -B          Show bubblebabble digest of key file.\n  -C comment  Provide new comment.\n  -N phrase   Provide new passphrase.\n  -P phrase   Provide old passphrase.\n```\n",
    "created_at": "2013-11-20T16:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179951",
    "user": "vbraun"
}
```

On skynet/mark (Sparc Solaris, `Sun_SSH_1.1`) you must specify the key type in `ssh-keygen`: 

```
-bash-3.00$ ssh-keygen -q -f /tmp/foo -P ''
You must specify a key type (-t).
Usage: ssh-keygen [options]
Options:
  -b bits     Number of bits in the key to create.
  -c          Change comment in private and public key files.
  -e          Convert OpenSSH to IETF SECSH key file.
  -f filename Filename of the key file.
  -i          Convert IETF SECSH to OpenSSH key file.
  -l          Show fingerprint of key file.
  -p          Change passphrase of private key file.
  -q          Quiet.
  -y          Read private key file and print public key.
  -t type     Specify type of key to create.
  -B          Show bubblebabble digest of key file.
  -C comment  Provide new comment.
  -N phrase   Provide new passphrase.
  -P phrase   Provide old passphrase.
```




---

archive/issue_comments_179952.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-21T04:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179952",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179953.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-23T02:14:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179953",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179954.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-11-26T19:22:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179954",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_179955.json:
```json
{
    "body": "I am having trouble importing Hg patches. I added an issue to the Github page with the details.\n\nEDIT - Also I don't like that when aborting patch imports that it deletes all untracked directories (in particular, documentation output). I'd prefer if we could only delete newly created directories.\n\nThanks for all your work on this.",
    "created_at": "2013-12-09T16:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179955",
    "user": "tscrim"
}
```

I am having trouble importing Hg patches. I added an issue to the Github page with the details.

EDIT - Also I don't like that when aborting patch imports that it deletes all untracked directories (in particular, documentation output). I'd prefer if we could only delete newly created directories.

Thanks for all your work on this.



---

archive/issue_comments_179956.json:
```json
{
    "body": "Which github page? In any case, our bug tracker is not on github. \n \nI'm sure there are a lot of small things that could be improved, but improvement requests should go into a separate ticket by now. Unless you think that the deleting of documentation output merits delaying the git transition.",
    "created_at": "2013-12-12T01:09:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179956",
    "user": "vbraun"
}
```

Which github page? In any case, our bug tracker is not on github. 
 
I'm sure there are a lot of small things that could be improved, but improvement requests should go into a separate ticket by now. Unless you think that the deleting of documentation output merits delaying the git transition.



---

archive/issue_comments_179957.json:
```json
{
    "body": "Replying to [comment:164 vbraun]:\n> Which github page? In any case, our bug tracker is not on github. \n\nThe issues forum in the ticket description: \u200bhttps://github.com/sagemath/sage-workflow/issues\n\n> I'm sure there are a lot of small things that could be improved, but improvement requests should go into a separate ticket by now. Unless you think that the deleting of documentation output merits delaying the git transition.\n\nIt's not worth the delay. It's an annoyance IMO, but not horribly so.",
    "created_at": "2013-12-12T03:35:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179957",
    "user": "tscrim"
}
```

Replying to [comment:164 vbraun]:
> Which github page? In any case, our bug tracker is not on github. 

The issues forum in the ticket description: ​https://github.com/sagemath/sage-workflow/issues

> I'm sure there are a lot of small things that could be improved, but improvement requests should go into a separate ticket by now. Unless you think that the deleting of documentation output merits delaying the git transition.

It's not worth the delay. It's an annoyance IMO, but not horribly so.



---

archive/issue_comments_179958.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-12-16T14:03:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14278#issuecomment-179958",
    "user": "vbraun"
}
```

Resolution: fixed
