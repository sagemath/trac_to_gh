# Issue 23972: I in QQbar returns False

Issue created by migration from https://trac.sagemath.org/ticket/24209

Original creator: tmonteil

Original creation time: 2017-11-13 00:06:18

CC:  mjo

As reported on [this ask question](https://ask.sagemath.org/question/39509/i-doesnt-belong-to-qqbar-why/):


```
sage: I in QQbar
False
```


This is because in the `__contains__` method of the `Parent` class, the big `try...except` fails when evaluating the following:


```
sage: bool(I == QQbar(I))
TypeError: unsupported operand parent(s) for +: 'Number Field in I with defining polynomial x^2 + 1' and 'Algebraic Field'
```


This early fail does not allow further test to return `True`.


---

Comment by rws created at 2018-02-02 09:56:16

Probably a duplicate of #17984. You might want to voice your opinion there.


---

Comment by mmezzarobba created at 2018-02-12 14:04:27

The proper way to fix this issue would be via #12715 and #18036. There has been some progress in this direction, but we're not quite there yet.


---

Comment by tmonteil created at 2021-06-27 14:30:33

The issue was solved elsewhere, but it is good to prevent future regression with a dedicated doctest.
----
New commits:


---

Comment by tmonteil created at 2021-06-27 14:30:33

Changing status from new to needs_review.


---

Comment by tmonteil created at 2021-06-27 14:33:05

Changing status from needs_review to needs_work.


---

Comment by tmonteil created at 2021-06-27 14:33:05

Need another doctest for `sqrt(-1)` which belongs to `SR`.


---

Comment by git created at 2021-06-27 14:34:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tmonteil created at 2021-06-27 14:34:57

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2021-06-27 15:35:19

Changing priority from critical to minor.


---

Comment by slelievre created at 2021-06-27 21:58:00

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2021-06-27 21:58:00

I believe this was solved by #31628.


---

Comment by vbraun created at 2021-07-24 23:32:09

Merge conflict


---

Comment by vbraun created at 2021-07-24 23:32:09

Changing status from positive_review to needs_work.


---

Comment by git created at 2021-07-25 16:45:27

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by tmonteil created at 2021-07-25 16:46:49

Changing status from needs_work to needs_review.


---

Comment by tmonteil created at 2021-07-25 16:46:49

Replying to [comment:10 vbraun]:
> Merge conflict

Done.


---

Comment by mjo created at 2021-08-19 23:40:49

Changing status from needs_review to positive_review.


---

Comment by mjo created at 2021-08-19 23:40:49

Still fine.


---

Comment by slelievre created at 2021-08-20 08:52:31

Rebased on 9.4.rc2 in the hope to help patchbots.
Curious why the last four failed.
----
New commits:


---

Comment by vbraun created at 2021-09-19 09:57:52

Resolution: fixed
