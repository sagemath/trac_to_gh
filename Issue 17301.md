# Issue 17301: Add is_prime() to RingElement

archive/issues_017301.json:
```json
{
    "body": "CC:  kcrisman\n\nFor various rings, `is_prime()` is implemented for ideals but not elements. Since an element `x` of a ring `R` is called *prime* if the ideal `(x)` is a prime ideal, we should use this to define `is_prime()` for elements.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17538\n\n",
    "created_at": "2014-12-22T14:00:07Z",
    "labels": [
        "commutative algebra",
        "major",
        "bug"
    ],
    "title": "Add is_prime() to RingElement",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17301",
    "user": "jdemeyer"
}
```
CC:  kcrisman

For various rings, `is_prime()` is implemented for ideals but not elements. Since an element `x` of a ring `R` is called *prime* if the ideal `(x)` is a prime ideal, we should use this to define `is_prime()` for elements.

Issue created by migration from https://trac.sagemath.org/ticket/17538





---

archive/issue_comments_230379.json:
```json
{
    "body": "How easy is this to implement - is it just a matter of creating a principal ideal and checking if the ideal is prime, or do some rings need more than that?\n\n```\nsage: GaussianIntegers = NumberField(x^2+1, 'I').ring_of_integers()\nsage: A = GaussianIntegers([2,1])\nsage: B = GaussianIntegers.ideal(A)\nsage: B.is_prime()\nTrue\n```\n\nHmm.  But maybe it isn't always this easy.\n\n(Note: this is largely motivated by #7545.)",
    "created_at": "2014-12-22T14:18:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17301#issuecomment-230379",
    "user": "kcrisman"
}
```

How easy is this to implement - is it just a matter of creating a principal ideal and checking if the ideal is prime, or do some rings need more than that?

```
sage: GaussianIntegers = NumberField(x^2+1, 'I').ring_of_integers()
sage: A = GaussianIntegers([2,1])
sage: B = GaussianIntegers.ideal(A)
sage: B.is_prime()
True
```

Hmm.  But maybe it isn't always this easy.

(Note: this is largely motivated by #7545.)



---

archive/issue_comments_230380.json:
```json
{
    "body": "I currently have\n\n```python\n    def is_prime(self):\n        if not self:  # We exclude the 0 element\n            return False\n        try:\n            J = self._parent.ideal(self)\n        except AttributeError:\n            raise NotImplementedError\n        return J.is_prime()\n```\n\n\nThis seems to work fine.",
    "created_at": "2014-12-22T14:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17301#issuecomment-230380",
    "user": "jdemeyer"
}
```

I currently have

```python
    def is_prime(self):
        if not self:  # We exclude the 0 element
            return False
        try:
            J = self._parent.ideal(self)
        except AttributeError:
            raise NotImplementedError
        return J.is_prime()
```


This seems to work fine.



---

archive/issue_comments_230381.json:
```json
{
    "body": "Okay, that looks pretty good.",
    "created_at": "2014-12-22T14:29:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17301#issuecomment-230381",
    "user": "kcrisman"
}
```

Okay, that looks pretty good.



---

archive/issue_comments_230382.json:
```json
{
    "body": "I have not yet run all doctests, but this seems to do the trick.\n----\nNew commits:",
    "created_at": "2014-12-22T16:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17301#issuecomment-230382",
    "user": "jdemeyer"
}
```

I have not yet run all doctests, but this seems to do the trick.
----
New commits:



---

archive/issue_comments_230383.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-12-22T16:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17301#issuecomment-230383",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_230384.json:
```json
{
    "body": "`make ptestlong` passes!",
    "created_at": "2014-12-22T19:13:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17301#issuecomment-230384",
    "user": "jdemeyer"
}
```

`make ptestlong` passes!



---

archive/issue_comments_230385.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-12-23T15:08:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17301#issuecomment-230385",
    "user": "jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_230386.json:
```json
{
    "body": "This looks good to me.",
    "created_at": "2014-12-23T15:08:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17301#issuecomment-230386",
    "user": "jpflori"
}
```

This looks good to me.



---

archive/issue_comments_230387.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-01-02T15:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17301",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17301#issuecomment-230387",
    "user": "vbraun"
}
```

Resolution: fixed
