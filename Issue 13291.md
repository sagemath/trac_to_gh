# Issue 13291: "/bin/bash" error in fflas_ffpack-1.6.0

archive/issues_013291.json:
```json
{
    "body": "Assignee: tbd\n\nKeywords: FreeBSD fflas_ffpack bash\n\nWhile trying to compile sage-5.4beta1 on FreeBSD, it failed because of using \"#!/bin/bash\".  As I understand it, it should be \"#!/usr/bin/env bash\".\n\nIt is in fflas_ffpack-1.6.0//src/fflas-ffpack-config.in\n\nIssue created by migration from https://trac.sagemath.org/ticket/13463\n\n",
    "created_at": "2012-09-14T13:02:17Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "title": "\"/bin/bash\" error in fflas_ffpack-1.6.0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13291",
    "user": "stephen"
}
```
Assignee: tbd

Keywords: FreeBSD fflas_ffpack bash

While trying to compile sage-5.4beta1 on FreeBSD, it failed because of using "#!/bin/bash".  As I understand it, it should be "#!/usr/bin/env bash".

It is in fflas_ffpack-1.6.0//src/fflas-ffpack-config.in

Issue created by migration from https://trac.sagemath.org/ticket/13463





---

archive/issue_comments_163150.json:
```json
{
    "body": "Could you post the actual error message?",
    "created_at": "2012-09-28T09:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163150",
    "user": "jdemeyer"
}
```

Could you post the actual error message?



---

archive/issue_comments_163151.json:
```json
{
    "body": "The error does not take place during the build of fflas_ffpack, but during the build in linbox:\n\n\n```\nchecking for M4RI... found\nchecking for M4RIE... found\nchecking for MPFR... found\nchecking for FPLLL... found\nchecking for NTL >= 5.0... found\nchecking for GIVARO >= 30700 and < 30800... found\nchecking whether to compile the SAGE interface... yes\nchecking for FFLAS-FFPACK >= 10600 and < 10700... ./configure: /usr/home/stephen/sage-devel/work/sage-5.4.beta2/local/bin/fflas-ffpack-config: /bin/bash: bad interpreter: No such file or directory\n./configure: /usr/home/stephen/sage-devel/work/sage-5.4.beta2/local/bin/fflas-ffpack-config: /bin/bash: bad interpreter: No such file or directory\n./configure: /usr/home/stephen/sage-devel/work/sage-5.4.beta2/local/bin/fflas-ffpack-config: /bin/bash: bad interpreter: No such file or directory\n./configure: line 17950: test: too many arguments\nnot found\n\n*******************************************************************************\n ERROR: Fflas-Ffpack not found!\n\n Fflas-Ffpack routines  are required for this library to compile. Please\n make sure they are installed and specify its location with the option\n --with-fflas-ffpack=<lib> when running configure.\n*******************************************************************************\nError configuring LinBox.\n```\n",
    "created_at": "2012-09-28T12:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163151",
    "user": "stephen"
}
```

The error does not take place during the build of fflas_ffpack, but during the build in linbox:


```
checking for M4RI... found
checking for M4RIE... found
checking for MPFR... found
checking for FPLLL... found
checking for NTL >= 5.0... found
checking for GIVARO >= 30700 and < 30800... found
checking whether to compile the SAGE interface... yes
checking for FFLAS-FFPACK >= 10600 and < 10700... ./configure: /usr/home/stephen/sage-devel/work/sage-5.4.beta2/local/bin/fflas-ffpack-config: /bin/bash: bad interpreter: No such file or directory
./configure: /usr/home/stephen/sage-devel/work/sage-5.4.beta2/local/bin/fflas-ffpack-config: /bin/bash: bad interpreter: No such file or directory
./configure: /usr/home/stephen/sage-devel/work/sage-5.4.beta2/local/bin/fflas-ffpack-config: /bin/bash: bad interpreter: No such file or directory
./configure: line 17950: test: too many arguments
not found

*******************************************************************************
 ERROR: Fflas-Ffpack not found!

 Fflas-Ffpack routines  are required for this library to compile. Please
 make sure they are installed and specify its location with the option
 --with-fflas-ffpack=<lib> when running configure.
*******************************************************************************
Error configuring LinBox.
```




---

archive/issue_comments_163152.json:
```json
{
    "body": "By the way, searching for '#!/bin/bash' from SAGE_ROOT returns these results (among others \u2014 I removed a few matches that didn't seem important, e.g., `./local/share/maxima/5.26.0/doc/misc/grepforvariables.sh:#!/bin/bash`, plus there are some matches in README files and other documentation):\n\n```\n./devel/ext/notebook/java/3d/start_viewer:#!/bin/bash\n./devel/ext/sage/ext/mac-app/open-location.sh:#!/bin/bash\n./devel/ext/sage/ext/mac-app/sage-is-running-on-port.sh:#!/bin/bash\n./devel/ext/sage/ext/mac-app/start-sage.sh:#!/bin/bash\n./devel/ext-main/notebook/java/3d/start_viewer:#!/bin/bash\n./devel/ext-main/sage/ext/mac-app/open-location.sh:#!/bin/bash\n./devel/ext-main/sage/ext/mac-app/sage-is-running-on-port.sh:#!/bin/bash\n./devel/ext-main/sage/ext/mac-app/start-sage.sh:#!/bin/bash\n./devel/sagenb/sagenb/data/sage3d/sage3d:#!/bin/bash\n./devel/sagenb/sagenb/testing/grinder/setGrinderEnv.sh:#!/bin/bash\n./devel/sagenb/sagenb/testing/grinder/startAgent.sh:#!/bin/bash\n./devel/sagenb/sagenb/testing/grinder/startConsole.sh:#!/bin/bash\n./devel/sagenb/sagenb/testing/grinder/startProxy.sh:#!/bin/bash\n./devel/sagenb-main/sagenb/data/sage3d/sage3d:#!/bin/bash\n./devel/sagenb-main/sagenb/testing/grinder/setGrinderEnv.sh:#!/bin/bash\n./devel/sagenb-main/sagenb/testing/grinder/startAgent.sh:#!/bin/bash\n./devel/sagenb-main/sagenb/testing/grinder/startConsole.sh:#!/bin/bash\n./devel/sagenb-main/sagenb/testing/grinder/startProxy.sh:#!/bin/bash\n./local/bin/fflas-ffpack-config:#! /bin/bash\n./local/bin/sage3d:#!/bin/bash\n./local/share/sage/ext/notebook/java/3d/start_viewer:#!/bin/bash\n./local/share/sage/ext/sage/ext/mac-app/open-location.sh:#!/bin/bash\n./local/share/sage/ext/sage/ext/mac-app/sage-is-running-on-port.sh:#!/bin/bash\n./local/share/sage/ext/sage/ext/mac-app/start-sage.sh:#!/bin/bash\n```\n\nWhich of these need fixing? (What is sage3d even supposed to do?)",
    "created_at": "2012-09-28T17:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163152",
    "user": "jhpalmieri"
}
```

By the way, searching for '#!/bin/bash' from SAGE_ROOT returns these results (among others â€” I removed a few matches that didn't seem important, e.g., `./local/share/maxima/5.26.0/doc/misc/grepforvariables.sh:#!/bin/bash`, plus there are some matches in README files and other documentation):

```
./devel/ext/notebook/java/3d/start_viewer:#!/bin/bash
./devel/ext/sage/ext/mac-app/open-location.sh:#!/bin/bash
./devel/ext/sage/ext/mac-app/sage-is-running-on-port.sh:#!/bin/bash
./devel/ext/sage/ext/mac-app/start-sage.sh:#!/bin/bash
./devel/ext-main/notebook/java/3d/start_viewer:#!/bin/bash
./devel/ext-main/sage/ext/mac-app/open-location.sh:#!/bin/bash
./devel/ext-main/sage/ext/mac-app/sage-is-running-on-port.sh:#!/bin/bash
./devel/ext-main/sage/ext/mac-app/start-sage.sh:#!/bin/bash
./devel/sagenb/sagenb/data/sage3d/sage3d:#!/bin/bash
./devel/sagenb/sagenb/testing/grinder/setGrinderEnv.sh:#!/bin/bash
./devel/sagenb/sagenb/testing/grinder/startAgent.sh:#!/bin/bash
./devel/sagenb/sagenb/testing/grinder/startConsole.sh:#!/bin/bash
./devel/sagenb/sagenb/testing/grinder/startProxy.sh:#!/bin/bash
./devel/sagenb-main/sagenb/data/sage3d/sage3d:#!/bin/bash
./devel/sagenb-main/sagenb/testing/grinder/setGrinderEnv.sh:#!/bin/bash
./devel/sagenb-main/sagenb/testing/grinder/startAgent.sh:#!/bin/bash
./devel/sagenb-main/sagenb/testing/grinder/startConsole.sh:#!/bin/bash
./devel/sagenb-main/sagenb/testing/grinder/startProxy.sh:#!/bin/bash
./local/bin/fflas-ffpack-config:#! /bin/bash
./local/bin/sage3d:#!/bin/bash
./local/share/sage/ext/notebook/java/3d/start_viewer:#!/bin/bash
./local/share/sage/ext/sage/ext/mac-app/open-location.sh:#!/bin/bash
./local/share/sage/ext/sage/ext/mac-app/sage-is-running-on-port.sh:#!/bin/bash
./local/share/sage/ext/sage/ext/mac-app/start-sage.sh:#!/bin/bash
```

Which of these need fixing? (What is sage3d even supposed to do?)



---

archive/issue_comments_163153.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-02-05T11:22:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163153",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_163154.json:
```json
{
    "body": "Diff for the FFLAS-FPACK spkg, for review only",
    "created_at": "2013-02-05T11:23:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163154",
    "user": "jdemeyer"
}
```

Diff for the FFLAS-FPACK spkg, for review only



---

archive/issue_comments_163155.json:
```json
{
    "body": "Attachment\n\nI checked this new spkg against 5.7.beta3, and it worked great on FreeBSD.",
    "created_at": "2013-02-05T14:23:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163155",
    "user": "stephen"
}
```

Attachment

I checked this new spkg against 5.7.beta3, and it worked great on FreeBSD.



---

archive/issue_comments_163156.json:
```json
{
    "body": "So Stephen, are you able to review this ticket?",
    "created_at": "2013-02-05T19:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163156",
    "user": "jdemeyer"
}
```

So Stephen, are you able to review this ticket?



---

archive/issue_comments_163157.json:
```json
{
    "body": "Isn't that just what I did?  Or is there a specific language or button I should use?",
    "created_at": "2013-02-05T20:03:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163157",
    "user": "stephen"
}
```

Isn't that just what I did?  Or is there a specific language or button I should use?



---

archive/issue_comments_163158.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-02-05T20:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163158",
    "user": "jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_163159.json:
```json
{
    "body": "Replying to [comment:7 stephen]:\n> Isn't that just what I did?  Or is there a specific language or button I should use?\nOn the bottom of the page, under \"Mofify Ticket\", click positive review.",
    "created_at": "2013-02-05T20:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163159",
    "user": "jdemeyer"
}
```

Replying to [comment:7 stephen]:
> Isn't that just what I did?  Or is there a specific language or button I should use?
On the bottom of the page, under "Mofify Ticket", click positive review.



---

archive/issue_comments_163160.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2013-02-08T13:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163160",
    "user": "stephen"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_163161.json:
```json
{
    "body": "I switched it back from positive review to needs info.\n\nI received an email from another FreeBSD user, who said that bash is still needed.  I realized that I have not recently tried to build sage in FreeBSD when bash is not present.  Let me go ahead and do that, and see if more changes are needed.\n\nSorry for the delay.",
    "created_at": "2013-02-08T13:38:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163161",
    "user": "stephen"
}
```

I switched it back from positive review to needs info.

I received an email from another FreeBSD user, who said that bash is still needed.  I realized that I have not recently tried to build sage in FreeBSD when bash is not present.  Let me go ahead and do that, and see if more changes are needed.

Sorry for the delay.



---

archive/issue_comments_163162.json:
```json
{
    "body": "Replying to [comment:11 stephen]:\n> bash is still needed.\nThat's completely true. However, this ticket is about correctly running `bash`, not about getting rid of the dependency on `bash`. I'm switching back to \"needs review\", I'll let you decide about the positive review.",
    "created_at": "2013-02-08T13:43:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163162",
    "user": "jdemeyer"
}
```

Replying to [comment:11 stephen]:
> bash is still needed.
That's completely true. However, this ticket is about correctly running `bash`, not about getting rid of the dependency on `bash`. I'm switching back to "needs review", I'll let you decide about the positive review.



---

archive/issue_comments_163163.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-02-08T13:43:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163163",
    "user": "jdemeyer"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_163164.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-02-08T20:28:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163164",
    "user": "stephen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_163165.json:
```json
{
    "body": "Changed it back to positive_review.  The problem is elsewhere.  Sorry for the noise.",
    "created_at": "2013-02-08T20:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163165",
    "user": "stephen"
}
```

Changed it back to positive_review.  The problem is elsewhere.  Sorry for the noise.



---

archive/issue_comments_163166.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-02-09T12:12:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13291",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13291#issuecomment-163166",
    "user": "jdemeyer"
}
```

Resolution: fixed
