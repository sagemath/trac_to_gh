# Issue 13291: "/bin/bash" error in fflas_ffpack-1.6.0

Issue created by migration from https://trac.sagemath.org/ticket/13463

Original creator: stephen

Original creation time: 2012-09-14 13:02:17

Assignee: tbd

Keywords: FreeBSD fflas_ffpack bash

While trying to compile sage-5.4beta1 on FreeBSD, it failed because of using "#!/bin/bash".  As I understand it, it should be "#!/usr/bin/env bash".

It is in fflas_ffpack-1.6.0//src/fflas-ffpack-config.in


---

Comment by jdemeyer created at 2012-09-28 09:04:55

Could you post the actual error message?


---

Comment by stephen created at 2012-09-28 12:36:33

The error does not take place during the build of fflas_ffpack, but during the build in linbox:


```
checking for M4RI... found
checking for M4RIE... found
checking for MPFR... found
checking for FPLLL... found
checking for NTL >= 5.0... found
checking for GIVARO >= 30700 and < 30800... found
checking whether to compile the SAGE interface... yes
checking for FFLAS-FFPACK >= 10600 and < 10700... ./configure: /usr/home/stephen/sage-devel/work/sage-5.4.beta2/local/bin/fflas-ffpack-config: /bin/bash: bad interpreter: No such file or directory
./configure: /usr/home/stephen/sage-devel/work/sage-5.4.beta2/local/bin/fflas-ffpack-config: /bin/bash: bad interpreter: No such file or directory
./configure: /usr/home/stephen/sage-devel/work/sage-5.4.beta2/local/bin/fflas-ffpack-config: /bin/bash: bad interpreter: No such file or directory
./configure: line 17950: test: too many arguments
not found

*******************************************************************************
 ERROR: Fflas-Ffpack not found!

 Fflas-Ffpack routines  are required for this library to compile. Please
 make sure they are installed and specify its location with the option
 --with-fflas-ffpack=<lib> when running configure.
*******************************************************************************
Error configuring LinBox.
```



---

Comment by jhpalmieri created at 2012-09-28 17:00:51

By the way, searching for '#!/bin/bash' from SAGE_ROOT returns these results (among others â€” I removed a few matches that didn't seem important, e.g., `./local/share/maxima/5.26.0/doc/misc/grepforvariables.sh:#!/bin/bash`, plus there are some matches in README files and other documentation):

```
./devel/ext/notebook/java/3d/start_viewer:#!/bin/bash
./devel/ext/sage/ext/mac-app/open-location.sh:#!/bin/bash
./devel/ext/sage/ext/mac-app/sage-is-running-on-port.sh:#!/bin/bash
./devel/ext/sage/ext/mac-app/start-sage.sh:#!/bin/bash
./devel/ext-main/notebook/java/3d/start_viewer:#!/bin/bash
./devel/ext-main/sage/ext/mac-app/open-location.sh:#!/bin/bash
./devel/ext-main/sage/ext/mac-app/sage-is-running-on-port.sh:#!/bin/bash
./devel/ext-main/sage/ext/mac-app/start-sage.sh:#!/bin/bash
./devel/sagenb/sagenb/data/sage3d/sage3d:#!/bin/bash
./devel/sagenb/sagenb/testing/grinder/setGrinderEnv.sh:#!/bin/bash
./devel/sagenb/sagenb/testing/grinder/startAgent.sh:#!/bin/bash
./devel/sagenb/sagenb/testing/grinder/startConsole.sh:#!/bin/bash
./devel/sagenb/sagenb/testing/grinder/startProxy.sh:#!/bin/bash
./devel/sagenb-main/sagenb/data/sage3d/sage3d:#!/bin/bash
./devel/sagenb-main/sagenb/testing/grinder/setGrinderEnv.sh:#!/bin/bash
./devel/sagenb-main/sagenb/testing/grinder/startAgent.sh:#!/bin/bash
./devel/sagenb-main/sagenb/testing/grinder/startConsole.sh:#!/bin/bash
./devel/sagenb-main/sagenb/testing/grinder/startProxy.sh:#!/bin/bash
./local/bin/fflas-ffpack-config:#! /bin/bash
./local/bin/sage3d:#!/bin/bash
./local/share/sage/ext/notebook/java/3d/start_viewer:#!/bin/bash
./local/share/sage/ext/sage/ext/mac-app/open-location.sh:#!/bin/bash
./local/share/sage/ext/sage/ext/mac-app/sage-is-running-on-port.sh:#!/bin/bash
./local/share/sage/ext/sage/ext/mac-app/start-sage.sh:#!/bin/bash
```

Which of these need fixing? (What is sage3d even supposed to do?)


---

Comment by jdemeyer created at 2013-02-05 11:22:37

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2013-02-05 11:23:01

Diff for the FFLAS-FPACK spkg, for review only


---

Attachment

I checked this new spkg against 5.7.beta3, and it worked great on FreeBSD.


---

Comment by jdemeyer created at 2013-02-05 19:25:42

So Stephen, are you able to review this ticket?


---

Comment by stephen created at 2013-02-05 20:03:22

Isn't that just what I did?  Or is there a specific language or button I should use?


---

Comment by jdemeyer created at 2013-02-05 20:23:59

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-02-05 20:23:59

Replying to [comment:7 stephen]:
> Isn't that just what I did?  Or is there a specific language or button I should use?
On the bottom of the page, under "Mofify Ticket", click positive review.


---

Comment by stephen created at 2013-02-08 13:37:12

Changing status from positive_review to needs_info.


---

Comment by stephen created at 2013-02-08 13:38:56

I switched it back from positive review to needs info.

I received an email from another FreeBSD user, who said that bash is still needed.  I realized that I have not recently tried to build sage in FreeBSD when bash is not present.  Let me go ahead and do that, and see if more changes are needed.

Sorry for the delay.


---

Comment by jdemeyer created at 2013-02-08 13:43:30

Replying to [comment:11 stephen]:
> bash is still needed.
That's completely true. However, this ticket is about correctly running `bash`, not about getting rid of the dependency on `bash`. I'm switching back to "needs review", I'll let you decide about the positive review.


---

Comment by jdemeyer created at 2013-02-08 13:43:30

Changing status from needs_info to needs_review.


---

Comment by stephen created at 2013-02-08 20:28:57

Changing status from needs_review to positive_review.


---

Comment by stephen created at 2013-02-08 20:29:46

Changed it back to positive_review.  The problem is elsewhere.  Sorry for the noise.


---

Comment by jdemeyer created at 2013-02-09 12:12:31

Resolution: fixed
