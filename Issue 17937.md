# Issue 17937: Generalize base class construction for functorial construction categories

Issue created by migration from https://trac.sagemath.org/ticket/18174

Original creator: tscrim

Original creation time: 2015-04-12 17:37:42

Assignee: tscrim

CC:  nthiery

We generalize the magic functions in `GradedModulesCategory` so we can don't have to copy `_base_category_class` with minor changes and `__classcall__` in order to have separate files for categories created by a functorial construction.


---

Comment by tscrim created at 2015-04-12 17:38:17

Changing status from new to needs_review.


---

Comment by tscrim created at 2015-04-12 17:38:17

New commits:


---

Comment by git created at 2015-04-12 21:48:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-04-12 22:12:37

LGTM


---

Comment by tscrim created at 2015-04-12 22:12:37

Changing status from needs_review to positive_review.


---

Comment by nthiery created at 2015-04-12 23:21:35

For the record: all long tests pass up to some failures/timeouts I often get on my test machine:

```
sage -t --long src/sage/misc/cachefunc.pyx  # 1 doctest failed
sage -t --long src/sage/tests/cmdline.py  # 1 doctest failed
sage -t --long src/sage/dev/sagedev.py  # Timed out
sage -t --long src/sage/schemes/elliptic_curves/lseries_ell.py  # Timed out
sage -t --long src/sage/modular/arithgroup/arithgroup_perm.py  # Timed out
sage -t --long src/doc/en/tutorial/interfaces.rst  # 10 doctests failed
```



---

Comment by nthiery created at 2015-04-13 16:32:30

Changing keywords from "" to "sd67".


---

Comment by vbraun created at 2015-04-15 06:07:30

Resolution: fixed
