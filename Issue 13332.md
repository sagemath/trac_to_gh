# Issue 13332: Password recovery doesn't work in the new flask notebook

Issue created by migration from Trac.

Original creator: mmarco

Original creation time: 2012-09-26 12:53:23

Assignee: jason, mpatel, was

Keywords: notebook authentication

When you try to recover a forgotten password in the new notebook, you are asked for the username, and then get the response "invalid username" even if the username is valid, and the email has been confirmed.


---

Attachment


---

Comment by kcrisman created at 2012-09-28 01:45:45

I think this is fixed upstream.  See [the upstream master](https://github.com/sagemath/sagenb/blob/master/flask_version/authentication.py#L290).


---

Comment by kcrisman created at 2012-09-28 01:45:45

Changing status from new to needs_review.


---

Comment by kcrisman created at 2012-09-28 01:49:52

This is in fact already in #13121 and so this is invalid.


---

Comment by kcrisman created at 2012-09-28 01:49:52

Changing status from needs_review to positive_review.


---

Comment by mmarco created at 2012-09-28 08:38:18

Replying to [comment:1 kcrisman]:
> I think this is fixed upstream.  See [the upstream master](https://github.com/sagemath/sagenb/blob/master/flask_version/authentication.py#L290).

Upstream is still broken.The line that you point (and other lines that make things not work) coincide with the current version included in sage 5.3


---

Comment by kcrisman created at 2012-09-28 13:02:51

Oops, you're right - I read the patch backward!

However, this is a pretty easy thing to make a pull request for.  It turns out you can even do it more or less anonymously by clicking on the code itself and changing it... I'll try later this morning if I find time.


---

Comment by kcrisman created at 2012-09-28 13:02:51

Changing status from positive_review to needs_work.


---

Comment by kcrisman created at 2012-09-28 14:45:30

This is now [https://github.com/sagemath/sagenb/pull/99](https://github.com/sagemath/sagenb/pull/99)(https://github.com/sagemath/sagenb/pull/99).


---

Comment by kcrisman created at 2012-09-28 14:45:30

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2012-09-28 14:51:12

I prefer sagenb-only tickets such as this should be on sagenb github and only there. Even if this patch is positively reviewed, there is nothing I can do since sagenb has been separated from Sage. So, I would like to close this as "invalid" and refer to github instead.


---

Comment by jdemeyer created at 2012-09-28 14:51:52

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2012-09-28 14:54:54

Hmm, I don't know about this.  We have tickets all the time for things in upstream packages.  Then we say "fixed by spkg in #abcde" and say "close when #abcde is merged".  Or sometimes even have an spkg right on the ticket.  Why should sagenb be any different?


---

Comment by kcrisman created at 2012-09-28 14:54:54

Changing status from positive_review to needs_info.


---

Comment by jdemeyer created at 2012-09-28 15:06:00

Replying to [comment:9 kcrisman]:
> Hmm, I don't know about this.  We have tickets all the time for things in upstream packages.  Then we say "fixed by spkg in #abcde" and say "close when #abcde is merged".  Or sometimes even have an spkg right on the ticket.  Why should sagenb be any different?
Because we usually don't update sagenb _for every single ticket_.  Also, sagenb upstream is different because we don't patch the sagenb spkg in Sage.


---

Comment by ppurka created at 2012-09-30 02:09:43

I asked this question in github: I can't seem to get a "forgot password" link from the login page. Same problem is on sagenb.org. Where is this link that we are trying to fix here?


---

Comment by kcrisman created at 2012-10-30 15:43:17

Replying to [comment:11 ppurka]:
> I asked this question in github: I can't seem to get a "forgot password" link from the login page. Same problem is on sagenb.org. Where is this link that we are trying to fix here?

See [the github pull request](https://github.com/sagemath/sagenb/pull/99), where Jason points out this only happens when we ask for an email address.  Anyway, it's been merged upstream in master, so now we just need to wait for a new sagenb package to make this ticket depend on!  "Needs info" for that (eventual) ticket.


---

Comment by aapitzsch created at 2014-02-23 23:18:29

Fix is part of sagenb since version 0.10.3. We are using version 0.10.8 (#15569). So let's get this ticket closed.


---

Comment by aapitzsch created at 2014-02-23 23:18:29

Changing status from needs_info to needs_review.


---

Comment by ppurka created at 2014-02-24 07:28:03

Just set it to positive review, then close it as invalid.


---

Comment by aapitzsch created at 2014-02-24 21:34:12

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-02-26 13:39:45

Resolution: fixed
