# Issue 28542: Error in "primes_of_bad_reduction" for DynamicalSystem

Issue created by migration from https://trac.sagemath.org/ticket/28779

Original creator: paulfili

Original creation time: 2019-11-20 17:29:31

CC:  @yuankmath bhutz atowsley

Keywords: sd104

Currently "primes_of_bad_reduction" calls, when the base field is not QQ, the function normalize_coordiantes. But normalize_coordinates returns an error if the base ring does not have a GCD:

```
R.<X> = PolynomialRing(ZZ)
K.<b> = NumberField(X^3 - 11)
P.<x,y> = ProjectiveSpace(K, 1)
a = 7/(b-1)
f = DynamicalSystem_projective([a*y^2 - (a*y-x)^2, y^2])
f.primes_of_bad_reduction() # returns an error
# because it calls the following, which
f.normalize_coordinates() # returns an error (and is meant to!)
```



---

Comment by paulfili created at 2019-11-20 22:28:24

Changing status from new to needs_review.


---

Comment by paulfili created at 2019-11-20 22:28:24

I believe this fixes the issues and preserves the desired functionality. 
----
New commits:


---

Comment by atowsley created at 2019-11-21 15:32:13

Changing status from needs_review to positive_review.


---

Comment by atowsley created at 2019-11-21 15:32:13

All of my examples worked properly and it passed all the tests.


---

Comment by chapoton created at 2019-11-21 19:36:49

The author name must be your full real name.


---

Comment by paulfili created at 2019-11-21 19:38:45

Fixed, sorry about that.


---

Comment by paulfili created at 2019-11-21 19:39:11

Err, autocomplete...


---

Comment by vbraun created at 2019-12-01 00:38:37

Resolution: fixed
