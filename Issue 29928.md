# Issue 29928: normalize_coordinates broken for p-adic fields

Issue created by migration from https://trac.sagemath.org/ticket/30165

Original creator: @EnderWannabe

Original creation time: 2020-07-17 19:23:55

CC:  bhutz paulfili

Keywords: gsoc20

normalize_coordinates in projective_morphism does not properly scale by the GCD of the coefficients over a p-adic field:


```
sage: P.<x,y> = ProjectiveSpace(Qp(3),1)
sage: f = DynamicalSystem_projective([3*x^2 + 6*y^2, 9*x*y])
sage: f.normalize_coordinates(); QQ(f[0][2,0])
-3
```


We fix the gcd computation. We also stop scaling by -1 in the p-adic case.


---

Comment by @EnderWannabe created at 2020-07-17 19:25:00

New commits:


---

Comment by @EnderWannabe created at 2020-07-17 19:25:00

Changing status from new to needs_review.


---

Comment by git created at 2020-07-27 21:16:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by paulfili created at 2020-08-03 16:57:46

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-08-09 08:49:31

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2020-08-09 08:49:31

Please fill out the Author & Reviewer field


---

Comment by @EnderWannabe created at 2020-08-10 18:05:03

Changing status from needs_work to needs_review.


---

Comment by paulfili created at 2020-08-10 18:55:18

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-08-14 22:23:15

Resolution: fixed
