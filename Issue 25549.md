# Issue 25549: Fix introspection with ? in conda and  ArchLinux

archive/issues_025549.json:
```json
{
    "body": "CC:  @antonio-rojas @jdemeyer @slel\n\nCurrently, introspection does not work in conda and ArchLinux:\n\n```\nsage: ZZ?\n\u2026\n/usr/lib/python2.7/site-packages/sage/misc/sagedoc.pyc in process_extlinks(s, embedded)\n    497     oldpath = sys.path\n    498     sys.path = [os.path.join(SAGE_DOC_SRC, 'common')] + oldpath\n--> 499     from conf import extlinks\n    500     sys.path = oldpath\n    501     for key in extlinks:\n\nImportError: cannot import name extlinks\n```\n\nThe problem is that `src/doc/common/conf.py` is not in the place that Sage expects.\n\nI don't think that we should require the documentation configuration to be installed for Sage to work.\n\nIssue created by migration from https://trac.sagemath.org/ticket/25786\n\n",
    "created_at": "2018-07-06T11:22:02Z",
    "labels": [
        "component: documentation",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Fix introspection with ? in conda and  ArchLinux",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25549",
    "user": "https://github.com/saraedum"
}
```
CC:  @antonio-rojas @jdemeyer @slel

Currently, introspection does not work in conda and ArchLinux:

```
sage: ZZ?
…
/usr/lib/python2.7/site-packages/sage/misc/sagedoc.pyc in process_extlinks(s, embedded)
    497     oldpath = sys.path
    498     sys.path = [os.path.join(SAGE_DOC_SRC, 'common')] + oldpath
--> 499     from conf import extlinks
    500     sys.path = oldpath
    501     for key in extlinks:

ImportError: cannot import name extlinks
```

The problem is that `src/doc/common/conf.py` is not in the place that Sage expects.

I don't think that we should require the documentation configuration to be installed for Sage to work.

Issue created by migration from https://trac.sagemath.org/ticket/25786





---

archive/issue_comments_359772.json:
```json
{
    "body": "Is this needs review?\n\n---\nNew commits:",
    "created_at": "2018-07-06T11:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359772",
    "user": "https://github.com/jdemeyer"
}
```

Is this needs review?

---
New commits:



---

archive/issue_comments_359773.json:
```json
{
    "body": "I had a comment in #24655 that `src/doc/en/introspect` is required as well\u2026let's see if that's still the case.",
    "created_at": "2018-07-06T11:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359773",
    "user": "https://github.com/saraedum"
}
```

I had a comment in #24655 that `src/doc/en/introspect` is required as well…let's see if that's still the case.



---

archive/issue_comments_359774.json:
```json
{
    "body": "jdemeyer: No, I have not tested this yet. But feel free to give feedback if you know something about this :)",
    "created_at": "2018-07-06T11:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359774",
    "user": "https://github.com/saraedum"
}
```

jdemeyer: No, I have not tested this yet. But feel free to give feedback if you know something about this :)



---

archive/issue_comments_359775.json:
```json
{
    "body": "See #25787 for a followup regarding the docker images.",
    "created_at": "2018-07-06T11:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359775",
    "user": "https://github.com/saraedum"
}
```

See #25787 for a followup regarding the docker images.



---

archive/issue_comments_359776.json:
```json
{
    "body": "In any case, I agree with the idea behind the patch.",
    "created_at": "2018-07-06T11:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359776",
    "user": "https://github.com/jdemeyer"
}
```

In any case, I agree with the idea behind the patch.



---

archive/issue_comments_359777.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-07-06T11:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359777",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_359778.json:
```json
{
    "body": "So, if the patchbot and my tests are Ok, then this is a positive review?",
    "created_at": "2018-07-06T11:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359778",
    "user": "https://github.com/saraedum"
}
```

So, if the patchbot and my tests are Ok, then this is a positive review?



---

archive/issue_comments_359779.json:
```json
{
    "body": "Replying to [comment:9 saraedum]:\n> So, if the patchbot and my tests are Ok, then this is a positive review?\n\n\nYes",
    "created_at": "2018-07-06T11:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359779",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:9 saraedum]:
> So, if the patchbot and my tests are Ok, then this is a positive review?


Yes



---

archive/issue_comments_359780.json:
```json
{
    "body": "This still doesn't allow introspection on Arch without having the doc sources installed, due to \n\n```\n    # Sphinx constructor: Sphinx(srcdir, confdir, outdir, doctreedir,\n    # buildername, confoverrides, status, warning, freshenv).\n    confdir = os.path.join(SAGE_DOC_SRC, 'en', 'introspect')\n\n    open(os.path.join(srcdir, 'docutils.conf'), 'w').write(r\"\"\"\n[parsers]\nsmart_quotes = no\n\"\"\")\n    doctreedir = os.path.join(srcdir, 'doctrees')\n    confoverrides = {'html_context': {}, 'master_doc': 'docstring'}\n\n    import sys\n    old_sys_path = list(sys.path)  # Sphinx modifies sys.path\n    sphinx_app = Sphinx(srcdir, confdir, srcdir, doctreedir, format,\n                        confoverrides, None, None, True)\n    sphinx_app.build(None, [rst_name])\n    sys.path = old_sys_path\n```\nin misc/sphinxify.py",
    "created_at": "2018-07-06T12:19:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359780",
    "user": "https://github.com/antonio-rojas"
}
```

This still doesn't allow introspection on Arch without having the doc sources installed, due to 

```
    # Sphinx constructor: Sphinx(srcdir, confdir, outdir, doctreedir,
    # buildername, confoverrides, status, warning, freshenv).
    confdir = os.path.join(SAGE_DOC_SRC, 'en', 'introspect')

    open(os.path.join(srcdir, 'docutils.conf'), 'w').write(r"""
[parsers]
smart_quotes = no
""")
    doctreedir = os.path.join(srcdir, 'doctrees')
    confoverrides = {'html_context': {}, 'master_doc': 'docstring'}

    import sys
    old_sys_path = list(sys.path)  # Sphinx modifies sys.path
    sphinx_app = Sphinx(srcdir, confdir, srcdir, doctreedir, format,
                        confoverrides, None, None, True)
    sphinx_app.build(None, [rst_name])
    sys.path = old_sys_path
```
in misc/sphinxify.py



---

archive/issue_comments_359781.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-07-07T22:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359781",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359782.json:
```json
{
    "body": "arojas: Right, now it works for me. But probably the `from common.conf import *` is there for a reason and I should not simply delete it.",
    "created_at": "2018-07-07T23:01:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359782",
    "user": "https://github.com/saraedum"
}
```

arojas: Right, now it works for me. But probably the `from common.conf import *` is there for a reason and I should not simply delete it.



---

archive/issue_comments_359783.json:
```json
{
    "body": "I really prefer one ticket, one issue.",
    "created_at": "2018-07-08T06:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359783",
    "user": "https://github.com/jdemeyer"
}
```

I really prefer one ticket, one issue.



---

archive/issue_comments_359784.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-08T06:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359784",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_359785.json:
```json
{
    "body": "Replying to [comment:16 jdemeyer]:\n> I really prefer one ticket, one issue.\n\n\nI believe that this is one issue: \"Fix introspection with ? in conda and ArchLinux\". And even the solution can be seen as one thing: \"Make Sage runtime not depend on documentation configuration.\"",
    "created_at": "2018-07-09T16:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359785",
    "user": "https://github.com/saraedum"
}
```

Replying to [comment:16 jdemeyer]:
> I really prefer one ticket, one issue.


I believe that this is one issue: "Fix introspection with ? in conda and ArchLinux". And even the solution can be seen as one thing: "Make Sage runtime not depend on documentation configuration."



---

archive/issue_comments_359786.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-07-09T16:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359786",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_359787.json:
```json
{
    "body": "The patchbots report weird errors that seem unrelated to the changes here\u2026let me try this out locally.",
    "created_at": "2018-07-09T16:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359787",
    "user": "https://github.com/saraedum"
}
```

The patchbots report weird errors that seem unrelated to the changes here…let me try this out locally.



---

archive/issue_comments_359788.json:
```json
{
    "body": "I moved the first part to #25843 and gave positive review to that.",
    "created_at": "2018-07-12T10:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359788",
    "user": "https://github.com/jdemeyer"
}
```

I moved the first part to #25843 and gave positive review to that.



---

archive/issue_comments_359789.json:
```json
{
    "body": "Changing keywords from \"\" to \"conda, Arch Linux, introspection\".",
    "created_at": "2018-08-25T17:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359789",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "conda, Arch Linux, introspection".



---

archive/issue_comments_359790.json:
```json
{
    "body": "Updating slightly misleading description - introspection works fine in Arch if the sagemath-doc package is installed.",
    "created_at": "2018-08-26T07:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359790",
    "user": "https://github.com/antonio-rojas"
}
```

Updating slightly misleading description - introspection works fine in Arch if the sagemath-doc package is installed.



---

archive/issue_comments_359791.json:
```json
{
    "body": "One thing I don't like is the style of the long `\"\"\"`-quoted strings in between code. This could be made more readable by moving the strings outside of the function. Something like\n\n```\n# At module level\nlayout_html = r\"\"\"\n<div class=\"docstring\">\n    {% block body %} {% endblock %}\n</div>\"\"\"\n```\n\n```\n# Inside the function\n    with open(os.path.join(templatesdir, 'layout.html'), 'w') as filed:\n        filed.write(layout_html)\n```",
    "created_at": "2018-09-04T20:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359791",
    "user": "https://github.com/jdemeyer"
}
```

One thing I don't like is the style of the long `"""`-quoted strings in between code. This could be made more readable by moving the strings outside of the function. Something like

```
# At module level
layout_html = r"""
<div class="docstring">
    {% block body %} {% endblock %}
</div>"""
```

```
# Inside the function
    with open(os.path.join(templatesdir, 'layout.html'), 'w') as filed:
        filed.write(layout_html)
```



---

archive/issue_comments_359792.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-03T12:51:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359792",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359793.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-08T11:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359793",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359794.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-10-15T06:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359794",
    "user": "https://github.com/isuruf"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_359795.json:
```json
{
    "body": "`OMIT` is removed from `src/sage_setup/docbuild/build_options.py`, but it is needed in `src/sage_setup/docbuild/__init__.py`",
    "created_at": "2018-10-15T06:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359795",
    "user": "https://github.com/isuruf"
}
```

`OMIT` is removed from `src/sage_setup/docbuild/build_options.py`, but it is needed in `src/sage_setup/docbuild/__init__.py`



---

archive/issue_comments_359796.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-18T21:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359796",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359797.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-18T21:32:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359797",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359798.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-06-18T21:47:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359798",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_359799.json:
```json
{
    "body": "I like it. It helps me remove some manual installs in sage-on-gentoo. In fact I may not have to install the `common` folder and all the stuff I put in it anymore. This may be a bigger win than it looks like.",
    "created_at": "2019-06-19T00:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359799",
    "user": "https://github.com/kiwifb"
}
```

I like it. It helps me remove some manual installs in sage-on-gentoo. In fact I may not have to install the `common` folder and all the stuff I put in it anymore. This may be a bigger win than it looks like.



---

archive/issue_comments_359800.json:
```json
{
    "body": "The patchbot reports a few broken doctests over formatting.\n\n```\nFile \"src/sage/misc/sagedoc.py\", line 196, in sage.misc.sagedoc.detex\nFailed example:\n    detex(r'Some math: `n \\geq k`.  A website: \\url{sagemath.org}.')\nExpected:\n    'Some math: n >= k.  A website: sagemath.org.\\n'\nGot:\n    'Some math: *n geq k*.  A website: sagemath.org.\\n'\n```\nas an example.",
    "created_at": "2019-06-19T00:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359800",
    "user": "https://github.com/kiwifb"
}
```

The patchbot reports a few broken doctests over formatting.

```
File "src/sage/misc/sagedoc.py", line 196, in sage.misc.sagedoc.detex
Failed example:
    detex(r'Some math: `n \geq k`.  A website: \url{sagemath.org}.')
Expected:
    'Some math: n >= k.  A website: sagemath.org.\n'
Got:
    'Some math: *n geq k*.  A website: sagemath.org.\n'
```
as an example.



---

archive/issue_events_064469.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-06-25T06:55:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25549#event-64469"
}
```



---

archive/issue_comments_359801.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-06-28T11:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359801",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_359802.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-28T12:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359802",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359803.json:
```json
{
    "body": "isuruf commented that following seems to be missing.\n\n```\nfrom sage.env import SAGE_DOC_SRC\nsys.path.append(SAGE_DOC_SRC)\nfrom common.conf import *\n```",
    "created_at": "2019-07-01T13:57:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359803",
    "user": "https://github.com/saraedum"
}
```

isuruf commented that following seems to be missing.

```
from sage.env import SAGE_DOC_SRC
sys.path.append(SAGE_DOC_SRC)
from common.conf import *
```



---

archive/issue_comments_359804.json:
```json
{
    "body": "Maybe move `src/doc/common/conf.py` to `src/sage/docs/conf.py` and update the imports?",
    "created_at": "2019-07-02T17:41:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359804",
    "user": "https://github.com/isuruf"
}
```

Maybe move `src/doc/common/conf.py` to `src/sage/docs/conf.py` and update the imports?



---

archive/issue_comments_359805.json:
```json
{
    "body": "What do you think about the above suggestion? I can update this branch if you agree",
    "created_at": "2019-07-10T14:44:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359805",
    "user": "https://github.com/isuruf"
}
```

What do you think about the above suggestion? I can update this branch if you agree



---

archive/issue_comments_359806.json:
```json
{
    "body": "Sorry, yes please go ahead :)",
    "created_at": "2019-07-10T14:50:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359806",
    "user": "https://github.com/saraedum"
}
```

Sorry, yes please go ahead :)



---

archive/issue_comments_359807.json:
```json
{
    "body": "It would be nice to finish this. I would add that the clean up should probably also include this line https://github.com/sagemath/sage/blob/master/src/sage_setup/docbuild/build_options.py#L12\n\n```\nOMIT = [\"introspect\"]  # docs/dirs to omit when listing and building 'all'\n```\nThis ticket is removing that folder altogether. Do we even need `OMIT`?  If we don't, I think we could remove that logic in a follow up ticket.",
    "created_at": "2019-07-16T03:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359807",
    "user": "https://github.com/kiwifb"
}
```

It would be nice to finish this. I would add that the clean up should probably also include this line https://github.com/sagemath/sage/blob/master/src/sage_setup/docbuild/build_options.py#L12

```
OMIT = ["introspect"]  # docs/dirs to omit when listing and building 'all'
```
This ticket is removing that folder altogether. Do we even need `OMIT`?  If we don't, I think we could remove that logic in a follow up ticket.



---

archive/issue_comments_359808.json:
```json
{
    "body": "`@`saraedum can you pull https://github.com/isuruf/sage/commit/863d433d402c9257768929f7d62c4bd478eabbc8",
    "created_at": "2019-07-16T06:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359808",
    "user": "https://github.com/isuruf"
}
```

`@`saraedum can you pull https://github.com/isuruf/sage/commit/863d433d402c9257768929f7d62c4bd478eabbc8



---

archive/issue_comments_359809.json:
```json
{
    "body": "Sure. You can also just push to this ticket, there is no ownership as with [GitHub](GitHub) PRs here.",
    "created_at": "2019-07-16T06:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359809",
    "user": "https://github.com/saraedum"
}
```

Sure. You can also just push to this ticket, there is no ownership as with [GitHub](GitHub) PRs here.



---

archive/issue_comments_359810.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-16T06:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359810",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359811.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-16T06:29:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359811",
    "user": "https://github.com/isuruf"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_359812.json:
```json
{
    "body": "Is there a reason why we should not squash one layer here, i.e., move `conf.py` one level up so that we can write `from sage.docs.conf import *`?",
    "created_at": "2019-07-16T06:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359812",
    "user": "https://github.com/saraedum"
}
```

Is there a reason why we should not squash one layer here, i.e., move `conf.py` one level up so that we can write `from sage.docs.conf import *`?



---

archive/issue_comments_359813.json:
```json
{
    "body": "No reason. I previously had some other files in `sage/docs/conf` and were removed later.",
    "created_at": "2019-07-16T06:38:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359813",
    "user": "https://github.com/isuruf"
}
```

No reason. I previously had some other files in `sage/docs/conf` and were removed later.



---

archive/issue_comments_359814.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-16T06:39:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359814",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359815.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-16T06:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359815",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359816.json:
```json
{
    "body": "`@`isuruf: Could  you have a look at my latest changes? (That I did not test yet, because I have not built recent Sage\u2026)",
    "created_at": "2019-07-16T06:44:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359816",
    "user": "https://github.com/saraedum"
}
```

`@`isuruf: Could  you have a look at my latest changes? (That I did not test yet, because I have not built recent Sage…)



---

archive/issue_comments_359817.json:
```json
{
    "body": "Looks good to me. Thanks",
    "created_at": "2019-07-16T07:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359817",
    "user": "https://github.com/isuruf"
}
```

Looks good to me. Thanks



---

archive/issue_comments_359818.json:
```json
{
    "body": "There is strange stuff about `lcalc` in the branch. May be some rebasing is needed?",
    "created_at": "2019-07-16T07:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359818",
    "user": "https://github.com/kiwifb"
}
```

There is strange stuff about `lcalc` in the branch. May be some rebasing is needed?



---

archive/issue_comments_359819.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-16T07:51:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359819",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359820.json:
```json
{
    "body": "Thanks fbissey. That should not have been here.",
    "created_at": "2019-07-16T07:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359820",
    "user": "https://github.com/saraedum"
}
```

Thanks fbissey. That should not have been here.



---

archive/issue_comments_359821.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-07-16T14:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359821",
    "user": "https://github.com/isuruf"
}
```

New commits:



---

archive/issue_comments_359822.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-16T16:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359822",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_359823.json:
```json
{
    "body": "I think the patchbot is happy with it (the last run had a failure that should be unrelated). Anything to add or is it completely ready for review?",
    "created_at": "2019-07-16T21:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359823",
    "user": "https://github.com/kiwifb"
}
```

I think the patchbot is happy with it (the last run had a failure that should be unrelated). Anything to add or is it completely ready for review?



---

archive/issue_comments_359824.json:
```json
{
    "body": "> Anything to add or is it completely ready for review? \n\n\nNothing to add. Ready for review",
    "created_at": "2019-07-16T21:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359824",
    "user": "https://github.com/isuruf"
}
```

> Anything to add or is it completely ready for review? 


Nothing to add. Ready for review



---

archive/issue_comments_359825.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-16T22:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359825",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_359826.json:
```json
{
    "body": "Looks good to me :)",
    "created_at": "2019-07-16T22:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359826",
    "user": "https://github.com/kiwifb"
}
```

Looks good to me :)



---

archive/issue_comments_359827.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-07-23T21:03:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25549#issuecomment-359827",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_064470.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-23T21:03:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25549",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25549#event-64470"
}
```
