# Issue 11192: Cyclic subspaces (aka Krylov subspaces)

Issue created by migration from https://trac.sagemath.org/ticket/11364

Original creator: rbeezer

Original creation time: 2011-05-20 22:02:11

Assignee: jason, was

These are useful for topics related to rational canonical form (coming soon) and minimal polynomials.


---

Attachment


---

Comment by rbeezer created at 2011-05-20 22:06:49

Changing status from new to needs_review.


---

Comment by tkluck created at 2012-12-23 18:58:26

This has been lying around on trac for a while; thought I could review it.

The code looks excellent and all tests pass. There seems to be a sufficient number of doctests. It was also a good decision to split the implementation into a "hidden" function `_cyclic_subspace` and the user-facing function `cyclic_subspace` with a friendlier interface.

The only remark I have is that I think that coercions could be handled a little better. For example, a call to `cyclic_subspace` now fails on matrices with integer coefficients, even though there exists a coercion ZZ to QQ. I patched it to try calling R.fraction_field(). 

I also moved the `generator = False` outside of the try block, because it is intended as a default value in case anything inside the try block fails.

If you agree with my changes, then by all means, mark this as a positive review.


---

Attachment


---

Comment by rbeezer created at 2012-12-26 06:03:06

Replying to [comment:3 tkluck]:
> This has been lying around on trac for a while; thought I could review it.

Dear Timo,

Thank-you very much for looking at this.  Yes, it is old, so I am surprised it has not bit-rotted in some way.

I will be offline for the next two weeks as part of the semester break here, so I'll have to take a close look later.  But the changes in your patch certainly look like good improvements.  I'll be back in a bit.

Thanks,
Rob


---

Comment by rbeezer created at 2013-05-24 17:16:46

Changing status from needs_review to positive_review.


---

Comment by rbeezer created at 2013-05-24 17:16:46

Dear Timo,

Sorry to be so very long on this one - life got crazy there for a while.  Your changes look very good to me.  Thanks for the review and the great improvements.

As suggested above, I'll mark this "positive review" and we can finally get it in.

Thanks again,
Rob


---

Comment by jdemeyer created at 2013-05-27 08:52:16

Never use

```
except:
```

because that can catch unwanted exceptions, like `KeyboardInterrupt`. Catch specific exceptions, or use

```
except Exception:
```

if you want a catch-all.


---

Comment by jdemeyer created at 2013-05-27 08:54:16

Changing status from positive_review to needs_work.


---

Comment by rbeezer created at 2013-05-28 04:55:53

Replying to [comment:6 jdemeyer]:
> Catch specific exceptions

Right!  I'm a little rusty.  Thanks, Jeroen.

I'll likely fix this up on the reviewer patch.

Rob


---

Attachment

Looks like a `TypeError` is the only possibility for the naked try.  Thanks for catching that, Jeroen.

I made the change on the reviewer patch, which still has Timo's name on it (now named v2).  I updated the summary line in the patch, since Trac numbers get prepended automatically now.

Timo - can you bless the changes?

Rob


---

Comment by rbeezer created at 2013-05-30 04:26:42

Changing status from needs_work to needs_review.


---

Comment by tkluck created at 2013-06-03 07:56:30

Replying to [comment:9 rbeezer]:
> 
> Timo - can you bless the changes?

Definitely.


---

Comment by tkluck created at 2013-06-03 07:56:30

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-06-06 12:30:49

Resolution: fixed
