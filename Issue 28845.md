# Issue 28845: clean generated *.pc files

archive/issues_028845.json:
```json
{
    "body": "CC:  @embray @mkoeppe @jhpalmieri @vbraun @kiwifb\n\n#29003 introduced 2-stage installation of generated *.pc files, \nvia `src/lib/pkgconfig`- but did not provide a way to clean them up at all. And this is a problem (cf. e.g. #29071).\n \nAt least `make distclean` should clean them, possibly even `make clean`, not sure about this.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29082\n\n",
    "created_at": "2020-01-26T12:40:13Z",
    "labels": [
        "component: build: configure",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "clean generated *.pc files",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28845",
    "user": "https://github.com/dimpase"
}
```
CC:  @embray @mkoeppe @jhpalmieri @vbraun @kiwifb

#29003 introduced 2-stage installation of generated *.pc files, 
via `src/lib/pkgconfig`- but did not provide a way to clean them up at all. And this is a problem (cf. e.g. #29071).
 
At least `make distclean` should clean them, possibly even `make clean`, not sure about this.

Issue created by migration from https://trac.sagemath.org/ticket/29082





---

archive/issue_comments_407375.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2020-01-26T12:43:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407375",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_407376.json:
```json
{
    "body": "My suggestion would be to rewrite this as a script package instead of putting things into `src/`. This stuff really does not belong into `src/`.",
    "created_at": "2020-01-28T00:43:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407376",
    "user": "https://github.com/mkoeppe"
}
```

My suggestion would be to rewrite this as a script package instead of putting things into `src/`. This stuff really does not belong into `src/`.



---

archive/issue_comments_407377.json:
```json
{
    "body": "Added #29071 as a dependency as it touches the same files.",
    "created_at": "2020-01-28T01:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407377",
    "user": "https://github.com/mkoeppe"
}
```

Added #29071 as a dependency as it touches the same files.



---

archive/issue_comments_407378.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2020-01-28T01:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407378",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_407379.json:
```json
{
    "body": "(deleted a comment that was intended for #29071.)",
    "created_at": "2020-01-28T01:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407379",
    "user": "https://github.com/mkoeppe"
}
```

(deleted a comment that was intended for #29071.)



---

archive/issue_comments_407380.json:
```json
{
    "body": "(deleted a comment that was intended for #29071.)",
    "created_at": "2020-01-28T01:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407380",
    "user": "https://github.com/mkoeppe"
}
```

(deleted a comment that was intended for #29071.)



---

archive/issue_comments_407381.json:
```json
{
    "body": "Replying to [comment:2 mkoeppe]:\n> My suggestion would be to rewrite this as a script package instead of putting things into `src/`. This stuff really does not belong into `src/`.\n\n\nPerhaps we should just create `var/` next to `src/` and put these things there?",
    "created_at": "2020-01-28T09:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407381",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:2 mkoeppe]:
> My suggestion would be to rewrite this as a script package instead of putting things into `src/`. This stuff really does not belong into `src/`.


Perhaps we should just create `var/` next to `src/` and put these things there?



---

archive/issue_comments_407382.json:
```json
{
    "body": "No, I don't think so. These are configure-generated files of sage-the-distribution - like `build/make/Makefile`. There's no need for a new top level.\n\nLet me take care of this ticket after #29071 is done.",
    "created_at": "2020-01-28T12:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407382",
    "user": "https://github.com/mkoeppe"
}
```

No, I don't think so. These are configure-generated files of sage-the-distribution - like `build/make/Makefile`. There's no need for a new top level.

Let me take care of this ticket after #29071 is done.



---

archive/issue_comments_407383.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2020-01-29T04:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407383",
    "user": "https://github.com/mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_407384.json:
```json
{
    "body": "Branch is on top of #29051, #29071, #29084.\nThis is a first version, haven't tested much yet.",
    "created_at": "2020-01-29T04:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407384",
    "user": "https://github.com/mkoeppe"
}
```

Branch is on top of #29051, #29071, #29084.
This is a first version, haven't tested much yet.



---

archive/issue_comments_407385.json:
```json
{
    "body": "Tests run at https://github.com/mkoeppe/sage/actions/runs/32449719",
    "created_at": "2020-01-29T04:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407385",
    "user": "https://github.com/mkoeppe"
}
```

Tests run at https://github.com/mkoeppe/sage/actions/runs/32449719



---

archive/issue_comments_407386.json:
```json
{
    "body": "I will redo this on top of the hot fix - #29121.",
    "created_at": "2020-01-31T15:59:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407386",
    "user": "https://github.com/mkoeppe"
}
```

I will redo this on top of the hot fix - #29121.



---

archive/issue_comments_407387.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-16T20:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407387",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_407388.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-16T20:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407388",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407389.json:
```json
{
    "body": "Rebased on 9.1.beta4",
    "created_at": "2020-02-16T20:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407389",
    "user": "https://github.com/mkoeppe"
}
```

Rebased on 9.1.beta4



---

archive/issue_comments_407390.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-22T23:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407390",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407391.json:
```json
{
    "body": "Needs review.",
    "created_at": "2020-02-22T23:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407391",
    "user": "https://github.com/mkoeppe"
}
```

Needs review.



---

archive/issue_comments_407392.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-02T01:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407392",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407393.json:
```json
{
    "body": "Agreed on the first two points in the description.\n\nDon't agree on sage_system_blas_facade and the changes to Makefile.in.  I don't see how it's \"special-purpose code\".  It's a quite generic solution that you seem to be *replacing* with \"special-purpose code\" that's very specific to openblas.  This ticket was needed for more than just blas.",
    "created_at": "2020-03-06T14:40:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407393",
    "user": "https://github.com/embray"
}
```

Agreed on the first two points in the description.

Don't agree on sage_system_blas_facade and the changes to Makefile.in.  I don't see how it's "special-purpose code".  It's a quite generic solution that you seem to be *replacing* with "special-purpose code" that's very specific to openblas.  This ticket was needed for more than just blas.



---

archive/issue_comments_407394.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-03-06T14:42:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407394",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_407395.json:
```json
{
    "body": "Is my ticket handling the `gsl.pc` correctly? Which packages use this file?",
    "created_at": "2020-03-07T03:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407395",
    "user": "https://github.com/mkoeppe"
}
```

Is my ticket handling the `gsl.pc` correctly? Which packages use this file?



---

archive/issue_comments_407396.json:
```json
{
    "body": "I also don't quite understand the need to create a special script package, instead of adjusting `build/make/Makefile.in`.\n\nIs there a technical problem?",
    "created_at": "2020-03-19T03:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407396",
    "user": "https://github.com/dimpase"
}
```

I also don't quite understand the need to create a special script package, instead of adjusting `build/make/Makefile.in`.

Is there a technical problem?



---

archive/issue_comments_407397.json:
```json
{
    "body": "It seemed to be an elegant solution when I wrote this a month ago",
    "created_at": "2020-03-19T03:49:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407397",
    "user": "https://github.com/mkoeppe"
}
```

It seemed to be an elegant solution when I wrote this a month ago



---

archive/issue_comments_407398.json:
```json
{
    "body": "It seems that your package handles more that blas/lapack pc files, no?\nPerhaps it just is wrongly named?",
    "created_at": "2020-03-19T03:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407398",
    "user": "https://github.com/dimpase"
}
```

It seems that your package handles more that blas/lapack pc files, no?
Perhaps it just is wrongly named?



---

archive/issue_comments_407399.json:
```json
{
    "body": "That's basically my question regarding gsl.pc above, I guess.",
    "created_at": "2020-03-19T03:59:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407399",
    "user": "https://github.com/mkoeppe"
}
```

That's basically my question regarding gsl.pc above, I guess.



---

archive/issue_comments_407400.json:
```json
{
    "body": "there is also a bug: PKG_CONFIG_PATH is pointing to the wrong directory, so these\nnewly installed pc files are not found:\n\n```\n(sage-sh) dima@fedora:sagetrac-mirror$ echo $PKG_CONFIG_PATH\n/home/dima/sagetrac-mirror/local/lib/pkgconfig:.\n(sage-sh) dima@fedora:sagetrac-mirror$ find . -name cblas.pc\n./build/pkgs/sage_system_blas_facade/src/cblas.pc\n./src/lib/pkgconfig/cblas.pc\n```",
    "created_at": "2020-03-19T04:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407400",
    "user": "https://github.com/dimpase"
}
```

there is also a bug: PKG_CONFIG_PATH is pointing to the wrong directory, so these
newly installed pc files are not found:

```
(sage-sh) dima@fedora:sagetrac-mirror$ echo $PKG_CONFIG_PATH
/home/dima/sagetrac-mirror/local/lib/pkgconfig:.
(sage-sh) dima@fedora:sagetrac-mirror$ find . -name cblas.pc
./build/pkgs/sage_system_blas_facade/src/cblas.pc
./src/lib/pkgconfig/cblas.pc
```



---

archive/issue_comments_407401.json:
```json
{
    "body": "oops, I mean, they are just not installed at all.\nPKG_CONFIG_PATH is correct, but pc files are not there, or anywhere, except the old location",
    "created_at": "2020-03-19T04:14:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407401",
    "user": "https://github.com/dimpase"
}
```

oops, I mean, they are just not installed at all.
PKG_CONFIG_PATH is correct, but pc files are not there, or anywhere, except the old location



---

archive/issue_comments_407402.json:
```json
{
    "body": "Feel free to make changes -- otherwise I can look into it tomorrow",
    "created_at": "2020-03-19T04:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407402",
    "user": "https://github.com/mkoeppe"
}
```

Feel free to make changes -- otherwise I can look into it tomorrow



---

archive/issue_comments_407403.json:
```json
{
    "body": "What does `build/pkgs/sage_system_blas_facade/spkg-install` look like on your machine?",
    "created_at": "2020-03-19T04:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407403",
    "user": "https://github.com/mkoeppe"
}
```

What does `build/pkgs/sage_system_blas_facade/spkg-install` look like on your machine?



---

archive/issue_comments_407404.json:
```json
{
    "body": "here it is:\n\n{{{#! /usr/bin/env bash\nPCFILES=\"blas.pccblas.pclapack.pc\"\nSAGE_PKGCONFIG=\"$SAGE_LOCAL/lib/pkgconfig\"\nmkdir -p \"$SAGE_PKGCONFIG\"\nif [ -n \"$PCFILES\" ]; then\n   cd build/pkgs/sage_system_blas_facade/src && cp -P $PCFILES \"$SAGE_PKGCONFIG\"\nfi\n```\nalso note that the original openblas.pc is in SAGE_ROOT",
    "created_at": "2020-03-19T04:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407404",
    "user": "https://github.com/dimpase"
}
```

here it is:

{{{#! /usr/bin/env bash
PCFILES="blas.pccblas.pclapack.pc"
SAGE_PKGCONFIG="$SAGE_LOCAL/lib/pkgconfig"
mkdir -p "$SAGE_PKGCONFIG"
if [ -n "$PCFILES" ]; then
   cd build/pkgs/sage_system_blas_facade/src && cp -P $PCFILES "$SAGE_PKGCONFIG"
fi
```
also note that the original openblas.pc is in SAGE_ROOT



---

archive/issue_comments_407405.json:
```json
{
    "body": "Looks like some spaces are missing",
    "created_at": "2020-03-19T04:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407405",
    "user": "https://github.com/mkoeppe"
}
```

Looks like some spaces are missing



---

archive/issue_comments_407406.json:
```json
{
    "body": "indeed, one needs\n\n```diff\n--- a/build/pkgs/openblas/spkg-configure.m4\n+++ b/build/pkgs/openblas/spkg-configure.m4\n@@ -37,7 +37,7 @@ SAGE_SPKG_CONFIGURE([openblas], [dnl CHECK\n        m4_foreach([blaslibnam], [blas, cblas, lapack], [\n         AS_IF([test x$sage_install_]blaslibnam[_pc = xyes], [\n          AC_CONFIG_LINKS([build/pkgs/sage_system_blas_facade/src/]blaslibnam[.pc:$OPENBLASPCDIR/openblas.pc])\n-         AS_VAR_APPEND([SAGE_SYSTEM_BLAS_FACADE_PC_FILES], blaslibnam[.pc])])\n+         AS_VAR_APPEND([SAGE_SYSTEM_BLAS_FACADE_PC_FILES], [blaslibnam[.pc]' '])])\n          AC_SUBST([SAGE_BLAS], [sage_system_blas_facade])\n        ])\n     ])\n```",
    "created_at": "2020-03-19T06:47:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407406",
    "user": "https://github.com/dimpase"
}
```

indeed, one needs

```diff
--- a/build/pkgs/openblas/spkg-configure.m4
+++ b/build/pkgs/openblas/spkg-configure.m4
@@ -37,7 +37,7 @@ SAGE_SPKG_CONFIGURE([openblas], [dnl CHECK
        m4_foreach([blaslibnam], [blas, cblas, lapack], [
         AS_IF([test x$sage_install_]blaslibnam[_pc = xyes], [
          AC_CONFIG_LINKS([build/pkgs/sage_system_blas_facade/src/]blaslibnam[.pc:$OPENBLASPCDIR/openblas.pc])
-         AS_VAR_APPEND([SAGE_SYSTEM_BLAS_FACADE_PC_FILES], blaslibnam[.pc])])
+         AS_VAR_APPEND([SAGE_SYSTEM_BLAS_FACADE_PC_FILES], [blaslibnam[.pc]' '])])
          AC_SUBST([SAGE_BLAS], [sage_system_blas_facade])
        ])
     ])
```



---

archive/issue_comments_407407.json:
```json
{
    "body": "but this does not make any difference. As far as I can see, `spkg-install` of `sage_system_blas_facade` never gets run - I'm lost in untangling the reason for this.",
    "created_at": "2020-03-19T13:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407407",
    "user": "https://github.com/dimpase"
}
```

but this does not make any difference. As far as I can see, `spkg-install` of `sage_system_blas_facade` never gets run - I'm lost in untangling the reason for this.



---

archive/issue_comments_407408.json:
```json
{
    "body": "OK, I'll take care of it later today.",
    "created_at": "2020-03-19T13:44:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407408",
    "user": "https://github.com/mkoeppe"
}
```

OK, I'll take care of it later today.



---

archive/issue_comments_407409.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2020-03-19T15:11:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407409",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_407410.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-03-20T22:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407410",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_407411.json:
```json
{
    "body": "Branch is on top of #29287",
    "created_at": "2020-03-20T22:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407411",
    "user": "https://github.com/mkoeppe"
}
```

Branch is on top of #29287



---

archive/issue_comments_407412.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-21T02:05:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407413.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-21T02:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407414.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2020-03-21T08:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407414",
    "user": "https://github.com/dimpase"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_407415.json:
```json
{
    "body": "this prevents building on Fedora after distclean",
    "created_at": "2020-03-21T08:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407415",
    "user": "https://github.com/dimpase"
}
```

this prevents building on Fedora after distclean



---

archive/issue_comments_407416.json:
```json
{
    "body": "I'm working on a simpler version of this ticket.",
    "created_at": "2020-03-21T12:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407416",
    "user": "https://github.com/mkoeppe"
}
```

I'm working on a simpler version of this ticket.



---

archive/issue_comments_407417.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-21T18:30:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_407418.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-21T18:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407418",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407419.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-21T18:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407419",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407420.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-21T19:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407420",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407421.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-22T02:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407421",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_407422.json:
```json
{
    "body": "Error with gsl.pc for `local-homebrew-macos-standard` - https://github.com/mkoeppe/sage/runs/524361197",
    "created_at": "2020-03-22T02:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407422",
    "user": "https://github.com/mkoeppe"
}
```

Error with gsl.pc for `local-homebrew-macos-standard` - https://github.com/mkoeppe/sage/runs/524361197



---

archive/issue_comments_407423.json:
```json
{
    "body": "also `ubuntu-bionic-standard` (sagelib and cvxopt)",
    "created_at": "2020-03-22T02:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407423",
    "user": "https://github.com/mkoeppe"
}
```

also `ubuntu-bionic-standard` (sagelib and cvxopt)



---

archive/issue_comments_407424.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-22T02:59:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407424",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407425.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-22T02:59:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407425",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407426.json:
```json
{
    "body": "Tests run at https://github.com/mkoeppe/sage/actions/runs/60588138",
    "created_at": "2020-03-22T02:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407426",
    "user": "https://github.com/mkoeppe"
}
```

Tests run at https://github.com/mkoeppe/sage/actions/runs/60588138



---

archive/issue_comments_407427.json:
```json
{
    "body": "OK, this does the needed job. Perhaps the make rules could be made less explicit, but OK.",
    "created_at": "2020-03-22T09:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407427",
    "user": "https://github.com/dimpase"
}
```

OK, this does the needed job. Perhaps the make rules could be made less explicit, but OK.



---

archive/issue_comments_407428.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-22T09:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407428",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_407429.json:
```json
{
    "body": "Thanks!",
    "created_at": "2020-03-22T09:27:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407429",
    "user": "https://github.com/mkoeppe"
}
```

Thanks!



---

archive/issue_comments_407430.json:
```json
{
    "body": "Make distclean deletes `src/lib/pkgconfig/.gitignore`",
    "created_at": "2020-03-23T23:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407430",
    "user": "https://github.com/vbraun"
}
```

Make distclean deletes `src/lib/pkgconfig/.gitignore`



---

archive/issue_comments_407431.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-03-23T23:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407431",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_407432.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-23T23:26:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407432",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407433.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-23T23:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407433",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407434.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-24T03:32:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407434",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_407435.json:
```json
{
    "body": "ok. sorry for overlooking this.",
    "created_at": "2020-03-24T03:32:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407435",
    "user": "https://github.com/dimpase"
}
```

ok. sorry for overlooking this.



---

archive/issue_comments_407436.json:
```json
{
    "body": "Thanks",
    "created_at": "2020-03-24T03:33:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407436",
    "user": "https://github.com/mkoeppe"
}
```

Thanks



---

archive/issue_comments_407437.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-29T00:24:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407437",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_073742.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-29T00:24:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28845#event-73742"
}
```
