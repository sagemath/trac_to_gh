# Issue 28845: clean generated *.pc files

archive/issues_028845.json:
```json
{
    "body": "CC:  embray mkoeppe jhpalmieri vbraun fbissey\n\n#29003 introduced 2-stage installation of generated *.pc files, \nvia `src/lib/pkgconfig`- but did not provide a way to clean them up at all. And this is a problem (cf. e.g. #29071).\n \nAt least `make distclean` should clean them, possibly even `make clean`, not sure about this.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29082\n\n",
    "created_at": "2020-01-26T12:40:13Z",
    "labels": [
        "build: configure",
        "blocker",
        "bug"
    ],
    "title": "clean generated *.pc files",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28845",
    "user": "dimpase"
}
```
CC:  embray mkoeppe jhpalmieri vbraun fbissey

#29003 introduced 2-stage installation of generated *.pc files, 
via `src/lib/pkgconfig`- but did not provide a way to clean them up at all. And this is a problem (cf. e.g. #29071).
 
At least `make distclean` should clean them, possibly even `make clean`, not sure about this.

Issue created by migration from https://trac.sagemath.org/ticket/29082





---

archive/issue_comments_407823.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2020-01-26T12:43:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407823",
    "user": "dimpase"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_407824.json:
```json
{
    "body": "My suggestion would be to rewrite this as a script package instead of putting things into `src/`. This stuff really does not belong into `src/`.",
    "created_at": "2020-01-28T00:43:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407824",
    "user": "mkoeppe"
}
```

My suggestion would be to rewrite this as a script package instead of putting things into `src/`. This stuff really does not belong into `src/`.



---

archive/issue_comments_407825.json:
```json
{
    "body": "Added #29071 as a dependency as it touches the same files.",
    "created_at": "2020-01-28T01:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407825",
    "user": "mkoeppe"
}
```

Added #29071 as a dependency as it touches the same files.



---

archive/issue_comments_407826.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2020-01-28T01:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407826",
    "user": "mkoeppe"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_407827.json:
```json
{
    "body": "(deleted a comment that was intended for #29071.)",
    "created_at": "2020-01-28T01:06:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407827",
    "user": "mkoeppe"
}
```

(deleted a comment that was intended for #29071.)



---

archive/issue_comments_407828.json:
```json
{
    "body": "(deleted a comment that was intended for #29071.)",
    "created_at": "2020-01-28T01:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407828",
    "user": "mkoeppe"
}
```

(deleted a comment that was intended for #29071.)



---

archive/issue_comments_407829.json:
```json
{
    "body": "Replying to [comment:2 mkoeppe]:\n> My suggestion would be to rewrite this as a script package instead of putting things into `src/`. This stuff really does not belong into `src/`.\n\nPerhaps we should just create `var/` next to `src/` and put these things there?",
    "created_at": "2020-01-28T09:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407829",
    "user": "dimpase"
}
```

Replying to [comment:2 mkoeppe]:
> My suggestion would be to rewrite this as a script package instead of putting things into `src/`. This stuff really does not belong into `src/`.

Perhaps we should just create `var/` next to `src/` and put these things there?



---

archive/issue_comments_407830.json:
```json
{
    "body": "No, I don't think so. These are configure-generated files of sage-the-distribution - like `build/make/Makefile`. There's no need for a new top level.\n\nLet me take care of this ticket after #29071 is done.",
    "created_at": "2020-01-28T12:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407830",
    "user": "mkoeppe"
}
```

No, I don't think so. These are configure-generated files of sage-the-distribution - like `build/make/Makefile`. There's no need for a new top level.

Let me take care of this ticket after #29071 is done.



---

archive/issue_comments_407831.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2020-01-29T04:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407831",
    "user": "mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_407832.json:
```json
{
    "body": "Branch is on top of #29051, #29071, #29084.\nThis is a first version, haven't tested much yet.",
    "created_at": "2020-01-29T04:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407832",
    "user": "mkoeppe"
}
```

Branch is on top of #29051, #29071, #29084.
This is a first version, haven't tested much yet.



---

archive/issue_comments_407833.json:
```json
{
    "body": "Tests run at https://github.com/mkoeppe/sage/actions/runs/32449719",
    "created_at": "2020-01-29T04:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407833",
    "user": "mkoeppe"
}
```

Tests run at https://github.com/mkoeppe/sage/actions/runs/32449719



---

archive/issue_comments_407834.json:
```json
{
    "body": "Changing priority from blocker to major.",
    "created_at": "2020-01-31T15:59:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407834",
    "user": "mkoeppe"
}
```

Changing priority from blocker to major.



---

archive/issue_comments_407835.json:
```json
{
    "body": "I will redo this on top of the hot fix - #29121.",
    "created_at": "2020-01-31T15:59:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407835",
    "user": "mkoeppe"
}
```

I will redo this on top of the hot fix - #29121.



---

archive/issue_comments_407836.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-16T20:37:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407836",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_407837.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-16T20:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407837",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407838.json:
```json
{
    "body": "Rebased on 9.1.beta4",
    "created_at": "2020-02-16T20:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407838",
    "user": "mkoeppe"
}
```

Rebased on 9.1.beta4



---

archive/issue_comments_407839.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-22T23:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407839",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407840.json:
```json
{
    "body": "Needs review.",
    "created_at": "2020-02-22T23:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407840",
    "user": "mkoeppe"
}
```

Needs review.



---

archive/issue_comments_407841.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-02T01:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407841",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407842.json:
```json
{
    "body": "Agreed on the first two points in the description.\n\nDon't agree on sage_system_blas_facade and the changes to Makefile.in.  I don't see how it's \"special-purpose code\".  It's a quite generic solution that you seem to be *replacing* with \"special-purpose code\" that's very specific to openblas.  This ticket was needed for more than just blas.",
    "created_at": "2020-03-06T14:40:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407842",
    "user": "embray"
}
```

Agreed on the first two points in the description.

Don't agree on sage_system_blas_facade and the changes to Makefile.in.  I don't see how it's "special-purpose code".  It's a quite generic solution that you seem to be *replacing* with "special-purpose code" that's very specific to openblas.  This ticket was needed for more than just blas.



---

archive/issue_comments_407843.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-03-06T14:42:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407843",
    "user": "embray"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_407844.json:
```json
{
    "body": "Is my ticket handling the `gsl.pc` correctly? Which packages use this file?",
    "created_at": "2020-03-07T03:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407844",
    "user": "mkoeppe"
}
```

Is my ticket handling the `gsl.pc` correctly? Which packages use this file?



---

archive/issue_comments_407845.json:
```json
{
    "body": "I also don't quite understand the need to create a special script package, instead of adjusting `build/make/Makefile.in`.\n\nIs there a technical problem?",
    "created_at": "2020-03-19T03:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407845",
    "user": "dimpase"
}
```

I also don't quite understand the need to create a special script package, instead of adjusting `build/make/Makefile.in`.

Is there a technical problem?



---

archive/issue_comments_407846.json:
```json
{
    "body": "It seemed to be an elegant solution when I wrote this a month ago",
    "created_at": "2020-03-19T03:49:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407846",
    "user": "mkoeppe"
}
```

It seemed to be an elegant solution when I wrote this a month ago



---

archive/issue_comments_407847.json:
```json
{
    "body": "It seems that your package handles more that blas/lapack pc files, no?\nPerhaps it just is wrongly named?",
    "created_at": "2020-03-19T03:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407847",
    "user": "dimpase"
}
```

It seems that your package handles more that blas/lapack pc files, no?
Perhaps it just is wrongly named?



---

archive/issue_comments_407848.json:
```json
{
    "body": "That's basically my question regarding gsl.pc above, I guess.",
    "created_at": "2020-03-19T03:59:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407848",
    "user": "mkoeppe"
}
```

That's basically my question regarding gsl.pc above, I guess.



---

archive/issue_comments_407849.json:
```json
{
    "body": "there is also a bug: PKG_CONFIG_PATH is pointing to the wrong directory, so these\nnewly installed pc files are not found:\n\n```\n(sage-sh) dima@fedora:sagetrac-mirror$ echo $PKG_CONFIG_PATH\n/home/dima/sagetrac-mirror/local/lib/pkgconfig:.\n(sage-sh) dima@fedora:sagetrac-mirror$ find . -name cblas.pc\n./build/pkgs/sage_system_blas_facade/src/cblas.pc\n./src/lib/pkgconfig/cblas.pc\n```\n",
    "created_at": "2020-03-19T04:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407849",
    "user": "dimpase"
}
```

there is also a bug: PKG_CONFIG_PATH is pointing to the wrong directory, so these
newly installed pc files are not found:

```
(sage-sh) dima@fedora:sagetrac-mirror$ echo $PKG_CONFIG_PATH
/home/dima/sagetrac-mirror/local/lib/pkgconfig:.
(sage-sh) dima@fedora:sagetrac-mirror$ find . -name cblas.pc
./build/pkgs/sage_system_blas_facade/src/cblas.pc
./src/lib/pkgconfig/cblas.pc
```




---

archive/issue_comments_407850.json:
```json
{
    "body": "oops, I mean, they are just not installed at all.\nPKG_CONFIG_PATH is correct, but pc files are not there, or anywhere, except the old location",
    "created_at": "2020-03-19T04:14:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407850",
    "user": "dimpase"
}
```

oops, I mean, they are just not installed at all.
PKG_CONFIG_PATH is correct, but pc files are not there, or anywhere, except the old location



---

archive/issue_comments_407851.json:
```json
{
    "body": "Feel free to make changes -- otherwise I can look into it tomorrow",
    "created_at": "2020-03-19T04:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407851",
    "user": "mkoeppe"
}
```

Feel free to make changes -- otherwise I can look into it tomorrow



---

archive/issue_comments_407852.json:
```json
{
    "body": "What does `build/pkgs/sage_system_blas_facade/spkg-install` look like on your machine?",
    "created_at": "2020-03-19T04:34:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407852",
    "user": "mkoeppe"
}
```

What does `build/pkgs/sage_system_blas_facade/spkg-install` look like on your machine?



---

archive/issue_comments_407853.json:
```json
{
    "body": "here it is:\n{{{#! /usr/bin/env bash\nPCFILES=\"blas.pccblas.pclapack.pc\"\nSAGE_PKGCONFIG=\"$SAGE_LOCAL/lib/pkgconfig\"\nmkdir -p \"$SAGE_PKGCONFIG\"\nif [ -n \"$PCFILES\" ]; then\n   cd build/pkgs/sage_system_blas_facade/src && cp -P $PCFILES \"$SAGE_PKGCONFIG\"\nfi\n```\n\nalso note that the original openblas.pc is in SAGE_ROOT",
    "created_at": "2020-03-19T04:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407853",
    "user": "dimpase"
}
```

here it is:
{{{#! /usr/bin/env bash
PCFILES="blas.pccblas.pclapack.pc"
SAGE_PKGCONFIG="$SAGE_LOCAL/lib/pkgconfig"
mkdir -p "$SAGE_PKGCONFIG"
if [ -n "$PCFILES" ]; then
   cd build/pkgs/sage_system_blas_facade/src && cp -P $PCFILES "$SAGE_PKGCONFIG"
fi
```

also note that the original openblas.pc is in SAGE_ROOT



---

archive/issue_comments_407854.json:
```json
{
    "body": "Looks like some spaces are missing",
    "created_at": "2020-03-19T04:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407854",
    "user": "mkoeppe"
}
```

Looks like some spaces are missing



---

archive/issue_comments_407855.json:
```json
{
    "body": "indeed, one needs\n\n```diff\n--- a/build/pkgs/openblas/spkg-configure.m4\n+++ b/build/pkgs/openblas/spkg-configure.m4\n@@ -37,7 +37,7 @@ SAGE_SPKG_CONFIGURE([openblas], [dnl CHECK\n        m4_foreach([blaslibnam], [blas, cblas, lapack], [\n         AS_IF([test x$sage_install_]blaslibnam[_pc = xyes], [\n          AC_CONFIG_LINKS([build/pkgs/sage_system_blas_facade/src/]blaslibnam[.pc:$OPENBLASPCDIR/openblas.pc])\n-         AS_VAR_APPEND([SAGE_SYSTEM_BLAS_FACADE_PC_FILES], blaslibnam[.pc])])\n+         AS_VAR_APPEND([SAGE_SYSTEM_BLAS_FACADE_PC_FILES], [blaslibnam[.pc]' '])])\n          AC_SUBST([SAGE_BLAS], [sage_system_blas_facade])\n        ])\n     ])\n```\n",
    "created_at": "2020-03-19T06:47:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407855",
    "user": "dimpase"
}
```

indeed, one needs

```diff
--- a/build/pkgs/openblas/spkg-configure.m4
+++ b/build/pkgs/openblas/spkg-configure.m4
@@ -37,7 +37,7 @@ SAGE_SPKG_CONFIGURE([openblas], [dnl CHECK
        m4_foreach([blaslibnam], [blas, cblas, lapack], [
         AS_IF([test x$sage_install_]blaslibnam[_pc = xyes], [
          AC_CONFIG_LINKS([build/pkgs/sage_system_blas_facade/src/]blaslibnam[.pc:$OPENBLASPCDIR/openblas.pc])
-         AS_VAR_APPEND([SAGE_SYSTEM_BLAS_FACADE_PC_FILES], blaslibnam[.pc])])
+         AS_VAR_APPEND([SAGE_SYSTEM_BLAS_FACADE_PC_FILES], [blaslibnam[.pc]' '])])
          AC_SUBST([SAGE_BLAS], [sage_system_blas_facade])
        ])
     ])
```




---

archive/issue_comments_407856.json:
```json
{
    "body": "but this does not make any difference. As far as I can see, `spkg-install` of `sage_system_blas_facade` never gets run - I'm lost in untangling the reason for this.",
    "created_at": "2020-03-19T13:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407856",
    "user": "dimpase"
}
```

but this does not make any difference. As far as I can see, `spkg-install` of `sage_system_blas_facade` never gets run - I'm lost in untangling the reason for this.



---

archive/issue_comments_407857.json:
```json
{
    "body": "OK, I'll take care of it later today.",
    "created_at": "2020-03-19T13:44:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407857",
    "user": "mkoeppe"
}
```

OK, I'll take care of it later today.



---

archive/issue_comments_407858.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2020-03-19T15:11:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407858",
    "user": "dimpase"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_407859.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-03-20T22:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407859",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_407860.json:
```json
{
    "body": "Branch is on top of #29287",
    "created_at": "2020-03-20T22:44:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407860",
    "user": "mkoeppe"
}
```

Branch is on top of #29287



---

archive/issue_comments_407861.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-21T02:05:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407861",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407862.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-21T02:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407862",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407863.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2020-03-21T08:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407863",
    "user": "dimpase"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_407864.json:
```json
{
    "body": "this prevents building on Fedora after distclean",
    "created_at": "2020-03-21T08:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407864",
    "user": "dimpase"
}
```

this prevents building on Fedora after distclean



---

archive/issue_comments_407865.json:
```json
{
    "body": "I'm working on a simpler version of this ticket.",
    "created_at": "2020-03-21T12:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407865",
    "user": "mkoeppe"
}
```

I'm working on a simpler version of this ticket.



---

archive/issue_comments_407866.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-21T18:30:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407866",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_407867.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-21T18:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407867",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407868.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-21T18:34:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407868",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407869.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-21T19:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407869",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407870.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-22T02:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407870",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_407871.json:
```json
{
    "body": "Error with gsl.pc for `local-homebrew-macos-standard` - https://github.com/mkoeppe/sage/runs/524361197",
    "created_at": "2020-03-22T02:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407871",
    "user": "mkoeppe"
}
```

Error with gsl.pc for `local-homebrew-macos-standard` - https://github.com/mkoeppe/sage/runs/524361197



---

archive/issue_comments_407872.json:
```json
{
    "body": "also `ubuntu-bionic-standard` (sagelib and cvxopt)",
    "created_at": "2020-03-22T02:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407872",
    "user": "mkoeppe"
}
```

also `ubuntu-bionic-standard` (sagelib and cvxopt)



---

archive/issue_comments_407873.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-22T02:59:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407873",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407874.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-22T02:59:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407874",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407875.json:
```json
{
    "body": "Tests run at https://github.com/mkoeppe/sage/actions/runs/60588138",
    "created_at": "2020-03-22T02:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407875",
    "user": "mkoeppe"
}
```

Tests run at https://github.com/mkoeppe/sage/actions/runs/60588138



---

archive/issue_comments_407876.json:
```json
{
    "body": "OK, this does the needed job. Perhaps the make rules could be made less explicit, but OK.",
    "created_at": "2020-03-22T09:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407876",
    "user": "dimpase"
}
```

OK, this does the needed job. Perhaps the make rules could be made less explicit, but OK.



---

archive/issue_comments_407877.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-22T09:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407877",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_407878.json:
```json
{
    "body": "Thanks!",
    "created_at": "2020-03-22T09:27:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407878",
    "user": "mkoeppe"
}
```

Thanks!



---

archive/issue_comments_407879.json:
```json
{
    "body": "Make distclean deletes `src/lib/pkgconfig/.gitignore`",
    "created_at": "2020-03-23T23:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407879",
    "user": "vbraun"
}
```

Make distclean deletes `src/lib/pkgconfig/.gitignore`



---

archive/issue_comments_407880.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-03-23T23:22:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407880",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_407881.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-23T23:26:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407881",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407882.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-23T23:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407882",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407883.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-24T03:32:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407883",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_407884.json:
```json
{
    "body": "ok. sorry for overlooking this.",
    "created_at": "2020-03-24T03:32:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407884",
    "user": "dimpase"
}
```

ok. sorry for overlooking this.



---

archive/issue_comments_407885.json:
```json
{
    "body": "Thanks",
    "created_at": "2020-03-24T03:33:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407885",
    "user": "mkoeppe"
}
```

Thanks



---

archive/issue_comments_407886.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-29T00:24:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28845#issuecomment-407886",
    "user": "vbraun"
}
```

Resolution: fixed
