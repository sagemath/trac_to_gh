# Issue 13677: Enhanced debugging: cygdb and better backtraces

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2012-12-29 20:56:51

Assignee: GeorgSWeber




---

Comment by vbraun created at 2012-12-29 21:03:10

* Make Cython emit debugging information (unless `SAGE_DEBUG=no`). This costs only a bit of disk space.


---

Comment by vbraun created at 2012-12-30 10:48:33

Changing status from new to needs_review.


---

Comment by vbraun created at 2012-12-30 18:22:47

Rediffed, was accidentally based on an old version of #13669


---

Comment by jdemeyer created at 2012-12-31 10:23:26

Any reason why you don't always use `cygdb` instead of `gdb`?

Also, while you're at it, can you change

```
python `which cython`
```

by

```
cython
```



---

Comment by vbraun created at 2012-12-31 10:37:44

I wouldn't mind always using cygdb, but there might be compatibility issues with gdb versions as the Python support needs a relatively new version. How about we default to cygdb unless `SAGE_DEBUG=no`?


---

Comment by vbraun created at 2012-12-31 10:41:17

Updated patch


---

Attachment


---

Comment by SimonKing created at 2013-01-01 15:43:55

[attachment:trac_13881_launch_cygdb.patch] doesn't apply for me. Even though I have #13669 applied on top of sage-5.6.b1.


---

Comment by SimonKing created at 2013-01-01 16:07:17

Got it!

I did not have the latest version of #13669 applied, but only a preliminary version with improper quotation marks. So, it should work<sup>(T)</sup> now.


---

Comment by SimonKing created at 2013-01-01 16:17:43

What needs to be done in order to make it work?

I have now both patches applied, did sage -b, but sage -gdb gives me

```
----------------------------------------------------------------------
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
Usage: cygdb [PATH [GDB_ARGUMENTS]].
No debug files were found in /home/simon/SAGE/debug/sage-5.6.beta1/devel/sage. Aborting.
```



---

Comment by vbraun created at 2013-01-01 16:20:07

You need to rebuild the Sage library once (`sage -ba`)


---

Comment by jdemeyer created at 2013-01-04 09:21:41

You should use spaces instead of TABs for indentation in [attachment:trac_13881_launch_cygdb.patch]


---

Comment by vbraun created at 2013-01-04 14:41:10

There was another place where tabs where used for indentation, fixed that as well.


---

Comment by jdemeyer created at 2013-01-04 20:57:50

Those other TABs are already fixed by #13899, so I'm removing that hunk.


---

Attachment

Updated patch


---

Comment by jdemeyer created at 2013-01-07 09:25:39

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-01-07 20:57:54

Resolution: fixed
