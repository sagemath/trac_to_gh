# Issue 13677: Enhanced debugging: cygdb and better backtraces

archive/issues_013677.json:
```json
{
    "body": "Assignee: GeorgSWeber\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/13881\n\n",
    "created_at": "2012-12-29T20:56:51Z",
    "labels": [
        "build",
        "major",
        "enhancement"
    ],
    "title": "Enhanced debugging: cygdb and better backtraces",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13677",
    "user": "vbraun"
}
```
Assignee: GeorgSWeber



Issue created by migration from https://trac.sagemath.org/ticket/13881





---

archive/issue_comments_169480.json:
```json
{
    "body": "* Make Cython emit debugging information (unless `SAGE_DEBUG=no`). This costs only a bit of disk space.",
    "created_at": "2012-12-29T21:03:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169480",
    "user": "vbraun"
}
```

* Make Cython emit debugging information (unless `SAGE_DEBUG=no`). This costs only a bit of disk space.



---

archive/issue_comments_169481.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-12-30T10:48:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169481",
    "user": "vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_169482.json:
```json
{
    "body": "Rediffed, was accidentally based on an old version of #13669",
    "created_at": "2012-12-30T18:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169482",
    "user": "vbraun"
}
```

Rediffed, was accidentally based on an old version of #13669



---

archive/issue_comments_169483.json:
```json
{
    "body": "Any reason why you don't always use `cygdb` instead of `gdb`?\n\nAlso, while you're at it, can you change\n\n```\npython `which cython`\n```\n\nby\n\n```\ncython\n```\n",
    "created_at": "2012-12-31T10:23:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169483",
    "user": "jdemeyer"
}
```

Any reason why you don't always use `cygdb` instead of `gdb`?

Also, while you're at it, can you change

```
python `which cython`
```

by

```
cython
```




---

archive/issue_comments_169484.json:
```json
{
    "body": "I wouldn't mind always using cygdb, but there might be compatibility issues with gdb versions as the Python support needs a relatively new version. How about we default to cygdb unless `SAGE_DEBUG=no`?",
    "created_at": "2012-12-31T10:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169484",
    "user": "vbraun"
}
```

I wouldn't mind always using cygdb, but there might be compatibility issues with gdb versions as the Python support needs a relatively new version. How about we default to cygdb unless `SAGE_DEBUG=no`?



---

archive/issue_comments_169485.json:
```json
{
    "body": "Updated patch",
    "created_at": "2012-12-31T10:41:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169485",
    "user": "vbraun"
}
```

Updated patch



---

archive/issue_comments_169486.json:
```json
{
    "body": "Attachment",
    "created_at": "2012-12-31T10:42:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169486",
    "user": "vbraun"
}
```

Attachment



---

archive/issue_comments_169487.json:
```json
{
    "body": "[attachment:trac_13881_launch_cygdb.patch] doesn't apply for me. Even though I have #13669 applied on top of sage-5.6.b1.",
    "created_at": "2013-01-01T15:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169487",
    "user": "SimonKing"
}
```

[attachment:trac_13881_launch_cygdb.patch] doesn't apply for me. Even though I have #13669 applied on top of sage-5.6.b1.



---

archive/issue_comments_169488.json:
```json
{
    "body": "Got it!\n\nI did not have the latest version of #13669 applied, but only a preliminary version with improper quotation marks. So, it should work<sup>(T)</sup> now.",
    "created_at": "2013-01-01T16:07:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169488",
    "user": "SimonKing"
}
```

Got it!

I did not have the latest version of #13669 applied, but only a preliminary version with improper quotation marks. So, it should work<sup>(T)</sup> now.



---

archive/issue_comments_169489.json:
```json
{
    "body": "What needs to be done in order to make it work?\n\nI have now both patches applied, did sage -b, but sage -gdb gives me\n\n```\n----------------------------------------------------------------------\n----------------------------------------------------------------------\n**********************************************************************\n*                                                                    *\n* Warning: this is a prerelease version, and it may be unstable.     *\n*                                                                    *\n**********************************************************************\nUsage: cygdb [PATH [GDB_ARGUMENTS]].\nNo debug files were found in /home/simon/SAGE/debug/sage-5.6.beta1/devel/sage. Aborting.\n```\n",
    "created_at": "2013-01-01T16:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169489",
    "user": "SimonKing"
}
```

What needs to be done in order to make it work?

I have now both patches applied, did sage -b, but sage -gdb gives me

```
----------------------------------------------------------------------
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
Usage: cygdb [PATH [GDB_ARGUMENTS]].
No debug files were found in /home/simon/SAGE/debug/sage-5.6.beta1/devel/sage. Aborting.
```




---

archive/issue_comments_169490.json:
```json
{
    "body": "You need to rebuild the Sage library once (`sage -ba`)",
    "created_at": "2013-01-01T16:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169490",
    "user": "vbraun"
}
```

You need to rebuild the Sage library once (`sage -ba`)



---

archive/issue_comments_169491.json:
```json
{
    "body": "You should use spaces instead of TABs for indentation in [attachment:trac_13881_launch_cygdb.patch]",
    "created_at": "2013-01-04T09:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169491",
    "user": "jdemeyer"
}
```

You should use spaces instead of TABs for indentation in [attachment:trac_13881_launch_cygdb.patch]



---

archive/issue_comments_169492.json:
```json
{
    "body": "There was another place where tabs where used for indentation, fixed that as well.",
    "created_at": "2013-01-04T14:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169492",
    "user": "vbraun"
}
```

There was another place where tabs where used for indentation, fixed that as well.



---

archive/issue_comments_169493.json:
```json
{
    "body": "Those other TABs are already fixed by #13899, so I'm removing that hunk.",
    "created_at": "2013-01-04T20:57:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169493",
    "user": "jdemeyer"
}
```

Those other TABs are already fixed by #13899, so I'm removing that hunk.



---

archive/issue_comments_169494.json:
```json
{
    "body": "Attachment\n\nUpdated patch",
    "created_at": "2013-01-04T20:58:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169494",
    "user": "jdemeyer"
}
```

Attachment

Updated patch



---

archive/issue_comments_169495.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-07T09:25:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169495",
    "user": "jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_169496.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-01-07T20:57:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169496",
    "user": "jdemeyer"
}
```

Resolution: fixed
