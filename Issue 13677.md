# Issue 13677: Enhanced debugging: cygdb and better backtraces

archive/issues_013677.json:
```json
{
    "body": "Assignee: GeorgSWeber\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/13881\n\n",
    "created_at": "2012-12-29T20:56:51Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.6",
    "title": "Enhanced debugging: cygdb and better backtraces",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13677",
    "user": "https://github.com/vbraun"
}
```
Assignee: GeorgSWeber



Issue created by migration from https://trac.sagemath.org/ticket/13881





---

archive/issue_comments_169232.json:
```json
{
    "body": "* Make Cython emit debugging information (unless `SAGE_DEBUG=no`). This costs only a bit of disk space.",
    "created_at": "2012-12-29T21:03:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169232",
    "user": "https://github.com/vbraun"
}
```

* Make Cython emit debugging information (unless `SAGE_DEBUG=no`). This costs only a bit of disk space.



---

archive/issue_comments_169233.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-12-30T10:48:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169233",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_169234.json:
```json
{
    "body": "Rediffed, was accidentally based on an old version of #13669",
    "created_at": "2012-12-30T18:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169234",
    "user": "https://github.com/vbraun"
}
```

Rediffed, was accidentally based on an old version of #13669



---

archive/issue_comments_169235.json:
```json
{
    "body": "Any reason why you don't always use `cygdb` instead of `gdb`?\n\nAlso, while you're at it, can you change\n\n```\npython `which cython`\n```\n\nby\n\n```\ncython\n```\n",
    "created_at": "2012-12-31T10:23:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169235",
    "user": "https://github.com/jdemeyer"
}
```

Any reason why you don't always use `cygdb` instead of `gdb`?

Also, while you're at it, can you change

```
python `which cython`
```

by

```
cython
```




---

archive/issue_comments_169236.json:
```json
{
    "body": "I wouldn't mind always using cygdb, but there might be compatibility issues with gdb versions as the Python support needs a relatively new version. How about we default to cygdb unless `SAGE_DEBUG=no`?",
    "created_at": "2012-12-31T10:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169236",
    "user": "https://github.com/vbraun"
}
```

I wouldn't mind always using cygdb, but there might be compatibility issues with gdb versions as the Python support needs a relatively new version. How about we default to cygdb unless `SAGE_DEBUG=no`?



---

archive/issue_comments_169237.json:
```json
{
    "body": "Updated patch",
    "created_at": "2012-12-31T10:41:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169237",
    "user": "https://github.com/vbraun"
}
```

Updated patch



---

archive/issue_comments_169238.json:
```json
{
    "body": "Attachment [trac_13881_cython_debug_symbols.patch](tarball://root/attachments/some-uuid/ticket13881/trac_13881_cython_debug_symbols.patch) by @vbraun created at 2012-12-31 10:42:56",
    "created_at": "2012-12-31T10:42:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169238",
    "user": "https://github.com/vbraun"
}
```

Attachment [trac_13881_cython_debug_symbols.patch](tarball://root/attachments/some-uuid/ticket13881/trac_13881_cython_debug_symbols.patch) by @vbraun created at 2012-12-31 10:42:56



---

archive/issue_comments_169239.json:
```json
{
    "body": "[attachment:trac_13881_launch_cygdb.patch] doesn't apply for me. Even though I have #13669 applied on top of sage-5.6.b1.",
    "created_at": "2013-01-01T15:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169239",
    "user": "https://github.com/simon-king-jena"
}
```

[attachment:trac_13881_launch_cygdb.patch] doesn't apply for me. Even though I have #13669 applied on top of sage-5.6.b1.



---

archive/issue_comments_169240.json:
```json
{
    "body": "Got it!\n\nI did not have the latest version of #13669 applied, but only a preliminary version with improper quotation marks. So, it should work<sup>(T)</sup> now.",
    "created_at": "2013-01-01T16:07:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169240",
    "user": "https://github.com/simon-king-jena"
}
```

Got it!

I did not have the latest version of #13669 applied, but only a preliminary version with improper quotation marks. So, it should work<sup>(T)</sup> now.



---

archive/issue_comments_169241.json:
```json
{
    "body": "What needs to be done in order to make it work?\n\nI have now both patches applied, did sage -b, but sage -gdb gives me\n\n```\n----------------------------------------------------------------------\n----------------------------------------------------------------------\n**********************************************************************\n*                                                                    *\n* Warning: this is a prerelease version, and it may be unstable.     *\n*                                                                    *\n**********************************************************************\nUsage: cygdb [PATH [GDB_ARGUMENTS]].\nNo debug files were found in /home/simon/SAGE/debug/sage-5.6.beta1/devel/sage. Aborting.\n```\n",
    "created_at": "2013-01-01T16:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169241",
    "user": "https://github.com/simon-king-jena"
}
```

What needs to be done in order to make it work?

I have now both patches applied, did sage -b, but sage -gdb gives me

```
----------------------------------------------------------------------
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
Usage: cygdb [PATH [GDB_ARGUMENTS]].
No debug files were found in /home/simon/SAGE/debug/sage-5.6.beta1/devel/sage. Aborting.
```




---

archive/issue_comments_169242.json:
```json
{
    "body": "You need to rebuild the Sage library once (`sage -ba`)",
    "created_at": "2013-01-01T16:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169242",
    "user": "https://github.com/vbraun"
}
```

You need to rebuild the Sage library once (`sage -ba`)



---

archive/issue_comments_169243.json:
```json
{
    "body": "You should use spaces instead of TABs for indentation in [attachment:trac_13881_launch_cygdb.patch]",
    "created_at": "2013-01-04T09:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169243",
    "user": "https://github.com/jdemeyer"
}
```

You should use spaces instead of TABs for indentation in [attachment:trac_13881_launch_cygdb.patch]



---

archive/issue_comments_169244.json:
```json
{
    "body": "There was another place where tabs where used for indentation, fixed that as well.",
    "created_at": "2013-01-04T14:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169244",
    "user": "https://github.com/vbraun"
}
```

There was another place where tabs where used for indentation, fixed that as well.



---

archive/issue_comments_169245.json:
```json
{
    "body": "Those other TABs are already fixed by #13899, so I'm removing that hunk.",
    "created_at": "2013-01-04T20:57:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169245",
    "user": "https://github.com/jdemeyer"
}
```

Those other TABs are already fixed by #13899, so I'm removing that hunk.



---

archive/issue_comments_169246.json:
```json
{
    "body": "Attachment [trac_13881_launch_cygdb.patch](tarball://root/attachments/some-uuid/ticket13881/trac_13881_launch_cygdb.patch) by @jdemeyer created at 2013-01-04 20:58:04\n\nUpdated patch",
    "created_at": "2013-01-04T20:58:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169246",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [trac_13881_launch_cygdb.patch](tarball://root/attachments/some-uuid/ticket13881/trac_13881_launch_cygdb.patch) by @jdemeyer created at 2013-01-04 20:58:04

Updated patch



---

archive/issue_comments_169247.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-07T09:25:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169247",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_013522.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-07T20:57:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13677#event-13522"
}
```



---

archive/issue_comments_169248.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-01-07T20:57:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13677",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13677#issuecomment-169248",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
