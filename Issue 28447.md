# Issue 28447: Fixing precision of Tate elliptic curves over Qp

archive/issues_028447.json:
```json
{
    "body": "CC:  wuthrich\n\nWhile reviewing #28645, I noticed a couple of problems in the file:\n\n`src/sage/schemes/elliptic_curves/ell_tate_curve.py`\n\n1- We are always hitting `AttributeError` in the `try` blocks in `def parameter`, `def curve`, and `def _Csquare`, as it should be calling `precision_absolute` instead of `absolute_precision`\n\n2- We should be checking `precision_relative`\n\n3- If one fixes the above, the code would return the items with perhaps more precision than desired.\n\nI have fixed the 3 items\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/28684\n\n",
    "created_at": "2019-11-01T16:39:05Z",
    "labels": [
        "elliptic curves",
        "major",
        "enhancement"
    ],
    "title": "Fixing precision of Tate elliptic curves over Qp",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28447",
    "user": "edgarcosta"
}
```
CC:  wuthrich

While reviewing #28645, I noticed a couple of problems in the file:

`src/sage/schemes/elliptic_curves/ell_tate_curve.py`

1- We are always hitting `AttributeError` in the `try` blocks in `def parameter`, `def curve`, and `def _Csquare`, as it should be calling `precision_absolute` instead of `absolute_precision`

2- We should be checking `precision_relative`

3- If one fixes the above, the code would return the items with perhaps more precision than desired.

I have fixed the 3 items


Issue created by migration from https://trac.sagemath.org/ticket/28684





---

archive/issue_comments_401769.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-11-01T16:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401769",
    "user": "edgarcosta"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_401770.json:
```json
{
    "body": "failing doctests, see patchbot",
    "created_at": "2019-11-01T19:35:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401770",
    "user": "chapoton"
}
```

failing doctests, see patchbot



---

archive/issue_comments_401771.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-01T21:03:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401771",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_401772.json:
```json
{
    "body": "Sorry about that. I changed the code a bit more and fixed the tests.",
    "created_at": "2019-11-03T15:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401772",
    "user": "edgarcosta"
}
```

Sorry about that. I changed the code a bit more and fixed the tests.



---

archive/issue_comments_401773.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-03T15:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401773",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_401774.json:
```json
{
    "body": "Oh, sorry I only spotted now that this was opened. I will review this.",
    "created_at": "2019-12-06T21:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401774",
    "user": "wuthrich"
}
```

Oh, sorry I only spotted now that this was opened. I will review this.



---

archive/issue_comments_401775.json:
```json
{
    "body": "I added some small improvements to the documentation while we are at it. I tested the code and I am happy with it. If the new version is ok on the patchbot, I set it to positive review.\n----\nNew commits:",
    "created_at": "2019-12-07T00:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401775",
    "user": "wuthrich"
}
```

I added some small improvements to the documentation while we are at it. I tested the code and I am happy with it. If the new version is ok on the patchbot, I set it to positive review.
----
New commits:



---

archive/issue_comments_401776.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-12-07T21:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401776",
    "user": "wuthrich"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_401777.json:
```json
{
    "body": "reviewer name should be full name",
    "created_at": "2019-12-08T07:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401777",
    "user": "chapoton"
}
```

reviewer name should be full name



---

archive/issue_comments_401778.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-12-09T22:54:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401778",
    "user": "vbraun"
}
```

Resolution: fixed
