# Issue 28447: Fixing precision of Tate elliptic curves over Qp

archive/issues_028447.json:
```json
{
    "body": "CC:  @categorie\n\nWhile reviewing #28645, I noticed a couple of problems in the file:\n\n`src/sage/schemes/elliptic_curves/ell_tate_curve.py`\n\n1- We are always hitting `AttributeError` in the `try` blocks in `def parameter`, `def curve`, and `def _Csquare`, as it should be calling `precision_absolute` instead of `absolute_precision`\n\n2- We should be checking `precision_relative`\n\n3- If one fixes the above, the code would return the items with perhaps more precision than desired.\n\nI have fixed the 3 items\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/28684\n\n",
    "created_at": "2019-11-01T16:39:05Z",
    "labels": [
        "component: elliptic curves"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Fixing precision of Tate elliptic curves over Qp",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28447",
    "user": "https://github.com/edgarcosta"
}
```
CC:  @categorie

While reviewing #28645, I noticed a couple of problems in the file:

`src/sage/schemes/elliptic_curves/ell_tate_curve.py`

1- We are always hitting `AttributeError` in the `try` blocks in `def parameter`, `def curve`, and `def _Csquare`, as it should be calling `precision_absolute` instead of `absolute_precision`

2- We should be checking `precision_relative`

3- If one fixes the above, the code would return the items with perhaps more precision than desired.

I have fixed the 3 items


Issue created by migration from https://trac.sagemath.org/ticket/28684





---

archive/issue_comments_401326.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-11-01T16:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401326",
    "user": "https://github.com/edgarcosta"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_401327.json:
```json
{
    "body": "failing doctests, see patchbot",
    "created_at": "2019-11-01T19:35:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401327",
    "user": "https://github.com/fchapoton"
}
```

failing doctests, see patchbot



---

archive/issue_comments_401328.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-01T21:03:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401328",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_401329.json:
```json
{
    "body": "Sorry about that. I changed the code a bit more and fixed the tests.",
    "created_at": "2019-11-03T15:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401329",
    "user": "https://github.com/edgarcosta"
}
```

Sorry about that. I changed the code a bit more and fixed the tests.



---

archive/issue_comments_401330.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-03T15:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401330",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_401331.json:
```json
{
    "body": "Oh, sorry I only spotted now that this was opened. I will review this.",
    "created_at": "2019-12-06T21:24:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401331",
    "user": "https://github.com/categorie"
}
```

Oh, sorry I only spotted now that this was opened. I will review this.



---

archive/issue_comments_401332.json:
```json
{
    "body": "I added some small improvements to the documentation while we are at it. I tested the code and I am happy with it. If the new version is ok on the patchbot, I set it to positive review.\n\n---\nNew commits:",
    "created_at": "2019-12-07T00:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401332",
    "user": "https://github.com/categorie"
}
```

I added some small improvements to the documentation while we are at it. I tested the code and I am happy with it. If the new version is ok on the patchbot, I set it to positive review.

---
New commits:



---

archive/issue_comments_401333.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-12-07T21:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401333",
    "user": "https://github.com/categorie"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_401334.json:
```json
{
    "body": "reviewer name should be full name",
    "created_at": "2019-12-08T07:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401334",
    "user": "https://github.com/fchapoton"
}
```

reviewer name should be full name



---

archive/issue_comments_401335.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-12-09T22:54:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28447#issuecomment-401335",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_072260.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-09T22:54:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28447",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28447#event-72260"
}
```
