# Issue 25951: various small python3 fixes

Issue created by migration from https://trac.sagemath.org/ticket/26188

Original creator: chapoton

Original creation time: 2018-09-04 20:07:47

CC:  tscrim

among which: making hash of projective points an int


---

Comment by chapoton created at 2018-09-04 20:11:28

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-09-04 20:11:28

New commits:


---

Comment by chapoton created at 2018-09-05 08:17:11

green bot, please review


---

Comment by tscrim created at 2018-09-05 08:20:36

Changing status from needs_review to needs_info.


---

Comment by tscrim created at 2018-09-05 08:20:36

I am slightly worried about an overflow with the added int for the hash. Have you checked this? (I can check after I am done shopping and eating dinner.)


---

Comment by chapoton created at 2018-09-05 08:28:34

yes, you are right. Maybe one should rather change the hash..


---

Comment by git created at 2018-09-05 20:04:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-09-05 21:25:21

Unfortunately that hash does not seem to be preserved across equality, at least, that is the only reason why I can attribute to those doctest failures on the patchbot. Perhaps instead of summing the `p`-weighted values, we take the xor of them along with an fixed random number?


---

Comment by chapoton created at 2018-09-06 07:31:58

I am not so sure that there is a problem with the hash. Something changes the output order of a function that is supposed to return a set.

Another solution would be to remove the hash for finite fields, so that it is instead inherited from the general case of fields. It triggers very similar errors.


---

Comment by chapoton created at 2018-09-06 07:36:54

I have decided to keep the hash problem for another ticket. There remains only trivial changes.
----
New commits:


---

Comment by tscrim created at 2018-09-06 07:39:23

Okay, LGTM.


---

Comment by tscrim created at 2018-09-06 07:39:23

Changing status from needs_info to positive_review.


---

Comment by embray created at 2018-09-06 09:54:55

I really don't like `list(map(...))` over list comprehensions.


---

Comment by embray created at 2018-09-06 09:54:55

Changing status from positive_review to needs_work.


---

Comment by git created at 2018-09-06 11:38:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-09-06 11:39:55

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2018-09-06 11:39:55

better like that ?


---

Comment by embray created at 2018-09-07 12:27:30

Thank you!  I'm just going to squash the commits and set back to positive review.


---

Comment by git created at 2018-09-07 12:28:27

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2018-09-07 12:28:36

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-09-09 07:38:38

Resolution: fixed
