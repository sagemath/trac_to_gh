# Issue 25951: various small python3 fixes

archive/issues_025951.json:
```json
{
    "body": "CC:  tscrim\n\namong which: making hash of projective points an int\n\nIssue created by migration from https://trac.sagemath.org/ticket/26188\n\n",
    "created_at": "2018-09-04T20:07:47Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "title": "various small python3 fixes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25951",
    "user": "chapoton"
}
```
CC:  tscrim

among which: making hash of projective points an int

Issue created by migration from https://trac.sagemath.org/ticket/26188





---

archive/issue_comments_366006.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-09-04T20:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366006",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_366007.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-09-04T20:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366007",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_366008.json:
```json
{
    "body": "green bot, please review",
    "created_at": "2018-09-05T08:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366008",
    "user": "chapoton"
}
```

green bot, please review



---

archive/issue_comments_366009.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2018-09-05T08:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366009",
    "user": "tscrim"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_366010.json:
```json
{
    "body": "I am slightly worried about an overflow with the added int for the hash. Have you checked this? (I can check after I am done shopping and eating dinner.)",
    "created_at": "2018-09-05T08:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366010",
    "user": "tscrim"
}
```

I am slightly worried about an overflow with the added int for the hash. Have you checked this? (I can check after I am done shopping and eating dinner.)



---

archive/issue_comments_366011.json:
```json
{
    "body": "yes, you are right. Maybe one should rather change the hash..",
    "created_at": "2018-09-05T08:28:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366011",
    "user": "chapoton"
}
```

yes, you are right. Maybe one should rather change the hash..



---

archive/issue_comments_366012.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-05T20:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366012",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_366013.json:
```json
{
    "body": "Unfortunately that hash does not seem to be preserved across equality, at least, that is the only reason why I can attribute to those doctest failures on the patchbot. Perhaps instead of summing the `p`-weighted values, we take the xor of them along with an fixed random number?",
    "created_at": "2018-09-05T21:25:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366013",
    "user": "tscrim"
}
```

Unfortunately that hash does not seem to be preserved across equality, at least, that is the only reason why I can attribute to those doctest failures on the patchbot. Perhaps instead of summing the `p`-weighted values, we take the xor of them along with an fixed random number?



---

archive/issue_comments_366014.json:
```json
{
    "body": "I am not so sure that there is a problem with the hash. Something changes the output order of a function that is supposed to return a set.\n\nAnother solution would be to remove the hash for finite fields, so that it is instead inherited from the general case of fields. It triggers very similar errors.",
    "created_at": "2018-09-06T07:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366014",
    "user": "chapoton"
}
```

I am not so sure that there is a problem with the hash. Something changes the output order of a function that is supposed to return a set.

Another solution would be to remove the hash for finite fields, so that it is instead inherited from the general case of fields. It triggers very similar errors.



---

archive/issue_comments_366015.json:
```json
{
    "body": "I have decided to keep the hash problem for another ticket. There remains only trivial changes.\n----\nNew commits:",
    "created_at": "2018-09-06T07:36:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366015",
    "user": "chapoton"
}
```

I have decided to keep the hash problem for another ticket. There remains only trivial changes.
----
New commits:



---

archive/issue_comments_366016.json:
```json
{
    "body": "Okay, LGTM.",
    "created_at": "2018-09-06T07:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366016",
    "user": "tscrim"
}
```

Okay, LGTM.



---

archive/issue_comments_366017.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2018-09-06T07:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366017",
    "user": "tscrim"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_366018.json:
```json
{
    "body": "I really don't like `list(map(...))` over list comprehensions.",
    "created_at": "2018-09-06T09:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366018",
    "user": "embray"
}
```

I really don't like `list(map(...))` over list comprehensions.



---

archive/issue_comments_366019.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-09-06T09:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366019",
    "user": "embray"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_366020.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-06T11:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366020",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_366021.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-09-06T11:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366021",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_366022.json:
```json
{
    "body": "better like that ?",
    "created_at": "2018-09-06T11:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366022",
    "user": "chapoton"
}
```

better like that ?



---

archive/issue_comments_366023.json:
```json
{
    "body": "Thank you!  I'm just going to squash the commits and set back to positive review.",
    "created_at": "2018-09-07T12:27:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366023",
    "user": "embray"
}
```

Thank you!  I'm just going to squash the commits and set back to positive review.



---

archive/issue_comments_366024.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-09-07T12:28:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366024",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_366025.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-09-07T12:28:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366025",
    "user": "embray"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_366026.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-09-09T07:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-366026",
    "user": "vbraun"
}
```

Resolution: fixed
