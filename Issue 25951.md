# Issue 25951: various small python3 fixes

archive/issues_025951.json:
```json
{
    "body": "CC:  @tscrim\n\namong which: making hash of projective points an int\n\nIssue created by migration from https://trac.sagemath.org/ticket/26188\n\n",
    "created_at": "2018-09-04T20:07:47Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "various small python3 fixes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25951",
    "user": "https://github.com/fchapoton"
}
```
CC:  @tscrim

among which: making hash of projective points an int

Issue created by migration from https://trac.sagemath.org/ticket/26188





---

archive/issue_comments_365597.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-09-04T20:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365597",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_365598.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-09-04T20:11:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365598",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_comments_365599.json:
```json
{
    "body": "green bot, please review",
    "created_at": "2018-09-05T08:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365599",
    "user": "https://github.com/fchapoton"
}
```

green bot, please review



---

archive/issue_comments_365600.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2018-09-05T08:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365600",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_365601.json:
```json
{
    "body": "I am slightly worried about an overflow with the added int for the hash. Have you checked this? (I can check after I am done shopping and eating dinner.)",
    "created_at": "2018-09-05T08:20:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365601",
    "user": "https://github.com/tscrim"
}
```

I am slightly worried about an overflow with the added int for the hash. Have you checked this? (I can check after I am done shopping and eating dinner.)



---

archive/issue_comments_365602.json:
```json
{
    "body": "yes, you are right. Maybe one should rather change the hash..",
    "created_at": "2018-09-05T08:28:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365602",
    "user": "https://github.com/fchapoton"
}
```

yes, you are right. Maybe one should rather change the hash..



---

archive/issue_comments_365603.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-05T20:04:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365603",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_365604.json:
```json
{
    "body": "Unfortunately that hash does not seem to be preserved across equality, at least, that is the only reason why I can attribute to those doctest failures on the patchbot. Perhaps instead of summing the `p`-weighted values, we take the xor of them along with an fixed random number?",
    "created_at": "2018-09-05T21:25:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365604",
    "user": "https://github.com/tscrim"
}
```

Unfortunately that hash does not seem to be preserved across equality, at least, that is the only reason why I can attribute to those doctest failures on the patchbot. Perhaps instead of summing the `p`-weighted values, we take the xor of them along with an fixed random number?



---

archive/issue_comments_365605.json:
```json
{
    "body": "I am not so sure that there is a problem with the hash. Something changes the output order of a function that is supposed to return a set.\n\nAnother solution would be to remove the hash for finite fields, so that it is instead inherited from the general case of fields. It triggers very similar errors.",
    "created_at": "2018-09-06T07:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365605",
    "user": "https://github.com/fchapoton"
}
```

I am not so sure that there is a problem with the hash. Something changes the output order of a function that is supposed to return a set.

Another solution would be to remove the hash for finite fields, so that it is instead inherited from the general case of fields. It triggers very similar errors.



---

archive/issue_comments_365606.json:
```json
{
    "body": "I have decided to keep the hash problem for another ticket. There remains only trivial changes.\n----\nNew commits:",
    "created_at": "2018-09-06T07:36:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365606",
    "user": "https://github.com/fchapoton"
}
```

I have decided to keep the hash problem for another ticket. There remains only trivial changes.
----
New commits:



---

archive/issue_comments_365607.json:
```json
{
    "body": "Okay, LGTM.",
    "created_at": "2018-09-06T07:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365607",
    "user": "https://github.com/tscrim"
}
```

Okay, LGTM.



---

archive/issue_comments_365608.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2018-09-06T07:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365608",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_365609.json:
```json
{
    "body": "I really don't like `list(map(...))` over list comprehensions.",
    "created_at": "2018-09-06T09:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365609",
    "user": "https://github.com/embray"
}
```

I really don't like `list(map(...))` over list comprehensions.



---

archive/issue_comments_365610.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-09-06T09:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365610",
    "user": "https://github.com/embray"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_365611.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-06T11:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365611",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_365612.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-09-06T11:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365612",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_365613.json:
```json
{
    "body": "better like that ?",
    "created_at": "2018-09-06T11:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365613",
    "user": "https://github.com/fchapoton"
}
```

better like that ?



---

archive/issue_comments_365614.json:
```json
{
    "body": "Thank you!  I'm just going to squash the commits and set back to positive review.",
    "created_at": "2018-09-07T12:27:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365614",
    "user": "https://github.com/embray"
}
```

Thank you!  I'm just going to squash the commits and set back to positive review.



---

archive/issue_comments_365615.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-09-07T12:28:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365615",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_365616.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-09-07T12:28:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365616",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_365617.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-09-09T07:38:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25951#issuecomment-365617",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_024124.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2018-09-09T07:38:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/25951",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/25951#event-24124"
}
```
