# Issue 23648: Remove ._element_constructor_ from sage.combinat.binary_tree documentation and be consistent with 'check'

archive/issues_023648.json:
```json
{
    "body": "CC:  @fchapoton simonking @jdemeyer\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/23885\n\n",
    "created_at": "2017-09-18T18:19:52Z",
    "labels": [],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Remove ._element_constructor_ from sage.combinat.binary_tree documentation and be consistent with 'check'",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23648",
    "user": "https://github.com/mantepse"
}
```
CC:  @fchapoton simonking @jdemeyer



Issue created by migration from https://trac.sagemath.org/ticket/23885





---

archive/issue_comments_330914.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2017-09-18T18:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23648#issuecomment-330914",
    "user": "https://github.com/mantepse"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_330915.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-18T18:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23648#issuecomment-330915",
    "user": "https://github.com/mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_330916.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2017-09-18T18:33:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23648#issuecomment-330916",
    "user": "https://github.com/mantepse"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_330917.json:
```json
{
    "body": "It turns out that, together with #23821, honoring `check` *is* useful:\n\nwithout this patch:\n\n```\nsage: FB = BinaryTrees(421, full=True)\nsage: b = FB.random_element()\nsage: %timeit FB(b)\n100 loops, best of 3: 14.7 ms per loop\nsage: %timeit FB(b, check=False)\n100 loops, best of 3: 14.6 ms per loop\n```\n\nwith this patch:\n\n```\nsage: FB = BinaryTrees(421, full=True)\nsage: b = FB.random_element()\nsage: %timeit FB(b)\n100 loops, best of 3: 14.4 ms per loop\nsage: %timeit FB(b, check=False)\n10000 loops, best of 3: 26.9 \u00b5s per loop\n```\n\nSo, the additional checks would actually kill the gain obtained by #23821.",
    "created_at": "2017-09-18T19:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23648#issuecomment-330917",
    "user": "https://github.com/mantepse"
}
```

It turns out that, together with #23821, honoring `check` *is* useful:

without this patch:

```
sage: FB = BinaryTrees(421, full=True)
sage: b = FB.random_element()
sage: %timeit FB(b)
100 loops, best of 3: 14.7 ms per loop
sage: %timeit FB(b, check=False)
100 loops, best of 3: 14.6 ms per loop
```

with this patch:

```
sage: FB = BinaryTrees(421, full=True)
sage: b = FB.random_element()
sage: %timeit FB(b)
100 loops, best of 3: 14.4 ms per loop
sage: %timeit FB(b, check=False)
10000 loops, best of 3: 26.9 Âµs per loop
```

So, the additional checks would actually kill the gain obtained by #23821.



---

archive/issue_comments_330918.json:
```json
{
    "body": "ok",
    "created_at": "2017-11-21T07:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23648#issuecomment-330918",
    "user": "https://github.com/fchapoton"
}
```

ok



---

archive/issue_comments_330919.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-11-21T07:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23648#issuecomment-330919",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_330920.json:
```json
{
    "body": "sorry, there are failing doctests",
    "created_at": "2017-11-21T07:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23648#issuecomment-330920",
    "user": "https://github.com/fchapoton"
}
```

sorry, there are failing doctests



---

archive/issue_comments_330921.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-11-21T07:27:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23648#issuecomment-330921",
    "user": "https://github.com/fchapoton"
}
```

Changing status from positive_review to needs_work.
