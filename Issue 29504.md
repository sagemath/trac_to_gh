# Issue 29504: Bender-Knuth involutions

Issue created by migration from https://trac.sagemath.org/ticket/29741

Original creator: Bruce

Original creation time: 2020-05-27 12:13:11

CC:  kdilks mantepse pfannerer darij tscrim

Keywords: Bender-Knuth, Gelfand-Tsetlin

This implements the Berenstein-Kirillov construction of the Bender-Knuth involutions on Gelfand-tsetlin patterns.


---

Comment by Bruce created at 2020-05-27 12:38:23

New commits:


---

Comment by Bruce created at 2020-05-27 12:38:23

Changing status from new to needs_review.


---

Comment by tscrim created at 2020-05-29 10:43:30

A few little things to fix up.

Instead of `'` in the docstring, you should use ```.

Your `toggle` function is over-indented.

I am a little worried about the assignment `result[r] = ...`. It works, but it could change if the internal workings of the GT patterns change (it is also a little too mutable IMO). I think it would be better to do it more explicitly:

```python
r = n - i
P = self.parent()
data = [list(row) for row in self]
data[r] = [toggle(r,s) for s in range(i)]
return P.element_class(P, data)
```



---

Comment by git created at 2020-05-29 11:47:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2020-05-30 00:26:48

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-05-30 00:26:48

Thanks. LGTM.


---

Comment by chapoton created at 2020-05-30 10:17:56

This is not good:

```diff
+            sage: all(all( G.bender_knuth_involution(i).to_tableau() == G.to_tableau().bender_knuth_involution(i) \
+                   for i in range(1,len(G)) ) for G in GelfandTsetlinPatterns(top_row=[3,3,3,0,0]))
```

and should have used
`....:`}


---

Comment by Bruce created at 2020-05-30 10:54:01

I am not sure what you want me to do.
Write a tester function...?


---

Comment by chapoton created at 2020-05-30 11:22:36

This was just a comment about the line break. In the doc, we never use the character "\" to break the long lines, but use `....:` to start the next logical line.

See for example

https://doc.sagemath.org/html/en/reference/graphs/sage/graphs/spanning_tree.html#sage.graphs.spanning_tree.filter_kruskal_iterator


---

Comment by git created at 2020-05-30 11:44:41

Changing status from positive_review to needs_review.


---

Comment by git created at 2020-05-30 11:44:41

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by tscrim created at 2020-05-31 05:28:29

Thanks for catching that `@`chapoton.


---

Comment by tscrim created at 2020-05-31 05:28:29

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-05-31 23:11:38

Resolution: fixed
