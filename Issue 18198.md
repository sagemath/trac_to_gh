# Issue 18198: Pari testsuite fails on 32-bit

archive/issues_018198.json:
```json
{
    "body": "CC:  jdemeyer pbruin\n\n\n```\n* Testing rnfkummer        gp-sta..BUG [9452]   gp-dyn..BUG [9852]   \n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/18435\n\n",
    "created_at": "2015-05-17T15:26:22Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "title": "Pari testsuite fails on 32-bit",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18198",
    "user": "vbraun"
}
```
CC:  jdemeyer pbruin


```
* Testing rnfkummer        gp-sta..BUG [9452]   gp-dyn..BUG [9852]   
```


Issue created by migration from https://trac.sagemath.org/ticket/18435





---

archive/issue_comments_245566.json:
```json
{
    "body": "Pari test diff file (rnfkummer-dyn.dif is identical)",
    "created_at": "2015-05-17T15:26:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245566",
    "user": "vbraun"
}
```

Pari test diff file (rnfkummer-dyn.dif is identical)



---

archive/issue_comments_245567.json:
```json
{
    "body": "Attachment [rnfkummer-sta.dif](tarball://root/attachments/some-uuid/ticket18435/rnfkummer-sta.dif) by jdemeyer created at 2015-05-18 10:05:19\n\nI assume this is on `arando`?",
    "created_at": "2015-05-18T10:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245567",
    "user": "jdemeyer"
}
```

Attachment [rnfkummer-sta.dif](tarball://root/attachments/some-uuid/ticket18435/rnfkummer-sta.dif) by jdemeyer created at 2015-05-18 10:05:19

I assume this is on `arando`?



---

archive/issue_comments_245568.json:
```json
{
    "body": "Replying to [comment:1 jdemeyer]:\n> I assume this is on `arando`?\n\ncorrect",
    "created_at": "2015-05-18T10:53:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245568",
    "user": "vbraun"
}
```

Replying to [comment:1 jdemeyer]:
> I assume this is on `arando`?

correct



---

archive/issue_comments_245569.json:
```json
{
    "body": "I seem to get a lot of failures with that snapshot on x86_64\n\n```\n        compat-sta.dif\n        elliptic-sta.dif\n        ellpadic-sta.dif\n        factor-sta.dif\n        factormod-sta.dif\n        help-sta.dif\n        ideal-sta.dif\n        linear-sta.dif\n        mathnf-sta.dif\n        nffactor-sta.dif\n        nfields-sta.dif\n        rnf-sta.dif\n        whatnow-sta.dif\n        compat-dyn.dif\n        elliptic-dyn.dif\n        ellpadic-dyn.dif\n        factor-dyn.dif\n        factormod-dyn.dif\n        help-dyn.dif\n        ideal-dyn.dif\n        linear-dyn.dif\n        mathnf-dyn.dif\n        nffactor-dyn.dif\n        nfields-dyn.dif\n        rnf-dyn.dif\n        whatnow-dyn.dif\n```\n\nIt looks like it is all about formatting of the output. Extra space here different line break there. Am I doing something wrong?\n----\nNew commits:",
    "created_at": "2015-05-19T02:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245569",
    "user": "fbissey"
}
```

I seem to get a lot of failures with that snapshot on x86_64

```
        compat-sta.dif
        elliptic-sta.dif
        ellpadic-sta.dif
        factor-sta.dif
        factormod-sta.dif
        help-sta.dif
        ideal-sta.dif
        linear-sta.dif
        mathnf-sta.dif
        nffactor-sta.dif
        nfields-sta.dif
        rnf-sta.dif
        whatnow-sta.dif
        compat-dyn.dif
        elliptic-dyn.dif
        ellpadic-dyn.dif
        factor-dyn.dif
        factormod-dyn.dif
        help-dyn.dif
        ideal-dyn.dif
        linear-dyn.dif
        mathnf-dyn.dif
        nffactor-dyn.dif
        nfields-dyn.dif
        rnf-dyn.dif
        whatnow-dyn.dif
```

It looks like it is all about formatting of the output. Extra space here different line break there. Am I doing something wrong?
----
New commits:



---

archive/issue_comments_245570.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-19T06:01:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245570",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_245571.json:
```json
{
    "body": "No idea, but it works for me. You should probably send the diffs.",
    "created_at": "2015-05-19T06:01:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245571",
    "user": "jdemeyer"
}
```

No idea, but it works for me. You should probably send the diffs.



---

archive/issue_comments_245572.json:
```json
{
    "body": "I get exactly the same pulling git master so I will.",
    "created_at": "2015-05-19T21:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245572",
    "user": "fbissey"
}
```

I get exactly the same pulling git master so I will.



---

archive/issue_comments_245573.json:
```json
{
    "body": "One possible explanation would be a broken GCC. You should try a different version (or build Sage with `SAGE_INSTALL_GCC=yes`)",
    "created_at": "2015-05-20T05:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245573",
    "user": "jdemeyer"
}
```

One possible explanation would be a broken GCC. You should try a different version (or build Sage with `SAGE_INSTALL_GCC=yes`)



---

archive/issue_comments_245574.json:
```json
{
    "body": "I don't believe a broken compiler would produce formatting error where things are of by one space. But I have a suspect, I have been running my tests on gentoo - and usually for something like pari there is no difference compared to sage - but I recently upgraded to gmp 6.0.0a because of a stupid dependency. I am willing to bet that's the culprit.",
    "created_at": "2015-05-20T08:19:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245574",
    "user": "fbissey"
}
```

I don't believe a broken compiler would produce formatting error where things are of by one space. But I have a suspect, I have been running my tests on gentoo - and usually for something like pari there is no difference compared to sage - but I recently upgraded to gmp 6.0.0a because of a stupid dependency. I am willing to bet that's the culprit.



---

archive/issue_comments_245575.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-06-10T12:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245575",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_245576.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-06-10T13:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245576",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_245577.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-06-22T08:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245577",
    "user": "pbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_245578.json:
```json
{
    "body": "Looks good, and PARI test suite and Sage doctests pass on 32-bit ARM with GNU/Linux.  I didn't check whether the test suite used to fail on the same machine, though.  [Edit: I just checked, and it did fail.]",
    "created_at": "2015-06-22T08:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245578",
    "user": "pbruin"
}
```

Looks good, and PARI test suite and Sage doctests pass on 32-bit ARM with GNU/Linux.  I didn't check whether the test suite used to fail on the same machine, though.  [Edit: I just checked, and it did fail.]



---

archive/issue_comments_245579.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-06-22T22:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18198#issuecomment-245579",
    "user": "vbraun"
}
```

Resolution: fixed
