# Issue 18499: Fix deprecation in conway_polynomials spkg-install

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2015-06-19 10:25:14

When installing `conway_polynomials`:

```
./spkg-install:7: DeprecationWarning: 
Importing SAGE_SHARE from here is deprecated. If you need to use it, please import it directly from sage.env
See http://trac.sagemath.org/17460 for details.
  install_root = os.path.join(SAGE_SHARE, 'conway_polynomials')
```



---

Comment by jdemeyer created at 2015-06-19 10:58:23

New commits:


---

Comment by jdemeyer created at 2015-06-19 10:58:23

Changing status from new to needs_review.


---

Comment by fbissey created at 2015-06-19 11:02:08

Yes I remember noticing that when there was that problem with `conway_polynomials` on sage-devel. Before putting this to positive review because it is trivial, what would you say about making it independent of `SAGE_RUNTIME`?
https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/sage-data-conway_polynomials/files/spkg-install


---

Comment by jdemeyer created at 2015-06-19 11:05:50

Replying to [comment:3 fbissey]:
> what would you say about making it independent of `SAGE_RUNTIME`?
What's the advantage of doing that?


---

Comment by fbissey created at 2015-06-19 11:19:42

The only immediate payload is that sage doesn't need to be installed to then install `conway_polynomial`, which has always bothered me because sage itself won't start if `conway_polynomial` is not installed. Of course sage is never started for the installation.

Thinking further ahead, I did this in sage-on-gentoo because it will enable me to install all the runtime dependencies of sage before sage itself. In turn, thanks to that, I may be able to run the testsuite before installing sage like most other software packages.

But we do not to do this here.


---

Comment by fbissey created at 2015-06-19 11:19:42

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2015-06-19 11:28:26

Replying to [comment:5 fbissey]:
> sage itself won't start if `conway_polynomial` is not installed.
That's false. Sage can start even if `conway_polynomials` is not installed. Of course, not all doctests will pass.

> I may be able to run the testsuite before installing sage like most other software packages.
I understand.


---

Comment by fbissey created at 2015-06-19 11:53:19

Replying to [comment:6 jdemeyer]:
> Replying to [comment:5 fbissey]:
> > sage itself won't start if `conway_polynomial` is not installed.
> That's false. Sage can start even if `conway_polynomials` is not installed. 

That part doesn't match my previous experience, but I haven't tried recently so you may be right.


---

Comment by vbraun created at 2015-06-20 09:20:06

Resolution: fixed
