# Issue 16474: Upgrade R to version 3.1.1

archive/issues_016474.json:
```json
{
    "body": "Keywords: r-project\n\nSame reasons as usual.\n\nLink to **renamed** upstream source : [https://drive.google.com/file/d/0B1gfn4_V_wm3ZzZ4bmtQb1gtSWc/edit?usp=sharing](https://drive.google.com/file/d/0B1gfn4_V_wm3ZzZ4bmtQb1gtSWc/edit?usp=sharing)\n\nIssue created by migration from https://trac.sagemath.org/ticket/16711\n\n",
    "created_at": "2014-07-24T19:50:21Z",
    "labels": [
        "component: packages: standard",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Upgrade R to version 3.1.1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16474",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
Keywords: r-project

Same reasons as usual.

Link to **renamed** upstream source : [https://drive.google.com/file/d/0B1gfn4_V_wm3ZzZ4bmtQb1gtSWc/edit?usp=sharing](https://drive.google.com/file/d/0B1gfn4_V_wm3ZzZ4bmtQb1gtSWc/edit?usp=sharing)

Issue created by migration from https://trac.sagemath.org/ticket/16711





---

archive/issue_comments_216326.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-07-24T20:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216326",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_216327.json:
```json
{
    "body": "Candidate for review. Uneventful drop-in.\n----\nNew commits:",
    "created_at": "2014-07-24T20:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216327",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Candidate for review. Uneventful drop-in.
----
New commits:



---

archive/issue_comments_216328.json:
```json
{
    "body": "Hellooooooooooo !\n\nI added a commit to your branch on public/16711. It adds a couple of line to spkg-src so that it is (even) easier to update this spkg. If you agree with it you can set this ticket to `positive_review` `:-)`\n\nNathann",
    "created_at": "2014-07-25T10:03:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216328",
    "user": "https://github.com/nathanncohen"
}
```

Hellooooooooooo !

I added a commit to your branch on public/16711. It adds a couple of line to spkg-src so that it is (even) easier to update this spkg. If you agree with it you can set this ticket to `positive_review` `:-)`

Nathann



---

archive/issue_comments_216329.json:
```json
{
    "body": "Replying to [comment:3 ncohen]:\n\nDear Nathann,\n\n> Hellooooooooooo !\n> \n> I added a commit to your branch on public/16711. It adds a couple of line to spkg-src so that it is (even) easier to update this spkg. If you agree with it\n\nI can't : this has deep interferences with the Sage build system, which I do not undetstand yet. See Trac#16629 for a related problem : the length of exchanges with Volker Braun (who **does** understand the build system) proves that I do not understand the problem (except possibly on a set of null measure...:-).\n\nFurthermore, this fixes a problem **different** of the original one. This kind of ticket hijacking is likely to delay the solution of both hijacker and hijacked issues. Would you cate to take a look at #16629 and give us ypur advice ? BTW, this ticket still awaits review...\n\n> you can set this ticket to `positive_review` `:-)`\n\nI can't either : I am the author, and the whole point of a systematic peer review is to avoid too-hasty incorporation of incomplete/foolhardy/misguided patches. Saved my ass a couple of times already...\n\nOn the other hand, **you** can give it positive review if you think that the branch fixes the specific problem the ticket was aimed at ;-) Ditto for #16629, BTW...\n\nHTH,\n\nEmmanuel Charpentier",
    "created_at": "2014-07-25T17:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216329",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:3 ncohen]:

Dear Nathann,

> Hellooooooooooo !
> 
> I added a commit to your branch on public/16711. It adds a couple of line to spkg-src so that it is (even) easier to update this spkg. If you agree with it

I can't : this has deep interferences with the Sage build system, which I do not undetstand yet. See Trac#16629 for a related problem : the length of exchanges with Volker Braun (who **does** understand the build system) proves that I do not understand the problem (except possibly on a set of null measure...:-).

Furthermore, this fixes a problem **different** of the original one. This kind of ticket hijacking is likely to delay the solution of both hijacker and hijacked issues. Would you cate to take a look at #16629 and give us ypur advice ? BTW, this ticket still awaits review...

> you can set this ticket to `positive_review` `:-)`

I can't either : I am the author, and the whole point of a systematic peer review is to avoid too-hasty incorporation of incomplete/foolhardy/misguided patches. Saved my ass a couple of times already...

On the other hand, **you** can give it positive review if you think that the branch fixes the specific problem the ticket was aimed at ;-) Ditto for #16629, BTW...

HTH,

Emmanuel Charpentier



---

archive/issue_comments_216330.json:
```json
{
    "body": "Helloooooooooo !!\n\n> I can't : this has deep interferences with the Sage build system, which I do not undetstand yet.\n\nNonono it does not. Those spkg-src script are not used automatically in any way, they are just there to help us update packages. I also used it to do a \"proper reviewing job\", because I can't just accept a binary files of 20mb+ trusting that you just copied the original files. Technically you could have modified anything in there without me noticing, and the code will run on everybody's machine.\n\nSo I checked that I could produce the spkg myself and that the hash were the same. I did so with the lines I added to the file.\n\n> Furthermore, this fixes a problem **different** of the original one. This kind of ticket hijacking is likely to delay the solution of both hijacker and hijacked issues.\n\n`O_o`\n\nHey, the commit only adds 3 lines to a file to make what you just did easier, and your ticket has been created 21 hours ago. There is no hijacking going on, and 21 hours is not what can be called a \"long delay\" either.\n\n> Would you cate to take a look at #16629 and give us ypur advice ? BTW, this ticket still awaits review...\n\nI don't understand much about the management of spkg in Sage. And I had to query a dictionary for the definition of \"munch\".\n\n> I can't either : I am the author, and the whole point of a systematic peer review is to avoid too-hasty incorporation of incomplete/foolhardy/misguided patches. Saved my ass a couple of times already...\n\nIt is my commit. I wrote the code and your review it. And I review your code. If you can review a 3-lines commit on another ticket it can probably be done here too. Sage's rules are not sacred, they are here to avoid mistake. The point of reviewing each other's code definitely makes sense, so if every code is reviewed by somebody who is not the author there is no problem.\n\nI can swear that I saw it happen quite a lot of times already. Some patches even have the same two names in the \"reviewer\" and the \"authors\" field. Everybody checks the other's code, that's all.\n\n> On the other hand, **you** can give it positive review if you think that the branch fixes the specific problem the ticket was aimed at ;-) Ditto for #16629, BTW...\n\nI did my review, and my review included a commit. If you don't agree with it for religious reasons another reviewer will come.\n\nNathann",
    "created_at": "2014-07-25T17:16:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216330",
    "user": "https://github.com/nathanncohen"
}
```

Helloooooooooo !!

> I can't : this has deep interferences with the Sage build system, which I do not undetstand yet.

Nonono it does not. Those spkg-src script are not used automatically in any way, they are just there to help us update packages. I also used it to do a "proper reviewing job", because I can't just accept a binary files of 20mb+ trusting that you just copied the original files. Technically you could have modified anything in there without me noticing, and the code will run on everybody's machine.

So I checked that I could produce the spkg myself and that the hash were the same. I did so with the lines I added to the file.

> Furthermore, this fixes a problem **different** of the original one. This kind of ticket hijacking is likely to delay the solution of both hijacker and hijacked issues.

`O_o`

Hey, the commit only adds 3 lines to a file to make what you just did easier, and your ticket has been created 21 hours ago. There is no hijacking going on, and 21 hours is not what can be called a "long delay" either.

> Would you cate to take a look at #16629 and give us ypur advice ? BTW, this ticket still awaits review...

I don't understand much about the management of spkg in Sage. And I had to query a dictionary for the definition of "munch".

> I can't either : I am the author, and the whole point of a systematic peer review is to avoid too-hasty incorporation of incomplete/foolhardy/misguided patches. Saved my ass a couple of times already...

It is my commit. I wrote the code and your review it. And I review your code. If you can review a 3-lines commit on another ticket it can probably be done here too. Sage's rules are not sacred, they are here to avoid mistake. The point of reviewing each other's code definitely makes sense, so if every code is reviewed by somebody who is not the author there is no problem.

I can swear that I saw it happen quite a lot of times already. Some patches even have the same two names in the "reviewer" and the "authors" field. Everybody checks the other's code, that's all.

> On the other hand, **you** can give it positive review if you think that the branch fixes the specific problem the ticket was aimed at ;-) Ditto for #16629, BTW...

I did my review, and my review included a commit. If you don't agree with it for religious reasons another reviewer will come.

Nathann



---

archive/issue_comments_216331.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-25T19:47:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_216332.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-25T19:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216332",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_216333.json:
```json
{
    "body": "Replying to [comment:5 ncohen]:\n> Helloooooooooo !!\n> \n> > I can't : this has deep interferences with the Sage build system, which I do not undetstand yet.\n> \n> Nonono it does not. Those spkg-src script are not used automatically in any way, they are just there to help us update packages. I also used it to do a \"proper reviewing job\", because I can't just accept a binary files of 20mb+ trusting that you just copied the original files. Technically you could have modified anything in there without me noticing, and the code will run on everybody's machine.\n\nAfter re-reading the docs, I agree with you. I forgot this one (thus demonstrating the interest of cross-review...:-).\n\n> So I checked that I could produce the spkg myself and that the hash were the same. I did so with the lines I added to the file.\n> \n> > Furthermore, this fixes a problem **different** of the original one. This kind of ticket hijacking is likely to delay the solution of both hijacker and hijacked issues.\n> \n> `O_o`\n> \n> Hey, the commit only adds 3 lines to a file to make what you just did easier, and your ticket has been created 21 hours ago. There is no hijacking going on, and 21 hours is not what can be called a \"long delay\" either.\n\nHmmm... My previous drop-in of R 3.0 was delayed for months by an attempt to make it compile on Cygwin without a previously known bug...\n\n> > Would you cate to take a look at #16629 and give us ypur advice ? BTW, this ticket still awaits review...\n> \n> I don't understand much about the management of spkg in Sage. And I had to query a dictionary for the definition of \"munch\".\n> \n> > I can't either : I am the author, and the whole point of a systematic peer review is to avoid too-hasty incorporation of incomplete/foolhardy/misguided patches. Saved my ass a couple of times already...\n> \n> It is my commit. I wrote the code and your review it. And I review your code. If you can review a 3-lines commit on another ticket it can probably be done here too. Sage's rules are not sacred, they are here to avoid mistake. The point of reviewing each other's code definitely makes sense, so if every code is reviewed by somebody who is not the author there is no problem.\n> \n> I can swear that I saw it happen quite a lot of times already. Some patches even have the same two names in the \"reviewer\" and the \"authors\" field. Everybody checks the other's code, that's all.\n\nI didn't know that.\n\n> > On the other hand, **you** can give it positive review if you think that the branch fixes the specific problem the ticket was aimed at ;-) Ditto for #16629, BTW...\n> \n> I did my review, and my review included a commit. If you don't agree with it for religious reasons another reviewer will come.\n\nNo religious feelings here. You convinced me.\n\n> Nathann",
    "created_at": "2014-07-25T19:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216333",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:5 ncohen]:
> Helloooooooooo !!
> 
> > I can't : this has deep interferences with the Sage build system, which I do not undetstand yet.
> 
> Nonono it does not. Those spkg-src script are not used automatically in any way, they are just there to help us update packages. I also used it to do a "proper reviewing job", because I can't just accept a binary files of 20mb+ trusting that you just copied the original files. Technically you could have modified anything in there without me noticing, and the code will run on everybody's machine.

After re-reading the docs, I agree with you. I forgot this one (thus demonstrating the interest of cross-review...:-).

> So I checked that I could produce the spkg myself and that the hash were the same. I did so with the lines I added to the file.
> 
> > Furthermore, this fixes a problem **different** of the original one. This kind of ticket hijacking is likely to delay the solution of both hijacker and hijacked issues.
> 
> `O_o`
> 
> Hey, the commit only adds 3 lines to a file to make what you just did easier, and your ticket has been created 21 hours ago. There is no hijacking going on, and 21 hours is not what can be called a "long delay" either.

Hmmm... My previous drop-in of R 3.0 was delayed for months by an attempt to make it compile on Cygwin without a previously known bug...

> > Would you cate to take a look at #16629 and give us ypur advice ? BTW, this ticket still awaits review...
> 
> I don't understand much about the management of spkg in Sage. And I had to query a dictionary for the definition of "munch".
> 
> > I can't either : I am the author, and the whole point of a systematic peer review is to avoid too-hasty incorporation of incomplete/foolhardy/misguided patches. Saved my ass a couple of times already...
> 
> It is my commit. I wrote the code and your review it. And I review your code. If you can review a 3-lines commit on another ticket it can probably be done here too. Sage's rules are not sacred, they are here to avoid mistake. The point of reviewing each other's code definitely makes sense, so if every code is reviewed by somebody who is not the author there is no problem.
> 
> I can swear that I saw it happen quite a lot of times already. Some patches even have the same two names in the "reviewer" and the "authors" field. Everybody checks the other's code, that's all.

I didn't know that.

> > On the other hand, **you** can give it positive review if you think that the branch fixes the specific problem the ticket was aimed at ;-) Ditto for #16629, BTW...
> 
> I did my review, and my review included a commit. If you don't agree with it for religious reasons another reviewer will come.

No religious feelings here. You convinced me.

> Nathann



---

archive/issue_comments_216334.json:
```json
{
    "body": "Wget-able URLs please...",
    "created_at": "2014-07-25T22:25:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216334",
    "user": "https://github.com/vbraun"
}
```

Wget-able URLs please...



---

archive/issue_comments_216335.json:
```json
{
    "body": "Yoooooooooooooooo !!!!\n\n> Hmmm... My previous drop-in of R 3.0 was delayed for months by an attempt to make it compile on Cygwin without a previously known bug...\n\nHmmmmm... Sorry for that :-/\n\nMy worst memory is \"This code does not work on OpenSolaris 64bits\". It was unpleasant too `:-P`\n\nThank you for this update ! `:-)`\n\nNathann",
    "created_at": "2014-07-26T00:25:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216335",
    "user": "https://github.com/nathanncohen"
}
```

Yoooooooooooooooo !!!!

> Hmmm... My previous drop-in of R 3.0 was delayed for months by an attempt to make it compile on Cygwin without a previously known bug...

Hmmmmm... Sorry for that :-/

My worst memory is "This code does not work on OpenSolaris 64bits". It was unpleasant too `:-P`

Thank you for this update ! `:-)`

Nathann



---

archive/issue_comments_216336.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-26T04:13:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216336",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_048972.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-26T04:13:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16474#event-48972"
}
```



---

archive/issue_comments_216337.json:
```json
{
    "body": "Replying to [comment:8 vbraun]:\n> Wget-able URLs please...\n\nPray tell me where I could have uploaded this ? spkg-uploads, hosted on googlecode, no longer accepts uploads (at least the inteface has disappeared, and I saw [http://google-opensource.blogspot.fr/2013/05/a-change-to-google-code-download-service.html](http://google-opensource.blogspot.fr/2013/05/a-change-to-google-code-download-service.html), which leaves little doubts.)  I have no account on publicly accessible machines.\n\nA suggestion ?\n\nAnd, oh, since you got the renamed tarball, placed it in a publicly accessible place and presumably will use that fpr the next release, I suppose I can delete the Googledrive copy ?\n\nSincerely yours,\n\n--\nEmmanuel Charpentier",
    "created_at": "2014-07-26T08:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16474",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16474#issuecomment-216337",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:8 vbraun]:
> Wget-able URLs please...

Pray tell me where I could have uploaded this ? spkg-uploads, hosted on googlecode, no longer accepts uploads (at least the inteface has disappeared, and I saw [http://google-opensource.blogspot.fr/2013/05/a-change-to-google-code-download-service.html](http://google-opensource.blogspot.fr/2013/05/a-change-to-google-code-download-service.html), which leaves little doubts.)  I have no account on publicly accessible machines.

A suggestion ?

And, oh, since you got the renamed tarball, placed it in a publicly accessible place and presumably will use that fpr the next release, I suppose I can delete the Googledrive copy ?

Sincerely yours,

--
Emmanuel Charpentier
