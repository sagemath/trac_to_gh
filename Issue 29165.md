# Issue 29165: When SAGE_CHECK=warn, print warnings for failed test suites

Issue created by migration from https://trac.sagemath.org/ticket/29402

Original creator: jhpalmieri

Original creation time: 2020-03-24 21:34:53

CC:  mkoeppe

Followup to #29301: when running `make` with SAGE_CHECK="warn", we should print out a message summarizing the failed test suites.



---

Comment by jhpalmieri created at 2020-03-24 21:36:39

Here is an attempt. Also trying to remove some code duplication.
----
New commits:


---

Comment by jhpalmieri created at 2020-03-24 21:36:39

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-03-26 14:55:15

It would be better if the message "Warning: the following package(s) may have failed their test suites" were only printed if look_for_errors finds a log file with a failing test suite


---

Comment by git created at 2020-03-26 17:17:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jhpalmieri created at 2020-03-26 17:17:59

Okay, how about this?


---

Comment by mkoeppe created at 2020-03-27 13:42:52

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-03-27 13:42:52

This seems to work well, thanks for working on it.

```
...
SAGE_CHECK=warn, so scanning the log files. This may take a few seconds.

* package:         yasm-1.3.0.p0
  last build time: Mar 13 21:06
  log file:        /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/logs/pkgs/yasm-1.3.0.p0.log
```



---

Comment by mkoeppe created at 2020-03-27 13:43:53

And the refactoring of the script is also very nice. Thanks!


---

Comment by jhpalmieri created at 2020-03-27 16:14:48

Great, thanks!


---

Comment by vbraun created at 2020-04-05 08:30:19

Resolution: fixed
