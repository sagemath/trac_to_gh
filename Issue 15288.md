# Issue 15288: More partition parents and fixes to global options

Issue created by migration from https://trac.sagemath.org/ticket/15525

Original creator: tscrim

Original creation time: 2013-12-16 16:51:59

Assignee: sage-combinat

CC:  sage-combinat nthiery andrew.mathas kdilks

Keywords: partitions, global options

Currently the following breaks:

```
sage: P = Partitions(5, max_length=4)
sage: loads(dumps(P))
```

since `PartitionOptions` does not pickle, hence the `IntegerListsLex`, which takes it as an (optional) input, does not.

The proposed solution is two-fold:

- Add a class for partitions that inherit from `IntegerListsLex` (or use it as an iterator).
- Add a warning when using the `global_options` parameter that the resulting class might not pickle.

Here's also a discussion on sage-combinat-devel:

https://groups.google.com/forum/?fromgroups=#!topic/sage-combinat-devel/Hyak8ndRi4o

I'm also going to add parent classes for k-regular partitions.


---

Comment by tscrim created at 2013-12-16 16:52:36

Here's the initial branch, still a little more work to be done.


---

Comment by git created at 2013-12-16 16:53:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2013-12-16 16:54:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2013-12-27 03:02:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2013-12-27 03:03:23

Okay, ready for consumption.


---

Comment by tscrim created at 2013-12-27 03:03:23

Changing status from new to needs_review.


---

Comment by git created at 2015-01-04 03:58:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-05-07 17:46:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2015-08-23 16:38:48

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2015-08-23 16:38:48

one failing doctest, see patchbot report


---

Comment by git created at 2015-10-09 21:47:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-10-09 21:49:50

Changing status from needs_work to needs_review.


---

Comment by kdilks created at 2015-10-10 21:57:45

So far only noticing very minor issues.

* In the definition of being \ell-regular, it should mention that m_i is the multiplicity of i in the partition. The first time I looked at this, I thought that m_i was maybe referring to the part sizes. In the source code you can just search for 'm_i' to see what it means, but in the HTML doc 'm_i' is always going to be Tex'd and harder to search for. Also, `character_polynomial()` doc used a_i to refer to the multiplicity of i in a permutation alpha, so maybe that should be changed to m_i to be consistent.
* Does the code ever check that \ell is an integer, and preferably a nonnegative one?


---

Comment by git created at 2015-10-10 23:06:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kdilks created at 2015-10-10 23:08:43

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-10-12 07:16:27

Resolution: fixed
