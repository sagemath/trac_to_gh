# Issue 17581: Interface to FindStat

archive/issues_017581.json:
```json
{
    "body": "CC:  @videlec @nathanncohen stumpc5 vivianepons\n\nKeywords: FindStat\n\nSage should have an interface to FindStat, the \"combinatorial statistics finder\".  A first version, modelled after the interface to the OEIS is attached.  To get you started, you can try the following:\n\n\n```\nsage: findstat('St000045')                   # optional -- internet\n    St000045: The number of linear extensions of the tree. \n\n    sage: s = findstat(3); s                            # optional -- internet\n    St000003: The number of [[/StandardTableaux|standard Young tableaux]] of the partition.\n\n    sage: s.browse()\n\n    sage: stat = {pi: pi.length() for pi in Permutations(3)}\n    sage: search = findstat(stat) ; search    # optional -- internet\n    0: (St000018: The [[/Permutations/Inversions|number of inversions]] of a permutation., [], 6)\n    1: (St000004: The [[/Permutations/Descents-Major|major index]] of a permutation., ['inversion-number to major-index bijection'], 6)\n    2: (St000067: The inversion number of the alternating sign matrix., ['to alternating sign matrix'], 6)\n    3: (St000224: The sorting index of a permutation., ['first fundamental transformation'], 6)\n    4: (St000008: The major index of the composition., ['inversion-number to major-index bijection', 'descent composition'], 6)\n    5: (St000059: The inversion number of a standard Young tableau as defined by Haglund and Stevens. [1]  , ['inversion-number to major-index bijection', 'Robinson-Schensted recording tableau'], 6)\n    6: (St000153: The number of adjacent cycles of a permutation., ['reverse', 'first fundamental transformation'], 6)\n    7: (St000156: The Denert index of a permutation., ['inverse first fundamental transformation', 'foata_bijection'], 6)\n    8: (St000174: The flush statistic on semistandard tableaux., ['to alternating sign matrix', 'to semistandard tableau'], 6)\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/17818\n\n",
    "created_at": "2015-02-20T17:27:07Z",
    "labels": [
        "component: interfaces"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "Interface to FindStat",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17581",
    "user": "https://github.com/mantepse"
}
```
CC:  @videlec @nathanncohen stumpc5 vivianepons

Keywords: FindStat

Sage should have an interface to FindStat, the "combinatorial statistics finder".  A first version, modelled after the interface to the OEIS is attached.  To get you started, you can try the following:


```
sage: findstat('St000045')                   # optional -- internet
    St000045: The number of linear extensions of the tree. 

    sage: s = findstat(3); s                            # optional -- internet
    St000003: The number of [[/StandardTableaux|standard Young tableaux]] of the partition.

    sage: s.browse()

    sage: stat = {pi: pi.length() for pi in Permutations(3)}
    sage: search = findstat(stat) ; search    # optional -- internet
    0: (St000018: The [[/Permutations/Inversions|number of inversions]] of a permutation., [], 6)
    1: (St000004: The [[/Permutations/Descents-Major|major index]] of a permutation., ['inversion-number to major-index bijection'], 6)
    2: (St000067: The inversion number of the alternating sign matrix., ['to alternating sign matrix'], 6)
    3: (St000224: The sorting index of a permutation., ['first fundamental transformation'], 6)
    4: (St000008: The major index of the composition., ['inversion-number to major-index bijection', 'descent composition'], 6)
    5: (St000059: The inversion number of a standard Young tableau as defined by Haglund and Stevens. [1]  , ['inversion-number to major-index bijection', 'Robinson-Schensted recording tableau'], 6)
    6: (St000153: The number of adjacent cycles of a permutation., ['reverse', 'first fundamental transformation'], 6)
    7: (St000156: The Denert index of a permutation., ['inverse first fundamental transformation', 'foata_bijection'], 6)
    8: (St000174: The flush statistic on semistandard tableaux., ['to alternating sign matrix', 'to semistandard tableau'], 6)
```


Issue created by migration from https://trac.sagemath.org/ticket/17818





---

archive/issue_comments_234389.json:
```json
{
    "body": "I know this isn't yet set to `needs_review`, but the documentation is misformatted in many places. It should be like\n\n\n```\nEXAMPLES::\n\n    sage: ...\n\nSome text to introduce the next example::\n\n    sage: ...\n```\n",
    "created_at": "2015-02-20T17:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234389",
    "user": "https://github.com/jdemeyer"
}
```

I know this isn't yet set to `needs_review`, but the documentation is misformatted in many places. It should be like


```
EXAMPLES::

    sage: ...

Some text to introduce the next example::

    sage: ...
```




---

archive/issue_comments_234390.json:
```json
{
    "body": "You mean, the text between examples is missing?",
    "created_at": "2015-02-20T19:52:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234390",
    "user": "https://github.com/mantepse"
}
```

You mean, the text between examples is missing?



---

archive/issue_comments_234391.json:
```json
{
    "body": "No, I mean for example\n\n```\n    We can access references provided as follows:\n    sage: s.references()\n```\n\n\nshould be\n\n```\nWe can access references provided as follows::\n\n    sage: s.references()\n```\n",
    "created_at": "2015-02-20T21:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234391",
    "user": "https://github.com/jdemeyer"
}
```

No, I mean for example

```
    We can access references provided as follows:
    sage: s.references()
```


should be

```
We can access references provided as follows::

    sage: s.references()
```




---

archive/issue_comments_234392.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-21T09:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234392",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234393.json:
```json
{
    "body": "Your new commit has the same problem. When you use \"::\" somewhere, the next line must be indented. To make sure that everything works as it should:\n\n1) Add your new file to the documentation, i.e. the SAGE_ROOT/src/doc/en/reference/databases/index.rst file\n\n2) compile the documentation `sage -b && sage -docbuild reference/databases html`\n\nAnd, of course, read the html page corresponding to your new file to check that it is alright.\n\nSee also: http://www.sagemath.org/doc/developer/sage_manuals.html#adding-a-new-file\n\nNathann",
    "created_at": "2015-02-21T10:00:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234393",
    "user": "https://github.com/nathanncohen"
}
```

Your new commit has the same problem. When you use "::" somewhere, the next line must be indented. To make sure that everything works as it should:

1) Add your new file to the documentation, i.e. the SAGE_ROOT/src/doc/en/reference/databases/index.rst file

2) compile the documentation `sage -b && sage -docbuild reference/databases html`

And, of course, read the html page corresponding to your new file to check that it is alright.

See also: http://www.sagemath.org/doc/developer/sage_manuals.html#adding-a-new-file

Nathann



---

archive/issue_comments_234394.json:
```json
{
    "body": "Hello,\n\nI really do understand neither your strategy nor your goal with this ticket.\n\noeis is a Sage completely independent project and we have this ugly parser because we do not have any choice: there is no API to access their database.\n\nFindstat project highly uses Sage and you are one of the author. Instead of integrating findstat code inside Sage you decided to make a closed source project. Right, this is fine with GPL and this is your choice. Now you decide to interface your findstat project with Sage. As a consequence you oblige the user to have an internet access to play with findstat features. Fine, this is again your choice. Instead of providing a clean API from the findstat side (let say json answers from http queries) you chose to implement an ugly HTML parser with regexp to get the information on the Sage side. This is inefficient and counter productive and you should seriously revise your strategy.\n\nVincent",
    "created_at": "2015-02-21T16:54:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234394",
    "user": "https://github.com/videlec"
}
```

Hello,

I really do understand neither your strategy nor your goal with this ticket.

oeis is a Sage completely independent project and we have this ugly parser because we do not have any choice: there is no API to access their database.

Findstat project highly uses Sage and you are one of the author. Instead of integrating findstat code inside Sage you decided to make a closed source project. Right, this is fine with GPL and this is your choice. Now you decide to interface your findstat project with Sage. As a consequence you oblige the user to have an internet access to play with findstat features. Fine, this is again your choice. Instead of providing a clean API from the findstat side (let say json answers from http queries) you chose to implement an ugly HTML parser with regexp to get the information on the Sage side. This is inefficient and counter productive and you should seriously revise your strategy.

Vincent



---

archive/issue_comments_234395.json:
```json
{
    "body": "I agree that the situation could be better from the sage point of view.  However, there are a few things to keep in mind:\n\n**The current FindStat project really does want to be open to non-SageMath users, and it tries very hard.  In fact, I believe that most of the effort went into the web interface.**  I think this is very important, so I make it boldface :-)\n\nCurrently, I (Martin) am mainly interested in using FindStat from within SageMath.  I asked Christian whether this would be possible, and so he provided me with the necessary information to create this interface.\n\nI agree that a clean API is desirable, but it is beyond my knowledge, and beyond the human resources of the FindStat project.  (As far as I know, there are currently five people who contributed to the FindStat  project -- all listed here: http://www.findstat.org/Contributors.  My first and so far only contribution (apart from editing statistics) is the interface, but actually, this is more a contribution to SageMath, isn't it?)\n\nTherefore, if you are able to provide such a clean interface, please go for it!",
    "created_at": "2015-02-21T17:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234395",
    "user": "https://github.com/mantepse"
}
```

I agree that the situation could be better from the sage point of view.  However, there are a few things to keep in mind:

**The current FindStat project really does want to be open to non-SageMath users, and it tries very hard.  In fact, I believe that most of the effort went into the web interface.**  I think this is very important, so I make it boldface :-)

Currently, I (Martin) am mainly interested in using FindStat from within SageMath.  I asked Christian whether this would be possible, and so he provided me with the necessary information to create this interface.

I agree that a clean API is desirable, but it is beyond my knowledge, and beyond the human resources of the FindStat project.  (As far as I know, there are currently five people who contributed to the FindStat  project -- all listed here: http://www.findstat.org/Contributors.  My first and so far only contribution (apart from editing statistics) is the interface, but actually, this is more a contribution to SageMath, isn't it?)

Therefore, if you are able to provide such a clean interface, please go for it!



---

archive/issue_comments_234396.json:
```json
{
    "body": "Replying to [comment:11 mantepse]:\n> I agree that the situation could be better from the sage point of view.  However, there are a few things to keep in mind:\n> \n> **The current FindStat project really does want to be open to non-SageMath users, and it tries very hard.  In fact, I believe that most of the effort went into the web interface.**  I think this is very important, so I make it boldface :-)\n\nAgreed. The website is nice as a website.\n\n> Currently, I (Martin) am mainly interested in using FindStat from within [SageMath](SageMath).  I asked Christian whether this would be possible, and so he provided me with the necessary information to create this interface.\n\nThis is where I do not agree. The solution to make it Sagemath-friendly is not the interface proposed in this ticket. There should be another web interface for interaction with Sage. This is not the hard part of the work.\n\n> I agree that a clean API is desirable, but it is beyond my knowledge, and beyond the human resources of the FindStat project.  (As far as I know, there are currently five people who contributed to the FindStat  project -- all listed here: http://www.findstat.org/Contributors.  My first and so far only contribution (apart from editing statistics) is the interface, but actually, this is more a contribution to SageMath, isn't it?)\n\nIn its current version, I am not sure this interface does more good to Sagemath than to Findstat.\n\n> Therefore, if you are able to provide such a clean interface, please go for it!\n\nI would if the code was freely available... please go release it!\n\nVincent",
    "created_at": "2015-02-21T18:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234396",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:11 mantepse]:
> I agree that the situation could be better from the sage point of view.  However, there are a few things to keep in mind:
> 
> **The current FindStat project really does want to be open to non-SageMath users, and it tries very hard.  In fact, I believe that most of the effort went into the web interface.**  I think this is very important, so I make it boldface :-)

Agreed. The website is nice as a website.

> Currently, I (Martin) am mainly interested in using FindStat from within [SageMath](SageMath).  I asked Christian whether this would be possible, and so he provided me with the necessary information to create this interface.

This is where I do not agree. The solution to make it Sagemath-friendly is not the interface proposed in this ticket. There should be another web interface for interaction with Sage. This is not the hard part of the work.

> I agree that a clean API is desirable, but it is beyond my knowledge, and beyond the human resources of the FindStat project.  (As far as I know, there are currently five people who contributed to the FindStat  project -- all listed here: http://www.findstat.org/Contributors.  My first and so far only contribution (apart from editing statistics) is the interface, but actually, this is more a contribution to SageMath, isn't it?)

In its current version, I am not sure this interface does more good to Sagemath than to Findstat.

> Therefore, if you are able to provide such a clean interface, please go for it!

I would if the code was freely available... please go release it!

Vincent



---

archive/issue_comments_234397.json:
```json
{
    "body": "> This is where I do not agree. The solution to make it Sagemath-friendly is not the interface proposed in this ticket. There should be another web interface for interaction with Sage. This is not the hard part of the work.\n\nIt would be for me.  Besides, in which way precisely would this be better for [SageMath](SageMath)?\n \n> In its current version, I am not sure this interface does more good to Sagemath than to Findstat.\n\nI admit, this is not really important for me, I shouldn't have raised this point.  I am mainly a mathematician.  If this interface is useful to you, use it, otherwise don't.  I was asked to polish the code so it is usable for people other than me, so I spent a few days on polishing.  If it doesn't go into [SageMath](SageMath) that's fine with me.  I hope I will still be able to use it myself.\n\n> > Therefore, if you are able to provide such a clean interface, please go for it!\n> \n> I would if the code was freely available... please go release it!\n\nI do not understand why you think that I am in the position to do that.  FindStat is not my website, not my code.",
    "created_at": "2015-02-21T19:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234397",
    "user": "https://github.com/mantepse"
}
```

> This is where I do not agree. The solution to make it Sagemath-friendly is not the interface proposed in this ticket. There should be another web interface for interaction with Sage. This is not the hard part of the work.

It would be for me.  Besides, in which way precisely would this be better for [SageMath](SageMath)?
 
> In its current version, I am not sure this interface does more good to Sagemath than to Findstat.

I admit, this is not really important for me, I shouldn't have raised this point.  I am mainly a mathematician.  If this interface is useful to you, use it, otherwise don't.  I was asked to polish the code so it is usable for people other than me, so I spent a few days on polishing.  If it doesn't go into [SageMath](SageMath) that's fine with me.  I hope I will still be able to use it myself.

> > Therefore, if you are able to provide such a clean interface, please go for it!
> 
> I would if the code was freely available... please go release it!

I do not understand why you think that I am in the position to do that.  FindStat is not my website, not my code.



---

archive/issue_comments_234398.json:
```json
{
    "body": "Replying to [comment:9 ncohen]:\n> Your new commit has the same problem.\n\n> 2) compile the documentation `sage -b && sage -docbuild reference/databases html`\n\nHi Nathann!\n\nMany thanks for your help, but I'm afraid I need more.  Is there a way to make docbuild tell me where I made a mistake?  I obtain\n\n```\n[databases] loading pickled environment... not yet created\n[databases] building [html]: targets for 10 source files that are out of date\n[databases] updating environment: 10 added, 0 changed, 0 removed\n[databases] Encoding error:\n[databases] 'ascii' codec can't decode byte 0xe2 in position 24871: ordinal not in range(128)\n[databases] The full traceback has been saved in /tmp/sphinx-err-YMbReV.log, if you want to report the issue to the developers.\nBuild finished. The built documents can be found in /home/martin/sage/src/doc/output/html/en/reference/databases\n```\n\n\nbut I have no idea what that traceback is trying to tell me:\n\n\n```\nTraceback (most recent call last):\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/cmdline.py\", line 254, in main\n    app.build(force_all, filenames)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/application.py\", line 212, in build\n    self.builder.build_update()\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py\", line 214, in build_update\n    'out of date' % len(to_build))\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py\", line 234, in build\n    purple, length):\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py\", line 134, in status_iterator\n    for item in iterable:\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py\", line 480, in update_generator\n    self.read_doc(docname, app=app)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py\", line 627, in read_doc\n    pub.publish()\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/core.py\", line 217, in publish\n    self.settings)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/readers/__init__.py\", line 72, in read\n    self.parse()\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/readers/__init__.py\", line 78, in parse\n    self.parser.parse(self.input, document)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/__init__.py\", line 172, in parse\n    self.statemachine.run(inputlines, document, inliner=self.inliner)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 170, in run\n    input_source=document['source'])\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py\", line 239, in run\n    context, state, transitions)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py\", line 460, in check_line\n    return method(match, context, next_state)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 2726, in underline\n    self.section(title, source, style, lineno - 1, messages)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 327, in section\n    self.new_subsection(title, lineno, messages)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 395, in new_subsection\n    node=section_node, match_titles=True)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 282, in nested_parse\n    node=node, match_titles=match_titles)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 195, in run\n    results = StateMachineWS.run(self, input_lines, input_offset)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py\", line 239, in run\n    context, state, transitions)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py\", line 460, in check_line\n    return method(match, context, next_state)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 2301, in explicit_markup\n    self.explicit_list(blank_finish)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 2331, in explicit_list\n    match_titles=self.state_machine.match_titles)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 319, in nested_list_parse\n    node=node, match_titles=match_titles)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 195, in run\n    results = StateMachineWS.run(self, input_lines, input_offset)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py\", line 239, in run\n    context, state, transitions)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py\", line 460, in check_line\n    return method(match, context, next_state)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 2604, in explicit_markup\n    nodelist, blank_finish = self.explicit_construct(match)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 2311, in explicit_construct\n    return method(self, expmatch)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 2054, in directive\n    directive_class, match, type_name, option_presets)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py\", line 2103, in run_directive\n    result = directive_instance.run()\n  File \"/home/martin/sage/src/doc/common/sage_autodoc.py\", line 1166, in run\n    documenter.generate(more_content=self.content)\n  File \"/home/martin/sage/src/doc/common/sage_autodoc.py\", line 638, in generate\n    self.analyzer = ModuleAnalyzer.for_module(self.real_modname)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/pycode/__init__.py\", line 204, in for_module\n    obj = cls.for_file(source, modname)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/pycode/__init__.py\", line 187, in for_file\n    obj = cls(fileobj, modname, filename)\n  File \"/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/pycode/__init__.py\", line 224, in __init__\n    self.code = self.source.read().decode(self.encoding)\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 24871: ordinal not in range(128)\n```\n",
    "created_at": "2015-02-22T16:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234398",
    "user": "https://github.com/mantepse"
}
```

Replying to [comment:9 ncohen]:
> Your new commit has the same problem.

> 2) compile the documentation `sage -b && sage -docbuild reference/databases html`

Hi Nathann!

Many thanks for your help, but I'm afraid I need more.  Is there a way to make docbuild tell me where I made a mistake?  I obtain

```
[databases] loading pickled environment... not yet created
[databases] building [html]: targets for 10 source files that are out of date
[databases] updating environment: 10 added, 0 changed, 0 removed
[databases] Encoding error:
[databases] 'ascii' codec can't decode byte 0xe2 in position 24871: ordinal not in range(128)
[databases] The full traceback has been saved in /tmp/sphinx-err-YMbReV.log, if you want to report the issue to the developers.
Build finished. The built documents can be found in /home/martin/sage/src/doc/output/html/en/reference/databases
```


but I have no idea what that traceback is trying to tell me:


```
Traceback (most recent call last):
  File "/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/cmdline.py", line 254, in main
    app.build(force_all, filenames)
  File "/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/application.py", line 212, in build
    self.builder.build_update()
  File "/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py", line 214, in build_update
    'out of date' % len(to_build))
  File "/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py", line 234, in build
    purple, length):
  File "/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/builders/__init__.py", line 134, in status_iterator
    for item in iterable:
  File "/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py", line 480, in update_generator
    self.read_doc(docname, app=app)
  File "/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/environment.py", line 627, in read_doc
    pub.publish()
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/core.py", line 217, in publish
    self.settings)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/readers/__init__.py", line 72, in read
    self.parse()
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/readers/__init__.py", line 78, in parse
    self.parser.parse(self.input, document)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/__init__.py", line 172, in parse
    self.statemachine.run(inputlines, document, inliner=self.inliner)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 170, in run
    input_source=document['source'])
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py", line 239, in run
    context, state, transitions)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py", line 460, in check_line
    return method(match, context, next_state)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 2726, in underline
    self.section(title, source, style, lineno - 1, messages)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 327, in section
    self.new_subsection(title, lineno, messages)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 395, in new_subsection
    node=section_node, match_titles=True)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 282, in nested_parse
    node=node, match_titles=match_titles)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 195, in run
    results = StateMachineWS.run(self, input_lines, input_offset)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py", line 239, in run
    context, state, transitions)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py", line 460, in check_line
    return method(match, context, next_state)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 2301, in explicit_markup
    self.explicit_list(blank_finish)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 2331, in explicit_list
    match_titles=self.state_machine.match_titles)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 319, in nested_list_parse
    node=node, match_titles=match_titles)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 195, in run
    results = StateMachineWS.run(self, input_lines, input_offset)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py", line 239, in run
    context, state, transitions)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/statemachine.py", line 460, in check_line
    return method(match, context, next_state)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 2604, in explicit_markup
    nodelist, blank_finish = self.explicit_construct(match)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 2311, in explicit_construct
    return method(self, expmatch)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 2054, in directive
    directive_class, match, type_name, option_presets)
  File "/home/martin/sage/local/lib/python2.7/site-packages/docutils/parsers/rst/states.py", line 2103, in run_directive
    result = directive_instance.run()
  File "/home/martin/sage/src/doc/common/sage_autodoc.py", line 1166, in run
    documenter.generate(more_content=self.content)
  File "/home/martin/sage/src/doc/common/sage_autodoc.py", line 638, in generate
    self.analyzer = ModuleAnalyzer.for_module(self.real_modname)
  File "/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/pycode/__init__.py", line 204, in for_module
    obj = cls.for_file(source, modname)
  File "/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/pycode/__init__.py", line 187, in for_file
    obj = cls(fileobj, modname, filename)
  File "/home/martin/sage/local/lib/python2.7/site-packages/Sphinx-1.2.2-py2.7.egg/sphinx/pycode/__init__.py", line 224, in __init__
    self.code = self.source.read().decode(self.encoding)
UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 24871: ordinal not in range(128)
```




---

archive/issue_comments_234399.json:
```json
{
    "body": "Hello,\n\n> Many thanks for your help, but I'm afraid I need more.  Is there a way to make docbuild tell me where I made a mistake?\n\n\n```\n[databases] Encoding error:\n[databases] 'ascii' codec can't decode byte 0xe2 in position 24871: ordinal not in range(128)\n[databases] The full traceback has been saved in /tmp/sphinx-err-YMbReV.log, if you want to report the issue to the developers.\n```\n\n\nWell, Sphinx says that there is a non-ascii character at position 24871 in some file. Have you checked whether there might be a non-ascii character at position 24871 in your file ?\n\nNathann",
    "created_at": "2015-02-22T17:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234399",
    "user": "https://github.com/nathanncohen"
}
```

Hello,

> Many thanks for your help, but I'm afraid I need more.  Is there a way to make docbuild tell me where I made a mistake?


```
[databases] Encoding error:
[databases] 'ascii' codec can't decode byte 0xe2 in position 24871: ordinal not in range(128)
[databases] The full traceback has been saved in /tmp/sphinx-err-YMbReV.log, if you want to report the issue to the developers.
```


Well, Sphinx says that there is a non-ascii character at position 24871 in some file. Have you checked whether there might be a non-ascii character at position 24871 in your file ?

Nathann



---

archive/issue_comments_234400.json:
```json
{
    "body": "Replying to [comment:15 ncohen]:\n\n> Well, Sphinx says that there is a non-ascii character at position 24871 in some file. Have you checked whether there might be a non-ascii character at position 24871 in your file ?\n\nNow I found it!  It is a long dash in a reference retrieved from FindStat.  I have to redo the doctests anyway, because the descriptions, names, references, etc., are all subject to change...\n\nThank you!",
    "created_at": "2015-02-22T22:30:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234400",
    "user": "https://github.com/mantepse"
}
```

Replying to [comment:15 ncohen]:

> Well, Sphinx says that there is a non-ascii character at position 24871 in some file. Have you checked whether there might be a non-ascii character at position 24871 in your file ?

Now I found it!  It is a long dash in a reference retrieved from FindStat.  I have to redo the doctests anyway, because the descriptions, names, references, etc., are all subject to change...

Thank you!



---

archive/issue_comments_234401.json:
```json
{
    "body": "> Now I found it!  It is a long dash in a reference retrieved from FindStat.  I have to redo the doctests anyway, because the descriptions, names, references, etc., are all subject to change...\n\nThere must be something wrong with dashes. Every single time I get this error message it is because of a dash between the pages in the reference of a paper, i.e. 234--190.\n\nLet's call this message \"the dash message\" from now on.\n\nNathann",
    "created_at": "2015-02-23T08:44:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234401",
    "user": "https://github.com/nathanncohen"
}
```

> Now I found it!  It is a long dash in a reference retrieved from FindStat.  I have to redo the doctests anyway, because the descriptions, names, references, etc., are all subject to change...

There must be something wrong with dashes. Every single time I get this error message it is because of a dash between the pages in the reference of a paper, i.e. 234--190.

Let's call this message "the dash message" from now on.

Nathann



---

archive/issue_comments_234402.json:
```json
{
    "body": "To answer a bit what has been said here. I do agree that it would be better to provide a proper API on the FindStat side, that was my idea at first. But, it's not that easy, we're not that many, and nobody did it! On the other hand, Martin wanted the Sage interface because he needed it. And the dirty html parsing was the quickest way to get it. Even if it's not perfect, I still think it could be useful for other people, that's why he created the ticket.\n\nIf you want more of a technical reason: at this stage, FindStat is no more than a customized MoinMoin macro. Especially, we don't really deal with the http request: we just take some info from MoinMoin and give some html back to be included in a MoinMoin html page, we have no interface to deal with non html responses. \n\nFor similar reasons, I don't see how to include the FindStat search directly into Sage at the moment, it demands lots of work. I'm not saying it's never going to happen, but probably not just right now. \n\nAbout open-sourceness, the main reasons it's not been open yet are mostly time and technical issues. FindStat is not a software, it's a webservice. In the meantime, we've welcomed anyone wanting to work on the project!",
    "created_at": "2015-02-23T16:55:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234402",
    "user": "https://github.com/VivianePons"
}
```

To answer a bit what has been said here. I do agree that it would be better to provide a proper API on the FindStat side, that was my idea at first. But, it's not that easy, we're not that many, and nobody did it! On the other hand, Martin wanted the Sage interface because he needed it. And the dirty html parsing was the quickest way to get it. Even if it's not perfect, I still think it could be useful for other people, that's why he created the ticket.

If you want more of a technical reason: at this stage, FindStat is no more than a customized MoinMoin macro. Especially, we don't really deal with the http request: we just take some info from MoinMoin and give some html back to be included in a MoinMoin html page, we have no interface to deal with non html responses. 

For similar reasons, I don't see how to include the FindStat search directly into Sage at the moment, it demands lots of work. I'm not saying it's never going to happen, but probably not just right now. 

About open-sourceness, the main reasons it's not been open yet are mostly time and technical issues. FindStat is not a software, it's a webservice. In the meantime, we've welcomed anyone wanting to work on the project!



---

archive/issue_comments_234403.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T21:49:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234403",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234404.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T21:51:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234404",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234405.json:
```json
{
    "body": "I tried (with a lot of help from the FindStat team) to answer the (technical) objections raised above.  In case somebody is interested in having this finalized, I need a little help with the following items:\n\n1) documentation and doctests\n\n2) I believe that statistics, collections and maps should have something similar to a unique representation, but I'm not sure how to achieve this, especially for statistics.  I should mention that it is quite possible that at some point collections and maps can be edited, too.  So the idea is to have caching enabled for objects with id different from 0...\n\n3) Christian told me that I need to do something like lazy import, but I currently don't really know what that is.  I simply followed `oeis.py`...\n\n4) a design question: it appears that, in sage, python properties are hardly used at all.  I have no idea why.  Currently, the interface uses properties to allow editing statistics (collections and maps currently cannot be edited).  This implies some inconsistencies.  Therefore:\n\n- should I change read-only properties like `FindStatStatistic.id` to ordinary methods?\n- should I do the same with the other properties, i.e., provide methods `FindStatStatistic.description` and `FindStatStatistic.set_description`?",
    "created_at": "2015-03-20T22:03:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234405",
    "user": "https://github.com/mantepse"
}
```

I tried (with a lot of help from the FindStat team) to answer the (technical) objections raised above.  In case somebody is interested in having this finalized, I need a little help with the following items:

1) documentation and doctests

2) I believe that statistics, collections and maps should have something similar to a unique representation, but I'm not sure how to achieve this, especially for statistics.  I should mention that it is quite possible that at some point collections and maps can be edited, too.  So the idea is to have caching enabled for objects with id different from 0...

3) Christian told me that I need to do something like lazy import, but I currently don't really know what that is.  I simply followed `oeis.py`...

4) a design question: it appears that, in sage, python properties are hardly used at all.  I have no idea why.  Currently, the interface uses properties to allow editing statistics (collections and maps currently cannot be edited).  This implies some inconsistencies.  Therefore:

- should I change read-only properties like `FindStatStatistic.id` to ordinary methods?
- should I do the same with the other properties, i.e., provide methods `FindStatStatistic.description` and `FindStatStatistic.set_description`?



---

archive/issue_comments_234406.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-21T22:56:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234406",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234407.json:
```json
{
    "body": "Hello,\n\nLooks better now ;-)\n\nCould you use a lazy import in the \"all.py\". What it means is that you have to replace\n\n```\nfrom sage.databases.findstat import findstat\n```\n\nwith\n\n```\nfrom sage.misc.lazy_import import lazy_import\nlazy_import('sage.databases.findstat', 'findstat')\n```\n\n\nWhat it changes is that you will have:\n\n```\nsage: type(findstat)\n<type 'sage.misc.lazy_import.LazyImport'>\n```\n\nbut mostly nothing else (access to method, tab completion, documentation is identical). The advantage is that it is not imported on startup. It would be really good since you are doing a lot of global imports in your module.\n\nVincent",
    "created_at": "2015-03-21T23:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234407",
    "user": "https://github.com/videlec"
}
```

Hello,

Looks better now ;-)

Could you use a lazy import in the "all.py". What it means is that you have to replace

```
from sage.databases.findstat import findstat
```

with

```
from sage.misc.lazy_import import lazy_import
lazy_import('sage.databases.findstat', 'findstat')
```


What it changes is that you will have:

```
sage: type(findstat)
<type 'sage.misc.lazy_import.LazyImport'>
```

but mostly nothing else (access to method, tab completion, documentation is identical). The advantage is that it is not imported on startup. It would be really good since you are doing a lot of global imports in your module.

Vincent



---

archive/issue_comments_234408.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-22T06:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234408",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234409.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-22T07:49:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234409",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234410.json:
```json
{
    "body": "Plenty of documentation issues! Did you try to run `make doc`?\n\n1. After `INPUT:`, `OUTPUT:` there must be a blankline.\n\n2. `TODO` sections must be indented, i.e.\n\n```\n.. TODO::\n\n    we definitely should do this and that\n```\n\n\n3. The first line of the documentation should be an imperative and start with an uppercase. Replace\n   {{{\n   returns the name of the collection\n   }}}\n   with\n   {{{\n   Return the name of the collection\n   }}}\n   And no point at the end of this first sentence.\n\n4. This is wrong and will raise an error during the creation of the documentation.\n   {{{\n   EXAMPLES::\n  \n   A particular statistic can be called by its St-number or number::\n   }}}\n   There should be two colon only if the next block is indented. In that case it should be\n   {{{\n   EXAMPLES:\n  \n   A particular statistic can be called by its St-number or number::\n   }}}\n   And in the following you forgot a colon\n   {{{\n   To search for a distribution, send a list of lists, or a single pair:\n   }}}\n\nThere is a lot of useful information in the [developer guide](http://www.sagemath.org/doc/developer/coding_basics.html#documentation-strings).",
    "created_at": "2015-03-22T22:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234410",
    "user": "https://github.com/videlec"
}
```

Plenty of documentation issues! Did you try to run `make doc`?

1. After `INPUT:`, `OUTPUT:` there must be a blankline.

2. `TODO` sections must be indented, i.e.

```
.. TODO::

    we definitely should do this and that
```


3. The first line of the documentation should be an imperative and start with an uppercase. Replace
   {{{
   returns the name of the collection
   }}}
   with
   {{{
   Return the name of the collection
   }}}
   And no point at the end of this first sentence.

4. This is wrong and will raise an error during the creation of the documentation.
   {{{
   EXAMPLES::
  
   A particular statistic can be called by its St-number or number::
   }}}
   There should be two colon only if the next block is indented. In that case it should be
   {{{
   EXAMPLES:
  
   A particular statistic can be called by its St-number or number::
   }}}
   And in the following you forgot a colon
   {{{
   To search for a distribution, send a list of lists, or a single pair:
   }}}

There is a lot of useful information in the [developer guide](http://www.sagemath.org/doc/developer/coding_basics.html#documentation-strings).



---

archive/issue_comments_234411.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-23T11:52:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234411",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234412.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-23T16:16:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234413.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T16:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234414.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T22:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234414",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234415.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-29T20:58:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234415",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234416.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-30T07:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234417.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-30T07:04:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234417",
    "user": "https://github.com/mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_234418.json:
```json
{
    "body": "Hi Martin, thanks for all your work on that!\n\n1. Several doctests currently fail:\n\n\n```\nsage -t src/sage/databases/findstat.py\n**********************************************************************\nFile \"src/sage/databases/findstat.py\", line 637, in sage.databases.findstat.FindStatStatistic.id\nFailed example:\n    findstat(1).id()                              # optional -- internet\nExpected:\n    <BLANKLINE>\n    (process:...): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed\n    1\nGot:\n    1\n**********************************************************************\nFile \"src/sage/databases/findstat.py\", line 719, in sage.databases.findstat.FindStatStatistic.function\nFailed example:\n    findstat(lambda pi: pi.length(), \"Permutations\").function() # optional -- internet\nExpected:\n    <function <lambda> at ...>\nGot:\n    <BLANKLINE>\n    (process:21380): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed\n    <function <lambda> at 0x7fb420e806e0>\n**********************************************************************\nFile \"src/sage/databases/findstat.py\", line 1294, in sage.databases.findstat.FindStatCollection.first_terms\nFailed example:\n    c.first_terms(lambda x: 1, max_values=10))                       # optional -- internet\nException raised:\n    Traceback (most recent call last):\n      File \"/home/stumpc5/progs/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 488, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/stumpc5/progs/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 848, in compile_and_execute\n        compiled = compiler(example)\n      File \"/home/stumpc5/progs/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 486, in <lambda>\n        example.source, filename, \"single\", compileflags, 1)\n      File \"<doctest sage.databases.findstat.FindStatCollection.first_terms[2]>\", line 1\n        c.first_terms(lambda x: Integer(1), max_values=Integer(10)))                       # optional -- internet\n                                                                   ^\n    SyntaxError: invalid syntax\n**********************************************************************\nFile \"src/sage/databases/findstat.py\", line 1505, in sage.databases.findstat.FindStatMap.id\nFailed example:\n    m = findstat(lambda pi: pi.length(), \"Permutations\")[1][1][0] # optional -- internet\nExpected nothing\nGot:\n    <BLANKLINE>\n    (process:21392): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed\n    <BLANKLINE>\n    (process:21402): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed\n**********************************************************************\n4 items had failures:\n   1 of   4 in sage.databases.findstat.FindStatCollection.first_terms\n   1 of   3 in sage.databases.findstat.FindStatMap.id\n   1 of   2 in sage.databases.findstat.FindStatStatistic.function\n   1 of   2 in sage.databases.findstat.FindStatStatistic.id\n    [77 tests, 4 failures, 12.80 s]\n----------------------------------------------------------------------\nsage -t src/sage/databases/findstat.py  # 4 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 13.1 seconds\n    cpu time: 5.7 seconds\n    cumulative wall time: 12.8 seconds\n```\n\n\n\n2. The documentation doesn't build (unless I made a mistake, I haven't been building docs in a while):\n\n\n```\nError building the documentation.\n\nNote: incremental documentation builds sometimes cause spurious\nerror messages. To be certain that these are real errors, run\n\"make doc-clean\" first and try again.\nTraceback (most recent call last):\n  File \"/home/stumpc5/progs/sage-git/src/doc/common/builder.py\", line 1618, in <module>\n    getattr(get_builder(name), type)()\n  File \"/home/stumpc5/progs/sage-git/src/doc/common/builder.py\", line 503, in _wrapper\n    x.get(99999)\n  File \"/home/stumpc5/progs/sage-git/local/lib/python/multiprocessing/pool.py\", line 558, in get\n    raise self._value\nOSError: [databases] /home/stumpc5/progs/sage-git/local/lib/python2.7/site-packages/sage/databases/findstat.py:docstring of sage.databases.findstat:16: ERROR: Unexpected indentation.\n```\n\n\n3. I wonder whether it is okay that doctests open browser windows, `@`vdelecroix, `@`ncohen.\n\n4. How should doctests that change from the FindStat side over time be handled, `@`vdelecroix, `@`ncohen. One (possibly not the best) example is\n\n\n```\n    sage: [FindStatCollection(c.first_terms(lambda x: 0, max_values=1)[0][0]) for c in cl]\n        [Cc0001: Permutations,\n         Cc0002: Integer partitions,\n         Cc0005: Dyck paths,\n         Cc0006: Integer compositions,\n         Cc0007: Standard tableaux,\n         Cc0009: Set partitions,\n         Cc0010: Binary trees,\n         Cc0012: Perfect matchings,\n         Cc0013: Cores,\n         Cc0014: Posets,\n         Cc0017: Alternating sign matrices,\n         Cc0018: Gelfand-Tsetlin patterns,\n         Cc0019: Semistandard tableaux,\n         Cc0020: Graphs,\n         Cc0021: Ordered trees,\n         Cc0022: Finite Cartan types,\n         Cc0023: Parking functions]\n```\n",
    "created_at": "2015-03-30T07:51:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234418",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Hi Martin, thanks for all your work on that!

1. Several doctests currently fail:


```
sage -t src/sage/databases/findstat.py
**********************************************************************
File "src/sage/databases/findstat.py", line 637, in sage.databases.findstat.FindStatStatistic.id
Failed example:
    findstat(1).id()                              # optional -- internet
Expected:
    <BLANKLINE>
    (process:...): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed
    1
Got:
    1
**********************************************************************
File "src/sage/databases/findstat.py", line 719, in sage.databases.findstat.FindStatStatistic.function
Failed example:
    findstat(lambda pi: pi.length(), "Permutations").function() # optional -- internet
Expected:
    <function <lambda> at ...>
Got:
    <BLANKLINE>
    (process:21380): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed
    <function <lambda> at 0x7fb420e806e0>
**********************************************************************
File "src/sage/databases/findstat.py", line 1294, in sage.databases.findstat.FindStatCollection.first_terms
Failed example:
    c.first_terms(lambda x: 1, max_values=10))                       # optional -- internet
Exception raised:
    Traceback (most recent call last):
      File "/home/stumpc5/progs/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/stumpc5/progs/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 848, in compile_and_execute
        compiled = compiler(example)
      File "/home/stumpc5/progs/sage-git/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 486, in <lambda>
        example.source, filename, "single", compileflags, 1)
      File "<doctest sage.databases.findstat.FindStatCollection.first_terms[2]>", line 1
        c.first_terms(lambda x: Integer(1), max_values=Integer(10)))                       # optional -- internet
                                                                   ^
    SyntaxError: invalid syntax
**********************************************************************
File "src/sage/databases/findstat.py", line 1505, in sage.databases.findstat.FindStatMap.id
Failed example:
    m = findstat(lambda pi: pi.length(), "Permutations")[1][1][0] # optional -- internet
Expected nothing
Got:
    <BLANKLINE>
    (process:21392): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed
    <BLANKLINE>
    (process:21402): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed
**********************************************************************
4 items had failures:
   1 of   4 in sage.databases.findstat.FindStatCollection.first_terms
   1 of   3 in sage.databases.findstat.FindStatMap.id
   1 of   2 in sage.databases.findstat.FindStatStatistic.function
   1 of   2 in sage.databases.findstat.FindStatStatistic.id
    [77 tests, 4 failures, 12.80 s]
----------------------------------------------------------------------
sage -t src/sage/databases/findstat.py  # 4 doctests failed
----------------------------------------------------------------------
Total time for all tests: 13.1 seconds
    cpu time: 5.7 seconds
    cumulative wall time: 12.8 seconds
```



2. The documentation doesn't build (unless I made a mistake, I haven't been building docs in a while):


```
Error building the documentation.

Note: incremental documentation builds sometimes cause spurious
error messages. To be certain that these are real errors, run
"make doc-clean" first and try again.
Traceback (most recent call last):
  File "/home/stumpc5/progs/sage-git/src/doc/common/builder.py", line 1618, in <module>
    getattr(get_builder(name), type)()
  File "/home/stumpc5/progs/sage-git/src/doc/common/builder.py", line 503, in _wrapper
    x.get(99999)
  File "/home/stumpc5/progs/sage-git/local/lib/python/multiprocessing/pool.py", line 558, in get
    raise self._value
OSError: [databases] /home/stumpc5/progs/sage-git/local/lib/python2.7/site-packages/sage/databases/findstat.py:docstring of sage.databases.findstat:16: ERROR: Unexpected indentation.
```


3. I wonder whether it is okay that doctests open browser windows, `@`vdelecroix, `@`ncohen.

4. How should doctests that change from the FindStat side over time be handled, `@`vdelecroix, `@`ncohen. One (possibly not the best) example is


```
    sage: [FindStatCollection(c.first_terms(lambda x: 0, max_values=1)[0][0]) for c in cl]
        [Cc0001: Permutations,
         Cc0002: Integer partitions,
         Cc0005: Dyck paths,
         Cc0006: Integer compositions,
         Cc0007: Standard tableaux,
         Cc0009: Set partitions,
         Cc0010: Binary trees,
         Cc0012: Perfect matchings,
         Cc0013: Cores,
         Cc0014: Posets,
         Cc0017: Alternating sign matrices,
         Cc0018: Gelfand-Tsetlin patterns,
         Cc0019: Semistandard tableaux,
         Cc0020: Graphs,
         Cc0021: Ordered trees,
         Cc0022: Finite Cartan types,
         Cc0023: Parking functions]
```




---

archive/issue_comments_234419.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-03-30T07:51:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234419",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_234420.json:
```json
{
    "body": "I was trying to fix the doctests, but stumble across the following problem: I constantly get errors such as\n\n```\nFailed example:\n    FindStatCollection(\"Binary trees\").name()               # optional -- internet\nExpected:\n    u'Binary tree'\nGot:\n    <BLANKLINE>\n    (process:23292): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed\n    u'Binary tree'\n```\n\nand the problem is that this\n\n```\n    <BLANKLINE>\n    (process:23292): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed\n```\n\nonly happens sometimes (google search tells me this appears to be a firefox issue, but I wouldn't know how to handle this in Sage doctests.",
    "created_at": "2015-03-30T08:25:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234420",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

I was trying to fix the doctests, but stumble across the following problem: I constantly get errors such as

```
Failed example:
    FindStatCollection("Binary trees").name()               # optional -- internet
Expected:
    u'Binary tree'
Got:
    <BLANKLINE>
    (process:23292): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed
    u'Binary tree'
```

and the problem is that this

```
    <BLANKLINE>
    (process:23292): GLib-CRITICAL **: g_slice_set_config: assertion 'sys_page_size == 0' failed
```

only happens sometimes (google search tells me this appears to be a firefox issue, but I wouldn't know how to handle this in Sage doctests.



---

archive/issue_comments_234421.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-30T08:31:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234421",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234422.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-30T08:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234422",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234423.json:
```json
{
    "body": "Christian, the last commit is not following the conventions at http://www.sagemath.org/doc/developer/coding_basics.html#the-docstring-of-a-function-content:\n\n    It [the one sentence description] must be followed by a blank line and end in a period.\n\nPlease revert.\n----\nNew commits:",
    "created_at": "2015-03-30T08:38:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234423",
    "user": "https://github.com/mantepse"
}
```

Christian, the last commit is not following the conventions at http://www.sagemath.org/doc/developer/coding_basics.html#the-docstring-of-a-function-content:

    It [the one sentence description] must be followed by a blank line and end in a period.

Please revert.
----
New commits:



---

archive/issue_comments_234424.json:
```json
{
    "body": "I'm still having the problem that I cannot run the doctests at all.  As I mentioned on sage-devel, I get, for example: \n\n```\nmartin@Martin-Laptop:~/sage$ ./sage -t --optional=internet src/sage/databases/findstat.py\ntoo few successful tests, not using stored timings\nRunning doctests with ID 2015-03-30-10-41-21-fba377bd.\nGit branch: public/findstat-interface\nDoctesting 1 file.\nsage -t src/sage/databases/findstat.py\n**********************************************************************\nFile \"src/sage/databases/findstat.py\", line 1152, in sage.databases.findstat.FindStatCollection.__init__\nFailed example:\n    FindStatCollection(\"Dyck paths\")                 # optional -- internet\nException raised:\n    Traceback (most recent call last):\n      File \"/home/martin/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 488, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/martin/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 850, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.databases.findstat.FindStatCollection.__init__[0]>\", line 1, in <module>\n        FindStatCollection(\"Dyck paths\")                 # optional -- internet\n    NameError: name 'FindStatCollection' is not defined\n\n```\n\n\nHow can I fix this?  ``FindStatCollection`` is imported in the preceding line of the docstring!",
    "created_at": "2015-03-30T08:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234424",
    "user": "https://github.com/mantepse"
}
```

I'm still having the problem that I cannot run the doctests at all.  As I mentioned on sage-devel, I get, for example: 

```
martin@Martin-Laptop:~/sage$ ./sage -t --optional=internet src/sage/databases/findstat.py
too few successful tests, not using stored timings
Running doctests with ID 2015-03-30-10-41-21-fba377bd.
Git branch: public/findstat-interface
Doctesting 1 file.
sage -t src/sage/databases/findstat.py
**********************************************************************
File "src/sage/databases/findstat.py", line 1152, in sage.databases.findstat.FindStatCollection.__init__
Failed example:
    FindStatCollection("Dyck paths")                 # optional -- internet
Exception raised:
    Traceback (most recent call last):
      File "/home/martin/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/martin/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 850, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.databases.findstat.FindStatCollection.__init__[0]>", line 1, in <module>
        FindStatCollection("Dyck paths")                 # optional -- internet
    NameError: name 'FindStatCollection' is not defined

```


How can I fix this?  ``FindStatCollection`` is imported in the preceding line of the docstring!



---

archive/issue_comments_234425.json:
```json
{
    "body": "Is I wrote some time earlier, you must run \n\n\n```\nsage -t --optional=sage,internet path/to/interface.sage\n```\n\n\nIf you only run `--optional=internet`, you are *only* running those tests having `# optional -- internet`, so all the imports (and a few others) are not performed.",
    "created_at": "2015-03-30T08:48:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234425",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Is I wrote some time earlier, you must run 


```
sage -t --optional=sage,internet path/to/interface.sage
```


If you only run `--optional=internet`, you are *only* running those tests having `# optional -- internet`, so all the imports (and a few others) are not performed.



---

archive/issue_comments_234426.json:
```json
{
    "body": "Even for a \".py\" file?  OK, yes, it works.  Thanks!\n\nRegarding your comments above:\n\n3.) I agree. Removing these doctests also gets rid of the annoying firefox bug.\n\n4.) This test is there precisely because *if* it doesn't pass, the interface *should* be updated (in the case at hand, with the information concerning new combinatorial collections.\n\nCould you please revert your commit with the periods, then I fix the other stuff!  Thanks also for fixing the docbuild!",
    "created_at": "2015-03-30T08:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234426",
    "user": "https://github.com/mantepse"
}
```

Even for a ".py" file?  OK, yes, it works.  Thanks!

Regarding your comments above:

3.) I agree. Removing these doctests also gets rid of the annoying firefox bug.

4.) This test is there precisely because *if* it doesn't pass, the interface *should* be updated (in the case at hand, with the information concerning new combinatorial collections.

Could you please revert your commit with the periods, then I fix the other stuff!  Thanks also for fixing the docbuild!



---

archive/issue_comments_234427.json:
```json
{
    "body": "> 4.) This test is there precisely because *if* it doesn't pass, the interface *should* be updated (in the case at hand, with the information concerning new combinatorial collections.\n\nMy point here is: doctests can stop working without any change on the Sage side. This implies that a new Sage release possibly depends on someone fixing the doctests in the FindStat interface. I am not sure this is the right thing to do...",
    "created_at": "2015-03-30T09:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234427",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

> 4.) This test is there precisely because *if* it doesn't pass, the interface *should* be updated (in the case at hand, with the information concerning new combinatorial collections.

My point here is: doctests can stop working without any change on the Sage side. This implies that a new Sage release possibly depends on someone fixing the doctests in the FindStat interface. I am not sure this is the right thing to do...



---

archive/issue_comments_234428.json:
```json
{
    "body": "(the doctests were working, but I now get back the `unexpected indention`, that's why I haven't yet pushed.",
    "created_at": "2015-03-30T09:01:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234428",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

(the doctests were working, but I now get back the `unexpected indention`, that's why I haven't yet pushed.



---

archive/issue_comments_234429.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-30T09:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234429",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234430.json:
```json
{
    "body": "Replying to [comment:43 stumpc5]:\n> > 4.) This test is there precisely because *if* it doesn't pass, the interface *should* be updated (in the case at hand, with the information concerning new combinatorial collections.\n> \n> My point here is: doctests can stop working without any change on the Sage side. This implies that a new Sage release possibly depends on someone fixing the doctests in the FindStat interface. I am not sure this is the right thing to do...\n\nWell, but if this doctest (as currently written) doesn't pass, the interface will not work reliably: user might get a result where her statistic is produced via a map from a statistic on the new collection.\n\nThe constant ``_findstat_collections`` is really the only place that needs updating, and it should be easy to update it.  But it does need updating...\n----\nNew commits:",
    "created_at": "2015-03-30T09:09:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234430",
    "user": "https://github.com/mantepse"
}
```

Replying to [comment:43 stumpc5]:
> > 4.) This test is there precisely because *if* it doesn't pass, the interface *should* be updated (in the case at hand, with the information concerning new combinatorial collections.
> 
> My point here is: doctests can stop working without any change on the Sage side. This implies that a new Sage release possibly depends on someone fixing the doctests in the FindStat interface. I am not sure this is the right thing to do...

Well, but if this doctest (as currently written) doesn't pass, the interface will not work reliably: user might get a result where her statistic is produced via a map from a statistic on the new collection.

The constant ``_findstat_collections`` is really the only place that needs updating, and it should be easy to update it.  But it does need updating...
----
New commits:



---

archive/issue_comments_234431.json:
```json
{
    "body": "Okay, found the problem. I added your examples from the class FindStat also to the beginning of the file in order to make the reference manual nicer to read. Feel free to update that again if you prefer another way of doing it.",
    "created_at": "2015-03-30T09:10:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234431",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Okay, found the problem. I added your examples from the class FindStat also to the beginning of the file in order to make the reference manual nicer to read. Feel free to update that again if you prefer another way of doing it.



---

archive/issue_comments_234432.json:
```json
{
    "body": "Replying to [comment:46 mantepse]:\n> Well, but if this doctest (as currently written) doesn't pass, the interface will not work reliably: user might get a result where her statistic is produced via a map from a statistic on the new collection.\n\nI am not necessarily arguing about doctest that tests whether the interface still works well (even though my general concern also applies to those, and e.g. the OEIS interface was broken several times IIRC).\n\nWhat about the doctest\n\n```\nsage: print findstat(1).description() # optional -- internet\nThe number of ways to write a permutation as a minimal length product of simple transpositions.\n```\n\nafter someone has changed the description of this statistic? Or the case that we added another collection -- would that break the interface, or would it only not serve the new collection as long as it is not added?",
    "created_at": "2015-03-30T09:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234432",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Replying to [comment:46 mantepse]:
> Well, but if this doctest (as currently written) doesn't pass, the interface will not work reliably: user might get a result where her statistic is produced via a map from a statistic on the new collection.

I am not necessarily arguing about doctest that tests whether the interface still works well (even though my general concern also applies to those, and e.g. the OEIS interface was broken several times IIRC).

What about the doctest

```
sage: print findstat(1).description() # optional -- internet
The number of ways to write a permutation as a minimal length product of simple transpositions.
```

after someone has changed the description of this statistic? Or the case that we added another collection -- would that break the interface, or would it only not serve the new collection as long as it is not added?



---

archive/issue_comments_234433.json:
```json
{
    "body": "Yes, I agree that there is a problem with the other doctests, involving name, description, code, perhaps even values... But I don't really know what to do about this.  I think it would be a shame if the interface cannot go in just because of this.\n\nA workaround might be to mark these EXAMPLES as random.  Once full search is implemented, I could have doctests that search for the description.  But I won't do this now.\n\nThe only doctest which is really necessary is the test in the FindStatCollection class.",
    "created_at": "2015-03-30T09:24:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234433",
    "user": "https://github.com/mantepse"
}
```

Yes, I agree that there is a problem with the other doctests, involving name, description, code, perhaps even values... But I don't really know what to do about this.  I think it would be a shame if the interface cannot go in just because of this.

A workaround might be to mark these EXAMPLES as random.  Once full search is implemented, I could have doctests that search for the description.  But I won't do this now.

The only doctest which is really necessary is the test in the FindStatCollection class.



---

archive/issue_comments_234434.json:
```json
{
    "body": "Concerning the introductory section: I'm going to think of a systematic tour, which demonstrates one or two typical workflows.  Thanks for catching the error!\n\nConcerning the webbrowser: the simple and correct solution is to remove the keyword \"internet\" from the webbrowser tests!",
    "created_at": "2015-03-30T09:28:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234434",
    "user": "https://github.com/mantepse"
}
```

Concerning the introductory section: I'm going to think of a systematic tour, which demonstrates one or two typical workflows.  Thanks for catching the error!

Concerning the webbrowser: the simple and correct solution is to remove the keyword "internet" from the webbrowser tests!



---

archive/issue_comments_234435.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-30T09:51:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234435",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234436.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-30T10:59:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234436",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234437.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-30T11:22:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234437",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234438.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-30T12:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234438",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234439.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-30T13:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234439",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234440.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-30T21:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234440",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234441.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-03-30T21:44:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234441",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_234442.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-31T14:59:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234442",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234443.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-01T19:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234443",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234444.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-04-14T06:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234444",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_234445.json:
```json
{
    "body": "Two things (see patchbot report)\n\n- please use python3-style raise statements:\n\n```\nraise Error(\"this is the good way\")\n```\n\ninstead of\n\n```\nraise Error, 'this was the old way'\n```\n\nThe bot says\n\n```\nOld-style raise statement inserted on 5 non-empty lines\n```\n\n\n\n- please make sure that every function is doctested.\n`'Missing doctests ', 'databases/findstat.py', '40 / 57 = 70%')`",
    "created_at": "2015-04-14T06:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234445",
    "user": "https://github.com/fchapoton"
}
```

Two things (see patchbot report)

- please use python3-style raise statements:

```
raise Error("this is the good way")
```

instead of

```
raise Error, 'this was the old way'
```

The bot says

```
Old-style raise statement inserted on 5 non-empty lines
```



- please make sure that every function is doctested.
`'Missing doctests ', 'databases/findstat.py', '40 / 57 = 70%')`



---

archive/issue_comments_234446.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-14T07:11:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234446",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234447.json:
```json
{
    "body": "Thank you for raising my awareness!\n\nTwo questions:\n\n1) where can I find the patchbot report?\n\n2) how am I supposed to doctest functions that use a webbrowser?",
    "created_at": "2015-04-14T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234447",
    "user": "https://github.com/mantepse"
}
```

Thank you for raising my awareness!

Two questions:

1) where can I find the patchbot report?

2) how am I supposed to doctest functions that use a webbrowser?



---

archive/issue_comments_234448.json:
```json
{
    "body": "1) Patchbot reports are available by clicking on the round colored icon (top right of the page)\n\n2) I do not know, sorry. I have not looked at your code.",
    "created_at": "2015-04-14T07:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234448",
    "user": "https://github.com/fchapoton"
}
```

1) Patchbot reports are available by clicking on the round colored icon (top right of the page)

2) I do not know, sorry. I have not looked at your code.



---

archive/issue_comments_234449.json:
```json
{
    "body": "1) great!  Thank you!\n\n2) So, I guess I have to ask on sage-devel...",
    "created_at": "2015-04-14T07:28:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234449",
    "user": "https://github.com/mantepse"
}
```

1) great!  Thank you!

2) So, I guess I have to ask on sage-devel...



---

archive/issue_comments_234450.json:
```json
{
    "body": "Replying to [comment:62 mantepse]:\n\n> 2) how am I supposed to doctest functions that use a webbrowser?\n\nJust have a look at the oeis module. Though I would not say that doctesting all functions is a requirement.",
    "created_at": "2015-04-14T07:32:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234450",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:62 mantepse]:

> 2) how am I supposed to doctest functions that use a webbrowser?

Just have a look at the oeis module. Though I would not say that doctesting all functions is a requirement.



---

archive/issue_comments_234451.json:
```json
{
    "body": "Thanks Frederic and Vincent!  I just looked at\n\n\n```\nsage --coverage findstat.py\n```\n\n\nwhich more or less tells me what to do.  I guess I'll simply cook up some tests this afternoon.",
    "created_at": "2015-04-14T07:43:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234451",
    "user": "https://github.com/mantepse"
}
```

Thanks Frederic and Vincent!  I just looked at


```
sage --coverage findstat.py
```


which more or less tells me what to do.  I guess I'll simply cook up some tests this afternoon.



---

archive/issue_comments_234452.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-14T15:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234452",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234453.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-14T15:24:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234453",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234454.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-14T15:32:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234454",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234455.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-14T18:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234455",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234456.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-04-14T18:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234456",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_234457.json:
```json
{
    "body": "I cannot think of any more sensible tests...",
    "created_at": "2015-04-14T18:59:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234457",
    "user": "https://github.com/mantepse"
}
```

I cannot think of any more sensible tests...



---

archive/issue_comments_234458.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-15T08:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234458",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234459.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-15T19:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234459",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234460.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-15T19:09:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234460",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234461.json:
```json
{
    "body": "Please avoid using # in the doctests, as for example here:\n\n```\n# when one of these tests does not pass, there is probably a new collection to be added.\n```\n",
    "created_at": "2015-04-17T08:39:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234461",
    "user": "https://github.com/fchapoton"
}
```

Please avoid using # in the doctests, as for example here:

```
# when one of these tests does not pass, there is probably a new collection to be added.
```




---

archive/issue_comments_234462.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-17T10:05:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234462",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234463.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-17T23:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234463",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234464.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-22T19:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234464",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234465.json:
```json
{
    "body": "I just did\n\n```\nsage: A = findstat({ S: len([B for B in S if len(B) == 1 ] ) for S in SetPartitions(4) },depth=0)\nsage: A.submit()\nValueError                                Traceback (most recent call last)\n...\nValueError: too many values to unpack\n```\n\n\nInstead, this worked:\n\n```\nsage: def statistic(S):\n    return len([B for B in S if len(B) == 1 ])\n\nsage: A = findstat(statistic,SetPartitions,depth=0)\nsage: A.submit()\n```\n\nIt took me a few minutes to figure how to properly give a statistic in order to submit it -- wouldn't it be nice if the first version would also work, or at least give a hint on how to do it?",
    "created_at": "2015-05-05T08:37:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234465",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

I just did

```
sage: A = findstat({ S: len([B for B in S if len(B) == 1 ] ) for S in SetPartitions(4) },depth=0)
sage: A.submit()
ValueError                                Traceback (most recent call last)
...
ValueError: too many values to unpack
```


Instead, this worked:

```
sage: def statistic(S):
    return len([B for B in S if len(B) == 1 ])

sage: A = findstat(statistic,SetPartitions,depth=0)
sage: A.submit()
```

It took me a few minutes to figure how to properly give a statistic in order to submit it -- wouldn't it be nice if the first version would also work, or at least give a hint on how to do it?



---

archive/issue_comments_234466.json:
```json
{
    "body": "Are you sure you have the most recent version?  I get:\n\n\n```\nsage: A = findstat({ S: len([B for B in S if len(B) == 1 ] ) for S in SetPartitions(4) },depth=0)\nsage: A\n0: (St000247: The number of singleton blocks of a set partition., [], 15)\nsage: A.submit()\nValueError: Your input data matches St000247.  Consider modifying this statistic instead.\n```\n",
    "created_at": "2015-05-05T08:54:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234466",
    "user": "https://github.com/mantepse"
}
```

Are you sure you have the most recent version?  I get:


```
sage: A = findstat({ S: len([B for B in S if len(B) == 1 ] ) for S in SetPartitions(4) },depth=0)
sage: A
0: (St000247: The number of singleton blocks of a set partition., [], 15)
sage: A.submit()
ValueError: Your input data matches St000247.  Consider modifying this statistic instead.
```




---

archive/issue_comments_234467.json:
```json
{
    "body": "haha -- I used the second version, submitted the statistic, viviane reviewed it, and you now find it from the interface...",
    "created_at": "2015-05-05T08:57:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234467",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

haha -- I used the second version, submitted the statistic, viviane reviewed it, and you now find it from the interface...



---

archive/issue_comments_234468.json:
```json
{
    "body": "Oh.  I'm about to fix this!  Thanks for the bug report!",
    "created_at": "2015-05-05T09:17:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234468",
    "user": "https://github.com/mantepse"
}
```

Oh.  I'm about to fix this!  Thanks for the bug report!



---

archive/issue_comments_234469.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-05T09:43:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234469",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234470.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-05T09:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234470",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234471.json:
```json
{
    "body": "Done!  Thanks again!",
    "created_at": "2015-05-05T09:48:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234471",
    "user": "https://github.com/mantepse"
}
```

Done!  Thanks again!



---

archive/issue_comments_234472.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-31T08:21:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234472",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234473.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-04T03:03:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234473",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234474.json:
```json
{
    "body": "I've read through the whole ticket and documentation: everything seems fine. I've fixed the few little things I've noticed. It seems like everything that had been requested has been done. The design is very reasonable and the tests pass!\n\nSo, if everyone's happy I would suggest that Christian or Martin review my latest push and that we put a positive review. \n\nThank you Martin, I find it a very nice work.",
    "created_at": "2015-06-04T03:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234474",
    "user": "https://github.com/VivianePons"
}
```

I've read through the whole ticket and documentation: everything seems fine. I've fixed the few little things I've noticed. It seems like everything that had been requested has been done. The design is very reasonable and the tests pass!

So, if everyone's happy I would suggest that Christian or Martin review my latest push and that we put a positive review. 

Thank you Martin, I find it a very nice work.



---

archive/issue_comments_234475.json:
```json
{
    "body": "Great, seems good to me, but I let Martin to have the last check on your changes.",
    "created_at": "2015-06-04T10:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234475",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Great, seems good to me, but I let Martin to have the last check on your changes.



---

archive/issue_comments_234476.json:
```json
{
    "body": "Wow, great!\n\nBecause of lack of a computer I cannot really test your changes, so please forgive if I could answer the following questions myself:\n\n* does it really make sense to make the class `FindStat` inherit from `SageObject`?  I thought the rule was for classes with \"mathematical\" objects, or at least objects the user can actually manipulate or inspect.  The reason I did not  use it was that the class `FindStat` actually should not produce any objects...\n\n* I think I recall that in `__eq__`\n\n```\n    if (not isinstance(other, FindStatStatistic)):\n         return False\n```\n\n  is actually unnecessary - but I'm not sure.  Could you please double-check?  (same for `FindStatMap`)\n\nIn any case: yes, I'm very happy with having this finished!\n\nThank you so much!\n\nMartin",
    "created_at": "2015-06-04T16:11:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234476",
    "user": "https://github.com/mantepse"
}
```

Wow, great!

Because of lack of a computer I cannot really test your changes, so please forgive if I could answer the following questions myself:

* does it really make sense to make the class `FindStat` inherit from `SageObject`?  I thought the rule was for classes with "mathematical" objects, or at least objects the user can actually manipulate or inspect.  The reason I did not  use it was that the class `FindStat` actually should not produce any objects...

* I think I recall that in `__eq__`

```
    if (not isinstance(other, FindStatStatistic)):
         return False
```

  is actually unnecessary - but I'm not sure.  Could you please double-check?  (same for `FindStatMap`)

In any case: yes, I'm very happy with having this finished!

Thank you so much!

Martin



---

archive/issue_comments_234477.json:
```json
{
    "body": "You're right about SageObject it might not be necessary. I was under the impression that the FindStat class did return an object but maybe the user can never see this object... \n\nAbout the __eq__ I did check and it seemed necessary: when I was comparing statisctics or whatever to other things (like integers) I would get an ugly Exception instead of just False. Maybe there is another way to do this. I was actually under the impression that it should have been taken care for by SageObject but it doesn't seem so...",
    "created_at": "2015-06-04T16:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234477",
    "user": "https://github.com/VivianePons"
}
```

You're right about SageObject it might not be necessary. I was under the impression that the FindStat class did return an object but maybe the user can never see this object... 

About the __eq__ I did check and it seemed necessary: when I was comparing statisctics or whatever to other things (like integers) I would get an ugly Exception instead of just False. Maybe there is another way to do this. I was actually under the impression that it should have been taken care for by SageObject but it doesn't seem so...



---

archive/issue_comments_234478.json:
```json
{
    "body": "Great!",
    "created_at": "2015-06-04T17:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234478",
    "user": "https://github.com/mantepse"
}
```

Great!



---

archive/issue_comments_234479.json:
```json
{
    "body": "Hi Viviane!\n\nI have just created two more classes `FindStatCollections` and `FindStatMaps` which serve as parents for collections and maps.  Although nice, this is not a very important feature, I think.  So I don't want to delay the review because of that.\n\nHowever, if you are willing to review this in the same ticket I would push it to trac!  (Note that I'm a bit unsure whether I did things correctly with all this classcall magic.)",
    "created_at": "2015-06-06T17:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234479",
    "user": "https://github.com/mantepse"
}
```

Hi Viviane!

I have just created two more classes `FindStatCollections` and `FindStatMaps` which serve as parents for collections and maps.  Although nice, this is not a very important feature, I think.  So I don't want to delay the review because of that.

However, if you are willing to review this in the same ticket I would push it to trac!  (Note that I'm a bit unsure whether I did things correctly with all this classcall magic.)



---

archive/issue_comments_234480.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-07T07:26:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234480",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234481.json:
```json
{
    "body": "Sorry Viviane, it's so much better that I pushed.  I hope you can give it your OK :-)",
    "created_at": "2015-06-07T07:32:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234481",
    "user": "https://github.com/mantepse"
}
```

Sorry Viviane, it's so much better that I pushed.  I hope you can give it your OK :-)



---

archive/issue_comments_234482.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-07T13:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234482",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234483.json:
```json
{
    "body": "No problem. I ave still one week of sage days so I will have plenty of time to review. And you're right, it's probably better with proper parents.",
    "created_at": "2015-06-07T20:31:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234483",
    "user": "https://github.com/VivianePons"
}
```

No problem. I ave still one week of sage days so I will have plenty of time to review. And you're right, it's probably better with proper parents.



---

archive/issue_comments_234484.json:
```json
{
    "body": "Changing component from interfaces to interfaces: optional.",
    "created_at": "2015-06-23T13:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234484",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from interfaces to interfaces: optional.



---

archive/issue_comments_234485.json:
```json
{
    "body": "Hi Viviane --\n\nI wanted to check what the status of the review here is... also: what is the difference between `interfaces` and `interfaces: optional`\n\n\nChristian",
    "created_at": "2015-07-20T12:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234485",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Hi Viviane --

I wanted to check what the status of the review here is... also: what is the difference between `interfaces` and `interfaces: optional`


Christian



---

archive/issue_comments_234486.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-27T16:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234486",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234487.json:
```json
{
    "body": "I just noticed that the interface is slightly inconsistent: it expects either objects and values, or a statistic in form of a callable and a collection.  I guess the collection should come first.",
    "created_at": "2015-07-27T16:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234487",
    "user": "https://github.com/mantepse"
}
```

I just noticed that the interface is slightly inconsistent: it expects either objects and values, or a statistic in form of a callable and a collection.  I guess the collection should come first.



---

archive/issue_comments_234488.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-27T16:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234488",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234489.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-08T07:37:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234489",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_234490.json:
```json
{
    "body": "does not build, see patchbot report (metaclass problem)",
    "created_at": "2015-08-08T07:37:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234490",
    "user": "https://github.com/fchapoton"
}
```

does not build, see patchbot report (metaclass problem)



---

archive/issue_comments_234491.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-09T21:39:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234491",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234492.json:
```json
{
    "body": "I have no idea why, but it seems that I needed to replace\n\n\n```\n__metaclass__ = ClasscallMetaclass\n```\n\n\nwith\n\n\n```\n__metaclass__ = InheritComparisonClasscallMetaclass\n```\n\n\nJust took me a few hours :-(",
    "created_at": "2015-08-09T21:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234492",
    "user": "https://github.com/mantepse"
}
```

I have no idea why, but it seems that I needed to replace


```
__metaclass__ = ClasscallMetaclass
```


with


```
__metaclass__ = InheritComparisonClasscallMetaclass
```


Just took me a few hours :-(



---

archive/issue_comments_234493.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-09T21:41:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234493",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_234494.json:
```json
{
    "body": "The patchbot says that there are two missing doctests. Please recheck!",
    "created_at": "2015-08-11T08:44:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234494",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

The patchbot says that there are two missing doctests. Please recheck!



---

archive/issue_comments_234495.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-11T21:03:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234495",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234496.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-24T09:51:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234496",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234497.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-25T08:29:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234497",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234498.json:
```json
{
    "body": "I have been playing with the interface for some time now, and I consider it to be ready to get merged. Martin did a great job and the \"guided tour\" is an awesome point of entry to use the interface, with several easy examples to follow! When they pop up in real life, it might be worth to add also some more sophisticated use cases.\n\nAll tests pass on my machine with the optional flags set, I still wait for the patchbot to be green again  (though it does not do any doctests since they all require an internet connection) to give it a positive review.",
    "created_at": "2015-08-25T08:36:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234498",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

I have been playing with the interface for some time now, and I consider it to be ready to get merged. Martin did a great job and the "guided tour" is an awesome point of entry to use the interface, with several easy examples to follow! When they pop up in real life, it might be worth to add also some more sophisticated use cases.

All tests pass on my machine with the optional flags set, I still wait for the patchbot to be green again  (though it does not do any doctests since they all require an internet connection) to give it a positive review.



---

archive/issue_comments_234499.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-08-25T17:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234499",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_234500.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-08-26T00:31:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234500",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_234501.json:
```json
{
    "body": "Attempts internet access:\n\n```\nsage -t --long src/sage/databases/findstat.py\n**********************************************************************\nFile \"src/sage/databases/findstat.py\", line 844, in sage.databases.findstat.FindStatStatistic._find_by_id\nFailed example:\n    findstat(999999)                                              # indirect doctest\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: St999999 is not a FindStat statistic identifier.\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 496, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 858, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.databases.findstat.FindStatStatistic._find_by_id[0]>\", line 1, in <module>\n        findstat(Integer(999999))                                              # indirect doctest\n      File \"sage/misc/lazy_import.pyx\", line 383, in sage.misc.lazy_import.LazyImport.__call__ (/Users/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/misc/lazy_import.c:3593)\n        return self._get_object()(*args, **kwds)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/databases/findstat.py\", line 476, in __call__\n        return self._statistic_find_by_id_cached(query)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/databases/findstat.py\", line 631, in _statistic_find_by_id_cached\n        self._statistic_cache[id] = FindStatStatistic(id)._find_by_id()\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/databases/findstat.py\", line 855, in _find_by_id\n        self._raw = json.load(urlopen(url), object_pairs_hook=OrderedDict)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py\", line 154, in urlopen\n        return opener.open(url, data, timeout)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py\", line 431, in open\n        response = self._open(req, data)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py\", line 449, in _open\n        '_open', req)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py\", line 409, in _call_chain\n        result = func(*args)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py\", line 1227, in http_open\n        return self.do_open(httplib.HTTPConnection, req)\n      File \"/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py\", line 1197, in do_open\n        raise URLError(err)\n    URLError: <urlopen error [Errno 60] Operation timed out>\n**********************************************************************\n1 item had failures:\n   1 of   2 in sage.databases.findstat.FindStatStatistic._find_by_id\n    [50 tests, 1 failure, 75.18 s]\n```\n",
    "created_at": "2015-08-26T00:31:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234501",
    "user": "https://github.com/vbraun"
}
```

Attempts internet access:

```
sage -t --long src/sage/databases/findstat.py
**********************************************************************
File "src/sage/databases/findstat.py", line 844, in sage.databases.findstat.FindStatStatistic._find_by_id
Failed example:
    findstat(999999)                                              # indirect doctest
Expected:
    Traceback (most recent call last):
    ...
    ValueError: St999999 is not a FindStat statistic identifier.
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 496, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 858, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.databases.findstat.FindStatStatistic._find_by_id[0]>", line 1, in <module>
        findstat(Integer(999999))                                              # indirect doctest
      File "sage/misc/lazy_import.pyx", line 383, in sage.misc.lazy_import.LazyImport.__call__ (/Users/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/misc/lazy_import.c:3593)
        return self._get_object()(*args, **kwds)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/databases/findstat.py", line 476, in __call__
        return self._statistic_find_by_id_cached(query)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/databases/findstat.py", line 631, in _statistic_find_by_id_cached
        self._statistic_cache[id] = FindStatStatistic(id)._find_by_id()
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/databases/findstat.py", line 855, in _find_by_id
        self._raw = json.load(urlopen(url), object_pairs_hook=OrderedDict)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py", line 154, in urlopen
        return opener.open(url, data, timeout)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py", line 431, in open
        response = self._open(req, data)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py", line 449, in _open
        '_open', req)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py", line 409, in _call_chain
        result = func(*args)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py", line 1227, in http_open
        return self.do_open(httplib.HTTPConnection, req)
      File "/Users/buildslave-sage/slave/sage_git/build/local/lib/python/urllib2.py", line 1197, in do_open
        raise URLError(err)
    URLError: <urlopen error [Errno 60] Operation timed out>
**********************************************************************
1 item had failures:
   1 of   2 in sage.databases.findstat.FindStatStatistic._find_by_id
    [50 tests, 1 failure, 75.18 s]
```




---

archive/issue_comments_234502.json:
```json
{
    "body": "Isn't that part of the nature of an internet access that a connection can time out? That also happened to me before, but when rerunning the tests, everything went well. How should doctests that need an internet connection be handled otherwise?",
    "created_at": "2015-08-26T05:52:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234502",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Isn't that part of the nature of an internet access that a connection can time out? That also happened to me before, but when rerunning the tests, everything went well. How should doctests that need an internet connection be handled otherwise?



---

archive/issue_comments_234503.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-26T05:52:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234503",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_234504.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-26T05:56:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234504",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_234505.json:
```json
{
    "body": "Sorry, I think the problem was that this test was missing the flag `optional -- internet`, that's why you got the doctest failure. Was that is?\n----\nNew commits:",
    "created_at": "2015-08-26T05:58:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234505",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Sorry, I think the problem was that this test was missing the flag `optional -- internet`, that's why you got the doctest failure. Was that is?
----
New commits:



---

archive/issue_comments_234506.json:
```json
{
    "body": "Martin, would you briefly look at my change, do the doctests, and set the ticket back to positive review. Thanks!",
    "created_at": "2015-08-26T06:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234506",
    "user": "https://trac.sagemath.org/admin/accounts/users/stumpc5"
}
```

Martin, would you briefly look at my change, do the doctests, and set the ticket back to positive review. Thanks!



---

archive/issue_comments_234507.json:
```json
{
    "body": "Well, the change is trivial - I only didn't know that I'm entitled to \"positively review\" it...\n\n(Besides, I do not understand why you moved the definitions of collection, map and statistic, but I admit that I do not really care... In the same commit, there is also a typo: \"entriy\" should by \"entry\".  Apart from that, I agree that the changes are an improvement!  Thanks!)",
    "created_at": "2015-08-26T07:12:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234507",
    "user": "https://github.com/mantepse"
}
```

Well, the change is trivial - I only didn't know that I'm entitled to "positively review" it...

(Besides, I do not understand why you moved the definitions of collection, map and statistic, but I admit that I do not really care... In the same commit, there is also a typo: "entriy" should by "entry".  Apart from that, I agree that the changes are an improvement!  Thanks!)



---

archive/issue_comments_234508.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-08-26T07:12:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234508",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_234509.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-08-27T14:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17581",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17581#issuecomment-234509",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
