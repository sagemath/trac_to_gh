# Issue 27935: Profile of a Finite Permutation Group

Issue created by migration from https://trac.sagemath.org/ticket/28172

Original creator: falque

Original creation time: 2019-07-11 15:37:33

CC:  nthiery nadialafreniere

Keywords: permutation groups, profile

Add methods profile and profile_polynomial (= profile_series) in class PermutationGroup_generic, in order to be able to compute the orbital profile, and its generating series/polynomial, of a finite permutation group. 

(The profile of G maps any non negative integer n onto the number of G-orbits of n-subsets, for the induced action of G on all subsets of its domain.)


---

Comment by chapoton created at 2019-07-11 19:03:36

after `EXAMPLES::` the doctests must be indented by 4 spaces

in "profile", add INPUT to explain whar is n

add doctests with another variable name

add doc and doctests for "profile_series"
----
New commits:


---

Comment by chapoton created at 2019-07-11 19:05:41

if profile_series is just an alias, you can write

`profile_series = profile_polynomial`


---

Comment by nthiery created at 2019-07-12 07:09:12

Thanks Frédéric for the review! I also gave some oral feedback to Justine.

> if profile_series is just an alias, you can write
> 
> `profile_series = profile_polynomial`

Yup, with the caveat that if a subclass overrides profile_polynomial, profile_series will still point to the one here.


---

Comment by falque created at 2019-07-12 09:43:16

Methods should be added to the category of finite permutation groups rather than the class PermutationGroup_generic


---

Comment by git created at 2019-07-12 10:21:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by nadialafreniere created at 2019-07-12 15:23:23

Changing keywords from "permutation groups, profile" to "permutation groups, profile, fpsac2019".


---

Comment by chapoton created at 2019-07-16 08:45:34

needs review ?


---

Comment by falque created at 2019-07-28 11:11:39

Changing status from new to needs_review.


---

Comment by nadialafreniere created at 2019-07-30 15:11:26

Great job Justine! I'm glad you added it to Sage.
I have some comments for you:
* It should be clear in the doc what the profile is. Please, add it to the docstring of `profile_polynomial`.
* There could be more examples in `profile_polynomial`. For now, the only example is with the fifth cyclic group, but it would be nice to have it with something else. For example, C6 would be interesting, since it makes it clear that we are looking only at cycles and no other symmetries, like with D6 (it was not exactly clear to me after the computation for C5, since the profile polynomial is the same as for D5). The Symmetric or Dihedral groups could be good examples.
* It is not clear to me what the added value of the `profile_series` function is. Doesn't it do the same as `profile_polynomial`? If so, I like the idea of an alias. If you are worried about someone changing `profile_polynomial`, it is still an issue in the way it is written right now.
* I don't know how to do it efficiently, but I am wondering if it really is a good idea to compute the whole polynomial just to get one coefficient in `profile`. If there is a faster way to do it, especially when the group is big, please change the code.
* There are some trailing spaces at the end of lines, and they should be erased.
Congrats againt for this contribution!


---

Comment by nadialafreniere created at 2019-07-30 15:11:26

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-08-26 14:17:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-08-26 14:23:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by falque created at 2019-08-26 14:39:33

- I made the suggested additions to the documentation of profile_series.

- "If you are worried about someone changing `profile_polynomial`, it is still an issue in the way it is written right now."  
 --> I was told differently indeed; anyway, I think it is clearer with 
  an alias for now, so I changed it.

- I checked the useless spaces, it should be ok.

- "I don't know how to do it efficiently, but I am wondering if it really
 is a good idea to compute the whole polynomial just to get one coefficient
 in `profile`. If there is a faster way to do it, especially when the group
 is big, please change the code."
 --> There is indeed a more direct method, although I would call it the 
   "naive" method since I am not sure it is really faster than Polyà 
   enumeration, which presents in addition the bonus of computing all
   values of the profile in a row. I added nevertheless an optional argument 
   to allow the user to use their preferred method. This can also make what
   the profile is clearer to the user !

- some micro changes here and there


---

Comment by falque created at 2019-08-26 14:39:33

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2019-08-26 14:47:25

* Latex syntax is not allowed in the doc, but unicode works fine : instead of `P\'{o}ly\`{a`}, just use Pólya.

* You could add some cross-references using
`.. SEEALSO:: :meth:`profile`` and
`.. SEEALSO:: :meth:`profile_series``
in the appropriate place of the docs.


---

Comment by git created at 2019-08-26 15:39:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-08-26 19:33:10

Pólya takes just one accent:

https://fr.wikipedia.org/wiki/George_P%C3%B3lya


---

Comment by git created at 2019-08-27 18:41:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-08-29 10:06:45

ok, looks good to me. Merci !


---

Comment by chapoton created at 2019-08-29 10:06:45

Changing status from needs_review to positive_review.


---

Comment by falque created at 2019-08-29 11:52:33

Replying to [comment:20 chapoton]:
> ok, looks good to me. Merci !

Thank you !!!


---

Comment by vbraun created at 2019-09-02 21:40:50

Resolution: fixed
