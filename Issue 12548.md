# Issue 12548: Add speed regression database to doctesting

archive/issues_012548.json:
```json
{
    "body": "Assignee: @roed314\n\nCC:  @videlec @koffie @embray @roed314\n\nCurrently there's no systematic way of detecting whether a change to the sage library drastically slows down some function (perhaps even the function that's being updated in a ticket).\n\nThis ticket aims to add features to the new doctesting code at #12415 that provide the option to run doctests in a mode where they add timing data to a database.\n\n**Apply** [attachment:12720.patch]\n\n**Apply** [attachment:12720_script.patch] to the script repo\n\nIssue created by migration from https://trac.sagemath.org/ticket/12720\n\n",
    "closed_at": "2018-04-30T05:01:01Z",
    "created_at": "2012-03-21T20:09:57Z",
    "labels": [
        "component: doctest framework"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Add speed regression database to doctesting",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12548",
    "user": "https://github.com/roed314"
}
```
Assignee: @roed314

CC:  @videlec @koffie @embray @roed314

Currently there's no systematic way of detecting whether a change to the sage library drastically slows down some function (perhaps even the function that's being updated in a ticket).

This ticket aims to add features to the new doctesting code at #12415 that provide the option to run doctests in a mode where they add timing data to a database.

**Apply** [attachment:12720.patch]

**Apply** [attachment:12720_script.patch] to the script repo

Issue created by migration from https://trac.sagemath.org/ticket/12720





---

archive/issue_comments_148848.json:
```json
{
    "body": "Could monitoring Sage's startup time be incorporated into this?",
    "created_at": "2013-01-09T23:31:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12548#issuecomment-148848",
    "user": "https://github.com/jhpalmieri"
}
```

Could monitoring Sage's startup time be incorporated into this?



---

archive/issue_comments_148849.json:
```json
{
    "body": "Still very much in progress",
    "created_at": "2013-03-15T05:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12548#issuecomment-148849",
    "user": "https://github.com/roed314"
}
```

Still very much in progress



---

archive/issue_comments_148850.json:
```json
{
    "body": "Attachment [12720.patch](tarball://root/attachments/some-uuid/ticket12720/12720.patch) by @roed314 created at 2013-03-15 05:35:37",
    "created_at": "2013-03-15T05:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12548#issuecomment-148850",
    "user": "https://github.com/roed314"
}
```

Attachment [12720.patch](tarball://root/attachments/some-uuid/ticket12720/12720.patch) by @roed314 created at 2013-03-15 05:35:37



---

archive/issue_comments_148851.json:
```json
{
    "body": "Attachment [12720_script.patch](tarball://root/attachments/some-uuid/ticket12720/12720_script.patch) by @roed314 created at 2013-03-15 05:36:26",
    "created_at": "2013-03-15T05:36:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12548#issuecomment-148851",
    "user": "https://github.com/roed314"
}
```

Attachment [12720_script.patch](tarball://root/attachments/some-uuid/ticket12720/12720_script.patch) by @roed314 created at 2013-03-15 05:36:26



---

archive/issue_comments_148852.json:
```json
{
    "body": "Now that #12415 is in Sage, I'll be working on this some.  It will probably be at least a few weeks though (I'm going to be working on p-adics and the git transition first).\n\nIn the mean time, I've updated the patches to apply against #12415 (actually, rebased against #13278).  There's still a lot to be done to make them work well.",
    "created_at": "2013-03-15T05:55:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12548#issuecomment-148852",
    "user": "https://github.com/roed314"
}
```

Now that #12415 is in Sage, I'll be working on this some.  It will probably be at least a few weeks though (I'm going to be working on p-adics and the git transition first).

In the mean time, I've updated the patches to apply against #12415 (actually, rebased against #13278).  There's still a lot to be done to make them work well.



---

archive/issue_comments_148853.json:
```json
{
    "body": "Changing component from doctest to doctest framework.",
    "created_at": "2013-03-28T22:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12548#issuecomment-148853",
    "user": "https://github.com/roed314"
}
```

Changing component from doctest to doctest framework.



---

archive/issue_comments_148854.json:
```json
{
    "body": "Changing assignee from mvngu to @roed314.",
    "created_at": "2013-03-28T22:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12548#issuecomment-148854",
    "user": "https://github.com/roed314"
}
```

Changing assignee from mvngu to @roed314.



---

archive/issue_events_034523.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34523"
}
```



---

archive/issue_events_034524.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34524"
}
```



---

archive/issue_events_034525.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34525"
}
```



---

archive/issue_events_034526.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34526"
}
```



---

archive/issue_events_034527.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34527"
}
```



---

archive/issue_events_034528.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34528"
}
```



---

archive/issue_events_034529.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34529"
}
```



---

archive/issue_comments_148855.json:
```json
{
    "body": "Hello,\n\njust cc'ing me!",
    "created_at": "2015-04-13T07:06:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12548#issuecomment-148855",
    "user": "https://github.com/videlec"
}
```

Hello,

just cc'ing me!



---

archive/issue_events_034530.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-29T17:24:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34530"
}
```



---

archive/issue_events_034531.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-29T17:24:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34531"
}
```



---

archive/issue_comments_148856.json:
```json
{
    "body": "roed, I believe that this should probably be closed. The approach of rolling our own system for doing something that asv does very well is probably not appropriate anymore. What do you think?",
    "created_at": "2018-04-29T17:31:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12548#issuecomment-148856",
    "user": "https://github.com/saraedum"
}
```

roed, I believe that this should probably be closed. The approach of rolling our own system for doing something that asv does very well is probably not appropriate anymore. What do you think?



---

archive/issue_events_034532.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-30T05:01:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34532"
}
```



---

archive/issue_events_034533.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-30T05:01:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34533"
}
```



---

archive/issue_comments_148857.json:
```json
{
    "body": "Duplicate of #25262",
    "created_at": "2018-04-30T05:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12548#issuecomment-148857",
    "user": "https://github.com/jdemeyer"
}
```

Duplicate of #25262



---

archive/issue_comments_148858.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2018-04-30T05:01:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12548#issuecomment-148858",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_events_034534.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-04-30T05:01:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12548",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12548#event-34534"
}
```
