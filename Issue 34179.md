# Issue 34179: Manage pexpect logs created during doctesting

archive/issues_034179.json:
```json
{
    "body": "CC:  @mkoeppe\n\nThe line\n\n```\n            sage: os.environ['SAGE_PEXPECT_LOG'] = \"1\"\n```\n\nwhich appears twice in `sage/doctest/forker.py` turns on logging for `pexpect`, and this results in two files being created in `DOTSAGE/pexpect_logs` every time you doctest this file.\n\nDoctests pass after deleting these lines. Do we\n\n- keep it as is?\n- delete the lines?\n- keep the lines but use a temporary `DOTSAGE`?\n\nIssue created by migration from https://trac.sagemath.org/ticket/34416\n\n",
    "created_at": "2022-08-23T17:54:52Z",
    "labels": [
        "component: please change",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Manage pexpect logs created during doctesting",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34179",
    "user": "https://github.com/jhpalmieri"
}
```
CC:  @mkoeppe

The line

```
            sage: os.environ['SAGE_PEXPECT_LOG'] = "1"
```

which appears twice in `sage/doctest/forker.py` turns on logging for `pexpect`, and this results in two files being created in `DOTSAGE/pexpect_logs` every time you doctest this file.

Doctests pass after deleting these lines. Do we

- keep it as is?
- delete the lines?
- keep the lines but use a temporary `DOTSAGE`?

Issue created by migration from https://trac.sagemath.org/ticket/34416





---

archive/issue_comments_484400.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to doctest framework.",
    "created_at": "2022-08-23T20:03:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34179#issuecomment-484400",
    "user": "https://github.com/jhpalmieri"
}
```

Changing component from PLEASE CHANGE to doctest framework.



---

archive/issue_events_089494.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T16:33:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34179",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34179#event-89494"
}
```



---

archive/issue_comments_484401.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-08-31T21:13:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34179#issuecomment-484401",
    "user": "https://github.com/jhpalmieri"
}
```

New commits:



---

archive/issue_comments_484402.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-31T21:13:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34179#issuecomment-484402",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_484403.json:
```json
{
    "body": "I do not see any reason to create these logs.",
    "created_at": "2022-12-19T06:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34179#issuecomment-484403",
    "user": "https://github.com/jhpalmieri"
}
```

I do not see any reason to create these logs.



---

archive/issue_comments_484404.json:
```json
{
    "body": "I agree.",
    "created_at": "2022-12-19T06:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34179#issuecomment-484404",
    "user": "https://github.com/mkoeppe"
}
```

I agree.



---

archive/issue_comments_484405.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-12-19T06:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34179#issuecomment-484405",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_484406.json:
```json
{
    "body": "Thanks!",
    "created_at": "2022-12-19T18:03:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34179",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34179#issuecomment-484406",
    "user": "https://github.com/jhpalmieri"
}
```

Thanks!
