# Issue 25069: some care for magma interface

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2018-05-08 09:01:58

CC:  davidloeffler

because parts of it are broken for magma V2.22

and also enhance its treatment of matrices.


---

Comment by chapoton created at 2018-05-08 09:04:08

New commits:


---

Comment by chapoton created at 2018-05-08 10:05:40

Changing keywords from "" to "magma".


---

Comment by chapoton created at 2018-05-20 14:49:51

Changing status from new to needs_review.


---

Comment by davidloeffler created at 2018-05-20 15:46:54

Changing status from needs_review to needs_work.


---

Comment by davidloeffler created at 2018-05-20 15:46:54

I tested it against Magma v2.23-8 but many doctests failed. I have opened #25408 for this issue, where there are 12 failures listed; 8 of them still fail with this patch installed.


---

Comment by git created at 2018-05-21 08:25:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-05-23 18:07:06

Could we agree to use this as a first step ? I would like to have the matrix enhancements at my disposal.


---

Comment by davidloeffler created at 2018-05-24 21:17:42

OK, I see your point. The perfect is the enemy of the good, as the saying goes. I pushed a patch which fixes a couple more doctests that were failing (no code changes) -- if you're happy with that then please set the ticket to positive review. 
----
New commits:


---

Comment by chapoton created at 2018-05-25 13:34:32

thanks. good for me. Note that the Kronecker representation seems to have changed betwen my version of m*gma and yours..


---

Comment by chapoton created at 2018-05-25 13:34:32

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2018-05-26 08:40:20


```
sage -t --long src/sage/interfaces/magma.py
**********************************************************************
File "src/sage/interfaces/magma.py", line 2088, in sage.interfaces.magma.MagmaElement.AssignNames
Failed example:
    S.1^2 + S.2
Exception raised:
    Traceback (most recent call last):
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 572, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 982, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.magma.MagmaElement.AssignNames[0]>", line 1, in <module>
        S.gen(1)**Integer(2) + S.gen(2)
    NameError: name 'S' is not defined
**********************************************************************
1 item had failures:
   1 of   2 in sage.interfaces.magma.MagmaElement.AssignNames
    [84 tests, 1 failure, 0.77 s]
```



---

Comment by vbraun created at 2018-05-26 08:40:20

Changing status from positive_review to needs_work.


---

Comment by git created at 2018-05-26 09:27:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by davidloeffler created at 2018-05-26 09:27:48

Changing status from needs_work to positive_review.


---

Comment by davidloeffler created at 2018-05-26 09:27:48

Oops, I forgot to flag this doctest as #optional-magma.


---

Comment by vbraun created at 2018-05-28 07:45:35

Resolution: fixed
