# Issue 30109: Exception for the unknot in Homfly-PT polynomial

Issue created by migration from https://trac.sagemath.org/ticket/30346

Original creator: soehms

Original creation time: 2020-08-13 05:30:04

CC:  mmarco

Keywords: link, knot, homfly

The bug is explained by the following:


```
sage: L = Link([]); L                                                                                                                                                                                
Link with 1 component represented by 0 crossings
sage: L.homfly_polynomial()            
Traceback (most recent call last):
...
SignalError: Bus error
```



---

Comment by soehms created at 2020-08-13 06:36:39

New commits:


---

Comment by soehms created at 2020-08-13 06:36:39

Changing status from new to needs_review.


---

Comment by mmarco created at 2020-08-13 13:11:41

Thanks for catching this. It would need a doctest.

Also, the unknot (or rather, the trivial diagram) is such a special case that i wouldn't be surprised if other methods also failed with it. It would be worth checking more carefully.


---

Comment by soehms created at 2020-08-13 19:11:52

Replying to [comment:3 mmarco]:
> Thanks for catching this. It would need a doctest.

What further doctest do you mean?
> 
> Also, the unknot (or rather, the trivial diagram) is such a special case that i wouldn't be surprised if other methods also failed with it. It would be worth checking more carefully.
> 

I will pay attention to that during my further development of the KnotInfo package!


---

Comment by slelievre created at 2020-09-08 00:36:38

Thanks!


---

Comment by slelievre created at 2020-09-08 00:36:38

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-09-12 12:50:09

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2020-09-12 12:50:09


```
[dochtml] [knots    ] /home/release/Sage/local/lib/python3.8/site-packages/sage/knots/link.py:docstring of sage.knots.link.Link:95: WARNING: Exception occurred in plotting link-3
[dochtml] [knots    ]  from /home/release/Sage/src/doc/en/reference/knots/sage/knots/link.rst:
[dochtml] [knots    ] Traceback (most recent call last):
[dochtml] [knots    ]   File "/home/release/Sage/local/lib/python3.8/site-packages/matplotlib/sphinxext/plot_directive.py", line 472, in run_code
[dochtml] [knots    ]     exec(code, ns)
[dochtml] [knots    ]   File "<string>", line 2, in <module>
[dochtml] [knots    ]   File "sage/structure/parent.pyx", line 900, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9337)
[dochtml] [knots    ]     return mor._call_(x)
[dochtml] [knots    ]   File "sage/structure/coerce_maps.pyx", line 161, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4623)
[dochtml] [knots    ]     raise
[dochtml] [knots    ]   File "sage/structure/coerce_maps.pyx", line 156, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4515)
[dochtml] [knots    ]     return C._element_constructor(x)
[dochtml] [knots    ]   File "/home/release/Sage/local/lib/python3.8/site-packages/sage/groups/braid.py", line 1581, in _element_constructor_
[dochtml] [knots    ]     return self.element_class(self, x)
[dochtml] [knots    ]   File "/home/release/Sage/local/lib/python3.8/site-packages/sage/groups/finitely_presented.py", line 236, in __init__
[dochtml] [knots    ]     fp_family = parent.gap().Identity().FamilyObj()
[dochtml] [knots    ]   File "sage/libs/gap/element.pyx", line 2679, in sage.libs.gap.element.GapElement_MethodProxy.__call__ (build/cythonized/sage/libs/gap/element.c:20845)
[dochtml] [knots    ]     return GapElement_Function.__call__(self, self.first_argument)
[dochtml] [knots    ]   File "sage/libs/gap/element.pyx", line 2525, in sage.libs.gap.element.GapElement_Function.__call__ (build/cythonized/sage/libs/gap/element.c:19781)
[dochtml] [knots    ]     sig_on()
[dochtml] [knots    ] sage.libs.gap.util.GAPError: Error, no method found! Error, no 2nd choice method found for `OneMutable' on 1 arguments
[dochtml] [knots    ] /home/release/Sage/local/lib/python3.8/site-packages/sage/knots/link.py:docstring of sage.knots.link.Link:108: WARNING: Exception occurred in plotting link-4
```



---

Comment by dimpase created at 2020-09-16 15:17:40

this branch applied over the branch of #29314 does fix the problem.
I didn't test it without #29314.


---

Comment by soehms created at 2020-12-01 21:53:31

Changing status from needs_work to positive_review.


---

Comment by soehms created at 2020-12-01 21:53:31

I cannot reproduce this error and I completely don't understand how this could be caused by the changes of that ticket which don't use braid groups.

It looks very similar to me as the issue I reported in [this comment](https://trac.sagemath.org/ticket/29314#comment:42) and which I detected on all of my facilities as an interference between the upgrade of the Gap version and the `cysignals` package (see [comment 76](https://trac.sagemath.org/ticket/29314#comment:76) and [96](https://trac.sagemath.org/ticket/29314#comment:96) of #29314)


So lets have a try with that again!


---

Comment by vbraun created at 2020-12-06 12:49:32

Resolution: fixed
