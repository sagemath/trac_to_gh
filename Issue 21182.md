# Issue 21182: LatticePoset: "kappa function" and relations A-D

Issue created by migration from Trac.

Original creator: jmantysalo

Original creation time: 2016-09-05 11:34:51

CC:  tscrim chapoton

I would like to implement relations A-D from http://www.math.hawaii.edu/~jb/unbound.ps

It seems natural to first start from the function that is marked as greek letter kappa at the paper. Here I gave it just a name `kappa()`.


---

Comment by jmantysalo created at 2016-09-05 11:36:29

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2016-09-05 11:36:29

New commits:


---

Comment by jmantysalo created at 2016-09-06 15:23:51

Travis: What you think about the name of the function? Is there (at least) educational value of having a kappa-function also "visible", i.e. at `lattices.py` and not only indirectly available at `hasse_diagram.py`?


---

Comment by tscrim created at 2016-09-06 18:41:45

From your description, this seems like it is not a standard notation/function (I don't actually know). So I feel it doesn't make sense to call it `kappa` and instead give it a slightly more descriptive name. Perhaps `maximal_incomparable_element`?


---

Comment by jmantysalo created at 2016-09-07 04:45:24

Replying to [comment:4 tscrim]:
> From your description, this seems like it is not a standard notation/function (I don't actually know). So I feel it doesn't make sense to call it `kappa` and instead give it a slightly more descriptive name. Perhaps `maximal_incomparable_element`?

That's good name!

By googling I found that Lattices and Ordered Sets by Steven Roman p. 225 uses the name "kappa function", but I can not see the page itself. The symbol itself seems to be coherently used for this, see Algebras and Orders by Ivo G. Rosenberg and Gert Sabidussi, or http://journals.cambridge.org/download.php?file=%2FJAZ%2FJAZ1_63_01%2FS1446788700000355a.pdf&code=9cc17eeb007fe5d050aadfcbedad50cd, but I did not found other mentions of "kappa function" spelled out.

Should I ask from J. B. Nation himself?


---

Comment by tscrim created at 2016-09-07 14:06:55

It's okay; some textbooks is good enough reference for me. I leave it up to you if you want to change the name.


---

Comment by jmantysalo created at 2016-09-07 16:52:01

Changing status from needs_review to needs_info.


---

Comment by jmantysalo created at 2016-09-07 16:52:01

Hmm.. Hard to say. I left this open and think.

Name `maximal_incomparable_element` would suggest that function works for all elements in every poset, and it really could be defined so. But I have seen it only used for join-irreducibles.


---

Comment by jmantysalo created at 2016-09-09 17:08:28

Back to _needs_review_. This can not be "maximal incomparable element", as that is not the case in special case where an element covers a doubly irreducible element; then `\kappa(a)=a`. Hence I can see no easy name for the function at all, except "kappa".

Now the question is should we have this available at "interface level", i.e. in `lattices.py` at all, or just hidden in `hasse_diagram.py`. Also, is it more clear to explicitly say in the documentation that this is the greatest incomparable elemenet excluding the special case?


---

Comment by jmantysalo created at 2016-09-09 17:08:28

Changing status from needs_info to needs_review.


---

Comment by jmantysalo created at 2016-09-15 07:50:14

CC'd Frédéric. What you think about the name, and should this be available at `lattices.py`?

I found a book that uses a section title "The $\kappa$ function". But to make this more complicated: there are also dual functions, i.e. "kappa'" defined for meet-irreducibles.


---

Comment by jmantysalo created at 2016-09-15 18:23:16

Arghs, a braindead bug in special case handling.


---

Comment by jmantysalo created at 2016-09-15 18:23:16

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-09-16 12:16:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2016-09-16 12:16:57

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2016-09-16 15:08:15

Replying to [comment:9 jmantysalo]:
> I found a book that uses a section title "The $\kappa$ function". But to make this more complicated: there are also dual functions, i.e. "kappa'" defined for meet-irreducibles.

That tells me we need to change either the function title or arguments, and I'd rather change the title. I go back to `maximal_incomparable_element`, and as long as we document that it is only for join-irreducible elements (which includes an appropriate error message), it is okay.


---

Comment by jmantysalo created at 2016-09-16 19:23:19

If you take `L = Poset({0:[1,2,3], 1:[4, 5], 2:[5], 3:[6], 4:[7], 5:[7], 6:[7]})` then `kappa(4)` is `5`, but both `5` and `6` are maximal incomparables. Hence `maximal_incomparable_element` does not work.

Hard question... To compare: both meet- and join-semidistributive are used, and semidistributive means that a lattice is both. (Then there are join-distributive and meet-distributive...) OTOH semimodular usually means upper semimodular. And pseudocomplement is almost never said to be meet-pseudocomplement, but of course there is a possible dual notion of join-pseudocomplement.


---

Comment by jmantysalo created at 2016-09-25 16:10:54

J.B. Nation answered: "It seems that the 'kappa' notation is fairly widely used, but perhaps not enough to be called standard. It is useful though."

It is useful at least to check if a lattice is semidistributive or to compute canonical joinands. But to publish it on `lattices.py` or not to publish - that is the question.


---

Comment by git created at 2016-09-30 06:39:06

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jmantysalo created at 2016-09-30 06:41:00

No common view about adding this to user-visible namespace at `lattices.py`. Hence I suggest a modified version where this is only added to `hasse_diagram.py`.

(This will make `is_[meet|join]_semidistributive()` much faster.


---

Comment by kdilks created at 2016-10-03 15:23:10

You need to change the `*.next()` to `next(*)` for Python3 compliance.


---

Comment by git created at 2016-10-03 16:42:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2016-10-03 16:43:10

Replying to [comment:18 kdilks]:
> You need to change the `*.next()` to `next(*)` for Python3 compliance.

True. Done that.


---

Comment by jmantysalo created at 2016-10-18 09:07:48

OK? If not, OK if name changed to `_kappa`?


---

Comment by jmantysalo created at 2016-11-08 07:41:09

Replying to [comment:21 jmantysalo]:
> OK? If not, OK if name changed to `_kappa`?

Just pinging this question.


---

Comment by tscrim created at 2016-11-08 15:48:37

I think `kappa` is fine. I reworked things slightly and improved the documentation. If my changes look good, then you can set a positive review. (From Sage's definition of join-irreducible, the 1 element lattice does not have any join-irreducible elements, and subsequently this case is not handled by your code, which is okay.)
----
New commits:


---

Comment by jmantysalo created at 2016-11-09 07:35:20

Replying to [comment:23 tscrim]:
> I think `kappa` is fine. I reworked things slightly and improved the documentation. If my changes look good, then you can set a positive review. (From Sage's definition of join-irreducible, the 1 element lattice does not have any join-irreducible elements, and subsequently this case is not handled by your code, which is okay.)

Thanks (once again). This is good.

I must remember that one-element case when making code for semidistributivity.


---

Comment by jmantysalo created at 2016-11-09 07:35:20

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-11-11 17:53:56

Resolution: fixed
