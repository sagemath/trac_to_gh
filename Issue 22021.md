# Issue 22021: py3 do not call cmp() in code of real_mpfi

archive/issues_022021.json:
```json
{
    "body": "CC:  @tscrim @jdemeyer @a-andre\n\nas a step to python3\n\nBEWARE: this file will need later a much deeper treatment later, because the current behaviour is not possible in python3 (cmp is not the same order as rich comparison)\n\nIssue created by migration from https://trac.sagemath.org/ticket/22258\n\n",
    "created_at": "2017-01-25T16:20:02Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "py3 do not call cmp() in code of real_mpfi",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22021",
    "user": "https://github.com/fchapoton"
}
```
CC:  @tscrim @jdemeyer @a-andre

as a step to python3

BEWARE: this file will need later a much deeper treatment later, because the current behaviour is not possible in python3 (cmp is not the same order as rich comparison)

Issue created by migration from https://trac.sagemath.org/ticket/22258





---

archive/issue_comments_305702.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-01-25T16:21:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22021#issuecomment-305702",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_comments_305703.json:
```json
{
    "body": "waiting for the bots",
    "created_at": "2017-01-25T20:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22021#issuecomment-305703",
    "user": "https://github.com/fchapoton"
}
```

waiting for the bots



---

archive/issue_comments_305704.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-01-25T20:19:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22021#issuecomment-305704",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_305705.json:
```json
{
    "body": "green bot, please review",
    "created_at": "2017-01-27T08:08:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22021#issuecomment-305705",
    "user": "https://github.com/fchapoton"
}
```

green bot, please review



---

archive/issue_comments_305706.json:
```json
{
    "body": "I'm slightly worried about the `richcmp(left.__prec, right.__prec, op)` doing more precise comparisons than before and would cause a subtle behavior change. Nor am I not completely convinced the doctests cover all the behavior. I won't have time today to add such tests and verify, but I will try to get to this tomorrow (unless someone who is more familiar with interval comparisons verifies this is okay).",
    "created_at": "2017-01-27T14:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22021#issuecomment-305706",
    "user": "https://github.com/tscrim"
}
```

I'm slightly worried about the `richcmp(left.__prec, right.__prec, op)` doing more precise comparisons than before and would cause a subtle behavior change. Nor am I not completely convinced the doctests cover all the behavior. I won't have time today to add such tests and verify, but I will try to get to this tomorrow (unless someone who is more familiar with interval comparisons verifies this is okay).



---

archive/issue_comments_305707.json:
```json
{
    "body": "Replying to [comment:5 tscrim]:\n> I'm slightly worried about the `richcmp(left.__prec, right.__prec, op)` doing more precise comparisons than before and would cause a subtle behavior change.\n\n\nIn this case, the behaviour looks meaningful so it's a change in the good sense.",
    "created_at": "2017-01-27T14:59:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22021#issuecomment-305707",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:5 tscrim]:
> I'm slightly worried about the `richcmp(left.__prec, right.__prec, op)` doing more precise comparisons than before and would cause a subtle behavior change.


In this case, the behaviour looks meaningful so it's a change in the good sense.



---

archive/issue_comments_305708.json:
```json
{
    "body": "ping ?",
    "created_at": "2017-01-30T16:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22021#issuecomment-305708",
    "user": "https://github.com/fchapoton"
}
```

ping ?



---

archive/issue_comments_305709.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-01-30T17:01:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22021#issuecomment-305709",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_305710.json:
```json
{
    "body": "Okay, then good to go.",
    "created_at": "2017-01-30T17:01:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22021#issuecomment-305710",
    "user": "https://github.com/tscrim"
}
```

Okay, then good to go.



---

archive/issue_events_058438.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-02T22:09:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22021",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22021#event-58438"
}
```



---

archive/issue_comments_305711.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-02T22:09:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22021#issuecomment-305711",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
