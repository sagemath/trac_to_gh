# Issue 14443: Update iconv to version 1.14

Issue created by migration from https://trac.sagemath.org/ticket/14647

Original creator: jpflori

Original creation time: 2013-05-26 19:06:00

Assignee: jdemeyer

CC:  kcrisman dimpase

It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.


---

Attachment

Spkg diff, for review only.


---

Comment by jpflori created at 2013-05-26 19:10:50

Changing status from new to needs_review.


---

Comment by jpflori created at 2013-05-26 19:11:12

Changing keywords from "" to "iconv spkg cygwin".


---

Comment by leif created at 2013-05-26 19:19:50

unable to resolve host address “boxen.math.washingotn.edu”


---

Comment by jpflori created at 2013-05-26 19:24:22

Indeed, thanks.
I only tested it builds on Cygwin64, not on anything else yet.
Note there are only few platforms where this is actually built.


---

Comment by jpflori created at 2013-05-26 19:26:48

Changing keywords from "iconv spkg cygwin" to "iconv spkg cygwin cygwin64".


---

Comment by leif created at 2013-05-26 19:31:19

Currently building on Solaris SPARC.

HP-UX, anyone? ;-)


---

Comment by jpflori created at 2013-05-26 19:33:44

Builds ok on Solaris 10 on ultrasparc T2+.


---

Comment by leif created at 2013-05-26 20:12:02

Replying to [comment:7 leif]:
> Currently building on Solaris SPARC.

Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:

```
./check-subst
Segmentation Fault - core dumped
Segmentation Fault - core dumped
Segmentation Fault - core dumped
```


I haven't rebuilt anything _depending on iconv_ though.


---

Comment by jpflori created at 2013-05-31 15:07:10

Replying to [comment:9 leif]:
> Replying to [comment:7 leif]:
> > Currently building on Solaris SPARC.
> 
> Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:
> {{{
> ./check-subst
> Segmentation Fault - core dumped
> Segmentation Fault - core dumped
> Segmentation Fault - core dumped
> }}}
> 
> I haven't rebuilt anything _depending on iconv_ though.
Is that documented somewhere?

And any chance for review? :)


---

Comment by jdemeyer created at 2013-05-31 20:48:15

I might give a review, but it's not a high-priority for me.


---

Comment by leif created at 2013-06-01 03:49:18

Replying to [comment:10 jpflori]:
> Replying to [comment:9 leif]:
> > Replying to [comment:7 leif]:
> > > Currently building on Solaris SPARC.
> > 
> > Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:
> > {{{
> > ./check-subst
> > Segmentation Fault - core dumped
> > Segmentation Fault - core dumped
> > Segmentation Fault - core dumped
> > }}}
> > 
> > I haven't rebuilt anything _depending on iconv_ though.

IIRC I at least successfully rebuilt MPIR (which depends on iconv) afterwards.




> Is that documented somewhere?

Yes.




> And any chance for review? :)

Just a matter of time (and my ability to keep this ticket in mind).


---

Comment by leif created at 2013-06-01 12:02:30

Changing status from needs_review to positive_review.


---

Comment by leif created at 2013-06-01 12:02:30

Slight modifications to `spkg-install` and `spkg-check` may be possible, but since you didn't touch them at all ...

Assuming you've successfully tested it on Cygwin![64], positive review.




Out of curiosity, how does Cygwin64 identify itself (`uname`, Sage's `$UNAME`)?


---

Comment by jpflori created at 2013-06-01 14:43:05

On Cygwin:

```
$ uname -a
CYGWIN_NT-6.1-WOW64 napoleon-7 1.7.18(0.263/5/3) 2013-04-19 10:39 i686 Cygwin
```


On Cygwin64:

```
$ uname -a
CYGWIN_NT-6.1 napoleon-7 1.7.19(0.266/5/3) 2013-05-24 23:18 x86_64 Cygwin
```



---

Comment by jdemeyer created at 2013-06-06 12:35:20

Resolution: fixed
