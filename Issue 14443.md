# Issue 14443: Update iconv to version 1.14

archive/issues_014443.json:
```json
{
    "body": "Assignee: jdemeyer\n\nCC:  kcrisman dimpase\n\nIt has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14647\n\n",
    "created_at": "2013-05-26T19:06:00Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "title": "Update iconv to version 1.14",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14443",
    "user": "jpflori"
}
```
Assignee: jdemeyer

CC:  kcrisman dimpase

It has been out for some time and fixes the use of an obsolete on Cygwin (32 bits) and unavailable on Cygwin64.

Issue created by migration from https://trac.sagemath.org/ticket/14647





---

archive/issue_comments_182723.json:
```json
{
    "body": "Attachment [iconv-1.14.diff](tarball://root/attachments/some-uuid/ticket14647/iconv-1.14.diff) by jpflori created at 2013-05-26 19:07:43\n\nSpkg diff, for review only.",
    "created_at": "2013-05-26T19:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182723",
    "user": "jpflori"
}
```

Attachment [iconv-1.14.diff](tarball://root/attachments/some-uuid/ticket14647/iconv-1.14.diff) by jpflori created at 2013-05-26 19:07:43

Spkg diff, for review only.



---

archive/issue_comments_182724.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-05-26T19:10:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182724",
    "user": "jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_182725.json:
```json
{
    "body": "Changing keywords from \"\" to \"iconv spkg cygwin\".",
    "created_at": "2013-05-26T19:11:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182725",
    "user": "jpflori"
}
```

Changing keywords from "" to "iconv spkg cygwin".



---

archive/issue_comments_182726.json:
```json
{
    "body": "unable to resolve host address \u201cboxen.math.washingotn.edu\u201d",
    "created_at": "2013-05-26T19:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182726",
    "user": "leif"
}
```

unable to resolve host address “boxen.math.washingotn.edu”



---

archive/issue_comments_182727.json:
```json
{
    "body": "Indeed, thanks.\nI only tested it builds on Cygwin64, not on anything else yet.\nNote there are only few platforms where this is actually built.",
    "created_at": "2013-05-26T19:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182727",
    "user": "jpflori"
}
```

Indeed, thanks.
I only tested it builds on Cygwin64, not on anything else yet.
Note there are only few platforms where this is actually built.



---

archive/issue_comments_182728.json:
```json
{
    "body": "Changing keywords from \"iconv spkg cygwin\" to \"iconv spkg cygwin cygwin64\".",
    "created_at": "2013-05-26T19:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182728",
    "user": "jpflori"
}
```

Changing keywords from "iconv spkg cygwin" to "iconv spkg cygwin cygwin64".



---

archive/issue_comments_182729.json:
```json
{
    "body": "Currently building on Solaris SPARC.\n\nHP-UX, anyone? ;-)",
    "created_at": "2013-05-26T19:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182729",
    "user": "leif"
}
```

Currently building on Solaris SPARC.

HP-UX, anyone? ;-)



---

archive/issue_comments_182730.json:
```json
{
    "body": "Builds ok on Solaris 10 on ultrasparc T2+.",
    "created_at": "2013-05-26T19:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182730",
    "user": "jpflori"
}
```

Builds ok on Solaris 10 on ultrasparc T2+.



---

archive/issue_comments_182731.json:
```json
{
    "body": "Replying to [comment:7 leif]:\n> Currently building on Solaris SPARC.\n\nSucceeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:\n\n```\n./check-subst\nSegmentation Fault - core dumped\nSegmentation Fault - core dumped\nSegmentation Fault - core dumped\n```\n\n\nI haven't rebuilt anything *depending on iconv* though.",
    "created_at": "2013-05-26T20:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182731",
    "user": "leif"
}
```

Replying to [comment:7 leif]:
> Currently building on Solaris SPARC.

Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:

```
./check-subst
Segmentation Fault - core dumped
Segmentation Fault - core dumped
Segmentation Fault - core dumped
```


I haven't rebuilt anything *depending on iconv* though.



---

archive/issue_comments_182732.json:
```json
{
    "body": "Replying to [comment:9 leif]:\n> Replying to [comment:7 leif]:\n> > Currently building on Solaris SPARC.\n> \n> Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:\n> {{{\n> ./check-subst\n> Segmentation Fault - core dumped\n> Segmentation Fault - core dumped\n> Segmentation Fault - core dumped\n> }}}\n> \n> I haven't rebuilt anything *depending on iconv* though.\nIs that documented somewhere?\n\nAnd any chance for review? :)",
    "created_at": "2013-05-31T15:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182732",
    "user": "jpflori"
}
```

Replying to [comment:9 leif]:
> Replying to [comment:7 leif]:
> > Currently building on Solaris SPARC.
> 
> Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:
> {{{
> ./check-subst
> Segmentation Fault - core dumped
> Segmentation Fault - core dumped
> Segmentation Fault - core dumped
> }}}
> 
> I haven't rebuilt anything *depending on iconv* though.
Is that documented somewhere?

And any chance for review? :)



---

archive/issue_comments_182733.json:
```json
{
    "body": "I might give a review, but it's not a high-priority for me.",
    "created_at": "2013-05-31T20:48:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182733",
    "user": "jdemeyer"
}
```

I might give a review, but it's not a high-priority for me.



---

archive/issue_comments_182734.json:
```json
{
    "body": "Replying to [comment:10 jpflori]:\n> Replying to [comment:9 leif]:\n> > Replying to [comment:7 leif]:\n> > > Currently building on Solaris SPARC.\n> > \n> > Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:\n> > {{{\n> > ./check-subst\n> > Segmentation Fault - core dumped\n> > Segmentation Fault - core dumped\n> > Segmentation Fault - core dumped\n> > }}}\n> > \n> > I haven't rebuilt anything *depending on iconv* though.\n\nIIRC I at least successfully rebuilt MPIR (which depends on iconv) afterwards.\n\n\n\n\n> Is that documented somewhere?\n\nYes.\n\n\n\n\n> And any chance for review? :)\n\nJust a matter of time (and my ability to keep this ticket in mind).",
    "created_at": "2013-06-01T03:49:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182734",
    "user": "leif"
}
```

Replying to [comment:10 jpflori]:
> Replying to [comment:9 leif]:
> > Replying to [comment:7 leif]:
> > > Currently building on Solaris SPARC.
> > 
> > Succeeded with `SAGE_CHECK=yes` on SunOS 5.10 UltraSPARC III (ABI=32) with GCC 4.7.0 as well as GCC 4.7.2, modulo the usual expected three segfaults:
> > {{{
> > ./check-subst
> > Segmentation Fault - core dumped
> > Segmentation Fault - core dumped
> > Segmentation Fault - core dumped
> > }}}
> > 
> > I haven't rebuilt anything *depending on iconv* though.

IIRC I at least successfully rebuilt MPIR (which depends on iconv) afterwards.




> Is that documented somewhere?

Yes.




> And any chance for review? :)

Just a matter of time (and my ability to keep this ticket in mind).



---

archive/issue_comments_182735.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-06-01T12:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182735",
    "user": "leif"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_182736.json:
```json
{
    "body": "Slight modifications to `spkg-install` and `spkg-check` may be possible, but since you didn't touch them at all ...\n\nAssuming you've successfully tested it on Cygwin![64], positive review.\n\n\n\n\nOut of curiosity, how does Cygwin64 identify itself (`uname`, Sage's `$UNAME`)?",
    "created_at": "2013-06-01T12:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182736",
    "user": "leif"
}
```

Slight modifications to `spkg-install` and `spkg-check` may be possible, but since you didn't touch them at all ...

Assuming you've successfully tested it on Cygwin![64], positive review.




Out of curiosity, how does Cygwin64 identify itself (`uname`, Sage's `$UNAME`)?



---

archive/issue_comments_182737.json:
```json
{
    "body": "On Cygwin:\n\n```\n$ uname -a\nCYGWIN_NT-6.1-WOW64 napoleon-7 1.7.18(0.263/5/3) 2013-04-19 10:39 i686 Cygwin\n```\n\n\nOn Cygwin64:\n\n```\n$ uname -a\nCYGWIN_NT-6.1 napoleon-7 1.7.19(0.266/5/3) 2013-05-24 23:18 x86_64 Cygwin\n```\n",
    "created_at": "2013-06-01T14:43:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182737",
    "user": "jpflori"
}
```

On Cygwin:

```
$ uname -a
CYGWIN_NT-6.1-WOW64 napoleon-7 1.7.18(0.263/5/3) 2013-04-19 10:39 i686 Cygwin
```


On Cygwin64:

```
$ uname -a
CYGWIN_NT-6.1 napoleon-7 1.7.19(0.266/5/3) 2013-05-24 23:18 x86_64 Cygwin
```




---

archive/issue_comments_182738.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-06-06T12:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14443",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14443#issuecomment-182738",
    "user": "jdemeyer"
}
```

Resolution: fixed
