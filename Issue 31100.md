# Issue 31100: improve pynac's expand method for powers

Issue created by migration from https://trac.sagemath.org/ticket/31337

Original creator: @DaveWitteMorris

Original creation time: 2021-02-04 05:01:49

To eliminate an infinite loop, ticket #30688 deleted one of pynac's expansion rules for powers of a product: expanding `(a1*a2*...*a_n)^c` no longer pulls out a factor of `(-ai)^c` when `ai` is negative. (But the factor `(ai)^c` will still be pulled out if `ai` is positive.) We should reimplement a version of this rule that does not crash sage.
