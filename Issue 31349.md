# Issue 31349: Fix a few typographic errors in latex strings in schemes folder

Issue created by migration from https://trac.sagemath.org/ticket/31586

Original creator: klee

Original creation time: 2021-03-31 08:32:49




---

Comment by git created at 2021-03-31 08:45:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2021-03-31 08:52:43

Changing status from new to needs_review.


---

Comment by git created at 2021-05-11 00:53:56

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by slelievre created at 2021-05-11 09:27:01

I would suggest adding line breaks and using
formatted strings and raw strings as follows.


```diff
-            \text{Projective Plane curve over $\Bold{Q}$ defined by $-x^{3} + y^{2} z - 17 x z^{2} + y z^{2}$}
+            \text{Projective Plane curve over $\Bold{Q}$
+            defined by $-x^{3} + y^{2} z - 17 x z^{2} + y z^{2}$}
```



```diff
-            \text{Affine Plane curve over $\Bold{Q}$ defined by $-x^{3} + y^{2} - 17 x + y$}
+            \text{Affine Plane curve over $\Bold{Q}$
+            defined by $-x^{3} + y^{2} - 17 x + y$}
```



```diff
-        if self.defining_ideal().is_zero() and self.ambient_space().dimension() == 1:
-            return r"\text{{{} line over ${}$}}".format(self._repr_type(), latex(self.base_ring()))
-        else:
-            return r"\text`} curve over ${}$ defined by {`".format(self._repr_type(), latex(self.base_ring()),
-                 ', '.join(['${0}$'.format(latex(x)) for x in self.defining_polynomials()]))
+        if (self.defining_ideal().is_zero()
+                and self.ambient_space().dimension() == 1):
+            repr_type, ring = self._repr_type(), latex(self.base_ring())
+            return fr"\text{{{repr_type} line over ${ring}$}}"
+        else:
+            repr_type, ring = self._repr_type(), latex(self.base_ring())
+            pp = ', '.join(f'${latex(p)}$' for p in self.defining_polynomials())
+            return fr"\text`repr_type} curve over ${ring}$ defined by {pp`"
```



```diff
-        return 'Rational cohomology ring of a ' + self._variety._repr_()
+        return f'Rational cohomology ring of a {self._variety._repr_()}'
```



```diff
-        return 'H^\\ast\\left(' + self._variety._latex_() + ',' + latex(QQ) + '\\right)'
+        return fr'H^\ast\left({self._variety._latex_()},{latex(QQ)}\right)'
```


Other than that (but feel free to discard any or all
of these suggestions), positive review if bots agree.


---

Comment by git created at 2021-05-11 11:40:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2021-05-11 11:42:13

Replying to [comment:8 slelievre]:
> Other than that (but feel free to discard any or all
> of these suggestions), positive review if bots agree.

Good suggestions. Thank you.


---

Comment by git created at 2021-05-13 00:29:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slelievre created at 2021-05-13 19:10:45

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2021-05-13 19:10:45

Wonderful.


---

Comment by slelievre created at 2021-05-13 19:20:59

Though I'm thinking this `return 0`
should be `return QQ.zero()`...


---

Comment by slelievre created at 2021-05-13 19:24:35

Another way of putting it would be

```diff
-        if top_form.is_zero():
-            return 0
-        return top_form.lc() / self.volume_class().lc()
+        return (QQ.zero() if top_form.is_zero()
+                else top_form.lc() / self.volume_class().lc())
```



---

Comment by klee created at 2021-05-14 01:16:06

Replying to [comment:13 slelievre]:
> Though I'm thinking this `return 0`
> should be `return QQ.zero()`...

Perhaps it would be better to return the zero element of the base ring of the cohomology ring. However, it seems a pervasive convention in Sage just to return `0` regardless of the proper parent of the zero.

Anyway, it is not in the scope of this ticket to "fix" it. I just leave it as it is. 

Thank you for the review.


---

Comment by slelievre created at 2021-05-14 14:12:56

I agree it is beyond the scope of this ticket.


---

Comment by git created at 2021-07-19 00:33:14

Changing status from positive_review to needs_review.


---

Comment by git created at 2021-07-19 00:33:14

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:


---

Comment by klee created at 2021-07-19 00:33:30

Changing status from needs_review to positive_review.


---

Comment by klee created at 2021-07-19 00:34:07

Rebased on the latest beta


---

Comment by klee created at 2021-07-19 00:34:47

Changing priority from minor to major.


---

Comment by vbraun created at 2021-07-23 20:11:20

Resolution: fixed
