# Issue 31349: Fix a few typographic errors in latex strings in schemes folder

archive/issues_031349.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/31586\n\n",
    "created_at": "2021-03-31T08:32:49Z",
    "labels": [
        "component: documentation",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Fix a few typographic errors in latex strings in schemes folder",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31349",
    "user": "https://github.com/kwankyu"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/31586





---

archive/issue_comments_448023.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-31T08:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448023",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_448024.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-31T08:52:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448024",
    "user": "https://github.com/kwankyu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_448025.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-05-11T00:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448025",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_448026.json:
```json
{
    "body": "I would suggest adding line breaks and using\nformatted strings and raw strings as follows.\n\n\n```diff\n-            \\text{Projective Plane curve over $\\Bold{Q}$ defined by $-x^{3} + y^{2} z - 17 x z^{2} + y z^{2}$}\n+            \\text{Projective Plane curve over $\\Bold{Q}$\n+            defined by $-x^{3} + y^{2} z - 17 x z^{2} + y z^{2}$}\n```\n\n\n\n```diff\n-            \\text{Affine Plane curve over $\\Bold{Q}$ defined by $-x^{3} + y^{2} - 17 x + y$}\n+            \\text{Affine Plane curve over $\\Bold{Q}$\n+            defined by $-x^{3} + y^{2} - 17 x + y$}\n```\n\n\n\n```diff\n-        if self.defining_ideal().is_zero() and self.ambient_space().dimension() == 1:\n-            return r\"\\text{{{} line over ${}$}}\".format(self._repr_type(), latex(self.base_ring()))\n-        else:\n-            return r\"\\text`} curve over ${}$ defined by {`\".format(self._repr_type(), latex(self.base_ring()),\n-                 ', '.join(['${0}$'.format(latex(x)) for x in self.defining_polynomials()]))\n+        if (self.defining_ideal().is_zero()\n+                and self.ambient_space().dimension() == 1):\n+            repr_type, ring = self._repr_type(), latex(self.base_ring())\n+            return fr\"\\text{{{repr_type} line over ${ring}$}}\"\n+        else:\n+            repr_type, ring = self._repr_type(), latex(self.base_ring())\n+            pp = ', '.join(f'${latex(p)}$' for p in self.defining_polynomials())\n+            return fr\"\\text`repr_type} curve over ${ring}$ defined by {pp`\"\n```\n\n\n\n```diff\n-        return 'Rational cohomology ring of a ' + self._variety._repr_()\n+        return f'Rational cohomology ring of a {self._variety._repr_()}'\n```\n\n\n\n```diff\n-        return 'H^\\\\ast\\\\left(' + self._variety._latex_() + ',' + latex(QQ) + '\\\\right)'\n+        return fr'H^\\ast\\left({self._variety._latex_()},{latex(QQ)}\\right)'\n```\n\n\nOther than that (but feel free to discard any or all\nof these suggestions), positive review if bots agree.",
    "created_at": "2021-05-11T09:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448026",
    "user": "https://github.com/slel"
}
```

I would suggest adding line breaks and using
formatted strings and raw strings as follows.


```diff
-            \text{Projective Plane curve over $\Bold{Q}$ defined by $-x^{3} + y^{2} z - 17 x z^{2} + y z^{2}$}
+            \text{Projective Plane curve over $\Bold{Q}$
+            defined by $-x^{3} + y^{2} z - 17 x z^{2} + y z^{2}$}
```



```diff
-            \text{Affine Plane curve over $\Bold{Q}$ defined by $-x^{3} + y^{2} - 17 x + y$}
+            \text{Affine Plane curve over $\Bold{Q}$
+            defined by $-x^{3} + y^{2} - 17 x + y$}
```



```diff
-        if self.defining_ideal().is_zero() and self.ambient_space().dimension() == 1:
-            return r"\text{{{} line over ${}$}}".format(self._repr_type(), latex(self.base_ring()))
-        else:
-            return r"\text`} curve over ${}$ defined by {`".format(self._repr_type(), latex(self.base_ring()),
-                 ', '.join(['${0}$'.format(latex(x)) for x in self.defining_polynomials()]))
+        if (self.defining_ideal().is_zero()
+                and self.ambient_space().dimension() == 1):
+            repr_type, ring = self._repr_type(), latex(self.base_ring())
+            return fr"\text{{{repr_type} line over ${ring}$}}"
+        else:
+            repr_type, ring = self._repr_type(), latex(self.base_ring())
+            pp = ', '.join(f'${latex(p)}$' for p in self.defining_polynomials())
+            return fr"\text`repr_type} curve over ${ring}$ defined by {pp`"
```



```diff
-        return 'Rational cohomology ring of a ' + self._variety._repr_()
+        return f'Rational cohomology ring of a {self._variety._repr_()}'
```



```diff
-        return 'H^\\ast\\left(' + self._variety._latex_() + ',' + latex(QQ) + '\\right)'
+        return fr'H^\ast\left({self._variety._latex_()},{latex(QQ)}\right)'
```


Other than that (but feel free to discard any or all
of these suggestions), positive review if bots agree.



---

archive/issue_comments_448027.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-11T11:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448027",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_448028.json:
```json
{
    "body": "Replying to [comment:8 slelievre]:\n> Other than that (but feel free to discard any or all\n> of these suggestions), positive review if bots agree.\n\nGood suggestions. Thank you.",
    "created_at": "2021-05-11T11:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448028",
    "user": "https://github.com/kwankyu"
}
```

Replying to [comment:8 slelievre]:
> Other than that (but feel free to discard any or all
> of these suggestions), positive review if bots agree.

Good suggestions. Thank you.



---

archive/issue_comments_448029.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-13T00:29:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448029",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_448030.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-05-13T19:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448030",
    "user": "https://github.com/slel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_448031.json:
```json
{
    "body": "Wonderful.",
    "created_at": "2021-05-13T19:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448031",
    "user": "https://github.com/slel"
}
```

Wonderful.



---

archive/issue_comments_448032.json:
```json
{
    "body": "Though I'm thinking this `return 0`\nshould be `return QQ.zero()`...",
    "created_at": "2021-05-13T19:20:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448032",
    "user": "https://github.com/slel"
}
```

Though I'm thinking this `return 0`
should be `return QQ.zero()`...



---

archive/issue_comments_448033.json:
```json
{
    "body": "Another way of putting it would be\n\n```diff\n-        if top_form.is_zero():\n-            return 0\n-        return top_form.lc() / self.volume_class().lc()\n+        return (QQ.zero() if top_form.is_zero()\n+                else top_form.lc() / self.volume_class().lc())\n```\n",
    "created_at": "2021-05-13T19:24:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448033",
    "user": "https://github.com/slel"
}
```

Another way of putting it would be

```diff
-        if top_form.is_zero():
-            return 0
-        return top_form.lc() / self.volume_class().lc()
+        return (QQ.zero() if top_form.is_zero()
+                else top_form.lc() / self.volume_class().lc())
```




---

archive/issue_comments_448034.json:
```json
{
    "body": "Replying to [comment:13 slelievre]:\n> Though I'm thinking this `return 0`\n> should be `return QQ.zero()`...\n\nPerhaps it would be better to return the zero element of the base ring of the cohomology ring. However, it seems a pervasive convention in Sage just to return `0` regardless of the proper parent of the zero.\n\nAnyway, it is not in the scope of this ticket to \"fix\" it. I just leave it as it is. \n\nThank you for the review.",
    "created_at": "2021-05-14T01:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448034",
    "user": "https://github.com/kwankyu"
}
```

Replying to [comment:13 slelievre]:
> Though I'm thinking this `return 0`
> should be `return QQ.zero()`...

Perhaps it would be better to return the zero element of the base ring of the cohomology ring. However, it seems a pervasive convention in Sage just to return `0` regardless of the proper parent of the zero.

Anyway, it is not in the scope of this ticket to "fix" it. I just leave it as it is. 

Thank you for the review.



---

archive/issue_comments_448035.json:
```json
{
    "body": "I agree it is beyond the scope of this ticket.",
    "created_at": "2021-05-14T14:12:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448035",
    "user": "https://github.com/slel"
}
```

I agree it is beyond the scope of this ticket.



---

archive/issue_comments_448036.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-07-19T00:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_448037.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:",
    "created_at": "2021-07-19T00:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448037",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:



---

archive/issue_comments_448038.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-19T00:33:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448038",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_448039.json:
```json
{
    "body": "Rebased on the latest beta",
    "created_at": "2021-07-19T00:34:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448039",
    "user": "https://github.com/kwankyu"
}
```

Rebased on the latest beta



---

archive/issue_comments_448040.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-23T20:11:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31349#issuecomment-448040",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_028668.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2021-07-23T20:11:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31349",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31349#event-28668"
}
```
