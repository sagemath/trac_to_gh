# Issue 32805: givaro spkg-configure: Reject too new versions

Issue created by migration from https://trac.sagemath.org/ticket/33042

Original creator: mkoeppe

Original creation time: 2021-12-18 17:42:19

CC:  dimpase mjo cpernet fbissey charpent arojas

The linbox team has recently released new versions of their packages: givaro-4.2.0, fflas-ffpack-2.5.0, linbox-1.7.0, which some cutting-edge distributions are already shipping: https://repology.org/project/givaro/versions

Unfortunately our spkg-configure for `givaro` only checks a lower version bound, not an upper bound. So these new, incompatible releases retroactively break released Sage versions.

This leads to build errors in our `linbox` spkg, such as  
https://groups.google.com/g/sage-devel/c/seTJ79k33Ac/m/wr4kbNAhDQAJ (likely).


(Note that we do not have an `spkg-configure` for `linbox` - that's #29631).


---

Comment by mkoeppe created at 2021-12-18 18:20:51

New commits:


---

Comment by git created at 2021-12-18 18:21:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-12-18 18:29:39

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-12-18 18:29:39


```
tox -e docker-ubuntu-focal-standard -- config.status
```

correctly accept givaro 4.1.1



```
tox -e docker-debian-bookworm-standard -- config.status
```

correctly rejects givaro 4.2.0


---

Comment by mkoeppe created at 2021-12-19 22:55:34

Let's get this in please.


---

Comment by dimpase created at 2021-12-20 10:36:48


```
+    m4_pushdef([SAGE_GIVARO_LTVER])
     m4_popdef([SAGE_GIVARO_MINVER])
```

That should be `popdef`,
obviously.


---

Comment by dimpase created at 2021-12-20 10:36:48

Changing status from needs_review to needs_work.


---

Comment by git created at 2021-12-20 13:20:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-12-20 13:20:33

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2021-12-20 14:54:27

looks good to me


---

Comment by dimpase created at 2021-12-20 14:54:27

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-12-20 19:54:10

Thanks!


---

Comment by vbraun created at 2021-12-28 21:15:53

Resolution: fixed
