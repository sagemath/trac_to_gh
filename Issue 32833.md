# Issue 32833: Package upgrades for Python 3.10 support

archive/issues_032833.json:
```json
{
    "body": "CC:  @tornaria\n\n- https://github.com/prometheus/client_python/releases/tag/v0.12.0\n\nIssue created by migration from https://trac.sagemath.org/ticket/33070\n\n",
    "created_at": "2021-12-23T18:11:26Z",
    "labels": [
        "component: porting"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Package upgrades for Python 3.10 support",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32833",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @tornaria

- https://github.com/prometheus/client_python/releases/tag/v0.12.0

Issue created by migration from https://trac.sagemath.org/ticket/33070





---

archive/issue_events_087379.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-23T19:17:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32833#event-87379"
}
```



---

archive/issue_comments_467483.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-25T19:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467483",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_467484.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2021-12-25T19:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467484",
    "user": "https://github.com/mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_467485.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-26T01:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467485",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467486.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-12-26T21:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467486",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_467487.json:
```json
{
    "body": "Thank you",
    "created_at": "2021-12-26T21:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467487",
    "user": "https://github.com/mkoeppe"
}
```

Thank you



---

archive/issue_comments_467488.json:
```json
{
    "body": "Also need to update `gmpy2`'s `install-requires.txt`",
    "created_at": "2022-01-01T04:22:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467488",
    "user": "https://github.com/mkoeppe"
}
```

Also need to update `gmpy2`'s `install-requires.txt`



---

archive/issue_comments_467489.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-01-01T04:22:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467489",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_467490.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-01T04:33:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467490",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_467491.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-01-01T04:33:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467491",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_467492.json:
```json
{
    "body": "Can we allow Python3.10.1 (which is e.g. default Python3 in alpine/edge)?",
    "created_at": "2022-01-01T10:26:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467492",
    "user": "https://github.com/dimpase"
}
```

Can we allow Python3.10.1 (which is e.g. default Python3 in alpine/edge)?



---

archive/issue_comments_467493.json:
```json
{
    "body": "Replying to [comment:13 dimpase]:\n> Can we allow Python3.10.1 (which is e.g. default Python3 in alpine/edge)?\n\nThat was done in #30766",
    "created_at": "2022-01-01T17:00:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467493",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:13 dimpase]:
> Can we allow Python3.10.1 (which is e.g. default Python3 in alpine/edge)?

That was done in #30766



---

archive/issue_comments_467494.json:
```json
{
    "body": "I seem to have trouble with Python 3.10.1, numpy, and system openblas on alpine, some weird numpy build error.  (might be alpine-specific - #33083)\n\nSee attachment for details.",
    "created_at": "2022-01-01T22:18:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467494",
    "user": "https://github.com/dimpase"
}
```

I seem to have trouble with Python 3.10.1, numpy, and system openblas on alpine, some weird numpy build error.  (might be alpine-specific - #33083)

See attachment for details.



---

archive/issue_comments_467495.json:
```json
{
    "body": "Attachment [numpy-1.21.4.log](tarball://root/attachments/some-uuid/ticket33070/numpy-1.21.4.log) by @dimpase created at 2022-01-01 22:46:10\n\nmusl libc + system openblas + system python 3.10.1",
    "created_at": "2022-01-01T22:46:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467495",
    "user": "https://github.com/dimpase"
}
```

Attachment [numpy-1.21.4.log](tarball://root/attachments/some-uuid/ticket33070/numpy-1.21.4.log) by @dimpase created at 2022-01-01 22:46:10

musl libc + system openblas + system python 3.10.1



---

archive/issue_comments_467496.json:
```json
{
    "body": "If I try installing numpy using pip3, I'm getting numpy 1.22.0 (from a wheel)\n\nbut it's build fails with essentially the same error",
    "created_at": "2022-01-01T23:00:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467496",
    "user": "https://github.com/dimpase"
}
```

If I try installing numpy using pip3, I'm getting numpy 1.22.0 (from a wheel)

but it's build fails with essentially the same error



---

archive/issue_comments_467497.json:
```json
{
    "body": "This has nothing to do with this ticket! `numpy` is not touched here.\n\nCould someone please put it back to positive review.",
    "created_at": "2022-01-01T23:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467497",
    "user": "https://github.com/mkoeppe"
}
```

This has nothing to do with this ticket! `numpy` is not touched here.

Could someone please put it back to positive review.



---

archive/issue_comments_467498.json:
```json
{
    "body": "This ticket was always in review. Anyhow, it looks good to me now :-)",
    "created_at": "2022-01-02T08:48:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467498",
    "user": "https://github.com/dimpase"
}
```

This ticket was always in review. Anyhow, it looks good to me now :-)



---

archive/issue_comments_467499.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-01-02T08:48:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467499",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_467500.json:
```json
{
    "body": "Thanks.",
    "created_at": "2022-01-03T06:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467500",
    "user": "https://github.com/mkoeppe"
}
```

Thanks.



---

archive/issue_events_087380.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-12T22:05:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32833#event-87380"
}
```



---

archive/issue_comments_467501.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-02-12T22:05:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32833#issuecomment-467501",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
