# Issue 23749: compute class numbers of non-maximal orders in quadratic imaginary fields

archive/issues_023749.json:
```json
{
    "body": "Keywords: class number, non-maximal order, quadratic imaginary field\n\nImplement class number computation for non-maximal orders in quadratic imaginary fields.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23986\n\n",
    "created_at": "2017-10-07T19:50:22Z",
    "labels": [
        "number fields",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "compute class numbers of non-maximal orders in quadratic imaginary fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23749",
    "user": "tscholl2"
}
```
Keywords: class number, non-maximal order, quadratic imaginary field

Implement class number computation for non-maximal orders in quadratic imaginary fields.

Issue created by migration from https://trac.sagemath.org/ticket/23986





---

archive/issue_comments_332762.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-07T19:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332762",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_332763.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-07T20:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332763",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_332764.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-10-16T21:23:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332764",
    "user": "tscholl2"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_332765.json:
```json
{
    "body": "I successfully tested a few orders using the following magma code:\n\n\n```\nK<a> := QuadraticField(-23);\nO := sub< MaximalOrder(K) | 240 >;\nprint PicardNumber(O);\n// 288\n\nK<a> := QuadraticField(-3);\nO := sub< MaximalOrder(K) | 6 >;\nprint PicardNumber(O);\n// 3\n```\n",
    "created_at": "2017-10-16T21:23:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332765",
    "user": "tscholl2"
}
```

I successfully tested a few orders using the following magma code:


```
K<a> := QuadraticField(-23);
O := sub< MaximalOrder(K) | 240 >;
print PicardNumber(O);
// 288

K<a> := QuadraticField(-3);
O := sub< MaximalOrder(K) | 6 >;
print PicardNumber(O);
// 3
```




---

archive/issue_comments_332766.json:
```json
{
    "body": "PARI/GP actually computes class numbers for all quadratic orders. So I would rather implement this as simply a call to `pari.qfbclassno(D)`.",
    "created_at": "2017-10-17T08:39:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332766",
    "user": "jdemeyer"
}
```

PARI/GP actually computes class numbers for all quadratic orders. So I would rather implement this as simply a call to `pari.qfbclassno(D)`.



---

archive/issue_comments_332767.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-10-17T08:39:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332767",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_332768.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-17T17:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332768",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_332769.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-17T17:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332769",
    "user": "tscholl2"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_332770.json:
```json
{
    "body": "I replaced the formula with a call to `pari.qfbclassno` (thanks for pointing that function out!). I added some examples for real and imaginary non-maximal quadratic orders, and changed the error message accordingly.",
    "created_at": "2017-10-17T17:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332770",
    "user": "tscholl2"
}
```

I replaced the formula with a call to `pari.qfbclassno` (thanks for pointing that function out!). I added some examples for real and imaginary non-maximal quadratic orders, and changed the error message accordingly.



---

archive/issue_comments_332771.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2017-10-18T21:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332771",
    "user": "roed"
}
```

Looks good to me.



---

archive/issue_comments_332772.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-18T21:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332772",
    "user": "roed"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_332773.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-10-22T05:51:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23749",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23749#issuecomment-332773",
    "user": "vbraun"
}
```

Resolution: fixed
