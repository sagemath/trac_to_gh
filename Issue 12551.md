# Issue 12551: Update python spkg to add a feature to python's doctest module

Issue created by migration from Trac.

Original creator: roed

Original creation time: 2012-03-21 22:43:10

Assignee: tbd

CC:  jhpalmieri

The code at #12415 needs to change Python's doctest module


---

Attachment

I posted a diff of python-2.7.2.p5 against python-2.7.2.p4 as an attachment.  The actual spkg is available [here](http://sage.math.washington.edu/home/roed/python-2.7.2.p5.spkg).  

Unfortunately it doesn't succeed in installing, and I don't understand why.  I get


```
patching file Lib/distutils/command/sdist.py
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
2 out of 2 hunks ignored -- saving rejects to file Lib/distutils/command/sdist.py.rej
Error: Patch "../patches/Lib.distutils.command.sdist.patch" failed to apply.
```


But I didn't touch that patch....  Help would be appreciated, since I haven't updated spkgs very often.


---

Comment by mhansen created at 2012-03-22 04:08:59

Is it not possible to modify test.globs before it's run instead of patching Python?


---

Comment by vbraun created at 2012-05-26 18:10:43

David will move the doctest.py into the sage library and embrace & extend it there.

Ticket can be closed.


---

Comment by vbraun created at 2012-05-26 18:10:43

Changing keywords from "" to "sd40.5".


---

Comment by vbraun created at 2012-05-26 18:10:43

Changing status from new to needs_review.


---

Comment by vbraun created at 2012-05-26 18:10:58

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-06-02 12:24:45

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2012-06-02 12:24:45

Upgrading a spkg requires posting a new `.spkg` file, not just a patch.  Also, this should be rebased to #13013.


---

Comment by vbraun created at 2012-06-02 12:34:26

No changes necessary. This ticket can be closed as wontfix.


---

Comment by vbraun created at 2012-06-02 12:34:26

Changing status from needs_work to positive_review.


---

Comment by jdemeyer created at 2012-06-02 12:51:03

Resolution: wontfix
