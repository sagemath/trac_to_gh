# Issue 14773: Consistency between Rational.minpoly and NumberFieldElement.minpoly

Issue created by migration from Trac.

Original creator: mmezzarobba

Original creation time: 2013-08-06 11:43:01

Make the var parameter of `Rational.minpoly()` default to `'x'`, for consistency with `NumberFieldElement.minpoly()`. (This is important since `is_NumberField(QQ) == True`.)

I'm wondering if `minpoly()` shouldn't actually just be moved to `FieldElement`. Thoughts?


---

Comment by mmezzarobba created at 2013-08-06 11:44:44

Changing status from new to needs_review.


---

Comment by cremona created at 2013-08-19 16:34:01

I don't know why this is tagged "needs review" when there is no patch.

I would support changing

```
   def minpoly(self, var):
```

to

```
   def minpoly(self, var='x'):
```

for consistency with number fields.

How would it work to move this to FieldElement?   To be well-defined you would have to know a subfield over which the element was algebraic, and that will not always exist.

So let's just make the trivial change here (and add a doctest of course).


---

Comment by mmezzarobba created at 2013-08-19 18:02:33

Replying to [comment:2 cremona]:
> I don't know why this is tagged "needs review" when there is no patch.

There is a git branch attached.


---

Comment by mmezzarobba created at 2013-08-19 18:03:12

Changing type from PLEASE CHANGE to defect.


---

Comment by cremona created at 2013-08-19 18:26:15

Forgive me, I have not yet made the great transition!

The patch looks good but I am not yet in a position to test it...


---

Comment by mmezzarobba created at 2013-08-19 18:33:09

Replying to [comment:5 cremona]:
> Forgive me, I have not yet made the great transition!

No problem, of course! Thanks for having a look.


---

Comment by bhutz created at 2013-09-14 15:26:07

Changing status from needs_review to positive_review.


---

Comment by bhutz created at 2013-09-14 15:26:07

I used this as practice for learning git. The branch itself had many failures on doctests that seem to be due to other issues. When merged with the current public\sage-git\master the only doctest failure was the same

src/sage/doctest/control.py  # 2 doctests failed 

that fails on the master. So, not surprisingly, this simple change checks out just fine and the new example demonstrates the functionality change.


---

Comment by vbraun created at 2013-12-21 22:18:29

Resolution: fixed


---

Comment by bhutz created at 2013-12-22 15:11:00

When was this merged?
----
New commits:


---

Comment by vbraun created at 2013-12-22 15:13:06

It will be in sage-6.1.beta2
