# Issue 31131: time in *.sage file

Issue created by migration from https://trac.sagemath.org/ticket/31368

Original creator: hemmecke

Original creation time: 2021-02-09 10:55:50

In Sage 9.1 or 9.2, I can type this and
get some timing output.

```
sage: time a=1+2
CPU times: user 5 µs, sys: 2 µs, total: 7 µs
Wall time: 7.63 µs
```


However, when I put

```
time a=1+2
```

into `footime.sage` and then run

```
sage footime.sage
```

I see the following output:

```
Traceback (most recent call last):
  File "footime.sage.py", line 7, in <module>
    __time__=misc.cputime(); __wall__=misc.walltime(); a = _sage_const_1 +_sage_const_2 ; print("Time: CPU %.2f s, Wall: %.2f s"%(misc.cputime(__time__), misc.walltime(__wall__)))
NameError: name 'misc' is not defined
```


There is a generated `footime.sage.py` with the following content.

```

# This file was *autogenerated* from the file footime.sage
from sage.all_cmdline import *   # import sage library

_sage_const_1 = Integer(1); _sage_const_2 = Integer(2)
__time__=misc.cputime(); __wall__=misc.walltime(); a = _sage_const_1 +_sage_const_2 ; print("Time: CPU %.2f s, Wall: %.2f s"%(misc.cputime(__time__), misc.walltime(__wall__)))

```




---

Comment by jhpalmieri created at 2021-02-09 17:08:45

I think this should fix it.
----
New commits:


---

Comment by jhpalmieri created at 2021-02-09 17:08:45

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-03-24 02:04:25

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.


---

Comment by klee created at 2021-04-13 08:39:22

You can use `cputime()` and `walltime()` instead of `sage.misc.misc.cputime()` and `sage.misc.misc.walltime()`. They are imported by `from sage.all_cmdline import *`


---

Comment by git created at 2021-04-13 17:04:25

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jhpalmieri created at 2021-04-13 17:11:01

Okay, done.


---

Comment by klee created at 2021-04-14 00:53:54

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-07-19 20:57:02

Promoting the oldest 5 positively reviewed tickets to "major"


---

Comment by mkoeppe created at 2021-07-19 20:57:02

Changing priority from minor to major.


---

Comment by vbraun created at 2021-07-23 20:11:29

Resolution: fixed
