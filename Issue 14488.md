# Issue 14488: Fix hardcoded 'make' in NTL's build scripts

archive/issues_014488.json:
```json
{
    "body": "Assignee: @nexttime\n\nCC:  jpflori\n\nKeywords: spkg\n\nFixed spkg on the way...\n\nIssue created by migration from https://trac.sagemath.org/ticket/14692\n\n",
    "created_at": "2013-06-05T19:20:48Z",
    "labels": [
        "component: packages: standard",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Fix hardcoded 'make' in NTL's build scripts",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14488",
    "user": "https://github.com/nexttime"
}
```
Assignee: @nexttime

CC:  jpflori

Keywords: spkg

Fixed spkg on the way...

Issue created by migration from https://trac.sagemath.org/ticket/14692





---

archive/issue_comments_183097.json:
```json
{
    "body": "Diff between the `.p0` and the `.p1`.  For reference / review only.",
    "created_at": "2013-06-05T20:50:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183097",
    "user": "https://github.com/nexttime"
}
```

Diff between the `.p0` and the `.p1`.  For reference / review only.



---

archive/issue_comments_183098.json:
```json
{
    "body": "Attachment [ntl-5.5.2.p0-p1.diff](tarball://root/attachments/some-uuid/ticket14692/ntl-5.5.2.p0-p1.diff) by @nexttime created at 2013-06-05 20:57:12",
    "created_at": "2013-06-05T20:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183098",
    "user": "https://github.com/nexttime"
}
```

Attachment [ntl-5.5.2.p0-p1.diff](tarball://root/attachments/some-uuid/ticket14692/ntl-5.5.2.p0-p1.diff) by @nexttime created at 2013-06-05 20:57:12



---

archive/issue_comments_183099.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-06-05T20:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183099",
    "user": "https://github.com/nexttime"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_183100.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-06-06T09:17:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183100",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_183101.json:
```json
{
    "body": "I think it would be much better to have just one patch fixing this issue, instead of 3 (one per file). This makes it easier to document what the patch does (`SPKG.txt` should mention this patch).\n\nAlso, having just one patch makes it easier to report upstream (which should be done).",
    "created_at": "2013-06-06T09:17:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183101",
    "user": "https://github.com/jdemeyer"
}
```

I think it would be much better to have just one patch fixing this issue, instead of 3 (one per file). This makes it easier to document what the patch does (`SPKG.txt` should mention this patch).

Also, having just one patch makes it easier to report upstream (which should be done).



---

archive/issue_comments_183102.json:
```json
{
    "body": "Same feeling as Jeroen.\nIf you also feel like contacting Shoup to integrate all of our patches, please go ahead :)",
    "created_at": "2013-06-06T09:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183102",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Same feeling as Jeroen.
If you also feel like contacting Shoup to integrate all of our patches, please go ahead :)



---

archive/issue_comments_183103.json:
```json
{
    "body": "That's (to some extent) a matter of taste, although I actually prefer [cumulative] patches with \"verbose names\", too.  (It only sometimes gets messy when different patches patch the same files, and especially when they're applied in some \"random\" order.) \n\nBut there was already `patches/mfile.patch` (fixing Cygwin stuff<sup>*</sup>), so I followed the scheme that was already there.\n\n----\n\n<sup>*</sup> Does anyone recall OTOH who added that?  XD",
    "created_at": "2013-06-06T15:09:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183103",
    "user": "https://github.com/nexttime"
}
```

That's (to some extent) a matter of taste, although I actually prefer [cumulative] patches with "verbose names", too.  (It only sometimes gets messy when different patches patch the same files, and especially when they're applied in some "random" order.) 

But there was already `patches/mfile.patch` (fixing Cygwin stuff<sup>*</sup>), so I followed the scheme that was already there.

----

<sup>*</sup> Does anyone recall OTOH who added that?  XD



---

archive/issue_comments_183104.json:
```json
{
    "body": "I guess I'm the culprit for the Cygwin patch...\nAs all the previous patches only have one purpose and touch only one file, it may be a good time to rename them, DoConfig and mfile are not really talkative.\n\nOf course patching the same file multiple times with your new set of patches might be problematic.",
    "created_at": "2013-06-06T15:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183104",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

I guess I'm the culprit for the Cygwin patch...
As all the previous patches only have one purpose and touch only one file, it may be a good time to rename them, DoConfig and mfile are not really talkative.

Of course patching the same file multiple times with your new set of patches might be problematic.



---

archive/issue_comments_183105.json:
```json
{
    "body": "I'd say the easiest way to go now is to rebase this ticket on the trivial change of #2114.",
    "created_at": "2013-06-06T15:23:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183105",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

I'd say the easiest way to go now is to rebase this ticket on the trivial change of #2114.



---

archive/issue_comments_183106.json:
```json
{
    "body": "Replying to [comment:6 jpflori]:\n> I'd say the easiest way to go now is to rebase this ticket on the trivial change of #2114.\n\nAu contraire I'd say (if that's correctly spelled).",
    "created_at": "2013-06-06T15:29:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183106",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:6 jpflori]:
> I'd say the easiest way to go now is to rebase this ticket on the trivial change of #2114.

Au contraire I'd say (if that's correctly spelled).



---

archive/issue_comments_183107.json:
```json
{
    "body": "Is \"refactor and rename patches\" in any way related to the ticket's subject, namely fixing a **defect** (which the current spkg properly does)?\n\nHonestly, if you feel all the patches should be restructured (including their documentation), that can be done on another ticket.",
    "created_at": "2013-06-06T15:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183107",
    "user": "https://github.com/nexttime"
}
```

Is "refactor and rename patches" in any way related to the ticket's subject, namely fixing a **defect** (which the current spkg properly does)?

Honestly, if you feel all the patches should be restructured (including their documentation), that can be done on another ticket.



---

archive/issue_comments_183108.json:
```json
{
    "body": "Replying to [comment:8 leif]:\n> Is \"refactor and rename patches\" in any way related to the ticket's subject, namely fixing a **defect** (which the current spkg properly does)?\nPerhaps what is meant is simply my comment about having *one* patch to fix `make` and documenting that patch in `SPKG.txt`.",
    "created_at": "2013-06-06T19:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183108",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:8 leif]:
> Is "refactor and rename patches" in any way related to the ticket's subject, namely fixing a **defect** (which the current spkg properly does)?
Perhaps what is meant is simply my comment about having *one* patch to fix `make` and documenting that patch in `SPKG.txt`.



---

archive/issue_comments_183109.json:
```json
{
    "body": "Yeah, let's just do that.\n\nTo properly refactor we should split the libtool part in DoConfig.patch and merge it with mfile.patch into a libtool_flag.patch later and put the remaining part into a disable_help.patch.\nMaybe move new.h.patch to new_singular.patch.\nAnd properly document everything in SPKG.txt by reflecting what is done by which patch (although the names should be then more talkative).\nBut I can do that in a folow up ticket.",
    "created_at": "2013-06-06T19:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183109",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Yeah, let's just do that.

To properly refactor we should split the libtool part in DoConfig.patch and merge it with mfile.patch into a libtool_flag.patch later and put the remaining part into a disable_help.patch.
Maybe move new.h.patch to new_singular.patch.
And properly document everything in SPKG.txt by reflecting what is done by which patch (although the names should be then more talkative).
But I can do that in a folow up ticket.



---

archive/issue_comments_183110.json:
```json
{
    "body": "I've put an spkg doing all the above and based on #2114 at:\n* http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg",
    "created_at": "2013-06-06T20:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183110",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

I've put an spkg doing all the above and based on #2114 at:
* http://boxen.math.washington.edu/home/jpflori/spkg/ntl-5.5.2.p2.spkg



---

archive/issue_comments_183111.json:
```json
{
    "body": "Attachment [ntl-5.5.2.p2.patch](tarball://root/attachments/some-uuid/ticket14692/ntl-5.5.2.p2.patch) by jpflori created at 2013-06-06 20:31:32\n\nSpkg diff, for review only.",
    "created_at": "2013-06-06T20:31:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183111",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Attachment [ntl-5.5.2.p2.patch](tarball://root/attachments/some-uuid/ticket14692/ntl-5.5.2.p2.patch) by jpflori created at 2013-06-06 20:31:32

Spkg diff, for review only.



---

archive/issue_comments_183112.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-06-06T20:34:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183112",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_183113.json:
```json
{
    "body": "Changing keywords from \"spkg\" to \"spkg ntl\".",
    "created_at": "2013-06-06T20:34:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183113",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing keywords from "spkg" to "spkg ntl".



---

archive/issue_comments_183114.json:
```json
{
    "body": "`patches/make.patch` lacks the patch to `src/src/TestScript`.\n\n(I'd also rename the patch to `use_MAKE.patch` or smth like that.)",
    "created_at": "2013-06-07T13:16:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183114",
    "user": "https://github.com/nexttime"
}
```

`patches/make.patch` lacks the patch to `src/src/TestScript`.

(I'd also rename the patch to `use_MAKE.patch` or smth like that.)



---

archive/issue_comments_183115.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-06-07T13:16:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183115",
    "user": "https://github.com/nexttime"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_183116.json:
```json
{
    "body": "\"Patches\" is usually a subsection of \"Special !Update/Build Instructions\", i.e., `=== Patches ===`.",
    "created_at": "2013-06-07T13:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183116",
    "user": "https://github.com/nexttime"
}
```

"Patches" is usually a subsection of "Special !Update/Build Instructions", i.e., `=== Patches ===`.



---

archive/issue_comments_183117.json:
```json
{
    "body": "And if you like, do\n\n```diff\n--- a/patches/make.patch\n+++ b/patches/make.patch\n@@ -31,7 +31,7 @@\n  \n  setup4:\n -\tsh Wizard $(WIZARD)\n-+\t+sh Wizard $(WIZARD) # shell script invoking a Perl script invoking \\$MAKE\n++\t+sh Wizard $(WIZARD) # shell script invoking a Perl script invoking $$MAKE\n  \n  \n  ntl.a:\t$(OBJ) \n@@ -44,7 +44,7 @@\n  \t./QuickTest\n  \tsh RemoveProg QuickTest\n -\tsh TestScript\n-+\t+sh TestScript # shell script invoking \\$MAKE\n++\t+sh TestScript # shell script invoking $$MAKE\n  \n  #################################################################\n  #\n```\n\nwhich fixes a minor flaw I only noticed after I had already uploaded my original spkg...",
    "created_at": "2013-06-07T13:29:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183117",
    "user": "https://github.com/nexttime"
}
```

And if you like, do

```diff
--- a/patches/make.patch
+++ b/patches/make.patch
@@ -31,7 +31,7 @@
  
  setup4:
 -	sh Wizard $(WIZARD)
-+	+sh Wizard $(WIZARD) # shell script invoking a Perl script invoking \$MAKE
++	+sh Wizard $(WIZARD) # shell script invoking a Perl script invoking $$MAKE
  
  
  ntl.a:	$(OBJ) 
@@ -44,7 +44,7 @@
  	./QuickTest
  	sh RemoveProg QuickTest
 -	sh TestScript
-+	+sh TestScript # shell script invoking \$MAKE
++	+sh TestScript # shell script invoking $$MAKE
  
  #################################################################
  #
```

which fixes a minor flaw I only noticed after I had already uploaded my original spkg...



---

archive/issue_comments_183118.json:
```json
{
    "body": "Why did you remove the patches involving `LIBTOOL_LINK_FLAGS`? This doesn't seem to be documented.",
    "created_at": "2013-06-07T14:20:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183118",
    "user": "https://github.com/jdemeyer"
}
```

Why did you remove the patches involving `LIBTOOL_LINK_FLAGS`? This doesn't seem to be documented.



---

archive/issue_comments_183119.json:
```json
{
    "body": "Replying to [comment:16 jdemeyer]:\n> Why did you remove the patches involving `LIBTOOL_LINK_FLAGS`?\n\n?  They're (now) in `patches/libtool_flag.patch`.\n\n> This doesn't seem to be documented.",
    "created_at": "2013-06-07T14:58:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183119",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:16 jdemeyer]:
> Why did you remove the patches involving `LIBTOOL_LINK_FLAGS`?

?  They're (now) in `patches/libtool_flag.patch`.

> This doesn't seem to be documented.



---

archive/issue_comments_183120.json:
```json
{
    "body": "Still, we have\n\n```\n * libtool_flag.patch: modify mfile to enable the build of a shared library\n   on Cygwin\n```\n\nbut\n\n```sh\n$ grep '^+++' patches/libtool_flag.patch \n+++ src/src/DoConfig\t2012-08-07 12:17:12.828358360 +0200\n+++ src/src/mfile\t2013-06-05 20:43:25.845240069 +0200\n```\n\nI.e., add `DoConfig` to the patch's documentation.",
    "created_at": "2013-06-07T15:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183120",
    "user": "https://github.com/nexttime"
}
```

Still, we have

```
 * libtool_flag.patch: modify mfile to enable the build of a shared library
   on Cygwin
```

but

```sh
$ grep '^+++' patches/libtool_flag.patch 
+++ src/src/DoConfig	2012-08-07 12:17:12.828358360 +0200
+++ src/src/mfile	2013-06-05 20:43:25.845240069 +0200
```

I.e., add `DoConfig` to the patch's documentation.



---

archive/issue_comments_183121.json:
```json
{
    "body": "Replying to [comment:17 leif]:\n> They're (now) in `patches/libtool_flag.patch`.\nI don't see that file in [attachment:ntl-5.5.2.p2.patch]. Did you forget to `hg add` that file?",
    "created_at": "2013-06-08T08:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183121",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:17 leif]:
> They're (now) in `patches/libtool_flag.patch`.
I don't see that file in [attachment:ntl-5.5.2.p2.patch]. Did you forget to `hg add` that file?



---

archive/issue_comments_183122.json:
```json
{
    "body": "Making some changes to the spkg, hang on...",
    "created_at": "2013-06-08T08:32:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183122",
    "user": "https://github.com/jdemeyer"
}
```

Making some changes to the spkg, hang on...



---

archive/issue_comments_183123.json:
```json
{
    "body": "Replying to [comment:19 jdemeyer]:\n> Replying to [comment:17 leif]:\n> > They're (now) in `patches/libtool_flag.patch`.\n> I don't see that file in [attachment:ntl-5.5.2.p2.patch]. Did you forget to `hg add` that file?\n\n`.hgignore` is the problem.  (It contains `libtool` rather than `libtool/`.)",
    "created_at": "2013-06-08T10:30:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183123",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:19 jdemeyer]:
> Replying to [comment:17 leif]:
> > They're (now) in `patches/libtool_flag.patch`.
> I don't see that file in [attachment:ntl-5.5.2.p2.patch]. Did you forget to `hg add` that file?

`.hgignore` is the problem.  (It contains `libtool` rather than `libtool/`.)



---

archive/issue_comments_183124.json:
```json
{
    "body": "Replying to [comment:19 jdemeyer]:\n> Replying to [comment:17 leif]:\n> > They're (now) in `patches/libtool_flag.patch`.\n> Did you forget to `hg add` that file?\n\nAnd yes, fixing `.hgignore`, indeed one gets:\n\n```\n? patches/libtool_flag.patch\n```\n",
    "created_at": "2013-06-08T10:36:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183124",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:19 jdemeyer]:
> Replying to [comment:17 leif]:
> > They're (now) in `patches/libtool_flag.patch`.
> Did you forget to `hg add` that file?

And yes, fixing `.hgignore`, indeed one gets:

```
? patches/libtool_flag.patch
```




---

archive/issue_comments_183125.json:
```json
{
    "body": "Better wait for a review of #2114 first, otherwise we can be rebasing forever.",
    "created_at": "2013-06-08T11:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183125",
    "user": "https://github.com/jdemeyer"
}
```

Better wait for a review of #2114 first, otherwise we can be rebasing forever.



---

archive/issue_comments_183126.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-07-10T15:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183126",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_183127.json:
```json
{
    "body": "Superseded by #14876",
    "created_at": "2013-07-10T15:20:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183127",
    "user": "https://github.com/vbraun"
}
```

Superseded by #14876



---

archive/issue_comments_183128.json:
```json
{
    "body": "Since the new upstream version is incompatible with our Singular, lets make a new spkg here with the fixes needed for the git transition. The version bump can wait until Singular is ready.",
    "created_at": "2013-07-10T18:14:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183128",
    "user": "https://github.com/vbraun"
}
```

Since the new upstream version is incompatible with our Singular, lets make a new spkg here with the fixes needed for the git transition. The version bump can wait until Singular is ready.



---

archive/issue_comments_183129.json:
```json
{
    "body": "Attachment [ntl-p2-p3.diff](tarball://root/attachments/some-uuid/ticket14692/ntl-p2-p3.diff) by @vbraun created at 2013-07-10 18:14:35\n\nFor review purposes only",
    "created_at": "2013-07-10T18:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183129",
    "user": "https://github.com/vbraun"
}
```

Attachment [ntl-p2-p3.diff](tarball://root/attachments/some-uuid/ticket14692/ntl-p2-p3.diff) by @vbraun created at 2013-07-10 18:14:35

For review purposes only



---

archive/issue_comments_183130.json:
```json
{
    "body": "Is the \"Make everything writable\" part actually needed?\nI guess so, or you wouldn't have added it, but I was not aware of that.",
    "created_at": "2013-07-11T08:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183130",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Is the "Make everything writable" part actually needed?
I guess so, or you wouldn't have added it, but I was not aware of that.



---

archive/issue_comments_183131.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-07-11T11:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183131",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_183132.json:
```json
{
    "body": "It would be nice to have a way to use a local copy of ntl tarball in spkg-src (just as you did for Singular in #14737).",
    "created_at": "2013-07-11T11:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183132",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

It would be nice to have a way to use a local copy of ntl tarball in spkg-src (just as you did for Singular in #14737).



---

archive/issue_comments_183133.json:
```json
{
    "body": "I haven't checked if the \"make writeable\" part is really needed. But since it also depends on umask and since wrong permissions in tarballs are not that uncommon, I think its better to include it.\n\nThe ntl tarball is tiny and on a fast server, so I didn't need an option to use a local copy for writing/testing the script. If you need it, feel free to open a ticket with that feature request.",
    "created_at": "2013-07-11T12:50:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183133",
    "user": "https://github.com/vbraun"
}
```

I haven't checked if the "make writeable" part is really needed. But since it also depends on umask and since wrong permissions in tarballs are not that uncommon, I think its better to include it.

The ntl tarball is tiny and on a fast server, so I didn't need an option to use a local copy for writing/testing the script. If you need it, feel free to open a ticket with that feature request.



---

archive/issue_comments_183134.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-07-11T12:50:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183134",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_183135.json:
```json
{
    "body": "Replying to [comment:29 vbraun]:\n> I haven't checked if the \"make writeable\" part is really needed. But since it also depends on umask and since wrong permissions in tarballs are not that uncommon, I think its better to include it.\n> \n> The ntl tarball is tiny and on a fast server, so I didn't need an option to use a local copy for writing/testing the script. If you need it, feel free to open a ticket with that feature request.\nExcept when the site is down :)",
    "created_at": "2013-07-11T21:40:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183135",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Replying to [comment:29 vbraun]:
> I haven't checked if the "make writeable" part is really needed. But since it also depends on umask and since wrong permissions in tarballs are not that uncommon, I think its better to include it.
> 
> The ntl tarball is tiny and on a fast server, so I didn't need an option to use a local copy for writing/testing the script. If you need it, feel free to open a ticket with that feature request.
Except when the site is down :)



---

archive/issue_comments_183136.json:
```json
{
    "body": "Maybe we could remove autom4te.cache from the libtool dir.",
    "created_at": "2013-07-11T21:43:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183136",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Maybe we could remove autom4te.cache from the libtool dir.



---

archive/issue_comments_183137.json:
```json
{
    "body": "Otherwise everything is fine.",
    "created_at": "2013-07-11T21:44:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183137",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Otherwise everything is fine.



---

archive/issue_comments_183138.json:
```json
{
    "body": "I've added a `rm -rf autom4te.cache` to `spkg-src` and re-ran it.",
    "created_at": "2013-07-11T22:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183138",
    "user": "https://github.com/vbraun"
}
```

I've added a `rm -rf autom4te.cache` to `spkg-src` and re-ran it.



---

archive/issue_comments_183139.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-11T22:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183139",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_183140.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-02T14:18:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14488#issuecomment-183140",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
