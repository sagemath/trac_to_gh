# Issue 25369: fix problem with leading space in FriCAS interface

archive/issues_025369.json:
```json
{
    "body": "CC:  @rwst\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/25606\n\n",
    "created_at": "2018-06-19T10:42:33Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "fix problem with leading space in FriCAS interface",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/25369",
    "user": "@mantepse"
}
```
CC:  @rwst



Issue created by migration from https://trac.sagemath.org/ticket/25606





---

archive/issue_comments_357801.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2018-06-19T10:45:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357801",
    "user": "@mantepse"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_357802.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to interfaces: optional.",
    "created_at": "2018-06-19T10:45:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357802",
    "user": "@mantepse"
}
```

Changing component from PLEASE CHANGE to interfaces: optional.



---

archive/issue_comments_357803.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-06-19T10:45:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357803",
    "user": "@mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_357804.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-19T20:50:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357804",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_357805.json:
```json
{
    "body": "Changing keywords from \"\" to \"FriCAS\".",
    "created_at": "2018-06-19T20:52:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357805",
    "user": "@mantepse"
}
```

Changing keywords from "" to "FriCAS".



---

archive/issue_comments_357806.json:
```json
{
    "body": "ok",
    "created_at": "2018-06-20T11:54:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357806",
    "user": "@fchapoton"
}
```

ok



---

archive/issue_comments_357807.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-20T11:54:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357807",
    "user": "@fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_357808.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-06-20T20:58:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357808",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_357809.json:
```json
{
    "body": "\n```\nsage -t --long src/sage/interfaces/fricas.py\n**********************************************************************\nFile \"src/sage/interfaces/fricas.py\", line 602, in sage.interfaces.fricas.FriCAS.get_string\nFailed example:\n    fricas.get_string(\"unparse((-1234567890123456789012345678901234567890123456789012345678901234567890*n::EXPR INT)::INFORM)\")\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 573, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 983, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.fricas.FriCAS.get_string[0]>\", line 1, in <module>\n        fricas.get_string(\"unparse((-1234567890123456789012345678901234567890123456789012345678901234567890*n::EXPR INT)::INFORM)\")\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/fricas.py\", line 608, in get_string\n        return self.get(str(var)).replace(\"\\n\", \"\").strip()[1:-1]\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/fricas.py\", line 569, in get\n        output = self.eval(str(var), reformat=False)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/fricas.py\", line 774, in eval\n        **kwds)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py\", line 1354, in eval\n        for L in code.split('\\n') if L != ''])\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py\", line 917, in _eval_line\n        self._start()\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/fricas.py\", line 296, in _start\n        Expect._start(self)\n      File \"/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py\", line 508, in _start\n        (self.name(), cmd, e, self._install_hints()))\n    RuntimeError: unable to start fricas because the command 'fricas -nosman' failed: The command was not found or was not executable: fricas.\n\n**********************************************************************\n```\n",
    "created_at": "2018-06-20T20:58:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357809",
    "user": "@vbraun"
}
```


```
sage -t --long src/sage/interfaces/fricas.py
**********************************************************************
File "src/sage/interfaces/fricas.py", line 602, in sage.interfaces.fricas.FriCAS.get_string
Failed example:
    fricas.get_string("unparse((-1234567890123456789012345678901234567890123456789012345678901234567890*n::EXPR INT)::INFORM)")
Exception raised:
    Traceback (most recent call last):
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 573, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 983, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.fricas.FriCAS.get_string[0]>", line 1, in <module>
        fricas.get_string("unparse((-1234567890123456789012345678901234567890123456789012345678901234567890*n::EXPR INT)::INFORM)")
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/fricas.py", line 608, in get_string
        return self.get(str(var)).replace("\n", "").strip()[1:-1]
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/fricas.py", line 569, in get
        output = self.eval(str(var), reformat=False)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/fricas.py", line 774, in eval
        **kwds)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py", line 1354, in eval
        for L in code.split('\n') if L != ''])
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py", line 917, in _eval_line
        self._start()
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/fricas.py", line 296, in _start
        Expect._start(self)
      File "/mnt/disk/home/release/Sage/local/lib/python2.7/site-packages/sage/interfaces/expect.py", line 508, in _start
        (self.name(), cmd, e, self._install_hints()))
    RuntimeError: unable to start fricas because the command 'fricas -nosman' failed: The command was not found or was not executable: fricas.

**********************************************************************
```




---

archive/issue_comments_357810.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-06-20T21:15:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357810",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_357811.json:
```json
{
    "body": "Thank you for catching that!",
    "created_at": "2018-06-20T21:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357811",
    "user": "@mantepse"
}
```

Thank you for catching that!



---

archive/issue_comments_357812.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-06-20T21:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357812",
    "user": "@mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_357813.json:
```json
{
    "body": "(the pyflakes stuff is fixed in #25544)",
    "created_at": "2018-06-21T05:16:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357813",
    "user": "@mantepse"
}
```

(the pyflakes stuff is fixed in #25544)



---

archive/issue_comments_357814.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-06-21T05:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357814",
    "user": "@fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_357815.json:
```json
{
    "body": "ok. Sorry for that.",
    "created_at": "2018-06-21T05:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357815",
    "user": "@fchapoton"
}
```

ok. Sorry for that.



---

archive/issue_comments_357816.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-06-22T22:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/25369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/25369#issuecomment-357816",
    "user": "@vbraun"
}
```

Resolution: fixed
