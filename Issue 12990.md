# Issue 12990: add experimental libfes package

archive/issues_012990.json:
```json
{
    "body": "Assignee: @malb\n\nCC:  @malb\n\nlibfes is a library (under development) that solves systems of boolean equations by exhaustive search. It is dramatically than Groebner bases in general.\n\n\n## Installation Guide\n\n* Download the fes-0.1 spkg [here](http://www.di.ens.fr/~bouillaguet/fes-0.1.spkg)\n* Apply the fes.patch to the sage library\n* Test:\n\n```\n\nsage: from sage.rings.polynomial.fes import exhaustive_search\nsage: R.<x,y,z> = BooleanPolynomialRing()\nsage: f = [x*y + z + y + 1, x+y+z, x*y + y*z]\nsage: ideal(f).variety()\nsage: exhaustive_search(f)\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/13162\n\n",
    "created_at": "2012-06-25T16:36:43Z",
    "labels": [
        "component: commutative algebra",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.7",
    "title": "add experimental libfes package",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12990",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```
Assignee: @malb

CC:  @malb

libfes is a library (under development) that solves systems of boolean equations by exhaustive search. It is dramatically than Groebner bases in general.


## Installation Guide

* Download the fes-0.1 spkg [here](http://www.di.ens.fr/~bouillaguet/fes-0.1.spkg)
* Apply the fes.patch to the sage library
* Test:

```

sage: from sage.rings.polynomial.fes import exhaustive_search
sage: R.<x,y,z> = BooleanPolynomialRing()
sage: f = [x*y + z + y + 1, x+y+z, x*y + y*z]
sage: ideal(f).variety()
sage: exhaustive_search(f)
```


Issue created by migration from https://trac.sagemath.org/ticket/13162





---

archive/issue_comments_156829.json:
```json
{
    "body": "Hi, I found a few small issues (so far) :)\n\n**SPKG**\n\n* little error in SPKG.txt\n\n```\n  === mypackage-0.1 (Charles Bouillaguet, 25 June 2012) ===\n```\n\n* `hg status` in the SPKG reports files that are not checked in.\n* please include the Trac ticket number in the SPKG.txt changelog (and the hg commit message of your SPKG)\n\n**Patch**\n\n* since FES is a library its interface should live in sage.libs.fes and not sage.rings.polynomial.fes\n* `exhaustive_search` has neither documentation nor doctests",
    "created_at": "2012-06-25T16:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156829",
    "user": "https://github.com/malb"
}
```

Hi, I found a few small issues (so far) :)

**SPKG**

* little error in SPKG.txt

```
  === mypackage-0.1 (Charles Bouillaguet, 25 June 2012) ===
```

* `hg status` in the SPKG reports files that are not checked in.
* please include the Trac ticket number in the SPKG.txt changelog (and the hg commit message of your SPKG)

**Patch**

* since FES is a library its interface should live in sage.libs.fes and not sage.rings.polynomial.fes
* `exhaustive_search` has neither documentation nor doctests



---

archive/issue_comments_156830.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-06-25T16:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156830",
    "user": "https://github.com/malb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_156831.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-06-25T16:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156831",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_156832.json:
```json
{
    "body": "patch and spkg updated",
    "created_at": "2012-06-28T19:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156832",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

patch and spkg updated



---

archive/issue_comments_156833.json:
```json
{
    "body": "Hi, almost there IMHO:\n\n* the docstring isn't properly formated:\n  * INPUT shouldn't get a double \":\" but a single one\n  * AFAIK the argument list after input should look like\n\n```\nINPUT:\n\n - ``foo`` - description\n```\n\n* There shouldn't be leading \"#\" in your comments between code blocks, indentation does take care of it\n* `sage:` blocks should be indented by four spaces wrt to the preceding block ending with `::` this includes the comments in between these code blocks\n* who frees `dense_rep_eqs`?",
    "created_at": "2012-06-28T19:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156833",
    "user": "https://github.com/malb"
}
```

Hi, almost there IMHO:

* the docstring isn't properly formated:
  * INPUT shouldn't get a double ":" but a single one
  * AFAIK the argument list after input should look like

```
INPUT:

 - ``foo`` - description
```

* There shouldn't be leading "#" in your comments between code blocks, indentation does take care of it
* `sage:` blocks should be indented by four spaces wrt to the preceding block ending with `::` this includes the comments in between these code blocks
* who frees `dense_rep_eqs`?



---

archive/issue_comments_156834.json:
```json
{
    "body": "Hi,\n\npatch modified again (use the second one, not the first one). I updated the docstrings according to the standard. Also, *NOW*, ``dense_rep_eqs`` is freed :)",
    "created_at": "2012-06-29T09:06:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156834",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Hi,

patch modified again (use the second one, not the first one). I updated the docstrings according to the standard. Also, *NOW*, ``dense_rep_eqs`` is freed :)



---

archive/issue_comments_156835.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-06-29T10:01:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156835",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_156836.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-07-02T14:26:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156836",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_156837.json:
```json
{
    "body": "**SPKG**\n\n* This looks bad:\n\n\n```\nwrapper.c: In function \u2018exhaustive_search_wrapper\u2019:\nwrapper.c:17:5: warning: implicit declaration of function \u2018exhaustive_ia32\u2019 [-Wimplicit-function-declaration]\nwrapper.c:23:5: warning: implicit declaration of function \u2018exhaustive_simd\u2019 [-Wimplicit-function-declaration]\n```\n\n* You should add \"-fPIC\" to CFLAGS in spkg-install, it won't compile without it (on my machine)\n\n**Patch**\n\n* Your patch was incorrectly indented, I fixed this in the updated patch attached to this ticket.",
    "created_at": "2012-07-02T14:26:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156837",
    "user": "https://github.com/malb"
}
```

**SPKG**

* This looks bad:


```
wrapper.c: In function ‘exhaustive_search_wrapper’:
wrapper.c:17:5: warning: implicit declaration of function ‘exhaustive_ia32’ [-Wimplicit-function-declaration]
wrapper.c:23:5: warning: implicit declaration of function ‘exhaustive_simd’ [-Wimplicit-function-declaration]
```

* You should add "-fPIC" to CFLAGS in spkg-install, it won't compile without it (on my machine)

**Patch**

* Your patch was incorrectly indented, I fixed this in the updated patch attached to this ticket.



---

archive/issue_comments_156838.json:
```json
{
    "body": "spkg updated (-fPIC and no compilation warnings)",
    "created_at": "2012-07-02T18:14:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156838",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

spkg updated (-fPIC and no compilation warnings)



---

archive/issue_comments_156839.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-07-02T18:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156839",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_156840.json:
```json
{
    "body": "I still get:\n\n\n```\nmain_simd.c: In function \u2018main\u2019:\nmain_simd.c:58:3: warning: implicit declaration of function \u2018exhaustive_simd\u2019 [-Wimplicit-function-declaration]\n```\n\n\nBtw. is there an upstream repository/website?",
    "created_at": "2012-07-03T13:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156840",
    "user": "https://github.com/malb"
}
```

I still get:


```
main_simd.c: In function ‘main’:
main_simd.c:58:3: warning: implicit declaration of function ‘exhaustive_simd’ [-Wimplicit-function-declaration]
```


Btw. is there an upstream repository/website?



---

archive/issue_comments_156841.json:
```json
{
    "body": "Replying to [comment:15 malb]:\n\n> Btw. is there an upstream repository/website?\n\nhttps://bitbucket.org/fes/fes\n\nIt's fresh :)",
    "created_at": "2012-07-03T22:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156841",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Replying to [comment:15 malb]:

> Btw. is there an upstream repository/website?

https://bitbucket.org/fes/fes

It's fresh :)



---

archive/issue_comments_156842.json:
```json
{
    "body": "And it's private, i.e., I cannot access it :)",
    "created_at": "2012-07-04T09:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156842",
    "user": "https://github.com/malb"
}
```

And it's private, i.e., I cannot access it :)



---

archive/issue_comments_156843.json:
```json
{
    "body": "Replying to [comment:17 malb]:\n> And it's private, i.e., I cannot access it :)\n\nfixed",
    "created_at": "2012-07-04T14:42:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156843",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Replying to [comment:17 malb]:
> And it's private, i.e., I cannot access it :)

fixed



---

archive/issue_comments_156844.json:
```json
{
    "body": "Hi, can you reproduce the error I am seeing (above)?",
    "created_at": "2012-07-06T09:57:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156844",
    "user": "https://github.com/malb"
}
```

Hi, can you reproduce the error I am seeing (above)?



---

archive/issue_comments_156845.json:
```json
{
    "body": "Yes, I could. I corrected it \"upstream\" :). I am currently in Ta\u00efwan, notably to develop this thing with my colleagues here, so that it should change a lot in the next days. I will tell you when it stabilizes a bit (i.e. when we stop spending consecutive whole days working on it...)",
    "created_at": "2012-07-06T13:33:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156845",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Yes, I could. I corrected it "upstream" :). I am currently in Taïwan, notably to develop this thing with my colleagues here, so that it should change a lot in the next days. I will tell you when it stabilizes a bit (i.e. when we stop spending consecutive whole days working on it...)



---

archive/issue_comments_156846.json:
```json
{
    "body": "`@`malb : you [c/s]hould download again the .spkg (which has changed), and apply the new patch, after applying Alexander's patch in #13202. You will see a notable performance improvement (and higher degrees are supported as well)",
    "created_at": "2012-07-22T21:26:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156846",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

`@`malb : you [c/s]hould download again the .spkg (which has changed), and apply the new patch, after applying Alexander's patch in #13202. You will see a notable performance improvement (and higher degrees are supported as well)



---

archive/issue_events_036269.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet",
    "created_at": "2012-07-28T13:05:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "milestone": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12990#event-36269"
}
```



---

archive/issue_comments_156847.json:
```json
{
    "body": "Changing component from commutative algebra to optional packages.",
    "created_at": "2012-07-28T13:05:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156847",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing component from commutative algebra to optional packages.



---

archive/issue_comments_156848.json:
```json
{
    "body": "Changing component from optional packages to experimental package.",
    "created_at": "2012-12-13T07:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156848",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing component from optional packages to experimental package.



---

archive/issue_comments_156849.json:
```json
{
    "body": "Hi martin,\n\nready for review :)",
    "created_at": "2012-12-13T07:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156849",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Hi martin,

ready for review :)



---

archive/issue_comments_156850.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-12-18T14:29:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156850",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_156851.json:
```json
{
    "body": "Hi Charles, sorry being so late in my reply:\n\n* line 2: Sage is spelled Sage not SAGE, in fact \"Binding for the FES library\" should be sufficient, that this is for Sage is kind of obvious\n* You define exhaustive_search as !`cpdef` but you don't specify input and output types, defeating the purpose of having it callable from C\n* If it that function ought to be a Python function then perhaps max_sols should accept infinity as a parameter for \"no restriction\". It's what the SAT solver interface in Sage does.\n* I'd swap !`verbose` and !`max_sols` because !`max_sols` changes the behaviour in a more fundamental way than !`verbose`.\n* One can also specify verbosity with !`set_verbose`, if you like !`verbose` as a parameter better for some reason, no strict need to change it, most people don't use !`set/get_verbose` in their code it seems.\n* \"The order in which the solutions are returned is implementation dependent\" if that's the case, then the doctests need to take that into account, i.e., they have the order hard coded at the moment. You could run sorted() on the output (in the doctests)\n* You can run PLE decomposition on your matrix (see sage.matrix.matrix_mod2_dense) which is a generalisation of LU and is very fast because it's implemented in M4RI\n* Isn't there some restriction for the number of variables?",
    "created_at": "2012-12-18T14:29:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156851",
    "user": "https://github.com/malb"
}
```

Hi Charles, sorry being so late in my reply:

* line 2: Sage is spelled Sage not SAGE, in fact "Binding for the FES library" should be sufficient, that this is for Sage is kind of obvious
* You define exhaustive_search as !`cpdef` but you don't specify input and output types, defeating the purpose of having it callable from C
* If it that function ought to be a Python function then perhaps max_sols should accept infinity as a parameter for "no restriction". It's what the SAT solver interface in Sage does.
* I'd swap !`verbose` and !`max_sols` because !`max_sols` changes the behaviour in a more fundamental way than !`verbose`.
* One can also specify verbosity with !`set_verbose`, if you like !`verbose` as a parameter better for some reason, no strict need to change it, most people don't use !`set/get_verbose` in their code it seems.
* "The order in which the solutions are returned is implementation dependent" if that's the case, then the doctests need to take that into account, i.e., they have the order hard coded at the moment. You could run sorted() on the output (in the doctests)
* You can run PLE decomposition on your matrix (see sage.matrix.matrix_mod2_dense) which is a generalisation of LU and is very fast because it's implemented in M4RI
* Isn't there some restriction for the number of variables?



---

archive/issue_comments_156852.json:
```json
{
    "body": "Hi Martin,\n\npatch updated. Regarding the PLE decomposition, these functions are not used presently (the library would need to be updated first), but they were useful to develop the library...",
    "created_at": "2012-12-19T15:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156852",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Hi Martin,

patch updated. Regarding the PLE decomposition, these functions are not used presently (the library would need to be updated first), but they were useful to develop the library...



---

archive/issue_comments_156853.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-12-19T15:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156853",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_156854.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-12-19T16:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156854",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_156855.json:
```json
{
    "body": "Looks good to me.",
    "created_at": "2012-12-19T16:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156855",
    "user": "https://github.com/malb"
}
```

Looks good to me.



---

archive/issue_comments_156856.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-12-19T21:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156856",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_156857.json:
```json
{
    "body": "I know it's a detail, but better do it right: the indentation is sloppy. Sometimes, the indent is 4 spaces, other times 3 spaces. Please always use 4 spaces per indentation level.",
    "created_at": "2012-12-19T21:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156857",
    "user": "https://github.com/jdemeyer"
}
```

I know it's a detail, but better do it right: the indentation is sloppy. Sometimes, the indent is 4 spaces, other times 3 spaces. Please always use 4 spaces per indentation level.



---

archive/issue_comments_156858.json:
```json
{
    "body": "indentation has been fixed. Why does the emacs Pyrex-mode that ships with sage does this ?!? (I use TAB to indent...)",
    "created_at": "2012-12-19T22:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156858",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

indentation has been fixed. Why does the emacs Pyrex-mode that ships with sage does this ?!? (I use TAB to indent...)



---

archive/issue_comments_156859.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-12-19T22:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156859",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_156860.json:
```json
{
    "body": "The documentation doesn't build properly:\n\n```\n/release/merger/sage-5.6.beta1/devel/sage/doc/en/reference/sage/libs/fes.rst:11: WARNING: autodoc can't import/find module 'sage.libs.fes', it reported error: \"No module named fes\", please check your spelling and sys.path\n```\n",
    "created_at": "2012-12-19T22:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156860",
    "user": "https://github.com/jdemeyer"
}
```

The documentation doesn't build properly:

```
/release/merger/sage-5.6.beta1/devel/sage/doc/en/reference/sage/libs/fes.rst:11: WARNING: autodoc can't import/find module 'sage.libs.fes', it reported error: "No module named fes", please check your spelling and sys.path
```




---

archive/issue_comments_156861.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-12-19T22:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156861",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_156862.json:
```json
{
    "body": "Martin, Jeroen,\n\nMy understanding is that this is caused by the conditional inclusion of the cython module to the Sage library, depending on whether the actual spkg has been installed. I thought that this was the way to go for experimental packages. But apparently, it prevents me from including stuff in the reference manual.\n\nWhat should I do ? Unconditionally include the python code to the SAGE library and mark all the doctests as optional ?",
    "created_at": "2012-12-20T11:17:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156862",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Martin, Jeroen,

My understanding is that this is caused by the conditional inclusion of the cython module to the Sage library, depending on whether the actual spkg has been installed. I thought that this was the way to go for experimental packages. But apparently, it prevents me from including stuff in the reference manual.

What should I do ? Unconditionally include the python code to the SAGE library and mark all the doctests as optional ?



---

archive/issue_comments_156863.json:
```json
{
    "body": "I have no idea what to do, maybe ask sage-devel?",
    "created_at": "2012-12-20T11:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156863",
    "user": "https://github.com/jdemeyer"
}
```

I have no idea what to do, maybe ask sage-devel?



---

archive/issue_comments_156864.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-12-21T07:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156864",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_156865.json:
```json
{
    "body": "I gave up on modifying the reference manual. This will likely be accessible through martin's #13850, which makes me happy enough",
    "created_at": "2012-12-21T07:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156865",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

I gave up on modifying the reference manual. This will likely be accessible through martin's #13850, which makes me happy enough



---

archive/issue_comments_156866.json:
```json
{
    "body": "`@`malb : getting positively reviewed again ?",
    "created_at": "2013-01-06T09:10:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156866",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

`@`malb : getting positively reviewed again ?



---

archive/issue_comments_156867.json:
```json
{
    "body": "Yep",
    "created_at": "2013-01-06T10:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156867",
    "user": "https://github.com/malb"
}
```

Yep



---

archive/issue_comments_156868.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-06T10:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156868",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_156869.json:
```json
{
    "body": "There are uncommitted changes in the spkg:\n\n```\njdemeyer@sage:~/spkg/fes-0.1$ hg status\nM spkg-install\n```\n",
    "created_at": "2013-01-08T11:00:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156869",
    "user": "https://github.com/jdemeyer"
}
```

There are uncommitted changes in the spkg:

```
jdemeyer@sage:~/spkg/fes-0.1$ hg status
M spkg-install
```




---

archive/issue_comments_156870.json:
```json
{
    "body": "The following can be removed from `spkg-install`:\n\n```\nunset RM\n\nINCLUDES=\"-I$SAGE_LOCAL/include\"\nLIBDIRS=\"-L$SAGE_LOCAL/lib\"\n```\n\n\nAnd if `$MAKE check` actually does something, it should be inside `spkg-check` and not in `spkg-install`.",
    "created_at": "2013-01-08T11:02:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156870",
    "user": "https://github.com/jdemeyer"
}
```

The following can be removed from `spkg-install`:

```
unset RM

INCLUDES="-I$SAGE_LOCAL/include"
LIBDIRS="-L$SAGE_LOCAL/lib"
```


And if `$MAKE check` actually does something, it should be inside `spkg-check` and not in `spkg-install`.



---

archive/issue_comments_156871.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-01-08T11:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156871",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_156872.json:
```json
{
    "body": "All doctests in `fes.pyx` need to be marked\n\n```\n# optional - fes\n```\n\nsuch that doctests succeed when libFES is not installed.",
    "created_at": "2013-01-08T12:21:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156872",
    "user": "https://github.com/jdemeyer"
}
```

All doctests in `fes.pyx` need to be marked

```
# optional - fes
```

such that doctests succeed when libFES is not installed.



---

archive/issue_comments_156873.json:
```json
{
    "body": "I updated the spkg (taking into account Jeroen's comments).\n\nI don't think that marking the doctests as optional is necessary, as the .pyx file is NOT included in the source tree when the spkg is not installed (cf. magic in module_list.py).\n\nHowever, the more I think about this, the more I am convinced that the right way to access this library from sage is through #13850. In that case, the doctest involving libFES in the documentation of ``.solve()`` would need to be marked optional, of course.",
    "created_at": "2013-01-17T13:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156873",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

I updated the spkg (taking into account Jeroen's comments).

I don't think that marking the doctests as optional is necessary, as the .pyx file is NOT included in the source tree when the spkg is not installed (cf. magic in module_list.py).

However, the more I think about this, the more I am convinced that the right way to access this library from sage is through #13850. In that case, the doctest involving libFES in the documentation of ``.solve()`` would need to be marked optional, of course.



---

archive/issue_comments_156874.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-01-17T13:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156874",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_156875.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-01-17T14:03:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156875",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_156876.json:
```json
{
    "body": "Replying to [comment:42 Bouillaguet]:\n> I updated the spkg (taking into account Jeroen's comments).\n> \n> I don't think that marking the doctests as optional is necessary, as the .pyx file is NOT included in the source tree when the spkg is not installed (cf. magic in module_list.py).\nThat's not true.  The `module_list.py` magic is only about *compiling* the Cython file, which is completely orthogonal to doctests.  The `fes.pyx` file is always there (regardless of whether it is compiled), so the doctests are there.",
    "created_at": "2013-01-17T14:03:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156876",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:42 Bouillaguet]:
> I updated the spkg (taking into account Jeroen's comments).
> 
> I don't think that marking the doctests as optional is necessary, as the .pyx file is NOT included in the source tree when the spkg is not installed (cf. magic in module_list.py).
That's not true.  The `module_list.py` magic is only about *compiling* the Cython file, which is completely orthogonal to doctests.  The `fes.pyx` file is always there (regardless of whether it is compiled), so the doctests are there.



---

archive/issue_events_036270.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet",
    "created_at": "2013-01-17T22:20:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "milestone": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12990#event-36270"
}
```



---

archive/issue_events_036271.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet",
    "created_at": "2013-01-17T22:20:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "milestone": "sage-5.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12990#event-36271"
}
```



---

archive/issue_comments_156877.json:
```json
{
    "body": "new patch, because the library interface has changed",
    "created_at": "2013-01-18T16:35:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156877",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

new patch, because the library interface has changed



---

archive/issue_comments_156878.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-01-18T16:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156878",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_156879.json:
```json
{
    "body": "Attachment [fes.2.patch](tarball://root/attachments/some-uuid/ticket13162/fes.2.patch) by Bouillaguet created at 2013-01-18 16:38:16\n\nHi malb & Jeroen. OK, I get it now, sorry for the noise. I marked the doctests as optional and fixed the spkg. \n\nSince I have installed the libFES package in my sage tree, I don't see how I could test without it? (how to uninstall a spkg ?).",
    "created_at": "2013-01-18T16:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156879",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

Attachment [fes.2.patch](tarball://root/attachments/some-uuid/ticket13162/fes.2.patch) by Bouillaguet created at 2013-01-18 16:38:16

Hi malb & Jeroen. OK, I get it now, sorry for the noise. I marked the doctests as optional and fixed the spkg. 

Since I have installed the libFES package in my sage tree, I don't see how I could test without it? (how to uninstall a spkg ?).



---

archive/issue_comments_156880.json:
```json
{
    "body": "I don't think you can (well, you can delete the files by hand of course).",
    "created_at": "2013-01-20T16:14:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156880",
    "user": "https://github.com/malb"
}
```

I don't think you can (well, you can delete the files by hand of course).



---

archive/issue_comments_156881.json:
```json
{
    "body": "`@`malb : if you **don't** have the libFES spkg installed, can you check that this patch applies and passes the tests ?",
    "created_at": "2013-01-23T17:35:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156881",
    "user": "https://trac.sagemath.org/admin/accounts/users/Bouillaguet"
}
```

`@`malb : if you **don't** have the libFES spkg installed, can you check that this patch applies and passes the tests ?



---

archive/issue_comments_156882.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-01-23T18:42:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156882",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_156883.json:
```json
{
    "body": "Yep, all tests pass. Sorry for the delay!",
    "created_at": "2013-01-23T18:42:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156883",
    "user": "https://github.com/malb"
}
```

Yep, all tests pass. Sorry for the delay!



---

archive/issue_comments_156884.json:
```json
{
    "body": "spkg is on the servers ...",
    "created_at": "2013-01-25T13:33:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156884",
    "user": "https://github.com/haraldschilly"
}
```

spkg is on the servers ...



---

archive/issue_events_036272.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-26T09:53:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/12990#event-36272"
}
```



---

archive/issue_comments_156885.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-01-26T09:53:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12990",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12990#issuecomment-156885",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
