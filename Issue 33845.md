# Issue 33845: Add an option up_to_isomorphism for is_subgraph

archive/issues_033845.json:
```json
{
    "body": "CC:  dcoudert\n\nWe introduce an option `up_to_isomorphism` to the graph method `is_subgraph`. Also, we add a `_scream_if_not_simple` because the answer is completely wrong for looped or multigraphs.\n\nIssue created by migration from https://trac.sagemath.org/ticket/34082\n\n",
    "created_at": "2022-06-25T21:16:56Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "title": "Add an option up_to_isomorphism for is_subgraph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33845",
    "user": "vdelecroix"
}
```
CC:  dcoudert

We introduce an option `up_to_isomorphism` to the graph method `is_subgraph`. Also, we add a `_scream_if_not_simple` because the answer is completely wrong for looped or multigraphs.

Issue created by migration from https://trac.sagemath.org/ticket/34082





---

archive/issue_comments_480812.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-06-25T21:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33845#issuecomment-480812",
    "user": "vdelecroix"
}
```

New commits:



---

archive/issue_comments_480813.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-06-25T21:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33845#issuecomment-480813",
    "user": "vdelecroix"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_480814.json:
```json
{
    "body": "This looks good to me and can be useful. Just a few details.\n\n- I'm not sure of the ordering of the tests. Why not\n\n```\n        if up_to_isomorphism:\n            return other.subgraph_search(self, induced=induced) is not None\n\n        if any(not other.has_vertex(v) for v in self.vertex_iterator()):\n            return False\n\n        self._scream_if_not_simple()\n        other._scream_if_not_simple()\n        ...\n```\n\n\n\n\n- Don't forget to align the comments on 80 columns\n\n- You should add this test and corresponding doctests.\n\n```diff\n-         if self.num_verts() > other.num_verts():\n+         if self.num_verts() > other.num_verts() or self.size() > other.size():\n             return False\n```\n\n\n- also\n\n```diff\n-        - ``up_to_isomorphism`` - boolean (default: ``False``); if set to ``True``\n+        - ``up_to_isomorphism`` -- boolean (default: ``False``); if set to ``True``\n```\n",
    "created_at": "2022-06-26T08:44:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33845#issuecomment-480814",
    "user": "dcoudert"
}
```

This looks good to me and can be useful. Just a few details.

- I'm not sure of the ordering of the tests. Why not

```
        if up_to_isomorphism:
            return other.subgraph_search(self, induced=induced) is not None

        if any(not other.has_vertex(v) for v in self.vertex_iterator()):
            return False

        self._scream_if_not_simple()
        other._scream_if_not_simple()
        ...
```




- Don't forget to align the comments on 80 columns

- You should add this test and corresponding doctests.

```diff
-         if self.num_verts() > other.num_verts():
+         if self.num_verts() > other.num_verts() or self.size() > other.size():
             return False
```


- also

```diff
-        - ``up_to_isomorphism`` - boolean (default: ``False``); if set to ``True``
+        - ``up_to_isomorphism`` -- boolean (default: ``False``); if set to ``True``
```




---

archive/issue_comments_480815.json:
```json
{
    "body": "I did update the branch. However, the commits did not appear in comments.\n----\nNew commits:",
    "created_at": "2022-06-26T15:33:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33845#issuecomment-480815",
    "user": "vdelecroix"
}
```

I did update the branch. However, the commits did not appear in comments.
----
New commits:



---

archive/issue_comments_480816.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-06-26T16:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33845#issuecomment-480816",
    "user": "dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_480817.json:
```json
{
    "body": "LGTM.",
    "created_at": "2022-06-26T16:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33845#issuecomment-480817",
    "user": "dcoudert"
}
```

LGTM.



---

archive/issue_comments_480818.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-07-09T22:32:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33845",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33845#issuecomment-480818",
    "user": "vbraun"
}
```

Resolution: fixed
