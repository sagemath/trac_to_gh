# Issue 18614: Add Cython patch to fix searching for .pxd files

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2015-07-03 20:26:46

CC:  fbissey ncohen

Since #18494, we install `.pxd` files but we never remove them. Since Cython automatically looks for `.pxd` files when parsing `.pyx` file, this leads to trouble.

Steps to reproduce:

```
git checkout 551d0f0ab9c7942e4d8d61bc2f18808011698dfb  # ticket 18746
make
git checkout 6.8.beta6
make
```

this gives

```
Error compiling Cython file:
------------------------------------------------------------
...
include 'sage/ext/interrupt.pxi'

from libc.stdint cimport uint8_t

cdef class FastDigraph:
    cdef uint8_t n
                ^
------------------------------------------------------------

sage/graphs/graph_decompositions/fast_digraph.pyx:23:17: C attributes cannot be added in implementation part of extension type defined in a pxd
```


This is a Cython bug: Cython should not look for `.pxd` files everywhere: [https://groups.google.com/forum/#!topic/cython-users/PZTK8sZdxrY](https://groups.google.com/forum/#!topic/cython-users/PZTK8sZdxrY)


---

Comment by jdemeyer created at 2015-07-03 20:52:11

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-07-03 20:52:11

New commits:


---

Comment by vbraun created at 2015-07-04 09:26:32

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-07-04 12:59:39

Resolution: fixed
