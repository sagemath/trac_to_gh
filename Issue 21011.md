# Issue 21011: Reduce Forms from Stoll and Cremona

archive/issues_021011.json:
```json
{
    "body": "CC:  @bhutz @pfili\n\nImplementing the reduce forms algorithum from *On the reduction theory of binary forms* for both polynomials and projective morphisms. Also includes Newton's method for 2 variables, could be further expanded in the future.\n\nIssue created by migration from https://trac.sagemath.org/ticket/21248\n\n",
    "created_at": "2016-08-14T21:14:15Z",
    "labels": [
        "component: algebra",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "Reduce Forms from Stoll and Cremona",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21011",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```
CC:  @bhutz @pfili

Implementing the reduce forms algorithum from *On the reduction theory of binary forms* for both polynomials and projective morphisms. Also includes Newton's method for 2 variables, could be further expanded in the future.

Issue created by migration from https://trac.sagemath.org/ticket/21248





---

archive/issue_comments_290677.json:
```json
{
    "body": "*Still having some problems with the examples, and calling value errors. See notes in documentation.*\n----\nNew commits:",
    "created_at": "2016-08-16T19:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290677",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

*Still having some problems with the examples, and calling value errors. See notes in documentation.*
----
New commits:



---

archive/issue_comments_290678.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-08-16T19:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290678",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_290679.json:
```json
{
    "body": "Well, the first step here is to move from 7.3beta4 to 7.4beta0.\n\nLet's leave this as needs-work until the issues are worked out.",
    "created_at": "2016-08-16T21:10:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290679",
    "user": "https://github.com/bhutz"
}
```

Well, the first step here is to move from 7.3beta4 to 7.4beta0.

Let's leave this as needs-work until the issues are worked out.



---

archive/issue_comments_290680.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-08-16T21:10:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290680",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_290681.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-16T23:21:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290681",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290682.json:
```json
{
    "body": "I did some code/formatting clean-up and made the examples work. For the most part you are just having formatting issues.\n\nI have not tested any functionality yet.",
    "created_at": "2016-08-16T23:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290682",
    "user": "https://github.com/bhutz"
}
```

I did some code/formatting clean-up and made the examples work. For the most part you are just having formatting issues.

I have not tested any functionality yet.



---

archive/issue_comments_290683.json:
```json
{
    "body": "Still need a few more examples, having problems with two examples in projective_morphism.py They worked in the notebook.\n----\nNew commits:",
    "created_at": "2016-08-17T18:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290683",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Still need a few more examples, having problems with two examples in projective_morphism.py They worked in the notebook.
----
New commits:



---

archive/issue_comments_290684.json:
```json
{
    "body": "I think there may be something wrong with the 2nd part of the algorithm. Using the example from the paper that illustrates why you need to use the system of equations, the numerical root finding is not getting the same z as they do.\n\n\n```\npoly = 19*x^8 - 262*x^7*h + 1507*x^6*h^2 - 4784*x^5*h^3 + 9202*x^4*h^4 -\n10962*x^3*h^5 + 7844*x^2*h^6 - 3040*x*h^7 + 475*h^8\n```\n",
    "created_at": "2016-08-18T17:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290684",
    "user": "https://github.com/bhutz"
}
```

I think there may be something wrong with the 2nd part of the algorithm. Using the example from the paper that illustrates why you need to use the system of equations, the numerical root finding is not getting the same z as they do.


```
poly = 19*x^8 - 262*x^7*h + 1507*x^6*h^2 - 4784*x^5*h^3 + 9202*x^4*h^4 -
10962*x^3*h^5 + 7844*x^2*h^6 - 3040*x*h^7 + 475*h^8
```




---

archive/issue_comments_290685.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-22T22:42:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290685",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290686.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-08-22T22:43:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290686",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_290687.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-08-23T16:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290687",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_290688.json:
```json
{
    "body": "- With the updated version of magma, I'm getting consistent results with most examples. Although here is one that is not working correctly:\n\n\n```\n234*x^11*h + 104832*x^10*h^2 + 21346884*x^9*h^3 + 2608021728*x^8*h^4 +\n212413000410*x^7*h^5 + 12109691106162*x^6*h^6 + 493106447396862*x^5*h^7\n+ 14341797993350646*x^4*h^8 + 291976289803277118*x^3*h^9 +\n3962625618555930456*x^2*h^10 + 32266526239647689652*x*h^11 +\n119421058057217196228*h^12\n```\n\n\nIt looks like the z0 part is correct, then the 2nd part is not.\n\n- I'm not sure the inversion is correct. Take a look at part (2) on p13 of the paper. It may be causing the difference here\n\n```\n-234*x^10 - 95940*x^9*h - 17701164*x^8*h^2 - 1935379368*x^7*h^3 -138869177616*x^6*h^4 - 6832744528662*x^5*h^5 - 233468654564574*x^4*h^6 -5470310129096358*x^3*h^7 - 84114643276174446*x^2*h^8 -766469114143193916*x*h^9 - 3142950903278916444*h^10\n```\n\nwhich has\n\n```\nmagma: [1,-41,0,1] vs sage: [-1,-41,0,-1]\n```\n\nor this may be the same error as in the previous bullet point.\n\n- Also, the code is in need of a comments describing what each piece is doing.\n\n- I also think the try/except for the NJinv can be simplified to\n\n```\nif NJinv.base_ring() != KK:\n    NJinv = matrix(KK,2,2,[KK(zw.numerator()/zw.denominator()) for zw in NJinv.list()])\n```\n\nThen you can remove the .numerator() on the v0's later in the code.",
    "created_at": "2016-08-23T16:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290688",
    "user": "https://github.com/bhutz"
}
```

- With the updated version of magma, I'm getting consistent results with most examples. Although here is one that is not working correctly:


```
234*x^11*h + 104832*x^10*h^2 + 21346884*x^9*h^3 + 2608021728*x^8*h^4 +
212413000410*x^7*h^5 + 12109691106162*x^6*h^6 + 493106447396862*x^5*h^7
+ 14341797993350646*x^4*h^8 + 291976289803277118*x^3*h^9 +
3962625618555930456*x^2*h^10 + 32266526239647689652*x*h^11 +
119421058057217196228*h^12
```


It looks like the z0 part is correct, then the 2nd part is not.

- I'm not sure the inversion is correct. Take a look at part (2) on p13 of the paper. It may be causing the difference here

```
-234*x^10 - 95940*x^9*h - 17701164*x^8*h^2 - 1935379368*x^7*h^3 -138869177616*x^6*h^4 - 6832744528662*x^5*h^5 - 233468654564574*x^4*h^6 -5470310129096358*x^3*h^7 - 84114643276174446*x^2*h^8 -766469114143193916*x*h^9 - 3142950903278916444*h^10
```

which has

```
magma: [1,-41,0,1] vs sage: [-1,-41,0,-1]
```

or this may be the same error as in the previous bullet point.

- Also, the code is in need of a comments describing what each piece is doing.

- I also think the try/except for the NJinv can be simplified to

```
if NJinv.base_ring() != KK:
    NJinv = matrix(KK,2,2,[KK(zw.numerator()/zw.denominator()) for zw in NJinv.list()])
```

Then you can remove the .numerator() on the v0's later in the code.



---

archive/issue_comments_290689.json:
```json
{
    "body": "I though about the one that is way off and here is what is going on. There is a root on the real line of the system of equations to find z(F). Your starting z0 value converges to that solution via Newton's method. However, what you need to find is the other solution which is in the upper half plane",
    "created_at": "2016-08-23T20:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290689",
    "user": "https://github.com/bhutz"
}
```

I though about the one that is way off and here is what is going on. There is a root on the real line of the system of equations to find z(F). Your starting z0 value converges to that solution via Newton's method. However, what you need to find is the other solution which is in the upper half plane



---

archive/issue_comments_290690.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-26T17:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290690",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290691.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-26T20:08:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290691",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290692.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-08-28T21:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290692",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290693.json:
```json
{
    "body": "- docs still don't build\n\n- here is another one that maybe doesn't work\n\n\n```\n-1872*x^5*h - 1375452*x^4*h^2 - 404242956*x^3*h^3 - 59402802888*x^2*h^4 - 4364544068352*x*h^5 - 128270946360960*h^6\n```\n\n\nStoll's implementation in magma gives\n\n```\n12168*x^3 - 18252*x^2 + 9828*x - 1872\n[-148  147]\n[   1   -1]\n```\n\nAlthough he may be doing some extra reducing to get the lower degree result\n\nHere is a similar one that also maybe doesn't work:\n\n```\n-1872*x^4 - 1098396*x^3*h - 241680348*x^2*h^2 - 23634111384*x*h^3 - 866695583520*h^4\n```\n\n\nStoll's implementation in magma gives\n\n```\n2808*x^3 - 4212*x^2 + 5148*x - 1872\n[-146   -1]\n[   1    0]\n```\n",
    "created_at": "2016-08-29T00:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290693",
    "user": "https://github.com/bhutz"
}
```

- docs still don't build

- here is another one that maybe doesn't work


```
-1872*x^5*h - 1375452*x^4*h^2 - 404242956*x^3*h^3 - 59402802888*x^2*h^4 - 4364544068352*x*h^5 - 128270946360960*h^6
```


Stoll's implementation in magma gives

```
12168*x^3 - 18252*x^2 + 9828*x - 1872
[-148  147]
[   1   -1]
```

Although he may be doing some extra reducing to get the lower degree result

Here is a similar one that also maybe doesn't work:

```
-1872*x^4 - 1098396*x^3*h - 241680348*x^2*h^2 - 23634111384*x*h^3 - 866695583520*h^4
```


Stoll's implementation in magma gives

```
2808*x^3 - 4212*x^2 + 5148*x - 1872
[-146   -1]
[   1    0]
```




---

archive/issue_comments_290694.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-16T16:58:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290694",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290695.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-09-16T17:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290695",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_290696.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-09-20T17:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290696",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_290697.json:
```json
{
    "body": "I did some general code clean-up and added some more description to the documentation. I also fixed the formatting issues in the documentation and examples. You should double check those changes.\n\nFor functionality\n\n- I'm getting consistent results with Magma now. The only difference (besides trivial differences) is that in the case of a polynomial with a single multiple root, Magma moves that root to infinity and then minimizes the resulting poly. I assume this is to make the 'degree' as low as possible. This implementation does not, but the resulting coefficients here are actually smaller, so I don't really see this is an error, just a difference in implementation.\n\nFor projective morphism, there are a couple things \n\n- the error_limit param needs to be passed in as well and an example where prec/error is needed.\n\n- It is currently removing any multiple roots from the dynatomic: is this what you want to do since the algorithm is able to handle multiple roots as long as the multiplicity isn't too high?\n\nbtw, I set the default prec to 300, since that worked for nearly all my randomly generated examples.\n----\nNew commits:",
    "created_at": "2016-09-20T17:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290697",
    "user": "https://github.com/bhutz"
}
```

I did some general code clean-up and added some more description to the documentation. I also fixed the formatting issues in the documentation and examples. You should double check those changes.

For functionality

- I'm getting consistent results with Magma now. The only difference (besides trivial differences) is that in the case of a polynomial with a single multiple root, Magma moves that root to infinity and then minimizes the resulting poly. I assume this is to make the 'degree' as low as possible. This implementation does not, but the resulting coefficients here are actually smaller, so I don't really see this is an error, just a difference in implementation.

For projective morphism, there are a couple things 

- the error_limit param needs to be passed in as well and an example where prec/error is needed.

- It is currently removing any multiple roots from the dynatomic: is this what you want to do since the algorithm is able to handle multiple roots as long as the multiplicity isn't too high?

btw, I set the default prec to 300, since that worked for nearly all my randomly generated examples.
----
New commits:



---

archive/issue_comments_290698.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-09-23T19:13:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290698",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

New commits:



---

archive/issue_comments_290699.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-09-23T19:13:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290699",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_290700.json:
```json
{
    "body": "A couple basic issues from the docs\n\nin multi polynomial:\n\n- input not formatting correctly\n\n- check consistency in your use of the ZZ versus Z macro for integer ring\n\nin projective:\n\nthe following do not match and does not need to be repeated twice anyway.\n\n\n```\nStill seeing issues in projective morphism\nSee sage.rings.polynomials.reduced_form() for details.\n\nSee sage.rings.polynomial.multi_polynomial.reduced_form() for the information on binary form reduction.\n```\n\n\n\nThe following examples fail\n\n\n```\nP.<x,y>=ProjectiveSpace(QQ,1)\nH=End(P)\nf=H([x^3,y^3])\nf.reduced_form()\n```\n\n\nQQbar seems to work for polys but not maps\n\n```\nP.<x,y>=ProjectiveSpace(QQbar,1)\nH=End(P)\nf=H([x^4,y^4])\nf.reduced_form()\n```\n\n\nThe behavior for RR,CC is not consistent between polynomials and morphisms\n\n```\nP.<x,y>=ProjectiveSpace(RR,1)\nH=End(P)\nf=H([x^4,y^4])\nf.reduced_form()\n```\n\n\nvs\n\n\n```\nR.<x>=PolynomialRing(RR)\nF=19*x^8 - 262*x^7 + 1507*x^6 - 4784*x^5+9202*x^4 - 10962*x^3 + 7844*x^2-3040*x+475\nG=F.homogenize()\nG.reduced_form()\n```\n",
    "created_at": "2016-09-26T14:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290700",
    "user": "https://github.com/bhutz"
}
```

A couple basic issues from the docs

in multi polynomial:

- input not formatting correctly

- check consistency in your use of the ZZ versus Z macro for integer ring

in projective:

the following do not match and does not need to be repeated twice anyway.


```
Still seeing issues in projective morphism
See sage.rings.polynomials.reduced_form() for details.

See sage.rings.polynomial.multi_polynomial.reduced_form() for the information on binary form reduction.
```



The following examples fail


```
P.<x,y>=ProjectiveSpace(QQ,1)
H=End(P)
f=H([x^3,y^3])
f.reduced_form()
```


QQbar seems to work for polys but not maps

```
P.<x,y>=ProjectiveSpace(QQbar,1)
H=End(P)
f=H([x^4,y^4])
f.reduced_form()
```


The behavior for RR,CC is not consistent between polynomials and morphisms

```
P.<x,y>=ProjectiveSpace(RR,1)
H=End(P)
f=H([x^4,y^4])
f.reduced_form()
```


vs


```
R.<x>=PolynomialRing(RR)
F=19*x^8 - 262*x^7 + 1507*x^6 - 4784*x^5+9202*x^4 - 10962*x^3 + 7844*x^2-3040*x+475
G=F.homogenize()
G.reduced_form()
```




---

archive/issue_comments_290701.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-09-26T14:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290701",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_290702.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-28T18:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290702",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290703.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-09-28T18:54:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290703",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_290704.json:
```json
{
    "body": "Your changes looked fine. I got this working for a few more fields by calling complex_roots directly for the roots of the polynomials. I also had to make the dividing out the gcd a little more general as well.\n\nGo ahead and test this version and let me know what you find.\n----\nNew commits:",
    "created_at": "2016-09-29T19:00:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290704",
    "user": "https://github.com/bhutz"
}
```

Your changes looked fine. I got this working for a few more fields by calling complex_roots directly for the roots of the polynomials. I also had to make the dividing out the gcd a little more general as well.

Go ahead and test this version and let me know what you find.
----
New commits:



---

archive/issue_comments_290705.json:
```json
{
    "body": "typo: Implimented\n\ntypo: incresed\n\ntypo: useing covergence\n\ntypo: tolerence",
    "created_at": "2016-09-29T19:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290705",
    "user": "https://github.com/fchapoton"
}
```

typo: Implimented

typo: incresed

typo: useing covergence

typo: tolerence



---

archive/issue_comments_290706.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-30T01:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290706",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290707.json:
```json
{
    "body": "fixed the typo and realized since you are calling reduce on the polynomial with multiple roots, that there is no need to actually do the division. So I just count the multiple roots instead.\n\nJust noticed the other typos. I'll push another fix for those.",
    "created_at": "2016-09-30T01:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290707",
    "user": "https://github.com/bhutz"
}
```

fixed the typo and realized since you are calling reduce on the polynomial with multiple roots, that there is no need to actually do the division. So I just count the multiple roots instead.

Just noticed the other typos. I'll push another fix for those.



---

archive/issue_comments_290708.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-30T01:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290708",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290709.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-30T01:13:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290709",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_290710.json:
```json
{
    "body": "`covergence conditions` is still a typo",
    "created_at": "2016-09-30T14:20:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290710",
    "user": "https://github.com/fchapoton"
}
```

`covergence conditions` is still a typo



---

archive/issue_comments_290711.json:
```json
{
    "body": "Typo fixed just waiting to push. Thanks",
    "created_at": "2016-09-30T15:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290711",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Typo fixed just waiting to push. Thanks



---

archive/issue_comments_290712.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-09-30T18:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290712",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

New commits:



---

archive/issue_comments_290713.json:
```json
{
    "body": "I think we're ready to go here.",
    "created_at": "2016-10-01T14:03:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290713",
    "user": "https://github.com/bhutz"
}
```

I think we're ready to go here.



---

archive/issue_comments_290714.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-10-01T14:03:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290714",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_290715.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-10-29T14:27:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290715",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_290716.json:
```json
{
    "body": "don't know what happened to the commit when I updated the milestone. I've copy/pasted the commit identifier back in.",
    "created_at": "2016-10-29T14:36:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290716",
    "user": "https://github.com/bhutz"
}
```

don't know what happened to the commit when I updated the milestone. I've copy/pasted the commit identifier back in.



---

archive/issue_comments_290717.json:
```json
{
    "body": "apparently, that doesn't work. Have I messed up this ticket now?",
    "created_at": "2016-10-29T14:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290717",
    "user": "https://github.com/bhutz"
}
```

apparently, that doesn't work. Have I messed up this ticket now?



---

archive/issue_comments_290718.json:
```json
{
    "body": "You should rather avoid playing with the milestone once the ticket is closed.\n\nThis being said, nothing bad should happen.\n\nSide remark: has anybody proofread this code ? there are several typos (boundry, lease, ...)",
    "created_at": "2016-10-30T21:17:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290718",
    "user": "https://github.com/fchapoton"
}
```

You should rather avoid playing with the milestone once the ticket is closed.

This being said, nothing bad should happen.

Side remark: has anybody proofread this code ? there are several typos (boundry, lease, ...)



---

archive/issue_comments_290719.json:
```json
{
    "body": "Yeah, i don't usually mess with the milestone post closing, but when it was marked positive 7.4 was still in beta, then it got released and this was closed into 7.5.\n\nI didn't expect correcting that to interfere with other fields.\n\n\nside reply: apparently not as carefully as you.",
    "created_at": "2016-10-30T22:00:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21011",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21011#issuecomment-290719",
    "user": "https://github.com/bhutz"
}
```

Yeah, i don't usually mess with the milestone post closing, but when it was marked positive 7.4 was still in beta, then it got released and this was closed into 7.5.

I didn't expect correcting that to interfere with other fields.


side reply: apparently not as carefully as you.
