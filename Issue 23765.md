# Issue 23765: Move is_transitively_reduced to digraphs

Issue created by migration from https://trac.sagemath.org/ticket/24002

Original creator: jmantysalo

Original creation time: 2017-10-09 20:00:41

CC:  dcoudert

There is no meaning for `is_transitively_reduced` in an undirected graph, so it should be moved to digraph.



---

Comment by dcoudert created at 2017-10-10 07:17:14

The `transitive_reduction` is in `generic_graph.py` and defined for both graphs and digraphs. So either both methods should be restricted to digraphs and moved, or both methods should work on both graphs and digraphs.

For sure, the current implementation of the `transitive_reduction` method for `Graph` could be improved, using a spanning tree (forest) method. And testing if a graph is transitively reduced should be testing if it is a forest.

For directed graphs, we could certainly improve the current implementation of both methods.

Note also that both methods should failed if the input graph is immutable...


---

Comment by jmantysalo created at 2017-10-10 08:49:36

Replying to [comment:1 dcoudert]:

> The `transitive_reduction` is in `generic_graph.py` and defined for both graphs and digraphs. So either both methods should be restricted to digraphs and moved, or both methods should work on both graphs and digraphs.

Ok, so `is_transitively_reduced` is just another name to `is_forest` for undirected graphs? And so `transitive_reduction` is kind of synomyn to `min_spanning_tree`? Hmm, got to think about this.

> Note also that both methods should failed if the input graph is immutable... 

Why? There is `G = copy(self)` in the code.


---

Comment by dcoudert created at 2017-10-10 09:03:28

> Why? There is `G = copy(self)` in the code.
I didn't know that `copy(self)` and `self.copy()` have different behaviors with respect the immutable property.

```
sage: G = Graph(1, immutable=True)
sage: copy(G).is_immutable()
False
sage: G.copy().is_immutable()
True
```



---

Comment by jmantysalo created at 2017-10-10 09:06:35

Replying to [comment:3 dcoudert]:
> I didn't know that `copy(self)` and `self.copy()` have different behaviors with respect the immutable property.

Should they be...? But at least the documentation says

"Please use this method only if you need to copy but change the underlying implementation or weightedness. Otherwise simply do copy(g) instead of g.copy()."


---

Comment by dcoudert created at 2017-10-10 09:43:22

The `__copy__` method that is called when using `copy(G)`, always returns a mutable graph: `return self.copy(immutable=False)`. Good to know.


---

Comment by @vipul79321 created at 2020-04-07 15:23:45

According to me, after closing of #26634, there is no need to move `is_transitively_reduced` to digraph.py as it is defined for both graph and digraph now.

So, either we should change milestone to `invalid/wontfix` or `positive_review` and `close`.
Any suggestions will be helpful.


---

Comment by @vipul79321 created at 2020-04-07 15:23:45

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2020-04-07 20:19:28

Replying to [comment:6 gh-vipul79321]:

> So, either we should change milestone to `invalid/wontfix` or `positive_review` and `close`.

True. I mark this as needs_review/wontfix, so please change to positive_review and this will be closed.


---

Comment by @vipul79321 created at 2020-04-08 09:56:32

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2020-06-07 15:32:59

Resolution: invalid
