# Issue 34134: support factoring polynomials modulo prime powers

archive/issues_034134.json:
```json
{
    "body": "Currently, `Polynomial_zmod_flint` refuses to factor polynomials modulo composites, which is generally not well-defined. However, we can easily make this work modulo prime powers (where it *is* well-defined) by reusing the implementation for polynomials over p\u2011adics. This is almost certainly not the fastest way of doing it, but at least it *works*.\n\nIssue created by migration from https://trac.sagemath.org/ticket/34371\n\n",
    "created_at": "2022-08-15T19:55:31Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "support factoring polynomials modulo prime powers",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34134",
    "user": "https://github.com/yyyyx4"
}
```
Currently, `Polynomial_zmod_flint` refuses to factor polynomials modulo composites, which is generally not well-defined. However, we can easily make this work modulo prime powers (where it *is* well-defined) by reusing the implementation for polynomials over p‑adics. This is almost certainly not the fastest way of doing it, but at least it *works*.

Issue created by migration from https://trac.sagemath.org/ticket/34371





---

archive/issue_comments_483595.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-15T19:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34134#issuecomment-483595",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_483596.json:
```json
{
    "body": "It probably would be too much trouble to separate out the algorithm into a separate function rather than converting the elements by changing the base ring. If it is actually simple, then please do so. Otherwise, green bot => positive review.",
    "created_at": "2022-08-16T06:03:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34134#issuecomment-483596",
    "user": "https://github.com/tscrim"
}
```

It probably would be too much trouble to separate out the algorithm into a separate function rather than converting the elements by changing the base ring. If it is actually simple, then please do so. Otherwise, green bot => positive review.



---

archive/issue_comments_483597.json:
```json
{
    "body": "The implementation for `\u2124\u209a[x]` relies on PARI, whereas the implementation of `(\u2124/n)[x]` is based on FLINT. I suppose we could inline the PARI conversion and call PARI without explicitly changing to `\u2124\u209a`, but that's already much more effort than this and I'm not sure how much it would actually help (it saves some Python overhead, but the conversion is still needed).\n\nPersonally I'd argue that this is an easy way to make something work that didn't work previously, and we can improve the performance later if it turns out to be a problem.",
    "created_at": "2022-08-16T16:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34134#issuecomment-483597",
    "user": "https://github.com/yyyyx4"
}
```

The implementation for `ℤₚ[x]` relies on PARI, whereas the implementation of `(ℤ/n)[x]` is based on FLINT. I suppose we could inline the PARI conversion and call PARI without explicitly changing to `ℤₚ`, but that's already much more effort than this and I'm not sure how much it would actually help (it saves some Python overhead, but the conversion is still needed).

Personally I'd argue that this is an easy way to make something work that didn't work previously, and we can improve the performance later if it turns out to be a problem.



---

archive/issue_comments_483598.json:
```json
{
    "body": "Replying to [comment:3 lorenz]:\n> The implementation for `\u2124\u209a[x]` relies on PARI, whereas the implementation of `(\u2124/n)[x]` is based on FLINT. I suppose we could inline the PARI conversion and call PARI without explicitly changing to `\u2124\u209a`, but that's already much more effort than this and I'm not sure how much it would actually help (it saves some Python overhead, but the conversion is still needed).\n\nIt also means you get an additional transient object that takes up time and memory, which could matter if the polynomial is \"big\". However...\n\n> Personally I'd argue that this is an easy way to make something work that didn't work previously, and we can improve the performance later if it turns out to be a problem.\n\nI agree fully. Only to be done if it was clearly easy.",
    "created_at": "2022-08-16T23:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34134#issuecomment-483598",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:3 lorenz]:
> The implementation for `ℤₚ[x]` relies on PARI, whereas the implementation of `(ℤ/n)[x]` is based on FLINT. I suppose we could inline the PARI conversion and call PARI without explicitly changing to `ℤₚ`, but that's already much more effort than this and I'm not sure how much it would actually help (it saves some Python overhead, but the conversion is still needed).

It also means you get an additional transient object that takes up time and memory, which could matter if the polynomial is "big". However...

> Personally I'd argue that this is an easy way to make something work that didn't work previously, and we can improve the performance later if it turns out to be a problem.

I agree fully. Only to be done if it was clearly easy.



---

archive/issue_comments_483599.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-08-16T23:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34134#issuecomment-483599",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_483600.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-08-30T19:05:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34134",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34134#issuecomment-483600",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_030715.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-30T19:05:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/34134",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34134#event-30715"
}
```
