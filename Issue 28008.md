# Issue 28008: Implement center of a HyperplaneArrangement

archive/issues_028008.json:
```json
{
    "body": "CC:  jipilab\n\nKeywords: HyperplaneArrangements,days100\n\nThis ticket implements the following changes to the class `HyperplaneArrangementElement`:\n\n* In the method `is_central`, add the argument `certificate=False`. If set to `True`, this will additionally return the center of the arrangement. The center is easily obtainable as a byproduct of the existing calculation. \n* Add the method `center()`. This will return the center of the arrangement as computed by `is_central(certificate=True)`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28245\n\n",
    "created_at": "2019-07-24T11:53:34Z",
    "labels": [
        "geometry",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Implement center of a HyperplaneArrangement",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28008",
    "user": "nailuj"
}
```
CC:  jipilab

Keywords: HyperplaneArrangements,days100

This ticket implements the following changes to the class `HyperplaneArrangementElement`:

* In the method `is_central`, add the argument `certificate=False`. If set to `True`, this will additionally return the center of the arrangement. The center is easily obtainable as a byproduct of the existing calculation. 
* Add the method `center()`. This will return the center of the arrangement as computed by `is_central(certificate=True)`.

Issue created by migration from https://trac.sagemath.org/ticket/28245





---

archive/issue_comments_395888.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-24T12:41:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395888",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395889.json:
```json
{
    "body": "Here are few sch\u00f6nheitssachen:\n\n- space after comma in the definition (pep8 conventions...)\n\n- swap `(default: False)` and `boolean` in the docstring\n\n- I would use the verb return instead of include\n\n- `is_central` needs the appropriate doctests checking all possibilities.\n\n- `center` needs an example when the hyperplane arrangement is not central.\n\nI would suggest to use the Polyhedra parents and then return `.universe()` and `.empty()` which are less costly to execute in principle.",
    "created_at": "2019-07-24T12:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395889",
    "user": "jipilab"
}
```

Here are few schönheitssachen:

- space after comma in the definition (pep8 conventions...)

- swap `(default: False)` and `boolean` in the docstring

- I would use the verb return instead of include

- `is_central` needs the appropriate doctests checking all possibilities.

- `center` needs an example when the hyperplane arrangement is not central.

I would suggest to use the Polyhedra parents and then return `.universe()` and `.empty()` which are less costly to execute in principle.



---

archive/issue_comments_395890.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-24T13:52:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395890",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395891.json:
```json
{
    "body": "Replying to [comment:3 jipilab]:\n> Here are few sch\u00f6nheitssachen:\n> \n>  - space after comma in the definition (pep8 conventions...)\nDone.\n\n>  - swap `(default: False)` and `boolean` in the docstring\nDone.\n\n>  - I would use the verb return instead of include\nDone.\n \n>  - `is_central` needs the appropriate doctests checking all possibilities.\nDone.\n\n>  - `center` needs an example when the hyperplane arrangement is not central.\nDone.\n \n> I would suggest to use the Polyhedra parents and then return `.universe()` and `.empty()` which are less costly to execute in principle.\nDone.",
    "created_at": "2019-07-24T13:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395891",
    "user": "nailuj"
}
```

Replying to [comment:3 jipilab]:
> Here are few schönheitssachen:
> 
>  - space after comma in the definition (pep8 conventions...)
Done.

>  - swap `(default: False)` and `boolean` in the docstring
Done.

>  - I would use the verb return instead of include
Done.
 
>  - `is_central` needs the appropriate doctests checking all possibilities.
Done.

>  - `center` needs an example when the hyperplane arrangement is not central.
Done.
 
> I would suggest to use the Polyhedra parents and then return `.universe()` and `.empty()` which are less costly to execute in principle.
Done.



---

archive/issue_comments_395892.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-24T13:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395892",
    "user": "nailuj"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_395893.json:
```json
{
    "body": "No need of a bullet list for one element:\n\n\n```diff\n-        If ``certificate`` is False:\n-\n-        - A boolean\n+        If ``certificate`` is ``False``, returns a boolean\n```\n\n\n- Missing empty lines before the doctests (in both functions).\n\n- I would shorten the output of `center` to simply say that it is a polyhedron. If you want to be explicit, I would do it in the longer description before input/output.",
    "created_at": "2019-07-24T16:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395893",
    "user": "jipilab"
}
```

No need of a bullet list for one element:


```diff
-        If ``certificate`` is False:
-
-        - A boolean
+        If ``certificate`` is ``False``, returns a boolean
```


- Missing empty lines before the doctests (in both functions).

- I would shorten the output of `center` to simply say that it is a polyhedron. If you want to be explicit, I would do it in the longer description before input/output.



---

archive/issue_comments_395894.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-24T16:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395894",
    "user": "jipilab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_395895.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-25T15:26:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395895",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395896.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-25T15:30:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395896",
    "user": "nailuj"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_395897.json:
```json
{
    "body": "Replying to [comment:6 jipilab]:\n> No need of a bullet list for one element:\n> \n> {{{\n> #!diff\n> -        If ``certificate`` is False:\n> -\n> -        - A boolean\n> +        If ``certificate`` is ``False``, returns a boolean\n> }}}\nRephrased.\n\n>  - Missing empty lines before the doctests (in both functions).\nInserted.\n\n>  - I would shorten the output of `center` to simply say that it is a polyhedron. If you want to be explicit, I would do it in the longer description before input/output.\nMoved.",
    "created_at": "2019-07-25T15:30:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395897",
    "user": "nailuj"
}
```

Replying to [comment:6 jipilab]:
> No need of a bullet list for one element:
> 
> {{{
> #!diff
> -        If ``certificate`` is False:
> -
> -        - A boolean
> +        If ``certificate`` is ``False``, returns a boolean
> }}}
Rephrased.

>  - Missing empty lines before the doctests (in both functions).
Inserted.

>  - I would shorten the output of `center` to simply say that it is a polyhedron. If you want to be explicit, I would do it in the longer description before input/output.
Moved.



---

archive/issue_comments_395898.json:
```json
{
    "body": "I noted another small thing:\n\n\n```\n+        If ``certificate`` is True, returns a tuple containing:\n+\n+        1. A boolean\n+        2. The polyhedron defined to be the intersection of all the hyperplanes\n+\n+        If ``certificate`` is False, returns a boolean.\n```\n\n\nTrue and False should be between two back ticks... Otherwise, looks good. Just waiting that bots go over it again...",
    "created_at": "2019-07-28T12:06:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395898",
    "user": "jipilab"
}
```

I noted another small thing:


```
+        If ``certificate`` is True, returns a tuple containing:
+
+        1. A boolean
+        2. The polyhedron defined to be the intersection of all the hyperplanes
+
+        If ``certificate`` is False, returns a boolean.
```


True and False should be between two back ticks... Otherwise, looks good. Just waiting that bots go over it again...



---

archive/issue_comments_395899.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-28T12:06:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395899",
    "user": "jipilab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_395900.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-05T12:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395900",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395901.json:
```json
{
    "body": "Replying to [comment:9 jipilab]:\n> I noted another small thing:\n> \n> {{{\n> +        If ``certificate`` is True, returns a tuple containing:\n> +\n> +        1. A boolean\n> +        2. The polyhedron defined to be the intersection of all the hyperplanes\n> +\n> +        If ``certificate`` is False, returns a boolean.\n> }}}\n> \n> True and False should be between two back ticks...\nDone.",
    "created_at": "2019-08-05T12:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395901",
    "user": "nailuj"
}
```

Replying to [comment:9 jipilab]:
> I noted another small thing:
> 
> {{{
> +        If ``certificate`` is True, returns a tuple containing:
> +
> +        1. A boolean
> +        2. The polyhedron defined to be the intersection of all the hyperplanes
> +
> +        If ``certificate`` is False, returns a boolean.
> }}}
> 
> True and False should be between two back ticks...
Done.



---

archive/issue_comments_395902.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-08-05T12:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395902",
    "user": "nailuj"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_395903.json:
```json
{
    "body": "A little doc change:\n\n```diff\n         - ``certificate`` -- boolean (default: ``False``); specifies whether\n-        to return the center as a polyhedron (possibly empty) as part of the \n-        output.\n           to return the center as a polyhedron (possibly empty) as part\n           of the output\n```\n\n(Note also the lack of a period/full-stop and the removal of the trailing whitespace.)\n\nAlso, because of the ``@`cached_method`, there is no reason to do the computation twice. Constructing the certificate seems quite cheap to me, so I might instead put as the first lines:\n\n```\nif not certificate:\n    return self.is_central(True)[0]\n```\n\nand then assume `certificate=True` for the rest. However, this really depends on how expensive that `right_kernel` is and how often you think the certificate will be requested. There is a balance to be had here and a judgement call to be made. I am just saying this is an alternative way to avoid doing the main computation twice should you ask for with a certificate and without.",
    "created_at": "2019-08-09T20:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395903",
    "user": "tscrim"
}
```

A little doc change:

```diff
         - ``certificate`` -- boolean (default: ``False``); specifies whether
-        to return the center as a polyhedron (possibly empty) as part of the 
-        output.
           to return the center as a polyhedron (possibly empty) as part
           of the output
```

(Note also the lack of a period/full-stop and the removal of the trailing whitespace.)

Also, because of the ``@`cached_method`, there is no reason to do the computation twice. Constructing the certificate seems quite cheap to me, so I might instead put as the first lines:

```
if not certificate:
    return self.is_central(True)[0]
```

and then assume `certificate=True` for the rest. However, this really depends on how expensive that `right_kernel` is and how often you think the certificate will be requested. There is a balance to be had here and a judgement call to be made. I am just saying this is an alternative way to avoid doing the main computation twice should you ask for with a certificate and without.



---

archive/issue_comments_395904.json:
```json
{
    "body": "doc does not build\n\n```\nHyperplaneArrangementElement.is_central:9:\nWARNING: Bullet list ends without a blank line; unexpected unindent.\n```\n",
    "created_at": "2019-08-22T18:49:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395904",
    "user": "chapoton"
}
```

doc does not build

```
HyperplaneArrangementElement.is_central:9:
WARNING: Bullet list ends without a blank line; unexpected unindent.
```




---

archive/issue_comments_395905.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-08-24T19:31:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395905",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_395906.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-26T14:44:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395906",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_395907.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-08-26T15:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395907",
    "user": "nailuj"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_395908.json:
```json
{
    "body": "Replying to [comment:14 tscrim]:\n> A little doc change:\n> {{{#!diff\n>          - ``certificate`` -- boolean (default: ``False``); specifies whether\n> -        to return the center as a polyhedron (possibly empty) as part of the \n> -        output.\n>            to return the center as a polyhedron (possibly empty) as part\n>            of the output\n> }}}\n> (Note also the lack of a period/full-stop and the removal of the trailing whitespace.)\nThanks, I was not careful enough with these conventions.\n\n\n> Also, because of the ``@`cached_method`, there is no reason to do the computation twice. Constructing the certificate seems quite cheap to me, so I might instead put as the first lines:\n> {{{\n> if not certificate:\n>     return self.is_central(True)[0]\n> }}}\n> and then assume `certificate=True` for the rest. However, this really depends on how expensive that `right_kernel` is and how often you think the certificate will be requested. There is a balance to be had here and a judgement call to be made. I am just saying this is an alternative way to avoid doing the main computation twice should you ask for with a certificate and without.\nThank you for sharing these thoughts. If both methods had been new, I probably would have done the `right_kernel` calculation and just decided to return it or not depending on the `certificate` switch. But as `is_central` was already implemented, I considered not slowing down the existing method more important than obtaining a faster computation of the new method `center`. Is this a good approach to deciding such issues?",
    "created_at": "2019-08-26T15:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395908",
    "user": "nailuj"
}
```

Replying to [comment:14 tscrim]:
> A little doc change:
> {{{#!diff
>          - ``certificate`` -- boolean (default: ``False``); specifies whether
> -        to return the center as a polyhedron (possibly empty) as part of the 
> -        output.
>            to return the center as a polyhedron (possibly empty) as part
>            of the output
> }}}
> (Note also the lack of a period/full-stop and the removal of the trailing whitespace.)
Thanks, I was not careful enough with these conventions.


> Also, because of the ``@`cached_method`, there is no reason to do the computation twice. Constructing the certificate seems quite cheap to me, so I might instead put as the first lines:
> {{{
> if not certificate:
>     return self.is_central(True)[0]
> }}}
> and then assume `certificate=True` for the rest. However, this really depends on how expensive that `right_kernel` is and how often you think the certificate will be requested. There is a balance to be had here and a judgement call to be made. I am just saying this is an alternative way to avoid doing the main computation twice should you ask for with a certificate and without.
Thank you for sharing these thoughts. If both methods had been new, I probably would have done the `right_kernel` calculation and just decided to return it or not depending on the `certificate` switch. But as `is_central` was already implemented, I considered not slowing down the existing method more important than obtaining a faster computation of the new method `center`. Is this a good approach to deciding such issues?



---

archive/issue_comments_395909.json:
```json
{
    "body": "Replying to [comment:18 nailuj]:\n> Replying to [comment:14 tscrim]:\n> > A little doc change:\n> > {{{#!diff\n> >          - ``certificate`` -- boolean (default: ``False``); specifies whether\n> > -        to return the center as a polyhedron (possibly empty) as part of the \n> > -        output.\n> >            to return the center as a polyhedron (possibly empty) as part\n> >            of the output\n> > }}}\n> > (Note also the lack of a period/full-stop and the removal of the trailing whitespace.)\n> Thanks, I was not careful enough with these conventions.\n> \n> \n> > Also, because of the ``@`cached_method`, there is no reason to do the computation twice. Constructing the certificate seems quite cheap to me, so I might instead put as the first lines:\n> > {{{\n> > if not certificate:\n> >     return self.is_central(True)[0]\n> > }}}\n> > and then assume `certificate=True` for the rest. However, this really depends on how expensive that `right_kernel` is and how often you think the certificate will be requested. There is a balance to be had here and a judgement call to be made. I am just saying this is an alternative way to avoid doing the main computation twice should you ask for with a certificate and without.\n> Thank you for sharing these thoughts. If both methods had been new, I probably would have done the `right_kernel` calculation and just decided to return it or not depending on the `certificate` switch. But as `is_central` was already implemented, I considered not slowing down the existing method more important than obtaining a faster computation of the new method `center`. Is this a good approach to deciding such issues?\n\nIt sounds reasonable, yes. Though I actually like Travis's idea of not having to recompute the function, however it was called first. Is it hard to switch to this?",
    "created_at": "2019-09-09T14:10:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395909",
    "user": "jipilab"
}
```

Replying to [comment:18 nailuj]:
> Replying to [comment:14 tscrim]:
> > A little doc change:
> > {{{#!diff
> >          - ``certificate`` -- boolean (default: ``False``); specifies whether
> > -        to return the center as a polyhedron (possibly empty) as part of the 
> > -        output.
> >            to return the center as a polyhedron (possibly empty) as part
> >            of the output
> > }}}
> > (Note also the lack of a period/full-stop and the removal of the trailing whitespace.)
> Thanks, I was not careful enough with these conventions.
> 
> 
> > Also, because of the ``@`cached_method`, there is no reason to do the computation twice. Constructing the certificate seems quite cheap to me, so I might instead put as the first lines:
> > {{{
> > if not certificate:
> >     return self.is_central(True)[0]
> > }}}
> > and then assume `certificate=True` for the rest. However, this really depends on how expensive that `right_kernel` is and how often you think the certificate will be requested. There is a balance to be had here and a judgement call to be made. I am just saying this is an alternative way to avoid doing the main computation twice should you ask for with a certificate and without.
> Thank you for sharing these thoughts. If both methods had been new, I probably would have done the `right_kernel` calculation and just decided to return it or not depending on the `certificate` switch. But as `is_central` was already implemented, I considered not slowing down the existing method more important than obtaining a faster computation of the new method `center`. Is this a good approach to deciding such issues?

It sounds reasonable, yes. Though I actually like Travis's idea of not having to recompute the function, however it was called first. Is it hard to switch to this?



---

archive/issue_comments_395910.json:
```json
{
    "body": "Replying to [comment:19 jipilab]:\n> Replying to [comment:18 nailuj]:\n> > Replying to [comment:14 tscrim]:\n> > \n> > > Also, because of the ``@`cached_method`, there is no reason to do the computation twice. Constructing the certificate seems quite cheap to me, so I might instead put as the first lines:\n> > > {{{\n> > > if not certificate:\n> > >     return self.is_central(True)[0]\n> > > }}}\n> > > and then assume `certificate=True` for the rest. However, this really depends on how expensive that `right_kernel` is and how often you think the certificate will be requested. There is a balance to be had here and a judgement call to be made. I am just saying this is an alternative way to avoid doing the main computation twice should you ask for with a certificate and without.\n> > Thank you for sharing these thoughts. If both methods had been new, I probably would have done the `right_kernel` calculation and just decided to return it or not depending on the `certificate` switch. But as `is_central` was already implemented, I considered not slowing down the existing method more important than obtaining a faster computation of the new method `center`. Is this a good approach to deciding such issues?\n> \n> It sounds reasonable, yes. Though I actually like Travis's idea of not having to recompute the function, however it was called first. Is it hard to switch to this?\n\nAs Travis wrote, there are two lines to be inserted and some lines to be deleted, that would be all. If you think the additional computation time for the `right_kernel` and the construction of the `Polyhedron` aren't slowing down `is_central` too much, I could do it.",
    "created_at": "2019-09-11T12:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395910",
    "user": "nailuj"
}
```

Replying to [comment:19 jipilab]:
> Replying to [comment:18 nailuj]:
> > Replying to [comment:14 tscrim]:
> > 
> > > Also, because of the ``@`cached_method`, there is no reason to do the computation twice. Constructing the certificate seems quite cheap to me, so I might instead put as the first lines:
> > > {{{
> > > if not certificate:
> > >     return self.is_central(True)[0]
> > > }}}
> > > and then assume `certificate=True` for the rest. However, this really depends on how expensive that `right_kernel` is and how often you think the certificate will be requested. There is a balance to be had here and a judgement call to be made. I am just saying this is an alternative way to avoid doing the main computation twice should you ask for with a certificate and without.
> > Thank you for sharing these thoughts. If both methods had been new, I probably would have done the `right_kernel` calculation and just decided to return it or not depending on the `certificate` switch. But as `is_central` was already implemented, I considered not slowing down the existing method more important than obtaining a faster computation of the new method `center`. Is this a good approach to deciding such issues?
> 
> It sounds reasonable, yes. Though I actually like Travis's idea of not having to recompute the function, however it was called first. Is it hard to switch to this?

As Travis wrote, there are two lines to be inserted and some lines to be deleted, that would be all. If you think the additional computation time for the `right_kernel` and the construction of the `Polyhedron` aren't slowing down `is_central` too much, I could do it.



---

archive/issue_comments_395911.json:
```json
{
    "body": "Replying to [comment:20 nailuj]:\n> Replying to [comment:19 jipilab]:\n> > Replying to [comment:18 nailuj]:\n> > > Replying to [comment:14 tscrim]:\n> > > \n> > > > Also, because of the ``@`cached_method`, there is no reason to do the computation twice. Constructing the certificate seems quite cheap to me, so I might instead put as the first lines:\n> > > > {{{\n> > > > if not certificate:\n> > > >     return self.is_central(True)[0]\n> > > > }}}\n> > > > and then assume `certificate=True` for the rest. However, this really depends on how expensive that `right_kernel` is and how often you think the certificate will be requested. There is a balance to be had here and a judgement call to be made. I am just saying this is an alternative way to avoid doing the main computation twice should you ask for with a certificate and without.\n> > > Thank you for sharing these thoughts. If both methods had been new, I probably would have done the `right_kernel` calculation and just decided to return it or not depending on the `certificate` switch. But as `is_central` was already implemented, I considered not slowing down the existing method more important than obtaining a faster computation of the new method `center`. Is this a good approach to deciding such issues?\n> > \n> > It sounds reasonable, yes. Though I actually like Travis's idea of not having to recompute the function, however it was called first. Is it hard to switch to this?\n> \n> As Travis wrote, there are two lines to be inserted and some lines to be deleted, that would be all. If you think the additional computation time for the `right_kernel` and the construction of the `Polyhedron` aren't slowing down `is_central` too much, I could do it.\n\nI would say it is fine yes. \n\nUnless you find an example where you have tons of hyperplanes (10 000+) I don't think it will take too much time. Just for the record, if speed is really important, you could benchmark the before and after for some relatively big example just to have an idea...",
    "created_at": "2019-09-12T06:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395911",
    "user": "jipilab"
}
```

Replying to [comment:20 nailuj]:
> Replying to [comment:19 jipilab]:
> > Replying to [comment:18 nailuj]:
> > > Replying to [comment:14 tscrim]:
> > > 
> > > > Also, because of the ``@`cached_method`, there is no reason to do the computation twice. Constructing the certificate seems quite cheap to me, so I might instead put as the first lines:
> > > > {{{
> > > > if not certificate:
> > > >     return self.is_central(True)[0]
> > > > }}}
> > > > and then assume `certificate=True` for the rest. However, this really depends on how expensive that `right_kernel` is and how often you think the certificate will be requested. There is a balance to be had here and a judgement call to be made. I am just saying this is an alternative way to avoid doing the main computation twice should you ask for with a certificate and without.
> > > Thank you for sharing these thoughts. If both methods had been new, I probably would have done the `right_kernel` calculation and just decided to return it or not depending on the `certificate` switch. But as `is_central` was already implemented, I considered not slowing down the existing method more important than obtaining a faster computation of the new method `center`. Is this a good approach to deciding such issues?
> > 
> > It sounds reasonable, yes. Though I actually like Travis's idea of not having to recompute the function, however it was called first. Is it hard to switch to this?
> 
> As Travis wrote, there are two lines to be inserted and some lines to be deleted, that would be all. If you think the additional computation time for the `right_kernel` and the construction of the `Polyhedron` aren't slowing down `is_central` too much, I could do it.

I would say it is fine yes. 

Unless you find an example where you have tons of hyperplanes (10 000+) I don't think it will take too much time. Just for the record, if speed is really important, you could benchmark the before and after for some relatively big example just to have an idea...



---

archive/issue_comments_395912.json:
```json
{
    "body": "Hi Julian,\n\nAre you going to do the suggested changes? It looks ok to me either way.\n\nJ-P",
    "created_at": "2019-10-25T07:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395912",
    "user": "jipilab"
}
```

Hi Julian,

Are you going to do the suggested changes? It looks ok to me either way.

J-P



---

archive/issue_comments_395913.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2019-10-25T07:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395913",
    "user": "jipilab"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_395914.json:
```json
{
    "body": "Replying to [comment:22 jipilab]:\n> Hi Julian,\n> \n> Are you going to do the suggested changes? It looks ok to me either way.\n> \n> J-P\n\nHi, I forgot about implementing the suggested changes. If you ask me like that, I would prefer the way it is written right now.",
    "created_at": "2019-11-01T16:48:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395914",
    "user": "nailuj"
}
```

Replying to [comment:22 jipilab]:
> Hi Julian,
> 
> Are you going to do the suggested changes? It looks ok to me either way.
> 
> J-P

Hi, I forgot about implementing the suggested changes. If you ask me like that, I would prefer the way it is written right now.



---

archive/issue_comments_395915.json:
```json
{
    "body": "Ok, sounds good.\n\nI'm setting it to \"needs review\" to get another round of bots testing it, just for sanity reasons.",
    "created_at": "2019-11-01T16:59:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395915",
    "user": "jipilab"
}
```

Ok, sounds good.

I'm setting it to "needs review" to get another round of bots testing it, just for sanity reasons.



---

archive/issue_comments_395916.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2019-11-01T16:59:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395916",
    "user": "jipilab"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_395917.json:
```json
{
    "body": "(Morally) Green patchbots.",
    "created_at": "2019-11-01T21:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395917",
    "user": "tscrim"
}
```

(Morally) Green patchbots.



---

archive/issue_comments_395918.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-11-02T21:27:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395918",
    "user": "jipilab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_395919.json:
```json
{
    "body": "Ok, may it be.",
    "created_at": "2019-11-02T21:27:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395919",
    "user": "jipilab"
}
```

Ok, may it be.



---

archive/issue_comments_395920.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-11-07T23:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28008",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28008#issuecomment-395920",
    "user": "vbraun"
}
```

Resolution: fixed
