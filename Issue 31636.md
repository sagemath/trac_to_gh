# Issue 31636: use libgiac instead of giac for integration

archive/issues_031636.json:
```json
{
    "body": "CC:  slelievre\n\nNow that giacpy_sage has been included into Sage by #29171, we can use it for integration instead of the Pexpect interface.\n\nThis will resolve issues like #28913 or this [ask-sage question](https://ask.sagemath.org/question/57312/result-that-comes-with-warning-from-giac-integrator/) where the Pexpect output cannot be parsed by Sage because Giac prints warning messages to the output.\n\nPart of meta-ticket #16688.\n\nIssue created by migration from https://trac.sagemath.org/ticket/31873\n\n",
    "created_at": "2021-05-28T20:34:55Z",
    "labels": [
        "interfaces",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "use libgiac instead of giac for integration",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31636",
    "user": "@mwageringel"
}
```
CC:  slelievre

Now that giacpy_sage has been included into Sage by #29171, we can use it for integration instead of the Pexpect interface.

This will resolve issues like #28913 or this [ask-sage question](https://ask.sagemath.org/question/57312/result-that-comes-with-warning-from-giac-integrator/) where the Pexpect output cannot be parsed by Sage because Giac prints warning messages to the output.

Part of meta-ticket #16688.

Issue created by migration from https://trac.sagemath.org/ticket/31873





---

archive/issue_comments_451812.json:
```json
{
    "body": "Changing keywords from \"\" to \"giac\".",
    "created_at": "2021-05-28T20:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451812",
    "user": "@mwageringel"
}
```

Changing keywords from "" to "giac".



---

archive/issue_comments_451813.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-06-17T18:15:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451813",
    "user": "@mwageringel"
}
```

New commits:



---

archive/issue_comments_451814.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-17T18:15:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451814",
    "user": "@mwageringel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_451815.json:
```json
{
    "body": "Changing keywords from \"giac\" to \"giac, integration\".",
    "created_at": "2021-06-17T18:15:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451815",
    "user": "@mwageringel"
}
```

Changing keywords from "giac" to "giac, integration".



---

archive/issue_comments_451816.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-18T16:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451816",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451817.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-25T21:10:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451817",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451818.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-17T21:43:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451818",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_451819.json:
```json
{
    "body": "LGTM",
    "created_at": "2021-07-17T21:43:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451819",
    "user": "mkoeppe"
}
```

LGTM



---

archive/issue_comments_451820.json:
```json
{
    "body": "Thanks.",
    "created_at": "2021-07-18T13:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451820",
    "user": "@mwageringel"
}
```

Thanks.



---

archive/issue_comments_451821.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-07-23T23:38:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451821",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_451822.json:
```json
{
    "body": "test failures\n\n```\nsage -t --long --warn-long 45.1 --random-seed=0 src/sage/symbolic/integration/integral.py  # 2 doctests failed\nsage -t --long --warn-long 45.1 --random-seed=0 src/doc/en/prep/Calculus.rst  # 1 doctest failed\n```\n",
    "created_at": "2021-07-23T23:38:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451822",
    "user": "vbraun"
}
```

test failures

```
sage -t --long --warn-long 45.1 --random-seed=0 src/sage/symbolic/integration/integral.py  # 2 doctests failed
sage -t --long --warn-long 45.1 --random-seed=0 src/doc/en/prep/Calculus.rst  # 1 doctest failed
```




---

archive/issue_comments_451823.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-26T20:14:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451823",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_451824.json:
```json
{
    "body": "I have fixed the doctests. Now this passes ptestlong again. Also, this does not conflict with #32275.",
    "created_at": "2021-07-26T20:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451824",
    "user": "@mwageringel"
}
```

I have fixed the doctests. Now this passes ptestlong again. Also, this does not conflict with #32275.



---

archive/issue_comments_451825.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-26T20:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451825",
    "user": "@mwageringel"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_451826.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-01T23:55:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451826",
    "user": "mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_451827.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-08-29T09:36:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31636#issuecomment-451827",
    "user": "vbraun"
}
```

Resolution: fixed
