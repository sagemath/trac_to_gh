# Issue 30321: Implement the conjugate of a set partition

archive/issues_030321.json:
```json
{
    "body": "CC:  @saliola @anneschilling\n\nImplement the notion of the conjugate of a set partition defined in \"On Conjugates for Set Partitions and Integer Compositions\" by David Callan for the combinatorial class `SetPartition`\n\nIssue created by migration from https://trac.sagemath.org/ticket/30558\n\n",
    "created_at": "2020-09-11T19:08:05Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Implement the conjugate of a set partition",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30321",
    "user": "https://github.com/zabrocki"
}
```
CC:  @saliola @anneschilling

Implement the notion of the conjugate of a set partition defined in "On Conjugates for Set Partitions and Integer Compositions" by David Callan for the combinatorial class `SetPartition`

Issue created by migration from https://trac.sagemath.org/ticket/30558





---

archive/issue_comments_432010.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-09-11T21:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432010",
    "user": "https://github.com/zabrocki"
}
```

New commits:



---

archive/issue_comments_432011.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-09-11T21:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432011",
    "user": "https://github.com/zabrocki"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_432012.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-12T05:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432012",
    "user": "https://github.com/anneschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_432013.json:
```json
{
    "body": "Changing keywords from \"\" to \"set partitions, conjugate\".",
    "created_at": "2020-09-12T05:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432013",
    "user": "https://github.com/anneschilling"
}
```

Changing keywords from "" to "set partitions, conjugate".



---

archive/issue_comments_432014.json:
```json
{
    "body": "too late, but this is a bit ugly\n\n```\nif len(initials)+len(singletons)==0:\n```\n\nand could have been\n\n```\nif not initials and not singletons:\n```\n",
    "created_at": "2020-09-12T06:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432014",
    "user": "https://github.com/fchapoton"
}
```

too late, but this is a bit ugly

```
if len(initials)+len(singletons)==0:
```

and could have been

```
if not initials and not singletons:
```




---

archive/issue_comments_432015.json:
```json
{
    "body": "It might be fine to reopen; otherwise fix it in a follow-up ticket.\n\nAlong with pep8 and maybe these other small things:\n\n\n```diff\n-            return (support+[support[0]])[support.index(a)+1]\n+            return support[(support.index(a)+1) % len(support)]\n```\n\n\n\n```diff\n-            support = sorted([a for S in sp for a in S])\n+            support = sorted(a for S in sp for a in S)\n```\n\n\n\n```diff\n-        support = sorted([a for S in self for a in S])\n+        support = sorted(a for S in self for a in S)\n```\n",
    "created_at": "2020-09-12T10:35:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432015",
    "user": "https://github.com/slel"
}
```

It might be fine to reopen; otherwise fix it in a follow-up ticket.

Along with pep8 and maybe these other small things:


```diff
-            return (support+[support[0]])[support.index(a)+1]
+            return support[(support.index(a)+1) % len(support)]
```



```diff
-            support = sorted([a for S in sp for a in S])
+            support = sorted(a for S in sp for a in S)
```



```diff
-        support = sorted([a for S in self for a in S])
+        support = sorted(a for S in self for a in S)
```




---

archive/issue_comments_432016.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-09-12T11:23:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432016",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_432017.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2020-09-12T11:23:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432017",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_432018.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-12T12:02:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432018",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432019.json:
```json
{
    "body": "Actually, this corner case also needs to be fixed:\n\n```\n    sage: s = SetPartitions(0).list()[0]                                                                                                                                \n    sage: s.conjugate()                                                                                                                                                 \n    ---------------------------------------------------------------------------\n    ValueError                                Traceback (most recent call last)\n```\n",
    "created_at": "2020-09-12T15:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432019",
    "user": "https://github.com/anneschilling"
}
```

Actually, this corner case also needs to be fixed:

```
    sage: s = SetPartitions(0).list()[0]                                                                                                                                
    sage: s.conjugate()                                                                                                                                                 
    ---------------------------------------------------------------------------
    ValueError                                Traceback (most recent call last)
```




---

archive/issue_comments_432020.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-12T15:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432020",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432021.json:
```json
{
    "body": "Add a doc test to the corner cases too!",
    "created_at": "2020-09-12T16:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432021",
    "user": "https://github.com/anneschilling"
}
```

Add a doc test to the corner cases too!



---

archive/issue_comments_432022.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-12T16:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432022",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_432023.json:
```json
{
    "body": "Fr\u00e9d\u00e9ric, any final formatting touch?\n\nThen back to positive review?",
    "created_at": "2020-09-12T20:08:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432023",
    "user": "https://github.com/slel"
}
```

Frédéric, any final formatting touch?

Then back to positive review?



---

archive/issue_comments_432024.json:
```json
{
    "body": "Yes, you can set it back to positive review!",
    "created_at": "2020-09-13T00:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432024",
    "user": "https://github.com/anneschilling"
}
```

Yes, you can set it back to positive review!



---

archive/issue_comments_432025.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-13T06:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432025",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_027862.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2020-11-07T16:22:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30321#event-27862"
}
```



---

archive/issue_comments_432026.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-07T16:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30321",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30321#issuecomment-432026",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
