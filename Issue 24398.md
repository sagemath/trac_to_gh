# Issue 24398: make vertex_connectivity faster if only a lower bound is required.

archive/issues_024398.json:
```json
{
    "body": "Sometimes it is useful to check if a graph is at least n-connected, but it is not required to calculate the vertex connectivity precisely. \n\nSo basically, the call `G.vertex_connectivity() >= n`, should be made faster. It could perhaps be implemented by adding an option like `G.vertex_connectivity(is_at_least=n)` or something similar. \n\nThis is used in the case n-3 for example in the functions `planar-dual` and `is_polyhedral` (see ticket:24634).\n\nIssue created by migration from https://trac.sagemath.org/ticket/24635\n\n",
    "created_at": "2018-02-01T11:20:10Z",
    "labels": [
        "graph theory",
        "minor",
        "enhancement"
    ],
    "title": "make vertex_connectivity faster if only a lower bound is required.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24398",
    "user": "moritz"
}
```
Sometimes it is useful to check if a graph is at least n-connected, but it is not required to calculate the vertex connectivity precisely. 

So basically, the call `G.vertex_connectivity() >= n`, should be made faster. It could perhaps be implemented by adding an option like `G.vertex_connectivity(is_at_least=n)` or something similar. 

This is used in the case n-3 for example in the functions `planar-dual` and `is_polyhedral` (see ticket:24634).

Issue created by migration from https://trac.sagemath.org/ticket/24635





---

archive/issue_comments_341782.json:
```json
{
    "body": "Testing if the connectivity is `>= 3` can be done in linear time using a decomposition of the graph into 3-vertex-connected components. This is one of the proposed project for GSoC 2018 https://wiki.sagemath.org/GSoC/2018#Addition_of_SPQR-tree_to_graph_module\n\nFor larger values, we can add parameter `k` to the method to check if the vertex connectivity is `>= k`. I will try.",
    "created_at": "2018-02-03T11:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341782",
    "user": "dcoudert"
}
```

Testing if the connectivity is `>= 3` can be done in linear time using a decomposition of the graph into 3-vertex-connected components. This is one of the proposed project for GSoC 2018 https://wiki.sagemath.org/GSoC/2018#Addition_of_SPQR-tree_to_graph_module

For larger values, we can add parameter `k` to the method to check if the vertex connectivity is `>= k`. I will try.



---

archive/issue_comments_341783.json:
```json
{
    "body": "I made a first trial. We can certainly do better. It is sometimes faster and sometimes slower, but I don't understand why...\n\n```\nsage: G = Graph(1000)\nsage: G.add_edges(graphs.RandomTree(G.order()).edges())\nsage: G.add_edges(graphs.RandomTree(G.order()).edges())\nsage: G.add_edges(graphs.RandomTree(G.order()).edges())\nsage: %time G.vertex_connectivity()\nCPU times: user 23.7 s, sys: 159 ms, total: 23.8 s\nWall time: 7.61 s\n3\nsage: %time G.vertex_connectivity(k=3)\nCPU times: user 51.4 s, sys: 233 ms, total: 51.7 s\nWall time: 15.8 s\nTrue\nsage:\nsage: G.add_edges(graphs.RandomTree(G.order()).edges())\nsage: %time G.vertex_connectivity()\nCPU times: user 1min 45s, sys: 311 ms, total: 1min 45s\nWall time: 30 s\n4\nsage: %time G.vertex_connectivity(k=3)\nCPU times: user 27.7 s, sys: 192 ms, total: 27.9 s\nWall time: 8.78 s\nTrue\n```\n\n----\nNew commits:",
    "created_at": "2018-02-03T13:23:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341783",
    "user": "dcoudert"
}
```

I made a first trial. We can certainly do better. It is sometimes faster and sometimes slower, but I don't understand why...

```
sage: G = Graph(1000)
sage: G.add_edges(graphs.RandomTree(G.order()).edges())
sage: G.add_edges(graphs.RandomTree(G.order()).edges())
sage: G.add_edges(graphs.RandomTree(G.order()).edges())
sage: %time G.vertex_connectivity()
CPU times: user 23.7 s, sys: 159 ms, total: 23.8 s
Wall time: 7.61 s
3
sage: %time G.vertex_connectivity(k=3)
CPU times: user 51.4 s, sys: 233 ms, total: 51.7 s
Wall time: 15.8 s
True
sage:
sage: G.add_edges(graphs.RandomTree(G.order()).edges())
sage: %time G.vertex_connectivity()
CPU times: user 1min 45s, sys: 311 ms, total: 1min 45s
Wall time: 30 s
4
sage: %time G.vertex_connectivity(k=3)
CPU times: user 27.7 s, sys: 192 ms, total: 27.9 s
Wall time: 8.78 s
True
```

----
New commits:



---

archive/issue_comments_341784.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-02-03T13:23:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341784",
    "user": "dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_341785.json:
```json
{
    "body": "Same kind of functionality could be useful for, say, crossing number of a graph or dimension of a poset.\n\nWhat would be parameter name for that? `k` is used in `is_eulerian()` of a poset with kind of different meaning.\n\nAnd about the output: could those functions return integers of Infinity? I mean that `f(some_parameter_name=3)` would output either 0, 1, 2 or Infinity.",
    "created_at": "2018-02-03T18:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341785",
    "user": "jmantysalo"
}
```

Same kind of functionality could be useful for, say, crossing number of a graph or dimension of a poset.

What would be parameter name for that? `k` is used in `is_eulerian()` of a poset with kind of different meaning.

And about the output: could those functions return integers of Infinity? I mean that `f(some_parameter_name=3)` would output either 0, 1, 2 or Infinity.



---

archive/issue_comments_341786.json:
```json
{
    "body": "`k` is often good name for such parameter, as long as it is well documented.\n\nFor the output of a decision problem, it should be `True` or `False`. \nFor optimization problems, you can return something else.\n\nThe modification I proposed is not so efficient. Any idea to speed up the method is welcome.",
    "created_at": "2018-02-03T18:45:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341786",
    "user": "dcoudert"
}
```

`k` is often good name for such parameter, as long as it is well documented.

For the output of a decision problem, it should be `True` or `False`. 
For optimization problems, you can return something else.

The modification I proposed is not so efficient. Any idea to speed up the method is welcome.



---

archive/issue_comments_341787.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2018-02-13T16:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341787",
    "user": "moritz"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_341788.json:
```json
{
    "body": "I did some timings simliar to yours and in many cases the setting `k=...` is much faster then `.vertex_connectivity>=...`, especially if the vertex_connectity is different from \"`...`\".\n\nI think it is a great addition!\n\n\nA few comments, which i add as a commit:\n\n- I suggest to allow the case `k=0` to be an alias for `is_connected`.\nDo you agree? (Then an error message, the documentation and one of the Tests need to be changed slightly)\n\n\nThe following question has nothing to do with the new feature of the function, but while we are at it..:\n\n- Perhaps it would be useful warn the user in the doc that the default MILP solver is not \"exact\".\n   I propose three different ways to improve the situation:\n1. add \"(see `default_mip_solver()`)\" with a link to sage.numerical.backends.generic_backend.default_mip_solver\n2. add \"notice that the default solver might not be an exact solver (see `default_mip_solver()`)! To get exact (but possibly slower) results set `solver = \"ppl\"`\"\n3. Make `solver = \"ppl\"` the default and tell people that they have an option to set solver = None, if they want the default solver (see default_mip_solver()). \n \n  I think \"1.\" doesn't hurt anyone and perhaps \"2.\" is also really an imrovement. \"3.\" would of course be a rather drastic change, that makes the method run considerably slower in the default settings.\n\n\nTwo more things:\n\n- I have some minor suggestions on python conventions and also removing a forgotten \">\" in the wikipedia link. \n\n- I rebased on beta5 in order to be able to use the method not only (as you did) in the `is_planar`, but also in the `is_polyhedral` mehtod (new in beta5!).",
    "created_at": "2018-02-13T16:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341788",
    "user": "moritz"
}
```

I did some timings simliar to yours and in many cases the setting `k=...` is much faster then `.vertex_connectivity>=...`, especially if the vertex_connectity is different from "`...`".

I think it is a great addition!


A few comments, which i add as a commit:

- I suggest to allow the case `k=0` to be an alias for `is_connected`.
Do you agree? (Then an error message, the documentation and one of the Tests need to be changed slightly)


The following question has nothing to do with the new feature of the function, but while we are at it..:

- Perhaps it would be useful warn the user in the doc that the default MILP solver is not "exact".
   I propose three different ways to improve the situation:
1. add "(see `default_mip_solver()`)" with a link to sage.numerical.backends.generic_backend.default_mip_solver
2. add "notice that the default solver might not be an exact solver (see `default_mip_solver()`)! To get exact (but possibly slower) results set `solver = "ppl"`"
3. Make `solver = "ppl"` the default and tell people that they have an option to set solver = None, if they want the default solver (see default_mip_solver()). 
 
  I think "1." doesn't hurt anyone and perhaps "2." is also really an imrovement. "3." would of course be a rather drastic change, that makes the method run considerably slower in the default settings.


Two more things:

- I have some minor suggestions on python conventions and also removing a forgotten ">" in the wikipedia link. 

- I rebased on beta5 in order to be able to use the method not only (as you did) in the `is_planar`, but also in the `is_polyhedral` mehtod (new in beta5!).



---

archive/issue_comments_341789.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-02-13T16:58:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341789",
    "user": "moritz"
}
```

New commits:



---

archive/issue_comments_341790.json:
```json
{
    "body": "> A few comments, which i add as a commit:\n> \n>    - I suggest to allow the case `k=0` to be an alias for `is_connected`.\n> Do you agree? (Then an error message, the documentation and one of the Tests need to be changed slightly)\n\nGood idea.\n \n \n> The following question has nothing to do with the new feature of the function, but while we are at it..:\n> \n>    - Perhaps it would be useful warn the user in the doc that the default MILP solver is not \"exact\".\n>    I propose three different ways to improve the situation:\n>     1. add \"(see `default_mip_solver()`)\" with a link to sage.numerical.backends.generic_backend.default_mip_solver\n>     2. add \"notice that the default solver might not be an exact solver (see `default_mip_solver()`)! To get exact (but possibly slower) results set `solver = \"ppl\"`\"\n>     3. Make `solver = \"ppl\"` the default and tell people that they have an option to set solver = None, if they want the default solver (see default_mip_solver()). \n>  \n>   I think \"1.\" doesn't hurt anyone and perhaps \"2.\" is also really an imrovement. \"3.\" would of course be a rather drastic change, that makes the method run considerably slower in the default settings.\n\nI vote for \"1.\". \n\nI doubt that using a non \"exact\" solver can result in a wrong answer here. Also, since calls are hidden in various methods (e.g. `is_polyhedron`), it is almost impossible for the user to choose the solver.\n\n\n> Two more things:\n> \n>   - I have some minor suggestions on python conventions and also removing a forgotten \">\" in the wikipedia link. \n> \n>   - I rebased on beta5 in order to be able to use the method not only (as you did) in the `is_planar`, but also in the `is_polyhedral` mehtod (new in beta5!).\n\n\nThank you for the improvements.",
    "created_at": "2018-02-13T17:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341790",
    "user": "dcoudert"
}
```

> A few comments, which i add as a commit:
> 
>    - I suggest to allow the case `k=0` to be an alias for `is_connected`.
> Do you agree? (Then an error message, the documentation and one of the Tests need to be changed slightly)

Good idea.
 
 
> The following question has nothing to do with the new feature of the function, but while we are at it..:
> 
>    - Perhaps it would be useful warn the user in the doc that the default MILP solver is not "exact".
>    I propose three different ways to improve the situation:
>     1. add "(see `default_mip_solver()`)" with a link to sage.numerical.backends.generic_backend.default_mip_solver
>     2. add "notice that the default solver might not be an exact solver (see `default_mip_solver()`)! To get exact (but possibly slower) results set `solver = "ppl"`"
>     3. Make `solver = "ppl"` the default and tell people that they have an option to set solver = None, if they want the default solver (see default_mip_solver()). 
>  
>   I think "1." doesn't hurt anyone and perhaps "2." is also really an imrovement. "3." would of course be a rather drastic change, that makes the method run considerably slower in the default settings.

I vote for "1.". 

I doubt that using a non "exact" solver can result in a wrong answer here. Also, since calls are hidden in various methods (e.g. `is_polyhedron`), it is almost impossible for the user to choose the solver.


> Two more things:
> 
>   - I have some minor suggestions on python conventions and also removing a forgotten ">" in the wikipedia link. 
> 
>   - I rebased on beta5 in order to be able to use the method not only (as you did) in the `is_planar`, but also in the `is_polyhedral` mehtod (new in beta5!).


Thank you for the improvements.



---

archive/issue_comments_341791.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2018-02-14T19:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341791",
    "user": "moritz"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_341792.json:
```json
{
    "body": "Replying to [comment:9 dcoudert]:\n\n>  \n>  \n> > The following question has nothing to do with the new feature of the function, but while we are at it..:\n> \n> I doubt that using a non \"exact\" solver can result in a wrong answer here. Also, since calls are hidden in various methods (e.g. `is_polyhedron`), it is almost impossible for the user to choose the solver.\n> \nI guess this is why the `default`-setting is quite useful; one can set the default solver globally...\n\nI will be happy to finish the review, if you add the two improvements!",
    "created_at": "2018-02-14T19:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341792",
    "user": "moritz"
}
```

Replying to [comment:9 dcoudert]:

>  
>  
> > The following question has nothing to do with the new feature of the function, but while we are at it..:
> 
> I doubt that using a non "exact" solver can result in a wrong answer here. Also, since calls are hidden in various methods (e.g. `is_polyhedron`), it is almost impossible for the user to choose the solver.
> 
I guess this is why the `default`-setting is quite useful; one can set the default solver globally...

I will be happy to finish the review, if you add the two improvements!



---

archive/issue_comments_341793.json:
```json
{
    "body": "I wanted to push modifications, but you have changed the branch from `public/...` to `u/moritz/...`. \n\n\nI though again about possible changes:\n- `k==0`: actually this is confusing. The definition of the parameter says that we check is the connectivity is larger or equal to k. So `k=1` is to check if the graph is (strongly)connected. Allowing `k==0` might introduce some confusion to users, forcing them to carefully check the documentation each time. It's not a natural use of the method.\n\n- I can add links to `default_mip_solver` with a sentence explaining that it allows to know which solver is used by default and to change the default solver. However, explaining the user that other solvers than `PPL` are not exact might again introduce some confusion. Furthermore, why adding it here and not in all methods using LP solvers ? The best place to add such warning might be in the global documentation of `sage.numerical.mip`.",
    "created_at": "2018-02-15T07:52:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341793",
    "user": "dcoudert"
}
```

I wanted to push modifications, but you have changed the branch from `public/...` to `u/moritz/...`. 


I though again about possible changes:
- `k==0`: actually this is confusing. The definition of the parameter says that we check is the connectivity is larger or equal to k. So `k=1` is to check if the graph is (strongly)connected. Allowing `k==0` might introduce some confusion to users, forcing them to carefully check the documentation each time. It's not a natural use of the method.

- I can add links to `default_mip_solver` with a sentence explaining that it allows to know which solver is used by default and to change the default solver. However, explaining the user that other solvers than `PPL` are not exact might again introduce some confusion. Furthermore, why adding it here and not in all methods using LP solvers ? The best place to add such warning might be in the global documentation of `sage.numerical.mip`.



---

archive/issue_comments_341794.json:
```json
{
    "body": "Replying to [comment:11 dcoudert]:\n> I wanted to push modifications, but you have changed the branch from `public/...` to `u/moritz/...`. \n> \nYes, I didn't want to force push to `public/...`, because I rebased and changed history. But I will do that now..\n> \n> I though again about possible changes:\n> - `k==0`: actually this is confusing. The definition of the parameter says that we check is the connectivity is larger or equal to k. So `k=1` is to check if the graph is (strongly)connected. Allowing `k==0` might introduce some confusion to users, forcing them to carefully check the documentation each time. It's not a natural use of the method.\nYou are right; let's leave it as is. \n\n> - I can add links to `default_mip_solver` with a sentence explaining that it allows to know which solver is used by default and to change the default solver. However, explaining the user that other solvers than `PPL` are not exact might again introduce some confusion. Furthermore, why adding it here and not in all methods using LP solvers ? The best place to add such warning might be in the global documentation of `sage.numerical.mip`.\nOk, then simply the link to `default_mip_solver`.",
    "created_at": "2018-02-15T18:14:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341794",
    "user": "moritz"
}
```

Replying to [comment:11 dcoudert]:
> I wanted to push modifications, but you have changed the branch from `public/...` to `u/moritz/...`. 
> 
Yes, I didn't want to force push to `public/...`, because I rebased and changed history. But I will do that now..
> 
> I though again about possible changes:
> - `k==0`: actually this is confusing. The definition of the parameter says that we check is the connectivity is larger or equal to k. So `k=1` is to check if the graph is (strongly)connected. Allowing `k==0` might introduce some confusion to users, forcing them to carefully check the documentation each time. It's not a natural use of the method.
You are right; let's leave it as is. 

> - I can add links to `default_mip_solver` with a sentence explaining that it allows to know which solver is used by default and to change the default solver. However, explaining the user that other solvers than `PPL` are not exact might again introduce some confusion. Furthermore, why adding it here and not in all methods using LP solvers ? The best place to add such warning might be in the global documentation of `sage.numerical.mip`.
Ok, then simply the link to `default_mip_solver`.



---

archive/issue_comments_341795.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-02-15T18:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341795",
    "user": "moritz"
}
```

New commits:



---

archive/issue_comments_341796.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-02-15T18:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341796",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_341797.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-15T18:29:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341797",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_341798.json:
```json
{
    "body": "just pushed small improvements (`default_mip_solver` and a quick test when `k==1`)",
    "created_at": "2018-02-15T18:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341798",
    "user": "dcoudert"
}
```

just pushed small improvements (`default_mip_solver` and a quick test when `k==1`)



---

archive/issue_comments_341799.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-02-15T18:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341799",
    "user": "dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_341800.json:
```json
{
    "body": "\n```\nsage: G = Graph()\nsage: G.vertex_connectivity(k=2)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-9-4c919a85b95d> in <module>()\n----> 1 G.vertex_connectivity(k=Integer(2))\n\n...sage/graphs/generic_graph.pyc in vertex_connectivity(self, value_only, sets, k, solver, verbose)\n   9842                 raise ValueError(\"parameter k must be strictly positive\")\n   9843             if (g.is_directed() and k > min(min(g.in_degree()), min(g.out_degree()))) \\\n-> 9844                or (not g.is_directed() and (k > min(g.degree()))):\n   9845                 return False\n   9846             value_only = True\n\nValueError: min() arg is an empty sequence\n```\n\n\nPerhaps, its best to change `min(g.degree())` to `min(g.degree(),0)`?\n\nOther than that it looks quite good to me!",
    "created_at": "2018-02-18T20:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341800",
    "user": "moritz"
}
```


```
sage: G = Graph()
sage: G.vertex_connectivity(k=2)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-9-4c919a85b95d> in <module>()
----> 1 G.vertex_connectivity(k=Integer(2))

...sage/graphs/generic_graph.pyc in vertex_connectivity(self, value_only, sets, k, solver, verbose)
   9842                 raise ValueError("parameter k must be strictly positive")
   9843             if (g.is_directed() and k > min(min(g.in_degree()), min(g.out_degree()))) \
-> 9844                or (not g.is_directed() and (k > min(g.degree()))):
   9845                 return False
   9846             value_only = True

ValueError: min() arg is an empty sequence
```


Perhaps, its best to change `min(g.degree())` to `min(g.degree(),0)`?

Other than that it looks quite good to me!



---

archive/issue_comments_341801.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-02-18T20:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341801",
    "user": "moritz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_341802.json:
```json
{
    "body": "The empty graph again :( \n\nWe have to treat it separately, and graph theory books are not helpful here since this special case is most of the time omitted. \n\nAccording methods `is_connected`, it is connected, and according to `is_biconnected` it is not biconnected. So I propose to say return `True` when `k==1` and `False` else. Do you agree ?\n\n\nObserve that we cannot use `min(g.degree(),0)` since:\n\n```\nsage: min([2,3,4],0)\n[2, 3, 4]\n```\n",
    "created_at": "2018-02-18T21:13:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341802",
    "user": "dcoudert"
}
```

The empty graph again :( 

We have to treat it separately, and graph theory books are not helpful here since this special case is most of the time omitted. 

According methods `is_connected`, it is connected, and according to `is_biconnected` it is not biconnected. So I propose to say return `True` when `k==1` and `False` else. Do you agree ?


Observe that we cannot use `min(g.degree(),0)` since:

```
sage: min([2,3,4],0)
[2, 3, 4]
```




---

archive/issue_comments_341803.json:
```json
{
    "body": "Replying to [comment:18 dcoudert]:\n> The empty graph again :( \n> \n> We have to treat it separately, and graph theory books are not helpful here since this special case is most of the time omitted. \n> \nI read up a bit on old sage discussions about it. \nI also like the exposition here:\nhttps://ncatlab.org/nlab/show/too+simple+to+be+simple\n\n> According methods `is_connected`, it is connected, and according to `is_biconnected` it is not biconnected. So I propose to say return `True` when `k==1` and `False` else. Do you agree ?\n> \nI would prefer to have `is_connected` return `False`, but I guess nobody wants to discuss this again. For our case, I would agree with any convention that you decide.\n> \n> Observe that we cannot use `min(g.degree(),0)` since:\n> {{{\n> sage: min([2,3,4],0)\n> [2, 3, 4]\n> }}}\nWhat I meant was `min(g.degree() or [0])`. (And in Python 3.4 one could do `min(g.degree(), default=0)`!)\n\nSorry for bringing up this special case...",
    "created_at": "2018-02-19T14:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341803",
    "user": "moritz"
}
```

Replying to [comment:18 dcoudert]:
> The empty graph again :( 
> 
> We have to treat it separately, and graph theory books are not helpful here since this special case is most of the time omitted. 
> 
I read up a bit on old sage discussions about it. 
I also like the exposition here:
https://ncatlab.org/nlab/show/too+simple+to+be+simple

> According methods `is_connected`, it is connected, and according to `is_biconnected` it is not biconnected. So I propose to say return `True` when `k==1` and `False` else. Do you agree ?
> 
I would prefer to have `is_connected` return `False`, but I guess nobody wants to discuss this again. For our case, I would agree with any convention that you decide.
> 
> Observe that we cannot use `min(g.degree(),0)` since:
> {{{
> sage: min([2,3,4],0)
> [2, 3, 4]
> }}}
What I meant was `min(g.degree() or [0])`. (And in Python 3.4 one could do `min(g.degree(), default=0)`!)

Sorry for bringing up this special case...



---

archive/issue_comments_341804.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-02-19T16:35:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341804",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_341805.json:
```json
{
    "body": "last commit fix the special case of empty (di)graph and add tests.",
    "created_at": "2018-02-19T16:36:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341805",
    "user": "dcoudert"
}
```

last commit fix the special case of empty (di)graph and add tests.



---

archive/issue_comments_341806.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-02-19T17:06:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341806",
    "user": "dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_341807.json:
```json
{
    "body": "I think its good know and am waiting for the patchbot..",
    "created_at": "2018-02-20T22:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341807",
    "user": "moritz"
}
```

I think its good know and am waiting for the patchbot..



---

archive/issue_comments_341808.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-02-21T20:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341808",
    "user": "moritz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_341809.json:
```json
{
    "body": "Thanks",
    "created_at": "2018-02-21T20:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341809",
    "user": "dcoudert"
}
```

Thanks



---

archive/issue_comments_341810.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-02-23T08:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24398#issuecomment-341810",
    "user": "vbraun"
}
```

Resolution: fixed
