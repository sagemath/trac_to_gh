# Issue 21295: Create SAGE_LOCAL directory hierarchy during "make", not "configure"

Issue created by migration from https://trac.sagemath.org/ticket/21532

Original creator: mkoeppe

Original creation time: 2016-09-18 17:57:21

CC:  jdemeyer

./configure should not create the directory hierarchy under SAGE_LOCAL.

Normally this is the task of `make install`; but since our `make` already does the equivalent of "make install" (see #21479 and #21495 for discussion), we should do this during `make`.

. . . 

A possible implementation would be to use the currently unused automake-generated `build/make/Makefile-auto` to do that by calling `make -f Makefile-auto install` during `make`.






---

Comment by embray created at 2018-02-05 12:54:12

This also creates problems with `$SAGE_SUDO` and `--prefix=` set to a root-owned directory, since it effectively means we have to run `./configure` as root.  I agree it would be better to do in the Makefile, and run the relevant commands with `$SAGE_SUDO`.


---

Comment by mkoeppe created at 2020-05-01 18:16:15

Moving some tickets to 9.2. This is not a promise that I will be working on them.


---

Comment by mkoeppe created at 2021-02-13 20:51:01

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.
