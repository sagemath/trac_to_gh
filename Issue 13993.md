# Issue 13993: add map from PerfectMatchings to Permutations and Set Partitions

Issue created by migration from https://trac.sagemath.org/ticket/14197

Original creator: ahmorales

Original creation time: 2013-02-27 19:59:23

Assignee: sage-combinat

CC:  chrisjamesberg ahmorales

Keywords: perfect matchings

Add a function that takes a perfect matching and returns the associated fixed-point free involution.

Similarly, add a function that takes a perfect matching and returns the associated set partition.


---

Comment by chrisjamesberg created at 2013-02-27 21:59:24

Patchbot:

Apply:  trac_14197_perfect_matchings_cb.patch


---

Comment by chrisjamesberg created at 2013-02-27 21:59:24

Changing status from new to needs_review.


---

Comment by chrisjamesberg created at 2013-02-27 22:00:29

Changing priority from trivial to minor.


---

Attachment

Patchbot:

Apply: trac_14197_perfect_matchings_cb.patch


---

Comment by stumpc5 created at 2013-02-28 08:28:47

I added an addon to make perfect matchings hashable, if possible. Please review. I am happy with your patch, so if you are with mine, you can give it a positive review on my behalf.

Cheers, Christian


---

Comment by stumpc5 created at 2013-02-28 13:16:41

I again modified my addon to get also graphical representations running.

Please review!


---

Comment by stumpc5 created at 2013-02-28 16:23:17

The patchbot is happy, so I think it is ready to go!


---

Comment by chrisjamesberg created at 2013-02-28 20:18:48

The patchbot is now giving us these weird blue errors about plugins startup time.


---

Comment by stumpc5 created at 2013-02-28 21:36:39

The latest one gave it green again. I think it's save and we can give it a positive review (and get it merged in 5.8).


---

Comment by ahmorales created at 2013-02-28 21:53:10

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-03-02 23:49:20

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2013-03-02 23:49:20

The patchbot gives errors:

```
sage -t  -force_lib devel/sage-14197/sage/combinat/perfect_matching.py
**********************************************************************
File "/mnt/storage2TB/patchbot/Sage/sage-5.8.beta2/devel/sage-14197/sage/combinat/perfect_matching.py", line 228:
    sage: latex(P) #indirect doctest
Expected:
    \begin{tikzpicture}
    ...
    \end{tikzpicture}
Got:
    <BLANKLINE>
    Warning: `tkz-graph.sty` is not part of this computer's TeX installation.
    This package is required to render graphs in LaTeX.
    Visit 'http://altermundus.com/pages/graph.html'.
    <BLANKLINE>
    <BLANKLINE>
    Warning: `tkz-berge.sty` is not part of this computer's TeX installation.
    This package is required to render graphs in LaTeX.
    Visit 'http://altermundus.com/pages/graph.html'.
    <BLANKLINE>
    \begin{tikzpicture}
    %
    \useasboundingbox (0,0) rectangle (5.0cm,5.0cm);
    %
    \definecolor{cv0}{rgb}{0.0,0.0,0.0}
    \definecolor{cfv0}{rgb}{1.0,1.0,1.0}
    \definecolor{clv0}{rgb}{0.0,0.0,0.0}
    \definecolor{cv1}{rgb}{0.0,0.0,0.0}
    \definecolor{cfv1}{rgb}{1.0,1.0,1.0}
    \definecolor{clv1}{rgb}{0.0,0.0,0.0}
    \definecolor{cv2}{rgb}{0.0,0.0,0.0}
    \definecolor{cfv2}{rgb}{1.0,1.0,1.0}
    \definecolor{clv2}{rgb}{0.0,0.0,0.0}
    \definecolor{cv3}{rgb}{0.0,0.0,0.0}
    \definecolor{cfv3}{rgb}{1.0,1.0,1.0}
    \definecolor{clv3}{rgb}{0.0,0.0,0.0}
    \definecolor{cv4}{rgb}{0.0,0.0,0.0}
    \definecolor{cfv4}{rgb}{1.0,1.0,1.0}
    \definecolor{clv4}{rgb}{0.0,0.0,0.0}
    \definecolor{cv5}{rgb}{0.0,0.0,0.0}
    \definecolor{cfv5}{rgb}{1.0,1.0,1.0}
    \definecolor{clv5}{rgb}{0.0,0.0,0.0}
    \definecolor{cv0v2}{rgb}{0.0,0.0,0.0}
    \definecolor{cv1v4}{rgb}{0.0,0.0,0.0}
    \definecolor{cv3v5}{rgb}{0.0,0.0,0.0}
    %
    \Vertex[style={minimum size=0.4cm,draw=cv0,fill=cfv0,text=clv0,shape=circle},LabelOut=false,L=\hbox{$1$},x=2.5cm,y=5.0cm]{v0}
    \Vertex[style={minimum size=0.4cm,draw=cv1,fill=cfv1,text=clv1,shape=circle},LabelOut=false,L=\hbox{$2$},x=0.0cm,y=3.75cm]{v1}
    \Vertex[style={minimum size=0.4cm,draw=cv2,fill=cfv2,text=clv2,shape=circle},LabelOut=false,L=\hbox{$3$},x=0.0cm,y=1.25cm]{v2}
    \Vertex[style={minimum size=0.4cm,draw=cv3,fill=cfv3,text=clv3,shape=circle},LabelOut=false,L=\hbox{$4$},x=2.5cm,y=0.0cm]{v3}
    \Vertex[style={minimum size=0.4cm,draw=cv4,fill=cfv4,text=clv4,shape=circle},LabelOut=false,L=\hbox{$5$},x=5.0cm,y=1.25cm]{v4}
    \Vertex[style={minimum size=0.4cm,draw=cv5,fill=cfv5,text=clv5,shape=circle},LabelOut=false,L=\hbox{$6$},x=5.0cm,y=3.75cm]{v5}
    %
    \Edge[lw=0.04cm,style={color=cv0v2,},](v0)(v2)
    \Edge[lw=0.04cm,style={color=cv1v4,},](v1)(v4)
    \Edge[lw=0.04cm,style={color=cv3v5,},](v3)(v5)
    %
    \end{tikzpicture}
**********************************************************************
```



---

Comment by stumpc5 created at 2013-03-03 09:16:23

Replying to [comment:13 jdemeyer]:
> The patchbot gives errors:

Marked as optional. Waiting for the patchbot before giving positive review again...


---

Comment by chapoton created at 2013-03-03 10:55:16

Hello, pyflakes says:

```
sage/combinat/perfect_matching.py:61: 'Element' imported but unused
```

Maybe you can remove that ?


---

Attachment

Replying to [comment:15 chapoton]:
> Hello, pyflakes says:
> {{{
> sage/combinat/perfect_matching.py:61: 'Element' imported but unused
> }}}
> Maybe you can remove that ?

Done - thanks for checking!


---

Comment by stumpc5 created at 2013-03-03 11:47:09

I only removed the line importing Element, and added the comment that calling the method _latex_ requires dot2tex. I thus set it back to positive review.


---

Comment by stumpc5 created at 2013-03-03 11:47:09

Changing status from needs_work to positive_review.


---

Comment by jdemeyer created at 2013-03-13 11:05:43

Resolution: fixed
