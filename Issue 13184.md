# Issue 13184: Wrong LaTeX for products of numbers

Issue created by migration from Trac.

Original creator: novoselt

Original creation time: 2012-08-09 17:56:23

Assignee: burcin

CC:  burcin eviatarbach

Keywords: latex

E.g.

```
sage: e = 2 * 2^(1/3)
sage: print latex(e)
2 \, 2^{\left(\frac{1}{3}\right)} 
```

the output looks like power of 22, there should be \cdot.

(And there should be no parenthesis around the power, but that does not change the meaning at least.)


---

Comment by novoselt created at 2012-08-09 17:57:12

My investigation shows that the issue is in `GEx_to_str_latex`, but I have no clue how to fix it.


---

Comment by novoselt created at 2012-08-09 18:00:11

#3202 was about the same problem and claims to be fixed, but I am not sure what is/was the problem with the example there. On the other hand, there is a test in the docstring of symbolic expressions claiming that `2 \, 2` is great.


---

Comment by novoselt created at 2012-08-09 19:59:38

Burcin, any ideas on whether it is in Pynac or Ginac and how to fix it?


---

Comment by novoselt created at 2013-06-17 17:12:53

Slight change in Sage-5.10.rc1:

```
sage: sage: e = 2 * 2^(1/3)
sage: sage: print latex(e)
2 \, 2^{\frac{1}{3}}
```



---

Attachment


---

Comment by burcin created at 2013-06-17 22:12:58

Patch for pynac available [on my work-in-progress repo](https://bitbucket.org/burcin/pynac-wip/commits/838c6c3fff665d36ae262acadb2ed7a33d25500b?at=latex_overall_coeff_sep). Doctest fixes in [This is the Trac macro *attachment:trac_13356-latex_coeff_sep.patch* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#attachment:trac_13356-latex_coeff_sep.patch-macro)

Now the output is:


```
sage: latex(2 * 2^x)
2 \cdot 2^{x}
```


We still keep `\,` if the next character is not a digit:


```
sage: latex(2* x^2)
2 \, x^{2}
```



---

Comment by burcin created at 2013-06-17 22:12:58

Changing keywords from "latex" to "latex, pynac, sd48".


---

Comment by burcin created at 2013-06-24 18:49:42

In [this sage-support`@` thread](https://groups.google.com/d/topic/sage-support/K7OwY5XIsAQ/discussion) the consensus seems to be to remove `\,` and only use `\cdot` when both sides are numerals.

I am planning to make this change if there are no objections. I'm afraid this will mean fixing doctests all over the tree yet again.


---

Comment by novoselt created at 2013-06-24 18:57:08

I certainly would not object - I think Sage-generated code should be as close to human-written as possible, so that it is relatively easy to copy-paste into manually written papers. I've never seen anyone manually inserting `\,` for every product. (It would be good also to have `x_0^2` rather than `x_{0}^{2}`, but that's not related to this ticket.)


---

Comment by jpflori created at 2014-02-20 10:49:53

This is to be merged with the pynac update at #15198.


---

Comment by jpflori created at 2014-02-20 12:11:35

Changing status from new to needs_review.


---

Comment by jpflori created at 2014-02-20 12:11:35

New commits:


---

Comment by jpflori created at 2014-02-20 12:12:19

It seems no doctests needs updating.
I'll double check (I have a problem with ascii_art right now, but surely for other reasons) and if so set this to positive review.


---

Comment by jpflori created at 2014-02-20 15:39:34

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-03-04 16:58:40

Resolution: fixed
