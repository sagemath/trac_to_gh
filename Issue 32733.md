# Issue 32733: fix parent of 0th Bernoulli polynomial

Issue created by migration from https://trac.sagemath.org/ticket/32970

Original creator: chapoton

Original creation time: 2021-12-04 10:02:26

CC:  vdelecroix mjo




---

Comment by chapoton created at 2021-12-04 10:03:02

Changing status from new to needs_review.


---

Comment by chapoton created at 2021-12-04 10:03:02

New commits:


---

Comment by mjo created at 2021-12-05 14:58:49

I think you can avoid the coercion entirely by returning `x**0`. It looks 3-4x faster on my machine.


---

Comment by slelievre created at 2021-12-05 15:10:42

Would `parent(x).one()` work?


---

Comment by mjo created at 2021-12-05 15:16:15

Replying to [comment:3 slelievre]:
> Would `parent(x).one()` work?

Yeah, `x.parent().one()` does the same thing should skip the intermediate exponentiation method.


---

Comment by chapoton created at 2021-12-05 16:44:23

the only alternative is to use `parent(x)`, as x can be an int, with no parent method.

and the the "parent" may not have any `one` method..


---

Comment by mjo created at 2021-12-05 16:59:18

Replying to [comment:5 chapoton]:
> the only alternative is to use `parent(x)`, as x can be an int, with no parent method.
> 
> and the the "parent" may not have any `one` method..

Hmm, I would just stick with `x**0` then. It's the most pedagogically correct option, and avoids the `parent()` issues. Anything that you can feed into a polynomial, by definition, should support a zeroth power that gives the corresponding "one."


---

Comment by git created at 2021-12-05 19:41:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mjo created at 2021-12-05 20:49:40

LGTM, thanks


---

Comment by mjo created at 2021-12-05 20:49:40

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2022-01-30 15:39:13

Setting milestone to 9.6 now that 9.5 is out.


---

Comment by vbraun created at 2022-01-31 23:30:53

Resolution: fixed
