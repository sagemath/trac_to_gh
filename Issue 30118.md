# Issue 30118: Graphs: simple bipartite double method added to undirected graphs

Issue created by migration from https://trac.sagemath.org/ticket/30355

Original creator: @Ivo-Maffei

Original creation time: 2020-08-14 13:31:21

CC:  dimpase

The bipartite double of a graph is its tensor product with the graph K_2.
A simple method `bipartite_double(extended=False)` is added to the undirected graph class in order to compute the bipartite double and the extended bipartite double of a graph.


---

Comment by @Ivo-Maffei created at 2020-08-14 13:31:48

The dependency on #30240 is only needed to avoid a merge conflict in the master bibliography


---

Comment by @Ivo-Maffei created at 2020-08-14 13:34:16

Changing status from new to needs_review.


---

Comment by @Ivo-Maffei created at 2020-08-14 13:34:16

Last 10 new commits:


---

Comment by dcoudert created at 2020-08-14 14:43:11

Changing status from needs_review to needs_work.


---

Comment by dcoudert created at 2020-08-14 14:43:11

Several comments:
- no need to add dependency on #30240 here

- small changes

```diff
-        The bipartite double of a graph `G` has vertices
-        `\{ (v,0), (v,1) : v \in G\}` and for any edge `(u, v)` in `G`
-        we have edges `((u,0),(v,1))` and `((u,1),(v,0))`.
-        Note that this is the tensor product of `G` with `K_2`.
-        See :
+        The bipartite double of a graph `G` has vertex set
+        `\{ (v,0), (v,1) : v \in G\}` and for any edge `(u, v)` in `G`
+        it has edges `((u,0),(v,1))` and `((u,1),(v,0))`.
+        Note that this is the tensor product of `G` with `K_2`.
```


- input

```diff
-        - ``extended`` -- boolean (optional); if ``True`` return the extended
-          bipartite double, else the bipartite double. Default: ``False``.
+        - ``extended`` -- boolean (default: ``False``); Whether to return the extended
+          bipartite double, or only the bipartite double (default)
```


- it is not important to mention and test that the input graph is untouched. You return a new graph, no?

- instead of a `REFERENCES:` block, use a `.. SEEALSO::` block (check other methods)

- `TETS` -> `TESTS`

- no need to import the complete graph generator, simply use `Graph([(0, 1)])`

- simpler code

```diff
-        if extended:
-            for v in self:
-                v1 = (v, 0)
-                v2 = (v, 1)
-
-                G.add_edge((v1, v2))
+        if extended:
+            G.add_edges(((v, 0), (v, 1)) for v in self)
```


- What if self is the empty graph ? a 1 vertex graph ? a disconnected graph ?

- instead of testing for equality (`sage: H == G.tensor_product(graphs.CompleteGraph(2))`), it might be better to check if the graphs are isomorphismic.


---

Comment by git created at 2020-08-14 17:25:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @Ivo-Maffei created at 2020-08-14 17:29:39

Changing status from needs_work to needs_review.


---

Comment by @Ivo-Maffei created at 2020-08-14 17:29:39

Replying to [comment:3 dcoudert]:
> - no need to add dependency on #30240 here
I based this branch on #30240 because otherwise the reference [VDKT2016] would not work.
I could add it to the master bibliography again, but I think this will cause a merge conflict with #30240.

> - it is not important to mention and test that the input graph is untouched. You return a new graph, no?
I mentioned it in the `OUTPUT` section. I could stress it in a `.. NOTE::` block, if you wish.

> - What if self is the empty graph ? a 1 vertex graph ? a disconnected graph ?
I added this cases in the `TESTS` and `EXAMPLES` sections. Should I also discuss them somewhere else?


---

Comment by dcoudert created at 2020-08-15 07:29:58

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2020-08-15 07:29:58

LGTM.


---

Comment by vbraun created at 2020-08-23 17:50:45

Resolution: fixed
