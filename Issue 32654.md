# Issue 32654: Unstable doctest geometry/hyperbolic_space/hyperbolic_model.py

Issue created by migration from https://trac.sagemath.org/ticket/32891

Original creator: @kliem

Original creation time: 2021-11-17 20:06:49

CC:  mjo tscrim jhonrubia6

Part of #32544:


```
sage -t --long --random-seed=257293673212457698646690051018428858654 src/sage/geometry/hyperbolic_space/hyperbolic_model.py
**********************************************************************
File "src/sage/geometry/hyperbolic_space/hyperbolic_model.py", line 567, in sage.geometry.hyperbolic_space.hyperbolic_model.HyperbolicModel.random_geodesic
Failed example:
    bool((h.endpoints()[0].coordinates()).imag() >= 0)
Expected:
    True
Got:
    False
**********************************************************************
1 item had failures:
   1 of   3 in sage.geometry.hyperbolic_space.hyperbolic_model.HyperbolicModel.random_geodesic
    [234 tests, 1 failure, 0.77 s]
------------------------------------
```



---

Comment by mjo created at 2021-12-27 13:21:18

Wild ass guess: this should be testing `HyperbolicPlane().UHP()` and not `HyperbolicPlane().PD()`. The former stands for Upper Half Plane, the latter for Poincare Disk.


---

Comment by tscrim created at 2021-12-28 00:03:44

Indeed, that test is only valid for the UHP, but that method is already being tested. Here, we should test that the absolute value is at most 1 to test in the PD model.


---

Comment by mjo created at 2021-12-29 11:48:51

Changing status from new to needs_review.


---

Comment by mjo created at 2021-12-29 11:48:51

New commits:


---

Comment by tscrim created at 2022-01-01 02:43:37

Thank you. LGTM.


---

Comment by tscrim created at 2022-01-01 02:43:37

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-01-31 23:30:57

Resolution: fixed
