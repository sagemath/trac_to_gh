# Issue 32533: Expose and access `tachyon` command line flags

Issue created by migration from https://trac.sagemath.org/ticket/32770

Original creator: @LaisRast

Original creation time: 2021-10-25 22:44:58

CC:  slelievre guenterrote

Keywords: tachyon, shading

Currently (version 9.5.beta4), there is no way in `plot3d/base.pyx`
to access tachyon command line flags. Among many of these flags,
there are the shading options, which might be more important than
the other flags. One reason might be that using them one can
turn off shadows (the corresponding flag is `--mediumshade`).
Having shadows sometimes lead to confusing plots. So one might
want to turn them off.

This ticket is intended to fix that by implementing two options 
for tachyon plots. One is `extra_opts` which pass flags to
the tachyon command line. The other option is `shade`, which
is a shortcut to command line shading flags:

-  `shade` (for tachyon) -- string (default: `'full'`); shading options. Admissible values are
   * `'full'`: best quality rendering (and slowest). Sets tachyon command line flag `-fullshade`.
   * `'medium`: good quality rendering, but no shadows. Sets tachyon command line flag `-mediumshade`.
   * `'low'`: low quality rendering, preview (and fast). Sets tachyon command line flag `-lowshade`.
   * `'lowest'`: worst quality rendering, preview (and fastest). Sets tachyon command line flag `-lowestshade`.
-  `extra_opts` (for tachyon) -- string (default: empty string); extra options that will be appended to the tachyon command line.

As a side note, `plot3d/tachon.py` already has the option `extra_opts`
implemented.


---

Comment by git created at 2021-10-25 22:47:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @LaisRast created at 2021-10-25 22:48:28

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2021-12-18 19:53:12

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.


---

Comment by mkoeppe created at 2022-03-03 06:54:23


```
+        extra_opts = opts["extra_opts"] if "extra_opts" in opts else ""
```

This can be simplified to `extra_opts = opts.get("extra_opts", "")`


---

Comment by mkoeppe created at 2022-03-03 06:54:52

Changing status from needs_review to needs_work.


---

Comment by mkoeppe created at 2022-03-03 06:54:52

Doctests are needed to illustrate the use of the new options


---

Comment by git created at 2022-03-03 09:18:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @LaisRast created at 2022-03-03 09:18:48

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2022-03-03 19:02:56

A test for `extra_opts` please?


---

Comment by git created at 2022-03-03 19:11:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-03-03 19:36:24

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-03-03 19:36:24

Thanks, this is looking good.


---

Comment by vbraun created at 2022-03-08 08:12:15

Resolution: fixed
