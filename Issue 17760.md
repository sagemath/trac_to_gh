# Issue 17760: stopgap: `InfinityCrystalOfTableaux.Element.reduced_form` output change

Issue created by migration from Trac.

Original creator: jpswanson

Original creation time: 2015-03-19 00:44:16

CC:  jkeitel tscrim darij

Keywords: days64, crystals, tableaux

In the process of making `Tableau` immutable (#15862), we found this mutates the supposedly immutable `Tableau` possibly making the result non-straight-shape. Once `CompositionTableau` is implemented, this output should be updated.


---

Comment by jpswanson created at 2015-03-26 23:56:37

`CompositionTableau` in fact does exist, though it's inappropriate for the return value here since entries weakly decrease from left to right along rows in that class whereas entries weakly increase here. Perhaps a list of lists is the best solution after all?


---

Comment by tscrim created at 2015-03-27 05:23:09

In general, I think there should be an ABC (abstract base class) `Tableau` which should allow any entry. Then it's subclasses, such as `SemistandardTableau`, should be more restrictive on its shapes/entries. Either that, or we should separate out a way to use the tableaux latex/ascii-art code to print tableau-like arrays.


---

Comment by jpswanson created at 2015-03-27 05:54:30

Indeed, #18013 includes a class much like you describe, `BadShapeTableau`. Cell locations are arbitrary pairs of integers and entries are completely arbitrary. The overall organization we have planned is more or less based on two "axes", one being shape restrictions, and the other being entry restrictions. `BadShapeTableau` probably is not appropriate here either because it's so general, though in principle if all you wanted to do was print, it could be used. Ideally there would just be a `CompositionShapedTableau` class with no restrictions on entries, of which `CompositionTableau` would be a subclass, and this `CompositionShapedTableau` class would be used here in `.reduced_form`. I'm not sure if it's worth the effort.
