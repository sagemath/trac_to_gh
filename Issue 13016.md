# Issue 13016: Boring paperwork in the graph/ files

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2012-06-30 15:49:43

Assignee: tbd

CC:  dcoudert

This patch does absolutely nothing.

It removes functions that appeared twice in the code by importing them, which should have been done since the beginning. It also updates deprecation warnings.

Nathann


---

Comment by ncohen created at 2012-06-30 15:51:44

Changing status from new to needs_review.


---

Comment by ncohen created at 2012-06-30 15:52:13

Changing component from PLEASE CHANGE to graph theory.


---

Comment by jlopez created at 2012-07-06 11:44:05

Changing status from needs_review to needs_work.


---

Comment by jlopez created at 2012-07-06 11:44:05

Hi Nathan,

the patch fails to apply against sage 5.1rc1 (which barring unexpected failures should be released as 5.1 shortly). You probably want to rebase it.


---

Comment by ncohen created at 2012-07-06 21:19:18

Rebased ! (I leave tomorrow for 2 months `:-p`)

Nathann


---

Comment by ncohen created at 2012-07-06 21:19:18

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2012-10-01 15:04:58

This fails to apply for me on Sage 5.4.beta1. Additionally the deprecations changed in 5.2 and so sage fails to start properly. Also for line 120 in cliquer.py:

```
sage: C = Graph('DJ{')
```

is that brace `{` suppose to be there?


---

Comment by tscrim created at 2012-10-01 15:04:58

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2012-10-01 16:08:19

Changing status from needs_work to needs_review.


---

Comment by ncohen created at 2012-10-01 16:08:19

Here it is ! Patch rebased ! And yes, this `{` is supposed to be there... I mean, it's just how the graph is encoded `:-)`


```
sage: Graph('DJ{').size()
7
sage: Graph('DJ').size() 
---------------------------------------------------------------------------
RuntimeError                              Traceback (most recent call last)

/home/ncohen/.Sage/devel/sage-2/sage/graphs/<ipython console> in <module>()

/home/ncohen/.Sage/local/lib/python2.7/site-packages/sage/graphs/graph.pyc in __init__(self, data, pos, loops, format, boundary, weighted, implementation, sparse, vertex_labels, name, multiedges, convert_empty_dict_labels_to_None)
   1162                 raise RuntimeError("The string (%s) seems corrupt: for n = %d, the string is too long."%(ss,n))
   1163             elif len(m) < expected:
-> 1164                 raise RuntimeError("The string (%s) seems corrupt: for n = %d, the string is too short."%(ss,n))
   1165             num_verts = n
   1166         elif format == 'sparse6':

RuntimeError: The string (DJ) seems corrupt: for n = 5, the string is too short.
```


Nathann


---

Comment by tscrim created at 2012-10-02 15:44:31

I couldn't run the doctest and it seemed out of place. Now the patch applies and functions, however I get new docstring errors/warnings:

```
docstring of sage.graphs.cliquer.all_max_clique:18: WARNING: duplicate citation NisOst2003, other instance in /home/travis/sage-5.4.beta1/devel/sage/doc/en/reference/sage/graphs/graph.rst
/home/travis/sage-5.4.beta1/local/lib/python2.7/site-packages/sage/graphs/graph.py:docstring of sage.graphs.graph:2: ERROR: Unexpected indentation.
/home/travis/sage-5.4.beta1/local/lib/python2.7/site-packages/sage/graphs/graph.py:docstring of sage.graphs.graph:4: WARNING: Bullet list ends without a blank line; unexpected unindent.
/home/travis/sage-5.4.beta1/local/lib/python2.7/site-packages/sage/graphs/graph.py:docstring of sage.graphs.graph.Graph.cliques_maximum:18: WARNING: duplicate citation NisOst2003, other instance in /home/travis/sage-5.4.beta1/devel/sage/doc/en/reference/sage/graphs/cliquer.rst
/home/travis/sage-5.4.beta1/local/lib/python2.7/site-packages/sage/graphs/graph.py:docstring of sage.graphs.graph.Graph.matching_polynomial:162: WARNING: duplicate citation Godsil93, other instance in /home/travis/sage-5.4.beta1/devel/sage/doc/en/reference/sage/graphs/matchpoly.rst
docstring of sage.graphs.matchpoly.matching_polynomial:162: WARNING: duplicate citation Godsil93, other instance in /home/travis/sage-5.4.beta1/devel/sage/doc/en/reference/sage/graphs/graph.rst
```

The error seems to be in `chromatic_polynomial()`, but I don't know where the bullet list warning is.


---

Comment by tscrim created at 2012-10-02 15:44:31

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2012-10-03 14:05:56

Hellooooooooooooo !!

Could you try to see if this patch works better ? There's still a duplicate reference on my computer but I wonder whether it could be some Sphinx cache problem... So it may work on "any machine different from mine" `:-)`

Nathann


---

Comment by ncohen created at 2012-10-03 14:05:56

Changing status from needs_work to needs_review.


---

Attachment

It is good now. I ran build the first time, got the duplicate reference. Popped the patch off, recompiled sage, pushed the patch, recompiled, then rebuilt the docstrings and it was clean.

Travis


---

Comment by tscrim created at 2012-10-03 22:44:37

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-10-29 21:24:40

Resolution: fixed
