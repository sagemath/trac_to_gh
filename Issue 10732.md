# Issue 10732: update PolyBoRi to newest upstream release 0.7

archive/issues_010732.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  alexanderdreyer polybori fbissey burcin\n\nKeywords: polybori\n\nA new version of PolyBoRi is available.\n\n**Changelog**\n\n* Polynomials, monomials, variables, and `BooleSets` now own a reference to a fully-functionally `BoolePolyRing` (including ordering)\n* Orderings can work independently from ring\n* Simplified interface: remove `*Assign()` variants from diagrams\n* Added `polybori.nf.simple_nf`\n* Simplification of declare_ring in ipbori\n* Rename `BoolePolynomials::reducibleBy` ->  `BoolePolynomials::firstReducibleBy`\n* Unittests for libpolybori are available, covering 98% of libpolybori\n* Added experimental PolyGUI\n\nIssue created by migration from https://trac.sagemath.org/ticket/10797\n\n",
    "created_at": "2011-02-18T11:21:56Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7",
    "title": "update PolyBoRi to newest upstream release 0.7",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10732",
    "user": "malb"
}
```
Assignee: tbd

CC:  alexanderdreyer polybori fbissey burcin

Keywords: polybori

A new version of PolyBoRi is available.

**Changelog**

* Polynomials, monomials, variables, and `BooleSets` now own a reference to a fully-functionally `BoolePolyRing` (including ordering)
* Orderings can work independently from ring
* Simplified interface: remove `*Assign()` variants from diagrams
* Added `polybori.nf.simple_nf`
* Simplification of declare_ring in ipbori
* Rename `BoolePolynomials::reducibleBy` ->  `BoolePolynomials::firstReducibleBy`
* Unittests for libpolybori are available, covering 98% of libpolybori
* Added experimental PolyGUI

Issue created by migration from https://trac.sagemath.org/ticket/10797





---

archive/issue_comments_113136.json:
```json
{
    "body": "Changing status from new to needs_work.",
    "created_at": "2011-02-18T11:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113136",
    "user": "malb"
}
```

Changing status from new to needs_work.



---

archive/issue_comments_113137.json:
```json
{
    "body": "I've cut a first SPKG:\n\n    http://sage.math.washington.edu/home/malb/spkgs/polybori-0.7.0.spkg\n\nIt compiles on my 64-bit Debian/GNU Linux, but the Sage interface doesn't play ball yet:\n\n\n```\nsage/rings/polynomial/pbori.cpp:3182: error: \u2018CDDInterface\u2019 is not a template\nsage/rings/polynomial/pbori.cpp:3182: error: \u2018dd_base\u2019 is not a member of \u2018polybori::CTypes\u2019\nsage/rings/polynomial/pbori.cpp:3182: error: \u2018dd_base\u2019 is not a member of \u2018polybori::CTypes\u2019\nsage/rings/polynomial/pbori.cpp:3187: error: \u2018CDDInterface\u2019 is not a template\nsage/rings/polynomial/pbori.cpp:3187: error: \u2018dd_base\u2019 is not a member of \u2018polybori::CTypes\u2019\n```\n\n\nIt seems the type of CDDInterface changed. Alexander, can you comment?",
    "created_at": "2011-02-18T11:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113137",
    "user": "malb"
}
```

I've cut a first SPKG:

    http://sage.math.washington.edu/home/malb/spkgs/polybori-0.7.0.spkg

It compiles on my 64-bit Debian/GNU Linux, but the Sage interface doesn't play ball yet:


```
sage/rings/polynomial/pbori.cpp:3182: error: ‘CDDInterface’ is not a template
sage/rings/polynomial/pbori.cpp:3182: error: ‘dd_base’ is not a member of ‘polybori::CTypes’
sage/rings/polynomial/pbori.cpp:3182: error: ‘dd_base’ is not a member of ‘polybori::CTypes’
sage/rings/polynomial/pbori.cpp:3187: error: ‘CDDInterface’ is not a template
sage/rings/polynomial/pbori.cpp:3187: error: ‘dd_base’ is not a member of ‘polybori::CTypes’
```


It seems the type of CDDInterface changed. Alexander, can you comment?



---

archive/issue_comments_113138.json:
```json
{
    "body": "With the attached patch Sage compiles with the SPKG linked to above. However, I do get segmentation faults:\n\n\n```python\nsage: B.<a,b,c> = BooleanPolynomialRing()\nsage: B.random_element()\nterminate called after throwing an instance of 'std::runtime_error'\n  what():  Operands come from different manager.\n/home/malb/Sage/sage-current/local/bin/sage-sage: line 300: 23133 Aborted                 sage-ipython \"$@\" -i\n```\n",
    "created_at": "2011-02-18T12:22:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113138",
    "user": "malb"
}
```

With the attached patch Sage compiles with the SPKG linked to above. However, I do get segmentation faults:


```python
sage: B.<a,b,c> = BooleanPolynomialRing()
sage: B.random_element()
terminate called after throwing an instance of 'std::runtime_error'
  what():  Operands come from different manager.
/home/malb/Sage/sage-current/local/bin/sage-sage: line 300: 23133 Aborted                 sage-ipython "$@" -i
```




---

archive/issue_comments_113139.json:
```json
{
    "body": "Hi Martin, I was out of office. That's not a segfault, that an uncaught C++ exception. But it should not occur there. I'll check it out. Alexander",
    "created_at": "2011-02-18T14:24:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113139",
    "user": "AlexanderDreyer"
}
```

Hi Martin, I was out of office. That's not a segfault, that an uncaught C++ exception. But it should not occur there. I'll check it out. Alexander



---

archive/issue_comments_113140.json:
```json
{
    "body": "Sorry for the mixup. But I think there are a few SEGFAULTs in there as well too:\n\n\n```python\nsage: B.<a,b,c> = BooleanPolynomialRing()\nsage: M = a.lm().parent()\nsage: M.gen(0)\nProgram received signal SIGSEGV, Segmentation fault.\nCudd_ReadZero (dd=0x0) at Cudd/cudd/cuddAPI.c:1034\n1034    Cudd/cudd/cuddAPI.c: No such file or directory.\n        in Cudd/cudd/cuddAPI.c\n(gdb) bt\n#0  Cudd_ReadZero (dd=0x0) at Cudd/cudd/cuddAPI.c:1034\n#1  0x00007fffd5336c42 in isZero (this=0x4242628, os=...) at polybori/include/CCuddDDFacade.h:243\n#2  isZero (this=0x4242628, os=...) at polybori/include/BoolePolynomial.h:290\n#3  polybori::BoolePolynomial::print (this=0x4242628, os=...) at polybori/src/BoolePolynomial.cc:497\n#4  0x00007fffd560bfb0 in _to_PyString<polybori::BooleMonomial> (x=<value optimized out>) at /home/malb/Sage/sage-current/local//include/csage/ccobject.h:102\n#5  0x00007fffd55a8b3d in __pyx_pf_4sage_5rings_10polynomial_5pbori_15BooleanMonomial__repr_ (__pyx_v_self=<value optimized out>, unused=0x7fffffffb4b0) at sage/rings/polynomial/pbori.cpp:15503\n#6  0x00007ffff7a6be13 in PyObject_Call (func=0x7ffff5382a70, arg=0x7fffffffb4b0, kw=0x7ffff20ed130) at Objects/abstract.c:2492\n#7  0x00007ffff0d65c2c in __pyx_pf_4sage_9structure_11sage_object_10SageObject___repr__ (__pyx_v_self=0x4242600) at sage/structure/sage_object.c:1356\n#8  0x00007ffff7ab0c95 in PyObject_Repr (v=0x4242600) at Objects/object.c:376\n#9  0x00007ffff7b0d850 in PyEval_EvalFrameEx (f=0x4235130, throwflag=<value optimized out>) at Python/ceval.c:1091\n#10 0x00007ffff7b10932 in fast_function (f=0x4234f60, throwflag=<value optimized out>) at Python/ceval.c:3792\n#11 call_function (f=0x4234f60, throwflag=<value optimized out>) at Python/ceval.c:3727\n#12 PyEval_EvalFrameEx (f=0x4234f60, throwflag=<value optimized out>) at Python/ceval.c:2389\n#13 0x00007ffff7b11d1d in PyEval_EvalCodeEx (co=0x4148738, globals=<value optimized out>, locals=<value optimized out>, args=0x4150d10, argcount=<value optimized out>, kws=0x2, kwcount=0, defs=0x0, \n    defcount=0, closure=0x0) at Python/ceval.c:2968\n#14 0x00007ffff7a981db in function_call (func=0x4148aa0, arg=0x4150cf8, kw=0x41816b0) at Objects/funcobject.c:524\n#15 0x00007ffff7a6be13 in PyObject_Call (func=0x4148aa0, arg=0x7fffffffb4b0, kw=0x7ffff20ed130) at Objects/abstract.c:2492\n#16 0x00007ffff7b0e973 in ext_do_call (f=0x4185d20, throwflag=<value optimized out>) at Python/ceval.c:4019\n#17 PyEval_EvalFrameEx (f=0x4185d20, throwflag=<value optimized out>) at Python/ceval.c:2429\n#18 0x00007ffff7b11d1d in PyEval_EvalCodeEx (co=0x7ffff2c67f30, globals=<value optimized out>, locals=<value optimized out>, args=0x4151b18, argcount=<value optimized out>, kws=0x1, kwcount=0, defs=0x0, \n    defcount=0, closure=0x0) at Python/ceval.c:2968\n#19 0x00007ffff7a980df in function_call (func=0x7ffff2c6a230, arg=0x4151b00, kw=0x0) at Objects/funcobject.c:524\n#20 0x00007ffff7a6be13 in PyObject_Call (func=0x7ffff2c6a230, arg=0x7fffffffb4b0, kw=0x7ffff20ed130) at Objects/abstract.c:2492\n#21 0x00007ffff7a7d19f in instancemethod_call (func=0x7ffff2c6a230, arg=0x4151b00, kw=0x0) at Objects/classobject.c:2579\n#22 0x00007ffff7a6be13 in PyObject_Call (func=0x412faa0, arg=0x7fffffffb4b0, kw=0x7ffff20ed130) at Objects/abstract.c:2492\n#23 0x00007ffff7a7c366 in instance_call (func=<value optimized out>, arg=0x7ffff0935290, kw=0x0) at Objects/classobject.c:2126\n#24 0x00007ffff7a6be13 in PyObject_Call (func=0x7ffff29e7ab8, arg=0x7fffffffb4b0, kw=0x7ffff20ed130) at Objects/abstract.c:2492\n#25 0x00007ffff7b0f77d in do_call (f=0x42349b0, throwflag=<value optimized out>) at Python/ceval.c:3924\n#26 call_function (f=0x42349b0, throwflag=<value optimized out>) at Python/ceval.c:3729\n#27 PyEval_EvalFrameEx (f=0x42349b0, throwflag=<value optimized out>) at Python/ceval.c:2389\n#28 0x00007ffff7b10932 in fast_function (f=0x6df240, throwflag=<value optimized out>) at Python/ceval.c:3792\n#29 call_function (f=0x6df240, throwflag=<value optimized out>) at Python/ceval.c:3727\n#30 PyEval_EvalFrameEx (f=0x6df240, throwflag=<value optimized out>) at Python/ceval.c:2389\n#31 0x00007ffff7b11d1d in PyEval_EvalCodeEx (co=0x7ffff2c4f198, globals=<value optimized out>, locals=<value optimized out>, args=0x414f0f8, argcount=<value optimized out>, kws=0x2, kwcount=0, \n    defs=0x7ffff2c587a8, defcount=1, closure=0x0) at Python/ceval.c:2968\n```\n",
    "created_at": "2011-02-18T14:37:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113140",
    "user": "malb"
}
```

Sorry for the mixup. But I think there are a few SEGFAULTs in there as well too:


```python
sage: B.<a,b,c> = BooleanPolynomialRing()
sage: M = a.lm().parent()
sage: M.gen(0)
Program received signal SIGSEGV, Segmentation fault.
Cudd_ReadZero (dd=0x0) at Cudd/cudd/cuddAPI.c:1034
1034    Cudd/cudd/cuddAPI.c: No such file or directory.
        in Cudd/cudd/cuddAPI.c
(gdb) bt
#0  Cudd_ReadZero (dd=0x0) at Cudd/cudd/cuddAPI.c:1034
#1  0x00007fffd5336c42 in isZero (this=0x4242628, os=...) at polybori/include/CCuddDDFacade.h:243
#2  isZero (this=0x4242628, os=...) at polybori/include/BoolePolynomial.h:290
#3  polybori::BoolePolynomial::print (this=0x4242628, os=...) at polybori/src/BoolePolynomial.cc:497
#4  0x00007fffd560bfb0 in _to_PyString<polybori::BooleMonomial> (x=<value optimized out>) at /home/malb/Sage/sage-current/local//include/csage/ccobject.h:102
#5  0x00007fffd55a8b3d in __pyx_pf_4sage_5rings_10polynomial_5pbori_15BooleanMonomial__repr_ (__pyx_v_self=<value optimized out>, unused=0x7fffffffb4b0) at sage/rings/polynomial/pbori.cpp:15503
#6  0x00007ffff7a6be13 in PyObject_Call (func=0x7ffff5382a70, arg=0x7fffffffb4b0, kw=0x7ffff20ed130) at Objects/abstract.c:2492
#7  0x00007ffff0d65c2c in __pyx_pf_4sage_9structure_11sage_object_10SageObject___repr__ (__pyx_v_self=0x4242600) at sage/structure/sage_object.c:1356
#8  0x00007ffff7ab0c95 in PyObject_Repr (v=0x4242600) at Objects/object.c:376
#9  0x00007ffff7b0d850 in PyEval_EvalFrameEx (f=0x4235130, throwflag=<value optimized out>) at Python/ceval.c:1091
#10 0x00007ffff7b10932 in fast_function (f=0x4234f60, throwflag=<value optimized out>) at Python/ceval.c:3792
#11 call_function (f=0x4234f60, throwflag=<value optimized out>) at Python/ceval.c:3727
#12 PyEval_EvalFrameEx (f=0x4234f60, throwflag=<value optimized out>) at Python/ceval.c:2389
#13 0x00007ffff7b11d1d in PyEval_EvalCodeEx (co=0x4148738, globals=<value optimized out>, locals=<value optimized out>, args=0x4150d10, argcount=<value optimized out>, kws=0x2, kwcount=0, defs=0x0, 
    defcount=0, closure=0x0) at Python/ceval.c:2968
#14 0x00007ffff7a981db in function_call (func=0x4148aa0, arg=0x4150cf8, kw=0x41816b0) at Objects/funcobject.c:524
#15 0x00007ffff7a6be13 in PyObject_Call (func=0x4148aa0, arg=0x7fffffffb4b0, kw=0x7ffff20ed130) at Objects/abstract.c:2492
#16 0x00007ffff7b0e973 in ext_do_call (f=0x4185d20, throwflag=<value optimized out>) at Python/ceval.c:4019
#17 PyEval_EvalFrameEx (f=0x4185d20, throwflag=<value optimized out>) at Python/ceval.c:2429
#18 0x00007ffff7b11d1d in PyEval_EvalCodeEx (co=0x7ffff2c67f30, globals=<value optimized out>, locals=<value optimized out>, args=0x4151b18, argcount=<value optimized out>, kws=0x1, kwcount=0, defs=0x0, 
    defcount=0, closure=0x0) at Python/ceval.c:2968
#19 0x00007ffff7a980df in function_call (func=0x7ffff2c6a230, arg=0x4151b00, kw=0x0) at Objects/funcobject.c:524
#20 0x00007ffff7a6be13 in PyObject_Call (func=0x7ffff2c6a230, arg=0x7fffffffb4b0, kw=0x7ffff20ed130) at Objects/abstract.c:2492
#21 0x00007ffff7a7d19f in instancemethod_call (func=0x7ffff2c6a230, arg=0x4151b00, kw=0x0) at Objects/classobject.c:2579
#22 0x00007ffff7a6be13 in PyObject_Call (func=0x412faa0, arg=0x7fffffffb4b0, kw=0x7ffff20ed130) at Objects/abstract.c:2492
#23 0x00007ffff7a7c366 in instance_call (func=<value optimized out>, arg=0x7ffff0935290, kw=0x0) at Objects/classobject.c:2126
#24 0x00007ffff7a6be13 in PyObject_Call (func=0x7ffff29e7ab8, arg=0x7fffffffb4b0, kw=0x7ffff20ed130) at Objects/abstract.c:2492
#25 0x00007ffff7b0f77d in do_call (f=0x42349b0, throwflag=<value optimized out>) at Python/ceval.c:3924
#26 call_function (f=0x42349b0, throwflag=<value optimized out>) at Python/ceval.c:3729
#27 PyEval_EvalFrameEx (f=0x42349b0, throwflag=<value optimized out>) at Python/ceval.c:2389
#28 0x00007ffff7b10932 in fast_function (f=0x6df240, throwflag=<value optimized out>) at Python/ceval.c:3792
#29 call_function (f=0x6df240, throwflag=<value optimized out>) at Python/ceval.c:3727
#30 PyEval_EvalFrameEx (f=0x6df240, throwflag=<value optimized out>) at Python/ceval.c:2389
#31 0x00007ffff7b11d1d in PyEval_EvalCodeEx (co=0x7ffff2c4f198, globals=<value optimized out>, locals=<value optimized out>, args=0x414f0f8, argcount=<value optimized out>, kws=0x2, kwcount=0, 
    defs=0x7ffff2c587a8, defcount=1, closure=0x0) at Python/ceval.c:2968
```




---

archive/issue_comments_113141.json:
```json
{
    "body": "But examples show, that the actual ring is lost between the calls. Maybe some of the old work arounds (I see some calls of ._ring.activate() in the code) do something wrong here.",
    "created_at": "2011-02-18T15:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113141",
    "user": "AlexanderDreyer"
}
```

But examples show, that the actual ring is lost between the calls. Maybe some of the old work arounds (I see some calls of ._ring.activate() in the code) do something wrong here.



---

archive/issue_comments_113142.json:
```json
{
    "body": "Shall I just remove all calls to activate()? I can give that a try.",
    "created_at": "2011-02-18T16:22:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113142",
    "user": "malb"
}
```

Shall I just remove all calls to activate()? I can give that a try.



---

archive/issue_comments_113143.json:
```json
{
    "body": "I'm no sure whether it cures it alone. It should not pick up null pointers anyway. I think I have to go deeper into the interface code.",
    "created_at": "2011-02-19T01:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113143",
    "user": "AlexanderDreyer"
}
```

I'm no sure whether it cures it alone. It should not pick up null pointers anyway. I think I have to go deeper into the interface code.



---

archive/issue_comments_113144.json:
```json
{
    "body": "There's a \"hack\" in `PBMonom_construct_dd`, which does not work any more. I'll have a deeper look into it.",
    "created_at": "2011-02-20T00:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113144",
    "user": "AlexanderDreyer"
}
```

There's a "hack" in `PBMonom_construct_dd`, which does not work any more. I'll have a deeper look into it.



---

archive/issue_comments_113145.json:
```json
{
    "body": "I fixed all segfaults and failed tests (even from out internal upstream-testsuite). Two tests fill fail, because there's something brocken upstream. I'll fix that in the (hopefully) final release candidate today.",
    "created_at": "2011-02-23T14:18:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113145",
    "user": "AlexanderDreyer"
}
```

I fixed all segfaults and failed tests (even from out internal upstream-testsuite). Two tests fill fail, because there's something brocken upstream. I'll fix that in the (hopefully) final release candidate today.



---

archive/issue_comments_113146.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-02-23T15:23:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113146",
    "user": "AlexanderDreyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_113147.json:
```json
{
    "body": "Here's the next spkg:\nhttp://sage.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.spkg\n\nIt contains the sources of the most recent release candidate of PolyBoRi 0.7, which will probably be the release version.",
    "created_at": "2011-02-23T15:23:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113147",
    "user": "AlexanderDreyer"
}
```

Here's the next spkg:
http://sage.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.spkg

It contains the sources of the most recent release candidate of PolyBoRi 0.7, which will probably be the release version.



---

archive/issue_comments_113148.json:
```json
{
    "body": "I refreshed to patch.",
    "created_at": "2011-02-24T15:22:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113148",
    "user": "AlexanderDreyer"
}
```

I refreshed to patch.



---

archive/issue_comments_113149.json:
```json
{
    "body": "Changing assignee from tbd to AlexanderDreyer.",
    "created_at": "2011-02-24T15:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113149",
    "user": "AlexanderDreyer"
}
```

Changing assignee from tbd to AlexanderDreyer.



---

archive/issue_comments_113150.json:
```json
{
    "body": "Just renamed and rebundled spkg http://sage.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p0.spkg (spkg still contains a tiny patch, therefore, I think, the .p0 extension is necessary.)",
    "created_at": "2011-02-25T11:54:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113150",
    "user": "AlexanderDreyer"
}
```

Just renamed and rebundled spkg http://sage.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p0.spkg (spkg still contains a tiny patch, therefore, I think, the .p0 extension is necessary.)



---

archive/issue_comments_113151.json:
```json
{
    "body": "The attached patch:\n* is rebased to 4.6.2.rc1\n* adds a doctest for `cheap_reductions()`\n* folds all previous patches into one\n\nNote that I set Alexander as `USER` in this patch since he wrote most of the patch. Alexander, if you object to this for some reason let me know.",
    "created_at": "2011-02-27T13:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113151",
    "user": "malb"
}
```

The attached patch:
* is rebased to 4.6.2.rc1
* adds a doctest for `cheap_reductions()`
* folds all previous patches into one

Note that I set Alexander as `USER` in this patch since he wrote most of the patch. Alexander, if you object to this for some reason let me know.



---

archive/issue_comments_113152.json:
```json
{
    "body": "I'll do a build/ptestlong on geom.math and then I think we have a `positive review`.",
    "created_at": "2011-02-27T13:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113152",
    "user": "malb"
}
```

I'll do a build/ptestlong on geom.math and then I think we have a `positive review`.



---

archive/issue_comments_113153.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-02-27T17:59:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113153",
    "user": "malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_113154.json:
```json
{
    "body": "builds & doctests pass on a fresh 4.6.2.rc1.",
    "created_at": "2011-02-27T17:59:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113154",
    "user": "malb"
}
```

builds & doctests pass on a fresh 4.6.2.rc1.



---

archive/issue_comments_113155.json:
```json
{
    "body": "This ticket seems to cause an innocent doctest failure on `sage.math.washington.edu`:\n\n```\nsage -t  -force_lib devel/sage/sage/rings/number_field/number_field.py\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.alpha2/devel/sage-main/sage/rings/number_field/number_field.py\", line 2988:\n    sage: K.selmer_group([K.ideal(2, -a+1), K.ideal(3, a+1), K.ideal(a)], 3)\nExpected:\n    [2, a + 1, a]\nGot:\n    [2, a + 1, -a]\n**********************************************************************\n```\n",
    "created_at": "2011-02-28T13:51:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113155",
    "user": "jdemeyer"
}
```

This ticket seems to cause an innocent doctest failure on `sage.math.washington.edu`:

```
sage -t  -force_lib devel/sage/sage/rings/number_field/number_field.py
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.alpha2/devel/sage-main/sage/rings/number_field/number_field.py", line 2988:
    sage: K.selmer_group([K.ideal(2, -a+1), K.ideal(3, a+1), K.ideal(a)], 3)
Expected:
    [2, a + 1, a]
Got:
    [2, a + 1, -a]
**********************************************************************
```




---

archive/issue_comments_113156.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-02-28T13:51:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113156",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_113157.json:
```json
{
    "body": "Are you sure, this is caused by PolyBoRi?\n\nIn fact, the doctest for selmer_group explicitely says, that `[2, a + 1, -a]` is the expected  result for 64 bit systems.",
    "created_at": "2011-02-28T14:12:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113157",
    "user": "AlexanderDreyer"
}
```

Are you sure, this is caused by PolyBoRi?

In fact, the doctest for selmer_group explicitely says, that `[2, a + 1, -a]` is the expected  result for 64 bit systems.



---

archive/issue_comments_113158.json:
```json
{
    "body": "Replying to [comment:22 AlexanderDreyer]:\n> Are you sure, this is caused by PolyBoRi?\nNo, it is just the most likely suspect from a series of patches. I will do some more testing to track down the problem.\n\n> In fact, the doctest for selmer_group explicitely says, that `[2, a + 1, -a]` is the expected  result for 64 bit systems.\nAgreed, but this result changed by #2329.",
    "created_at": "2011-02-28T14:17:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113158",
    "user": "jdemeyer"
}
```

Replying to [comment:22 AlexanderDreyer]:
> Are you sure, this is caused by PolyBoRi?
No, it is just the most likely suspect from a series of patches. I will do some more testing to track down the problem.

> In fact, the doctest for selmer_group explicitely says, that `[2, a + 1, -a]` is the expected  result for 64 bit systems.
Agreed, but this result changed by #2329.



---

archive/issue_comments_113159.json:
```json
{
    "body": "Replying to [comment:23 jdemeyer]:\n> Replying to [comment:22 AlexanderDreyer]:\n> > Are you sure, this is caused by PolyBoRi?\n> No, it is just the most likely suspect from a series of patches. I will do some more testing to track down the problem.\nNot really, PolyBoRi is only imported into crypto/boolean_function.pyx.\n\nCan I help? Is there a rc for Sage 4.7 somewhere?",
    "created_at": "2011-02-28T14:30:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113159",
    "user": "AlexanderDreyer"
}
```

Replying to [comment:23 jdemeyer]:
> Replying to [comment:22 AlexanderDreyer]:
> > Are you sure, this is caused by PolyBoRi?
> No, it is just the most likely suspect from a series of patches. I will do some more testing to track down the problem.
Not really, PolyBoRi is only imported into crypto/boolean_function.pyx.

Can I help? Is there a rc for Sage 4.7 somewhere?



---

archive/issue_comments_113160.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2011-03-01T12:48:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113160",
    "user": "jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_113161.json:
```json
{
    "body": "You are right, the problem is unrelated to PolyBoRi.",
    "created_at": "2011-03-01T12:48:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113161",
    "user": "jdemeyer"
}
```

You are right, the problem is unrelated to PolyBoRi.



---

archive/issue_comments_113162.json:
```json
{
    "body": "Hi,\n\nit seems I found a regression in the PolyBoRi 0.7.0 update:\n\n\n```python\nsage: B.<a,b,c,d,e,f> = BooleanPolynomialRing()\nsage: F = Ideal(B.random_element() for _ in range(B.ngens()))\nsage: F\nIdeal (a*b + a + b*e + c*e + 1, a + b + c*d + c + 1, a*c + c + d*f + d + 1, a*c + c*f + c + d*f + 1, c*f + c + d + e + 1, a + b*c + b*d + e*f + 1) of Boolean PolynomialRing in a, b, c, d, e, f\nsage: F.groebner_basis()\n\n------------------------------------------------------------\nUnhandled SIGSEGV: A segmentation fault occurred in Sage.\nThis probably occurred because a *compiled* component\nof Sage has a bug in it (typically accessing invalid memory)\nand is not properly wrapped with sig_on(), sig_off().\nYou might want to run Sage under gdb with 'sage -gdb' to debug this.\nSage will now terminate (sorry).\n------------------------------------------------------------\n```\n\n\n**Backtrace**\n\n\n```\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7f192e07c6e0 (LWP 13588)]\nlinalg_step_modified (polys=@0x7ffffaaf3ea0, terms=@0x7ffffaaf3de0, leads_from_strat=@0x7ffffaaf3dc0, log=false, optDrawMatrices=false, matrixPrefix=0x2457108 \"matrix\") at groebner/src/nf.cc:2335\n2335    groebner/src/nf.cc: No such file or directory.\n        in groebner/src/nf.cc\nCurrent language:  auto; currently c++\n(gdb) bt\n#0  linalg_step_modified (polys=@0x7ffffaaf3ea0, terms=@0x7ffffaaf3de0, leads_from_strat=@0x7ffffaaf3dc0, log=false, optDrawMatrices=false, matrixPrefix=0x2457108 \"matrix\") at groebner/src/nf.cc:2335\n#1  0x00007f19020cd4b4 in polybori::groebner::GroebnerStrategy::faugereStepDense (this=0x35ad520, orig_system=<value optimized out>) at groebner/src/nf.cc:2451\n#2  0x00007f1902bda8ed in __pyx_pf_4sage_5rings_10polynomial_5pbori_16GroebnerStrategy_faugere_step_dense (__pyx_v_self=0x35ad510, __pyx_v_v=<value optimized out>) at sage/rings/polynomial/pbori.cpp:32091\n```\n\n\nMore detailed backtrace forthcoming.",
    "created_at": "2011-03-07T18:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113162",
    "user": "malb"
}
```

Hi,

it seems I found a regression in the PolyBoRi 0.7.0 update:


```python
sage: B.<a,b,c,d,e,f> = BooleanPolynomialRing()
sage: F = Ideal(B.random_element() for _ in range(B.ngens()))
sage: F
Ideal (a*b + a + b*e + c*e + 1, a + b + c*d + c + 1, a*c + c + d*f + d + 1, a*c + c*f + c + d*f + 1, c*f + c + d + e + 1, a + b*c + b*d + e*f + 1) of Boolean PolynomialRing in a, b, c, d, e, f
sage: F.groebner_basis()

------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occurred in Sage.
This probably occurred because a *compiled* component
of Sage has a bug in it (typically accessing invalid memory)
and is not properly wrapped with sig_on(), sig_off().
You might want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate (sorry).
------------------------------------------------------------
```


**Backtrace**


```
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x7f192e07c6e0 (LWP 13588)]
linalg_step_modified (polys=@0x7ffffaaf3ea0, terms=@0x7ffffaaf3de0, leads_from_strat=@0x7ffffaaf3dc0, log=false, optDrawMatrices=false, matrixPrefix=0x2457108 "matrix") at groebner/src/nf.cc:2335
2335    groebner/src/nf.cc: No such file or directory.
        in groebner/src/nf.cc
Current language:  auto; currently c++
(gdb) bt
#0  linalg_step_modified (polys=@0x7ffffaaf3ea0, terms=@0x7ffffaaf3de0, leads_from_strat=@0x7ffffaaf3dc0, log=false, optDrawMatrices=false, matrixPrefix=0x2457108 "matrix") at groebner/src/nf.cc:2335
#1  0x00007f19020cd4b4 in polybori::groebner::GroebnerStrategy::faugereStepDense (this=0x35ad520, orig_system=<value optimized out>) at groebner/src/nf.cc:2451
#2  0x00007f1902bda8ed in __pyx_pf_4sage_5rings_10polynomial_5pbori_16GroebnerStrategy_faugere_step_dense (__pyx_v_self=0x35ad510, __pyx_v_v=<value optimized out>) at sage/rings/polynomial/pbori.cpp:32091
```


More detailed backtrace forthcoming.



---

archive/issue_comments_113163.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-03-07T18:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113163",
    "user": "malb"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_113164.json:
```json
{
    "body": "\n```\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7f8af219b6e0 (LWP 16515)]\n0x00007f8ac60d032a in linalg_step_modified (polys=@0x7fff3d788440, terms=@0x7fff3d788380, leads_from_strat=@0x7fff3d788360, log=false, optDrawMatrices=false, matrixPrefix=0x34a85d8 \"matrix\")\n    at groebner/src/nf.cc:2332\n2332                    assert(step1.terms_as_exp[row_start[from_it->second]]==e);\nCurrent language:  auto; currently c++\n```\n\n\nAlexander, does that ring any bells?",
    "created_at": "2011-03-07T18:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113164",
    "user": "malb"
}
```


```
Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x7f8af219b6e0 (LWP 16515)]
0x00007f8ac60d032a in linalg_step_modified (polys=@0x7fff3d788440, terms=@0x7fff3d788380, leads_from_strat=@0x7fff3d788360, log=false, optDrawMatrices=false, matrixPrefix=0x34a85d8 "matrix")
    at groebner/src/nf.cc:2332
2332                    assert(step1.terms_as_exp[row_start[from_it->second]]==e);
Current language:  auto; currently c++
```


Alexander, does that ring any bells?



---

archive/issue_comments_113165.json:
```json
{
    "body": "You have found a bug in PolyBoRi!\nThis issue also occurs using or original interface. It somewhen showed up in the last weeks. I'll check it out.",
    "created_at": "2011-03-07T23:15:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113165",
    "user": "AlexanderDreyer"
}
```

You have found a bug in PolyBoRi!
This issue also occurs using or original interface. It somewhen showed up in the last weeks. I'll check it out.



---

archive/issue_comments_113166.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-03-08T16:20:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113166",
    "user": "AlexanderDreyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_113167.json:
```json
{
    "body": "I fixed that issue (also upstream), and put a revised spkg here:\nhttp://sage.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p1.spkg",
    "created_at": "2011-03-08T16:20:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113167",
    "user": "AlexanderDreyer"
}
```

I fixed that issue (also upstream), and put a revised spkg here:
http://sage.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p1.spkg



---

archive/issue_comments_113168.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-03-08T23:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113168",
    "user": "AlexanderDreyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_113169.json:
```json
{
    "body": "Sorry, this doesn't fix it.",
    "created_at": "2011-03-08T23:57:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113169",
    "user": "AlexanderDreyer"
}
```

Sorry, this doesn't fix it.



---

archive/issue_comments_113170.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-03-09T09:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113170",
    "user": "AlexanderDreyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_113171.json:
```json
{
    "body": "I fixed soem coercion issue, which seem to cause that problem. Next try!",
    "created_at": "2011-03-09T09:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113171",
    "user": "AlexanderDreyer"
}
```

I fixed soem coercion issue, which seem to cause that problem. Next try!



---

archive/issue_comments_113172.json:
```json
{
    "body": "Hi Alexander, shall I try the new SPKG or just the patch?",
    "created_at": "2011-03-09T18:47:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113172",
    "user": "malb"
}
```

Hi Alexander, shall I try the new SPKG or just the patch?



---

archive/issue_comments_113173.json:
```json
{
    "body": "The spkg also fixes some minor issue, so please check the new spkg and both patches (did not fold them yet).",
    "created_at": "2011-03-09T19:24:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113173",
    "user": "AlexanderDreyer"
}
```

The spkg also fixes some minor issue, so please check the new spkg and both patches (did not fold them yet).



---

archive/issue_comments_113174.json:
```json
{
    "body": "* I couldn't apply your patch, so I copied the stuff over by hand and included it in the main patch\n  * I added a doctest to check that the bug is indeed fixed (it is)\n  * I cleaned up the SPKG somewhat (updated `SPKG.txt` + removed `spkg-install~`)\n  * builds + passes tests for me\n\nAlexander, since I touched it now, I think you need to do the final sign-off: i.e. you should check whether my patches are okay. If you think so, you set the **positive review** flag.",
    "created_at": "2011-03-10T14:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113174",
    "user": "malb"
}
```

* I couldn't apply your patch, so I copied the stuff over by hand and included it in the main patch
  * I added a doctest to check that the bug is indeed fixed (it is)
  * I cleaned up the SPKG somewhat (updated `SPKG.txt` + removed `spkg-install~`)
  * builds + passes tests for me

Alexander, since I touched it now, I think you need to do the final sign-off: i.e. you should check whether my patches are okay. If you think so, you set the **positive review** flag.



---

archive/issue_comments_113175.json:
```json
{
    "body": "I wasn't on 4.6.2 yet (compiling now), so I guess, this was the reason why the patch didn't apply. I'll check it as soon as I have 4.6.2 ready.",
    "created_at": "2011-03-10T15:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113175",
    "user": "AlexanderDreyer"
}
```

I wasn't on 4.6.2 yet (compiling now), so I guess, this was the reason why the patch didn't apply. I'll check it as soon as I have 4.6.2 ready.



---

archive/issue_comments_113176.json:
```json
{
    "body": "The last patch applies cleanly to 4.6.2 and passes tests in the `sage/{rings,crypto,libs}` directories. The package and the patch look good to me. I'm switching this to a positive review.\n\nThanks for all the work guys.",
    "created_at": "2011-03-10T16:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113176",
    "user": "burcin"
}
```

The last patch applies cleanly to 4.6.2 and passes tests in the `sage/{rings,crypto,libs}` directories. The package and the patch look good to me. I'm switching this to a positive review.

Thanks for all the work guys.



---

archive/issue_comments_113177.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-03-10T16:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113177",
    "user": "burcin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_113178.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-03-11T01:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113178",
    "user": "AlexanderDreyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_113179.json:
```json
{
    "body": "I'm sorry, I forgot one minor issue with the variable names. (Occurs only if PolyBoRi's built-in frontend ipbori ist used instead of Sage.)",
    "created_at": "2011-03-11T01:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113179",
    "user": "AlexanderDreyer"
}
```

I'm sorry, I forgot one minor issue with the variable names. (Occurs only if PolyBoRi's built-in frontend ipbori ist used instead of Sage.)



---

archive/issue_comments_113180.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-03-11T01:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113180",
    "user": "AlexanderDreyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_113181.json:
```json
{
    "body": "Change looks harmless enough, but can you add a doctest to show its behaviour?",
    "created_at": "2011-03-11T10:52:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113181",
    "user": "malb"
}
```

Change looks harmless enough, but can you add a doctest to show its behaviour?



---

archive/issue_comments_113182.json:
```json
{
    "body": "Noe, problem, the doctest is in attachment:polybori_0_7rev4.patch\n`@`malb since I do not have the permissions: can you replace the main patch with a fold of those three patches?",
    "created_at": "2011-03-13T22:46:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113182",
    "user": "AlexanderDreyer"
}
```

Noe, problem, the doctest is in attachment:polybori_0_7rev4.patch
`@`malb since I do not have the permissions: can you replace the main patch with a fold of those three patches?



---

archive/issue_comments_113183.json:
```json
{
    "body": "Attachment [polybori-0.7.0.p1.patch](tarball://root/attachments/some-uuid/ticket10797/polybori-0.7.0.p1.patch) by malb created at 2011-03-14 16:08:21\n\nAll done.",
    "created_at": "2011-03-14T16:08:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113183",
    "user": "malb"
}
```

Attachment [polybori-0.7.0.p1.patch](tarball://root/attachments/some-uuid/ticket10797/polybori-0.7.0.p1.patch) by malb created at 2011-03-14 16:08:21

All done.



---

archive/issue_comments_113184.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-03-14T16:08:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113184",
    "user": "malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_113185.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-03-17T19:23:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113185",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_113186.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2011-05-04T09:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113186",
    "user": "jdemeyer"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_113187.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2011-05-04T09:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113187",
    "user": "jdemeyer"
}
```

Changing status from closed to new.



---

archive/issue_comments_113188.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2011-05-04T09:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113188",
    "user": "jdemeyer"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_113189.json:
```json
{
    "body": "Changing keywords from \"polybori\" to \"polybori spkg\".",
    "created_at": "2011-05-04T09:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113189",
    "user": "jdemeyer"
}
```

Changing keywords from "polybori" to "polybori spkg".



---

archive/issue_comments_113190.json:
```json
{
    "body": "New spkg with fixed SPKG.txt: [http://boxen.math.washington.edu/home/jdemeyer/spkg/polybori-0.7.0.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/polybori-0.7.0.p1.spkg)",
    "created_at": "2011-05-04T09:19:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113190",
    "user": "jdemeyer"
}
```

New spkg with fixed SPKG.txt: [http://boxen.math.washington.edu/home/jdemeyer/spkg/polybori-0.7.0.p1.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/polybori-0.7.0.p1.spkg)



---

archive/issue_comments_113191.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-05-04T09:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113191",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_113192.json:
```json
{
    "body": "New SPKG.txt needs review.",
    "created_at": "2011-05-04T09:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113192",
    "user": "jdemeyer"
}
```

New SPKG.txt needs review.



---

archive/issue_comments_113193.json:
```json
{
    "body": "Attachment [polybori-SPKG.txt.diff](tarball://root/attachments/some-uuid/ticket10797/polybori-SPKG.txt.diff) by jdemeyer created at 2011-05-04 09:28:57\n\nDiff for SPKG.txt, needs review",
    "created_at": "2011-05-04T09:28:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113193",
    "user": "jdemeyer"
}
```

Attachment [polybori-SPKG.txt.diff](tarball://root/attachments/some-uuid/ticket10797/polybori-SPKG.txt.diff) by jdemeyer created at 2011-05-04 09:28:57

Diff for SPKG.txt, needs review



---

archive/issue_comments_113194.json:
```json
{
    "body": "[attachment:polybori-SPKG.txt.diff] looks fine.",
    "created_at": "2011-05-05T10:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113194",
    "user": "malb"
}
```

[attachment:polybori-SPKG.txt.diff] looks fine.



---

archive/issue_comments_113195.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-05-05T10:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113195",
    "user": "malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_113196.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-05-05T11:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10732",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10732#issuecomment-113196",
    "user": "jdemeyer"
}
```

Resolution: fixed
