# Issue 26441: clean generic_graph.py (part 12) - centrality and distances

archive/issues_026441.json:
```json
{
    "body": "CC:  tscrim chapoton\n\nKeywords: py3, graph\n\nWe clean methods related to\n- clustering: `cluster_triangles`, `clustering_average`, `clustering_coeff`, `cluster_transitivity`\n- centrality: `centrality_betweenness`, `centrality_closeness`\n- paths and distances:  `distance`, `distance_all_pairs`, `eccentricity`, `radius`, `diameter`, `center`, `distance_graph`, `girth`, `periphery`,  `all_paths`, `triangles_count`, `shortest_path`, `shortest_path_length`, `_check_weight_function`, `shortest_paths`, `_path_length`, `shortest_path_lengths`, `shortest_path_all_pairs`, `wiener_index`, `average_distance`, `szeged_index`\n\nApart from PEP8 cleaning, the main changes are:\n- in `cluster_triangles`, we add parameter `implementation` to use faster methods than networkx. We also remove parameter `with_labels` that was neither documented nor used.\n\n- in `eccentricity`: add parameter `vertex_list` to method `eccentricity` of `distances_all_pairs.pyx`. This way we save some calls to `.vertices`. We also fix an error in the ordering of returned values (a doctest was false...).\n\n- `radius`, `center`, `periphery`: replace the long description of the list of algorithm by a forward to method eccentricity\n\n- avoid using `.vertices` and `.edges` without `sort=False` in all these methods except `eccentricity` that uses the default ordering of `.vertices` when no list of vertices is specified.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26678\n\n",
    "created_at": "2018-11-11T12:46:18Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "clean generic_graph.py (part 12) - centrality and distances",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26441",
    "user": "dcoudert"
}
```
CC:  tscrim chapoton

Keywords: py3, graph

We clean methods related to
- clustering: `cluster_triangles`, `clustering_average`, `clustering_coeff`, `cluster_transitivity`
- centrality: `centrality_betweenness`, `centrality_closeness`
- paths and distances:  `distance`, `distance_all_pairs`, `eccentricity`, `radius`, `diameter`, `center`, `distance_graph`, `girth`, `periphery`,  `all_paths`, `triangles_count`, `shortest_path`, `shortest_path_length`, `_check_weight_function`, `shortest_paths`, `_path_length`, `shortest_path_lengths`, `shortest_path_all_pairs`, `wiener_index`, `average_distance`, `szeged_index`

Apart from PEP8 cleaning, the main changes are:
- in `cluster_triangles`, we add parameter `implementation` to use faster methods than networkx. We also remove parameter `with_labels` that was neither documented nor used.

- in `eccentricity`: add parameter `vertex_list` to method `eccentricity` of `distances_all_pairs.pyx`. This way we save some calls to `.vertices`. We also fix an error in the ordering of returned values (a doctest was false...).

- `radius`, `center`, `periphery`: replace the long description of the list of algorithm by a forward to method eccentricity

- avoid using `.vertices` and `.edges` without `sort=False` in all these methods except `eccentricity` that uses the default ordering of `.vertices` when no list of vertices is specified.

Issue created by migration from https://trac.sagemath.org/ticket/26678





---

archive/issue_comments_372120.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-11-11T12:47:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372120",
    "user": "dcoudert"
}
```

New commits:



---

archive/issue_comments_372121.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-11-11T12:47:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372121",
    "user": "dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_372122.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-11-11T15:12:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372122",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_372123.json:
```json
{
    "body": "Now the html doc is build normally.",
    "created_at": "2018-11-11T15:13:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372123",
    "user": "dcoudert"
}
```

Now the html doc is build normally.



---

archive/issue_comments_372124.json:
```json
{
    "body": "Merge conflict, method `szeged_index` is now treated in #26803, and this ticket is way too big. Let's split it in different tickets.",
    "created_at": "2018-12-04T14:48:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372124",
    "user": "dcoudert"
}
```

Merge conflict, method `szeged_index` is now treated in #26803, and this ticket is way too big. Let's split it in different tickets.



---

archive/issue_comments_372125.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-12-04T14:48:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372125",
    "user": "dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_372126.json:
```json
{
    "body": "I have split this ticket into many smaller and independent tickets. Should be easier to review.\n\nSo this ticket becomes a meta-ticket for this group of methods of `generic_graph.py`.",
    "created_at": "2018-12-04T20:15:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372126",
    "user": "dcoudert"
}
```

I have split this ticket into many smaller and independent tickets. Should be easier to review.

So this ticket becomes a meta-ticket for this group of methods of `generic_graph.py`.



---

archive/issue_comments_372127.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-12-04T20:15:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372127",
    "user": "dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_372128.json:
```json
{
    "body": "Changing type from enhancement to task.",
    "created_at": "2018-12-04T20:15:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372128",
    "user": "dcoudert"
}
```

Changing type from enhancement to task.



---

archive/issue_comments_372129.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-02-12T14:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372129",
    "user": "dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_372130.json:
```json
{
    "body": "All tickets have been positively reviewed. I set this ticket to positive review so we can close it. Thanks to all the reviewers !",
    "created_at": "2019-02-12T14:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372130",
    "user": "dcoudert"
}
```

All tickets have been positively reviewed. I set this ticket to positive review so we can close it. Thanks to all the reviewers !



---

archive/issue_comments_372131.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-02-14T19:53:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26441",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26441#issuecomment-372131",
    "user": "vbraun"
}
```

Resolution: fixed
