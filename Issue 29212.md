# Issue 29212: numpy should depend on pkgconf

Issue created by migration from https://trac.sagemath.org/ticket/29449

Original creator: jhpalmieri

Original creation time: 2020-04-02 00:26:11

As the summary says. If I run "make numpy" on a system without its own pkg-config, the build fails. If I install Sage's `pkgconf` first, it works.


---

Comment by jhpalmieri created at 2020-04-02 00:30:31

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2020-04-02 00:30:31

New commits:


---

Comment by mkoeppe created at 2020-04-02 00:34:23

Shouldn't rather `pkgconfig` depend on `pkgconf`?


---

Comment by git created at 2020-04-02 01:07:06

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jhpalmieri created at 2020-04-02 01:08:49

Logically that makes sense, but I only see the problem with numpy. (`pkgconfig` doesn't need `pkgconf` or a system-wide `pkg-config` to build, but it needs it to do anything.)


---

Comment by mkoeppe created at 2020-04-02 01:49:30

Replying to [comment:5 jhpalmieri]:
> Logically that makes sense, but I only see the problem with numpy. (`pkgconfig` doesn't need `pkgconf` or a system-wide `pkg-config` to build, but it needs it to do anything.)
Right. Because `pkgconfig` is a very small package, I don't think we need to distinguish its build-time and run-time dependencies. Adding the dependency there is clearer, even if right now only numpy exposes the problem.


---

Comment by mkoeppe created at 2020-04-02 01:49:30

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2020-04-02 05:27:56

Great, thanks!


---

Comment by vbraun created at 2020-04-09 22:45:19

Resolution: fixed
