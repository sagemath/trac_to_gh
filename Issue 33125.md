# Issue 33125: Support MacLane valuations for number fields with non-integral defining polynomials

Issue created by migration from https://trac.sagemath.org/ticket/33362

Original creator: saraedum

Original creation time: 2022-02-17 01:06:01

Currently, valuations cannot be computed for non-integral extensions:


```
sage: R.<x> = QQ[]
sage: K.<a> = NumberField(x^2 + 1/3)
sage: K.valuation(2)
2-adic valuation
sage: K.valuation(3)
ValueError
```


To implement this, we should teach the PadicValuationFactory to work with non-monic/non-integral polynomials. Likely, we need another factory layer that normalizes the defining polynomial (e.g., by substituting x with x/p) and then returns (if needed) a MappedValuation. A general solution that also works for function fields would be nice here.
