# Issue 29610: Install sage_setup with pip

archive/issues_029610.json:
```json
{
    "body": "CC:  @kiwifb @jhpalmieri @dimpase\n\nsage_setup will be used by the build system of various distutils packages (#29705).\n\nSo we make it a regular distutils package itself and install it with pip.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29847\n\n",
    "created_at": "2020-06-11T02:46:32Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Install sage_setup with pip",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29610",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @kiwifb @jhpalmieri @dimpase

sage_setup will be used by the build system of various distutils packages (#29705).

So we make it a regular distutils package itself and install it with pip.

Issue created by migration from https://trac.sagemath.org/ticket/29847





---

archive/issue_comments_419982.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2020-06-14T05:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419982",
    "user": "https://github.com/mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_419983.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-06-14T05:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419983",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_419984.json:
```json
{
    "body": "\n```\n[sagelib-9.1.rc5] running build\n[sagelib-9.1.rc5] Generating auto-generated sources\n[sagelib-9.1.rc5] Building interpreters for fast_callable\n[sagelib-9.1.rc5] -> Rebuilding interpreters because /Users/mkoeppe/s/sage/sage-rebasing/src/sage_setup/autogen/interpreters/memory.py changed\n[sagelib-9.1.rc5] running build_cython\n[sagelib-9.1.rc5] Enabling Cython debugging support\n[sagelib-9.1.rc5] Updating Cython code....\n[sagelib-9.1.rc5] Compiling sage/algebras/finite_dimensional_algebras/finite_dimensional_algebra_element.pyx because it changed.\n[sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'\n```\n\n\nHm....",
    "created_at": "2020-06-21T02:29:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419984",
    "user": "https://github.com/mkoeppe"
}
```


```
[sagelib-9.1.rc5] running build
[sagelib-9.1.rc5] Generating auto-generated sources
[sagelib-9.1.rc5] Building interpreters for fast_callable
[sagelib-9.1.rc5] -> Rebuilding interpreters because /Users/mkoeppe/s/sage/sage-rebasing/src/sage_setup/autogen/interpreters/memory.py changed
[sagelib-9.1.rc5] running build_cython
[sagelib-9.1.rc5] Enabling Cython debugging support
[sagelib-9.1.rc5] Updating Cython code....
[sagelib-9.1.rc5] Compiling sage/algebras/finite_dimensional_algebras/finite_dimensional_algebra_element.pyx because it changed.
[sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'
```


Hm....



---

archive/issue_comments_419985.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-21T02:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419985",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419986.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-24T01:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419986",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419987.json:
```json
{
    "body": "Replying to [comment:24 mkoeppe]:\n> {{{\n> [sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'\n> }}}\n> \n> Hm....\n\nThat was coming from the mistake in #29855.",
    "created_at": "2020-06-24T01:44:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419987",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:24 mkoeppe]:
> {{{
> [sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'
> }}}
> 
> Hm....

That was coming from the mistake in #29855.



---

archive/issue_comments_419988.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-24T02:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419988",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419989.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-24T04:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419989",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419990.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-24T04:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419990",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419991.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-25T19:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419991",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_419992.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-27T19:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419992",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419993.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-28T01:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419993",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419994.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-28T02:03:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419994",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419995.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-28T04:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419995",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419996.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-28T04:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419996",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419997.json:
```json
{
    "body": "should we wait for  #29855, #30011 merged?",
    "created_at": "2020-07-08T10:57:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419997",
    "user": "https://github.com/dimpase"
}
```

should we wait for  #29855, #30011 merged?



---

archive/issue_comments_419998.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-08T15:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419998",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_419999.json:
```json
{
    "body": "This ticket is not so urgent (I've set its milestone to 9.3)",
    "created_at": "2020-07-08T15:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-419999",
    "user": "https://github.com/mkoeppe"
}
```

This ticket is not so urgent (I've set its milestone to 9.3)



---

archive/issue_comments_420000.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-07-13T21:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420000",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_420001.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-09-08T23:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420001",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_420002.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-09-08T23:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420002",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_420003.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-08T23:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420003",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420004.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-09T00:39:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420004",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420005.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd111\".",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420005",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "sd111".



---

archive/issue_comments_420006.json:
```json
{
    "body": "Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420006",
    "user": "https://github.com/mkoeppe"
}
```

Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_comments_420007.json:
```json
{
    "body": "Needs rebase.",
    "created_at": "2020-12-09T18:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420007",
    "user": "https://github.com/kliem"
}
```

Needs rebase.



---

archive/issue_comments_420008.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-12-09T18:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420008",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_420009.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-06-25T00:58:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420009",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_420010.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-25T01:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420010",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420011.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-25T01:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420011",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420012.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-06-25T02:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420012",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_420013.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-25T02:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420013",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420014.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-06-25T04:09:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420014",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_420015.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-25T04:43:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420015",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420016.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-29T15:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420016",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_420017.json:
```json
{
    "body": "ok, fine",
    "created_at": "2021-06-29T15:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420017",
    "user": "https://github.com/dimpase"
}
```

ok, fine



---

archive/issue_comments_420018.json:
```json
{
    "body": "Thanks!",
    "created_at": "2021-06-29T15:48:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420018",
    "user": "https://github.com/mkoeppe"
}
```

Thanks!



---

archive/issue_comments_420019.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-07-01T22:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420019",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_420020.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-07-01T22:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420020",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_420021.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-01T22:08:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420021",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_420022.json:
```json
{
    "body": "\n```\n***********************************************\nmake[1]: Entering directory '/home/release/Sage/build/make'\nmake --no-print-directory sagelib-SAGE_VENV-no-deps\ncd '/home/release/Sage/build/pkgs/sagelib' && . '/home/release/Sage/src/bin/sage-src-env-config' && . '/home/release/Sage/src/bin/sage-env-config' && . '/home/release/Sage/src/bin/sage-env' && . '/home/release/Sage/build/bin/sage-build-env-config' && . '/home/release/Sage/build/bin/sage-build-env' && SAGE_SPKG_WHEELS=/home/release/Sage/local/var/lib/sage/wheels SAGE_INST_LOCAL=/home/release/Sage/local sage-logger -p '/home/release/Sage/build/pkgs/sagelib/spkg-install' '/home/release/Sage/logs/pkgs/sagelib-9.4.beta4.log'\n[sagelib-9.4.beta4] Traceback (most recent call last):\n[sagelib-9.4.beta4]   File \"/home/release/Sage/pkgs/sagemath-standard/setup.py\", line 31, in <module>\n[sagelib-9.4.beta4]     from sage_setup.excepthook import excepthook\n[sagelib-9.4.beta4] ModuleNotFoundError: No module named 'sage_setup.excepthook'\n[sagelib-9.4.beta4] \n[sagelib-9.4.beta4] real\t0m0.140s\n[sagelib-9.4.beta4] user\t0m0.121s\n[sagelib-9.4.beta4] sys\t0m0.017s\nmake[2]: *** [Makefile:2693: sagelib-SAGE_VENV-no-deps] Error 1\nmake[1]: *** [Makefile:2693: /home/release/Sage/local/var/lib/sage/installed/sagelib-9.4.beta4] Error 2\nmake[1]: Leaving directory '/home/release/Sage/build/make'\n\nreal\t0m0.257s\nuser\t0m0.222s\nsys\t0m0.037s\n***************************************************************\nError building Sage.\n\n```\n",
    "created_at": "2021-07-08T21:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420022",
    "user": "https://github.com/vbraun"
}
```


```
***********************************************
make[1]: Entering directory '/home/release/Sage/build/make'
make --no-print-directory sagelib-SAGE_VENV-no-deps
cd '/home/release/Sage/build/pkgs/sagelib' && . '/home/release/Sage/src/bin/sage-src-env-config' && . '/home/release/Sage/src/bin/sage-env-config' && . '/home/release/Sage/src/bin/sage-env' && . '/home/release/Sage/build/bin/sage-build-env-config' && . '/home/release/Sage/build/bin/sage-build-env' && SAGE_SPKG_WHEELS=/home/release/Sage/local/var/lib/sage/wheels SAGE_INST_LOCAL=/home/release/Sage/local sage-logger -p '/home/release/Sage/build/pkgs/sagelib/spkg-install' '/home/release/Sage/logs/pkgs/sagelib-9.4.beta4.log'
[sagelib-9.4.beta4] Traceback (most recent call last):
[sagelib-9.4.beta4]   File "/home/release/Sage/pkgs/sagemath-standard/setup.py", line 31, in <module>
[sagelib-9.4.beta4]     from sage_setup.excepthook import excepthook
[sagelib-9.4.beta4] ModuleNotFoundError: No module named 'sage_setup.excepthook'
[sagelib-9.4.beta4] 
[sagelib-9.4.beta4] real	0m0.140s
[sagelib-9.4.beta4] user	0m0.121s
[sagelib-9.4.beta4] sys	0m0.017s
make[2]: *** [Makefile:2693: sagelib-SAGE_VENV-no-deps] Error 1
make[1]: *** [Makefile:2693: /home/release/Sage/local/var/lib/sage/installed/sagelib-9.4.beta4] Error 2
make[1]: Leaving directory '/home/release/Sage/build/make'

real	0m0.257s
user	0m0.222s
sys	0m0.037s
***************************************************************
Error building Sage.

```




---

archive/issue_comments_420023.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-07-08T21:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420023",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_420024.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-19T01:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420024",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420025.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-19T02:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420025",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_420026.json:
```json
{
    "body": "I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.",
    "created_at": "2021-07-19T02:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420026",
    "user": "https://github.com/mkoeppe"
}
```

I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.



---

archive/issue_comments_420027.json:
```json
{
    "body": "I don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings:\n\n```\nm4/sage_spkg_configures.m4:513: warning: The macro `AC_PROG_CC_C99' is obsolete.\nm4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:530: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_RUN' is obsolete.\nm4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_LINK' is obsolete.\nconfigure.ac:447: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l \"$SAGE_SPKG_INST/$SPKG_NAME\"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \\\"$srcdir/configure\\\"])\n```\n",
    "created_at": "2021-07-21T00:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420027",
    "user": "https://github.com/jhpalmieri"
}
```

I don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings:

```
m4/sage_spkg_configures.m4:513: warning: The macro `AC_PROG_CC_C99' is obsolete.
m4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:530: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_RUN' is obsolete.
m4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_LINK' is obsolete.
configure.ac:447: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l "$SAGE_SPKG_INST/$SPKG_NAME"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \"$srcdir/configure\"])
```




---

archive/issue_comments_420028.json:
```json
{
    "body": "Replying to [comment:76 mkoeppe]:\n> I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.\n\nIn the meantime, are you waiting for more information from Volker, or should this go back to \"positive review\"?",
    "created_at": "2021-07-21T00:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420028",
    "user": "https://github.com/jhpalmieri"
}
```

Replying to [comment:76 mkoeppe]:
> I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.

In the meantime, are you waiting for more information from Volker, or should this go back to "positive review"?



---

archive/issue_comments_420029.json:
```json
{
    "body": "Replying to [comment:77 jhpalmieri]:\n> I don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings\nI think this is #30668",
    "created_at": "2021-07-21T00:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420029",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:77 jhpalmieri]:
> I don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings
I think this is #30668



---

archive/issue_comments_420030.json:
```json
{
    "body": "Replying to [comment:78 jhpalmieri]:\n> Replying to [comment:76 mkoeppe]:\n> > I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.\n> \n> In the meantime, are you waiting for more information from Volker, or should this go back to \"positive review\"?\n\nLet's do \"positive review\". Easier to run it just as part of Volker's integration tests.",
    "created_at": "2021-07-21T00:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420030",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:78 jhpalmieri]:
> Replying to [comment:76 mkoeppe]:
> > I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.
> 
> In the meantime, are you waiting for more information from Volker, or should this go back to "positive review"?

Let's do "positive review". Easier to run it just as part of Volker's integration tests.



---

archive/issue_comments_420031.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-21T13:15:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420031",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_420032.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2021-07-23T22:05:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420032",
    "user": "https://github.com/vbraun"
}
```

Merge conflict



---

archive/issue_comments_420033.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-07-23T22:05:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420033",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_420034.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-07-24T01:39:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420034",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_420035.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2021-07-24T01:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420035",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_420036.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-07-24T19:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_420037.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-07-24T19:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420037",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_420038.json:
```json
{
    "body": "The branch already contained a part of #32046 but the dependency was not recorded. Fully merged the latest version of #32046. I think we can defer this ticket to 9.5",
    "created_at": "2021-07-24T19:23:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420038",
    "user": "https://github.com/mkoeppe"
}
```

The branch already contained a part of #32046 but the dependency was not recorded. Fully merged the latest version of #32046. I think we can defer this ticket to 9.5



---

archive/issue_comments_420039.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-12T21:14:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420039",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420040.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-12T22:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420040",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420041.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-13T00:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420041",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420042.json:
```json
{
    "body": "I'm getting a lot of doctest failures:\n\n```\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/utils.py  # 15 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/find.py  # 38 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rdf.py  # 11 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/optional_extension.py  # 12 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/__init__.py  # 5 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/generator.py  # 70 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/clean.py  # 13 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/storage.py  # 97 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/memory.py  # 57 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cdf.py  # 9 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cc.py  # 20 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/python.py  # 25 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/instructions.py  # 39 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rr.py  # 21 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/base.py  # 22 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/element.py  # 11 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/util.py  # 6 doctests failed\n```\n\nThe directory `local/lib/python3.9/site-packages/sage_setup` doesn't have much in it anymore, and I'm guessing that this causes the problems.",
    "created_at": "2021-08-16T23:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420042",
    "user": "https://github.com/jhpalmieri"
}
```

I'm getting a lot of doctest failures:

```
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/utils.py  # 15 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/find.py  # 38 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rdf.py  # 11 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/optional_extension.py  # 12 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/__init__.py  # 5 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/generator.py  # 70 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/clean.py  # 13 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/storage.py  # 97 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/memory.py  # 57 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cdf.py  # 9 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cc.py  # 20 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/python.py  # 25 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/instructions.py  # 39 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rr.py  # 21 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/base.py  # 22 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/element.py  # 11 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/util.py  # 6 doctests failed
```

The directory `local/lib/python3.9/site-packages/sage_setup` doesn't have much in it anymore, and I'm guessing that this causes the problems.



---

archive/issue_comments_420043.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-09-03T22:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420043",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_420044.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-03T23:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420044",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420045.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-09-03T23:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420045",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_420046.json:
```json
{
    "body": "Thanks for catching this. When `configure --enable-editable` is not used, the \"cleaner\" erased `sage_setup`'s files at the end of the sagelib installation. Fixed now, tamed the cleaner.",
    "created_at": "2021-09-03T23:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420046",
    "user": "https://github.com/mkoeppe"
}
```

Thanks for catching this. When `configure --enable-editable` is not used, the "cleaner" erased `sage_setup`'s files at the end of the sagelib installation. Fixed now, tamed the cleaner.



---

archive/issue_comments_420047.json:
```json
{
    "body": "seems to work for me (without `--enable-editable`).",
    "created_at": "2021-09-07T17:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420047",
    "user": "https://github.com/dimpase"
}
```

seems to work for me (without `--enable-editable`).



---

archive/issue_comments_420048.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-07T17:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420048",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_420049.json:
```json
{
    "body": "Thank you!",
    "created_at": "2021-09-07T18:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420049",
    "user": "https://github.com/mkoeppe"
}
```

Thank you!



---

archive/issue_events_027325.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-09-13T22:22:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29610#event-27325"
}
```



---

archive/issue_comments_420050.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-09-13T22:22:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29610",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29610#issuecomment-420050",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
