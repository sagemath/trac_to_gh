# Issue 12612: Add comment to deps explaining dependency of cvxopt on matplotlib

archive/issues_012612.json:
```json
{
    "body": "Assignee: GeorgSWeber\n\nAs the summary says. The change to deps was made in #12742.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12784\n\n",
    "created_at": "2012-03-29T19:07:52Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Add comment to deps explaining dependency of cvxopt on matplotlib",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12612",
    "user": "https://github.com/jhpalmieri"
}
```
Assignee: GeorgSWeber

As the summary says. The change to deps was made in #12742.

Issue created by migration from https://trac.sagemath.org/ticket/12784





---

archive/issue_comments_149787.json:
```json
{
    "body": "root repo",
    "created_at": "2012-03-29T19:08:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12612#issuecomment-149787",
    "user": "https://github.com/jhpalmieri"
}
```

root repo



---

archive/issue_comments_149788.json:
```json
{
    "body": "Attachment [trac_12784-cvxopt-deps.patch](tarball://root/attachments/some-uuid/ticket12784/trac_12784-cvxopt-deps.patch) by @jhpalmieri created at 2012-03-29 19:08:34",
    "created_at": "2012-03-29T19:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12612#issuecomment-149788",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_12784-cvxopt-deps.patch](tarball://root/attachments/some-uuid/ticket12784/trac_12784-cvxopt-deps.patch) by @jhpalmieri created at 2012-03-29 19:08:34



---

archive/issue_comments_149789.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-03-29T19:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12612#issuecomment-149789",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_149790.json:
```json
{
    "body": "Is there anything to review here?  I read the sage-devel thing, and I don't see why this wouldn't take care of the issue.  But I don't want to get in trouble with those worried about (re)build times...\n\nAlthough I should point out \n\n```\nsage: hg_root.apply('http://trac.sagemath.org/sage_trac/raw-attachment/ticket/12784/trac_12784-cvxopt-deps.patch')\nAttempting to load remote file: http://trac.sagemath.org/sage_trac/raw-attachment/ticket/12784/trac_12784-cvxopt-deps.patch\nLoading: [.]\ncd \"/Users/.../sage-5.0.beta11\" && sage --hg import   \"/Users/.../40120/tmp_0.patch\"\napplying /Users/.../40120/tmp_0.patch\npatching file spkg/standard/deps\nHunk #1 FAILED at 544\n1 out of 1 hunks FAILED -- saving rejects to file spkg/standard/deps.rej\nabort: patch failed to apply\n```\n\nI think due to the formatting of the patch file for some reason.\n\n```\n\ndiff --git a/spkg/standard/deps b/spkg/standard/deps\n--- a/spkg/standard/deps\n+++ b/spkg/standard/deps\n@@ -545,6 +545,7 @@ SAGERUNTIME = $(INST)/$(SAGE_SCRIPTS) $(\n \t\t  $(INST)/$(LAPACK) $(INST)/$(BLAS) $(INST)/$(NUMPY) $(INST)/$(PATCH)\n```\n\nshould the `SAGERUNTIME` be in the same line as the ``@``@``?",
    "created_at": "2012-03-29T20:39:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12612#issuecomment-149790",
    "user": "https://github.com/kcrisman"
}
```

Is there anything to review here?  I read the sage-devel thing, and I don't see why this wouldn't take care of the issue.  But I don't want to get in trouble with those worried about (re)build times...

Although I should point out 

```
sage: hg_root.apply('http://trac.sagemath.org/sage_trac/raw-attachment/ticket/12784/trac_12784-cvxopt-deps.patch')
Attempting to load remote file: http://trac.sagemath.org/sage_trac/raw-attachment/ticket/12784/trac_12784-cvxopt-deps.patch
Loading: [.]
cd "/Users/.../sage-5.0.beta11" && sage --hg import   "/Users/.../40120/tmp_0.patch"
applying /Users/.../40120/tmp_0.patch
patching file spkg/standard/deps
Hunk #1 FAILED at 544
1 out of 1 hunks FAILED -- saving rejects to file spkg/standard/deps.rej
abort: patch failed to apply
```

I think due to the formatting of the patch file for some reason.

```

diff --git a/spkg/standard/deps b/spkg/standard/deps
--- a/spkg/standard/deps
+++ b/spkg/standard/deps
@@ -545,6 +545,7 @@ SAGERUNTIME = $(INST)/$(SAGE_SCRIPTS) $(
 		  $(INST)/$(LAPACK) $(INST)/$(BLAS) $(INST)/$(NUMPY) $(INST)/$(PATCH)
```

should the `SAGERUNTIME` be in the same line as the ``@``@``?



---

archive/issue_comments_149791.json:
```json
{
    "body": "Did you apply the patch from #12742 first?",
    "created_at": "2012-03-29T20:48:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12612#issuecomment-149791",
    "user": "https://github.com/jhpalmieri"
}
```

Did you apply the patch from #12742 first?



---

archive/issue_comments_149792.json:
```json
{
    "body": "I guess?  I used 5.0.beta11, where it says it was merged...",
    "created_at": "2012-03-30T00:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12612#issuecomment-149792",
    "user": "https://github.com/kcrisman"
}
```

I guess?  I used 5.0.beta11, where it says it was merged...



---

archive/issue_comments_149793.json:
```json
{
    "body": "Oh, I see, my patch also depends on #12369 (which removes fortran as a dependency of cvxopt, since it removes the fortran package altogether).  Here's a new patch.",
    "created_at": "2012-03-30T21:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12612#issuecomment-149793",
    "user": "https://github.com/jhpalmieri"
}
```

Oh, I see, my patch also depends on #12369 (which removes fortran as a dependency of cvxopt, since it removes the fortran package altogether).  Here's a new patch.



---

archive/issue_comments_149794.json:
```json
{
    "body": "Attachment [trac_12784-cvxopt-deps-pre12369.patch](tarball://root/attachments/some-uuid/ticket12784/trac_12784-cvxopt-deps-pre12369.patch) by @jhpalmieri created at 2012-03-30 21:07:32\n\napply to root repo; does not depend on #12369",
    "created_at": "2012-03-30T21:07:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12612#issuecomment-149794",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_12784-cvxopt-deps-pre12369.patch](tarball://root/attachments/some-uuid/ticket12784/trac_12784-cvxopt-deps-pre12369.patch) by @jhpalmieri created at 2012-03-30 21:07:32

apply to root repo; does not depend on #12369



---

archive/issue_comments_149795.json:
```json
{
    "body": "Okay, this applies fine, says what is needed, is similar to the comments already existing for e.g. SageTeX, and the only change between these two patches is the rather obvious loss of Fortran as a dependency since we now will have that either as a prereq or build gcc with it.  So either one looks good.",
    "created_at": "2012-04-01T02:15:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12612#issuecomment-149795",
    "user": "https://github.com/kcrisman"
}
```

Okay, this applies fine, says what is needed, is similar to the comments already existing for e.g. SageTeX, and the only change between these two patches is the rather obvious loss of Fortran as a dependency since we now will have that either as a prereq or build gcc with it.  So either one looks good.



---

archive/issue_comments_149796.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-04-01T02:15:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12612#issuecomment-149796",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_149797.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-04-07T15:09:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12612",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12612#issuecomment-149797",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
