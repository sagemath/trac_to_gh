# Issue 12612: Add comment to deps explaining dependency of cvxopt on matplotlib

Issue created by migration from https://trac.sagemath.org/ticket/12784

Original creator: jhpalmieri

Original creation time: 2012-03-29 19:07:52

Assignee: GeorgSWeber

As the summary says. The change to deps was made in #12742.


---

Comment by jhpalmieri created at 2012-03-29 19:08:21

root repo


---

Attachment


---

Comment by jhpalmieri created at 2012-03-29 19:08:34

Changing status from new to needs_review.


---

Comment by kcrisman created at 2012-03-29 20:39:49

Is there anything to review here?  I read the sage-devel thing, and I don't see why this wouldn't take care of the issue.  But I don't want to get in trouble with those worried about (re)build times...

Although I should point out 

```
sage: hg_root.apply('http://trac.sagemath.org/sage_trac/raw-attachment/ticket/12784/trac_12784-cvxopt-deps.patch')
Attempting to load remote file: http://trac.sagemath.org/sage_trac/raw-attachment/ticket/12784/trac_12784-cvxopt-deps.patch
Loading: [.]
cd "/Users/.../sage-5.0.beta11" && sage --hg import   "/Users/.../40120/tmp_0.patch"
applying /Users/.../40120/tmp_0.patch
patching file spkg/standard/deps
Hunk #1 FAILED at 544
1 out of 1 hunks FAILED -- saving rejects to file spkg/standard/deps.rej
abort: patch failed to apply
```

I think due to the formatting of the patch file for some reason.

```

diff --git a/spkg/standard/deps b/spkg/standard/deps
--- a/spkg/standard/deps
+++ b/spkg/standard/deps
@@ -545,6 +545,7 @@ SAGERUNTIME = $(INST)/$(SAGE_SCRIPTS) $(
 		  $(INST)/$(LAPACK) $(INST)/$(BLAS) $(INST)/$(NUMPY) $(INST)/$(PATCH)
```

should the `SAGERUNTIME` be in the same line as the ``@``@``?


---

Comment by jhpalmieri created at 2012-03-29 20:48:00

Did you apply the patch from #12742 first?


---

Comment by kcrisman created at 2012-03-30 00:47:32

I guess?  I used 5.0.beta11, where it says it was merged...


---

Comment by jhpalmieri created at 2012-03-30 21:07:10

Oh, I see, my patch also depends on #12369 (which removes fortran as a dependency of cvxopt, since it removes the fortran package altogether).  Here's a new patch.


---

Attachment

apply to root repo; does not depend on #12369


---

Comment by kcrisman created at 2012-04-01 02:15:29

Okay, this applies fine, says what is needed, is similar to the comments already existing for e.g. SageTeX, and the only change between these two patches is the rather obvious loss of Fortran as a dependency since we now will have that either as a prereq or build gcc with it.  So either one looks good.


---

Comment by kcrisman created at 2012-04-01 02:15:29

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-04-07 15:09:39

Resolution: fixed
