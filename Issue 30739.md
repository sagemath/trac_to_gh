# Issue 30739: incidence_structures.py tries to import 'warn' from the wrong module

Issue created by migration from https://trac.sagemath.org/ticket/30976

Original creator: @DaveWitteMorris

Original creation time: 2020-11-29 20:05:01

Keywords: latex, warning

The file `combinat/designs/incidence_structures.py` tries to import the `warn` function from `sage.misc.misc`, but this function is actually in the `warnings` module.

```
sage: I = IncidenceStructure([1,2,3], [[1,2], [2,3]])
sage: view(I)
ImportError                Traceback (most recent call last)
.../site-packages/sage/combinat/designs/incidence_structures.py in _latex_(self)
   2187         from sage.functions.trig import arctan2
   2188 
-> 2189         from sage.misc.misc import warn
   2190         warn("\nThe hypergraph is drawn as a set of closed curves. The curve "
   2191              "representing a set S go **THROUGH** the points contained "
ImportError: cannot import name 'warn' from 'sage.misc.misc' (/ext/sage/sage-9.2/local/lib/python3.8/site-packages/sage/misc/misc.py)
```

As far as I can tell, no other source file makes this mistake.


---

Comment by git created at 2020-11-29 20:12:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @DaveWitteMorris created at 2020-11-29 20:13:39

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-11-29 20:21:39

Changing status from needs_review to positive_review.


---

Comment by git created at 2020-11-30 00:56:04

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2020-11-30 00:56:04

Changing status from positive_review to needs_review.


---

Comment by @DaveWitteMorris created at 2020-11-30 00:57:47

Fixed doctest failure (patchbot does not have Tikz) and pyflakes error (`TEST::` should have been plural.)


---

Comment by mkoeppe created at 2020-11-30 03:36:03

Changing status from needs_review to positive_review.


---

Comment by @DaveWitteMorris created at 2020-11-30 03:40:36

Thanks for the prompt reviews!


---

Comment by vbraun created at 2020-12-06 12:49:18

Resolution: fixed
