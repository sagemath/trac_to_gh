# Issue 31238: 1 internet doctest failing in src/sage/tests/cmdline.py

archive/issues_031238.json:
```json
{
    "body": "CC:  slelievre tmonteil mkauers mmezzarobba\n\nOn Ubuntu 18.04, running `SageMath version 9.3.beta8, Release Date: 2021-03-07`, the command\n\n\n```\nsage -t --optional=sage,internet src/sage/tests/cmdline.py\n```\n\ngives\n\n```\nsage -t --warn-long 74.8 --random-seed=0 src/sage/tests/cmdline.py\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 606, in sage.tests.cmdline.test_executable\nFailed example:\n    err  # optional - internet\nExpected:\n    ''\nGot:\n    '/home/slabbe/GitBox/sage/local/lib/python3.8/site-packages/sage/misc/package.py:114: UserWarning: failed to fetch the version of pkg=\\'ore_algebra\\' at https://pypi.org/pypi/ore_algebra/json\\n  warnings.warn(\"failed to fetch the version of pkg={!r} at {}\".format(pkg, url))\\n'\n**********************************************************************\n1 item had failures:\n   1 of 229 in sage.tests.cmdline.test_executable\n    [228 tests, 1 failure, 28.69 s]\n----------------------------------------------------------------------\nsage -t --warn-long 74.8 --random-seed=0 src/sage/tests/cmdline.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/31475\n\n",
    "created_at": "2021-03-09T16:22:47Z",
    "labels": [
        "doctest coverage",
        "major",
        "bug"
    ],
    "title": "1 internet doctest failing in src/sage/tests/cmdline.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31238",
    "user": "slabbe"
}
```
CC:  slelievre tmonteil mkauers mmezzarobba

On Ubuntu 18.04, running `SageMath version 9.3.beta8, Release Date: 2021-03-07`, the command


```
sage -t --optional=sage,internet src/sage/tests/cmdline.py
```

gives

```
sage -t --warn-long 74.8 --random-seed=0 src/sage/tests/cmdline.py
**********************************************************************
File "src/sage/tests/cmdline.py", line 606, in sage.tests.cmdline.test_executable
Failed example:
    err  # optional - internet
Expected:
    ''
Got:
    '/home/slabbe/GitBox/sage/local/lib/python3.8/site-packages/sage/misc/package.py:114: UserWarning: failed to fetch the version of pkg=\'ore_algebra\' at https://pypi.org/pypi/ore_algebra/json\n  warnings.warn("failed to fetch the version of pkg={!r} at {}".format(pkg, url))\n'
**********************************************************************
1 item had failures:
   1 of 229 in sage.tests.cmdline.test_executable
    [228 tests, 1 failure, 28.69 s]
----------------------------------------------------------------------
sage -t --warn-long 74.8 --random-seed=0 src/sage/tests/cmdline.py  # 1 doctest failed
----------------------------------------------------------------------
```


Issue created by migration from https://trac.sagemath.org/ticket/31475





---

archive/issue_comments_446504.json:
```json
{
    "body": "Salut Samuel, \u00e7a ressemble \u00e0 du code qu'on avait chang\u00e9 dans un autre ticket. \u00c7a te dit quelque chose?",
    "created_at": "2021-03-09T16:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31238#issuecomment-446504",
    "user": "slabbe"
}
```

Salut Samuel, ça ressemble à du code qu'on avait changé dans un autre ticket. Ça te dit quelque chose?



---

archive/issue_comments_446505.json:
```json
{
    "body": "This can be fixed by convincing the author of the `ore_algebra` package to make a proper release on PyPI and then updating `build/pkgs/ore_algebra/requirements.txt`",
    "created_at": "2021-03-09T17:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31238#issuecomment-446505",
    "user": "mkoeppe"
}
```

This can be fixed by convincing the author of the `ore_algebra` package to make a proper release on PyPI and then updating `build/pkgs/ore_algebra/requirements.txt`



---

archive/issue_comments_446506.json:
```json
{
    "body": "Replying to [comment:5 mkoeppe]:\n> This can be fixed by convincing the author of the `ore_algebra` package to make a proper release on PyPI and then updating `build/pkgs/ore_algebra/requirements.txt`\n\nLet me add them in CC.\n\nWe could also stop assuming that pip installed package come from PyPI, which offers more flexibility to downstream.",
    "created_at": "2021-03-09T18:28:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31238#issuecomment-446506",
    "user": "tmonteil"
}
```

Replying to [comment:5 mkoeppe]:
> This can be fixed by convincing the author of the `ore_algebra` package to make a proper release on PyPI and then updating `build/pkgs/ore_algebra/requirements.txt`

Let me add them in CC.

We could also stop assuming that pip installed package come from PyPI, which offers more flexibility to downstream.



---

archive/issue_comments_446507.json:
```json
{
    "body": "Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31238",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31238#issuecomment-446507",
    "user": "mkoeppe"
}
```

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.
