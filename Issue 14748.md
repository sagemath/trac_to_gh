# Issue 14748: Let zlib 1.2.8 build on Cygwin

archive/issues_014748.json:
```json
{
    "body": "CC:  jdemeyer tscrim\n\nThe update from 1.2.6 to 1.2.8 broke building on Cygwin because of calls to the gzopen_w function introduced in 1.2.7 and unavailable on Cygwin.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14985\n\n",
    "created_at": "2013-07-30T20:29:12Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "title": "Let zlib 1.2.8 build on Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14748",
    "user": "jpflori"
}
```
CC:  jdemeyer tscrim

The update from 1.2.6 to 1.2.8 broke building on Cygwin because of calls to the gzopen_w function introduced in 1.2.7 and unavailable on Cygwin.

Issue created by migration from https://trac.sagemath.org/ticket/14985





---

archive/issue_comments_187997.json:
```json
{
    "body": "See http://trac.sagemath.org/ticket/14661#comment:6 for the original report.",
    "created_at": "2013-07-30T20:29:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-187997",
    "user": "jpflori"
}
```

See http://trac.sagemath.org/ticket/14661#comment:6 for the original report.



---

archive/issue_comments_187998.json:
```json
{
    "body": "See https://github.com/madler/zlib/issues/45 on upstream bugtracker.",
    "created_at": "2013-07-30T20:34:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-187998",
    "user": "jpflori"
}
```

See https://github.com/madler/zlib/issues/45 on upstream bugtracker.



---

archive/issue_comments_187999.json:
```json
{
    "body": "Maybe we could make this a blocker for 5.11?\nNote that different fixes are already proposed on the upstream bugtracker, so that crafting an spkg will not take ages.\n\nI'm sorry I had no time to test the 5.10 rc's on Cygwin and let that go in...\nlet's try to release a 5.11 version compilable on Cygwin(32)!",
    "created_at": "2013-07-31T22:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-187999",
    "user": "jpflori"
}
```

Maybe we could make this a blocker for 5.11?
Note that different fixes are already proposed on the upstream bugtracker, so that crafting an spkg will not take ages.

I'm sorry I had no time to test the 5.10 rc's on Cygwin and let that go in...
let's try to release a 5.11 version compilable on Cygwin(32)!



---

archive/issue_comments_188000.json:
```json
{
    "body": "Attachment [1.2.7-zlib-symbols.patch](tarball://root/attachments/some-uuid/ticket14985/1.2.7-zlib-symbols.patch) by jpflori created at 2013-08-01 09:53:56\n\nCygwin's folk patch",
    "created_at": "2013-08-01T09:53:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-188000",
    "user": "jpflori"
}
```

Attachment [1.2.7-zlib-symbols.patch](tarball://root/attachments/some-uuid/ticket14985/1.2.7-zlib-symbols.patch) by jpflori created at 2013-08-01 09:53:56

Cygwin's folk patch



---

archive/issue_comments_188001.json:
```json
{
    "body": "Such a patch prevents the definition of gzopen_w on Windows, but he, the Cygwin's folk does not care, and we don't support MSVC so, we can do just the same I guess.",
    "created_at": "2013-08-01T09:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-188001",
    "user": "jpflori"
}
```

Such a patch prevents the definition of gzopen_w on Windows, but he, the Cygwin's folk does not care, and we don't support MSVC so, we can do just the same I guess.



---

archive/issue_comments_188002.json:
```json
{
    "body": "Attachment [zlib-1.2.8.p0.diff](tarball://root/attachments/some-uuid/ticket14985/zlib-1.2.8.p0.diff) by jpflori created at 2013-08-06 21:17:47\n\nSpkg diff, for review only.",
    "created_at": "2013-08-06T21:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-188002",
    "user": "jpflori"
}
```

Attachment [zlib-1.2.8.p0.diff](tarball://root/attachments/some-uuid/ticket14985/zlib-1.2.8.p0.diff) by jpflori created at 2013-08-06 21:17:47

Spkg diff, for review only.



---

archive/issue_comments_188003.json:
```json
{
    "body": "Changing keywords from \"\" to \"cygwin zlib spkg\".",
    "created_at": "2013-08-06T21:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-188003",
    "user": "jpflori"
}
```

Changing keywords from "" to "cygwin zlib spkg".



---

archive/issue_comments_188004.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-08-06T21:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-188004",
    "user": "jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_188005.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2013-08-06T21:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-188005",
    "user": "jpflori"
}
```

Changing priority from major to critical.



---

archive/issue_comments_188006.json:
```json
{
    "body": "I've upped a spkg using the same fix as Cygwin.",
    "created_at": "2013-08-06T21:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-188006",
    "user": "jpflori"
}
```

I've upped a spkg using the same fix as Cygwin.



---

archive/issue_comments_188007.json:
```json
{
    "body": "Cannot test on a real install till tomorrow...",
    "created_at": "2013-08-06T21:20:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-188007",
    "user": "jpflori"
}
```

Cannot test on a real install till tomorrow...



---

archive/issue_comments_188008.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-08-07T00:10:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-188008",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_188009.json:
```json
{
    "body": "It built for me both on cygwin 32 and 64.",
    "created_at": "2013-08-07T00:10:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-188009",
    "user": "tscrim"
}
```

It built for me both on cygwin 32 and 64.



---

archive/issue_comments_188010.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-10T06:38:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14748#issuecomment-188010",
    "user": "jdemeyer"
}
```

Resolution: fixed
