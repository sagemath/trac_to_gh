# Issue 8271: iconv dumps core running make check on Solaris (SPARC)

Issue created by migration from Trac.

Original creator: drkirkby

Original creation time: 2010-02-15 10:42:41

Assignee: AlexGhitza

The iconv package, which will be added to Sage (#8191), 
dumps core on Solaris 10 SPARC, though all tests pass on Linux, OpenSolaris and OS X.

Full details will be added later -  I created this ticket to get a trac number.


---

Comment by drkirkby created at 2010-02-15 23:31:54

Changing component from algebra to solaris.


---

Comment by drkirkby created at 2010-02-15 23:31:54

Changing assignee from AlexGhitza to drkirkby.


---

Comment by drkirkby created at 2010-02-16 12:40:18

Running gdb on the core file I see: 

```
(gdb) target core ./core
Core was generated by `printf B<0x%010000x><0x%010000x>se B<0x%010000x><0x%010000x>bchen\n 0xC3 0xB6 0'.
Program terminated with signal 11, Segmentation fault.
#0  0xff2d1f8c in ?? ()
(gdb) 
```



---

Comment by drkirkby created at 2010-02-16 21:31:30

I'm now told by the iconv developers this is a Solaris bug:


```
You see "Segmentation Fault - core dumped" messages, but the test suite
continued to run and passed. ("make" did not report a failing target.)

The 'check-subst' file contains a comment about the origin of these messages:
  # This printf command crashes on Solaris 10.
  # See <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6550204>.

So, it does not indicate a bug in GNU libiconv, only in a Solaris program that
is used by the testsuite. Harmless.

Bruno
```


I expect with some patches, this could be solved, as it was fixed several years ago, but I'm testing this on an early release of Solaris.


---

Comment by drkirkby created at 2010-02-16 21:31:30

Resolution: invalid
