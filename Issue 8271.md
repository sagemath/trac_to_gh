# Issue 8271: iconv dumps core running make check on Solaris (SPARC)

archive/issues_008271.json:
```json
{
    "body": "Assignee: AlexGhitza\n\nThe iconv package, which will be added to Sage (#8191), \ndumps core on Solaris 10 SPARC, though all tests pass on Linux, OpenSolaris and OS X.\n\nFull details will be added later -  I created this ticket to get a trac number.\n\nIssue created by migration from https://trac.sagemath.org/ticket/8271\n\n",
    "created_at": "2010-02-15T10:42:41Z",
    "labels": [
        "algebra",
        "major",
        "bug"
    ],
    "title": "iconv dumps core running make check on Solaris (SPARC)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/8271",
    "user": "drkirkby"
}
```
Assignee: AlexGhitza

The iconv package, which will be added to Sage (#8191), 
dumps core on Solaris 10 SPARC, though all tests pass on Linux, OpenSolaris and OS X.

Full details will be added later -  I created this ticket to get a trac number.

Issue created by migration from https://trac.sagemath.org/ticket/8271





---

archive/issue_comments_073215.json:
```json
{
    "body": "Changing component from algebra to solaris.",
    "created_at": "2010-02-15T23:31:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8271#issuecomment-73215",
    "user": "drkirkby"
}
```

Changing component from algebra to solaris.



---

archive/issue_comments_073216.json:
```json
{
    "body": "Changing assignee from AlexGhitza to drkirkby.",
    "created_at": "2010-02-15T23:31:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8271#issuecomment-73216",
    "user": "drkirkby"
}
```

Changing assignee from AlexGhitza to drkirkby.



---

archive/issue_comments_073217.json:
```json
{
    "body": "Running gdb on the core file I see: \n\n```\n(gdb) target core ./core\nCore was generated by `printf B<0x%010000x><0x%010000x>se B<0x%010000x><0x%010000x>bchen\\n 0xC3 0xB6 0'.\nProgram terminated with signal 11, Segmentation fault.\n#0  0xff2d1f8c in ?? ()\n(gdb) \n```\n",
    "created_at": "2010-02-16T12:40:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8271#issuecomment-73217",
    "user": "drkirkby"
}
```

Running gdb on the core file I see: 

```
(gdb) target core ./core
Core was generated by `printf B<0x%010000x><0x%010000x>se B<0x%010000x><0x%010000x>bchen\n 0xC3 0xB6 0'.
Program terminated with signal 11, Segmentation fault.
#0  0xff2d1f8c in ?? ()
(gdb) 
```




---

archive/issue_comments_073218.json:
```json
{
    "body": "I'm now told by the iconv developers this is a Solaris bug:\n\n\n```\nYou see \"Segmentation Fault - core dumped\" messages, but the test suite\ncontinued to run and passed. (\"make\" did not report a failing target.)\n\nThe 'check-subst' file contains a comment about the origin of these messages:\n  # This printf command crashes on Solaris 10.\n  # See <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6550204>.\n\nSo, it does not indicate a bug in GNU libiconv, only in a Solaris program that\nis used by the testsuite. Harmless.\n\nBruno\n```\n\n\nI expect with some patches, this could be solved, as it was fixed several years ago, but I'm testing this on an early release of Solaris.",
    "created_at": "2010-02-16T21:31:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8271#issuecomment-73218",
    "user": "drkirkby"
}
```

I'm now told by the iconv developers this is a Solaris bug:


```
You see "Segmentation Fault - core dumped" messages, but the test suite
continued to run and passed. ("make" did not report a failing target.)

The 'check-subst' file contains a comment about the origin of these messages:
  # This printf command crashes on Solaris 10.
  # See <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6550204>.

So, it does not indicate a bug in GNU libiconv, only in a Solaris program that
is used by the testsuite. Harmless.

Bruno
```


I expect with some patches, this could be solved, as it was fixed several years ago, but I'm testing this on an early release of Solaris.



---

archive/issue_comments_073219.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2010-02-16T21:31:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/8271",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/8271#issuecomment-73219",
    "user": "drkirkby"
}
```

Resolution: invalid
