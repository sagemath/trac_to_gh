# Issue 33391: Fig bug in graphs.RandomToleranceGraph

Issue created by migration from https://trac.sagemath.org/ticket/33628

Original creator: dcoudert

Original creation time: 2022-04-02 07:30:25

CC:  tscrim


```
sage -t --long --warn-long 291.5 --random-seed=184268751501867371650794470659094787547 src/sage/graphs/generators/random.py
**********************************************************************
File "src/sage/graphs/generators/random.py", line 1527, in sage.graphs.generators.random.RandomToleranceGraph
Failed example:
    g = graphs.RandomToleranceGraph(8)
Exception raised:
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 695, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1093, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generators.random.RandomToleranceGraph[0]>", line 1, in <module>
        g = graphs.RandomToleranceGraph(Integer(8))
      File "/Users/dcoudert/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/graphs/generators/random.py", line 1553, in RandomToleranceGraph
        return ToleranceGraph(tolrep)
      File "/Users/dcoudert/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/graphs/generators/intersection.py", line 351, in ToleranceGraph
        raise ValueError("Invalid tolerance representation at position "+str(i)+"; third value must be positive!")
    ValueError: Invalid tolerance representation at position 2; third value must be positive!
```



---

Comment by dcoudert created at 2022-04-02 07:53:42

Changing status from new to needs_review.


---

Comment by dcoudert created at 2022-04-02 07:53:42

New commits:


---

Comment by tscrim created at 2022-04-02 08:06:42

LGTM.


---

Comment by tscrim created at 2022-04-02 08:06:42

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2022-04-02 08:07:13

Thank you !


---

Comment by vbraun created at 2022-04-03 11:13:34

Resolution: fixed
