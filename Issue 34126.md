# Issue 34126: Installation guide: Document Sage installation on Windows via VS Code devcontainers

archive/issues_034126.json:
```json
{
    "body": "CC:  @tscrim @kwankyu @slel @darijgr @tobiasdiez @saraedum @williamstein @davidayotte\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/34363\n\n",
    "created_at": "2022-08-14T15:13:31Z",
    "labels": [
        "component: documentation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Installation guide: Document Sage installation on Windows via VS Code devcontainers",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34126",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @tscrim @kwankyu @slel @darijgr @tobiasdiez @saraedum @williamstein @davidayotte



Issue created by migration from https://trac.sagemath.org/ticket/34363





---

archive/issue_comments_483462.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2022-08-14T16:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483462",
    "user": "https://github.com/mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_483463.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-08-14T16:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483463",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_483464.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-15T15:22:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483464",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483465.json:
```json
{
    "body": "Suggestion: in the alternative installation, I think I would mention that you can also use vscode, but now with extension [Remote - WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl) which lets you use vscode inside your WSL environment (but this is not mandatory, as someone might want to use an other code editor).\n\nNext, I have a question: is there any performance advantages in using docker containers instead of directly running it inside WSL?\n\nThank you very much for simplifying the installation tutorial!",
    "created_at": "2022-08-16T14:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483465",
    "user": "https://github.com/DavidAyotte"
}
```

Suggestion: in the alternative installation, I think I would mention that you can also use vscode, but now with extension [Remote - WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl) which lets you use vscode inside your WSL environment (but this is not mandatory, as someone might want to use an other code editor).

Next, I have a question: is there any performance advantages in using docker containers instead of directly running it inside WSL?

Thank you very much for simplifying the installation tutorial!



---

archive/issue_comments_483466.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-16T15:37:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483466",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483467.json:
```json
{
    "body": "Replying to [comment:8 gh-DavidAyotte]:\n> Suggestion: in the alternative installation, I think I would mention that you can also use vscode, but now with extension [Remote - WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl) which lets you use vscode inside your WSL environment (but this is not mandatory, as someone might want to use an other code editor).\n\n\nThanks for the feedback!\n\nWe already have a section in the manual that explains this. I've linked it.",
    "created_at": "2022-08-16T15:38:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483467",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:8 gh-DavidAyotte]:
> Suggestion: in the alternative installation, I think I would mention that you can also use vscode, but now with extension [Remote - WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl) which lets you use vscode inside your WSL environment (but this is not mandatory, as someone might want to use an other code editor).


Thanks for the feedback!

We already have a section in the manual that explains this. I've linked it.



---

archive/issue_comments_483468.json:
```json
{
    "body": "Replying to [comment:8 gh-DavidAyotte]:\n> is there any performance advantages in using docker containers instead of directly running it inside WSL?\n\n\nI would think it's the same as running WSL 2 directly",
    "created_at": "2022-08-16T15:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483468",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:8 gh-DavidAyotte]:
> is there any performance advantages in using docker containers instead of directly running it inside WSL?


I would think it's the same as running WSL 2 directly



---

archive/issue_comments_483469.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-17T05:56:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483469",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483470.json:
```json
{
    "body": "Replying to [comment:12 mkoeppe]:\n> Replying to [comment:8 gh-DavidAyotte]:\n> > is there any performance advantages in using docker containers instead of directly running it inside WSL?\n\n> \n> I would think it's the same as running WSL 2 directly\n\n\nIn general, Docker is slower (for both io and cpu) then WSL2. How much depends on the particular use case and the setup (e.g. whether the files are located in the windows or linux env).",
    "created_at": "2022-08-17T08:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483470",
    "user": "https://github.com/tobiasdiez"
}
```

Replying to [comment:12 mkoeppe]:
> Replying to [comment:8 gh-DavidAyotte]:
> > is there any performance advantages in using docker containers instead of directly running it inside WSL?

> 
> I would think it's the same as running WSL 2 directly


In general, Docker is slower (for both io and cpu) then WSL2. How much depends on the particular use case and the setup (e.g. whether the files are located in the windows or linux env).



---

archive/issue_comments_483471.json:
```json
{
    "body": "In general, I'm skeptical if the devcontainer env should be indeed the recommended installation and development method on windows.\n\nFor installation, it is not clear to me how you would use the \"installed\" devcontainer in your own projects (i.e. outside of the vscode instance that hosts the sage source tree). For this, wouldn't it make more sense to recommend that people create a devcontainer file in their own project folder, that references a prebuild sage devcontainer?\n\nFor development, I would still favor wsl over docker for the performance. Moreover, I don't see why this should be a windows-specific recommendation in either case.",
    "created_at": "2022-08-17T08:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483471",
    "user": "https://github.com/tobiasdiez"
}
```

In general, I'm skeptical if the devcontainer env should be indeed the recommended installation and development method on windows.

For installation, it is not clear to me how you would use the "installed" devcontainer in your own projects (i.e. outside of the vscode instance that hosts the sage source tree). For this, wouldn't it make more sense to recommend that people create a devcontainer file in their own project folder, that references a prebuild sage devcontainer?

For development, I would still favor wsl over docker for the performance. Moreover, I don't see why this should be a windows-specific recommendation in either case.



---

archive/issue_comments_483472.json:
```json
{
    "body": "Replying to [comment:14 gh-tobiasdiez]:\n> Replying to [comment:12 mkoeppe]:\n> > Replying to [comment:8 gh-DavidAyotte]:\n> > > is there any performance advantages in using docker containers instead of directly running it inside WSL?\n\n> > \n> > I would think it's the same as running WSL 2 directly\n\n> \n> In general, Docker is slower (for both io and cpu) then WSL2. How much depends on the particular use case and the setup (e.g. whether the files are located in the windows or linux env).\n\n\nEven when using Docker's WSL2 backend?",
    "created_at": "2022-08-17T14:28:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483472",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:14 gh-tobiasdiez]:
> Replying to [comment:12 mkoeppe]:
> > Replying to [comment:8 gh-DavidAyotte]:
> > > is there any performance advantages in using docker containers instead of directly running it inside WSL?

> > 
> > I would think it's the same as running WSL 2 directly

> 
> In general, Docker is slower (for both io and cpu) then WSL2. How much depends on the particular use case and the setup (e.g. whether the files are located in the windows or linux env).


Even when using Docker's WSL2 backend?



---

archive/issue_comments_483473.json:
```json
{
    "body": "Replying to [comment:15 gh-tobiasdiez]:\n> I don't see why this should be a windows-specific recommendation in either case. \n\n\nBecause on macOS and Linux, it is better to run it natively",
    "created_at": "2022-08-17T14:31:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483473",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:15 gh-tobiasdiez]:
> I don't see why this should be a windows-specific recommendation in either case. 


Because on macOS and Linux, it is better to run it natively



---

archive/issue_comments_483474.json:
```json
{
    "body": "Replying to [comment:15 gh-tobiasdiez]:\n> For installation, it is not clear to me how you would use the \"installed\" devcontainer in your own projects (i.e. outside of the vscode instance that hosts the sage source tree). For this, wouldn't it make more sense to recommend that people create a devcontainer file in their own project folder, that references a prebuild sage devcontainer?\n\n\nYes, it would also make sense to do that (not instead, but in addition to what is done here). We have a bit of this already in the \"portability testing\" section added in #33671; see also #34286 (Cookiecutter for Sage user projects with devcontainer).",
    "created_at": "2022-08-17T14:35:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483474",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:15 gh-tobiasdiez]:
> For installation, it is not clear to me how you would use the "installed" devcontainer in your own projects (i.e. outside of the vscode instance that hosts the sage source tree). For this, wouldn't it make more sense to recommend that people create a devcontainer file in their own project folder, that references a prebuild sage devcontainer?


Yes, it would also make sense to do that (not instead, but in addition to what is done here). We have a bit of this already in the "portability testing" section added in #33671; see also #34286 (Cookiecutter for Sage user projects with devcontainer).



---

archive/issue_comments_483475.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-17T17:20:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483475",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483476.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-08-17T17:21:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483476",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_483477.json:
```json
{
    "body": "Replying to [comment:18 mkoeppe]:\n> Replying to [comment:15 gh-tobiasdiez]:\n> > For installation, it is not clear to me how you would use the \"installed\" devcontainer in your own projects (i.e. outside of the vscode instance that hosts the sage source tree). For this, wouldn't it make more sense to recommend that people create a devcontainer file in their own project folder, that references a prebuild sage devcontainer?\n\n> \n> Yes, it would also make sense to do that (not instead, but in addition to what is done here). We have a bit of this already in the \"portability testing\" section added in #33671; see also #34286 (Cookiecutter for Sage user projects with devcontainer).\n\n\nCan you then please explain and document how to use the sage installation (in the devcontainer) in one's own projects. For example, it is not clear to me how to select the sage python interpreter or juptyer kernel in another instance of vscode.",
    "created_at": "2022-08-17T19:01:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483477",
    "user": "https://github.com/tobiasdiez"
}
```

Replying to [comment:18 mkoeppe]:
> Replying to [comment:15 gh-tobiasdiez]:
> > For installation, it is not clear to me how you would use the "installed" devcontainer in your own projects (i.e. outside of the vscode instance that hosts the sage source tree). For this, wouldn't it make more sense to recommend that people create a devcontainer file in their own project folder, that references a prebuild sage devcontainer?

> 
> Yes, it would also make sense to do that (not instead, but in addition to what is done here). We have a bit of this already in the "portability testing" section added in #33671; see also #34286 (Cookiecutter for Sage user projects with devcontainer).


Can you then please explain and document how to use the sage installation (in the devcontainer) in one's own projects. For example, it is not clear to me how to select the sage python interpreter or juptyer kernel in another instance of vscode.



---

archive/issue_comments_483478.json:
```json
{
    "body": "Replying to [comment:17 mkoeppe]:\n> Replying to [comment:15 gh-tobiasdiez]:\n> > I don't see why this should be a windows-specific recommendation in either case. \n\n> \n> Because on macOS and Linux, it is better to run it natively\n\n\nWhy? The current windows installation is wsl + as you normally install in linux. The thing that you replace now is \"normally install in linux\" by \"use a docker container\", while keeping the wsl part. So I don't see why we shouldn't recommend using a docker container also for normal linux dev/install then.",
    "created_at": "2022-08-17T19:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483478",
    "user": "https://github.com/tobiasdiez"
}
```

Replying to [comment:17 mkoeppe]:
> Replying to [comment:15 gh-tobiasdiez]:
> > I don't see why this should be a windows-specific recommendation in either case. 

> 
> Because on macOS and Linux, it is better to run it natively


Why? The current windows installation is wsl + as you normally install in linux. The thing that you replace now is "normally install in linux" by "use a docker container", while keeping the wsl part. So I don't see why we shouldn't recommend using a docker container also for normal linux dev/install then.



---

archive/issue_comments_483479.json:
```json
{
    "body": "Replying to [comment:16 mkoeppe]:\n> Replying to [comment:14 gh-tobiasdiez]:\n> > Replying to [comment:12 mkoeppe]:\n> > > Replying to [comment:8 gh-DavidAyotte]:\n> > > > is there any performance advantages in using docker containers instead of directly running it inside WSL?\n\n> > > \n> > > I would think it's the same as running WSL 2 directly\n\n> > \n> > In general, Docker is slower (for both io and cpu) then WSL2. How much depends on the particular use case and the setup (e.g. whether the files are located in the windows or linux env).\n\n> \n> Even when using Docker's WSL2 backend?\n\n\nYes, although the overhead is smaller then with the old legacy hyperv backend.",
    "created_at": "2022-08-17T19:08:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483479",
    "user": "https://github.com/tobiasdiez"
}
```

Replying to [comment:16 mkoeppe]:
> Replying to [comment:14 gh-tobiasdiez]:
> > Replying to [comment:12 mkoeppe]:
> > > Replying to [comment:8 gh-DavidAyotte]:
> > > > is there any performance advantages in using docker containers instead of directly running it inside WSL?

> > > 
> > > I would think it's the same as running WSL 2 directly

> > 
> > In general, Docker is slower (for both io and cpu) then WSL2. How much depends on the particular use case and the setup (e.g. whether the files are located in the windows or linux env).

> 
> Even when using Docker's WSL2 backend?


Yes, although the overhead is smaller then with the old legacy hyperv backend.



---

archive/issue_comments_483480.json:
```json
{
    "body": "Replying to [comment:23 gh-tobiasdiez]:\n> > Even when using Docker's WSL2 backend?\n\n> \n> Yes, although the overhead is smaller then with the old legacy hyperv backend.\n\n\nDo you have a reference for this at hand so we can add it to the installation guide?",
    "created_at": "2022-08-17T19:10:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483480",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:23 gh-tobiasdiez]:
> > Even when using Docker's WSL2 backend?

> 
> Yes, although the overhead is smaller then with the old legacy hyperv backend.


Do you have a reference for this at hand so we can add it to the installation guide?



---

archive/issue_comments_483481.json:
```json
{
    "body": "Replying to [comment:22 gh-tobiasdiez]:\n> Replying to [comment:17 mkoeppe]:\n> > Replying to [comment:15 gh-tobiasdiez]:\n> > > I don't see why this should be a windows-specific recommendation in either case. \n\n> > \n> > Because on macOS and Linux, it is better to run it natively\n\n> \n> Why? The current windows installation is wsl + as you normally install in linux. The thing that you replace now is \"normally install in linux\" by \"use a docker container\", while keeping the wsl part. So I don't see why we shouldn't recommend using a docker container also for normal linux dev/install then.\n\n\nThe difference is that neither WSL nor Docker-in-WSL are native Windows.",
    "created_at": "2022-08-17T19:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483481",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:22 gh-tobiasdiez]:
> Replying to [comment:17 mkoeppe]:
> > Replying to [comment:15 gh-tobiasdiez]:
> > > I don't see why this should be a windows-specific recommendation in either case. 

> > 
> > Because on macOS and Linux, it is better to run it natively

> 
> Why? The current windows installation is wsl + as you normally install in linux. The thing that you replace now is "normally install in linux" by "use a docker container", while keeping the wsl part. So I don't see why we shouldn't recommend using a docker container also for normal linux dev/install then.


The difference is that neither WSL nor Docker-in-WSL are native Windows.



---

archive/issue_comments_483482.json:
```json
{
    "body": "Replying to [comment:25 mkoeppe]:\n> Replying to [comment:22 gh-tobiasdiez]:\n> > Replying to [comment:17 mkoeppe]:\n> > > Replying to [comment:15 gh-tobiasdiez]:\n> > > > I don't see why this should be a windows-specific recommendation in either case. \n\n> > > \n> > > Because on macOS and Linux, it is better to run it natively\n\n> > \n> > Why? The current windows installation is wsl + as you normally install in linux. The thing that you replace now is \"normally install in linux\" by \"use a docker container\", while keeping the wsl part. So I don't see why we shouldn't recommend using a docker container also for normal linux dev/install then.\n\n> \n> The difference is that neither WSL nor Docker-in-WSL are native Windows.\n\n\nBut that should be pretty irrelevant from a users/devs perspective. You will get the same advantages (and disadvantages) from the Docker-in-WSL solution over pure WSL, as you would get Docker in Linux over pure Linux, or not?",
    "created_at": "2022-08-17T20:04:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483482",
    "user": "https://github.com/tobiasdiez"
}
```

Replying to [comment:25 mkoeppe]:
> Replying to [comment:22 gh-tobiasdiez]:
> > Replying to [comment:17 mkoeppe]:
> > > Replying to [comment:15 gh-tobiasdiez]:
> > > > I don't see why this should be a windows-specific recommendation in either case. 

> > > 
> > > Because on macOS and Linux, it is better to run it natively

> > 
> > Why? The current windows installation is wsl + as you normally install in linux. The thing that you replace now is "normally install in linux" by "use a docker container", while keeping the wsl part. So I don't see why we shouldn't recommend using a docker container also for normal linux dev/install then.

> 
> The difference is that neither WSL nor Docker-in-WSL are native Windows.


But that should be pretty irrelevant from a users/devs perspective. You will get the same advantages (and disadvantages) from the Docker-in-WSL solution over pure WSL, as you would get Docker in Linux over pure Linux, or not?



---

archive/issue_comments_483483.json:
```json
{
    "body": "I see the key benefit of the devcontainer solution for Windows that it isolates the Windows user from having to learn about WSL, Linux distributions etc. So it reduces the learning curve for people who want to get started with Sage.\n\nOf course, devcontainers also have general benefits that make them a good option for consideration on other platforms. But I don't see a reason why we would recommend it to users over what we recommend now - the build from source.",
    "created_at": "2022-08-17T20:12:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483483",
    "user": "https://github.com/mkoeppe"
}
```

I see the key benefit of the devcontainer solution for Windows that it isolates the Windows user from having to learn about WSL, Linux distributions etc. So it reduces the learning curve for people who want to get started with Sage.

Of course, devcontainers also have general benefits that make them a good option for consideration on other platforms. But I don't see a reason why we would recommend it to users over what we recommend now - the build from source.



---

archive/issue_comments_483484.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-17T20:43:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483484",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483485.json:
```json
{
    "body": "I would say that reproducibility, not changing the developers system, ease of setting up as well as your point that potential users and devs don't need to learn how to manage packages using the cli are sufficiently convincing to make the devcontainer the recommended installation method on all systems. If they are not sufficient, then it shouldn't be the default recommendation (on neither system).\n\nIn either case, comment:21 is still not addressed.",
    "created_at": "2022-08-18T20:51:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483485",
    "user": "https://github.com/tobiasdiez"
}
```

I would say that reproducibility, not changing the developers system, ease of setting up as well as your point that potential users and devs don't need to learn how to manage packages using the cli are sufficiently convincing to make the devcontainer the recommended installation method on all systems. If they are not sufficient, then it shouldn't be the default recommendation (on neither system).

In either case, comment:21 is still not addressed.



---

archive/issue_comments_483486.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-08-18T20:51:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483486",
    "user": "https://github.com/tobiasdiez"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_483487.json:
```json
{
    "body": "Replying to [comment:29 gh-tobiasdiez]:\n> I would say that [...] are sufficiently convincing to make the devcontainer the recommended installation method on all systems.\n\n\nI get that you are convinced by it, but it's a long stretch to assume that the users would like that.",
    "created_at": "2022-08-18T20:57:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483487",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:29 gh-tobiasdiez]:
> I would say that [...] are sufficiently convincing to make the devcontainer the recommended installation method on all systems.


I get that you are convinced by it, but it's a long stretch to assume that the users would like that.



---

archive/issue_comments_483488.json:
```json
{
    "body": "Replying to [comment:29 gh-tobiasdiez]:\n> If they are not sufficient, then it shouldn't be the default recommendation (on neither system).\n\n\nNo, this does not follow because of what I have explained in comment:27.",
    "created_at": "2022-08-18T20:59:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483488",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:29 gh-tobiasdiez]:
> If they are not sufficient, then it shouldn't be the default recommendation (on neither system).


No, this does not follow because of what I have explained in comment:27.



---

archive/issue_comments_483489.json:
```json
{
    "body": "Replying to [comment:21 gh-tobiasdiez]:\n> Replying to [comment:18 mkoeppe]:\n> > Replying to [comment:15 gh-tobiasdiez]:\n> > > For installation, it is not clear to me how you would use the \"installed\" devcontainer in your own projects (i.e. outside of the vscode instance that hosts the sage source tree). For this, wouldn't it make more sense to recommend that people create a devcontainer file in their own project folder, that references a prebuild sage devcontainer?\n\n> > \n> > Yes, it would also make sense to do that (not instead, but in addition to what is done here). We have a bit of this already in the \"portability testing\" section added in #33671; see also #34286 (Cookiecutter for Sage user projects with devcontainer).\n\n> \n> Can you then please explain and document how to use the sage installation (in the devcontainer) in one's own projects. For example, it is not clear to me how to select the sage python interpreter or juptyer kernel in another instance of vscode.\n\n\nUsers who just start with Sage do not need any of this. \nThey can just run Sage in the devcontainer of SAGE_ROOT and save their Jupyter notebooks  somewhere, maybe in a subdirectory.\n\nOf course, we know that for running the `downstream-...` devcontainer, one does not really need the whole source tree of Sage. But it gives a convenient transition: If it turns out they do have to make changes to Sage, they can just switch from a `downstream-...` devcontainer to a `develop-...` devcontainer without having to change the rest of their workflow.\n\nCreating a \"project\" using Sage is far beyond what most Sage users do: Note that there are only a few dozens of published user packages (\"projects\") out there. #34286 is about making this easier.",
    "created_at": "2022-08-18T21:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483489",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:21 gh-tobiasdiez]:
> Replying to [comment:18 mkoeppe]:
> > Replying to [comment:15 gh-tobiasdiez]:
> > > For installation, it is not clear to me how you would use the "installed" devcontainer in your own projects (i.e. outside of the vscode instance that hosts the sage source tree). For this, wouldn't it make more sense to recommend that people create a devcontainer file in their own project folder, that references a prebuild sage devcontainer?

> > 
> > Yes, it would also make sense to do that (not instead, but in addition to what is done here). We have a bit of this already in the "portability testing" section added in #33671; see also #34286 (Cookiecutter for Sage user projects with devcontainer).

> 
> Can you then please explain and document how to use the sage installation (in the devcontainer) in one's own projects. For example, it is not clear to me how to select the sage python interpreter or juptyer kernel in another instance of vscode.


Users who just start with Sage do not need any of this. 
They can just run Sage in the devcontainer of SAGE_ROOT and save their Jupyter notebooks  somewhere, maybe in a subdirectory.

Of course, we know that for running the `downstream-...` devcontainer, one does not really need the whole source tree of Sage. But it gives a convenient transition: If it turns out they do have to make changes to Sage, they can just switch from a `downstream-...` devcontainer to a `develop-...` devcontainer without having to change the rest of their workflow.

Creating a "project" using Sage is far beyond what most Sage users do: Note that there are only a few dozens of published user packages ("projects") out there. #34286 is about making this easier.



---

archive/issue_comments_483490.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-18T21:20:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483490",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483491.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-08-18T21:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483491",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_483492.json:
```json
{
    "body": "How about this?",
    "created_at": "2022-08-18T21:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483492",
    "user": "https://github.com/mkoeppe"
}
```

How about this?



---

archive/issue_comments_483493.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-18T21:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483493",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483494.json:
```json
{
    "body": "The doc structure could be, as for other platforms,\n\n```\n   No development:\n\n       Alternative 1:\n\n       Alternative 2:\n\n   Development:\n\n       Alternative 1:\n\n       Alternative 2:\n```\nWe may put the recommended in alternative 1.\"No development alternative 1\" would be the recommended approach for most users.\n\nI would put \"VS Code + downstream-devcontainer\" approach to \"No development alternative 1\".\n\nI would put \"VS Code + WSL\" approach to \"Development alternative 1\". Docker is really not necessary in sage development and conceptually more difficult than WSL, I think.\n\nFor \"VS Code + downstream-devcontainer\" approach, could we remove the git clone part (which is just to get `devcontainer.json`)?",
    "created_at": "2022-08-18T21:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483494",
    "user": "https://github.com/kwankyu"
}
```

The doc structure could be, as for other platforms,

```
   No development:

       Alternative 1:

       Alternative 2:

   Development:

       Alternative 1:

       Alternative 2:
```
We may put the recommended in alternative 1."No development alternative 1" would be the recommended approach for most users.

I would put "VS Code + downstream-devcontainer" approach to "No development alternative 1".

I would put "VS Code + WSL" approach to "Development alternative 1". Docker is really not necessary in sage development and conceptually more difficult than WSL, I think.

For "VS Code + downstream-devcontainer" approach, could we remove the git clone part (which is just to get `devcontainer.json`)?



---

archive/issue_comments_483495.json:
```json
{
    "body": "Replying to [comment:36 klee]:\n> For \"VS Code + downstream-devcontainer\" approach, could we remove the git clone part (which is just to get `devcontainer.json`)?\n\n\nProviding a zipped folder with `./devcontainer/devcontainer.json` for download?",
    "created_at": "2022-08-18T23:41:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483495",
    "user": "https://github.com/kwankyu"
}
```

Replying to [comment:36 klee]:
> For "VS Code + downstream-devcontainer" approach, could we remove the git clone part (which is just to get `devcontainer.json`)?


Providing a zipped folder with `./devcontainer/devcontainer.json` for download?



---

archive/issue_comments_483496.json:
```json
{
    "body": "Replying to [comment:37 klee]:\n> Replying to [comment:36 klee]:\n> > For \"VS Code + downstream-devcontainer\" approach, could we remove the git clone part (which is just to get `devcontainer.json`)?\n\n> \n> Providing a zipped folder with `./devcontainer/devcontainer.json` for download?\n\n\nI would like to keep such things for a follow-up ticket (#34286)",
    "created_at": "2022-08-18T23:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483496",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:37 klee]:
> Replying to [comment:36 klee]:
> > For "VS Code + downstream-devcontainer" approach, could we remove the git clone part (which is just to get `devcontainer.json`)?

> 
> Providing a zipped folder with `./devcontainer/devcontainer.json` for download?


I would like to keep such things for a follow-up ticket (#34286)



---

archive/issue_comments_483497.json:
```json
{
    "body": "Replying to [comment:32 mkoeppe]:\n> Replying to [comment:21 gh-tobiasdiez]:\n> > Replying to [comment:18 mkoeppe]:\n> > > Replying to [comment:15 gh-tobiasdiez]:\n> > > > For installation, it is not clear to me how you would use the \"installed\" devcontainer in your own projects (i.e. outside of the vscode instance that hosts the sage source tree). For this, wouldn't it make more sense to recommend that people create a devcontainer file in their own project folder, that references a prebuild sage devcontainer?\n\n> > > \n> > > Yes, it would also make sense to do that (not instead, but in addition to what is done here). We have a bit of this already in the \"portability testing\" section added in #33671; see also #34286 (Cookiecutter for Sage user projects with devcontainer).\n\n> > \n> > Can you then please explain and document how to use the sage installation (in the devcontainer) in one's own projects. For example, it is not clear to me how to select the sage python interpreter or juptyer kernel in another instance of vscode.\n\n> \n> Users who just start with Sage do not need any of this. \n> They can just run Sage in the devcontainer of SAGE_ROOT and save their Jupyter notebooks  somewhere, maybe in a subdirectory.\n> \n> Of course, we know that for running the `downstream-...` devcontainer, one does not really need the whole source tree of Sage. But it gives a convenient transition: If it turns out they do have to make changes to Sage, they can just switch from a `downstream-...` devcontainer to a `develop-...` devcontainer without having to change the rest of their workflow.\n> \n> Creating a \"project\" using Sage is far beyond what most Sage users do: Note that there are only a few dozens of published user packages (\"projects\") out there. #34286 is about making this easier.\n\n\nSorry for being imprecise. I meant \"project\" in the sense of \"anything that lives outside of the sagemath folder\", e.g. ones own jupyter notebooks or similar stuff. To make it precise: how do I contribute to https://github.com/sagemanifolds/SageManifolds using the devcontainer approach?",
    "created_at": "2022-08-19T20:47:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483497",
    "user": "https://github.com/tobiasdiez"
}
```

Replying to [comment:32 mkoeppe]:
> Replying to [comment:21 gh-tobiasdiez]:
> > Replying to [comment:18 mkoeppe]:
> > > Replying to [comment:15 gh-tobiasdiez]:
> > > > For installation, it is not clear to me how you would use the "installed" devcontainer in your own projects (i.e. outside of the vscode instance that hosts the sage source tree). For this, wouldn't it make more sense to recommend that people create a devcontainer file in their own project folder, that references a prebuild sage devcontainer?

> > > 
> > > Yes, it would also make sense to do that (not instead, but in addition to what is done here). We have a bit of this already in the "portability testing" section added in #33671; see also #34286 (Cookiecutter for Sage user projects with devcontainer).

> > 
> > Can you then please explain and document how to use the sage installation (in the devcontainer) in one's own projects. For example, it is not clear to me how to select the sage python interpreter or juptyer kernel in another instance of vscode.

> 
> Users who just start with Sage do not need any of this. 
> They can just run Sage in the devcontainer of SAGE_ROOT and save their Jupyter notebooks  somewhere, maybe in a subdirectory.
> 
> Of course, we know that for running the `downstream-...` devcontainer, one does not really need the whole source tree of Sage. But it gives a convenient transition: If it turns out they do have to make changes to Sage, they can just switch from a `downstream-...` devcontainer to a `develop-...` devcontainer without having to change the rest of their workflow.
> 
> Creating a "project" using Sage is far beyond what most Sage users do: Note that there are only a few dozens of published user packages ("projects") out there. #34286 is about making this easier.


Sorry for being imprecise. I meant "project" in the sense of "anything that lives outside of the sagemath folder", e.g. ones own jupyter notebooks or similar stuff. To make it precise: how do I contribute to https://github.com/sagemanifolds/SageManifolds using the devcontainer approach?



---

archive/issue_comments_483498.json:
```json
{
    "body": "Replying to [comment:36 klee]:\n> The doc structure could be, as for other platforms,\n> \n> ```\n>    No development:\n> \n>        Alternative 1:\n> \n>        Alternative 2:\n> \n>    Development:\n> \n>        Alternative 1:\n> \n>        Alternative 2:\n> ```\n> We may put the recommended in alternative 1.\"No development alternative 1\" would be the recommended approach for most users.\n> \n> I would put \"VS Code + downstream-devcontainer\" approach to \"No development alternative 1\".\n> \n> I would put \"VS Code + WSL\" approach to \"Development alternative 1\". Docker is really not necessary in sage development and conceptually more difficult than WSL, I think.\n> \n> For \"VS Code + downstream-devcontainer\" approach, could we remove the git clone part (which is just to get `devcontainer.json`)?\n\n\nIn general, I like the idea. Maybe we can go even one step further and remove the numbering completely, as there is no clear general hierarchy between the options, but the preferred one depends on the situation. So simply something like \"Option: Devcontainer\" and \"Option: Manual compilation from source in WSL\".\n\nI would also move the good clarifications by Matthias on when to use which option to the beginning of the decision tree, not after the steps.",
    "created_at": "2022-08-19T20:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483498",
    "user": "https://github.com/tobiasdiez"
}
```

Replying to [comment:36 klee]:
> The doc structure could be, as for other platforms,
> 
> ```
>    No development:
> 
>        Alternative 1:
> 
>        Alternative 2:
> 
>    Development:
> 
>        Alternative 1:
> 
>        Alternative 2:
> ```
> We may put the recommended in alternative 1."No development alternative 1" would be the recommended approach for most users.
> 
> I would put "VS Code + downstream-devcontainer" approach to "No development alternative 1".
> 
> I would put "VS Code + WSL" approach to "Development alternative 1". Docker is really not necessary in sage development and conceptually more difficult than WSL, I think.
> 
> For "VS Code + downstream-devcontainer" approach, could we remove the git clone part (which is just to get `devcontainer.json`)?


In general, I like the idea. Maybe we can go even one step further and remove the numbering completely, as there is no clear general hierarchy between the options, but the preferred one depends on the situation. So simply something like "Option: Devcontainer" and "Option: Manual compilation from source in WSL".

I would also move the good clarifications by Matthias on when to use which option to the beginning of the decision tree, not after the steps.



---

archive/issue_comments_483499.json:
```json
{
    "body": "No objections if you want to make these edits to the structure.\n\nImportant point to keep: The devcontainer approach also works on machines where you can run Docker but not WSL. (I do not know how common this scenario is.)",
    "created_at": "2022-08-19T21:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483499",
    "user": "https://github.com/mkoeppe"
}
```

No objections if you want to make these edits to the structure.

Important point to keep: The devcontainer approach also works on machines where you can run Docker but not WSL. (I do not know how common this scenario is.)



---

archive/issue_comments_483500.json:
```json
{
    "body": "Replying to [comment:39 gh-tobiasdiez]:\n> how do I contribute to https://github.com/sagemanifolds/SageManifolds using the devcontainer approach? \n\n\nJust clone it into a subfolder.",
    "created_at": "2022-08-19T21:07:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483500",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:39 gh-tobiasdiez]:
> how do I contribute to https://github.com/sagemanifolds/SageManifolds using the devcontainer approach? 


Just clone it into a subfolder.



---

archive/issue_comments_483501.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2022-08-21T18:59:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483501",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_483502.json:
```json
{
    "body": "Merged latest version of #33671.",
    "created_at": "2022-08-21T19:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483502",
    "user": "https://github.com/mkoeppe"
}
```

Merged latest version of #33671.



---

archive/issue_comments_483503.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-08-23T23:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483503",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_483504.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-31T01:54:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483504",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_483505.json:
```json
{
    "body": "For Windows using VS Code,  I would find useful to mention also \n\n* to install git, \n* and that if the `Git: Clone` command is not recognized, it is because git is not installed.",
    "created_at": "2022-09-10T17:42:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483505",
    "user": "https://trac.sagemath.org/admin/accounts/users/ebriand"
}
```

For Windows using VS Code,  I would find useful to mention also 

* to install git, 
* and that if the `Git: Clone` command is not recognized, it is because git is not installed.



---

archive/issue_comments_483506.json:
```json
{
    "body": "Do you have a VS Code documentation link that explains this well?",
    "created_at": "2022-09-10T18:01:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34126#issuecomment-483506",
    "user": "https://github.com/mkoeppe"
}
```

Do you have a VS Code documentation link that explains this well?



---

archive/issue_events_089425.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/34126",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/34126#event-89425"
}
```
