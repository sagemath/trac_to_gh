# Issue 34444: Error with multiplication of points on elliptic curves over Integers(n)

archive/issues_034444.json:
```json
{
    "body": "CC:  lorenz\n\n\n```\nsage: E = EllipticCurve(Integers(11*19), [1,0])\nsage: P = E(93,3)\nsage: P + P\n(5 : 118 : 1)\nsage: 2 * P\n...\nAttributeError: 'EllipticCurve_generic_with_category' object has no attribute 'base_field'\n```\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/34681\n\n",
    "created_at": "2022-10-20T20:15:48Z",
    "labels": [
        "number theory",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Error with multiplication of points on elliptic curves over Integers(n)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/34444",
    "user": "tornaria"
}
```
CC:  lorenz


```
sage: E = EllipticCurve(Integers(11*19), [1,0])
sage: P = E(93,3)
sage: P + P
(5 : 118 : 1)
sage: 2 * P
...
AttributeError: 'EllipticCurve_generic_with_category' object has no attribute 'base_field'
```



Issue created by migration from https://trac.sagemath.org/ticket/34681





---

archive/issue_comments_487942.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-10-20T21:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-487942",
    "user": "tornaria"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_487943.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-20T21:11:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-487943",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_487944.json:
```json
{
    "body": "Related: #33228",
    "created_at": "2022-10-21T03:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-487944",
    "user": "lorenz"
}
```

Related: #33228



---

archive/issue_comments_487945.json:
```json
{
    "body": "Replying to [comment:3 Lorenz Panny]:\n> Related: #33228\n\nThanks for the info. Looks quite interesting. However, this fix here seems trivial -- can we get this in? At the very least the first commit.\n\nAlso, given that pari `ellmul` works with integer mod composite (in the sense that it either gives the right answer or gives a `Fp_inv` error) it seems a pity to fall back to a generic implementation as in #33228.\n\nSame as mentioned in #33228, this was spotted by a student trying to implement ECM. It seems an important application... If point multiplication is implemented via `ellmul` this means the students might even have a shot at getting good speed if they can figure out how to choose the parameters.",
    "created_at": "2022-10-21T13:45:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-487945",
    "user": "tornaria"
}
```

Replying to [comment:3 Lorenz Panny]:
> Related: #33228

Thanks for the info. Looks quite interesting. However, this fix here seems trivial -- can we get this in? At the very least the first commit.

Also, given that pari `ellmul` works with integer mod composite (in the sense that it either gives the right answer or gives a `Fp_inv` error) it seems a pity to fall back to a generic implementation as in #33228.

Same as mentioned in #33228, this was spotted by a student trying to implement ECM. It seems an important application... If point multiplication is implemented via `ellmul` this means the students might even have a shot at getting good speed if they can figure out how to choose the parameters.



---

archive/issue_comments_487946.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-11-03T06:06:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-487946",
    "user": "lorenz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_487947.json:
```json
{
    "body": "Replying to [comment:4 Gonzalo Tornar\u00eda]:\n> However, this fix here seems trivial -- can we get this in?\n\nIndeed, why not.",
    "created_at": "2022-11-03T06:06:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-487947",
    "user": "lorenz"
}
```

Replying to [comment:4 Gonzalo TornarÃ­a]:
> However, this fix here seems trivial -- can we get this in?

Indeed, why not.



---

archive/issue_comments_487948.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-11-07T20:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/34444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/34444#issuecomment-487948",
    "user": "vbraun"
}
```

Resolution: fixed
