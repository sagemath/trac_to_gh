# Issue 28151: qepcad installation fails on macOS

archive/issues_028151.json:
```json
{
    "body": "CC:  dimpase vdelecroix tscrim\n\n\n```\n[qepcad-B.1.71] ar crvU sfexto.a BPOLSETS.o\n[qepcad-B.1.71] /Library/Developer/CommandLineTools/usr/bin/ar: illegal option -- U\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/28388\n\n",
    "created_at": "2019-08-23T01:12:26Z",
    "labels": [
        "packages: experimental",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "qepcad installation fails on macOS",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28151",
    "user": "mkoeppe"
}
```
CC:  dimpase vdelecroix tscrim


```
[qepcad-B.1.71] ar crvU sfexto.a BPOLSETS.o
[qepcad-B.1.71] /Library/Developer/CommandLineTools/usr/bin/ar: illegal option -- U
```


Issue created by migration from https://trac.sagemath.org/ticket/28388





---

archive/issue_comments_397535.json:
```json
{
    "body": "`+# * User ARFLAGS` -> `+# * Use ARFLAGS`\n----\nNew commits:",
    "created_at": "2019-08-23T06:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397535",
    "user": "dimpase"
}
```

`+# * User ARFLAGS` -> `+# * Use ARFLAGS`
----
New commits:



---

archive/issue_comments_397536.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-24T21:31:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397536",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397537.json:
```json
{
    "body": "I am away from my OSX till early Sept., and so can't test it properly now.",
    "created_at": "2019-08-26T08:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397537",
    "user": "dimpase"
}
```

I am away from my OSX till early Sept., and so can't test it properly now.



---

archive/issue_comments_397538.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397538",
    "user": "embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_397539.json:
```json
{
    "body": "please add a link to the tarball",
    "created_at": "2020-02-08T09:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397539",
    "user": "dimpase"
}
```

please add a link to the tarball



---

archive/issue_comments_397540.json:
```json
{
    "body": "In case, on Debian 10 I get a linking error:\n\n```\n[qepcad-B.1.72] ranlib qepcad.a\n[qepcad-B.1.72] Linking the optimized program......\n[qepcad-B.1.72] g++ -O3 -g -Wl,-rpath,/home/dimpase/sage-src/local/lib -I/home/dimpase/sage-src/local/lib/saclib/include  -I. saclib/GCSI.c saclib/FAIL.c \\\n[qepcad-B.1.72]   qepcad.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/sfext/sfexto.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/lift2D/lift2Do.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/newadj/newadjo.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/adj2d/adj2do.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/rend/rendo.a /home/dimpase/sage-src/local/lib/saclib/lib/saclibo.a -lreadline  qepcad.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/sfext/sfexto.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/lift2D/lift2Do.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/newadj/newadjo.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/adj2d/adj2do.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/rend/rendo.a /home/dimpase/sage-src/local/lib/saclib/lib/saclibo.a -lreadline  -o qepcad\n[qepcad-B.1.72] /usr/bin/ld: qepcad.a(MAIN.o): in function `sendSignalAfterInterval':\n[qepcad-B.1.72] /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/source/main/MAIN.c:93: undefined reference to `timer_create'\n[qepcad-B.1.72] /usr/bin/ld: /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/source/main/MAIN.c:102: undefined reference to `timer_settime'\n[qepcad-B.1.72] collect2: error: ld returned 1 exit status\n```\n",
    "created_at": "2020-02-09T19:17:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397540",
    "user": "dimpase"
}
```

In case, on Debian 10 I get a linking error:

```
[qepcad-B.1.72] ranlib qepcad.a
[qepcad-B.1.72] Linking the optimized program......
[qepcad-B.1.72] g++ -O3 -g -Wl,-rpath,/home/dimpase/sage-src/local/lib -I/home/dimpase/sage-src/local/lib/saclib/include  -I. saclib/GCSI.c saclib/FAIL.c \
[qepcad-B.1.72]   qepcad.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/sfext/sfexto.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/lift2D/lift2Do.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/newadj/newadjo.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/adj2d/adj2do.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/rend/rendo.a /home/dimpase/sage-src/local/lib/saclib/lib/saclibo.a -lreadline  qepcad.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/sfext/sfexto.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/lift2D/lift2Do.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/newadj/newadjo.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/adj2d/adj2do.a /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/rend/rendo.a /home/dimpase/sage-src/local/lib/saclib/lib/saclibo.a -lreadline  -o qepcad
[qepcad-B.1.72] /usr/bin/ld: qepcad.a(MAIN.o): in function `sendSignalAfterInterval':
[qepcad-B.1.72] /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/source/main/MAIN.c:93: undefined reference to `timer_create'
[qepcad-B.1.72] /usr/bin/ld: /home/dimpase/sage-src/local/var/tmp/sage/build/qepcad-B.1.72/src/source/main/MAIN.c:102: undefined reference to `timer_settime'
[qepcad-B.1.72] collect2: error: ld returned 1 exit status
```




---

archive/issue_comments_397541.json:
```json
{
    "body": "Same on `ubuntu-trusty` (see ticket description)",
    "created_at": "2020-02-09T19:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397541",
    "user": "mkoeppe"
}
```

Same on `ubuntu-trusty` (see ticket description)



---

archive/issue_comments_397542.json:
```json
{
    "body": "`timer_create` may need `-lrt`.",
    "created_at": "2020-02-09T20:07:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397542",
    "user": "mkoeppe"
}
```

`timer_create` may need `-lrt`.



---

archive/issue_comments_397543.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-02-11T03:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397543",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_397544.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-11T20:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397544",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397545.json:
```json
{
    "body": "New tests at https://github.com/mkoeppe/sage/actions/runs/37795120",
    "created_at": "2020-02-11T20:56:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397545",
    "user": "mkoeppe"
}
```

New tests at https://github.com/mkoeppe/sage/actions/runs/37795120



---

archive/issue_comments_397546.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-12T19:06:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397546",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_397547.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-17T16:04:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397547",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_397548.json:
```json
{
    "body": "Rebased, no longer on top of #26351.",
    "created_at": "2020-02-17T16:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397548",
    "user": "mkoeppe"
}
```

Rebased, no longer on top of #26351.



---

archive/issue_comments_397549.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-02-17T16:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397549",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_397550.json:
```json
{
    "body": "Ready for review.",
    "created_at": "2020-02-24T16:46:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397550",
    "user": "mkoeppe"
}
```

Ready for review.



---

archive/issue_comments_397551.json:
```json
{
    "body": "I can confirm this works on Ubuntu 18.04, but I do not have a OSX platform to test. However, given that it is an experimental package and (last I knew) Matthias uses OSX, so it has at least one person testing on that, I am going to set this to a positive review.",
    "created_at": "2020-03-02T00:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397551",
    "user": "tscrim"
}
```

I can confirm this works on Ubuntu 18.04, but I do not have a OSX platform to test. However, given that it is an experimental package and (last I knew) Matthias uses OSX, so it has at least one person testing on that, I am going to set this to a positive review.



---

archive/issue_comments_397552.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-02T00:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397552",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_397553.json:
```json
{
    "body": "Thank you!",
    "created_at": "2020-03-02T00:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397553",
    "user": "mkoeppe"
}
```

Thank you!



---

archive/issue_comments_397554.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-02T23:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28151",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28151#issuecomment-397554",
    "user": "vbraun"
}
```

Resolution: fixed
