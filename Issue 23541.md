# Issue 23541: PermutationGroup.cardinality is sometimes an int

Issue created by migration from https://trac.sagemath.org/ticket/23778

Original creator: vdelecroix

Original creation time: 2017-09-02 18:10:51


```
sage: P = PermutationGroup(['(1,2)','(1,3)'])
sage: P.cardinality()
6
sage: type(P.cardinality())
<type 'int'>
```

This prevents using the `.is_one()` method or any other `Integer` specific method.

The problem comes from the shortcuts implemented in the `_order` method.


---

Comment by vdelecroix created at 2017-09-02 18:26:58

New commits:


---

Comment by vdelecroix created at 2017-09-02 18:26:58

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-09-02 21:00:40

Did you also check to see how

```python
        cycle_tuples = []
        for g in gens:
            temp = g.cycle_tuples()
            if len(temp) != 2:
                return None
            cycle_tuples.append(temp)
```

compares timing-wise? At least it seems like it would be faster...


---

Comment by vdelecroix created at 2017-09-03 05:32:59

I don't believe that `cycle_tuples` would be the culprit, but your version is cleaner.


---

Comment by git created at 2017-09-04 06:02:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-09-04 14:34:31

One failing test according to the patchbot:

```
sage -t --long src/sage/sets/set_from_iterator.py  # 1 doctest failed
```



---

Comment by tscrim created at 2017-09-04 14:34:37

Changing status from needs_review to needs_work.


---

Comment by git created at 2017-09-04 17:05:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2017-09-04 17:06:12

Indeed... the source code had changed.


---

Comment by vdelecroix created at 2017-09-04 17:06:20

Fixed!


---

Comment by vdelecroix created at 2017-09-04 17:06:59

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2017-09-04 17:33:18

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-09-04 17:33:18

Thanks.


---

Comment by vbraun created at 2017-09-10 11:56:46

Resolution: fixed
