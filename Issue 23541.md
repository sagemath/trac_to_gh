# Issue 23541: PermutationGroup.cardinality is sometimes an int

archive/issues_023541.json:
```json
{
    "body": "\n```\nsage: P = PermutationGroup(['(1,2)','(1,3)'])\nsage: P.cardinality()\n6\nsage: type(P.cardinality())\n<type 'int'>\n```\n\nThis prevents using the `.is_one()` method or any other `Integer` specific method.\n\nThe problem comes from the shortcuts implemented in the `_order` method.\n\nIssue created by migration from https://trac.sagemath.org/ticket/23778\n\n",
    "created_at": "2017-09-02T18:10:51Z",
    "labels": [
        "group theory",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "PermutationGroup.cardinality is sometimes an int",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/23541",
    "user": "vdelecroix"
}
```

```
sage: P = PermutationGroup(['(1,2)','(1,3)'])
sage: P.cardinality()
6
sage: type(P.cardinality())
<type 'int'>
```

This prevents using the `.is_one()` method or any other `Integer` specific method.

The problem comes from the shortcuts implemented in the `_order` method.

Issue created by migration from https://trac.sagemath.org/ticket/23778





---

archive/issue_comments_329779.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-09-02T18:26:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329779",
    "user": "vdelecroix"
}
```

New commits:



---

archive/issue_comments_329780.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-09-02T18:26:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329780",
    "user": "vdelecroix"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_329781.json:
```json
{
    "body": "Did you also check to see how\n\n```python\n        cycle_tuples = []\n        for g in gens:\n            temp = g.cycle_tuples()\n            if len(temp) != 2:\n                return None\n            cycle_tuples.append(temp)\n```\n\ncompares timing-wise? At least it seems like it would be faster...",
    "created_at": "2017-09-02T21:00:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329781",
    "user": "tscrim"
}
```

Did you also check to see how

```python
        cycle_tuples = []
        for g in gens:
            temp = g.cycle_tuples()
            if len(temp) != 2:
                return None
            cycle_tuples.append(temp)
```

compares timing-wise? At least it seems like it would be faster...



---

archive/issue_comments_329782.json:
```json
{
    "body": "I don't believe that `cycle_tuples` would be the culprit, but your version is cleaner.",
    "created_at": "2017-09-03T05:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329782",
    "user": "vdelecroix"
}
```

I don't believe that `cycle_tuples` would be the culprit, but your version is cleaner.



---

archive/issue_comments_329783.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-04T06:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329783",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_329784.json:
```json
{
    "body": "One failing test according to the patchbot:\n\n```\nsage -t --long src/sage/sets/set_from_iterator.py  # 1 doctest failed\n```\n",
    "created_at": "2017-09-04T14:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329784",
    "user": "tscrim"
}
```

One failing test according to the patchbot:

```
sage -t --long src/sage/sets/set_from_iterator.py  # 1 doctest failed
```




---

archive/issue_comments_329785.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-09-04T14:34:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329785",
    "user": "tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_329786.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-04T17:05:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329786",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_329787.json:
```json
{
    "body": "Indeed... the source code had changed.",
    "created_at": "2017-09-04T17:06:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329787",
    "user": "vdelecroix"
}
```

Indeed... the source code had changed.



---

archive/issue_comments_329788.json:
```json
{
    "body": "Fixed!",
    "created_at": "2017-09-04T17:06:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329788",
    "user": "vdelecroix"
}
```

Fixed!



---

archive/issue_comments_329789.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-09-04T17:06:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329789",
    "user": "vdelecroix"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_329790.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-09-04T17:33:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329790",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_329791.json:
```json
{
    "body": "Thanks.",
    "created_at": "2017-09-04T17:33:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329791",
    "user": "tscrim"
}
```

Thanks.



---

archive/issue_comments_329792.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-10T11:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/23541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/23541#issuecomment-329792",
    "user": "vbraun"
}
```

Resolution: fixed
