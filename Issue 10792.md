# Issue 10792: segfault when multiplying 0x0 dense matrix with a vector.

Issue created by migration from Trac.

Original creator: mderickx

Original creation time: 2011-02-28 10:21:20

Assignee: jason, was

Keywords: SIGSEGV, segmentation fault

The following is with sage 4.6.1 on OS X run under gdb to show more info:


```
sage: v=vector(GF(2),0,[],sparse=False)
Reading symbols for shared libraries . done
sage: m=matrix(GF(2),0,0,[],sparse=False)
sage: m*v
Reading symbols for shared libraries . done

Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_INVALID_ADDRESS at address: 0x0000000000000018
0x0000000106fc6239 in _mzd_mul_naive ()
(gdb) 
```




---

Comment by johanbosman created at 2011-04-06 16:59:39

Changing status from new to needs_review.


---

Attachment

The pointer _entries remains uninitialised for empty matrices but the m4ri function _mzd_mul_naive does address it.  The attached patch fixes this.


---

Comment by mderickx created at 2011-04-07 08:58:35

Changing status from needs_review to positive_review.


---

Comment by mderickx created at 2011-04-07 08:58:35

Hej Johan,

Bedankt voor t fixen :).

I just looked at it and the patch aplies fine without failing doctest. Also found no problems when trying to get segfaults with similar examples. So I give it a positive review.


---

Comment by jdemeyer created at 2011-04-13 07:43:54

Resolution: fixed
