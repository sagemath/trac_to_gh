# Issue 14899: spkg-install improvements

archive/issues_014899.json:
```json
{
    "body": "Keywords: spkg-install idempotence environment\n\nThe build system #14796 works better with some minor tweaks to some spkg-install scripts.\n\n- with idempotence, \"keepbuilt\" starts to make sense\n- without hardwired paths, compiling with packages disabled (=fallback to system) works\n- with environment in `$SAGE_ETC/env.d/*`, run time environment is more flexible\n\nthese changes are minimal (for each package) and are intended to not break the old build system.\n\nIssue created by migration from https://trac.sagemath.org/ticket/15136\n\n",
    "created_at": "2013-09-01T15:37:38Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "spkg-install improvements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14899",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```
Keywords: spkg-install idempotence environment

The build system #14796 works better with some minor tweaks to some spkg-install scripts.

- with idempotence, "keepbuilt" starts to make sense
- without hardwired paths, compiling with packages disabled (=fallback to system) works
- with environment in `$SAGE_ETC/env.d/*`, run time environment is more flexible

these changes are minimal (for each package) and are intended to not break the old build system.

Issue created by migration from https://trac.sagemath.org/ticket/15136





---

archive/issue_comments_189931.json:
```json
{
    "body": "Changing keywords from \"spkg-install idempotence environment\" to \"spkg-install idempotence environment filelist\".",
    "created_at": "2013-09-02T07:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189931",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

Changing keywords from "spkg-install idempotence environment" to "spkg-install idempotence environment filelist".



---

archive/issue_comments_189932.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T10:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189932",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_189933.json:
```json
{
    "body": "I have set \"needs_review\", subsequent commits will be independent.",
    "created_at": "2013-09-05T10:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189933",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

I have set "needs_review", subsequent commits will be independent.



---

archive/issue_comments_189934.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-09-05T10:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189934",
    "user": "https://trac.sagemath.org/admin/accounts/users/felixs"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_189935.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-06T21:10:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189935",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_189936.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-07T18:48:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189936",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_189937.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-08T09:05:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189937",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_189938.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-16T18:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189938",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_189939.json:
```json
{
    "body": "Needs to be rebased.",
    "created_at": "2013-12-29T18:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189939",
    "user": "https://github.com/jdemeyer"
}
```

Needs to be rebased.



---

archive/issue_comments_189940.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-12-29T18:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189940",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_043601.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14899#event-43601"
}
```



---

archive/issue_events_043602.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14899#event-43602"
}
```



---

archive/issue_events_043603.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14899#event-43603"
}
```



---

archive/issue_events_043604.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14899#event-43604"
}
```



---

archive/issue_events_043605.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14899#event-43605"
}
```



---

archive/issue_comments_189941.json:
```json
{
    "body": "It's too bad this never went anywhere since it was a lot of work.  It seems to be redundant though with what I'm doing with #23160 #22509, and #22510.",
    "created_at": "2017-07-12T12:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189941",
    "user": "https://github.com/embray"
}
```

It's too bad this never went anywhere since it was a lot of work.  It seems to be redundant though with what I'm doing with #23160 #22509, and #22510.



---

archive/issue_events_043606.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-25T02:19:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14899#event-43606"
}
```



---

archive/issue_events_043607.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-25T02:19:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14899#event-43607"
}
```



---

archive/issue_comments_189942.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-25T02:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189942",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_189943.json:
```json
{
    "body": "Outdated, should be closed",
    "created_at": "2020-04-25T02:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189943",
    "user": "https://github.com/mkoeppe"
}
```

Outdated, should be closed



---

archive/issue_comments_189944.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-10-06T21:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189944",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_043608.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-11T22:19:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14899#event-43608"
}
```



---

archive/issue_comments_189945.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2020-10-11T22:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-189945",
    "user": "https://github.com/slel"
}
```

Resolution: duplicate
