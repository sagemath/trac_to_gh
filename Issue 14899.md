# Issue 14899: spkg-install improvements

archive/issues_014899.json:
```json
{
    "body": "Keywords: spkg-install idempotence environment\n\nThe build system #14796 works better with some minor tweaks to some spkg-install scripts.\n\n- with idempotence, \"keepbuilt\" starts to make sense\n- without hardwired paths, compiling with packages disabled (=fallback to system) works\n- with environment in `$SAGE_ETC/env.d/*`, run time environment is more flexible\n\nthese changes are minimal (for each package) and are intended to not break the old build system.\n\nIssue created by migration from https://trac.sagemath.org/ticket/15136\n\n",
    "created_at": "2013-09-01T15:37:38Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "spkg-install improvements",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14899",
    "user": "felixs"
}
```
Keywords: spkg-install idempotence environment

The build system #14796 works better with some minor tweaks to some spkg-install scripts.

- with idempotence, "keepbuilt" starts to make sense
- without hardwired paths, compiling with packages disabled (=fallback to system) works
- with environment in `$SAGE_ETC/env.d/*`, run time environment is more flexible

these changes are minimal (for each package) and are intended to not break the old build system.

Issue created by migration from https://trac.sagemath.org/ticket/15136





---

archive/issue_comments_190191.json:
```json
{
    "body": "Changing keywords from \"spkg-install idempotence environment\" to \"spkg-install idempotence environment filelist\".",
    "created_at": "2013-09-02T07:33:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190191",
    "user": "felixs"
}
```

Changing keywords from "spkg-install idempotence environment" to "spkg-install idempotence environment filelist".



---

archive/issue_comments_190192.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-05T10:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190192",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_190193.json:
```json
{
    "body": "I have set \"needs_review\", subsequent commits will be independent.",
    "created_at": "2013-09-05T10:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190193",
    "user": "felixs"
}
```

I have set "needs_review", subsequent commits will be independent.



---

archive/issue_comments_190194.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-09-05T10:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190194",
    "user": "felixs"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_190195.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-06T21:10:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190195",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_190196.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-07T18:48:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190196",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_190197.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-08T09:05:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190197",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_190198.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-09-16T18:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190198",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_190199.json:
```json
{
    "body": "Needs to be rebased.",
    "created_at": "2013-12-29T18:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190199",
    "user": "@jdemeyer"
}
```

Needs to be rebased.



---

archive/issue_comments_190200.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-12-29T18:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190200",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_190201.json:
```json
{
    "body": "It's too bad this never went anywhere since it was a lot of work.  It seems to be redundant though with what I'm doing with #23160 #22509, and #22510.",
    "created_at": "2017-07-12T12:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190201",
    "user": "@embray"
}
```

It's too bad this never went anywhere since it was a lot of work.  It seems to be redundant though with what I'm doing with #23160 #22509, and #22510.



---

archive/issue_comments_190202.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-25T02:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190202",
    "user": "@mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_190203.json:
```json
{
    "body": "Outdated, should be closed",
    "created_at": "2020-04-25T02:19:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190203",
    "user": "@mkoeppe"
}
```

Outdated, should be closed



---

archive/issue_comments_190204.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-10-06T21:40:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190204",
    "user": "@dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_190205.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2020-10-11T22:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14899#issuecomment-190205",
    "user": "@slel"
}
```

Resolution: duplicate
