# Issue 13077: lrs_volume is broken by polyedral refactoring

archive/issues_013077.json:
```json
{
    "body": "Assignee: mhampton\n\nCC:  @vbraun\n\nKeywords: polyhedra, lrs_volume, geometry\n\nThe recent changes to the geometry/polyhedra module broke support for the lrs_volume() method of the Polyhedron class.  This is not tested usually because it relies on the lrs optional package.  The fix is very simple, just a couple of imports needed to be added.\n\nIssue created by migration from https://trac.sagemath.org/ticket/13249\n\n",
    "created_at": "2012-07-13T16:28:14Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.9",
    "title": "lrs_volume is broken by polyedral refactoring",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13077",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```
Assignee: mhampton

CC:  @vbraun

Keywords: polyhedra, lrs_volume, geometry

The recent changes to the geometry/polyhedra module broke support for the lrs_volume() method of the Polyhedron class.  This is not tested usually because it relies on the lrs optional package.  The fix is very simple, just a couple of imports needed to be added.

Issue created by migration from https://trac.sagemath.org/ticket/13249





---

archive/issue_comments_158754.json:
```json
{
    "body": "Attachment [trac_13249_fix_lrs_volume.patch](tarball://root/attachments/some-uuid/ticket13249/trac_13249_fix_lrs_volume.patch) by mhampton created at 2012-07-13 16:30:42",
    "created_at": "2012-07-13T16:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158754",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

Attachment [trac_13249_fix_lrs_volume.patch](tarball://root/attachments/some-uuid/ticket13249/trac_13249_fix_lrs_volume.patch) by mhampton created at 2012-07-13 16:30:42



---

archive/issue_comments_158755.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-07-13T16:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158755",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_158756.json:
```json
{
    "body": "We came across this exact issue today when exploring the polyhedra functionality in Sage at Sage Days 45. And we came up with the same fix, except that we put the import statements directly in the `lrs_volume` method.",
    "created_at": "2013-02-13T19:19:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158756",
    "user": "https://github.com/saliola"
}
```

We came across this exact issue today when exploring the polyhedra functionality in Sage at Sage Days 45. And we came up with the same fix, except that we put the import statements directly in the `lrs_volume` method.



---

archive/issue_comments_158757.json:
```json
{
    "body": "Attachment [trac_13249.patch](tarball://root/attachments/some-uuid/ticket13249/trac_13249.patch) by @saliola created at 2013-02-13 19:21:03",
    "created_at": "2013-02-13T19:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158757",
    "user": "https://github.com/saliola"
}
```

Attachment [trac_13249.patch](tarball://root/attachments/some-uuid/ticket13249/trac_13249.patch) by @saliola created at 2013-02-13 19:21:03



---

archive/issue_comments_158758.json:
```json
{
    "body": "Apply: trac_13249.patch",
    "created_at": "2013-02-13T19:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158758",
    "user": "https://github.com/saliola"
}
```

Apply: trac_13249.patch



---

archive/issue_comments_158759.json:
```json
{
    "body": "Sounds good. Can you include a commit message? Just edit the patch with a text editor...",
    "created_at": "2013-02-13T19:46:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158759",
    "user": "https://github.com/vbraun"
}
```

Sounds good. Can you include a commit message? Just edit the patch with a text editor...



---

archive/issue_comments_158760.json:
```json
{
    "body": "Apologies for taking over the ticket, but this belongs together anyways.",
    "created_at": "2013-02-13T20:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158760",
    "user": "https://github.com/vbraun"
}
```

Apologies for taking over the ticket, but this belongs together anyways.



---

archive/issue_comments_158761.json:
```json
{
    "body": "For the patchbot:\n\napply trac_13249_vb.patch, trac_13249_volume.patch",
    "created_at": "2013-02-13T20:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158761",
    "user": "https://github.com/vbraun"
}
```

For the patchbot:

apply trac_13249_vb.patch, trac_13249_volume.patch



---

archive/issue_comments_158762.json:
```json
{
    "body": "I've added the commit message to Frank's patch. I think thats the version to go with since its less global imports. I'm giving positive review to his patch. If one of you guys could review mine then we can ship it...",
    "created_at": "2013-02-13T20:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158762",
    "user": "https://github.com/vbraun"
}
```

I've added the commit message to Frank's patch. I think thats the version to go with since its less global imports. I'm giving positive review to his patch. If one of you guys could review mine then we can ship it...



---

archive/issue_comments_158763.json:
```json
{
    "body": "For the patchbot:\n\napply trac_13249_vb.patch, trac_13249_volume.patch",
    "created_at": "2013-02-13T20:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158763",
    "user": "https://github.com/vbraun"
}
```

For the patchbot:

apply trac_13249_vb.patch, trac_13249_volume.patch



---

archive/issue_comments_158764.json:
```json
{
    "body": "Attachment [trac_13249_volume.patch](tarball://root/attachments/some-uuid/ticket13249/trac_13249_volume.patch) by @vbraun created at 2013-03-10 03:23:23\n\nRebased patch",
    "created_at": "2013-03-10T03:23:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158764",
    "user": "https://github.com/vbraun"
}
```

Attachment [trac_13249_volume.patch](tarball://root/attachments/some-uuid/ticket13249/trac_13249_volume.patch) by @vbraun created at 2013-03-10 03:23:23

Rebased patch



---

archive/issue_comments_158765.json:
```json
{
    "body": "Rebased for Sage-5.8.beta4\n\nNow would be a good time to review this rather trivial ticket *hint* *hint*",
    "created_at": "2013-03-10T03:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158765",
    "user": "https://github.com/vbraun"
}
```

Rebased for Sage-5.8.beta4

Now would be a good time to review this rather trivial ticket *hint* *hint*



---

archive/issue_comments_158766.json:
```json
{
    "body": "Rebased patch",
    "created_at": "2013-03-10T04:13:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158766",
    "user": "https://github.com/vbraun"
}
```

Rebased patch



---

archive/issue_comments_158767.json:
```json
{
    "body": "Attachment [trac_13249_vb.patch](tarball://root/attachments/some-uuid/ticket13249/trac_13249_vb.patch) by @vbraun created at 2013-03-10 04:14:29\n\nFor the patchbot: \n\napply trac_13249_vb.patch, trac_13249_volume.patch",
    "created_at": "2013-03-10T04:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158767",
    "user": "https://github.com/vbraun"
}
```

Attachment [trac_13249_vb.patch](tarball://root/attachments/some-uuid/ticket13249/trac_13249_vb.patch) by @vbraun created at 2013-03-10 04:14:29

For the patchbot: 

apply trac_13249_vb.patch, trac_13249_volume.patch



---

archive/issue_comments_158768.json:
```json
{
    "body": "Attachment [trac_13249-review-fc.patch](tarball://root/attachments/some-uuid/ticket13249/trac_13249-review-fc.patch) by @fchapoton created at 2013-03-16 21:37:44",
    "created_at": "2013-03-16T21:37:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158768",
    "user": "https://github.com/fchapoton"
}
```

Attachment [trac_13249-review-fc.patch](tarball://root/attachments/some-uuid/ticket13249/trac_13249-review-fc.patch) by @fchapoton created at 2013-03-16 21:37:44



---

archive/issue_comments_158769.json:
```json
{
    "body": "I have made a small review patch, including a clean up of the unused or missing import statements (found using pyflakes)\n\nIf you are happy with my review patch, and when the bot turns green again, you can set a positive review\n\nfor the bot:\n\nApply trac_13249_vb.patch trac_13249_volume.patch trac_13249-review-fc.patch",
    "created_at": "2013-03-16T21:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158769",
    "user": "https://github.com/fchapoton"
}
```

I have made a small review patch, including a clean up of the unused or missing import statements (found using pyflakes)

If you are happy with my review patch, and when the bot turns green again, you can set a positive review

for the bot:

Apply trac_13249_vb.patch trac_13249_volume.patch trac_13249-review-fc.patch



---

archive/issue_comments_158770.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-03-16T22:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158770",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_158771.json:
```json
{
    "body": "Reviewer patch looks good to me.",
    "created_at": "2013-03-16T22:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158771",
    "user": "https://github.com/vbraun"
}
```

Reviewer patch looks good to me.



---

archive/issue_comments_158772.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-03-20T14:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13077#issuecomment-158772",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
