# Issue 33322: Fix bug in sage.graphs.graph_coloring.vertex_coloring

Issue created by migration from https://trac.sagemath.org/ticket/33559

Original creator: dcoudert

Original creation time: 2022-03-25 10:32:03

CC:  tscrim chapoton


```
sage: G = Graph('MgCgS?_O@IeTHKG??')
sage: G.coloring(algorithm='MILP')
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-15-a11d58441664> in <module>
----> 1 G.coloring(algorithm='MILP')

~/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/graphs/graph.py in coloring(self, algorithm, hex_colors, solver, verbose, integrality_tolerance)
   3831         if algorithm == "MILP":
   3832             from sage.graphs.graph_coloring import vertex_coloring
-> 3833             return vertex_coloring(self, hex_colors=hex_colors, solver=solver, verbose=verbose,
   3834                                    integrality_tolerance=integrality_tolerance)
   3835         elif algorithm == "DLX":

~/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/graphs/graph_coloring.pyx in sage.graphs.graph_coloring.vertex_coloring (build/cythonized/sage/graphs/graph_coloring.cpp:7658)()
    504         while True:
    505             # tries to color the graph, increasing k each time it fails.
--> 506             tmp = vertex_coloring(g, k=k, value_only=value_only,
    507                                   hex_colors=hex_colors, solver=solver, verbose=verbose,
    508                                   integrality_tolerance=integrality_tolerance)

~/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/graphs/graph_coloring.pyx in sage.graphs.graph_coloring.vertex_coloring (build/cythonized/sage/graphs/graph_coloring.cpp:9219)()
    578                                        solver=solver, verbose=verbose,
    579                                        integrality_tolerance=integrality_tolerance)
--> 580             value = vertex_coloring(g.subgraph(list(vertices)), k=k,
    581                                     value_only=value_only,
    582                                     hex_colors=False,

TypeError: Expected list, got bool
```



---

Comment by dcoudert created at 2022-03-25 11:00:37

New commits:


---

Comment by dcoudert created at 2022-03-25 11:00:37

Changing status from new to needs_review.


---

Comment by chapoton created at 2022-03-25 16:09:57

ok, allons-y


---

Comment by chapoton created at 2022-03-25 16:09:57

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2022-03-25 16:11:23

Merci.


---

Comment by vbraun created at 2022-04-02 10:53:03

Resolution: fixed
