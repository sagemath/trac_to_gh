# Issue 23767: Implement digraphs()

Issue created by migration from Trac.

Original creator: jmantysalo

Original creation time: 2017-10-10 08:51:51

CC:  dcoudert

Currently `graphs()` is an iterator that can be used to found an example of the smallest cardinality of a graph with given properties.

It is unlogical that the same does not work for directed graphs.


---

Comment by jmantysalo created at 2017-10-10 11:53:12

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2017-10-10 11:53:12

New commits:


---

Comment by dcoudert created at 2017-10-10 12:37:37

What you did is correct and more than useful. Thanks. However, the generator is not working as expected. For instance:

```
sage: for d in digraphs(4, property=lambda x:x.is_strongly_connected()):
....:     print d.order(),d.edges()
....:     
sage: 
```


Also, the documentation of the `canaug_traverse_vert` and `canaug_traverse_edge` methods in `graph_generators.py` must be updated (many input parameters are not documented). You could do it in this patch.


---

Comment by jmantysalo created at 2017-10-10 12:48:04

"If for any graph G satisfying the property, every subgraph, obtained from G by deleting one edge - -", says the documentation. That is, the generation works only for "hereditary" properties.

This is actually somewhat complicated area. An example:

Every graph can be dismantled by removing one vertex a time until the single vertex graph is left, so every graph can be built by adding one vertex a time. Now let's suppose you optimize and only add vertex `i` if the degree of it is at least the degree of vertex `i-1`. It works, but if you generate connected graphs, it wont, as there is one 6-vertex graph that will not be generated.

The input for `canaug_traverse_*` seems frightening... Not sure if I can handle it yet.


---

Comment by dcoudert created at 2017-10-10 13:19:57

There are solution à la `graphs.nauty_geng` that can be used. On the webpage of nauty, http://pallini.di.uniroma1.it/, the user's guide indicate that `directg` generates small digraphs with given underlying graph, and that `watercluster2` is a faster alternative to `directg` written by Gunnar Brinkmann. We might use such implementation do generate digraphs with non hereditary properties (`nauty_geng` can generate biconnected graphs).
Of course, this is for another ticket.

I also propose to let the improvement of the documentations of `canaug_traverse_*` for another ticket. 

Since the patch passes all tests and that the documentation is nicer, I give positive review.


---

Comment by jmantysalo created at 2017-10-11 05:57:36

Replying to [comment:5 dcoudert]:

> There are solution à la `graphs.nauty_geng` that can be used. On the webpage of nauty, http://pallini.di.uniroma1.it/, the user's guide indicate that `directg` generates small digraphs with given underlying graph, and that `watercluster2` is a faster alternative to `directg` written by Gunnar Brinkmann. We might use such implementation do generate digraphs with non hereditary properties (`nauty_geng` can generate biconnected graphs).

Interesting. Can you summarize the main idea behind them? Orderly generation needs hereditary property by definition, but there may be other ways to do the augmentation. Adding a cycle when generating Eulerian graphs?

> Since the patch passes all tests and that the documentation is nicer, I give positive review.

OK. Did you intend to do it already, or are you running tests?


---

Comment by dcoudert created at 2017-10-11 06:52:11

> Interesting. Can you summarize the main idea behind them? Orderly generation needs hereditary property by definition, but there may be other ways to do the augmentation. Adding a cycle when generating Eulerian graphs?

I don't know how it's working.
 
> > Since the patch passes all tests and that the documentation is nicer, I give positive review.
> 
> OK. Did you intend to do it already, or are you running tests?
I have compiled the code, run tests, build doc and display the html.


---

Comment by dcoudert created at 2017-10-11 17:03:36

... and forgot to click the right button.


---

Comment by dcoudert created at 2017-10-11 17:03:36

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-10-20 09:15:11

Resolution: fixed
