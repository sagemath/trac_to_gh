# Issue 15828: Python 3 preparation: Handle removed exec statement

Issue created by migration from Trac.

Original creator: wluebbe

Original creation time: 2014-04-07 08:33:16

Keywords: python3

In Py2 there is the [exec statement](https://docs.python.org/2/reference/simple_stmts.html#index-55), while in Py3 there is an [exec() function](https://docs.python.org/3.3/library/functions.html#exec).

The tool 2to3 changes the `exec` statement into the `exec()` function.


But the function is not supported by Py2.

There are 6 effected modules. 

This ticket is tracked as a dependency of meta-ticket ticket:16052.


---

Comment by aapitzsch created at 2014-07-19 13:34:25

New commits:


---

Comment by aapitzsch created at 2014-07-19 13:34:25

Changing status from new to needs_review.


---

Comment by chapoton created at 2014-07-24 20:02:28

Hello, I have split up the first instance of exec, as this can be completely removed. Please have a look at #16712, and give it a positive review if you agree with it.


---

Comment by git created at 2014-07-25 22:55:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2014-08-20 08:59:57

merged with 6.4.beta0
----
New commits:


---

Comment by aapitzsch created at 2014-08-28 14:59:03

Frédéric, what's missing for a positive review?


---

Comment by chapoton created at 2014-08-28 18:31:29

I would give a positive review, but how can it be ok if exec() does not exists in python2 ?

"But the function is not supported by Py2." in the ticket description !


---

Comment by aapitzsch created at 2014-08-28 18:55:05

See https://docs.python.org/2.7/reference/simple_stmts.html#exec

    The first expression may also be a tuple of length 2 or 3. In this case, the optional parts must be omitted. The form `exec(expr, globals)` is equivalent to `exec expr in globals`, while the form `exec(expr, globals, locals)` is equivalent to `exec expr in globals, locals`. The tuple form of `exec` provides compatibility with Python 3, where `exec` is a function rather than a statement.


---

Comment by chapoton created at 2014-08-28 19:28:05

ok, then.


---

Comment by chapoton created at 2014-08-28 19:28:05

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-09-06 11:02:55

Resolution: fixed
