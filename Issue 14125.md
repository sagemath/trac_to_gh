# Issue 14125: Remove all the `is_[A-Z]*` from global namespace

archive/issues_014125.json:
```json
{
    "body": "Assignee: tbd\n\nRemove all the `is_[A-Z]*` from global namespace. They have been deprecated for over two years.\n\nIssue created by migration from https://trac.sagemath.org/ticket/14329\n\n",
    "created_at": "2013-03-21T14:20:43Z",
    "labels": [
        "performance",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Remove all the `is_[A-Z]*` from global namespace",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14125",
    "user": "ppurka"
}
```
Assignee: tbd

Remove all the `is_[A-Z]*` from global namespace. They have been deprecated for over two years.

Issue created by migration from https://trac.sagemath.org/ticket/14329





---

archive/issue_comments_177122.json:
```json
{
    "body": "Do you mean `is_[A-Z][A-Za-z]*`?",
    "created_at": "2013-03-22T02:26:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177122",
    "user": "kini"
}
```

Do you mean `is_[A-Z][A-Za-z]*`?



---

archive/issue_comments_177123.json:
```json
{
    "body": "Arrgghhh! regexp!! There, the current modification should suffice.\n\nOn a serious note, what I do mean is all the \"is_Vector\", \"is_Polynomial\", \"is_Matrix\", and what not. The patch will be trivial but tiresome. I don't know any means of listing and testing whether they give a deprecation warning automatically. So, it has to be a slow, manual, and visual process.",
    "created_at": "2013-03-22T03:06:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177123",
    "user": "ppurka"
}
```

Arrgghhh! regexp!! There, the current modification should suffice.

On a serious note, what I do mean is all the "is_Vector", "is_Polynomial", "is_Matrix", and what not. The patch will be trivial but tiresome. I don't know any means of listing and testing whether they give a deprecation warning automatically. So, it has to be a slow, manual, and visual process.



---

archive/issue_comments_177124.json:
```json
{
    "body": "\n```python\nimport re\nfrom subprocess import check_output, STDOUT, CalledProcessError\nfor x in globals().keys():\n    if re.match(\"is_[A-Z]\", x) is not None:\n        try:\n            output = check_output(['sage', '-c', x + '(None)'], stderr=STDOUT)\n        except CalledProcessError as e:\n            output = e.output\n        if re.match(\".*DeprecationWarning\", output) is not None:\n            print x\n```\n\n\nis a hack but should work.",
    "created_at": "2013-03-22T03:22:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177124",
    "user": "kini"
}
```


```python
import re
from subprocess import check_output, STDOUT, CalledProcessError
for x in globals().keys():
    if re.match("is_[A-Z]", x) is not None:
        try:
            output = check_output(['sage', '-c', x + '(None)'], stderr=STDOUT)
        except CalledProcessError as e:
            output = e.output
        if re.match(".*DeprecationWarning", output) is not None:
            print x
```


is a hack but should work.



---

archive/issue_comments_177125.json:
```json
{
    "body": "(cc me)",
    "created_at": "2013-03-26T08:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177125",
    "user": "ncohen"
}
```

(cc me)



---

archive/issue_comments_177126.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-04-02T19:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177126",
    "user": "tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_177127.json:
```json
{
    "body": "This is a duplicate of #12824.",
    "created_at": "2013-04-02T19:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177127",
    "user": "tscrim"
}
```

This is a duplicate of #12824.



---

archive/issue_comments_177128.json:
```json
{
    "body": "I was definitely not advocating removing the functions themselves. They can still be used internally. Is it desired that the functions themselves are removed?",
    "created_at": "2013-04-02T19:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177128",
    "user": "ppurka"
}
```

I was definitely not advocating removing the functions themselves. They can still be used internally. Is it desired that the functions themselves are removed?



---

archive/issue_comments_177129.json:
```json
{
    "body": "Since they've already been deprecated (from the global namespace in #10107), the trivial ones can be removed since we don't really want to use them IMO (a extra unnecessary *python* function call). Perhaps we could just use this ticket to explicitly remove these functions only from the global namespace (as a step towards #12824)?",
    "created_at": "2013-04-02T19:33:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177129",
    "user": "tscrim"
}
```

Since they've already been deprecated (from the global namespace in #10107), the trivial ones can be removed since we don't really want to use them IMO (a extra unnecessary *python* function call). Perhaps we could just use this ticket to explicitly remove these functions only from the global namespace (as a step towards #12824)?



---

archive/issue_comments_177130.json:
```json
{
    "body": "Yes. That was my intention. :-)",
    "created_at": "2013-04-03T01:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177130",
    "user": "ppurka"
}
```

Yes. That was my intention. :-)



---

archive/issue_comments_177131.json:
```json
{
    "body": "Ah okay, then this patch would just be a matter of finding which `all.py` files are importing these...",
    "created_at": "2013-04-03T21:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177131",
    "user": "tscrim"
}
```

Ah okay, then this patch would just be a matter of finding which `all.py` files are importing these...



---

archive/issue_comments_177132.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-04-03T21:12:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177132",
    "user": "tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_177133.json:
```json
{
    "body": "As a first step I propose #15076",
    "created_at": "2013-08-22T10:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177133",
    "user": "chapoton"
}
```

As a first step I propose #15076



---

archive/issue_comments_177134.json:
```json
{
    "body": "step 1) should be ok and is wating for review at #15076",
    "created_at": "2013-08-25T13:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177134",
    "user": "chapoton"
}
```

step 1) should be ok and is wating for review at #15076



---

archive/issue_comments_177135.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-03-11T13:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177135",
    "user": "mmezzarobba"
}
```

New commits:



---

archive/issue_comments_177136.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-03-11T13:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177136",
    "user": "mmezzarobba"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_177137.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2014-03-11T13:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177137",
    "user": "mmezzarobba"
}
```

Changing priority from major to minor.



---

archive/issue_comments_177138.json:
```json
{
    "body": "For a ticket like that, it is very important to test sage in full. Did you do that ?",
    "created_at": "2014-03-11T14:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177138",
    "user": "chapoton"
}
```

For a ticket like that, it is very important to test sage in full. Did you do that ?



---

archive/issue_comments_177139.json:
```json
{
    "body": "Replying to [comment:21 chapoton]:\n> For a ticket like that, it is very important to test sage in full. Did you do that ?\n\nI ran `make ptest`, but not `# long time` nor optional tests (...but the few doctests matching `sage:.*is_.*optional` seem to properly import the predicate they call).",
    "created_at": "2014-03-11T14:21:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177139",
    "user": "mmezzarobba"
}
```

Replying to [comment:21 chapoton]:
> For a ticket like that, it is very important to test sage in full. Did you do that ?

I ran `make ptest`, but not `# long time` nor optional tests (...but the few doctests matching `sage:.*is_.*optional` seem to properly import the predicate they call).



---

archive/issue_comments_177140.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2014-05-15T20:13:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177140",
    "user": "pbruin"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_177141.json:
```json
{
    "body": "There are still dozens of `is_*` functions in the global namespace; `is_Radix64StringMonoidElement`, just to name a random example arising from typing `is_[tab]` in Sage 6.3.beta1.  Shouldn't there be some more steps like 1-3 in the ticket description before we can remove the warning?",
    "created_at": "2014-05-15T20:13:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177141",
    "user": "pbruin"
}
```

There are still dozens of `is_*` functions in the global namespace; `is_Radix64StringMonoidElement`, just to name a random example arising from typing `is_[tab]` in Sage 6.3.beta1.  Shouldn't there be some more steps like 1-3 in the ticket description before we can remove the warning?



---

archive/issue_comments_177142.json:
```json
{
    "body": "Replying to [comment:24 pbruin]:\n> There are still dozens of `is_*` functions in the global namespace; `is_Radix64StringMonoidElement`, just to name a random example arising from typing `is_[tab]` in Sage 6.3.beta1.  Shouldn't there be some more steps like 1-3 in the ticket description before we can remove the warning?\n\nLooks like you are completely right! I don't remember why I thought we were done.\n\nBtw many of the imports that were supposed to be removed as part of steps 1)-3) are still there (or were added back?).",
    "created_at": "2014-05-16T07:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177142",
    "user": "mmezzarobba"
}
```

Replying to [comment:24 pbruin]:
> There are still dozens of `is_*` functions in the global namespace; `is_Radix64StringMonoidElement`, just to name a random example arising from typing `is_[tab]` in Sage 6.3.beta1.  Shouldn't there be some more steps like 1-3 in the ticket description before we can remove the warning?

Looks like you are completely right! I don't remember why I thought we were done.

Btw many of the imports that were supposed to be removed as part of steps 1)-3) are still there (or were added back?).



---

archive/issue_comments_177143.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2014-05-16T07:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177143",
    "user": "mmezzarobba"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_177144.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2014-05-16T15:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177144",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_177145.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2014-05-16T16:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177145",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_177146.json:
```json
{
    "body": "Work in progress, only partially tested, expect forced pushes!",
    "created_at": "2014-05-16T16:09:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177146",
    "user": "mmezzarobba"
}
```

Work in progress, only partially tested, expect forced pushes!



---

archive/issue_comments_177147.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2014-05-17T09:42:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177147",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_177148.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-17T09:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177148",
    "user": "mmezzarobba"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_177149.json:
```json
{
    "body": "This time there are no `is_[A-Z]*` remaining in the global namespace and all (long) tests pass.\n\nNote that I did *not* remove `is_pAdic{Ring,Field}` since these were not formally deprecated as far as I understand (but I would not mind removing them as well if other people agree).",
    "created_at": "2014-05-17T09:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177149",
    "user": "mmezzarobba"
}
```

This time there are no `is_[A-Z]*` remaining in the global namespace and all (long) tests pass.

Note that I did *not* remove `is_pAdic{Ring,Field}` since these were not formally deprecated as far as I understand (but I would not mind removing them as well if other people agree).



---

archive/issue_comments_177150.json:
```json
{
    "body": "I would be in favour of removing `is_pAdic{Ring,Field}` as well, but it's better to deprecate them first.  We can do it in a future round of cleaning up the global namespace.",
    "created_at": "2014-05-17T11:49:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177150",
    "user": "pbruin"
}
```

I would be in favour of removing `is_pAdic{Ring,Field}` as well, but it's better to deprecate them first.  We can do it in a future round of cleaning up the global namespace.



---

archive/issue_comments_177151.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-17T11:49:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177151",
    "user": "pbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_177152.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-21T15:33:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14125",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14125#issuecomment-177152",
    "user": "vbraun"
}
```

Resolution: fixed
