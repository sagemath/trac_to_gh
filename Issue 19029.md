# Issue 19029: configure: create directories using AC_CONFIG_COMMANDS

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2015-09-22 08:28:06

CC:  tscrim




---

Comment by jdemeyer created at 2015-09-22 09:20:21

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-09-22 09:20:21

New commits:


---

Comment by tscrim created at 2015-09-22 18:16:38

Is there a particular reason why you removed the SAGE_LOGS assignment and not the others? I would think this environment variable is still needed to be set for

```
echo >&7 " sage-logger 'sage --pip install $PKG_NAME' \$(SAGE_LOGS)/$PKG_NAME.log"
```

Or is it only okay because it will be set by `configure` and then only run in the generated `makefile` (and the others are used by `configure`)?


---

Comment by jdemeyer created at 2015-09-22 19:40:30

Replying to [comment:3 tscrim]:
> Is there a particular reason why you removed the SAGE_LOGS assignment and not the others?
Just because `$SAGE_LOGS` isn't used.

> I would think this environment variable is still needed to be set for
> {{{
> echo >&7 " sage-logger 'sage --pip install $PKG_NAME' \$(SAGE_LOGS)/$PKG_NAME.log"
> }}}
You are mis-reading that. That command is writing the literal string `$(SAGE_LOGS)`, not the current value of `SAGE_LOGS`.


---

Comment by tscrim created at 2015-09-22 21:14:58

Replying to [comment:4 jdemeyer]:
> Replying to [comment:3 tscrim]:
> > I would think this environment variable is still needed to be set for
> > {{{
> > echo >&7 " sage-logger 'sage --pip install $PKG_NAME' \$(SAGE_LOGS)/$PKG_NAME.log"
> > }}}
> You are mis-reading that. That command is writing the literal string `$(SAGE_LOGS)`, not the current value of `SAGE_LOGS`.

Ah, yes. :P LGTM (modulo a `sage --fix-pkg-checksums` with the latest version from #19043).


---

Comment by tscrim created at 2015-09-22 21:14:58

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2015-09-23 07:44:56

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2015-09-23 07:49:42

Changing status from needs_work to needs_review.


---

Comment by git created at 2015-09-23 07:49:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2015-09-23 07:52:38

I discovered one more issue: `echo -n` is not very portable, it should be replaced by `AS_ECHO_N`.


---

Comment by jdemeyer created at 2015-09-23 07:53:42

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2015-09-23 07:54:06

Sorry, not ready yet: there are more instances of `echo -n`.


---

Comment by git created at 2015-09-23 08:00:29

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2015-09-23 08:05:00

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2015-09-23 08:05:00

Can you please review this commit:
> ||[1570875](http://git.sagemath.org/sage.git/commit/?id=1570875cc5781e6d62058c2f42879665cb9b4e47)||`Replace echo -n by AS_ECHO_N`||

And this is just for Volker's buildbot:
> ||[c128c9d](http://git.sagemath.org/sage.git/commit/?id=c128c9dff66978fb67b255988f23aacf5bdc7bac)||`Bump configure version`||


---

Comment by tscrim created at 2015-09-23 14:30:32

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2015-09-23 14:30:32

LGTM.


---

Comment by vbraun created at 2015-09-23 20:56:00

Resolution: fixed
