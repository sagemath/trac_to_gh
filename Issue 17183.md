# Issue 17183: when building, check that user isn't root

Issue created by migration from Trac.

Original creator: jhpalmieri

Original creation time: 2014-11-30 16:56:43

CC:  vbraun jdemeyer

A number of reported build errors on sage-devel seem to arise because people are building as root. We should check for this in the `./configure` script and print a clear message, rather than the current situation (letting the build continue for a while and then printing something a bit more cryptic).


---

Comment by git created at 2014-11-30 17:40:59

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by vbraun created at 2014-11-30 17:41:25

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2014-11-30 19:50:27

Do I need to run autoconf or something to get this to work? When I checkout this branch and run `make` as root, it doesn't fail immediately. (This is on OS X, and note autoconf is not installed by default.)


---

Comment by vbraun created at 2014-11-30 21:08:14

Yes, you need to `autoreconf`. Don't bother trying on OSX.


---

Comment by fbissey created at 2014-12-15 20:44:19

To be on the safe side I suggests you add

```
AC_CONFIG_MACRO_DIR([m4])
```

before calling AX_CHECK_ROOT macro. I am guessing you currently have a sane default but we want it to be bulletproof.


---

Comment by fbissey created at 2014-12-17 20:48:27

OK pushed my own change as a review and put it to psitive.
----
New commits:


---

Comment by fbissey created at 2014-12-17 20:48:27

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-12-18 07:35:38

Resolution: fixed
