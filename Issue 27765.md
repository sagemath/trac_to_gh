# Issue 27765: py3: last test in tests/cmdline.py

Issue created by migration from https://trac.sagemath.org/ticket/28002

Original creator: jhpalmieri

Original creation time: 2019-06-17 03:35:00

The fix is to ignore deprecation warnings about `collections.abc`. This already done in `src/sage/all.py`. At some point, this should be fixed throughout the Sage library, but that's for another ticket.



---

Comment by jhpalmieri created at 2019-06-17 03:42:21

New commits:


---

Comment by jhpalmieri created at 2019-06-17 03:42:21

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2019-06-17 03:49:03

Regarding imports of `collections.abc` and the deprecation warning: it seems to come as much from places like `matplotlib` than from the actual Sage library. So maybe the problem will get fixed as we update the various Sage packages.


---

Comment by chapoton created at 2019-06-17 09:54:01

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2019-06-17 09:54:01

ok, thx. Is there a way to make sure that sage itself is not responsible for any of these warnings ?


---

Comment by jhpalmieri created at 2019-06-17 17:40:28

Both

```
grep -R "import collections.*abc" src/sage src/sage_setup src/doc
```

and

```
grep -R "from collections.*import.*abc" src/sage src/sage_setup src/doc
```

come up empty. I tried turning off the warnings in `src/sage/all.py`, and when I ran a few doctests, I got a warning from `matplotlib`. I don't know what else to try to do to check.


---

Comment by chapoton created at 2019-06-17 18:04:21

Ok, then we will see later when we upgrade matplotlib.

By the way, do you know "git grep" ? Useful tool, in my opinion. Only search in the files under git control.


---

Comment by jhpalmieri created at 2019-06-17 19:06:46

Replying to [comment:6 chapoton]:
> Ok, then we will see later when we upgrade matplotlib.
> 
> By the way, do you know "git grep" ? Useful tool, in my opinion. Only search in the files under git control.

No, I didn't know, thanks for pointing it out.


---

Comment by slelievre created at 2019-06-19 00:22:54

See also #28012.


---

Comment by vbraun created at 2019-06-28 04:30:04

Resolution: fixed


---

Comment by embray created at 2019-07-03 11:34:48

Not in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were _actually_ included, especially when closing tickets.
