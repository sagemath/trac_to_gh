# Issue 29030: Fix deprecation warnings with ipython 7

archive/issues_028793.json:
```json
{
    "assignees": [],
    "body": "This is a follow up to #28948, which among other things adds a fix for imp deprecation warnings when using ipython 7. But the fix doesn't work because the deprecated (but still available) imp is imported first. Fix the warnings by trying to import importlib first.\n\nCC:  @fchapoton @jhpalmieri\n\nBranch/Commit: **[7ee3704](https://github.com/sagemath/sagetrac-mirror/commit/7ee37044da6afc985a34d292c5d41836b24edecb)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Antonio Rojas**\n\nComponent: **refactoring**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29030_\n\n",
    "closed_at": "2020-01-20T21:17:49Z",
    "created_at": "2020-01-16T21:35:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix deprecation warnings with ipython 7",
    "type": "issue",
    "updated_at": "2020-01-20T21:17:49Z",
    "url": "https://github.com/sagemath/sage/issues/29030",
    "user": "https://github.com/antonio-rojas"
}
```
This is a follow up to #28948, which among other things adds a fix for imp deprecation warnings when using ipython 7. But the fix doesn't work because the deprecated (but still available) imp is imported first. Fix the warnings by trying to import importlib first.

CC:  @fchapoton @jhpalmieri

Branch/Commit: **[7ee3704](https://github.com/sagemath/sagetrac-mirror/commit/7ee37044da6afc985a34d292c5d41836b24edecb)**

Reviewer: **Frédéric Chapoton**

Author: **Antonio Rojas**

Component: **refactoring**

_Issue created by migration from https://trac.sagemath.org/ticket/29030_





---

archive/issue_events_398872.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-01-16T21:35:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29030#event-398872"
}
```



---

archive/issue_events_398873.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-01-16T21:35:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29030#event-398873"
}
```



---

archive/issue_comments_453863.json:
```json
{
    "body": "Branch: **[u/arojas/fix_deprecation_warnings_with_ipython_7](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_deprecation_warnings_with_ipython_7)**",
    "created_at": "2020-01-16T21:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29030#issuecomment-453863",
    "user": "https://github.com/antonio-rojas"
}
```

Branch: **[u/arojas/fix_deprecation_warnings_with_ipython_7](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_deprecation_warnings_with_ipython_7)**



---

archive/issue_comments_453864.json:
```json
{
    "body": "Author: **Antonio Rojas**",
    "created_at": "2020-01-16T21:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29030#issuecomment-453864",
    "user": "https://github.com/antonio-rojas"
}
```

Author: **Antonio Rojas**



---

archive/issue_events_398874.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-01-16T21:42:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29030#event-398874"
}
```



---

archive/issue_comments_453865.json:
```json
{
    "body": "Commit: **[7ee3704](https://github.com/sagemath/sagetrac-mirror/commit/7ee37044da6afc985a34d292c5d41836b24edecb)**",
    "created_at": "2020-01-16T21:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29030#issuecomment-453865",
    "user": "https://github.com/antonio-rojas"
}
```

Commit: **[7ee3704](https://github.com/sagemath/sagetrac-mirror/commit/7ee37044da6afc985a34d292c5d41836b24edecb)**



---

archive/issue_events_398875.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-01-16T21:42:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29030#event-398875"
}
```



---

archive/issue_comments_453866.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ee37044da6afc985a34d292c5d41836b24edecb\">7ee3704</a></td><td><code>Import importlib first to avoid deprecation warnings</code></td></tr></table>\n",
    "created_at": "2020-01-16T21:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29030#issuecomment-453866",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ee37044da6afc985a34d292c5d41836b24edecb">7ee3704</a></td><td><code>Import importlib first to avoid deprecation warnings</code></td></tr></table>




---

archive/issue_comments_453867.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+This is a follow up to #28948, which among other things adds a fix for imp deprecation warnings when using ipython 7. But the fix doesn't work because the deprecated (but still available) imp is imported first. Fix the warnings by trying to import importlib first.\n``````\n",
    "created_at": "2020-01-16T21:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29030#issuecomment-453867",
    "user": "https://github.com/antonio-rojas"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+This is a follow up to #28948, which among other things adds a fix for imp deprecation warnings when using ipython 7. But the fix doesn't work because the deprecated (but still available) imp is imported first. Fix the warnings by trying to import importlib first.
``````




---

archive/issue_events_398876.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2020-01-16T21:42:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29030#event-398876"
}
```



---

archive/issue_comments_453868.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2020-01-17T07:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29030#issuecomment-453868",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_comments_453869.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nok, good, thx. Sorry for the mistake",
    "created_at": "2020-01-17T07:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29030#issuecomment-453869",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

ok, good, thx. Sorry for the mistake



---

archive/issue_events_398877.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-17T07:36:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29030#event-398877"
}
```



---

archive/issue_events_398878.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-17T07:36:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29030#event-398878"
}
```



---

archive/issue_events_398879.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-20T21:17:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29030#event-398879"
}
```



---

archive/issue_events_398880.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "437b96dd6a91a6440eb1d6bef8d959a432fa67de",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-01-20T21:17:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29030#event-398880"
}
```



---

archive/issue_comments_453870.json:
```json
{
    "body": "Changed branch from **[u/arojas/fix_deprecation_warnings_with_ipython_7](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_deprecation_warnings_with_ipython_7)** to **[7ee3704](https://github.com/sagemath/sagetrac-mirror/commit/7ee37044da6afc985a34d292c5d41836b24edecb)**",
    "created_at": "2020-01-20T21:17:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29030",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29030#issuecomment-453870",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/arojas/fix_deprecation_warnings_with_ipython_7](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_deprecation_warnings_with_ipython_7)** to **[7ee3704](https://github.com/sagemath/sagetrac-mirror/commit/7ee37044da6afc985a34d292c5d41836b24edecb)**
