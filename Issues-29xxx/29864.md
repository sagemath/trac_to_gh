# Issue 29864: Modularization of sagelib: Create package sage-tdlib

archive/issues_029627.json:
```json
{
    "body": "The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as a second an example package for the modularization after `sage-meataxe` (#30151).\n\nIt does not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). It uses a simple setuptools build system.\n\n\n\nThis is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)\n\n\n\nDepends on #34346\n\n**CC:**  @tobiasdiez\n\n**Keywords:** sd111\n\n**Branch:** [u/mkoeppe/modularization-sage-tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/modularization-sage-tdlib)\n\n**Commit:** [16a9b2e757be1505ad3c7d714175a24757082420](https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420)\n\n**Work Issues:** rebase\n\n**Reviewer:** Kwankyu Lee\n\nIssue created by migration from https://trac.sagemath.org/ticket/29864\n\n",
    "created_at": "2020-06-15T04:18:59Z",
    "labels": [
        "component: build",
        "enhancement",
        "positive review",
        "invalid"
    ],
    "title": "Modularization of sagelib: Create package sage-tdlib",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/29864",
    "user": "https://github.com/mkoeppe"
}
```
The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as a second an example package for the modularization after `sage-meataxe` (#30151).

It does not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). It uses a simple setuptools build system.



This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)



Depends on #34346

**CC:**  @tobiasdiez

**Keywords:** sd111

**Branch:** [u/mkoeppe/modularization-sage-tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/modularization-sage-tdlib)

**Commit:** [16a9b2e757be1505ad3c7d714175a24757082420](https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420)

**Work Issues:** rebase

**Reviewer:** Kwankyu Lee

Issue created by migration from https://trac.sagemath.org/ticket/29864





---

archive/issue_comments_474472.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/modularization-sage-tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/modularization-sage-tdlib)",
    "created_at": "2020-06-15T04:19:37Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474472",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/modularization-sage-tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/modularization-sage-tdlib)



---

archive/issue_comments_474473.json:
```json
{
    "body": "**Commit:** [2ccf6b72ab85e3818053608514350b6049a9ca31](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)",
    "created_at": "2020-06-15T04:27:28Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474473",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [2ccf6b72ab85e3818053608514350b6049a9ca31](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)



---

archive/issue_comments_474474.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dd469fdf92a45b80049cd0583c75550ce1032ff\">7dd469f</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24e9b30a3a67069dcd4374da9c2fef57a1127d3c\">24e9b30</a></td><td><code>build/pkgs/sage_tdlib/src/MANIFEST.in: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b59435fd22b5dc984d0f069919662a60064d096\">9b59435</a></td><td><code>fixup symlinks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3593b2c75a5930108bea71ee4143301487ed65d\">c3593b2</a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2612091eb6c9b08fffa245e2f70d53141ba887b0\">2612091</a></td><td><code>Use setup.py install --single-version-externally-managed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/458d8514eec1cfdaaf351d61e667636e6cd0b025\">458d851</a></td><td><code>build/pkgs/sage_tdlib/spkg-src: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d4e8e7497e07271b8a5cb8b49dd90a4e26a0daf\">5d4e8e7</a></td><td><code>build/pkgs/sage_tdlib/dependencies: Add sagelib, python toolchain</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70425649041b04e5d2a04d755f7577f4e8ff1237\">7042564</a></td><td><code>build/pkgs/sagelib/spkg-src: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90b33d8a76b22ddada6c5be808c7720da8b803a9\">90b33d8</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31\">2ccf6b7</a></td><td><code>Merge tag '9.2.beta1' into t/29705/META-modularize-sagelib</code></td></tr></table>\n",
    "created_at": "2020-06-15T04:27:28Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474474",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dd469fdf92a45b80049cd0583c75550ce1032ff">7dd469f</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24e9b30a3a67069dcd4374da9c2fef57a1127d3c">24e9b30</a></td><td><code>build/pkgs/sage_tdlib/src/MANIFEST.in: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b59435fd22b5dc984d0f069919662a60064d096">9b59435</a></td><td><code>fixup symlinks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3593b2c75a5930108bea71ee4143301487ed65d">c3593b2</a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2612091eb6c9b08fffa245e2f70d53141ba887b0">2612091</a></td><td><code>Use setup.py install --single-version-externally-managed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/458d8514eec1cfdaaf351d61e667636e6cd0b025">458d851</a></td><td><code>build/pkgs/sage_tdlib/spkg-src: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d4e8e7497e07271b8a5cb8b49dd90a4e26a0daf">5d4e8e7</a></td><td><code>build/pkgs/sage_tdlib/dependencies: Add sagelib, python toolchain</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70425649041b04e5d2a04d755f7577f4e8ff1237">7042564</a></td><td><code>build/pkgs/sagelib/spkg-src: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90b33d8a76b22ddada6c5be808c7720da8b803a9">90b33d8</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31">2ccf6b7</a></td><td><code>Merge tag '9.2.beta1' into t/29705/META-modularize-sagelib</code></td></tr></table>




---

archive/issue_events_266433.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-15T04:27:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266433"
}
```



---

archive/issue_events_266434.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-15T04:27:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266434"
}
```



---

archive/issue_comments_474475.json:
```json
{
    "body": "**Work_Issues:** rebase",
    "created_at": "2020-07-16T02:29:25Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474475",
    "user": "https://github.com/mkoeppe"
}
```

**Work_Issues:** rebase



---

archive/issue_comments_474476.json:
```json
{
    "body": "**Changing work_issues** from \"rebase\" to \"rebase; create sage-core; don't change sagelib\".",
    "created_at": "2020-07-16T05:27:14Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474476",
    "user": "https://github.com/mkoeppe"
}
```

**Changing work_issues** from "rebase" to "rebase; create sage-core; don't change sagelib".



---

archive/issue_comments_474477.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,11 @@\n The new package represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.\n \n-See build/pkgs/sage_tdlib/spkg-install for an overview of the current implementation. In short, we disable the incremental install mechanism of sagelib; instead, we build an sdist for `sagelib` and an sdist for `sage_tdlib` and then install both with `pip`. This should be refined later.\n+See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. \n+\n+In short, we disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.\n+\n+(`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)\n+\n \n This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)\n \n``````\n",
    "created_at": "2020-08-18T05:08:35Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474477",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,11 @@
 The new package represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.
 
-See build/pkgs/sage_tdlib/spkg-install for an overview of the current implementation. In short, we disable the incremental install mechanism of sagelib; instead, we build an sdist for `sagelib` and an sdist for `sage_tdlib` and then install both with `pip`. This should be refined later.
+See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. 
+
+In short, we disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.
+
+(`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)
+
 
 This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)
 
``````




---

archive/issue_comments_474478.json:
```json
{
    "body": "**Changing dependencies** from \"#29702, #29701, #28197, #28925, #29803\" to \"#28925\".",
    "created_at": "2020-08-18T05:08:35Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474478",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#29702, #29701, #28197, #28925, #29803" to "#28925".



---

archive/issue_events_266435.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-08T04:50:37Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "rename": {
        "from": "Modularization of sagelib: Break out a separate package sage-tdlib",
        "to": "Modularization of sagelib: Create modular packages sage-core, sage-tdlib"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266435"
}
```



---

archive/issue_comments_474479.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-The new package represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.\n+The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.\n \n See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. \n \n-In short, we disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.\n+`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.\n \n (`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)\n \n``````\n",
    "created_at": "2020-09-08T04:50:37Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474479",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-The new package represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.
+The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.
 
 See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. 
 
-In short, we disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.
+`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.
 
 (`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)
 
``````




---

archive/issue_comments_474480.json:
```json
{
    "body": "**Changing dependencies** from \"#28925\" to \"#28925, #29847\".",
    "created_at": "2020-09-09T01:42:20Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474480",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#28925" to "#28925, #29847".



---

archive/issue_comments_474481.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. \n \n-`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.\n+`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build a wheel for `sage-core` and a wheel for `sage-tdlib` and then install both wheels with `pip`.\n \n (`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)\n \n``````\n",
    "created_at": "2020-09-09T01:43:30Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474481",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. 
 
-`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.
+`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build a wheel for `sage-core` and a wheel for `sage-tdlib` and then install both wheels with `pip`.
 
 (`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)
 
``````




---

archive/issue_comments_474482.json:
```json
{
    "body": "<a id='comment:9'></a>\nJust for clarification, was is `sage-lib` and what `sage-core`?",
    "created_at": "2020-09-09T07:25:14Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474482",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:9'></a>
Just for clarification, was is `sage-lib` and what `sage-core`?



---

archive/issue_comments_474483.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8d1a23a7f2d805cb8fbe514165fdefff851e433\">e8d1a23</a></td><td><code>src/setup.py: from setuptools import setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c99dab566526142a775dd7399768bf929b37be75\">c99dab5</a></td><td><code>Add src/setup.cfg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67189ba9cf48c8064567c27e50010e38469304df\">67189ba</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d85487181d7dda9c17a2cc7b12adb1facc2bf83\">5d85487</a></td><td><code>build/pkgs/sage_tdlib/src/MANIFEST.in: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf5dddc266715a452c50cca9d88009b176343842\">bf5dddc</a></td><td><code>fixup symlinks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d5e4f5a051ae228341ef67ad193e56cf725b5f5\">6d5e4f5</a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cd5176332b8f20595bb6a200ba50bfcd680b67f\">4cd5176</a></td><td><code>Use setup.py install --single-version-externally-managed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/577f33876fc2e53dd64f43ba567b5a188ac6d49d\">577f338</a></td><td><code>build/pkgs/sage_tdlib/spkg-src: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b972d7e63bd84d024a0bb4cfe750a9db8cf5873\">8b972d7</a></td><td><code>build/pkgs/sage_tdlib/dependencies: Add sagelib, python toolchain</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda\">bf1c011</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>\n",
    "created_at": "2020-09-10T05:01:50Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474483",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8d1a23a7f2d805cb8fbe514165fdefff851e433">e8d1a23</a></td><td><code>src/setup.py: from setuptools import setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c99dab566526142a775dd7399768bf929b37be75">c99dab5</a></td><td><code>Add src/setup.cfg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67189ba9cf48c8064567c27e50010e38469304df">67189ba</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d85487181d7dda9c17a2cc7b12adb1facc2bf83">5d85487</a></td><td><code>build/pkgs/sage_tdlib/src/MANIFEST.in: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf5dddc266715a452c50cca9d88009b176343842">bf5dddc</a></td><td><code>fixup symlinks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d5e4f5a051ae228341ef67ad193e56cf725b5f5">6d5e4f5</a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cd5176332b8f20595bb6a200ba50bfcd680b67f">4cd5176</a></td><td><code>Use setup.py install --single-version-externally-managed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/577f33876fc2e53dd64f43ba567b5a188ac6d49d">577f338</a></td><td><code>build/pkgs/sage_tdlib/spkg-src: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b972d7e63bd84d024a0bb4cfe750a9db8cf5873">8b972d7</a></td><td><code>build/pkgs/sage_tdlib/dependencies: Add sagelib, python toolchain</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda">bf1c011</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>




---

archive/issue_comments_474484.json:
```json
{
    "body": "**Changing commit** from \"[2ccf6b72ab85e3818053608514350b6049a9ca31](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)\" to \"[bf1c01196ad763691e8afc8f454720950f3f6fda](https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda)\".",
    "created_at": "2020-09-10T05:01:50Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474484",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2ccf6b72ab85e3818053608514350b6049a9ca31](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)" to "[bf1c01196ad763691e8afc8f454720950f3f6fda](https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda)".



---

archive/issue_comments_474485.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e61adaf7bca46adc04ebf8cde025415c764ec69\">2e61ada</a></td><td><code>sage.numerical.backends: Make it a namespace package by removing __init__.py (which was empty)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26b1ca03aa1bc4fa250d69f4bb73fa6237883d08\">26b1ca0</a></td><td><code>Mark src and src/sage/ext_data as directories that are not namespace packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a733af51eb86abfe98f09786c628190127610b43\">a733af5</a></td><td><code>sage_setup.find.find_python_sources: Handle native namespace packages, 'nonamespace' files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c08c511d6ad344f0e2e98914af4246e9fe6812ec\">c08c511</a></td><td><code>is_package_or_namespace_package_dir: New, recognize namespace packages by file 'namespace', monkeypatch into Cython</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4407e5ea4748f926739fb0735cb094485d7f0ea8\">4407e5e</a></td><td><code>sage_setup.command.sage_install.sage_install: Rename to sage_install_and_clean, update use it in src/setup.py; refactor through new class sage_install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a13c126de7f89a2838ad0ec7a3a6e0bb0f882f48\">a13c126</a></td><td><code>Make sage.graphs, sage.matrix, sage.libs, sage.interfaces namespace packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a967aca4491de98118612f30cbdf8bd75ab4efa9\">a967aca</a></td><td><code>WIP</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c746965b5749fe64bb5fe5f8693d3751b801b905\">c746965</a></td><td><code>sage_setup/command/sage_install.py: WIP: Disable cleaning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ba42122f009f96fc16019c082491e6168de1c4d\">6ba4212</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5\">59a33de</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>\n",
    "created_at": "2020-09-10T05:20:01Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474485",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e61adaf7bca46adc04ebf8cde025415c764ec69">2e61ada</a></td><td><code>sage.numerical.backends: Make it a namespace package by removing __init__.py (which was empty)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26b1ca03aa1bc4fa250d69f4bb73fa6237883d08">26b1ca0</a></td><td><code>Mark src and src/sage/ext_data as directories that are not namespace packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a733af51eb86abfe98f09786c628190127610b43">a733af5</a></td><td><code>sage_setup.find.find_python_sources: Handle native namespace packages, 'nonamespace' files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c08c511d6ad344f0e2e98914af4246e9fe6812ec">c08c511</a></td><td><code>is_package_or_namespace_package_dir: New, recognize namespace packages by file 'namespace', monkeypatch into Cython</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4407e5ea4748f926739fb0735cb094485d7f0ea8">4407e5e</a></td><td><code>sage_setup.command.sage_install.sage_install: Rename to sage_install_and_clean, update use it in src/setup.py; refactor through new class sage_install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a13c126de7f89a2838ad0ec7a3a6e0bb0f882f48">a13c126</a></td><td><code>Make sage.graphs, sage.matrix, sage.libs, sage.interfaces namespace packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a967aca4491de98118612f30cbdf8bd75ab4efa9">a967aca</a></td><td><code>WIP</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c746965b5749fe64bb5fe5f8693d3751b801b905">c746965</a></td><td><code>sage_setup/command/sage_install.py: WIP: Disable cleaning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ba42122f009f96fc16019c082491e6168de1c4d">6ba4212</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5">59a33de</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>




---

archive/issue_comments_474486.json:
```json
{
    "body": "**Changing commit** from \"[bf1c01196ad763691e8afc8f454720950f3f6fda](https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda)\" to \"[59a33def20d5fb672b039f1513ae2643fe315ce5](https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5)\".",
    "created_at": "2020-09-10T05:20:01Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474486",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bf1c01196ad763691e8afc8f454720950f3f6fda](https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda)" to "[59a33def20d5fb672b039f1513ae2643fe315ce5](https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5)".



---

archive/issue_comments_474487.json:
```json
{
    "body": "**Changing dependencies** from \"#28925, #29847\" to \"#28925, #29500, #29847\".",
    "created_at": "2020-09-10T05:37:43Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474487",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#28925, #29847" to "#28925, #29500, #29847".



---

archive/issue_comments_474488.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,9 +2,9 @@\n \n See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. \n \n-`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build a wheel for `sage-core` and a wheel for `sage-tdlib` and then install both wheels with `pip`.\n+`sage-core` is a version of `sagelib` - as of this ticket, consisting of everything in `sagelib` except for `sage.graphs.graph_decompositions.tdlib`. \n \n-(`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)\n+`sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.\n \n \n This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)\n``````\n",
    "created_at": "2020-09-10T05:37:43Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474488",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,9 +2,9 @@
 
 See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. 
 
-`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build a wheel for `sage-core` and a wheel for `sage-tdlib` and then install both wheels with `pip`.
+`sage-core` is a version of `sagelib` - as of this ticket, consisting of everything in `sagelib` except for `sage.graphs.graph_decompositions.tdlib`. 
 
-(`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)
+`sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.
 
 
 This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)
``````




---

archive/issue_comments_474489.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a315ba6e8aa9db9bd8adb6b94501ea402dcbff51\">a315ba6</a></td><td><code>Merge branch 't/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_' into t/29864/modularization-sage-tdlib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a306883ccedd80068ea8d7742ad87d97994e1e9\">4a30688</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420\">16a9b2e</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>\n",
    "created_at": "2020-09-10T05:43:20Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474489",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a315ba6e8aa9db9bd8adb6b94501ea402dcbff51">a315ba6</a></td><td><code>Merge branch 't/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_' into t/29864/modularization-sage-tdlib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a306883ccedd80068ea8d7742ad87d97994e1e9">4a30688</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420">16a9b2e</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>




---

archive/issue_comments_474490.json:
```json
{
    "body": "**Changing commit** from \"[59a33def20d5fb672b039f1513ae2643fe315ce5](https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5)\" to \"[16a9b2e757be1505ad3c7d714175a24757082420](https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420)\".",
    "created_at": "2020-09-10T05:43:20Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474490",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[59a33def20d5fb672b039f1513ae2643fe315ce5](https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5)" to "[16a9b2e757be1505ad3c7d714175a24757082420](https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420)".



---

archive/issue_comments_474491.json:
```json
{
    "body": "<a id='comment:14'></a>\nRebased on top of #28925, cleaned out a lot of old code.\n\nNext step: Finish #28925 (see \"work issues\" there).",
    "created_at": "2020-09-10T05:46:08Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474491",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Rebased on top of #28925, cleaned out a lot of old code.

Next step: Finish #28925 (see "work issues" there).



---

archive/issue_comments_474492.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,6 +6,8 @@\n \n `sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.\n \n+Ideally, they would use a shared `src/setup.py` and provide the distribution info via their own `setup.cfg`.\n+\n \n This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)\n \n``````\n",
    "created_at": "2020-09-28T16:31:43Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474492",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,6 +6,8 @@
 
 `sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.
 
+Ideally, they would use a shared `src/setup.py` and provide the distribution info via their own `setup.cfg`.
+
 
 This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)
 
``````




---

archive/issue_comments_474493.json:
```json
{
    "body": "<a id='comment:16'></a>\nHoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474493",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_comments_474494.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sd111\".",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474494",
    "user": "https://github.com/mkoeppe"
}
```

**Changing keywords** from "" to "sd111".



---

archive/issue_events_266436.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-09T05:55:26Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "rename": {
        "from": "Modularization of sagelib: Create modular packages sage-core, sage-tdlib",
        "to": "Modularization of sagelib: Create package sage-tdlib"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266436"
}
```



---

archive/issue_comments_474495.json:
```json
{
    "body": "**Changing work_issues** from \"rebase; create sage-core; don't change sagelib\" to \"rebase\".",
    "created_at": "2020-12-09T05:55:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474495",
    "user": "https://github.com/mkoeppe"
}
```

**Changing work_issues** from "rebase; create sage-core; don't change sagelib" to "rebase".



---

archive/issue_comments_474496.json:
```json
{
    "body": "<a id='comment:17'></a>\nSimplified this ticket.",
    "created_at": "2020-12-09T05:55:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474496",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
Simplified this ticket.



---

archive/issue_comments_474497.json:
```json
{
    "body": "**Changing dependencies** from \"#28925, #29500, #29847\" to \"#30151\".",
    "created_at": "2020-12-09T05:55:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474497",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#28925, #29500, #29847" to "#30151".



---

archive/issue_comments_474498.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,12 +1,7 @@\n-The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.\n+The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as a second an example package for the modularization after `sage-meataxe` (#30151).\n \n-See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. \n+It does not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). It uses a simple setuptools build system.\n \n-`sage-core` is a version of `sagelib` - as of this ticket, consisting of everything in `sagelib` except for `sage.graphs.graph_decompositions.tdlib`. \n-\n-`sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.\n-\n-Ideally, they would use a shared `src/setup.py` and provide the distribution info via their own `setup.cfg`.\n \n \n This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)\n``````\n",
    "created_at": "2020-12-09T05:55:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474498",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,12 +1,7 @@
-The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.
+The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as a second an example package for the modularization after `sage-meataxe` (#30151).
 
-See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. 
+It does not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). It uses a simple setuptools build system.
 
-`sage-core` is a version of `sagelib` - as of this ticket, consisting of everything in `sagelib` except for `sage.graphs.graph_decompositions.tdlib`. 
-
-`sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.
-
-Ideally, they would use a shared `src/setup.py` and provide the distribution info via their own `setup.cfg`.
 
 
 This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)
``````




---

archive/issue_comments_474499.json:
```json
{
    "body": "<a id='comment:18'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474499",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_266437.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266437"
}
```



---

archive/issue_events_266438.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266438"
}
```



---

archive/issue_events_266439.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266439"
}
```



---

archive/issue_events_266440.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266440"
}
```



---

archive/issue_events_266441.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266441"
}
```



---

archive/issue_events_266442.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266442"
}
```



---

archive/issue_events_266443.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266443"
}
```



---

archive/issue_events_266444.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266444"
}
```



---

archive/issue_events_266445.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266445"
}
```



---

archive/issue_events_266446.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266446"
}
```



---

archive/issue_events_266447.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-16T07:40:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266447"
}
```



---

archive/issue_comments_474500.json:
```json
{
    "body": "<a id='comment:23'></a>\nThis is now done as part of #34346.",
    "created_at": "2022-11-16T07:40:09Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474500",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
This is now done as part of #34346.



---

archive/issue_comments_474501.json:
```json
{
    "body": "**Changing dependencies** from \"#30151\" to \"#34346\".",
    "created_at": "2022-11-16T07:40:09Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474501",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#30151" to "#34346".



---

archive/issue_events_266448.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-16T07:40:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266448"
}
```



---

archive/issue_comments_474502.json:
```json
{
    "body": "**Changing author** from \"Matthias Koeppe\" to \"\".",
    "created_at": "2022-11-16T07:40:21Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474502",
    "user": "https://github.com/mkoeppe"
}
```

**Changing author** from "Matthias Koeppe" to "".



---

archive/issue_events_266449.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-12-10T12:32:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266449"
}
```



---

archive/issue_events_266450.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-12-10T12:32:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-266450"
}
```



---

archive/issue_comments_474503.json:
```json
{
    "body": "**Reviewer:** Kwankyu Lee",
    "created_at": "2022-12-10T12:32:00Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474503",
    "user": "https://github.com/kwankyu"
}
```

**Reviewer:** Kwankyu Lee



---

archive/issue_comments_474504.json:
```json
{
    "body": "<a id='comment:25'></a>\nOkay.",
    "created_at": "2022-12-10T12:32:00Z",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-474504",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:25'></a>
Okay.
