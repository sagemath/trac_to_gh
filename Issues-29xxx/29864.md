# Issue 29864: Modularization of sagelib: Create package sage-tdlib

archive/issues_029627.json:
```json
{
    "assignees": [],
    "body": "The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as a second an example package for the modularization after `sage-meataxe` (#30151).\n\nIt does not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). It uses a simple setuptools build system.\n\n\n\nThis is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)\n\n\n\nDepends on #34346\n\nCC:  @tobiasdiez\n\nKeywords: **sd111**\n\nBranch/Commit: **[u/mkoeppe/modularization-sage-tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/modularization-sage-tdlib) @ [`16a9b2e`](https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420)**\n\nWork Issues: **rebase**\n\nReviewer: **Kwankyu Lee**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29864_\n\n",
    "closed_at": "2023-01-01T03:09:33Z",
    "created_at": "2020-06-15T04:18:59Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Modularization of sagelib: Create package sage-tdlib",
    "type": "issue",
    "updated_at": "2023-01-01T03:09:33Z",
    "url": "https://github.com/sagemath/sage/issues/29864",
    "user": "https://github.com/mkoeppe"
}
```
The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as a second an example package for the modularization after `sage-meataxe` (#30151).

It does not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). It uses a simple setuptools build system.



This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)



Depends on #34346

CC:  @tobiasdiez

Keywords: **sd111**

Branch/Commit: **[u/mkoeppe/modularization-sage-tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/modularization-sage-tdlib) @ [`16a9b2e`](https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420)**

Work Issues: **rebase**

Reviewer: **Kwankyu Lee**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/29864_





---

archive/issue_events_411051.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-15T04:18:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411051"
}
```



---

archive/issue_events_411052.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-15T04:18:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411052"
}
```



---

archive/issue_events_411053.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-15T04:18:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411053"
}
```



---

archive/issue_events_411054.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-15T04:18:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411054"
}
```



---

archive/issue_comments_471793.json:
```json
{
    "body": "Branch: **[u/mkoeppe/modularization-sage-tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/modularization-sage-tdlib)**",
    "created_at": "2020-06-15T04:19:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471793",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/modularization-sage-tdlib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/modularization-sage-tdlib)**



---

archive/issue_comments_471794.json:
```json
{
    "body": "Commit: **[`2ccf6b7`](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)**",
    "created_at": "2020-06-15T04:27:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471794",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`2ccf6b7`](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)**



---

archive/issue_events_411055.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-15T04:27:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411055"
}
```



---

archive/issue_events_411056.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-15T04:27:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411056"
}
```



---

archive/issue_comments_471795.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dd469fdf92a45b80049cd0583c75550ce1032ff\">7dd469f</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24e9b30a3a67069dcd4374da9c2fef57a1127d3c\">24e9b30</a></td><td><code>build/pkgs/sage_tdlib/src/MANIFEST.in: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b59435fd22b5dc984d0f069919662a60064d096\">9b59435</a></td><td><code>fixup symlinks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3593b2c75a5930108bea71ee4143301487ed65d\">c3593b2</a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2612091eb6c9b08fffa245e2f70d53141ba887b0\">2612091</a></td><td><code>Use setup.py install --single-version-externally-managed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/458d8514eec1cfdaaf351d61e667636e6cd0b025\">458d851</a></td><td><code>build/pkgs/sage_tdlib/spkg-src: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d4e8e7497e07271b8a5cb8b49dd90a4e26a0daf\">5d4e8e7</a></td><td><code>build/pkgs/sage_tdlib/dependencies: Add sagelib, python toolchain</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70425649041b04e5d2a04d755f7577f4e8ff1237\">7042564</a></td><td><code>build/pkgs/sagelib/spkg-src: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90b33d8a76b22ddada6c5be808c7720da8b803a9\">90b33d8</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31\">2ccf6b7</a></td><td><code>Merge tag '9.2.beta1' into t/29705/META-modularize-sagelib</code></td></tr></table>\n",
    "created_at": "2020-06-15T04:27:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471795",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dd469fdf92a45b80049cd0583c75550ce1032ff">7dd469f</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24e9b30a3a67069dcd4374da9c2fef57a1127d3c">24e9b30</a></td><td><code>build/pkgs/sage_tdlib/src/MANIFEST.in: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b59435fd22b5dc984d0f069919662a60064d096">9b59435</a></td><td><code>fixup symlinks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3593b2c75a5930108bea71ee4143301487ed65d">c3593b2</a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2612091eb6c9b08fffa245e2f70d53141ba887b0">2612091</a></td><td><code>Use setup.py install --single-version-externally-managed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/458d8514eec1cfdaaf351d61e667636e6cd0b025">458d851</a></td><td><code>build/pkgs/sage_tdlib/spkg-src: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d4e8e7497e07271b8a5cb8b49dd90a4e26a0daf">5d4e8e7</a></td><td><code>build/pkgs/sage_tdlib/dependencies: Add sagelib, python toolchain</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70425649041b04e5d2a04d755f7577f4e8ff1237">7042564</a></td><td><code>build/pkgs/sagelib/spkg-src: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90b33d8a76b22ddada6c5be808c7720da8b803a9">90b33d8</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31">2ccf6b7</a></td><td><code>Merge tag '9.2.beta1' into t/29705/META-modularize-sagelib</code></td></tr></table>




---

archive/issue_comments_471796.json:
```json
{
    "body": "Work Issues: **rebase**",
    "created_at": "2020-07-16T02:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471796",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **rebase**



---

archive/issue_comments_471797.json:
```json
{
    "body": "Changed work issues from **rebase** to **rebase; create sage-core; don't change sagelib**",
    "created_at": "2020-07-16T05:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471797",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **rebase** to **rebase; create sage-core; don't change sagelib**



---

archive/issue_comments_471798.json:
```json
{
    "body": "Changed dependencies from **#29702, #29701, #28197, #28925, #29803** to **#28925**",
    "created_at": "2020-08-18T05:08:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471798",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29702, #29701, #28197, #28925, #29803** to **#28925**



---

archive/issue_comments_471799.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,11 @@\n The new package represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.\n \n-See build/pkgs/sage_tdlib/spkg-install for an overview of the current implementation. In short, we disable the incremental install mechanism of sagelib; instead, we build an sdist for `sagelib` and an sdist for `sage_tdlib` and then install both with `pip`. This should be refined later.\n+See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. \n+\n+In short, we disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.\n+\n+(`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)\n+\n \n This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)\n \n``````\n",
    "created_at": "2020-08-18T05:08:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471799",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,11 @@
 The new package represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.
 
-See build/pkgs/sage_tdlib/spkg-install for an overview of the current implementation. In short, we disable the incremental install mechanism of sagelib; instead, we build an sdist for `sagelib` and an sdist for `sage_tdlib` and then install both with `pip`. This should be refined later.
+See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. 
+
+In short, we disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.
+
+(`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)
+
 
 This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)
 
``````




---

archive/issue_comments_471800.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-The new package represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.\n+The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.\n \n See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. \n \n-In short, we disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.\n+`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.\n \n (`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)\n \n``````\n",
    "created_at": "2020-09-08T04:50:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471800",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-The new package represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.
+The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.
 
 See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. 
 
-In short, we disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.
+`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.
 
 (`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)
 
``````




---

archive/issue_events_411057.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-08T04:50:37Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "title_is": "Modularization of sagelib: Create modular packages sage-core, sage-tdlib",
    "title_was": "Modularization of sagelib: Break out a separate package sage-tdlib",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411057"
}
```



---

archive/issue_comments_471801.json:
```json
{
    "body": "Changed dependencies from **#28925** to **#28925, #29847**",
    "created_at": "2020-09-09T01:42:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471801",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#28925** to **#28925, #29847**



---

archive/issue_comments_471802.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. \n \n-`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.\n+`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build a wheel for `sage-core` and a wheel for `sage-tdlib` and then install both wheels with `pip`.\n \n (`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)\n \n``````\n",
    "created_at": "2020-09-09T01:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471802",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. 
 
-`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build an sdist for `sage-core` and an sdist for `sage-tdlib` and then install both with `pip`.
+`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build a wheel for `sage-core` and a wheel for `sage-tdlib` and then install both wheels with `pip`.
 
 (`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)
 
``````




---

archive/issue_comments_471803.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nJust for clarification, was is `sage-lib` and what `sage-core`?",
    "created_at": "2020-09-09T07:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471803",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:9" align="right">comment:9</div>

Just for clarification, was is `sage-lib` and what `sage-core`?



---

archive/issue_comments_471804.json:
```json
{
    "body": "Changed commit from **[`2ccf6b7`](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)** to **[`bf1c011`](https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda)**",
    "created_at": "2020-09-10T05:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471804",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2ccf6b7`](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)** to **[`bf1c011`](https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda)**



---

archive/issue_comments_471805.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8d1a23a7f2d805cb8fbe514165fdefff851e433\">e8d1a23</a></td><td><code>src/setup.py: from setuptools import setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c99dab566526142a775dd7399768bf929b37be75\">c99dab5</a></td><td><code>Add src/setup.cfg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67189ba9cf48c8064567c27e50010e38469304df\">67189ba</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d85487181d7dda9c17a2cc7b12adb1facc2bf83\">5d85487</a></td><td><code>build/pkgs/sage_tdlib/src/MANIFEST.in: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf5dddc266715a452c50cca9d88009b176343842\">bf5dddc</a></td><td><code>fixup symlinks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d5e4f5a051ae228341ef67ad193e56cf725b5f5\">6d5e4f5</a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cd5176332b8f20595bb6a200ba50bfcd680b67f\">4cd5176</a></td><td><code>Use setup.py install --single-version-externally-managed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/577f33876fc2e53dd64f43ba567b5a188ac6d49d\">577f338</a></td><td><code>build/pkgs/sage_tdlib/spkg-src: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b972d7e63bd84d024a0bb4cfe750a9db8cf5873\">8b972d7</a></td><td><code>build/pkgs/sage_tdlib/dependencies: Add sagelib, python toolchain</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda\">bf1c011</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>\n",
    "created_at": "2020-09-10T05:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471805",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8d1a23a7f2d805cb8fbe514165fdefff851e433">e8d1a23</a></td><td><code>src/setup.py: from setuptools import setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c99dab566526142a775dd7399768bf929b37be75">c99dab5</a></td><td><code>Add src/setup.cfg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67189ba9cf48c8064567c27e50010e38469304df">67189ba</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d85487181d7dda9c17a2cc7b12adb1facc2bf83">5d85487</a></td><td><code>build/pkgs/sage_tdlib/src/MANIFEST.in: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf5dddc266715a452c50cca9d88009b176343842">bf5dddc</a></td><td><code>fixup symlinks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d5e4f5a051ae228341ef67ad193e56cf725b5f5">6d5e4f5</a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cd5176332b8f20595bb6a200ba50bfcd680b67f">4cd5176</a></td><td><code>Use setup.py install --single-version-externally-managed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/577f33876fc2e53dd64f43ba567b5a188ac6d49d">577f338</a></td><td><code>build/pkgs/sage_tdlib/spkg-src: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b972d7e63bd84d024a0bb4cfe750a9db8cf5873">8b972d7</a></td><td><code>build/pkgs/sage_tdlib/dependencies: Add sagelib, python toolchain</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda">bf1c011</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>




---

archive/issue_comments_471806.json:
```json
{
    "body": "Changed commit from **[`bf1c011`](https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda)** to **[`59a33de`](https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5)**",
    "created_at": "2020-09-10T05:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471806",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bf1c011`](https://github.com/sagemath/sagetrac-mirror/commit/bf1c01196ad763691e8afc8f454720950f3f6fda)** to **[`59a33de`](https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5)**



---

archive/issue_comments_471807.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e61adaf7bca46adc04ebf8cde025415c764ec69\">2e61ada</a></td><td><code>sage.numerical.backends: Make it a namespace package by removing __init__.py (which was empty)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26b1ca03aa1bc4fa250d69f4bb73fa6237883d08\">26b1ca0</a></td><td><code>Mark src and src/sage/ext_data as directories that are not namespace packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a733af51eb86abfe98f09786c628190127610b43\">a733af5</a></td><td><code>sage_setup.find.find_python_sources: Handle native namespace packages, 'nonamespace' files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c08c511d6ad344f0e2e98914af4246e9fe6812ec\">c08c511</a></td><td><code>is_package_or_namespace_package_dir: New, recognize namespace packages by file 'namespace', monkeypatch into Cython</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4407e5ea4748f926739fb0735cb094485d7f0ea8\">4407e5e</a></td><td><code>sage_setup.command.sage_install.sage_install: Rename to sage_install_and_clean, update use it in src/setup.py; refactor through new class sage_install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a13c126de7f89a2838ad0ec7a3a6e0bb0f882f48\">a13c126</a></td><td><code>Make sage.graphs, sage.matrix, sage.libs, sage.interfaces namespace packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a967aca4491de98118612f30cbdf8bd75ab4efa9\">a967aca</a></td><td><code>WIP</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c746965b5749fe64bb5fe5f8693d3751b801b905\">c746965</a></td><td><code>sage_setup/command/sage_install.py: WIP: Disable cleaning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ba42122f009f96fc16019c082491e6168de1c4d\">6ba4212</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5\">59a33de</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>\n",
    "created_at": "2020-09-10T05:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471807",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e61adaf7bca46adc04ebf8cde025415c764ec69">2e61ada</a></td><td><code>sage.numerical.backends: Make it a namespace package by removing __init__.py (which was empty)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26b1ca03aa1bc4fa250d69f4bb73fa6237883d08">26b1ca0</a></td><td><code>Mark src and src/sage/ext_data as directories that are not namespace packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a733af51eb86abfe98f09786c628190127610b43">a733af5</a></td><td><code>sage_setup.find.find_python_sources: Handle native namespace packages, 'nonamespace' files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c08c511d6ad344f0e2e98914af4246e9fe6812ec">c08c511</a></td><td><code>is_package_or_namespace_package_dir: New, recognize namespace packages by file 'namespace', monkeypatch into Cython</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4407e5ea4748f926739fb0735cb094485d7f0ea8">4407e5e</a></td><td><code>sage_setup.command.sage_install.sage_install: Rename to sage_install_and_clean, update use it in src/setup.py; refactor through new class sage_install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a13c126de7f89a2838ad0ec7a3a6e0bb0f882f48">a13c126</a></td><td><code>Make sage.graphs, sage.matrix, sage.libs, sage.interfaces namespace packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a967aca4491de98118612f30cbdf8bd75ab4efa9">a967aca</a></td><td><code>WIP</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c746965b5749fe64bb5fe5f8693d3751b801b905">c746965</a></td><td><code>sage_setup/command/sage_install.py: WIP: Disable cleaning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ba42122f009f96fc16019c082491e6168de1c4d">6ba4212</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5">59a33de</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>




---

archive/issue_comments_471808.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,9 +2,9 @@\n \n See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. \n \n-`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build a wheel for `sage-core` and a wheel for `sage-tdlib` and then install both wheels with `pip`.\n+`sage-core` is a version of `sagelib` - as of this ticket, consisting of everything in `sagelib` except for `sage.graphs.graph_decompositions.tdlib`. \n \n-(`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)\n+`sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.\n \n \n This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)\n``````\n",
    "created_at": "2020-09-10T05:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471808",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,9 +2,9 @@
 
 See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. 
 
-`sage-core` is a version of `sagelib`. We disable the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`) for `sage-core`; instead, we build a wheel for `sage-core` and a wheel for `sage-tdlib` and then install both wheels with `pip`.
+`sage-core` is a version of `sagelib` - as of this ticket, consisting of everything in `sagelib` except for `sage.graphs.graph_decompositions.tdlib`. 
 
-(`sagelib` vs. `sage-core` could either be implemented using separate directories, or using some command-line options for `setup.py install`.)
+`sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.
 
 
 This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)
``````




---

archive/issue_comments_471809.json:
```json
{
    "body": "Changed dependencies from **#28925, #29847** to **#28925, #29500, #29847**",
    "created_at": "2020-09-10T05:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471809",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#28925, #29847** to **#28925, #29500, #29847**



---

archive/issue_comments_471810.json:
```json
{
    "body": "Changed commit from **[`59a33de`](https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5)** to **[`16a9b2e`](https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420)**",
    "created_at": "2020-09-10T05:43:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471810",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`59a33de`](https://github.com/sagemath/sagetrac-mirror/commit/59a33def20d5fb672b039f1513ae2643fe315ce5)** to **[`16a9b2e`](https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420)**



---

archive/issue_comments_471811.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a315ba6e8aa9db9bd8adb6b94501ea402dcbff51\">a315ba6</a></td><td><code>Merge branch 't/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_' into t/29864/modularization-sage-tdlib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a306883ccedd80068ea8d7742ad87d97994e1e9\">4a30688</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420\">16a9b2e</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>\n",
    "created_at": "2020-09-10T05:43:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471811",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a315ba6e8aa9db9bd8adb6b94501ea402dcbff51">a315ba6</a></td><td><code>Merge branch 't/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_' into t/29864/modularization-sage-tdlib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a306883ccedd80068ea8d7742ad87d97994e1e9">4a30688</a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16a9b2e757be1505ad3c7d714175a24757082420">16a9b2e</a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>




---

archive/issue_comments_471812.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nRebased on top of #28925, cleaned out a lot of old code.\n\nNext step: Finish #28925 (see \"work issues\" there).",
    "created_at": "2020-09-10T05:46:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471812",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Rebased on top of #28925, cleaned out a lot of old code.

Next step: Finish #28925 (see "work issues" there).



---

archive/issue_comments_471813.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,8 @@\n \n `sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.\n \n+Ideally, they would use a shared `src/setup.py` and provide the distribution info via their own `setup.cfg`.\n+\n \n This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)\n \n``````\n",
    "created_at": "2020-09-28T16:31:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471813",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,8 @@
 
 `sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.
 
+Ideally, they would use a shared `src/setup.py` and provide the distribution info via their own `setup.cfg`.
+
 
 This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)
 
``````




---

archive/issue_comments_471814.json:
```json
{
    "body": "Changed keywords from none to **sd111**",
    "created_at": "2020-12-06T18:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471814",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from none to **sd111**



---

archive/issue_comments_471815.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nHoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471815",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_events_411058.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-09T05:55:26Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "title_is": "Modularization of sagelib: Create package sage-tdlib",
    "title_was": "Modularization of sagelib: Create modular packages sage-core, sage-tdlib",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411058"
}
```



---

archive/issue_comments_471816.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nSimplified this ticket.",
    "created_at": "2020-12-09T05:55:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471816",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Simplified this ticket.



---

archive/issue_comments_471817.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,12 +1,7 @@\n-The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.\n+The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as a second an example package for the modularization after `sage-meataxe` (#30151).\n \n-See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. \n+It does not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). It uses a simple setuptools build system.\n \n-`sage-core` is a version of `sagelib` - as of this ticket, consisting of everything in `sagelib` except for `sage.graphs.graph_decompositions.tdlib`. \n-\n-`sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.\n-\n-Ideally, they would use a shared `src/setup.py` and provide the distribution info via their own `setup.cfg`.\n \n \n This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)\n``````\n",
    "created_at": "2020-12-09T05:55:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471817",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,12 +1,7 @@
-The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as an example package for the modularization.
+The new package `sage-tdlib` represents the old `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` (building upon #29701, #28925). We use it as a second an example package for the modularization after `sage-meataxe` (#30151).
 
-See build/pkgs/sage_tdlib/spkg-install for an overview of the intended implementation targeting Sage 9.3. 
+It does not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). It uses a simple setuptools build system.
 
-`sage-core` is a version of `sagelib` - as of this ticket, consisting of everything in `sagelib` except for `sage.graphs.graph_decompositions.tdlib`. 
-
-`sage-core` and `sage_tdlib` do not use the incremental install mechanism of sagelib (`sage_setup.command.sage_install.sage_install_and_clean`). They use a simple setuptools build system.
-
-Ideally, they would use a shared `src/setup.py` and provide the distribution info via their own `setup.cfg`.
 
 
 This is part of #29705: Meta-ticket: Modularize sagelib into separate distributions (distutils packages)
``````




---

archive/issue_comments_471818.json:
```json
{
    "body": "Changed dependencies from **#28925, #29500, #29847** to **#30151**",
    "created_at": "2020-12-09T05:55:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471818",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#28925, #29500, #29847** to **#30151**



---

archive/issue_comments_471819.json:
```json
{
    "body": "Changed work issues from **rebase; create sage-core; don't change sagelib** to **rebase**",
    "created_at": "2020-12-09T05:55:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471819",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **rebase; create sage-core; don't change sagelib** to **rebase**



---

archive/issue_comments_471820.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471820",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_411059.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411059"
}
```



---

archive/issue_events_411060.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411060"
}
```



---

archive/issue_events_411061.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411061"
}
```



---

archive/issue_events_411062.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411062"
}
```



---

archive/issue_events_411063.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411063"
}
```



---

archive/issue_events_411064.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411064"
}
```



---

archive/issue_events_411065.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411065"
}
```



---

archive/issue_events_411066.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411066"
}
```



---

archive/issue_events_411067.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411067"
}
```



---

archive/issue_events_411068.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411068"
}
```



---

archive/issue_events_411069.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-16T07:40:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411069"
}
```



---

archive/issue_events_411070.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-16T07:40:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411070"
}
```



---

archive/issue_events_411071.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-16T07:40:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411071"
}
```



---

archive/issue_events_411072.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-11-16T07:40:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411072"
}
```



---

archive/issue_comments_471821.json:
```json
{
    "body": "Changed dependencies from **#30151** to **#34346**",
    "created_at": "2022-11-16T07:40:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471821",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30151** to **#34346**



---

archive/issue_comments_471822.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThis is now done as part of #34346.",
    "created_at": "2022-11-16T07:40:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471822",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

This is now done as part of #34346.



---

archive/issue_comments_471823.json:
```json
{
    "body": "Changed author from **Matthias Koeppe** to none",
    "created_at": "2022-11-16T07:40:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471823",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Matthias Koeppe** to none



---

archive/issue_events_411073.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-12-10T12:32:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411073"
}
```



---

archive/issue_events_411074.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2022-12-10T12:32:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411074"
}
```



---

archive/issue_comments_471824.json:
```json
{
    "body": "Reviewer: **Kwankyu Lee**",
    "created_at": "2022-12-10T12:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471824",
    "user": "https://github.com/kwankyu"
}
```

Reviewer: **Kwankyu Lee**



---

archive/issue_comments_471825.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOkay.",
    "created_at": "2022-12-10T12:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29864#issuecomment-471825",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:25" align="right">comment:25</div>

Okay.



---

archive/issue_events_411075.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-01T03:09:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411075"
}
```



---

archive/issue_events_411076.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-01T03:09:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29864",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29864#event-411076"
}
```
