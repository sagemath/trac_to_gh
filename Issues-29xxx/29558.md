# Issue 29558: Autogenerated parts of installation guide

archive/issues_029321.json:
```json
{
    "assignees": [],
    "body": "- Add a homebrew section, which requires producing good autogenerated homebrew files\n- Clean up the cygwin autogenerated files\n\n\nCC:  @mkoeppe @dimpase @embray\n\nComponent: **documentation**\n\nAuthor: **John Palmieri, Matthias Koeppe**\n\nBranch/Commit: **[`8f064f4`](https://github.com/sagemath/sagetrac-mirror/commit/8f064f475195ae3561a26c41c0cdd13a10cfc06d)**\n\nReviewer: **Matthias Koeppe, John Palmieri**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29558_\n\n",
    "closed_at": "2020-04-25T21:35:10Z",
    "created_at": "2020-04-23T22:32:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20documentation",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Autogenerated parts of installation guide",
    "type": "issue",
    "updated_at": "2020-04-25T21:35:10Z",
    "url": "https://github.com/sagemath/sage/issues/29558",
    "user": "https://github.com/jhpalmieri"
}
```
- Add a homebrew section, which requires producing good autogenerated homebrew files
- Clean up the cygwin autogenerated files


CC:  @mkoeppe @dimpase @embray

Component: **documentation**

Author: **John Palmieri, Matthias Koeppe**

Branch/Commit: **[`8f064f4`](https://github.com/sagemath/sagetrac-mirror/commit/8f064f475195ae3561a26c41c0cdd13a10cfc06d)**

Reviewer: **Matthias Koeppe, John Palmieri**

_Issue created by migration from https://trac.sagemath.org/ticket/29558_





---

archive/issue_events_403513.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-23T22:32:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403513"
}
```



---

archive/issue_events_403514.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-23T22:32:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403514"
}
```



---

archive/issue_events_403515.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-23T22:32:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403515"
}
```



---

archive/issue_events_403516.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-23T22:32:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403516"
}
```



---

archive/issue_comments_464985.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nRegarding a homebrew section: I am having problems with figuring out how to autogenerate the files `homebrew.txt` and `homebrew-optional.txt`. If I just add `homebrew` to the list of `SYSTEM`s in `src/doc/bootstrap`, I end up with this for `homebrew.txt`:\n\n```\n    $ brew install boost freetype gcc gd git gmp gpatch gsl libmpc libpng mpfi mpfr openblas pcre pkg-config ppl python3 r readline sqlite xz yasm zeromq zlib\n# Afterwards: \n# To automatically take care of homebrew messages regarding \n# keg-only packages for the current shell session:\n# $ source /Users/palmieri/Desktop/Sage_stuff/git/sage/.homebrew-build-env\n# Add this to your shell profile if you want it to persist between shell sessions.\n```\nI really just want the first line, and then I can add the rest by hand. Along the same lines, the files for `cygwin` are a little broken. `cygwin.txt` looks like\n\n```\n    $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg\napt-cyg install R binutils bzip2 cddlib-devel cddlib-tools curl findutils gcc-core gcc-core gcc-fortran gcc-fortran gcc-g++ gcc-g++ git glpk libatomic_ops-devel libboost-devel libbz2-devel libcrypt-devel libcurl-devel libffi-devel libflint-devel libfreetype-devel libgd-devel libglpk-devel libgmp-devel libgsl-devel libiconv-devel liblapack-devel liblzma-devel libmpc-devel libmpfr-devel libncurses-devel libntl-devel libopenblas libpcre-devel libreadline-devel libsqlite3-devel libtirpc-devel libzmq-devel m4 make patch perl perl-ExtUtils-MakeMaker python37 python37-devel python37-urllib tar which xz yasm zlib-devel\n```\nand the resulting output in the installation guide doesn't look perfect.\n\nIs the URL `https://github.com/transcode-open/apt-cyg` stable enough that it should just be included in the text? Then we would really want this to just say `$ apt-cyg install R ...`.",
    "created_at": "2020-04-23T22:35:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464985",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:1" align="right">comment:1</div>

Regarding a homebrew section: I am having problems with figuring out how to autogenerate the files `homebrew.txt` and `homebrew-optional.txt`. If I just add `homebrew` to the list of `SYSTEM`s in `src/doc/bootstrap`, I end up with this for `homebrew.txt`:

```
    $ brew install boost freetype gcc gd git gmp gpatch gsl libmpc libpng mpfi mpfr openblas pcre pkg-config ppl python3 r readline sqlite xz yasm zeromq zlib
# Afterwards: 
# To automatically take care of homebrew messages regarding 
# keg-only packages for the current shell session:
# $ source /Users/palmieri/Desktop/Sage_stuff/git/sage/.homebrew-build-env
# Add this to your shell profile if you want it to persist between shell sessions.
```
I really just want the first line, and then I can add the rest by hand. Along the same lines, the files for `cygwin` are a little broken. `cygwin.txt` looks like

```
    $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg
apt-cyg install R binutils bzip2 cddlib-devel cddlib-tools curl findutils gcc-core gcc-core gcc-fortran gcc-fortran gcc-g++ gcc-g++ git glpk libatomic_ops-devel libboost-devel libbz2-devel libcrypt-devel libcurl-devel libffi-devel libflint-devel libfreetype-devel libgd-devel libglpk-devel libgmp-devel libgsl-devel libiconv-devel liblapack-devel liblzma-devel libmpc-devel libmpfr-devel libncurses-devel libntl-devel libopenblas libpcre-devel libreadline-devel libsqlite3-devel libtirpc-devel libzmq-devel m4 make patch perl perl-ExtUtils-MakeMaker python37 python37-devel python37-urllib tar which xz yasm zlib-devel
```
and the resulting output in the installation guide doesn't look perfect.

Is the URL `https://github.com/transcode-open/apt-cyg` stable enough that it should just be included in the text? Then we would really want this to just say `$ apt-cyg install R ...`.



---

archive/issue_comments_464986.json:
```json
{
    "body": "Branch: **[u/jhpalmieri/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/homebrew)**",
    "created_at": "2020-04-23T22:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464986",
    "user": "https://github.com/jhpalmieri"
}
```

Branch: **[u/jhpalmieri/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/homebrew)**



---

archive/issue_comments_464987.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nHere is a very rough draft, but it has the flaws mentioned in [comment:1](#comment%3A1).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/155965f08f45f714ae3aa193642f46c3b3ff5eb3\"><code>155965f</code></a></td><td><code>trac 29558: first draft</code></td></tr></table>\n",
    "created_at": "2020-04-23T22:37:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464987",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:3" align="right">comment:3</div>

Here is a very rough draft, but it has the flaws mentioned in [comment:1](#comment%3A1).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/155965f08f45f714ae3aa193642f46c3b3ff5eb3"><code>155965f</code></a></td><td><code>trac 29558: first draft</code></td></tr></table>




---

archive/issue_comments_464988.json:
```json
{
    "body": "Commit: **[`155965f`](https://github.com/sagemath/sagetrac-mirror/commit/155965f08f45f714ae3aa193642f46c3b3ff5eb3)**",
    "created_at": "2020-04-23T22:37:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464988",
    "user": "https://github.com/jhpalmieri"
}
```

Commit: **[`155965f`](https://github.com/sagemath/sagetrac-mirror/commit/155965f08f45f714ae3aa193642f46c3b3ff5eb3)**



---

archive/issue_comments_464989.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\n`build/bin/sage-print-system-package-command` could certainly be made more flexible in what it prints in order to support prettier output.",
    "created_at": "2020-04-23T22:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464989",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

`build/bin/sage-print-system-package-command` could certainly be made more flexible in what it prints in order to support prettier output.



---

archive/issue_comments_464990.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI'm not a whiz at shell scripts. My current attempt works, but maybe there are better ways:\n\n```diff\ndiff --git a/build/bin/sage-print-system-package-command b/build/bin/sage-print-system-package-command\nindex 7802d447df..38b7966bcd 100755\n--- a/build/bin/sage-print-system-package-command\n+++ b/build/bin/sage-print-system-package-command\n@@ -26,27 +26,35 @@ if [ -n \"$system_packages\" ]; then\n             ;;\n         homebrew*:install)\n             echo \"brew install $system_packages\"\n-            echo \"# Afterwards: \"\n+            if [ -z \"$SAGE_STRIP_COMMENTS\" ]; then\n+                echo \"# Afterwards: \"\n+            fi\n             ;;\n         slackware*:install)\n             echo \"sudo slackpkg install $system_packages\"\n             ;;\n         cygwin*:install)\n-            echo \"# first install apt-cyg from https://github.com/transcode-open/apt-cyg\"\n+            if [ -z \"$SAGE_STRIP_COMMENTS\" ]; then\n+                echo \"# first install apt-cyg from https://github.com/transcode-open/apt-cyg\"\n+            fi\n             echo \"apt-cyg install $system_packages\"\n             ;;\n         *)\n-            echo \"# $command the following packages: $system_packages\"\n+            if [ -z \"$SAGE_STRIP_COMMENTS\" ]; then\n+                echo \"# $command the following packages: $system_packages\"\n+            fi\n             ;;\n     esac\n fi\n # Messages that should go out even if not packages need to be installed\n case $system:$command in\n     homebrew*:install)\n-        echo \"# To automatically take care of homebrew messages regarding \"\n-        echo \"# keg-only packages for the current shell session:\"\n-        [ -n \"$SAGE_ROOT\" ] || SAGE_ROOT=.\n-        echo \"# $ source $SAGE_ROOT/.homebrew-build-env\"\n-        echo \"# Add this to your shell profile if you want it to persist between shell sessions.\"\n+        if [ -z \"$SAGE_STRIP_COMMENTS\" ]; then\n+            echo \"# To automatically take care of homebrew messages regarding \"\n+            echo \"# keg-only packages for the current shell session:\"\n+            [ -n \"$SAGE_ROOT\" ] || SAGE_ROOT=.\n+            echo \"# $ source $SAGE_ROOT/.homebrew-build-env\"\n+            echo \"# Add this to your shell profile if you want it to persist between shell sessions.\"\n+        fi\n         ;;\n esac\ndiff --git a/src/doc/bootstrap b/src/doc/bootstrap\nindex 3ac1f5b767..283798635b 100755\n--- a/src/doc/bootstrap\n+++ b/src/doc/bootstrap\n@@ -46,6 +46,6 @@ for SYSTEM in arch debian fedora cygwin homebrew; do\n         fi\n     done\n     echo >&2 $0:$LINENO: installing \"$OUTPUT_DIR\"/$SYSTEM.txt and \"$OUTPUT_DIR\"/$SYSTEM-optional.txt\n-    echo \"$PROMPT$(sage-print-system-package-command $SYSTEM install $(echo $(echo $SYSTEM_PACKAGES | xargs -n 1 echo | sort)))\" > \"$OUTPUT_DIR\"/$SYSTEM.txt\n-    echo \"$PROMPT$(sage-print-system-package-command $SYSTEM install $(echo $(echo $OPTIONAL_SYSTEM_PACKAGES | xargs -n 1 echo | sort)))\" > \"$OUTPUT_DIR\"/$SYSTEM-optional.txt\n+    echo \"$PROMPT$(SAGE_STRIP_COMMENTS=yes sage-print-system-package-command $SYSTEM install $(echo $(echo $SYSTEM_PACKAGES | xargs -n 1 echo | sort)))\" > \"$OUTPUT_DIR\"/$SYSTEM.txt\n+    echo \"$PROMPT$(SAGE_STRIP_COMMENTS=yes sage-print-system-package-command $SYSTEM install $(echo $(echo $OPTIONAL_SYSTEM_PACKAGES | xargs -n 1 echo | sort)))\" > \"$OUTPUT_DIR\"/$SYSTEM-optional.txt\n done\n```",
    "created_at": "2020-04-23T22:58:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464990",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:5" align="right">comment:5</div>

I'm not a whiz at shell scripts. My current attempt works, but maybe there are better ways:

```diff
diff --git a/build/bin/sage-print-system-package-command b/build/bin/sage-print-system-package-command
index 7802d447df..38b7966bcd 100755
--- a/build/bin/sage-print-system-package-command
+++ b/build/bin/sage-print-system-package-command
@@ -26,27 +26,35 @@ if [ -n "$system_packages" ]; then
             ;;
         homebrew*:install)
             echo "brew install $system_packages"
-            echo "# Afterwards: "
+            if [ -z "$SAGE_STRIP_COMMENTS" ]; then
+                echo "# Afterwards: "
+            fi
             ;;
         slackware*:install)
             echo "sudo slackpkg install $system_packages"
             ;;
         cygwin*:install)
-            echo "# first install apt-cyg from https://github.com/transcode-open/apt-cyg"
+            if [ -z "$SAGE_STRIP_COMMENTS" ]; then
+                echo "# first install apt-cyg from https://github.com/transcode-open/apt-cyg"
+            fi
             echo "apt-cyg install $system_packages"
             ;;
         *)
-            echo "# $command the following packages: $system_packages"
+            if [ -z "$SAGE_STRIP_COMMENTS" ]; then
+                echo "# $command the following packages: $system_packages"
+            fi
             ;;
     esac
 fi
 # Messages that should go out even if not packages need to be installed
 case $system:$command in
     homebrew*:install)
-        echo "# To automatically take care of homebrew messages regarding "
-        echo "# keg-only packages for the current shell session:"
-        [ -n "$SAGE_ROOT" ] || SAGE_ROOT=.
-        echo "# $ source $SAGE_ROOT/.homebrew-build-env"
-        echo "# Add this to your shell profile if you want it to persist between shell sessions."
+        if [ -z "$SAGE_STRIP_COMMENTS" ]; then
+            echo "# To automatically take care of homebrew messages regarding "
+            echo "# keg-only packages for the current shell session:"
+            [ -n "$SAGE_ROOT" ] || SAGE_ROOT=.
+            echo "# $ source $SAGE_ROOT/.homebrew-build-env"
+            echo "# Add this to your shell profile if you want it to persist between shell sessions."
+        fi
         ;;
 esac
diff --git a/src/doc/bootstrap b/src/doc/bootstrap
index 3ac1f5b767..283798635b 100755
--- a/src/doc/bootstrap
+++ b/src/doc/bootstrap
@@ -46,6 +46,6 @@ for SYSTEM in arch debian fedora cygwin homebrew; do
         fi
     done
     echo >&2 $0:$LINENO: installing "$OUTPUT_DIR"/$SYSTEM.txt and "$OUTPUT_DIR"/$SYSTEM-optional.txt
-    echo "$PROMPT$(sage-print-system-package-command $SYSTEM install $(echo $(echo $SYSTEM_PACKAGES | xargs -n 1 echo | sort)))" > "$OUTPUT_DIR"/$SYSTEM.txt
-    echo "$PROMPT$(sage-print-system-package-command $SYSTEM install $(echo $(echo $OPTIONAL_SYSTEM_PACKAGES | xargs -n 1 echo | sort)))" > "$OUTPUT_DIR"/$SYSTEM-optional.txt
+    echo "$PROMPT$(SAGE_STRIP_COMMENTS=yes sage-print-system-package-command $SYSTEM install $(echo $(echo $SYSTEM_PACKAGES | xargs -n 1 echo | sort)))" > "$OUTPUT_DIR"/$SYSTEM.txt
+    echo "$PROMPT$(SAGE_STRIP_COMMENTS=yes sage-print-system-package-command $SYSTEM install $(echo $(echo $OPTIONAL_SYSTEM_PACKAGES | xargs -n 1 echo | sort)))" > "$OUTPUT_DIR"/$SYSTEM-optional.txt
 done
```



---

archive/issue_comments_464991.json:
```json
{
    "body": "Changed commit from **[`155965f`](https://github.com/sagemath/sagetrac-mirror/commit/155965f08f45f714ae3aa193642f46c3b3ff5eb3)** to **[`66c07d8`](https://github.com/sagemath/sagetrac-mirror/commit/66c07d82db0246bec89dac3af61a3b22371e2736)**",
    "created_at": "2020-04-23T23:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464991",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`155965f`](https://github.com/sagemath/sagetrac-mirror/commit/155965f08f45f714ae3aa193642f46c3b3ff5eb3)** to **[`66c07d8`](https://github.com/sagemath/sagetrac-mirror/commit/66c07d82db0246bec89dac3af61a3b22371e2736)**



---

archive/issue_comments_464992.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66c07d82db0246bec89dac3af61a3b22371e2736\"><code>66c07d8</code></a></td><td><code>trac 29558: first draft</code></td></tr></table>\n",
    "created_at": "2020-04-23T23:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464992",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66c07d82db0246bec89dac3af61a3b22371e2736"><code>66c07d8</code></a></td><td><code>trac 29558: first draft</code></td></tr></table>




---

archive/issue_comments_464993.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n(No changes to `sage-print-system-package-command` in the branch yet, just minor changes.)",
    "created_at": "2020-04-23T23:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464993",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:7" align="right">comment:7</div>

(No changes to `sage-print-system-package-command` in the branch yet, just minor changes.)



---

archive/issue_comments_464994.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nFor `sage-print-system-package-command`, maybe better to split `install` into `prepare` and `install` and `setup-env` or something like this, instead of using an environment variable",
    "created_at": "2020-04-24T00:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464994",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

For `sage-print-system-package-command`, maybe better to split `install` into `prepare` and `install` and `setup-env` or something like this, instead of using an environment variable



---

archive/issue_comments_464995.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI'll give it a shot",
    "created_at": "2020-04-24T00:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464995",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

I'll give it a shot



---

archive/issue_comments_464996.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/homebrew)** to **[u/mkoeppe/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/homebrew)**",
    "created_at": "2020-04-24T01:29:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464996",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/jhpalmieri/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/homebrew)** to **[u/mkoeppe/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/homebrew)**



---

archive/issue_comments_464997.json:
```json
{
    "body": "Changed commit from **[`66c07d8`](https://github.com/sagemath/sagetrac-mirror/commit/66c07d82db0246bec89dac3af61a3b22371e2736)** to **[`272f01b`](https://github.com/sagemath/sagetrac-mirror/commit/272f01bcafb3645399e22e4b8a631b31240f8c76)**",
    "created_at": "2020-04-24T01:30:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464997",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`66c07d8`](https://github.com/sagemath/sagetrac-mirror/commit/66c07d82db0246bec89dac3af61a3b22371e2736)** to **[`272f01b`](https://github.com/sagemath/sagetrac-mirror/commit/272f01bcafb3645399e22e4b8a631b31240f8c76)**



---

archive/issue_comments_464998.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nTake a look if this version works for you\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/deb84cd6569eaacc8f90d731c317a9a969f272a5\"><code>deb84cd</code></a></td><td><code>sage-print-system-package-command: More options, update uses</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a832dbc54ef6177c3a62f67e1051e972b0bb63ab\"><code>a832dbc</code></a></td><td><code>src/doc/bootstrap: Initialize OPTIONAL_SYSTEM_PACKAGES</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/272f01bcafb3645399e22e4b8a631b31240f8c76\"><code>272f01b</code></a></td><td><code>build/bin/sage-spkg: Update use of sage-print-system-package-command</code></td></tr></table>\n",
    "created_at": "2020-04-24T01:30:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464998",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Take a look if this version works for you

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/deb84cd6569eaacc8f90d731c317a9a969f272a5"><code>deb84cd</code></a></td><td><code>sage-print-system-package-command: More options, update uses</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a832dbc54ef6177c3a62f67e1051e972b0bb63ab"><code>a832dbc</code></a></td><td><code>src/doc/bootstrap: Initialize OPTIONAL_SYSTEM_PACKAGES</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/272f01bcafb3645399e22e4b8a631b31240f8c76"><code>272f01b</code></a></td><td><code>build/bin/sage-spkg: Update use of sage-print-system-package-command</code></td></tr></table>




---

archive/issue_comments_464999.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@jhpalmieri](#comment%3A1):\n> Is the URL `https://github.com/transcode-open/apt-cyg` stable enough that it should just be included in the text? Then we would really want this to just say `$ apt-cyg install R ...`.\n\nI don't really know. @embray added this part.",
    "created_at": "2020-04-24T01:35:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-464999",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@jhpalmieri](#comment%3A1):
> Is the URL `https://github.com/transcode-open/apt-cyg` stable enough that it should just be included in the text? Then we would really want this to just say `$ apt-cyg install R ...`.

I don't really know. @embray added this part.



---

archive/issue_comments_465000.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@mkoeppe](#comment%3A13):\n> Replying to [@jhpalmieri](#comment%3A1):\n> > Is the URL `https://github.com/transcode-open/apt-cyg` stable enough that it should just be included in the text? Then we would really want this to just say `$ apt-cyg install R ...`.\n\n> \n> I don't really know. @embray added this part.\n\nI realized this actually doesn't matter: the document already includes instructions for installing `apt-cyg`.",
    "created_at": "2020-04-24T01:54:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-465000",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@mkoeppe](#comment%3A13):
> Replying to [@jhpalmieri](#comment%3A1):
> > Is the URL `https://github.com/transcode-open/apt-cyg` stable enough that it should just be included in the text? Then we would really want this to just say `$ apt-cyg install R ...`.

> 
> I don't really know. @embray added this part.

I realized this actually doesn't matter: the document already includes instructions for installing `apt-cyg`.



---

archive/issue_events_403517.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-24T02:14:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403517"
}
```



---

archive/issue_events_403518.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-24T02:14:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403518"
}
```



---

archive/issue_events_403519.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-24T02:22:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403519"
}
```



---

archive/issue_events_403520.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-24T02:22:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403520"
}
```



---

archive/issue_comments_465001.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nDid the addition of the line\n\n```\nOPTIONAL_SYSTEM_PACKAGES=\n```\ncut down on the repetitions in the commands? I'm not seeing nearly as much as I did before, and I can't figure out why.",
    "created_at": "2020-04-24T02:22:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-465001",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:16" align="right">comment:16</div>

Did the addition of the line

```
OPTIONAL_SYSTEM_PACKAGES=
```
cut down on the repetitions in the commands? I'm not seeing nearly as much as I did before, and I can't figure out why.



---

archive/issue_events_403521.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-24T02:32:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403521"
}
```



---

archive/issue_events_403522.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-24T02:32:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403522"
}
```



---

archive/issue_comments_465002.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/homebrew)** to **[u/jhpalmieri/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/homebrew)**",
    "created_at": "2020-04-24T02:37:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-465002",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/mkoeppe/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/homebrew)** to **[u/jhpalmieri/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/homebrew)**



---

archive/issue_comments_465003.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI'm happy with this. How about you?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f064f475195ae3561a26c41c0cdd13a10cfc06d\"><code>8f064f4</code></a></td><td><code>trac 29558: correct some markup, change the date at end of file</code></td></tr></table>\n",
    "created_at": "2020-04-24T02:37:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-465003",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:19" align="right">comment:19</div>

I'm happy with this. How about you?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f064f475195ae3561a26c41c0cdd13a10cfc06d"><code>8f064f4</code></a></td><td><code>trac 29558: correct some markup, change the date at end of file</code></td></tr></table>




---

archive/issue_comments_465004.json:
```json
{
    "body": "Changed commit from **[`272f01b`](https://github.com/sagemath/sagetrac-mirror/commit/272f01bcafb3645399e22e4b8a631b31240f8c76)** to **[`8f064f4`](https://github.com/sagemath/sagetrac-mirror/commit/8f064f475195ae3561a26c41c0cdd13a10cfc06d)**",
    "created_at": "2020-04-24T02:37:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-465004",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[`272f01b`](https://github.com/sagemath/sagetrac-mirror/commit/272f01bcafb3645399e22e4b8a631b31240f8c76)** to **[`8f064f4`](https://github.com/sagemath/sagetrac-mirror/commit/8f064f475195ae3561a26c41c0cdd13a10cfc06d)**



---

archive/issue_comments_465005.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, John Palmieri**",
    "created_at": "2020-04-24T02:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-465005",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **Matthias Koeppe, John Palmieri**



---

archive/issue_comments_465006.json:
```json
{
    "body": "Author: **John Palmieri, Matthias Koeppe**",
    "created_at": "2020-04-24T02:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-465006",
    "user": "https://github.com/jhpalmieri"
}
```

Author: **John Palmieri, Matthias Koeppe**



---

archive/issue_events_403523.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-24T02:37:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403523"
}
```



---

archive/issue_comments_465007.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@jhpalmieri](#comment%3A16):\n> Did the addition of the line\n> \n> ```\n> OPTIONAL_SYSTEM_PACKAGES=\n> ```\n> cut down on the repetitions in the commands? I'm not seeing nearly as much as I did before, and I can't figure out why.\n\nYes, that's right. I actually had thought that was fixed before.",
    "created_at": "2020-04-24T04:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-465007",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@jhpalmieri](#comment%3A16):
> Did the addition of the line
> 
> ```
> OPTIONAL_SYSTEM_PACKAGES=
> ```
> cut down on the repetitions in the commands? I'm not seeing nearly as much as I did before, and I can't figure out why.

Yes, that's right. I actually had thought that was fixed before.



---

archive/issue_comments_465008.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nLooks good to me.",
    "created_at": "2020-04-24T04:06:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-465008",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Looks good to me.



---

archive/issue_events_403524.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-24T04:06:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403524"
}
```



---

archive/issue_events_403525.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-24T04:06:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403525"
}
```



---

archive/issue_comments_465009.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/homebrew)** to **[`8f064f4`](https://github.com/sagemath/sagetrac-mirror/commit/8f064f475195ae3561a26c41c0cdd13a10cfc06d)**",
    "created_at": "2020-04-25T21:35:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29558#issuecomment-465009",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jhpalmieri/homebrew](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/homebrew)** to **[`8f064f4`](https://github.com/sagemath/sagetrac-mirror/commit/8f064f475195ae3561a26c41c0cdd13a10cfc06d)**



---

archive/issue_events_403526.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-25T21:35:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403526"
}
```



---

archive/issue_events_403527.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "119bf4775960e4184b1831067df9c86ef7f14180",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-04-25T21:35:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29558",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29558#event-403527"
}
```
