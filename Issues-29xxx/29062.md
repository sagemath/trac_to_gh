# Issue 29062: build/pkgs/python3/spkg-install: Install valgrind-python.supp in $SAGE_LOCAL, not in $SAGE_SRC

archive/issues_028825.json:
```json
{
    "assignees": [],
    "body": "`valgrind-python.supp` is supplied by the Python source code tarball. Currently our `spkg-install` copies it to `$SAGE_SRC/ext`, from where it is copied to `$SAGE_LOCAL/share/sage/ext/`.\n\nIn preparation for #27824 - spkg-configure.m4 for python3:\n- we change `spkg-install` to install the file in `$SAGE_LOCAL/lib/valgrind/` instead. \n- make `sage -valgrind` more flexible in where it expects the file.\n\nThis change also has the side effect of removing a peculiar use of `SAGE_EXTCODE` during building. This simplifies #21785.\n\n---\n\nRelated old tickets:\n- #19398 (Be more verbose when running valgrind)\n- #17139 (Installing local/share/sage/ext/valgrind/python.supp fails)\n- #11918 (Sage should ship its Valgrind suppressions file, or not insist on its presence)\n\n\nCC:  @dimpase @embray @rwst @jhpalmieri @jdemeyer @vbraun\n\nComponent: **build**\n\nAuthor: **Matthias Koeppe**\n\nBranch/Commit: **[`e01a340`](https://github.com/sagemath/sagetrac-mirror/commit/e01a340d841414a06b678de09d390b1f600739c9)**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29062_\n\n",
    "closed_at": "2020-02-10T20:05:50Z",
    "created_at": "2020-01-21T18:31:27Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "build/pkgs/python3/spkg-install: Install valgrind-python.supp in $SAGE_LOCAL, not in $SAGE_SRC",
    "type": "issue",
    "updated_at": "2020-02-10T20:05:50Z",
    "url": "https://github.com/sagemath/sage/issues/29062",
    "user": "https://github.com/mkoeppe"
}
```
`valgrind-python.supp` is supplied by the Python source code tarball. Currently our `spkg-install` copies it to `$SAGE_SRC/ext`, from where it is copied to `$SAGE_LOCAL/share/sage/ext/`.

In preparation for #27824 - spkg-configure.m4 for python3:
- we change `spkg-install` to install the file in `$SAGE_LOCAL/lib/valgrind/` instead. 
- make `sage -valgrind` more flexible in where it expects the file.

This change also has the side effect of removing a peculiar use of `SAGE_EXTCODE` during building. This simplifies #21785.

---

Related old tickets:
- #19398 (Be more verbose when running valgrind)
- #17139 (Installing local/share/sage/ext/valgrind/python.supp fails)
- #11918 (Sage should ship its Valgrind suppressions file, or not insist on its presence)


CC:  @dimpase @embray @rwst @jhpalmieri @jdemeyer @vbraun

Component: **build**

Author: **Matthias Koeppe**

Branch/Commit: **[`e01a340`](https://github.com/sagemath/sagetrac-mirror/commit/e01a340d841414a06b678de09d390b1f600739c9)**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/29062_





---

archive/issue_events_396385.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-21T18:31:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29062#event-396385"
}
```



---

archive/issue_events_396386.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-21T18:31:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29062#event-396386"
}
```



---

archive/issue_events_396387.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-21T18:31:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29062#event-396387"
}
```



---

archive/issue_events_396388.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-21T18:31:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29062#event-396388"
}
```



---

archive/issue_comments_454686.json:
```json
{
    "body": "Branch: **[public/29062-valgrind-python-to-SAGE-LOCAL](https://github.com/sagemath/sagetrac-mirror/tree/public/29062-valgrind-python-to-SAGE-LOCAL)**",
    "created_at": "2020-01-21T19:29:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454686",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[public/29062-valgrind-python-to-SAGE-LOCAL](https://github.com/sagemath/sagetrac-mirror/tree/public/29062-valgrind-python-to-SAGE-LOCAL)**



---

archive/issue_comments_454687.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,10 @@\n-`valgrind-python.supp` is supplied by the Python source code tarball.\n+`valgrind-python.supp` is supplied by the Python source code tarball. Currently our `spkg-install` copies it `$SAGE_SRC/ext`, from where it is copied to `$SAGE_LOCAL/share/sage/ext/`.\n \n In preparation for #27824 - spkg-configure.m4 for python3:\n-- we install this file in $SAGE_LOCAL/lib/valgrind/ instead. \n-- make `sage -valgrind` more flexible in how it accesses the file.\n+- we change `spkg-install` to install the file in `$SAGE_LOCAL/lib/valgrind/` instead. \n+- make `sage -valgrind` more flexible in where it expects the file.\n \n-This change also has the side effect of removing a peculiar use of `SAGE_EXTCODE` during building: Without this ticket, `python.supp` is first installed in the source directory (`$SAGE_SRC/ext`), and then from there in `$SAGE_LOCAL`. This simplifies #21785.\n+This change also has the side effect of removing a peculiar use of `SAGE_EXTCODE` during building. This simplifies #21785.\n \n ---\n \n``````\n",
    "created_at": "2020-01-21T19:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454687",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,10 @@
-`valgrind-python.supp` is supplied by the Python source code tarball.
+`valgrind-python.supp` is supplied by the Python source code tarball. Currently our `spkg-install` copies it `$SAGE_SRC/ext`, from where it is copied to `$SAGE_LOCAL/share/sage/ext/`.
 
 In preparation for #27824 - spkg-configure.m4 for python3:
-- we install this file in $SAGE_LOCAL/lib/valgrind/ instead. 
-- make `sage -valgrind` more flexible in how it accesses the file.
+- we change `spkg-install` to install the file in `$SAGE_LOCAL/lib/valgrind/` instead. 
+- make `sage -valgrind` more flexible in where it expects the file.
 
-This change also has the side effect of removing a peculiar use of `SAGE_EXTCODE` during building: Without this ticket, `python.supp` is first installed in the source directory (`$SAGE_SRC/ext`), and then from there in `$SAGE_LOCAL`. This simplifies #21785.
+This change also has the side effect of removing a peculiar use of `SAGE_EXTCODE` during building. This simplifies #21785.
 
 ---
 
``````




---

archive/issue_events_396389.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-21T19:32:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29062#event-396389"
}
```



---

archive/issue_comments_454688.json:
```json
{
    "body": "Commit: **[`ceb35bb`](https://github.com/sagemath/sagetrac-mirror/commit/ceb35bb51b8cdc26b99c28fa14079ed718a75a54)**",
    "created_at": "2020-01-21T19:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454688",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`ceb35bb`](https://github.com/sagemath/sagetrac-mirror/commit/ceb35bb51b8cdc26b99c28fa14079ed718a75a54)**



---

archive/issue_comments_454689.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/568afdc5d9e41a9438fe808954b4b5334048630d\"><code>568afdc</code></a></td><td><code>build/pkgs/python3/spkg-install: Install valgrind-python.supp directly in SAGE_LOCAL, not first in SAGE_SRC</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ceb35bb51b8cdc26b99c28fa14079ed718a75a54\"><code>ceb35bb</code></a></td><td><code>src/bin/sage-valgrind: Find python.supp/python3.supp in SAGE_LOCAL/lib/valgrind or system directories</code></td></tr></table>\n",
    "created_at": "2020-01-21T19:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454689",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/568afdc5d9e41a9438fe808954b4b5334048630d"><code>568afdc</code></a></td><td><code>build/pkgs/python3/spkg-install: Install valgrind-python.supp directly in SAGE_LOCAL, not first in SAGE_SRC</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ceb35bb51b8cdc26b99c28fa14079ed718a75a54"><code>ceb35bb</code></a></td><td><code>src/bin/sage-valgrind: Find python.supp/python3.supp in SAGE_LOCAL/lib/valgrind or system directories</code></td></tr></table>




---

archive/issue_comments_454690.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-01-21T19:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454690",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_454691.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nMakes sense to me, although I don't know about adding the Debian-specific paths.  How standard is `<prefix>/lib/valgrind/` on other distros?  Perhaps the script could just take an optional path to the suppressions file as command-line argument, or have the ability to pass additional command-line arguments directly to valgrind?",
    "created_at": "2020-01-22T10:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454691",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">comment:3</div>

Makes sense to me, although I don't know about adding the Debian-specific paths.  How standard is `<prefix>/lib/valgrind/` on other distros?  Perhaps the script could just take an optional path to the suppressions file as command-line argument, or have the ability to pass additional command-line arguments directly to valgrind?



---

archive/issue_comments_454692.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nmy Fedora box has `/usr/lib64/valgrind/`",
    "created_at": "2020-01-22T11:10:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454692",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">comment:4</div>

my Fedora box has `/usr/lib64/valgrind/`



---

archive/issue_comments_454693.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@dimpase](#comment%3A4):\n> my Fedora box has `/usr/lib64/valgrind/`\n\nOK I'll add that.",
    "created_at": "2020-01-22T13:49:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454693",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@dimpase](#comment%3A4):
> my Fedora box has `/usr/lib64/valgrind/`

OK I'll add that.



---

archive/issue_comments_454694.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@embray](#comment%3A3):\n> Makes sense to me, although I don't know about adding the Debian-specific paths.  How standard is `<prefix>/lib/valgrind/` on other distros?  \n\nAs far as I can see, `<prefix>/lib/valgrind/` is the install location of upstream valgrind. It has the default suppression file. It's a natural place for distros to install additional things into.\n\n> Perhaps the script could just take an optional path to the suppressions file as command-line argument, or have the ability to pass additional command-line arguments directly to valgrind?\n\nA follow-up ticket.",
    "created_at": "2020-01-22T13:50:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454694",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@embray](#comment%3A3):
> Makes sense to me, although I don't know about adding the Debian-specific paths.  How standard is `<prefix>/lib/valgrind/` on other distros?  

As far as I can see, `<prefix>/lib/valgrind/` is the install location of upstream valgrind. It has the default suppression file. It's a natural place for distros to install additional things into.

> Perhaps the script could just take an optional path to the suppressions file as command-line argument, or have the ability to pass additional command-line arguments directly to valgrind?

A follow-up ticket.



---

archive/issue_comments_454695.json:
```json
{
    "body": "Changed commit from **[`ceb35bb`](https://github.com/sagemath/sagetrac-mirror/commit/ceb35bb51b8cdc26b99c28fa14079ed718a75a54)** to **[`5071b5d`](https://github.com/sagemath/sagetrac-mirror/commit/5071b5ddcbe0adee837c70fffffdd450cbbc3312)**",
    "created_at": "2020-01-22T16:18:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454695",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ceb35bb`](https://github.com/sagemath/sagetrac-mirror/commit/ceb35bb51b8cdc26b99c28fa14079ed718a75a54)** to **[`5071b5d`](https://github.com/sagemath/sagetrac-mirror/commit/5071b5ddcbe0adee837c70fffffdd450cbbc3312)**



---

archive/issue_comments_454696.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5071b5ddcbe0adee837c70fffffdd450cbbc3312\"><code>5071b5d</code></a></td><td><code>src/bin/sage-valgrind: Also check /usr/lib64/valgrind</code></td></tr></table>\n",
    "created_at": "2020-01-22T16:18:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454696",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5071b5ddcbe0adee837c70fffffdd450cbbc3312"><code>5071b5d</code></a></td><td><code>src/bin/sage-valgrind: Also check /usr/lib64/valgrind</code></td></tr></table>




---

archive/issue_comments_454697.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReady for review",
    "created_at": "2020-01-24T16:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454697",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Ready for review



---

archive/issue_comments_454698.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@mkoeppe](#comment%3A5):\n> Replying to [@dimpase](#comment%3A4):\n> > my Fedora box has `/usr/lib64/valgrind/`\n\n> OK I'll add that.\n\nThis is added and the ticket is waiting for review...",
    "created_at": "2020-01-28T18:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454698",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@mkoeppe](#comment%3A5):
> Replying to [@dimpase](#comment%3A4):
> > my Fedora box has `/usr/lib64/valgrind/`

> OK I'll add that.

This is added and the ticket is waiting for review...



---

archive/issue_comments_454699.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHow can this be tested?",
    "created_at": "2020-01-29T13:56:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454699",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

How can this be tested?



---

archive/issue_comments_454700.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nCheck that sage-valgrind works without error in a fresh build from a distclean source, both in a python2 and python3 build.",
    "created_at": "2020-01-29T14:11:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454700",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

Check that sage-valgrind works without error in a fresh build from a distclean source, both in a python2 and python3 build.



---

archive/issue_comments_454701.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-`valgrind-python.supp` is supplied by the Python source code tarball. Currently our `spkg-install` copies it `$SAGE_SRC/ext`, from where it is copied to `$SAGE_LOCAL/share/sage/ext/`.\n+`valgrind-python.supp` is supplied by the Python source code tarball. Currently our `spkg-install` copies it to `$SAGE_SRC/ext`, from where it is copied to `$SAGE_LOCAL/share/sage/ext/`.\n \n In preparation for #27824 - spkg-configure.m4 for python3:\n - we change `spkg-install` to install the file in `$SAGE_LOCAL/lib/valgrind/` instead. \n``````\n",
    "created_at": "2020-01-31T17:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454701",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-`valgrind-python.supp` is supplied by the Python source code tarball. Currently our `spkg-install` copies it `$SAGE_SRC/ext`, from where it is copied to `$SAGE_LOCAL/share/sage/ext/`.
+`valgrind-python.supp` is supplied by the Python source code tarball. Currently our `spkg-install` copies it to `$SAGE_SRC/ext`, from where it is copied to `$SAGE_LOCAL/share/sage/ext/`.
 
 In preparation for #27824 - spkg-configure.m4 for python3:
 - we change `spkg-install` to install the file in `$SAGE_LOCAL/lib/valgrind/` instead. 
``````




---

archive/issue_comments_454702.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nthis is what I see on py3 on Debian 10\n\n```\n(sage-sh) dimpase@penguin:sage-src$ sage-valgrind \nUsing default flags: --leak-resolution=high --leak-check=full --num-callers=25  --suppressions=/usr/lib/valgrind/python3.supp --suppressions=/home/dimpase/sage-src/local/share/sage/ext/valgrind/pyalloc.supp --suppressions=/home/dimpase/sage-src/local/share/sage/ext/valgrind/sage.supp --suppressions=/home/dimpase/sage-src/local/share/sage/ext/valgrind/sage-additional.supp\n==17460== Memcheck, a memory error detector\n==17460== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.\n==17460== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info\n==17460== Command: /home/dimpase/sage-src/src/bin/sage-ipython -i\n==17460== \n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 9.1.beta2, Release Date: 2020-01-26               \u2502\n\u2502 Using Python 3.7.3. Type \"help()\" for help.                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: 2+2\n4\nsage:                                                                                                                                                                                     \nExiting Sage (CPU time 0m0.17s, Wall time 2m5.33s).\n(sage-sh) dimpase@penguin:sage-src$ \n```\nIs this what's expected?\n\nPS. `sage --valgrind` produces the same output.",
    "created_at": "2020-01-31T18:37:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454702",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

this is what I see on py3 on Debian 10

```
(sage-sh) dimpase@penguin:sage-src$ sage-valgrind 
Using default flags: --leak-resolution=high --leak-check=full --num-callers=25  --suppressions=/usr/lib/valgrind/python3.supp --suppressions=/home/dimpase/sage-src/local/share/sage/ext/valgrind/pyalloc.supp --suppressions=/home/dimpase/sage-src/local/share/sage/ext/valgrind/sage.supp --suppressions=/home/dimpase/sage-src/local/share/sage/ext/valgrind/sage-additional.supp
==17460== Memcheck, a memory error detector
==17460== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==17460== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==17460== Command: /home/dimpase/sage-src/src/bin/sage-ipython -i
==17460== 
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 9.1.beta2, Release Date: 2020-01-26               │
│ Using Python 3.7.3. Type "help()" for help.                        │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: 2+2
4
sage:                                                                                                                                                                                     
Exiting Sage (CPU time 0m0.17s, Wall time 2m5.33s).
(sage-sh) dimpase@penguin:sage-src$ 
```
Is this what's expected?

PS. `sage --valgrind` produces the same output.



---

archive/issue_comments_454703.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nYes, looks right.",
    "created_at": "2020-01-31T20:05:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454703",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Yes, looks right.



---

archive/issue_comments_454704.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI'll run a whole build of this branch on py2, just to be sure.",
    "created_at": "2020-01-31T21:15:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454704",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

I'll run a whole build of this branch on py2, just to be sure.



---

archive/issue_comments_454705.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOn py2 it does not seem to get installed in the right place:\n\n```\n$ ./sage --valgrind\nPython suppressions not found (not installed?), skipping\nUsing default flags: --leak-resolution=high --leak-check=full --num-callers=25  --suppressions=/home/scratch2/dimpase/sage/sage-clang/local/share/sage/ext/valgrind/pyalloc.supp --suppressions=/home/scratch2/dimpase/sage/sage-clang/local/share/sage/ext/valgrind/sage.supp --suppressions=/home/scratch2/dimpase/sage/sage-clang/local/share/sage/ext/valgrind/sage-additional.supp\n==21807== Memcheck, a memory error detector\n==21807== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.\n==21807== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info\n==21807== Command: /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-ipython -i\n==21807== \n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 9.1.beta2, Release Date: 2020-01-26               \u2502\n\u2502 Using Python 2.7.15. Type \"help()\" for help.                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: 2+2\n4\nsage: exit\nExiting Sage (CPU time 0m0.11s, Wall time 0m5.92s).\n```\n\nIn install log I see\n\n```\ncp <SAGEROOT>/src/ext/valgrind/sage.supp <SAGEROOT>/local/share/sage/ext/valgrind/sage.supp\n```\nand the same with files `pyalloc.supp`, `sage-additional.supp`.\n\nAnd then\n\n```\n[python2-2.7.15.p1] Installing valgrind suppression file...\n[python2-2.7.15.p1] Misc/valgrind-python.supp -> <SAGELOCAL>/var/tmp/sage/build/python2-2.7.15.p1/inst/home/scratch2/dimpase/sage/sage-clang/local/var/tmp/sage/build/python2-2.7.15.p1/inst/home/scratch2/dimpase/sage/sage-clang/local/lib/valgrind/python.supp\n```\n\nIs this branch missing needed py2 changes?",
    "created_at": "2020-01-31T23:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454705",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

On py2 it does not seem to get installed in the right place:

```
$ ./sage --valgrind
Python suppressions not found (not installed?), skipping
Using default flags: --leak-resolution=high --leak-check=full --num-callers=25  --suppressions=/home/scratch2/dimpase/sage/sage-clang/local/share/sage/ext/valgrind/pyalloc.supp --suppressions=/home/scratch2/dimpase/sage/sage-clang/local/share/sage/ext/valgrind/sage.supp --suppressions=/home/scratch2/dimpase/sage/sage-clang/local/share/sage/ext/valgrind/sage-additional.supp
==21807== Memcheck, a memory error detector
==21807== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==21807== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
==21807== Command: /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-ipython -i
==21807== 
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 9.1.beta2, Release Date: 2020-01-26               │
│ Using Python 2.7.15. Type "help()" for help.                       │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: 2+2
4
sage: exit
Exiting Sage (CPU time 0m0.11s, Wall time 0m5.92s).
```

In install log I see

```
cp <SAGEROOT>/src/ext/valgrind/sage.supp <SAGEROOT>/local/share/sage/ext/valgrind/sage.supp
```
and the same with files `pyalloc.supp`, `sage-additional.supp`.

And then

```
[python2-2.7.15.p1] Installing valgrind suppression file...
[python2-2.7.15.p1] Misc/valgrind-python.supp -> <SAGELOCAL>/var/tmp/sage/build/python2-2.7.15.p1/inst/home/scratch2/dimpase/sage/sage-clang/local/var/tmp/sage/build/python2-2.7.15.p1/inst/home/scratch2/dimpase/sage/sage-clang/local/lib/valgrind/python.supp
```

Is this branch missing needed py2 changes?



---

archive/issue_comments_454706.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis all looks fine... Are you using `sage -valgrind` or are you trying to execute the `sage-valgrind` script directly?",
    "created_at": "2020-01-31T23:53:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454706",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

This all looks fine... Are you using `sage -valgrind` or are you trying to execute the `sage-valgrind` script directly?



---

archive/issue_comments_454707.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nDoes the `local/lib/valgrind/python.supp` file exist after installation?",
    "created_at": "2020-01-31T23:54:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454707",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

Does the `local/lib/valgrind/python.supp` file exist after installation?



---

archive/issue_comments_454708.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@mkoeppe](#comment%3A19):\n> Does the `local/lib/valgrind/python.supp` file exist after installation?\n\nno.",
    "created_at": "2020-02-01T00:03:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454708",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@mkoeppe](#comment%3A19):
> Does the `local/lib/valgrind/python.supp` file exist after installation?

no.



---

archive/issue_comments_454709.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e86aad01c876f0328b6ea82afbaf382aef3e500\"><code>5e86aad</code></a></td><td><code>build/pkgs/python3/spkg-install: Install valgrind-python.supp directly in SAGE_LOCAL, not first in SAGE_SRC</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52552f36249531f845681b02cadb034bdb7c102a\"><code>52552f3</code></a></td><td><code>src/bin/sage-valgrind: Find python.supp/python3.supp in SAGE_LOCAL/lib/valgrind or system directories</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae6b7487d9252d2f3919da5f0907760b04aada02\"><code>ae6b748</code></a></td><td><code>src/bin/sage-valgrind: Also check /usr/lib64/valgrind</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e01a340d841414a06b678de09d390b1f600739c9\"><code>e01a340</code></a></td><td><code>Fix up valgrind-python.supp install dir</code></td></tr></table>\n",
    "created_at": "2020-02-01T00:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454709",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e86aad01c876f0328b6ea82afbaf382aef3e500"><code>5e86aad</code></a></td><td><code>build/pkgs/python3/spkg-install: Install valgrind-python.supp directly in SAGE_LOCAL, not first in SAGE_SRC</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52552f36249531f845681b02cadb034bdb7c102a"><code>52552f3</code></a></td><td><code>src/bin/sage-valgrind: Find python.supp/python3.supp in SAGE_LOCAL/lib/valgrind or system directories</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae6b7487d9252d2f3919da5f0907760b04aada02"><code>ae6b748</code></a></td><td><code>src/bin/sage-valgrind: Also check /usr/lib64/valgrind</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e01a340d841414a06b678de09d390b1f600739c9"><code>e01a340</code></a></td><td><code>Fix up valgrind-python.supp install dir</code></td></tr></table>




---

archive/issue_comments_454710.json:
```json
{
    "body": "Changed commit from **[`5071b5d`](https://github.com/sagemath/sagetrac-mirror/commit/5071b5ddcbe0adee837c70fffffdd450cbbc3312)** to **[`e01a340`](https://github.com/sagemath/sagetrac-mirror/commit/e01a340d841414a06b678de09d390b1f600739c9)**",
    "created_at": "2020-02-01T00:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454710",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5071b5d`](https://github.com/sagemath/sagetrac-mirror/commit/5071b5ddcbe0adee837c70fffffdd450cbbc3312)** to **[`e01a340`](https://github.com/sagemath/sagetrac-mirror/commit/e01a340d841414a06b678de09d390b1f600739c9)**



---

archive/issue_comments_454711.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThanks for catching this.",
    "created_at": "2020-02-01T00:11:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454711",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Thanks for catching this.



---

archive/issue_comments_454712.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nhave you fixed the problem? I only see a change in \n`build/pkgs/python3/spkg-install` - should not be relevant for the py2",
    "created_at": "2020-02-01T00:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454712",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

have you fixed the problem? I only see a change in 
`build/pkgs/python3/spkg-install` - should not be relevant for the py2



---

archive/issue_comments_454713.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nPy2 has a symlink to the same script",
    "created_at": "2020-02-01T00:30:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454713",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Py2 has a symlink to the same script



---

archive/issue_comments_454714.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@mkoeppe](#comment%3A24):\n> Py2 has a symlink to the same script\n\nthis is evil :-)",
    "created_at": "2020-02-01T00:41:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454714",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@mkoeppe](#comment%3A24):
> Py2 has a symlink to the same script

this is evil :-)



---

archive/issue_comments_454715.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nWasn't me :)",
    "created_at": "2020-02-01T00:57:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454715",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

Wasn't me :)



---

archive/issue_comments_454716.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nOK, good, this works for py2. \n\nI'll double-check for py3 - the previous check might have been faulty due to incomplete cleaning...",
    "created_at": "2020-02-01T01:28:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454716",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

OK, good, this works for py2. 

I'll double-check for py3 - the previous check might have been faulty due to incomplete cleaning...



---

archive/issue_comments_454717.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThanks!",
    "created_at": "2020-02-01T01:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454717",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

Thanks!



---

archive/issue_comments_454718.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2020-02-01T08:36:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454718",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_454719.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nlooks good.",
    "created_at": "2020-02-01T08:36:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454719",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

looks good.



---

archive/issue_events_396390.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-02-01T08:36:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29062#event-396390"
}
```



---

archive/issue_events_396391.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-02-01T08:36:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29062#event-396391"
}
```



---

archive/issue_comments_454720.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThanks for reviewing!",
    "created_at": "2020-02-01T13:45:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454720",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Thanks for reviewing!



---

archive/issue_events_396392.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-10T20:05:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29062#event-396392"
}
```



---

archive/issue_events_396393.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3c75a3a245e20f7b87c765744b69fdb530fe5d03",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-02-10T20:05:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29062#event-396393"
}
```



---

archive/issue_comments_454721.json:
```json
{
    "body": "Changed branch from **[public/29062-valgrind-python-to-SAGE-LOCAL](https://github.com/sagemath/sagetrac-mirror/tree/public/29062-valgrind-python-to-SAGE-LOCAL)** to **[`e01a340`](https://github.com/sagemath/sagetrac-mirror/commit/e01a340d841414a06b678de09d390b1f600739c9)**",
    "created_at": "2020-02-10T20:05:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29062",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29062#issuecomment-454721",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/29062-valgrind-python-to-SAGE-LOCAL](https://github.com/sagemath/sagetrac-mirror/tree/public/29062-valgrind-python-to-SAGE-LOCAL)** to **[`e01a340`](https://github.com/sagemath/sagetrac-mirror/commit/e01a340d841414a06b678de09d390b1f600739c9)**
