# Issue 29919: Restore "huge" package type

archive/issues_029682.json:
```json
{
    "assignees": [],
    "body": "(from #29901)\n\n... for packages like `database_stein_watkins` and `polytopes_db_4d`\n\nParts of `sage_bootstrap` know about this package type, but other scripts don't.\n\nOur GH Actions scripts filter out these packages by name. This can be refactored.\n\nWith the present ticket, we can now say `sage --package list :optional: :experimental: --no-file huge` to filter out the huge packages.\n\nHuge packages are now marked by the presence of the file `huge`; so this is actually orthogonal to the package type.\n\nWe also add files named `has_nonfree_dependencies` to some other packages so that they can be filtered out by the same mechanism.\n\n\n\nCC:  @jhpalmieri @dimpase @orlitzky @seblabbe @etn40ff @tobiasdiez\n\nBranch/Commit: **[15cc20c](https://github.com/sagemath/sagetrac-mirror/commit/15cc20c4a35db2b2b3a0bb52e444bb6d67268c32)**\n\nReviewer: **John Palmieri**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29919_\n\n",
    "closed_at": "2022-02-27T22:00:55Z",
    "created_at": "2020-06-20T16:18:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Restore \"huge\" package type",
    "type": "issue",
    "updated_at": "2022-02-27T22:00:55Z",
    "url": "https://github.com/sagemath/sage/issues/29919",
    "user": "https://github.com/mkoeppe"
}
```
(from #29901)

... for packages like `database_stein_watkins` and `polytopes_db_4d`

Parts of `sage_bootstrap` know about this package type, but other scripts don't.

Our GH Actions scripts filter out these packages by name. This can be refactored.

With the present ticket, we can now say `sage --package list :optional: :experimental: --no-file huge` to filter out the huge packages.

Huge packages are now marked by the presence of the file `huge`; so this is actually orthogonal to the package type.

We also add files named `has_nonfree_dependencies` to some other packages so that they can be filtered out by the same mechanism.



CC:  @jhpalmieri @dimpase @orlitzky @seblabbe @etn40ff @tobiasdiez

Branch/Commit: **[15cc20c](https://github.com/sagemath/sagetrac-mirror/commit/15cc20c4a35db2b2b3a0bb52e444bb6d67268c32)**

Reviewer: **John Palmieri**

Author: **Matthias Koeppe**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/29919_





---

archive/issue_events_411803.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-20T16:18:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411803"
}
```



---

archive/issue_events_411804.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-20T16:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411804"
}
```



---

archive/issue_events_411805.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-20T16:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411805"
}
```



---

archive/issue_events_411806.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-20T16:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411806"
}
```



---

archive/issue_events_411807.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411807"
}
```



---

archive/issue_events_411808.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411808"
}
```



---

archive/issue_comments_472945.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n (from #29901)\n \n ... for packages like `database_stein_watkins` and `polytopes_db_4d`\n+\n+Parts of `sage_bootstrap` know about this package type, but other scripts don't.\n+\n+\n``````\n",
    "created_at": "2020-11-29T20:28:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472945",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
 (from #29901)
 
 ... for packages like `database_stein_watkins` and `polytopes_db_4d`
+
+Parts of `sage_bootstrap` know about this package type, but other scripts don't.
+
+
``````




---

archive/issue_events_411809.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411809"
}
```



---

archive/issue_events_411810.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411810"
}
```



---

archive/issue_comments_472946.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472946",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_411811.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411811"
}
```



---

archive/issue_events_411812.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411812"
}
```



---

archive/issue_events_411813.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411813"
}
```



---

archive/issue_events_411814.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411814"
}
```



---

archive/issue_comments_472947.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,5 @@\n \n Parts of `sage_bootstrap` know about this package type, but other scripts don't.\n \n+Our GH Actions scripts filter out these packages by name. This can be refactored.\n \n``````\n",
    "created_at": "2022-02-13T21:39:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472947",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,5 @@
 
 Parts of `sage_bootstrap` know about this package type, but other scripts don't.
 
+Our GH Actions scripts filter out these packages by name. This can be refactored.
 
``````




---

archive/issue_events_411815.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-13T22:36:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411815"
}
```



---

archive/issue_comments_472948.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2022-02-13T22:36:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472948",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_472949.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,5 @@\n \n Our GH Actions scripts filter out these packages by name. This can be refactored.\n \n+With the present ticket, we can now say `sage --package list :optional: :experimental: --no-file huge` to filter out the huge packages.\n+\n``````\n",
    "created_at": "2022-02-13T22:36:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472949",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,5 @@
 
 Our GH Actions scripts filter out these packages by name. This can be refactored.
 
+With the present ticket, we can now say `sage --package list :optional: :experimental: --no-file huge` to filter out the huge packages.
+
``````




---

archive/issue_comments_472950.json:
```json
{
    "body": "Branch: **[u/mkoeppe/restore__huge__package_type](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/restore__huge__package_type)**",
    "created_at": "2022-02-13T22:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472950",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/restore__huge__package_type](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/restore__huge__package_type)**



---

archive/issue_comments_472951.json:
```json
{
    "body": "Changed dependencies from **#29901, #20104** to none",
    "created_at": "2022-02-13T22:37:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472951",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29901, #20104** to none



---

archive/issue_comments_472952.json:
```json
{
    "body": "Commit: **[ce1924c](https://github.com/sagemath/sagetrac-mirror/commit/ce1924c14776c96eb7f4ab3bbaeb624480411fb6)**",
    "created_at": "2022-02-13T22:37:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472952",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[ce1924c](https://github.com/sagemath/sagetrac-mirror/commit/ce1924c14776c96eb7f4ab3bbaeb624480411fb6)**



---

archive/issue_comments_472953.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6b82e8b5c0c1230ae3be8030f06cda0b743a9ae\">e6b82e8</a></td><td><code>build/sage_bootstrap: Remove :huge: package class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74ca883fdb64255842712d3e6d5fbf96b04e927c\">74ca883</a></td><td><code>sage -package list: Add option --no-file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce1924c14776c96eb7f4ab3bbaeb624480411fb6\">ce1924c</a></td><td><code>build/pkgs/{database_stein_watkins, polytopes_db_4d}: Mark as huge packages</code></td></tr></table>\n",
    "created_at": "2022-02-13T22:37:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472953",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6b82e8b5c0c1230ae3be8030f06cda0b743a9ae">e6b82e8</a></td><td><code>build/sage_bootstrap: Remove :huge: package class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74ca883fdb64255842712d3e6d5fbf96b04e927c">74ca883</a></td><td><code>sage -package list: Add option --no-file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce1924c14776c96eb7f4ab3bbaeb624480411fb6">ce1924c</a></td><td><code>build/pkgs/{database_stein_watkins, polytopes_db_4d}: Mark as huge packages</code></td></tr></table>




---

archive/issue_comments_472954.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,8 @@\n \n With the present ticket, we can now say `sage --package list :optional: :experimental: --no-file huge` to filter out the huge packages.\n \n+Huge packages are now marked by the presence of the file `huge`; so this is actually orthogonal to the package type.\n+\n+We also add files named `has_nonfree_dependencies` to some other packages so that they can be filtered out by the same mechanism.\n+\n+\n``````\n",
    "created_at": "2022-02-16T05:28:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472954",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,8 @@
 
 With the present ticket, we can now say `sage --package list :optional: :experimental: --no-file huge` to filter out the huge packages.
 
+Huge packages are now marked by the presence of the file `huge`; so this is actually orthogonal to the package type.
+
+We also add files named `has_nonfree_dependencies` to some other packages so that they can be filtered out by the same mechanism.
+
+
``````




---

archive/issue_comments_472955.json:
```json
{
    "body": "Changed commit from **[ce1924c](https://github.com/sagemath/sagetrac-mirror/commit/ce1924c14776c96eb7f4ab3bbaeb624480411fb6)** to **[554ad59](https://github.com/sagemath/sagetrac-mirror/commit/554ad59f12f3970722315193cbfc537db2b634f0)**",
    "created_at": "2022-02-16T05:28:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472955",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ce1924c](https://github.com/sagemath/sagetrac-mirror/commit/ce1924c14776c96eb7f4ab3bbaeb624480411fb6)** to **[554ad59](https://github.com/sagemath/sagetrac-mirror/commit/554ad59f12f3970722315193cbfc537db2b634f0)**



---

archive/issue_comments_472956.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/554ad59f12f3970722315193cbfc537db2b634f0\">554ad59</a></td><td><code>build/pkgs/{scipoptsuite,sage_numerical_backends_cplex,sage_numerical_backends_gurobi}/has_nonfree_dependencies: New</code></td></tr></table>\n",
    "created_at": "2022-02-16T05:28:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472956",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/554ad59f12f3970722315193cbfc537db2b634f0">554ad59</a></td><td><code>build/pkgs/{scipoptsuite,sage_numerical_backends_cplex,sage_numerical_backends_gurobi}/has_nonfree_dependencies: New</code></td></tr></table>




---

archive/issue_comments_472957.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nCan you document both `huge` and `has_nonfree_dependencies` in the developer's guide?",
    "created_at": "2022-02-24T23:35:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472957",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:14" align="right">comment:14</div>

Can you document both `huge` and `has_nonfree_dependencies` in the developer's guide?



---

archive/issue_comments_472958.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nGood idea",
    "created_at": "2022-02-24T23:44:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472958",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Good idea



---

archive/issue_comments_472959.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI think we should have a cleaner way to add \"tags\" to packages, but in lieu of general solution this gets the job done.\n\nThe nonfree-dependencies thing is a bit of a legal mess. Users who install such a package lose the right to distribute their copy of sage. Entities such as universities may not want to wade into that sort of grey area. Anyway, that's orthogonal to this ticket.",
    "created_at": "2022-02-25T00:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472959",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:16" align="right">comment:16</div>

I think we should have a cleaner way to add "tags" to packages, but in lieu of general solution this gets the job done.

The nonfree-dependencies thing is a bit of a legal mess. Users who install such a package lose the right to distribute their copy of sage. Entities such as universities may not want to wade into that sort of grey area. Anyway, that's orthogonal to this ticket.



---

archive/issue_comments_472960.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b401649578c412275b9e79fbac235c4421837688\">b401649</a></td><td><code>src/doc/en/developer/packaging.rst: Explain package tags has_nonfree_dependencies, huge</code></td></tr></table>\n",
    "created_at": "2022-02-25T01:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472960",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b401649578c412275b9e79fbac235c4421837688">b401649</a></td><td><code>src/doc/en/developer/packaging.rst: Explain package tags has_nonfree_dependencies, huge</code></td></tr></table>




---

archive/issue_comments_472961.json:
```json
{
    "body": "Changed commit from **[554ad59](https://github.com/sagemath/sagetrac-mirror/commit/554ad59f12f3970722315193cbfc537db2b634f0)** to **[b401649](https://github.com/sagemath/sagetrac-mirror/commit/b401649578c412275b9e79fbac235c4421837688)**",
    "created_at": "2022-02-25T01:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472961",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[554ad59](https://github.com/sagemath/sagetrac-mirror/commit/554ad59f12f3970722315193cbfc537db2b634f0)** to **[b401649](https://github.com/sagemath/sagetrac-mirror/commit/b401649578c412275b9e79fbac235c4421837688)**



---

archive/issue_comments_472962.json:
```json
{
    "body": "Changed commit from **[b401649](https://github.com/sagemath/sagetrac-mirror/commit/b401649578c412275b9e79fbac235c4421837688)** to **[bf0c923](https://github.com/sagemath/sagetrac-mirror/commit/bf0c9238cea8a7b90bcb1a7a39cfcd2a9dd21ef5)**",
    "created_at": "2022-02-25T18:38:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472962",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b401649](https://github.com/sagemath/sagetrac-mirror/commit/b401649578c412275b9e79fbac235c4421837688)** to **[bf0c923](https://github.com/sagemath/sagetrac-mirror/commit/bf0c9238cea8a7b90bcb1a7a39cfcd2a9dd21ef5)**



---

archive/issue_comments_472963.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf0c9238cea8a7b90bcb1a7a39cfcd2a9dd21ef5\">bf0c923</a></td><td><code>src/doc/en/developer/packaging.rst: Add section title</code></td></tr></table>\n",
    "created_at": "2022-02-25T18:38:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472963",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf0c9238cea8a7b90bcb1a7a39cfcd2a9dd21ef5">bf0c923</a></td><td><code>src/doc/en/developer/packaging.rst: Add section title</code></td></tr></table>




---

archive/issue_comments_472964.json:
```json
{
    "body": "Changed commit from **[bf0c923](https://github.com/sagemath/sagetrac-mirror/commit/bf0c9238cea8a7b90bcb1a7a39cfcd2a9dd21ef5)** to **[15cc20c](https://github.com/sagemath/sagetrac-mirror/commit/15cc20c4a35db2b2b3a0bb52e444bb6d67268c32)**",
    "created_at": "2022-02-25T18:39:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472964",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bf0c923](https://github.com/sagemath/sagetrac-mirror/commit/bf0c9238cea8a7b90bcb1a7a39cfcd2a9dd21ef5)** to **[15cc20c](https://github.com/sagemath/sagetrac-mirror/commit/15cc20c4a35db2b2b3a0bb52e444bb6d67268c32)**



---

archive/issue_comments_472965.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15cc20c4a35db2b2b3a0bb52e444bb6d67268c32\">15cc20c</a></td><td><code>src/doc/en/developer/packaging.rst: Typo</code></td></tr></table>\n",
    "created_at": "2022-02-25T18:39:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472965",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15cc20c4a35db2b2b3a0bb52e444bb6d67268c32">15cc20c</a></td><td><code>src/doc/en/developer/packaging.rst: Typo</code></td></tr></table>




---

archive/issue_comments_472966.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWould\n\n```\nif any(not pkg.has_file(filename) for filename in filenames):\n```\nbe more efficient than the current\n\n```\nif not all(pkg.has_file(filename) for filename in filenames):\n```\nand similarly a few lines later with `not any(...)`? Or does Python do this sort of optimization automatically?",
    "created_at": "2022-02-25T19:50:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472966",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:20" align="right">comment:20</div>

Would

```
if any(not pkg.has_file(filename) for filename in filenames):
```
be more efficient than the current

```
if not all(pkg.has_file(filename) for filename in filenames):
```
and similarly a few lines later with `not any(...)`? Or does Python do this sort of optimization automatically?



---

archive/issue_comments_472967.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nNever mind, I guess it doesn't matter.",
    "created_at": "2022-02-25T20:04:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472967",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:21" align="right">comment:21</div>

Never mind, I guess it doesn't matter.



---

archive/issue_comments_472968.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThere's no difference in efficiency - both `any` and `all` shortcircuit.\nAnd I think there is no difference in clarity",
    "created_at": "2022-02-25T20:32:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472968",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

There's no difference in efficiency - both `any` and `all` shortcircuit.
And I think there is no difference in clarity



---

archive/issue_comments_472969.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI got confused and thought that the two might short-circuit at different points, but they will short-circuit at exactly the same point, so it makes no difference.\n\nThis is not your fault and should not be fixed on this ticket, but I wish that the code in `expand_class.py` were documented. Anyway, let's move forward with this.",
    "created_at": "2022-02-25T21:18:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472969",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:23" align="right">comment:23</div>

I got confused and thought that the two might short-circuit at different points, but they will short-circuit at exactly the same point, so it makes no difference.

This is not your fault and should not be fixed on this ticket, but I wish that the code in `expand_class.py` were documented. Anyway, let's move forward with this.



---

archive/issue_comments_472970.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2022-02-25T21:18:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472970",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **John Palmieri**



---

archive/issue_events_411816.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2022-02-25T21:18:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411816"
}
```



---

archive/issue_events_411817.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2022-02-25T21:18:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411817"
}
```



---

archive/issue_comments_472971.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThanks!",
    "created_at": "2022-02-25T22:12:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472971",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Thanks!



---

archive/issue_comments_472972.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/restore__huge__package_type](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/restore__huge__package_type)** to **[15cc20c](https://github.com/sagemath/sagetrac-mirror/commit/15cc20c4a35db2b2b3a0bb52e444bb6d67268c32)**",
    "created_at": "2022-02-27T22:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29919#issuecomment-472972",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/restore__huge__package_type](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/restore__huge__package_type)** to **[15cc20c](https://github.com/sagemath/sagetrac-mirror/commit/15cc20c4a35db2b2b3a0bb52e444bb6d67268c32)**



---

archive/issue_events_411818.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-27T22:00:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411818"
}
```



---

archive/issue_events_411819.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5f4c2c49b89315d646c9edc76d14eb5bd22120cc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-02-27T22:00:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29919",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29919#event-411819"
}
```
