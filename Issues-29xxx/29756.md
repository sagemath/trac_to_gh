# Issue 29756: Meta-ticket: Review of Python 3 features that sagelib should use systematically

archive/issues_029519.json:
```json
{
    "assignees": [],
    "body": "**For Sage 9.7, all of the following features can be used:**\n\n\nPython 3.6 features (https://docs.python.org/3.10/whatsnew/3.6.html):\n\n- [pathlib](https://docs.python.org/3/library/pathlib.html)\n- static typing\n  - #32058 add typing annotations in permutations\n  - #32067 Developer manual: Section on typing annotations\n  - #29775 Add a bit of typing to manifold code\n  - #30381 Python 3 typing/protocols/ABCs\n  - #30511 Type hints (`__annotations__`) and coercion/Cython\n- native namespace packages - #28925\n- `yield from` - #29857\n- f-strings (formatted strings)\n- keyword-only parameters (#16607, #31309)\n- new import machinery - #27074\t(Make `.sage` modules importable)\n- `__matmul__` (infix `@` operator) - #22760\n- `from ..a import b`\n- ...?\n\nPython 3.7 features (https://docs.python.org/3.10/whatsnew/3.7.html):\n\n- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (#31306)\n\n- `from `__future__` import annotations` (#31006)\n\n- https://docs.python.org/3/library/dataclasses.html\n\n\nPython 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html) can be used as soon as #32937 is merged:\n\n- assignment expressions `:=` (https://docs.python.org/3.10/whatsnew/3.8.html#assignment-expressions)\n- positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))\n- `f'{expr=}'` https://docs.python.org/3.10/whatsnew/3.8.html#f-strings-support-for-self-documenting-expressions-and-debugging\n- PEP 590: Vectorcall: a fast calling protocol for CPython https://docs.python.org/3.10/whatsnew/3.8.html#pep-590-vectorcall-a-fast-calling-protocol-for-cpython\n- `functools.cached_property()` https://docs.python.org/3.10/whatsnew/3.8.html#functools\n- `pprint(sort_dicts=False)`\n- `shutil.copytree(dirs_exist_ok=True)` https://docs.python.org/3.10/whatsnew/3.8.html#shutil\n- `as_integer_ratio`, `__index__` special method (https://docs.python.org/3.10/whatsnew/3.8.html#other-language-changes)\n- `math.dist`, `hypot`, `prod`, `perm`, `comb`, `isqrt` https://docs.python.org/3.10/whatsnew/3.8.html#math\n- `typing.TypedDict`, `typing.Literal`, `Final`, `Protocol` https://docs.python.org/3.10/whatsnew/3.8.html#typing\n\n\n**Features introduced in Python 3.9 or later cannot be used in Sage yet because we support system Python 3.8.x.**\n\n\nPython 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):\n\nPython 3.10 features (https://docs.python.org/3.10/whatsnew/3.10.html):\n- #34678: `match ... case`\n\n\nPython 3.11 features (https://docs.python.org/3.11/whatsnew/3.11.html):\n\n\nSee also:\n\n- #29728: Meta-ticket: improve compatibility with the Python library\n- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n- #30551 Drop Python 3.6 support\n\n\n**CC:**  @fchapoton @dimpase @jhpalmieri @tobiasdiez @tscrim @nthiery @slel @nbruin\n\n**Keywords:** sd109\n\nIssue created by migration from https://trac.sagemath.org/ticket/29756\n\n",
    "created_at": "2020-05-29T15:15:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Meta-ticket: Review of Python 3 features that sagelib should use systematically",
    "type": "issue",
    "updated_at": "2022-10-26T21:20:59Z",
    "url": "https://github.com/sagemath/sage/issues/29756",
    "user": "https://github.com/mkoeppe"
}
```
**For Sage 9.7, all of the following features can be used:**


Python 3.6 features (https://docs.python.org/3.10/whatsnew/3.6.html):

- [pathlib](https://docs.python.org/3/library/pathlib.html)
- static typing
  - #32058 add typing annotations in permutations
  - #32067 Developer manual: Section on typing annotations
  - #29775 Add a bit of typing to manifold code
  - #30381 Python 3 typing/protocols/ABCs
  - #30511 Type hints (`__annotations__`) and coercion/Cython
- native namespace packages - #28925
- `yield from` - #29857
- f-strings (formatted strings)
- keyword-only parameters (#16607, #31309)
- new import machinery - #27074	(Make `.sage` modules importable)
- `__matmul__` (infix `@` operator) - #22760
- `from ..a import b`
- ...?

Python 3.7 features (https://docs.python.org/3.10/whatsnew/3.7.html):

- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (#31306)

- `from `__future__` import annotations` (#31006)

- https://docs.python.org/3/library/dataclasses.html


Python 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html) can be used as soon as #32937 is merged:

- assignment expressions `:=` (https://docs.python.org/3.10/whatsnew/3.8.html#assignment-expressions)
- positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))
- `f'{expr=}'` https://docs.python.org/3.10/whatsnew/3.8.html#f-strings-support-for-self-documenting-expressions-and-debugging
- PEP 590: Vectorcall: a fast calling protocol for CPython https://docs.python.org/3.10/whatsnew/3.8.html#pep-590-vectorcall-a-fast-calling-protocol-for-cpython
- `functools.cached_property()` https://docs.python.org/3.10/whatsnew/3.8.html#functools
- `pprint(sort_dicts=False)`
- `shutil.copytree(dirs_exist_ok=True)` https://docs.python.org/3.10/whatsnew/3.8.html#shutil
- `as_integer_ratio`, `__index__` special method (https://docs.python.org/3.10/whatsnew/3.8.html#other-language-changes)
- `math.dist`, `hypot`, `prod`, `perm`, `comb`, `isqrt` https://docs.python.org/3.10/whatsnew/3.8.html#math
- `typing.TypedDict`, `typing.Literal`, `Final`, `Protocol` https://docs.python.org/3.10/whatsnew/3.8.html#typing


**Features introduced in Python 3.9 or later cannot be used in Sage yet because we support system Python 3.8.x.**


Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):

Python 3.10 features (https://docs.python.org/3.10/whatsnew/3.10.html):
- #34678: `match ... case`


Python 3.11 features (https://docs.python.org/3.11/whatsnew/3.11.html):


See also:

- #29728: Meta-ticket: improve compatibility with the Python library
- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
- #30551 Drop Python 3.6 support


**CC:**  @fchapoton @dimpase @jhpalmieri @tobiasdiez @tscrim @nthiery @slel @nbruin

**Keywords:** sd109

Issue created by migration from https://trac.sagemath.org/ticket/29756





---

archive/issue_events_359452.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-29T15:15:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359452"
}
```



---

archive/issue_events_359453.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-29T15:15:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "08517b",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359453"
}
```



---

archive/issue_comments_472330.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n \n-- types\n+- types (#29775)\n - native namespace packages - #28925\n - ...?\n \n``````\n",
    "created_at": "2020-06-01T19:24:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472330",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 
-- types
+- types (#29775)
 - native namespace packages - #28925
 - ...?
 
``````




---

archive/issue_comments_472331.json:
```json
{
    "body": "<a id='comment:2'></a>\nAbout types, has a general policy been discussed on sage-devel?",
    "created_at": "2020-06-02T10:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472331",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:2'></a>
About types, has a general policy been discussed on sage-devel?



---

archive/issue_comments_472332.json:
```json
{
    "body": "<a id='comment:3'></a>\n`typing` is a standard Python 3 module, and it allows one to catch more errors.. Why would one have anything against it?",
    "created_at": "2020-06-02T14:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472332",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
`typing` is a standard Python 3 module, and it allows one to catch more errors.. Why would one have anything against it?



---

archive/issue_comments_472333.json:
```json
{
    "body": "<a id='comment:4'></a>\n> `typing` is a standard Python 3 module, and it allows one to catch more errors.. Why would one have anything against it?\n\nAre there reasons (e.g. performance) not to use it in certain circumstances?",
    "created_at": "2020-06-03T02:26:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472333",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
> `typing` is a standard Python 3 module, and it allows one to catch more errors.. Why would one have anything against it?

Are there reasons (e.g. performance) not to use it in certain circumstances?



---

archive/issue_comments_472334.json:
```json
{
    "body": "<a id='comment:5'></a>\nI created this ticket as a place for discussions of these new features to make sure that we use them systematically in the Sage library, rather than in an ad-hoc way.\n\nFor example, for typing, I think there are opportunities to integrate it with the various dynamically generated classes that come in from the category system, as I noted in #29775.",
    "created_at": "2020-06-03T02:35:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472334",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
I created this ticket as a place for discussions of these new features to make sure that we use them systematically in the Sage library, rather than in an ad-hoc way.

For example, for typing, I think there are opportunities to integrate it with the various dynamically generated classes that come in from the category system, as I noted in #29775.



---

archive/issue_comments_472335.json:
```json
{
    "body": "<a id='comment:6'></a>\nThere shouldn't be any performance issues with typing as it is deactivated on runtime (the only additional overhead is the import of the `typing` package).\nSee also the discussion here https://realpython.com/python-type-checking/#pros-and-cons",
    "created_at": "2020-06-03T11:36:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472335",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:6'></a>
There shouldn't be any performance issues with typing as it is deactivated on runtime (the only additional overhead is the import of the `typing` package).
See also the discussion here https://realpython.com/python-type-checking/#pros-and-cons



---

archive/issue_comments_472336.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n \n - types (#29775)\n - native namespace packages - #28925\n+- `yield from` - #29857\n - ...?\n \n``````\n",
    "created_at": "2020-06-14T12:29:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472336",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 
 - types (#29775)
 - native namespace packages - #28925
+- `yield from` - #29857
 - ...?
 
``````




---

archive/issue_comments_472337.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,5 +2,6 @@\n - types (#29775)\n - native namespace packages - #28925\n - `yield from` - #29857\n+- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n - ...?\n \n``````\n",
    "created_at": "2020-07-01T03:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472337",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,5 +2,6 @@
 - types (#29775)
 - native namespace packages - #28925
 - `yield from` - #29857
+- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
 - ...?
 
``````




---

archive/issue_comments_472338.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,5 +3,6 @@\n - native namespace packages - #28925\n - `yield from` - #29857\n - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n-- ...?\n+- f-strings (formatted strings)\n+  - ...?\n \n``````\n",
    "created_at": "2020-07-12T15:00:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472338",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,5 +3,6 @@
 - native namespace packages - #28925
 - `yield from` - #29857
 - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
-- ...?
+- f-strings (formatted strings)
+  - ...?
 
``````




---

archive/issue_comments_472339.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,5 +4,8 @@\n - `yield from` - #29857\n - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n - f-strings (formatted strings)\n-  - ...?\n+- ...?\n \n+See also:\n+\n+- #29728: Meta-ticket: improve compatibility with the Python library\n``````\n",
    "created_at": "2020-07-12T16:08:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472339",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,5 +4,8 @@
 - `yield from` - #29857
 - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
 - f-strings (formatted strings)
-  - ...?
+- ...?
 
+See also:
+
+- #29728: Meta-ticket: improve compatibility with the Python library
``````




---

archive/issue_comments_472340.json:
```json
{
    "body": "<a id='comment:11'></a>\nRegarding f-strings, see this comment:\n\n- [#30107 comment:19](https://github.com/sagemath/sage/issues/30107#comment:19)",
    "created_at": "2020-07-13T10:55:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472340",
    "user": "https://github.com/slel"
}
```

<a id='comment:11'></a>
Regarding f-strings, see this comment:

- [#30107 comment:19](https://github.com/sagemath/sage/issues/30107#comment:19)



---

archive/issue_comments_472341.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,6 +4,7 @@\n - `yield from` - #29857\n - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n - f-strings (formatted strings)\n+- keyword-only parameters (#16607)\n - ...?\n \n See also:\n``````\n",
    "created_at": "2020-07-22T17:44:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472341",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,6 +4,7 @@
 - `yield from` - #29857
 - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
 - f-strings (formatted strings)
+- keyword-only parameters (#16607)
 - ...?
 
 See also:
``````




---

archive/issue_comments_472342.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,6 +5,7 @@\n - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n - f-strings (formatted strings)\n - keyword-only parameters (#16607)\n+- new import machinery - #27074\t(Make `.sage` modules importable)\n - ...?\n \n See also:\n``````\n",
    "created_at": "2020-07-27T18:45:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472342",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,6 +5,7 @@
 - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
 - f-strings (formatted strings)
 - keyword-only parameters (#16607)
+- new import machinery - #27074	(Make `.sage` modules importable)
 - ...?
 
 See also:
``````




---

archive/issue_comments_472343.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,6 +6,7 @@\n - f-strings (formatted strings)\n - keyword-only parameters (#16607)\n - new import machinery - #27074\t(Make `.sage` modules importable)\n+- `__matmul__` (infix `@` operator) - #22760\n - ...?\n \n See also:\n``````\n",
    "created_at": "2020-07-28T11:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472343",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,6 +6,7 @@
 - f-strings (formatted strings)
 - keyword-only parameters (#16607)
 - new import machinery - #27074	(Make `.sage` modules importable)
+- `__matmul__` (infix `@` operator) - #22760
 - ...?
 
 See also:
``````




---

archive/issue_comments_472344.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,6 +7,7 @@\n - keyword-only parameters (#16607)\n - new import machinery - #27074\t(Make `.sage` modules importable)\n - `__matmul__` (infix `@` operator) - #22760\n+- `from ..a import b`\n - ...?\n \n See also:\n``````\n",
    "created_at": "2020-08-13T16:31:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472344",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,6 +7,7 @@
 - keyword-only parameters (#16607)
 - new import machinery - #27074	(Make `.sage` modules importable)
 - `__matmul__` (infix `@` operator) - #22760
+- `from ..a import b`
 - ...?
 
 See also:
``````




---

archive/issue_comments_472345.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n \n-- types (#29775)\n+- types (#29775, #30381)\n - native namespace packages - #28925\n - `yield from` - #29857\n - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n``````\n",
    "created_at": "2020-08-17T17:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472345",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 
-- types (#29775)
+- types (#29775, #30381)
 - native namespace packages - #28925
 - `yield from` - #29857
 - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
``````




---

archive/issue_comments_472346.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,3 +13,5 @@\n See also:\n \n - #29728: Meta-ticket: improve compatibility with the Python library\n+- #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n+\n``````\n",
    "created_at": "2020-08-30T18:01:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472346",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,3 +13,5 @@
 See also:
 
 - #29728: Meta-ticket: improve compatibility with the Python library
+- #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
+
``````




---

archive/issue_comments_472347.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [@egourgoulhon](#comment%3A2):\n> About types, has a general policy been discussed on sage-devel?\n\n+1 for using typing. Return types in particular are useful for tab-completion on the result of function calls. For example\n\n```\nsage: \"hello\".upper().lower().upper()\n```\nthis tab-completes without evaluating the code (i.e. without setting IPython's `IPCompleter.greedy` config option).",
    "created_at": "2020-09-03T07:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472347",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:18'></a>
Replying to [@egourgoulhon](#comment%3A2):
> About types, has a general policy been discussed on sage-devel?

+1 for using typing. Return types in particular are useful for tab-completion on the result of function calls. For example

```
sage: "hello".upper().lower().upper()
```
this tab-completes without evaluating the code (i.e. without setting IPython's `IPCompleter.greedy` config option).



---

archive/issue_comments_472348.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,7 @@\n \n-- types (#29775, #30381)\n+- static typing (#29775, #30381)\n+  - #30381 Python 3 typing/protocols/ABCs\n+  - #30511 Type hints (`__annotations__`) and coercion/categories/Cython\n - native namespace packages - #28925\n - `yield from` - #29857\n - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n``````\n",
    "created_at": "2020-09-05T16:19:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472348",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,7 @@
 
-- types (#29775, #30381)
+- static typing (#29775, #30381)
+  - #30381 Python 3 typing/protocols/ABCs
+  - #30511 Type hints (`__annotations__`) and coercion/categories/Cython
 - native namespace packages - #28925
 - `yield from` - #29857
 - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
``````




---

archive/issue_comments_472349.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,7 +1,8 @@\n \n-- static typing (#29775, #30381)\n+- static typing\n+  - #29775 Add a bit of typing to manifold code\n   - #30381 Python 3 typing/protocols/ABCs\n-  - #30511 Type hints (`__annotations__`) and coercion/categories/Cython\n+  - #30511 Type hints (`__annotations__`) and coercion/Cython\n - native namespace packages - #28925\n - `yield from` - #29857\n - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n``````\n",
    "created_at": "2020-09-05T16:20:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472349",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,7 +1,8 @@
 
-- static typing (#29775, #30381)
+- static typing
+  - #29775 Add a bit of typing to manifold code
   - #30381 Python 3 typing/protocols/ABCs
-  - #30511 Type hints (`__annotations__`) and coercion/categories/Cython
+  - #30511 Type hints (`__annotations__`) and coercion/Cython
 - native namespace packages - #28925
 - `yield from` - #29857
 - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
``````




---

archive/issue_events_359454.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359454"
}
```



---

archive/issue_events_359455.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359455"
}
```



---

archive/issue_comments_472350.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+Python 3.6 features\n \n - static typing\n   - #29775 Add a bit of typing to manifold code\n@@ -5,7 +6,6 @@\n   - #30511 Type hints (`__annotations__`) and coercion/Cython\n - native namespace packages - #28925\n - `yield from` - #29857\n-- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n - f-strings (formatted strings)\n - keyword-only parameters (#16607)\n - new import machinery - #27074\t(Make `.sage` modules importable)\n@@ -13,8 +13,14 @@\n - `from ..a import b`\n - ...?\n \n+Python 3.7+ features\n+\n+- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n+\n+\n See also:\n \n - #29728: Meta-ticket: improve compatibility with the Python library\n - #30384: Adopt the \u201ctime window-based\u201d policy for support of Python versions from NEP 29\n+- #30551 Drop Python 3.6 support\n \n``````\n",
    "created_at": "2020-09-10T18:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472350",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
+Python 3.6 features
 
 - static typing
   - #29775 Add a bit of typing to manifold code
@@ -5,7 +6,6 @@
   - #30511 Type hints (`__annotations__`) and coercion/Cython
 - native namespace packages - #28925
 - `yield from` - #29857
-- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
 - f-strings (formatted strings)
 - keyword-only parameters (#16607)
 - new import machinery - #27074	(Make `.sage` modules importable)
@@ -13,8 +13,14 @@
 - `from ..a import b`
 - ...?
 
+Python 3.7+ features
+
+- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
+
+
 See also:
 
 - #29728: Meta-ticket: improve compatibility with the Python library
 - #30384: Adopt the “time window-based” policy for support of Python versions from NEP 29
+- #30551 Drop Python 3.6 support
 
``````




---

archive/issue_comments_472351.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -17,6 +17,9 @@\n \n - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n \n+Python 3.8+ features:\n+\n+- positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))\n \n See also:\n \n``````\n",
    "created_at": "2020-09-10T18:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472351",
    "user": "https://github.com/mwageringel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -17,6 +17,9 @@
 
 - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
 
+Python 3.8+ features:
+
+- positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))
 
 See also:
 
``````




---

archive/issue_comments_472352.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -17,6 +17,8 @@\n \n - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n \n+- `from `__future__` import annotations` (#31006)\n+\n Python 3.8+ features:\n \n - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))\n``````\n",
    "created_at": "2020-12-04T18:52:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472352",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -17,6 +17,8 @@
 
 - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
 
+- `from `__future__` import annotations` (#31006)
+
 Python 3.8+ features:
 
 - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))
``````




---

archive/issue_comments_472353.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -15,7 +15,7 @@\n \n Python 3.7+ features\n \n-- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)\n+- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (#31306)\n \n - `from `__future__` import annotations` (#31006)\n \n``````\n",
    "created_at": "2021-01-30T18:19:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472353",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -15,7 +15,7 @@
 
 Python 3.7+ features
 
-- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (requires python 3.7 or backport `importlib_resources` if we want to support 3.6 - but that does not support resources within namespace packages)
+- [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (#31306)
 
 - `from `__future__` import annotations` (#31006)
 
``````




---

archive/issue_comments_472354.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n Python 3.6 features\n \n+- [https://docs.python.org/3/library/pathlib.html pathlib](https://docs.python.org/3/library/pathlib.html pathlib)\n - static typing\n   - #29775 Add a bit of typing to manifold code\n   - #30381 Python 3 typing/protocols/ABCs\n``````\n",
    "created_at": "2021-01-30T18:46:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472354",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
 Python 3.6 features
 
+- [https://docs.python.org/3/library/pathlib.html pathlib](https://docs.python.org/3/library/pathlib.html pathlib)
 - static typing
   - #29775 Add a bit of typing to manifold code
   - #30381 Python 3 typing/protocols/ABCs
``````




---

archive/issue_comments_472355.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Python 3.6 features\n \n-- [https://docs.python.org/3/library/pathlib.html pathlib](https://docs.python.org/3/library/pathlib.html pathlib)\n+- [pathlib](https://docs.python.org/3/library/pathlib.html)\n - static typing\n   - #29775 Add a bit of typing to manifold code\n   - #30381 Python 3 typing/protocols/ABCs\n``````\n",
    "created_at": "2021-01-30T18:46:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472355",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Python 3.6 features
 
-- [https://docs.python.org/3/library/pathlib.html pathlib](https://docs.python.org/3/library/pathlib.html pathlib)
+- [pathlib](https://docs.python.org/3/library/pathlib.html)
 - static typing
   - #29775 Add a bit of typing to manifold code
   - #30381 Python 3 typing/protocols/ABCs
``````




---

archive/issue_comments_472356.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n - native namespace packages - #28925\n - `yield from` - #29857\n - f-strings (formatted strings)\n-- keyword-only parameters (#16607)\n+- keyword-only parameters (#16607, #31309)\n - new import machinery - #27074\t(Make `.sage` modules importable)\n - `__matmul__` (infix `@` operator) - #22760\n - `from ..a import b`\n``````\n",
    "created_at": "2021-02-02T18:29:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472356",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 - native namespace packages - #28925
 - `yield from` - #29857
 - f-strings (formatted strings)
-- keyword-only parameters (#16607)
+- keyword-only parameters (#16607, #31309)
 - new import machinery - #27074	(Make `.sage` modules importable)
 - `__matmul__` (infix `@` operator) - #22760
 - `from ..a import b`
``````




---

archive/issue_events_359456.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359456"
}
```



---

archive/issue_events_359457.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359457"
}
```



---

archive/issue_comments_472357.json:
```json
{
    "body": "<a id='comment:29'></a>\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472357",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_472358.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Python 3.6 features\n+Python 3.6 features (https://docs.python.org/3.10/whatsnew/3.6.html):\n \n - [pathlib](https://docs.python.org/3/library/pathlib.html)\n - static typing\n@@ -14,15 +14,19 @@\n - `from ..a import b`\n - ...?\n \n-Python 3.7+ features\n+Python 3.7 features (https://docs.python.org/3.10/whatsnew/3.7.html):\n \n - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (#31306)\n \n - `from `__future__` import annotations` (#31006)\n \n-Python 3.8+ features:\n+Python 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html):\n \n - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))\n+\n+Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):\n+\n+Python 3.10 features (https://docs.python.org/3.10/whatsnew/3.10.html):\n \n See also:\n \n``````\n",
    "created_at": "2021-03-28T19:37:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472358",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Python 3.6 features
+Python 3.6 features (https://docs.python.org/3.10/whatsnew/3.6.html):
 
 - [pathlib](https://docs.python.org/3/library/pathlib.html)
 - static typing
@@ -14,15 +14,19 @@
 - `from ..a import b`
 - ...?
 
-Python 3.7+ features
+Python 3.7 features (https://docs.python.org/3.10/whatsnew/3.7.html):
 
 - [importlib.resources](https://docs.python.org/3/library/importlib.html#module-importlib.resources) (#31306)
 
 - `from `__future__` import annotations` (#31006)
 
-Python 3.8+ features:
+Python 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html):
 
 - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))
+
+Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):
+
+Python 3.10 features (https://docs.python.org/3.10/whatsnew/3.10.html):
 
 See also:
 
``````




---

archive/issue_comments_472359.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -20,6 +20,8 @@\n \n - `from `__future__` import annotations` (#31006)\n \n+- https://docs.python.org/3/library/dataclasses.html\n+\n Python 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html):\n \n - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))\n``````\n",
    "created_at": "2021-04-16T16:45:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472359",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -20,6 +20,8 @@
 
 - `from `__future__` import annotations` (#31006)
 
+- https://docs.python.org/3/library/dataclasses.html
+
 Python 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html):
 
 - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))
``````




---

archive/issue_comments_472360.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n+**For Sage 9.4, all of the following features can be used:**\n+\n+\n Python 3.6 features (https://docs.python.org/3.10/whatsnew/3.6.html):\n \n - [pathlib](https://docs.python.org/3/library/pathlib.html)\n@@ -22,9 +25,14 @@\n \n - https://docs.python.org/3/library/dataclasses.html\n \n+\n+**Using features introduced in Python 3.8 or later cannot be used in Sage yet because we support system Python 3.7.x.**\n+\n Python 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html):\n \n - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))\n+- `f'{expr=}'` https://docs.python.org/3.10/whatsnew/3.8.html#f-strings-support-for-self-documenting-expressions-and-debugging\n+- PEP 590: Vectorcall: a fast calling protocol for CPython https://docs.python.org/3.10/whatsnew/3.8.html#pep-590-vectorcall-a-fast-calling-protocol-for-cpython\n \n Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):\n \n``````\n",
    "created_at": "2021-05-28T23:29:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472360",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
+**For Sage 9.4, all of the following features can be used:**
+
+
 Python 3.6 features (https://docs.python.org/3.10/whatsnew/3.6.html):
 
 - [pathlib](https://docs.python.org/3/library/pathlib.html)
@@ -22,9 +25,14 @@
 
 - https://docs.python.org/3/library/dataclasses.html
 
+
+**Using features introduced in Python 3.8 or later cannot be used in Sage yet because we support system Python 3.7.x.**
+
 Python 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html):
 
 - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))
+- `f'{expr=}'` https://docs.python.org/3.10/whatsnew/3.8.html#f-strings-support-for-self-documenting-expressions-and-debugging
+- PEP 590: Vectorcall: a fast calling protocol for CPython https://docs.python.org/3.10/whatsnew/3.8.html#pep-590-vectorcall-a-fast-calling-protocol-for-cpython
 
 Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):
 
``````




---

archive/issue_comments_472361.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -33,6 +33,10 @@\n - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))\n - `f'{expr=}'` https://docs.python.org/3.10/whatsnew/3.8.html#f-strings-support-for-self-documenting-expressions-and-debugging\n - PEP 590: Vectorcall: a fast calling protocol for CPython https://docs.python.org/3.10/whatsnew/3.8.html#pep-590-vectorcall-a-fast-calling-protocol-for-cpython\n+- `functools.cached_property()` https://docs.python.org/3.10/whatsnew/3.8.html#functools\n+- `pprint(sort_dicts=False)`\n+- `shutil.copytree(dirs_exist_ok=True)`\n+\n \n Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):\n \n``````\n",
    "created_at": "2021-05-28T23:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472361",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -33,6 +33,10 @@
 - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))
 - `f'{expr=}'` https://docs.python.org/3.10/whatsnew/3.8.html#f-strings-support-for-self-documenting-expressions-and-debugging
 - PEP 590: Vectorcall: a fast calling protocol for CPython https://docs.python.org/3.10/whatsnew/3.8.html#pep-590-vectorcall-a-fast-calling-protocol-for-cpython
+- `functools.cached_property()` https://docs.python.org/3.10/whatsnew/3.8.html#functools
+- `pprint(sort_dicts=False)`
+- `shutil.copytree(dirs_exist_ok=True)`
+
 
 Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):
 
``````




---

archive/issue_comments_472362.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,6 +5,8 @@\n \n - [pathlib](https://docs.python.org/3/library/pathlib.html)\n - static typing\n+  - #32058 add typing annotations in permutations\n+  - #32067 Developer manual: Section on typing annotations\n   - #29775 Add a bit of typing to manifold code\n   - #30381 Python 3 typing/protocols/ABCs\n   - #30511 Type hints (`__annotations__`) and coercion/Cython\n``````\n",
    "created_at": "2021-06-29T20:33:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472362",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,6 +5,8 @@
 
 - [pathlib](https://docs.python.org/3/library/pathlib.html)
 - static typing
+  - #32058 add typing annotations in permutations
+  - #32067 Developer manual: Section on typing annotations
   - #29775 Add a bit of typing to manifold code
   - #30381 Python 3 typing/protocols/ABCs
   - #30511 Type hints (`__annotations__`) and coercion/Cython
``````




---

archive/issue_events_359458.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359458"
}
```



---

archive/issue_events_359459.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359459"
}
```



---

archive/issue_events_359460.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359460"
}
```



---

archive/issue_events_359461.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359461"
}
```



---

archive/issue_events_359462.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359462"
}
```



---

archive/issue_events_359463.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359463"
}
```



---

archive/issue_comments_472363.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -28,16 +28,21 @@\n - https://docs.python.org/3/library/dataclasses.html\n \n \n-**Using features introduced in Python 3.8 or later cannot be used in Sage yet because we support system Python 3.7.x.**\n+Python 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html) can be used as soon as #32937 is merged:\n \n-Python 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html):\n-\n+- assignment expressions `:=` (https://docs.python.org/3.10/whatsnew/3.8.html#assignment-expressions)\n - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))\n - `f'{expr=}'` https://docs.python.org/3.10/whatsnew/3.8.html#f-strings-support-for-self-documenting-expressions-and-debugging\n - PEP 590: Vectorcall: a fast calling protocol for CPython https://docs.python.org/3.10/whatsnew/3.8.html#pep-590-vectorcall-a-fast-calling-protocol-for-cpython\n - `functools.cached_property()` https://docs.python.org/3.10/whatsnew/3.8.html#functools\n - `pprint(sort_dicts=False)`\n-- `shutil.copytree(dirs_exist_ok=True)`\n+- `shutil.copytree(dirs_exist_ok=True)` https://docs.python.org/3.10/whatsnew/3.8.html#shutil\n+- `as_integer_ratio`, `__index__` special method (https://docs.python.org/3.10/whatsnew/3.8.html#other-language-changes)\n+- `math.dist`, `hypot`, `prod`, `perm`, `comb`, `isqrt` https://docs.python.org/3.10/whatsnew/3.8.html#math\n+- `typing.TypedDict`, `typing.Literal`, `Final`, `Protocol` https://docs.python.org/3.10/whatsnew/3.8.html#typing\n+\n+\n+**Using features introduced in Python 3.9 or later cannot be used in Sage yet because we support system Python 3.8.x.**\n \n \n Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):\n``````\n",
    "created_at": "2022-04-29T01:12:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472363",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -28,16 +28,21 @@
 - https://docs.python.org/3/library/dataclasses.html
 
 
-**Using features introduced in Python 3.8 or later cannot be used in Sage yet because we support system Python 3.7.x.**
+Python 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html) can be used as soon as #32937 is merged:
 
-Python 3.8 features (https://docs.python.org/3.10/whatsnew/3.8.html):
-
+- assignment expressions `:=` (https://docs.python.org/3.10/whatsnew/3.8.html#assignment-expressions)
 - positional-only parameters ([PEP 570](https://www.python.org/dev/peps/pep-0570/))
 - `f'{expr=}'` https://docs.python.org/3.10/whatsnew/3.8.html#f-strings-support-for-self-documenting-expressions-and-debugging
 - PEP 590: Vectorcall: a fast calling protocol for CPython https://docs.python.org/3.10/whatsnew/3.8.html#pep-590-vectorcall-a-fast-calling-protocol-for-cpython
 - `functools.cached_property()` https://docs.python.org/3.10/whatsnew/3.8.html#functools
 - `pprint(sort_dicts=False)`
-- `shutil.copytree(dirs_exist_ok=True)`
+- `shutil.copytree(dirs_exist_ok=True)` https://docs.python.org/3.10/whatsnew/3.8.html#shutil
+- `as_integer_ratio`, `__index__` special method (https://docs.python.org/3.10/whatsnew/3.8.html#other-language-changes)
+- `math.dist`, `hypot`, `prod`, `perm`, `comb`, `isqrt` https://docs.python.org/3.10/whatsnew/3.8.html#math
+- `typing.TypedDict`, `typing.Literal`, `Final`, `Protocol` https://docs.python.org/3.10/whatsnew/3.8.html#typing
+
+
+**Using features introduced in Python 3.9 or later cannot be used in Sage yet because we support system Python 3.8.x.**
 
 
 Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):
``````




---

archive/issue_comments_472364.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -49,6 +49,9 @@\n \n Python 3.10 features (https://docs.python.org/3.10/whatsnew/3.10.html):\n \n+Python 3.11 features (https://docs.python.org/3.11/whatsnew/3.11.html):\n+\n+\n See also:\n \n - #29728: Meta-ticket: improve compatibility with the Python library\n``````\n",
    "created_at": "2022-04-29T01:19:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472364",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -49,6 +49,9 @@
 
 Python 3.10 features (https://docs.python.org/3.10/whatsnew/3.10.html):
 
+Python 3.11 features (https://docs.python.org/3.11/whatsnew/3.11.html):
+
+
 See also:
 
 - #29728: Meta-ticket: improve compatibility with the Python library
``````




---

archive/issue_comments_472365.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -42,7 +42,7 @@\n - `typing.TypedDict`, `typing.Literal`, `Final`, `Protocol` https://docs.python.org/3.10/whatsnew/3.8.html#typing\n \n \n-**Using features introduced in Python 3.9 or later cannot be used in Sage yet because we support system Python 3.8.x.**\n+**Features introduced in Python 3.9 or later cannot be used in Sage yet because we support system Python 3.8.x.**\n \n \n Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):\n``````\n",
    "created_at": "2022-04-29T01:22:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472365",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -42,7 +42,7 @@
 - `typing.TypedDict`, `typing.Literal`, `Final`, `Protocol` https://docs.python.org/3.10/whatsnew/3.8.html#typing
 
 
-**Using features introduced in Python 3.9 or later cannot be used in Sage yet because we support system Python 3.8.x.**
+**Features introduced in Python 3.9 or later cannot be used in Sage yet because we support system Python 3.8.x.**
 
 
 Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):
``````




---

archive/issue_comments_472366.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-**For Sage 9.4, all of the following features can be used:**\n+**For Sage 9.7, all of the following features can be used:**\n \n \n Python 3.6 features (https://docs.python.org/3.10/whatsnew/3.6.html):\n``````\n",
    "created_at": "2022-04-29T01:23:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472366",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-**For Sage 9.4, all of the following features can be used:**
+**For Sage 9.7, all of the following features can be used:**
 
 
 Python 3.6 features (https://docs.python.org/3.10/whatsnew/3.6.html):
``````




---

archive/issue_events_359464.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359464"
}
```



---

archive/issue_events_359465.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29756#event-359465"
}
```



---

archive/issue_comments_472367.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -48,6 +48,8 @@\n Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):\n \n Python 3.10 features (https://docs.python.org/3.10/whatsnew/3.10.html):\n+- #34678: `match ... case`\n+\n \n Python 3.11 features (https://docs.python.org/3.11/whatsnew/3.11.html):\n \n``````\n",
    "created_at": "2022-10-26T21:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29756",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29756#issuecomment-472367",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -48,6 +48,8 @@
 Python 3.9 features (https://docs.python.org/3.10/whatsnew/3.9.html):
 
 Python 3.10 features (https://docs.python.org/3.10/whatsnew/3.10.html):
+- #34678: `match ... case`
+
 
 Python 3.11 features (https://docs.python.org/3.11/whatsnew/3.11.html):
 
``````

