# Issue 29573: qepcad build fails on slackware-14.2-maximal

archive/issues_029336.json:
```json
{
    "assignees": [],
    "body": "https://github.com/mkoeppe/sage/runs/612693004\n\n```\ng++ -O3 -g -Wl,-rpath,/sage/local/lib -I/sage/local/lib/saclib/include  -I. saclib/GCSI.c saclib/FAIL.c \\\n  qepcad.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/sfext/sfexto.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/lift2D/lift2Do.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/newadj/newadjo.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/adj2d/adj2do.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/rend/rendo.a /sage/local/lib/saclib/lib/saclibo.a -lreadline -lrt  qepcad.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/sfext/sfexto.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/lift2D/lift2Do.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/newadj/newadjo.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/adj2d/adj2do.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/rend/rendo.a /sage/local/lib/saclib/lib/saclibo.a -lreadline -lrt  -o qepcad\n/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgetnum'\n/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgetent'\n/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgetstr'\n/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgoto'\n/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `UP'\n/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `BC'\n/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tputs'\n/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `PC'\n/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgetflag'\ncollect2: error: ld returned 1 exit status\n```\n\nTo try: `docker run -it docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574`\n\n\n\nCC:  @dimpase\n\nReviewer: **Matthias Koeppe, Samuel Leli\u00e8vre**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29573_\n\n",
    "closed_at": "2022-09-01T02:30:35Z",
    "created_at": "2020-04-25T00:01:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "qepcad build fails on slackware-14.2-maximal",
    "type": "issue",
    "updated_at": "2022-09-01T02:30:35Z",
    "url": "https://github.com/sagemath/sage/issues/29573",
    "user": "https://github.com/mkoeppe"
}
```
https://github.com/mkoeppe/sage/runs/612693004

```
g++ -O3 -g -Wl,-rpath,/sage/local/lib -I/sage/local/lib/saclib/include  -I. saclib/GCSI.c saclib/FAIL.c \
  qepcad.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/sfext/sfexto.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/lift2D/lift2Do.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/newadj/newadjo.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/adj2d/adj2do.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/rend/rendo.a /sage/local/lib/saclib/lib/saclibo.a -lreadline -lrt  qepcad.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/sfext/sfexto.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/lift2D/lift2Do.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/newadj/newadjo.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/adj2d/adj2do.a /sage/local/var/tmp/sage/build/qepcad-B.1.72/src/extensions/rend/rendo.a /sage/local/lib/saclib/lib/saclibo.a -lreadline -lrt  -o qepcad
/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgetnum'
/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgetent'
/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgetstr'
/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgoto'
/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `UP'
/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `BC'
/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tputs'
/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `PC'
/usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgetflag'
collect2: error: ld returned 1 exit status
```

To try: `docker run -it docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574`



CC:  @dimpase

Reviewer: **Matthias Koeppe, Samuel Leli√®vre**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/29573_





---

archive/issue_events_403698.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-25T00:01:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403698"
}
```



---

archive/issue_events_403699.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-25T00:01:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403699"
}
```



---

archive/issue_events_403700.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-25T00:01:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403700"
}
```



---

archive/issue_events_403701.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-25T00:01:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403701"
}
```



---

archive/issue_comments_465251.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+https://github.com/mkoeppe/sage/runs/612693004\n \n ```\n g++ -O3 -g -Wl,-rpath,/sage/local/lib -I/sage/local/lib/saclib/include  -I. saclib/GCSI.c saclib/FAIL.c \\\n``````\n",
    "created_at": "2020-04-25T00:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465251",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
+https://github.com/mkoeppe/sage/runs/612693004
 
 ```
 g++ -O3 -g -Wl,-rpath,/sage/local/lib -I/sage/local/lib/saclib/include  -I. saclib/GCSI.c saclib/FAIL.c \
``````




---

archive/issue_comments_465252.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,3 +14,7 @@\n /usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgetflag'\n collect2: error: ld returned 1 exit status\n ```\n+\n+To try: `docker run -it docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574`\n+\n+\n``````\n",
    "created_at": "2020-04-25T00:16:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465252",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,3 +14,7 @@
 /usr/lib64/gcc/x86_64-slackware-linux/5.5.0/../../../../lib64/libreadline.so: undefined reference to `tgetflag'
 collect2: error: ld returned 1 exit status
 ```
+
+To try: `docker run -it docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574`
+
+
``````




---

archive/issue_comments_465253.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nLooks like libreadline is underlinked on slackware\n\n```\nsh-4.3# ldd /usr/lib64/libreadline.so*\n/usr/lib64/libreadline.so:\n\tlinux-vdso.so.1 (0x00007ffc743df000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007f2303446000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f2303a58000)\n/usr/lib64/libreadline.so.5:\n\tlinux-vdso.so.1 (0x00007fff86f96000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007f58cbdde000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f58cc3e5000)\n/usr/lib64/libreadline.so.5.2:\n\tlinux-vdso.so.1 (0x00007ffe4a7db000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007f7b24b17000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f7b2511e000)\n/usr/lib64/libreadline.so.6:\n\tlinux-vdso.so.1 (0x00007ffd00ff8000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007f40c3854000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f40c3e66000)\n/usr/lib64/libreadline.so.6.3:\n\tlinux-vdso.so.1 (0x00007fffb9253000)\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007f1818931000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f1818f43000)\nsh-4.3# ls /usr/lib64/libreadline.*  \n/usr/lib64/libreadline.so  /usr/lib64/libreadline.so.5\t/usr/lib64/libreadline.so.5.2  /usr/lib64/libreadline.so.6  /usr/lib64/libreadline.so.6.3\nsh-4.3# ls -l /usr/lib64/libreadline.*\nlrwxrwxrwx 1 root root     16 Apr 23 17:05 /usr/lib64/libreadline.so -> libreadline.so.6\nlrwxrwxrwx 1 root root     18 Mar 29  2019 /usr/lib64/libreadline.so.5 -> libreadline.so.5.2\n-rwxr-xr-x 1 root root 249328 Aug 15  2015 /usr/lib64/libreadline.so.5.2\nlrwxrwxrwx 1 root root     18 Apr 23 17:05 /usr/lib64/libreadline.so.6 -> libreadline.so.6.3\n-rwxr-xr-x 1 root root 291680 Nov  7  2015 /usr/lib64/libreadline.so.6.3\nsh-4.3# nm -D /usr/lib64/libreadline.so.5 | grep tgetnum\n                 U tgetnum\nsh-4.3# nm -D /usr/lib64/libreadline.so.6 | grep tgetnum\n                 U tgetnum\nsh-4.3# nm -D /usr/lib64/libncurses | grep tgetnum\nlibncurses++.so       libncurses++.so.5     libncurses++.so.5.9   libncurses++w.so      libncurses++w.so.5    libncurses++w.so.5.9  libncurses.so         libncurses.so.5       libncursesw.so        libncursesw.so.5\nsh-4.3# nm -D /usr/lib64/libncurses | grep tgetnum\nlibncurses++.so       libncurses++.so.5     libncurses++.so.5.9   libncurses++w.so      libncurses++w.so.5    libncurses++w.so.5.9  libncurses.so         libncurses.so.5       libncursesw.so        libncursesw.so.5\nsh-4.3# nm -D /usr/lib64/libncurses.so | grep tgetnum\n000000000002fe70 T tgetnum\n```",
    "created_at": "2020-04-25T03:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465253",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Looks like libreadline is underlinked on slackware

```
sh-4.3# ldd /usr/lib64/libreadline.so*
/usr/lib64/libreadline.so:
	linux-vdso.so.1 (0x00007ffc743df000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f2303446000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f2303a58000)
/usr/lib64/libreadline.so.5:
	linux-vdso.so.1 (0x00007fff86f96000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f58cbdde000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f58cc3e5000)
/usr/lib64/libreadline.so.5.2:
	linux-vdso.so.1 (0x00007ffe4a7db000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f7b24b17000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f7b2511e000)
/usr/lib64/libreadline.so.6:
	linux-vdso.so.1 (0x00007ffd00ff8000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f40c3854000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f40c3e66000)
/usr/lib64/libreadline.so.6.3:
	linux-vdso.so.1 (0x00007fffb9253000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f1818931000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f1818f43000)
sh-4.3# ls /usr/lib64/libreadline.*  
/usr/lib64/libreadline.so  /usr/lib64/libreadline.so.5	/usr/lib64/libreadline.so.5.2  /usr/lib64/libreadline.so.6  /usr/lib64/libreadline.so.6.3
sh-4.3# ls -l /usr/lib64/libreadline.*
lrwxrwxrwx 1 root root     16 Apr 23 17:05 /usr/lib64/libreadline.so -> libreadline.so.6
lrwxrwxrwx 1 root root     18 Mar 29  2019 /usr/lib64/libreadline.so.5 -> libreadline.so.5.2
-rwxr-xr-x 1 root root 249328 Aug 15  2015 /usr/lib64/libreadline.so.5.2
lrwxrwxrwx 1 root root     18 Apr 23 17:05 /usr/lib64/libreadline.so.6 -> libreadline.so.6.3
-rwxr-xr-x 1 root root 291680 Nov  7  2015 /usr/lib64/libreadline.so.6.3
sh-4.3# nm -D /usr/lib64/libreadline.so.5 | grep tgetnum
                 U tgetnum
sh-4.3# nm -D /usr/lib64/libreadline.so.6 | grep tgetnum
                 U tgetnum
sh-4.3# nm -D /usr/lib64/libncurses | grep tgetnum
libncurses++.so       libncurses++.so.5     libncurses++.so.5.9   libncurses++w.so      libncurses++w.so.5    libncurses++w.so.5.9  libncurses.so         libncurses.so.5       libncursesw.so        libncursesw.so.5
sh-4.3# nm -D /usr/lib64/libncurses | grep tgetnum
libncurses++.so       libncurses++.so.5     libncurses++.so.5.9   libncurses++w.so      libncurses++w.so.5    libncurses++w.so.5.9  libncurses.so         libncurses.so.5       libncursesw.so        libncursesw.so.5
sh-4.3# nm -D /usr/lib64/libncurses.so | grep tgetnum
000000000002fe70 T tgetnum
```



---

archive/issue_comments_465254.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIs there pkg-config support for readline on Slackware, and if yes, does it correctly list libs ot link against?",
    "created_at": "2020-04-25T04:37:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465254",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">comment:4</div>

Is there pkg-config support for readline on Slackware, and if yes, does it correctly list libs ot link against?



---

archive/issue_comments_465255.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nNeither a .pc file nor a .la file",
    "created_at": "2020-04-25T04:45:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465255",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Neither a .pc file nor a .la file



---

archive/issue_comments_465256.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOK, so this is underlinking that needs to be tested in readline's spkg-configure. And the name of the library has to be found from `ac_cv_search_wresize` set by `AC_SEARCH_LIBS` in ncurses' spkg-configure, or the result of ` pkg-config --libs ncurses` (this to be done on #29000).",
    "created_at": "2020-04-25T05:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465256",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">comment:6</div>

OK, so this is underlinking that needs to be tested in readline's spkg-configure. And the name of the library has to be found from `ac_cv_search_wresize` set by `AC_SEARCH_LIBS` in ncurses' spkg-configure, or the result of ` pkg-config --libs ncurses` (this to be done on #29000).



---

archive/issue_comments_465257.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nDo we already have a ready to use docker image with Sage on Slackware, or this is still not complete?",
    "created_at": "2020-04-25T05:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465257",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

Do we already have a ready to use docker image with Sage on Slackware, or this is still not complete?



---

archive/issue_comments_465258.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nYes, see ticket description for the command line for pulling it!",
    "created_at": "2020-04-25T05:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465258",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Yes, see ticket description for the command line for pulling it!



---

archive/issue_comments_465259.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n$ docker run -it docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574\nUnable to find image 'docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574' locally\ndocker: Error response from daemon: Get https://docker.pkg.github.com/v2/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional/manifests/9.1.rc0-66177-gcf8d125574: no basic auth credentials.",
    "created_at": "2020-04-25T06:14:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465259",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

$ docker run -it docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574
Unable to find image 'docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574' locally
docker: Error response from daemon: Get https://docker.pkg.github.com/v2/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional/manifests/9.1.rc0-66177-gcf8d125574: no basic auth credentials.



---

archive/issue_comments_465260.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nFrom the doc added:\n\n```\n+The ``docker`` workflows automatically push images to\n+``docker.pkg.github.com``.  You find them in the Packages tab of your\n+GitHub repository.\n+\n+In order to pull them for use on your computer, you need to first\n+visit https://github.com/settings/tokens/new to generate a Personal\n+Access Token providing the ``read:packages`` scope.  Then log in using\n+your GitHub user name and the Personal Access Token::\n+\n+  $ docker login docker.pkg.github.com\n+\n+Now you can pull the image and run it::\n+\n+  $ docker pull docker.pkg.github.com/mkoeppe/sage/sage-docker-fedora-31-standard-configured:f4bd671\n+  $ docker run -it docker.pkg.github.com/mkoeppe/sage/sage-docker-fedora-31-standard-configured:f4bd671 bash\n```",
    "created_at": "2020-04-25T06:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465260",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

From the doc added:

```
+The ``docker`` workflows automatically push images to
+``docker.pkg.github.com``.  You find them in the Packages tab of your
+GitHub repository.
+
+In order to pull them for use on your computer, you need to first
+visit https://github.com/settings/tokens/new to generate a Personal
+Access Token providing the ``read:packages`` scope.  Then log in using
+your GitHub user name and the Personal Access Token::
+
+  $ docker login docker.pkg.github.com
+
+Now you can pull the image and run it::
+
+  $ docker pull docker.pkg.github.com/mkoeppe/sage/sage-docker-fedora-31-standard-configured:f4bd671
+  $ docker run -it docker.pkg.github.com/mkoeppe/sage/sage-docker-fedora-31-standard-configured:f4bd671 bash
```



---

archive/issue_comments_465261.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n(from #29530)",
    "created_at": "2020-04-25T06:16:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465261",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

(from #29530)



---

archive/issue_comments_465262.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nNo idea what to do with that GH token, it's not clear where is has to go, whether one need an external helper to deal with credential store etc. A bloody mess...\n\nCould it be that you have not authorised 3rd parties to pull that image?",
    "created_at": "2020-04-25T06:41:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465262",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

No idea what to do with that GH token, it's not clear where is has to go, whether one need an external helper to deal with credential store etc. A bloody mess...

Could it be that you have not authorised 3rd parties to pull that image?



---

archive/issue_comments_465263.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI can log in to docker with my login and password. I have no idea what \"log in using\nyour [GitHub](../wiki/GitHub) user name and the Personal Access Token\" entails. That token has to go somewhere, but where?",
    "created_at": "2020-04-25T06:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465263",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

I can log in to docker with my login and password. I have no idea what "log in using
your [GitHub](../wiki/GitHub) user name and the Personal Access Token" entails. That token has to go somewhere, but where?



---

archive/issue_comments_465264.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI used `docker login docker.pkg.github.com --username mkoeppe --password-stdin`",
    "created_at": "2020-04-25T06:48:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465264",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

I used `docker login docker.pkg.github.com --username mkoeppe --password-stdin`



---

archive/issue_comments_465265.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@dimpase](#comment:12):\n> Could it be that you have not authorised 3rd parties to pull that image?\n\nNo, I think this is public",
    "created_at": "2020-04-25T06:49:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465265",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@dimpase](#comment:12):
> Could it be that you have not authorised 3rd parties to pull that image?

No, I think this is public



---

archive/issue_comments_465266.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n\n```\ndimpase@penguin:~/sage$ docker login docker.pkg.github.com\nAuthenticating with existing credentials...\nWARNING! Your password will be stored unencrypted in /home/dimpase/.docker/config.json.\nConfigure a credential helper to remove this warning. See\nhttps://docs.docker.com/engine/reference/commandline/login/#credentials-store\n\nLogin Succeeded\ndimpase@penguin:~/sage$ docker pull docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574\nError response from daemon: unauthorized: Your request could not be authenticated by the GitHub Packages service. Please ensure your access token is valid and has the appropriate scopes configured.\n```",
    "created_at": "2020-04-25T07:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465266",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>


```
dimpase@penguin:~/sage$ docker login docker.pkg.github.com
Authenticating with existing credentials...
WARNING! Your password will be stored unencrypted in /home/dimpase/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store

Login Succeeded
dimpase@penguin:~/sage$ docker pull docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574
Error response from daemon: unauthorized: Your request could not be authenticated by the GitHub Packages service. Please ensure your access token is valid and has the appropriate scopes configured.
```



---

archive/issue_comments_465267.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAnd your \"existing credentials\" are the new Personal Access Token?",
    "created_at": "2020-04-25T07:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465267",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

And your "existing credentials" are the new Personal Access Token?



---

archive/issue_comments_465268.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nOtherwise please try again with `docker login docker.pkg.github.com --username dimpase --password-stdin` and paste your PAT",
    "created_at": "2020-04-25T07:02:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465268",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Otherwise please try again with `docker login docker.pkg.github.com --username dimpase --password-stdin` and paste your PAT



---

archive/issue_comments_465269.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@mkoeppe](#comment:18):\n> Otherwise please try again with `docker login docker.pkg.github.com --username dimpase --password-stdin` and paste your PAT\n\nthey are not new, but I don't get the logic of getting a new PAT, the relationship between GH and docker is totally opaque....",
    "created_at": "2020-04-25T07:05:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465269",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@mkoeppe](#comment:18):
> Otherwise please try again with `docker login docker.pkg.github.com --username dimpase --password-stdin` and paste your PAT

they are not new, but I don't get the logic of getting a new PAT, the relationship between GH and docker is totally opaque....



---

archive/issue_comments_465270.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\ngithub is running its own docker registry, which I use here instead of DockerHub",
    "created_at": "2020-04-25T07:07:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465270",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

github is running its own docker registry, which I use here instead of DockerHub



---

archive/issue_comments_465271.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI don't get either why authentication is necessary to access a public resource, but that's a fact",
    "created_at": "2020-04-25T07:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465271",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

I don't get either why authentication is necessary to access a public resource, but that's a fact



---

archive/issue_comments_465272.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n\n```\n$ docker login docker.pkg.github.com\nusername: dimpase\npassword: <pasted PAT>\n\n...\nLogin Succeeded\n$ docker pull docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574\nError response from daemon: unauthorized: Your token has not been granted the required scopes to execute this query. The 'name' field requires one of the following scopes: ['read:packages'], but your token has only been granted the: [''] scopes. Please modify your token's scopes at: https://github.com/settings/tokens.\n```",
    "created_at": "2020-04-25T07:36:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465272",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>


```
$ docker login docker.pkg.github.com
username: dimpase
password: <pasted PAT>

...
Login Succeeded
$ docker pull docker.pkg.github.com/mkoeppe/sage/sage-docker-slackware-14.2-maximal-with-targets-optional:9.1.rc0-66177-gcf8d125574
Error response from daemon: unauthorized: Your token has not been granted the required scopes to execute this query. The 'name' field requires one of the following scopes: ['read:packages'], but your token has only been granted the: [''] scopes. Please modify your token's scopes at: https://github.com/settings/tokens.
```



---

archive/issue_comments_465273.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nBy the way, `docker login docker.pkg.github.com` with `--username` etc never gave me a prompt. (This is on Debian buster).",
    "created_at": "2020-04-25T07:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465273",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

By the way, `docker login docker.pkg.github.com` with `--username` etc never gave me a prompt. (This is on Debian buster).



---

archive/issue_comments_465274.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nPlease add something about the need to `Select scopes` (and the correct ones) while creating/updating GH PAT. (We're reviewing #29530 here :-))\n\nafter this change, I am able to `docker pull`, at least.",
    "created_at": "2020-04-25T07:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465274",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

Please add something about the need to `Select scopes` (and the correct ones) while creating/updating GH PAT. (We're reviewing #29530 here :-))

after this change, I am able to `docker pull`, at least.



---

archive/issue_comments_465275.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nSo you succeeded after selecting the scopre `read:packages`? Or something else?",
    "created_at": "2020-04-25T15:36:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465275",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

So you succeeded after selecting the scopre `read:packages`? Or something else?



---

archive/issue_comments_465276.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nYes, I was able to pull and run the container.",
    "created_at": "2020-04-25T16:50:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465276",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:26" align="right">comment:26</div>

Yes, I was able to pull and run the container.



---

archive/issue_comments_465277.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nOK great, I'll extend the documentation of #29530",
    "created_at": "2020-04-25T17:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465277",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

OK great, I'll extend the documentation of #29530



---

archive/issue_comments_465278.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nDone, please review",
    "created_at": "2020-04-25T17:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465278",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

Done, please review



---

archive/issue_comments_465279.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@mkoeppe](#comment:3):\n> Looks like libreadline is underlinked on slackware\n> \n> ```\n> sh-4.3# ldd /usr/lib64/libreadline.so*\n> /usr/lib64/libreadline.so:\n> \tlinux-vdso.so.1 (0x00007ffc743df000)\n> \tlibc.so.6 => /lib64/libc.so.6 (0x00007f2303446000)\n> \t/lib64/ld-linux-x86-64.so.2 (0x00007f2303a58000)\n> /usr/lib64/libreadline.so.5:\n> \tlinux-vdso.so.1 (0x00007fff86f96000)\n> \tlibc.so.6 => /lib64/libc.so.6 (0x00007f58cbdde000)\n> \t/lib64/ld-linux-x86-64.so.2 (0x00007f58cc3e5000)\n> /usr/lib64/libreadline.so.5.2:\n> \tlinux-vdso.so.1 (0x00007ffe4a7db000)\n> \tlibc.so.6 => /lib64/libc.so.6 (0x00007f7b24b17000)\n> \t/lib64/ld-linux-x86-64.so.2 (0x00007f7b2511e000)\n> /usr/lib64/libreadline.so.6:\n> \tlinux-vdso.so.1 (0x00007ffd00ff8000)\n> \tlibc.so.6 => /lib64/libc.so.6 (0x00007f40c3854000)\n> \t/lib64/ld-linux-x86-64.so.2 (0x00007f40c3e66000)\n> /usr/lib64/libreadline.so.6.3:\n> \tlinux-vdso.so.1 (0x00007fffb9253000)\n> \tlibc.so.6 => /lib64/libc.so.6 (0x00007f1818931000)\n> \t/lib64/ld-linux-x86-64.so.2 (0x00007f1818f43000)\n> sh-4.3# ls /usr/lib64/libreadline.*  \n> /usr/lib64/libreadline.so  /usr/lib64/libreadline.so.5\t/usr/lib64/libreadline.so.5.2  /usr/lib64/libreadline.so.6  /usr/lib64/libreadline.so.6.3\n> sh-4.3# ls -l /usr/lib64/libreadline.*\n> lrwxrwxrwx 1 root root     16 Apr 23 17:05 /usr/lib64/libreadline.so -> libreadline.so.6\n> lrwxrwxrwx 1 root root     18 Mar 29  2019 /usr/lib64/libreadline.so.5 -> libreadline.so.5.2\n> -rwxr-xr-x 1 root root 249328 Aug 15  2015 /usr/lib64/libreadline.so.5.2\n> lrwxrwxrwx 1 root root     18 Apr 23 17:05 /usr/lib64/libreadline.so.6 -> libreadline.so.6.3\n> -rwxr-xr-x 1 root root 291680 Nov  7  2015 /usr/lib64/libreadline.so.6.3\n> sh-4.3# nm -D /usr/lib64/libreadline.so.5 | grep tgetnum\n>                  U tgetnum\n> sh-4.3# nm -D /usr/lib64/libreadline.so.6 | grep tgetnum\n>                  U tgetnum\n> sh-4.3# nm -D /usr/lib64/libncurses | grep tgetnum\n> libncurses++.so       libncurses++.so.5     libncurses++.so.5.9   libncurses++w.so      libncurses++w.so.5    libncurses++w.so.5.9  libncurses.so         libncurses.so.5       libncursesw.so        libncursesw.so.5\n> sh-4.3# nm -D /usr/lib64/libncurses | grep tgetnum\n> libncurses++.so       libncurses++.so.5     libncurses++.so.5.9   libncurses++w.so      libncurses++w.so.5    libncurses++w.so.5.9  libncurses.so         libncurses.so.5       libncursesw.so        libncursesw.so.5\n> sh-4.3# nm -D /usr/lib64/libncurses.so | grep tgetnum\n> 000000000002fe70 T tgetnum\n> ```\n\nhow about readline 8, as in https://mirrors.slackware.com/slackware/slackware-current/source/l/readline/\n\nNote that it is supposed to link with ltinfo, cf\nhttps://mirror.bytemark.co.uk/slackware/slackware-current/source/l/readline/readline.SlackBuild",
    "created_at": "2020-05-02T14:08:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465279",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@mkoeppe](#comment:3):
> Looks like libreadline is underlinked on slackware
> 
> ```
> sh-4.3# ldd /usr/lib64/libreadline.so*
> /usr/lib64/libreadline.so:
> 	linux-vdso.so.1 (0x00007ffc743df000)
> 	libc.so.6 => /lib64/libc.so.6 (0x00007f2303446000)
> 	/lib64/ld-linux-x86-64.so.2 (0x00007f2303a58000)
> /usr/lib64/libreadline.so.5:
> 	linux-vdso.so.1 (0x00007fff86f96000)
> 	libc.so.6 => /lib64/libc.so.6 (0x00007f58cbdde000)
> 	/lib64/ld-linux-x86-64.so.2 (0x00007f58cc3e5000)
> /usr/lib64/libreadline.so.5.2:
> 	linux-vdso.so.1 (0x00007ffe4a7db000)
> 	libc.so.6 => /lib64/libc.so.6 (0x00007f7b24b17000)
> 	/lib64/ld-linux-x86-64.so.2 (0x00007f7b2511e000)
> /usr/lib64/libreadline.so.6:
> 	linux-vdso.so.1 (0x00007ffd00ff8000)
> 	libc.so.6 => /lib64/libc.so.6 (0x00007f40c3854000)
> 	/lib64/ld-linux-x86-64.so.2 (0x00007f40c3e66000)
> /usr/lib64/libreadline.so.6.3:
> 	linux-vdso.so.1 (0x00007fffb9253000)
> 	libc.so.6 => /lib64/libc.so.6 (0x00007f1818931000)
> 	/lib64/ld-linux-x86-64.so.2 (0x00007f1818f43000)
> sh-4.3# ls /usr/lib64/libreadline.*  
> /usr/lib64/libreadline.so  /usr/lib64/libreadline.so.5	/usr/lib64/libreadline.so.5.2  /usr/lib64/libreadline.so.6  /usr/lib64/libreadline.so.6.3
> sh-4.3# ls -l /usr/lib64/libreadline.*
> lrwxrwxrwx 1 root root     16 Apr 23 17:05 /usr/lib64/libreadline.so -> libreadline.so.6
> lrwxrwxrwx 1 root root     18 Mar 29  2019 /usr/lib64/libreadline.so.5 -> libreadline.so.5.2
> -rwxr-xr-x 1 root root 249328 Aug 15  2015 /usr/lib64/libreadline.so.5.2
> lrwxrwxrwx 1 root root     18 Apr 23 17:05 /usr/lib64/libreadline.so.6 -> libreadline.so.6.3
> -rwxr-xr-x 1 root root 291680 Nov  7  2015 /usr/lib64/libreadline.so.6.3
> sh-4.3# nm -D /usr/lib64/libreadline.so.5 | grep tgetnum
>                  U tgetnum
> sh-4.3# nm -D /usr/lib64/libreadline.so.6 | grep tgetnum
>                  U tgetnum
> sh-4.3# nm -D /usr/lib64/libncurses | grep tgetnum
> libncurses++.so       libncurses++.so.5     libncurses++.so.5.9   libncurses++w.so      libncurses++w.so.5    libncurses++w.so.5.9  libncurses.so         libncurses.so.5       libncursesw.so        libncursesw.so.5
> sh-4.3# nm -D /usr/lib64/libncurses | grep tgetnum
> libncurses++.so       libncurses++.so.5     libncurses++.so.5.9   libncurses++w.so      libncurses++w.so.5    libncurses++w.so.5.9  libncurses.so         libncurses.so.5       libncursesw.so        libncursesw.so.5
> sh-4.3# nm -D /usr/lib64/libncurses.so | grep tgetnum
> 000000000002fe70 T tgetnum
> ```

how about readline 8, as in https://mirrors.slackware.com/slackware/slackware-current/source/l/readline/

Note that it is supposed to link with ltinfo, cf
https://mirror.bytemark.co.uk/slackware/slackware-current/source/l/readline/readline.SlackBuild



---

archive/issue_comments_465280.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nAs a fixup, we can remove\n\nbuild/pkgs/readline/distros/slackware.txt",
    "created_at": "2020-05-02T14:10:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465280",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:30" align="right">comment:30</div>

As a fixup, we can remove

build/pkgs/readline/distros/slackware.txt



---

archive/issue_comments_465281.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nor we can add a check that system readline is not underlinked.",
    "created_at": "2020-05-02T18:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465281",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

or we can add a check that system readline is not underlinked.



---

archive/issue_comments_465282.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@dimpase](#comment:31):\n> or we can add a check that system readline is not underlinked.\n\nI tried this with AC_SEARCH_LIBS, but I'm getting\n\n```\nconfigure:16165: checking for library containing tgetnum\nconfigure:16196: gcc -o conftest -g -O2    conftest.c -lreadline -lcurl -lcliquer -lbz2 -lflint -l\nmpfr -lgmp -lm  -lntl >&5\n/usr/bin/ld: /tmp/ccm3Jhhm.o: undefined reference to symbol 'tgetnum@@NCURSES6_TINFO_5.0.19991023'\n/usr/bin/ld: //lib/x86_64-linux-gnu/libtinfo.so.6: error adding symbols: DSO missing from command \nline\n```\n\nnot sure what this is.",
    "created_at": "2020-05-03T18:45:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465282",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@dimpase](#comment:31):
> or we can add a check that system readline is not underlinked.

I tried this with AC_SEARCH_LIBS, but I'm getting

```
configure:16165: checking for library containing tgetnum
configure:16196: gcc -o conftest -g -O2    conftest.c -lreadline -lcurl -lcliquer -lbz2 -lflint -l
mpfr -lgmp -lm  -lntl >&5
/usr/bin/ld: /tmp/ccm3Jhhm.o: undefined reference to symbol 'tgetnum@@NCURSES6_TINFO_5.0.19991023'
/usr/bin/ld: //lib/x86_64-linux-gnu/libtinfo.so.6: error adding symbols: DSO missing from command 
line
```

not sure what this is.



---

archive/issue_comments_465283.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nTry adding -ltinfo?",
    "created_at": "2020-05-03T18:54:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465283",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

Try adding -ltinfo?



---

archive/issue_comments_465284.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nbut this is meant to **test** whether libreadline is linked with libtinfo...",
    "created_at": "2020-05-03T19:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465284",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

but this is meant to **test** whether libreadline is linked with libtinfo...



---

archive/issue_comments_465285.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nDon't you just need to test whether linking a test program with `-lreadline` works, and whether linking it with `-lreadline -ltinfo` works?",
    "created_at": "2020-05-04T03:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465285",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">comment:35</div>

Don't you just need to test whether linking a test program with `-lreadline` works, and whether linking it with `-lreadline -ltinfo` works?



---

archive/issue_comments_465286.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@mkoeppe](#comment:35):\n> Don't you just need to test whether linking a test program with `-lreadline` works, \n\nbut this succeeds on slackware - after all this is what AC_SEARCH_LIBS is doing.\n\nPerhaps the test already has tinfo in LIBS?\n\n\n> and whether linking it with `-lreadline -ltinfo` works?",
    "created_at": "2020-05-04T05:59:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465286",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@mkoeppe](#comment:35):
> Don't you just need to test whether linking a test program with `-lreadline` works, 

but this succeeds on slackware - after all this is what AC_SEARCH_LIBS is doing.

Perhaps the test already has tinfo in LIBS?


> and whether linking it with `-lreadline -ltinfo` works?



---

archive/issue_comments_465287.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nAre you still working on this?",
    "created_at": "2020-05-05T17:44:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465287",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:37" align="right">comment:37</div>

Are you still working on this?



---

archive/issue_events_403702.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-06T19:58:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403702"
}
```



---

archive/issue_events_403703.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-06T19:58:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403703"
}
```



---

archive/issue_events_403704.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403704"
}
```



---

archive/issue_events_403705.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403705"
}
```



---

archive/issue_comments_465288.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465288",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:40" align="right">comment:40</div>

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_403706.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403706"
}
```



---

archive/issue_events_403707.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403707"
}
```



---

archive/issue_events_403708.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403708"
}
```



---

archive/issue_events_403709.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403709"
}
```



---

archive/issue_events_403710.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403710"
}
```



---

archive/issue_events_403711.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403711"
}
```



---

archive/issue_events_403712.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403712"
}
```



---

archive/issue_events_403713.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403713"
}
```



---

archive/issue_events_403714.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-01T20:32:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403714"
}
```



---

archive/issue_events_403715.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-01T20:32:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403715"
}
```



---

archive/issue_comments_465289.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nWe no longer support this platform, should close",
    "created_at": "2022-08-01T20:32:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465289",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:44" align="right">comment:44</div>

We no longer support this platform, should close



---

archive/issue_comments_465290.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, Samuel Leli\u00e8vre**",
    "created_at": "2022-08-25T16:51:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29573#issuecomment-465290",
    "user": "https://github.com/slel"
}
```

Reviewer: **Matthias Koeppe, Samuel Leli√®vre**



---

archive/issue_events_403716.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-08-25T16:51:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403716"
}
```



---

archive/issue_events_403717.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-08-25T16:51:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403717"
}
```



---

archive/issue_events_403718.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-01T02:30:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403718"
}
```



---

archive/issue_events_403719.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-01T02:30:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29573",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29573#event-403719"
}
```
