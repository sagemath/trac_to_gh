# Issue 29744: diameter computation in undirected graphs using certificates

archive/issues_029507.json:
```json
{
    "assignees": [],
    "body": "This ticket aims to implement diameter computation method for weighted and unweighted undirected graphs, as given in [http://arxiv.org/abs/1803.04660](http://arxiv.org/abs/1803.04660)\n\nCC:  @dcoudert\n\nKeywords: **gsoc2020**\n\nBranch/Commit: **[`3eed584`](https://github.com/sagemath/sagetrac-mirror/commit/3eed5849912893e1e9d6e8ec9ca0f1400091369b)**\n\nReviewer: **David Coudert**\n\nAuthor: **Vipul Gupta**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29744_\n\n",
    "closed_at": "2020-07-19T07:24:23Z",
    "created_at": "2020-05-27T17:08:52Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "diameter computation in undirected graphs using certificates",
    "type": "issue",
    "updated_at": "2020-07-19T07:24:23Z",
    "url": "https://github.com/sagemath/sage/issues/29744",
    "user": "https://github.com/vipul79321"
}
```
This ticket aims to implement diameter computation method for weighted and unweighted undirected graphs, as given in [http://arxiv.org/abs/1803.04660](http://arxiv.org/abs/1803.04660)

CC:  @dcoudert

Keywords: **gsoc2020**

Branch/Commit: **[`3eed584`](https://github.com/sagemath/sagetrac-mirror/commit/3eed5849912893e1e9d6e8ec9ca0f1400091369b)**

Reviewer: **David Coudert**

Author: **Vipul Gupta**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/29744_





---

archive/issue_events_409290.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-05-27T17:08:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409290"
}
```



---

archive/issue_events_409291.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-05-27T17:08:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409291"
}
```



---

archive/issue_events_409292.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-05-27T17:08:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409292"
}
```



---

archive/issue_events_409293.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-05-27T17:08:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409293"
}
```



---

archive/issue_comments_469386.json:
```json
{
    "body": "Branch: **[u/gh-vipul79321/ticket29744](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket29744)**",
    "created_at": "2020-05-27T17:09:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469386",
    "user": "https://github.com/vipul79321"
}
```

Branch: **[u/gh-vipul79321/ticket29744](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket29744)**



---

archive/issue_comments_469387.json:
```json
{
    "body": "Commit: **[`e6ba789`](https://github.com/sagemath/sagetrac-mirror/commit/e6ba789eec1f138ffe1f6ebf2f1c840c295a0e3e)**",
    "created_at": "2020-05-27T17:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469387",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`e6ba789`](https://github.com/sagemath/sagetrac-mirror/commit/e6ba789eec1f138ffe1f6ebf2f1c840c295a0e3e)**



---

archive/issue_comments_469388.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf852a412f4f730b2b4e2eadd6e3d4c5f1f2b24c\"><code>bf852a4</code></a></td><td><code>radius, diameter, eccentricity, center, periphery moved to graph and digraph separately</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e2dcc8af873970454449639cb7ee253289447c9\"><code>9e2dcc8</code></a></td><td><code>unneccessary comments removed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cd8932f2f5cc804c70e4d140f137a1345cb69cd\"><code>0cd8932</code></a></td><td><code>method added. Naming, documentation remaining to be done</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6ba789eec1f138ffe1f6ebf2f1c840c295a0e3e\"><code>e6ba789</code></a></td><td><code>completed</code></td></tr></table>\n",
    "created_at": "2020-05-27T17:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469388",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf852a412f4f730b2b4e2eadd6e3d4c5f1f2b24c"><code>bf852a4</code></a></td><td><code>radius, diameter, eccentricity, center, periphery moved to graph and digraph separately</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e2dcc8af873970454449639cb7ee253289447c9"><code>9e2dcc8</code></a></td><td><code>unneccessary comments removed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cd8932f2f5cc804c70e4d140f137a1345cb69cd"><code>0cd8932</code></a></td><td><code>method added. Naming, documentation remaining to be done</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6ba789eec1f138ffe1f6ebf2f1c840c295a0e3e"><code>e6ba789</code></a></td><td><code>completed</code></td></tr></table>




---

archive/issue_events_409294.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-05-27T17:16:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409294"
}
```



---

archive/issue_comments_469389.json:
```json
{
    "body": "Reviewer: **David Coudert**",
    "created_at": "2020-05-27T17:43:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469389",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: **David Coudert**



---

archive/issue_comments_469390.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe paper is unclear for the line `Select x such that d(u, x) + e(x) = e(u)`. In fact, this is method minES in the paper.\n\nSince we don't know e(x), we do as follows (a `while True` loop):\n1. Select x minimizing e_L(x) and such that d(u, x) + e_L(x) <= e(u).\n2. Compute e(x) and update `LB`.\n3. If e(x) = e_L(x), then x a good choice. We use it to update eccentricity upper bounds. Then we break from the while loop.\n3. Otherwise, x was not a good choice. We use its antipode to update lower bounds. Then, we go to 1.\n\nIt might be suitable to maintain the list of vertices from which we have not yet computed a BFS.\n\n\nDon't forget to add this ticket in the meta ticket. Also, I have not checked if a previously opened ticket was trying to implement the same algorithm...",
    "created_at": "2020-05-27T17:43:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469390",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:4" align="right">comment:4</div>

The paper is unclear for the line `Select x such that d(u, x) + e(x) = e(u)`. In fact, this is method minES in the paper.

Since we don't know e(x), we do as follows (a `while True` loop):
1. Select x minimizing e_L(x) and such that d(u, x) + e_L(x) <= e(u).
2. Compute e(x) and update `LB`.
3. If e(x) = e_L(x), then x a good choice. We use it to update eccentricity upper bounds. Then we break from the while loop.
3. Otherwise, x was not a good choice. We use its antipode to update lower bounds. Then, we go to 1.

It might be suitable to maintain the list of vertices from which we have not yet computed a BFS.


Don't forget to add this ticket in the meta ticket. Also, I have not checked if a previously opened ticket was trying to implement the same algorithm...



---

archive/issue_comments_469391.json:
```json
{
    "body": "Changed commit from **[`e6ba789`](https://github.com/sagemath/sagetrac-mirror/commit/e6ba789eec1f138ffe1f6ebf2f1c840c295a0e3e)** to **[`6fa0327`](https://github.com/sagemath/sagetrac-mirror/commit/6fa032702da536c26d3e5de0a69b4a4ef2e39922)**",
    "created_at": "2020-05-28T18:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469391",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e6ba789`](https://github.com/sagemath/sagetrac-mirror/commit/e6ba789eec1f138ffe1f6ebf2f1c840c295a0e3e)** to **[`6fa0327`](https://github.com/sagemath/sagetrac-mirror/commit/6fa032702da536c26d3e5de0a69b4a4ef2e39922)**



---

archive/issue_comments_469392.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6fa032702da536c26d3e5de0a69b4a4ef2e39922\"><code>6fa0327</code></a></td><td><code>improved a little</code></td></tr></table>\n",
    "created_at": "2020-05-28T18:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469392",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6fa032702da536c26d3e5de0a69b4a4ef2e39922"><code>6fa0327</code></a></td><td><code>improved a little</code></td></tr></table>




---

archive/issue_comments_469393.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@dcoudert](#comment:4):\n> The paper is unclear for the line `Select x such that d(u, x) + e(x) = e(u)`. In fact, this is method minES in the paper.\n> \n> Since we don't know e(x), we do as follows (a `while True` loop):\n> 1. Select x minimizing e_L(x) and such that d(u, x) + e_L(x) <= e(u).\n> 2. Compute e(x) and update `LB`.\n> 3. If e(x) = e_L(x), then x a good choice. We use it to update eccentricity upper bounds. Then we break from the while loop.\n> 3. Otherwise, x was not a good choice. We use its antipode to update lower bounds. Then, we go to 1.\n> \n\nI have added following changes and performance improved a little, but still not comparable to iFUB.\n\n> It might be suitable to maintain the list of vertices from which we have not yet computed a BFS.\n\nIt unclear to me, how we should use list of active vertices. Can you explain this part, so I can work on it.",
    "created_at": "2020-05-28T18:46:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469393",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@dcoudert](#comment:4):
> The paper is unclear for the line `Select x such that d(u, x) + e(x) = e(u)`. In fact, this is method minES in the paper.
> 
> Since we don't know e(x), we do as follows (a `while True` loop):
> 1. Select x minimizing e_L(x) and such that d(u, x) + e_L(x) <= e(u).
> 2. Compute e(x) and update `LB`.
> 3. If e(x) = e_L(x), then x a good choice. We use it to update eccentricity upper bounds. Then we break from the while loop.
> 3. Otherwise, x was not a good choice. We use its antipode to update lower bounds. Then, we go to 1.
> 

I have added following changes and performance improved a little, but still not comparable to iFUB.

> It might be suitable to maintain the list of vertices from which we have not yet computed a BFS.

It unclear to me, how we should use list of active vertices. Can you explain this part, so I can work on it.



---

archive/issue_comments_469394.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nlet active be the list of vertices\n\nwhile True, do:\n1. let idx be the index of the vertex in active with largest eccentricity upper bound\n2. active[idx], active[-1] = active[-1], active[idx]   # exchange \n3. source = active.pop()   # source is no longer active\n4. compute BFS from source, set ecc[source] and update eccentricity lower bounds\n5. apply minES as described in #comment:4.\n   - Each time you select a vertex x in active, you remove it from active.\n   - Warning: when you select the antipode, may be it is no longer active, and so cannot be removed from active. This is something hard to avoid. But you can use it anyway. So check if the antipode is in active and if so remove it.\n\n\nHope it helps.",
    "created_at": "2020-05-29T09:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469394",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:7" align="right">comment:7</div>

let active be the list of vertices

while True, do:
1. let idx be the index of the vertex in active with largest eccentricity upper bound
2. active[idx], active[-1] = active[-1], active[idx]   # exchange 
3. source = active.pop()   # source is no longer active
4. compute BFS from source, set ecc[source] and update eccentricity lower bounds
5. apply minES as described in #comment:4.
   - Each time you select a vertex x in active, you remove it from active.
   - Warning: when you select the antipode, may be it is no longer active, and so cannot be removed from active. This is something hard to avoid. But you can use it anyway. So check if the antipode is in active and if so remove it.


Hope it helps.



---

archive/issue_comments_469395.json:
```json
{
    "body": "Changed commit from **[`6fa0327`](https://github.com/sagemath/sagetrac-mirror/commit/6fa032702da536c26d3e5de0a69b4a4ef2e39922)** to **[`1068f75`](https://github.com/sagemath/sagetrac-mirror/commit/1068f753c89e6de759681e6faeb436c94bb0a836)**",
    "created_at": "2020-05-29T18:10:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469395",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6fa0327`](https://github.com/sagemath/sagetrac-mirror/commit/6fa032702da536c26d3e5de0a69b4a4ef2e39922)** to **[`1068f75`](https://github.com/sagemath/sagetrac-mirror/commit/1068f753c89e6de759681e6faeb436c94bb0a836)**



---

archive/issue_comments_469396.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1068f753c89e6de759681e6faeb436c94bb0a836\"><code>1068f75</code></a></td><td><code>updated using active vertices list</code></td></tr></table>\n",
    "created_at": "2020-05-29T18:10:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469396",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1068f753c89e6de759681e6faeb436c94bb0a836"><code>1068f75</code></a></td><td><code>updated using active vertices list</code></td></tr></table>




---

archive/issue_comments_469397.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@dcoudert](#comment:7):\n> let active be the list of vertices\n> \n> while True, do:\n> 1. let idx be the index of the vertex in active with largest eccentricity upper bound\n> 2. active[idx], active[-1] = active[-1], active[idx]   # exchange \n> 3. source = active.pop()   # source is no longer active\n> 4. compute BFS from source, set ecc[source] and update eccentricity lower bounds\n> 5. apply minES as described in #comment:4.\n>    - Each time you select a vertex x in active, you remove it from active.\n>    - Warning: when you select the antipode, may be it is no longer active, and so cannot be removed from active. This is something hard to avoid. But you can use it anyway. So check if the antipode is in active and if so remove it.\n> \n> \n> Hope it helps.\n\nI have update my method as you mentioned. But there is no improvement in performance.\\\\\n\nOne major drawback of our code is that sometimes it never comes out of inner while loop. This happens, because there is no vertex in `active` list which satisfies the condition `distances[v] + ecc_lower_bound[v] <= ecc[source]` and hence the continuous popping from `active` list\\\\\n\nWe have to figure out a way to deal with this situation when there is no such vertex in `active` list\n\nI have following suggestions:\n- If intially there is no vertex in `active` list, which satisfies the condition, then we should use `source` as its `delegate certificate`\n- If after entering inner while loop there is no vertex in `active` list which satisfies the condition, then we should use last `x` as `delegate certificate`",
    "created_at": "2020-05-29T18:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469397",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@dcoudert](#comment:7):
> let active be the list of vertices
> 
> while True, do:
> 1. let idx be the index of the vertex in active with largest eccentricity upper bound
> 2. active[idx], active[-1] = active[-1], active[idx]   # exchange 
> 3. source = active.pop()   # source is no longer active
> 4. compute BFS from source, set ecc[source] and update eccentricity lower bounds
> 5. apply minES as described in #comment:4.
>    - Each time you select a vertex x in active, you remove it from active.
>    - Warning: when you select the antipode, may be it is no longer active, and so cannot be removed from active. This is something hard to avoid. But you can use it anyway. So check if the antipode is in active and if so remove it.
> 
> 
> Hope it helps.

I have update my method as you mentioned. But there is no improvement in performance.\\

One major drawback of our code is that sometimes it never comes out of inner while loop. This happens, because there is no vertex in `active` list which satisfies the condition `distances[v] + ecc_lower_bound[v] <= ecc[source]` and hence the continuous popping from `active` list\\

We have to figure out a way to deal with this situation when there is no such vertex in `active` list

I have following suggestions:
- If intially there is no vertex in `active` list, which satisfies the condition, then we should use `source` as its `delegate certificate`
- If after entering inner while loop there is no vertex in `active` list which satisfies the condition, then we should use last `x` as `delegate certificate`



---

archive/issue_comments_469398.json:
```json
{
    "body": "Changed dependencies from **#29660** to none",
    "created_at": "2020-05-30T14:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469398",
    "user": "https://github.com/dcoudert"
}
```

Changed dependencies from **#29660** to none



---

archive/issue_comments_469399.json:
```json
{
    "body": "Changed commit from **[`1068f75`](https://github.com/sagemath/sagetrac-mirror/commit/1068f753c89e6de759681e6faeb436c94bb0a836)** to **[`37ac47a`](https://github.com/sagemath/sagetrac-mirror/commit/37ac47a9297fc0a04441862ba8b2a82251d464a7)**",
    "created_at": "2020-05-30T14:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469399",
    "user": "https://github.com/dcoudert"
}
```

Changed commit from **[`1068f75`](https://github.com/sagemath/sagetrac-mirror/commit/1068f753c89e6de759681e6faeb436c94bb0a836)** to **[`37ac47a`](https://github.com/sagemath/sagetrac-mirror/commit/37ac47a9297fc0a04441862ba8b2a82251d464a7)**



---

archive/issue_comments_469400.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI pushed a new branch with a different version of the algorithm. For me it's better and it is generally faster than iFUB.\nI have also renamed the algorithm as `DHV` instead of `diameter_dragan`. The branch is in public, so you can modify it.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d08d3b6139fa0532b0c65b1cc0662d548081085\"><code>1d08d3b</code></a></td><td><code>trac #29744: rebuild on top of 9.2.beta0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37ac47a9297fc0a04441862ba8b2a82251d464a7\"><code>37ac47a</code></a></td><td><code>trac #29744: improved version of the algorithm</code></td></tr></table>\n",
    "created_at": "2020-05-30T14:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469400",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:10" align="right">comment:10</div>

I pushed a new branch with a different version of the algorithm. For me it's better and it is generally faster than iFUB.
I have also renamed the algorithm as `DHV` instead of `diameter_dragan`. The branch is in public, so you can modify it.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d08d3b6139fa0532b0c65b1cc0662d548081085"><code>1d08d3b</code></a></td><td><code>trac #29744: rebuild on top of 9.2.beta0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37ac47a9297fc0a04441862ba8b2a82251d464a7"><code>37ac47a</code></a></td><td><code>trac #29744: improved version of the algorithm</code></td></tr></table>




---

archive/issue_comments_469401.json:
```json
{
    "body": "Changed branch from **[u/gh-vipul79321/ticket29744](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket29744)** to **[public/graphs/29744_diameter_DHV](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/29744_diameter_DHV)**",
    "created_at": "2020-05-30T14:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469401",
    "user": "https://github.com/dcoudert"
}
```

Changed branch from **[u/gh-vipul79321/ticket29744](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket29744)** to **[public/graphs/29744_diameter_DHV](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/29744_diameter_DHV)**



---

archive/issue_comments_469402.json:
```json
{
    "body": "Changed commit from **[`37ac47a`](https://github.com/sagemath/sagetrac-mirror/commit/37ac47a9297fc0a04441862ba8b2a82251d464a7)** to **[`a049556`](https://github.com/sagemath/sagetrac-mirror/commit/a0495566ae194295ec7613decac5d983527c451d)**",
    "created_at": "2020-05-30T18:22:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469402",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`37ac47a`](https://github.com/sagemath/sagetrac-mirror/commit/37ac47a9297fc0a04441862ba8b2a82251d464a7)** to **[`a049556`](https://github.com/sagemath/sagetrac-mirror/commit/a0495566ae194295ec7613decac5d983527c451d)**



---

archive/issue_comments_469403.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0495566ae194295ec7613decac5d983527c451d\"><code>a049556</code></a></td><td><code>index error fixed</code></td></tr></table>\n",
    "created_at": "2020-05-30T18:22:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469403",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0495566ae194295ec7613decac5d983527c451d"><code>a049556</code></a></td><td><code>index error fixed</code></td></tr></table>




---

archive/issue_comments_469404.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n- First of all, I would like to mention, it is very clean, efficient and simplified code :)\n\n- One problem, I encountered was that it was giving index error as follows\n\n```\nsage: from sage.graphs.distances_all_pairs import diameter\nsage: G = graphs.RandomGNP(21,0.6)\nsage: % time diameter(G, algorithm = 'DHV')\n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\nIndexError: list index out of range\nException ignored in: 'sage.graphs.distances_all_pairs.diameter_dragan'\nIndexError: list index out of range\nCPU times: user 512 \u00b5s, sys: 27 \u00b5s, total: 539 \u00b5s\nWall time: 470 \u00b5s\n0\n```\n\nI have fixed that.\n\\\\\n\\\\\n- I agree, it sometimes works faster than iFUB. \nFew examples that I would like to point out, where it perform equivalent to brute are - \n\n```\nsage: G = graphs.RandomGNP(1009,0.6)\nsage: % time diameter(G, algorithm = 'standard')\nCPU times: user 673 ms, sys: 7.41 ms, total: 681 ms\nWall time: 679 ms\n2\nsage: % time diameter(G, algorithm = 'DHV')\nCPU times: user 648 ms, sys: 0 ns, total: 648 ms\nWall time: 647 ms\n2\nsage: % time diameter(G)\nCPU times: user 346 ms, sys: 0 ns, total: 346 ms\nWall time: 345 ms\n2\n```\n\n\n```\nsage: G = graphs.BubbleSortGraph(7)\nsage: % time diameter(G, algorithm = 'standard')\nCPU times: user 530 ms, sys: 0 ns, total: 530 ms\nWall time: 529 ms\n21\nsage: % time diameter(G, algorithm = 'DHV')\nCPU times: user 580 ms, sys: 0 ns, total: 580 ms\nWall time: 580 ms\n21\nsage: % time diameter(G)\nCPU times: user 276 ms, sys: 0 ns, total: 276 ms\nWall time: 276 ms\n21\n```\n\n\n```\nsage: G = graphs.FoldedCubeGraph(13)\nsage: % time diameter(G, algorithm = 'standard')\nCPU times: user 359 ms, sys: 0 ns, total: 359 ms\nWall time: 358 ms\n6\nsage: % time diameter(G, algorithm = 'DHV')\nCPU times: user 374 ms, sys: 0 ns, total: 374 ms\nWall time: 373 ms\n6\nsage: % time diameter(G)\nCPU times: user 297 ms, sys: 0 ns, total: 297 ms\nWall time: 296 ms\n6\n```\n\nMaybe above graphs are the worst cases of this algorithm.",
    "created_at": "2020-05-30T18:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469404",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:12" align="right">comment:12</div>

- First of all, I would like to mention, it is very clean, efficient and simplified code :)

- One problem, I encountered was that it was giving index error as follows

```
sage: from sage.graphs.distances_all_pairs import diameter
sage: G = graphs.RandomGNP(21,0.6)
sage: % time diameter(G, algorithm = 'DHV')
---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
IndexError: list index out of range
Exception ignored in: 'sage.graphs.distances_all_pairs.diameter_dragan'
IndexError: list index out of range
CPU times: user 512 µs, sys: 27 µs, total: 539 µs
Wall time: 470 µs
0
```

I have fixed that.
\\
\\
- I agree, it sometimes works faster than iFUB. 
Few examples that I would like to point out, where it perform equivalent to brute are - 

```
sage: G = graphs.RandomGNP(1009,0.6)
sage: % time diameter(G, algorithm = 'standard')
CPU times: user 673 ms, sys: 7.41 ms, total: 681 ms
Wall time: 679 ms
2
sage: % time diameter(G, algorithm = 'DHV')
CPU times: user 648 ms, sys: 0 ns, total: 648 ms
Wall time: 647 ms
2
sage: % time diameter(G)
CPU times: user 346 ms, sys: 0 ns, total: 346 ms
Wall time: 345 ms
2
```


```
sage: G = graphs.BubbleSortGraph(7)
sage: % time diameter(G, algorithm = 'standard')
CPU times: user 530 ms, sys: 0 ns, total: 530 ms
Wall time: 529 ms
21
sage: % time diameter(G, algorithm = 'DHV')
CPU times: user 580 ms, sys: 0 ns, total: 580 ms
Wall time: 580 ms
21
sage: % time diameter(G)
CPU times: user 276 ms, sys: 0 ns, total: 276 ms
Wall time: 276 ms
21
```


```
sage: G = graphs.FoldedCubeGraph(13)
sage: % time diameter(G, algorithm = 'standard')
CPU times: user 359 ms, sys: 0 ns, total: 359 ms
Wall time: 358 ms
6
sage: % time diameter(G, algorithm = 'DHV')
CPU times: user 374 ms, sys: 0 ns, total: 374 ms
Wall time: 373 ms
6
sage: % time diameter(G)
CPU times: user 297 ms, sys: 0 ns, total: 297 ms
Wall time: 296 ms
6
```

Maybe above graphs are the worst cases of this algorithm.



---

archive/issue_comments_469405.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nif we need to add `active` in the outer while loop, it means that we are not correctly maintaining LB and UB. Indeed, if active is empty, it means that we have computed BFS from all the vertices. So we must have LB = UB. Can you check that ?\n\nFor the performance, try a large sparse graph, or `graphs.RandomBarabasiAlbert(100000, 2)`.",
    "created_at": "2020-05-30T18:57:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469405",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:13" align="right">comment:13</div>

if we need to add `active` in the outer while loop, it means that we are not correctly maintaining LB and UB. Indeed, if active is empty, it means that we have computed BFS from all the vertices. So we must have LB = UB. Can you check that ?

For the performance, try a large sparse graph, or `graphs.RandomBarabasiAlbert(100000, 2)`.



---

archive/issue_comments_469406.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9319d547f03ca9c8dcf166a7a626e6f22c12599\"><code>f9319d5</code></a></td><td><code>trac #29744: minor edit</code></td></tr></table>\n",
    "created_at": "2020-05-31T17:32:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469406",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9319d547f03ca9c8dcf166a7a626e6f22c12599"><code>f9319d5</code></a></td><td><code>trac #29744: minor edit</code></td></tr></table>




---

archive/issue_comments_469407.json:
```json
{
    "body": "Changed commit from **[`a049556`](https://github.com/sagemath/sagetrac-mirror/commit/a0495566ae194295ec7613decac5d983527c451d)** to **[`f9319d5`](https://github.com/sagemath/sagetrac-mirror/commit/f9319d547f03ca9c8dcf166a7a626e6f22c12599)**",
    "created_at": "2020-05-31T17:32:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469407",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a049556`](https://github.com/sagemath/sagetrac-mirror/commit/a0495566ae194295ec7613decac5d983527c451d)** to **[`f9319d5`](https://github.com/sagemath/sagetrac-mirror/commit/f9319d547f03ca9c8dcf166a7a626e6f22c12599)**



---

archive/issue_comments_469408.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nYou are right, we need to add `active` as a test of the outer while loop. This is typically the case for a graph with 2 vertices and an edge. I added a dockets for this case.\n\nMay be we should rename the method `diameter_DHV` to be consistent, no ?\n\nYou can now make this method available from the diameter method in `graph.py`.",
    "created_at": "2020-05-31T17:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469408",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:15" align="right">comment:15</div>

You are right, we need to add `active` as a test of the outer while loop. This is typically the case for a graph with 2 vertices and an edge. I added a dockets for this case.

May be we should rename the method `diameter_DHV` to be consistent, no ?

You can now make this method available from the diameter method in `graph.py`.



---

archive/issue_comments_469409.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@dcoudert](#comment:15):\n> You are right, we need to add `active` as a test of the outer while loop. This is typically the case for a graph with 2 vertices and an edge. I added a dockets for this case.\n> \n> May be we should rename the method `diameter_DHV` to be consistent, no ?\n> \n\nYeah, that will be good.\n> You can now make this method available from the diameter method in `graph.py`.\n\nBefore doing this. I was wondering maybe I should implement the weighted version of this algorithm in `boost_graph.pyx` ? Then we will expose it `graph.py`",
    "created_at": "2020-06-01T12:10:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469409",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@dcoudert](#comment:15):
> You are right, we need to add `active` as a test of the outer while loop. This is typically the case for a graph with 2 vertices and an edge. I added a dockets for this case.
> 
> May be we should rename the method `diameter_DHV` to be consistent, no ?
> 

Yeah, that will be good.
> You can now make this method available from the diameter method in `graph.py`.

Before doing this. I was wondering maybe I should implement the weighted version of this algorithm in `boost_graph.pyx` ? Then we will expose it `graph.py`



---

archive/issue_comments_469410.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nFeel free to do it.",
    "created_at": "2020-06-01T13:04:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469410",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:17" align="right">comment:17</div>

Feel free to do it.



---

archive/issue_comments_469411.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7314e0f202378b224866708ff5d3817e7b189f31\"><code>7314e0f</code></a></td><td><code>trac 29744: method added for weighted graphs and exposed in graph.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9798b8be90c26e8d6d474c8e24e4b030f8a2124\"><code>e9798b8</code></a></td><td><code>documentation updated</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ada5851e8cacae3fcec1325bc9bfb9810c6df13\"><code>0ada585</code></a></td><td><code>Merge branch 'public/graphs/29744_diameter_DHV' of git://trac.sagemath.org/sage into diameter_DHV</code></td></tr></table>\n",
    "created_at": "2020-06-02T18:21:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469411",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7314e0f202378b224866708ff5d3817e7b189f31"><code>7314e0f</code></a></td><td><code>trac 29744: method added for weighted graphs and exposed in graph.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9798b8be90c26e8d6d474c8e24e4b030f8a2124"><code>e9798b8</code></a></td><td><code>documentation updated</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ada5851e8cacae3fcec1325bc9bfb9810c6df13"><code>0ada585</code></a></td><td><code>Merge branch 'public/graphs/29744_diameter_DHV' of git://trac.sagemath.org/sage into diameter_DHV</code></td></tr></table>




---

archive/issue_comments_469412.json:
```json
{
    "body": "Changed commit from **[`f9319d5`](https://github.com/sagemath/sagetrac-mirror/commit/f9319d547f03ca9c8dcf166a7a626e6f22c12599)** to **[`0ada585`](https://github.com/sagemath/sagetrac-mirror/commit/0ada5851e8cacae3fcec1325bc9bfb9810c6df13)**",
    "created_at": "2020-06-02T18:21:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469412",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f9319d5`](https://github.com/sagemath/sagetrac-mirror/commit/f9319d547f03ca9c8dcf166a7a626e6f22c12599)** to **[`0ada585`](https://github.com/sagemath/sagetrac-mirror/commit/0ada5851e8cacae3fcec1325bc9bfb9810c6df13)**



---

archive/issue_comments_469413.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@sagetrac-git](#comment:18):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7314e0f202378b224866708ff5d3817e7b189f31\"><code>7314e0f</code></a></td><td><code>trac 29744: method added for weighted graphs and exposed in graph.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9798b8be90c26e8d6d474c8e24e4b030f8a2124\"><code>e9798b8</code></a></td><td><code>documentation updated</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ada5851e8cacae3fcec1325bc9bfb9810c6df13\"><code>0ada585</code></a></td><td><code>Merge branch 'public/graphs/29744_diameter_DHV' of git://trac.sagemath.org/sage into diameter_DHV</code></td></tr></table>\n\nadded `diameter_DHV` for weighted graph alongwith `check_weight` parameter and exposed both methods in `graph.py`.",
    "created_at": "2020-06-02T18:25:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469413",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@sagetrac-git](#comment:18):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7314e0f202378b224866708ff5d3817e7b189f31"><code>7314e0f</code></a></td><td><code>trac 29744: method added for weighted graphs and exposed in graph.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9798b8be90c26e8d6d474c8e24e4b030f8a2124"><code>e9798b8</code></a></td><td><code>documentation updated</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ada5851e8cacae3fcec1325bc9bfb9810c6df13"><code>0ada585</code></a></td><td><code>Merge branch 'public/graphs/29744_diameter_DHV' of git://trac.sagemath.org/sage into diameter_DHV</code></td></tr></table>

added `diameter_DHV` for weighted graph alongwith `check_weight` parameter and exposed both methods in `graph.py`.



---

archive/issue_comments_469414.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nYou should add a doctest with a weighted graph in boost.\n\n```\nsage: from sage.graphs.base.boost_graph import diameter_DHV\nsage: G = graphs.CycleGraph(6)\nsage: for u, v in G.edges(labels=False):\n....:     G.set_edge_label(u, v, 1)\nsage: G.set_edge_label(4, 5, -1)\nsage: diameter_DHV(G)  # unweighted\n3.0\nsage: diameter_DHV(G, weight_function=lambda e:e[2])   # weighted \n0.0\n```\nThis last answer is not correct.\n\nOther issues, that were certainly already here.\n\n```\nsage: G.diameter(by_weight=True)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-8-a687234a118b> in <module>()\n----> 1 G.diameter(by_weight=True)\n\n/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in diameter(self, by_weight, algorithm, weight_function, check_weight)\n   5612             if by_weight:\n   5613                 raise ValueError(\"algorithm '\" + algorithm + \"' does not work\" +\n-> 5614                                  \" on weighted graphs\")\n   5615             from sage.graphs.distances_all_pairs import diameter\n   5616             return diameter(self, algorithm=algorithm)\n\nValueError: algorithm 'iFUB' does not work on weighted graphs\nsage: G.diameter(by_weight=True, algorithm='Johnson_Boost')\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-10-8e8a8c6456b1> in <module>()\n----> 1 G.diameter(by_weight=True, algorithm='Johnson_Boost')\n\n/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in diameter(self, by_weight, algorithm, weight_function, check_weight)\n   5619                                      weight_function=weight_function,\n   5620                                      check_weight=check_weight,\n-> 5621                                      algorithm=algorithm))\n   5622 \n   5623     @doc_index(\"Distances\")\n\n/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in eccentricity(self, v, by_weight, algorithm, weight_function, check_weight, dist_dict, with_labels)\n   5387         elif algorithm in ['Floyd-Warshall-Python', 'Floyd-Warshall-Cython', 'Johnson_Boost']:\n   5388             raise ValueError(\"algorithm '\" + algorithm + \"' works only if all\" +\n-> 5389                              \" eccentricities are needed\")\n   5390 \n   5391         if not isinstance(v, list):\n\nValueError: algorithm 'Johnson_Boost' works only if all eccentricities are needed\n```",
    "created_at": "2020-06-03T09:30:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469414",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:20" align="right">comment:20</div>

You should add a doctest with a weighted graph in boost.

```
sage: from sage.graphs.base.boost_graph import diameter_DHV
sage: G = graphs.CycleGraph(6)
sage: for u, v in G.edges(labels=False):
....:     G.set_edge_label(u, v, 1)
sage: G.set_edge_label(4, 5, -1)
sage: diameter_DHV(G)  # unweighted
3.0
sage: diameter_DHV(G, weight_function=lambda e:e[2])   # weighted 
0.0
```
This last answer is not correct.

Other issues, that were certainly already here.

```
sage: G.diameter(by_weight=True)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-8-a687234a118b> in <module>()
----> 1 G.diameter(by_weight=True)

/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in diameter(self, by_weight, algorithm, weight_function, check_weight)
   5612             if by_weight:
   5613                 raise ValueError("algorithm '" + algorithm + "' does not work" +
-> 5614                                  " on weighted graphs")
   5615             from sage.graphs.distances_all_pairs import diameter
   5616             return diameter(self, algorithm=algorithm)

ValueError: algorithm 'iFUB' does not work on weighted graphs
sage: G.diameter(by_weight=True, algorithm='Johnson_Boost')
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-10-8e8a8c6456b1> in <module>()
----> 1 G.diameter(by_weight=True, algorithm='Johnson_Boost')

/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in diameter(self, by_weight, algorithm, weight_function, check_weight)
   5619                                      weight_function=weight_function,
   5620                                      check_weight=check_weight,
-> 5621                                      algorithm=algorithm))
   5622 
   5623     @doc_index("Distances")

/Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in eccentricity(self, v, by_weight, algorithm, weight_function, check_weight, dist_dict, with_labels)
   5387         elif algorithm in ['Floyd-Warshall-Python', 'Floyd-Warshall-Cython', 'Johnson_Boost']:
   5388             raise ValueError("algorithm '" + algorithm + "' works only if all" +
-> 5389                              " eccentricities are needed")
   5390 
   5391         if not isinstance(v, list):

ValueError: algorithm 'Johnson_Boost' works only if all eccentricities are needed
```



---

archive/issue_events_409295.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-06-03T09:30:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409295"
}
```



---

archive/issue_events_409296.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-06-03T09:30:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409296"
}
```



---

archive/issue_comments_469415.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@dcoudert](#comment:20):\n> You should add a doctest with a weighted graph in boost.\n> \n> ```\n> sage: from sage.graphs.base.boost_graph import diameter_DHV\n> sage: G = graphs.CycleGraph(6)\n> sage: for u, v in G.edges(labels=False):\n> ....:     G.set_edge_label(u, v, 1)\n> sage: G.set_edge_label(4, 5, -1)\n> sage: diameter_DHV(G)  # unweighted\n> 3.0\n> sage: diameter_DHV(G, weight_function=lambda e:e[2])   # weighted \n> 0.0\n> ```\n> This last answer is not correct.\n> \n\nThis happens because instead of detecting negative cycle, `Bellman-Ford` is returning negative distances :(\n\n```\nsage: from sage.graphs.base.boost_graph import shortest_paths\nsage: G = graphs.CycleGraph(6)\nsage: shortest_paths(G,0, weight_function = lambda e:e[2])[0]\n{0: -2, 1: -1, 2: 0, 3: -3, 4: -4, 5: -5}\n```\nAny suggestion on what should I do for this?\n\n> Other issues, that were certainly already here.\n> \n> ```\n> sage: G.diameter(by_weight=True)\n> ---------------------------------------------------------------------------\n> ValueError                                Traceback (most recent call last)\n> <ipython-input-8-a687234a118b> in <module>()\n> ----> 1 G.diameter(by_weight=True)\n> \n> /Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in diameter(self, by_weight, algorithm, weight_function, check_weight)\n>    5612             if by_weight:\n>    5613                 raise ValueError(\"algorithm '\" + algorithm + \"' does not work\" +\n> -> 5614                                  \" on weighted graphs\")\n>    5615             from sage.graphs.distances_all_pairs import diameter\n>    5616             return diameter(self, algorithm=algorithm)\n> \n> ValueError: algorithm 'iFUB' does not work on weighted graphs\n> sage: G.diameter(by_weight=True, algorithm='Johnson_Boost')\n> ---------------------------------------------------------------------------\n> ValueError                                Traceback (most recent call last)\n> <ipython-input-10-8e8a8c6456b1> in <module>()\n> ----> 1 G.diameter(by_weight=True, algorithm='Johnson_Boost')\n> \n> /Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in diameter(self, by_weight, algorithm, weight_function, check_weight)\n>    5619                                      weight_function=weight_function,\n>    5620                                      check_weight=check_weight,\n> -> 5621                                      algorithm=algorithm))\n>    5622 \n>    5623     @doc_index(\"Distances\")\n> \n> /Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in eccentricity(self, v, by_weight, algorithm, weight_function, check_weight, dist_dict, with_labels)\n>    5387         elif algorithm in ['Floyd-Warshall-Python', 'Floyd-Warshall-Cython', 'Johnson_Boost']:\n>    5388             raise ValueError(\"algorithm '\" + algorithm + \"' works only if all\" +\n> -> 5389                              \" eccentricities are needed\")\n>    5390 \n>    5391         if not isinstance(v, list):\n> \n> ValueError: algorithm 'Johnson_Boost' works only if all eccentricities are needed\n> ```\n\nThis will be fixed by making changes suggested in last [comment:37](#comment:37) in #29715",
    "created_at": "2020-06-03T11:26:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469415",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@dcoudert](#comment:20):
> You should add a doctest with a weighted graph in boost.
> 
> ```
> sage: from sage.graphs.base.boost_graph import diameter_DHV
> sage: G = graphs.CycleGraph(6)
> sage: for u, v in G.edges(labels=False):
> ....:     G.set_edge_label(u, v, 1)
> sage: G.set_edge_label(4, 5, -1)
> sage: diameter_DHV(G)  # unweighted
> 3.0
> sage: diameter_DHV(G, weight_function=lambda e:e[2])   # weighted 
> 0.0
> ```
> This last answer is not correct.
> 

This happens because instead of detecting negative cycle, `Bellman-Ford` is returning negative distances :(

```
sage: from sage.graphs.base.boost_graph import shortest_paths
sage: G = graphs.CycleGraph(6)
sage: shortest_paths(G,0, weight_function = lambda e:e[2])[0]
{0: -2, 1: -1, 2: 0, 3: -3, 4: -4, 5: -5}
```
Any suggestion on what should I do for this?

> Other issues, that were certainly already here.
> 
> ```
> sage: G.diameter(by_weight=True)
> ---------------------------------------------------------------------------
> ValueError                                Traceback (most recent call last)
> <ipython-input-8-a687234a118b> in <module>()
> ----> 1 G.diameter(by_weight=True)
> 
> /Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in diameter(self, by_weight, algorithm, weight_function, check_weight)
>    5612             if by_weight:
>    5613                 raise ValueError("algorithm '" + algorithm + "' does not work" +
> -> 5614                                  " on weighted graphs")
>    5615             from sage.graphs.distances_all_pairs import diameter
>    5616             return diameter(self, algorithm=algorithm)
> 
> ValueError: algorithm 'iFUB' does not work on weighted graphs
> sage: G.diameter(by_weight=True, algorithm='Johnson_Boost')
> ---------------------------------------------------------------------------
> ValueError                                Traceback (most recent call last)
> <ipython-input-10-8e8a8c6456b1> in <module>()
> ----> 1 G.diameter(by_weight=True, algorithm='Johnson_Boost')
> 
> /Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in diameter(self, by_weight, algorithm, weight_function, check_weight)
>    5619                                      weight_function=weight_function,
>    5620                                      check_weight=check_weight,
> -> 5621                                      algorithm=algorithm))
>    5622 
>    5623     @doc_index("Distances")
> 
> /Users/dcoudert/sage/local/lib/python3.7/site-packages/sage/graphs/graph.py in eccentricity(self, v, by_weight, algorithm, weight_function, check_weight, dist_dict, with_labels)
>    5387         elif algorithm in ['Floyd-Warshall-Python', 'Floyd-Warshall-Cython', 'Johnson_Boost']:
>    5388             raise ValueError("algorithm '" + algorithm + "' works only if all" +
> -> 5389                              " eccentricities are needed")
>    5390 
>    5391         if not isinstance(v, list):
> 
> ValueError: algorithm 'Johnson_Boost' works only if all eccentricities are needed
> ```

This will be fixed by making changes suggested in last [comment:37](#comment:37) in #29715



---

archive/issue_comments_469416.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n> This happens because instead of detecting negative cycle, `Bellman-Ford` is returning negative distances :(\n> ...\n> Any suggestion on what should I do for this?\n\n1) Mention the problem in the meta ticket. 2) Check the documentation of 'Johnson_Boost' in case it can be used to detect negative cycles. Otherwise, we may have to change default algorithm.",
    "created_at": "2020-06-03T12:03:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469416",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:22" align="right">comment:22</div>

> This happens because instead of detecting negative cycle, `Bellman-Ford` is returning negative distances :(
> ...
> Any suggestion on what should I do for this?

1) Mention the problem in the meta ticket. 2) Check the documentation of 'Johnson_Boost' in case it can be used to detect negative cycles. Otherwise, we may have to change default algorithm.



---

archive/issue_comments_469417.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@dcoudert](#comment:22):\n> > This happens because instead of detecting negative cycle, `Bellman-Ford` is returning negative distances :(\n> > ...\n> > Any suggestion on what should I do for this?\n\n> \n> 1) Mention the problem in the meta ticket. \n\nDone.\\\\\n\n> 2) Check the documentation of 'Johnson_Boost' in case it can be used to detect negative cycles.\\\\\n\nYeah it detects negative cycle properly.\n\nBut we cant use that in our algorithm. We have to find a way to avoid this, smae problem appears here and in `radius_DHV` in #29715.\\\\\n\n- 1).I have one solution,  since this methods are restricted to undirected graphs, why dont we exploit that property, since any edge with negative weight will definitely be a cycle. So raise an error in begining while checking for negative edges?\n\n- 2). or We can try the method, I suggested in #29657.\n\nFinally, whichever method we decide, we have to decide what do we want from our method, when `graph contains negative cycle , as well graph is disconnected`.",
    "created_at": "2020-06-03T17:13:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469417",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@dcoudert](#comment:22):
> > This happens because instead of detecting negative cycle, `Bellman-Ford` is returning negative distances :(
> > ...
> > Any suggestion on what should I do for this?

> 
> 1) Mention the problem in the meta ticket. 

Done.\\

> 2) Check the documentation of 'Johnson_Boost' in case it can be used to detect negative cycles.\\

Yeah it detects negative cycle properly.

But we cant use that in our algorithm. We have to find a way to avoid this, smae problem appears here and in `radius_DHV` in #29715.\\

- 1).I have one solution,  since this methods are restricted to undirected graphs, why dont we exploit that property, since any edge with negative weight will definitely be a cycle. So raise an error in begining while checking for negative edges?

- 2). or We can try the method, I suggested in #29657.

Finally, whichever method we decide, we have to decide what do we want from our method, when `graph contains negative cycle , as well graph is disconnected`.



---

archive/issue_comments_469418.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nTODO:\n\n- Find a reliable way to detect negative cycle, which can be used in our method.\n\n- Make call to `eccentricity` method from `diameter` method with `v = None`.\n\n- Finally, decide default algorithms.",
    "created_at": "2020-06-03T17:16:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469418",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:24" align="right">comment:24</div>

TODO:

- Find a reliable way to detect negative cycle, which can be used in our method.

- Make call to `eccentricity` method from `diameter` method with `v = None`.

- Finally, decide default algorithms.



---

archive/issue_comments_469419.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nIf I understand well, so far we have no algorithm that can be used for weighted undirected graph with at least 1 edge with negative weight. So I propose for this ticket and for #29715 to:\n- raise an error if the graph has an edge with negative weight, and so to remove calls to Bellman-Ford. This way we have a correct implementation for graphs with non-negative weights.\n- Indicate in the todo list of  #29657 that we have this issue. If we are able to find a proper fix, then we will be able to update all methods with this issue at once.",
    "created_at": "2020-06-04T07:34:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469419",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:25" align="right">comment:25</div>

If I understand well, so far we have no algorithm that can be used for weighted undirected graph with at least 1 edge with negative weight. So I propose for this ticket and for #29715 to:
- raise an error if the graph has an edge with negative weight, and so to remove calls to Bellman-Ford. This way we have a correct implementation for graphs with non-negative weights.
- Indicate in the todo list of  #29657 that we have this issue. If we are able to find a proper fix, then we will be able to update all methods with this issue at once.



---

archive/issue_comments_469420.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@dcoudert](#comment:25):\n> If I understand well, so far we have no algorithm that can be used for weighted undirected graph with at least 1 edge with negative weight. \n\nYeah,because a negative edge in Undirected graph will automatically a cycle, because we can move in both direction from that edge and hence a cycle. \nTake a look at this, it might help us.\n[https://stackoverflow.com/questions/14785413/can-we-apply-the-bellman-ford-algorithm-to-an-undirected-graph](https://stackoverflow.com/questions/14785413/can-we-apply-the-bellman-ford-algorithm-to-an-undirected-graph).",
    "created_at": "2020-06-04T08:08:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469420",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@dcoudert](#comment:25):
> If I understand well, so far we have no algorithm that can be used for weighted undirected graph with at least 1 edge with negative weight. 

Yeah,because a negative edge in Undirected graph will automatically a cycle, because we can move in both direction from that edge and hence a cycle. 
Take a look at this, it might help us.
[https://stackoverflow.com/questions/14785413/can-we-apply-the-bellman-ford-algorithm-to-an-undirected-graph](https://stackoverflow.com/questions/14785413/can-we-apply-the-bellman-ford-algorithm-to-an-undirected-graph).



---

archive/issue_comments_469421.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a06bbd64dfa93e3497c7de0a6ff775b3e1d37cc\"><code>9a06bbd</code></a></td><td><code>fixed for negative weights</code></td></tr></table>\n",
    "created_at": "2020-06-04T18:06:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469421",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a06bbd64dfa93e3497c7de0a6ff775b3e1d37cc"><code>9a06bbd</code></a></td><td><code>fixed for negative weights</code></td></tr></table>




---

archive/issue_comments_469422.json:
```json
{
    "body": "Changed commit from **[`0ada585`](https://github.com/sagemath/sagetrac-mirror/commit/0ada5851e8cacae3fcec1325bc9bfb9810c6df13)** to **[`9a06bbd`](https://github.com/sagemath/sagetrac-mirror/commit/9a06bbd64dfa93e3497c7de0a6ff775b3e1d37cc)**",
    "created_at": "2020-06-04T18:06:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469422",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0ada585`](https://github.com/sagemath/sagetrac-mirror/commit/0ada5851e8cacae3fcec1325bc9bfb9810c6df13)** to **[`9a06bbd`](https://github.com/sagemath/sagetrac-mirror/commit/9a06bbd64dfa93e3497c7de0a6ff775b3e1d37cc)**



---

archive/issue_comments_469423.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@dcoudert](#comment:25):\n> If I understand well, so far we have no algorithm that can be used for weighted undirected graph with at least 1 edge with negative weight. So I propose for this ticket and for #29715 to:\n> - raise an error if the graph has an edge with negative weight, and so to remove calls to Bellman-Ford. This way we have a correct implementation for graphs with non-negative weights.\n> - Indicate in the todo list of  #29657 that we have this issue. If we are able to find a proper fix, then we will be able to update all methods with this issue at once.\n\nDone.",
    "created_at": "2020-06-04T18:07:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469423",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@dcoudert](#comment:25):
> If I understand well, so far we have no algorithm that can be used for weighted undirected graph with at least 1 edge with negative weight. So I propose for this ticket and for #29715 to:
> - raise an error if the graph has an edge with negative weight, and so to remove calls to Bellman-Ford. This way we have a correct implementation for graphs with non-negative weights.
> - Indicate in the todo list of  #29657 that we have this issue. If we are able to find a proper fix, then we will be able to update all methods with this issue at once.

Done.



---

archive/issue_events_409297.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-06-04T18:07:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409297"
}
```



---

archive/issue_events_409298.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-06-04T18:07:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409298"
}
```



---

archive/issue_comments_469424.json:
```json
{
    "body": "Changed keywords from **gsoc20** to **gsoc2020**",
    "created_at": "2020-06-05T08:24:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469424",
    "user": "https://github.com/dcoudert"
}
```

Changed keywords from **gsoc20** to **gsoc2020**



---

archive/issue_comments_469425.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nLGTM.",
    "created_at": "2020-06-05T08:24:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469425",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:30" align="right">comment:30</div>

LGTM.



---

archive/issue_events_409299.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-06-05T08:24:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409299"
}
```



---

archive/issue_events_409300.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-06-05T08:24:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409300"
}
```



---

archive/issue_comments_469426.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nMerge conflict",
    "created_at": "2020-06-21T22:42:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469426",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:31" align="right">comment:31</div>

Merge conflict



---

archive/issue_events_409301.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-21T22:42:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409301"
}
```



---

archive/issue_events_409302.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-21T22:42:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409302"
}
```



---

archive/issue_comments_469427.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n@dcoudert, I tried solving the merge conflict using following steps - \n\n1). Firstly, I pulled branch `public/graphs/29744_diameter_DHV` in my local branch `diameter` of develop.\n\n2). Then, on branch `develop`, I ran `git pull` to pull changes from sage git repository.\n\n3). Then, I checked out `diameter` branch and ran `git merge develop`, hoping to get merge conflicts. But It merged cleanly. And is running without any problem.\n\nIs this the right procedure to find merge conflicts?\n\nCan you suggest me something for this?",
    "created_at": "2020-06-22T08:11:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469427",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:32" align="right">comment:32</div>

@dcoudert, I tried solving the merge conflict using following steps - 

1). Firstly, I pulled branch `public/graphs/29744_diameter_DHV` in my local branch `diameter` of develop.

2). Then, on branch `develop`, I ran `git pull` to pull changes from sage git repository.

3). Then, I checked out `diameter` branch and ran `git merge develop`, hoping to get merge conflicts. But It merged cleanly. And is running without any problem.

Is this the right procedure to find merge conflicts?

Can you suggest me something for this?



---

archive/issue_comments_469428.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nWe have to wait for the next beta to see the conflict.\nTickets are accepted and merged into the develop branch for next beta in a certain order.\nThe radius ticket has been merged and it adds the references to Dragan. This might be the issue. So we will have to modify this ticket accordingly. This is for the same reason that we are waiting for the finalization of the eccentricity ticket.",
    "created_at": "2020-06-22T08:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469428",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:33" align="right">comment:33</div>

We have to wait for the next beta to see the conflict.
Tickets are accepted and merged into the develop branch for next beta in a certain order.
The radius ticket has been merged and it adds the references to Dragan. This might be the issue. So we will have to modify this ticket accordingly. This is for the same reason that we are waiting for the finalization of the eccentricity ticket.



---

archive/issue_comments_469429.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d33b7808fac7b8a42411e554a62dcde75734fc69\"><code>d33b780</code></a></td><td><code>trac #29744: fix merge conflicts</code></td></tr></table>\n",
    "created_at": "2020-06-27T17:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469429",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d33b7808fac7b8a42411e554a62dcde75734fc69"><code>d33b780</code></a></td><td><code>trac #29744: fix merge conflicts</code></td></tr></table>




---

archive/issue_comments_469430.json:
```json
{
    "body": "Changed commit from **[`9a06bbd`](https://github.com/sagemath/sagetrac-mirror/commit/9a06bbd64dfa93e3497c7de0a6ff775b3e1d37cc)** to **[`d33b780`](https://github.com/sagemath/sagetrac-mirror/commit/d33b7808fac7b8a42411e554a62dcde75734fc69)**",
    "created_at": "2020-06-27T17:12:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469430",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9a06bbd`](https://github.com/sagemath/sagetrac-mirror/commit/9a06bbd64dfa93e3497c7de0a6ff775b3e1d37cc)** to **[`d33b780`](https://github.com/sagemath/sagetrac-mirror/commit/d33b7808fac7b8a42411e554a62dcde75734fc69)**



---

archive/issue_events_409303.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-06-27T17:14:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409303"
}
```



---

archive/issue_events_409304.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-06-27T17:14:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409304"
}
```



---

archive/issue_comments_469431.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nI fix merge conflict with 9.2.beta2. Please check that everything is working well.",
    "created_at": "2020-06-27T17:14:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469431",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:35" align="right">comment:35</div>

I fix merge conflict with 9.2.beta2. Please check that everything is working well.



---

archive/issue_comments_469432.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@dcoudert](#comment:35):\n> I fix merge conflict with 9.2.beta2. Please check that everything is working well.\n\nI have checked boundary cases. It looks good to me.",
    "created_at": "2020-06-30T07:25:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469432",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@dcoudert](#comment:35):
> I fix merge conflict with 9.2.beta2. Please check that everything is working well.

I have checked boundary cases. It looks good to me.



---

archive/issue_events_409305.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-06-30T08:32:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409305"
}
```



---

archive/issue_events_409306.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-06-30T08:32:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409306"
}
```



---

archive/issue_comments_469433.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nLGTM.\n\nthe pycodestyle warnings reported by the patchbot are fixed in #29804",
    "created_at": "2020-06-30T08:32:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469433",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:37" align="right">comment:37</div>

LGTM.

the pycodestyle warnings reported by the patchbot are fixed in #29804



---

archive/issue_events_409307.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-04T19:13:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409307"
}
```



---

archive/issue_events_409308.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-04T19:13:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409308"
}
```



---

archive/issue_comments_469434.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nMerge conflict",
    "created_at": "2020-07-04T19:13:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469434",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:38" align="right">comment:38</div>

Merge conflict



---

archive/issue_comments_469435.json:
```json
{
    "body": "Changed commit from **[`d33b780`](https://github.com/sagemath/sagetrac-mirror/commit/d33b7808fac7b8a42411e554a62dcde75734fc69)** to **[`f2557a8`](https://github.com/sagemath/sagetrac-mirror/commit/f2557a81df67ef5df8133c5784891fe4ee927e35)**",
    "created_at": "2020-07-08T07:08:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469435",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d33b780`](https://github.com/sagemath/sagetrac-mirror/commit/d33b7808fac7b8a42411e554a62dcde75734fc69)** to **[`f2557a8`](https://github.com/sagemath/sagetrac-mirror/commit/f2557a81df67ef5df8133c5784891fe4ee927e35)**



---

archive/issue_comments_469436.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95d669a09c3272680c08c5029018ec069643a71f\"><code>95d669a</code></a></td><td><code>Merge branch 'public/graphs/29744_diameter_DHV' of git://trac.sagemath.org/sage into diameter</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2557a81df67ef5df8133c5784891fe4ee927e35\"><code>f2557a8</code></a></td><td><code>minor documentation change</code></td></tr></table>\n",
    "created_at": "2020-07-08T07:08:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469436",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95d669a09c3272680c08c5029018ec069643a71f"><code>95d669a</code></a></td><td><code>Merge branch 'public/graphs/29744_diameter_DHV' of git://trac.sagemath.org/sage into diameter</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2557a81df67ef5df8133c5784891fe4ee927e35"><code>f2557a8</code></a></td><td><code>minor documentation change</code></td></tr></table>




---

archive/issue_comments_469437.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@sagetrac-git](#comment:39):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95d669a09c3272680c08c5029018ec069643a71f\"><code>95d669a</code></a></td><td><code>Merge branch 'public/graphs/29744_diameter_DHV' of git://trac.sagemath.org/sage into diameter</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2557a81df67ef5df8133c5784891fe4ee927e35\"><code>f2557a8</code></a></td><td><code>minor documentation change</code></td></tr></table>\n\nDone some minor change in documentation.\n\nMerge conflict still to be solved in next release",
    "created_at": "2020-07-08T07:09:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469437",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@sagetrac-git](#comment:39):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95d669a09c3272680c08c5029018ec069643a71f"><code>95d669a</code></a></td><td><code>Merge branch 'public/graphs/29744_diameter_DHV' of git://trac.sagemath.org/sage into diameter</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2557a81df67ef5df8133c5784891fe4ee927e35"><code>f2557a8</code></a></td><td><code>minor documentation change</code></td></tr></table>

Done some minor change in documentation.

Merge conflict still to be solved in next release



---

archive/issue_comments_469438.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nOK, let's wait for next beta to see the issue.",
    "created_at": "2020-07-08T07:18:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469438",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:41" align="right">comment:41</div>

OK, let's wait for next beta to see the issue.



---

archive/issue_comments_469439.json:
```json
{
    "body": "Changed commit from **[`f2557a8`](https://github.com/sagemath/sagetrac-mirror/commit/f2557a81df67ef5df8133c5784891fe4ee927e35)** to **[`97c2b1b`](https://github.com/sagemath/sagetrac-mirror/commit/97c2b1bf6422f9b1f46d460cce048bb25353c78a)**",
    "created_at": "2020-07-14T16:05:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469439",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f2557a8`](https://github.com/sagemath/sagetrac-mirror/commit/f2557a81df67ef5df8133c5784891fe4ee927e35)** to **[`97c2b1b`](https://github.com/sagemath/sagetrac-mirror/commit/97c2b1bf6422f9b1f46d460cce048bb25353c78a)**



---

archive/issue_comments_469440.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97c2b1bf6422f9b1f46d460cce048bb25353c78a\"><code>97c2b1b</code></a></td><td><code>fixed merge conflict</code></td></tr></table>\n",
    "created_at": "2020-07-14T16:05:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469440",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97c2b1bf6422f9b1f46d460cce048bb25353c78a"><code>97c2b1b</code></a></td><td><code>fixed merge conflict</code></td></tr></table>




---

archive/issue_comments_469441.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@sagetrac-git](#comment:42):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97c2b1bf6422f9b1f46d460cce048bb25353c78a\"><code>97c2b1b</code></a></td><td><code>fixed merge conflict</code></td></tr></table>\n\nFixed merge conflict with 9.2beta5",
    "created_at": "2020-07-14T16:06:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469441",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@sagetrac-git](#comment:42):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97c2b1bf6422f9b1f46d460cce048bb25353c78a"><code>97c2b1b</code></a></td><td><code>fixed merge conflict</code></td></tr></table>

Fixed merge conflict with 9.2beta5



---

archive/issue_events_409309.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-07-14T16:06:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409309"
}
```



---

archive/issue_events_409310.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-07-14T16:06:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409310"
}
```



---

archive/issue_comments_469442.json:
```json
{
    "body": "Changed commit from **[`97c2b1b`](https://github.com/sagemath/sagetrac-mirror/commit/97c2b1bf6422f9b1f46d460cce048bb25353c78a)** to **[`3eed584`](https://github.com/sagemath/sagetrac-mirror/commit/3eed5849912893e1e9d6e8ec9ca0f1400091369b)**",
    "created_at": "2020-07-15T08:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469442",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`97c2b1b`](https://github.com/sagemath/sagetrac-mirror/commit/97c2b1bf6422f9b1f46d460cce048bb25353c78a)** to **[`3eed584`](https://github.com/sagemath/sagetrac-mirror/commit/3eed5849912893e1e9d6e8ec9ca0f1400091369b)**



---

archive/issue_comments_469443.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3eed5849912893e1e9d6e8ec9ca0f1400091369b\"><code>3eed584</code></a></td><td><code>trac #29744: review commit</code></td></tr></table>\n",
    "created_at": "2020-07-15T08:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469443",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3eed5849912893e1e9d6e8ec9ca0f1400091369b"><code>3eed584</code></a></td><td><code>trac #29744: review commit</code></td></tr></table>




---

archive/issue_comments_469444.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nI did a minor change because in ticket #30145 I'm preparing the deprecation of `edge_iterator`. \n\nLGTM",
    "created_at": "2020-07-15T08:22:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469444",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:46" align="right">comment:46</div>

I did a minor change because in ticket #30145 I'm preparing the deprecation of `edge_iterator`. 

LGTM



---

archive/issue_events_409311.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-07-15T08:22:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409311"
}
```



---

archive/issue_events_409312.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-07-15T08:22:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409312"
}
```



---

archive/issue_comments_469445.json:
```json
{
    "body": "Changed branch from **[public/graphs/29744_diameter_DHV](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/29744_diameter_DHV)** to **[`3eed584`](https://github.com/sagemath/sagetrac-mirror/commit/3eed5849912893e1e9d6e8ec9ca0f1400091369b)**",
    "created_at": "2020-07-19T07:24:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29744#issuecomment-469445",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/29744_diameter_DHV](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/29744_diameter_DHV)** to **[`3eed584`](https://github.com/sagemath/sagetrac-mirror/commit/3eed5849912893e1e9d6e8ec9ca0f1400091369b)**



---

archive/issue_events_409313.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-19T07:24:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409313"
}
```



---

archive/issue_events_409314.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "02147960344fb1a1f062e224e0228bb140e52e72",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-07-19T07:24:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29744",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29744#event-409314"
}
```
