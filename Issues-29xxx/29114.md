# Issue 29114: Only ./bootstrap should glob build/pkgs

archive/issues_028877.json:
```json
{
    "assignees": [],
    "body": "Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.\n\nIn this ticket, we move this code into `bootstrap`, making the generated `configure` script more static, more straightforward to read and debug, and slightly faster because less work (and file system accesses) is done at the run time of `configure`.\n\nBefore:\n\n```\n$ time ./configure -q --without-system-ntl\nreal\t0m40.860s\nuser\t0m24.260s\nsys\t0m16.266s\n```\n\nAfter:\n\n```\nreal\t0m32.485s\nuser\t0m20.773s\nsys\t0m10.462s\n```\n\nThere are no changes in functionality.\n\nWe make a cosmetic fix to the `./configure --help` output, fixing [#33345 comment:20](https://github.com/sagemath/sage/issues/33345#comment:20). \n\nEven after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.\n\n\nCC:  @dimpase @embray @orlitzky @jhpalmieri\n\nBranch/Commit: **[`e7b8c3b`](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)**\n\nReviewer: **Michael Orlitzky**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **build: configure**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29114_\n\n",
    "closed_at": "2022-03-01T21:31:38Z",
    "created_at": "2020-01-30T20:33:01Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Only ./bootstrap should glob build/pkgs",
    "type": "issue",
    "updated_at": "2022-03-01T21:31:38Z",
    "url": "https://github.com/sagemath/sage/issues/29114",
    "user": "https://github.com/mkoeppe"
}
```
Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.

In this ticket, we move this code into `bootstrap`, making the generated `configure` script more static, more straightforward to read and debug, and slightly faster because less work (and file system accesses) is done at the run time of `configure`.

Before:

```
$ time ./configure -q --without-system-ntl
real	0m40.860s
user	0m24.260s
sys	0m16.266s
```

After:

```
real	0m32.485s
user	0m20.773s
sys	0m10.462s
```

There are no changes in functionality.

We make a cosmetic fix to the `./configure --help` output, fixing [#33345 comment:20](https://github.com/sagemath/sage/issues/33345#comment:20). 

Even after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.


CC:  @dimpase @embray @orlitzky @jhpalmieri

Branch/Commit: **[`e7b8c3b`](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)**

Reviewer: **Michael Orlitzky**

Author: **Matthias Koeppe**

Component: **build: configure**

_Issue created by migration from https://trac.sagemath.org/ticket/29114_





---

archive/issue_events_397145.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-30T20:33:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397145"
}
```



---

archive/issue_events_397146.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-30T20:33:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
    "label_color": "0000b0",
    "label_name": "c: build: configure",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397146"
}
```



---

archive/issue_events_397147.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-30T20:33:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397147"
}
```



---

archive/issue_events_397148.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-30T20:33:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397148"
}
```



---

archive/issue_comments_456165.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.\n This should be streamlined. \n \n+Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread).\n+\n+\n``````\n",
    "created_at": "2020-01-30T23:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456165",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.
 This should be streamlined. 
 
+Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread).
+
+
``````




---

archive/issue_events_397149.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-31T00:24:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397149"
}
```



---

archive/issue_events_397150.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-31T00:24:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397150"
}
```



---

archive/issue_comments_456166.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-01-31T00:44:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456166",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_456167.json:
```json
{
    "body": "Dependencies: **#28095**",
    "created_at": "2020-01-31T01:08:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456167",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#28095**



---

archive/issue_comments_456168.json:
```json
{
    "body": "Branch: **[u/mkoeppe/no-spkg-globbing-in-configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/no-spkg-globbing-in-configure)**",
    "created_at": "2020-01-31T01:12:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456168",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/no-spkg-globbing-in-configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/no-spkg-globbing-in-configure)**



---

archive/issue_comments_456169.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nBranch is on top of #28095.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf5607e42f491164219c464ce78c260157b403b8\"><code>cf5607e</code></a></td><td><code>Add configure options '--enable-SPKG', --disable-SPKG' for optional/experimental SPKG</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4675d1fa110259361002d3f629e9975adec1dc9\"><code>e4675d1</code></a></td><td><code>Actually implement --enable-SPKG and --disable-SPKG</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3e0e47f3159b1410af901a4a50573cafffd2fe1\"><code>a3e0e47</code></a></td><td><code>Change type of gmp, mpir to 'standard' (they are mutually exclusive standard packages)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d\"><code>4ed7b05</code></a></td><td><code>Fix indentation of '--with-mp=' options in configure --help</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82ee84d6814f254dd41ff133558627f947dbf635\"><code>82ee84d</code></a></td><td><code>sage_spkg_enable.m4: Popdef what wass pushdef-ed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a\"><code>f7a84e0</code></a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>\n",
    "created_at": "2020-01-31T01:13:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456169",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Branch is on top of #28095.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf5607e42f491164219c464ce78c260157b403b8"><code>cf5607e</code></a></td><td><code>Add configure options '--enable-SPKG', --disable-SPKG' for optional/experimental SPKG</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4675d1fa110259361002d3f629e9975adec1dc9"><code>e4675d1</code></a></td><td><code>Actually implement --enable-SPKG and --disable-SPKG</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3e0e47f3159b1410af901a4a50573cafffd2fe1"><code>a3e0e47</code></a></td><td><code>Change type of gmp, mpir to 'standard' (they are mutually exclusive standard packages)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d"><code>4ed7b05</code></a></td><td><code>Fix indentation of '--with-mp=' options in configure --help</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82ee84d6814f254dd41ff133558627f947dbf635"><code>82ee84d</code></a></td><td><code>sage_spkg_enable.m4: Popdef what wass pushdef-ed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a"><code>f7a84e0</code></a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>




---

archive/issue_comments_456170.json:
```json
{
    "body": "Commit: **[`f7a84e0`](https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a)**",
    "created_at": "2020-01-31T01:13:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456170",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`f7a84e0`](https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a)**



---

archive/issue_events_397151.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-31T01:13:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397151"
}
```



---

archive/issue_comments_456171.json:
```json
{
    "body": "Changed commit from **[`f7a84e0`](https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a)** to **[`355d147`](https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674)**",
    "created_at": "2020-01-31T01:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456171",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f7a84e0`](https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a)** to **[`355d147`](https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674)**



---

archive/issue_comments_456172.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ec6413280dd1e8e28bb7c7d329782458b0cd0bc\"><code>6ec6413</code></a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/29114/no-spkg-globbing-in-configure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9295a7429b05054de8b026bb4ffda4278426990d\"><code>9295a74</code></a></td><td><code>sage_spkg_enable.m4: Popdef what wass pushdef-ed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674\"><code>355d147</code></a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>\n",
    "created_at": "2020-01-31T01:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456172",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ec6413280dd1e8e28bb7c7d329782458b0cd0bc"><code>6ec6413</code></a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/29114/no-spkg-globbing-in-configure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9295a7429b05054de8b026bb4ffda4278426990d"><code>9295a74</code></a></td><td><code>sage_spkg_enable.m4: Popdef what wass pushdef-ed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674"><code>355d147</code></a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>




---

archive/issue_comments_456173.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8\"><code>bbd6521</code></a></td><td><code>Makefile [configure]: also depend on build/pkgs/type</code></td></tr></table>\n",
    "created_at": "2020-01-31T02:16:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456173",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8"><code>bbd6521</code></a></td><td><code>Makefile [configure]: also depend on build/pkgs/type</code></td></tr></table>




---

archive/issue_comments_456174.json:
```json
{
    "body": "Changed commit from **[`355d147`](https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674)** to **[`bbd6521`](https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8)**",
    "created_at": "2020-01-31T02:16:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456174",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`355d147`](https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674)** to **[`bbd6521`](https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8)**



---

archive/issue_comments_456175.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nCould you explain what \"glob\" means here?",
    "created_at": "2020-01-31T09:33:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456175",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

Could you explain what "glob" means here?



---

archive/issue_comments_456176.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis reminds me of #27373 - which becomes obsolete as soon as this ticket and #29113 is done.",
    "created_at": "2020-01-31T09:48:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456176",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

This reminds me of #27373 - which becomes obsolete as soon as this ticket and #29113 is done.



---

archive/issue_comments_456177.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIt seems this is adding a bunch of previously unnecessary complication only because #29038, which I strongly objected to, was merged.  I didn't step in then because I was busy with other things.  Can we please roll back #29038 instead?  I'm absolute convinced there's no need for it.",
    "created_at": "2020-01-31T11:24:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456177",
    "user": "https://github.com/embray"
}
```

<div id="comment:11" align="right">comment:11</div>

It seems this is adding a bunch of previously unnecessary complication only because #29038, which I strongly objected to, was merged.  I didn't step in then because I was busy with other things.  Can we please roll back #29038 instead?  I'm absolute convinced there's no need for it.



---

archive/issue_events_397152.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-31T11:26:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397152"
}
```



---

archive/issue_events_397153.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-31T11:26:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397153"
}
```



---

archive/issue_comments_456178.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSee #29118 for an alternative proposal.",
    "created_at": "2020-01-31T11:35:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456178",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">comment:13</div>

See #29118 for an alternative proposal.



---

archive/issue_events_397154.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-01-31T11:39:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397154"
}
```



---

archive/issue_events_397155.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-01-31T11:39:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397155"
}
```



---

archive/issue_comments_456179.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI think we should progress, even if the route is not optimal, and Matthias has a lot of time for working on the build system now. \n\nI hate to see ./configure running many times as I launch make, it really slows working on build system down, and I hope #29113 will happen soon.",
    "created_at": "2020-01-31T11:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456179",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

I think we should progress, even if the route is not optimal, and Matthias has a lot of time for working on the build system now. 

I hate to see ./configure running many times as I launch make, it really slows working on build system down, and I hope #29113 will happen soon.



---

archive/issue_comments_456180.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI should add, some of the changes in this ticket look reasonable.  But it's mixed up with a bunch of other stuff (the way this is built on top of #28095 in particular is confusing).  I'd like to start with #29118 and then see some fixes to individual bugs that predate #29038 .",
    "created_at": "2020-01-31T11:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456180",
    "user": "https://github.com/embray"
}
```

<div id="comment:15" align="right">comment:15</div>

I should add, some of the changes in this ticket look reasonable.  But it's mixed up with a bunch of other stuff (the way this is built on top of #28095 in particular is confusing).  I'd like to start with #29118 and then see some fixes to individual bugs that predate #29038 .



---

archive/issue_comments_456181.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@dimpase](#comment:14):\n> I think we should progress, even if the route is not optimal, and Matthias has a lot of time for working on the build system now. \n\nProgress on what though?  I don't think you can \"progress\" on unsolid footing.  I should note that part of the motivation behind #29038 is to enable the approach in #27824 which I also think is overcomplicated.\n\nI don't think we should be making complicated changes on top of complicated changes to enable even more complicated changes.  I hate to sound like Jeroen here because I've been on the other side of disagreements like this with him.  But he'd probably be saying the same if he were here and I'd agree this time.\n\nI would like to know what the bigger picture is to all this before making changes that don't seem well-motivated.  Don't commit a sunk cost fallacy especially when it's relatively early...",
    "created_at": "2020-01-31T11:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456181",
    "user": "https://github.com/embray"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@dimpase](#comment:14):
> I think we should progress, even if the route is not optimal, and Matthias has a lot of time for working on the build system now. 

Progress on what though?  I don't think you can "progress" on unsolid footing.  I should note that part of the motivation behind #29038 is to enable the approach in #27824 which I also think is overcomplicated.

I don't think we should be making complicated changes on top of complicated changes to enable even more complicated changes.  I hate to sound like Jeroen here because I've been on the other side of disagreements like this with him.  But he'd probably be saying the same if he were here and I'd agree this time.

I would like to know what the bigger picture is to all this before making changes that don't seem well-motivated.  Don't commit a sunk cost fallacy especially when it's relatively early...



---

archive/issue_comments_456182.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nIf you want to talk about simplification, why don't we just drop `sage -i/-f` instead of trying to keep this awful hack - something I proposed a year ago, and Jeroen objected...",
    "created_at": "2020-01-31T12:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456182",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

If you want to talk about simplification, why don't we just drop `sage -i/-f` instead of trying to keep this awful hack - something I proposed a year ago, and Jeroen objected...



---

archive/issue_comments_456183.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,8 @@\n Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.\n This should be streamlined. \n \n-Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread).\n+Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). \n+While #29120 provides a quick workaround, the present ticket has the proper fix.\n \n \n+\n``````\n",
    "created_at": "2020-01-31T14:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456183",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,8 @@
 Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.
 This should be streamlined. 
 
-Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread).
+Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). 
+While #29120 provides a quick workaround, the present ticket has the proper fix.
 
 
+
``````




---

archive/issue_comments_456184.json:
```json
{
    "body": "Changed dependencies from **#28095** to **#28095, #29120**",
    "created_at": "2020-01-31T14:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456184",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#28095** to **#28095, #29120**



---

archive/issue_comments_456185.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.\n+Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.\n This should be streamlined. \n \n Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). \n``````\n",
    "created_at": "2020-01-31T14:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456185",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.
+Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.
 This should be streamlined. 
 
 Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). 
``````




---

archive/issue_comments_456186.json:
```json
{
    "body": "Changed commit from **[`bbd6521`](https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8)** to **[`7214ed7`](https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0)**",
    "created_at": "2020-01-31T14:43:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456186",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bbd6521`](https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8)** to **[`7214ed7`](https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0)**



---

archive/issue_comments_456187.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f193bfcd4d38917f1a4b24e6c7b3e5541344054\"><code>1f193bf</code></a></td><td><code>Issue only a warning, not an error, if there are stray files in build/pkgs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a04733a416e600ac226d3b09b0c6866d3a0d3721\"><code>a04733a</code></a></td><td><code>Merge branch 't/29120/one-line-fix-configure-too-sensitive-to-stray-files-in-build-pkgs' into t/29114/no-spkg-globbing-in-configure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25a55e03505a0ff3e630cff472770ab3fc00c84f\"><code>25a55e0</code></a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0\"><code>7214ed7</code></a></td><td><code>Makefile [configure]: also depend on build/pkgs/type</code></td></tr></table>\n",
    "created_at": "2020-01-31T14:43:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456187",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f193bfcd4d38917f1a4b24e6c7b3e5541344054"><code>1f193bf</code></a></td><td><code>Issue only a warning, not an error, if there are stray files in build/pkgs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a04733a416e600ac226d3b09b0c6866d3a0d3721"><code>a04733a</code></a></td><td><code>Merge branch 't/29120/one-line-fix-configure-too-sensitive-to-stray-files-in-build-pkgs' into t/29114/no-spkg-globbing-in-configure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25a55e03505a0ff3e630cff472770ab3fc00c84f"><code>25a55e0</code></a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0"><code>7214ed7</code></a></td><td><code>Makefile [configure]: also depend on build/pkgs/type</code></td></tr></table>




---

archive/issue_comments_456188.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI've rebased on top of #29120, which has the \"hot fix\", which may be easier to review and should go into the next beta.\n\nThe present ticket, #29114, is not so urgent.",
    "created_at": "2020-01-31T14:45:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456188",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

I've rebased on top of #29120, which has the "hot fix", which may be easier to review and should go into the next beta.

The present ticket, #29114, is not so urgent.



---

archive/issue_events_397156.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-31T15:36:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397156"
}
```



---

archive/issue_events_397157.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-31T15:36:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397157"
}
```



---

archive/issue_events_397158.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-16T01:53:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397158"
}
```



---

archive/issue_events_397159.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-16T01:53:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397159"
}
```



---

archive/issue_comments_456189.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nSince this list changes maybe once a year, we could just write it into configure.ac and avoid that part of the bootstrap process.",
    "created_at": "2020-03-16T15:00:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456189",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:25" align="right">comment:25</div>

Since this list changes maybe once a year, we could just write it into configure.ac and avoid that part of the bootstrap process.



---

archive/issue_comments_456190.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI think that may be too radical a change (although I am personally in favor of it - agreeing with the autotools policies) - Sage has traditionally used source discovery instead of listing files explicitly.  That's why in this ticket I just want to put the source discovery for build/pkgs into 1 script",
    "created_at": "2020-03-16T15:43:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456190",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

I think that may be too radical a change (although I am personally in favor of it - agreeing with the autotools policies) - Sage has traditionally used source discovery instead of listing files explicitly.  That's why in this ticket I just want to put the source discovery for build/pkgs into 1 script



---

archive/issue_events_397160.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:04:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397160"
}
```



---

archive/issue_events_397161.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:04:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397161"
}
```



---

archive/issue_events_397162.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397162"
}
```



---

archive/issue_events_397163.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397163"
}
```



---

archive/issue_events_397164.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397164"
}
```



---

archive/issue_events_397165.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397165"
}
```



---

archive/issue_comments_456191.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456191",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">comment:29</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_397166.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-12T03:41:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397166"
}
```



---

archive/issue_events_397167.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-12T03:41:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397167"
}
```



---

archive/issue_comments_456192.json:
```json
{
    "body": "Changed commit from **[`7214ed7`](https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0)** to **[`0f59e29`](https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285)**",
    "created_at": "2022-02-17T21:39:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456192",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7214ed7`](https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0)** to **[`0f59e29`](https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285)**



---

archive/issue_comments_456193.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285\"><code>0f59e29</code></a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>\n",
    "created_at": "2022-02-17T21:39:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456193",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285"><code>0f59e29</code></a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>




---

archive/issue_events_397168.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-17T21:40:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397168"
}
```



---

archive/issue_events_397169.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-17T21:40:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397169"
}
```



---

archive/issue_comments_456194.json:
```json
{
    "body": "Changed dependencies from **#28095, #29120** to none",
    "created_at": "2022-02-17T21:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456194",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#28095, #29120** to none



---

archive/issue_comments_456195.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,3 @@\n Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.\n This should be streamlined. \n \n-Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). \n-While #29120 provides a quick workaround, the present ticket has the proper fix.\n-\n-\n-\n``````\n",
    "created_at": "2022-02-17T21:42:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456195",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,3 @@
 Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.
 This should be streamlined. 
 
-Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). 
-While #29120 provides a quick workaround, the present ticket has the proper fix.
-
-
-
``````




---

archive/issue_comments_456196.json:
```json
{
    "body": "Changed commit from **[`0f59e29`](https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285)** to **[`c5c6caa`](https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3)**",
    "created_at": "2022-02-17T22:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456196",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0f59e29`](https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285)** to **[`c5c6caa`](https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3)**



---

archive/issue_comments_456197.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a34f10b5c446dc5138c333a2b14acc8f7e91c027\"><code>a34f10b</code></a></td><td><code>bootstrap, m4/sage_spkg_collect.m4: Pass SPKG_TYPE to SAGE_SPKG</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/025eb95a6506557331e3fd22593466f29090ce7c\"><code>025eb95</code></a></td><td><code>bootstrap: Improve the SPKG.rst title parser</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58134732c00611ddf31900bb5c977aafcf959919\"><code>5813473</code></a></td><td><code>bootstrap: First SAGE_SPKG_CONFIGURE, then SAGE_SPKG_FINALIZE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3\"><code>c5c6caa</code></a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_COLLECT_INIT): Rename from SAGE_SPKG_INIT</code></td></tr></table>\n",
    "created_at": "2022-02-17T22:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456197",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a34f10b5c446dc5138c333a2b14acc8f7e91c027"><code>a34f10b</code></a></td><td><code>bootstrap, m4/sage_spkg_collect.m4: Pass SPKG_TYPE to SAGE_SPKG</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/025eb95a6506557331e3fd22593466f29090ce7c"><code>025eb95</code></a></td><td><code>bootstrap: Improve the SPKG.rst title parser</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58134732c00611ddf31900bb5c977aafcf959919"><code>5813473</code></a></td><td><code>bootstrap: First SAGE_SPKG_CONFIGURE, then SAGE_SPKG_FINALIZE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3"><code>c5c6caa</code></a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_COLLECT_INIT): Rename from SAGE_SPKG_INIT</code></td></tr></table>




---

archive/issue_comments_456198.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1\"><code>54974a3</code></a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_COLLECT_INIT): Rename from SAGE_SPKG_INIT</code></td></tr></table>\n",
    "created_at": "2022-02-17T22:35:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456198",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1"><code>54974a3</code></a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_COLLECT_INIT): Rename from SAGE_SPKG_INIT</code></td></tr></table>




---

archive/issue_comments_456199.json:
```json
{
    "body": "Changed commit from **[`c5c6caa`](https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3)** to **[`54974a3`](https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1)**",
    "created_at": "2022-02-17T22:35:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456199",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c5c6caa`](https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3)** to **[`54974a3`](https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1)**



---

archive/issue_comments_456200.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2eba1f41f942bd8143c6e82e9a8ab8c9e7e1e5ea\"><code>2eba1f4</code></a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_FINALIZE): Make SPKG_NAME, SPKG_TYPE m4 definitions, not shell variables</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e9c638639fd612e7554c10b77ec4cc7bcfc3fa0\"><code>1e9c638</code></a></td><td><code>m4/sage_spkg_collect.m4: Distinguish cases of SPKG_TYPE at macroexpansion time, not runtime</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7\"><code>7310bd5</code></a></td><td><code>bootstrap: First SAGE_SPKG_CONFIGURE, then SAGE_SPKG_FINALIZE (fixup)</code></td></tr></table>\n",
    "created_at": "2022-02-17T23:23:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456200",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2eba1f41f942bd8143c6e82e9a8ab8c9e7e1e5ea"><code>2eba1f4</code></a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_FINALIZE): Make SPKG_NAME, SPKG_TYPE m4 definitions, not shell variables</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e9c638639fd612e7554c10b77ec4cc7bcfc3fa0"><code>1e9c638</code></a></td><td><code>m4/sage_spkg_collect.m4: Distinguish cases of SPKG_TYPE at macroexpansion time, not runtime</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7"><code>7310bd5</code></a></td><td><code>bootstrap: First SAGE_SPKG_CONFIGURE, then SAGE_SPKG_FINALIZE (fixup)</code></td></tr></table>




---

archive/issue_comments_456201.json:
```json
{
    "body": "Changed commit from **[`54974a3`](https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1)** to **[`7310bd5`](https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7)**",
    "created_at": "2022-02-17T23:23:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456201",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`54974a3`](https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1)** to **[`7310bd5`](https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7)**



---

archive/issue_comments_456202.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded\"><code>1eceb52</code></a></td><td><code>bootstrap: Determine SPKG_SOURCE here, pass it as a macro argument to SAGE_SPKG_FINALIZE</code></td></tr></table>\n",
    "created_at": "2022-02-17T23:39:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456202",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded"><code>1eceb52</code></a></td><td><code>bootstrap: Determine SPKG_SOURCE here, pass it as a macro argument to SAGE_SPKG_FINALIZE</code></td></tr></table>




---

archive/issue_comments_456203.json:
```json
{
    "body": "Changed commit from **[`7310bd5`](https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7)** to **[`1eceb52`](https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded)**",
    "created_at": "2022-02-17T23:39:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456203",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7310bd5`](https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7)** to **[`1eceb52`](https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded)**



---

archive/issue_comments_456204.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a013698bb960294f33aaff9f340cb467be397559\"><code>a013698</code></a></td><td><code>m4/sage_spkg_collect.m4: Distinguish underscore packages at macroexpansion time</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8421854f2d1908be27f0581c1dc7d4ecb16653e7\"><code>8421854</code></a></td><td><code>m4/sage_spkg_collect.m4: Handle in_sdist at macroexpansion time</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629\"><code>7115a72</code></a></td><td><code>m4/sage_spkg_collect.m4: Suppress some whitespace in the macroexpansion</code></td></tr></table>\n",
    "created_at": "2022-02-18T00:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456204",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a013698bb960294f33aaff9f340cb467be397559"><code>a013698</code></a></td><td><code>m4/sage_spkg_collect.m4: Distinguish underscore packages at macroexpansion time</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8421854f2d1908be27f0581c1dc7d4ecb16653e7"><code>8421854</code></a></td><td><code>m4/sage_spkg_collect.m4: Handle in_sdist at macroexpansion time</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629"><code>7115a72</code></a></td><td><code>m4/sage_spkg_collect.m4: Suppress some whitespace in the macroexpansion</code></td></tr></table>




---

archive/issue_comments_456205.json:
```json
{
    "body": "Changed commit from **[`1eceb52`](https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded)** to **[`7115a72`](https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629)**",
    "created_at": "2022-02-18T00:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456205",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1eceb52`](https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded)** to **[`7115a72`](https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629)**



---

archive/issue_comments_456206.json:
```json
{
    "body": "Changed commit from **[`7115a72`](https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629)** to **[`be824d6`](https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2)**",
    "created_at": "2022-02-18T01:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456206",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7115a72`](https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629)** to **[`be824d6`](https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2)**



---

archive/issue_comments_456207.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35fa89f40fadd69862d6e37fb41f3c3f6577569e\"><code>35fa89f</code></a></td><td><code>bootstrap: Determine SPKG_TREE_VAR here, pass it as a macro argument to SAGE_SPKG_FINALIZE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8070dd970431fa6625d962a50ae50bccaae5af66\"><code>8070dd9</code></a></td><td><code>m4/sage_spkg_collect.m4: Make want_spkg a macro definition only</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2\"><code>be824d6</code></a></td><td><code>m4/sage_spkg_collect.m4: Replace read from requirements.txt by use of macro argument</code></td></tr></table>\n",
    "created_at": "2022-02-18T01:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456207",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35fa89f40fadd69862d6e37fb41f3c3f6577569e"><code>35fa89f</code></a></td><td><code>bootstrap: Determine SPKG_TREE_VAR here, pass it as a macro argument to SAGE_SPKG_FINALIZE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8070dd970431fa6625d962a50ae50bccaae5af66"><code>8070dd9</code></a></td><td><code>m4/sage_spkg_collect.m4: Make want_spkg a macro definition only</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2"><code>be824d6</code></a></td><td><code>m4/sage_spkg_collect.m4: Replace read from requirements.txt by use of macro argument</code></td></tr></table>




---

archive/issue_comments_456208.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef\"><code>e796fcf</code></a></td><td><code>m4/sage_spkg_enable.m4: Do not AC_REQUIRE([SAGE_SPKG_COLLECT_INIT]) here</code></td></tr></table>\n",
    "created_at": "2022-02-18T02:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456208",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef"><code>e796fcf</code></a></td><td><code>m4/sage_spkg_enable.m4: Do not AC_REQUIRE([SAGE_SPKG_COLLECT_INIT]) here</code></td></tr></table>




---

archive/issue_comments_456209.json:
```json
{
    "body": "Changed commit from **[`be824d6`](https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2)** to **[`e796fcf`](https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef)**",
    "created_at": "2022-02-18T02:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456209",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`be824d6`](https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2)** to **[`e796fcf`](https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef)**



---

archive/issue_events_397170.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-18T02:19:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397170"
}
```



---

archive/issue_events_397171.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-18T02:19:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397171"
}
```



---

archive/issue_comments_456210.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,23 @@\n Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.\n-This should be streamlined. \n \n+In this ticket, we move this code into `bootstrap`, making the generated `configure` script more static, more straightforward to read and debug, and slightly faster because less work (and file system accesses) is done at the run time of `configure`.\n+\n+Before:\n+\n+```\n+$ time ./configure -q --without-system-ntl\n+real\t0m40.860s\n+user\t0m24.260s\n+sys\t0m16.266s\n+```\n+\n+After:\n+\n+```\n+real\t0m32.485s\n+user\t0m20.773s\n+sys\t0m10.462s\n+```\n+\n+There are no changes in functionality.\n+\n``````\n",
    "created_at": "2022-02-18T02:19:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456210",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,23 @@
 Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.
-This should be streamlined. 
 
+In this ticket, we move this code into `bootstrap`, making the generated `configure` script more static, more straightforward to read and debug, and slightly faster because less work (and file system accesses) is done at the run time of `configure`.
+
+Before:
+
+```
+$ time ./configure -q --without-system-ntl
+real	0m40.860s
+user	0m24.260s
+sys	0m16.266s
+```
+
+After:
+
+```
+real	0m32.485s
+user	0m20.773s
+sys	0m10.462s
+```
+
+There are no changes in functionality.
+
``````




---

archive/issue_comments_456211.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9\"><code>a6d70c1</code></a></td><td><code>m4/sage_spkg_collect.m4: Make SAGE_NEED_SYSTEM_PACKAGES_VAR a macro</code></td></tr></table>\n",
    "created_at": "2022-02-18T02:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456211",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9"><code>a6d70c1</code></a></td><td><code>m4/sage_spkg_collect.m4: Make SAGE_NEED_SYSTEM_PACKAGES_VAR a macro</code></td></tr></table>




---

archive/issue_comments_456212.json:
```json
{
    "body": "Changed commit from **[`e796fcf`](https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef)** to **[`a6d70c1`](https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9)**",
    "created_at": "2022-02-18T02:57:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456212",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e796fcf`](https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef)** to **[`a6d70c1`](https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9)**



---

archive/issue_comments_456213.json:
```json
{
    "body": "Changed commit from **[`a6d70c1`](https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9)** to **[`e7b8c3b`](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)**",
    "created_at": "2022-02-18T04:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456213",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a6d70c1`](https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9)** to **[`e7b8c3b`](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)**



---

archive/issue_comments_456214.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d7788455a320e39a19b81176626ec529ef9e00b\"><code>7d77884</code></a></td><td><code>bootstrap: More \"installing...\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b04496822ae41aa4f4c704d4d05c9d35d636d07\"><code>3b04496</code></a></td><td><code>bootstrap: Consolidate output redirections</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8\"><code>e7b8c3b</code></a></td><td><code>m4/sage_spkg_collect.m4: Add missing m4_popdef</code></td></tr></table>\n",
    "created_at": "2022-02-18T04:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456214",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d7788455a320e39a19b81176626ec529ef9e00b"><code>7d77884</code></a></td><td><code>bootstrap: More "installing..."</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b04496822ae41aa4f4c704d4d05c9d35d636d07"><code>3b04496</code></a></td><td><code>bootstrap: Consolidate output redirections</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8"><code>e7b8c3b</code></a></td><td><code>m4/sage_spkg_collect.m4: Add missing m4_popdef</code></td></tr></table>




---

archive/issue_comments_456215.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\n`./configure -q` is a useful command. I see this output:\n\n```\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nImportError: No module named lzma\n./configure: line 39392: ,: command not found\n```\nThe first is probably coming from the line `if \"$SAGE_BOOTSTRAP_PYTHON\" -c \"import lzma\"; then :`, no big deal. The other error is from a comma all by itself on line 39392 (that's with `develop`; it's line 42361 with this branch). Maybe an extra comma in `build/pkgs/qhull/spkg-configure.m4`?",
    "created_at": "2022-02-18T06:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456215",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:45" align="right">comment:45</div>

`./configure -q` is a useful command. I see this output:

```
Traceback (most recent call last):
  File "<string>", line 1, in <module>
ImportError: No module named lzma
./configure: line 39392: ,: command not found
```
The first is probably coming from the line `if "$SAGE_BOOTSTRAP_PYTHON" -c "import lzma"; then :`, no big deal. The other error is from a comma all by itself on line 39392 (that's with `develop`; it's line 42361 with this branch). Maybe an extra comma in `build/pkgs/qhull/spkg-configure.m4`?



---

archive/issue_comments_456216.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nThis is unrelated to the ticket and fixed in #33247",
    "created_at": "2022-02-18T06:14:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456216",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">comment:46</div>

This is unrelated to the ticket and fixed in #33247



---

archive/issue_comments_456217.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,3 +21,5 @@\n \n There are no changes in functionality.\n \n+Even after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.\n+\n``````\n",
    "created_at": "2022-02-20T02:26:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456217",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,3 +21,5 @@
 
 There are no changes in functionality.
 
+Even after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.
+
``````




---

archive/issue_comments_456218.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,5 +21,7 @@\n \n There are no changes in functionality.\n \n+We make a cosmetic fix to the `./configure --help` output, fixing [#33345 comment:20](https://github.com/sagemath/sage/issues/33345#comment:20). \n+\n Even after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.\n \n``````\n",
    "created_at": "2022-02-20T02:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456218",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,5 +21,7 @@
 
 There are no changes in functionality.
 
+We make a cosmetic fix to the `./configure --help` output, fixing [#33345 comment:20](https://github.com/sagemath/sage/issues/33345#comment:20). 
+
 Even after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.
 
``````




---

archive/issue_comments_456219.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nIn principle this looks good to me, and Sage builds. It would be great if someone more familiar with `.m4` code could check the details.",
    "created_at": "2022-02-24T23:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456219",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:49" align="right">comment:49</div>

In principle this looks good to me, and Sage builds. It would be great if someone more familiar with `.m4` code could check the details.



---

archive/issue_comments_456220.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nI looked through it all and don't see anything too scary. My one question is about the `grep -v ^=` that was added to bootstrap. It looks like that only affects the sagemath_categories, sagemath_objects, and sage_docbuild packages. Why do those have `======...` headers in their SPKG.rst to begin with?",
    "created_at": "2022-02-28T16:12:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456220",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:50" align="right">comment:50</div>

I looked through it all and don't see anything too scary. My one question is about the `grep -v ^=` that was added to bootstrap. It looks like that only affects the sagemath_categories, sagemath_objects, and sage_docbuild packages. Why do those have `======...` headers in their SPKG.rst to begin with?



---

archive/issue_comments_456221.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@orlitzky](#comment:50):\n> It looks like that only affects the sagemath_categories, sagemath_objects, and sage_docbuild packages. Why do those have `======...` headers in their SPKG.rst to begin with?\n\nThese files double as README.rst for these distributions, so this affects how it displays on PyPI.",
    "created_at": "2022-02-28T18:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456221",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@orlitzky](#comment:50):
> It looks like that only affects the sagemath_categories, sagemath_objects, and sage_docbuild packages. Why do those have `======...` headers in their SPKG.rst to begin with?

These files double as README.rst for these distributions, so this affects how it displays on PyPI.



---

archive/issue_comments_456222.json:
```json
{
    "body": "Reviewer: **Michael Orlitzky**",
    "created_at": "2022-02-28T18:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456222",
    "user": "https://github.com/orlitzky"
}
```

Reviewer: **Michael Orlitzky**



---

archive/issue_comments_456223.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nOk, I don't believe in parsing `SPKG.rst` for package information anyway, so I don't mind the hack. (In the futue, I would rather we quit parsing that file than try to make them all nice and consistent.)\n\nEverything else looks reasonable. Nothing broke in my sage build and there aren't any new subtle `./configure` errors logged to the console.\n\nJohn, don't forget to add yourself as a reviewer if you want to.",
    "created_at": "2022-02-28T18:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456223",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:52" align="right">comment:52</div>

Ok, I don't believe in parsing `SPKG.rst` for package information anyway, so I don't mind the hack. (In the futue, I would rather we quit parsing that file than try to make them all nice and consistent.)

Everything else looks reasonable. Nothing broke in my sage build and there aren't any new subtle `./configure` errors logged to the console.

John, don't forget to add yourself as a reviewer if you want to.



---

archive/issue_events_397172.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2022-02-28T18:51:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397172"
}
```



---

archive/issue_events_397173.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2022-02-28T18:51:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397173"
}
```



---

archive/issue_comments_456224.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nThanks.",
    "created_at": "2022-02-28T18:54:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456224",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:53" align="right">comment:53</div>

Thanks.



---

archive/issue_comments_456225.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/no-spkg-globbing-in-configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/no-spkg-globbing-in-configure)** to **[`e7b8c3b`](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)**",
    "created_at": "2022-03-01T21:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-456225",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/no-spkg-globbing-in-configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/no-spkg-globbing-in-configure)** to **[`e7b8c3b`](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)**



---

archive/issue_events_397174.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-01T21:31:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397174"
}
```



---

archive/issue_events_397175.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2a16069f4cbb0ff7c31a6098d2f3ca551b5ba62f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-03-01T21:31:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-397175"
}
```
