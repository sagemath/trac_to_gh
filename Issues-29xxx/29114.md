# Issue 29114: Only ./bootstrap should glob build/pkgs

archive/issues_028877.json:
```json
{
    "body": "Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.\n\nIn this ticket, we move this code into `bootstrap`, making the generated `configure` script more static, more straightforward to read and debug, and slightly faster because less work (and file system accesses) is done at the run time of `configure`.\n\nBefore:\n\n```\n$ time ./configure -q --without-system-ntl\nreal\t0m40.860s\nuser\t0m24.260s\nsys\t0m16.266s\n```\n\nAfter:\n\n```\nreal\t0m32.485s\nuser\t0m20.773s\nsys\t0m10.462s\n```\n\nThere are no changes in functionality.\n\nWe make a cosmetic fix to the `./configure --help` output, fixing [#33345 comment:20](https://github.com/sagemath/sage/issues/33345#comment:20). \n\nEven after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.\n\n\n**CC:**  @dimpase @embray @orlitzky @jhpalmieri\n\n**Branch/Commit:** [e7b8c3b398eba7721df7c79d8d4f77ca454838e8](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)\n\n**Reviewer:** Michael Orlitzky\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/29114\n\n",
    "closed_at": "2022-03-01T21:31:38Z",
    "created_at": "2020-01-30T20:33:01Z",
    "labels": [
        "component: build: configure",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "title": "Only ./bootstrap should glob build/pkgs",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/29114",
    "user": "https://github.com/mkoeppe"
}
```
Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.

In this ticket, we move this code into `bootstrap`, making the generated `configure` script more static, more straightforward to read and debug, and slightly faster because less work (and file system accesses) is done at the run time of `configure`.

Before:

```
$ time ./configure -q --without-system-ntl
real	0m40.860s
user	0m24.260s
sys	0m16.266s
```

After:

```
real	0m32.485s
user	0m20.773s
sys	0m10.462s
```

There are no changes in functionality.

We make a cosmetic fix to the `./configure --help` output, fixing [#33345 comment:20](https://github.com/sagemath/sage/issues/33345#comment:20). 

Even after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.


**CC:**  @dimpase @embray @orlitzky @jhpalmieri

**Branch/Commit:** [e7b8c3b398eba7721df7c79d8d4f77ca454838e8](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)

**Reviewer:** Michael Orlitzky

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/29114





---

archive/issue_comments_459017.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.\n This should be streamlined. \n \n+Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread).\n+\n+\n``````\n",
    "created_at": "2020-01-30T23:36:47Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459017",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.
 This should be streamlined. 
 
+Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread).
+
+
``````




---

archive/issue_events_258759.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-31T00:24:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258759"
}
```



---

archive/issue_comments_459018.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2020-01-31T00:44:23Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459018",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_459019.json:
```json
{
    "body": "**Dependencies:** #28095",
    "created_at": "2020-01-31T01:08:46Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459019",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #28095



---

archive/issue_comments_459020.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/no-spkg-globbing-in-configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/no-spkg-globbing-in-configure)",
    "created_at": "2020-01-31T01:12:53Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459020",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/no-spkg-globbing-in-configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/no-spkg-globbing-in-configure)



---

archive/issue_comments_459021.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch is on top of #28095.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf5607e42f491164219c464ce78c260157b403b8\">cf5607e</a></td><td><code>Add configure options '--enable-SPKG', --disable-SPKG' for optional/experimental SPKG</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4675d1fa110259361002d3f629e9975adec1dc9\">e4675d1</a></td><td><code>Actually implement --enable-SPKG and --disable-SPKG</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3e0e47f3159b1410af901a4a50573cafffd2fe1\">a3e0e47</a></td><td><code>Change type of gmp, mpir to 'standard' (they are mutually exclusive standard packages)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d\">4ed7b05</a></td><td><code>Fix indentation of '--with-mp=' options in configure --help</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82ee84d6814f254dd41ff133558627f947dbf635\">82ee84d</a></td><td><code>sage_spkg_enable.m4: Popdef what wass pushdef-ed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a\">f7a84e0</a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>\n",
    "created_at": "2020-01-31T01:13:19Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459021",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Branch is on top of #28095.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf5607e42f491164219c464ce78c260157b403b8">cf5607e</a></td><td><code>Add configure options '--enable-SPKG', --disable-SPKG' for optional/experimental SPKG</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4675d1fa110259361002d3f629e9975adec1dc9">e4675d1</a></td><td><code>Actually implement --enable-SPKG and --disable-SPKG</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3e0e47f3159b1410af901a4a50573cafffd2fe1">a3e0e47</a></td><td><code>Change type of gmp, mpir to 'standard' (they are mutually exclusive standard packages)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d">4ed7b05</a></td><td><code>Fix indentation of '--with-mp=' options in configure --help</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82ee84d6814f254dd41ff133558627f947dbf635">82ee84d</a></td><td><code>sage_spkg_enable.m4: Popdef what wass pushdef-ed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a">f7a84e0</a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>




---

archive/issue_comments_459022.json:
```json
{
    "body": "**Commit:** [f7a84e0861cf588f37938630ff4773b2c8b59e0a](https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a)",
    "created_at": "2020-01-31T01:13:19Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459022",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [f7a84e0861cf588f37938630ff4773b2c8b59e0a](https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a)



---

archive/issue_events_258760.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-31T01:13:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258760"
}
```



---

archive/issue_comments_459023.json:
```json
{
    "body": "**Changing commit** from \"[f7a84e0861cf588f37938630ff4773b2c8b59e0a](https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a)\" to \"[355d1476f591e351a387c5acd5ee223b4407c674](https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674)\".",
    "created_at": "2020-01-31T01:22:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459023",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f7a84e0861cf588f37938630ff4773b2c8b59e0a](https://github.com/sagemath/sagetrac-mirror/commit/f7a84e0861cf588f37938630ff4773b2c8b59e0a)" to "[355d1476f591e351a387c5acd5ee223b4407c674](https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674)".



---

archive/issue_comments_459024.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ec6413280dd1e8e28bb7c7d329782458b0cd0bc\">6ec6413</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/29114/no-spkg-globbing-in-configure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9295a7429b05054de8b026bb4ffda4278426990d\">9295a74</a></td><td><code>sage_spkg_enable.m4: Popdef what wass pushdef-ed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674\">355d147</a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>\n",
    "created_at": "2020-01-31T01:22:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459024",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ec6413280dd1e8e28bb7c7d329782458b0cd0bc">6ec6413</a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into t/29114/no-spkg-globbing-in-configure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9295a7429b05054de8b026bb4ffda4278426990d">9295a74</a></td><td><code>sage_spkg_enable.m4: Popdef what wass pushdef-ed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674">355d147</a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>




---

archive/issue_comments_459025.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8\">bbd6521</a></td><td><code>Makefile [configure]: also depend on build/pkgs/type</code></td></tr></table>\n",
    "created_at": "2020-01-31T02:16:18Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459025",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8">bbd6521</a></td><td><code>Makefile [configure]: also depend on build/pkgs/type</code></td></tr></table>




---

archive/issue_comments_459026.json:
```json
{
    "body": "**Changing commit** from \"[355d1476f591e351a387c5acd5ee223b4407c674](https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674)\" to \"[bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8](https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8)\".",
    "created_at": "2020-01-31T02:16:18Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459026",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[355d1476f591e351a387c5acd5ee223b4407c674](https://github.com/sagemath/sagetrac-mirror/commit/355d1476f591e351a387c5acd5ee223b4407c674)" to "[bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8](https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8)".



---

archive/issue_comments_459027.json:
```json
{
    "body": "<a id='comment:9'></a>\nCould you explain what \"glob\" means here?",
    "created_at": "2020-01-31T09:33:42Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459027",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
Could you explain what "glob" means here?



---

archive/issue_comments_459028.json:
```json
{
    "body": "<a id='comment:10'></a>\nThis reminds me of #27373 - which becomes obsolete as soon as this ticket and #29113 is done.",
    "created_at": "2020-01-31T09:48:46Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459028",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
This reminds me of #27373 - which becomes obsolete as soon as this ticket and #29113 is done.



---

archive/issue_comments_459029.json:
```json
{
    "body": "<a id='comment:11'></a>\nIt seems this is adding a bunch of previously unnecessary complication only because #29038, which I strongly objected to, was merged.  I didn't step in then because I was busy with other things.  Can we please roll back #29038 instead?  I'm absolute convinced there's no need for it.",
    "created_at": "2020-01-31T11:24:18Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459029",
    "user": "https://github.com/embray"
}
```

<a id='comment:11'></a>
It seems this is adding a bunch of previously unnecessary complication only because #29038, which I strongly objected to, was merged.  I didn't step in then because I was busy with other things.  Can we please roll back #29038 instead?  I'm absolute convinced there's no need for it.



---

archive/issue_events_258761.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-31T11:26:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258761"
}
```



---

archive/issue_events_258762.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-31T11:26:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258762"
}
```



---

archive/issue_comments_459030.json:
```json
{
    "body": "<a id='comment:13'></a>\nSee #29118 for an alternative proposal.",
    "created_at": "2020-01-31T11:35:54Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459030",
    "user": "https://github.com/embray"
}
```

<a id='comment:13'></a>
See #29118 for an alternative proposal.



---

archive/issue_events_258763.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-01-31T11:39:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258763"
}
```



---

archive/issue_events_258764.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-01-31T11:39:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258764"
}
```



---

archive/issue_comments_459031.json:
```json
{
    "body": "<a id='comment:14'></a>\nI think we should progress, even if the route is not optimal, and Matthias has a lot of time for working on the build system now. \n\nI hate to see ./configure running many times as I launch make, it really slows working on build system down, and I hope #29113 will happen soon.",
    "created_at": "2020-01-31T11:39:30Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459031",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
I think we should progress, even if the route is not optimal, and Matthias has a lot of time for working on the build system now. 

I hate to see ./configure running many times as I launch make, it really slows working on build system down, and I hope #29113 will happen soon.



---

archive/issue_comments_459032.json:
```json
{
    "body": "<a id='comment:15'></a>\nI should add, some of the changes in this ticket look reasonable.  But it's mixed up with a bunch of other stuff (the way this is built on top of #28095 in particular is confusing).  I'd like to start with #29118 and then see some fixes to individual bugs that predate #29038 .",
    "created_at": "2020-01-31T11:56:03Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459032",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'></a>
I should add, some of the changes in this ticket look reasonable.  But it's mixed up with a bunch of other stuff (the way this is built on top of #28095 in particular is confusing).  I'd like to start with #29118 and then see some fixes to individual bugs that predate #29038 .



---

archive/issue_comments_459033.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [dimpase](#comment%3A14):\n> I think we should progress, even if the route is not optimal, and Matthias has a lot of time for working on the build system now. \n\nProgress on what though?  I don't think you can \"progress\" on unsolid footing.  I should note that part of the motivation behind #29038 is to enable the approach in #27824 which I also think is overcomplicated.\n\nI don't think we should be making complicated changes on top of complicated changes to enable even more complicated changes.  I hate to sound like Jeroen here because I've been on the other side of disagreements like this with him.  But he'd probably be saying the same if he were here and I'd agree this time.\n\nI would like to know what the bigger picture is to all this before making changes that don't seem well-motivated.  Don't commit a sunk cost fallacy especially when it's relatively early...",
    "created_at": "2020-01-31T11:59:18Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459033",
    "user": "https://github.com/embray"
}
```

<a id='comment:16'></a>
Replying to [dimpase](#comment%3A14):
> I think we should progress, even if the route is not optimal, and Matthias has a lot of time for working on the build system now. 

Progress on what though?  I don't think you can "progress" on unsolid footing.  I should note that part of the motivation behind #29038 is to enable the approach in #27824 which I also think is overcomplicated.

I don't think we should be making complicated changes on top of complicated changes to enable even more complicated changes.  I hate to sound like Jeroen here because I've been on the other side of disagreements like this with him.  But he'd probably be saying the same if he were here and I'd agree this time.

I would like to know what the bigger picture is to all this before making changes that don't seem well-motivated.  Don't commit a sunk cost fallacy especially when it's relatively early...



---

archive/issue_comments_459034.json:
```json
{
    "body": "<a id='comment:17'></a>\nIf you want to talk about simplification, why don't we just drop `sage -i/-f` instead of trying to keep this awful hack - something I proposed a year ago, and Jeroen objected...",
    "created_at": "2020-01-31T12:09:22Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459034",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>
If you want to talk about simplification, why don't we just drop `sage -i/-f` instead of trying to keep this awful hack - something I proposed a year ago, and Jeroen objected...



---

archive/issue_comments_459035.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,8 @@\n Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.\n This should be streamlined. \n \n-Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread).\n+Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). \n+While #29120 provides a quick workaround, the present ticket has the proper fix.\n \n \n+\n``````\n",
    "created_at": "2020-01-31T14:37:21Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459035",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,8 @@
 Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.
 This should be streamlined. 
 
-Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread).
+Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). 
+While #29120 provides a quick workaround, the present ticket has the proper fix.
 
 
+
``````




---

archive/issue_comments_459036.json:
```json
{
    "body": "**Changing dependencies** from \"#28095\" to \"#28095, #29120\".",
    "created_at": "2020-01-31T14:37:21Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459036",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#28095" to "#28095, #29120".



---

archive/issue_comments_459037.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.\n+Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.\n This should be streamlined. \n \n Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). \n``````\n",
    "created_at": "2020-01-31T14:39:19Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459037",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) glob.
+Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.
 This should be streamlined. 
 
 Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). 
``````




---

archive/issue_comments_459038.json:
```json
{
    "body": "**Changing commit** from \"[bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8](https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8)\" to \"[7214ed7635d37a03827692a2cac666d938265da0](https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0)\".",
    "created_at": "2020-01-31T14:43:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459038",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8](https://github.com/sagemath/sagetrac-mirror/commit/bbd65219cf1eac1f6f88883d3b0d14ff4d9d47b8)" to "[7214ed7635d37a03827692a2cac666d938265da0](https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0)".



---

archive/issue_comments_459039.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f193bfcd4d38917f1a4b24e6c7b3e5541344054\">1f193bf</a></td><td><code>Issue only a warning, not an error, if there are stray files in build/pkgs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a04733a416e600ac226d3b09b0c6866d3a0d3721\">a04733a</a></td><td><code>Merge branch 't/29120/one-line-fix-configure-too-sensitive-to-stray-files-in-build-pkgs' into t/29114/no-spkg-globbing-in-configure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25a55e03505a0ff3e630cff472770ab3fc00c84f\">25a55e0</a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0\">7214ed7</a></td><td><code>Makefile [configure]: also depend on build/pkgs/type</code></td></tr></table>\n",
    "created_at": "2020-01-31T14:43:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459039",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f193bfcd4d38917f1a4b24e6c7b3e5541344054">1f193bf</a></td><td><code>Issue only a warning, not an error, if there are stray files in build/pkgs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a04733a416e600ac226d3b09b0c6866d3a0d3721">a04733a</a></td><td><code>Merge branch 't/29120/one-line-fix-configure-too-sensitive-to-stray-files-in-build-pkgs' into t/29114/no-spkg-globbing-in-configure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25a55e03505a0ff3e630cff472770ab3fc00c84f">25a55e0</a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0">7214ed7</a></td><td><code>Makefile [configure]: also depend on build/pkgs/type</code></td></tr></table>




---

archive/issue_comments_459040.json:
```json
{
    "body": "<a id='comment:21'></a>\nI've rebased on top of #29120, which has the \"hot fix\", which may be easier to review and should go into the next beta.\n\nThe present ticket, #29114, is not so urgent.",
    "created_at": "2020-01-31T14:45:38Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459040",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
I've rebased on top of #29120, which has the "hot fix", which may be easier to review and should go into the next beta.

The present ticket, #29114, is not so urgent.



---

archive/issue_events_258765.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-31T15:36:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258765"
}
```



---

archive/issue_events_258766.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-16T01:53:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258766"
}
```



---

archive/issue_events_258767.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-16T01:53:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258767"
}
```



---

archive/issue_comments_459041.json:
```json
{
    "body": "<a id='comment:25'></a>\nSince this list changes maybe once a year, we could just write it into configure.ac and avoid that part of the bootstrap process.",
    "created_at": "2020-03-16T15:00:11Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459041",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:25'></a>
Since this list changes maybe once a year, we could just write it into configure.ac and avoid that part of the bootstrap process.



---

archive/issue_comments_459042.json:
```json
{
    "body": "<a id='comment:26'></a>\nI think that may be too radical a change (although I am personally in favor of it - agreeing with the autotools policies) - Sage has traditionally used source discovery instead of listing files explicitly.  That's why in this ticket I just want to put the source discovery for build/pkgs into 1 script",
    "created_at": "2020-03-16T15:43:55Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459042",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
I think that may be too radical a change (although I am personally in favor of it - agreeing with the autotools policies) - Sage has traditionally used source discovery instead of listing files explicitly.  That's why in this ticket I just want to put the source discovery for build/pkgs into 1 script



---

archive/issue_events_258768.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:04:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258768"
}
```



---

archive/issue_events_258769.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:04:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258769"
}
```



---

archive/issue_events_258770.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258770"
}
```



---

archive/issue_events_258771.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258771"
}
```



---

archive/issue_events_258772.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258772"
}
```



---

archive/issue_events_258773.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258773"
}
```



---

archive/issue_comments_459043.json:
```json
{
    "body": "<a id='comment:29'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459043",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_258774.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-12T03:41:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258774"
}
```



---

archive/issue_events_258775.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-12T03:41:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258775"
}
```



---

archive/issue_comments_459044.json:
```json
{
    "body": "**Changing commit** from \"[7214ed7635d37a03827692a2cac666d938265da0](https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0)\" to \"[0f59e298cb9901899918d35a5a98132711266285](https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285)\".",
    "created_at": "2022-02-17T21:39:59Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459044",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7214ed7635d37a03827692a2cac666d938265da0](https://github.com/sagemath/sagetrac-mirror/commit/7214ed7635d37a03827692a2cac666d938265da0)" to "[0f59e298cb9901899918d35a5a98132711266285](https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285)".



---

archive/issue_comments_459045.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285\">0f59e29</a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>\n",
    "created_at": "2022-02-17T21:39:59Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459045",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285">0f59e29</a></td><td><code>Enumerate packages in ./bootstrap; only warn about missing 'type' files; use the generated list in m4/sage_spkg_collect.m4 instead of globbing</code></td></tr></table>




---

archive/issue_events_258776.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-17T21:40:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258776"
}
```



---

archive/issue_events_258777.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-17T21:40:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258777"
}
```



---

archive/issue_comments_459046.json:
```json
{
    "body": "**Changing dependencies** from \"#28095, #29120\" to \"\".",
    "created_at": "2022-02-17T21:41:55Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459046",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#28095, #29120" to "".



---

archive/issue_comments_459047.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,3 @@\n Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.\n This should be streamlined. \n \n-Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). \n-While #29120 provides a quick workaround, the present ticket has the proper fix.\n-\n-\n-\n``````\n",
    "created_at": "2022-02-17T21:42:16Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459047",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,3 @@
 Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.
 This should be streamlined. 
 
-Currently `./configure` is too sensitive to stray files/subdirectories in `build/pkgs` (such as those that are `.gitignore`'d in another branch), as noted in https://groups.google.com/d/msg/sage-release/eVvjvJ6Iii8/W51ouUKpDwAJ (thread). 
-While #29120 provides a quick workaround, the present ticket has the proper fix.
-
-
-
``````




---

archive/issue_comments_459048.json:
```json
{
    "body": "**Changing commit** from \"[0f59e298cb9901899918d35a5a98132711266285](https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285)\" to \"[c5c6caa717a3c81c75db6de9d7750b10b14170b3](https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3)\".",
    "created_at": "2022-02-17T22:29:13Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459048",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0f59e298cb9901899918d35a5a98132711266285](https://github.com/sagemath/sagetrac-mirror/commit/0f59e298cb9901899918d35a5a98132711266285)" to "[c5c6caa717a3c81c75db6de9d7750b10b14170b3](https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3)".



---

archive/issue_comments_459049.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a34f10b5c446dc5138c333a2b14acc8f7e91c027\">a34f10b</a></td><td><code>bootstrap, m4/sage_spkg_collect.m4: Pass SPKG_TYPE to SAGE_SPKG</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/025eb95a6506557331e3fd22593466f29090ce7c\">025eb95</a></td><td><code>bootstrap: Improve the SPKG.rst title parser</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58134732c00611ddf31900bb5c977aafcf959919\">5813473</a></td><td><code>bootstrap: First SAGE_SPKG_CONFIGURE, then SAGE_SPKG_FINALIZE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3\">c5c6caa</a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_COLLECT_INIT): Rename from SAGE_SPKG_INIT</code></td></tr></table>\n",
    "created_at": "2022-02-17T22:29:13Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459049",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a34f10b5c446dc5138c333a2b14acc8f7e91c027">a34f10b</a></td><td><code>bootstrap, m4/sage_spkg_collect.m4: Pass SPKG_TYPE to SAGE_SPKG</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/025eb95a6506557331e3fd22593466f29090ce7c">025eb95</a></td><td><code>bootstrap: Improve the SPKG.rst title parser</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58134732c00611ddf31900bb5c977aafcf959919">5813473</a></td><td><code>bootstrap: First SAGE_SPKG_CONFIGURE, then SAGE_SPKG_FINALIZE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3">c5c6caa</a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_COLLECT_INIT): Rename from SAGE_SPKG_INIT</code></td></tr></table>




---

archive/issue_comments_459050.json:
```json
{
    "body": "<a id='comment:36'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1\">54974a3</a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_COLLECT_INIT): Rename from SAGE_SPKG_INIT</code></td></tr></table>\n",
    "created_at": "2022-02-17T22:35:41Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1">54974a3</a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_COLLECT_INIT): Rename from SAGE_SPKG_INIT</code></td></tr></table>




---

archive/issue_comments_459051.json:
```json
{
    "body": "**Changing commit** from \"[c5c6caa717a3c81c75db6de9d7750b10b14170b3](https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3)\" to \"[54974a3dd43a860710eedeab330aff44309117f1](https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1)\".",
    "created_at": "2022-02-17T22:35:41Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c5c6caa717a3c81c75db6de9d7750b10b14170b3](https://github.com/sagemath/sagetrac-mirror/commit/c5c6caa717a3c81c75db6de9d7750b10b14170b3)" to "[54974a3dd43a860710eedeab330aff44309117f1](https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1)".



---

archive/issue_comments_459052.json:
```json
{
    "body": "<a id='comment:37'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2eba1f41f942bd8143c6e82e9a8ab8c9e7e1e5ea\">2eba1f4</a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_FINALIZE): Make SPKG_NAME, SPKG_TYPE m4 definitions, not shell variables</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e9c638639fd612e7554c10b77ec4cc7bcfc3fa0\">1e9c638</a></td><td><code>m4/sage_spkg_collect.m4: Distinguish cases of SPKG_TYPE at macroexpansion time, not runtime</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7\">7310bd5</a></td><td><code>bootstrap: First SAGE_SPKG_CONFIGURE, then SAGE_SPKG_FINALIZE (fixup)</code></td></tr></table>\n",
    "created_at": "2022-02-17T23:23:46Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2eba1f41f942bd8143c6e82e9a8ab8c9e7e1e5ea">2eba1f4</a></td><td><code>m4/sage_spkg_collect.m4 (SAGE_SPKG_FINALIZE): Make SPKG_NAME, SPKG_TYPE m4 definitions, not shell variables</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e9c638639fd612e7554c10b77ec4cc7bcfc3fa0">1e9c638</a></td><td><code>m4/sage_spkg_collect.m4: Distinguish cases of SPKG_TYPE at macroexpansion time, not runtime</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7">7310bd5</a></td><td><code>bootstrap: First SAGE_SPKG_CONFIGURE, then SAGE_SPKG_FINALIZE (fixup)</code></td></tr></table>




---

archive/issue_comments_459053.json:
```json
{
    "body": "**Changing commit** from \"[54974a3dd43a860710eedeab330aff44309117f1](https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1)\" to \"[7310bd5d2760ad3774d6c99903ff73498b5c2ca7](https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7)\".",
    "created_at": "2022-02-17T23:23:46Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459053",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[54974a3dd43a860710eedeab330aff44309117f1](https://github.com/sagemath/sagetrac-mirror/commit/54974a3dd43a860710eedeab330aff44309117f1)" to "[7310bd5d2760ad3774d6c99903ff73498b5c2ca7](https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7)".



---

archive/issue_comments_459054.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded\">1eceb52</a></td><td><code>bootstrap: Determine SPKG_SOURCE here, pass it as a macro argument to SAGE_SPKG_FINALIZE</code></td></tr></table>\n",
    "created_at": "2022-02-17T23:39:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459054",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded">1eceb52</a></td><td><code>bootstrap: Determine SPKG_SOURCE here, pass it as a macro argument to SAGE_SPKG_FINALIZE</code></td></tr></table>




---

archive/issue_comments_459055.json:
```json
{
    "body": "**Changing commit** from \"[7310bd5d2760ad3774d6c99903ff73498b5c2ca7](https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7)\" to \"[1eceb523dcc007ac78da9d0843000c49f0c14ded](https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded)\".",
    "created_at": "2022-02-17T23:39:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459055",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7310bd5d2760ad3774d6c99903ff73498b5c2ca7](https://github.com/sagemath/sagetrac-mirror/commit/7310bd5d2760ad3774d6c99903ff73498b5c2ca7)" to "[1eceb523dcc007ac78da9d0843000c49f0c14ded](https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded)".



---

archive/issue_comments_459056.json:
```json
{
    "body": "<a id='comment:39'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a013698bb960294f33aaff9f340cb467be397559\">a013698</a></td><td><code>m4/sage_spkg_collect.m4: Distinguish underscore packages at macroexpansion time</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8421854f2d1908be27f0581c1dc7d4ecb16653e7\">8421854</a></td><td><code>m4/sage_spkg_collect.m4: Handle in_sdist at macroexpansion time</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629\">7115a72</a></td><td><code>m4/sage_spkg_collect.m4: Suppress some whitespace in the macroexpansion</code></td></tr></table>\n",
    "created_at": "2022-02-18T00:42:13Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459056",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a013698bb960294f33aaff9f340cb467be397559">a013698</a></td><td><code>m4/sage_spkg_collect.m4: Distinguish underscore packages at macroexpansion time</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8421854f2d1908be27f0581c1dc7d4ecb16653e7">8421854</a></td><td><code>m4/sage_spkg_collect.m4: Handle in_sdist at macroexpansion time</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629">7115a72</a></td><td><code>m4/sage_spkg_collect.m4: Suppress some whitespace in the macroexpansion</code></td></tr></table>




---

archive/issue_comments_459057.json:
```json
{
    "body": "**Changing commit** from \"[1eceb523dcc007ac78da9d0843000c49f0c14ded](https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded)\" to \"[7115a72c347984e9055d8b58cc6b949b16374629](https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629)\".",
    "created_at": "2022-02-18T00:42:13Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459057",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1eceb523dcc007ac78da9d0843000c49f0c14ded](https://github.com/sagemath/sagetrac-mirror/commit/1eceb523dcc007ac78da9d0843000c49f0c14ded)" to "[7115a72c347984e9055d8b58cc6b949b16374629](https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629)".



---

archive/issue_comments_459058.json:
```json
{
    "body": "**Changing commit** from \"[7115a72c347984e9055d8b58cc6b949b16374629](https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629)\" to \"[be824d6ad187241766b14eb182be4f07c46628e2](https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2)\".",
    "created_at": "2022-02-18T01:22:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459058",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[7115a72c347984e9055d8b58cc6b949b16374629](https://github.com/sagemath/sagetrac-mirror/commit/7115a72c347984e9055d8b58cc6b949b16374629)" to "[be824d6ad187241766b14eb182be4f07c46628e2](https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2)".



---

archive/issue_comments_459059.json:
```json
{
    "body": "<a id='comment:40'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35fa89f40fadd69862d6e37fb41f3c3f6577569e\">35fa89f</a></td><td><code>bootstrap: Determine SPKG_TREE_VAR here, pass it as a macro argument to SAGE_SPKG_FINALIZE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8070dd970431fa6625d962a50ae50bccaae5af66\">8070dd9</a></td><td><code>m4/sage_spkg_collect.m4: Make want_spkg a macro definition only</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2\">be824d6</a></td><td><code>m4/sage_spkg_collect.m4: Replace read from requirements.txt by use of macro argument</code></td></tr></table>\n",
    "created_at": "2022-02-18T01:22:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35fa89f40fadd69862d6e37fb41f3c3f6577569e">35fa89f</a></td><td><code>bootstrap: Determine SPKG_TREE_VAR here, pass it as a macro argument to SAGE_SPKG_FINALIZE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8070dd970431fa6625d962a50ae50bccaae5af66">8070dd9</a></td><td><code>m4/sage_spkg_collect.m4: Make want_spkg a macro definition only</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2">be824d6</a></td><td><code>m4/sage_spkg_collect.m4: Replace read from requirements.txt by use of macro argument</code></td></tr></table>




---

archive/issue_comments_459060.json:
```json
{
    "body": "<a id='comment:41'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef\">e796fcf</a></td><td><code>m4/sage_spkg_enable.m4: Do not AC_REQUIRE([SAGE_SPKG_COLLECT_INIT]) here</code></td></tr></table>\n",
    "created_at": "2022-02-18T02:04:39Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459060",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef">e796fcf</a></td><td><code>m4/sage_spkg_enable.m4: Do not AC_REQUIRE([SAGE_SPKG_COLLECT_INIT]) here</code></td></tr></table>




---

archive/issue_comments_459061.json:
```json
{
    "body": "**Changing commit** from \"[be824d6ad187241766b14eb182be4f07c46628e2](https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2)\" to \"[e796fcfed31476067722164c6a70871b588232ef](https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef)\".",
    "created_at": "2022-02-18T02:04:39Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459061",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[be824d6ad187241766b14eb182be4f07c46628e2](https://github.com/sagemath/sagetrac-mirror/commit/be824d6ad187241766b14eb182be4f07c46628e2)" to "[e796fcfed31476067722164c6a70871b588232ef](https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef)".



---

archive/issue_events_258778.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-18T02:19:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258778"
}
```



---

archive/issue_events_258779.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-18T02:19:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258779"
}
```



---

archive/issue_comments_459062.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,23 @@\n Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.\n-This should be streamlined. \n \n+In this ticket, we move this code into `bootstrap`, making the generated `configure` script more static, more straightforward to read and debug, and slightly faster because less work (and file system accesses) is done at the run time of `configure`.\n+\n+Before:\n+\n+```\n+$ time ./configure -q --without-system-ntl\n+real\t0m40.860s\n+user\t0m24.260s\n+sys\t0m16.266s\n+```\n+\n+After:\n+\n+```\n+real\t0m32.485s\n+user\t0m20.773s\n+sys\t0m10.462s\n+```\n+\n+There are no changes in functionality.\n+\n``````\n",
    "created_at": "2022-02-18T02:19:12Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459062",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,23 @@
 Right now both `./bootstrap` and `./configure` (via `m4/sage_spkg_collect.m4`) [glob](https://en.wikipedia.org/wiki/Glob_(programming)) `build/pkgs`.
-This should be streamlined. 
 
+In this ticket, we move this code into `bootstrap`, making the generated `configure` script more static, more straightforward to read and debug, and slightly faster because less work (and file system accesses) is done at the run time of `configure`.
+
+Before:
+
+```
+$ time ./configure -q --without-system-ntl
+real	0m40.860s
+user	0m24.260s
+sys	0m16.266s
+```
+
+After:
+
+```
+real	0m32.485s
+user	0m20.773s
+sys	0m10.462s
+```
+
+There are no changes in functionality.
+
``````




---

archive/issue_comments_459063.json:
```json
{
    "body": "<a id='comment:43'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9\">a6d70c1</a></td><td><code>m4/sage_spkg_collect.m4: Make SAGE_NEED_SYSTEM_PACKAGES_VAR a macro</code></td></tr></table>\n",
    "created_at": "2022-02-18T02:57:58Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459063",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9">a6d70c1</a></td><td><code>m4/sage_spkg_collect.m4: Make SAGE_NEED_SYSTEM_PACKAGES_VAR a macro</code></td></tr></table>




---

archive/issue_comments_459064.json:
```json
{
    "body": "**Changing commit** from \"[e796fcfed31476067722164c6a70871b588232ef](https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef)\" to \"[a6d70c1ee37f5d199dc03df31cb5d352258c65f9](https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9)\".",
    "created_at": "2022-02-18T02:57:58Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459064",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e796fcfed31476067722164c6a70871b588232ef](https://github.com/sagemath/sagetrac-mirror/commit/e796fcfed31476067722164c6a70871b588232ef)" to "[a6d70c1ee37f5d199dc03df31cb5d352258c65f9](https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9)".



---

archive/issue_comments_459065.json:
```json
{
    "body": "**Changing commit** from \"[a6d70c1ee37f5d199dc03df31cb5d352258c65f9](https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9)\" to \"[e7b8c3b398eba7721df7c79d8d4f77ca454838e8](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)\".",
    "created_at": "2022-02-18T04:51:48Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459065",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a6d70c1ee37f5d199dc03df31cb5d352258c65f9](https://github.com/sagemath/sagetrac-mirror/commit/a6d70c1ee37f5d199dc03df31cb5d352258c65f9)" to "[e7b8c3b398eba7721df7c79d8d4f77ca454838e8](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)".



---

archive/issue_comments_459066.json:
```json
{
    "body": "<a id='comment:44'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d7788455a320e39a19b81176626ec529ef9e00b\">7d77884</a></td><td><code>bootstrap: More \"installing...\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b04496822ae41aa4f4c704d4d05c9d35d636d07\">3b04496</a></td><td><code>bootstrap: Consolidate output redirections</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8\">e7b8c3b</a></td><td><code>m4/sage_spkg_collect.m4: Add missing m4_popdef</code></td></tr></table>\n",
    "created_at": "2022-02-18T04:51:48Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d7788455a320e39a19b81176626ec529ef9e00b">7d77884</a></td><td><code>bootstrap: More "installing..."</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b04496822ae41aa4f4c704d4d05c9d35d636d07">3b04496</a></td><td><code>bootstrap: Consolidate output redirections</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8">e7b8c3b</a></td><td><code>m4/sage_spkg_collect.m4: Add missing m4_popdef</code></td></tr></table>




---

archive/issue_comments_459067.json:
```json
{
    "body": "<a id='comment:45'></a>\n`./configure -q` is a useful command. I see this output:\n\n```\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nImportError: No module named lzma\n./configure: line 39392: ,: command not found\n```\nThe first is probably coming from the line `if \"$SAGE_BOOTSTRAP_PYTHON\" -c \"import lzma\"; then :`, no big deal. The other error is from a comma all by itself on line 39392 (that's with `develop`; it's line 42361 with this branch). Maybe an extra comma in `build/pkgs/qhull/spkg-configure.m4`?",
    "created_at": "2022-02-18T06:13:37Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459067",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:45'></a>
`./configure -q` is a useful command. I see this output:

```
Traceback (most recent call last):
  File "<string>", line 1, in <module>
ImportError: No module named lzma
./configure: line 39392: ,: command not found
```
The first is probably coming from the line `if "$SAGE_BOOTSTRAP_PYTHON" -c "import lzma"; then :`, no big deal. The other error is from a comma all by itself on line 39392 (that's with `develop`; it's line 42361 with this branch). Maybe an extra comma in `build/pkgs/qhull/spkg-configure.m4`?



---

archive/issue_comments_459068.json:
```json
{
    "body": "<a id='comment:46'></a>\nThis is unrelated to the ticket and fixed in #33247",
    "created_at": "2022-02-18T06:14:57Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459068",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>
This is unrelated to the ticket and fixed in #33247



---

archive/issue_comments_459069.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -21,3 +21,5 @@\n \n There are no changes in functionality.\n \n+Even after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.\n+\n``````\n",
    "created_at": "2022-02-20T02:26:09Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459069",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -21,3 +21,5 @@
 
 There are no changes in functionality.
 
+Even after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.
+
``````




---

archive/issue_comments_459070.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -21,5 +21,7 @@\n \n There are no changes in functionality.\n \n+We make a cosmetic fix to the `./configure --help` output, fixing [#33345 comment:20](https://github.com/sagemath/sage/issues/33345#comment:20). \n+\n Even after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.\n \n``````\n",
    "created_at": "2022-02-20T02:27:49Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459070",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -21,5 +21,7 @@
 
 There are no changes in functionality.
 
+We make a cosmetic fix to the `./configure --help` output, fixing [#33345 comment:20](https://github.com/sagemath/sage/issues/33345#comment:20). 
+
 Even after this ticket, `package-version.txt` and `dependencies` are processed at `configure` run time, not at `bootstrap` time. So simple package upgrades can still be done by developers without having to run `./bootstrap`.
 
``````




---

archive/issue_comments_459071.json:
```json
{
    "body": "<a id='comment:49'></a>\nIn principle this looks good to me, and Sage builds. It would be great if someone more familiar with `.m4` code could check the details.",
    "created_at": "2022-02-24T23:31:24Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459071",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:49'></a>
In principle this looks good to me, and Sage builds. It would be great if someone more familiar with `.m4` code could check the details.



---

archive/issue_comments_459072.json:
```json
{
    "body": "<a id='comment:50'></a>\nI looked through it all and don't see anything too scary. My one question is about the `grep -v ^=` that was added to bootstrap. It looks like that only affects the sagemath_categories, sagemath_objects, and sage_docbuild packages. Why do those have `======...` headers in their SPKG.rst to begin with?",
    "created_at": "2022-02-28T16:12:18Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459072",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:50'></a>
I looked through it all and don't see anything too scary. My one question is about the `grep -v ^=` that was added to bootstrap. It looks like that only affects the sagemath_categories, sagemath_objects, and sage_docbuild packages. Why do those have `======...` headers in their SPKG.rst to begin with?



---

archive/issue_comments_459073.json:
```json
{
    "body": "<a id='comment:51'></a>\nReplying to [mjo](#comment%3A50):\n> It looks like that only affects the sagemath_categories, sagemath_objects, and sage_docbuild packages. Why do those have `======...` headers in their SPKG.rst to begin with?\n\nThese files double as README.rst for these distributions, so this affects how it displays on PyPI.",
    "created_at": "2022-02-28T18:26:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459073",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'></a>
Replying to [mjo](#comment%3A50):
> It looks like that only affects the sagemath_categories, sagemath_objects, and sage_docbuild packages. Why do those have `======...` headers in their SPKG.rst to begin with?

These files double as README.rst for these distributions, so this affects how it displays on PyPI.



---

archive/issue_comments_459074.json:
```json
{
    "body": "**Reviewer:** Michael Orlitzky",
    "created_at": "2022-02-28T18:51:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459074",
    "user": "https://github.com/orlitzky"
}
```

**Reviewer:** Michael Orlitzky



---

archive/issue_comments_459075.json:
```json
{
    "body": "<a id='comment:52'></a>\nOk, I don't believe in parsing `SPKG.rst` for package information anyway, so I don't mind the hack. (In the futue, I would rather we quit parsing that file than try to make them all nice and consistent.)\n\nEverything else looks reasonable. Nothing broke in my sage build and there aren't any new subtle `./configure` errors logged to the console.\n\nJohn, don't forget to add yourself as a reviewer if you want to.",
    "created_at": "2022-02-28T18:51:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459075",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:52'></a>
Ok, I don't believe in parsing `SPKG.rst` for package information anyway, so I don't mind the hack. (In the futue, I would rather we quit parsing that file than try to make them all nice and consistent.)

Everything else looks reasonable. Nothing broke in my sage build and there aren't any new subtle `./configure` errors logged to the console.

John, don't forget to add yourself as a reviewer if you want to.



---

archive/issue_events_258780.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2022-02-28T18:51:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258780"
}
```



---

archive/issue_events_258781.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2022-02-28T18:51:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258781"
}
```



---

archive/issue_comments_459076.json:
```json
{
    "body": "<a id='comment:53'></a>\nThanks.",
    "created_at": "2022-02-28T18:54:09Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459076",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:53'></a>
Thanks.



---

archive/issue_comments_459077.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/no-spkg-globbing-in-configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/no-spkg-globbing-in-configure)\" to \"[e7b8c3b398eba7721df7c79d8d4f77ca454838e8](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)\".",
    "created_at": "2022-03-01T21:31:38Z",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29114#issuecomment-459077",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/no-spkg-globbing-in-configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/no-spkg-globbing-in-configure)" to "[e7b8c3b398eba7721df7c79d8d4f77ca454838e8](https://github.com/sagemath/sagetrac-mirror/commit/e7b8c3b398eba7721df7c79d8d4f77ca454838e8)".



---

archive/issue_events_258782.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-01T21:31:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258782"
}
```



---

archive/issue_events_258783.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2a16069f4cbb0ff7c31a6098d2f3ca551b5ba62f",
    "created_at": "2022-03-01T21:31:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29114",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29114#event-258783"
}
```
