# Issue 29702: Move all code from src/setup.py, src/fpickle_setup.py to sage_setup

archive/issues_029465.json:
```json
{
    "body": "This is preparation for splitting sagelib into separate distutils packages, but a useful cleanup in any case.\n\nAs a follow-up of this ticket, as part of Meta-ticket #29705, the remaining very short `src/setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink `src` -> `SAGE_ROOT/src`)\n\n\n\nCC:  @kiwifb @vbraun @isuruf @dimpase @jhpalmieri @fchapoton @orlitzky\n\nKeywords: sd109\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nBranch: a56dc35031486df9378f17c2d2ae6405946fac25\n\nDependencies: #29411\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29702\n\n",
    "closed_at": "2020-07-02T21:30:19Z",
    "created_at": "2020-05-17T17:39:35Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Move all code from src/setup.py, src/fpickle_setup.py to sage_setup",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29702",
    "user": "https://github.com/mkoeppe"
}
```
This is preparation for splitting sagelib into separate distutils packages, but a useful cleanup in any case.

As a follow-up of this ticket, as part of Meta-ticket #29705, the remaining very short `src/setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink `src` -> `SAGE_ROOT/src`)



CC:  @kiwifb @vbraun @isuruf @dimpase @jhpalmieri @fchapoton @orlitzky

Keywords: sd109

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Branch: a56dc35031486df9378f17c2d2ae6405946fac25

Dependencies: #29411

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29702





---

archive/issue_events_075951.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-17T18:33:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29702#event-75951"
}
```



---

archive/issue_comments_581572.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#29411\"",
    "created_at": "2020-05-17T20:12:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581572",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#29411"



---

archive/issue_comments_581573.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,3 @@\n This is preparation for splitting sagelib into separate distutils packages.\n \n+When done, the remaining very short `setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink src -> SAGE_ROOT/src)\n``````\n",
    "created_at": "2020-05-18T22:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581573",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,3 @@
 This is preparation for splitting sagelib into separate distutils packages.
 
+When done, the remaining very short `setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink src -> SAGE_ROOT/src)
``````




---

archive/issue_comments_581574.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup\"",
    "created_at": "2020-05-19T01:11:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581574",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup"



---

archive/issue_comments_581575.json:
```json
{
    "body": "Changing commit from \"\" to \"423ad52c62cf4d84d58b2516238e506dc19f4367\"",
    "created_at": "2020-05-19T02:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581575",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "423ad52c62cf4d84d58b2516238e506dc19f4367"



---

archive/issue_comments_581576.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|\n|[681d46e](https://git.sagemath.org/sage.git/commit/?id=681d46ecc1bdfbb1cce76f7c79a0050a9af2141d)|`src/setup.py: Move class sage_install to new module sage_setup.command.sage_install`|\n|[423ad52](https://git.sagemath.org/sage.git/commit/?id=423ad52c62cf4d84d58b2516238e506dc19f4367)|`src/module_list.py: Move library_order to new module sage_setup.library_order`|",
    "created_at": "2020-05-19T02:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581576",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|
|[681d46e](https://git.sagemath.org/sage.git/commit/?id=681d46ecc1bdfbb1cce76f7c79a0050a9af2141d)|`src/setup.py: Move class sage_install to new module sage_setup.command.sage_install`|
|[423ad52](https://git.sagemath.org/sage.git/commit/?id=423ad52c62cf4d84d58b2516238e506dc19f4367)|`src/module_list.py: Move library_order to new module sage_setup.library_order`|



---

archive/issue_comments_581577.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|\n|[758aa13](https://git.sagemath.org/sage.git/commit/?id=758aa13971e53188a69391f7cb62e25731c73f41)|`src/setup.py: Move classes sage_build_* to new modules sage_setup.command.sage_*`|",
    "created_at": "2020-05-19T02:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581577",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
|[758aa13](https://git.sagemath.org/sage.git/commit/?id=758aa13971e53188a69391f7cb62e25731c73f41)|`src/setup.py: Move classes sage_build_* to new modules sage_setup.command.sage_*`|



---

archive/issue_comments_581578.json:
```json
{
    "body": "Changing commit from \"423ad52c62cf4d84d58b2516238e506dc19f4367\" to \"758aa13971e53188a69391f7cb62e25731c73f41\"",
    "created_at": "2020-05-19T02:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581578",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "423ad52c62cf4d84d58b2516238e506dc19f4367" to "758aa13971e53188a69391f7cb62e25731c73f41"



---

archive/issue_comments_581579.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[9e6e021](https://git.sagemath.org/sage.git/commit/?id=9e6e0212eccbd9ed76e0908574140d423173683c)|`src/setup.py: Move excepthook to new module sage_setup.excepthook`|",
    "created_at": "2020-05-19T02:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581579",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[9e6e021](https://git.sagemath.org/sage.git/commit/?id=9e6e0212eccbd9ed76e0908574140d423173683c)|`src/setup.py: Move excepthook to new module sage_setup.excepthook`|



---

archive/issue_comments_581580.json:
```json
{
    "body": "Changing commit from \"758aa13971e53188a69391f7cb62e25731c73f41\" to \"9e6e0212eccbd9ed76e0908574140d423173683c\"",
    "created_at": "2020-05-19T02:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "758aa13971e53188a69391f7cb62e25731c73f41" to "9e6e0212eccbd9ed76e0908574140d423173683c"



---

archive/issue_comments_581581.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n This is preparation for splitting sagelib into separate distutils packages.\n \n-When done, the remaining very short `setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink src -> SAGE_ROOT/src)\n+As a follow-up of this ticket, the remaining very short `setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink src -> SAGE_ROOT/src)\n+\n+\n``````\n",
    "created_at": "2020-05-19T02:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581581",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 This is preparation for splitting sagelib into separate distutils packages.
 
-When done, the remaining very short `setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink src -> SAGE_ROOT/src)
+As a follow-up of this ticket, the remaining very short `setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink src -> SAGE_ROOT/src)
+
+
``````




---

archive/issue_comments_581582.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-05-19T02:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581582",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_581583.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-05-19T02:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581583",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_581584.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This is preparation for splitting sagelib into separate distutils packages.\n+This is preparation for splitting sagelib into separate distutils packages, but a useful cleanup in any case.\n \n As a follow-up of this ticket, the remaining very short `setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink src -> SAGE_ROOT/src)\n \n``````\n",
    "created_at": "2020-05-19T04:43:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581584",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This is preparation for splitting sagelib into separate distutils packages.
+This is preparation for splitting sagelib into separate distutils packages, but a useful cleanup in any case.
 
 As a follow-up of this ticket, the remaining very short `setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink src -> SAGE_ROOT/src)
 
``````




---

archive/issue_comments_581585.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|\n|[24800f5](https://git.sagemath.org/sage.git/commit/?id=24800f59917c1c951932a27495bd7206f60f38c0)|`sage.graphs.graph_decompositions: Make it a namespace package by removing __init__.py (which had unnecessary reimports only)`|\n|[f29d703](https://git.sagemath.org/sage.git/commit/?id=f29d70386fb95d37780643b6f6c5af3c1c59d128)|`Mark src/sage/ext_data as directories that are not namespace packages`|\n|[bceab3a](https://git.sagemath.org/sage.git/commit/?id=bceab3ade694461887ee62f4734ce9d91abe045e)|`sage_setup.find.find_python_sources: Handle native namespace packages and 'nonamespace' files`|",
    "created_at": "2020-05-20T04:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581585",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------|
|[24800f5](https://git.sagemath.org/sage.git/commit/?id=24800f59917c1c951932a27495bd7206f60f38c0)|`sage.graphs.graph_decompositions: Make it a namespace package by removing __init__.py (which had unnecessary reimports only)`|
|[f29d703](https://git.sagemath.org/sage.git/commit/?id=f29d70386fb95d37780643b6f6c5af3c1c59d128)|`Mark src/sage/ext_data as directories that are not namespace packages`|
|[bceab3a](https://git.sagemath.org/sage.git/commit/?id=bceab3ade694461887ee62f4734ce9d91abe045e)|`sage_setup.find.find_python_sources: Handle native namespace packages and 'nonamespace' files`|



---

archive/issue_comments_581586.json:
```json
{
    "body": "Changing commit from \"9e6e0212eccbd9ed76e0908574140d423173683c\" to \"bceab3ade694461887ee62f4734ce9d91abe045e\"",
    "created_at": "2020-05-20T04:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9e6e0212eccbd9ed76e0908574140d423173683c" to "bceab3ade694461887ee62f4734ce9d91abe045e"



---

archive/issue_comments_581587.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-05-20T04:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581587",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_581588.json:
```json
{
    "body": "Changing commit from \"bceab3ade694461887ee62f4734ce9d91abe045e\" to \"9e6e0212eccbd9ed76e0908574140d423173683c\"",
    "created_at": "2020-05-20T04:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581588",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bceab3ade694461887ee62f4734ce9d91abe045e" to "9e6e0212eccbd9ed76e0908574140d423173683c"



---

archive/issue_comments_581589.json:
```json
{
    "body": "<a id='comment:14'></a>\n(that was pushed to wrong ticket; fixed)",
    "created_at": "2020-05-20T05:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581589",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
(that was pushed to wrong ticket; fixed)



---

archive/issue_comments_581590.json:
```json
{
    "body": "<a id='comment:15'></a>\nReady for review",
    "created_at": "2020-05-20T05:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581590",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
Ready for review



---

archive/issue_comments_581591.json:
```json
{
    "body": "Changing commit from \"9e6e0212eccbd9ed76e0908574140d423173683c\" to \"09e32972afcdf667af8404878fc84d4122ebfbbc\"",
    "created_at": "2020-05-22T05:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581591",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9e6e0212eccbd9ed76e0908574140d423173683c" to "09e32972afcdf667af8404878fc84d4122ebfbbc"



---

archive/issue_comments_581592.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                                                                                                                                                                                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|[62f2841](https://git.sagemath.org/sage.git/commit/?id=62f2841785c6dcee69f0051f9083dbb1d69b27c5)|`Merge branch 't/29697/src_setup_py__src_sage_env_py__sage_include_directories___do_not_add_another_copy_of_sage_inc__sage_local_lib_to_include_dirs__library_dirs' into t/29411/make_sagelib_a_script_package`|\n|[048ce5b](https://git.sagemath.org/sage.git/commit/?id=048ce5bec8ec226cc4b3ef8752a999a19f52cfdc)|`build/pkgs/sagelib/spkg-install: Also poison environment variables SAGE_LOCAL etc.`|\n|[4590c4c](https://git.sagemath.org/sage.git/commit/?id=4590c4c08a9c2483b7352f3694a0dd47534ddce4)|`build/pkgs/sagelib/spkg-install: Add comment regarding SAGE_SPKG_INST`|\n|[ed312c5](https://git.sagemath.org/sage.git/commit/?id=ed312c53ee8df33a8215a42b2d778323c15ef588)|`build/pkgs/sagelib/spkg-install: Also poison SAGE_PKGCONFIG, SAGE_SPKG_SCRIPTS`|\n|[6ee66dd](https://git.sagemath.org/sage.git/commit/?id=6ee66dddccadf36476af10720f72cddaa158a501)|`src/setup.py: Update comment (not specific to gcc)`|\n|[0a7fb48](https://git.sagemath.org/sage.git/commit/?id=0a7fb4830e378aae3cbae527c410e0c368392565)|`Move src/fpickle_setup.py to srs/sage_setup/`|\n|[f4a9269](https://git.sagemath.org/sage.git/commit/?id=f4a9269040ed57b1456b41f5b69127feb4212b8d)|`src/setup.py: Move class sage_install to new module sage_setup.command.sage_install`|\n|[5660d8f](https://git.sagemath.org/sage.git/commit/?id=5660d8f044f5564525357368138a8b4530fb12d3)|`src/module_list.py: Move library_order to new module sage_setup.library_order`|\n|[43d4f83](https://git.sagemath.org/sage.git/commit/?id=43d4f839cfd605dad863de3a34e4af7a3bf371c1)|`src/setup.py: Move classes sage_build_* to new modules sage_setup.command.sage_*`|\n|[09e3297](https://git.sagemath.org/sage.git/commit/?id=09e32972afcdf667af8404878fc84d4122ebfbbc)|`src/setup.py: Move excepthook to new module sage_setup.excepthook`|",
    "created_at": "2020-05-22T05:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581592",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                                                                                                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|[62f2841](https://git.sagemath.org/sage.git/commit/?id=62f2841785c6dcee69f0051f9083dbb1d69b27c5)|`Merge branch 't/29697/src_setup_py__src_sage_env_py__sage_include_directories___do_not_add_another_copy_of_sage_inc__sage_local_lib_to_include_dirs__library_dirs' into t/29411/make_sagelib_a_script_package`|
|[048ce5b](https://git.sagemath.org/sage.git/commit/?id=048ce5bec8ec226cc4b3ef8752a999a19f52cfdc)|`build/pkgs/sagelib/spkg-install: Also poison environment variables SAGE_LOCAL etc.`|
|[4590c4c](https://git.sagemath.org/sage.git/commit/?id=4590c4c08a9c2483b7352f3694a0dd47534ddce4)|`build/pkgs/sagelib/spkg-install: Add comment regarding SAGE_SPKG_INST`|
|[ed312c5](https://git.sagemath.org/sage.git/commit/?id=ed312c53ee8df33a8215a42b2d778323c15ef588)|`build/pkgs/sagelib/spkg-install: Also poison SAGE_PKGCONFIG, SAGE_SPKG_SCRIPTS`|
|[6ee66dd](https://git.sagemath.org/sage.git/commit/?id=6ee66dddccadf36476af10720f72cddaa158a501)|`src/setup.py: Update comment (not specific to gcc)`|
|[0a7fb48](https://git.sagemath.org/sage.git/commit/?id=0a7fb4830e378aae3cbae527c410e0c368392565)|`Move src/fpickle_setup.py to srs/sage_setup/`|
|[f4a9269](https://git.sagemath.org/sage.git/commit/?id=f4a9269040ed57b1456b41f5b69127feb4212b8d)|`src/setup.py: Move class sage_install to new module sage_setup.command.sage_install`|
|[5660d8f](https://git.sagemath.org/sage.git/commit/?id=5660d8f044f5564525357368138a8b4530fb12d3)|`src/module_list.py: Move library_order to new module sage_setup.library_order`|
|[43d4f83](https://git.sagemath.org/sage.git/commit/?id=43d4f839cfd605dad863de3a34e4af7a3bf371c1)|`src/setup.py: Move classes sage_build_* to new modules sage_setup.command.sage_*`|
|[09e3297](https://git.sagemath.org/sage.git/commit/?id=09e32972afcdf667af8404878fc84d4122ebfbbc)|`src/setup.py: Move excepthook to new module sage_setup.excepthook`|



---

archive/issue_comments_581593.json:
```json
{
    "body": "<a id='comment:17'></a>\nRedone on top of new version of #29411",
    "created_at": "2020-05-22T05:24:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581593",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
Redone on top of new version of #29411



---

archive/issue_comments_581594.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd109\".",
    "created_at": "2020-05-28T06:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581594",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "sd109".



---

archive/issue_comments_581595.json:
```json
{
    "body": "Changing commit from \"09e32972afcdf667af8404878fc84d4122ebfbbc\" to \"b3102e903a97eedab297c8c41d8de137b6a64211\"",
    "created_at": "2020-06-02T06:27:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581595",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "09e32972afcdf667af8404878fc84d4122ebfbbc" to "b3102e903a97eedab297c8c41d8de137b6a64211"



---

archive/issue_comments_581596.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|\n|[1cfed7c](https://git.sagemath.org/sage.git/commit/?id=1cfed7c676bd72db6100d81df7f397cd8d2442f3)|`build/pkgs/sagelib/spkg-install: Do not poison SAGE_LOCAL, used in script installed by spkg pkgconf`|\n|[62c7531](https://git.sagemath.org/sage.git/commit/?id=62c7531d7fb0c8718f3c664927cbf3291264d303)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|\n|[b3102e9](https://git.sagemath.org/sage.git/commit/?id=b3102e903a97eedab297c8c41d8de137b6a64211)|`Merge tag '9.2.beta0' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|",
    "created_at": "2020-06-02T06:27:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581596",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
|[1cfed7c](https://git.sagemath.org/sage.git/commit/?id=1cfed7c676bd72db6100d81df7f397cd8d2442f3)|`build/pkgs/sagelib/spkg-install: Do not poison SAGE_LOCAL, used in script installed by spkg pkgconf`|
|[62c7531](https://git.sagemath.org/sage.git/commit/?id=62c7531d7fb0c8718f3c664927cbf3291264d303)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|
|[b3102e9](https://git.sagemath.org/sage.git/commit/?id=b3102e903a97eedab297c8c41d8de137b6a64211)|`Merge tag '9.2.beta0' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|



---

archive/issue_comments_581597.json:
```json
{
    "body": "<a id='comment:20'></a>\nMerged newer version of #29411 and latest beta",
    "created_at": "2020-06-02T06:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581597",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Merged newer version of #29411 and latest beta



---

archive/issue_comments_581598.json:
```json
{
    "body": "Changing commit from \"b3102e903a97eedab297c8c41d8de137b6a64211\" to \"2b4202996338185c1078a82b5ab728c32ea6cb69\"",
    "created_at": "2020-06-03T02:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581598",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b3102e903a97eedab297c8c41d8de137b6a64211" to "2b4202996338185c1078a82b5ab728c32ea6cb69"



---

archive/issue_comments_581599.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[2b42029](https://git.sagemath.org/sage.git/commit/?id=2b4202996338185c1078a82b5ab728c32ea6cb69)|`src/sage_setup/command/__init__.py: New`|",
    "created_at": "2020-06-03T02:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581599",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[2b42029](https://git.sagemath.org/sage.git/commit/?id=2b4202996338185c1078a82b5ab728c32ea6cb69)|`src/sage_setup/command/__init__.py: New`|



---

archive/issue_comments_581600.json:
```json
{
    "body": "<a id='comment:22'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|\n|[a830304](https://git.sagemath.org/sage.git/commit/?id=a830304883bce352fe65f1f8fe584ef0b6d64f74)|`src/sage_setup/command/sage_build_cython.py: Fix adding setup.py as dependency`|",
    "created_at": "2020-06-03T02:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581600",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|
|[a830304](https://git.sagemath.org/sage.git/commit/?id=a830304883bce352fe65f1f8fe584ef0b6d64f74)|`src/sage_setup/command/sage_build_cython.py: Fix adding setup.py as dependency`|



---

archive/issue_comments_581601.json:
```json
{
    "body": "Changing commit from \"2b4202996338185c1078a82b5ab728c32ea6cb69\" to \"a830304883bce352fe65f1f8fe584ef0b6d64f74\"",
    "created_at": "2020-06-03T02:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581601",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2b4202996338185c1078a82b5ab728c32ea6cb69" to "a830304883bce352fe65f1f8fe584ef0b6d64f74"



---

archive/issue_comments_581602.json:
```json
{
    "body": "Changing commit from \"a830304883bce352fe65f1f8fe584ef0b6d64f74\" to \"00a1d57d06a8b3e4bbf67876900e8c6d24a33cc2\"",
    "created_at": "2020-06-04T00:55:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581602",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a830304883bce352fe65f1f8fe584ef0b6d64f74" to "00a1d57d06a8b3e4bbf67876900e8c6d24a33cc2"



---

archive/issue_comments_581603.json:
```json
{
    "body": "<a id='comment:23'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|\n|[38b6bcf](https://git.sagemath.org/sage.git/commit/?id=38b6bcfa65c52d0cc07d1eaf66ece3e6d586dc05)|`Merge tag '9.2.beta0' into t/29411/make_sagelib_a_script_package`|\n|[f9a30f6](https://git.sagemath.org/sage.git/commit/?id=f9a30f60f7bcd47b5e3c781f0ad625e315765cea)|`build/pkgs/sagelib/spkg-install: Fix up error exits`|\n|[00a1d57](https://git.sagemath.org/sage.git/commit/?id=00a1d57d06a8b3e4bbf67876900e8c6d24a33cc2)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|",
    "created_at": "2020-06-04T00:55:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581603",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
|[38b6bcf](https://git.sagemath.org/sage.git/commit/?id=38b6bcfa65c52d0cc07d1eaf66ece3e6d586dc05)|`Merge tag '9.2.beta0' into t/29411/make_sagelib_a_script_package`|
|[f9a30f6](https://git.sagemath.org/sage.git/commit/?id=f9a30f60f7bcd47b5e3c781f0ad625e315765cea)|`build/pkgs/sagelib/spkg-install: Fix up error exits`|
|[00a1d57](https://git.sagemath.org/sage.git/commit/?id=00a1d57d06a8b3e4bbf67876900e8c6d24a33cc2)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|



---

archive/issue_comments_581604.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This is preparation for splitting sagelib into separate distutils packages, but a useful cleanup in any case.\n \n-As a follow-up of this ticket, the remaining very short `setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink src -> SAGE_ROOT/src)\n+As a follow-up of this ticket, as part of Meta-ticket #29705, the remaining very short `src/setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink `src` -> `SAGE_ROOT/src`)\n \n \n``````\n",
    "created_at": "2020-06-04T00:57:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581604",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This is preparation for splitting sagelib into separate distutils packages, but a useful cleanup in any case.
 
-As a follow-up of this ticket, the remaining very short `setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink src -> SAGE_ROOT/src)
+As a follow-up of this ticket, as part of Meta-ticket #29705, the remaining very short `src/setup.py` should probably be moved to `build/pkgs/sagelib/src/` (alongside a symlink `src` -> `SAGE_ROOT/src`)
 
 
``````




---

archive/issue_comments_581605.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                           |                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[d0dff56](https://git.sagemath.org/sage.git/commit/?id=d0dff56f6bb004b32f07c067b653f966bd1f7569)|`Trac #29345: replace a few uses of \"source\" with \".\"`|\n|[5ac420b](https://git.sagemath.org/sage.git/commit/?id=5ac420b15ac0e561e5e8f7f64bb9566a1b6e7890)|`Trac #29345: fix some bashisms in sage-env's resolvelinks() function.`|\n|[0a61795](https://git.sagemath.org/sage.git/commit/?id=0a617950488b3945fb6f494cec8b50e8486bd9dd)|`Trac #29345: don't force SHELL=bash any longer.`|\n|[5db5318](https://git.sagemath.org/sage.git/commit/?id=5db53186b9ae9a546bc78fc9107cc1af713b7e24)|`Trac #29345: remove \"break\" statements from AC_SEARCH_LIBS.`|\n|[e810ad1](https://git.sagemath.org/sage.git/commit/?id=e810ad1596d527c832bf43d3aac745407c9ba98d)|`Trac #29345: don't use sage's config.status for the lrcalc build.`|\n|[93c9921](https://git.sagemath.org/sage.git/commit/?id=93c9921cc5ff461cd1f02f441b46cea4400dcd85)|`Trac #29345: replace the function that populates the CVXOPT_* variables.`|\n|[0e66a0a](https://git.sagemath.org/sage.git/commit/?id=0e66a0abc00d5bf5ac1496e13f4d2f4ef7fe29dc)|`Trac #29345: add Dima's SPKG patches for ksh compatibility.`|\n|[df3f05e](https://git.sagemath.org/sage.git/commit/?id=df3f05e03ba671dd6be502ccae96d2a6162d29d4)|`build/make/Makefile.in [SCRIPT_PACKAGE_templ]: cd into the SPKG directory; adjust spkg-install scripts`|\n|[5372065](https://git.sagemath.org/sage.git/commit/?id=5372065710668ae1b36d059c2cbf9b6f325239c7)|`Merge branch 't/29793/script_packages_should_cd_into_the_spkg_directory' into t/29411/make_sagelib_a_script_package`|\n|[c166b97](https://git.sagemath.org/sage.git/commit/?id=c166b976775cdcd61e2b5c52a6585426f47646db)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|",
    "created_at": "2020-06-04T18:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581605",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                           |                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[d0dff56](https://git.sagemath.org/sage.git/commit/?id=d0dff56f6bb004b32f07c067b653f966bd1f7569)|`Trac #29345: replace a few uses of "source" with "."`|
|[5ac420b](https://git.sagemath.org/sage.git/commit/?id=5ac420b15ac0e561e5e8f7f64bb9566a1b6e7890)|`Trac #29345: fix some bashisms in sage-env's resolvelinks() function.`|
|[0a61795](https://git.sagemath.org/sage.git/commit/?id=0a617950488b3945fb6f494cec8b50e8486bd9dd)|`Trac #29345: don't force SHELL=bash any longer.`|
|[5db5318](https://git.sagemath.org/sage.git/commit/?id=5db53186b9ae9a546bc78fc9107cc1af713b7e24)|`Trac #29345: remove "break" statements from AC_SEARCH_LIBS.`|
|[e810ad1](https://git.sagemath.org/sage.git/commit/?id=e810ad1596d527c832bf43d3aac745407c9ba98d)|`Trac #29345: don't use sage's config.status for the lrcalc build.`|
|[93c9921](https://git.sagemath.org/sage.git/commit/?id=93c9921cc5ff461cd1f02f441b46cea4400dcd85)|`Trac #29345: replace the function that populates the CVXOPT_* variables.`|
|[0e66a0a](https://git.sagemath.org/sage.git/commit/?id=0e66a0abc00d5bf5ac1496e13f4d2f4ef7fe29dc)|`Trac #29345: add Dima's SPKG patches for ksh compatibility.`|
|[df3f05e](https://git.sagemath.org/sage.git/commit/?id=df3f05e03ba671dd6be502ccae96d2a6162d29d4)|`build/make/Makefile.in [SCRIPT_PACKAGE_templ]: cd into the SPKG directory; adjust spkg-install scripts`|
|[5372065](https://git.sagemath.org/sage.git/commit/?id=5372065710668ae1b36d059c2cbf9b6f325239c7)|`Merge branch 't/29793/script_packages_should_cd_into_the_spkg_directory' into t/29411/make_sagelib_a_script_package`|
|[c166b97](https://git.sagemath.org/sage.git/commit/?id=c166b976775cdcd61e2b5c52a6585426f47646db)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|



---

archive/issue_comments_581606.json:
```json
{
    "body": "Changing commit from \"00a1d57d06a8b3e4bbf67876900e8c6d24a33cc2\" to \"c166b976775cdcd61e2b5c52a6585426f47646db\"",
    "created_at": "2020-06-04T18:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581606",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "00a1d57d06a8b3e4bbf67876900e8c6d24a33cc2" to "c166b976775cdcd61e2b5c52a6585426f47646db"



---

archive/issue_comments_581607.json:
```json
{
    "body": "Changing commit from \"c166b976775cdcd61e2b5c52a6585426f47646db\" to \"8a41326ac22243bbf7f0fe57d3e8e5bc5246b436\"",
    "created_at": "2020-06-07T20:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581607",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c166b976775cdcd61e2b5c52a6585426f47646db" to "8a41326ac22243bbf7f0fe57d3e8e5bc5246b436"



---

archive/issue_comments_581608.json:
```json
{
    "body": "<a id='comment:27'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[cc30471](https://git.sagemath.org/sage.git/commit/?id=cc304711ef42f25733f1ca861801d87f58fa1118)|`build/bin/write-dockerfile.sh: Do not ADD removed file src/Makefile.in`|\n|[8a41326](https://git.sagemath.org/sage.git/commit/?id=8a41326ac22243bbf7f0fe57d3e8e5bc5246b436)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|",
    "created_at": "2020-06-07T20:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581608",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[cc30471](https://git.sagemath.org/sage.git/commit/?id=cc304711ef42f25733f1ca861801d87f58fa1118)|`build/bin/write-dockerfile.sh: Do not ADD removed file src/Makefile.in`|
|[8a41326](https://git.sagemath.org/sage.git/commit/?id=8a41326ac22243bbf7f0fe57d3e8e5bc5246b436)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|



---

archive/issue_comments_581609.json:
```json
{
    "body": "<a id='comment:28'></a>\nplease rebase this over 9.2.beta1",
    "created_at": "2020-06-15T10:42:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581609",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>
please rebase this over 9.2.beta1



---

archive/issue_comments_581610.json:
```json
{
    "body": "<a id='comment:29'></a>\nrebased over rebased #29411\n\n---\nLast 10 new commits:\n|                                                                                                                                          |                                                     |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n|[b212ce8](https://git.sagemath.org/sage.git/commit?id=b212ce8c65236d0b91713a9482d1de3ef6294310)|`build/pkgs/sagelib/spkg-install: Fix up error exits`|\n|[5790687](https://git.sagemath.org/sage.git/commit?id=5790687b9dbf244e1c6d49b42481d552e2d5537f)|`build/bin/write-dockerfile.sh: Do not ADD removed file src/Makefile.in`|\n|[851ab76](https://git.sagemath.org/sage.git/commit?id=851ab769826a38eb4fd6a988d69673ef6fd820e3)|`Make sagelib a script package`|\n|[f39a017](https://git.sagemath.org/sage.git/commit?id=f39a01734885f45dc33ee78aa1b0f5bde8edadd3)|`Move src/fpickle_setup.py to srs/sage_setup/`|\n|[363f792](https://git.sagemath.org/sage.git/commit?id=363f792debb12f170133fea41be362c361c8a0da)|`src/setup.py: Move class sage_install to new module sage_setup.command.sage_install`|\n|[a7cde9c](https://git.sagemath.org/sage.git/commit?id=a7cde9c35f9e9589d169d062c6f9c41537afb6d5)|`src/module_list.py: Move library_order to new module sage_setup.library_order`|\n|[7c4bbf6](https://git.sagemath.org/sage.git/commit?id=7c4bbf6dd3a604898f99784fdaf674eac9141454)|`src/setup.py: Move classes sage_build_* to new modules sage_setup.command.sage_*`|\n|[ddc49aa](https://git.sagemath.org/sage.git/commit?id=ddc49aa38a6020cabed09cd972c03ca0ed28e6d6)|`src/setup.py: Move excepthook to new module sage_setup.excepthook`|\n|[9cff0c6](https://git.sagemath.org/sage.git/commit?id=9cff0c62bafe1252087392676a12d665d12398e4)|`src/sage_setup/command/__init__.py: New`|\n|[56705f8](https://git.sagemath.org/sage.git/commit?id=56705f86e8f88e9d532cad3ee098283246cdea2d)|`src/sage_setup/command/sage_build_cython.py: Fix adding setup.py as dependency`|",
    "created_at": "2020-06-15T12:36:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581610",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>
rebased over rebased #29411

---
Last 10 new commits:
|                                                                                                                                          |                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
|[b212ce8](https://git.sagemath.org/sage.git/commit?id=b212ce8c65236d0b91713a9482d1de3ef6294310)|`build/pkgs/sagelib/spkg-install: Fix up error exits`|
|[5790687](https://git.sagemath.org/sage.git/commit?id=5790687b9dbf244e1c6d49b42481d552e2d5537f)|`build/bin/write-dockerfile.sh: Do not ADD removed file src/Makefile.in`|
|[851ab76](https://git.sagemath.org/sage.git/commit?id=851ab769826a38eb4fd6a988d69673ef6fd820e3)|`Make sagelib a script package`|
|[f39a017](https://git.sagemath.org/sage.git/commit?id=f39a01734885f45dc33ee78aa1b0f5bde8edadd3)|`Move src/fpickle_setup.py to srs/sage_setup/`|
|[363f792](https://git.sagemath.org/sage.git/commit?id=363f792debb12f170133fea41be362c361c8a0da)|`src/setup.py: Move class sage_install to new module sage_setup.command.sage_install`|
|[a7cde9c](https://git.sagemath.org/sage.git/commit?id=a7cde9c35f9e9589d169d062c6f9c41537afb6d5)|`src/module_list.py: Move library_order to new module sage_setup.library_order`|
|[7c4bbf6](https://git.sagemath.org/sage.git/commit?id=7c4bbf6dd3a604898f99784fdaf674eac9141454)|`src/setup.py: Move classes sage_build_* to new modules sage_setup.command.sage_*`|
|[ddc49aa](https://git.sagemath.org/sage.git/commit?id=ddc49aa38a6020cabed09cd972c03ca0ed28e6d6)|`src/setup.py: Move excepthook to new module sage_setup.excepthook`|
|[9cff0c6](https://git.sagemath.org/sage.git/commit?id=9cff0c62bafe1252087392676a12d665d12398e4)|`src/sage_setup/command/__init__.py: New`|
|[56705f8](https://git.sagemath.org/sage.git/commit?id=56705f86e8f88e9d532cad3ee098283246cdea2d)|`src/sage_setup/command/sage_build_cython.py: Fix adding setup.py as dependency`|



---

archive/issue_comments_581611.json:
```json
{
    "body": "Changing commit from \"8a41326ac22243bbf7f0fe57d3e8e5bc5246b436\" to \"56705f86e8f88e9d532cad3ee098283246cdea2d\"",
    "created_at": "2020-06-15T12:36:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581611",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "8a41326ac22243bbf7f0fe57d3e8e5bc5246b436" to "56705f86e8f88e9d532cad3ee098283246cdea2d"



---

archive/issue_comments_581612.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup\" to \"public/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup\"",
    "created_at": "2020-06-15T12:36:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581612",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "u/mkoeppe/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup" to "public/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup"



---

archive/issue_comments_581613.json:
```json
{
    "body": "<a id='comment:30'></a>\nArgh! I have a million tickets depending on this",
    "created_at": "2020-06-15T14:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581613",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
Argh! I have a million tickets depending on this



---

archive/issue_comments_581614.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2020-06-15T16:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581614",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_581615.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-15T16:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581615",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_581616.json:
```json
{
    "body": "<a id='comment:31'></a>\nwell, I don't quite know how to deal with it. The rebased branch works for me. Should we revert all these rebases, and just hope that the merges will work?",
    "created_at": "2020-06-15T16:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581616",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>
well, I don't quite know how to deal with it. The rebased branch works for me. Should we revert all these rebases, and just hope that the merges will work?



---

archive/issue_comments_581617.json:
```json
{
    "body": "<a id='comment:32'></a>\nYes, please restore to the unrebased ones. I know that the merges work, I am already testing on them",
    "created_at": "2020-06-15T16:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581617",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>
Yes, please restore to the unrebased ones. I know that the merges work, I am already testing on them



---

archive/issue_comments_581618.json:
```json
{
    "body": "<a id='comment:33'></a>\nIt's also fine with me if you *merge* in the current develop, but rebasing is too disruptive.",
    "created_at": "2020-06-15T16:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581618",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
It's also fine with me if you *merge* in the current develop, but rebasing is too disruptive.



---

archive/issue_comments_581619.json:
```json
{
    "body": "Changing commit from \"56705f86e8f88e9d532cad3ee098283246cdea2d\" to \"a56dc35031486df9378f17c2d2ae6405946fac25\"",
    "created_at": "2020-06-15T16:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581619",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "56705f86e8f88e9d532cad3ee098283246cdea2d" to "a56dc35031486df9378f17c2d2ae6405946fac25"



---

archive/issue_comments_581620.json:
```json
{
    "body": "<a id='comment:34'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[5db5318](https://git.sagemath.org/sage.git/commit/?id=5db53186b9ae9a546bc78fc9107cc1af713b7e24)|`Trac #29345: remove \"break\" statements from AC_SEARCH_LIBS.`|\n|[e810ad1](https://git.sagemath.org/sage.git/commit/?id=e810ad1596d527c832bf43d3aac745407c9ba98d)|`Trac #29345: don't use sage's config.status for the lrcalc build.`|\n|[93c9921](https://git.sagemath.org/sage.git/commit/?id=93c9921cc5ff461cd1f02f441b46cea4400dcd85)|`Trac #29345: replace the function that populates the CVXOPT_* variables.`|\n|[0e66a0a](https://git.sagemath.org/sage.git/commit/?id=0e66a0abc00d5bf5ac1496e13f4d2f4ef7fe29dc)|`Trac #29345: add Dima's SPKG patches for ksh compatibility.`|\n|[df3f05e](https://git.sagemath.org/sage.git/commit/?id=df3f05e03ba671dd6be502ccae96d2a6162d29d4)|`build/make/Makefile.in [SCRIPT_PACKAGE_templ]: cd into the SPKG directory; adjust spkg-install scripts`|\n|[5372065](https://git.sagemath.org/sage.git/commit/?id=5372065710668ae1b36d059c2cbf9b6f325239c7)|`Merge branch 't/29793/script_packages_should_cd_into_the_spkg_directory' into t/29411/make_sagelib_a_script_package`|\n|[c166b97](https://git.sagemath.org/sage.git/commit/?id=c166b976775cdcd61e2b5c52a6585426f47646db)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|\n|[cc30471](https://git.sagemath.org/sage.git/commit/?id=cc304711ef42f25733f1ca861801d87f58fa1118)|`build/bin/write-dockerfile.sh: Do not ADD removed file src/Makefile.in`|\n|[8a41326](https://git.sagemath.org/sage.git/commit/?id=8a41326ac22243bbf7f0fe57d3e8e5bc5246b436)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|\n|[a56dc35](https://git.sagemath.org/sage.git/commit/?id=a56dc35031486df9378f17c2d2ae6405946fac25)|`Merge tag '9.2.beta1' into t/29702/public/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|",
    "created_at": "2020-06-15T16:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581620",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[5db5318](https://git.sagemath.org/sage.git/commit/?id=5db53186b9ae9a546bc78fc9107cc1af713b7e24)|`Trac #29345: remove "break" statements from AC_SEARCH_LIBS.`|
|[e810ad1](https://git.sagemath.org/sage.git/commit/?id=e810ad1596d527c832bf43d3aac745407c9ba98d)|`Trac #29345: don't use sage's config.status for the lrcalc build.`|
|[93c9921](https://git.sagemath.org/sage.git/commit/?id=93c9921cc5ff461cd1f02f441b46cea4400dcd85)|`Trac #29345: replace the function that populates the CVXOPT_* variables.`|
|[0e66a0a](https://git.sagemath.org/sage.git/commit/?id=0e66a0abc00d5bf5ac1496e13f4d2f4ef7fe29dc)|`Trac #29345: add Dima's SPKG patches for ksh compatibility.`|
|[df3f05e](https://git.sagemath.org/sage.git/commit/?id=df3f05e03ba671dd6be502ccae96d2a6162d29d4)|`build/make/Makefile.in [SCRIPT_PACKAGE_templ]: cd into the SPKG directory; adjust spkg-install scripts`|
|[5372065](https://git.sagemath.org/sage.git/commit/?id=5372065710668ae1b36d059c2cbf9b6f325239c7)|`Merge branch 't/29793/script_packages_should_cd_into_the_spkg_directory' into t/29411/make_sagelib_a_script_package`|
|[c166b97](https://git.sagemath.org/sage.git/commit/?id=c166b976775cdcd61e2b5c52a6585426f47646db)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|
|[cc30471](https://git.sagemath.org/sage.git/commit/?id=cc304711ef42f25733f1ca861801d87f58fa1118)|`build/bin/write-dockerfile.sh: Do not ADD removed file src/Makefile.in`|
|[8a41326](https://git.sagemath.org/sage.git/commit/?id=8a41326ac22243bbf7f0fe57d3e8e5bc5246b436)|`Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|
|[a56dc35](https://git.sagemath.org/sage.git/commit/?id=a56dc35031486df9378f17c2d2ae6405946fac25)|`Merge tag '9.2.beta1' into t/29702/public/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup`|



---

archive/issue_comments_581621.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-06-15T16:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581621",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_581622.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [mkoeppe](#comment%3A33):\n> It's also fine with me if you *merge* in the current develop\n\nDid that, needs review",
    "created_at": "2020-06-15T16:24:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581622",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>
Replying to [mkoeppe](#comment%3A33):
> It's also fine with me if you *merge* in the current develop

Did that, needs review



---

archive/issue_comments_581623.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-16T13:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581623",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_581624.json:
```json
{
    "body": "<a id='comment:36'></a>\nlgtm",
    "created_at": "2020-06-16T13:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581624",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>
lgtm



---

archive/issue_comments_581625.json:
```json
{
    "body": "<a id='comment:37'></a>\nThank you!",
    "created_at": "2020-06-16T16:18:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581625",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>
Thank you!



---

archive/issue_comments_581626.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-02T21:30:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581626",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_581627.json:
```json
{
    "body": "Changing branch from \"public/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup\" to \"a56dc35031486df9378f17c2d2ae6405946fac25\"",
    "created_at": "2020-07-02T21:30:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581627",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup" to "a56dc35031486df9378f17c2d2ae6405946fac25"



---

archive/issue_events_075952.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-02T21:30:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29702#event-75952"
}
```



---

archive/issue_comments_581628.json:
```json
{
    "body": "<a id='comment:39'></a>\nThank you, the setup.py looks sooo much cleaner now.",
    "created_at": "2020-08-19T14:21:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581628",
    "user": "https://github.com/embray"
}
```

<a id='comment:39'></a>
Thank you, the setup.py looks sooo much cleaner now.



---

archive/issue_comments_581629.json:
```json
{
    "body": "Changing commit from \"a56dc35031486df9378f17c2d2ae6405946fac25\" to \"\"",
    "created_at": "2020-08-19T14:21:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29702",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29702#issuecomment-581629",
    "user": "https://github.com/embray"
}
```

Changing commit from "a56dc35031486df9378f17c2d2ae6405946fac25" to ""
