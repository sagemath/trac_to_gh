# Issue 29913: Upgrade OpenBLAS 0.3.13

archive/issues_029676.json:
```json
{
    "body": "This is to upgrade to OpenBLAS 0.3.13, released Dec 13, 2020.\nhttps://github.com/xianyi/OpenBLAS/releases\n\nPrevious:\n- #29378 Update OpenBLAS to 0.3.9\n\nCC:  @slel @dimpase @kiwifb @antonio-rojas @kliem\n\nKeywords: upgrade, openblas\n\nBranch/Commit: 1971508078ecf6edcb91dac9b782b6d4650c3d53\n\nReviewer: Jonathan Kliem\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29913\n\n",
    "closed_at": "2021-01-17T13:46:06Z",
    "created_at": "2020-06-20T10:42:08Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Upgrade OpenBLAS 0.3.13",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29913",
    "user": "https://github.com/slel"
}
```
This is to upgrade to OpenBLAS 0.3.13, released Dec 13, 2020.
https://github.com/xianyi/OpenBLAS/releases

Previous:
- #29378 Update OpenBLAS to 0.3.9

CC:  @slel @dimpase @kiwifb @antonio-rojas @kliem

Keywords: upgrade, openblas

Branch/Commit: 1971508078ecf6edcb91dac9b782b6d4650c3d53

Reviewer: Jonathan Kliem

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29913





---

archive/issue_comments_587095.json:
```json
{
    "body": "<a id='comment:1'></a>This would solve #28768.",
    "created_at": "2020-06-20T10:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587095",
    "user": "https://github.com/slel"
}
```

<a id='comment:1'></a>This would solve #28768.



---

archive/issue_comments_587096.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,7 @@\n This is to upgrade to OpenBLAS 0.3.10.\n+\n+Previous:\n+- #29378 Update OpenBLAS to 0.3.9\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-08-14T20:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587096",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,7 @@
 This is to upgrade to OpenBLAS 0.3.10.
+
+Previous:
+- #29378 Update OpenBLAS to 0.3.9
 
 Comment: 1
 
``````




---

archive/issue_comments_587097.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+This is to upgrade to OpenBLAS 0.3.10.\n+https://github.com/xianyi/OpenBLAS/releases\n \n+Previous:\n+- #29378 Update OpenBLAS to 0.3.9\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-08-14T21:11:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587097",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+This is to upgrade to OpenBLAS 0.3.10.
+https://github.com/xianyi/OpenBLAS/releases
 
+Previous:
+- #29378 Update OpenBLAS to 0.3.9
 
 Comment: 1
 
``````




---

archive/issue_events_076701.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29913#event-76701"
}
```



---

archive/issue_comments_587098.json:
```json
{
    "body": "<a id='comment:5'></a>Numpy is having trouble with OpenBLAS 0.3.12 - https://numpy.org/devdocs/release/1.19.4-notes.html\n\nSo we should probably wait before we make updates to OpenBLAS",
    "created_at": "2020-11-17T03:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587098",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>Numpy is having trouble with OpenBLAS 0.3.12 - https://numpy.org/devdocs/release/1.19.4-notes.html

So we should probably wait before we make updates to OpenBLAS



---

archive/issue_comments_587099.json:
```json
{
    "body": "<a id='comment:6'></a>Just commenting to note that upgrading to the (as yet unreleased) 0.3.13 would close #31007.",
    "created_at": "2020-12-05T01:59:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587099",
    "user": "https://github.com/NathanDunfield"
}
```

<a id='comment:6'></a>Just commenting to note that upgrading to the (as yet unreleased) 0.3.13 would close #31007.



---

archive/issue_comments_587100.json:
```json
{
    "body": "<a id='comment:7'></a>Our current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` (https://github.com/mkoeppe/sage/runs/1582256022):\n\n```\n  [openblas-0.3.9]   gcc -O2 -g -O2 -DMAX_STACK_ALLOC=2048 -Wall -m64 -DF_INTERFACE_GFORT -DNO_AVX512 -DSMP_SERVER -DNO_WARMUP -DMAX_CPU_NUMBER=2 -DMAX_PARALLEL_NUMBER=1 -DUSE_TLS -DVERSION=\\\"0.3.9\\\" -DASMNAME= -DASMFNAME=_ -DNAME=_ -DCNAME= -DCHAR_NAME=\\\"_\\\" -DCHAR_CNAME=\\\"\\\" -DNO_AFFINITY -I. -O2 -DMAX_STACK_ALLOC=2048 -Wall -m64 -DF_INTERFACE_GFORT -DNO_AVX512 -DSMP_SERVER -DNO_WARMUP -DMAX_CPU_NUMBER=2 -DMAX_PARALLEL_NUMBER=1 -DUSE_TLS -DVERSION=\\\"0.3.9\\\" -DASMNAME= -DASMFNAME=_ -DNAME=_ -DCNAME= -DCHAR_NAME=\\\"_\\\" -DCHAR_CNAME=\\\"\\\" -DNO_AFFINITY -I.. -L/opt/sage-cf31b79036db96b5fd9e0b22f44c3692bc22356b/lib -Wl,-rpath,/opt/sage-cf31b79036db96b5fd9e0b22f44c3692bc22356b/lib  cygopenblas.def dllinit.o \\\n  [openblas-0.3.9]   -shared -o ../cygopenblas.dll -Wl,--out-implib,../libopenblas.dll.a \\\n  [openblas-0.3.9]   -Wl,--whole-archive ../cygopenblas_atomp-r0.3.9.a -Wl,--no-whole-archive -L/c/mingw810/x86_64-810-posix-seh-rt_v6-rev0/mingw64/opt/lib -L/c/mingw810/prerequisites/x86_64-zlib-static/lib -L/c/mingw810/prerequisites/x86_64-w64-mingw32-static/lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0 -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../x86_64-w64-mingw32/lib/../lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../x86_64-w64-mingw32/lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../..  -lgfortran -lmingw32 -lmoldname -lmingwex -lmsvcrt -lquadmath -lm -lmingw32 -lmoldname -lmingwex -lmsvcrt -lpthread -liconv -lmingw32 -lmoldname -lmingwex -lmsvcrt   -lgfortran -lgfortran\n  [openblas-0.3.9]   C:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/libgfortran.a(read.o):(.text$_gfortrani_convert_real+0x6e): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `strtoflt128'\n  [openblas-0.3.9]   C:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/libgfortran.a(read.o):(.text$_gfortrani_convert_infnan+0x46): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `strtoflt128'\n  [openblas-0.3.9]   collect2: error: ld returned 1 exit status\n  [openblas-0.3.9]   make[4]: *** [Makefile:98: ../cygopenblas.dll] Error 1\n```\nIt should be checked whether the proposed upgrades fix this error.",
    "created_at": "2020-12-20T00:38:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587100",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>Our current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` (https://github.com/mkoeppe/sage/runs/1582256022):

```
  [openblas-0.3.9]   gcc -O2 -g -O2 -DMAX_STACK_ALLOC=2048 -Wall -m64 -DF_INTERFACE_GFORT -DNO_AVX512 -DSMP_SERVER -DNO_WARMUP -DMAX_CPU_NUMBER=2 -DMAX_PARALLEL_NUMBER=1 -DUSE_TLS -DVERSION=\"0.3.9\" -DASMNAME= -DASMFNAME=_ -DNAME=_ -DCNAME= -DCHAR_NAME=\"_\" -DCHAR_CNAME=\"\" -DNO_AFFINITY -I. -O2 -DMAX_STACK_ALLOC=2048 -Wall -m64 -DF_INTERFACE_GFORT -DNO_AVX512 -DSMP_SERVER -DNO_WARMUP -DMAX_CPU_NUMBER=2 -DMAX_PARALLEL_NUMBER=1 -DUSE_TLS -DVERSION=\"0.3.9\" -DASMNAME= -DASMFNAME=_ -DNAME=_ -DCNAME= -DCHAR_NAME=\"_\" -DCHAR_CNAME=\"\" -DNO_AFFINITY -I.. -L/opt/sage-cf31b79036db96b5fd9e0b22f44c3692bc22356b/lib -Wl,-rpath,/opt/sage-cf31b79036db96b5fd9e0b22f44c3692bc22356b/lib  cygopenblas.def dllinit.o \
  [openblas-0.3.9]   -shared -o ../cygopenblas.dll -Wl,--out-implib,../libopenblas.dll.a \
  [openblas-0.3.9]   -Wl,--whole-archive ../cygopenblas_atomp-r0.3.9.a -Wl,--no-whole-archive -L/c/mingw810/x86_64-810-posix-seh-rt_v6-rev0/mingw64/opt/lib -L/c/mingw810/prerequisites/x86_64-zlib-static/lib -L/c/mingw810/prerequisites/x86_64-w64-mingw32-static/lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0 -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../x86_64-w64-mingw32/lib/../lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../x86_64-w64-mingw32/lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../..  -lgfortran -lmingw32 -lmoldname -lmingwex -lmsvcrt -lquadmath -lm -lmingw32 -lmoldname -lmingwex -lmsvcrt -lpthread -liconv -lmingw32 -lmoldname -lmingwex -lmsvcrt   -lgfortran -lgfortran
  [openblas-0.3.9]   C:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/libgfortran.a(read.o):(.text$_gfortrani_convert_real+0x6e): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `strtoflt128'
  [openblas-0.3.9]   C:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/libgfortran.a(read.o):(.text$_gfortrani_convert_infnan+0x46): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `strtoflt128'
  [openblas-0.3.9]   collect2: error: ld returned 1 exit status
  [openblas-0.3.9]   make[4]: *** [Makefile:98: ../cygopenblas.dll] Error 1
```
It should be checked whether the proposed upgrades fix this error.



---

archive/issue_comments_587101.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+This is to upgrade to OpenBLAS 0.3.13, released Dec 13, 2020.\n+https://github.com/xianyi/OpenBLAS/releases\n \n+Previous:\n+- #29378 Update OpenBLAS to 0.3.9\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-12-20T00:39:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587101",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+This is to upgrade to OpenBLAS 0.3.13, released Dec 13, 2020.
+https://github.com/xianyi/OpenBLAS/releases
 
+Previous:
+- #29378 Update OpenBLAS to 0.3.9
 
 Comment: 1
 
``````




---

archive/issue_comments_587102.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/upgrade_openblas_0_3_13\"",
    "created_at": "2020-12-20T01:00:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587102",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/upgrade_openblas_0_3_13"



---

archive/issue_comments_587103.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-12-20T01:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587103",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_587104.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-12-20T01:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587104",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_587105.json:
```json
{
    "body": "Changing reviewer from \"\" to \"https://github.com/mkoeppe/sage/actions/runs/433187403\"",
    "created_at": "2020-12-20T01:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587105",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "https://github.com/mkoeppe/sage/actions/runs/433187403"



---

archive/issue_comments_587106.json:
```json
{
    "body": "<a id='comment:10'></a>New commits:",
    "created_at": "2020-12-20T01:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587106",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>New commits:



---

archive/issue_comments_587107.json:
```json
{
    "body": "Changing commit from \"\" to \"1971508078ecf6edcb91dac9b782b6d4650c3d53\"",
    "created_at": "2020-12-20T01:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587107",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "1971508078ecf6edcb91dac9b782b6d4650c3d53"



---

archive/issue_comments_587108.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:7 mkoeppe]:\n> Our current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` [...]\n> It should be checked whether the proposed upgrades fix this error. \n\n\nSame error with 0.3.13",
    "created_at": "2020-12-20T19:16:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587108",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>Replying to [comment:7 mkoeppe]:
> Our current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` [...]
> It should be checked whether the proposed upgrades fix this error. 


Same error with 0.3.13



---

archive/issue_comments_587109.json:
```json
{
    "body": "<a id='comment:12'></a>Otherwise this update looks unproblematic.",
    "created_at": "2020-12-20T19:20:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587109",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>Otherwise this update looks unproblematic.



---

archive/issue_comments_587110.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/mkoeppe/sage/actions/runs/433187403\" to \"https://github.com/mkoeppe/sage/actions/runs/433187403, ...\"",
    "created_at": "2020-12-21T18:07:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587110",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "https://github.com/mkoeppe/sage/actions/runs/433187403" to "https://github.com/mkoeppe/sage/actions/runs/433187403, ..."



---

archive/issue_comments_587111.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:11 mkoeppe]:\n> Replying to [comment:7 mkoeppe]:\n> > Our current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` [...]\n> > It should be checked whether the proposed upgrades fix this error. \n\n> \n> Same error with 0.3.13 \n\n\nThis really had nothing to do with openblas; see #31091.",
    "created_at": "2020-12-21T18:59:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587111",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>Replying to [comment:11 mkoeppe]:
> Replying to [comment:7 mkoeppe]:
> > Our current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` [...]
> > It should be checked whether the proposed upgrades fix this error. 

> 
> Same error with 0.3.13 


This really had nothing to do with openblas; see #31091.



---

archive/issue_comments_587112.json:
```json
{
    "body": "<a id='comment:16'></a>The testsuite on ubuntu bionic was not run\n\nhttps://github.com/mkoeppe/sage/runs/1583194874?check_suite_focus=true\n\n```\n ./sage -t -p --all --logfile=logs/ptest.log\nno stored timings available\nRunning doctests with ID 2020-12-20-03-25-13-c92ee485.\nUsing --optional=debian,dochtml,memlimit,pip,sage,sage_spkg\nDoctesting entire Sage library.\nTraceback (most recent call last):\n  File \"/sage/src/bin/sage-runtests\", line 182, in <module>\n    err = DC.run()\n  File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 1233, in run\n    self.expand_files_into_sources()\n  File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 816, in expand_files_into_sources\n    self.sources = [FileDocTestSource(path, self.options) for path in expand()]\n  File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 816, in <listcomp>\n    self.sources = [FileDocTestSource(path, self.options) for path in expand()]\n  File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 811, in expand\n    if not skipfile(os.path.join(root,file)):\n  File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 228, in skipfile\n    for line in F:\n  File \"/usr/lib/python3.6/encodings/ascii.py\", line 26, in decode\n    return codecs.ascii_decode(input, self.errors)[0]\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 5109: ordinal not in range(128)\nMakefile:189: recipe for target 'ptest' failed\nmake: *** [ptest] Error 1\n(error ignored)\n```\n\nIs this related to this ticket?",
    "created_at": "2021-01-06T09:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587112",
    "user": "https://github.com/kliem"
}
```

<a id='comment:16'></a>The testsuite on ubuntu bionic was not run

https://github.com/mkoeppe/sage/runs/1583194874?check_suite_focus=true

```
 ./sage -t -p --all --logfile=logs/ptest.log
no stored timings available
Running doctests with ID 2020-12-20-03-25-13-c92ee485.
Using --optional=debian,dochtml,memlimit,pip,sage,sage_spkg
Doctesting entire Sage library.
Traceback (most recent call last):
  File "/sage/src/bin/sage-runtests", line 182, in <module>
    err = DC.run()
  File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 1233, in run
    self.expand_files_into_sources()
  File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 816, in expand_files_into_sources
    self.sources = [FileDocTestSource(path, self.options) for path in expand()]
  File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 816, in <listcomp>
    self.sources = [FileDocTestSource(path, self.options) for path in expand()]
  File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 811, in expand
    if not skipfile(os.path.join(root,file)):
  File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 228, in skipfile
    for line in F:
  File "/usr/lib/python3.6/encodings/ascii.py", line 26, in decode
    return codecs.ascii_decode(input, self.errors)[0]
UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 5109: ordinal not in range(128)
Makefile:189: recipe for target 'ptest' failed
make: *** [ptest] Error 1
(error ignored)
```

Is this related to this ticket?



---

archive/issue_comments_587113.json:
```json
{
    "body": "<a id='comment:17'></a>Never mind. openblas isn't installed in this case, so it can't be the cause.",
    "created_at": "2021-01-06T09:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587113",
    "user": "https://github.com/kliem"
}
```

<a id='comment:17'></a>Never mind. openblas isn't installed in this case, so it can't be the cause.



---

archive/issue_comments_587114.json:
```json
{
    "body": "<a id='comment:18'></a>seems like an unrelated update broke python 3.6. Maybe we should stop foolong around with 3.6 already in 9.3?\n\nIf that 1% of Sage users without a better Python want to build Sage, they can first install a better Python.",
    "created_at": "2021-01-06T09:56:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587114",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>seems like an unrelated update broke python 3.6. Maybe we should stop foolong around with 3.6 already in 9.3?

If that 1% of Sage users without a better Python want to build Sage, they can first install a better Python.



---

archive/issue_comments_587115.json:
```json
{
    "body": "<a id='comment:19'></a>This ticket looks good to me.\n\nThere are a few occasions where https://github.com/mkoeppe/sage/actions/runs/433187403\n\nfails, but it looks like github related failures (running out of disk space etc). I can't discover any new failures and I checked that the doctests still look good.",
    "created_at": "2021-01-06T10:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587115",
    "user": "https://github.com/kliem"
}
```

<a id='comment:19'></a>This ticket looks good to me.

There are a few occasions where https://github.com/mkoeppe/sage/actions/runs/433187403

fails, but it looks like github related failures (running out of disk space etc). I can't discover any new failures and I checked that the doctests still look good.



---

archive/issue_comments_587116.json:
```json
{
    "body": "Changing reviewer from \"https://github.com/mkoeppe/sage/actions/runs/433187403, ...\" to \"Jonathan Kliem\"",
    "created_at": "2021-01-06T10:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587116",
    "user": "https://github.com/kliem"
}
```

Changing reviewer from "https://github.com/mkoeppe/sage/actions/runs/433187403, ..." to "Jonathan Kliem"



---

archive/issue_comments_587117.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-01-06T10:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587117",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_587118.json:
```json
{
    "body": "<a id='comment:20'></a>Thanks!",
    "created_at": "2021-01-06T18:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587118",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>Thanks!



---

archive/issue_comments_587119.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:16 gh-kliem]:\n> The testsuite on ubuntu bionic was not run\n> \n> https://github.com/mkoeppe/sage/runs/1583194874?check_suite_focus=true\n> \n> \n> ```\n>  ./sage -t -p --all --logfile=logs/ptest.log\n> no stored timings available\n> Running doctests with ID 2020-12-20-03-25-13-c92ee485.\n> Using --optional=debian,dochtml,memlimit,pip,sage,sage_spkg\n> Doctesting entire Sage library.\n> Traceback (most recent call last):\n>   File \"/sage/src/bin/sage-runtests\", line 182, in <module>\n>     err = DC.run()\n>   File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 1233, in run\n> ....\n> UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 5109: ordinal not in range(128)\n> Makefile:189: recipe for target 'ptest' failed\n> make: *** [ptest] Error 1\n> (error ignored)\n> ```\n\n\nThanks for catching this - I did not see it because unfortunately it does not show up in a log file. I have created #31191 for it.",
    "created_at": "2021-01-06T18:58:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587119",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>Replying to [comment:16 gh-kliem]:
> The testsuite on ubuntu bionic was not run
> 
> https://github.com/mkoeppe/sage/runs/1583194874?check_suite_focus=true
> 
> 
> ```
>  ./sage -t -p --all --logfile=logs/ptest.log
> no stored timings available
> Running doctests with ID 2020-12-20-03-25-13-c92ee485.
> Using --optional=debian,dochtml,memlimit,pip,sage,sage_spkg
> Doctesting entire Sage library.
> Traceback (most recent call last):
>   File "/sage/src/bin/sage-runtests", line 182, in <module>
>     err = DC.run()
>   File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 1233, in run
> ....
> UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 5109: ordinal not in range(128)
> Makefile:189: recipe for target 'ptest' failed
> make: *** [ptest] Error 1
> (error ignored)
> ```


Thanks for catching this - I did not see it because unfortunately it does not show up in a log file. I have created #31191 for it.



---

archive/issue_events_076702.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-01-17T13:46:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29913#event-76702"
}
```



---

archive/issue_comments_587120.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-01-17T13:46:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587120",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_587121.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/upgrade_openblas_0_3_13\" to \"1971508078ecf6edcb91dac9b782b6d4650c3d53\"",
    "created_at": "2021-01-17T13:46:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29913#issuecomment-587121",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/upgrade_openblas_0_3_13" to "1971508078ecf6edcb91dac9b782b6d4650c3d53"
