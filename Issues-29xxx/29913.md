# Issue 29913: Upgrade OpenBLAS 0.3.13

archive/issues_029676.json:
```json
{
    "assignees": [],
    "body": "This is to upgrade to OpenBLAS 0.3.13, released Dec 13, 2020.\nhttps://github.com/xianyi/OpenBLAS/releases\n\nPrevious:\n- #29378 Update OpenBLAS to 0.3.9\n\nCC:  @slel @dimpase @kiwifb @antonio-rojas @kliem\n\nKeywords: **upgrade, openblas**\n\nBranch/Commit: **[`1971508`](https://github.com/sagemath/sagetrac-mirror/commit/1971508078ecf6edcb91dac9b782b6d4650c3d53)**\n\nReviewer: **Jonathan Kliem**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29913_\n\n",
    "closed_at": "2021-01-17T13:46:06Z",
    "created_at": "2020-06-20T10:42:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade OpenBLAS 0.3.13",
    "type": "issue",
    "updated_at": "2021-01-17T13:46:06Z",
    "url": "https://github.com/sagemath/sage/issues/29913",
    "user": "https://github.com/slel"
}
```
This is to upgrade to OpenBLAS 0.3.13, released Dec 13, 2020.
https://github.com/xianyi/OpenBLAS/releases

Previous:
- #29378 Update OpenBLAS to 0.3.9

CC:  @slel @dimpase @kiwifb @antonio-rojas @kliem

Keywords: **upgrade, openblas**

Branch/Commit: **[`1971508`](https://github.com/sagemath/sagetrac-mirror/commit/1971508078ecf6edcb91dac9b782b6d4650c3d53)**

Reviewer: **Jonathan Kliem**

Author: **Matthias Koeppe**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/29913_





---

archive/issue_events_411738.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-06-20T10:42:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411738"
}
```



---

archive/issue_events_411739.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-06-20T10:42:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411739"
}
```



---

archive/issue_events_411740.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-06-20T10:42:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411740"
}
```



---

archive/issue_events_411741.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-06-20T10:42:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411741"
}
```



---

archive/issue_comments_472865.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThis would solve #28768.",
    "created_at": "2020-06-20T10:42:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472865",
    "user": "https://github.com/slel"
}
```

<div id="comment:1" align="right">comment:1</div>

This would solve #28768.



---

archive/issue_comments_472866.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n This is to upgrade to OpenBLAS 0.3.10.\n \n+Previous:\n+- #29378 Update OpenBLAS to 0.3.9\n``````\n",
    "created_at": "2020-08-14T20:02:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472866",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
 This is to upgrade to OpenBLAS 0.3.10.
 
+Previous:
+- #29378 Update OpenBLAS to 0.3.9
``````




---

archive/issue_comments_472867.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n This is to upgrade to OpenBLAS 0.3.10.\n+https://github.com/xianyi/OpenBLAS/releases\n \n Previous:\n - #29378 Update OpenBLAS to 0.3.9\n``````\n",
    "created_at": "2020-08-14T21:11:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472867",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
 This is to upgrade to OpenBLAS 0.3.10.
+https://github.com/xianyi/OpenBLAS/releases
 
 Previous:
 - #29378 Update OpenBLAS to 0.3.9
``````




---

archive/issue_events_411742.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411742"
}
```



---

archive/issue_events_411743.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411743"
}
```



---

archive/issue_comments_472868.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nNumpy is having trouble with OpenBLAS 0.3.12 - https://numpy.org/devdocs/release/1.19.4-notes.html\n\nSo we should probably wait before we make updates to OpenBLAS",
    "created_at": "2020-11-17T03:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472868",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Numpy is having trouble with OpenBLAS 0.3.12 - https://numpy.org/devdocs/release/1.19.4-notes.html

So we should probably wait before we make updates to OpenBLAS



---

archive/issue_comments_472869.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nJust commenting to note that upgrading to the (as yet unreleased) 0.3.13 would close #31007.",
    "created_at": "2020-12-05T01:59:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472869",
    "user": "https://github.com/NathanDunfield"
}
```

<div id="comment:6" align="right">comment:6</div>

Just commenting to note that upgrading to the (as yet unreleased) 0.3.13 would close #31007.



---

archive/issue_comments_472870.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOur current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` (https://github.com/mkoeppe/sage/runs/1582256022):\n\n```\n  [openblas-0.3.9]   gcc -O2 -g -O2 -DMAX_STACK_ALLOC=2048 -Wall -m64 -DF_INTERFACE_GFORT -DNO_AVX512 -DSMP_SERVER -DNO_WARMUP -DMAX_CPU_NUMBER=2 -DMAX_PARALLEL_NUMBER=1 -DUSE_TLS -DVERSION=\\\"0.3.9\\\" -DASMNAME= -DASMFNAME=_ -DNAME=_ -DCNAME= -DCHAR_NAME=\\\"_\\\" -DCHAR_CNAME=\\\"\\\" -DNO_AFFINITY -I. -O2 -DMAX_STACK_ALLOC=2048 -Wall -m64 -DF_INTERFACE_GFORT -DNO_AVX512 -DSMP_SERVER -DNO_WARMUP -DMAX_CPU_NUMBER=2 -DMAX_PARALLEL_NUMBER=1 -DUSE_TLS -DVERSION=\\\"0.3.9\\\" -DASMNAME= -DASMFNAME=_ -DNAME=_ -DCNAME= -DCHAR_NAME=\\\"_\\\" -DCHAR_CNAME=\\\"\\\" -DNO_AFFINITY -I.. -L/opt/sage-cf31b79036db96b5fd9e0b22f44c3692bc22356b/lib -Wl,-rpath,/opt/sage-cf31b79036db96b5fd9e0b22f44c3692bc22356b/lib  cygopenblas.def dllinit.o \\\n  [openblas-0.3.9]   -shared -o ../cygopenblas.dll -Wl,--out-implib,../libopenblas.dll.a \\\n  [openblas-0.3.9]   -Wl,--whole-archive ../cygopenblas_atomp-r0.3.9.a -Wl,--no-whole-archive -L/c/mingw810/x86_64-810-posix-seh-rt_v6-rev0/mingw64/opt/lib -L/c/mingw810/prerequisites/x86_64-zlib-static/lib -L/c/mingw810/prerequisites/x86_64-w64-mingw32-static/lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0 -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../x86_64-w64-mingw32/lib/../lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../x86_64-w64-mingw32/lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../..  -lgfortran -lmingw32 -lmoldname -lmingwex -lmsvcrt -lquadmath -lm -lmingw32 -lmoldname -lmingwex -lmsvcrt -lpthread -liconv -lmingw32 -lmoldname -lmingwex -lmsvcrt   -lgfortran -lgfortran\n  [openblas-0.3.9]   C:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/libgfortran.a(read.o):(.text$_gfortrani_convert_real+0x6e): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `strtoflt128'\n  [openblas-0.3.9]   C:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/libgfortran.a(read.o):(.text$_gfortrani_convert_infnan+0x46): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `strtoflt128'\n  [openblas-0.3.9]   collect2: error: ld returned 1 exit status\n  [openblas-0.3.9]   make[4]: *** [Makefile:98: ../cygopenblas.dll] Error 1\n```\nIt should be checked whether the proposed upgrades fix this error.",
    "created_at": "2020-12-20T00:38:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472870",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Our current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` (https://github.com/mkoeppe/sage/runs/1582256022):

```
  [openblas-0.3.9]   gcc -O2 -g -O2 -DMAX_STACK_ALLOC=2048 -Wall -m64 -DF_INTERFACE_GFORT -DNO_AVX512 -DSMP_SERVER -DNO_WARMUP -DMAX_CPU_NUMBER=2 -DMAX_PARALLEL_NUMBER=1 -DUSE_TLS -DVERSION=\"0.3.9\" -DASMNAME= -DASMFNAME=_ -DNAME=_ -DCNAME= -DCHAR_NAME=\"_\" -DCHAR_CNAME=\"\" -DNO_AFFINITY -I. -O2 -DMAX_STACK_ALLOC=2048 -Wall -m64 -DF_INTERFACE_GFORT -DNO_AVX512 -DSMP_SERVER -DNO_WARMUP -DMAX_CPU_NUMBER=2 -DMAX_PARALLEL_NUMBER=1 -DUSE_TLS -DVERSION=\"0.3.9\" -DASMNAME= -DASMFNAME=_ -DNAME=_ -DCNAME= -DCHAR_NAME=\"_\" -DCHAR_CNAME=\"\" -DNO_AFFINITY -I.. -L/opt/sage-cf31b79036db96b5fd9e0b22f44c3692bc22356b/lib -Wl,-rpath,/opt/sage-cf31b79036db96b5fd9e0b22f44c3692bc22356b/lib  cygopenblas.def dllinit.o \
  [openblas-0.3.9]   -shared -o ../cygopenblas.dll -Wl,--out-implib,../libopenblas.dll.a \
  [openblas-0.3.9]   -Wl,--whole-archive ../cygopenblas_atomp-r0.3.9.a -Wl,--no-whole-archive -L/c/mingw810/x86_64-810-posix-seh-rt_v6-rev0/mingw64/opt/lib -L/c/mingw810/prerequisites/x86_64-zlib-static/lib -L/c/mingw810/prerequisites/x86_64-w64-mingw32-static/lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0 -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../x86_64-w64-mingw32/lib/../lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../../../x86_64-w64-mingw32/lib -LC:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/../../..  -lgfortran -lmingw32 -lmoldname -lmingwex -lmsvcrt -lquadmath -lm -lmingw32 -lmoldname -lmingwex -lmsvcrt -lpthread -liconv -lmingw32 -lmoldname -lmingwex -lmsvcrt   -lgfortran -lgfortran
  [openblas-0.3.9]   C:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/libgfortran.a(read.o):(.text$_gfortrani_convert_real+0x6e): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `strtoflt128'
  [openblas-0.3.9]   C:/ProgramData/Chocolatey/lib/mingw/tools/install/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/8.1.0/libgfortran.a(read.o):(.text$_gfortrani_convert_infnan+0x46): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `strtoflt128'
  [openblas-0.3.9]   collect2: error: ld returned 1 exit status
  [openblas-0.3.9]   make[4]: *** [Makefile:98: ../cygopenblas.dll] Error 1
```
It should be checked whether the proposed upgrades fix this error.



---

archive/issue_comments_472871.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This is to upgrade to OpenBLAS 0.3.10.\n+This is to upgrade to OpenBLAS 0.3.13, released Dec 13, 2020.\n https://github.com/xianyi/OpenBLAS/releases\n \n Previous:\n``````\n",
    "created_at": "2020-12-20T00:39:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472871",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This is to upgrade to OpenBLAS 0.3.10.
+This is to upgrade to OpenBLAS 0.3.13, released Dec 13, 2020.
 https://github.com/xianyi/OpenBLAS/releases
 
 Previous:
``````




---

archive/issue_events_411744.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-20T00:39:49Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "title_is": "Upgrade OpenBLAS 0.3.13",
    "title_was": "Upgrade OpenBLAS 0.3.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411744"
}
```



---

archive/issue_comments_472872.json:
```json
{
    "body": "Branch: **[u/mkoeppe/upgrade_openblas_0_3_13](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_openblas_0_3_13)**",
    "created_at": "2020-12-20T01:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472872",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/upgrade_openblas_0_3_13](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_openblas_0_3_13)**



---

archive/issue_comments_472873.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-12-20T01:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472873",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_411745.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-20T01:07:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411745"
}
```



---

archive/issue_comments_472874.json:
```json
{
    "body": "Reviewer: **https://github.com/mkoeppe/sage/actions/runs/433187403**",
    "created_at": "2020-12-20T01:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472874",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **https://github.com/mkoeppe/sage/actions/runs/433187403**



---

archive/issue_comments_472875.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1971508078ecf6edcb91dac9b782b6d4650c3d53\">1971508</a></td><td><code>build/pkgs/openblas: Update to 0.3.13, drop patch</code></td></tr></table>\n",
    "created_at": "2020-12-20T01:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472875",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1971508078ecf6edcb91dac9b782b6d4650c3d53">1971508</a></td><td><code>build/pkgs/openblas: Update to 0.3.13, drop patch</code></td></tr></table>




---

archive/issue_comments_472876.json:
```json
{
    "body": "Commit: **[`1971508`](https://github.com/sagemath/sagetrac-mirror/commit/1971508078ecf6edcb91dac9b782b6d4650c3d53)**",
    "created_at": "2020-12-20T01:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472876",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`1971508`](https://github.com/sagemath/sagetrac-mirror/commit/1971508078ecf6edcb91dac9b782b6d4650c3d53)**



---

archive/issue_comments_472877.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@mkoeppe](#comment:7):\n> Our current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` [...]\n> It should be checked whether the proposed upgrades fix this error. \n\nSame error with 0.3.13",
    "created_at": "2020-12-20T19:16:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472877",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@mkoeppe](#comment:7):
> Our current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` [...]
> It should be checked whether the proposed upgrades fix this error. 

Same error with 0.3.13



---

archive/issue_comments_472878.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nOtherwise this update looks unproblematic.",
    "created_at": "2020-12-20T19:20:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472878",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

Otherwise this update looks unproblematic.



---

archive/issue_comments_472879.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/433187403** to **https://github.com/mkoeppe/sage/actions/runs/433187403, ...**",
    "created_at": "2020-12-21T18:07:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472879",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/433187403** to **https://github.com/mkoeppe/sage/actions/runs/433187403, ...**



---

archive/issue_comments_472880.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@mkoeppe](#comment:11):\n> Replying to [@mkoeppe](#comment:7):\n> > Our current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` [...]\n> > It should be checked whether the proposed upgrades fix this error. \n\n> \n> Same error with 0.3.13 \n\nThis really had nothing to do with openblas; see #31091.",
    "created_at": "2020-12-21T18:59:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472880",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@mkoeppe](#comment:11):
> Replying to [@mkoeppe](#comment:7):
> > Our current OpenBLAS 0.3.9 also does not build on `cygwin-minimal` [...]
> > It should be checked whether the proposed upgrades fix this error. 

> 
> Same error with 0.3.13 

This really had nothing to do with openblas; see #31091.



---

archive/issue_comments_472881.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThe testsuite on ubuntu bionic was not run\n\nhttps://github.com/mkoeppe/sage/runs/1583194874?check_suite_focus=true\n\n```\n ./sage -t -p --all --logfile=logs/ptest.log\nno stored timings available\nRunning doctests with ID 2020-12-20-03-25-13-c92ee485.\nUsing --optional=debian,dochtml,memlimit,pip,sage,sage_spkg\nDoctesting entire Sage library.\nTraceback (most recent call last):\n  File \"/sage/src/bin/sage-runtests\", line 182, in <module>\n    err = DC.run()\n  File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 1233, in run\n    self.expand_files_into_sources()\n  File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 816, in expand_files_into_sources\n    self.sources = [FileDocTestSource(path, self.options) for path in expand()]\n  File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 816, in <listcomp>\n    self.sources = [FileDocTestSource(path, self.options) for path in expand()]\n  File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 811, in expand\n    if not skipfile(os.path.join(root,file)):\n  File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 228, in skipfile\n    for line in F:\n  File \"/usr/lib/python3.6/encodings/ascii.py\", line 26, in decode\n    return codecs.ascii_decode(input, self.errors)[0]\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 5109: ordinal not in range(128)\nMakefile:189: recipe for target 'ptest' failed\nmake: *** [ptest] Error 1\n(error ignored)\n```\n\nIs this related to this ticket?",
    "created_at": "2021-01-06T09:31:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472881",
    "user": "https://github.com/kliem"
}
```

<div id="comment:16" align="right">comment:16</div>

The testsuite on ubuntu bionic was not run

https://github.com/mkoeppe/sage/runs/1583194874?check_suite_focus=true

```
 ./sage -t -p --all --logfile=logs/ptest.log
no stored timings available
Running doctests with ID 2020-12-20-03-25-13-c92ee485.
Using --optional=debian,dochtml,memlimit,pip,sage,sage_spkg
Doctesting entire Sage library.
Traceback (most recent call last):
  File "/sage/src/bin/sage-runtests", line 182, in <module>
    err = DC.run()
  File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 1233, in run
    self.expand_files_into_sources()
  File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 816, in expand_files_into_sources
    self.sources = [FileDocTestSource(path, self.options) for path in expand()]
  File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 816, in <listcomp>
    self.sources = [FileDocTestSource(path, self.options) for path in expand()]
  File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 811, in expand
    if not skipfile(os.path.join(root,file)):
  File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 228, in skipfile
    for line in F:
  File "/usr/lib/python3.6/encodings/ascii.py", line 26, in decode
    return codecs.ascii_decode(input, self.errors)[0]
UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 5109: ordinal not in range(128)
Makefile:189: recipe for target 'ptest' failed
make: *** [ptest] Error 1
(error ignored)
```

Is this related to this ticket?



---

archive/issue_comments_472882.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nNever mind. openblas isn't installed in this case, so it can't be the cause.",
    "created_at": "2021-01-06T09:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472882",
    "user": "https://github.com/kliem"
}
```

<div id="comment:17" align="right">comment:17</div>

Never mind. openblas isn't installed in this case, so it can't be the cause.



---

archive/issue_comments_472883.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nseems like an unrelated update broke python 3.6. Maybe we should stop foolong around with 3.6 already in 9.3?\n\nIf that 1% of Sage users without a better Python want to build Sage, they can first install a better Python.",
    "created_at": "2021-01-06T09:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472883",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

seems like an unrelated update broke python 3.6. Maybe we should stop foolong around with 3.6 already in 9.3?

If that 1% of Sage users without a better Python want to build Sage, they can first install a better Python.



---

archive/issue_comments_472884.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThis ticket looks good to me.\n\nThere are a few occasions where https://github.com/mkoeppe/sage/actions/runs/433187403\n\nfails, but it looks like github related failures (running out of disk space etc). I can't discover any new failures and I checked that the doctests still look good.",
    "created_at": "2021-01-06T10:05:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472884",
    "user": "https://github.com/kliem"
}
```

<div id="comment:19" align="right">comment:19</div>

This ticket looks good to me.

There are a few occasions where https://github.com/mkoeppe/sage/actions/runs/433187403

fails, but it looks like github related failures (running out of disk space etc). I can't discover any new failures and I checked that the doctests still look good.



---

archive/issue_comments_472885.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/433187403, ...** to **Jonathan Kliem**",
    "created_at": "2021-01-06T10:05:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472885",
    "user": "https://github.com/kliem"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/433187403, ...** to **Jonathan Kliem**



---

archive/issue_events_411746.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-01-06T10:05:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411746"
}
```



---

archive/issue_events_411747.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-01-06T10:05:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411747"
}
```



---

archive/issue_comments_472886.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThanks!",
    "created_at": "2021-01-06T18:53:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472886",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Thanks!



---

archive/issue_comments_472887.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@kliem](#comment:16):\n> The testsuite on ubuntu bionic was not run\n> \n> https://github.com/mkoeppe/sage/runs/1583194874?check_suite_focus=true\n> \n> ```\n>  ./sage -t -p --all --logfile=logs/ptest.log\n> no stored timings available\n> Running doctests with ID 2020-12-20-03-25-13-c92ee485.\n> Using --optional=debian,dochtml,memlimit,pip,sage,sage_spkg\n> Doctesting entire Sage library.\n> Traceback (most recent call last):\n>   File \"/sage/src/bin/sage-runtests\", line 182, in <module>\n>     err = DC.run()\n>   File \"/sage/local/lib/python3.6/site-packages/sage/doctest/control.py\", line 1233, in run\n> ....\n> UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 5109: ordinal not in range(128)\n> Makefile:189: recipe for target 'ptest' failed\n> make: *** [ptest] Error 1\n> (error ignored)\n> ```\n\nThanks for catching this - I did not see it because unfortunately it does not show up in a log file. I have created #31191 for it.",
    "created_at": "2021-01-06T18:58:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472887",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@kliem](#comment:16):
> The testsuite on ubuntu bionic was not run
> 
> https://github.com/mkoeppe/sage/runs/1583194874?check_suite_focus=true
> 
> ```
>  ./sage -t -p --all --logfile=logs/ptest.log
> no stored timings available
> Running doctests with ID 2020-12-20-03-25-13-c92ee485.
> Using --optional=debian,dochtml,memlimit,pip,sage,sage_spkg
> Doctesting entire Sage library.
> Traceback (most recent call last):
>   File "/sage/src/bin/sage-runtests", line 182, in <module>
>     err = DC.run()
>   File "/sage/local/lib/python3.6/site-packages/sage/doctest/control.py", line 1233, in run
> ....
> UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 5109: ordinal not in range(128)
> Makefile:189: recipe for target 'ptest' failed
> make: *** [ptest] Error 1
> (error ignored)
> ```

Thanks for catching this - I did not see it because unfortunately it does not show up in a log file. I have created #31191 for it.



---

archive/issue_events_411748.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-01-17T13:46:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411748"
}
```



---

archive/issue_events_411749.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "60e3d32477329749d3c819290207664166c1c5ed",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-01-17T13:46:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29913#event-411749"
}
```



---

archive/issue_comments_472888.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/upgrade_openblas_0_3_13](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_openblas_0_3_13)** to **[`1971508`](https://github.com/sagemath/sagetrac-mirror/commit/1971508078ecf6edcb91dac9b782b6d4650c3d53)**",
    "created_at": "2021-01-17T13:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29913#issuecomment-472888",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/upgrade_openblas_0_3_13](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_openblas_0_3_13)** to **[`1971508`](https://github.com/sagemath/sagetrac-mirror/commit/1971508078ecf6edcb91dac9b782b6d4650c3d53)**
