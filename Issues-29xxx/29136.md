# Issue 29136: improve documentation of pretty_print

archive/issues_028899.json:
```json
{
    "assignees": [],
    "body": "This ticket improves the documentation of `pretty_print`, which was previously missing from the documentation.\n\n\nCC:  @nbruin @mantepse\n\nBranch/Commit: **[`264bd7c`](https://github.com/sagemath/sagetrac-mirror/commit/264bd7cb7f83400a2a456ec449cec302393c314b)**\n\nReviewer: **Kwankyu Lee**\n\nAuthor: **Markus Wageringel**\n\nComponent: **refactoring**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29136_\n\n",
    "closed_at": "2021-08-29T09:37:53Z",
    "created_at": "2020-02-01T21:57:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "improve documentation of pretty_print",
    "type": "issue",
    "updated_at": "2021-08-29T09:37:53Z",
    "url": "https://github.com/sagemath/sage/issues/29136",
    "user": "https://github.com/mwageringel"
}
```
This ticket improves the documentation of `pretty_print`, which was previously missing from the documentation.


CC:  @nbruin @mantepse

Branch/Commit: **[`264bd7c`](https://github.com/sagemath/sagetrac-mirror/commit/264bd7cb7f83400a2a456ec449cec302393c314b)**

Reviewer: **Kwankyu Lee**

Author: **Markus Wageringel**

Component: **refactoring**

_Issue created by migration from https://trac.sagemath.org/ticket/29136_





---

archive/issue_events_400478.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-02-01T21:57:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400478"
}
```



---

archive/issue_events_400479.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-02-01T21:57:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400479"
}
```



---

archive/issue_events_400480.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-02-01T21:57:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400480"
}
```



---

archive/issue_events_400481.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-02-01T21:57:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400481"
}
```



---

archive/issue_comments_456770.json:
```json
{
    "body": "Branch: **[u/gh-mwageringel/29136](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136)**",
    "created_at": "2020-02-01T22:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456770",
    "user": "https://github.com/mwageringel"
}
```

Branch: **[u/gh-mwageringel/29136](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136)**



---

archive/issue_comments_456771.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fbeb36d4a51b45f435bc5dbaec775c679d7849b\"><code>8fbeb36</code></a></td><td><code>29136: add context manager for temporary display preferences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25517ec1ee19f5b8a4403c663873ab507656a8ba\"><code>25517ec</code></a></td><td><code>29136: change default display mode to plain for text-based backends</code></td></tr></table>\n",
    "created_at": "2020-02-01T22:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456771",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fbeb36d4a51b45f435bc5dbaec775c679d7849b"><code>8fbeb36</code></a></td><td><code>29136: add context manager for temporary display preferences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25517ec1ee19f5b8a4403c663873ab507656a8ba"><code>25517ec</code></a></td><td><code>29136: change default display mode to plain for text-based backends</code></td></tr></table>




---

archive/issue_comments_456772.json:
```json
{
    "body": "Author: **Markus Wageringel**",
    "created_at": "2020-02-01T22:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456772",
    "user": "https://github.com/mwageringel"
}
```

Author: **Markus Wageringel**



---

archive/issue_comments_456773.json:
```json
{
    "body": "Commit: **[`25517ec`](https://github.com/sagemath/sagetrac-mirror/commit/25517ec1ee19f5b8a4403c663873ab507656a8ba)**",
    "created_at": "2020-02-01T22:03:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456773",
    "user": "https://github.com/mwageringel"
}
```

Commit: **[`25517ec`](https://github.com/sagemath/sagetrac-mirror/commit/25517ec1ee19f5b8a4403c663873ab507656a8ba)**



---

archive/issue_events_400482.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2020-02-01T22:03:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400482"
}
```



---

archive/issue_comments_456774.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nlgtm, but what do you think about a shorter name for the context manager? `local_display_preferences` can probably be improved... how about `display_context` or just `display`? In particular the latter is evocative of `%display`, so `display(text='ascii_art)` would be the closest to `%display text ascii_art`. Only downside is a potential clash with the IPython `display` command, but then that isn't all that useful anyways and its clear from the import what is being used.",
    "created_at": "2020-02-01T23:38:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456774",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:2" align="right">comment:2</div>

lgtm, but what do you think about a shorter name for the context manager? `local_display_preferences` can probably be improved... how about `display_context` or just `display`? In particular the latter is evocative of `%display`, so `display(text='ascii_art)` would be the closest to `%display text ascii_art`. Only downside is a potential clash with the IPython `display` command, but then that isn't all that useful anyways and its clear from the import what is being used.



---

archive/issue_comments_456775.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n`display` sounds perhaps a bit too active. I really associate it with `print` and `show` and would expect it to do something similar. Indeed in\n\n```\nwith display(text=...):\n  pretty_print(...)\n```\nit's not so bad, but I would still go for `display_context` to avoid all confusion.",
    "created_at": "2020-02-02T06:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456775",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:3" align="right">comment:3</div>

`display` sounds perhaps a bit too active. I really associate it with `print` and `show` and would expect it to do something similar. Indeed in

```
with display(text=...):
  pretty_print(...)
```
it's not so bad, but I would still go for `display_context` to avoid all confusion.



---

archive/issue_comments_456776.json:
```json
{
    "body": "Changed commit from **[`25517ec`](https://github.com/sagemath/sagetrac-mirror/commit/25517ec1ee19f5b8a4403c663873ab507656a8ba)** to **[`7cc3a83`](https://github.com/sagemath/sagetrac-mirror/commit/7cc3a835279de3caa152b0ba2572b981e5979560)**",
    "created_at": "2020-02-02T11:28:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456776",
    "user": "https://github.com/mwageringel"
}
```

Changed commit from **[`25517ec`](https://github.com/sagemath/sagetrac-mirror/commit/25517ec1ee19f5b8a4403c663873ab507656a8ba)** to **[`7cc3a83`](https://github.com/sagemath/sagetrac-mirror/commit/7cc3a835279de3caa152b0ba2572b981e5979560)**



---

archive/issue_comments_456777.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThanks for the suggestions. I have renamed it to `display_context`. The previous name was indeed a bit unwieldy.\n\nI have also fixed the doctest failure in the Mathematica interface that was found by the patchbot ([diff](https://github.com/sagemath/sagetrac-mirror/compare/25517ec1ee19f5b8a4403c663873ab507656a8ba...7cc3a835279de3caa152b0ba2572b981e5979560)).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16b8b9af5302c70d9e63cba3f77ee62335baa3d7\"><code>16b8b9a</code></a></td><td><code>29136: add context manager for temporary display preferences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7cc3a835279de3caa152b0ba2572b981e5979560\"><code>7cc3a83</code></a></td><td><code>29136: change default display mode to plain for text-based backends</code></td></tr></table>\n",
    "created_at": "2020-02-02T11:28:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456777",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:4" align="right">comment:4</div>

Thanks for the suggestions. I have renamed it to `display_context`. The previous name was indeed a bit unwieldy.

I have also fixed the doctest failure in the Mathematica interface that was found by the patchbot ([diff](https://github.com/sagemath/sagetrac-mirror/compare/25517ec1ee19f5b8a4403c663873ab507656a8ba...7cc3a835279de3caa152b0ba2572b981e5979560)).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16b8b9af5302c70d9e63cba3f77ee62335baa3d7"><code>16b8b9a</code></a></td><td><code>29136: add context manager for temporary display preferences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7cc3a835279de3caa152b0ba2572b981e5979560"><code>7cc3a83</code></a></td><td><code>29136: change default display mode to plain for text-based backends</code></td></tr></table>




---

archive/issue_comments_456778.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n \n Besides changing the defaults, this ticket adds improvements to the documentation. In particular, the documentation of `pretty_print` now more clearly expresses what the function does. The implementation of `pretty_print` is left unchanged.\n \n-Moreover, a context manager `local_display_preferences` for temporarily changing the display preferences is added. Although not strictly necessary, this simplifies the doctests testing the behavior of text display `None` which is the default in the notebooks.\n+Moreover, a context manager `display_context` for temporarily changing the display preferences is added. Although not strictly necessary, this simplifies the doctests testing the behavior of text display `None` which is the default in the notebooks.\n \n ---\n \n``````\n",
    "created_at": "2020-02-02T11:28:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456778",
    "user": "https://github.com/mwageringel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 
 Besides changing the defaults, this ticket adds improvements to the documentation. In particular, the documentation of `pretty_print` now more clearly expresses what the function does. The implementation of `pretty_print` is left unchanged.
 
-Moreover, a context manager `local_display_preferences` for temporarily changing the display preferences is added. Although not strictly necessary, this simplifies the doctests testing the behavior of text display `None` which is the default in the notebooks.
+Moreover, a context manager `display_context` for temporarily changing the display preferences is added. Although not strictly necessary, this simplifies the doctests testing the behavior of text display `None` which is the default in the notebooks.
 
 ---
 
``````




---

archive/issue_comments_456779.json:
```json
{
    "body": "Changed branch from **[u/gh-mwageringel/29136](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136)** to **[u/gh-mwageringel/29136v2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v2)**",
    "created_at": "2020-02-02T11:28:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456779",
    "user": "https://github.com/mwageringel"
}
```

Changed branch from **[u/gh-mwageringel/29136](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136)** to **[u/gh-mwageringel/29136v2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v2)**



---

archive/issue_comments_456780.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nCould someone review this please?",
    "created_at": "2020-03-29T21:08:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456780",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:5" align="right">comment:5</div>

Could someone review this please?



---

archive/issue_events_400483.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400483"
}
```



---

archive/issue_events_400484.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400484"
}
```



---

archive/issue_comments_456781.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456781",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_456782.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a925035472a3f584a761d64541ba12c2f5ed482\"><code>2a92503</code></a></td><td><code>29136: fix optional mathematica doctest</code></td></tr></table>\n",
    "created_at": "2020-05-21T21:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456782",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a925035472a3f584a761d64541ba12c2f5ed482"><code>2a92503</code></a></td><td><code>29136: fix optional mathematica doctest</code></td></tr></table>




---

archive/issue_comments_456783.json:
```json
{
    "body": "Changed commit from **[`7cc3a83`](https://github.com/sagemath/sagetrac-mirror/commit/7cc3a835279de3caa152b0ba2572b981e5979560)** to **[`2a92503`](https://github.com/sagemath/sagetrac-mirror/commit/2a925035472a3f584a761d64541ba12c2f5ed482)**",
    "created_at": "2020-05-21T21:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456783",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7cc3a83`](https://github.com/sagemath/sagetrac-mirror/commit/7cc3a835279de3caa152b0ba2572b981e5979560)** to **[`2a92503`](https://github.com/sagemath/sagetrac-mirror/commit/2a925035472a3f584a761d64541ba12c2f5ed482)**



---

archive/issue_events_400485.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400485"
}
```



---

archive/issue_events_400486.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400486"
}
```



---

archive/issue_comments_456784.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456784",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_400487.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400487"
}
```



---

archive/issue_events_400488.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400488"
}
```



---

archive/issue_comments_456785.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAs of Sage 9.3.rc2, `pretty_print()` prints plain by default in a terminal",
    "created_at": "2021-04-08T03:59:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456785",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:10" align="right">comment:10</div>

As of Sage 9.3.rc2, `pretty_print()` prints plain by default in a terminal



---

archive/issue_comments_456786.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nActually text preference of the display manager does not affect terminal ipython backend.\n\n```\nsage: dm = get_display_manager()                                                \nsage: dm.preferences.text                                                       \nsage: pretty_print(x^2)                                                         \nx^2\nsage: dm.preferences.text = 'latex'                                             \nsage: pretty_print(x^2)                                                         \nx^2\nsage: latex(x^2)                                                                \nx^{2}\nsage: html(x^2)                                                                 \n<html><script type=\"math/tex; mode=display\">\\newcommand{\\Bold}[1]{\\mathbf{#1}}x^{2}</script></html>\n```",
    "created_at": "2021-04-08T04:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456786",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:11" align="right">comment:11</div>

Actually text preference of the display manager does not affect terminal ipython backend.

```
sage: dm = get_display_manager()                                                
sage: dm.preferences.text                                                       
sage: pretty_print(x^2)                                                         
x^2
sage: dm.preferences.text = 'latex'                                             
sage: pretty_print(x^2)                                                         
x^2
sage: latex(x^2)                                                                
x^{2}
sage: html(x^2)                                                                 
<html><script type="math/tex; mode=display">\newcommand{\Bold}[1]{\mathbf{#1}}x^{2}</script></html>
```



---

archive/issue_comments_456787.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@kwankyu](#comment:11):\n> Actually text preference of the display manager does not affect terminal ipython backend.\n\nWell, they do if set to `ascii_art` or `unicode_art`. As far as I can tell, this now behaves as it should. Thanks.\n\nIs there an interest in the other changes on the current branch or should we close this ticket? Mainly, the branch adds a context manager for changing the display preferences and improves the documentation of `pretty_print`.",
    "created_at": "2021-04-09T18:41:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456787",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@kwankyu](#comment:11):
> Actually text preference of the display manager does not affect terminal ipython backend.

Well, they do if set to `ascii_art` or `unicode_art`. As far as I can tell, this now behaves as it should. Thanks.

Is there an interest in the other changes on the current branch or should we close this ticket? Mainly, the branch adds a context manager for changing the display preferences and improves the documentation of `pretty_print`.



---

archive/issue_comments_456788.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@mwageringel](#comment:12):\n> Replying to [@kwankyu](#comment:11):\n> > Actually text preference of the display manager does not affect terminal ipython backend.\n\n> \n> Well, they do if set to `ascii_art` or `unicode_art`. As far as I can tell, this now behaves as it should. Thanks.\n\nRight. I missed that.\n\n> Is there an interest in the other changes on the current branch?\n\nI don't know. Possibly. At least you need to revise the ticket description, and explain what this ticket achieves in the changed situation.",
    "created_at": "2021-04-10T02:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456788",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@mwageringel](#comment:12):
> Replying to [@kwankyu](#comment:11):
> > Actually text preference of the display manager does not affect terminal ipython backend.

> 
> Well, they do if set to `ascii_art` or `unicode_art`. As far as I can tell, this now behaves as it should. Thanks.

Right. I missed that.

> Is there an interest in the other changes on the current branch?

I don't know. Possibly. At least you need to revise the ticket description, and explain what this ticket achieves in the changed situation.



---

archive/issue_events_400489.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-04-29T20:05:16Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "title_is": "context manager for display preferences and documentation improvements",
    "title_was": "make `%display text plain` the default for text-based backends",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400489"
}
```



---

archive/issue_comments_456789.json:
```json
{
    "body": "Changed commit from **[`2a92503`](https://github.com/sagemath/sagetrac-mirror/commit/2a925035472a3f584a761d64541ba12c2f5ed482)** to **[`433a3de`](https://github.com/sagemath/sagetrac-mirror/commit/433a3de3e6357e609c54314ce60a1ec1e3c01ec0)**",
    "created_at": "2021-04-29T20:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456789",
    "user": "https://github.com/mwageringel"
}
```

Changed commit from **[`2a92503`](https://github.com/sagemath/sagetrac-mirror/commit/2a925035472a3f584a761d64541ba12c2f5ed482)** to **[`433a3de`](https://github.com/sagemath/sagetrac-mirror/commit/433a3de3e6357e609c54314ce60a1ec1e3c01ec0)**



---

archive/issue_comments_456790.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1c0cd687c38d3834b0f5178b67535fda0535100\"><code>d1c0cd6</code></a></td><td><code>29136: add context manager for temporary display preferences</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/433a3de3e6357e609c54314ce60a1ec1e3c01ec0\"><code>433a3de</code></a></td><td><code>29136: improve documentation of pretty_print</code></td></tr></table>\n",
    "created_at": "2021-04-29T20:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456790",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:14"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1c0cd687c38d3834b0f5178b67535fda0535100"><code>d1c0cd6</code></a></td><td><code>29136: add context manager for temporary display preferences</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/433a3de3e6357e609c54314ce60a1ec1e3c01ec0"><code>433a3de</code></a></td><td><code>29136: improve documentation of pretty_print</code></td></tr></table>




---

archive/issue_comments_456791.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,34 +1,17 @@\n-This ticket changes the default text display preference for the text-based backends `BackendIPythonCommandline` and `BackendDoctest` from `None` (unspecified) to `\"plain\"`. This was brought up on [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/fXrv4JC6NEI).\n-\n-This change only affects the behavior of `pretty_print`. The `pretty_print` output defaults to Latex if the text display preference is not specified, which is unsuitable for text-based backends. After setting the default to `\"plain\"`, the output is plain text.\n+This ticket adds a context manager `display_context` for temporarily changing the display preferences, mainly useful for doctests.\n \n ```\n-sage: pretty_print(x^12)\n-\\newcommand{\\Bold}[1]{\\mathbf{#1}}x^{12}\n-sage: %display plain\n-sage: pretty_print(x^12)\n-x^12\n+    sage: pretty_print(x^2 / (x + 1))\n+    x^2/(x + 1)\n+\n+    sage: from sage.repl.rich_output.display_manager import display_context\n+    sage: with display_context(text='ascii_art'):\n+    ....:     pretty_print(x^2 / (x + 1))\n+       2\n+      x\n+    -----\n+    x + 1\n ```\n \n-Besides changing the defaults, this ticket adds improvements to the documentation. In particular, the documentation of `pretty_print` now more clearly expresses what the function does. The implementation of `pretty_print` is left unchanged.\n+Additionally, the documentation of `pretty_print` is improved.\n \n-Moreover, a context manager `display_context` for temporarily changing the display preferences is added. Although not strictly necessary, this simplifies the doctests testing the behavior of text display `None` which is the default in the notebooks.\n-\n----\n-\n-For reference, this is the backend hierarchy:\n-\n-- `BackendBase`\n-    - `BackendSimple` (used for .sage scripts)\n-    - [\u2714] `BackendDoctest`\n-    - `BackendTest` (mock backend for testing)\n-    - `BackendSageNB`\n-    - `BackendIPython`\n-        - [\u2714] `BackendIPythonCommandline`\n-            - `BackendEmacs`\n-        - `BackendIPythonNotebook`\n-        - `BackendCell` (sage cell server)\n-\n-The default preferences for all the other backends are left unchangend. In particular this applies to `BackendSimple`, as it is meant to be minimalistic and only supports plain text output anyway, so `pretty_print` does not use Latex output with this backend.\n-\n-\n``````\n",
    "created_at": "2021-04-29T20:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456791",
    "user": "https://github.com/mwageringel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,34 +1,17 @@
-This ticket changes the default text display preference for the text-based backends `BackendIPythonCommandline` and `BackendDoctest` from `None` (unspecified) to `"plain"`. This was brought up on [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/fXrv4JC6NEI).
-
-This change only affects the behavior of `pretty_print`. The `pretty_print` output defaults to Latex if the text display preference is not specified, which is unsuitable for text-based backends. After setting the default to `"plain"`, the output is plain text.
+This ticket adds a context manager `display_context` for temporarily changing the display preferences, mainly useful for doctests.
 
 ```
-sage: pretty_print(x^12)
-\newcommand{\Bold}[1]{\mathbf{#1}}x^{12}
-sage: %display plain
-sage: pretty_print(x^12)
-x^12
+    sage: pretty_print(x^2 / (x + 1))
+    x^2/(x + 1)
+
+    sage: from sage.repl.rich_output.display_manager import display_context
+    sage: with display_context(text='ascii_art'):
+    ....:     pretty_print(x^2 / (x + 1))
+       2
+      x
+    -----
+    x + 1
 ```
 
-Besides changing the defaults, this ticket adds improvements to the documentation. In particular, the documentation of `pretty_print` now more clearly expresses what the function does. The implementation of `pretty_print` is left unchanged.
+Additionally, the documentation of `pretty_print` is improved.
 
-Moreover, a context manager `display_context` for temporarily changing the display preferences is added. Although not strictly necessary, this simplifies the doctests testing the behavior of text display `None` which is the default in the notebooks.
-
----
-
-For reference, this is the backend hierarchy:
-
-- `BackendBase`
-    - `BackendSimple` (used for .sage scripts)
-    - [✔] `BackendDoctest`
-    - `BackendTest` (mock backend for testing)
-    - `BackendSageNB`
-    - `BackendIPython`
-        - [✔] `BackendIPythonCommandline`
-            - `BackendEmacs`
-        - `BackendIPythonNotebook`
-        - `BackendCell` (sage cell server)
-
-The default preferences for all the other backends are left unchangend. In particular this applies to `BackendSimple`, as it is meant to be minimalistic and only supports plain text output anyway, so `pretty_print` does not use Latex output with this backend.
-
-
``````




---

archive/issue_comments_456792.json:
```json
{
    "body": "Changed branch from **[u/gh-mwageringel/29136v2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v2)** to **[u/gh-mwageringel/29136v3](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v3)**",
    "created_at": "2021-04-29T20:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456792",
    "user": "https://github.com/mwageringel"
}
```

Changed branch from **[u/gh-mwageringel/29136v2](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v2)** to **[u/gh-mwageringel/29136v3](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v3)**



---

archive/issue_comments_456793.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nWhat is the advantage of using `display_context` over using existing `get_display_manager`? Can't we do the same in doctesting with the following?\n\n```\nsage: from sage.repl.rich_output import get_display_manager\nsage: dm = get_display_manager()\nsage: dm.preferences.text = 'ascii_art'  \n```",
    "created_at": "2021-04-30T04:56:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456793",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:15" align="right">comment:15</div>

What is the advantage of using `display_context` over using existing `get_display_manager`? Can't we do the same in doctesting with the following?

```
sage: from sage.repl.rich_output import get_display_manager
sage: dm = get_display_manager()
sage: dm.preferences.text = 'ascii_art'  
```



---

archive/issue_comments_456794.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nYes, that should work, but one also needs to set it back to the default value after the doctest, as it is not automatically reset by the doctesting framework. However, this would also add a pattern to the documentation that is not suitable for general use outside of doctests (in contrast to the context manager). Outside of tests, one would have to restore the previous value, not the default, and wrap everything in try-except, which is almost exactly what the context manager accomplishes.\n\nI admit the benefits are small. If you prefer, we can make this ticket just about the documentation. Otherwise, if we keep `display_context`, I will look for other places in the documentation that could make use of it.",
    "created_at": "2021-04-30T20:42:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456794",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:16" align="right">comment:16</div>

Yes, that should work, but one also needs to set it back to the default value after the doctest, as it is not automatically reset by the doctesting framework. However, this would also add a pattern to the documentation that is not suitable for general use outside of doctests (in contrast to the context manager). Outside of tests, one would have to restore the previous value, not the default, and wrap everything in try-except, which is almost exactly what the context manager accomplishes.

I admit the benefits are small. If you prefer, we can make this ticket just about the documentation. Otherwise, if we keep `display_context`, I will look for other places in the documentation that could make use of it.



---

archive/issue_events_400490.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-04-30T20:42:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400490"
}
```



---

archive/issue_events_400491.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-04-30T20:42:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400491"
}
```



---

archive/issue_comments_456795.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@mwageringel](#comment:16):\n> Yes, that should work, but one also needs to set it back to the default value after the doctest, as it is not automatically reset by the doctesting framework. \n\nOkay. How about outside of the doctesting framework? I myself do not use rich text output much. But if you do and find yourself frequently changing text preferences, doesn't it make sense to import `display_context` into the global namespace so that you do not need to import it in each session? This also would make the doctest look cleaner. But as our policy is to minimize the global namespace, we should do it only if it benefits many users.",
    "created_at": "2021-04-30T23:24:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456795",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@mwageringel](#comment:16):
> Yes, that should work, but one also needs to set it back to the default value after the doctest, as it is not automatically reset by the doctesting framework. 

Okay. How about outside of the doctesting framework? I myself do not use rich text output much. But if you do and find yourself frequently changing text preferences, doesn't it make sense to import `display_context` into the global namespace so that you do not need to import it in each session? This also would make the doctest look cleaner. But as our policy is to minimize the global namespace, we should do it only if it benefits many users.



---

archive/issue_comments_456796.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@kwankyu](#comment:17):\n> How about outside of the doctesting framework? I myself do not use rich text output much. But if you do and find yourself frequently changing text preferences, doesn't it make sense to import `display_context` into the global namespace so that you do not need to import it in each session?\n\nFor interactive use, I would just use the magic `%display unicode_art` for instance, so adding `display_context` to the global namespace does not seem necessary. I have added that magic to my sage.init file and rarely change it. I have difficulty to think of a non-hypothetical use-case in library code, so I admit this is not so useful outside doctests.",
    "created_at": "2021-05-01T14:30:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456796",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@kwankyu](#comment:17):
> How about outside of the doctesting framework? I myself do not use rich text output much. But if you do and find yourself frequently changing text preferences, doesn't it make sense to import `display_context` into the global namespace so that you do not need to import it in each session?

For interactive use, I would just use the magic `%display unicode_art` for instance, so adding `display_context` to the global namespace does not seem necessary. I have added that magic to my sage.init file and rarely change it. I have difficulty to think of a non-hypothetical use-case in library code, so I admit this is not so useful outside doctests.



---

archive/issue_comments_456797.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nFor doctesting rich output textual representations, functions like `ascii_art()`, `unicode_art()` are commonly used. So I don't see a room for `display_context` there.\n\nFor the documentation of `pretty_print`, `%display` magic should be used rather than `display_context` since that is what Sage users use to change preferences. Since `%display` errors out in doctests, we need to tag it `# not tested` \n\nIn conclusion, I don't see any real necessity or benefit of `display_context` in Sage.  \n\nOne other comment:\n\n```diff\n--- a/src/sage/repl/rich_output/pretty_print.py\n+++ b/src/sage/repl/rich_output/pretty_print.py\n@@ -4,7 +4,7 @@ The ``pretty_print`` command\n \n Works similar to the ``print`` function, except that it always tries\n to use a rich output for an object, as specified via the text display\n-preference. If such a rich output is not available, it is falling back on the\n+preference. If such a rich output is not available, it falls back on the\n plain text.\n \n EXAMPLES::\n```",
    "created_at": "2021-05-03T02:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456797",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:19" align="right">comment:19</div>

For doctesting rich output textual representations, functions like `ascii_art()`, `unicode_art()` are commonly used. So I don't see a room for `display_context` there.

For the documentation of `pretty_print`, `%display` magic should be used rather than `display_context` since that is what Sage users use to change preferences. Since `%display` errors out in doctests, we need to tag it `# not tested` 

In conclusion, I don't see any real necessity or benefit of `display_context` in Sage.  

One other comment:

```diff
--- a/src/sage/repl/rich_output/pretty_print.py
+++ b/src/sage/repl/rich_output/pretty_print.py
@@ -4,7 +4,7 @@ The ``pretty_print`` command
 
 Works similar to the ``print`` function, except that it always tries
 to use a rich output for an object, as specified via the text display
-preference. If such a rich output is not available, it is falling back on the
+preference. If such a rich output is not available, it falls back on the
 plain text.
 
 EXAMPLES::
```



---

archive/issue_events_400492.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-05-03T17:56:55Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "title_is": "improve documentation of pretty_print",
    "title_was": "context manager for display preferences and documentation improvements",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400492"
}
```



---

archive/issue_comments_456798.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nYes, I agree.\n\nReplying to [@kwankyu](#comment:19):\n> For the documentation of `pretty_print`, `%display` magic should be used rather than `display_context` since that is what Sage users use to change preferences. Since `%display` errors out in doctests, we need to tag it `# not tested` \n\nI have implemented this by hiding the actual change of the preferences in a `TESTS:` block which is not shown in the documentation. An alternative would be to use `get_test_shell()`, which is commonly done for such IPython specific features. This would have the advantage that it does not use `# not tested`, but makes the documentation a bit harder to understand.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f34fe56853e86675751f5e6217eb6fb068ec874\"><code>7f34fe5</code></a></td><td><code>29136: improve documentation of pretty_print</code></td></tr></table>\n",
    "created_at": "2021-05-03T17:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456798",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:20" align="right">comment:20</div>

Yes, I agree.

Replying to [@kwankyu](#comment:19):
> For the documentation of `pretty_print`, `%display` magic should be used rather than `display_context` since that is what Sage users use to change preferences. Since `%display` errors out in doctests, we need to tag it `# not tested` 

I have implemented this by hiding the actual change of the preferences in a `TESTS:` block which is not shown in the documentation. An alternative would be to use `get_test_shell()`, which is commonly done for such IPython specific features. This would have the advantage that it does not use `# not tested`, but makes the documentation a bit harder to understand.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f34fe56853e86675751f5e6217eb6fb068ec874"><code>7f34fe5</code></a></td><td><code>29136: improve documentation of pretty_print</code></td></tr></table>




---

archive/issue_comments_456799.json:
```json
{
    "body": "Changed commit from **[`433a3de`](https://github.com/sagemath/sagetrac-mirror/commit/433a3de3e6357e609c54314ce60a1ec1e3c01ec0)** to **[`7f34fe5`](https://github.com/sagemath/sagetrac-mirror/commit/7f34fe56853e86675751f5e6217eb6fb068ec874)**",
    "created_at": "2021-05-03T17:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456799",
    "user": "https://github.com/mwageringel"
}
```

Changed commit from **[`433a3de`](https://github.com/sagemath/sagetrac-mirror/commit/433a3de3e6357e609c54314ce60a1ec1e3c01ec0)** to **[`7f34fe5`](https://github.com/sagemath/sagetrac-mirror/commit/7f34fe56853e86675751f5e6217eb6fb068ec874)**



---

archive/issue_comments_456800.json:
```json
{
    "body": "Changed branch from **[u/gh-mwageringel/29136v3](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v3)** to **[u/gh-mwageringel/29136v4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v4)**",
    "created_at": "2021-05-03T17:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456800",
    "user": "https://github.com/mwageringel"
}
```

Changed branch from **[u/gh-mwageringel/29136v3](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v3)** to **[u/gh-mwageringel/29136v4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v4)**



---

archive/issue_comments_456801.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,17 +1,2 @@\n-This ticket adds a context manager `display_context` for temporarily changing the display preferences, mainly useful for doctests.\n+This ticket improves the documentation of `pretty_print`, which was previously missing from the documentation.\n \n-```\n-    sage: pretty_print(x^2 / (x + 1))\n-    x^2/(x + 1)\n-\n-    sage: from sage.repl.rich_output.display_manager import display_context\n-    sage: with display_context(text='ascii_art'):\n-    ....:     pretty_print(x^2 / (x + 1))\n-       2\n-      x\n-    -----\n-    x + 1\n-```\n-\n-Additionally, the documentation of `pretty_print` is improved.\n-\n``````\n",
    "created_at": "2021-05-03T17:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456801",
    "user": "https://github.com/mwageringel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,17 +1,2 @@
-This ticket adds a context manager `display_context` for temporarily changing the display preferences, mainly useful for doctests.
+This ticket improves the documentation of `pretty_print`, which was previously missing from the documentation.
 
-```
-    sage: pretty_print(x^2 / (x + 1))
-    x^2/(x + 1)
-
-    sage: from sage.repl.rich_output.display_manager import display_context
-    sage: with display_context(text='ascii_art'):
-    ....:     pretty_print(x^2 / (x + 1))
-       2
-      x
-    -----
-    x + 1
-```
-
-Additionally, the documentation of `pretty_print` is improved.
-
``````




---

archive/issue_events_400493.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-05-03T17:56:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400493"
}
```



---

archive/issue_events_400494.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-05-03T17:56:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400494"
}
```



---

archive/issue_events_400495.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-05-03T17:56:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400495"
}
```



---

archive/issue_events_400496.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-05-03T17:56:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400496"
}
```



---

archive/issue_comments_456802.json:
```json
{
    "body": "Reviewer: **Kwankyu Lee**",
    "created_at": "2021-05-04T01:14:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456802",
    "user": "https://github.com/kwankyu"
}
```

Reviewer: **Kwankyu Lee**



---

archive/issue_comments_456803.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nOkay. It seems that this is the best we can do right now. In the future, I hope we could remove the `# not tested` tag though.",
    "created_at": "2021-05-04T01:14:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456803",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:21" align="right">comment:21</div>

Okay. It seems that this is the best we can do right now. In the future, I hope we could remove the `# not tested` tag though.



---

archive/issue_events_400497.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-05-04T01:14:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400497"
}
```



---

archive/issue_events_400498.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-05-04T01:14:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400498"
}
```



---

archive/issue_events_400499.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-07-19T00:37:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400499"
}
```



---

archive/issue_events_400500.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-07-19T00:37:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400500"
}
```



---

archive/issue_comments_456804.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nMerge fails.",
    "created_at": "2021-07-19T00:37:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456804",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:22" align="right">comment:22</div>

Merge fails.



---

archive/issue_comments_456805.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/264bd7cb7f83400a2a456ec449cec302393c314b\"><code>264bd7c</code></a></td><td><code>Merge tag '9.4.beta6' into #29136</code></td></tr></table>\n",
    "created_at": "2021-07-26T20:09:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456805",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/264bd7cb7f83400a2a456ec449cec302393c314b"><code>264bd7c</code></a></td><td><code>Merge tag '9.4.beta6' into #29136</code></td></tr></table>




---

archive/issue_comments_456806.json:
```json
{
    "body": "Changed commit from **[`7f34fe5`](https://github.com/sagemath/sagetrac-mirror/commit/7f34fe56853e86675751f5e6217eb6fb068ec874)** to **[`264bd7c`](https://github.com/sagemath/sagetrac-mirror/commit/264bd7cb7f83400a2a456ec449cec302393c314b)**",
    "created_at": "2021-07-26T20:09:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456806",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7f34fe5`](https://github.com/sagemath/sagetrac-mirror/commit/7f34fe56853e86675751f5e6217eb6fb068ec874)** to **[`264bd7c`](https://github.com/sagemath/sagetrac-mirror/commit/264bd7cb7f83400a2a456ec449cec302393c314b)**



---

archive/issue_events_400501.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-07-26T20:11:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400501"
}
```



---

archive/issue_events_400502.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-07-26T20:11:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400502"
}
```



---

archive/issue_comments_456807.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nTrivial merge, so I am setting this back to positive.",
    "created_at": "2021-07-26T20:11:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456807",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:24" align="right">comment:24</div>

Trivial merge, so I am setting this back to positive.



---

archive/issue_events_400503.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-07-26T20:11:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400503"
}
```



---

archive/issue_events_400504.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2021-07-26T20:11:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400504"
}
```



---

archive/issue_events_400505.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400505"
}
```



---

archive/issue_events_400506.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400506"
}
```



---

archive/issue_comments_456808.json:
```json
{
    "body": "Changed branch from **[u/gh-mwageringel/29136v4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v4)** to **[`264bd7c`](https://github.com/sagemath/sagetrac-mirror/commit/264bd7cb7f83400a2a456ec449cec302393c314b)**",
    "created_at": "2021-08-29T09:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29136#issuecomment-456808",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-mwageringel/29136v4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-mwageringel/29136v4)** to **[`264bd7c`](https://github.com/sagemath/sagetrac-mirror/commit/264bd7cb7f83400a2a456ec449cec302393c314b)**



---

archive/issue_events_400507.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-08-29T09:37:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400507"
}
```



---

archive/issue_events_400508.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "16b165f4d26ac569e5d6fc601a4c87c0122763e3",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-08-29T09:37:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29136",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29136#event-400508"
}
```
