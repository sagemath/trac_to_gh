# Issue 29851: tox.ini: debian-bullseye, -sid have Python3.8 instead of 3.7

archive/issues_029614.json:
```json
{
    "body": "As per the wiki, running \n\n```\n\nbuild/bin/write-dockerfile.sh debian \"@(standard|optional)\" > Dockerfile\n```\n\n\nGenerates a Dockerfile, but running the dockerfile fails because Debian (at least) comes with Python3.8, not 3.7. This can be fixed by changing the file build/pkgs/python3/distros/debian.txt, but I don't know if that will have unexpected consequences.\n\nCC:  @dimpase @kliem\n\nBranch/Commit: 1e7becc551c3bad53ce67fa8457c5c3d977cad71\n\nReviewer: Jonathan Kliem\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29851\n\n",
    "closed_at": "2020-07-08T19:32:22Z",
    "created_at": "2020-06-12T21:09:08Z",
    "labels": [
        "component: porting",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "tox.ini: debian-bullseye, -sid have Python3.8 instead of 3.7",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29851",
    "user": "https://github.com/cduston44"
}
```
As per the wiki, running 

```

build/bin/write-dockerfile.sh debian "@(standard|optional)" > Dockerfile
```


Generates a Dockerfile, but running the dockerfile fails because Debian (at least) comes with Python3.8, not 3.7. This can be fixed by changing the file build/pkgs/python3/distros/debian.txt, but I don't know if that will have unexpected consequences.

CC:  @dimpase @kliem

Branch/Commit: 1e7becc551c3bad53ce67fa8457c5c3d977cad71

Reviewer: Jonathan Kliem

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29851





---

archive/issue_comments_586463.json:
```json
{
    "body": "<a id='comment:1'></a>\nYes, this will have to be changed when we support Python 3.8 (#27754). At the moment, we only accept Python 3.7.x in `configure`; ticket #29033 adds Python 3.6.x support.",
    "created_at": "2020-06-12T21:56:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586463",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>
Yes, this will have to be changed when we support Python 3.8 (#27754). At the moment, we only accept Python 3.7.x in `configure`; ticket #29033 adds Python 3.6.x support.



---

archive/issue_comments_586464.json:
```json
{
    "body": "<a id='comment:2'></a>\nAlso, see the flag IGNORE_MISSING_SYSTEM_PACKAGES in tox.ini, which we use both for too old versions of the distribution that don't have all packages, and for too new versions of the distribution, such as `ubuntu-focal`.",
    "created_at": "2020-06-12T21:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586464",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Also, see the flag IGNORE_MISSING_SYSTEM_PACKAGES in tox.ini, which we use both for too old versions of the distribution that don't have all packages, and for too new versions of the distribution, such as `ubuntu-focal`.



---

archive/issue_events_086279.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "rename": {
        "from": "write-dockerfile.sh: Debian has Python3.8 instead of 3.7",
        "to": "tox.ini: debian-bullseye, -sid have Python3.8 instead of 3.7"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29851#event-86279"
}
```



---

archive/issue_comments_586465.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7\"",
    "created_at": "2020-06-14T01:17:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586465",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7"



---

archive/issue_comments_586466.json:
```json
{
    "body": "Changing commit from \"\" to \"1e7becc551c3bad53ce67fa8457c5c3d977cad71\"",
    "created_at": "2020-06-14T01:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586466",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "1e7becc551c3bad53ce67fa8457c5c3d977cad71"



---

archive/issue_comments_586467.json:
```json
{
    "body": "<a id='comment:5'></a>\nNew commits:\n|                                                                                                                                          |                                                                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|\n|[1e7becc](https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71)|`tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev`|",
    "created_at": "2020-06-14T01:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586467",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
New commits:
|                                                                                                                                          |                                                                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
|[1e7becc](https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71)|`tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev`|



---

archive/issue_comments_586468.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-14T01:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586468",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_586469.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-06-14T01:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586469",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_586470.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jonathan Kliem\"",
    "created_at": "2020-06-18T19:04:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586470",
    "user": "https://github.com/kliem"
}
```

Changing reviewer from "" to "Jonathan Kliem"



---

archive/issue_comments_586471.json:
```json
{
    "body": "<a id='comment:7'></a>\nI already noticed the problem. So what this does it just make the workflow go through, even though it coulnd't install python3.7. It will later find out that no suitable python can be found and install python3.7 for sage.",
    "created_at": "2020-06-18T19:04:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586471",
    "user": "https://github.com/kliem"
}
```

<a id='comment:7'></a>
I already noticed the problem. So what this does it just make the workflow go through, even though it coulnd't install python3.7. It will later find out that no suitable python can be found and install python3.7 for sage.



---

archive/issue_comments_586472.json:
```json
{
    "body": "<a id='comment:8'></a>\nThat's right. Best we can do before we get to Python 3.8 compatibility in #27754, which seems to have stalled",
    "created_at": "2020-06-19T00:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586472",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
That's right. Best we can do before we get to Python 3.8 compatibility in #27754, which seems to have stalled



---

archive/issue_comments_586473.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-19T06:01:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586473",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_586474.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks!",
    "created_at": "2020-06-19T15:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586474",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Thanks!



---

archive/issue_comments_586475.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-08T19:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586475",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_586476.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7\" to \"1e7becc551c3bad53ce67fa8457c5c3d977cad71\"",
    "created_at": "2020-07-08T19:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29851#issuecomment-586476",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7" to "1e7becc551c3bad53ce67fa8457c5c3d977cad71"



---

archive/issue_events_086280.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-08T19:32:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29851",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29851#event-86280"
}
```
