# Issue 29404: Fix build failures of pynac on macos with system python3

archive/issues_029167.json:
```json
{
    "body": "https://github.com/mkoeppe/sage/runs/531095486\n\npynac:\n\n```\nchecking whether sage-python23 version is >= 2.7... yes\nchecking for sage-python23 version... 3.7\nchecking for sage-python23 platform... darwin\nchecking for sage-python23 script directory... ${prefix}/lib/python3.7/site-packages\nchecking for sage-python23 extension module directory... ${exec_prefix}/lib/python3.7/site-packages\nchecking for style of include used by make... GNU\nchecking for gcc... gcc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ISO C89... none needed\nchecking whether gcc understands -c and -o together... yes\nchecking dependency style of gcc... none\nchecking for python3.7... no\nconfigure: error: Cannot find python3.7 in your system path\n```\n\nFix in https://github.com/pynac/pynac/pull/351, https://github.com/mkoeppe/pynac/releases/tag/pynac-0.7.26.sage-2020-03-28\n\nThe \"temporary upstream\" tarball URL is in `checksums.ini`. To test the update on this branch: Use `make SAGE_SPKG=\"sage-spkg -o\" pynac-clean pynac`; this will download the new upstream package automatically.\n\n\n\n\n**CC:**  @dimpase @kiwifb @videlec @saraedum @isuruf @embray\n\n**Branch:** [7344e2df8bebecdab19924a14ff4dbe51cc514f9](https://github.com/sagemath/sagetrac-mirror/commit/7344e2df8bebecdab19924a14ff4dbe51cc514f9)\n\n**Upstream:** Completely fixed; Fix reported upstream\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/29404\n\n",
    "closed_at": "2020-04-16T22:33:49Z",
    "created_at": "2020-03-25T02:58:16Z",
    "labels": [
        "component: packages: standard",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "title": "Fix build failures of pynac on macos with system python3",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/29404",
    "user": "https://github.com/mkoeppe"
}
```
https://github.com/mkoeppe/sage/runs/531095486

pynac:

```
checking whether sage-python23 version is >= 2.7... yes
checking for sage-python23 version... 3.7
checking for sage-python23 platform... darwin
checking for sage-python23 script directory... ${prefix}/lib/python3.7/site-packages
checking for sage-python23 extension module directory... ${exec_prefix}/lib/python3.7/site-packages
checking for style of include used by make... GNU
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether gcc understands -c and -o together... yes
checking dependency style of gcc... none
checking for python3.7... no
configure: error: Cannot find python3.7 in your system path
```

Fix in https://github.com/pynac/pynac/pull/351, https://github.com/mkoeppe/pynac/releases/tag/pynac-0.7.26.sage-2020-03-28

The "temporary upstream" tarball URL is in `checksums.ini`. To test the update on this branch: Use `make SAGE_SPKG="sage-spkg -o" pynac-clean pynac`; this will download the new upstream package automatically.




**CC:**  @dimpase @kiwifb @videlec @saraedum @isuruf @embray

**Branch:** [7344e2df8bebecdab19924a14ff4dbe51cc514f9](https://github.com/sagemath/sagetrac-mirror/commit/7344e2df8bebecdab19924a14ff4dbe51cc514f9)

**Upstream:** Completely fixed; Fix reported upstream

**Reviewer:** Dima Pasechnik

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/29404





---

archive/issue_comments_464429.json:
```json
{
    "body": "<a id='comment:1'></a>\npynac's python discovery should be fixed, this looks completely broken",
    "created_at": "2020-03-25T03:27:46Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464429",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>
pynac's python discovery should be fixed, this looks completely broken



---

archive/issue_events_261676.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-25T03:31:07Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "rename": {
        "from": "Fix build failures of pplpy on macos with system python3",
        "to": "Fix build failures of pplpy and pynac on macos with system python3"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261676"
}
```



---

archive/issue_comments_464430.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis should be probably split into two tickets.\n\npplpy upstream is https://gitlab.com/videlec/pplpy - also in CC:",
    "created_at": "2020-03-25T03:48:50Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464430",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
This should be probably split into two tickets.

pplpy upstream is https://gitlab.com/videlec/pplpy - also in CC:



---

archive/issue_comments_464431.json:
```json
{
    "body": "<a id='comment:4'></a>\nYes for the split. I am surprised that problem shows now in pynac. I would have expected it to happen much earlier. The AX_PYTHON_DEVEL macro is 5 years old - which probably doesn't help.",
    "created_at": "2020-03-25T03:51:03Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464431",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'></a>
Yes for the split. I am surprised that problem shows now in pynac. I would have expected it to happen much earlier. The AX_PYTHON_DEVEL macro is 5 years old - which probably doesn't help.



---

archive/issue_comments_464432.json:
```json
{
    "body": "<a id='comment:5'></a>\nNote that I don't think the problem is in the macro, but something in there may trigger. I suspect the problem is in `AM_PATH_PYTHON` and that `PYTHON` needs to be defined when calling configure in `spkg-install`.",
    "created_at": "2020-03-25T03:54:16Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464432",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
Note that I don't think the problem is in the macro, but something in there may trigger. I suspect the problem is in `AM_PATH_PYTHON` and that `PYTHON` needs to be defined when calling configure in `spkg-install`.



---

archive/issue_comments_464433.json:
```json
{
    "body": "<a id='comment:6'></a>\nWhich is already done. So I am not sure what happens to override it. Access to config.log would be helpful.",
    "created_at": "2020-03-25T03:58:17Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464433",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'></a>
Which is already done. So I am not sure what happens to override it. Access to config.log would be helpful.



---

archive/issue_comments_464434.json:
```json
{
    "body": "<a id='comment:7'></a>\nYes, please go ahead with splitting the ticket.",
    "created_at": "2020-03-25T04:02:01Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464434",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Yes, please go ahead with splitting the ticket.



---

archive/issue_comments_464435.json:
```json
{
    "body": "<a id='comment:8'></a>\nIt looks from the log as here could be some mixing up happening between system python3 and Homebrew's python3 (unless Homebrew's python3 is using system's python3 headers by design).",
    "created_at": "2020-03-25T06:22:53Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464435",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
It looks from the log as here could be some mixing up happening between system python3 and Homebrew's python3 (unless Homebrew's python3 is using system's python3 headers by design).



---

archive/issue_comments_464436.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [@dimpase](#comment%3A8):\n> It looks from the log as here could be some mixing up happening between system python3 and Homebrew's python3 (unless Homebrew's python3 is using system's python3 headers by design).\n\nShouldn't happen. We pass `PYTHON=sage-python23` explicitly to configure. That's what should be tested.\nhttps://github.com/sagemath/sage/blob/develop/build/pkgs/pynac/spkg-install.in#L14\n\nMy gut feeling is that something funny happened to that line during processing. But I need config.log to establish it.",
    "created_at": "2020-03-25T06:44:52Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464436",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:9'></a>
Replying to [@dimpase](#comment%3A8):
> It looks from the log as here could be some mixing up happening between system python3 and Homebrew's python3 (unless Homebrew's python3 is using system's python3 headers by design).

Shouldn't happen. We pass `PYTHON=sage-python23` explicitly to configure. That's what should be tested.
https://github.com/sagemath/sage/blob/develop/build/pkgs/pynac/spkg-install.in#L14

My gut feeling is that something funny happened to that line during processing. But I need config.log to establish it.



---

archive/issue_comments_464437.json:
```json
{
    "body": "<a id='comment:10'></a>\nI don't have MacOS machine, but anyone with it may install Homebrew and try.",
    "created_at": "2020-03-25T07:05:48Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464437",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
I don't have MacOS machine, but anyone with it may install Homebrew and try.



---

archive/issue_comments_464438.json:
```json
{
    "body": "<a id='comment:11'></a>\nIt is more subtle than my implied gut feeling. The macro AX_PYTHON_DEVEL gets the right value for PYTHON and does its stuff based on that. I think `AM_PATH_PYTHON` doesn't like python with exotic names because it looks like it goes through a pre-defined list.",
    "created_at": "2020-03-25T07:23:57Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464438",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:11'></a>
It is more subtle than my implied gut feeling. The macro AX_PYTHON_DEVEL gets the right value for PYTHON and does its stuff based on that. I think `AM_PATH_PYTHON` doesn't like python with exotic names because it looks like it goes through a pre-defined list.



---

archive/issue_comments_464439.json:
```json
{
    "body": "<a id='comment:12'></a>\nisn't the location of Sage's Python exotic enough to choke it, if it were the case?",
    "created_at": "2020-03-25T07:27:41Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464439",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
isn't the location of Sage's Python exotic enough to choke it, if it were the case?



---

archive/issue_comments_464440.json:
```json
{
    "body": "<a id='comment:13'></a>\nIt would be :) \n\nCode inspection says I have it backwards. `AM_PATH_PYTHON` works and `AX_PYTHON_DEVEL` is the one failing.",
    "created_at": "2020-03-25T07:43:41Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464440",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:13'></a>
It would be :) 

Code inspection says I have it backwards. `AM_PATH_PYTHON` works and `AX_PYTHON_DEVEL` is the one failing.



---

archive/issue_comments_464441.json:
```json
{
    "body": "<a id='comment:14'></a>\nToxic. This is with an old sage I have around\n\n```\n[pynac-0.7.14] checking whether sage-python23 version is >= 2.7... yes\n[pynac-0.7.14] checking for sage-python23 version... 2.7\n[pynac-0.7.14] checking for sage-python23 platform... linux2\n[pynac-0.7.14] checking for sage-python23 script directory... ${prefix}/lib/python2.7/site-packages\n[pynac-0.7.14] checking for sage-python23 extension module directory... ${exec_prefix}/lib/python2.7/site-packages\n[pynac-0.7.14] checking for style of include used by make... GNU\n[pynac-0.7.14] checking for gcc... gcc\n[pynac-0.7.14] checking whether the C compiler works... yes\n[pynac-0.7.14] checking for C compiler default output file name... a.out\n[pynac-0.7.14] checking for suffix of executables... \n[pynac-0.7.14] checking whether we are cross compiling... no\n[pynac-0.7.14] checking for suffix of object files... o\n[pynac-0.7.14] checking whether we are using the GNU C compiler... yes\n[pynac-0.7.14] checking whether gcc accepts -g... yes\n[pynac-0.7.14] checking for gcc option to accept ISO C89... none needed\n[pynac-0.7.14] checking whether gcc understands -c and -o together... yes\n[pynac-0.7.14] checking dependency style of gcc... gcc3\n[pynac-0.7.14] checking for python2.7... /home/fbissey/sagemath/sage/local/bin/python2.7\n[pynac-0.7.14] checking for a version of Python >= '2.1.0'... yes\n[pynac-0.7.14] checking for the distutils Python package... yes\n[pynac-0.7.14] checking for Python include path... -I/home/fbissey/sagemath/sage/local/include/python2.7\n[pynac-0.7.14] checking for Python library path... -L/home/fbissey/sagemath/sage/local/lib -lpython2.7\n[pynac-0.7.14] checking for Python site-packages path... /home/fbissey/sagemath/sage/local/lib/python2.7/site-packages\n```\nAs you can see, the first test (`AM_PATH_PYTHON`) use `sage-python23` properly. But not the second that goes directly for `pythonX.Y`. Worse, that's by design of the macro.\n\n```\n\tAC_PATH_PROG([PYTHON],[python[$PYTHON_VERSION]])\n\tif test -z \"$PYTHON\"; then\n\t   AC_MSG_ERROR([Cannot find python$PYTHON_VERSION in your system path])\n\t   PYTHON_VERSION=\"\"\n\tfi\n```\nAnd for the cherry on the top of the cake, I believe `PYTHON_VERSION` is set by `AM_PATH_PYTHON`. Conclusion `AX_PYTHON_DEVEL` doesn't do exotic python name, and you better have a regular python executable in the PATH. Now, I'd like to know more about that setup that has `sage-python23` in the PATH but not the matching `pythonX.Y`. Did something happen while I wasn't looking?",
    "created_at": "2020-03-25T08:04:22Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464441",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:14'></a>
Toxic. This is with an old sage I have around

```
[pynac-0.7.14] checking whether sage-python23 version is >= 2.7... yes
[pynac-0.7.14] checking for sage-python23 version... 2.7
[pynac-0.7.14] checking for sage-python23 platform... linux2
[pynac-0.7.14] checking for sage-python23 script directory... ${prefix}/lib/python2.7/site-packages
[pynac-0.7.14] checking for sage-python23 extension module directory... ${exec_prefix}/lib/python2.7/site-packages
[pynac-0.7.14] checking for style of include used by make... GNU
[pynac-0.7.14] checking for gcc... gcc
[pynac-0.7.14] checking whether the C compiler works... yes
[pynac-0.7.14] checking for C compiler default output file name... a.out
[pynac-0.7.14] checking for suffix of executables... 
[pynac-0.7.14] checking whether we are cross compiling... no
[pynac-0.7.14] checking for suffix of object files... o
[pynac-0.7.14] checking whether we are using the GNU C compiler... yes
[pynac-0.7.14] checking whether gcc accepts -g... yes
[pynac-0.7.14] checking for gcc option to accept ISO C89... none needed
[pynac-0.7.14] checking whether gcc understands -c and -o together... yes
[pynac-0.7.14] checking dependency style of gcc... gcc3
[pynac-0.7.14] checking for python2.7... /home/fbissey/sagemath/sage/local/bin/python2.7
[pynac-0.7.14] checking for a version of Python >= '2.1.0'... yes
[pynac-0.7.14] checking for the distutils Python package... yes
[pynac-0.7.14] checking for Python include path... -I/home/fbissey/sagemath/sage/local/include/python2.7
[pynac-0.7.14] checking for Python library path... -L/home/fbissey/sagemath/sage/local/lib -lpython2.7
[pynac-0.7.14] checking for Python site-packages path... /home/fbissey/sagemath/sage/local/lib/python2.7/site-packages
```
As you can see, the first test (`AM_PATH_PYTHON`) use `sage-python23` properly. But not the second that goes directly for `pythonX.Y`. Worse, that's by design of the macro.

```
	AC_PATH_PROG([PYTHON],[python[$PYTHON_VERSION]])
	if test -z "$PYTHON"; then
	   AC_MSG_ERROR([Cannot find python$PYTHON_VERSION in your system path])
	   PYTHON_VERSION=""
	fi
```
And for the cherry on the top of the cake, I believe `PYTHON_VERSION` is set by `AM_PATH_PYTHON`. Conclusion `AX_PYTHON_DEVEL` doesn't do exotic python name, and you better have a regular python executable in the PATH. Now, I'd like to know more about that setup that has `sage-python23` in the PATH but not the matching `pythonX.Y`. Did something happen while I wasn't looking?



---

archive/issue_comments_464442.json:
```json
{
    "body": "<a id='comment:15'></a>\nUpdating `AX_PYTHON_DEVEL` would still give the same result. There is probably something smarter to do.",
    "created_at": "2020-03-25T08:07:44Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464442",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:15'></a>
Updating `AX_PYTHON_DEVEL` would still give the same result. There is probably something smarter to do.



---

archive/issue_comments_464443.json:
```json
{
    "body": "<a id='comment:16'></a>\nAll the stuff found by `AX_PYTHON_DEVEL` could be found by snipping bits of it and using the results from `AM_PATH_PYTHON`. This is a substantial rewrite of upstream's `configure.ac` that we are looking at. We only need to lift the bits that figure `PYTHON_CPPFLAGS` and `PYTHON_LDFLAGS`  (`PYTHON_LIBS` if lifted from the latest version of `AX_PYTHON_DEVEL`). The rest is provided by `AM_PATH_PYTHON`.",
    "created_at": "2020-03-25T09:06:27Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464443",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:16'></a>
All the stuff found by `AX_PYTHON_DEVEL` could be found by snipping bits of it and using the results from `AM_PATH_PYTHON`. This is a substantial rewrite of upstream's `configure.ac` that we are looking at. We only need to lift the bits that figure `PYTHON_CPPFLAGS` and `PYTHON_LDFLAGS`  (`PYTHON_LIBS` if lifted from the latest version of `AX_PYTHON_DEVEL`). The rest is provided by `AM_PATH_PYTHON`.



---

archive/issue_comments_464444.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [@kiwifb](#comment%3A4):\n> Yes for the split. I am surprised that problem shows now in pynac. I would have expected it to happen much earlier. The AX_PYTHON_DEVEL macro is 5 years old - which probably doesn't help.\n\nIt shows now because this is a test with system python3 (#27824) instead of building sage's own python3. On macOS, there is `/usr/bin/python3` (which is Python 3.7) but no `/usr/bin/python3.7`.",
    "created_at": "2020-03-25T11:53:42Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464444",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
Replying to [@kiwifb](#comment%3A4):
> Yes for the split. I am surprised that problem shows now in pynac. I would have expected it to happen much earlier. The AX_PYTHON_DEVEL macro is 5 years old - which probably doesn't help.

It shows now because this is a test with system python3 (#27824) instead of building sage's own python3. On macOS, there is `/usr/bin/python3` (which is Python 3.7) but no `/usr/bin/python3.7`.



---

archive/issue_comments_464445.json:
```json
{
    "body": "<a id='comment:18'></a>\nwould it work with Homebrew's python3 ?\nhttps://formulae.brew.sh/formula/python\n\n\nPython shipped with MacOS is dodgy, IMHO.",
    "created_at": "2020-03-25T14:58:53Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464445",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>
would it work with Homebrew's python3 ?
https://formulae.brew.sh/formula/python


Python shipped with MacOS is dodgy, IMHO.



---

archive/issue_comments_464446.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [@kiwifb](#comment%3A16):\n> All the stuff found by `AX_PYTHON_DEVEL` could be found by snipping bits of it and using the results from `AM_PATH_PYTHON`. This is a substantial rewrite of upstream's `configure.ac` that we are looking at. We only need to lift the bits that figure `PYTHON_CPPFLAGS` and `PYTHON_LDFLAGS`  (`PYTHON_LIBS` if lifted from the latest version of `AX_PYTHON_DEVEL`). The rest is provided by `AM_PATH_PYTHON`.\n\nYes, this sounds like the correct approach.",
    "created_at": "2020-03-25T17:29:01Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464446",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Replying to [@kiwifb](#comment%3A16):
> All the stuff found by `AX_PYTHON_DEVEL` could be found by snipping bits of it and using the results from `AM_PATH_PYTHON`. This is a substantial rewrite of upstream's `configure.ac` that we are looking at. We only need to lift the bits that figure `PYTHON_CPPFLAGS` and `PYTHON_LDFLAGS`  (`PYTHON_LIBS` if lifted from the latest version of `AX_PYTHON_DEVEL`). The rest is provided by `AM_PATH_PYTHON`.

Yes, this sounds like the correct approach.



---

archive/issue_comments_464447.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,16 +1,4 @@\n https://github.com/mkoeppe/sage/runs/531095486\n-\n-pplpy:\n-\n-```\n-    g++ -sdk macosx clang -bundle -undefined dynamic_lookup -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/lib -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/include -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/include build/temp.macosx-10.14-x86_64-3.7/ppl/linear_algebra.o build/temp.macosx-10.14-x86_64-3.7/ppl/ppl_shim.o -lgmp -lgmpxx -lppl -lm -o build/lib.macosx-10.14-x86_64-3.7/ppl/linear_algebra.cpython-37m-darwin.so\n-    clang: error: unknown argument: '-sdk'\n-    clang: error: no such file or directory: 'macosx'\n-    clang: error: no such file or directory: 'clang'\n-    error: command 'g++' failed with exit status 1\n-    Running setup.py install for pplpy: finished with status 'error'\n-Cleaning up...\n-```\n \n pynac:\n \n``````\n",
    "created_at": "2020-03-26T02:11:04Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464447",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,16 +1,4 @@
 https://github.com/mkoeppe/sage/runs/531095486
-
-pplpy:
-
-```
-    g++ -sdk macosx clang -bundle -undefined dynamic_lookup -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/lib -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/include -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/include build/temp.macosx-10.14-x86_64-3.7/ppl/linear_algebra.o build/temp.macosx-10.14-x86_64-3.7/ppl/ppl_shim.o -lgmp -lgmpxx -lppl -lm -o build/lib.macosx-10.14-x86_64-3.7/ppl/linear_algebra.cpython-37m-darwin.so
-    clang: error: unknown argument: '-sdk'
-    clang: error: no such file or directory: 'macosx'
-    clang: error: no such file or directory: 'clang'
-    error: command 'g++' failed with exit status 1
-    Running setup.py install for pplpy: finished with status 'error'
-Cleaning up...
-```
 
 pynac:
 
``````




---

archive/issue_events_261677.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-26T02:11:04Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "rename": {
        "from": "Fix build failures of pplpy and pynac on macos with system python3",
        "to": "Fix build failures of pynac on macos with system python3"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261677"
}
```



---

archive/issue_comments_464448.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [@dimpase](#comment%3A3):\n> This should be probably split into two tickets.\n> \n> pplpy upstream is https://gitlab.com/videlec/pplpy - also in CC:\n\npplpy is now #29408",
    "created_at": "2020-03-26T02:12:21Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464448",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Replying to [@dimpase](#comment%3A3):
> This should be probably split into two tickets.
> 
> pplpy upstream is https://gitlab.com/videlec/pplpy - also in CC:

pplpy is now #29408



---

archive/issue_comments_464449.json:
```json
{
    "body": "<a id='comment:22'></a>\nSome links for `AX_PYTHON_DEVEL`:\n- current version https://github.com/autoconf-archive/autoconf-archive/blob/master/m4/ax_python_devel.m4\n- some patch for it https://0xacab.org/schleuder/rpm-gpgme/blob/epel7-schleuder/0001-fix-stupid-ax_python_devel.patch\n- replacement using python-config https://trac.macports.org/attachment/ticket/39223/python.m4",
    "created_at": "2020-03-26T02:15:52Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464449",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Some links for `AX_PYTHON_DEVEL`:
- current version https://github.com/autoconf-archive/autoconf-archive/blob/master/m4/ax_python_devel.m4
- some patch for it https://0xacab.org/schleuder/rpm-gpgme/blob/epel7-schleuder/0001-fix-stupid-ax_python_devel.patch
- replacement using python-config https://trac.macports.org/attachment/ticket/39223/python.m4



---

archive/issue_comments_464450.json:
```json
{
    "body": "<a id='comment:23'></a>\nprobably we should try `replacement using python-config`- except that the name should not start with `AC_`...",
    "created_at": "2020-03-26T02:17:31Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464450",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>
probably we should try `replacement using python-config`- except that the name should not start with `AC_`...



---

archive/issue_comments_464451.json:
```json
{
    "body": "<a id='comment:24'></a>\n... and except that we do not have `sage-python23-config`",
    "created_at": "2020-03-26T02:53:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464451",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
... and except that we do not have `sage-python23-config`



---

archive/issue_comments_464452.json:
```json
{
    "body": "<a id='comment:25'></a>\nIn the same bag, you could be tempted to use `python-X.Y.pc`, `AM_PATH_PYTHON` identifies the python version correctly. I eliminated it from my solutions yesterday but that may be viable if it is shipped consistently. If not, the `AX_PYTHON_DEVEL` macro just runs python commands to get at sysconfig. It is a fairly valid strategy.",
    "created_at": "2020-03-26T03:10:33Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464452",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:25'></a>
In the same bag, you could be tempted to use `python-X.Y.pc`, `AM_PATH_PYTHON` identifies the python version correctly. I eliminated it from my solutions yesterday but that may be viable if it is shipped consistently. If not, the `AX_PYTHON_DEVEL` macro just runs python commands to get at sysconfig. It is a fairly valid strategy.



---

archive/issue_comments_464453.json:
```json
{
    "body": "<a id='comment:26'></a>\nNo python pkgconfig on macOS without homebrew",
    "created_at": "2020-03-26T03:12:24Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464453",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
No python pkgconfig on macOS without homebrew



---

archive/issue_comments_464454.json:
```json
{
    "body": "<a id='comment:27'></a>\nKeep forgetting about that.",
    "created_at": "2020-03-26T03:14:43Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464454",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:27'></a>
Keep forgetting about that.



---

archive/issue_comments_464455.json:
```json
{
    "body": "<a id='comment:28'></a>\nAnd on my mac I have python3  but not python-config for it, just python 2.7. So Mac support (without homebrew) needs to probe the python interpreter directly - at the time of writing.",
    "created_at": "2020-03-26T03:21:01Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464455",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:28'></a>
And on my mac I have python3  but not python-config for it, just python 2.7. So Mac support (without homebrew) needs to probe the python interpreter directly - at the time of writing.



---

archive/issue_comments_464456.json:
```json
{
    "body": "<a id='comment:29'></a>\nlet us try with Homebrew Python first. One can always add moar insanity later",
    "created_at": "2020-03-26T03:28:38Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464456",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>
let us try with Homebrew Python first. One can always add moar insanity later



---

archive/issue_comments_464457.json:
```json
{
    "body": "<a id='comment:30'></a>\nThat's the path of less resistance but I consider `AX_PYTHON_DEVEL` broken (including the latest one) and in need of replacement.",
    "created_at": "2020-03-26T03:35:28Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464457",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:30'></a>
That's the path of less resistance but I consider `AX_PYTHON_DEVEL` broken (including the latest one) and in need of replacement.



---

archive/issue_comments_464458.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [@dimpase](#comment%3A29):\n> let us try with Homebrew Python first. One can always add moar insanity later\n\nNothing try here. We already know precisely how it fails and what needs fixing: the use of that macro.",
    "created_at": "2020-03-26T03:41:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464458",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>
Replying to [@dimpase](#comment%3A29):
> let us try with Homebrew Python first. One can always add moar insanity later

Nothing try here. We already know precisely how it fails and what needs fixing: the use of that macro.



---

archive/issue_comments_464459.json:
```json
{
    "body": "<a id='comment:33'></a>\nI have a first version of a patch for pynac at https://github.com/pynac/pynac/pull/351",
    "created_at": "2020-03-28T04:58:38Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464459",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
I have a first version of a patch for pynac at https://github.com/pynac/pynac/pull/351



---

archive/issue_comments_464460.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/fix_build_failures_of_pynac_on_macos_with_system_python3](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_build_failures_of_pynac_on_macos_with_system_python3)",
    "created_at": "2020-03-28T15:10:31Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464460",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/fix_build_failures_of_pynac_on_macos_with_system_python3](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_build_failures_of_pynac_on_macos_with_system_python3)



---

archive/issue_comments_464461.json:
```json
{
    "body": "<a id='comment:35'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c97807a2131a7c3d00db3451c18b1bfdfdbe95cd\">c97807a</a></td><td><code>build/pkgs/pynac: Use 0.7.26.sage-2020-03-28</code></td></tr></table>\n",
    "created_at": "2020-03-28T15:12:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464461",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c97807a2131a7c3d00db3451c18b1bfdfdbe95cd">c97807a</a></td><td><code>build/pkgs/pynac: Use 0.7.26.sage-2020-03-28</code></td></tr></table>




---

archive/issue_comments_464462.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2020-03-28T15:12:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464462",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_464463.json:
```json
{
    "body": "**Commit:** [c97807a2131a7c3d00db3451c18b1bfdfdbe95cd](https://github.com/sagemath/sagetrac-mirror/commit/c97807a2131a7c3d00db3451c18b1bfdfdbe95cd)",
    "created_at": "2020-03-28T15:12:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464463",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [c97807a2131a7c3d00db3451c18b1bfdfdbe95cd](https://github.com/sagemath/sagetrac-mirror/commit/c97807a2131a7c3d00db3451c18b1bfdfdbe95cd)



---

archive/issue_comments_464464.json:
```json
{
    "body": "**Upstream:** Completely fixed; Fix reported upstream",
    "created_at": "2020-03-28T15:12:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464464",
    "user": "https://github.com/mkoeppe"
}
```

**Upstream:** Completely fixed; Fix reported upstream



---

archive/issue_events_261678.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-28T15:16:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261678"
}
```



---

archive/issue_comments_464465.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -24,3 +24,9 @@\n configure: error: Cannot find python3.7 in your system path\n ```\n \n+Fix in https://github.com/pynac/pynac/pull/351, https://github.com/mkoeppe/pynac/releases/tag/pynac-0.7.26.sage-2020-03-28\n+\n+The \"temporary upstream\" tarball URL is in `checksums.ini`. To test the update on this branch: Use `make SAGE_SPKG=\"sage-spkg -o\" pynac-clean pynac`; this will download the new upstream package automatically.\n+\n+\n+\n``````\n",
    "created_at": "2020-03-28T15:16:43Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464465",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -24,3 +24,9 @@
 configure: error: Cannot find python3.7 in your system path
 ```
 
+Fix in https://github.com/pynac/pynac/pull/351, https://github.com/mkoeppe/pynac/releases/tag/pynac-0.7.26.sage-2020-03-28
+
+The "temporary upstream" tarball URL is in `checksums.ini`. To test the update on this branch: Use `make SAGE_SPKG="sage-spkg -o" pynac-clean pynac`; this will download the new upstream package automatically.
+
+
+
``````




---

archive/issue_events_261679.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2020-03-28T15:30:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261679"
}
```



---

archive/issue_events_261680.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2020-03-28T15:30:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261680"
}
```



---

archive/issue_comments_464466.json:
```json
{
    "body": "<a id='comment:37'></a>\nYou shouldn't link to the shared python library. If you do, you'll run into https://github.com/pynac/pynac/issues/337",
    "created_at": "2020-03-28T15:30:19Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464466",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:37'></a>
You shouldn't link to the shared python library. If you do, you'll run into https://github.com/pynac/pynac/issues/337



---

archive/issue_comments_464467.json:
```json
{
    "body": "<a id='comment:38'></a>\nHelp with this is very welcome! I have to work on something else this weekend",
    "created_at": "2020-03-28T15:53:37Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464467",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'></a>
Help with this is very welcome! I have to work on something else this weekend



---

archive/issue_comments_464468.json:
```json
{
    "body": "<a id='comment:39'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f2b3362bf0fe885916f7a233c1bb2cac7100186\">6f2b336</a></td><td><code>build/pkgs/pynac: Use 0.7.26.sage-2020-03-28a</code></td></tr></table>\n",
    "created_at": "2020-03-29T00:05:03Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464468",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f2b3362bf0fe885916f7a233c1bb2cac7100186">6f2b336</a></td><td><code>build/pkgs/pynac: Use 0.7.26.sage-2020-03-28a</code></td></tr></table>




---

archive/issue_comments_464469.json:
```json
{
    "body": "**Changing commit** from \"[c97807a2131a7c3d00db3451c18b1bfdfdbe95cd](https://github.com/sagemath/sagetrac-mirror/commit/c97807a2131a7c3d00db3451c18b1bfdfdbe95cd)\" to \"[6f2b3362bf0fe885916f7a233c1bb2cac7100186](https://github.com/sagemath/sagetrac-mirror/commit/6f2b3362bf0fe885916f7a233c1bb2cac7100186)\".",
    "created_at": "2020-03-29T00:05:03Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464469",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c97807a2131a7c3d00db3451c18b1bfdfdbe95cd](https://github.com/sagemath/sagetrac-mirror/commit/c97807a2131a7c3d00db3451c18b1bfdfdbe95cd)" to "[6f2b3362bf0fe885916f7a233c1bb2cac7100186](https://github.com/sagemath/sagetrac-mirror/commit/6f2b3362bf0fe885916f7a233c1bb2cac7100186)".



---

archive/issue_comments_464470.json:
```json
{
    "body": "<a id='comment:40'></a>\nFound a moment for this after all",
    "created_at": "2020-03-29T00:05:20Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464470",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'></a>
Found a moment for this after all



---

archive/issue_events_261681.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-29T00:33:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261681"
}
```



---

archive/issue_events_261682.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-29T00:33:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261682"
}
```



---

archive/issue_comments_464471.json:
```json
{
    "body": "<a id='comment:42'></a>\nTests ran at https://github.com/mkoeppe/sage/actions/runs/65556636",
    "created_at": "2020-03-29T13:47:46Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464471",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>
Tests ran at https://github.com/mkoeppe/sage/actions/runs/65556636



---

archive/issue_events_261683.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-29T13:51:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261683"
}
```



---

archive/issue_comments_464472.json:
```json
{
    "body": "<a id='comment:43'></a>\nThis seems to work well according to the tests. Needs review!",
    "created_at": "2020-03-29T13:51:23Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464472",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>
This seems to work well according to the tests. Needs review!



---

archive/issue_comments_464473.json:
```json
{
    "body": "<a id='comment:44'></a>\nscipy build in macos-homebrew-standard fails with a similar error:\n\n```\n2020-03-29T03:07:22.1134510Z     g++ -sdk macosx clang -bundle -undefined dynamic_lookup -bundle -undefined dynamic_lookup -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/lib -D__ACCELERATE__ -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/include -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/include build/temp.macosx-10.14-x86_64-3.7/scipy/interpolate/src/_interpolate.o -Lbuild/temp.macosx-10.14-x86_64-3.7 -o build/lib.macosx-10.14-x86_64-3.7/scipy/interpolate/_interpolate.cpython-37m-darwin.so\n2020-03-29T03:07:22.1135020Z     clang: error: unknown argument: '-sdk'\n2020-03-29T03:07:22.1135400Z     clang: error: no such file or directory: 'macosx'\n2020-03-29T03:07:22.1135790Z     clang: error: no such file or directory: 'clang'\n2020-03-29T03:07:22.1137100Z     error: Command \"g++ -sdk macosx clang -bundle -undefined dynamic_lookup -bundle -undefined dynamic_lookup -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/lib -D__ACCELERATE__ -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/include -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/include build/temp.macosx-10.14-x86_64-3.7/scipy/interpolate/src/_interpolate.o -Lbuild/temp.macosx-10.14-x86_64-3.7 -o build/lib.macosx-10.14-x86_64-3.7/scipy/interpolate/_interpolate.cpython-37m-darwin.so\" failed with exit status 1\n2020-03-29T03:07:22.1137680Z     Running setup.py install for scipy: finished with status 'error'\n```",
    "created_at": "2020-03-30T15:22:09Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464473",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:44'></a>
scipy build in macos-homebrew-standard fails with a similar error:

```
2020-03-29T03:07:22.1134510Z     g++ -sdk macosx clang -bundle -undefined dynamic_lookup -bundle -undefined dynamic_lookup -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/lib -D__ACCELERATE__ -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/include -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/include build/temp.macosx-10.14-x86_64-3.7/scipy/interpolate/src/_interpolate.o -Lbuild/temp.macosx-10.14-x86_64-3.7 -o build/lib.macosx-10.14-x86_64-3.7/scipy/interpolate/_interpolate.cpython-37m-darwin.so
2020-03-29T03:07:22.1135020Z     clang: error: unknown argument: '-sdk'
2020-03-29T03:07:22.1135400Z     clang: error: no such file or directory: 'macosx'
2020-03-29T03:07:22.1135790Z     clang: error: no such file or directory: 'clang'
2020-03-29T03:07:22.1137100Z     error: Command "g++ -sdk macosx clang -bundle -undefined dynamic_lookup -bundle -undefined dynamic_lookup -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/local/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/lib -D__ACCELERATE__ -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/opt/readline/include -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-homebrew-macos-standard/homebrew/include build/temp.macosx-10.14-x86_64-3.7/scipy/interpolate/src/_interpolate.o -Lbuild/temp.macosx-10.14-x86_64-3.7 -o build/lib.macosx-10.14-x86_64-3.7/scipy/interpolate/_interpolate.cpython-37m-darwin.so" failed with exit status 1
2020-03-29T03:07:22.1137680Z     Running setup.py install for scipy: finished with status 'error'
```



---

archive/issue_events_261684.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-03-30T15:22:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261684"
}
```



---

archive/issue_events_261685.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-03-30T15:22:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261685"
}
```



---

archive/issue_comments_464474.json:
```json
{
    "body": "<a id='comment:45'></a>\nReplying to [@dimpase](#comment%3A44):\n> scipy build in macos-homebrew-standard fails with a similar error\n\nWrong ticket, that's #29408.",
    "created_at": "2020-03-30T15:41:21Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464474",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:45'></a>
Replying to [@dimpase](#comment%3A44):
> scipy build in macos-homebrew-standard fails with a similar error

Wrong ticket, that's #29408.



---

archive/issue_events_261686.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-30T15:41:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261686"
}
```



---

archive/issue_events_261687.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-30T15:41:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261687"
}
```



---

archive/issue_comments_464475.json:
```json
{
    "body": "<a id='comment:46'></a>\nwhat do you mean, wrong ticket? I looked at the test results at [comment:42](#comment%3A42)\nabove (https://github.com/mkoeppe/sage/actions/runs/65556636)",
    "created_at": "2020-03-30T15:55:00Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464475",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:46'></a>
what do you mean, wrong ticket? I looked at the test results at [comment:42](#comment%3A42)
above (https://github.com/mkoeppe/sage/actions/runs/65556636)



---

archive/issue_comments_464476.json:
```json
{
    "body": "<a id='comment:47'></a>\nThis ticket is about pynac failing with `configure: error: Cannot find python3.7 in your system path`.",
    "created_at": "2020-03-30T15:56:43Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464476",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>
This ticket is about pynac failing with `configure: error: Cannot find python3.7 in your system path`.



---

archive/issue_comments_464477.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2020-03-30T16:38:22Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464477",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_464478.json:
```json
{
    "body": "<a id='comment:48'></a>\nOK, this looks good. Sorry for confusion.",
    "created_at": "2020-03-30T16:38:22Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464478",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:48'></a>
OK, this looks good. Sorry for confusion.



---

archive/issue_events_261688.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-03-30T16:38:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261688"
}
```



---

archive/issue_events_261689.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-03-30T16:38:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261689"
}
```



---

archive/issue_events_261690.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2020-03-30T16:44:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261690"
}
```



---

archive/issue_events_261691.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2020-03-30T16:44:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261691"
}
```



---

archive/issue_comments_464479.json:
```json
{
    "body": "<a id='comment:49'></a>\nThanks for looking into this. This needs more work due to https://github.com/pynac/pynac/pull/351#discussion_r399846249.",
    "created_at": "2020-03-30T16:44:14Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464479",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:49'></a>
Thanks for looking into this. This needs more work due to https://github.com/pynac/pynac/pull/351#discussion_r399846249.



---

archive/issue_comments_464480.json:
```json
{
    "body": "<a id='comment:50'></a>\nWhether this is good enough for upstream is another question - and one that will not be answered soon.\nBut the fix works for us.",
    "created_at": "2020-03-30T16:46:13Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464480",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:50'></a>
Whether this is good enough for upstream is another question - and one that will not be answered soon.
But the fix works for us.



---

archive/issue_comments_464481.json:
```json
{
    "body": "<a id='comment:51'></a>\nDoes it though? I assume that warning gets triggered in osx system python.",
    "created_at": "2020-03-30T16:47:53Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464481",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:51'></a>
Does it though? I assume that warning gets triggered in osx system python.



---

archive/issue_comments_464482.json:
```json
{
    "body": "<a id='comment:52'></a>\nThis is using the version with assert, and it's not failing. See logs above.",
    "created_at": "2020-03-30T16:49:12Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464482",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:52'></a>
This is using the version with assert, and it's not failing. See logs above.



---

archive/issue_events_261692.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2020-03-30T16:56:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261692"
}
```



---

archive/issue_events_261693.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2020-03-30T16:56:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261693"
}
```



---

archive/issue_comments_464483.json:
```json
{
    "body": "<a id='comment:53'></a>\nI don't understand how it's going to work, but not going to hold up this ticket.",
    "created_at": "2020-03-30T16:56:15Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464483",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:53'></a>
I don't understand how it's going to work, but not going to hold up this ticket.



---

archive/issue_comments_464484.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [@isuruf](#comment%3A53):\n> I don't understand how it's going to work\n\nJust in case you'd like another look, here's the log from https://github.com/mkoeppe/sage/actions/runs/66127777, logs-commit-3fc71b184bd15f5b10e48334eccb73be63dd3033-tox-local-homebrew-macos-standard.zip .\nNote that this is NOT using the change from #29408.\n\n```\npynac-0.7.26.sage-2020-03-28a\n====================================================\nSetting up build directory for pynac-0.7.26.sage-2020-03-28a\nFinished extraction\nNo patch files found in ../patches\n****************************************************\nHost system:\nDarwin Mac-1306.local 19.3.0 Darwin Kernel Version 19.3.0: Thu Jan  9 20:58:23 PST 2020; root:xnu-6153.81.5~1/RELEASE_X86_64 x86_64\n****************************************************\nC compiler: x86_64-apple-darwin13.4.0-clang\nC compiler version:\nclang version 9.0.1 \nTarget: x86_64-apple-darwin13.4.0\nThread model: posix\nInstalledDir: /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/bin\n****************************************************\nPackage 'pynac' is currently not installed\nNo legacy uninstaller found for 'pynac'; nothing to do\nStarting build...\nRunning build_pynac...\nConfiguring pynac-0.7.26.sage-2020-03-28a\n...\nchecking whether sage-python23 version is >= 2.7... yes\nchecking for sage-python23 version... 3.7\nchecking for sage-python23 platform... darwin\nchecking for sage-python23 script directory... ${prefix}/lib/python3.7/site-packages\nchecking for sage-python23 extension module directory... ${exec_prefix}/lib/python3.7/site-packages\nchecking for Python preprocessor flags... -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/include/python3.7m -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/include/python3.7m -fno-strict-aliasing -Wsign-compare -Wunreachable-code -DNDEBUG -fwrapv -O3 -Wall -Wstrict-prototypes -march=core2 -mtune=haswell -mssse3 -ftree-vectorize -fPIC -fPIE -fstack-protector-strong -O3 -pipe -fdebug-prefix-map=${SRC_DIR}=/usr/local/src/conda/${PKG_NAME}-${PKG_VERSION} -fdebug-prefix-map=/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda=/usr/local/src/conda-prefix -flto -Wl,-export_dynamic -march=core2 -mtune=haswell -mssse3 -ftree-vectorize -fPIC -fPIE -fstack-protector-strong -O3\nchecking for Python library flags... -bundle -undefined dynamic_lookup -Wl,-pie -Wl,-headerpad_max_install_names -Wl,-dead_strip_dylibs -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -flto -Wl,-export_dynamic -Wl,-pie -Wl,-headerpad_max_install_names -Wl,-dead_strip_dylibs -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -march=core2 -mtune=haswell -mssse3 -ftree-vectorize -fPIC -fPIE -fstack-protector-strong -O2 -pipe -isystem /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/include -D_FORTIFY_SOURCE=2 -mmacosx-version-min=10.9 -isystem /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/include\nchecking build system type... x86_64-apple-darwin19.3.0\n```",
    "created_at": "2020-03-30T17:42:07Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464484",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:54'></a>
Replying to [@isuruf](#comment%3A53):
> I don't understand how it's going to work

Just in case you'd like another look, here's the log from https://github.com/mkoeppe/sage/actions/runs/66127777, logs-commit-3fc71b184bd15f5b10e48334eccb73be63dd3033-tox-local-homebrew-macos-standard.zip .
Note that this is NOT using the change from #29408.

```
pynac-0.7.26.sage-2020-03-28a
====================================================
Setting up build directory for pynac-0.7.26.sage-2020-03-28a
Finished extraction
No patch files found in ../patches
****************************************************
Host system:
Darwin Mac-1306.local 19.3.0 Darwin Kernel Version 19.3.0: Thu Jan  9 20:58:23 PST 2020; root:xnu-6153.81.5~1/RELEASE_X86_64 x86_64
****************************************************
C compiler: x86_64-apple-darwin13.4.0-clang
C compiler version:
clang version 9.0.1 
Target: x86_64-apple-darwin13.4.0
Thread model: posix
InstalledDir: /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/bin
****************************************************
Package 'pynac' is currently not installed
No legacy uninstaller found for 'pynac'; nothing to do
Starting build...
Running build_pynac...
Configuring pynac-0.7.26.sage-2020-03-28a
...
checking whether sage-python23 version is >= 2.7... yes
checking for sage-python23 version... 3.7
checking for sage-python23 platform... darwin
checking for sage-python23 script directory... ${prefix}/lib/python3.7/site-packages
checking for sage-python23 extension module directory... ${exec_prefix}/lib/python3.7/site-packages
checking for Python preprocessor flags... -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/include/python3.7m -I/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/include/python3.7m -fno-strict-aliasing -Wsign-compare -Wunreachable-code -DNDEBUG -fwrapv -O3 -Wall -Wstrict-prototypes -march=core2 -mtune=haswell -mssse3 -ftree-vectorize -fPIC -fPIE -fstack-protector-strong -O3 -pipe -fdebug-prefix-map=${SRC_DIR}=/usr/local/src/conda/${PKG_NAME}-${PKG_VERSION} -fdebug-prefix-map=/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda=/usr/local/src/conda-prefix -flto -Wl,-export_dynamic -march=core2 -mtune=haswell -mssse3 -ftree-vectorize -fPIC -fPIE -fstack-protector-strong -O3
checking for Python library flags... -bundle -undefined dynamic_lookup -Wl,-pie -Wl,-headerpad_max_install_names -Wl,-dead_strip_dylibs -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -flto -Wl,-export_dynamic -Wl,-pie -Wl,-headerpad_max_install_names -Wl,-dead_strip_dylibs -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib -Wl,-rpath,/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -L/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/lib -march=core2 -mtune=haswell -mssse3 -ftree-vectorize -fPIC -fPIE -fstack-protector-strong -O2 -pipe -isystem /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/include -D_FORTIFY_SOURCE=2 -mmacosx-version-min=10.9 -isystem /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/include
checking build system type... x86_64-apple-darwin19.3.0
```



---

archive/issue_comments_464485.json:
```json
{
    "body": "<a id='comment:55'></a>\nFails on cygwin (https://github.com/mkoeppe/sage/runs/548082943):\n\n```\n  [pynac-0.7.26.sage-2020-03-28a]   /cygdrive/d/a/sage/sage/local/var/tmp/sage/build/pynac-0.7.26.sage-2020-03-28a/src/ginac/numeric.cpp:175: undefined reference to `PyErr_Occurred'\n  [pynac-0.7.26.sage-2020-03-28a]   /usr/lib/gcc/x86_64-pc-cygwin/9.3.0/../../../../x86_64-pc-cygwin/bin/ld: .libs/libpynac_la-numeric.o:/cygdrive/d/a/sage/sage/local/var/tmp/sage/build/pynac-0.7.26.sage-2020-03-28a/src/ginac/numeric.cpp:502: undefined reference to `PyLong_FromLong'\n  [pynac-0.7.26.sage-2020-03-28a]   /usr/lib/gcc/x86_64-pc-cygwin/9.3.0/../../../../x86_64-pc-cygwin/bin/ld: .libs/libpynac_la-numeric.o: in function `__static_initialization_and_destruction_0':\n  [pynac-0.7.26.sage-2020-03-28a]   /cygdrive/d/a/sage/sage/local/var/tmp/sage/build/pynac-0.7.26.sage-2020-03-28a/src/ginac/numeric.cpp:503: undefined reference to `PyLong_FromLong'\n  [pynac-0.7.26.sage-2020-03-28a]   /usr/lib/gcc/x86_64-pc-cygwin/9.3.0/../../../../x86_64-pc-cygwin/bin/ld: /cygdrive/d/a/sage/sage/local/var/tmp/sage/build/pynac-0.7.26.sage-2020-03-28a/src/ginac/numeric.cpp:504: undefined reference to `PyLong_FromLong'\n  [pynac-0.7.26.sage-2020-03-28a]   collect2: error: ld returned 1 exit status\n  [pynac-0.7.26.sage-2020-03-28a]   make[6]: *** [Makefile:558: libpynac.la] Error 1\n```",
    "created_at": "2020-03-31T14:09:13Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464485",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:55'></a>
Fails on cygwin (https://github.com/mkoeppe/sage/runs/548082943):

```
  [pynac-0.7.26.sage-2020-03-28a]   /cygdrive/d/a/sage/sage/local/var/tmp/sage/build/pynac-0.7.26.sage-2020-03-28a/src/ginac/numeric.cpp:175: undefined reference to `PyErr_Occurred'
  [pynac-0.7.26.sage-2020-03-28a]   /usr/lib/gcc/x86_64-pc-cygwin/9.3.0/../../../../x86_64-pc-cygwin/bin/ld: .libs/libpynac_la-numeric.o:/cygdrive/d/a/sage/sage/local/var/tmp/sage/build/pynac-0.7.26.sage-2020-03-28a/src/ginac/numeric.cpp:502: undefined reference to `PyLong_FromLong'
  [pynac-0.7.26.sage-2020-03-28a]   /usr/lib/gcc/x86_64-pc-cygwin/9.3.0/../../../../x86_64-pc-cygwin/bin/ld: .libs/libpynac_la-numeric.o: in function `__static_initialization_and_destruction_0':
  [pynac-0.7.26.sage-2020-03-28a]   /cygdrive/d/a/sage/sage/local/var/tmp/sage/build/pynac-0.7.26.sage-2020-03-28a/src/ginac/numeric.cpp:503: undefined reference to `PyLong_FromLong'
  [pynac-0.7.26.sage-2020-03-28a]   /usr/lib/gcc/x86_64-pc-cygwin/9.3.0/../../../../x86_64-pc-cygwin/bin/ld: /cygdrive/d/a/sage/sage/local/var/tmp/sage/build/pynac-0.7.26.sage-2020-03-28a/src/ginac/numeric.cpp:504: undefined reference to `PyLong_FromLong'
  [pynac-0.7.26.sage-2020-03-28a]   collect2: error: ld returned 1 exit status
  [pynac-0.7.26.sage-2020-03-28a]   make[6]: *** [Makefile:558: libpynac.la] Error 1
```



---

archive/issue_events_261694.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-31T14:14:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261694"
}
```



---

archive/issue_events_261695.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-31T14:14:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261695"
}
```



---

archive/issue_comments_464486.json:
```json
{
    "body": "<a id='comment:58'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db5074a5487edaa6ce153d5a7812387539fc8c7a\">db5074a</a></td><td><code>Use pynac-0.7.26.sage-2020-03-31a</code></td></tr></table>\n",
    "created_at": "2020-04-01T03:10:31Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464486",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db5074a5487edaa6ce153d5a7812387539fc8c7a">db5074a</a></td><td><code>Use pynac-0.7.26.sage-2020-03-31a</code></td></tr></table>




---

archive/issue_comments_464487.json:
```json
{
    "body": "**Changing commit** from \"[6f2b3362bf0fe885916f7a233c1bb2cac7100186](https://github.com/sagemath/sagetrac-mirror/commit/6f2b3362bf0fe885916f7a233c1bb2cac7100186)\" to \"[db5074a5487edaa6ce153d5a7812387539fc8c7a](https://github.com/sagemath/sagetrac-mirror/commit/db5074a5487edaa6ce153d5a7812387539fc8c7a)\".",
    "created_at": "2020-04-01T03:10:31Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464487",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6f2b3362bf0fe885916f7a233c1bb2cac7100186](https://github.com/sagemath/sagetrac-mirror/commit/6f2b3362bf0fe885916f7a233c1bb2cac7100186)" to "[db5074a5487edaa6ce153d5a7812387539fc8c7a](https://github.com/sagemath/sagetrac-mirror/commit/db5074a5487edaa6ce153d5a7812387539fc8c7a)".



---

archive/issue_events_261696.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-01T04:14:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261696"
}
```



---

archive/issue_events_261697.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-01T04:14:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261697"
}
```



---

archive/issue_comments_464488.json:
```json
{
    "body": "<a id='comment:59'></a>\nNew tests at https://github.com/mkoeppe/sage/runs/550765335 and https://github.com/mkoeppe/sage/actions/runs/67915244",
    "created_at": "2020-04-01T04:14:19Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464488",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:59'></a>
New tests at https://github.com/mkoeppe/sage/runs/550765335 and https://github.com/mkoeppe/sage/actions/runs/67915244



---

archive/issue_events_261698.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-03T00:19:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261698"
}
```



---

archive/issue_events_261699.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-03T00:19:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261699"
}
```



---

archive/issue_comments_464489.json:
```json
{
    "body": "<a id='comment:61'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb15a592f3149dc709ad8b7f85bfe154d5211bc2\">cb15a59</a></td><td><code>Use pynac-0.7.26.sage-2020-04-02</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/deb717fb4c53b2851a04fff610f98ca0ff80f84a\">deb717f</a></td><td><code>use pynac-0.7.26.sage-2020-04-03</code></td></tr></table>\n",
    "created_at": "2020-04-03T19:49:11Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464489",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb15a592f3149dc709ad8b7f85bfe154d5211bc2">cb15a59</a></td><td><code>Use pynac-0.7.26.sage-2020-04-02</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/deb717fb4c53b2851a04fff610f98ca0ff80f84a">deb717f</a></td><td><code>use pynac-0.7.26.sage-2020-04-03</code></td></tr></table>




---

archive/issue_comments_464490.json:
```json
{
    "body": "**Changing commit** from \"[db5074a5487edaa6ce153d5a7812387539fc8c7a](https://github.com/sagemath/sagetrac-mirror/commit/db5074a5487edaa6ce153d5a7812387539fc8c7a)\" to \"[deb717fb4c53b2851a04fff610f98ca0ff80f84a](https://github.com/sagemath/sagetrac-mirror/commit/deb717fb4c53b2851a04fff610f98ca0ff80f84a)\".",
    "created_at": "2020-04-03T19:49:11Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464490",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[db5074a5487edaa6ce153d5a7812387539fc8c7a](https://github.com/sagemath/sagetrac-mirror/commit/db5074a5487edaa6ce153d5a7812387539fc8c7a)" to "[deb717fb4c53b2851a04fff610f98ca0ff80f84a](https://github.com/sagemath/sagetrac-mirror/commit/deb717fb4c53b2851a04fff610f98ca0ff80f84a)".



---

archive/issue_events_261700.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-03T20:24:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261700"
}
```



---

archive/issue_events_261701.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-03T20:24:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261701"
}
```



---

archive/issue_comments_464491.json:
```json
{
    "body": "<a id='comment:62'></a>\nThis fixes the build on cygwin.",
    "created_at": "2020-04-03T20:24:32Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464491",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:62'></a>
This fixes the build on cygwin.



---

archive/issue_comments_464492.json:
```json
{
    "body": "<a id='comment:63'></a>\nplease squash the commits",
    "created_at": "2020-04-04T01:01:47Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464492",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:63'></a>
please squash the commits



---

archive/issue_comments_464493.json:
```json
{
    "body": "**Changing commit** from \"[deb717fb4c53b2851a04fff610f98ca0ff80f84a](https://github.com/sagemath/sagetrac-mirror/commit/deb717fb4c53b2851a04fff610f98ca0ff80f84a)\" to \"[7344e2df8bebecdab19924a14ff4dbe51cc514f9](https://github.com/sagemath/sagetrac-mirror/commit/7344e2df8bebecdab19924a14ff4dbe51cc514f9)\".",
    "created_at": "2020-04-04T01:48:00Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464493",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[deb717fb4c53b2851a04fff610f98ca0ff80f84a](https://github.com/sagemath/sagetrac-mirror/commit/deb717fb4c53b2851a04fff610f98ca0ff80f84a)" to "[7344e2df8bebecdab19924a14ff4dbe51cc514f9](https://github.com/sagemath/sagetrac-mirror/commit/7344e2df8bebecdab19924a14ff4dbe51cc514f9)".



---

archive/issue_comments_464494.json:
```json
{
    "body": "<a id='comment:64'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7344e2df8bebecdab19924a14ff4dbe51cc514f9\">7344e2d</a></td><td><code>Use temporary upstream version pynac-0.7.26.sage-2020-04-03</code></td></tr></table>\n",
    "created_at": "2020-04-04T01:48:00Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464494",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:64'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7344e2df8bebecdab19924a14ff4dbe51cc514f9">7344e2d</a></td><td><code>Use temporary upstream version pynac-0.7.26.sage-2020-04-03</code></td></tr></table>




---

archive/issue_comments_464495.json:
```json
{
    "body": "<a id='comment:65'></a>\nsquashed, needs review",
    "created_at": "2020-04-05T17:18:41Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464495",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:65'></a>
squashed, needs review



---

archive/issue_comments_464496.json:
```json
{
    "body": "<a id='comment:66'></a>\nCorrect builds can be seen at https://github.com/mkoeppe/sage/actions/runs/74117913",
    "created_at": "2020-04-10T04:27:50Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464496",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:66'></a>
Correct builds can be seen at https://github.com/mkoeppe/sage/actions/runs/74117913



---

archive/issue_comments_464497.json:
```json
{
    "body": "<a id='comment:67'></a>\nIt's good on OS X, built with various different Pythons (homebrew, system, Sage).",
    "created_at": "2020-04-10T18:41:48Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464497",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:67'></a>
It's good on OS X, built with various different Pythons (homebrew, system, Sage).



---

archive/issue_comments_464498.json:
```json
{
    "body": "<a id='comment:68'></a>\nLet's get this one into the next beta please",
    "created_at": "2020-04-12T00:41:17Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464498",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:68'></a>
Let's get this one into the next beta please



---

archive/issue_comments_464499.json:
```json
{
    "body": "<a id='comment:69'></a>\nlooks good.",
    "created_at": "2020-04-12T00:47:13Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464499",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:69'></a>
looks good.



---

archive/issue_events_261702.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-12T00:47:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261702"
}
```



---

archive/issue_events_261703.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-12T00:47:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261703"
}
```



---

archive/issue_comments_464500.json:
```json
{
    "body": "<a id='comment:70'></a>\nThanks!",
    "created_at": "2020-04-12T00:55:08Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464500",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:70'></a>
Thanks!



---

archive/issue_events_261704.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-15T03:16:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261704"
}
```



---

archive/issue_events_261705.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-15T03:16:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261705"
}
```



---

archive/attachments_022046.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "pynac-0.7.26.sage-2020-04-03.log",
    "asset_url": "tarball://root/attachments/ticket29404/pynac-0.7.26.sage-2020-04-03.log",
    "created_at": "2020-04-15T06:24:46Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket29404/pynac-0.7.26.sage-2020-04-03.log",
    "user": "https://github.com/DaveWitteMorris"
}
```



---

archive/issue_comments_464501.json:
```json
{
    "body": "**Attachment:** [pynac-0.7.26.sage-2020-04-03.log](https://github.com/sagemath/sage/files/ticket29404/pynac-0.7.26.sage-2020-04-03.log)\n\npynac did not download on Mac OS 10.15.3",
    "created_at": "2020-04-15T06:24:46Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464501",
    "user": "https://github.com/DaveWitteMorris"
}
```

**Attachment:** [pynac-0.7.26.sage-2020-04-03.log](https://github.com/sagemath/sage/files/ticket29404/pynac-0.7.26.sage-2020-04-03.log)

pynac did not download on Mac OS 10.15.3



---

archive/issue_comments_464502.json:
```json
{
    "body": "<a id='comment:72'></a>\nI apologize if this is noise (I may have messed up my installation somehow), but I thought I should report that I had trouble building pynac in 9.1rc0 on Mac OS 10.15.3, even with this ticket:\n\n```\nAttempting to download from https://github.com/mkoeppe/pynac/releases/download/pynac-0.7.26.sage-2020-04-03/pynac-0.7.26.sage-2020-04-03.tar.bz2\n[xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]\nERROR [transfer|run:135]: [Errno socket error] [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1056)\n************************************************************************\n```\nI merged #29408 and this ticket, and ran `make build`, then realized that the description of this ticket has a different make command, so I tried that, too. But pynac did not download. I am attaching the `pynac-0.7.26.sage-2020-04-03.log` log file from the more complicated build command, in case it is of use.\n\nThe build went smoothly after I manually downloaded pynac and put it in the upstream directory, so I want to say thanks for these patches! I never would have figured out how to fix the build errors on my own.",
    "created_at": "2020-04-15T06:35:06Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464502",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:72'></a>
I apologize if this is noise (I may have messed up my installation somehow), but I thought I should report that I had trouble building pynac in 9.1rc0 on Mac OS 10.15.3, even with this ticket:

```
Attempting to download from https://github.com/mkoeppe/pynac/releases/download/pynac-0.7.26.sage-2020-04-03/pynac-0.7.26.sage-2020-04-03.tar.bz2
[xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
ERROR [transfer|run:135]: [Errno socket error] [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1056)
************************************************************************
```
I merged #29408 and this ticket, and ran `make build`, then realized that the description of this ticket has a different make command, so I tried that, too. But pynac did not download. I am attaching the `pynac-0.7.26.sage-2020-04-03.log` log file from the more complicated build command, in case it is of use.

The build went smoothly after I manually downloaded pynac and put it in the upstream directory, so I want to say thanks for these patches! I never would have figured out how to fix the build errors on my own.



---

archive/issue_comments_464503.json:
```json
{
    "body": "<a id='comment:73'></a>\nthis might be due to (system) python, more precisely its urllib module, being unable to provide correct certs...\n\ndoes installing python 3.7 from python.org and also making sure it installs certs (there is a 2nd step in installation, iirc) fixes this?",
    "created_at": "2020-04-15T06:41:56Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464503",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:73'></a>
this might be due to (system) python, more precisely its urllib module, being unable to provide correct certs...

does installing python 3.7 from python.org and also making sure it installs certs (there is a 2nd step in installation, iirc) fixes this?



---

archive/issue_comments_464504.json:
```json
{
    "body": "<a id='comment:74'></a>\nYes, that solved the problem. After installing python and certifi, pynac downloaded from mkoeppe's directory (and the build succeeded) when I used `make SAGE_SPKG=\"sage-spkg -o\" pynac-clean pynac`. Thanks!",
    "created_at": "2020-04-15T07:53:43Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464504",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:74'></a>
Yes, that solved the problem. After installing python and certifi, pynac downloaded from mkoeppe's directory (and the build succeeded) when I used `make SAGE_SPKG="sage-spkg -o" pynac-clean pynac`. Thanks!



---

archive/issue_events_261706.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-16T22:33:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261706"
}
```



---

archive/issue_events_261707.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "bf8c78179973be44ccfd8b4290d06a5e7956380c",
    "created_at": "2020-04-16T22:33:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29404#event-261707"
}
```



---

archive/issue_comments_464505.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/fix_build_failures_of_pynac_on_macos_with_system_python3](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_build_failures_of_pynac_on_macos_with_system_python3)\" to \"[7344e2df8bebecdab19924a14ff4dbe51cc514f9](https://github.com/sagemath/sagetrac-mirror/commit/7344e2df8bebecdab19924a14ff4dbe51cc514f9)\".",
    "created_at": "2020-04-16T22:33:49Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464505",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/fix_build_failures_of_pynac_on_macos_with_system_python3](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_build_failures_of_pynac_on_macos_with_system_python3)" to "[7344e2df8bebecdab19924a14ff4dbe51cc514f9](https://github.com/sagemath/sagetrac-mirror/commit/7344e2df8bebecdab19924a14ff4dbe51cc514f9)".



---

archive/issue_comments_464506.json:
```json
{
    "body": "**Changing commit** from \"[7344e2df8bebecdab19924a14ff4dbe51cc514f9](https://github.com/sagemath/sagetrac-mirror/commit/7344e2df8bebecdab19924a14ff4dbe51cc514f9)\" to \"\".",
    "created_at": "2020-06-16T11:41:30Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464506",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[7344e2df8bebecdab19924a14ff4dbe51cc514f9](https://github.com/sagemath/sagetrac-mirror/commit/7344e2df8bebecdab19924a14ff4dbe51cc514f9)" to "".



---

archive/issue_comments_464507.json:
```json
{
    "body": "<a id='comment:76'></a>\nFollow up: #29872",
    "created_at": "2020-06-16T11:41:30Z",
    "issue": "https://github.com/sagemath/sage/issues/29404",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29404#issuecomment-464507",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:76'></a>
Follow up: #29872
