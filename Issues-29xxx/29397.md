# Issue 29397: Add more cygwin system packages

archive/issues_029160.json:
```json
{
    "body": "`cygwin-standard` builds take too long because several system packages are not installed or recognized.\n\nhttps://github.com/mkoeppe/sage/runs/525632833?check_suite_focus=true\n\n```\nconfigure: notice: the following SPKGs did not find equivalent system packages: \narb cbc cliquer eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl lcalc \nlibatomic_ops libsemigroups lrcalc m4ri m4rie mpfi nauty ncurses ntl openblas \npari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small \npcre planarity python3 r readline rw symmetrica tachyon zeromq\nchecking for the package system in use... cygwin\nconfigure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:\nconfigure:   $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg\napt-cyg install libflint-devel libgsl-devel ncurses-devel libreadline-devel libzmq-devel\n```\n\nWith this ticket (https://github.com/mkoeppe/sage/runs/528920665):\n\n```\nconfigure: notice: the following SPKGs did not find equivalent system packages: \narb cbc cliquer eclib ecm fflas_ffpack fplll gf2x gfan givaro gp2c gsl lcalc \nlibsemigroups lrcalc m4ri m4rie mpfi nauty openblas \npari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small \nplanarity r rw symmetrica tachyon zeromq\nchecking for the package system in use... cygwin\nconfigure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:\nconfigure:   $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg\napt-cyg install libgsl-devel liblapack-devel libopenblas R libzmq-devel\n```\n\nFollow-up for BLAS at #29398.\n\n\nCC:  @dimpase @embray @tscrim\n\nBranch/Commit: f29a1686bd4d1d3bcae90497a3d30c225c2c9297\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29397\n\n",
    "closed_at": "2020-03-29T00:23:49Z",
    "created_at": "2020-03-23T17:14:25Z",
    "labels": [
        "component: porting"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Add more cygwin system packages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29397",
    "user": "https://github.com/mkoeppe"
}
```
`cygwin-standard` builds take too long because several system packages are not installed or recognized.

https://github.com/mkoeppe/sage/runs/525632833?check_suite_focus=true

```
configure: notice: the following SPKGs did not find equivalent system packages: 
arb cbc cliquer eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl lcalc 
libatomic_ops libsemigroups lrcalc m4ri m4rie mpfi nauty ncurses ntl openblas 
pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small 
pcre planarity python3 r readline rw symmetrica tachyon zeromq
checking for the package system in use... cygwin
configure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:
configure:   $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg
apt-cyg install libflint-devel libgsl-devel ncurses-devel libreadline-devel libzmq-devel
```

With this ticket (https://github.com/mkoeppe/sage/runs/528920665):

```
configure: notice: the following SPKGs did not find equivalent system packages: 
arb cbc cliquer eclib ecm fflas_ffpack fplll gf2x gfan givaro gp2c gsl lcalc 
libsemigroups lrcalc m4ri m4rie mpfi nauty openblas 
pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small 
planarity r rw symmetrica tachyon zeromq
checking for the package system in use... cygwin
configure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:
configure:   $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg
apt-cyg install libgsl-devel liblapack-devel libopenblas R libzmq-devel
```

Follow-up for BLAS at #29398.


CC:  @dimpase @embray @tscrim

Branch/Commit: f29a1686bd4d1d3bcae90497a3d30c225c2c9297

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29397





---

archive/issue_comments_574605.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/add_more_cygwin_system_packages\"",
    "created_at": "2020-03-23T17:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574605",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/add_more_cygwin_system_packages"



---

archive/issue_comments_574606.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[56a4f4c](https://github.com/sagemath/sagetrac-mirror/commit/56a4f4c290ba12ac6133bacd61de6932bfd659e1)|`build/pkgs/glpk/distros/cygwin.txt: New`|",
    "created_at": "2020-03-23T17:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574606",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[56a4f4c](https://github.com/sagemath/sagetrac-mirror/commit/56a4f4c290ba12ac6133bacd61de6932bfd659e1)|`build/pkgs/glpk/distros/cygwin.txt: New`|



---

archive/issue_comments_574607.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,6 +17,18 @@\n checking ncurses.h presence... no\n checking for ncurses.h... no\n configure: no suitable system package found for SPKG ncurses\n+\n+\n+## -------------------------------------------------------- ##\n+## Checking whether SageMath should install SPKG ncurses... ##\n+## -------------------------------------------------------- ##\n+configure:14485: checking for NCURSES\n+configure:14492: $PKG_CONFIG --exists --print-errors \"ncurses >= 6.0\"\n+Package ncurses was not found in the pkg-config search path.\n+Perhaps you should add the directory containing `ncurses.pc'\n+to the PKG_CONFIG_PATH environment variable\n+Package 'ncurses', required by 'virtual:world', not found\n+\n ```\n \n \n``````\n",
    "created_at": "2020-03-23T17:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574607",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,6 +17,18 @@
 checking ncurses.h presence... no
 checking for ncurses.h... no
 configure: no suitable system package found for SPKG ncurses
+
+
+## -------------------------------------------------------- ##
+## Checking whether SageMath should install SPKG ncurses... ##
+## -------------------------------------------------------- ##
+configure:14485: checking for NCURSES
+configure:14492: $PKG_CONFIG --exists --print-errors "ncurses >= 6.0"
+Package ncurses was not found in the pkg-config search path.
+Perhaps you should add the directory containing `ncurses.pc'
+to the PKG_CONFIG_PATH environment variable
+Package 'ncurses', required by 'virtual:world', not found
+
 ```
 
 
``````




---

archive/issue_comments_574608.json:
```json
{
    "body": "Changing commit from \"\" to \"56a4f4c290ba12ac6133bacd61de6932bfd659e1\"",
    "created_at": "2020-03-23T17:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574608",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "56a4f4c290ba12ac6133bacd61de6932bfd659e1"



---

archive/issue_comments_574609.json:
```json
{
    "body": "Changing commit from \"56a4f4c290ba12ac6133bacd61de6932bfd659e1\" to \"ba09bba5f920619a5f9dd2843c11e96fe4062f28\"",
    "created_at": "2020-03-23T17:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574609",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "56a4f4c290ba12ac6133bacd61de6932bfd659e1" to "ba09bba5f920619a5f9dd2843c11e96fe4062f28"



---

archive/issue_comments_574610.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[ba09bba](https://github.com/sagemath/sagetrac-mirror/commit/ba09bba5f920619a5f9dd2843c11e96fe4062f28)|`build/pkgs/ncurses/distros/cygwin.txt: Fixup`|",
    "created_at": "2020-03-23T17:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574610",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[ba09bba](https://github.com/sagemath/sagetrac-mirror/commit/ba09bba5f920619a5f9dd2843c11e96fe4062f28)|`build/pkgs/ncurses/distros/cygwin.txt: Fixup`|



---

archive/issue_comments_574611.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -29,6 +29,33 @@\n to the PKG_CONFIG_PATH environment variable\n Package 'ncurses', required by 'virtual:world', not found\n \n+\n+## ----------------------------------------------------- ##\n+## Checking whether SageMath should install SPKG mpfr... ##\n+## ----------------------------------------------------- ##\n+configure:10525: checking installing gmp/mpir? \n+configure:10532: result: no\n+configure:10534: checking mpfr.h usability\n+configure:10534: g++ -std=gnu++11 -c -g -O2  conftest.cpp >&5\n+configure:10534: $? = 0\n+configure:10534: result: yes\n+configure:10534: checking mpfr.h presence\n+configure:10534: g++ -E -std=gnu++11  conftest.cpp\n+configure:10534: $? = 0\n+configure:10534: result: yes\n+configure:10534: checking for mpfr.h\n+configure:10534: result: yes\n+configure:10542: checking for library containing mpfr_free_pool\n+configure:10573: g++ -std=gnu++11 -o conftest.exe -g -O2   conftest.cpp -lgmp -lm  >&5\n+/usr/lib/gcc/x86_64-pc-cygwin/9.3.0/../../../../x86_64-pc-cygwin/bin/ld: /tmp/ccLab65U.o:/cygdrive/d/a/sage/sage/conftest.cpp:36: undefined reference to `mpfr_free_pool'\n+/tmp/ccLab65U.o: in function `main':\n+/cygdrive/d/a/sage/sage/conftest.cpp:36:(.text.startup+0xa): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `mpfr_free_pool'\n+collect2: error: ld returned 1 exit status\n+configure:10573: $? = 1\n+configure: failed program was:\n+| /* confdefs.h */\n+\n+\n ```\n \n \n``````\n",
    "created_at": "2020-03-23T17:22:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574611",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -29,6 +29,33 @@
 to the PKG_CONFIG_PATH environment variable
 Package 'ncurses', required by 'virtual:world', not found
 
+
+## ----------------------------------------------------- ##
+## Checking whether SageMath should install SPKG mpfr... ##
+## ----------------------------------------------------- ##
+configure:10525: checking installing gmp/mpir? 
+configure:10532: result: no
+configure:10534: checking mpfr.h usability
+configure:10534: g++ -std=gnu++11 -c -g -O2  conftest.cpp >&5
+configure:10534: $? = 0
+configure:10534: result: yes
+configure:10534: checking mpfr.h presence
+configure:10534: g++ -E -std=gnu++11  conftest.cpp
+configure:10534: $? = 0
+configure:10534: result: yes
+configure:10534: checking for mpfr.h
+configure:10534: result: yes
+configure:10542: checking for library containing mpfr_free_pool
+configure:10573: g++ -std=gnu++11 -o conftest.exe -g -O2   conftest.cpp -lgmp -lm  >&5
+/usr/lib/gcc/x86_64-pc-cygwin/9.3.0/../../../../x86_64-pc-cygwin/bin/ld: /tmp/ccLab65U.o:/cygdrive/d/a/sage/sage/conftest.cpp:36: undefined reference to `mpfr_free_pool'
+/tmp/ccLab65U.o: in function `main':
+/cygdrive/d/a/sage/sage/conftest.cpp:36:(.text.startup+0xa): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `mpfr_free_pool'
+collect2: error: ld returned 1 exit status
+configure:10573: $? = 1
+configure: failed program was:
+| /* confdefs.h */
+
+
 ```
 
 
``````




---

archive/issue_comments_574612.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe mpfr test is from #27258.  cygwin has libmpfr-devel-4.0.2 - is that too old?",
    "created_at": "2020-03-23T17:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574612",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
The mpfr test is from #27258.  cygwin has libmpfr-devel-4.0.2 - is that too old?



---

archive/issue_comments_574613.json:
```json
{
    "body": "<a id='comment:7'></a>\nno, 4.0.1 should be ok",
    "created_at": "2020-03-23T17:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574613",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
no, 4.0.1 should be ok



---

archive/issue_comments_574614.json:
```json
{
    "body": "Changing commit from \"ba09bba5f920619a5f9dd2843c11e96fe4062f28\" to \"391d2249f082b6712722e2a6f217c1fcb91a3a73\"",
    "created_at": "2020-03-23T17:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574614",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ba09bba5f920619a5f9dd2843c11e96fe4062f28" to "391d2249f082b6712722e2a6f217c1fcb91a3a73"



---

archive/issue_comments_574615.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[391d224](https://github.com/sagemath/sagetrac-mirror/commit/391d2249f082b6712722e2a6f217c1fcb91a3a73)|`build/pkgs/openblas/distros/cygwin.txt: New`|",
    "created_at": "2020-03-23T17:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574615",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[391d224](https://github.com/sagemath/sagetrac-mirror/commit/391d2249f082b6712722e2a6f217c1fcb91a3a73)|`build/pkgs/openblas/distros/cygwin.txt: New`|



---

archive/issue_comments_574616.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [dimpase](#comment%3A7):\n> no, 4.0.1 should be ok\n\nRight, sorry, I misread the log",
    "created_at": "2020-03-23T17:36:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574616",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Replying to [dimpase](#comment%3A7):
> no, 4.0.1 should be ok

Right, sorry, I misread the log



---

archive/issue_comments_574617.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -29,32 +29,17 @@\n to the PKG_CONFIG_PATH environment variable\n Package 'ncurses', required by 'virtual:world', not found\n \n-\n-## ----------------------------------------------------- ##\n-## Checking whether SageMath should install SPKG mpfr... ##\n-## ----------------------------------------------------- ##\n-configure:10525: checking installing gmp/mpir? \n-configure:10532: result: no\n-configure:10534: checking mpfr.h usability\n-configure:10534: g++ -std=gnu++11 -c -g -O2  conftest.cpp >&5\n-configure:10534: $? = 0\n-configure:10534: result: yes\n-configure:10534: checking mpfr.h presence\n-configure:10534: g++ -E -std=gnu++11  conftest.cpp\n-configure:10534: $? = 0\n-configure:10534: result: yes\n-configure:10534: checking for mpfr.h\n-configure:10534: result: yes\n-configure:10542: checking for library containing mpfr_free_pool\n-configure:10573: g++ -std=gnu++11 -o conftest.exe -g -O2   conftest.cpp -lgmp -lm  >&5\n-/usr/lib/gcc/x86_64-pc-cygwin/9.3.0/../../../../x86_64-pc-cygwin/bin/ld: /tmp/ccLab65U.o:/cygdrive/d/a/sage/sage/conftest.cpp:36: undefined reference to `mpfr_free_pool'\n-/tmp/ccLab65U.o: in function `main':\n-/cygdrive/d/a/sage/sage/conftest.cpp:36:(.text.startup+0xa): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `mpfr_free_pool'\n-collect2: error: ld returned 1 exit status\n-configure:10573: $? = 1\n-configure: failed program was:\n-| /* confdefs.h */\n-\n+## ---------------------------------------------------- ##\n+## Checking whether SageMath should install SPKG ntl... ##\n+## ---------------------------------------------------- ##\n+configure:10715: checking installing gmp/mpir? \n+configure:10722: result: no\n+configure:10730: checking NTL/ZZ.h usability\n+configure:10730: g++ -std=gnu++11 -c -g -O2  conftest.cpp >&5\n+conftest.cpp:58:10: fatal error: NTL/ZZ.h: No such file or directory\n+   58 | #include <NTL/ZZ.h>\n+      |          ^~~~~~~~~~\n+compilation terminated.\n \n ```\n \n``````\n",
    "created_at": "2020-03-23T17:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574617",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -29,32 +29,17 @@
 to the PKG_CONFIG_PATH environment variable
 Package 'ncurses', required by 'virtual:world', not found
 
-
-## ----------------------------------------------------- ##
-## Checking whether SageMath should install SPKG mpfr... ##
-## ----------------------------------------------------- ##
-configure:10525: checking installing gmp/mpir? 
-configure:10532: result: no
-configure:10534: checking mpfr.h usability
-configure:10534: g++ -std=gnu++11 -c -g -O2  conftest.cpp >&5
-configure:10534: $? = 0
-configure:10534: result: yes
-configure:10534: checking mpfr.h presence
-configure:10534: g++ -E -std=gnu++11  conftest.cpp
-configure:10534: $? = 0
-configure:10534: result: yes
-configure:10534: checking for mpfr.h
-configure:10534: result: yes
-configure:10542: checking for library containing mpfr_free_pool
-configure:10573: g++ -std=gnu++11 -o conftest.exe -g -O2   conftest.cpp -lgmp -lm  >&5
-/usr/lib/gcc/x86_64-pc-cygwin/9.3.0/../../../../x86_64-pc-cygwin/bin/ld: /tmp/ccLab65U.o:/cygdrive/d/a/sage/sage/conftest.cpp:36: undefined reference to `mpfr_free_pool'
-/tmp/ccLab65U.o: in function `main':
-/cygdrive/d/a/sage/sage/conftest.cpp:36:(.text.startup+0xa): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `mpfr_free_pool'
-collect2: error: ld returned 1 exit status
-configure:10573: $? = 1
-configure: failed program was:
-| /* confdefs.h */
-
+## ---------------------------------------------------- ##
+## Checking whether SageMath should install SPKG ntl... ##
+## ---------------------------------------------------- ##
+configure:10715: checking installing gmp/mpir? 
+configure:10722: result: no
+configure:10730: checking NTL/ZZ.h usability
+configure:10730: g++ -std=gnu++11 -c -g -O2  conftest.cpp >&5
+conftest.cpp:58:10: fatal error: NTL/ZZ.h: No such file or directory
+   58 | #include <NTL/ZZ.h>
+      |          ^~~~~~~~~~
+compilation terminated.
 
 ```
 
``````




---

archive/issue_comments_574618.json:
```json
{
    "body": "Changing commit from \"391d2249f082b6712722e2a6f217c1fcb91a3a73\" to \"e9f831aae0450a7d961ba9d18035f448752f2cf9\"",
    "created_at": "2020-03-23T17:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574618",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "391d2249f082b6712722e2a6f217c1fcb91a3a73" to "e9f831aae0450a7d961ba9d18035f448752f2cf9"



---

archive/issue_comments_574619.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[e9f831a](https://github.com/sagemath/sagetrac-mirror/commit/e9f831aae0450a7d961ba9d18035f448752f2cf9)|`build/pkgs/ntl/distros/cygwin.txt: New`|",
    "created_at": "2020-03-23T17:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574619",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[e9f831a](https://github.com/sagemath/sagetrac-mirror/commit/e9f831aae0450a7d961ba9d18035f448752f2cf9)|`build/pkgs/ntl/distros/cygwin.txt: New`|



---

archive/issue_comments_574620.json:
```json
{
    "body": "Changing commit from \"e9f831aae0450a7d961ba9d18035f448752f2cf9\" to \"905148b4eda8709445a6435e9f33e0f14a0d7bd5\"",
    "created_at": "2020-03-23T17:41:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574620",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e9f831aae0450a7d961ba9d18035f448752f2cf9" to "905148b4eda8709445a6435e9f33e0f14a0d7bd5"



---

archive/issue_comments_574621.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[905148b](https://github.com/sagemath/sagetrac-mirror/commit/905148b4eda8709445a6435e9f33e0f14a0d7bd5)|`build/pkgs/pcre/distros/cygwin.txt: New`|",
    "created_at": "2020-03-23T17:41:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574621",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[905148b](https://github.com/sagemath/sagetrac-mirror/commit/905148b4eda8709445a6435e9f33e0f14a0d7bd5)|`build/pkgs/pcre/distros/cygwin.txt: New`|



---

archive/issue_comments_574622.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[12540ac](https://github.com/sagemath/sagetrac-mirror/commit/12540ac4f30a3c8a224cabf6740432de787c9b90)|`build/pkgs/r/distros/cygwin.txt: New`|\n|[3fd30e3](https://github.com/sagemath/sagetrac-mirror/commit/3fd30e3146f2ba5e925f537d719f621dd84053da)|`build/pkgs/libatomic_ops/distros/cygwin.txt: New`|\n|[f29a168](https://github.com/sagemath/sagetrac-mirror/commit/f29a1686bd4d1d3bcae90497a3d30c225c2c9297)|`build/pkgs/cygwin.txt: python -> python37`|",
    "created_at": "2020-03-23T20:09:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574622",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[12540ac](https://github.com/sagemath/sagetrac-mirror/commit/12540ac4f30a3c8a224cabf6740432de787c9b90)|`build/pkgs/r/distros/cygwin.txt: New`|
|[3fd30e3](https://github.com/sagemath/sagetrac-mirror/commit/3fd30e3146f2ba5e925f537d719f621dd84053da)|`build/pkgs/libatomic_ops/distros/cygwin.txt: New`|
|[f29a168](https://github.com/sagemath/sagetrac-mirror/commit/f29a1686bd4d1d3bcae90497a3d30c225c2c9297)|`build/pkgs/cygwin.txt: python -> python37`|



---

archive/issue_comments_574623.json:
```json
{
    "body": "Changing commit from \"905148b4eda8709445a6435e9f33e0f14a0d7bd5\" to \"f29a1686bd4d1d3bcae90497a3d30c225c2c9297\"",
    "created_at": "2020-03-23T20:09:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574623",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "905148b4eda8709445a6435e9f33e0f14a0d7bd5" to "f29a1686bd4d1d3bcae90497a3d30c225c2c9297"



---

archive/issue_comments_574624.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-03-23T20:47:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574624",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_574625.json:
```json
{
    "body": "<a id='comment:15'></a>\nOpenblas is not recognized",
    "created_at": "2020-03-24T00:33:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574625",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
Openblas is not recognized



---

archive/issue_comments_574626.json:
```json
{
    "body": "<a id='comment:16'></a>\nZmq is 4.2.3; our minimum is 4.2.5",
    "created_at": "2020-03-24T00:41:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574626",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Zmq is 4.2.3; our minimum is 4.2.5



---

archive/issue_comments_574627.json:
```json
{
    "body": "<a id='comment:17'></a>\nCygwin only has package config files blas.pc, cblas.pc, lapack.pc, not openblas.pc.\nlibopenblas overrides the dll /usr/bin/cygblas-0.dll",
    "created_at": "2020-03-24T01:43:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574627",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
Cygwin only has package config files blas.pc, cblas.pc, lapack.pc, not openblas.pc.
libopenblas overrides the dll /usr/bin/cygblas-0.dll



---

archive/issue_comments_574628.json:
```json
{
    "body": "<a id='comment:18'></a>\nI've opened #29398 for openblas.",
    "created_at": "2020-03-24T02:06:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574628",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
I've opened #29398 for openblas.



---

archive/issue_comments_574629.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [mkoeppe](#comment%3A16):\n> Zmq is 4.2.3; our minimum is 4.2.5\n\nZmq changelog https://github.com/zeromq/libzmq/releases\n\nOur last update in #25906 was from 4.0.5.p2 and motivated with dropping some build patches that were upstreamed.",
    "created_at": "2020-03-24T02:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574629",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Replying to [mkoeppe](#comment%3A16):
> Zmq is 4.2.3; our minimum is 4.2.5

Zmq changelog https://github.com/zeromq/libzmq/releases

Our last update in #25906 was from 4.0.5.p2 and motivated with dropping some build patches that were upstreamed.



---

archive/issue_comments_574630.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,44 +3,30 @@\n https://github.com/mkoeppe/sage/runs/525632833?check_suite_focus=true\n \n ```\n-configure: notice: the following SPKGs did not find equivalent system packages: arb cbc cliquer eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl lcalc libatomic_ops libsemigroups lrcalc m4ri m4rie mpfi nauty ncurses ntl openblas pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small pcre planarity python3 r readline rw symmetrica tachyon zeromq\n+configure: notice: the following SPKGs did not find equivalent system packages: \n+arb cbc cliquer eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl lcalc \n+libatomic_ops libsemigroups lrcalc m4ri m4rie mpfi nauty ncurses ntl openblas \n+pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small \n+pcre planarity python3 r readline rw symmetrica tachyon zeromq\n checking for the package system in use... cygwin\n configure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:\n configure:   $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg\n apt-cyg install libflint-devel libgsl-devel ncurses-devel libreadline-devel libzmq-devel\n+```\n \n-\n-\n-Checking whether SageMath should install SPKG ncurses...\n-checking for NCURSES... no\n-checking ncurses.h usability... no\n-checking ncurses.h presence... no\n-checking for ncurses.h... no\n-configure: no suitable system package found for SPKG ncurses\n-\n-\n-## -------------------------------------------------------- ##\n-## Checking whether SageMath should install SPKG ncurses... ##\n-## -------------------------------------------------------- ##\n-configure:14485: checking for NCURSES\n-configure:14492: $PKG_CONFIG --exists --print-errors \"ncurses >= 6.0\"\n-Package ncurses was not found in the pkg-config search path.\n-Perhaps you should add the directory containing `ncurses.pc'\n-to the PKG_CONFIG_PATH environment variable\n-Package 'ncurses', required by 'virtual:world', not found\n-\n-## ---------------------------------------------------- ##\n-## Checking whether SageMath should install SPKG ntl... ##\n-## ---------------------------------------------------- ##\n-configure:10715: checking installing gmp/mpir? \n-configure:10722: result: no\n-configure:10730: checking NTL/ZZ.h usability\n-configure:10730: g++ -std=gnu++11 -c -g -O2  conftest.cpp >&5\n-conftest.cpp:58:10: fatal error: NTL/ZZ.h: No such file or directory\n-   58 | #include <NTL/ZZ.h>\n-      |          ^~~~~~~~~~\n-compilation terminated.\n+With this ticket (https://github.com/mkoeppe/sage/runs/528920665):\n \n ```\n+configure: notice: the following SPKGs did not find equivalent system packages: \n+arb cbc cliquer eclib ecm fflas_ffpack fplll gf2x gfan givaro gp2c gsl lcalc \n+libsemigroups lrcalc m4ri m4rie mpfi nauty openblas \n+pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small \n+planarity r rw symmetrica tachyon zeromq\n+checking for the package system in use... cygwin\n+configure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:\n+configure:   $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg\n+apt-cyg install libgsl-devel liblapack-devel libopenblas R libzmq-devel\n+```\n \n+Follow-up for BLAS at #29398.\n \n``````\n",
    "created_at": "2020-03-24T02:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574630",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,44 +3,30 @@
 https://github.com/mkoeppe/sage/runs/525632833?check_suite_focus=true
 
 ```
-configure: notice: the following SPKGs did not find equivalent system packages: arb cbc cliquer eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl lcalc libatomic_ops libsemigroups lrcalc m4ri m4rie mpfi nauty ncurses ntl openblas pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small pcre planarity python3 r readline rw symmetrica tachyon zeromq
+configure: notice: the following SPKGs did not find equivalent system packages: 
+arb cbc cliquer eclib ecm fflas_ffpack flint fplll gf2x gfan givaro glpk gp2c gsl lcalc 
+libatomic_ops libsemigroups lrcalc m4ri m4rie mpfi nauty ncurses ntl openblas 
+pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small 
+pcre planarity python3 r readline rw symmetrica tachyon zeromq
 checking for the package system in use... cygwin
 configure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:
 configure:   $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg
 apt-cyg install libflint-devel libgsl-devel ncurses-devel libreadline-devel libzmq-devel
+```
 
-
-
-Checking whether SageMath should install SPKG ncurses...
-checking for NCURSES... no
-checking ncurses.h usability... no
-checking ncurses.h presence... no
-checking for ncurses.h... no
-configure: no suitable system package found for SPKG ncurses
-
-
-## -------------------------------------------------------- ##
-## Checking whether SageMath should install SPKG ncurses... ##
-## -------------------------------------------------------- ##
-configure:14485: checking for NCURSES
-configure:14492: $PKG_CONFIG --exists --print-errors "ncurses >= 6.0"
-Package ncurses was not found in the pkg-config search path.
-Perhaps you should add the directory containing `ncurses.pc'
-to the PKG_CONFIG_PATH environment variable
-Package 'ncurses', required by 'virtual:world', not found
-
-## ---------------------------------------------------- ##
-## Checking whether SageMath should install SPKG ntl... ##
-## ---------------------------------------------------- ##
-configure:10715: checking installing gmp/mpir? 
-configure:10722: result: no
-configure:10730: checking NTL/ZZ.h usability
-configure:10730: g++ -std=gnu++11 -c -g -O2  conftest.cpp >&5
-conftest.cpp:58:10: fatal error: NTL/ZZ.h: No such file or directory
-   58 | #include <NTL/ZZ.h>
-      |          ^~~~~~~~~~
-compilation terminated.
+With this ticket (https://github.com/mkoeppe/sage/runs/528920665):
 
 ```
+configure: notice: the following SPKGs did not find equivalent system packages: 
+arb cbc cliquer eclib ecm fflas_ffpack fplll gf2x gfan givaro gp2c gsl lcalc 
+libsemigroups lrcalc m4ri m4rie mpfi nauty openblas 
+pari pari_elldata pari_galdata pari_galpol pari_nftables pari_seadata pari_seadata_small 
+planarity r rw symmetrica tachyon zeromq
+checking for the package system in use... cygwin
+configure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:
+configure:   $ # first install apt-cyg from https://github.com/transcode-open/apt-cyg
+apt-cyg install libgsl-devel liblapack-devel libopenblas R libzmq-devel
+```
 
+Follow-up for BLAS at #29398.
 
``````




---

archive/issue_comments_574631.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-24T02:17:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574631",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_574632.json:
```json
{
    "body": "<a id='comment:21'></a>\nWe can lower the minimum zmq version requirement, or at least try to.",
    "created_at": "2020-03-24T14:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574632",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
We can lower the minimum zmq version requirement, or at least try to.



---

archive/issue_comments_574633.json:
```json
{
    "body": "<a id='comment:22'></a>\nI don't think it adds much to the build time, and eventually cygwin will catch up",
    "created_at": "2020-03-24T17:29:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574633",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
I don't think it adds much to the build time, and eventually cygwin will catch up



---

archive/issue_comments_574634.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-24T17:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574634",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_574635.json:
```json
{
    "body": "<a id='comment:23'></a>\nok",
    "created_at": "2020-03-24T17:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574635",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>
ok



---

archive/issue_comments_574636.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2020-03-24T17:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574636",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_574637.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/add_more_cygwin_system_packages\" to \"f29a1686bd4d1d3bcae90497a3d30c225c2c9297\"",
    "created_at": "2020-03-29T00:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574637",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/add_more_cygwin_system_packages" to "f29a1686bd4d1d3bcae90497a3d30c225c2c9297"



---

archive/issue_comments_574638.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-29T00:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29397#issuecomment-574638",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_084534.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-29T00:23:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29397",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29397#event-84534"
}
```
