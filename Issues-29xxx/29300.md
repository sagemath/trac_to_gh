# Issue 29300: Latte test failure

archive/issues_029063.json:
```json
{
    "body": "CC:  @seblabbe @kliem\n\nKeywords: random_fail\n\nI'm hitting this now, though there seems to be no change that caused it. Possibly random:\n\n```\n**********************************************************************\nFile \"src/sage/interfaces/latte.py\", line 70, in sage.interfaces.latte.count\nFailed example:\n    print(count(cddin, **opts))  # optional - latte_int\nExpected:\n    x[0]^2*x[1]^(-2)*x[2]^(-2)/((1-x[1])*(1-x[2])*(1-x[0]^(-1)))\n     + x[0]^(-2)*x[1]^(-2)*x[2]^(-2)/((1-x[1])*(1-x[2])*(1-x[0]))\n     + x[0]^2*x[1]^(-2)*x[2]^2/((1-x[1])*(1-x[0]^(-1))*(1-x[2]^(-1)))\n     + x[0]^(-2)*x[1]^(-2)*x[2]^2/((1-x[1])*(1-x[0])*(1-x[2]^(-1)))\n     + x[0]^2*x[1]^2*x[2]^(-2)/((1-x[2])*(1-x[0]^(-1))*(1-x[1]^(-1)))\n     + x[0]^(-2)*x[1]^2*x[2]^(-2)/((1-x[2])*(1-x[0])*(1-x[1]^(-1)))\n     + x[0]^2*x[1]^2*x[2]^2/((1-x[0]^(-1))*(1-x[1]^(-1))*(1-x[2]^(-1)))\n     + x[0]^(-2)*x[1]^2*x[2]^2/((1-x[0])*(1-x[1]^(-1))*(1-x[2]^(-1)))\nGot:\n    x[0]^2*x[1]^(-2)*x[2]^(-2)/((1-x[1])*(1-x[2])*(1-x[0]^(-1)))\n     + x[0]^(-2)*x[1]^(-2)*x[2]^(-2)/((1-x[1])*(1-x[2])*(1-x[0]))\n     + x[0]^2*x[1]^(-2)*x[2]^2/((1-x[1])*(1-x[2]^(-1))*(1-x[0]^(-1)))\n     + x[0]^(-2)*x[1]^(-2)*x[2]^2/((1-x[1])*(1-x[0])*(1-x[2]^(-1)))\n     + x[0]^2*x[1]^2*x[2]^(-2)/((1-x[2])*(1-x[1]^(-1))*(1-x[0]^(-1)))\n     + x[0]^(-2)*x[1]^2*x[2]^(-2)/((1-x[2])*(1-x[0])*(1-x[1]^(-1)))\n     + x[0]^2*x[1]^2*x[2]^2/((1-x[2]^(-1))*(1-x[1]^(-1))*(1-x[0]^(-1)))\n     + x[0]^(-2)*x[1]^2*x[2]^2/((1-x[0])*(1-x[2]^(-1))*(1-x[1]^(-1)))\n    <BLANKLINE>\n**********************************************************************\n1 item had failures:\n   1 of  19 in sage.interfaces.latte.count\n    [58 tests, 1 failure, 0.80 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/interfaces/latte.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/29300\n\n",
    "closed_at": "2020-03-10T23:27:20Z",
    "created_at": "2020-03-08T14:17:27Z",
    "labels": [
        "component: packages: optional",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Latte test failure",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29300",
    "user": "https://github.com/vbraun"
}
```
CC:  @seblabbe @kliem

Keywords: random_fail

I'm hitting this now, though there seems to be no change that caused it. Possibly random:

```
**********************************************************************
File "src/sage/interfaces/latte.py", line 70, in sage.interfaces.latte.count
Failed example:
    print(count(cddin, **opts))  # optional - latte_int
Expected:
    x[0]^2*x[1]^(-2)*x[2]^(-2)/((1-x[1])*(1-x[2])*(1-x[0]^(-1)))
     + x[0]^(-2)*x[1]^(-2)*x[2]^(-2)/((1-x[1])*(1-x[2])*(1-x[0]))
     + x[0]^2*x[1]^(-2)*x[2]^2/((1-x[1])*(1-x[0]^(-1))*(1-x[2]^(-1)))
     + x[0]^(-2)*x[1]^(-2)*x[2]^2/((1-x[1])*(1-x[0])*(1-x[2]^(-1)))
     + x[0]^2*x[1]^2*x[2]^(-2)/((1-x[2])*(1-x[0]^(-1))*(1-x[1]^(-1)))
     + x[0]^(-2)*x[1]^2*x[2]^(-2)/((1-x[2])*(1-x[0])*(1-x[1]^(-1)))
     + x[0]^2*x[1]^2*x[2]^2/((1-x[0]^(-1))*(1-x[1]^(-1))*(1-x[2]^(-1)))
     + x[0]^(-2)*x[1]^2*x[2]^2/((1-x[0])*(1-x[1]^(-1))*(1-x[2]^(-1)))
Got:
    x[0]^2*x[1]^(-2)*x[2]^(-2)/((1-x[1])*(1-x[2])*(1-x[0]^(-1)))
     + x[0]^(-2)*x[1]^(-2)*x[2]^(-2)/((1-x[1])*(1-x[2])*(1-x[0]))
     + x[0]^2*x[1]^(-2)*x[2]^2/((1-x[1])*(1-x[2]^(-1))*(1-x[0]^(-1)))
     + x[0]^(-2)*x[1]^(-2)*x[2]^2/((1-x[1])*(1-x[0])*(1-x[2]^(-1)))
     + x[0]^2*x[1]^2*x[2]^(-2)/((1-x[2])*(1-x[1]^(-1))*(1-x[0]^(-1)))
     + x[0]^(-2)*x[1]^2*x[2]^(-2)/((1-x[2])*(1-x[0])*(1-x[1]^(-1)))
     + x[0]^2*x[1]^2*x[2]^2/((1-x[2]^(-1))*(1-x[1]^(-1))*(1-x[0]^(-1)))
     + x[0]^(-2)*x[1]^2*x[2]^2/((1-x[0])*(1-x[2]^(-1))*(1-x[1]^(-1)))
    <BLANKLINE>
**********************************************************************
1 item had failures:
   1 of  19 in sage.interfaces.latte.count
    [58 tests, 1 failure, 0.80 s]
----------------------------------------------------------------------
sage -t --long src/sage/interfaces/latte.py  # 1 doctest failed
----------------------------------------------------------------------
```

Issue created by migration from https://trac.sagemath.org/ticket/29300





---

archive/issue_comments_410868.json:
```json
{
    "body": "I confirm this issue was caused by #29200. Dilation of polytopes changed the ordering of their representation and few lines above in `src/sage/interfaces/latte.py`, the polytope is created by dilation:\n\n```\n   sage: P = 2 * polytopes.cube()\n```",
    "created_at": "2020-03-08T17:01:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29300",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29300#issuecomment-410868",
    "user": "https://github.com/seblabbe"
}
```

I confirm this issue was caused by #29200. Dilation of polytopes changed the ordering of their representation and few lines above in `src/sage/interfaces/latte.py`, the polytope is created by dilation:

```
   sage: P = 2 * polytopes.cube()
```



---

archive/issue_comments_410869.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-03-08T17:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29300",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29300#issuecomment-410869",
    "user": "https://github.com/seblabbe"
}
```

New commits:



---

archive/issue_comments_410870.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-08T17:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29300",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29300#issuecomment-410870",
    "user": "https://github.com/seblabbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_410871.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-08T22:30:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29300",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29300#issuecomment-410871",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_074545.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-10T23:27:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29300",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29300#event-74545"
}
```



---

archive/issue_comments_410872.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-10T23:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29300",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29300#issuecomment-410872",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
