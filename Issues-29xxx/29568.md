# Issue 29568: Initialize polyhedra with backend cdd over RDF with both Vrepresentation and Hrepresentation

archive/issues_029331.json:
```json
{
    "body": "Setting up polyhedra with the shortest representation is not always the best choice for inexact polyhedra. Concretely, #29324 introduced a regression:\n\n```\nsage: P = polytopes.buckyball(exact=False) \nsage: P+P.center()\n/srv/public/kliem/sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/backend_cdd.py:142: UserWarning: This polyhedron data is numerically complicated; cdd could not convert between the inexact V and H representation without loss of data. The resulting object might show inconsistencies.\n  warn(\"This polyhedron data is numerically complicated; cdd could not convert between the inexact V and H representation without loss of data. The resulting object might show inconsistencies.\")\nA 3-dimensional polyhedron in RDF^3 defined as the convex hull of 60 vertices\n```\n\nOn the other hand `2*P` always threw this warning (also before #29200).\n\nWe use that we are given both Vrepresentation and Hrepresentation to use whichever works. It works if the calculated object has the correct length of Vrepresentation and Hrepresentation (that's the standard for cdd).\n\nCC:  @jplab @laisrast\n\nKeywords: inexact polyhedra, precomputed data\n\nBranch/Commit: 7e5ecaf79d9a90d36e4b83cd58846dcd6a13365e\n\nReviewer: Jean-Philippe Labb\u00e9\n\nAuthor: Jonathan Kliem\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29568\n\n",
    "closed_at": "2020-05-26T21:43:52Z",
    "created_at": "2020-04-24T14:28:05Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Initialize polyhedra with backend cdd over RDF with both Vrepresentation and Hrepresentation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29568",
    "user": "https://github.com/kliem"
}
```
Setting up polyhedra with the shortest representation is not always the best choice for inexact polyhedra. Concretely, #29324 introduced a regression:

```
sage: P = polytopes.buckyball(exact=False) 
sage: P+P.center()
/srv/public/kliem/sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/backend_cdd.py:142: UserWarning: This polyhedron data is numerically complicated; cdd could not convert between the inexact V and H representation without loss of data. The resulting object might show inconsistencies.
  warn("This polyhedron data is numerically complicated; cdd could not convert between the inexact V and H representation without loss of data. The resulting object might show inconsistencies.")
A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 60 vertices
```

On the other hand `2*P` always threw this warning (also before #29200).

We use that we are given both Vrepresentation and Hrepresentation to use whichever works. It works if the calculated object has the correct length of Vrepresentation and Hrepresentation (that's the standard for cdd).

CC:  @jplab @laisrast

Keywords: inexact polyhedra, precomputed data

Branch/Commit: 7e5ecaf79d9a90d36e4b83cd58846dcd6a13365e

Reviewer: Jean-Philippe Labbé

Author: Jonathan Kliem

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29568





---

archive/issue_events_093058.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "rename": {
        "from": "Initialize polyhedra with backend cdd with both Vrepresentation and Hrepresentation",
        "to": "Initialize polyhedra with backend cdd over RDF with both Vrepresentation and Hrepresentation"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29568#event-93058"
}
```



---

archive/issue_comments_570931.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|\n|[aa5ef80](https://github.com/sagemath/sagetrac-mirror/commit/aa5ef80e50468ab04c644e59f3550a35e403fe02)|`initalize cdd with both Hrep and Vrep to deal with numerical inconsistency`|",
    "created_at": "2020-05-05T14:17:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570931",
    "user": "https://github.com/kliem"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
|[aa5ef80](https://github.com/sagemath/sagetrac-mirror/commit/aa5ef80e50468ab04c644e59f3550a35e403fe02)|`initalize cdd with both Hrep and Vrep to deal with numerical inconsistency`|



---

archive/issue_comments_570932.json:
```json
{
    "body": "Changing commit from \"\" to \"aa5ef80e50468ab04c644e59f3550a35e403fe02\"",
    "created_at": "2020-05-05T14:17:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570932",
    "user": "https://github.com/kliem"
}
```

Changing commit from "" to "aa5ef80e50468ab04c644e59f3550a35e403fe02"



---

archive/issue_comments_570933.json:
```json
{
    "body": "Changing branch from \"\" to \"public/29568\"",
    "created_at": "2020-05-05T14:17:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570933",
    "user": "https://github.com/kliem"
}
```

Changing branch from "" to "public/29568"



---

archive/issue_comments_570934.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,4 +10,4 @@\n \n On the other hand `2*P` always threw this warning (also before #29200).\n \n-We should use that we are given both Vrepresentation and Hrepresentation in cdd to make things work.\n+We use that we are given both Vrepresentation and Hrepresentation to use whichever works. It works if the calculated object has the correct length of Vrepresentation and Hrepresentation (that's the standard for cdd).\n``````\n",
    "created_at": "2020-05-05T14:17:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570934",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,4 +10,4 @@
 
 On the other hand `2*P` always threw this warning (also before #29200).
 
-We should use that we are given both Vrepresentation and Hrepresentation in cdd to make things work.
+We use that we are given both Vrepresentation and Hrepresentation to use whichever works. It works if the calculated object has the correct length of Vrepresentation and Hrepresentation (that's the standard for cdd).
``````




---

archive/issue_comments_570935.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-05-05T14:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570935",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_570936.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|\n|[7e5ecaf](https://github.com/sagemath/sagetrac-mirror/commit/7e5ecaf79d9a90d36e4b83cd58846dcd6a13365e)|`initalize cdd with both Hrep and Vrep to deal with numerical inconsistency`|",
    "created_at": "2020-05-11T08:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570936",
    "user": "https://github.com/kliem"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
|[7e5ecaf](https://github.com/sagemath/sagetrac-mirror/commit/7e5ecaf79d9a90d36e4b83cd58846dcd6a13365e)|`initalize cdd with both Hrep and Vrep to deal with numerical inconsistency`|



---

archive/issue_comments_570937.json:
```json
{
    "body": "Changing commit from \"aa5ef80e50468ab04c644e59f3550a35e403fe02\" to \"7e5ecaf79d9a90d36e4b83cd58846dcd6a13365e\"",
    "created_at": "2020-05-11T08:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570937",
    "user": "https://github.com/kliem"
}
```

Changing commit from "aa5ef80e50468ab04c644e59f3550a35e403fe02" to "7e5ecaf79d9a90d36e4b83cd58846dcd6a13365e"



---

archive/issue_comments_570938.json:
```json
{
    "body": "Changing branch from \"public/29568\" to \"public/29568-reb\"",
    "created_at": "2020-05-11T08:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570938",
    "user": "https://github.com/kliem"
}
```

Changing branch from "public/29568" to "public/29568-reb"



---

archive/issue_comments_570939.json:
```json
{
    "body": "Changing author from \"\" to \"Jonathan Kliem\"",
    "created_at": "2020-05-12T11:40:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570939",
    "user": "https://github.com/jplab"
}
```

Changing author from "" to "Jonathan Kliem"



---

archive/issue_comments_570940.json:
```json
{
    "body": "<a id='comment:4'></a>\nMissing Author.",
    "created_at": "2020-05-12T11:40:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570940",
    "user": "https://github.com/jplab"
}
```

<a id='comment:4'></a>
Missing Author.



---

archive/issue_comments_570941.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jean-Philippe Labb\u00e9\"",
    "created_at": "2020-05-13T09:33:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570941",
    "user": "https://github.com/jplab"
}
```

Changing reviewer from "" to "Jean-Philippe Labbé"



---

archive/issue_comments_570942.json:
```json
{
    "body": "<a id='comment:5'></a>\nLooks good to me.",
    "created_at": "2020-05-13T09:33:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570942",
    "user": "https://github.com/jplab"
}
```

<a id='comment:5'></a>
Looks good to me.



---

archive/issue_comments_570943.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-05-13T09:33:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570943",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_570944.json:
```json
{
    "body": "Changing branch from \"public/29568-reb\" to \"7e5ecaf79d9a90d36e4b83cd58846dcd6a13365e\"",
    "created_at": "2020-05-26T21:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570944",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/29568-reb" to "7e5ecaf79d9a90d36e4b83cd58846dcd6a13365e"



---

archive/issue_comments_570945.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-05-26T21:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29568#issuecomment-570945",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_093059.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-26T21:43:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29568",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29568#event-93059"
}
```
