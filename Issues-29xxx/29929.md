# Issue 29929: tox.ini: Various CI fixes

archive/issues_029692.json:
```json
{
    "body": "\n- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n\n- Disable testsuites that need pip (ssl)\n\n\n\nThis is on top of:\n\n- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n\n- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)\n\n\n\nCC:  @kliem\n\nBranch/Commit: [b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)\n\nUpstream: Reported upstream. No feedback yet.\n\nReviewer: Jonathan Kliem\n\nAuthor: Matthias Koeppe\n\nDependencies: #29851, #29105, #30064, #30048, #30088, #30118\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29929\n\n",
    "closed_at": "2020-07-28T22:34:26Z",
    "created_at": "2020-06-21T21:26:07Z",
    "labels": [
        "component: porting"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "tox.ini: Various CI fixes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29929",
    "user": "https://github.com/mkoeppe"
}
```

- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)

- Disable testsuites that need pip (ssl)



This is on top of:

- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088

- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)



CC:  @kliem

Branch/Commit: [b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)

Upstream: Reported upstream. No feedback yet.

Reviewer: Jonathan Kliem

Author: Matthias Koeppe

Dependencies: #29851, #29105, #30064, #30048, #30088, #30118

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29929





---

archive/issue_comments_588203.json:
```json
{
    "body": "<a id='comment:1'></a>\nI'll repeat a comment I made at #29706: I really needed an environment without homebrew to replicate the failures; just having a minimal homebrew installation, or having one with temporarily moved `pkgconfig` directories, wasn't enough to get the failures.\n\n(So I'm emphasizing that I'm agreeing with the summary: \"without homebrew\".)",
    "created_at": "2020-06-23T18:54:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588203",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:1'></a>
I'll repeat a comment I made at #29706: I really needed an environment without homebrew to replicate the failures; just having a minimal homebrew installation, or having one with temporarily moved `pkgconfig` directories, wasn't enough to get the failures.

(So I'm emphasizing that I'm agreeing with the summary: "without homebrew".)



---

archive/issue_comments_588204.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.\n+\n+\n+Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n``````\n",
    "created_at": "2020-07-05T17:15:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588204",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
 That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.
+
+
+Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
``````




---

archive/issue_comments_588205.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2020-07-05T17:15:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588205",
    "user": "https://github.com/mkoeppe"
}
```

Changing upstream from "N/A" to "Reported upstream. No feedback yet."



---

archive/issue_comments_588206.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,13 @@\n \n \n Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+\n+\n+Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n+\n+```\n++ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional\n+C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n+##[error]Process completed with exit code 1.\n+```\n+\n``````\n",
    "created_at": "2020-07-05T19:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588206",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,13 @@
 
 
 Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+
+
+Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
+
+```
++ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional
+C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
+##[error]Process completed with exit code 1.
+```
+
``````




---

archive/issue_comments_588207.json:
```json
{
    "body": "Dependencies: #29851, #29105",
    "created_at": "2020-07-05T19:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588207",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: #29851, #29105



---

archive/issue_comments_588208.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,5 @@\n C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n ##[error]Process completed with exit code 1.\n ```\n+So `sage-system-python` needs better checks for the suitability of `python`.\n \n``````\n",
    "created_at": "2020-07-05T19:05:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588208",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,5 @@
 C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
 ##[error]Process completed with exit code 1.
 ```
+So `sage-system-python` needs better checks for the suitability of `python`.
 
``````




---

archive/issue_events_086604.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "rename": {
        "from": "tox.ini: Add a macos environment without homebrew, conda",
        "to": "tox.ini: Add a macos environment without homebrew, conda; and other CI fixes"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29929#event-86604"
}
```



---

archive/issue_events_086605.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "rename": {
        "from": "tox.ini: Add a macos environment without homebrew, conda; and other CI fixes",
        "to": "tox.ini: Various CI fixes"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29929#event-86605"
}
```



---

archive/issue_comments_588209.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,15 +1,16 @@\n-That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.\n \n+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.\n \n-Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n+- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). \n \n-Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n+- Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n ```\n + sage-package create arb --version git --tarball arb-git.tar.gz --type=optional\n C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n ##[error]Process completed with exit code 1.\n ```\n-So `sage-system-python` needs better checks for the suitability of `python`.\n+  So `sage-system-python` needs better checks for the suitability of `python`.\n \n``````\n",
    "created_at": "2020-07-05T19:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588209",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,15 +1,16 @@
-That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.
 
+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.
 
-Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
+- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). 
 
-Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
+- Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
 ```
 + sage-package create arb --version git --tarball arb-git.tar.gz --type=optional
 C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
 ##[error]Process completed with exit code 1.
 ```
-So `sage-system-python` needs better checks for the suitability of `python`.
+  So `sage-system-python` needs better checks for the suitability of `python`.
 
``````




---

archive/issue_comments_588210.json:
```json
{
    "body": "Changing dependencies from \"#29851, #29105\" to \"#29851, #29105, #30064\"",
    "created_at": "2020-07-05T19:45:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588210",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29851, #29105" to "#29851, #29105, #30064"



---

archive/issue_comments_588211.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,3 +14,6 @@\n ```\n   So `sage-system-python` needs better checks for the suitability of `python`.\n \n+- Use `tar --ignore-failed-read` to work around trouble on cygwin (https://trac.sagemath.org/ticket/25993#comment:107)\n+\n+\n``````\n",
    "created_at": "2020-07-06T17:51:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588211",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,3 +14,6 @@
 ```
   So `sage-system-python` needs better checks for the suitability of `python`.
 
+- Use `tar --ignore-failed-read` to work around trouble on cygwin (https://trac.sagemath.org/ticket/25993#comment:107)
+
+
``````




---

archive/issue_comments_588212.json:
```json
{
    "body": "Branch: [u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)",
    "created_at": "2020-07-08T00:58:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588212",
    "user": "https://github.com/mkoeppe"
}
```

Branch: [u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)



---

archive/issue_comments_588213.json:
```json
{
    "body": "Commit: [bfb2fb439694e7fee3e2a0adfd4b4367915362eb](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)",
    "created_at": "2020-07-08T02:27:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588213",
    "user": "https://github.com/mkoeppe"
}
```

Commit: [bfb2fb439694e7fee3e2a0adfd4b4367915362eb](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)



---

archive/issue_comments_588214.json:
```json
{
    "body": "<a id='comment:11'></a>\nNew commits:\n|                                                                                                                                          |                                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|\n|[539c182](https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90)|`build/make/install: Do not depend on src/bin/sage-version.sh`|\n|[761092c](https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24)|`Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884`|\n|[f2efa6a](https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5)|`src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist`|\n|[b7bf43b](https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9)|`build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884`|\n|[365ce61](https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e)|`Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD`|\n|[1e7becc](https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71)|`tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev`|\n|[fb61a31](https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166)|`Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes`|\n|[bfb2fb4](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)|`tox.ini: Add environment local-homebrew-usrlocal`|",
    "created_at": "2020-07-08T02:27:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588214",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
New commits:
|                                                                                                                                          |                                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|
|[539c182](https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90)|`build/make/install: Do not depend on src/bin/sage-version.sh`|
|[761092c](https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24)|`Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884`|
|[f2efa6a](https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5)|`src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist`|
|[b7bf43b](https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9)|`build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884`|
|[365ce61](https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e)|`Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD`|
|[1e7becc](https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71)|`tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev`|
|[fb61a31](https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166)|`Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes`|
|[bfb2fb4](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)|`tox.ini: Add environment local-homebrew-usrlocal`|



---

archive/issue_comments_588215.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,9 @@\n \n-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.\n+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)\n \n - Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n-- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). \n+- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n - Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n``````\n",
    "created_at": "2020-07-08T02:27:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588215",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,9 @@
 
-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.
+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)
 
 - Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
-- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). 
+- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
 - Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
``````




---

archive/issue_comments_588216.json:
```json
{
    "body": "Changing dependencies from \"#29851, #29105, #30064\" to \"#29851, #29105, #30064, #30088\"",
    "created_at": "2020-07-08T02:27:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588216",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29851, #29105, #30064" to "#29851, #29105, #30064, #30088"



---

archive/issue_comments_588217.json:
```json
{
    "body": "Changing dependencies from \"#29851, #29105, #30064, #30088\" to \"#29851, #29105, #30064, #30048, #30088\"",
    "created_at": "2020-07-11T22:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588217",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29851, #29105, #30064, #30088" to "#29851, #29105, #30064, #30048, #30088"



---

archive/issue_comments_588218.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|[aded967](https://github.com/sagemath/sagetrac-mirror/commit/aded967760d6e79b148d61a12d245b0a353cd23b)|`Merge commit '8195cb821e01e0cb627240d7135d5634c265cab0' of git://trac.sagemath.org/sage into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|\n|[07d657d](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)|`Merge tag '9.2.beta4' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|",
    "created_at": "2020-07-11T22:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588218",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
|[aded967](https://github.com/sagemath/sagetrac-mirror/commit/aded967760d6e79b148d61a12d245b0a353cd23b)|`Merge commit '8195cb821e01e0cb627240d7135d5634c265cab0' of git://trac.sagemath.org/sage into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|
|[07d657d](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)|`Merge tag '9.2.beta4' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|



---

archive/issue_comments_588219.json:
```json
{
    "body": "Changing commit from \"[bfb2fb439694e7fee3e2a0adfd4b4367915362eb](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)\" to \"[07d657d95781cd193f04809376d10b2088a429a6](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)\"",
    "created_at": "2020-07-11T22:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588219",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[bfb2fb439694e7fee3e2a0adfd4b4367915362eb](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)" to "[07d657d95781cd193f04809376d10b2088a429a6](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)"



---

archive/issue_comments_588220.json:
```json
{
    "body": "Changing commit from \"[07d657d95781cd193f04809376d10b2088a429a6](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)\" to \"[bd15fb95c0720aff65ee8fce1c7c261c7aee40fc](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)\"",
    "created_at": "2020-07-11T22:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588220",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[07d657d95781cd193f04809376d10b2088a429a6](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)" to "[bd15fb95c0720aff65ee8fce1c7c261c7aee40fc](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)"



---

archive/issue_comments_588221.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|\n|[bd15fb9](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)|`build/bin/write-dockerfile.sh, tox.ini: Do not run testsuites that need pip (ssl)`|",
    "created_at": "2020-07-11T22:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|
|[bd15fb9](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)|`build/bin/write-dockerfile.sh, tox.ini: Do not run testsuites that need pip (ssl)`|



---

archive/issue_comments_588222.json:
```json
{
    "body": "Changing dependencies from \"#29851, #29105, #30064, #30048, #30088\" to \"#29851, #29105, #30064, #30048, #30088, #30118\"",
    "created_at": "2020-07-12T05:05:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588222",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29851, #29105, #30064, #30048, #30088" to "#29851, #29105, #30064, #30048, #30088, #30118"



---

archive/issue_comments_588223.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|\n|[25393b0](https://github.com/sagemath/sagetrac-mirror/commit/25393b03b5add035608cd09543b3aa4666d100f9)|`Handle SAGE_CHECK_PACKAGES in build/make/Makefile.in, not sage-spkg`|\n|[5aca238](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)|`Merge branch 't/30118/handle_sage_check_packages_in_build_make_makefile_in__not_sage_spkg' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|",
    "created_at": "2020-07-12T05:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588223",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|
|[25393b0](https://github.com/sagemath/sagetrac-mirror/commit/25393b03b5add035608cd09543b3aa4666d100f9)|`Handle SAGE_CHECK_PACKAGES in build/make/Makefile.in, not sage-spkg`|
|[5aca238](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)|`Merge branch 't/30118/handle_sage_check_packages_in_build_make_makefile_in__not_sage_spkg' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|



---

archive/issue_comments_588224.json:
```json
{
    "body": "Changing commit from \"[bd15fb95c0720aff65ee8fce1c7c261c7aee40fc](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)\" to \"[5aca2383a65be422c6a43349ff86fabb90d9fabe](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)\"",
    "created_at": "2020-07-12T05:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588224",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[bd15fb95c0720aff65ee8fce1c7c261c7aee40fc](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)" to "[5aca2383a65be422c6a43349ff86fabb90d9fabe](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)"



---

archive/issue_comments_588225.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n \n - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)\n \n-- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n - Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n``````\n",
    "created_at": "2020-07-12T05:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588225",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 
 - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)
 
-- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
 - Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
``````




---

archive/issue_comments_588226.json:
```json
{
    "body": "Changing commit from \"[5aca2383a65be422c6a43349ff86fabb90d9fabe](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)\" to \"[d1a2cbf833f020a591777c40abfc5ab26ec04fe0](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)\"",
    "created_at": "2020-07-14T00:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588226",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[5aca2383a65be422c6a43349ff86fabb90d9fabe](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)" to "[d1a2cbf833f020a591777c40abfc5ab26ec04fe0](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)"



---

archive/issue_comments_588227.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|\n|[a17c655](https://github.com/sagemath/sagetrac-mirror/commit/a17c655a2aac9c80a52893c5373805a233731186)|`m4/sage_spkg_collect.m4: Do not include script packages in SAGE_SDIST_PACKAGES`|\n|[827923a](https://github.com/sagemath/sagetrac-mirror/commit/827923adc48858709deba6f99464665e689dc5ef)|`bootstrap: Accept 2020s in config.guess version check`|\n|[c30ac54](https://github.com/sagemath/sagetrac-mirror/commit/c30ac5431056413c24b1544c2a6a142a4ece9dc5)|`tox.ini: Add local-nobootstrap`|\n|[de6464d](https://github.com/sagemath/sagetrac-mirror/commit/de6464db6b94fcebd5f88337681994fc0eb07e4b)|`.github/workflows/tox.yml: Add jobs \"dist\", \"local-macos-nohomebrew`|\n|[775b7f7](https://github.com/sagemath/sagetrac-mirror/commit/775b7f7a8a406f9ae8aa9ef542384c060b4cbbd4)|`Trac #30088: add a few explanatory comments to m4/sage_spkg_collect.m4.`|\n|[160862f](https://github.com/sagemath/sagetrac-mirror/commit/160862fb38046c22a4798f9aa00c6cad4415f540)|`m4/sage_spkg_collect.m4: Mention sagelib in the comment`|\n|[d1a2cbf](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)|`Merge branch 't/30088/fix__make_sdist___add_test_run_to_github_actions' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|",
    "created_at": "2020-07-14T00:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588227",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|
|[a17c655](https://github.com/sagemath/sagetrac-mirror/commit/a17c655a2aac9c80a52893c5373805a233731186)|`m4/sage_spkg_collect.m4: Do not include script packages in SAGE_SDIST_PACKAGES`|
|[827923a](https://github.com/sagemath/sagetrac-mirror/commit/827923adc48858709deba6f99464665e689dc5ef)|`bootstrap: Accept 2020s in config.guess version check`|
|[c30ac54](https://github.com/sagemath/sagetrac-mirror/commit/c30ac5431056413c24b1544c2a6a142a4ece9dc5)|`tox.ini: Add local-nobootstrap`|
|[de6464d](https://github.com/sagemath/sagetrac-mirror/commit/de6464db6b94fcebd5f88337681994fc0eb07e4b)|`.github/workflows/tox.yml: Add jobs "dist", "local-macos-nohomebrew`|
|[775b7f7](https://github.com/sagemath/sagetrac-mirror/commit/775b7f7a8a406f9ae8aa9ef542384c060b4cbbd4)|`Trac #30088: add a few explanatory comments to m4/sage_spkg_collect.m4.`|
|[160862f](https://github.com/sagemath/sagetrac-mirror/commit/160862fb38046c22a4798f9aa00c6cad4415f540)|`m4/sage_spkg_collect.m4: Mention sagelib in the comment`|
|[d1a2cbf](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)|`Merge branch 't/30088/fix__make_sdist___add_test_run_to_github_actions' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|



---

archive/issue_comments_588228.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,9 @@\n \n-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)\n+- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n+\n+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)\n \n - Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n-\n-- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n - Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n``````\n",
    "created_at": "2020-07-14T00:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588228",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,9 @@
 
-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)
+- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
+
+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)
 
 - Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
-
-- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
 - Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
``````




---

archive/issue_comments_588229.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,7 @@\n \n - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)\n \n-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n - Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n``````\n",
    "created_at": "2020-07-15T02:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588229",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,7 @@
 
 - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)
 
-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
 - Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
``````




---

archive/issue_comments_588230.json:
```json
{
    "body": "<a id='comment:21'></a>\nis this still \"new\"?",
    "created_at": "2020-07-16T10:15:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588230",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
is this still "new"?



---

archive/issue_comments_588231.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,19 +1,14 @@\n+\n+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+\n+- Disable testsuites that need pip (ssl)\n+\n+\n+\n+This is on top of:\n \n - Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)\n \n-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n-- Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n-\n-```\n-+ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional\n-C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n-##[error]Process completed with exit code 1.\n-```\n-  So `sage-system-python` needs better checks for the suitability of `python`.\n-\n-- Use `tar --ignore-failed-read` to work around trouble on cygwin (https://trac.sagemath.org/ticket/25993#comment:107)\n-\n-\n``````\n",
    "created_at": "2020-07-16T15:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588231",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,19 +1,14 @@
+
+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+
+- Disable testsuites that need pip (ssl)
+
+
+
+This is on top of:
 
 - Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
 - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)
 
-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
-- Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
-
-```
-+ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional
-C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
-##[error]Process completed with exit code 1.
-```
-  So `sage-system-python` needs better checks for the suitability of `python`.
-
-- Use `tar --ignore-failed-read` to work around trouble on cygwin (https://trac.sagemath.org/ticket/25993#comment:107)
-
-
``````




---

archive/issue_comments_588232.json:
```json
{
    "body": "Author: Matthias Koeppe",
    "created_at": "2020-07-16T15:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588232",
    "user": "https://github.com/mkoeppe"
}
```

Author: Matthias Koeppe



---

archive/issue_comments_588233.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-07-16T15:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588233",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_588234.json:
```json
{
    "body": "<a id='comment:23'></a>\nThe cygwin CI wishlist has been moved to #30154.\n\nNeeds review",
    "created_at": "2020-07-16T15:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588234",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
The cygwin CI wishlist has been moved to #30154.

Needs review



---

archive/issue_comments_588235.json:
```json
{
    "body": "Reviewer: Jonathan Kliem",
    "created_at": "2020-07-22T07:23:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588235",
    "user": "https://github.com/kliem"
}
```

Reviewer: Jonathan Kliem



---

archive/issue_comments_588236.json:
```json
{
    "body": "<a id='comment:24'></a>\nLooks reasonable.\n\nCan you provide an example of this ticket in action (you probably have been using it already anyway?).\n\nWhat's `symengine_py`?",
    "created_at": "2020-07-22T07:23:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588236",
    "user": "https://github.com/kliem"
}
```

<a id='comment:24'></a>
Looks reasonable.

Can you provide an example of this ticket in action (you probably have been using it already anyway?).

What's `symengine_py`?



---

archive/issue_comments_588237.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [gh-kliem](#comment%3A24):\n> What's `symengine_py`?\n\nSee #29497",
    "created_at": "2020-07-22T07:28:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588237",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Replying to [gh-kliem](#comment%3A24):
> What's `symengine_py`?

See #29497



---

archive/issue_comments_588238.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [gh-kliem](#comment%3A24):\n> Can you provide an example of this ticket in action (you probably have been using it already anyway?).\n\n\nThe `SAGE_CHECK_PACKAGES` adjustments are used in #29766.",
    "created_at": "2020-07-22T07:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588238",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
Replying to [gh-kliem](#comment%3A24):
> Can you provide an example of this ticket in action (you probably have been using it already anyway?).


The `SAGE_CHECK_PACKAGES` adjustments are used in #29766.



---

archive/issue_comments_588239.json:
```json
{
    "body": "<a id='comment:27'></a>\nLGTM.",
    "created_at": "2020-07-23T17:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588239",
    "user": "https://github.com/kliem"
}
```

<a id='comment:27'></a>
LGTM.



---

archive/issue_comments_588240.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-07-23T17:04:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588240",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_588241.json:
```json
{
    "body": "<a id='comment:28'></a>\nThanks!",
    "created_at": "2020-07-23T17:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588241",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
Thanks!



---

archive/issue_comments_588242.json:
```json
{
    "body": "<a id='comment:29'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                           |                                                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------|\n|[b62f775](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)|`Merge tag '9.2.beta6' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|",
    "created_at": "2020-07-25T23:56:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588242",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                           |                                                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------|
|[b62f775](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)|`Merge tag '9.2.beta6' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|



---

archive/issue_comments_588243.json:
```json
{
    "body": "Changing commit from \"[d1a2cbf833f020a591777c40abfc5ab26ec04fe0](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)\" to \"[b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)\"",
    "created_at": "2020-07-25T23:56:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588243",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[d1a2cbf833f020a591777c40abfc5ab26ec04fe0](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)" to "[b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)"



---

archive/issue_comments_588244.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-07-25T23:56:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588244",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_588245.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-07-25T23:56:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588245",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_588246.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-28T22:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588246",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_086606.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-28T22:34:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29929#event-86606"
}
```



---

archive/issue_comments_588247.json:
```json
{
    "body": "Changing branch from \"[u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)\" to \"[b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)\"",
    "created_at": "2020-07-28T22:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29929#issuecomment-588247",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)" to "[b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)"
