# Issue 29929: tox.ini: Various CI fixes

archive/issues_029692.json:
```json
{
    "body": "\n- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n\n- Disable testsuites that need pip (ssl)\n\n\n\nThis is on top of:\n\n- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n\n- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)\n\n\n\n**CC:**  @kliem\n\n**Branch/Commit:** [b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)\n\n**Upstream:** Reported upstream. No feedback yet.\n\n**Reviewer:** Jonathan Kliem\n\n**Author:** Matthias Koeppe\n\n**Dependencies:** #29851, #29105, #30064, #30048, #30088, #30118\n\nIssue created by migration from https://trac.sagemath.org/ticket/29929\n\n",
    "closed_at": "2020-07-28T22:34:26Z",
    "created_at": "2020-06-21T21:26:07Z",
    "labels": [
        "component: porting",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "title": "tox.ini: Various CI fixes",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/29929",
    "user": "https://github.com/mkoeppe"
}
```

- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)

- Disable testsuites that need pip (ssl)



This is on top of:

- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088

- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)



**CC:**  @kliem

**Branch/Commit:** [b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)

**Upstream:** Reported upstream. No feedback yet.

**Reviewer:** Jonathan Kliem

**Author:** Matthias Koeppe

**Dependencies:** #29851, #29105, #30064, #30048, #30088, #30118

Issue created by migration from https://trac.sagemath.org/ticket/29929





---

archive/issue_comments_475759.json:
```json
{
    "body": "<a id='comment:1'></a>\nI'll repeat a comment I made at #29706: I really needed an environment without homebrew to replicate the failures; just having a minimal homebrew installation, or having one with temporarily moved `pkgconfig` directories, wasn't enough to get the failures.\n\n(So I'm emphasizing that I'm agreeing with the summary: \"without homebrew\".)",
    "created_at": "2020-06-23T18:54:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475759",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:1'></a>
I'll repeat a comment I made at #29706: I really needed an environment without homebrew to replicate the failures; just having a minimal homebrew installation, or having one with temporarily moved `pkgconfig` directories, wasn't enough to get the failures.

(So I'm emphasizing that I'm agreeing with the summary: "without homebrew".)



---

archive/issue_comments_475760.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.\n+\n+\n+Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n``````\n",
    "created_at": "2020-07-05T17:15:11Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475760",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,4 @@
 That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.
+
+
+Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
``````




---

archive/issue_comments_475761.json:
```json
{
    "body": "**Upstream:** Reported upstream. No feedback yet.",
    "created_at": "2020-07-05T17:15:11Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475761",
    "user": "https://github.com/mkoeppe"
}
```

**Upstream:** Reported upstream. No feedback yet.



---

archive/issue_comments_475762.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,3 +2,13 @@\n \n \n Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+\n+\n+Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n+\n+```\n++ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional\n+C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n+##[error]Process completed with exit code 1.\n+```\n+\n``````\n",
    "created_at": "2020-07-05T19:03:05Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475762",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,3 +2,13 @@
 
 
 Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+
+
+Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
+
+```
++ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional
+C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
+##[error]Process completed with exit code 1.
+```
+
``````




---

archive/issue_comments_475763.json:
```json
{
    "body": "**Dependencies:** #29851, #29105",
    "created_at": "2020-07-05T19:04:32Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475763",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #29851, #29105



---

archive/issue_comments_475764.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,4 +11,5 @@\n C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n ##[error]Process completed with exit code 1.\n ```\n+So `sage-system-python` needs better checks for the suitability of `python`.\n \n``````\n",
    "created_at": "2020-07-05T19:05:24Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475764",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,4 +11,5 @@
 C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
 ##[error]Process completed with exit code 1.
 ```
+So `sage-system-python` needs better checks for the suitability of `python`.
 
``````




---

archive/issue_events_267042.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-05T19:08:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "rename": {
        "from": "tox.ini: Add a macos environment without homebrew, conda",
        "to": "tox.ini: Add a macos environment without homebrew, conda; and other CI fixes"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-267042"
}
```



---

archive/issue_events_267043.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-05T19:22:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "rename": {
        "from": "tox.ini: Add a macos environment without homebrew, conda; and other CI fixes",
        "to": "tox.ini: Various CI fixes"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-267043"
}
```



---

archive/issue_comments_475765.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,15 +1,16 @@\n-That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.\n \n+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.\n \n-Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n+- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). \n \n-Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n+- Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n ```\n + sage-package create arb --version git --tarball arb-git.tar.gz --type=optional\n C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n ##[error]Process completed with exit code 1.\n ```\n-So `sage-system-python` needs better checks for the suitability of `python`.\n+  So `sage-system-python` needs better checks for the suitability of `python`.\n \n``````\n",
    "created_at": "2020-07-05T19:22:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475765",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,15 +1,16 @@
-That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.
 
+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.
 
-Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
+- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). 
 
-Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
+- Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
 ```
 + sage-package create arb --version git --tarball arb-git.tar.gz --type=optional
 C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
 ##[error]Process completed with exit code 1.
 ```
-So `sage-system-python` needs better checks for the suitability of `python`.
+  So `sage-system-python` needs better checks for the suitability of `python`.
 
``````




---

archive/issue_comments_475766.json:
```json
{
    "body": "**Changing dependencies** from \"#29851, #29105\" to \"#29851, #29105, #30064\".",
    "created_at": "2020-07-05T19:45:33Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475766",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#29851, #29105" to "#29851, #29105, #30064".



---

archive/issue_comments_475767.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -14,3 +14,6 @@\n ```\n   So `sage-system-python` needs better checks for the suitability of `python`.\n \n+- Use `tar --ignore-failed-read` to work around trouble on cygwin (ticket:25993#comment:107)\n+\n+\n``````\n",
    "created_at": "2020-07-06T17:51:19Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475767",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -14,3 +14,6 @@
 ```
   So `sage-system-python` needs better checks for the suitability of `python`.
 
+- Use `tar --ignore-failed-read` to work around trouble on cygwin (ticket:25993#comment:107)
+
+
``````




---

archive/issue_comments_475768.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)",
    "created_at": "2020-07-08T00:58:41Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475768",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)



---

archive/issue_comments_475769.json:
```json
{
    "body": "**Commit:** [bfb2fb439694e7fee3e2a0adfd4b4367915362eb](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)",
    "created_at": "2020-07-08T02:27:56Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475769",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [bfb2fb439694e7fee3e2a0adfd4b4367915362eb](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)



---

archive/issue_comments_475770.json:
```json
{
    "body": "<a id='comment:11'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90\">539c182</a></td><td><code>build/make/install: Do not depend on src/bin/sage-version.sh</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24\">761092c</a></td><td><code>Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5\">f2efa6a</a></td><td><code>src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9\">b7bf43b</a></td><td><code>build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e\">365ce61</a></td><td><code>Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71\">1e7becc</a></td><td><code>tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166\">fb61a31</a></td><td><code>Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb\">bfb2fb4</a></td><td><code>tox.ini: Add environment local-homebrew-usrlocal</code></td></tr></table>\n",
    "created_at": "2020-07-08T02:27:56Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475770",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90">539c182</a></td><td><code>build/make/install: Do not depend on src/bin/sage-version.sh</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24">761092c</a></td><td><code>Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5">f2efa6a</a></td><td><code>src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9">b7bf43b</a></td><td><code>build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e">365ce61</a></td><td><code>Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71">1e7becc</a></td><td><code>tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166">fb61a31</a></td><td><code>Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb">bfb2fb4</a></td><td><code>tox.ini: Add environment local-homebrew-usrlocal</code></td></tr></table>




---

archive/issue_comments_475771.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,9 +1,9 @@\n \n-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.\n+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)\n \n - Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n-- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). \n+- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n - Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n``````\n",
    "created_at": "2020-07-08T02:27:56Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475771",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,9 +1,9 @@
 
-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests.
+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)
 
 - Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
-- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). 
+- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
 - Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
``````




---

archive/issue_comments_475772.json:
```json
{
    "body": "**Changing dependencies** from \"#29851, #29105, #30064\" to \"#29851, #29105, #30064, #30088\".",
    "created_at": "2020-07-08T02:27:56Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475772",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#29851, #29105, #30064" to "#29851, #29105, #30064, #30088".



---

archive/issue_comments_475773.json:
```json
{
    "body": "**Changing dependencies** from \"#29851, #29105, #30064, #30088\" to \"#29851, #29105, #30064, #30048, #30088\".",
    "created_at": "2020-07-11T22:03:05Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475773",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#29851, #29105, #30064, #30088" to "#29851, #29105, #30064, #30048, #30088".



---

archive/issue_comments_475774.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aded967760d6e79b148d61a12d245b0a353cd23b\">aded967</a></td><td><code>Merge commit '8195cb821e01e0cb627240d7135d5634c265cab0' of git://trac.sagemath.org/sage into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6\">07d657d</a></td><td><code>Merge tag '9.2.beta4' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>\n",
    "created_at": "2020-07-11T22:09:06Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475774",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aded967760d6e79b148d61a12d245b0a353cd23b">aded967</a></td><td><code>Merge commit '8195cb821e01e0cb627240d7135d5634c265cab0' of git://trac.sagemath.org/sage into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6">07d657d</a></td><td><code>Merge tag '9.2.beta4' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>




---

archive/issue_comments_475775.json:
```json
{
    "body": "**Changing commit** from \"[bfb2fb439694e7fee3e2a0adfd4b4367915362eb](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)\" to \"[07d657d95781cd193f04809376d10b2088a429a6](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)\".",
    "created_at": "2020-07-11T22:09:06Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475775",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bfb2fb439694e7fee3e2a0adfd4b4367915362eb](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)" to "[07d657d95781cd193f04809376d10b2088a429a6](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)".



---

archive/issue_comments_475776.json:
```json
{
    "body": "**Changing commit** from \"[07d657d95781cd193f04809376d10b2088a429a6](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)\" to \"[bd15fb95c0720aff65ee8fce1c7c261c7aee40fc](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)\".",
    "created_at": "2020-07-11T22:12:21Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475776",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[07d657d95781cd193f04809376d10b2088a429a6](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)" to "[bd15fb95c0720aff65ee8fce1c7c261c7aee40fc](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)".



---

archive/issue_comments_475777.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc\">bd15fb9</a></td><td><code>build/bin/write-dockerfile.sh, tox.ini: Do not run testsuites that need pip (ssl)</code></td></tr></table>\n",
    "created_at": "2020-07-11T22:12:21Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475777",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc">bd15fb9</a></td><td><code>build/bin/write-dockerfile.sh, tox.ini: Do not run testsuites that need pip (ssl)</code></td></tr></table>




---

archive/issue_comments_475778.json:
```json
{
    "body": "**Changing dependencies** from \"#29851, #29105, #30064, #30048, #30088\" to \"#29851, #29105, #30064, #30048, #30088, #30118\".",
    "created_at": "2020-07-12T05:05:24Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475778",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#29851, #29105, #30064, #30048, #30088" to "#29851, #29105, #30064, #30048, #30088, #30118".



---

archive/issue_comments_475779.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25393b03b5add035608cd09543b3aa4666d100f9\">25393b0</a></td><td><code>Handle SAGE_CHECK_PACKAGES in build/make/Makefile.in, not sage-spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe\">5aca238</a></td><td><code>Merge branch 't/30118/handle_sage_check_packages_in_build_make_makefile_in__not_sage_spkg' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>\n",
    "created_at": "2020-07-12T05:14:27Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25393b03b5add035608cd09543b3aa4666d100f9">25393b0</a></td><td><code>Handle SAGE_CHECK_PACKAGES in build/make/Makefile.in, not sage-spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe">5aca238</a></td><td><code>Merge branch 't/30118/handle_sage_check_packages_in_build_make_makefile_in__not_sage_spkg' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>




---

archive/issue_comments_475780.json:
```json
{
    "body": "**Changing commit** from \"[bd15fb95c0720aff65ee8fce1c7c261c7aee40fc](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)\" to \"[5aca2383a65be422c6a43349ff86fabb90d9fabe](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)\".",
    "created_at": "2020-07-12T05:14:27Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475780",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bd15fb95c0720aff65ee8fce1c7c261c7aee40fc](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)" to "[5aca2383a65be422c6a43349ff86fabb90d9fabe](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)".



---

archive/issue_comments_475781.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n \n - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)\n \n-- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n - Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n``````\n",
    "created_at": "2020-07-12T05:30:32Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475781",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 
 - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)
 
-- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
 - Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
``````




---

archive/issue_comments_475782.json:
```json
{
    "body": "**Changing commit** from \"[5aca2383a65be422c6a43349ff86fabb90d9fabe](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)\" to \"[d1a2cbf833f020a591777c40abfc5ab26ec04fe0](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)\".",
    "created_at": "2020-07-14T00:03:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475782",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5aca2383a65be422c6a43349ff86fabb90d9fabe](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)" to "[d1a2cbf833f020a591777c40abfc5ab26ec04fe0](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)".



---

archive/issue_comments_475783.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a17c655a2aac9c80a52893c5373805a233731186\">a17c655</a></td><td><code>m4/sage_spkg_collect.m4: Do not include script packages in SAGE_SDIST_PACKAGES</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/827923adc48858709deba6f99464665e689dc5ef\">827923a</a></td><td><code>bootstrap: Accept 2020s in config.guess version check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c30ac5431056413c24b1544c2a6a142a4ece9dc5\">c30ac54</a></td><td><code>tox.ini: Add local-nobootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de6464db6b94fcebd5f88337681994fc0eb07e4b\">de6464d</a></td><td><code>.github/workflows/tox.yml: Add jobs \"dist\", \"local-macos-nohomebrew</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/775b7f7a8a406f9ae8aa9ef542384c060b4cbbd4\">775b7f7</a></td><td><code>Trac #30088: add a few explanatory comments to m4/sage_spkg_collect.m4.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/160862fb38046c22a4798f9aa00c6cad4415f540\">160862f</a></td><td><code>m4/sage_spkg_collect.m4: Mention sagelib in the comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0\">d1a2cbf</a></td><td><code>Merge branch 't/30088/fix__make_sdist___add_test_run_to_github_actions' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>\n",
    "created_at": "2020-07-14T00:03:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475783",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a17c655a2aac9c80a52893c5373805a233731186">a17c655</a></td><td><code>m4/sage_spkg_collect.m4: Do not include script packages in SAGE_SDIST_PACKAGES</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/827923adc48858709deba6f99464665e689dc5ef">827923a</a></td><td><code>bootstrap: Accept 2020s in config.guess version check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c30ac5431056413c24b1544c2a6a142a4ece9dc5">c30ac54</a></td><td><code>tox.ini: Add local-nobootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de6464db6b94fcebd5f88337681994fc0eb07e4b">de6464d</a></td><td><code>.github/workflows/tox.yml: Add jobs "dist", "local-macos-nohomebrew</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/775b7f7a8a406f9ae8aa9ef542384c060b4cbbd4">775b7f7</a></td><td><code>Trac #30088: add a few explanatory comments to m4/sage_spkg_collect.m4.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/160862fb38046c22a4798f9aa00c6cad4415f540">160862f</a></td><td><code>m4/sage_spkg_collect.m4: Mention sagelib in the comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0">d1a2cbf</a></td><td><code>Merge branch 't/30088/fix__make_sdist___add_test_run_to_github_actions' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>




---

archive/issue_comments_475784.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,9 +1,9 @@\n \n-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)\n+- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n+\n+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)\n \n - Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n-\n-- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n - Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n``````\n",
    "created_at": "2020-07-14T00:04:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475784",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,9 +1,9 @@
 
-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. We do this via #30088 (`make dist`)
+- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
+
+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)
 
 - Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
-
-- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
 - Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
``````




---

archive/issue_comments_475785.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,7 +3,7 @@\n \n - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)\n \n-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n - Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n``````\n",
    "created_at": "2020-07-15T02:36:25Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475785",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,7 +3,7 @@
 
 - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)
 
-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
 - Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
``````




---

archive/issue_comments_475786.json:
```json
{
    "body": "<a id='comment:21'></a>\nis this still \"new\"?",
    "created_at": "2020-07-16T10:15:10Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475786",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
is this still "new"?



---

archive/issue_comments_475787.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,19 +1,14 @@\n+\n+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+\n+- Disable testsuites that need pip (ssl)\n+\n+\n+\n+This is on top of:\n \n - Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)\n \n-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n-- Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n-\n-```\n-+ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional\n-C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n-##[error]Process completed with exit code 1.\n-```\n-  So `sage-system-python` needs better checks for the suitability of `python`.\n-\n-- Use `tar --ignore-failed-read` to work around trouble on cygwin (ticket:25993#comment:107)\n-\n-\n``````\n",
    "created_at": "2020-07-16T15:32:39Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475787",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,19 +1,14 @@
+
+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+
+- Disable testsuites that need pip (ssl)
+
+
+
+This is on top of:
 
 - Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
 - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](GitHub) CI tests. This is added by #30088 too (`make dist`)
 
-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
-- Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
-
-```
-+ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional
-C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
-##[error]Process completed with exit code 1.
-```
-  So `sage-system-python` needs better checks for the suitability of `python`.
-
-- Use `tar --ignore-failed-read` to work around trouble on cygwin (ticket:25993#comment:107)
-
-
``````




---

archive/issue_comments_475788.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2020-07-16T15:32:39Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475788",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_events_267044.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-16T15:32:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-267044"
}
```



---

archive/issue_comments_475789.json:
```json
{
    "body": "<a id='comment:23'></a>\nThe cygwin CI wishlist has been moved to #30154.\n\nNeeds review",
    "created_at": "2020-07-16T15:33:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475789",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
The cygwin CI wishlist has been moved to #30154.

Needs review



---

archive/issue_comments_475790.json:
```json
{
    "body": "**Reviewer:** Jonathan Kliem",
    "created_at": "2020-07-22T07:23:33Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475790",
    "user": "https://github.com/kliem"
}
```

**Reviewer:** Jonathan Kliem



---

archive/issue_comments_475791.json:
```json
{
    "body": "<a id='comment:24'></a>\nLooks reasonable.\n\nCan you provide an example of this ticket in action (you probably have been using it already anyway?).\n\nWhat's `symengine_py`?",
    "created_at": "2020-07-22T07:23:33Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475791",
    "user": "https://github.com/kliem"
}
```

<a id='comment:24'></a>
Looks reasonable.

Can you provide an example of this ticket in action (you probably have been using it already anyway?).

What's `symengine_py`?



---

archive/issue_comments_475792.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [gh-kliem](#comment%3A24):\n> What's `symengine_py`?\n\nSee #29497",
    "created_at": "2020-07-22T07:28:19Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475792",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Replying to [gh-kliem](#comment%3A24):
> What's `symengine_py`?

See #29497



---

archive/issue_comments_475793.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [gh-kliem](#comment%3A24):\n> Can you provide an example of this ticket in action (you probably have been using it already anyway?).\n\n\nThe `SAGE_CHECK_PACKAGES` adjustments are used in #29766.",
    "created_at": "2020-07-22T07:31:00Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475793",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
Replying to [gh-kliem](#comment%3A24):
> Can you provide an example of this ticket in action (you probably have been using it already anyway?).


The `SAGE_CHECK_PACKAGES` adjustments are used in #29766.



---

archive/issue_comments_475794.json:
```json
{
    "body": "<a id='comment:27'></a>\nLGTM.",
    "created_at": "2020-07-23T17:04:43Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475794",
    "user": "https://github.com/kliem"
}
```

<a id='comment:27'></a>
LGTM.



---

archive/issue_events_267045.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-07-23T17:04:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-267045"
}
```



---

archive/issue_events_267046.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-07-23T17:04:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-267046"
}
```



---

archive/issue_comments_475795.json:
```json
{
    "body": "<a id='comment:28'></a>\nThanks!",
    "created_at": "2020-07-23T17:19:03Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475795",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
Thanks!



---

archive/issue_comments_475796.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c\">b62f775</a></td><td><code>Merge tag '9.2.beta6' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>\n",
    "created_at": "2020-07-25T23:56:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475796",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c">b62f775</a></td><td><code>Merge tag '9.2.beta6' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>




---

archive/issue_comments_475797.json:
```json
{
    "body": "**Changing commit** from \"[d1a2cbf833f020a591777c40abfc5ab26ec04fe0](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)\" to \"[b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)\".",
    "created_at": "2020-07-25T23:56:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475797",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d1a2cbf833f020a591777c40abfc5ab26ec04fe0](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)" to "[b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)".



---

archive/issue_events_267047.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2020-07-25T23:56:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-267047"
}
```



---

archive/issue_events_267048.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/git",
    "created_at": "2020-07-25T23:56:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-267048"
}
```



---

archive/issue_events_267049.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-25T23:56:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-267049"
}
```



---

archive/issue_events_267050.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-25T23:56:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-267050"
}
```



---

archive/issue_events_267051.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-28T22:34:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-267051"
}
```



---

archive/issue_events_267052.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-28T22:34:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-267052"
}
```



---

archive/issue_comments_475798.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)\" to \"[b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)\".",
    "created_at": "2020-07-28T22:34:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-475798",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)" to "[b62f775b3c922b99eccd6f9b71eb68bc554f505c](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)".
