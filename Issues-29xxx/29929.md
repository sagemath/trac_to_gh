# Issue 29929: tox.ini: Various CI fixes

archive/issues_029692.json:
```json
{
    "assignees": [],
    "body": "\n- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n\n- Disable testsuites that need pip (ssl)\n\n\n\nThis is on top of:\n\n- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n\n- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. This is added by #30088 too (`make dist`)\n\n\n\nDepends on #29851\nDepends on #29105\nDepends on #30064\nDepends on #30048\nDepends on #30088\nDepends on #30118\n\nUpstream: **Reported upstream. No feedback yet.**\n\nCC:  @kliem\n\nComponent: **porting**\n\nAuthor: **Matthias Koeppe**\n\nBranch/Commit: **[`b62f775`](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)**\n\nReviewer: **Jonathan Kliem**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29929_\n\n",
    "closed_at": "2020-07-28T22:34:26Z",
    "created_at": "2020-06-21T21:26:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "tox.ini: Various CI fixes",
    "type": "issue",
    "updated_at": "2020-07-28T22:34:26Z",
    "url": "https://github.com/sagemath/sage/issues/29929",
    "user": "https://github.com/mkoeppe"
}
```

- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)

- Disable testsuites that need pip (ssl)



This is on top of:

- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088

- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. This is added by #30088 too (`make dist`)



Depends on #29851
Depends on #29105
Depends on #30064
Depends on #30048
Depends on #30088
Depends on #30118

Upstream: **Reported upstream. No feedback yet.**

CC:  @kliem

Component: **porting**

Author: **Matthias Koeppe**

Branch/Commit: **[`b62f775`](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)**

Reviewer: **Jonathan Kliem**

_Issue created by migration from https://trac.sagemath.org/ticket/29929_





---

archive/issue_events_408860.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-21T21:26:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408860"
}
```



---

archive/issue_events_408861.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-21T21:26:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "0000b0",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408861"
}
```



---

archive/issue_events_408862.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-21T21:26:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408862"
}
```



---

archive/issue_events_408863.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-21T21:26:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408863"
}
```



---

archive/issue_comments_472922.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI'll repeat a comment I made at #29706: I really needed an environment without homebrew to replicate the failures; just having a minimal homebrew installation, or having one with temporarily moved `pkgconfig` directories, wasn't enough to get the failures.\n\n(So I'm emphasizing that I'm agreeing with the summary: \"without homebrew\".)",
    "created_at": "2020-06-23T18:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472922",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:1" align="right">comment:1</div>

I'll repeat a comment I made at #29706: I really needed an environment without homebrew to replicate the failures; just having a minimal homebrew installation, or having one with temporarily moved `pkgconfig` directories, wasn't enough to get the failures.

(So I'm emphasizing that I'm agreeing with the summary: "without homebrew".)



---

archive/issue_comments_472923.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests.\n+\n+\n+Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n``````\n",
    "created_at": "2020-07-05T17:15:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472923",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
 That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests.
+
+
+Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
``````




---

archive/issue_comments_472924.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2020-07-05T17:15:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472924",
    "user": "https://github.com/mkoeppe"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_472925.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,13 @@\n \n \n Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+\n+\n+Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n+\n+```\n++ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional\n+C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n+##[error]Process completed with exit code 1.\n+```\n+\n``````\n",
    "created_at": "2020-07-05T19:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472925",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,13 @@
 
 
 Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+
+
+Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
+
+```
++ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional
+C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
+##[error]Process completed with exit code 1.
+```
+
``````




---

archive/issue_comments_472926.json:
```json
{
    "body": "Dependencies: **#29851, #29105**",
    "created_at": "2020-07-05T19:04:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472926",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#29851, #29105**



---

archive/issue_comments_472927.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,5 @@\n C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n ##[error]Process completed with exit code 1.\n ```\n+So `sage-system-python` needs better checks for the suitability of `python`.\n \n``````\n",
    "created_at": "2020-07-05T19:05:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472927",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,5 @@
 C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
 ##[error]Process completed with exit code 1.
 ```
+So `sage-system-python` needs better checks for the suitability of `python`.
 
``````




---

archive/issue_events_408864.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-05T19:08:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "title_is": "tox.ini: Add a macos environment without homebrew, conda; and other CI fixes",
    "title_was": "tox.ini: Add a macos environment without homebrew, conda",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408864"
}
```



---

archive/issue_events_408865.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-05T19:22:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "title_is": "tox.ini: Various CI fixes",
    "title_was": "tox.ini: Add a macos environment without homebrew, conda; and other CI fixes",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408865"
}
```



---

archive/issue_comments_472928.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,15 +1,16 @@\n-That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests.\n \n+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests.\n \n-Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n+- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). \n \n-Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n+- Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n ```\n + sage-package create arb --version git --tarball arb-git.tar.gz --type=optional\n C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n ##[error]Process completed with exit code 1.\n ```\n-So `sage-system-python` needs better checks for the suitability of `python`.\n+  So `sage-system-python` needs better checks for the suitability of `python`.\n \n``````\n",
    "created_at": "2020-07-05T19:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472928",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,15 +1,16 @@
-That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests.
 
+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests.
 
-Also, add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
+- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). 
 
-Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
+- Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
 ```
 + sage-package create arb --version git --tarball arb-git.tar.gz --type=optional
 C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
 ##[error]Process completed with exit code 1.
 ```
-So `sage-system-python` needs better checks for the suitability of `python`.
+  So `sage-system-python` needs better checks for the suitability of `python`.
 
``````




---

archive/issue_comments_472929.json:
```json
{
    "body": "Changed dependencies from **#29851, #29105** to **#29851, #29105, #30064**",
    "created_at": "2020-07-05T19:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472929",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29851, #29105** to **#29851, #29105, #30064**



---

archive/issue_comments_472930.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,3 +14,6 @@\n ```\n   So `sage-system-python` needs better checks for the suitability of `python`.\n \n+- Use `tar --ignore-failed-read` to work around trouble on cygwin ([#25993 comment:107](https://github.com/sagemath/sage/issues/25993#comment:107))\n+\n+\n``````\n",
    "created_at": "2020-07-06T17:51:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472930",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,3 +14,6 @@
 ```
   So `sage-system-python` needs better checks for the suitability of `python`.
 
+- Use `tar --ignore-failed-read` to work around trouble on cygwin ([#25993 comment:107](https://github.com/sagemath/sage/issues/25993#comment:107))
+
+
``````




---

archive/issue_comments_472931.json:
```json
{
    "body": "Branch: **[u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)**",
    "created_at": "2020-07-08T00:58:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472931",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)**



---

archive/issue_comments_472932.json:
```json
{
    "body": "Commit: **[`bfb2fb4`](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)**",
    "created_at": "2020-07-08T02:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472932",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`bfb2fb4`](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)**



---

archive/issue_comments_472933.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90\"><code>539c182</code></a></td><td><code>build/make/install: Do not depend on src/bin/sage-version.sh</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24\"><code>761092c</code></a></td><td><code>Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5\"><code>f2efa6a</code></a></td><td><code>src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9\"><code>b7bf43b</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e\"><code>365ce61</code></a></td><td><code>Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71\"><code>1e7becc</code></a></td><td><code>tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166\"><code>fb61a31</code></a></td><td><code>Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb\"><code>bfb2fb4</code></a></td><td><code>tox.ini: Add environment local-homebrew-usrlocal</code></td></tr></table>\n",
    "created_at": "2020-07-08T02:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472933",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/539c1828dd17c90e5baa63d814f2c84419146f90"><code>539c182</code></a></td><td><code>build/make/install: Do not depend on src/bin/sage-version.sh</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/761092cf85b86b7dc3e9ee873bd7adf96c5abf24"><code>761092c</code></a></td><td><code>Merge branch 't/29987/build_make_install__do_not_depend_on_src_bin_sage_version_sh' into t/30064/fix_tox_docker_builds_broken_by__29884</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2efa6ae443d74920fa942699996d820d7faa4f5"><code>f2efa6a</code></a></td><td><code>src/doc/bootstrap: Create the directory src/doc/en/reference/repl if it does not exist</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9"><code>b7bf43b</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e"><code>365ce61</code></a></td><td><code>Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e7becc551c3bad53ce67fa8457c5c3d977cad71"><code>1e7becc</code></a></td><td><code>tox.ini [debian-buster, -sid]: IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166"><code>fb61a31</code></a></td><td><code>Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb"><code>bfb2fb4</code></a></td><td><code>tox.ini: Add environment local-homebrew-usrlocal</code></td></tr></table>




---

archive/issue_comments_472934.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,9 @@\n \n-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests.\n+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. We do this via #30088 (`make dist`)\n \n - Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n-- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). \n+- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n - Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n``````\n",
    "created_at": "2020-07-08T02:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472934",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,9 @@
 
-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests.
+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. We do this via #30088 (`make dist`)
 
 - Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
-- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). 
+- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
 - Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
``````




---

archive/issue_comments_472935.json:
```json
{
    "body": "Changed dependencies from **#29851, #29105, #30064** to **#29851, #29105, #30064, #30088**",
    "created_at": "2020-07-08T02:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472935",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29851, #29105, #30064** to **#29851, #29105, #30064, #30088**



---

archive/issue_comments_472936.json:
```json
{
    "body": "Changed dependencies from **#29851, #29105, #30064, #30088** to **#29851, #29105, #30064, #30048, #30088**",
    "created_at": "2020-07-11T22:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472936",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29851, #29105, #30064, #30088** to **#29851, #29105, #30064, #30048, #30088**



---

archive/issue_comments_472937.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aded967760d6e79b148d61a12d245b0a353cd23b\"><code>aded967</code></a></td><td><code>Merge commit '8195cb821e01e0cb627240d7135d5634c265cab0' of git://trac.sagemath.org/sage into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6\"><code>07d657d</code></a></td><td><code>Merge tag '9.2.beta4' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>\n",
    "created_at": "2020-07-11T22:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472937",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aded967760d6e79b148d61a12d245b0a353cd23b"><code>aded967</code></a></td><td><code>Merge commit '8195cb821e01e0cb627240d7135d5634c265cab0' of git://trac.sagemath.org/sage into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6"><code>07d657d</code></a></td><td><code>Merge tag '9.2.beta4' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>




---

archive/issue_comments_472938.json:
```json
{
    "body": "Changed commit from **[`bfb2fb4`](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)** to **[`07d657d`](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)**",
    "created_at": "2020-07-11T22:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472938",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bfb2fb4`](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)** to **[`07d657d`](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)**



---

archive/issue_comments_472939.json:
```json
{
    "body": "Changed commit from **[`07d657d`](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)** to **[`bd15fb9`](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)**",
    "created_at": "2020-07-11T22:12:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472939",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`07d657d`](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)** to **[`bd15fb9`](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)**



---

archive/issue_comments_472940.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc\"><code>bd15fb9</code></a></td><td><code>build/bin/write-dockerfile.sh, tox.ini: Do not run testsuites that need pip (ssl)</code></td></tr></table>\n",
    "created_at": "2020-07-11T22:12:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472940",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc"><code>bd15fb9</code></a></td><td><code>build/bin/write-dockerfile.sh, tox.ini: Do not run testsuites that need pip (ssl)</code></td></tr></table>




---

archive/issue_comments_472941.json:
```json
{
    "body": "Changed dependencies from **#29851, #29105, #30064, #30048, #30088** to **#29851, #29105, #30064, #30048, #30088, #30118**",
    "created_at": "2020-07-12T05:05:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472941",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29851, #29105, #30064, #30048, #30088** to **#29851, #29105, #30064, #30048, #30088, #30118**



---

archive/issue_comments_472942.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25393b03b5add035608cd09543b3aa4666d100f9\"><code>25393b0</code></a></td><td><code>Handle SAGE_CHECK_PACKAGES in build/make/Makefile.in, not sage-spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe\"><code>5aca238</code></a></td><td><code>Merge branch 't/30118/handle_sage_check_packages_in_build_make_makefile_in__not_sage_spkg' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>\n",
    "created_at": "2020-07-12T05:14:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472942",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25393b03b5add035608cd09543b3aa4666d100f9"><code>25393b0</code></a></td><td><code>Handle SAGE_CHECK_PACKAGES in build/make/Makefile.in, not sage-spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe"><code>5aca238</code></a></td><td><code>Merge branch 't/30118/handle_sage_check_packages_in_build_make_makefile_in__not_sage_spkg' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>




---

archive/issue_comments_472943.json:
```json
{
    "body": "Changed commit from **[`bd15fb9`](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)** to **[`5aca238`](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)**",
    "created_at": "2020-07-12T05:14:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472943",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bd15fb9`](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)** to **[`5aca238`](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)**



---

archive/issue_comments_472944.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n \n - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. We do this via #30088 (`make dist`)\n \n-- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n - Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n``````\n",
    "created_at": "2020-07-12T05:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472944",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 
 - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. We do this via #30088 (`make dist`)
 
-- Add a homebrew environment that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
 - Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
``````




---

archive/issue_comments_472945.json:
```json
{
    "body": "Changed commit from **[`5aca238`](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)** to **[`d1a2cbf`](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)**",
    "created_at": "2020-07-14T00:03:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472945",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5aca238`](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)** to **[`d1a2cbf`](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)**



---

archive/issue_comments_472946.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a17c655a2aac9c80a52893c5373805a233731186\"><code>a17c655</code></a></td><td><code>m4/sage_spkg_collect.m4: Do not include script packages in SAGE_SDIST_PACKAGES</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/827923adc48858709deba6f99464665e689dc5ef\"><code>827923a</code></a></td><td><code>bootstrap: Accept 2020s in config.guess version check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c30ac5431056413c24b1544c2a6a142a4ece9dc5\"><code>c30ac54</code></a></td><td><code>tox.ini: Add local-nobootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de6464db6b94fcebd5f88337681994fc0eb07e4b\"><code>de6464d</code></a></td><td><code>.github/workflows/tox.yml: Add jobs \"dist\", \"local-macos-nohomebrew</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/775b7f7a8a406f9ae8aa9ef542384c060b4cbbd4\"><code>775b7f7</code></a></td><td><code>Trac #30088: add a few explanatory comments to m4/sage_spkg_collect.m4.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/160862fb38046c22a4798f9aa00c6cad4415f540\"><code>160862f</code></a></td><td><code>m4/sage_spkg_collect.m4: Mention sagelib in the comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0\"><code>d1a2cbf</code></a></td><td><code>Merge branch 't/30088/fix__make_sdist___add_test_run_to_github_actions' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>\n",
    "created_at": "2020-07-14T00:03:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472946",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a17c655a2aac9c80a52893c5373805a233731186"><code>a17c655</code></a></td><td><code>m4/sage_spkg_collect.m4: Do not include script packages in SAGE_SDIST_PACKAGES</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/827923adc48858709deba6f99464665e689dc5ef"><code>827923a</code></a></td><td><code>bootstrap: Accept 2020s in config.guess version check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c30ac5431056413c24b1544c2a6a142a4ece9dc5"><code>c30ac54</code></a></td><td><code>tox.ini: Add local-nobootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de6464db6b94fcebd5f88337681994fc0eb07e4b"><code>de6464d</code></a></td><td><code>.github/workflows/tox.yml: Add jobs "dist", "local-macos-nohomebrew</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/775b7f7a8a406f9ae8aa9ef542384c060b4cbbd4"><code>775b7f7</code></a></td><td><code>Trac #30088: add a few explanatory comments to m4/sage_spkg_collect.m4.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/160862fb38046c22a4798f9aa00c6cad4415f540"><code>160862f</code></a></td><td><code>m4/sage_spkg_collect.m4: Mention sagelib in the comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0"><code>d1a2cbf</code></a></td><td><code>Merge branch 't/30088/fix__make_sdist___add_test_run_to_github_actions' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>




---

archive/issue_comments_472947.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,9 @@\n \n-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. We do this via #30088 (`make dist`)\n+- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n+\n+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. This is added by #30088 too (`make dist`)\n \n - Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n-\n-- Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n - Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n``````\n",
    "created_at": "2020-07-14T00:04:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472947",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,9 @@
 
-- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. We do this via #30088 (`make dist`)
+- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
+
+- Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. This is added by #30088 too (`make dist`)
 
 - Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
-
-- Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
 - Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
``````




---

archive/issue_comments_472948.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,7 @@\n \n - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. This is added by #30088 too (`make dist`)\n \n-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n - Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n \n``````\n",
    "created_at": "2020-07-15T02:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472948",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,7 @@
 
 - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. This is added by #30088 too (`make dist`)
 
-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (Currently, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
 - Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
 
``````




---

archive/issue_comments_472949.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nis this still \"new\"?",
    "created_at": "2020-07-16T10:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472949",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">comment:21</div>

is this still "new"?



---

archive/issue_comments_472950.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,19 +1,14 @@\n+\n+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n+\n+- Disable testsuites that need pip (ssl)\n+\n+\n+\n+This is on top of:\n \n - Also, add \"make dist\" testing to tox.ini (prompted by breakage in #29825). This is #30088\n \n - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. This is added by #30088 too (`make dist`)\n \n-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because \"bottles\" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)\n \n-- Also, #29890 (build/bin/sage-system-python: Try \"python\" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:\n-\n-```\n-+ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional\n-C:\\hostedtoolcache\\windows\\Python\\3.7.7\\x64\\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory\n-##[error]Process completed with exit code 1.\n-```\n-  So `sage-system-python` needs better checks for the suitability of `python`.\n-\n-- Use `tar --ignore-failed-read` to work around trouble on cygwin ([#25993 comment:107](https://github.com/sagemath/sage/issues/25993#comment:107))\n-\n-\n``````\n",
    "created_at": "2020-07-16T15:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472950",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,19 +1,14 @@
+
+- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
+
+- Disable testsuites that need pip (ssl)
+
+
+
+This is on top of:
 
 - Also, add "make dist" testing to tox.ini (prompted by breakage in #29825). This is #30088
 
 - Add a macos environment without homebrew, conda: That's a configuration that was causing trouble in #29706 and is so far not tested in the [GitHub](../wiki/GitHub) CI tests. This is added by #30088 too (`make dist`)
 
-- Add a homebrew environment `local-homebrew-macos-usrlocal` that uses the global homebrew in `/usr/local`. This will be faster and may be more robust for [GitHub](../wiki/GitHub) Actions builds because "bottles" of more packages can be used. (For a while, for example, all `homebrew-standard` builds fail because the homebrew `ppl` package cannot be installed from source - https://github.com/Homebrew/homebrew-core/issues/57499)
 
-- Also, #29890 (build/bin/sage-system-python: Try "python" first) may cause failures on Cygwin if `python` is something strange coming through from the Windows installation as observed in https://github.com/mkoeppe/arb/runs/839201503:
-
-```
-+ sage-package create arb --version git --tarball arb-git.tar.gz --type=optional
-C:\hostedtoolcache\windows\Python\3.7.7\x64\python.exe: can't open file '/cygdrive/d/a/arb/arb/build/bin/sage-package': [Errno 2] No such file or directory
-##[error]Process completed with exit code 1.
-```
-  So `sage-system-python` needs better checks for the suitability of `python`.
-
-- Use `tar --ignore-failed-read` to work around trouble on cygwin ([#25993 comment:107](https://github.com/sagemath/sage/issues/25993#comment:107))
-
-
``````




---

archive/issue_comments_472951.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-07-16T15:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472951",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_408866.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-16T15:32:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408866"
}
```



---

archive/issue_comments_472952.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThe cygwin CI wishlist has been moved to #30154.\n\nNeeds review",
    "created_at": "2020-07-16T15:33:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472952",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

The cygwin CI wishlist has been moved to #30154.

Needs review



---

archive/issue_comments_472953.json:
```json
{
    "body": "Reviewer: **Jonathan Kliem**",
    "created_at": "2020-07-22T07:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472953",
    "user": "https://github.com/kliem"
}
```

Reviewer: **Jonathan Kliem**



---

archive/issue_comments_472954.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nLooks reasonable.\n\nCan you provide an example of this ticket in action (you probably have been using it already anyway?).\n\nWhat's `symengine_py`?",
    "created_at": "2020-07-22T07:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472954",
    "user": "https://github.com/kliem"
}
```

<div id="comment:24" align="right">comment:24</div>

Looks reasonable.

Can you provide an example of this ticket in action (you probably have been using it already anyway?).

What's `symengine_py`?



---

archive/issue_comments_472955.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@kliem](#comment%3A24):\n> What's `symengine_py`?\n\nSee #29497",
    "created_at": "2020-07-22T07:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472955",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@kliem](#comment%3A24):
> What's `symengine_py`?

See #29497



---

archive/issue_comments_472956.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@kliem](#comment%3A24):\n> Can you provide an example of this ticket in action (you probably have been using it already anyway?).\n\nThe `SAGE_CHECK_PACKAGES` adjustments are used in #29766.",
    "created_at": "2020-07-22T07:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472956",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@kliem](#comment%3A24):
> Can you provide an example of this ticket in action (you probably have been using it already anyway?).

The `SAGE_CHECK_PACKAGES` adjustments are used in #29766.



---

archive/issue_comments_472957.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nLGTM.",
    "created_at": "2020-07-23T17:04:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472957",
    "user": "https://github.com/kliem"
}
```

<div id="comment:27" align="right">comment:27</div>

LGTM.



---

archive/issue_events_408867.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-07-23T17:04:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408867"
}
```



---

archive/issue_events_408868.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-07-23T17:04:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408868"
}
```



---

archive/issue_comments_472958.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThanks!",
    "created_at": "2020-07-23T17:19:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472958",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

Thanks!



---

archive/issue_comments_472959.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c\"><code>b62f775</code></a></td><td><code>Merge tag '9.2.beta6' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>\n",
    "created_at": "2020-07-25T23:56:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472959",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c"><code>b62f775</code></a></td><td><code>Merge tag '9.2.beta6' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda</code></td></tr></table>




---

archive/issue_comments_472960.json:
```json
{
    "body": "Changed commit from **[`d1a2cbf`](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)** to **[`b62f775`](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)**",
    "created_at": "2020-07-25T23:56:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472960",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d1a2cbf`](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)** to **[`b62f775`](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)**



---

archive/issue_events_408869.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-07-25T23:56:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408869"
}
```



---

archive/issue_events_408870.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-07-25T23:56:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408870"
}
```



---

archive/issue_events_408871.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-25T23:56:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408871"
}
```



---

archive/issue_events_408872.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-25T23:56:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408872"
}
```



---

archive/issue_events_408873.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-28T22:34:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408873"
}
```



---

archive/issue_events_408874.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "62c07cf458d3c78f9433ebdef567dbdf1604b2ca",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-07-28T22:34:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29929#event-408874"
}
```



---

archive/issue_comments_472961.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)** to **[`b62f775`](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)**",
    "created_at": "2020-07-28T22:34:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29929#issuecomment-472961",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_a_macos_environment_without_homebrew__conda)** to **[`b62f775`](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)**
