# Issue 29176: Bug in Voronoi Diagram

archive/issues_028939.json:
```json
{
    "body": "We fix a bug that was exposed computing an inexact Voronoi Diagram (see below).\n\n`cdd` already computes the incidence matrix, we expose it in this ticket.\n\nWhen deciding whether or not a vertex lies on a hyperplane for inexact polyhedra, we allow numerical noise up to absolute value of `1e-6`. This might be a bad choice depending on the size of the polyhedron as witnessed in the following example:\n\n```\n\nsage: e = [[11582947.657000002, 5374.38, 4177.06, 1.0], [11562795.9322, 5373.62, 4168.38, 1.0]]\nsage: p = Polyhedron(ieqs=e); p\nA 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line\nsage: p.incidence_matrix()\n[0 0]\n[0 0]\n[0 1]\n[0 0]\n```\n\nSetting the cache of incidence matrix to the matrix that `cdd` already computed for us produces the correct output:\n\n```\nsage: p.incidence_matrix()\n[1 1]\n[1 0]\n[0 1]\n[1 1]\n```\n\nThis fixes the error reported here:\n\nhttps://ask.sagemath.org/question/49749/voronoidiagram-returns-empty-regions/\n\nThe following should give two non-empty regions\n\n```\nsage: P = [[-2687.19, -2088.53], [-2686.81, -2084.19]]\n....: V = VoronoiDiagram(P)\n....: R = V.regions()\n....: \nsage: R\n{P(-2687.19000000000, -2088.53000000000): The empty polyhedron in RDF^0,\n P(-2686.81000000000, -2084.19000000000): A 1-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex and 1 ray\n```\n\nWith this ticket we obtain:\n\n```\nsage: R\n{P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,\n P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}\n```\n\nCC:  @jplab @laisrast\n\nKeywords: cdd, incidence matrix\n\nBranch/Commit: [fb2d66a0e71f164e9bef37922c8d544b9b270c9c](https://github.com/sagemath/sagetrac-mirror/commit/fb2d66a0e71f164e9bef37922c8d544b9b270c9c)\n\nReviewer: Jean-Philippe Labb\u00e9\n\nAuthor: Jonathan Kliem\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29176\n\n",
    "closed_at": "2020-05-02T21:58:26Z",
    "created_at": "2020-02-10T12:53:15Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Bug in Voronoi Diagram",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29176",
    "user": "https://github.com/jplab"
}
```
We fix a bug that was exposed computing an inexact Voronoi Diagram (see below).

`cdd` already computes the incidence matrix, we expose it in this ticket.

When deciding whether or not a vertex lies on a hyperplane for inexact polyhedra, we allow numerical noise up to absolute value of `1e-6`. This might be a bad choice depending on the size of the polyhedron as witnessed in the following example:

```

sage: e = [[11582947.657000002, 5374.38, 4177.06, 1.0], [11562795.9322, 5373.62, 4168.38, 1.0]]
sage: p = Polyhedron(ieqs=e); p
A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line
sage: p.incidence_matrix()
[0 0]
[0 0]
[0 1]
[0 0]
```

Setting the cache of incidence matrix to the matrix that `cdd` already computed for us produces the correct output:

```
sage: p.incidence_matrix()
[1 1]
[1 0]
[0 1]
[1 1]
```

This fixes the error reported here:

https://ask.sagemath.org/question/49749/voronoidiagram-returns-empty-regions/

The following should give two non-empty regions

```
sage: P = [[-2687.19, -2088.53], [-2686.81, -2084.19]]
....: V = VoronoiDiagram(P)
....: R = V.regions()
....: 
sage: R
{P(-2687.19000000000, -2088.53000000000): The empty polyhedron in RDF^0,
 P(-2686.81000000000, -2084.19000000000): A 1-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex and 1 ray
```

With this ticket we obtain:

```
sage: R
{P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,
 P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}
```

CC:  @jplab @laisrast

Keywords: cdd, incidence matrix

Branch/Commit: [fb2d66a0e71f164e9bef37922c8d544b9b270c9c](https://github.com/sagemath/sagetrac-mirror/commit/fb2d66a0e71f164e9bef37922c8d544b9b270c9c)

Reviewer: Jean-Philippe Labbé

Author: Jonathan Kliem

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29176





---

archive/issue_comments_569980.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis can and should be solved by fetching the incidences from cdd.\n\nI will try to do so. This might get rid of a lot of numerical inconsistencies.",
    "created_at": "2020-03-19T11:12:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569980",
    "user": "https://github.com/kliem"
}
```

<a id='comment:1'></a>
This can and should be solved by fetching the incidences from cdd.

I will try to do so. This might get rid of a lot of numerical inconsistencies.



---

archive/issue_comments_569981.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[c03aee4](https://github.com/sagemath/sagetrac-mirror/commit/c03aee4b4445c7954c667adcf233fa8ba1612d62)|`expose incidence matrix computed by backend cdd`|\n|[33b5911](https://github.com/sagemath/sagetrac-mirror/commit/33b59112324e37dcbdab7706047e47cf9dbf5568)|`add doctests that 29176 is fixed`|",
    "created_at": "2020-03-19T14:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569981",
    "user": "https://github.com/kliem"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[c03aee4](https://github.com/sagemath/sagetrac-mirror/commit/c03aee4b4445c7954c667adcf233fa8ba1612d62)|`expose incidence matrix computed by backend cdd`|
|[33b5911](https://github.com/sagemath/sagetrac-mirror/commit/33b59112324e37dcbdab7706047e47cf9dbf5568)|`add doctests that 29176 is fixed`|



---

archive/issue_comments_569982.json:
```json
{
    "body": "Branch: [public/29176](https://github.com/sagemath/sagetrac-mirror/tree/public/29176)",
    "created_at": "2020-03-19T14:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569982",
    "user": "https://github.com/kliem"
}
```

Branch: [public/29176](https://github.com/sagemath/sagetrac-mirror/tree/public/29176)



---

archive/issue_comments_569983.json:
```json
{
    "body": "Changing keywords from \"\" to \"cdd, incidence matrix\".",
    "created_at": "2020-03-19T14:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569983",
    "user": "https://github.com/kliem"
}
```

Changing keywords from "" to "cdd, incidence matrix".



---

archive/issue_comments_569984.json:
```json
{
    "body": "Commit: [33b59112324e37dcbdab7706047e47cf9dbf5568](https://github.com/sagemath/sagetrac-mirror/commit/33b59112324e37dcbdab7706047e47cf9dbf5568)",
    "created_at": "2020-03-19T14:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569984",
    "user": "https://github.com/kliem"
}
```

Commit: [33b59112324e37dcbdab7706047e47cf9dbf5568](https://github.com/sagemath/sagetrac-mirror/commit/33b59112324e37dcbdab7706047e47cf9dbf5568)



---

archive/issue_comments_569985.json:
```json
{
    "body": "Author: Jonathan Kliem",
    "created_at": "2020-03-19T14:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569985",
    "user": "https://github.com/kliem"
}
```

Author: Jonathan Kliem



---

archive/issue_comments_569986.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-19T14:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569986",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_569987.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,36 @@\n-The following should give two non-empty regions:\n+We fix a bug that was exposed computing an inexact Voronoi Diagram (see below).\n+\n+`cdd` already computes the incidence matrix, we expose it in this ticket.\n+\n+When deciding whether or not a vertex lies on a hyperplane for inexact polyhedra, we allow numerical noise up to absolute value of `1e-6`. This might be a bad choice depending on the size of the polyhedron as witnessed in the following example:\n+\n+```\n+\n+sage: e = [[11582947.657000002, 5374.38, 4177.06, 1.0], [11562795.9322, 5373.62, 4168.38, 1.0]]\n+sage: p = Polyhedron(ieqs=e); p\n+A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line\n+sage: p.incidence_matrix()\n+[0 0]\n+[0 0]\n+[0 1]\n+[0 0]\n+```\n+\n+Setting the cache of incidence matrix to the matrix that `cdd` already computed for us produces the correct output:\n+\n+```\n+sage: p.incidence_matrix()\n+[1 1]\n+[1 0]\n+[0 1]\n+[1 1]\n+```\n+\n+This fixes the error reported here:\n+\n+https://ask.sagemath.org/question/49749/voronoidiagram-returns-empty-regions/\n+\n+The following should give two non-empty regions\n \n ```\n sage: P = [[-2687.19, -2088.53], [-2686.81, -2084.19]]\n@@ -10,6 +42,10 @@\n  P(-2686.81000000000, -2084.19000000000): A 1-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex and 1 ray\n ```\n \n-This way reported here:\n+With this ticket we obtain:\n \n-https://ask.sagemath.org/question/49749/voronoidiagram-returns-empty-regions/\n+```\n+sage: R\n+{P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,\n+ P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}\n+```\n``````\n",
    "created_at": "2020-03-19T14:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569987",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,36 @@
-The following should give two non-empty regions:
+We fix a bug that was exposed computing an inexact Voronoi Diagram (see below).
+
+`cdd` already computes the incidence matrix, we expose it in this ticket.
+
+When deciding whether or not a vertex lies on a hyperplane for inexact polyhedra, we allow numerical noise up to absolute value of `1e-6`. This might be a bad choice depending on the size of the polyhedron as witnessed in the following example:
+
+```
+
+sage: e = [[11582947.657000002, 5374.38, 4177.06, 1.0], [11562795.9322, 5373.62, 4168.38, 1.0]]
+sage: p = Polyhedron(ieqs=e); p
+A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 1 vertex, 2 rays, 1 line
+sage: p.incidence_matrix()
+[0 0]
+[0 0]
+[0 1]
+[0 0]
+```
+
+Setting the cache of incidence matrix to the matrix that `cdd` already computed for us produces the correct output:
+
+```
+sage: p.incidence_matrix()
+[1 1]
+[1 0]
+[0 1]
+[1 1]
+```
+
+This fixes the error reported here:
+
+https://ask.sagemath.org/question/49749/voronoidiagram-returns-empty-regions/
+
+The following should give two non-empty regions
 
 ```
 sage: P = [[-2687.19, -2088.53], [-2686.81, -2084.19]]
@@ -10,6 +42,10 @@
  P(-2686.81000000000, -2084.19000000000): A 1-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex and 1 ray
 ```
 
-This way reported here:
+With this ticket we obtain:
 
-https://ask.sagemath.org/question/49749/voronoidiagram-returns-empty-regions/
+```
+sage: R
+{P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,
+ P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}
+```
``````




---

archive/issue_comments_569988.json:
```json
{
    "body": "<a id='comment:3'></a>\nThanks! Looks good to me.",
    "created_at": "2020-04-19T13:33:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569988",
    "user": "https://github.com/jplab"
}
```

<a id='comment:3'></a>
Thanks! Looks good to me.



---

archive/issue_comments_569989.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-19T13:33:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569989",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_569990.json:
```json
{
    "body": "Reviewer: Jean-Philippe Labb\u00e9",
    "created_at": "2020-04-19T13:33:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569990",
    "user": "https://github.com/jplab"
}
```

Reviewer: Jean-Philippe Labbé



---

archive/issue_comments_569991.json:
```json
{
    "body": "<a id='comment:4'></a>\nThank you.",
    "created_at": "2020-04-19T13:34:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569991",
    "user": "https://github.com/kliem"
}
```

<a id='comment:4'></a>
Thank you.



---

archive/issue_comments_569992.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-04-21T22:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569992",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_569993.json:
```json
{
    "body": "<a id='comment:5'></a>\nOn Python 2 Debian 9 x86_64:\n\n```\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/backend_cdd.py\", line 231, in sage.geometry.polyhedron.backend_cdd.Polyhedron_cdd._init_from_cdd_output\nFailed example:\n    R\nExpected:\n    {P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,\n     P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}\nGot:\n    {P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,\n     P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}\n**********************************************************************\n1 item had failures:\n```",
    "created_at": "2020-04-21T22:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569993",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>
On Python 2 Debian 9 x86_64:

```
**********************************************************************
File "src/sage/geometry/polyhedron/backend_cdd.py", line 231, in sage.geometry.polyhedron.backend_cdd.Polyhedron_cdd._init_from_cdd_output
Failed example:
    R
Expected:
    {P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,
     P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}
Got:
    {P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,
     P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}
**********************************************************************
1 item had failures:
```



---

archive/issue_comments_569994.json:
```json
{
    "body": "Changing commit from \"[33b59112324e37dcbdab7706047e47cf9dbf5568](https://github.com/sagemath/sagetrac-mirror/commit/33b59112324e37dcbdab7706047e47cf9dbf5568)\" to \"[9352525b50851921f000335615e75e0f1bdd5f2e](https://github.com/sagemath/sagetrac-mirror/commit/9352525b50851921f000335615e75e0f1bdd5f2e)\"",
    "created_at": "2020-04-22T05:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569994",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[33b59112324e37dcbdab7706047e47cf9dbf5568](https://github.com/sagemath/sagetrac-mirror/commit/33b59112324e37dcbdab7706047e47cf9dbf5568)" to "[9352525b50851921f000335615e75e0f1bdd5f2e](https://github.com/sagemath/sagetrac-mirror/commit/9352525b50851921f000335615e75e0f1bdd5f2e)"



---

archive/issue_comments_569995.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[9352525](https://github.com/sagemath/sagetrac-mirror/commit/9352525b50851921f000335615e75e0f1bdd5f2e)|`fixed dictionary in python2`|",
    "created_at": "2020-04-22T05:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569995",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[9352525](https://github.com/sagemath/sagetrac-mirror/commit/9352525b50851921f000335615e75e0f1bdd5f2e)|`fixed dictionary in python2`|



---

archive/issue_comments_569996.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-22T05:41:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569996",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_569997.json:
```json
{
    "body": "<a id='comment:7'></a>\nI tested this in python2:\n\n```\n>>> {(-2686.81000000000, -2084.19000000000): 0, (-2687.19000000000, -2088.53000000000): 0}\n{(-2687.19, -2088.53): 0, (-2686.81, -2084.19): 0}\n```\n\nSo the fix should work fine.",
    "created_at": "2020-04-22T05:41:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569997",
    "user": "https://github.com/kliem"
}
```

<a id='comment:7'></a>
I tested this in python2:

```
>>> {(-2686.81000000000, -2084.19000000000): 0, (-2687.19000000000, -2088.53000000000): 0}
{(-2687.19, -2088.53): 0, (-2686.81, -2084.19): 0}
```

So the fix should work fine.



---

archive/issue_comments_569998.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-22T12:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569998",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_569999.json:
```json
{
    "body": "<a id='comment:8'></a>\nThanks for the quick fix.",
    "created_at": "2020-04-22T12:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-569999",
    "user": "https://github.com/jplab"
}
```

<a id='comment:8'></a>
Thanks for the quick fix.



---

archive/issue_comments_570000.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-23T22:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570000",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_570001.json:
```json
{
    "body": "Changing branch from \"[public/29176](https://github.com/sagemath/sagetrac-mirror/tree/public/29176)\" to \"[9352525b50851921f000335615e75e0f1bdd5f2e](https://github.com/sagemath/sagetrac-mirror/commit/9352525b50851921f000335615e75e0f1bdd5f2e)\"",
    "created_at": "2020-04-23T22:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570001",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[public/29176](https://github.com/sagemath/sagetrac-mirror/tree/public/29176)" to "[9352525b50851921f000335615e75e0f1bdd5f2e](https://github.com/sagemath/sagetrac-mirror/commit/9352525b50851921f000335615e75e0f1bdd5f2e)"



---

archive/issue_events_083642.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-23T22:32:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29176#event-83642"
}
```



---

archive/issue_comments_570002.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2020-04-25T08:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570002",
    "user": "https://github.com/vbraun"
}
```

Changing status from closed to new.



---

archive/issue_comments_570003.json:
```json
{
    "body": "<a id='comment:10'></a>\n\n```\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/backend_cdd.py\", line 234, in sage.geometry.polyhedron.backend_cdd.Polyhedron_cdd._init_from_cdd_output\nFailed example:\n    R  # py2\nExpected:\n    {P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,\n     P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}\nGot:\n    {P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,\n     P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}\n**********************************************************************\n1 item had failures:\n   1 of  10 in sage.geometry.polyhedron.backend_cdd.Polyhedron_cdd._init_from_cdd_output\n    [46 tests, 1 failure, 0.59 s]\n**********************************************************************\n```",
    "created_at": "2020-04-25T08:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570003",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:10'></a>

```
**********************************************************************
File "src/sage/geometry/polyhedron/backend_cdd.py", line 234, in sage.geometry.polyhedron.backend_cdd.Polyhedron_cdd._init_from_cdd_output
Failed example:
    R  # py2
Expected:
    {P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,
     P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}
Got:
    {P(-2686.81000000000, -2084.19000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line,
     P(-2687.19000000000, -2088.53000000000): A 2-dimensional polyhedron in RDF^2 defined as the convex hull of 1 vertex, 1 ray, 1 line}
**********************************************************************
1 item had failures:
   1 of  10 in sage.geometry.polyhedron.backend_cdd.Polyhedron_cdd._init_from_cdd_output
    [46 tests, 1 failure, 0.59 s]
**********************************************************************
```



---

archive/issue_comments_570004.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2020-04-25T08:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570004",
    "user": "https://github.com/vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_570005.json:
```json
{
    "body": "Changing commit from \"[9352525b50851921f000335615e75e0f1bdd5f2e](https://github.com/sagemath/sagetrac-mirror/commit/9352525b50851921f000335615e75e0f1bdd5f2e)\" to \"\"",
    "created_at": "2020-04-25T08:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570005",
    "user": "https://github.com/vbraun"
}
```

Changing commit from "[9352525b50851921f000335615e75e0f1bdd5f2e](https://github.com/sagemath/sagetrac-mirror/commit/9352525b50851921f000335615e75e0f1bdd5f2e)" to ""



---

archive/issue_comments_570006.json:
```json
{
    "body": "<a id='comment:11'></a>\nGot rid of the dictionary printing in the tests.\n\n---\nNew commits:\n|                                                                                                                                          |                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[2860b02](https://github.com/sagemath/sagetrac-mirror/commit/2860b021050540ec678324ada4393e9ea78f603c)|`expose incidence matrix computed by backend cdd`|\n|[b13fb31](https://github.com/sagemath/sagetrac-mirror/commit/b13fb31d2cdb711bc234868a260d37fcf7d1e3f2)|`add doctests that 29176 is fixed`|\n|[581f554](https://github.com/sagemath/sagetrac-mirror/commit/581f5547b85ee1971c24f3c8580c2f04950b6b32)|`fixed dictionary in python2`|\n|[fb2d66a](https://github.com/sagemath/sagetrac-mirror/commit/fb2d66a0e71f164e9bef37922c8d544b9b270c9c)|`fix test by avoiding printing the dictionary at all`|",
    "created_at": "2020-04-25T22:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570006",
    "user": "https://github.com/kliem"
}
```

<a id='comment:11'></a>
Got rid of the dictionary printing in the tests.

---
New commits:
|                                                                                                                                          |                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[2860b02](https://github.com/sagemath/sagetrac-mirror/commit/2860b021050540ec678324ada4393e9ea78f603c)|`expose incidence matrix computed by backend cdd`|
|[b13fb31](https://github.com/sagemath/sagetrac-mirror/commit/b13fb31d2cdb711bc234868a260d37fcf7d1e3f2)|`add doctests that 29176 is fixed`|
|[581f554](https://github.com/sagemath/sagetrac-mirror/commit/581f5547b85ee1971c24f3c8580c2f04950b6b32)|`fixed dictionary in python2`|
|[fb2d66a](https://github.com/sagemath/sagetrac-mirror/commit/fb2d66a0e71f164e9bef37922c8d544b9b270c9c)|`fix test by avoiding printing the dictionary at all`|



---

archive/issue_comments_570007.json:
```json
{
    "body": "Commit: [fb2d66a0e71f164e9bef37922c8d544b9b270c9c](https://github.com/sagemath/sagetrac-mirror/commit/fb2d66a0e71f164e9bef37922c8d544b9b270c9c)",
    "created_at": "2020-04-25T22:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570007",
    "user": "https://github.com/kliem"
}
```

Commit: [fb2d66a0e71f164e9bef37922c8d544b9b270c9c](https://github.com/sagemath/sagetrac-mirror/commit/fb2d66a0e71f164e9bef37922c8d544b9b270c9c)



---

archive/issue_comments_570008.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-04-25T22:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570008",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_570009.json:
```json
{
    "body": "Changing branch from \"[9352525b50851921f000335615e75e0f1bdd5f2e](https://github.com/sagemath/sagetrac-mirror/commit/9352525b50851921f000335615e75e0f1bdd5f2e)\" to \"[public/29176-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/29176-reb)\"",
    "created_at": "2020-04-25T22:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570009",
    "user": "https://github.com/kliem"
}
```

Changing branch from "[9352525b50851921f000335615e75e0f1bdd5f2e](https://github.com/sagemath/sagetrac-mirror/commit/9352525b50851921f000335615e75e0f1bdd5f2e)" to "[public/29176-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/29176-reb)"



---

archive/issue_comments_570010.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-27T07:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570010",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_570011.json:
```json
{
    "body": "<a id='comment:13'></a>\nThank you.",
    "created_at": "2020-04-27T07:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570011",
    "user": "https://github.com/kliem"
}
```

<a id='comment:13'></a>
Thank you.



---

archive/issue_comments_570012.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-05-02T21:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570012",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_570013.json:
```json
{
    "body": "Changing branch from \"[public/29176-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/29176-reb)\" to \"[fb2d66a0e71f164e9bef37922c8d544b9b270c9c](https://github.com/sagemath/sagetrac-mirror/commit/fb2d66a0e71f164e9bef37922c8d544b9b270c9c)\"",
    "created_at": "2020-05-02T21:58:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29176#issuecomment-570013",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[public/29176-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/29176-reb)" to "[fb2d66a0e71f164e9bef37922c8d544b9b270c9c](https://github.com/sagemath/sagetrac-mirror/commit/fb2d66a0e71f164e9bef37922c8d544b9b270c9c)"



---

archive/issue_events_083643.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-02T21:58:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29176",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29176#event-83643"
}
```
