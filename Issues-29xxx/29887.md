# Issue 29887: Fix inconsistency in combinatorial designs

archive/issues_029650.json:
```json
{
    "body": "In the `BIBD_constructions` dictionary, values are lists\nof blocks except one which is a design object.\n\nWe fix this inconsistency as we plan for the function that\nconstructs BIBDs to be extended to lambda other than 1.\n\n\nKeywords: bibd\n\nBranch/Commit: [44276ea43e8465428fc9d50541a2bcb8c9bfd807](https://github.com/sagemath/sagetrac-mirror/commit/44276ea43e8465428fc9d50541a2bcb8c9bfd807)\n\nReviewer: Dima Pasechnik\n\nAuthor: Ivo Maffei\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29887\n\n",
    "closed_at": "2020-07-02T21:29:51Z",
    "created_at": "2020-06-17T17:42:49Z",
    "labels": [
        "component: combinatorial designs",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Fix inconsistency in combinatorial designs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29887",
    "user": "https://github.com/Ivo-Maffei"
}
```
In the `BIBD_constructions` dictionary, values are lists
of blocks except one which is a design object.

We fix this inconsistency as we plan for the function that
constructs BIBDs to be extended to lambda other than 1.


Keywords: bibd

Branch/Commit: [44276ea43e8465428fc9d50541a2bcb8c9bfd807](https://github.com/sagemath/sagetrac-mirror/commit/44276ea43e8465428fc9d50541a2bcb8c9bfd807)

Reviewer: Dima Pasechnik

Author: Ivo Maffei

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29887





---

archive/issue_comments_587387.json:
```json
{
    "body": "<a id='comment:1'></a>\nCould something like:\n\n```\nsage: from sage.combinat.designs.bibd import balanced_incomplete_block_design\nsage: balanced_incomplete_block_design(176, 50, 14)\nTrue\n```\nbe added as a doctest?\n\nSet the ticket to `needs_review` when ready for review.\n\nUse full name in \"Authors\" field rather than trac username.",
    "created_at": "2020-06-18T03:02:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587387",
    "user": "https://github.com/slel"
}
```

<a id='comment:1'></a>
Could something like:

```
sage: from sage.combinat.designs.bibd import balanced_incomplete_block_design
sage: balanced_incomplete_block_design(176, 50, 14)
True
```
be added as a doctest?

Set the ticket to `needs_review` when ready for review.

Use full name in "Authors" field rather than trac username.



---

archive/issue_comments_587388.json:
```json
{
    "body": "Changing author from \"gh-Ivo-Maffei\" to \"Ivo Maffei\"",
    "created_at": "2020-06-18T11:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587388",
    "user": "https://github.com/Ivo-Maffei"
}
```

Changing author from "gh-Ivo-Maffei" to "Ivo Maffei"



---

archive/issue_comments_587389.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-18T11:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587389",
    "user": "https://github.com/Ivo-Maffei"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_587390.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [slelievre](#comment%3A1):\n> Could something like:\n> \n> ```\n> sage: from sage.combinat.designs.bibd import balanced_incomplete_block_design\n> sage: balanced_incomplete_block_design(176, 50, 14)\n> True\n> ```\n> be added as a doctest?\n\n\nAt the moment the `balanced_incomplete_block_design` function only takes 2 parameters (`v` and `k`).\nI was planning to make another ticket where that function gets expanded to allow arbitrary values for lambda. \nDo you think I should add everything here?",
    "created_at": "2020-06-18T11:57:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587390",
    "user": "https://github.com/Ivo-Maffei"
}
```

<a id='comment:3'></a>
Replying to [slelievre](#comment%3A1):
> Could something like:
> 
> ```
> sage: from sage.combinat.designs.bibd import balanced_incomplete_block_design
> sage: balanced_incomplete_block_design(176, 50, 14)
> True
> ```
> be added as a doctest?


At the moment the `balanced_incomplete_block_design` function only takes 2 parameters (`v` and `k`).
I was planning to make another ticket where that function gets expanded to allow arbitrary values for lambda. 
Do you think I should add everything here?



---

archive/issue_events_086463.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "rename": {
        "from": "Fixed inconsistency in code that caused a bug",
        "to": "Fix inconsistency in combinatorial designs"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29887#event-86463"
}
```



---

archive/issue_comments_587391.json:
```json
{
    "body": "<a id='comment:4'></a>\n> At the moment the `balanced_incomplete_block_design` function only takes\n> 2 parameters (`v` and `k`). I was planning to make another ticket where that\n> function gets expanded to allow arbitrary values for `lambda`.\n> Do you think I should add everything here?\n\n\nIt's fine either way. Keep the doctest for the other ticket if you do two.",
    "created_at": "2020-06-18T16:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587391",
    "user": "https://github.com/slel"
}
```

<a id='comment:4'></a>
> At the moment the `balanced_incomplete_block_design` function only takes
> 2 parameters (`v` and `k`). I was planning to make another ticket where that
> function gets expanded to allow arbitrary values for `lambda`.
> Do you think I should add everything here?


It's fine either way. Keep the doctest for the other ticket if you do two.



---

archive/issue_comments_587392.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,6 @@\n-The `BIBD_constructions` dictionary contained a key that mapped to a design object rather than a list of blocks. This causes a bug in the function that constructs BIBDs when such function is extended for values of lambda different from 1\n+In the `BIBD_constructions` dictionary, values are lists\n+of blocks except one which is a design object.\n+\n+We fix this inconsistency as we plan for the function that\n+constructs BIBDs to be extended to lambda other than 1.\n+\n``````\n",
    "created_at": "2020-06-18T16:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587392",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,6 @@
-The `BIBD_constructions` dictionary contained a key that mapped to a design object rather than a list of blocks. This causes a bug in the function that constructs BIBDs when such function is extended for values of lambda different from 1
+In the `BIBD_constructions` dictionary, values are lists
+of blocks except one which is a design object.
+
+We fix this inconsistency as we plan for the function that
+constructs BIBDs to be extended to lambda other than 1.
+
``````




---

archive/issue_comments_587393.json:
```json
{
    "body": "<a id='comment:5'></a>\nMaybe illustrate the improved consistency in the ticket description here?",
    "created_at": "2020-06-19T10:44:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587393",
    "user": "https://github.com/slel"
}
```

<a id='comment:5'></a>
Maybe illustrate the improved consistency in the ticket description here?



---

archive/issue_comments_587394.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-25T07:13:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587394",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_587395.json:
```json
{
    "body": "<a id='comment:6'></a>\nlooks good to me",
    "created_at": "2020-06-25T07:13:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587395",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
looks good to me



---

archive/issue_comments_587396.json:
```json
{
    "body": "Reviewer: Dima Pasechnik",
    "created_at": "2020-06-25T07:13:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587396",
    "user": "https://github.com/dimpase"
}
```

Reviewer: Dima Pasechnik



---

archive/issue_events_086464.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-02T21:29:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29887#event-86464"
}
```



---

archive/issue_comments_587397.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-02T21:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587397",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_587398.json:
```json
{
    "body": "Changing branch from \"[u/gh-Ivo-Maffei/bidb_bug](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Ivo-Maffei/bidb_bug)\" to \"[44276ea43e8465428fc9d50541a2bcb8c9bfd807](https://github.com/sagemath/sagetrac-mirror/commit/44276ea43e8465428fc9d50541a2bcb8c9bfd807)\"",
    "created_at": "2020-07-02T21:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29887",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29887#issuecomment-587398",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[u/gh-Ivo-Maffei/bidb_bug](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-Ivo-Maffei/bidb_bug)" to "[44276ea43e8465428fc9d50541a2bcb8c9bfd807](https://github.com/sagemath/sagetrac-mirror/commit/44276ea43e8465428fc9d50541a2bcb8c9bfd807)"
