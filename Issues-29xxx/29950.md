# Issue 29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add spkg-src and tox.ini

archive/issues_029713.json:
```json
{
    "body": "As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.\n\nWe fix `setup.py sdist`, which can be tested using `spkg-src` (which builds a pip-installable tarball in `upstream/`) and `tox`:\n\n```\n./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'\n./sage -sh -c 'build/pkgs/sagelib/src/.tox/python/bin/sage-ipython'\n```\n\nThe call of `./sage -sh` is necessary so that `SAGE_LOCAL` is set. \nMoreover, for scripts that use `sage-env`, also `SAGE_ENV_SOURCED` is crucial for the correct operation; otherwise `sage-env` sets things based on `SAGE_LOCAL` again. \n\nCC:  @kiwifb @jhpalmieri @dimpase @kliem @isuruf @vbraun\n\nBranch/Commit: ccc67b0356373330164dd75060f574c184142473\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nDependencies: #29701\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29950\n\n",
    "closed_at": "2020-08-12T19:53:18Z",
    "created_at": "2020-06-24T02:12:57Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add spkg-src and tox.ini",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29950",
    "user": "https://github.com/mkoeppe"
}
```
As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.

We fix `setup.py sdist`, which can be tested using `spkg-src` (which builds a pip-installable tarball in `upstream/`) and `tox`:

```
./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'
./sage -sh -c 'build/pkgs/sagelib/src/.tox/python/bin/sage-ipython'
```

The call of `./sage -sh` is necessary so that `SAGE_LOCAL` is set. 
Moreover, for scripts that use `sage-env`, also `SAGE_ENV_SOURCED` is crucial for the correct operation; otherwise `sage-env` sets things based on `SAGE_LOCAL` again. 

CC:  @kiwifb @jhpalmieri @dimpase @kliem @isuruf @vbraun

Branch/Commit: ccc67b0356373330164dd75060f574c184142473

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Dependencies: #29701

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29950





---

archive/issue_comments_588223.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/build_sagelib_using_installed_sage_setup\"",
    "created_at": "2020-06-24T02:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588223",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/build_sagelib_using_installed_sage_setup"



---

archive/issue_comments_588224.json:
```json
{
    "body": "Changing commit from \"\" to \"1ab75a99c46a00e7424a5d91366097fc32c9a13a\"",
    "created_at": "2020-06-24T02:32:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588224",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "1ab75a99c46a00e7424a5d91366097fc32c9a13a"



---

archive/issue_comments_588225.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-06-24T02:32:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588225",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_588226.json:
```json
{
    "body": "Changing work_issues from \"\" to \"add spkg-src\"",
    "created_at": "2020-06-24T02:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588226",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "" to "add spkg-src"



---

archive/issue_comments_588227.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-06-24T05:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588227",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_588228.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-25T06:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588228",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_588229.json:
```json
{
    "body": "Changing commit from \"1ab75a99c46a00e7424a5d91366097fc32c9a13a\" to \"a29cd2d79dd84d9653f9f0ea38466f846edb0e4f\"",
    "created_at": "2020-06-25T06:32:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588229",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1ab75a99c46a00e7424a5d91366097fc32c9a13a" to "a29cd2d79dd84d9653f9f0ea38466f846edb0e4f"



---

archive/issue_comments_588230.json:
```json
{
    "body": "Changing work_issues from \"add spkg-src\" to \"Fixup MANIFEST.in\"",
    "created_at": "2020-06-25T06:45:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588230",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "add spkg-src" to "Fixup MANIFEST.in"



---

archive/issue_comments_588231.json:
```json
{
    "body": "<a id='comment:8'></a>sdist is broken: Files named `**` end up in the tar file.",
    "created_at": "2020-06-28T16:25:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588231",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>sdist is broken: Files named `**` end up in the tar file.



---

archive/issue_comments_588232.json:
```json
{
    "body": "Changing dependencies from \"#29411, #29847\" to \"#29411, #29847, #29701\"",
    "created_at": "2020-06-28T16:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588232",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29411, #29847" to "#29411, #29847, #29701"



---

archive/issue_comments_588233.json:
```json
{
    "body": "<a id='comment:10'></a>https://github.com/sagemath/cypari2/issues/93",
    "created_at": "2020-06-28T18:18:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588233",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>https://github.com/sagemath/cypari2/issues/93



---

archive/issue_comments_588234.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2020-06-28T18:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588234",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_588235.json:
```json
{
    "body": "Changing commit from \"a29cd2d79dd84d9653f9f0ea38466f846edb0e4f\" to \"c3b8f8f057647eca8725a7a35a415c1cc3e19d4b\"",
    "created_at": "2020-06-28T18:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588235",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a29cd2d79dd84d9653f9f0ea38466f846edb0e4f" to "c3b8f8f057647eca8725a7a35a415c1cc3e19d4b"



---

archive/issue_comments_588236.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,11 @@\n-After #29411 and #29847, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`. In particular, we arrange for the installed `sage_setup` (#29847), rather than the one from the source tree, to be used.\n+As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.\n+\n+We fix `setup.py sdist`, which can be tested using `spkg-src` and `tox`.\n+\n+```\n+./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'\n+```\n+\n \n Dependencies: #29411, #29847\n \n``````\n",
    "created_at": "2020-06-28T18:29:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588236",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,11 @@
-After #29411 and #29847, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`. In particular, we arrange for the installed `sage_setup` (#29847), rather than the one from the source tree, to be used.
+As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.
+
+We fix `setup.py sdist`, which can be tested using `spkg-src` and `tox`.
+
+```
+./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'
+```
+
 
 Dependencies: #29411, #29847
 
``````




---

archive/issue_comments_588237.json:
```json
{
    "body": "Changing work_issues from \"Fixup MANIFEST.in\" to \"Rebase away from #29847\"",
    "created_at": "2020-06-28T18:29:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588237",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "Fixup MANIFEST.in" to "Rebase away from #29847"



---

archive/issue_comments_588238.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-06-28T19:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588238",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_588239.json:
```json
{
    "body": "Changing commit from \"c3b8f8f057647eca8725a7a35a415c1cc3e19d4b\" to \"9955a3ff69870ff844e5ebb45cf47c4b6f214263\"",
    "created_at": "2020-06-28T19:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588239",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c3b8f8f057647eca8725a7a35a415c1cc3e19d4b" to "9955a3ff69870ff844e5ebb45cf47c4b6f214263"



---

archive/issue_comments_588240.json:
```json
{
    "body": "Changing dependencies from \"#29411, #29847, #29701\" to \"#29411, #29701\"",
    "created_at": "2020-06-28T19:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588240",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29411, #29847, #29701" to "#29411, #29701"



---

archive/issue_comments_588241.json:
```json
{
    "body": "Changing work_issues from \"Rebase away from #29847\" to \"\"",
    "created_at": "2020-06-28T19:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588241",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "Rebase away from #29847" to ""



---

archive/issue_comments_588242.json:
```json
{
    "body": "<a id='comment:15'></a>\n```\n    from .maxima import maxima, Maxima\n  File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagelib/src/.tox/python/lib/python3.7/site-packages/sage/interfaces/maxima.py\", line 1236, in <module>\n    script_subdirectory=None)\n  File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagelib/src/.tox/python/lib/python3.7/site-packages/sage/interfaces/maxima.py\", line 528, in __init__\n    raise RuntimeError('You must get the file local/bin/sage-maxima.lisp')\nRuntimeError: You must get the file local/bin/sage-maxima.lisp\n```",
    "created_at": "2020-06-28T19:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588242",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
```
    from .maxima import maxima, Maxima
  File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagelib/src/.tox/python/lib/python3.7/site-packages/sage/interfaces/maxima.py", line 1236, in <module>
    script_subdirectory=None)
  File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagelib/src/.tox/python/lib/python3.7/site-packages/sage/interfaces/maxima.py", line 528, in __init__
    raise RuntimeError('You must get the file local/bin/sage-maxima.lisp')
RuntimeError: You must get the file local/bin/sage-maxima.lisp
```



---

archive/issue_comments_588243.json:
```json
{
    "body": "Changing dependencies from \"#29411, #29701\" to \"#29411, #29701, #27171\"",
    "created_at": "2020-06-28T19:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588243",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29411, #29701" to "#29411, #29701, #27171"



---

archive/issue_comments_588244.json:
```json
{
    "body": "Changing dependencies from \"#29411, #29701, #27171\" to \"#29411, #29701, #21559\"",
    "created_at": "2020-06-28T19:18:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588244",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29411, #29701, #27171" to "#29411, #29701, #21559"



---

archive/issue_comments_588245.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2020-06-28T19:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588245",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_588246.json:
```json
{
    "body": "Changing commit from \"9955a3ff69870ff844e5ebb45cf47c4b6f214263\" to \"08f5175bdf71236ccf3e80f6efaffa83d5edc532\"",
    "created_at": "2020-06-28T19:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588246",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9955a3ff69870ff844e5ebb45cf47c4b6f214263" to "08f5175bdf71236ccf3e80f6efaffa83d5edc532"



---

archive/issue_comments_588247.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,10 @@\n+As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.\n+\n+We fix `setup.py sdist`, which can be tested using `spkg-src` (which builds a pip-installable tarball in `upstream/`) and `tox`:\n+\n+```\n+./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'\n+```\n \n \n Dependencies: #29411, #29847\n``````\n",
    "created_at": "2020-06-28T19:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588247",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,10 @@
+As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.
+
+We fix `setup.py sdist`, which can be tested using `spkg-src` (which builds a pip-installable tarball in `upstream/`) and `tox`:
+
+```
+./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'
+```
 
 
 Dependencies: #29411, #29847
``````




---

archive/issue_comments_588248.json:
```json
{
    "body": "<a id='comment:20'></a>\n```\n./sage -sh -c '(cd build/pkgs/sagelib/src && tox -r -v -v)'\n...\nRuntimeError: libSingular not found--a working Singular install in $SAGE_LOCAL is required for Sage to work\nERROR: InvocationError for command /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagelib/src/.tox/python/bin/python -c 'import sys; \"\" in sys.path and sys.path.remove(\"\"); import sage.all' (exited with code 1)\n```\n\nThis is because of:\n\n```\n$ build/pkgs/sagelib/src/.tox/python/bin/python\nPython 3.7.7 (v3.7.7:d7c567b08f, Mar 10 2020, 02:56:16) \n[Clang 6.0 (clang-600.0.57)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import sage.env\n>>> sage.env.SINGULAR_SO\n>>> sage.env.GAP_SO\n>>> sage.env.SAGE_LOCAL\n'/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagelib/src/.tox/python'\n>>> \n```",
    "created_at": "2020-06-28T20:36:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588248",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
```
./sage -sh -c '(cd build/pkgs/sagelib/src && tox -r -v -v)'
...
RuntimeError: libSingular not found--a working Singular install in $SAGE_LOCAL is required for Sage to work
ERROR: InvocationError for command /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagelib/src/.tox/python/bin/python -c 'import sys; "" in sys.path and sys.path.remove(""); import sage.all' (exited with code 1)
```

This is because of:

```
$ build/pkgs/sagelib/src/.tox/python/bin/python
Python 3.7.7 (v3.7.7:d7c567b08f, Mar 10 2020, 02:56:16) 
[Clang 6.0 (clang-600.0.57)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> import sage.env
>>> sage.env.SINGULAR_SO
>>> sage.env.GAP_SO
>>> sage.env.SAGE_LOCAL
'/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/build/pkgs/sagelib/src/.tox/python'
>>> 
```



---

archive/issue_comments_588249.json:
```json
{
    "body": "<a id='comment:21'></a>Passing the correct `SAGE_LOCAL` suffices to fix this, of course. But the singular library location should be configured separately (#29024).",
    "created_at": "2020-06-28T20:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588249",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>Passing the correct `SAGE_LOCAL` suffices to fix this, of course. But the singular library location should be configured separately (#29024).



---

archive/issue_comments_588250.json:
```json
{
    "body": "Changing commit from \"08f5175bdf71236ccf3e80f6efaffa83d5edc532\" to \"516358b66059dbf458ed7c970ff05923b539b71c\"",
    "created_at": "2020-06-28T20:48:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588250",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "08f5175bdf71236ccf3e80f6efaffa83d5edc532" to "516358b66059dbf458ed7c970ff05923b539b71c"



---

archive/issue_comments_588251.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-28T20:48:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588251",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_588252.json:
```json
{
    "body": "Changing commit from \"516358b66059dbf458ed7c970ff05923b539b71c\" to \"eaced098339d5c7655244667b3dd1c90f5fd7f9e\"",
    "created_at": "2020-06-28T22:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588252",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "516358b66059dbf458ed7c970ff05923b539b71c" to "eaced098339d5c7655244667b3dd1c90f5fd7f9e"



---

archive/issue_comments_588253.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-28T22:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588253",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_588254.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n+As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.\n+\n+We fix `setup.py sdist`, which can be tested using `spkg-src` (which builds a pip-installable tarball in `upstream/`) and `tox`:\n+\n+```\n+./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'\n+./sage -sh -c 'build/pkgs/sagelib/src/.tox/python/bin/sage-ipython'\n+```\n \n \n Dependencies: #29411, #29847\n``````\n",
    "created_at": "2020-06-28T23:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588254",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,11 @@
+As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.
+
+We fix `setup.py sdist`, which can be tested using `spkg-src` (which builds a pip-installable tarball in `upstream/`) and `tox`:
+
+```
+./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'
+./sage -sh -c 'build/pkgs/sagelib/src/.tox/python/bin/sage-ipython'
+```
 
 
 Dependencies: #29411, #29847
``````




---

archive/issue_comments_588255.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-28T23:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588255",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_588256.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.\n+\n+We fix `setup.py sdist`, which can be tested using `spkg-src` (which builds a pip-installable tarball in `upstream/`) and `tox`:\n+\n+```\n+./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'\n+./sage -sh -c 'build/pkgs/sagelib/src/.tox/python/bin/sage-ipython'\n+```\n+\n+Scripts installed into the tox virtual environment that use `sage-env` do not work yet -- `sage-env` sets things based on `SAGE_LOCAL` again.\n \n \n Dependencies: #29411, #29847\n``````\n",
    "created_at": "2020-06-28T23:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588256",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,13 @@
+As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.
+
+We fix `setup.py sdist`, which can be tested using `spkg-src` (which builds a pip-installable tarball in `upstream/`) and `tox`:
+
+```
+./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'
+./sage -sh -c 'build/pkgs/sagelib/src/.tox/python/bin/sage-ipython'
+```
+
+Scripts installed into the tox virtual environment that use `sage-env` do not work yet -- `sage-env` sets things based on `SAGE_LOCAL` again.
 
 
 Dependencies: #29411, #29847
``````




---

archive/issue_comments_588257.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,14 @@\n+As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.\n \n+We fix `setup.py sdist`, which can be tested using `spkg-src` (which builds a pip-installable tarball in `upstream/`) and `tox`:\n+\n+```\n+./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'\n+./sage -sh -c 'build/pkgs/sagelib/src/.tox/python/bin/sage-ipython'\n+```\n+\n+The call of `./sage -sh` is necessary so that `SAGE_LOCAL` is set. \n+Moreover, for scripts that use `sage-env`, also `SAGE_ENV_SOURCED` is crucial for the correct operation; otherwise `sage-env` sets things based on `SAGE_LOCAL` again. \n \n Dependencies: #29411, #29847\n \n``````\n",
    "created_at": "2020-06-28T23:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588257",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,14 @@
+As a follow-up to #29411, we set up a separate directory `build/pkgs/sagelib/src` with symlinks into `SAGE_ROOT/src` so that sagelib's `setup.py` does not have access to the whole tree `SAGE_ROOT/src`.
 
+We fix `setup.py sdist`, which can be tested using `spkg-src` (which builds a pip-installable tarball in `upstream/`) and `tox`:
+
+```
+./sage -sh -c '(cd build/pkgs/sagelib/src && tox -v -v)'
+./sage -sh -c 'build/pkgs/sagelib/src/.tox/python/bin/sage-ipython'
+```
+
+The call of `./sage -sh` is necessary so that `SAGE_LOCAL` is set. 
+Moreover, for scripts that use `sage-env`, also `SAGE_ENV_SOURCED` is crucial for the correct operation; otherwise `sage-env` sets things based on `SAGE_LOCAL` again. 
 
 Dependencies: #29411, #29847
 
``````




---

archive/issue_comments_588258.json:
```json
{
    "body": "<a id='comment:27'></a>The `sage` script relies on `PATH` to be set correctly when invoking auxiliary scripts such as `sage-eval`.  Hence the following does not work correctly:\n\n```\n$ ./sage -sh -c 'build/pkgs/sagelib/src/.tox/python/bin/sage -c \"print(sys.path)\"'\n['/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/bin', '/Library/Frameworks/Python.framework/Versions/3.7/lib/python37.zip', '/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7', '/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/lib-dynload', '/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages']\n```",
    "created_at": "2020-06-28T23:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588258",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>The `sage` script relies on `PATH` to be set correctly when invoking auxiliary scripts such as `sage-eval`.  Hence the following does not work correctly:

```
$ ./sage -sh -c 'build/pkgs/sagelib/src/.tox/python/bin/sage -c "print(sys.path)"'
['/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/bin', '/Library/Frameworks/Python.framework/Versions/3.7/lib/python37.zip', '/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7', '/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/lib-dynload', '/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages']
```



---

archive/issue_comments_588259.json:
```json
{
    "body": "<a id='comment:28'></a>This will be fixed by #30013 (`src/bin/sage-env`: Make sure `SAGE_SCRIPTS_DIR` is at the beginning of the `PATH`).",
    "created_at": "2020-06-29T00:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588259",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>This will be fixed by #30013 (`src/bin/sage-env`: Make sure `SAGE_SCRIPTS_DIR` is at the beginning of the `PATH`).



---

archive/issue_comments_588260.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-29T00:11:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588260",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_588261.json:
```json
{
    "body": "Changing commit from \"eaced098339d5c7655244667b3dd1c90f5fd7f9e\" to \"b8e366ec56a9d3527c81df9d8d4206afc2562be4\"",
    "created_at": "2020-06-29T00:11:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588261",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "eaced098339d5c7655244667b3dd1c90f5fd7f9e" to "b8e366ec56a9d3527c81df9d8d4206afc2562be4"



---

archive/issue_comments_588262.json:
```json
{
    "body": "<a id='comment:31'></a>All dependencies of this ticket are green. Ready for review.",
    "created_at": "2020-07-02T20:14:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588262",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>All dependencies of this ticket are green. Ready for review.



---

archive/issue_comments_588263.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-04T16:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588263",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_588264.json:
```json
{
    "body": "Changing commit from \"b8e366ec56a9d3527c81df9d8d4206afc2562be4\" to \"72443711047daa51d1ba92b087ec9022b2eeef06\"",
    "created_at": "2020-07-04T16:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588264",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b8e366ec56a9d3527c81df9d8d4206afc2562be4" to "72443711047daa51d1ba92b087ec9022b2eeef06"



---

archive/issue_comments_588265.json:
```json
{
    "body": "<a id='comment:33'></a>Merged in latest versions #29701, #21559 (on top of 9.2.beta3). Needs review",
    "created_at": "2020-07-04T16:31:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588265",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>Merged in latest versions #29701, #21559 (on top of 9.2.beta3). Needs review



---

archive/issue_comments_588266.json:
```json
{
    "body": "Changing commit from \"72443711047daa51d1ba92b087ec9022b2eeef06\" to \"4344f8940fc44d959da5d20dbea43b64181b961f\"",
    "created_at": "2020-07-08T23:26:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588266",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "72443711047daa51d1ba92b087ec9022b2eeef06" to "4344f8940fc44d959da5d20dbea43b64181b961f"



---

archive/issue_comments_588267.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-08T23:26:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588267",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_588268.json:
```json
{
    "body": "Changing commit from \"4344f8940fc44d959da5d20dbea43b64181b961f\" to \"01b96b0f44f4ff7407fd2f3ce83de1cc74259d58\"",
    "created_at": "2020-08-03T00:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4344f8940fc44d959da5d20dbea43b64181b961f" to "01b96b0f44f4ff7407fd2f3ce83de1cc74259d58"



---

archive/issue_comments_588269.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-03T00:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588269",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_588270.json:
```json
{
    "body": "Changing dependencies from \"#29411, #29701, #21559\" to \"#29701\"",
    "created_at": "2020-08-03T00:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588270",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29411, #29701, #21559" to "#29701"



---

archive/issue_comments_588271.json:
```json
{
    "body": "<a id='comment:37'></a>lgtm",
    "created_at": "2020-08-05T08:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588271",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:37'></a>lgtm



---

archive/issue_comments_588272.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2020-08-05T08:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588272",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_588273.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-05T08:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588273",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_588274.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-08-08T20:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588274",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_588275.json:
```json
{
    "body": "<a id='comment:38'></a>Failing doctest needs work as noted in #29701.",
    "created_at": "2020-08-08T20:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588275",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'></a>Failing doctest needs work as noted in #29701.



---

archive/issue_comments_588276.json:
```json
{
    "body": "<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-08T22:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588276",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_588277.json:
```json
{
    "body": "Changing commit from \"01b96b0f44f4ff7407fd2f3ce83de1cc74259d58\" to \"8a19fe2a9bf4ed64a48ac3110cccbbdff97684ca\"",
    "created_at": "2020-08-08T22:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "01b96b0f44f4ff7407fd2f3ce83de1cc74259d58" to "8a19fe2a9bf4ed64a48ac3110cccbbdff97684ca"



---

archive/issue_comments_588278.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-08T23:08:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_588279.json:
```json
{
    "body": "Changing commit from \"8a19fe2a9bf4ed64a48ac3110cccbbdff97684ca\" to \"ccc67b0356373330164dd75060f574c184142473\"",
    "created_at": "2020-08-08T23:08:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588279",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8a19fe2a9bf4ed64a48ac3110cccbbdff97684ca" to "ccc67b0356373330164dd75060f574c184142473"



---

archive/issue_comments_588280.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-08T23:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588280",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_588281.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-10T16:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588281",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_588282.json:
```json
{
    "body": "<a id='comment:42'></a>ok",
    "created_at": "2020-08-10T16:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588282",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>ok



---

archive/issue_comments_588283.json:
```json
{
    "body": "<a id='comment:43'></a>Thanks!",
    "created_at": "2020-08-10T16:51:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588283",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>Thanks!



---

archive/issue_events_076893.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-12T19:53:18Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29950#event-76893"
}
```



---

archive/issue_comments_588284.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/build_sagelib_using_installed_sage_setup\" to \"ccc67b0356373330164dd75060f574c184142473\"",
    "created_at": "2020-08-12T19:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588284",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/build_sagelib_using_installed_sage_setup" to "ccc67b0356373330164dd75060f574c184142473"



---

archive/issue_comments_588285.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-12T19:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29950",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29950#issuecomment-588285",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
