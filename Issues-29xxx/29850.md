# Issue 29850: Install sage-env-config as part of sage_conf

archive/issues_029613.json:
```json
{
    "body": "As a follow-up to #21559 and #30128, we reassign `sage-env-config` from the package `sagelib` to the package `sage_conf`.\n\n(After #22731, `sage-env-config` is no longer required by the `sage` script.)\n\n(This is preparation for allowing installation of sagelib for example in a conda environment without having to run ./configure first - see #28745, #30845.)\n\n\n---\n\nPart of Meta-ticket #21707: Split sage-env into 5 to clean up sage configuration\n\n\nCC:  @jhpalmieri @kiwifb @orlitzky @dimpase @isuruf @tobiasdiez\n\nKeywords: sd111\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nBranch: 4b52dcf3def54b17a565d027b757a46b95f94e81\n\nDependencies: #31002\n\nCommit: 4b52dcf3def54b17a565d027b757a46b95f94e81\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29850\n\n",
    "closed_at": "2020-12-13T20:31:04Z",
    "created_at": "2020-06-12T20:01:36Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Install sage-env-config as part of sage_conf",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29850",
    "user": "https://github.com/mkoeppe"
}
```
As a follow-up to #21559 and #30128, we reassign `sage-env-config` from the package `sagelib` to the package `sage_conf`.

(After #22731, `sage-env-config` is no longer required by the `sage` script.)

(This is preparation for allowing installation of sagelib for example in a conda environment without having to run ./configure first - see #28745, #30845.)


---

Part of Meta-ticket #21707: Split sage-env into 5 to clean up sage configuration


CC:  @jhpalmieri @kiwifb @orlitzky @dimpase @isuruf @tobiasdiez

Keywords: sd111

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Branch: 4b52dcf3def54b17a565d027b757a46b95f94e81

Dependencies: #31002

Commit: 4b52dcf3def54b17a565d027b757a46b95f94e81

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29850





---

archive/issue_comments_420070.json:
```json
{
    "body": "<a id='comment:4'></a>Branch on this ticket does NOT work because pip/setuptools do not handle the symlink well. \n\n---\nLast 10 new commits:",
    "created_at": "2020-06-13T00:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420070",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>Branch on this ticket does NOT work because pip/setuptools do not handle the symlink well. 

---
Last 10 new commits:



---

archive/issue_comments_420071.json:
```json
{
    "body": "<a id='comment:5'></a>Perhaps it's easier to get rid of sage-env-config altogether (#29852).",
    "created_at": "2020-06-13T00:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420071",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>Perhaps it's easier to get rid of sage-env-config altogether (#29852).



---

archive/issue_comments_420072.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:4 mkoeppe]:\n> Branch on this ticket does NOT work because pip/setuptools do not handle the symlink well. \n\n\nUsing flit instead of setuptools (#29854) does not help for this ticket because flit does not know how to install prepared shell scripts -- it can only install Python scripts",
    "created_at": "2020-06-13T19:12:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420072",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>Replying to [comment:4 mkoeppe]:
> Branch on this ticket does NOT work because pip/setuptools do not handle the symlink well. 


Using flit instead of setuptools (#29854) does not help for this ticket because flit does not know how to install prepared shell scripts -- it can only install Python scripts



---

archive/issue_comments_420073.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-14T05:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420073",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420074.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:4 mkoeppe]:\n> Branch on this ticket does NOT work because pip/setuptools do not handle the symlink well. \n\n\nIt would probably suffice to just replace the use of `pip` by `setup.py install`.",
    "created_at": "2020-06-14T05:24:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420074",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>Replying to [comment:4 mkoeppe]:
> Branch on this ticket does NOT work because pip/setuptools do not handle the symlink well. 


It would probably suffice to just replace the use of `pip` by `setup.py install`.



---

archive/issue_comments_420075.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-24T04:28:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420075",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420076.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-24T05:03:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420076",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_420077.json:
```json
{
    "body": "<a id='comment:17'></a>(comment was meant for a different ticket)",
    "created_at": "2020-06-28T20:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420077",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>(comment was meant for a different ticket)



---

archive/issue_comments_420078.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-07-04T18:44:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420078",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_420079.json:
```json
{
    "body": "<a id='comment:20'></a>Rebased away from #29825, on top of updated #21559 (on top of 9.2.beta3)",
    "created_at": "2020-07-04T18:45:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420079",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>Rebased away from #29825, on top of updated #21559 (on top of 9.2.beta3)



---

archive/issue_comments_420080.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-08T23:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420081.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-13T05:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420081",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_076464.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29850#event-76464"
}
```



---

archive/issue_comments_420082.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-11-10T20:23:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420082",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_420083.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-10T20:30:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420084.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-10T20:56:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420085.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-10T21:23:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420086.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-10T21:54:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420087.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-11-10T21:59:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420087",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_420088.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-11-11T09:08:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420088",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_420089.json:
```json
{
    "body": "<a id='comment:33'></a>lgtm",
    "created_at": "2020-11-11T09:08:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420089",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:33'></a>lgtm



---

archive/issue_comments_420090.json:
```json
{
    "body": "<a id='comment:34'></a>Thanks!",
    "created_at": "2020-11-11T16:53:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420090",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>Thanks!



---

archive/issue_comments_420091.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2020-11-11T19:28:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420091",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_420092.json:
```json
{
    "body": "<a id='comment:36'></a>I set it to \"needs info\" because this design potentially conflicts with #30896 (./configure --without-python); see also #29852\t(Get rid of sage-env-config).",
    "created_at": "2020-11-11T20:22:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420092",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>I set it to "needs info" because this design potentially conflicts with #30896 (./configure --without-python); see also #29852	(Get rid of sage-env-config).



---

archive/issue_comments_420093.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-11-14T00:27:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420093",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_420094.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-11-14T00:29:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420094",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_420095.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd111\".",
    "created_at": "2020-12-06T17:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420095",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "sd111".



---

archive/issue_comments_420096.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-12-06T21:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420096",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_420097.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-12-08T21:12:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420098.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-12-08T21:12:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420098",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_420099.json:
```json
{
    "body": "<a id='comment:45'></a>Still needs review...",
    "created_at": "2020-12-11T06:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420099",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:45'></a>Still needs review...



---

archive/issue_comments_420100.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-12-11T11:35:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420100",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_420101.json:
```json
{
    "body": "<a id='comment:46'></a>OK.",
    "created_at": "2020-12-11T11:35:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420101",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:46'></a>OK.



---

archive/issue_comments_420102.json:
```json
{
    "body": "<a id='comment:47'></a>Thanks!",
    "created_at": "2020-12-11T16:15:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420102",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>Thanks!



---

archive/issue_comments_420103.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-12-13T20:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29850#issuecomment-420103",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_076465.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-13T20:31:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29850",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29850#event-76465"
}
```
