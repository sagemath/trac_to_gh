# Issue 29351: Implement directed version of 2sweep algorithm for diameter computation

archive/issues_029114.json:
```json
{
    "body": "This ticket aims at implementing a directed version of 2sweep for diameter computation, which will also be helpful in implementing DiFUB as given in [https://courses.cs.ut.ee/MTAT.03.238/2014_fall/uploads/Main/diameter.pdf](https://courses.cs.ut.ee/MTAT.03.238/2014_fall/uploads/Main/diameter.pdf)\n\nCC:  @dcoudert\n\nKeywords: Diameter\n\nBranch/Commit: a400a6f2c5d8c92d0e552bf8422bb58604c569ba\n\nReviewer: David Coudert\n\nAuthor: Vipul Gupta\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29351\n\n",
    "closed_at": "2020-04-05T08:30:39Z",
    "created_at": "2020-03-17T14:22:32Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Implement directed version of 2sweep algorithm for diameter computation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29351",
    "user": "https://github.com/vipul79321"
}
```
This ticket aims at implementing a directed version of 2sweep for diameter computation, which will also be helpful in implementing DiFUB as given in [https://courses.cs.ut.ee/MTAT.03.238/2014_fall/uploads/Main/diameter.pdf](https://courses.cs.ut.ee/MTAT.03.238/2014_fall/uploads/Main/diameter.pdf)

CC:  @dcoudert

Keywords: Diameter

Branch/Commit: a400a6f2c5d8c92d0e552bf8422bb58604c569ba

Reviewer: David Coudert

Author: Vipul Gupta

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29351





---

archive/issue_comments_572637.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-17T14:24:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572637",
    "user": "https://github.com/vipul79321"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_572638.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-vipul79321/ticket29351\"",
    "created_at": "2020-03-17T14:24:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572638",
    "user": "https://github.com/vipul79321"
}
```

Changing branch from "" to "u/gh-vipul79321/ticket29351"



---

archive/issue_comments_572639.json:
```json
{
    "body": "Changing commit from \"\" to \"0e5e40deac9c6b762c0a037e19bd2ca7adbb190e\"",
    "created_at": "2020-03-17T14:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572639",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "0e5e40deac9c6b762c0a037e19bd2ca7adbb190e"



---

archive/issue_comments_572640.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-17T14:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_572641.json:
```json
{
    "body": "<a id='comment:3'></a>I have added method `diameter_lower_bound_2Dsweep`, which is a directed version of 2sweep method. I have updated documentation and test cases respectively.\nonly One issue-\nDocumentation doesn't build due to citation not found. Any suggestion will be helpful",
    "created_at": "2020-03-17T14:29:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572641",
    "user": "https://github.com/vipul79321"
}
```

<a id='comment:3'></a>I have added method `diameter_lower_bound_2Dsweep`, which is a directed version of 2sweep method. I have updated documentation and test cases respectively.
only One issue-
Documentation doesn't build due to citation not found. Any suggestion will be helpful



---

archive/issue_comments_572642.json:
```json
{
    "body": "<a id='comment:4'></a>Sometimes, in particular when adding references, you have to run `make doc-clean` first.",
    "created_at": "2020-03-17T19:41:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572642",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'></a>Sometimes, in particular when adding references, you have to run `make doc-clean` first.



---

archive/issue_comments_572643.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 dcoudert]:\n> Sometimes, in particular when adding references, you have to run `make doc-clean` first.\n\nAfter running `make doc-clean` and then running `./sage --docbuild reference html`, following error occured\n\n```\nvipul@vipul-Predator-G3-572:~/sage$ ./sage --docbuild reference html\n[reference] building [html]: targets for 1 source files that are out of date\n[reference] updating environment: 1 added, 0 changed, 0 removed\n[reference] loading cross citations... looking for now-outdated files... none found\n[reference] The HTML pages are in local/share/doc/sage/html/en/reference/references.\n[reference] Exception occurred:\n[reference]   File \"/home/vipul/sage/local/lib/python3.7/os.py\", line 221, in makedirs\n[reference]     mkdir(name, mode)\n[reference] FileExistsError: [Errno 17] File exists: '/home/vipul/sage/local/share/doc/sage/html/en/reference/references/_static'\n[reference] The full traceback has been saved in /tmp/sphinx-err-_50f0hlq.log, if you want to report the issue to the developers.\n[reference] Please also report this if it was a user error, so that a better error message can be provided next time.\n[reference] A bug report can be filed in the tracker at <https://github.com/sphinx-doc/sphinx/issues>. Thanks!\nError building the documentation.\nTraceback (most recent call last):\n  File \"/home/vipul/sage/local/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/home/vipul/sage/local/lib/python3.7/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__main__.py\", line 2, in <module>\n    main()\n  File \"/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py\", line 1720, in main\n    builder()\n  File \"/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py\", line 550, in _wrapper\n    self._build_bibliography(lang, format, *args, **kwds)\n  File \"/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py\", line 527, in _build_bibliography\n    build_many(build_ref_doc, references)\n  File \"/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py\", line 280, in build_many\n    _build_many(target, args, processes=NUM_THREADS)\n  File \"/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/utils.py\", line 283, in build_many\n    raise worker_exc.original_exception\nOSError: Exception occurred:\n\n```",
    "created_at": "2020-03-18T13:21:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572643",
    "user": "https://github.com/vipul79321"
}
```

<a id='comment:5'></a>Replying to [comment:4 dcoudert]:
> Sometimes, in particular when adding references, you have to run `make doc-clean` first.

After running `make doc-clean` and then running `./sage --docbuild reference html`, following error occured

```
vipul@vipul-Predator-G3-572:~/sage$ ./sage --docbuild reference html
[reference] building [html]: targets for 1 source files that are out of date
[reference] updating environment: 1 added, 0 changed, 0 removed
[reference] loading cross citations... looking for now-outdated files... none found
[reference] The HTML pages are in local/share/doc/sage/html/en/reference/references.
[reference] Exception occurred:
[reference]   File "/home/vipul/sage/local/lib/python3.7/os.py", line 221, in makedirs
[reference]     mkdir(name, mode)
[reference] FileExistsError: [Errno 17] File exists: '/home/vipul/sage/local/share/doc/sage/html/en/reference/references/_static'
[reference] The full traceback has been saved in /tmp/sphinx-err-_50f0hlq.log, if you want to report the issue to the developers.
[reference] Please also report this if it was a user error, so that a better error message can be provided next time.
[reference] A bug report can be filed in the tracker at <https://github.com/sphinx-doc/sphinx/issues>. Thanks!
Error building the documentation.
Traceback (most recent call last):
  File "/home/vipul/sage/local/lib/python3.7/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/home/vipul/sage/local/lib/python3.7/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
    main()
  File "/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 1720, in main
    builder()
  File "/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 550, in _wrapper
    self._build_bibliography(lang, format, *args, **kwds)
  File "/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 527, in _build_bibliography
    build_many(build_ref_doc, references)
  File "/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 280, in build_many
    _build_many(target, args, processes=NUM_THREADS)
  File "/home/vipul/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/utils.py", line 283, in build_many
    raise worker_exc.original_exception
OSError: Exception occurred:

```



---

archive/issue_comments_572644.json:
```json
{
    "body": "<a id='comment:6'></a>try to simply to `make` after `make doc-clean`.",
    "created_at": "2020-03-18T13:27:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572644",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'></a>try to simply to `make` after `make doc-clean`.



---

archive/issue_comments_572645.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 dcoudert]:\n> try to simply to `make` after `make doc-clean`.\n\nThanks for that.. Doc builds and displays well.",
    "created_at": "2020-03-18T17:06:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572645",
    "user": "https://github.com/vipul79321"
}
```

<a id='comment:7'></a>Replying to [comment:6 dcoudert]:
> try to simply to `make` after `make doc-clean`.

Thanks for that.. Doc builds and displays well.



---

archive/issue_comments_572646.json:
```json
{
    "body": "<a id='comment:8'></a>In other methods, we use `MemoryAllocator`. It will not be faster than what you did, but it eases the release of memory (the object do it for you). In particular, it will fix a problem of your code: you forgot to release memory before returning the result.\n\nFor bitsets however, you have to take care of the release of the memory.\n\n`If the forward eccentricity of the source1 is infinite` -> `If the forward eccentricity of source_1 is infinite`\n\nAfter each BFS, you must check if the diameter is infinite or not to stop as soon as possible.\n\nwhy `2-Dsweep` and not `2Dsweep` ?",
    "created_at": "2020-03-19T18:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572646",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:8'></a>In other methods, we use `MemoryAllocator`. It will not be faster than what you did, but it eases the release of memory (the object do it for you). In particular, it will fix a problem of your code: you forgot to release memory before returning the result.

For bitsets however, you have to take care of the release of the memory.

`If the forward eccentricity of the source1 is infinite` -> `If the forward eccentricity of source_1 is infinite`

After each BFS, you must check if the diameter is infinite or not to stop as soon as possible.

why `2-Dsweep` and not `2Dsweep` ?



---

archive/issue_comments_572647.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-19T18:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572647",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_572648.json:
```json
{
    "body": "Changing reviewer from \"\" to \"David Coudert\"",
    "created_at": "2020-03-19T18:04:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572648",
    "user": "https://github.com/dcoudert"
}
```

Changing reviewer from "" to "David Coudert"



---

archive/issue_comments_572649.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-20T06:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572649",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_572650.json:
```json
{
    "body": "Changing commit from \"0e5e40deac9c6b762c0a037e19bd2ca7adbb190e\" to \"9071d0002fe6ca5be0b62729f47e931abf1480eb\"",
    "created_at": "2020-03-20T06:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572650",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0e5e40deac9c6b762c0a037e19bd2ca7adbb190e" to "9071d0002fe6ca5be0b62729f47e931abf1480eb"



---

archive/issue_comments_572651.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:8 dcoudert]:\n> After each BFS, you must check if the diameter is infinite or not to stop as soon as possible.\n\n>\nYeah, I agree to that. But is there any way to avoid checking the same `if-condition` multiple times, it just makes the code looks messy.",
    "created_at": "2020-03-20T06:40:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572651",
    "user": "https://github.com/vipul79321"
}
```

<a id='comment:10'></a>Replying to [comment:8 dcoudert]:
> After each BFS, you must check if the diameter is infinite or not to stop as soon as possible.

>
Yeah, I agree to that. But is there any way to avoid checking the same `if-condition` multiple times, it just makes the code looks messy.



---

archive/issue_comments_572652.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-20T06:40:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572652",
    "user": "https://github.com/vipul79321"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_572653.json:
```json
{
    "body": "<a id='comment:11'></a>Well, if the forward and backward eccentricities from `source_1` are finite, you know that the digraph is strongly connected, right?\nSo there is no need to check that again for `source_2`.",
    "created_at": "2020-03-24T10:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572653",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:11'></a>Well, if the forward and backward eccentricities from `source_1` are finite, you know that the digraph is strongly connected, right?
So there is no need to check that again for `source_2`.



---

archive/issue_comments_572654.json:
```json
{
    "body": "Changing commit from \"9071d0002fe6ca5be0b62729f47e931abf1480eb\" to \"5e430ef232737b33b16693939c64e9dfce25ea2a\"",
    "created_at": "2020-03-24T17:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572654",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9071d0002fe6ca5be0b62729f47e931abf1480eb" to "5e430ef232737b33b16693939c64e9dfce25ea2a"



---

archive/issue_comments_572655.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-24T17:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572655",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_572656.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-24T17:21:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572656",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_572657.json:
```json
{
    "body": "Changing commit from \"5e430ef232737b33b16693939c64e9dfce25ea2a\" to \"d897f52dcd0bcdb7c802c19e07bf1d8c01748da0\"",
    "created_at": "2020-03-24T17:21:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572657",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5e430ef232737b33b16693939c64e9dfce25ea2a" to "d897f52dcd0bcdb7c802c19e07bf1d8c01748da0"



---

archive/issue_comments_572658.json:
```json
{
    "body": "Changing commit from \"d897f52dcd0bcdb7c802c19e07bf1d8c01748da0\" to \"acb4c30701d06ba4f4c462fbadff65078f5d3c58\"",
    "created_at": "2020-03-24T17:23:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572658",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d897f52dcd0bcdb7c802c19e07bf1d8c01748da0" to "acb4c30701d06ba4f4c462fbadff65078f5d3c58"



---

archive/issue_comments_572659.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-24T17:23:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572659",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_572660.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:11 dcoudert]:\n> Well, if the forward and backward eccentricities from `source_1` are finite, you know that the digraph is strongly connected, right?\n> So there is no need to check that again for `source_2`.\n\nI have updated the method, to check `infinite condition` only for forward and backward eccentricity of `source` and fixed some silly typos in comments",
    "created_at": "2020-03-24T17:25:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572660",
    "user": "https://github.com/vipul79321"
}
```

<a id='comment:15'></a>Replying to [comment:11 dcoudert]:
> Well, if the forward and backward eccentricities from `source_1` are finite, you know that the digraph is strongly connected, right?
> So there is no need to check that again for `source_2`.

I have updated the method, to check `infinite condition` only for forward and backward eccentricity of `source` and fixed some silly typos in comments



---

archive/issue_comments_572661.json:
```json
{
    "body": "<a id='comment:16'></a>- You should use latex mode for all variables in this part as well.\n\n```diff\n+    eccentricity of `vb` and s as respective vertex.\n+    This method returns (LB, s, m, d), where LB is best found lower bound on\n+    diameter, s is vertex whose forward/backward eccentricity is LB, d is vertex\n+    at a distance LB from/to s, m is vertex at distance LB/2 from/to both s and\n+    d.\n```\n\n- Please add a test block with a small example.\n\n- you have not defined `s` and `d`. Also, instead of `LB1` and `LB2` (that are not defined), you could define a unique variable `LBm`  for both cases.\n\n- may be `rev_g` should be an input parameter of the method to avoid building multiple times this graph in case the method is used as a sub-routine of another one.",
    "created_at": "2020-03-25T08:56:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572661",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'></a>- You should use latex mode for all variables in this part as well.

```diff
+    eccentricity of `vb` and s as respective vertex.
+    This method returns (LB, s, m, d), where LB is best found lower bound on
+    diameter, s is vertex whose forward/backward eccentricity is LB, d is vertex
+    at a distance LB from/to s, m is vertex at distance LB/2 from/to both s and
+    d.
```

- Please add a test block with a small example.

- you have not defined `s` and `d`. Also, instead of `LB1` and `LB2` (that are not defined), you could define a unique variable `LBm`  for both cases.

- may be `rev_g` should be an input parameter of the method to avoid building multiple times this graph in case the method is used as a sub-routine of another one.



---

archive/issue_comments_572662.json:
```json
{
    "body": "Changing commit from \"acb4c30701d06ba4f4c462fbadff65078f5d3c58\" to \"a67469ed33cad46dad171c9340a0f2c09aae0600\"",
    "created_at": "2020-03-25T14:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572662",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "acb4c30701d06ba4f4c462fbadff65078f5d3c58" to "a67469ed33cad46dad171c9340a0f2c09aae0600"



---

archive/issue_comments_572663.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-25T14:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572663",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_572664.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:16 dcoudert]:\n> - You should use latex mode for all variables in this part as well.\n> \n> ```diff\n> +    eccentricity of `vb` and s as respective vertex.\n> +    This method returns (LB, s, m, d), where LB is best found lower bound on\n> +    diameter, s is vertex whose forward/backward eccentricity is LB, d is vertex\n> +    at a distance LB from/to s, m is vertex at distance LB/2 from/to both s and\n> +    d.\n> ```\n> \n> - Please add a test block with a small example.\n> \n> - you have not defined `s` and `d`. Also, instead of `LB1` and `LB2` (that are not defined), you could define a unique variable `LBm`  for both cases.\n> \n> - may be `rev_g` should be an input parameter of the method to avoid building multiple times this graph in case the method is used as a sub-routine of another one.\n \n- Done\\\\\nAlso, I have done the following.\\\\\n\n- In case of weakly connected digraph, it was throwing an overflow error. In line 1413 of method `diameter`\n\n```diff\n- cdef int LB\n+ cdef uint32_t LB\n```\n\n- To avoid warning of signed and unsigned variables comparing, in line 1378 of method `diameter` \n\n```diff\n- cdef int n = G.order()\n+ cdef uint32_t n = G.order()\n```\n\n- and some minor doc fixing",
    "created_at": "2020-03-25T15:03:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572664",
    "user": "https://github.com/vipul79321"
}
```

<a id='comment:18'></a>Replying to [comment:16 dcoudert]:
> - You should use latex mode for all variables in this part as well.
> 
> ```diff
> +    eccentricity of `vb` and s as respective vertex.
> +    This method returns (LB, s, m, d), where LB is best found lower bound on
> +    diameter, s is vertex whose forward/backward eccentricity is LB, d is vertex
> +    at a distance LB from/to s, m is vertex at distance LB/2 from/to both s and
> +    d.
> ```
> 
> - Please add a test block with a small example.
> 
> - you have not defined `s` and `d`. Also, instead of `LB1` and `LB2` (that are not defined), you could define a unique variable `LBm`  for both cases.
> 
> - may be `rev_g` should be an input parameter of the method to avoid building multiple times this graph in case the method is used as a sub-routine of another one.
 
- Done\\
Also, I have done the following.\\

- In case of weakly connected digraph, it was throwing an overflow error. In line 1413 of method `diameter`

```diff
- cdef int LB
+ cdef uint32_t LB
```

- To avoid warning of signed and unsigned variables comparing, in line 1378 of method `diameter` 

```diff
- cdef int n = G.order()
+ cdef uint32_t n = G.order()
```

- and some minor doc fixing



---

archive/issue_comments_572665.json:
```json
{
    "body": "<a id='comment:19'></a>* unless I'm mistaken, the `\\` in the bibliographie file is not needed\n\n```diff\n-.. [Broder2000] \\Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan\n+.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan\n```\n\n* add a small doctest (in a test block) in method `diameter_lower_bound_2Dsweep`. It is mostly for the doctest coverage statistics.\nThe test you added in `diameter` is perfect for that.\nNote that you can write `digraphs.Circuit(6)`.\n\nthat should be all",
    "created_at": "2020-03-25T18:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572665",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:19'></a>* unless I'm mistaken, the `\` in the bibliographie file is not needed

```diff
-.. [Broder2000] \Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan
+.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan
```

* add a small doctest (in a test block) in method `diameter_lower_bound_2Dsweep`. It is mostly for the doctest coverage statistics.
The test you added in `diameter` is perfect for that.
Note that you can write `digraphs.Circuit(6)`.

that should be all



---

archive/issue_comments_572666.json:
```json
{
    "body": "Changing commit from \"a67469ed33cad46dad171c9340a0f2c09aae0600\" to \"32f75af89548126e1383fa939abc23fa12a2d998\"",
    "created_at": "2020-03-26T05:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572666",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a67469ed33cad46dad171c9340a0f2c09aae0600" to "32f75af89548126e1383fa939abc23fa12a2d998"



---

archive/issue_comments_572667.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-26T05:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572667",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_572668.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:19 dcoudert]:\n> * add a small doctest (in a test block) in method `diameter_lower_bound_2Dsweep`. It is mostly for the doctest coverage statistics.\n> The test you added in `diameter` is perfect for that.\n\nActually, in other methods such as `2sweep` , `multi-sweep`etc there were no test blocks. That's why, I added that test in `diameter`.\\\\\nNow, I have moved that test block from `diameter` to `diameter_lower_bound_2Dsweep`.",
    "created_at": "2020-03-26T05:13:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572668",
    "user": "https://github.com/vipul79321"
}
```

<a id='comment:21'></a>Replying to [comment:19 dcoudert]:
> * add a small doctest (in a test block) in method `diameter_lower_bound_2Dsweep`. It is mostly for the doctest coverage statistics.
> The test you added in `diameter` is perfect for that.

Actually, in other methods such as `2sweep` , `multi-sweep`etc there were no test blocks. That's why, I added that test in `diameter`.\\
Now, I have moved that test block from `diameter` to `diameter_lower_bound_2Dsweep`.



---

archive/issue_comments_572669.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-26T11:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572669",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_572670.json:
```json
{
    "body": "Changing commit from \"32f75af89548126e1383fa939abc23fa12a2d998\" to \"7d9f255e0d412e14131a70e8d65f07bdac6c9505\"",
    "created_at": "2020-03-26T11:31:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572670",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "32f75af89548126e1383fa939abc23fa12a2d998" to "7d9f255e0d412e14131a70e8d65f07bdac6c9505"



---

archive/issue_comments_572671.json:
```json
{
    "body": "<a id='comment:23'></a>Replying to [comment:19 dcoudert]:\n> * unless I'm mistaken, the `\\` in the bibliographie file is not needed\n> \n> ```diff\n> -.. [Broder2000] \\Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan\n> +.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan\n> ```\n\nFixed this.",
    "created_at": "2020-03-26T11:32:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572671",
    "user": "https://github.com/vipul79321"
}
```

<a id='comment:23'></a>Replying to [comment:19 dcoudert]:
> * unless I'm mistaken, the `\` in the bibliographie file is not needed
> 
> ```diff
> -.. [Broder2000] \Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan
> +.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan
> ```

Fixed this.



---

archive/issue_comments_572672.json:
```json
{
    "body": "<a id='comment:24'></a>* in documentation, we write ```None``` and not `None`. Same for True and False.\n\n```diff\n-    - ``algorithm`` -- (default: None) specifies the algorithm to use among:\n+    - ``algorithm`` -- (default: ``None``) specifies the algorithm to use among:\n```\n\n* is it possible to put the `,` at the end of the line and not at the beginning of the next line\n\n```diff\n-.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan\n-                , S., Stata, R., Tomkins, A., Wiener, J.L.: Graph structure in\n+.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan,\n+                S., Stata, R., Tomkins, A., Wiener, J.L.: Graph structure in\n```",
    "created_at": "2020-03-26T12:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572672",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:24'></a>* in documentation, we write ```None``` and not `None`. Same for True and False.

```diff
-    - ``algorithm`` -- (default: None) specifies the algorithm to use among:
+    - ``algorithm`` -- (default: ``None``) specifies the algorithm to use among:
```

* is it possible to put the `,` at the end of the line and not at the beginning of the next line

```diff
-.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan
-                , S., Stata, R., Tomkins, A., Wiener, J.L.: Graph structure in
+.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan,
+                S., Stata, R., Tomkins, A., Wiener, J.L.: Graph structure in
```



---

archive/issue_comments_572673.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-26T13:36:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572673",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_572674.json:
```json
{
    "body": "Changing commit from \"7d9f255e0d412e14131a70e8d65f07bdac6c9505\" to \"a400a6f2c5d8c92d0e552bf8422bb58604c569ba\"",
    "created_at": "2020-03-26T13:36:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572674",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7d9f255e0d412e14131a70e8d65f07bdac6c9505" to "a400a6f2c5d8c92d0e552bf8422bb58604c569ba"



---

archive/issue_comments_572675.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:24 dcoudert]:\n> \n> * in documentation, we write ```None``` and not `None`. Same for True and False.\n> \n> ```diff\n> -    - ``algorithm`` -- (default: None) specifies the algorithm to use among:\n> +    - ``algorithm`` -- (default: ``None``) specifies the algorithm to use among:\n> ```\n> \n\nDone that, for source too.\n> * is it possible to put the `,` at the end of the line and not at the beginning of the next line\n> \n> ```diff\n> -.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan\n> -                , S., Stata, R., Tomkins, A., Wiener, J.L.: Graph structure in\n> +.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan,\n> +                S., Stata, R., Tomkins, A., Wiener, J.L.: Graph structure in\n> ```\n\nFixed",
    "created_at": "2020-03-26T13:38:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572675",
    "user": "https://github.com/vipul79321"
}
```

<a id='comment:26'></a>Replying to [comment:24 dcoudert]:
> 
> * in documentation, we write ```None``` and not `None`. Same for True and False.
> 
> ```diff
> -    - ``algorithm`` -- (default: None) specifies the algorithm to use among:
> +    - ``algorithm`` -- (default: ``None``) specifies the algorithm to use among:
> ```
> 

Done that, for source too.
> * is it possible to put the `,` at the end of the line and not at the beginning of the next line
> 
> ```diff
> -.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan
> -                , S., Stata, R., Tomkins, A., Wiener, J.L.: Graph structure in
> +.. [Broder2000] Broder, A.Z., Kumar, R., Maghoul, F., Raghavan, P., Rajagopalan,
> +                S., Stata, R., Tomkins, A., Wiener, J.L.: Graph structure in
> ```

Fixed



---

archive/issue_comments_572676.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-26T13:44:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572676",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_572677.json:
```json
{
    "body": "<a id='comment:27'></a>LGTM.",
    "created_at": "2020-03-26T13:44:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572677",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:27'></a>LGTM.



---

archive/issue_events_074741.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-05T08:30:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29351#event-74741"
}
```



---

archive/issue_comments_572678.json:
```json
{
    "body": "Changing branch from \"u/gh-vipul79321/ticket29351\" to \"a400a6f2c5d8c92d0e552bf8422bb58604c569ba\"",
    "created_at": "2020-04-05T08:30:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572678",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gh-vipul79321/ticket29351" to "a400a6f2c5d8c92d0e552bf8422bb58604c569ba"



---

archive/issue_comments_572679.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-05T08:30:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29351",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29351#issuecomment-572679",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
