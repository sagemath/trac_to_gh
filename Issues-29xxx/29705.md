# Issue 29705: Meta-ticket: Modularize sagelib into separate distributions (pip-installable packages) sagemath-... for Sage 10.0

archive/issues_029468.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nModularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme **sagemath-...**. \n\nThe goal is do this **without changing the overall structure of the source tree**.\n\n- **Section [Packaging the Sage Library](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#packaging-the-sage-library)** in the Sage Developer's Guide (added in Sage 9.5)\n- Presentation video: \n  https://researchseminars.org/talk/SageDays112358/17/ (2022-06)\n- [Master plan of sage modularization](https://groups.google.com/g/sage-devel/c/cTifWZOAfH8/m/niyTcAjCBAAJ) (sage-devel, 2021-11)\n- [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)\n- [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)\n- [How to modularize for fun and profit, II: MONOREPO vs. MULTIREPO](https://groups.google.com/g/sage-devel/c/AaKxoNQAWMg/m/smcnaPoZBAAJ) (sage-devel, 2021-10)\n- [How to modularize for fun and profit, I: Namespace vs. distribution name](https://groups.google.com/g/sage-devel/c/p4MO6L95s7E/m/yZF93ewIBAAJ) (sage-devel, 2021-10)\n- [Refactoring tasks in the Sage library to support modularization](https://groups.google.com/g/sage-devel/c/T0A4JCOg9DY/m/q6WKsI1yBAAJ) (sage-devel, 2021-09)\n- [Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage 9.4 release tour, 2021-08)\n- [Schematics](https://drive.google.com/file/d/18ptPi1s6YCj8jm_em8bFBlqjDYK6Eapm/view) (2020-10)\n- Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)\n- [Initial proposal](https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ) (sage-devel, 2020-05)\n\nInitial steps:\n\n1. In particular, create a package [sagemath-objects](https://pypi.org/project/sagemath-objects/) that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n\n   (Doctesting **sagemath-objects** would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)\n\n   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that **sagemath-objects** could be ported for use with PyPy instead of CPython.\n\n   b) Building and deploying a user package would be easier if it could depend on a small package such as **sagemath-objects** only instead of the whole multigigabyteness of Sage.\n\n   This has been completed in Sage 9.6 (#29865).\n\n2. Remove the mechanism of `OptionalExtension`s from `sagelib`.\n\n   Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.\n\n   With this ticket, the user would instead install a new optional package **sagemath-tdlib** (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).\n\n   This has been completed in Sage 9.2 (#29701).\n\n**Not** within the scope of this ticket:\n\n- We will not change the overall structure of the source tree (`SAGE_ROOT/src/sage`). We will achieve this by using the mechanism of native namespace packages introduced in Python 3.3 (PEP 420, see https://github.com/sagemath/sage/issues/28925).\n\n- It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distribution packages. \n\n**Initially noted constraints and challenges:**\n\n- Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).\n\n  Solution (implemented in Sage 9.2, #29500): Do not use pip for installations from local source directories.  Use `setup.py bdist_wheel`, followed by `pip install` of the wheel. pip 21.1's `--use-feature=in-tree-build` makes this workaround unnecessary (#32046, Sage 9.5).\n\n- The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).\n\n  Solution: Therefore they are in the same distribution **sagemath-objects**.\n\n- The category framework cannot live without the integers (e.g. the output of `.cardinality()` expects an integer). \n\n  Near term solution: #32432 makes **sagemath-categories** larger, to include integers and some other basic rings.\n\n  Possible future solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sagemath-objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):\n\n   ```\n   sage: py_scalar_parent(int)\n   Integer Ring\n   ```\n  #29875 will make this implementation dynamic.\n\n- Imports in `sage.categories`:\n\n```\n  bimodules imports QQ, RR\n  classical_crystals imports SR\n  finite_coxeter_groups imports QQbar\n```\n  Such imports can be removed using the techniques described in section [Module-level runtime dependencies](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#module-level-runtime-dependencies) in the Sage developer's guide.  \n\n**Tickets for Sage 9.2:**\n\nsee also [Modularization changes in Sage 9.2](https://wiki.sagemath.org/ReleaseTours/sage-9.2#System_package_information_for_optional_packages_at_runtime) (release tour)\n\n- #29411: make sagelib a script package\n- #29702: Move all code from `src/setup.py` to `sage_setup`\n- #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n- #29701 (depends on all of the above): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`\n- #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n- #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`\n- #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make\n- #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)\n- #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.\n- #29171: Move `giacpy_sage` into sage source code\n- #30332: Merge `sage_brial` into sagelib\n- #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels\n- #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages\n- #30616: Replace use of `sage.misc.package.PackageNotFoundError` (2); lazy_import: Add keyword argument 'feature'\n\n**Tickets for Sage 9.3:**\n\nsee also [Modularization changes in Sage 9.3](https://wiki.sagemath.org/ReleaseTours/sage-9.3#Modularization_and_packaging_of_sagelib) (release tour)\n\n- #30715 Remove a few `.all` imports\n- #30739 Remove a few more `.all` imports\n- #30784 `sage.matrix`: Resolve circular imports without using `__init__.py`\n- #30779 Duplicate `src/setup.py`\n- #30780 `sage_setup`: Separate installing and cleaning\n- #30579 Clean up `sage_setup.library_order`\n- #30580 `sage_setup`: Remove import-time dependency (`setup_requires`) on `pkgconfig`, `numpy`\n- #29355 Sagelib's scripts in `src/bin` should not use `build/bin/sage-system-python`; remove `sage-pypkg-location`\n- #30780 `sage_setup`: Separate installing and cleaning\n- #30719 Add `build/pkgs/SPKG/install-requires.txt` for all Python packages, remove some unneeded packages\n- #29951 `src/bin/sage-env`: Make `SAGE_ROOT` and `SAGE_LOCAL` optional\n- #29852 sage: Determine `SAGE_LOCAL`, `SAGE_ROOT` via sage-config if it exists\n- #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n- #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`\n- #30587: Remove import of `ppl` at startup\n- #31261: Update `pplpy` to 0.8.6\n- #29850: Install `sage-env-config` as part of `sage_conf`\n- #31025: FPLLL 5.4.0 and FPyLLL 0.5.4\n- #31058: `src/bin/sage-venv-config`: Do not fail if `sage_conf` is not available\n- #31218: bootstrap: Fix \"sage-venv-config: /doesnotexist/python3: bad interpreter\"\n- #31270: Remove `sage-location`'s \"sage-force-relocate\" mechanism, fix script to work without `SAGE_ROOT`\n- #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide\n- #30912: sagelib: Update metadata for PyPI deployment as distribution **sagemath-standard**\n- #31357: Fixup `src/VERSION.txt` added in #30912\n- #31332: `sage.misc.persist`: Import `SAGE_DB` on need only\n- #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported\n- #30984: `sage_setup`: Replace imports from `distutils` by `setuptools`\n- #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs\n- #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)\n- #31362: `make build-local`, make `build-venv`\n- #31377 `./configure --enable-editable`\n- #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n- #30010: Split sage_setup.docbuild out to a separate distribution **sage-docbuild**\n- #31278: `widgetsnbextension` should not depend on `notebook`\n- #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`\n- #31523: Fix dependencies of `ipywidgets`\n- #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`\n\n**Tickets for Sage 9.4:**\n\nsee also [Modularization changes in Sage 9.4](https://wiki.sagemath.org/ReleaseTours/sage-9.4#New_location_for_distribution_package_sources:_SAGE_ROOT.2Fpkgs) (release tour)\n\n- #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n- #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig\n- #29013: Add configure option `--with-sage-venv=SAGE_VENV` to create venv there instead of in SAGE_LOCAL\n- #31593: `configure`: Paths within `$SAGE_LOCAL` (`$prefix`) for `sage_conf`\n- #31338: `sage_setup`: Use paths within `SAGE_LOCAL` when provided via sage_conf\n- #31562: Patch `giac` so that `libintl` from `/usr/local` does not leak in on macOS\n- #28890: Install fewer static libraries\n- #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`\n- #32036 `sage.env`: Remove direct uses of SAGE_LOCAL from the Sage library\n- #32057 `sage_setup.setenv`: Only set `...PATH` variables and `LDFLAGS` if `SAGE_LOCAL` differs from `SAGE_VENV`\n- #31577: Move `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`\n- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n- #32073: Remove `sage.libs.readline`\n\n\n**Tickets for Sage 9.5:** \n\nsee also [Modularization changes in Sage 9.5](https://wiki.sagemath.org/ReleaseTours/sage-9.5#For_developers_and_packagers:_Modularization_and_packaging_changes) (release tour)\n\n- #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`\n- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy distribution **sage-setup** to PyPI.\n- #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt\n- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n- #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)\n- #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`\n- #32373: `sage_setup.library_order`: Skip libraries that were not detected\n- #32501: Meta-ticket: Clear out `__init__.py` files in preparation for namespace packages\n  - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n  - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n  - #32840 Fix `unpickle_global` when `register_unpickle_override` appears in a module not loaded at startup\n- #32414 Meta-ticket: New modules providing abstract base classes to enable modularization\n  - #32566/#32610/#32612/#32660/#32750 `sage.rings.abc`\n  - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods\n  - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`\n  - #32742 Use `sage.rings.abc.RealField`, `sage.rings.abc.ComplexField` more\n- #32534/#32591/#32620/#32734/#32733: Remove `.all` imports\n- #32442 `./configure`: Make `--with-sage-venv=auto` the default\n- #32062: GH Actions: Deploy sdists to PyPI\n- #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`\n- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n  - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n  - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings\n  - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring\n  - #32638: `sage.structure.element`: Add abc `Expression`; deprecate `is_Expression` etc.\n  - #32665: Deprecate `is_[Callable]SymbolicExpressionRing`, remove use of `is_Symbolic{Equation,Variable}`, `is_CallableSymbolicExpression`\n  - #32708: `sage.tensor.modules`: remove dependency on `sage.manifolds`\n  - #32712: `sage.tensor.modules`: make doctests involving `SR` optional\n  - #32725: Modularization changes in `sage.modules`, `sage.matrix`\n  - #32730: Import `Expression` from `sage.structure.element`\n  - #32717: Move `sage.functions.other.sqrt` to `sage.misc.functional`\n  - #32731: Avoid `ceil`, `floor` from `sage.functions.other` in non-symbolic uses\n- #32585 `sage.doctest`: Eliminate hard dependency on `RealIntervalField`\n- #32614 Features and optional tags for sage modules provided by separate distributions\n- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n- #32649 Replace `sage.doctest.external.has_*` functions by `Feature`s\n- #32650 `sage.misc.latex`: Replace `have_...` functions by `Feature`s\n- #32619 `lazy_import`: Muffle diagnostic messages for `at_startup`\n- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n  - #30022/#32441/#32455/#32775/#32701 Remove compile-time dependency on `cypari2` and `flint` from some modules\n  - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`\n  - #32628 `ConvexSet_base`, `Polyhedron_base`: In `_test` methods, do not fail if some modules are unavailable\n  - #32634 `sage.misc.latex`, `sage.repl.display.fancy_repr`: Make imports more local\n  - #32652/#32653/#32732 `sage.geometry.polyhedron`: Mark doctests `# optional - sage.rings.number_field` etc.\n  - #32635 `sage.matrix.matrix_space`: Import element classes on demand, fall back to generic on `ImportError`\n  - #32666 `Polyhedron_base.vertex_adjacency_matrix`: Do not use `face_lattice`\n  - #32677 `sage.rings.real_double`: Move methods using GSL to a separate extension module\n  - #32625 `Parent._is_numerical`, `_is_real_numerical` - remove hard dependency on `real_mpfr`, `complex_mpfr`\n  - #32641 Decentralize `sage.rings.numbers_abc`\n  - #32769 `sage.categories.coxeter_groups`: Remove module-level imports from `sage.rings`, `sage.graphs`\n  - #32777 Allow some imports of `RLF` to fail\n  - #32780 `sage.geometry.polyhedron.library`: Delay import of rings\n  - #32778 `sage.rings.infinity`: Remove hard dependency on `real_lazy` and `real_mpfi`\n- #31386: Move list of scripts from `setup.py` to `setup.cfg`\n- #32899: Developer's guide: Add section on modularization\n- #25009/#32894: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n\n\n**Tickets for Sage 9.6:**\n\nsee also [Modularization changes in Sage 9.6](https://wiki.sagemath.org/ReleaseTours/sage-9.6#For_developers:_Refactoring_and_modularization) (release tour)\n\n- #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n- #31013 Remove unused class from `sage_setup.optional_extension`\n- #32846 `sage.geometry`: More `# optional`\n- #32847 Use `lazy_import` for module-level import from `sage.plot` (outside of `sage.plot`)\n- #31306 `sage.repl`: Replace use of `SAGE_EXTCODE` by `importlib.resources`\n- #32881/#32888 Feature for `sage.rings.padics` etc.\n- #33033 Prepare `sage.doctest` for namespace packages\n- #32465 Refactor `{Matrix,Vector}_double_dense` through `..._numpy_dense`, add `..._numpy_integer_dense`\n- #33402 `sage.geometry.polyhedron`: More `# optional`\n- #33403 `Polyhedron._test_product`, `_test_dilation`: Skip tests if test prereqs cannot be imported\n- #33392 `sage.matrix`: Modularization fixes after #33159\n- #32989/#32999/#33000/#33007/#33146/#33199 Remove imports from `sage.*.all`\n- #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`\n- #32893 Feature for palp\n- #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`\n- #33440 `sage.libs.singular`: Do not fail if the Singular binary is not in `PATH`\n- #33465, #33466, #32645, #33467: Use `Executable.absolute_filename`\n- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`\n\n\n**Tickets for Sage 9.7:**\n\nsee also [Modularization changes in Sage 9.7](https://trac.sagemath.org/wiki/ReleaseTours/sage-9.7#Modularizationchanges) (release tour)\n\n- #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)\n- #33801 `sage.misc.sage_input`: Remove import from sage.all\n- #33803 Fixes for the distributions sagemath-objects, sagemath-categories\n- #32716 `pkgs/sagemath-standard/tox.ini`: Create environment that uses Sage's python as the basepython\n- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n- #33822 `python3` `spkg-configure.m4`: Require `ensurepip`\n- #33795 Move handling of `sage --docbuild` back to `src/bin/sage`\n- #33821 Remove use of `SAGE_LIB` in `sage.misc`\n- #33295: Refactor `sage_conf`\n- #33029 Feature and doctest tag for runtime cython\n- #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.\n- #33011 Remove `__init__.py` files for packages designated to be namespace packages\n- #34187 Remove `src/sage/__init__.py`\n- #32406: Make `./configure --enable-editable` the default\n- #33817 GH Actions: Add test of the modularized distributions\n- #34221 Backport PEP420 namespace package support from Cython 3\n- #34189/#34190/#34191/#34192/#34428: Remove `.all` imports\n- #34296 GH Actions: Upload wheels to PyPI\n\n**Tickets for Sage 9.8:**\n\n- #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n- #32874 New option `./configure --enable-wheels` (supersedes #32927, #30152)\n- #34770/#34823/#34804 Deprecate `sage.interfaces` `is_...Element` functions\n- #32664 Deprecate `is_FiniteField` etc., make `sage.rings.finite_rings` a namespace package\n- #32709 `sage.structure.element`: Add ABCs `Polynomial`, `MPolynomial` for `isinstance` testing\n- #16522 `lazy_import` doesn't resolve properly when indirectly imported\n- #34547 Interface issues: should use more lazy imports\n- #34858 Fix sagemath-standard sdist\n- #34855 Remove direct use of `setup.py sdist`, add targets `make SPKG-sdist`\n- #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... \n- #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules\n- #33577 Migrate from `setup.cfg` to `pyproject.toml`\n- #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n- #33037 Remove use of `SAGE_LIB` variable\n- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n- #31396: relocatable wheel version of package **sage-conf**\n- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)\n  - #32721 Remove abuse of predefined x in doctests\n\n**Tickets for Sage 9.9**\n\n- #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions\n- #34633 Use `src/setup.py` for the installation mode `--disable-editable --disable-wheels`\n- #34590 Use python-build instead of `pip wheel`\n- #34209 Use PEP 660 editable wheels for sagelib\n- #34631 `sage_setup`: Output depfiles\n- #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}\n- #33820 `eager_import`\n- #33575 Feature for fricas\n- #33802 Remove runtime dependency on everything via `sage_eval`\n- #32360 Merge `cypari`, `cypari2`; replace `cysignals`' optional PARI dependency by a general hook\n  - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n- #33202 Do not complain about `sage.categories.all`\n- #29870: `Move sage.structure.formal_sum` to `sage.modules`\n- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n- #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages\n- #30911: src/tox.ini: Add \"develop\" environment\n- possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n- #29868: pip-installable packages **sagemath-doc-...**\n- #31543: Eliminate use of patches for Python packages\n- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n- #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n- #30036: `sage_conf-pypi`: API for incremental builds\n- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n- Further modularization:\n   - #32700: Modularization of sagelib: Distribution **sagemath-gsl**\n   - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n   - #30716 Towards making Arb library optional\n    - #32433 Refactor `sage.matrix.misc`\n   - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**\n   - #32702 Modularization of sagelib: Distribution **sagemath-plot**\n   - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n   - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)\n- #32613: pynac: Replace direct use of singular's libfactory by a Python call\n- #32908 Eliminate use of FLINT's NTL interface\n- #30371: In-place (editable) installs of sagelib in a venv\n\n**Wishlist tickets, loose ends**\n- #30527: Create PEP 503 simple repository for wheels built during installation\n- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n- #29874: Mock integer class\n- #29845: PEP 517 `buildapi` for `sage_setup`\n- #31602: modularized relocatable wheel version of `sage_conf`\n- #30748 Convert startup methods to context manager\n- #30896: `./configure --with-sage-venv=none`\n\n\n**Related:**\n- #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior\n- https://wiki.sagemath.org/CodeSharingWorkflow\n- #30914 Meta-ticket: Create upstream repositories, pip-installable packages for database packages\n- #30922 Meta-ticket: Fix dependencies of upstream Python packages\n- #30818 Meta-ticket: Set environment for subprocesses invoked by Sage\n  - #31041 Set environment for `sage.misc.cython`\n- #31251 Meta-ticket: Distribution as wheels\n- #33580 Meta-ticket: make all modules importable without sage.all\n- #34201 Meta-ticket: Replace imports from sage.*.all for namespace packages\n\n\nCC:  @videlec @orlitzky @kiwifb @isuruf @tscrim @kliem @jhpalmieri @tobiasdiez @defeo @thierry-FreeBSD @anneschilling\n\nComponent: **refactoring**\n\nKeywords: **sd109, sd110, sd111**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29705_\n\n",
    "created_at": "2020-05-17T19:27:41Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Meta-ticket: Modularize sagelib into separate distributions (pip-installable packages) sagemath-... for Sage 10.0",
    "type": "issue",
    "updated_at": "2023-01-07T21:39:40Z",
    "url": "https://github.com/sagemath/sage/issues/29705",
    "user": "https://github.com/mkoeppe"
}
```
<div id="comment:0"></div>

Modularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme **sagemath-...**. 

The goal is do this **without changing the overall structure of the source tree**.

- **Section [Packaging the Sage Library](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#packaging-the-sage-library)** in the Sage Developer's Guide (added in Sage 9.5)
- Presentation video: 
  https://researchseminars.org/talk/SageDays112358/17/ (2022-06)
- [Master plan of sage modularization](https://groups.google.com/g/sage-devel/c/cTifWZOAfH8/m/niyTcAjCBAAJ) (sage-devel, 2021-11)
- [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)
- [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)
- [How to modularize for fun and profit, II: MONOREPO vs. MULTIREPO](https://groups.google.com/g/sage-devel/c/AaKxoNQAWMg/m/smcnaPoZBAAJ) (sage-devel, 2021-10)
- [How to modularize for fun and profit, I: Namespace vs. distribution name](https://groups.google.com/g/sage-devel/c/p4MO6L95s7E/m/yZF93ewIBAAJ) (sage-devel, 2021-10)
- [Refactoring tasks in the Sage library to support modularization](https://groups.google.com/g/sage-devel/c/T0A4JCOg9DY/m/q6WKsI1yBAAJ) (sage-devel, 2021-09)
- [Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage 9.4 release tour, 2021-08)
- [Schematics](https://drive.google.com/file/d/18ptPi1s6YCj8jm_em8bFBlqjDYK6Eapm/view) (2020-10)
- Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)
- [Initial proposal](https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ) (sage-devel, 2020-05)

Initial steps:

1. In particular, create a package [sagemath-objects](https://pypi.org/project/sagemath-objects/) that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 

   (Doctesting **sagemath-objects** would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)

   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that **sagemath-objects** could be ported for use with PyPy instead of CPython.

   b) Building and deploying a user package would be easier if it could depend on a small package such as **sagemath-objects** only instead of the whole multigigabyteness of Sage.

   This has been completed in Sage 9.6 (#29865).

2. Remove the mechanism of `OptionalExtension`s from `sagelib`.

   Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.

   With this ticket, the user would instead install a new optional package **sagemath-tdlib** (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).

   This has been completed in Sage 9.2 (#29701).

**Not** within the scope of this ticket:

- We will not change the overall structure of the source tree (`SAGE_ROOT/src/sage`). We will achieve this by using the mechanism of native namespace packages introduced in Python 3.3 (PEP 420, see https://github.com/sagemath/sage/issues/28925).

- It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distribution packages. 

**Initially noted constraints and challenges:**

- Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).

  Solution (implemented in Sage 9.2, #29500): Do not use pip for installations from local source directories.  Use `setup.py bdist_wheel`, followed by `pip install` of the wheel. pip 21.1's `--use-feature=in-tree-build` makes this workaround unnecessary (#32046, Sage 9.5).

- The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).

  Solution: Therefore they are in the same distribution **sagemath-objects**.

- The category framework cannot live without the integers (e.g. the output of `.cardinality()` expects an integer). 

  Near term solution: #32432 makes **sagemath-categories** larger, to include integers and some other basic rings.

  Possible future solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sagemath-objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):

   ```
   sage: py_scalar_parent(int)
   Integer Ring
   ```
  #29875 will make this implementation dynamic.

- Imports in `sage.categories`:

```
  bimodules imports QQ, RR
  classical_crystals imports SR
  finite_coxeter_groups imports QQbar
```
  Such imports can be removed using the techniques described in section [Module-level runtime dependencies](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#module-level-runtime-dependencies) in the Sage developer's guide.  

**Tickets for Sage 9.2:**

see also [Modularization changes in Sage 9.2](https://wiki.sagemath.org/ReleaseTours/sage-9.2#System_package_information_for_optional_packages_at_runtime) (release tour)

- #29411: make sagelib a script package
- #29702: Move all code from `src/setup.py` to `sage_setup`
- #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
- #29701 (depends on all of the above): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`
- #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
- #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`
- #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make
- #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)
- #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.
- #29171: Move `giacpy_sage` into sage source code
- #30332: Merge `sage_brial` into sagelib
- #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels
- #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages
- #30616: Replace use of `sage.misc.package.PackageNotFoundError` (2); lazy_import: Add keyword argument 'feature'

**Tickets for Sage 9.3:**

see also [Modularization changes in Sage 9.3](https://wiki.sagemath.org/ReleaseTours/sage-9.3#Modularization_and_packaging_of_sagelib) (release tour)

- #30715 Remove a few `.all` imports
- #30739 Remove a few more `.all` imports
- #30784 `sage.matrix`: Resolve circular imports without using `__init__.py`
- #30779 Duplicate `src/setup.py`
- #30780 `sage_setup`: Separate installing and cleaning
- #30579 Clean up `sage_setup.library_order`
- #30580 `sage_setup`: Remove import-time dependency (`setup_requires`) on `pkgconfig`, `numpy`
- #29355 Sagelib's scripts in `src/bin` should not use `build/bin/sage-system-python`; remove `sage-pypkg-location`
- #30780 `sage_setup`: Separate installing and cleaning
- #30719 Add `build/pkgs/SPKG/install-requires.txt` for all Python packages, remove some unneeded packages
- #29951 `src/bin/sage-env`: Make `SAGE_ROOT` and `SAGE_LOCAL` optional
- #29852 sage: Determine `SAGE_LOCAL`, `SAGE_ROOT` via sage-config if it exists
- #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
- #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`
- #30587: Remove import of `ppl` at startup
- #31261: Update `pplpy` to 0.8.6
- #29850: Install `sage-env-config` as part of `sage_conf`
- #31025: FPLLL 5.4.0 and FPyLLL 0.5.4
- #31058: `src/bin/sage-venv-config`: Do not fail if `sage_conf` is not available
- #31218: bootstrap: Fix "sage-venv-config: /doesnotexist/python3: bad interpreter"
- #31270: Remove `sage-location`'s "sage-force-relocate" mechanism, fix script to work without `SAGE_ROOT`
- #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide
- #30912: sagelib: Update metadata for PyPI deployment as distribution **sagemath-standard**
- #31357: Fixup `src/VERSION.txt` added in #30912
- #31332: `sage.misc.persist`: Import `SAGE_DB` on need only
- #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported
- #30984: `sage_setup`: Replace imports from `distutils` by `setuptools`
- #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs
- #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)
- #31362: `make build-local`, make `build-venv`
- #31377 `./configure --enable-editable`
- #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
- #30010: Split sage_setup.docbuild out to a separate distribution **sage-docbuild**
- #31278: `widgetsnbextension` should not depend on `notebook`
- #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`
- #31523: Fix dependencies of `ipywidgets`
- #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`

**Tickets for Sage 9.4:**

see also [Modularization changes in Sage 9.4](https://wiki.sagemath.org/ReleaseTours/sage-9.4#New_location_for_distribution_package_sources:_SAGE_ROOT.2Fpkgs) (release tour)

- #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
- #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig
- #29013: Add configure option `--with-sage-venv=SAGE_VENV` to create venv there instead of in SAGE_LOCAL
- #31593: `configure`: Paths within `$SAGE_LOCAL` (`$prefix`) for `sage_conf`
- #31338: `sage_setup`: Use paths within `SAGE_LOCAL` when provided via sage_conf
- #31562: Patch `giac` so that `libintl` from `/usr/local` does not leak in on macOS
- #28890: Install fewer static libraries
- #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`
- #32036 `sage.env`: Remove direct uses of SAGE_LOCAL from the Sage library
- #32057 `sage_setup.setenv`: Only set `...PATH` variables and `LDFLAGS` if `SAGE_LOCAL` differs from `SAGE_VENV`
- #31577: Move `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`
- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
- #32073: Remove `sage.libs.readline`


**Tickets for Sage 9.5:** 

see also [Modularization changes in Sage 9.5](https://wiki.sagemath.org/ReleaseTours/sage-9.5#For_developers_and_packagers:_Modularization_and_packaging_changes) (release tour)

- #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`
- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy distribution **sage-setup** to PyPI.
- #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt
- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
- #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)
- #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`
- #32373: `sage_setup.library_order`: Skip libraries that were not detected
- #32501: Meta-ticket: Clear out `__init__.py` files in preparation for namespace packages
  - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
  - #32506/#32507/#32508/#32509: `__init__.py` in other packages
  - #32840 Fix `unpickle_global` when `register_unpickle_override` appears in a module not loaded at startup
- #32414 Meta-ticket: New modules providing abstract base classes to enable modularization
  - #32566/#32610/#32612/#32660/#32750 `sage.rings.abc`
  - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods
  - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`
  - #32742 Use `sage.rings.abc.RealField`, `sage.rings.abc.ComplexField` more
- #32534/#32591/#32620/#32734/#32733: Remove `.all` imports
- #32442 `./configure`: Make `--with-sage-venv=auto` the default
- #32062: GH Actions: Deploy sdists to PyPI
- #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`
- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
  - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
  - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings
  - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring
  - #32638: `sage.structure.element`: Add abc `Expression`; deprecate `is_Expression` etc.
  - #32665: Deprecate `is_[Callable]SymbolicExpressionRing`, remove use of `is_Symbolic{Equation,Variable}`, `is_CallableSymbolicExpression`
  - #32708: `sage.tensor.modules`: remove dependency on `sage.manifolds`
  - #32712: `sage.tensor.modules`: make doctests involving `SR` optional
  - #32725: Modularization changes in `sage.modules`, `sage.matrix`
  - #32730: Import `Expression` from `sage.structure.element`
  - #32717: Move `sage.functions.other.sqrt` to `sage.misc.functional`
  - #32731: Avoid `ceil`, `floor` from `sage.functions.other` in non-symbolic uses
- #32585 `sage.doctest`: Eliminate hard dependency on `RealIntervalField`
- #32614 Features and optional tags for sage modules provided by separate distributions
- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
- #32649 Replace `sage.doctest.external.has_*` functions by `Feature`s
- #32650 `sage.misc.latex`: Replace `have_...` functions by `Feature`s
- #32619 `lazy_import`: Muffle diagnostic messages for `at_startup`
- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
  - #30022/#32441/#32455/#32775/#32701 Remove compile-time dependency on `cypari2` and `flint` from some modules
  - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`
  - #32628 `ConvexSet_base`, `Polyhedron_base`: In `_test` methods, do not fail if some modules are unavailable
  - #32634 `sage.misc.latex`, `sage.repl.display.fancy_repr`: Make imports more local
  - #32652/#32653/#32732 `sage.geometry.polyhedron`: Mark doctests `# optional - sage.rings.number_field` etc.
  - #32635 `sage.matrix.matrix_space`: Import element classes on demand, fall back to generic on `ImportError`
  - #32666 `Polyhedron_base.vertex_adjacency_matrix`: Do not use `face_lattice`
  - #32677 `sage.rings.real_double`: Move methods using GSL to a separate extension module
  - #32625 `Parent._is_numerical`, `_is_real_numerical` - remove hard dependency on `real_mpfr`, `complex_mpfr`
  - #32641 Decentralize `sage.rings.numbers_abc`
  - #32769 `sage.categories.coxeter_groups`: Remove module-level imports from `sage.rings`, `sage.graphs`
  - #32777 Allow some imports of `RLF` to fail
  - #32780 `sage.geometry.polyhedron.library`: Delay import of rings
  - #32778 `sage.rings.infinity`: Remove hard dependency on `real_lazy` and `real_mpfi`
- #31386: Move list of scripts from `setup.py` to `setup.cfg`
- #32899: Developer's guide: Add section on modularization
- #25009/#32894: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library


**Tickets for Sage 9.6:**

see also [Modularization changes in Sage 9.6](https://wiki.sagemath.org/ReleaseTours/sage-9.6#For_developers:_Refactoring_and_modularization) (release tour)

- #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
- #31013 Remove unused class from `sage_setup.optional_extension`
- #32846 `sage.geometry`: More `# optional`
- #32847 Use `lazy_import` for module-level import from `sage.plot` (outside of `sage.plot`)
- #31306 `sage.repl`: Replace use of `SAGE_EXTCODE` by `importlib.resources`
- #32881/#32888 Feature for `sage.rings.padics` etc.
- #33033 Prepare `sage.doctest` for namespace packages
- #32465 Refactor `{Matrix,Vector}_double_dense` through `..._numpy_dense`, add `..._numpy_integer_dense`
- #33402 `sage.geometry.polyhedron`: More `# optional`
- #33403 `Polyhedron._test_product`, `_test_dilation`: Skip tests if test prereqs cannot be imported
- #33392 `sage.matrix`: Modularization fixes after #33159
- #32989/#32999/#33000/#33007/#33146/#33199 Remove imports from `sage.*.all`
- #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`
- #32893 Feature for palp
- #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`
- #33440 `sage.libs.singular`: Do not fail if the Singular binary is not in `PATH`
- #33465, #33466, #32645, #33467: Use `Executable.absolute_filename`
- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`


**Tickets for Sage 9.7:**

see also [Modularization changes in Sage 9.7](https://trac.sagemath.org/wiki/ReleaseTours/sage-9.7#Modularizationchanges) (release tour)

- #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)
- #33801 `sage.misc.sage_input`: Remove import from sage.all
- #33803 Fixes for the distributions sagemath-objects, sagemath-categories
- #32716 `pkgs/sagemath-standard/tox.ini`: Create environment that uses Sage's python as the basepython
- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
- #33822 `python3` `spkg-configure.m4`: Require `ensurepip`
- #33795 Move handling of `sage --docbuild` back to `src/bin/sage`
- #33821 Remove use of `SAGE_LIB` in `sage.misc`
- #33295: Refactor `sage_conf`
- #33029 Feature and doctest tag for runtime cython
- #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.
- #33011 Remove `__init__.py` files for packages designated to be namespace packages
- #34187 Remove `src/sage/__init__.py`
- #32406: Make `./configure --enable-editable` the default
- #33817 GH Actions: Add test of the modularized distributions
- #34221 Backport PEP420 namespace package support from Cython 3
- #34189/#34190/#34191/#34192/#34428: Remove `.all` imports
- #34296 GH Actions: Upload wheels to PyPI

**Tickets for Sage 9.8:**

- #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
- #32874 New option `./configure --enable-wheels` (supersedes #32927, #30152)
- #34770/#34823/#34804 Deprecate `sage.interfaces` `is_...Element` functions
- #32664 Deprecate `is_FiniteField` etc., make `sage.rings.finite_rings` a namespace package
- #32709 `sage.structure.element`: Add ABCs `Polynomial`, `MPolynomial` for `isinstance` testing
- #16522 `lazy_import` doesn't resolve properly when indirectly imported
- #34547 Interface issues: should use more lazy imports
- #34858 Fix sagemath-standard sdist
- #34855 Remove direct use of `setup.py sdist`, add targets `make SPKG-sdist`
- #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... 
- #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules
- #33577 Migrate from `setup.cfg` to `pyproject.toml`
- #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
- #33037 Remove use of `SAGE_LIB` variable
- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
- #31396: relocatable wheel version of package **sage-conf**
- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)
  - #32721 Remove abuse of predefined x in doctests

**Tickets for Sage 9.9**

- #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions
- #34633 Use `src/setup.py` for the installation mode `--disable-editable --disable-wheels`
- #34590 Use python-build instead of `pip wheel`
- #34209 Use PEP 660 editable wheels for sagelib
- #34631 `sage_setup`: Output depfiles
- #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}
- #33820 `eager_import`
- #33575 Feature for fricas
- #33802 Remove runtime dependency on everything via `sage_eval`
- #32360 Merge `cypari`, `cypari2`; replace `cysignals`' optional PARI dependency by a general hook
  - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
- #33202 Do not complain about `sage.categories.all`
- #29870: `Move sage.structure.formal_sum` to `sage.modules`
- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
- #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages
- #30911: src/tox.ini: Add "develop" environment
- possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
- #29868: pip-installable packages **sagemath-doc-...**
- #31543: Eliminate use of patches for Python packages
- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
- #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
- #30036: `sage_conf-pypi`: API for incremental builds
- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
- Further modularization:
   - #32700: Modularization of sagelib: Distribution **sagemath-gsl**
   - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
   - #30716 Towards making Arb library optional
    - #32433 Refactor `sage.matrix.misc`
   - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**
   - #32702 Modularization of sagelib: Distribution **sagemath-plot**
   - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
   - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)
- #32613: pynac: Replace direct use of singular's libfactory by a Python call
- #32908 Eliminate use of FLINT's NTL interface
- #30371: In-place (editable) installs of sagelib in a venv

**Wishlist tickets, loose ends**
- #30527: Create PEP 503 simple repository for wheels built during installation
- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
- #29874: Mock integer class
- #29845: PEP 517 `buildapi` for `sage_setup`
- #31602: modularized relocatable wheel version of `sage_conf`
- #30748 Convert startup methods to context manager
- #30896: `./configure --with-sage-venv=none`


**Related:**
- #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior
- https://wiki.sagemath.org/CodeSharingWorkflow
- #30914 Meta-ticket: Create upstream repositories, pip-installable packages for database packages
- #30922 Meta-ticket: Fix dependencies of upstream Python packages
- #30818 Meta-ticket: Set environment for subprocesses invoked by Sage
  - #31041 Set environment for `sage.misc.cython`
- #31251 Meta-ticket: Distribution as wheels
- #33580 Meta-ticket: make all modules importable without sage.all
- #34201 Meta-ticket: Replace imports from sage.*.all for namespace packages


CC:  @videlec @orlitzky @kiwifb @isuruf @tscrim @kliem @jhpalmieri @tobiasdiez @defeo @thierry-FreeBSD @anneschilling

Component: **refactoring**

Keywords: **sd109, sd110, sd111**

_Issue created by migration from https://trac.sagemath.org/ticket/29705_





---

archive/issue_events_405669.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-17T19:27:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405669"
}
```



---

archive/issue_events_405670.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-17T19:27:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405670"
}
```



---

archive/issue_events_405671.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-17T19:27:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405671"
}
```



---

archive/issue_comments_468098.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n (From https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ)\n \n-Modularize sagelib into separate distutils packages, so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on !PyPI. The goal would be to do this **without changing the overall structure of the source tree**.\n+Modularize sagelib into separate distutils packages, so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI. The goal would be to do this **without changing the overall structure of the source tree**.\n \n 1. In particular, create a package `sage_objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n \n``````\n",
    "created_at": "2020-05-17T19:34:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468098",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 (From https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ)
 
-Modularize sagelib into separate distutils packages, so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on !PyPI. The goal would be to do this **without changing the overall structure of the source tree**.
+Modularize sagelib into separate distutils packages, so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI. The goal would be to do this **without changing the overall structure of the source tree**.
 
 1. In particular, create a package `sage_objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
 
``````




---

archive/issue_comments_468099.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,7 +6,7 @@\n \n    (Doctesting `sage_objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)\n \n-   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sage_objects` could be ported for use with PyPy instead of !CPython.\n+   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sage_objects` could be ported for use with PyPy instead of CPython.\n \n    b) Building and deploying a user package would be easier if it could depend on a small package such as `sage_objects` only instead of the whole multigigabyteness of Sage.\n \n``````\n",
    "created_at": "2020-05-17T19:35:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468099",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,7 +6,7 @@
 
    (Doctesting `sage_objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)
 
-   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sage_objects` could be ported for use with PyPy instead of !CPython.
+   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sage_objects` could be ported for use with PyPy instead of CPython.
 
    b) Building and deploying a user package would be easier if it could depend on a small package such as `sage_objects` only instead of the whole multigigabyteness of Sage.
 
``````




---

archive/issue_comments_468100.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,7 +17,7 @@\n \n **Not** within the scope of this ticket:\n \n-- We will not change the overall structure of the source tree (`SAGE_ROOT/src/sage`). We will achieve this by using the mechanism of native namespace packages introduced in Python 3.3 (see https://github.com/sagemath/sage/issues/28925).\n+- We will not change the overall structure of the source tree (`SAGE_ROOT/src/sage`). We will achieve this by using the mechanism of native namespace packages introduced in Python 3.3 (PEP 420, see https://github.com/sagemath/sage/issues/28925).\n \n - It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distutils packages. \n \n``````\n",
    "created_at": "2020-05-17T21:50:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468100",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,7 +17,7 @@
 
 **Not** within the scope of this ticket:
 
-- We will not change the overall structure of the source tree (`SAGE_ROOT/src/sage`). We will achieve this by using the mechanism of native namespace packages introduced in Python 3.3 (see https://github.com/sagemath/sage/issues/28925).
+- We will not change the overall structure of the source tree (`SAGE_ROOT/src/sage`). We will achieve this by using the mechanism of native namespace packages introduced in Python 3.3 (PEP 420, see https://github.com/sagemath/sage/issues/28925).
 
 - It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distutils packages. 
 
``````




---

archive/issue_comments_468101.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -45,6 +45,7 @@\n \n - #29411: make sagelib a script package\n - #29702: Move all code from `src/setup.py` to `sage_setup`\n+- #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n - #29701: Meta-ticket: Replace use of `OptionalExtension` by namespace packages\n \n``````\n",
    "created_at": "2020-05-17T23:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468101",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -45,6 +45,7 @@
 
 - #29411: make sagelib a script package
 - #29702: Move all code from `src/setup.py` to `sage_setup`
+- #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
 - #21516: Fix sagelib sdist (src/setup.py sdist)
 - #29701: Meta-ticket: Replace use of `OptionalExtension` by namespace packages
 
``````




---

archive/issue_comments_468102.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -45,6 +45,7 @@\n \n - #29411: make sagelib a script package\n - #29702: Move all code from `src/setup.py` to `sage_setup`\n+- #29706: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n - #29701: Meta-ticket: Replace use of `OptionalExtension` by namespace packages\n``````\n",
    "created_at": "2020-05-18T00:51:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468102",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -45,6 +45,7 @@
 
 - #29411: make sagelib a script package
 - #29702: Move all code from `src/setup.py` to `sage_setup`
+- #29706: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
 - #21516: Fix sagelib sdist (src/setup.py sdist)
 - #29701: Meta-ticket: Replace use of `OptionalExtension` by namespace packages
``````




---

archive/issue_comments_468103.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -52,3 +52,4 @@\n \n **Related:**\n - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior\n+- https://wiki.sagemath.org/CodeSharingWorkflow\n``````\n",
    "created_at": "2020-05-21T01:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468103",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -52,3 +52,4 @@
 
 **Related:**
 - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior
+- https://wiki.sagemath.org/CodeSharingWorkflow
``````




---

archive/issue_comments_468104.json:
```json
{
    "body": "Changed keywords from none to **sd109**",
    "created_at": "2020-05-28T06:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468104",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from none to **sd109**



---

archive/issue_comments_468105.json:
```json
{
    "body": "Branch: **[u/mkoeppe/META-modularize-sagelib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/META-modularize-sagelib)**",
    "created_at": "2020-06-03T18:19:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468105",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/META-modularize-sagelib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/META-modularize-sagelib)**



---

archive/issue_comments_468106.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47cb57898d62e3d71ad18a4b27ea0a99ee3a982e\"><code>47cb578</code></a></td><td><code>is_package_or_namespace_package_dir: Recognize namespace packages by file 'namespace'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/381a5079da7ea334410ae78e3dd6b386e93aa092\"><code>381a507</code></a></td><td><code>src/module_list.py: Remove explicit list of sage.numerical.backends extensions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c51133f6e3458abf3f9303d49303e49b1b1cbb8\"><code>4c51133</code></a></td><td><code>sage_setup/command/sage_install.py: WIP: Disable cleaning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0a2ed74a42cf8b575fa2cf26228e513bd69dfbd\"><code>c0a2ed7</code></a></td><td><code>src/module_list.py: Remove explicit listing of sage.graphs.graph_decompositions extensions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/acaa40913231294d75aca7fbdcd0ea4342d3ae24\"><code>acaa409</code></a></td><td><code>Merge branch 't/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6909e239c75532c164653749ac6e761fcebafce6\"><code>6909e23</code></a></td><td><code>build/pkgs/coxeter3/distros/fedora.txt: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b060ae616fdd86495dc396eb333422c5dd5fa82\"><code>2b060ae</code></a></td><td><code>src/module_list.py: Move OptionalExtension options for sage.libs.coxeter3.coxeter to distutils directive</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f0d07df87b853db3b7dfa4d0ee5d5deefa69d6b\"><code>4f0d07d</code></a></td><td><code>src/sage/libs/coxeter3/decl.pxd: Add coxeter/ prefix to all header includes; src/module_list.py: remove include_dirs option</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1497f3f08d580fb6579e8316f3e4b05d5e8d81b8\"><code>1497f3f</code></a></td><td><code>build/pkgs/coxeter3/spkg-configure.m4: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06a59119edb6d28e9b7cf8ca1bb192d7991ed5d5\"><code>06a5911</code></a></td><td><code>Merge branch 't/29721/spkg_configure_m4_for_coxeter3' into HEAD</code></td></tr></table>\n",
    "created_at": "2020-06-03T18:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468106",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9"></div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47cb57898d62e3d71ad18a4b27ea0a99ee3a982e"><code>47cb578</code></a></td><td><code>is_package_or_namespace_package_dir: Recognize namespace packages by file 'namespace'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/381a5079da7ea334410ae78e3dd6b386e93aa092"><code>381a507</code></a></td><td><code>src/module_list.py: Remove explicit list of sage.numerical.backends extensions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c51133f6e3458abf3f9303d49303e49b1b1cbb8"><code>4c51133</code></a></td><td><code>sage_setup/command/sage_install.py: WIP: Disable cleaning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0a2ed74a42cf8b575fa2cf26228e513bd69dfbd"><code>c0a2ed7</code></a></td><td><code>src/module_list.py: Remove explicit listing of sage.graphs.graph_decompositions extensions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/acaa40913231294d75aca7fbdcd0ea4342d3ae24"><code>acaa409</code></a></td><td><code>Merge branch 't/28925/modify_find_python_sources__clean_stale_files_to_support_modularization_of_sagelib_by_native_namespace_packages__pep_420_' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6909e239c75532c164653749ac6e761fcebafce6"><code>6909e23</code></a></td><td><code>build/pkgs/coxeter3/distros/fedora.txt: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b060ae616fdd86495dc396eb333422c5dd5fa82"><code>2b060ae</code></a></td><td><code>src/module_list.py: Move OptionalExtension options for sage.libs.coxeter3.coxeter to distutils directive</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f0d07df87b853db3b7dfa4d0ee5d5deefa69d6b"><code>4f0d07d</code></a></td><td><code>src/sage/libs/coxeter3/decl.pxd: Add coxeter/ prefix to all header includes; src/module_list.py: remove include_dirs option</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1497f3f08d580fb6579e8316f3e4b05d5e8d81b8"><code>1497f3f</code></a></td><td><code>build/pkgs/coxeter3/spkg-configure.m4: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06a59119edb6d28e9b7cf8ca1bb192d7991ed5d5"><code>06a5911</code></a></td><td><code>Merge branch 't/29721/spkg_configure_m4_for_coxeter3' into HEAD</code></td></tr></table>




---

archive/issue_comments_468107.json:
```json
{
    "body": "Commit: **[`06a5911`](https://github.com/sagemath/sagetrac-mirror/commit/06a59119edb6d28e9b7cf8ca1bb192d7991ed5d5)**",
    "created_at": "2020-06-03T18:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468107",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`06a5911`](https://github.com/sagemath/sagetrac-mirror/commit/06a59119edb6d28e9b7cf8ca1bb192d7991ed5d5)**



---

archive/issue_comments_468108.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -45,10 +45,10 @@\n \n - #29411: make sagelib a script package\n - #29702: Move all code from `src/setup.py` to `sage_setup`\n-- #29706: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n+- #29706, #29720, #29721, #29785, #29786: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n-- #29701: Meta-ticket: Replace use of `OptionalExtension` by namespace packages\n+- #29701 (#28925): Meta-ticket: Replace use of `OptionalExtension` by namespace packages\n \n **Related:**\n - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior\n``````\n",
    "created_at": "2020-06-03T18:25:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468108",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -45,10 +45,10 @@
 
 - #29411: make sagelib a script package
 - #29702: Move all code from `src/setup.py` to `sage_setup`
-- #29706: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
+- #29706, #29720, #29721, #29785, #29786: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
 - #21516: Fix sagelib sdist (src/setup.py sdist)
-- #29701: Meta-ticket: Replace use of `OptionalExtension` by namespace packages
+- #29701 (#28925): Meta-ticket: Replace use of `OptionalExtension` by namespace packages
 
 **Related:**
 - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior
``````




---

archive/issue_comments_468109.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -45,7 +45,7 @@\n \n - #29411: make sagelib a script package\n - #29702: Move all code from `src/setup.py` to `sage_setup`\n-- #29706, #29720, #29721, #29785, #29786: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n+- #29706, #29720, #29721, #29785, #29786, #29790: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n - #29701 (#28925): Meta-ticket: Replace use of `OptionalExtension` by namespace packages\n``````\n",
    "created_at": "2020-06-03T18:52:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468109",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -45,7 +45,7 @@
 
 - #29411: make sagelib a script package
 - #29702: Move all code from `src/setup.py` to `sage_setup`
-- #29706, #29720, #29721, #29785, #29786: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
+- #29706, #29720, #29721, #29785, #29786, #29790: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
 - #21516: Fix sagelib sdist (src/setup.py sdist)
 - #29701 (#28925): Meta-ticket: Replace use of `OptionalExtension` by namespace packages
``````




---

archive/issue_comments_468110.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55bd7bab624b37aaa1474b9de09a70d03123f97d\"><code>55bd7ba</code></a></td><td><code>src/module_list.py: Move options for Extensions in sage.graphs to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4365e5d772cabee22c9eb269b44eeed5788ae5ea\"><code>4365e5d</code></a></td><td><code>Merge branch 't/29790/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_5__sage_graphs_' into t/29705/META-modularize-sagelib</code></td></tr></table>\n",
    "created_at": "2020-06-03T19:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468110",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55bd7bab624b37aaa1474b9de09a70d03123f97d"><code>55bd7ba</code></a></td><td><code>src/module_list.py: Move options for Extensions in sage.graphs to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4365e5d772cabee22c9eb269b44eeed5788ae5ea"><code>4365e5d</code></a></td><td><code>Merge branch 't/29790/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_5__sage_graphs_' into t/29705/META-modularize-sagelib</code></td></tr></table>




---

archive/issue_comments_468111.json:
```json
{
    "body": "Changed commit from **[`06a5911`](https://github.com/sagemath/sagetrac-mirror/commit/06a59119edb6d28e9b7cf8ca1bb192d7991ed5d5)** to **[`4365e5d`](https://github.com/sagemath/sagetrac-mirror/commit/4365e5d772cabee22c9eb269b44eeed5788ae5ea)**",
    "created_at": "2020-06-03T19:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468111",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`06a5911`](https://github.com/sagemath/sagetrac-mirror/commit/06a59119edb6d28e9b7cf8ca1bb192d7991ed5d5)** to **[`4365e5d`](https://github.com/sagemath/sagetrac-mirror/commit/4365e5d772cabee22c9eb269b44eeed5788ae5ea)**



---

archive/issue_comments_468112.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d94648a8904b499a5d76df4a44e006927467bb4\"><code>7d94648</code></a></td><td><code>src/module_list.py: Move options for Extensions in sage.libs to distutils directives</code></td></tr></table>\n",
    "created_at": "2020-06-03T19:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468112",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d94648a8904b499a5d76df4a44e006927467bb4"><code>7d94648</code></a></td><td><code>src/module_list.py: Move options for Extensions in sage.libs to distutils directives</code></td></tr></table>




---

archive/issue_comments_468113.json:
```json
{
    "body": "Changed commit from **[`4365e5d`](https://github.com/sagemath/sagetrac-mirror/commit/4365e5d772cabee22c9eb269b44eeed5788ae5ea)** to **[`7d94648`](https://github.com/sagemath/sagetrac-mirror/commit/7d94648a8904b499a5d76df4a44e006927467bb4)**",
    "created_at": "2020-06-03T19:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468113",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4365e5d`](https://github.com/sagemath/sagetrac-mirror/commit/4365e5d772cabee22c9eb269b44eeed5788ae5ea)** to **[`7d94648`](https://github.com/sagemath/sagetrac-mirror/commit/7d94648a8904b499a5d76df4a44e006927467bb4)**



---

archive/issue_comments_468114.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -45,7 +45,7 @@\n \n - #29411: make sagelib a script package\n - #29702: Move all code from `src/setup.py` to `sage_setup`\n-- #29706, #29720, #29721, #29785, #29786, #29790: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n+- #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n - #29701 (#28925): Meta-ticket: Replace use of `OptionalExtension` by namespace packages\n``````\n",
    "created_at": "2020-06-03T20:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468114",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -45,7 +45,7 @@
 
 - #29411: make sagelib a script package
 - #29702: Move all code from `src/setup.py` to `sage_setup`
-- #29706, #29720, #29721, #29785, #29786, #29790: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
+- #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
 - #21516: Fix sagelib sdist (src/setup.py sdist)
 - #29701 (#28925): Meta-ticket: Replace use of `OptionalExtension` by namespace packages
``````




---

archive/issue_comments_468115.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9dc702211964cd029cb26bc78db645be22ac4416\"><code>9dc7022</code></a></td><td><code>Merge branch 't/29706/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files' into t/29791/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_6__last_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f78b06db0842b68a30310ad5471845478eb10e10\"><code>f78b06d</code></a></td><td><code>src/module_list.py: Move options for Extensions in sage.libs to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b0e29d6a6001a0d1e5a56161e0df3d80da3118a\"><code>1b0e29d</code></a></td><td><code>src/module_list.py: Move options for Extensions in sage.matrix to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6421e2c85409fef5a539299d96145e3a088826bf\"><code>6421e2c</code></a></td><td><code>src/module_list.py: Move remaining options for Extensions in sage.libs, sage.rings to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3d3d2f3baa0e1700c51b7df58a5af1aeba5acc4\"><code>b3d3d2f</code></a></td><td><code>Merge branch 't/29791/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_6__last_' into t/29705/META-modularize-sagelib</code></td></tr></table>\n",
    "created_at": "2020-06-03T20:37:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468115",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9dc702211964cd029cb26bc78db645be22ac4416"><code>9dc7022</code></a></td><td><code>Merge branch 't/29706/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files' into t/29791/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_6__last_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f78b06db0842b68a30310ad5471845478eb10e10"><code>f78b06d</code></a></td><td><code>src/module_list.py: Move options for Extensions in sage.libs to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b0e29d6a6001a0d1e5a56161e0df3d80da3118a"><code>1b0e29d</code></a></td><td><code>src/module_list.py: Move options for Extensions in sage.matrix to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6421e2c85409fef5a539299d96145e3a088826bf"><code>6421e2c</code></a></td><td><code>src/module_list.py: Move remaining options for Extensions in sage.libs, sage.rings to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3d3d2f3baa0e1700c51b7df58a5af1aeba5acc4"><code>b3d3d2f</code></a></td><td><code>Merge branch 't/29791/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_6__last_' into t/29705/META-modularize-sagelib</code></td></tr></table>




---

archive/issue_comments_468116.json:
```json
{
    "body": "Changed commit from **[`7d94648`](https://github.com/sagemath/sagetrac-mirror/commit/7d94648a8904b499a5d76df4a44e006927467bb4)** to **[`b3d3d2f`](https://github.com/sagemath/sagetrac-mirror/commit/b3d3d2f3baa0e1700c51b7df58a5af1aeba5acc4)**",
    "created_at": "2020-06-03T20:37:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468116",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7d94648`](https://github.com/sagemath/sagetrac-mirror/commit/7d94648a8904b499a5d76df4a44e006927467bb4)** to **[`b3d3d2f`](https://github.com/sagemath/sagetrac-mirror/commit/b3d3d2f3baa0e1700c51b7df58a5af1aeba5acc4)**



---

archive/issue_comments_468117.json:
```json
{
    "body": "Changed commit from **[`b3d3d2f`](https://github.com/sagemath/sagetrac-mirror/commit/b3d3d2f3baa0e1700c51b7df58a5af1aeba5acc4)** to **[`891d12a`](https://github.com/sagemath/sagetrac-mirror/commit/891d12aeacd439cd72e31d42399826f48dae624f)**",
    "created_at": "2020-06-03T21:46:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468117",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b3d3d2f`](https://github.com/sagemath/sagetrac-mirror/commit/b3d3d2f3baa0e1700c51b7df58a5af1aeba5acc4)** to **[`891d12a`](https://github.com/sagemath/sagetrac-mirror/commit/891d12aeacd439cd72e31d42399826f48dae624f)**



---

archive/issue_comments_468118.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28219340dd0eb3d939dcd0c7e9fbc89133490a0c\"><code>2821934</code></a></td><td><code>Fix sage_setup directives: Use distribution, not package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9052db45107872fd3683097061ee0b4edeefdaf4\"><code>9052db4</code></a></td><td><code>Merge branch 't/29720/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_2___optionalextensions_' into t/29705/META-modularize-sagelib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff710ee3e994c26f0a7619438f94b218f0bcb406\"><code>ff710ee</code></a></td><td><code>src/sage_setup/optional_extension.py (is_package_installed_and_updated): Factor out from OptionalExtension</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/891d12aeacd439cd72e31d42399826f48dae624f\"><code>891d12a</code></a></td><td><code>src/setup.py: Remove use of module_list.py; filter by distributions</code></td></tr></table>\n",
    "created_at": "2020-06-03T21:46:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468118",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28219340dd0eb3d939dcd0c7e9fbc89133490a0c"><code>2821934</code></a></td><td><code>Fix sage_setup directives: Use distribution, not package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9052db45107872fd3683097061ee0b4edeefdaf4"><code>9052db4</code></a></td><td><code>Merge branch 't/29720/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_2___optionalextensions_' into t/29705/META-modularize-sagelib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff710ee3e994c26f0a7619438f94b218f0bcb406"><code>ff710ee</code></a></td><td><code>src/sage_setup/optional_extension.py (is_package_installed_and_updated): Factor out from OptionalExtension</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/891d12aeacd439cd72e31d42399826f48dae624f"><code>891d12a</code></a></td><td><code>src/setup.py: Remove use of module_list.py; filter by distributions</code></td></tr></table>




---

archive/issue_comments_468119.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,6 +11,11 @@\n    b) Building and deploying a user package would be easier if it could depend on a small package such as `sage_objects` only instead of the whole multigigabyteness of Sage.\n \n 2. Remove the mechanism of `OptionalExtension`s from `sagelib`.\n+\n+   Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.\n+\n+   With this ticket, the user would instead install a new optional package `sage-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).\n+\n \n    This is #29701 Meta-ticket: Replace use of `OptionalExtension` by namespace packages\n \n@@ -46,9 +51,9 @@\n - #29411: make sagelib a script package\n - #29702: Move all code from `src/setup.py` to `sage_setup`\n - #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n+- #29701 (#28925): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n-- #29701 (#28925): Meta-ticket: Replace use of `OptionalExtension` by namespace packages\n \n **Related:**\n - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior\n``````\n",
    "created_at": "2020-06-03T21:58:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468119",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,6 +11,11 @@
    b) Building and deploying a user package would be easier if it could depend on a small package such as `sage_objects` only instead of the whole multigigabyteness of Sage.
 
 2. Remove the mechanism of `OptionalExtension`s from `sagelib`.
+
+   Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.
+
+   With this ticket, the user would instead install a new optional package `sage-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).
+
 
    This is #29701 Meta-ticket: Replace use of `OptionalExtension` by namespace packages
 
@@ -46,9 +51,9 @@
 - #29411: make sagelib a script package
 - #29702: Move all code from `src/setup.py` to `sage_setup`
 - #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
+- #29701 (#28925): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
 - #21516: Fix sagelib sdist (src/setup.py sdist)
-- #29701 (#28925): Meta-ticket: Replace use of `OptionalExtension` by namespace packages
 
 **Related:**
 - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior
``````




---

archive/issue_comments_468120.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -58,3 +58,10 @@\n **Related:**\n - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior\n - https://wiki.sagemath.org/CodeSharingWorkflow\n+\n+\n+\n+The branch on this meta-ticket is not intended for merging.\n+It is an integration branch to facilitate testing. See https://github.com/mkoeppe/sage/pull/35 for automated tests\n+\n+\n``````\n",
    "created_at": "2020-06-03T22:00:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468120",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -58,3 +58,10 @@
 **Related:**
 - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior
 - https://wiki.sagemath.org/CodeSharingWorkflow
+
+
+
+The branch on this meta-ticket is not intended for merging.
+It is an integration branch to facilitate testing. See https://github.com/mkoeppe/sage/pull/35 for automated tests
+
+
``````




---

archive/issue_events_405672.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-03T22:08:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "title_is": "Meta-ticket: Modularize sagelib into separate distributions (distutils packages)",
    "title_was": "Meta-ticket: Modularize sagelib into separate distutils packages",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405672"
}
```



---

archive/issue_comments_468121.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,9 +15,6 @@\n    Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.\n \n    With this ticket, the user would instead install a new optional package `sage-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).\n-\n-\n-   This is #29701 Meta-ticket: Replace use of `OptionalExtension` by namespace packages\n \n \n **Not** within the scope of this ticket:\n``````\n",
    "created_at": "2020-06-03T22:11:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468121",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,9 +15,6 @@
    Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.
 
    With this ticket, the user would instead install a new optional package `sage-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).
-
-
-   This is #29701 Meta-ticket: Replace use of `OptionalExtension` by namespace packages
 
 
 **Not** within the scope of this ticket:
``````




---

archive/issue_comments_468122.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -48,8 +48,9 @@\n - #29411: make sagelib a script package\n - #29702: Move all code from `src/setup.py` to `sage_setup`\n - #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n-- #29701 (#28925): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`\n+- #29701 (depends on all of the above): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n+- #28925 Modify find_python_sources, clean_stale_files to support modularization of sagelib by native namespace packages (PEP 420)\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n \n **Related:**\n``````\n",
    "created_at": "2020-06-03T23:12:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468122",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -48,8 +48,9 @@
 - #29411: make sagelib a script package
 - #29702: Move all code from `src/setup.py` to `sage_setup`
 - #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
-- #29701 (#28925): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`
+- #29701 (depends on all of the above): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
+- #28925 Modify find_python_sources, clean_stale_files to support modularization of sagelib by native namespace packages (PEP 420)
 - #21516: Fix sagelib sdist (src/setup.py sdist)
 
 **Related:**
``````




---

archive/issue_comments_468123.json:
```json
{
    "body": "Changed commit from **[`891d12a`](https://github.com/sagemath/sagetrac-mirror/commit/891d12aeacd439cd72e31d42399826f48dae624f)** to **[`bd26ddf`](https://github.com/sagemath/sagetrac-mirror/commit/bd26ddfc501e27f8c0544833358ce9887b023b9d)**",
    "created_at": "2020-06-03T23:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468123",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`891d12a`](https://github.com/sagemath/sagetrac-mirror/commit/891d12aeacd439cd72e31d42399826f48dae624f)** to **[`bd26ddf`](https://github.com/sagemath/sagetrac-mirror/commit/bd26ddfc501e27f8c0544833358ce9887b023b9d)**



---

archive/issue_comments_468124.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0295c8f09cb6e01f60694084cfe758152041b68b\"><code>0295c8f</code></a></td><td><code>src/module_list.py: Move options for Extensions in sage.graphs.graph_decompositions to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b582789cc861ab8231236e33de8c1e400b1b864a\"><code>b582789</code></a></td><td><code>src/sage_setup/find.py: Filter by directive 'sage_setup: distribution = PKG', find Cython modules</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63c64d515784312451586e9930393a2d575b5d0e\"><code>63c64d5</code></a></td><td><code>Merge branches 't/29720/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_2___optionalextensions_', 't/29721/spkg_configure_m4_for_coxeter3', 't/29785/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_3__get_rid_of_uname_specific_', 't/29786/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_4__sage_rings_', 't/29790/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_5__sage_graphs_' and 't/29791/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_6__last_' into t/29701/replace_use_of_module_list_optionalextension</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae70c81c7a3a8c2713330cb407bbc08dac27bb5e\"><code>ae70c81</code></a></td><td><code>src/sage_setup/optional_extension.py (is_package_installed_and_updated): Factor out from OptionalExtension</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec7e9c599aebbec9b8a9227399cf6b8793dccd72\"><code>ec7e9c5</code></a></td><td><code>src/setup.py: Remove use of module_list.py; filter by distributions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd26ddfc501e27f8c0544833358ce9887b023b9d\"><code>bd26ddf</code></a></td><td><code>Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29705/META-modularize-sagelib</code></td></tr></table>\n",
    "created_at": "2020-06-03T23:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468124",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0295c8f09cb6e01f60694084cfe758152041b68b"><code>0295c8f</code></a></td><td><code>src/module_list.py: Move options for Extensions in sage.graphs.graph_decompositions to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b582789cc861ab8231236e33de8c1e400b1b864a"><code>b582789</code></a></td><td><code>src/sage_setup/find.py: Filter by directive 'sage_setup: distribution = PKG', find Cython modules</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63c64d515784312451586e9930393a2d575b5d0e"><code>63c64d5</code></a></td><td><code>Merge branches 't/29720/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_2___optionalextensions_', 't/29721/spkg_configure_m4_for_coxeter3', 't/29785/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_3__get_rid_of_uname_specific_', 't/29786/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_4__sage_rings_', 't/29790/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_5__sage_graphs_' and 't/29791/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_6__last_' into t/29701/replace_use_of_module_list_optionalextension</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae70c81c7a3a8c2713330cb407bbc08dac27bb5e"><code>ae70c81</code></a></td><td><code>src/sage_setup/optional_extension.py (is_package_installed_and_updated): Factor out from OptionalExtension</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec7e9c599aebbec9b8a9227399cf6b8793dccd72"><code>ec7e9c5</code></a></td><td><code>src/setup.py: Remove use of module_list.py; filter by distributions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd26ddfc501e27f8c0544833358ce9887b023b9d"><code>bd26ddf</code></a></td><td><code>Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29705/META-modularize-sagelib</code></td></tr></table>




---

archive/issue_comments_468125.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -51,6 +51,7 @@\n - #29701 (depends on all of the above): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n - #28925 Modify find_python_sources, clean_stale_files to support modularization of sagelib by native namespace packages (PEP 420)\n+- Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`; or use our `sage_install` command, which installs in the same format.\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n \n **Related:**\n``````\n",
    "created_at": "2020-06-04T06:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468125",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -51,6 +51,7 @@
 - #29701 (depends on all of the above): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
 - #28925 Modify find_python_sources, clean_stale_files to support modularization of sagelib by native namespace packages (PEP 420)
+- Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`; or use our `sage_install` command, which installs in the same format.
 - #21516: Fix sagelib sdist (src/setup.py sdist)
 
 **Related:**
``````




---

archive/issue_comments_468126.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38b6bcfa65c52d0cc07d1eaf66ece3e6d586dc05\"><code>38b6bcf</code></a></td><td><code>Merge tag '9.2.beta0' into t/29411/make_sagelib_a_script_package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9a30f60f7bcd47b5e3c781f0ad625e315765cea\"><code>f9a30f6</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Fix up error exits</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00a1d57d06a8b3e4bbf67876900e8c6d24a33cc2\"><code>00a1d57</code></a></td><td><code>Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25a234059991c56df9b046700980cb1d194a32e5\"><code>25a2340</code></a></td><td><code>Merge branch 't/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup' into t/29701/replace_use_of_module_list_optionalextension</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7bd69e93857a40888f05b6e7354b83305b6e3c6\"><code>d7bd69e</code></a></td><td><code>Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29705/META-modularize-sagelib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d866a3bab2a1d55bc85fcae4f30d384498bcc12\"><code>2d866a3</code></a></td><td><code>src/sage/graphs/graph_decompositions/tdlib.pyx: Fixup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14f488fcf26cae9d4ea31174bea5cd655059c78d\"><code>14f488f</code></a></td><td><code>Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29705/META-modularize-sagelib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d9f6535fdea330ab25a9587261be56366fa6f27\"><code>0d9f653</code></a></td><td><code>WIP: Add sage_tdlib package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26b557545a62fbcea64df8391be097098e6dbaa1\"><code>26b5575</code></a></td><td><code>Use sage_install</code></td></tr></table>\n",
    "created_at": "2020-06-04T06:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468126",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38b6bcfa65c52d0cc07d1eaf66ece3e6d586dc05"><code>38b6bcf</code></a></td><td><code>Merge tag '9.2.beta0' into t/29411/make_sagelib_a_script_package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9a30f60f7bcd47b5e3c781f0ad625e315765cea"><code>f9a30f6</code></a></td><td><code>build/pkgs/sagelib/spkg-install: Fix up error exits</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00a1d57d06a8b3e4bbf67876900e8c6d24a33cc2"><code>00a1d57</code></a></td><td><code>Merge branch 't/29411/make_sagelib_a_script_package' into t/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25a234059991c56df9b046700980cb1d194a32e5"><code>25a2340</code></a></td><td><code>Merge branch 't/29702/move_all_code_from_src_setup_py__src_fpickle_setup_py_to_sage_setup' into t/29701/replace_use_of_module_list_optionalextension</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7bd69e93857a40888f05b6e7354b83305b6e3c6"><code>d7bd69e</code></a></td><td><code>Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29705/META-modularize-sagelib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d866a3bab2a1d55bc85fcae4f30d384498bcc12"><code>2d866a3</code></a></td><td><code>src/sage/graphs/graph_decompositions/tdlib.pyx: Fixup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14f488fcf26cae9d4ea31174bea5cd655059c78d"><code>14f488f</code></a></td><td><code>Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29705/META-modularize-sagelib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d9f6535fdea330ab25a9587261be56366fa6f27"><code>0d9f653</code></a></td><td><code>WIP: Add sage_tdlib package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26b557545a62fbcea64df8391be097098e6dbaa1"><code>26b5575</code></a></td><td><code>Use sage_install</code></td></tr></table>




---

archive/issue_comments_468127.json:
```json
{
    "body": "Changed commit from **[`bd26ddf`](https://github.com/sagemath/sagetrac-mirror/commit/bd26ddfc501e27f8c0544833358ce9887b023b9d)** to **[`26b5575`](https://github.com/sagemath/sagetrac-mirror/commit/26b557545a62fbcea64df8391be097098e6dbaa1)**",
    "created_at": "2020-06-04T06:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468127",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bd26ddf`](https://github.com/sagemath/sagetrac-mirror/commit/bd26ddfc501e27f8c0544833358ce9887b023b9d)** to **[`26b5575`](https://github.com/sagemath/sagetrac-mirror/commit/26b557545a62fbcea64df8391be097098e6dbaa1)**



---

archive/issue_comments_468128.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -52,6 +52,7 @@\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n - #28925 Modify find_python_sources, clean_stale_files to support modularization of sagelib by native namespace packages (PEP 420)\n - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`; or use our `sage_install` command, which installs in the same format.\n+- Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n \n **Related:**\n``````\n",
    "created_at": "2020-06-10T00:08:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468128",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -52,6 +52,7 @@
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
 - #28925 Modify find_python_sources, clean_stale_files to support modularization of sagelib by native namespace packages (PEP 420)
 - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`; or use our `sage_install` command, which installs in the same format.
+- Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #21516: Fix sagelib sdist (src/setup.py sdist)
 
 **Related:**
``````




---

archive/issue_comments_468129.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -50,7 +50,9 @@\n - #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n - #29701 (depends on all of the above): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n-- #28925 Modify find_python_sources, clean_stale_files to support modularization of sagelib by native namespace packages (PEP 420)\n+- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n+- #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`\n+- #13190: make `sagelib` use `setuptools` instead of `distutils`\n - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`; or use our `sage_install` command, which installs in the same format.\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n``````\n",
    "created_at": "2020-06-11T01:18:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468129",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -50,7 +50,9 @@
 - #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
 - #29701 (depends on all of the above): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
-- #28925 Modify find_python_sources, clean_stale_files to support modularization of sagelib by native namespace packages (PEP 420)
+- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
+- #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`
+- #13190: make `sagelib` use `setuptools` instead of `distutils`
 - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`; or use our `sage_install` command, which installs in the same format.
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #21516: Fix sagelib sdist (src/setup.py sdist)
``````




---

archive/issue_comments_468130.json:
```json
{
    "body": "Changed commit from **[`26b5575`](https://github.com/sagemath/sagetrac-mirror/commit/26b557545a62fbcea64df8391be097098e6dbaa1)** to **[`7dd469f`](https://github.com/sagemath/sagetrac-mirror/commit/7dd469fdf92a45b80049cd0583c75550ce1032ff)**",
    "created_at": "2020-06-11T01:19:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468130",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`26b5575`](https://github.com/sagemath/sagetrac-mirror/commit/26b557545a62fbcea64df8391be097098e6dbaa1)** to **[`7dd469f`](https://github.com/sagemath/sagetrac-mirror/commit/7dd469fdf92a45b80049cd0583c75550ce1032ff)**



---

archive/issue_comments_468131.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29327d3e016de60f4b00eca08a736a41289bdf6f\"><code>29327d3</code></a></td><td><code>build/pkgs/entrypoints: Do not provide setup.py, not needed for entrypoints 0.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bcc79a58fd55c296cb07a73d89e459c23c9dfc9a\"><code>bcc79a5</code></a></td><td><code>build/pkgs/entrypoints/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/361b98baa71b32dd1647552ad3f723f0e75d22d1\"><code>361b98b</code></a></td><td><code>build/pkgs/terminado/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5040d7ec7c28438800edcd84291413ae7f7dba9c\"><code>5040d7e</code></a></td><td><code>build/pkgs/testpath/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0\"><code>371ede6</code></a></td><td><code>build/pkgs/zope_interface: Change to a dummy script package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7c63df147e82fad1870d392f20527ded5f0d131\"><code>b7c63df</code></a></td><td><code>Merge branch 't/29803/upgrade_setuptools__pip__2020_06_' into t/29705/META-modularize-sagelib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f33436229fd87b47aa0dc255d475f92f7d88ac2\"><code>5f33436</code></a></td><td><code>src/setup.py: from setuptools import setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93bbbfe75f162368247a04d0023e95628ef8ec13\"><code>93bbbfe</code></a></td><td><code>Add src/setup.cfg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7de6c0b7a79d87dd746e409d171900a9bef3b60\"><code>a7de6c0</code></a></td><td><code>Merge branch 't/13190/make_sagelib_use_setuptools_instead_of_distutils' into t/29705/META-modularize-sagelib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dd469fdf92a45b80049cd0583c75550ce1032ff\"><code>7dd469f</code></a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr></table>\n",
    "created_at": "2020-06-11T01:19:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468131",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29327d3e016de60f4b00eca08a736a41289bdf6f"><code>29327d3</code></a></td><td><code>build/pkgs/entrypoints: Do not provide setup.py, not needed for entrypoints 0.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bcc79a58fd55c296cb07a73d89e459c23c9dfc9a"><code>bcc79a5</code></a></td><td><code>build/pkgs/entrypoints/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/361b98baa71b32dd1647552ad3f723f0e75d22d1"><code>361b98b</code></a></td><td><code>build/pkgs/terminado/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5040d7ec7c28438800edcd84291413ae7f7dba9c"><code>5040d7e</code></a></td><td><code>build/pkgs/testpath/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0"><code>371ede6</code></a></td><td><code>build/pkgs/zope_interface: Change to a dummy script package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7c63df147e82fad1870d392f20527ded5f0d131"><code>b7c63df</code></a></td><td><code>Merge branch 't/29803/upgrade_setuptools__pip__2020_06_' into t/29705/META-modularize-sagelib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f33436229fd87b47aa0dc255d475f92f7d88ac2"><code>5f33436</code></a></td><td><code>src/setup.py: from setuptools import setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93bbbfe75f162368247a04d0023e95628ef8ec13"><code>93bbbfe</code></a></td><td><code>Add src/setup.cfg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7de6c0b7a79d87dd746e409d171900a9bef3b60"><code>a7de6c0</code></a></td><td><code>Merge branch 't/13190/make_sagelib_use_setuptools_instead_of_distutils' into t/29705/META-modularize-sagelib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dd469fdf92a45b80049cd0583c75550ce1032ff"><code>7dd469f</code></a></td><td><code>WIP: Add sage_tdlib package, use symlinks for sagelib package</code></td></tr></table>




---

archive/issue_comments_468132.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -53,6 +53,7 @@\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`\n - #13190: make `sagelib` use `setuptools` instead of `distutils`\n+- #29845: PEP 517 `buildapi` for `sage_setup`\n - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`; or use our `sage_install` command, which installs in the same format.\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n``````\n",
    "created_at": "2020-06-11T02:27:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468132",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -53,6 +53,7 @@
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`
 - #13190: make `sagelib` use `setuptools` instead of `distutils`
+- #29845: PEP 517 `buildapi` for `sage_setup`
 - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`; or use our `sage_install` command, which installs in the same format.
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #21516: Fix sagelib sdist (src/setup.py sdist)
``````




---

archive/issue_comments_468133.json:
```json
{
    "body": "Changed commit from **[`7dd469f`](https://github.com/sagemath/sagetrac-mirror/commit/7dd469fdf92a45b80049cd0583c75550ce1032ff)** to **[`24e9b30`](https://github.com/sagemath/sagetrac-mirror/commit/24e9b30a3a67069dcd4374da9c2fef57a1127d3c)**",
    "created_at": "2020-06-11T02:52:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468133",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7dd469f`](https://github.com/sagemath/sagetrac-mirror/commit/7dd469fdf92a45b80049cd0583c75550ce1032ff)** to **[`24e9b30`](https://github.com/sagemath/sagetrac-mirror/commit/24e9b30a3a67069dcd4374da9c2fef57a1127d3c)**



---

archive/issue_comments_468134.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24e9b30a3a67069dcd4374da9c2fef57a1127d3c\"><code>24e9b30</code></a></td><td><code>build/pkgs/sage_tdlib/src/MANIFEST.in: New</code></td></tr></table>\n",
    "created_at": "2020-06-11T02:52:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468134",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24e9b30a3a67069dcd4374da9c2fef57a1127d3c"><code>24e9b30</code></a></td><td><code>build/pkgs/sage_tdlib/src/MANIFEST.in: New</code></td></tr></table>




---

archive/issue_comments_468135.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b59435fd22b5dc984d0f069919662a60064d096\"><code>9b59435</code></a></td><td><code>fixup symlinks</code></td></tr></table>\n",
    "created_at": "2020-06-11T03:56:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468135",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b59435fd22b5dc984d0f069919662a60064d096"><code>9b59435</code></a></td><td><code>fixup symlinks</code></td></tr></table>




---

archive/issue_comments_468136.json:
```json
{
    "body": "Changed commit from **[`24e9b30`](https://github.com/sagemath/sagetrac-mirror/commit/24e9b30a3a67069dcd4374da9c2fef57a1127d3c)** to **[`9b59435`](https://github.com/sagemath/sagetrac-mirror/commit/9b59435fd22b5dc984d0f069919662a60064d096)**",
    "created_at": "2020-06-11T03:56:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468136",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`24e9b30`](https://github.com/sagemath/sagetrac-mirror/commit/24e9b30a3a67069dcd4374da9c2fef57a1127d3c)** to **[`9b59435`](https://github.com/sagemath/sagetrac-mirror/commit/9b59435fd22b5dc984d0f069919662a60064d096)**



---

archive/issue_comments_468137.json:
```json
{
    "body": "Changed commit from **[`9b59435`](https://github.com/sagemath/sagetrac-mirror/commit/9b59435fd22b5dc984d0f069919662a60064d096)** to **[`19e061d`](https://github.com/sagemath/sagetrac-mirror/commit/19e061d300198bb387b9f057af7b1128dcd23e90)**",
    "created_at": "2020-06-11T06:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468137",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9b59435`](https://github.com/sagemath/sagetrac-mirror/commit/9b59435fd22b5dc984d0f069919662a60064d096)** to **[`19e061d`](https://github.com/sagemath/sagetrac-mirror/commit/19e061d300198bb387b9f057af7b1128dcd23e90)**



---

archive/issue_comments_468138.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60ed86cf1a80d0f9c324acb017821ba247d3c5e3\"><code>60ed86c</code></a></td><td><code>src/setup.py: WIP: Do not use sage_install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19e061d300198bb387b9f057af7b1128dcd23e90\"><code>19e061d</code></a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr></table>\n",
    "created_at": "2020-06-11T06:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468138",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60ed86cf1a80d0f9c324acb017821ba247d3c5e3"><code>60ed86c</code></a></td><td><code>src/setup.py: WIP: Do not use sage_install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19e061d300198bb387b9f057af7b1128dcd23e90"><code>19e061d</code></a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr></table>




---

archive/issue_comments_468139.json:
```json
{
    "body": "Changed commit from **[`19e061d`](https://github.com/sagemath/sagetrac-mirror/commit/19e061d300198bb387b9f057af7b1128dcd23e90)** to **[`c3593b2`](https://github.com/sagemath/sagetrac-mirror/commit/c3593b2c75a5930108bea71ee4143301487ed65d)**",
    "created_at": "2020-06-11T07:07:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468139",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`19e061d`](https://github.com/sagemath/sagetrac-mirror/commit/19e061d300198bb387b9f057af7b1128dcd23e90)** to **[`c3593b2`](https://github.com/sagemath/sagetrac-mirror/commit/c3593b2c75a5930108bea71ee4143301487ed65d)**



---

archive/issue_comments_468140.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3593b2c75a5930108bea71ee4143301487ed65d\"><code>c3593b2</code></a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr></table>\n",
    "created_at": "2020-06-11T07:07:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468140",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3593b2c75a5930108bea71ee4143301487ed65d"><code>c3593b2</code></a></td><td><code>build/pkgs/sage_tdlib/src/sage_setup: Remove, we use the installed one</code></td></tr></table>




---

archive/issue_comments_468141.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -24,6 +24,8 @@\n - It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distutils packages. \n \n **Constraints and challenges:**\n+\n+- Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850)\n \n - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).\n \n``````\n",
    "created_at": "2020-06-13T01:03:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468141",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -24,6 +24,8 @@
 - It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distutils packages. 
 
 **Constraints and challenges:**
+
+- Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850)
 
 - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).
 
``````




---

archive/issue_comments_468142.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -25,7 +25,7 @@\n \n **Constraints and challenges:**\n \n-- Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850)\n+- Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).\n \n - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).\n \n``````\n",
    "created_at": "2020-06-14T05:37:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468142",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -25,7 +25,7 @@
 
 **Constraints and challenges:**
 
-- Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850)
+- Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).
 
 - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).
 
``````




---

archive/issue_comments_468143.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,6 +26,8 @@\n **Constraints and challenges:**\n \n - Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).\n+\n+  Solution: Do not use pip for installations from local source directories.  Use `setup.py install` (distutils) directly; or use `setup.py sdist`, followed by `pip install` of the sdist; or use a custom PEP 517 backend (#29845) for making an sdist, followed by `pip install` of the sdist.\n \n - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).\n \n``````\n",
    "created_at": "2020-06-14T06:12:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468143",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,6 +26,8 @@
 **Constraints and challenges:**
 
 - Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).
+
+  Solution: Do not use pip for installations from local source directories.  Use `setup.py install` (distutils) directly; or use `setup.py sdist`, followed by `pip install` of the sdist; or use a custom PEP 517 backend (#29845) for making an sdist, followed by `pip install` of the sdist.
 
 - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).
 
``````




---

archive/issue_comments_468144.json:
```json
{
    "body": "Changed commit from **[`c3593b2`](https://github.com/sagemath/sagetrac-mirror/commit/c3593b2c75a5930108bea71ee4143301487ed65d)** to **[`458d851`](https://github.com/sagemath/sagetrac-mirror/commit/458d8514eec1cfdaaf351d61e667636e6cd0b025)**",
    "created_at": "2020-06-15T01:17:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468144",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c3593b2`](https://github.com/sagemath/sagetrac-mirror/commit/c3593b2c75a5930108bea71ee4143301487ed65d)** to **[`458d851`](https://github.com/sagemath/sagetrac-mirror/commit/458d8514eec1cfdaaf351d61e667636e6cd0b025)**



---

archive/issue_comments_468145.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2612091eb6c9b08fffa245e2f70d53141ba887b0\"><code>2612091</code></a></td><td><code>Use setup.py install --single-version-externally-managed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/458d8514eec1cfdaaf351d61e667636e6cd0b025\"><code>458d851</code></a></td><td><code>build/pkgs/sage_tdlib/spkg-src: New</code></td></tr></table>\n",
    "created_at": "2020-06-15T01:17:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468145",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2612091eb6c9b08fffa245e2f70d53141ba887b0"><code>2612091</code></a></td><td><code>Use setup.py install --single-version-externally-managed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/458d8514eec1cfdaaf351d61e667636e6cd0b025"><code>458d851</code></a></td><td><code>build/pkgs/sage_tdlib/spkg-src: New</code></td></tr></table>




---

archive/issue_comments_468146.json:
```json
{
    "body": "Changed commit from **[`458d851`](https://github.com/sagemath/sagetrac-mirror/commit/458d8514eec1cfdaaf351d61e667636e6cd0b025)** to **[`7042564`](https://github.com/sagemath/sagetrac-mirror/commit/70425649041b04e5d2a04d755f7577f4e8ff1237)**",
    "created_at": "2020-06-15T02:25:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468146",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`458d851`](https://github.com/sagemath/sagetrac-mirror/commit/458d8514eec1cfdaaf351d61e667636e6cd0b025)** to **[`7042564`](https://github.com/sagemath/sagetrac-mirror/commit/70425649041b04e5d2a04d755f7577f4e8ff1237)**



---

archive/issue_comments_468147.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d4e8e7497e07271b8a5cb8b49dd90a4e26a0daf\"><code>5d4e8e7</code></a></td><td><code>build/pkgs/sage_tdlib/dependencies: Add sagelib, python toolchain</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70425649041b04e5d2a04d755f7577f4e8ff1237\"><code>7042564</code></a></td><td><code>build/pkgs/sagelib/spkg-src: New</code></td></tr></table>\n",
    "created_at": "2020-06-15T02:25:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468147",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d4e8e7497e07271b8a5cb8b49dd90a4e26a0daf"><code>5d4e8e7</code></a></td><td><code>build/pkgs/sage_tdlib/dependencies: Add sagelib, python toolchain</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70425649041b04e5d2a04d755f7577f4e8ff1237"><code>7042564</code></a></td><td><code>build/pkgs/sagelib/spkg-src: New</code></td></tr></table>




---

archive/issue_comments_468148.json:
```json
{
    "body": "Changed commit from **[`7042564`](https://github.com/sagemath/sagetrac-mirror/commit/70425649041b04e5d2a04d755f7577f4e8ff1237)** to **[`90b33d8`](https://github.com/sagemath/sagetrac-mirror/commit/90b33d8a76b22ddada6c5be808c7720da8b803a9)**",
    "created_at": "2020-06-15T04:03:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468148",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7042564`](https://github.com/sagemath/sagetrac-mirror/commit/70425649041b04e5d2a04d755f7577f4e8ff1237)** to **[`90b33d8`](https://github.com/sagemath/sagetrac-mirror/commit/90b33d8a76b22ddada6c5be808c7720da8b803a9)**



---

archive/issue_comments_468149.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90b33d8a76b22ddada6c5be808c7720da8b803a9\"><code>90b33d8</code></a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>\n",
    "created_at": "2020-06-15T04:03:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468149",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90b33d8a76b22ddada6c5be808c7720da8b803a9"><code>90b33d8</code></a></td><td><code>Install sagelib, sage_tdlib via sdist defined by MANIFEST.in</code></td></tr></table>




---

archive/issue_comments_468150.json:
```json
{
    "body": "Changed commit from **[`90b33d8`](https://github.com/sagemath/sagetrac-mirror/commit/90b33d8a76b22ddada6c5be808c7720da8b803a9)** to **[`2ccf6b7`](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)**",
    "created_at": "2020-06-15T04:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468150",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`90b33d8`](https://github.com/sagemath/sagetrac-mirror/commit/90b33d8a76b22ddada6c5be808c7720da8b803a9)** to **[`2ccf6b7`](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)**



---

archive/issue_comments_468151.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31\"><code>2ccf6b7</code></a></td><td><code>Merge tag '9.2.beta1' into t/29705/META-modularize-sagelib</code></td></tr></table>\n",
    "created_at": "2020-06-15T04:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468151",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31"><code>2ccf6b7</code></a></td><td><code>Merge tag '9.2.beta1' into t/29705/META-modularize-sagelib</code></td></tr></table>




---

archive/issue_comments_468152.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -56,9 +56,10 @@\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`\n+- Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.\n+   - #29864: Modularization of sagelib: Break out a separate package sage-tdlib\n - #13190: make `sagelib` use `setuptools` instead of `distutils`\n - #29845: PEP 517 `buildapi` for `sage_setup`\n-- Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`; or use our `sage_install` command, which installs in the same format.\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n \n``````\n",
    "created_at": "2020-06-15T04:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468152",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -56,9 +56,10 @@
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`
+- Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.
+   - #29864: Modularization of sagelib: Break out a separate package sage-tdlib
 - #13190: make `sagelib` use `setuptools` instead of `distutils`
 - #29845: PEP 517 `buildapi` for `sage_setup`
-- Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`; or use our `sage_install` command, which installs in the same format.
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #21516: Fix sagelib sdist (src/setup.py sdist)
 
``````




---

archive/issue_comments_468153.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,13 +2,13 @@\n \n Modularize sagelib into separate distutils packages, so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI. The goal would be to do this **without changing the overall structure of the source tree**.\n \n-1. In particular, create a package `sage_objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n+1. In particular, create a package `sage-objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n \n-   (Doctesting `sage_objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)\n+   (Doctesting `sage-objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)\n \n-   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sage_objects` could be ported for use with PyPy instead of CPython.\n+   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sage-objects` could be ported for use with PyPy instead of CPython.\n \n-   b) Building and deploying a user package would be easier if it could depend on a small package such as `sage_objects` only instead of the whole multigigabyteness of Sage.\n+   b) Building and deploying a user package would be easier if it could depend on a small package such as `sage-objects` only instead of the whole multigigabyteness of Sage.\n \n 2. Remove the mechanism of `OptionalExtension`s from `sagelib`.\n \n@@ -57,7 +57,8 @@\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`\n - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.\n-   - #29864: Modularization of sagelib: Break out a separate package sage-tdlib\n+   - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`\n+   - #29865: Modularization of sagelib: Break out a separate package `sage-objects`\n - #13190: make `sagelib` use `setuptools` instead of `distutils`\n - #29845: PEP 517 `buildapi` for `sage_setup`\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n``````\n",
    "created_at": "2020-06-15T04:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468153",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,13 +2,13 @@
 
 Modularize sagelib into separate distutils packages, so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI. The goal would be to do this **without changing the overall structure of the source tree**.
 
-1. In particular, create a package `sage_objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
+1. In particular, create a package `sage-objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
 
-   (Doctesting `sage_objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)
+   (Doctesting `sage-objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)
 
-   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sage_objects` could be ported for use with PyPy instead of CPython.
+   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sage-objects` could be ported for use with PyPy instead of CPython.
 
-   b) Building and deploying a user package would be easier if it could depend on a small package such as `sage_objects` only instead of the whole multigigabyteness of Sage.
+   b) Building and deploying a user package would be easier if it could depend on a small package such as `sage-objects` only instead of the whole multigigabyteness of Sage.
 
 2. Remove the mechanism of `OptionalExtension`s from `sagelib`.
 
@@ -57,7 +57,8 @@
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`
 - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.
-   - #29864: Modularization of sagelib: Break out a separate package sage-tdlib
+   - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`
+   - #29865: Modularization of sagelib: Break out a separate package `sage-objects`
 - #13190: make `sagelib` use `setuptools` instead of `distutils`
 - #29845: PEP 517 `buildapi` for `sage_setup`
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
``````




---

archive/issue_comments_468154.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -35,7 +35,13 @@\n \n - The category framework cannot live without the integers (e.g. the output of `.cardinality()` expects an integer). \n \n-  Possible solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sage_objects` need to create an integer, they should obtain the appropriate class of integers in the same way.\n+  Possible solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sage_objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):\n+\n+   ```\n+   sage: py_scalar_parent(int)\n+   Integer Ring\n+   ```\n+  #29875 will make this implementation dynamic.\n \n - Imports in `sage.categories`:\n \n@@ -63,6 +69,8 @@\n - #29845: PEP 517 `buildapi` for `sage_setup`\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n+- #29874: Mock integer class\n+- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n \n **Related:**\n - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior\n``````\n",
    "created_at": "2020-06-16T19:25:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468154",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -35,7 +35,13 @@
 
 - The category framework cannot live without the integers (e.g. the output of `.cardinality()` expects an integer). 
 
-  Possible solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sage_objects` need to create an integer, they should obtain the appropriate class of integers in the same way.
+  Possible solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sage_objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):
+
+   ```
+   sage: py_scalar_parent(int)
+   Integer Ring
+   ```
+  #29875 will make this implementation dynamic.
 
 - Imports in `sage.categories`:
 
@@ -63,6 +69,8 @@
 - #29845: PEP 517 `buildapi` for `sage_setup`
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #21516: Fix sagelib sdist (src/setup.py sdist)
+- #29874: Mock integer class
+- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 
 **Related:**
 - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior
``````




---

archive/issue_comments_468155.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -71,6 +71,7 @@\n - #21516: Fix sagelib sdist (src/setup.py sdist)\n - #29874: Mock integer class\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n+- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n \n **Related:**\n - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior\n``````\n",
    "created_at": "2020-06-16T19:36:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468155",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -71,6 +71,7 @@
 - #21516: Fix sagelib sdist (src/setup.py sdist)
 - #29874: Mock integer class
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
+- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
 
 **Related:**
 - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior
``````




---

archive/issue_comments_468156.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -65,6 +65,7 @@\n - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`\n    - #29865: Modularization of sagelib: Break out a separate package `sage-objects`\n+   - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`\n - #13190: make `sagelib` use `setuptools` instead of `distutils`\n - #29845: PEP 517 `buildapi` for `sage_setup`\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n``````\n",
    "created_at": "2020-06-20T04:43:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468156",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -65,6 +65,7 @@
 - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`
    - #29865: Modularization of sagelib: Break out a separate package `sage-objects`
+   - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`
 - #13190: make `sagelib` use `setuptools` instead of `distutils`
 - #29845: PEP 517 `buildapi` for `sage_setup`
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
``````




---

archive/issue_comments_468157.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -64,7 +64,7 @@\n - #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`\n - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`\n-   - #29865: Modularization of sagelib: Break out a separate package `sage-objects`\n+   - #29865: Modularization of sagelib: Break out separate packages `sage-objects`, `sage-categories`\n    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`\n - #13190: make `sagelib` use `setuptools` instead of `distutils`\n - #29845: PEP 517 `buildapi` for `sage_setup`\n``````\n",
    "created_at": "2020-06-20T17:30:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468157",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -64,7 +64,7 @@
 - #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`
 - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`
-   - #29865: Modularization of sagelib: Break out a separate package `sage-objects`
+   - #29865: Modularization of sagelib: Break out separate packages `sage-objects`, `sage-categories`
    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`
 - #13190: make `sagelib` use `setuptools` instead of `distutils`
 - #29845: PEP 517 `buildapi` for `sage_setup`
``````




---

archive/issue_comments_468158.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -66,6 +66,7 @@\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`\n    - #29865: Modularization of sagelib: Break out separate packages `sage-objects`, `sage-categories`\n    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`\n+   - #29941: Modularization of sagelib: Break out a separate package `sage-repl`\n - #13190: make `sagelib` use `setuptools` instead of `distutils`\n - #29845: PEP 517 `buildapi` for `sage_setup`\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n``````\n",
    "created_at": "2020-06-22T23:56:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468158",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -66,6 +66,7 @@
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`
    - #29865: Modularization of sagelib: Break out separate packages `sage-objects`, `sage-categories`
    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`
+   - #29941: Modularization of sagelib: Break out a separate package `sage-repl`
 - #13190: make `sagelib` use `setuptools` instead of `distutils`
 - #29845: PEP 517 `buildapi` for `sage_setup`
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
``````




---

archive/issue_comments_468159.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -53,24 +53,31 @@\n \n   One can try to not populate the whole category system.\n \n-**Tickets and steps:**\n+**Tickets for Sage 9.2:**\n \n - #29411: make sagelib a script package\n - #29702: Move all code from `src/setup.py` to `sage_setup`\n - #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files\n - #29701 (depends on all of the above): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n+- #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`\n+- #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make\n+- #29850: Install `sage-env-config` as part of `sage_conf`\n+- Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n+- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\"\n+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist))\n+- #29865: Modularization of sagelib: Break out separate experimental packages `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n+- #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.\n+- #13190: make `sagelib` use `setuptools` instead of `distutils`\n+\n+**Tickets for Sage 9.3:**\n+\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n-- #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`\n - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`\n-   - #29865: Modularization of sagelib: Break out separate packages `sage-objects`, `sage-categories`\n    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`\n    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`\n-- #13190: make `sagelib` use `setuptools` instead of `distutils`\n - #29845: PEP 517 `buildapi` for `sage_setup`\n-- Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n-- #21516: Fix sagelib sdist (src/setup.py sdist)\n - #29874: Mock integer class\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n``````\n",
    "created_at": "2020-06-25T06:54:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468159",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -53,24 +53,31 @@
 
   One can try to not populate the whole category system.
 
-**Tickets and steps:**
+**Tickets for Sage 9.2:**
 
 - #29411: make sagelib a script package
 - #29702: Move all code from `src/setup.py` to `sage_setup`
 - #29706, #29720, #29721, #29785, #29786, #29790, #29791: Move `Extension` options from `src/module_list.py` to `distutils:` directives in the individual files
 - #29701 (depends on all of the above): Replace use of `module_list` and `OptionalExtension` by extending `sage_setup.find_python_sources`
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
+- #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`
+- #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make
+- #29850: Install `sage-env-config` as part of `sage_conf`
+- Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
+- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts"
+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist))
+- #29865: Modularization of sagelib: Break out separate experimental packages `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
+- #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.
+- #13190: make `sagelib` use `setuptools` instead of `distutils`
+
+**Tickets for Sage 9.3:**
+
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
-- #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`
 - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`
-   - #29865: Modularization of sagelib: Break out separate packages `sage-objects`, `sage-categories`
    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`
    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`
-- #13190: make `sagelib` use `setuptools` instead of `distutils`
 - #29845: PEP 517 `buildapi` for `sage_setup`
-- Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
-- #21516: Fix sagelib sdist (src/setup.py sdist)
 - #29874: Mock integer class
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
``````




---

archive/issue_comments_468160.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -74,6 +74,7 @@\n \n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.\n+   - Rework `sage-objects`, `sage-categories`, and `sagelib` as namespace packages.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`\n    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`\n    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`\n``````\n",
    "created_at": "2020-06-25T07:04:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468160",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -74,6 +74,7 @@
 
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.
+   - Rework `sage-objects`, `sage-categories`, and `sagelib` as namespace packages.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`
    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`
    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`
``````




---

archive/issue_events_405673.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-25T07:05:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405673"
}
```



---

archive/issue_events_405674.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-25T07:05:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405674"
}
```



---

archive/issue_comments_468161.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -77,7 +77,9 @@\n    - Rework `sage-objects`, `sage-categories`, and `sagelib` as namespace packages.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`\n    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`\n+   - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`\n    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`\n+   - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)\n - #29845: PEP 517 `buildapi` for `sage_setup`\n - #29874: Mock integer class\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n``````\n",
    "created_at": "2020-06-27T06:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468161",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -77,7 +77,9 @@
    - Rework `sage-objects`, `sage-categories`, and `sagelib` as namespace packages.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`
    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`
+   - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`
    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`
+   - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)
 - #29845: PEP 517 `buildapi` for `sage_setup`
 - #29874: Mock integer class
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
``````




---

archive/issue_comments_468162.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -65,7 +65,7 @@\n - #29850: Install `sage-env-config` as part of `sage_conf`\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\"\n-- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist))\n+- #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist))\n - #29865: Modularization of sagelib: Break out separate experimental packages `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.\n - #13190: make `sagelib` use `setuptools` instead of `distutils`\n``````\n",
    "created_at": "2020-07-02T22:21:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468162",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -65,7 +65,7 @@
 - #29850: Install `sage-env-config` as part of `sage_conf`
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts"
-- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist))
+- #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist))
 - #29865: Modularization of sagelib: Break out separate experimental packages `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.
 - #13190: make `sagelib` use `setuptools` instead of `distutils`
``````




---

archive/issue_comments_468163.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -76,10 +76,11 @@\n - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.\n    - Rework `sage-objects`, `sage-categories`, and `sagelib` as namespace packages.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`\n+   - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`\n    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`\n    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`\n-   - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)\n+   - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sage-calculus`(?)\n - #29845: PEP 517 `buildapi` for `sage_setup`\n - #29874: Mock integer class\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n``````\n",
    "created_at": "2020-07-15T21:50:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468163",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -76,10 +76,11 @@
 - Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.
    - Rework `sage-objects`, `sage-categories`, and `sagelib` as namespace packages.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`
+   - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`
    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`
    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`
-   - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)
+   - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sage-calculus`(?)
 - #29845: PEP 517 `buildapi` for `sage_setup`
 - #29874: Mock integer class
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
``````




---

archive/issue_comments_468164.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -64,11 +64,12 @@\n - #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make\n - #29850: Install `sage-env-config` as part of `sage_conf`\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n+- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\"\n-- #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist))\n+- #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)\n - #29865: Modularization of sagelib: Break out separate experimental packages `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.\n-- #13190: make `sagelib` use `setuptools` instead of `distutils`\n+ \n \n **Tickets for Sage 9.3:**\n \n``````\n",
    "created_at": "2020-07-15T21:54:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468164",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -64,11 +64,12 @@
 - #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make
 - #29850: Install `sage-env-config` as part of `sage_conf`
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
+- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts"
-- #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist))
+- #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)
 - #29865: Modularization of sagelib: Break out separate experimental packages `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.
-- #13190: make `sagelib` use `setuptools` instead of `distutils`
+ 
 
 **Tickets for Sage 9.3:**
 
``````




---

archive/issue_comments_468165.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -65,27 +65,37 @@\n - #29850: Install `sage-env-config` as part of `sage_conf`\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n-- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\"\n - #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)\n-- #29865: Modularization of sagelib: Break out separate experimental packages `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.\n  \n \n **Tickets for Sage 9.3:**\n \n-- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n-- Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.\n-   - Rework `sage-objects`, `sage-categories`, and `sagelib` as namespace packages.\n+- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. \n+- Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`\n    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n+- #29039: Deploy `sage_bootstrap` to PyPI\n+- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n+- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n+- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n+\n+\n+**Tickets for Sage 9.4:**\n+\n+- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n+- Further modularization:\n+   - Rework `sage-objects`, `sage-categories` as namespace packages.\n    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`\n    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`\n    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`\n    - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sage-calculus`(?)\n+   - `sage-singular`\n+- #29874: Mock integer class\n - #29845: PEP 517 `buildapi` for `sage_setup`\n-- #29874: Mock integer class\n-- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n-- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n+\n+\n \n **Related:**\n - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior\n``````\n",
    "created_at": "2020-07-16T05:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468165",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -65,27 +65,37 @@
 - #29850: Install `sage-env-config` as part of `sage_conf`
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
-- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts"
 - #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)
-- #29865: Modularization of sagelib: Break out separate experimental packages `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.
  
 
 **Tickets for Sage 9.3:**
 
-- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
-- Install native namespace packages. Do not use eggs (does not seem to be compatible with native namespace packages).  Either install `sagelib` and, e.g., `sage_tdlib` using pip -- this writes into one shared directory `site-packages/sage/`, or use distutils, or disable egg building with setuptools using --single-version-externally-managed.
-   - Rework `sage-objects`, `sage-categories`, and `sagelib` as namespace packages.
+- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. 
+- Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`
    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
+- #29039: Deploy `sage_bootstrap` to PyPI
+- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
+- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
+- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
+
+
+**Tickets for Sage 9.4:**
+
+- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
+- Further modularization:
+   - Rework `sage-objects`, `sage-categories` as namespace packages.
    - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`
    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`
    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`
    - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sage-calculus`(?)
+   - `sage-singular`
+- #29874: Mock integer class
 - #29845: PEP 517 `buildapi` for `sage_setup`
-- #29874: Mock integer class
-- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
-- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
+
+
 
 **Related:**
 - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior
``````




---

archive/issue_comments_468166.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -74,7 +74,7 @@\n \n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. \n - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.\n-   - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`\n+   - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)\n    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n - #29039: Deploy `sage_bootstrap` to PyPI\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n``````\n",
    "created_at": "2020-07-16T05:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468166",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -74,7 +74,7 @@
 
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. 
 - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.
-   - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib`
+   - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)
    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
 - #29039: Deploy `sage_bootstrap` to PyPI
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
``````




---

archive/issue_comments_468167.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -76,6 +76,7 @@\n - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)\n    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n+   - #29171: `sage-giac` (ex `giacpy_sage` + `sage.libs.giac` + dependency on `libgiac`)\n - #29039: Deploy `sage_bootstrap` to PyPI\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n``````\n",
    "created_at": "2020-08-10T18:12:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468167",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -76,6 +76,7 @@
 - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)
    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
+   - #29171: `sage-giac` (ex `giacpy_sage` + `sage.libs.giac` + dependency on `libgiac`)
 - #29039: Deploy `sage_bootstrap` to PyPI
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
``````




---

archive/issue_comments_468168.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -65,6 +65,7 @@\n - #29850: Install `sage-env-config` as part of `sage_conf`\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n+- #29868: pip-installable packages `sage-doc-html`, `sage-doc-pdf`\n - #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.\n``````\n",
    "created_at": "2020-08-10T18:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468168",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -65,6 +65,7 @@
 - #29850: Install `sage-env-config` as part of `sage_conf`
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
+- #29868: pip-installable packages `sage-doc-html`, `sage-doc-pdf`
 - #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.
``````




---

archive/issue_comments_468169.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -78,6 +78,7 @@\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)\n    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n    - #29171: `sage-giac` (ex `giacpy_sage` + `sage.libs.giac` + dependency on `libgiac`)\n+   - #30332: `sage-brial` (`sage.rings.polynomial.pbori`, `sage.libs.polybori`, `sage.crypto.boolean_function`)\n - #29039: Deploy `sage_bootstrap` to PyPI\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n``````\n",
    "created_at": "2020-08-13T16:20:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468169",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -78,6 +78,7 @@
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)
    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
    - #29171: `sage-giac` (ex `giacpy_sage` + `sage.libs.giac` + dependency on `libgiac`)
+   - #30332: `sage-brial` (`sage.rings.polynomial.pbori`, `sage.libs.polybori`, `sage.crypto.boolean_function`)
 - #29039: Deploy `sage_bootstrap` to PyPI
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
``````




---

archive/issue_comments_468170.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -64,8 +64,6 @@\n - #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make\n - #29850: Install `sage-env-config` as part of `sage_conf`\n - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n-- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n-- #29868: pip-installable packages `sage-doc-html`, `sage-doc-pdf`\n - #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.\n@@ -73,6 +71,8 @@\n \n **Tickets for Sage 9.3:**\n \n+- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n+- #29868: pip-installable packages `sage-doc-html`, `sage-doc-pdf`\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. \n - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)\n``````\n",
    "created_at": "2020-08-13T16:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468170",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -64,8 +64,6 @@
 - #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make
 - #29850: Install `sage-env-config` as part of `sage_conf`
 - Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
-- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
-- #29868: pip-installable packages `sage-doc-html`, `sage-doc-pdf`
 - #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.
@@ -73,6 +71,8 @@
 
 **Tickets for Sage 9.3:**
 
+- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
+- #29868: pip-installable packages `sage-doc-html`, `sage-doc-pdf`
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. 
 - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)
``````




---

archive/issue_comments_468171.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -106,7 +106,3 @@\n \n \n \n-The branch on this meta-ticket is not intended for merging.\n-It is an integration branch to facilitate testing. See https://github.com/mkoeppe/sage/pull/35 for automated tests\n-\n-\n``````\n",
    "created_at": "2020-08-18T02:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468171",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -106,7 +106,3 @@
 
 
 
-The branch on this meta-ticket is not intended for merging.
-It is an integration branch to facilitate testing. See https://github.com/mkoeppe/sage/pull/35 for automated tests
-
-
``````




---

archive/issue_comments_468172.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/META-modularize-sagelib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/META-modularize-sagelib)** to none",
    "created_at": "2020-08-18T02:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468172",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/mkoeppe/META-modularize-sagelib](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/META-modularize-sagelib)** to none



---

archive/issue_comments_468173.json:
```json
{
    "body": "Changed commit from **[`2ccf6b7`](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)** to none",
    "created_at": "2020-08-18T02:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468173",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`2ccf6b7`](https://github.com/sagemath/sagetrac-mirror/commit/2ccf6b72ab85e3818053608514350b6049a9ca31)** to none



---

archive/issue_events_405675.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-08T04:27:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405675"
}
```



---

archive/issue_events_405676.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-08T04:27:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405676"
}
```



---

archive/issue_comments_468174.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -62,17 +62,16 @@\n - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)\n - #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`\n - #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make\n-- #29850: Install `sage-env-config` as part of `sage_conf`\n-- Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)\n-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.\n- \n+\n \n **Tickets for Sage 9.3:**\n \n+- #29500 Install all Python packages via `pip wheel`, create PEP 503 simple repository for wheels\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n-- #29868: pip-installable packages `sage-doc-html`, `sage-doc-pdf`\n+- #29868: pip-installable package `sage-doc`\n+- #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. \n - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)\n@@ -81,6 +80,7 @@\n    - #30332: `sage-brial` (`sage.rings.polynomial.pbori`, `sage.libs.polybori`, `sage.crypto.boolean_function`)\n - #29039: Deploy `sage_bootstrap` to PyPI\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n \n``````\n",
    "created_at": "2020-09-08T04:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468174",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -62,17 +62,16 @@
 - #28197: upgrade to ipython 7 (old ipython completer crashes on namespace packages)
 - #29803: Upgrade `setuptools`, `setuptools_scm`, `pip` (2020-06), add package `wheel`; remove `zope_interface`
 - #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make
-- #29850: Install `sage-env-config` as part of `sage_conf`
-- Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)
-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.
- 
+
 
 **Tickets for Sage 9.3:**
 
+- #29500 Install all Python packages via `pip wheel`, create PEP 503 simple repository for wheels
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
-- #29868: pip-installable packages `sage-doc-html`, `sage-doc-pdf`
+- #29868: pip-installable package `sage-doc`
+- #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. 
 - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)
@@ -81,6 +80,7 @@
    - #30332: `sage-brial` (`sage.rings.polynomial.pbori`, `sage.libs.polybori`, `sage.crypto.boolean_function`)
 - #29039: Deploy `sage_bootstrap` to PyPI
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
 
``````




---

archive/issue_comments_468175.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -64,7 +64,8 @@\n - #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make\n - #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)\n - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.\n-\n+- #29171: Move `giacpy_sage` into sage source code\n+- #30332: Merge `sage_brial` into sagelib\n \n **Tickets for Sage 9.3:**\n \n@@ -76,8 +77,8 @@\n - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)\n    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n-   - #29171: `sage-giac` (ex `giacpy_sage` + `sage.libs.giac` + dependency on `libgiac`)\n-   - #30332: `sage-brial` (`sage.rings.polynomial.pbori`, `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+   - `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+   - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n - #29039: Deploy `sage_bootstrap` to PyPI\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n``````\n",
    "created_at": "2020-09-08T04:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468175",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -64,7 +64,8 @@
 - #21559: Install `src/bin` scripts by sagelib's `setup.py`, not make
 - #29950: Build sagelib from build/pkgs/sagelib/src, fix `setup.py sdist`, add `spkg-src` and `tox.ini` (supersedes: #21516: Fix sagelib sdist (src/setup.py sdist), #13190: make `sagelib` use `setuptools` instead of `distutils`)
 - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.
-
+- #29171: Move `giacpy_sage` into sage source code
+- #30332: Merge `sage_brial` into sagelib
 
 **Tickets for Sage 9.3:**
 
@@ -76,8 +77,8 @@
 - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)
    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
-   - #29171: `sage-giac` (ex `giacpy_sage` + `sage.libs.giac` + dependency on `libgiac`)
-   - #30332: `sage-brial` (`sage.rings.polynomial.pbori`, `sage.libs.polybori`, `sage.crypto.boolean_function`)
+   - `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+   - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
 - #29039: Deploy `sage_bootstrap` to PyPI
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
``````




---

archive/issue_comments_468176.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -27,7 +27,7 @@\n \n - Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).\n \n-  Solution: Do not use pip for installations from local source directories.  Use `setup.py install` (distutils) directly; or use `setup.py sdist`, followed by `pip install` of the sdist; or use a custom PEP 517 backend (#29845) for making an sdist, followed by `pip install` of the sdist.\n+  Solution: Do not use pip for installations from local source directories.  Use `setup.py install` (distutils) directly; or use `setup.py sdist`, followed by `pip install` of the sdist; or use `setup.py bdist_wheel`, followed by `pip install` of the wheel; or use a custom PEP 517 backend (#29845) for making an sdist, followed by `pip install` of the sdist.\n \n - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).\n \n``````\n",
    "created_at": "2020-09-08T05:50:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468176",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -27,7 +27,7 @@
 
 - Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).
 
-  Solution: Do not use pip for installations from local source directories.  Use `setup.py install` (distutils) directly; or use `setup.py sdist`, followed by `pip install` of the sdist; or use a custom PEP 517 backend (#29845) for making an sdist, followed by `pip install` of the sdist.
+  Solution: Do not use pip for installations from local source directories.  Use `setup.py install` (distutils) directly; or use `setup.py sdist`, followed by `pip install` of the sdist; or use `setup.py bdist_wheel`, followed by `pip install` of the wheel; or use a custom PEP 517 backend (#29845) for making an sdist, followed by `pip install` of the sdist.
 
 - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).
 
``````




---

archive/issue_comments_468177.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -69,7 +69,8 @@\n \n **Tickets for Sage 9.3:**\n \n-- #29500 Install all Python packages via `pip wheel`, create PEP 503 simple repository for wheels\n+- #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels\n+- #30527 Create PEP 503 simple repository for wheels built during installation\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - #29868: pip-installable package `sage-doc`\n - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n``````\n",
    "created_at": "2020-09-08T05:57:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468177",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -69,7 +69,8 @@
 
 **Tickets for Sage 9.3:**
 
-- #29500 Install all Python packages via `pip wheel`, create PEP 503 simple repository for wheels
+- #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels
+- #30527 Create PEP 503 simple repository for wheels built during installation
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - #29868: pip-installable package `sage-doc`
 - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
``````




---

archive/issue_comments_468178.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -82,6 +82,7 @@\n    - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n - #29039: Deploy `sage_bootstrap` to PyPI\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n+- #30036: pip-installable sage\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n``````\n",
    "created_at": "2020-09-08T06:07:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468178",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -82,6 +82,7 @@
    - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
 - #29039: Deploy `sage_bootstrap` to PyPI
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
+- #30036: pip-installable sage
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
``````




---

archive/issue_comments_468179.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -98,6 +98,7 @@\n    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`\n    - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sage-calculus`(?)\n    - `sage-singular`\n+- #30534 Repackage `pynac` as a pip-installable package\n - #29874: Mock integer class\n - #29845: PEP 517 `buildapi` for `sage_setup`\n \n``````\n",
    "created_at": "2020-09-09T00:47:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468179",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -98,6 +98,7 @@
    - #29941: Modularization of sagelib: Break out a separate package `sage-repl`
    - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sage-calculus`(?)
    - `sage-singular`
+- #30534 Repackage `pynac` as a pip-installable package
 - #29874: Mock integer class
 - #29845: PEP 517 `buildapi` for `sage_setup`
 
``````




---

archive/issue_comments_468180.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -72,6 +72,7 @@\n - #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels\n - #30527 Create PEP 503 simple repository for wheels built during installation\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n+- #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n - #29868: pip-installable package `sage-doc`\n - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. \n``````\n",
    "created_at": "2020-09-14T22:41:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468180",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -72,6 +72,7 @@
 - #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels
 - #30527 Create PEP 503 simple repository for wheels built during installation
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
+- #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
 - #29868: pip-installable package `sage-doc`
 - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. 
``````




---

archive/issue_comments_468181.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -84,6 +84,7 @@\n - #29039: Deploy `sage_bootstrap` to PyPI\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n - #30036: pip-installable sage\n+- #30587: Remove import of `ppl` at startup\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n``````\n",
    "created_at": "2020-09-16T20:29:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468181",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -84,6 +84,7 @@
 - #29039: Deploy `sage_bootstrap` to PyPI
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
 - #30036: pip-installable sage
+- #30587: Remove import of `ppl` at startup
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
``````




---

archive/issue_comments_468182.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -72,6 +72,7 @@\n - #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels\n - #30527 Create PEP 503 simple repository for wheels built during installation\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n+- #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages\n - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n - #29868: pip-installable package `sage-doc`\n - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n``````\n",
    "created_at": "2020-09-19T21:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468182",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -72,6 +72,7 @@
 - #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels
 - #30527 Create PEP 503 simple repository for wheels built during installation
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
+- #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages
 - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
 - #29868: pip-installable package `sage-doc`
 - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
``````




---

archive/issue_comments_468183.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -77,6 +77,7 @@\n - #29868: pip-installable package `sage-doc`\n - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. \n+- #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)\n    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n``````\n",
    "created_at": "2020-09-26T15:22:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468183",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -77,6 +77,7 @@
 - #29868: pip-installable package `sage-doc`
 - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. 
+- #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)
    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
``````




---

archive/issue_comments_468184.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -73,6 +73,8 @@\n - #30527 Create PEP 503 simple repository for wheels built during installation\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages\n+- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n+- #30616: Replace use of `sage.misc.package.PackageNotFoundError` (2); lazy_import: Add keyword argument 'feature'\n - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n - #29868: pip-installable package `sage-doc`\n - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n``````\n",
    "created_at": "2020-09-26T22:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468184",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -73,6 +73,8 @@
 - #30527 Create PEP 503 simple repository for wheels built during installation
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages
+- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
+- #30616: Replace use of `sage.misc.package.PackageNotFoundError` (2); lazy_import: Add keyword argument 'feature'
 - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
 - #29868: pip-installable package `sage-doc`
 - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
``````




---

archive/issue_comments_468185.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -66,10 +66,10 @@\n - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.\n - #29171: Move `giacpy_sage` into sage source code\n - #30332: Merge `sage_brial` into sagelib\n+- #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels\n \n **Tickets for Sage 9.3:**\n \n-- #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels\n - #30527 Create PEP 503 simple repository for wheels built during installation\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages\n``````\n",
    "created_at": "2020-09-29T04:43:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468185",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -66,10 +66,10 @@
 - #29869, #29873, #29892, #29883, #16351, #29881, #29880, #29916, #29922: Improve/repair filtered structure of sagelib.
 - #29171: Move `giacpy_sage` into sage source code
 - #30332: Merge `sage_brial` into sagelib
+- #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels
 
 **Tickets for Sage 9.3:**
 
-- #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels
 - #30527 Create PEP 503 simple repository for wheels built during installation
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages
``````




---

archive/issue_comments_468186.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -71,6 +71,7 @@\n **Tickets for Sage 9.3:**\n \n - #30527 Create PEP 503 simple repository for wheels built during installation\n+- #30715 Remove a few `.all` imports\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n``````\n",
    "created_at": "2020-10-04T05:19:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468186",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -71,6 +71,7 @@
 **Tickets for Sage 9.3:**
 
 - #30527 Create PEP 503 simple repository for wheels built during installation
+- #30715 Remove a few `.all` imports
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
``````




---

archive/issue_comments_468187.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -86,6 +86,7 @@\n    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n    - `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+   - #30716 Towards making Arb library optional\n - #29039: Deploy `sage_bootstrap` to PyPI\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n - #30036: pip-installable sage\n``````\n",
    "created_at": "2020-10-04T05:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468187",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -86,6 +86,7 @@
    - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
    - `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+   - #30716 Towards making Arb library optional
 - #29039: Deploy `sage_bootstrap` to PyPI
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
 - #30036: pip-installable sage
``````




---

archive/issue_comments_468188.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -67,15 +67,15 @@\n - #29171: Move `giacpy_sage` into sage source code\n - #30332: Merge `sage_brial` into sagelib\n - #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels\n+- #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages\n+- #30616: Replace use of `sage.misc.package.PackageNotFoundError` (2); lazy_import: Add keyword argument 'feature'\n \n **Tickets for Sage 9.3:**\n \n - #30527 Create PEP 503 simple repository for wheels built during installation\n - #30715 Remove a few `.all` imports\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n-- #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n-- #30616: Replace use of `sage.misc.package.PackageNotFoundError` (2); lazy_import: Add keyword argument 'feature'\n - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n - #29868: pip-installable package `sage-doc`\n - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n``````\n",
    "created_at": "2020-10-11T01:50:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468188",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -67,15 +67,15 @@
 - #29171: Move `giacpy_sage` into sage source code
 - #30332: Merge `sage_brial` into sagelib
 - #29500 Install all Python packages via `pip wheel`, store wheels in $SAGE_LOCAL/var/lib/sage/wheels
+- #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages
+- #30616: Replace use of `sage.misc.package.PackageNotFoundError` (2); lazy_import: Add keyword argument 'feature'
 
 **Tickets for Sage 9.3:**
 
 - #30527 Create PEP 503 simple repository for wheels built during installation
 - #30715 Remove a few `.all` imports
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
-- #30606: `sage.features.Feature.resolution`: If `SAGE_ROOT` is available, recommend system packages
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
-- #30616: Replace use of `sage.misc.package.PackageNotFoundError` (2); lazy_import: Add keyword argument 'feature'
 - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
 - #29868: pip-installable package `sage-doc`
 - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
``````




---

archive/issue_comments_468189.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -74,16 +74,19 @@\n \n - #30527 Create PEP 503 simple repository for wheels built during installation\n - #30715 Remove a few `.all` imports\n+- #30739 Remove a few more `.all` imports\n+- #30779 Duplicate `src/setup.py`\n+- #30780 `sage_setup`: Separate installing and cleaning\n+- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n+- #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n - #29868: pip-installable package `sage-doc`\n - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n-- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. \n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)\n-   - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n    - `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n``````\n",
    "created_at": "2020-10-17T18:21:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468189",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -74,16 +74,19 @@
 
 - #30527 Create PEP 503 simple repository for wheels built during installation
 - #30715 Remove a few `.all` imports
+- #30739 Remove a few more `.all` imports
+- #30779 Duplicate `src/setup.py`
+- #30780 `sage_setup`: Separate installing and cleaning
+- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
+- #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
 - #29868: pip-installable package `sage-doc`
 - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
-- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420). Keep monolithic package `sagelib` for use in sage-the-distribution. 
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)
-   - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
    - `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
``````




---

archive/issue_comments_468190.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -75,6 +75,7 @@\n - #30527 Create PEP 503 simple repository for wheels built during installation\n - #30715 Remove a few `.all` imports\n - #30739 Remove a few more `.all` imports\n+- #30784 `sage.matrix`: Resolve circular imports without using `__init__.py`\n - #30779 Duplicate `src/setup.py`\n - #30780 `sage_setup`: Separate installing and cleaning\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n``````\n",
    "created_at": "2020-10-17T18:26:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468190",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -75,6 +75,7 @@
 - #30527 Create PEP 503 simple repository for wheels built during installation
 - #30715 Remove a few `.all` imports
 - #30739 Remove a few more `.all` imports
+- #30784 `sage.matrix`: Resolve circular imports without using `__init__.py`
 - #30779 Duplicate `src/setup.py`
 - #30780 `sage_setup`: Separate installing and cleaning
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
``````




---

archive/issue_comments_468191.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,6 +16,7 @@\n \n    With this ticket, the user would instead install a new optional package `sage-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).\n \n+   This has been completed in Sage 9.2 (#29701).\n \n **Not** within the scope of this ticket:\n \n@@ -27,7 +28,7 @@\n \n - Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).\n \n-  Solution: Do not use pip for installations from local source directories.  Use `setup.py install` (distutils) directly; or use `setup.py sdist`, followed by `pip install` of the sdist; or use `setup.py bdist_wheel`, followed by `pip install` of the wheel; or use a custom PEP 517 backend (#29845) for making an sdist, followed by `pip install` of the sdist.\n+  Solution (implemented in Sage 9.2, #29500): Do not use pip for installations from local source directories.  Use `setup.py bdist_wheel`, followed by `pip install` of the wheel.\n \n - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).\n \n``````\n",
    "created_at": "2020-10-26T21:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468191",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,6 +16,7 @@
 
    With this ticket, the user would instead install a new optional package `sage-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).
 
+   This has been completed in Sage 9.2 (#29701).
 
 **Not** within the scope of this ticket:
 
@@ -27,7 +28,7 @@
 
 - Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).
 
-  Solution: Do not use pip for installations from local source directories.  Use `setup.py install` (distutils) directly; or use `setup.py sdist`, followed by `pip install` of the sdist; or use `setup.py bdist_wheel`, followed by `pip install` of the wheel; or use a custom PEP 517 backend (#29845) for making an sdist, followed by `pip install` of the sdist.
+  Solution (implemented in Sage 9.2, #29500): Do not use pip for installations from local source directories.  Use `setup.py bdist_wheel`, followed by `pip install` of the wheel.
 
 - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).
 
``````




---

archive/issue_comments_468192.json:
```json
{
    "body": "Changed keywords from **sd109** to **sd109, sd110**",
    "created_at": "2020-10-26T21:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468192",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from **sd109** to **sd109, sd110**



---

archive/issue_comments_468193.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,9 @@\n (From https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ)\n \n Modularize sagelib into separate distutils packages, so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI. The goal would be to do this **without changing the overall structure of the source tree**.\n+\n+Presentation video: https://researchseminars.org/talk/SageDays110/11/\n+\n \n 1. In particular, create a package `sage-objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n \n``````\n",
    "created_at": "2020-10-31T21:33:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468193",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,9 @@
 (From https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ)
 
 Modularize sagelib into separate distutils packages, so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI. The goal would be to do this **without changing the overall structure of the source tree**.
+
+Presentation video: https://researchseminars.org/talk/SageDays110/11/
+
 
 1. In particular, create a package `sage-objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
 
``````




---

archive/issue_comments_468194.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -76,35 +76,42 @@\n \n **Tickets for Sage 9.3:**\n \n-- #30527 Create PEP 503 simple repository for wheels built during installation\n - #30715 Remove a few `.all` imports\n - #30739 Remove a few more `.all` imports\n - #30784 `sage.matrix`: Resolve circular imports without using `__init__.py`\n - #30779 Duplicate `src/setup.py`\n - #30780 `sage_setup`: Separate installing and cleaning\n+- #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n+- #30013: src/bin/sage-env: Make sure $SAGE_VENV/bin is at the beginning of the PATH\t\t\n+- #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n+- #30527: Create PEP 503 simple repository for wheels built during installation\n+- #30578: Add src/requirements.txt and src/setup.cfg [install_requires] for installation of sagelib in a venv\n+- #30371: In-place (editable) installs of sagelib in a venv\n+- #30896: `./configure --without-python`\n+- #29039: Deploy `sage_bootstrap` to PyPI\n+- #30036: pip-installable sage\n+\n+**Tickets for Sage 9.4:**\n+\n+- #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n+- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n+- #29868: pip-installable package `sage-doc`\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n-- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n-- #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n-- #29868: pip-installable package `sage-doc`\n-- #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n-- #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)\n    - `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n-- #29039: Deploy `sage_bootstrap` to PyPI\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n-- #30036: pip-installable sage\n - #30587: Remove import of `ppl` at startup\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n \n \n-**Tickets for Sage 9.4:**\n+**Tickets for Sage 9.5:**\n \n - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - Further modularization:\n``````\n",
    "created_at": "2020-11-12T19:36:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468194",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -76,35 +76,42 @@
 
 **Tickets for Sage 9.3:**
 
-- #30527 Create PEP 503 simple repository for wheels built during installation
 - #30715 Remove a few `.all` imports
 - #30739 Remove a few more `.all` imports
 - #30784 `sage.matrix`: Resolve circular imports without using `__init__.py`
 - #30779 Duplicate `src/setup.py`
 - #30780 `sage_setup`: Separate installing and cleaning
+- #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
+- #30013: src/bin/sage-env: Make sure $SAGE_VENV/bin is at the beginning of the PATH		
+- #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
+- #30527: Create PEP 503 simple repository for wheels built during installation
+- #30578: Add src/requirements.txt and src/setup.cfg [install_requires] for installation of sagelib in a venv
+- #30371: In-place (editable) installs of sagelib in a venv
+- #30896: `./configure --without-python`
+- #29039: Deploy `sage_bootstrap` to PyPI
+- #30036: pip-installable sage
+
+**Tickets for Sage 9.4:**
+
+- #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
+- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
+- #29868: pip-installable package `sage-doc`
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
-- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
-- #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
-- #29868: pip-installable package `sage-doc`
-- #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
-- #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)
    - `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
-- #29039: Deploy `sage_bootstrap` to PyPI
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
-- #30036: pip-installable sage
 - #30587: Remove import of `ppl` at startup
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
 
 
-**Tickets for Sage 9.4:**
+**Tickets for Sage 9.5:**
 
 - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - Further modularization:
``````




---

archive/issue_comments_468195.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -82,14 +82,14 @@\n - #30779 Duplicate `src/setup.py`\n - #30780 `sage_setup`: Separate installing and cleaning\n - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n-- #30013: src/bin/sage-env: Make sure $SAGE_VENV/bin is at the beginning of the PATH\t\t\n+- #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`\n - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #30527: Create PEP 503 simple repository for wheels built during installation\n-- #30578: Add src/requirements.txt and src/setup.cfg [install_requires] for installation of sagelib in a venv\n+- #30578: Add `src/requirements.txt` and `src/setup.cfg` [install_requires] for installation of sagelib in a venv\n - #30371: In-place (editable) installs of sagelib in a venv\n - #30896: `./configure --without-python`\n - #29039: Deploy `sage_bootstrap` to PyPI\n-- #30036: pip-installable sage\n+- #30036: Deploy `sagelib` to PyPI\n \n **Tickets for Sage 9.4:**\n \n``````\n",
    "created_at": "2020-11-13T05:53:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468195",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -82,14 +82,14 @@
 - #30779 Duplicate `src/setup.py`
 - #30780 `sage_setup`: Separate installing and cleaning
 - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
-- #30013: src/bin/sage-env: Make sure $SAGE_VENV/bin is at the beginning of the PATH		
+- #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`
 - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #30527: Create PEP 503 simple repository for wheels built during installation
-- #30578: Add src/requirements.txt and src/setup.cfg [install_requires] for installation of sagelib in a venv
+- #30578: Add `src/requirements.txt` and `src/setup.cfg` [install_requires] for installation of sagelib in a venv
 - #30371: In-place (editable) installs of sagelib in a venv
 - #30896: `./configure --without-python`
 - #29039: Deploy `sage_bootstrap` to PyPI
-- #30036: pip-installable sage
+- #30036: Deploy `sagelib` to PyPI
 
 **Tickets for Sage 9.4:**
 
``````




---

archive/issue_comments_468196.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -86,6 +86,7 @@\n - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #30578: Add `src/requirements.txt` and `src/setup.cfg` [install_requires] for installation of sagelib in a venv\n+- #30912: sagelib: Update metadata for PyPI deployment\n - #30371: In-place (editable) installs of sagelib in a venv\n - #30896: `./configure --without-python`\n - #29039: Deploy `sage_bootstrap` to PyPI\n``````\n",
    "created_at": "2020-11-14T04:16:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468196",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -86,6 +86,7 @@
 - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #30578: Add `src/requirements.txt` and `src/setup.cfg` [install_requires] for installation of sagelib in a venv
+- #30912: sagelib: Update metadata for PyPI deployment
 - #30371: In-place (editable) installs of sagelib in a venv
 - #30896: `./configure --without-python`
 - #29039: Deploy `sage_bootstrap` to PyPI
``````




---

archive/issue_comments_468197.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -85,7 +85,7 @@\n - #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`\n - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #30527: Create PEP 503 simple repository for wheels built during installation\n-- #30578: Add `src/requirements.txt` and `src/setup.cfg` [install_requires] for installation of sagelib in a venv\n+- #30578: Add `src/requirements.txt` for installation of sagelib in a venv\n - #30912: sagelib: Update metadata for PyPI deployment\n - #30371: In-place (editable) installs of sagelib in a venv\n - #30896: `./configure --without-python`\n``````\n",
    "created_at": "2020-11-14T07:19:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468197",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -85,7 +85,7 @@
 - #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`
 - #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #30527: Create PEP 503 simple repository for wheels built during installation
-- #30578: Add `src/requirements.txt` and `src/setup.cfg` [install_requires] for installation of sagelib in a venv
+- #30578: Add `src/requirements.txt` for installation of sagelib in a venv
 - #30912: sagelib: Update metadata for PyPI deployment
 - #30371: In-place (editable) installs of sagelib in a venv
 - #30896: `./configure --without-python`
``````




---

archive/issue_comments_468198.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -87,6 +87,7 @@\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #30578: Add `src/requirements.txt` for installation of sagelib in a venv\n - #30912: sagelib: Update metadata for PyPI deployment\n+- #30913: sagelib: Add `setup.cfg [install_requires]`\n - #30371: In-place (editable) installs of sagelib in a venv\n - #30896: `./configure --without-python`\n - #29039: Deploy `sage_bootstrap` to PyPI\n``````\n",
    "created_at": "2020-11-14T07:21:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468198",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -87,6 +87,7 @@
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #30578: Add `src/requirements.txt` for installation of sagelib in a venv
 - #30912: sagelib: Update metadata for PyPI deployment
+- #30913: sagelib: Add `setup.cfg [install_requires]`
 - #30371: In-place (editable) installs of sagelib in a venv
 - #30896: `./configure --without-python`
 - #29039: Deploy `sage_bootstrap` to PyPI
``````




---

archive/issue_comments_468199.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -132,6 +132,7 @@\n **Related:**\n - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior\n - https://wiki.sagemath.org/CodeSharingWorkflow\n+- #30914 Meta-ticket: Create upstream repositories, pip-installable packages for database packages\n \n \n \n``````\n",
    "created_at": "2020-11-14T23:49:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468199",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -132,6 +132,7 @@
 **Related:**
 - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior
 - https://wiki.sagemath.org/CodeSharingWorkflow
+- #30914 Meta-ticket: Create upstream repositories, pip-installable packages for database packages
 
 
 
``````




---

archive/issue_comments_468200.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -88,6 +88,7 @@\n - #30578: Add `src/requirements.txt` for installation of sagelib in a venv\n - #30912: sagelib: Update metadata for PyPI deployment\n - #30913: sagelib: Add `setup.cfg [install_requires]`\n+- #30581: sagelib: Declare build system dependencies using src/pyproject.toml\n - #30371: In-place (editable) installs of sagelib in a venv\n - #30896: `./configure --without-python`\n - #29039: Deploy `sage_bootstrap` to PyPI\n``````\n",
    "created_at": "2020-11-15T04:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468200",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -88,6 +88,7 @@
 - #30578: Add `src/requirements.txt` for installation of sagelib in a venv
 - #30912: sagelib: Update metadata for PyPI deployment
 - #30913: sagelib: Add `setup.cfg [install_requires]`
+- #30581: sagelib: Declare build system dependencies using src/pyproject.toml
 - #30371: In-place (editable) installs of sagelib in a venv
 - #30896: `./configure --without-python`
 - #29039: Deploy `sage_bootstrap` to PyPI
``````




---

archive/issue_comments_468201.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -83,7 +83,7 @@\n - #30780 `sage_setup`: Separate installing and cleaning\n - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n - #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`\n-- #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n+- #29850: Install `sage-env-config` as part of `sage_conf`\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #30578: Add `src/requirements.txt` for installation of sagelib in a venv\n - #30912: sagelib: Update metadata for PyPI deployment\n@@ -100,6 +100,7 @@\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #29868: pip-installable package `sage-doc`\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n+- possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.\n``````\n",
    "created_at": "2020-11-16T03:15:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468201",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -83,7 +83,7 @@
 - #30780 `sage_setup`: Separate installing and cleaning
 - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
 - #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`
-- #29850: Install `sage-env-config` as part of `sage_conf`; Move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
+- #29850: Install `sage-env-config` as part of `sage_conf`
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #30578: Add `src/requirements.txt` for installation of sagelib in a venv
 - #30912: sagelib: Update metadata for PyPI deployment
@@ -100,6 +100,7 @@
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #29868: pip-installable package `sage-doc`
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
+- possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.
``````




---

archive/issue_comments_468202.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -88,11 +88,12 @@\n - #30578: Add `src/requirements.txt` for installation of sagelib in a venv\n - #30912: sagelib: Update metadata for PyPI deployment\n - #30913: sagelib: Add `setup.cfg [install_requires]`\n+- Deploy `sagelib` to PyPI\n - #30581: sagelib: Declare build system dependencies using src/pyproject.toml\n - #30371: In-place (editable) installs of sagelib in a venv\n - #30896: `./configure --without-python`\n - #29039: Deploy `sage_bootstrap` to PyPI\n-- #30036: Deploy `sagelib` to PyPI\n+- #30036: sagelib: Use installed `sage_bootstrap` if available\n \n **Tickets for Sage 9.4:**\n \n``````\n",
    "created_at": "2020-11-17T18:12:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468202",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -88,11 +88,12 @@
 - #30578: Add `src/requirements.txt` for installation of sagelib in a venv
 - #30912: sagelib: Update metadata for PyPI deployment
 - #30913: sagelib: Add `setup.cfg [install_requires]`
+- Deploy `sagelib` to PyPI
 - #30581: sagelib: Declare build system dependencies using src/pyproject.toml
 - #30371: In-place (editable) installs of sagelib in a venv
 - #30896: `./configure --without-python`
 - #29039: Deploy `sage_bootstrap` to PyPI
-- #30036: Deploy `sagelib` to PyPI
+- #30036: sagelib: Use installed `sage_bootstrap` if available
 
 **Tickets for Sage 9.4:**
 
``````




---

archive/issue_comments_468203.json:
```json
{
    "body": "Changed keywords from **sd109, sd110** to **sd109, sd110, sd111**",
    "created_at": "2020-11-22T19:36:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468203",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from **sd109, sd110** to **sd109, sd110, sd111**



---

archive/issue_events_405677.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-30T16:32:57Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "title_is": "Meta-ticket: Modularize sagelib into separate distributions (pip-installable packages)",
    "title_was": "Meta-ticket: Modularize sagelib into separate distributions (distutils packages)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405677"
}
```



---

archive/issue_comments_468204.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,23 +1,25 @@\n (From https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ)\n \n-Modularize sagelib into separate distutils packages, so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI. The goal would be to do this **without changing the overall structure of the source tree**.\n+Modularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme `sagemath-...`. \n+\n+The goal is do this **without changing the overall structure of the source tree**.\n \n Presentation video: https://researchseminars.org/talk/SageDays110/11/\n \n \n-1. In particular, create a package `sage-objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n+1. In particular, create a package `sagemath-objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n \n-   (Doctesting `sage-objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)\n+   (Doctesting `sagemath-objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)\n \n-   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sage-objects` could be ported for use with PyPy instead of CPython.\n+   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sagemath-objects` could be ported for use with PyPy instead of CPython.\n \n-   b) Building and deploying a user package would be easier if it could depend on a small package such as `sage-objects` only instead of the whole multigigabyteness of Sage.\n+   b) Building and deploying a user package would be easier if it could depend on a small package such as `sagemath-objects` only instead of the whole multigigabyteness of Sage.\n \n 2. Remove the mechanism of `OptionalExtension`s from `sagelib`.\n \n    Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.\n \n-   With this ticket, the user would instead install a new optional package `sage-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).\n+   With this ticket, the user would instead install a new optional package `sagemath-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).\n \n    This has been completed in Sage 9.2 (#29701).\n \n@@ -86,7 +88,7 @@\n - #29850: Install `sage-env-config` as part of `sage_conf`\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #30578: Add `src/requirements.txt` for installation of sagelib in a venv\n-- #30912: sagelib: Update metadata for PyPI deployment\n+- #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`\n - #30913: sagelib: Add `setup.cfg [install_requires]`\n - Deploy `sagelib` to PyPI\n - #30581: sagelib: Declare build system dependencies using src/pyproject.toml\n@@ -102,16 +104,16 @@\n - #29868: pip-installable package `sage-doc`\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n-- #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`\n+- #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n-- Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.\n-   - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)\n-   - `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n-   - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n+   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib` (and create `sagemath-core`)\n+   - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+   - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n - #30587: Remove import of `ppl` at startup\n-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n \n@@ -120,12 +122,12 @@\n \n - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - Further modularization:\n-   - Rework `sage-objects`, `sage-categories` as namespace packages.\n-   - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`\n+   - Rework `sagemath-objects`, `sagemath-categories` as namespace packages.\n+   - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`\n-   - #29941: Modularization of sagelib: Break out a separate package `sage-repl`\n-   - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sage-calculus`(?)\n-   - `sage-singular`\n+   - #29941: Modularization of sagelib: Break out a separate package `sagemath-repl`\n+   - Modularization of sagelib: Break out a separate package `sagemath-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sagemath-calculus`(?)\n+   - `sagemath-singular`\n - #30534 Repackage `pynac` as a pip-installable package\n - #29874: Mock integer class\n - #29845: PEP 517 `buildapi` for `sage_setup`\n``````\n",
    "created_at": "2020-12-09T01:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468204",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,23 +1,25 @@
 (From https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ)
 
-Modularize sagelib into separate distutils packages, so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI. The goal would be to do this **without changing the overall structure of the source tree**.
+Modularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme `sagemath-...`. 
+
+The goal is do this **without changing the overall structure of the source tree**.
 
 Presentation video: https://researchseminars.org/talk/SageDays110/11/
 
 
-1. In particular, create a package `sage-objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
+1. In particular, create a package `sagemath-objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
 
-   (Doctesting `sage-objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)
+   (Doctesting `sagemath-objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)
 
-   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sage-objects` could be ported for use with PyPy instead of CPython.
+   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sagemath-objects` could be ported for use with PyPy instead of CPython.
 
-   b) Building and deploying a user package would be easier if it could depend on a small package such as `sage-objects` only instead of the whole multigigabyteness of Sage.
+   b) Building and deploying a user package would be easier if it could depend on a small package such as `sagemath-objects` only instead of the whole multigigabyteness of Sage.
 
 2. Remove the mechanism of `OptionalExtension`s from `sagelib`.
 
    Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.
 
-   With this ticket, the user would instead install a new optional package `sage-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).
+   With this ticket, the user would instead install a new optional package `sagemath-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).
 
    This has been completed in Sage 9.2 (#29701).
 
@@ -86,7 +88,7 @@
 - #29850: Install `sage-env-config` as part of `sage_conf`
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #30578: Add `src/requirements.txt` for installation of sagelib in a venv
-- #30912: sagelib: Update metadata for PyPI deployment
+- #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`
 - #30913: sagelib: Add `setup.cfg [install_requires]`
 - Deploy `sagelib` to PyPI
 - #30581: sagelib: Declare build system dependencies using src/pyproject.toml
@@ -102,16 +104,16 @@
 - #29868: pip-installable package `sage-doc`
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
-- #30151: Modularization of sagelib: Break out a separate package `sage-meataxe`
+- #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
-- Deploy mildly modularized distributions `sage-core`, `sage-tdlib`, ... to PyPI.
-   - #29864: Modularization of sagelib: Break out a separate package `sage-tdlib` (and create `sage-core`)
-   - `sage-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
-   - `sage-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
+   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib` (and create `sagemath-core`)
+   - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+   - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
 - #30587: Remove import of `ppl` at startup
-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sage-objects`, `sage-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
 
@@ -120,12 +122,12 @@
 
 - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - Further modularization:
-   - Rework `sage-objects`, `sage-categories` as namespace packages.
-   - #29912: Modularization of sagelib: Break out a separate package `sage-ntl`
+   - Rework `sagemath-objects`, `sagemath-categories` as namespace packages.
+   - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`
-   - #29941: Modularization of sagelib: Break out a separate package `sage-repl`
-   - Modularization of sagelib: Break out a separate package `sage-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sage-calculus`(?)
-   - `sage-singular`
+   - #29941: Modularization of sagelib: Break out a separate package `sagemath-repl`
+   - Modularization of sagelib: Break out a separate package `sagemath-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sagemath-calculus`(?)
+   - `sagemath-singular`
 - #30534 Repackage `pynac` as a pip-installable package
 - #29874: Mock integer class
 - #29845: PEP 517 `buildapi` for `sage_setup`
``````




---

archive/issue_events_405678.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-09T01:31:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "title_is": "Meta-ticket: Modularize sagelib into separate distributions (pip-installable packages) sagemath-...",
    "title_was": "Meta-ticket: Modularize sagelib into separate distributions (pip-installable packages)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405678"
}
```



---

archive/issue_comments_468205.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -37,11 +37,11 @@\n \n - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).\n \n-  Solution: These should therefore be in the same package `sage_objects`.\n+  Solution: These should therefore be in the same package `sagemath-objects`.\n \n - The category framework cannot live without the integers (e.g. the output of `.cardinality()` expects an integer). \n \n-  Possible solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sage_objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):\n+  Possible solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sagemath-objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):\n \n    ```\n    sage: py_scalar_parent(int)\n@@ -101,7 +101,7 @@\n \n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n-- #29868: pip-installable package `sage-doc`\n+- #29868: pip-installable package `sagemath-doc`\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n``````\n",
    "created_at": "2020-12-09T01:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468205",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -37,11 +37,11 @@
 
 - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).
 
-  Solution: These should therefore be in the same package `sage_objects`.
+  Solution: These should therefore be in the same package `sagemath-objects`.
 
 - The category framework cannot live without the integers (e.g. the output of `.cardinality()` expects an integer). 
 
-  Possible solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sage_objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):
+  Possible solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sagemath-objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):
 
    ```
    sage: py_scalar_parent(int)
@@ -101,7 +101,7 @@
 
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
-- #29868: pip-installable package `sage-doc`
+- #29868: pip-installable package `sagemath-doc`
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
``````




---

archive/issue_comments_468206.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -93,7 +93,7 @@\n - Deploy `sagelib` to PyPI\n - #30581: sagelib: Declare build system dependencies using src/pyproject.toml\n - #30371: In-place (editable) installs of sagelib in a venv\n-- #30896: `./configure --without-python`\n+- #30896: `./configure --without-sage-venv`\n - #29039: Deploy `sage_bootstrap` to PyPI\n - #30036: sagelib: Use installed `sage_bootstrap` if available\n \n``````\n",
    "created_at": "2020-12-09T05:09:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468206",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -93,7 +93,7 @@
 - Deploy `sagelib` to PyPI
 - #30581: sagelib: Declare build system dependencies using src/pyproject.toml
 - #30371: In-place (editable) installs of sagelib in a venv
-- #30896: `./configure --without-python`
+- #30896: `./configure --without-sage-venv`
 - #29039: Deploy `sage_bootstrap` to PyPI
 - #30036: sagelib: Use installed `sage_bootstrap` if available
 
``````




---

archive/issue_comments_468207.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -107,7 +107,7 @@\n - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n-   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib` (and create `sagemath-core`)\n+   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n``````\n",
    "created_at": "2020-12-09T05:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468207",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -107,7 +107,7 @@
 - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
-   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib` (and create `sagemath-core`)
+   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
``````




---

archive/issue_comments_468208.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -99,6 +99,7 @@\n \n **Tickets for Sage 9.4:**\n \n+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #29868: pip-installable package `sagemath-doc`\n``````\n",
    "created_at": "2020-12-09T19:58:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468208",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -99,6 +99,7 @@
 
 **Tickets for Sage 9.4:**
 
+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #29868: pip-installable package `sagemath-doc`
``````




---

archive/issue_comments_468209.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -85,6 +85,7 @@\n - #30780 `sage_setup`: Separate installing and cleaning\n - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n - #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`\n+- #30587: Remove import of `ppl` at startup\n - #29850: Install `sage-env-config` as part of `sage_conf`\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #30578: Add `src/requirements.txt` for installation of sagelib in a venv\n@@ -113,7 +114,6 @@\n    - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n-- #30587: Remove import of `ppl` at startup\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n``````\n",
    "created_at": "2020-12-26T19:19:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468209",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -85,6 +85,7 @@
 - #30780 `sage_setup`: Separate installing and cleaning
 - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
 - #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`
+- #30587: Remove import of `ppl` at startup
 - #29850: Install `sage-env-config` as part of `sage_conf`
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #30578: Add `src/requirements.txt` for installation of sagelib in a venv
@@ -113,7 +114,6 @@
    - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
 - #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
-- #30587: Remove import of `ppl` at startup
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
``````




---

archive/issue_comments_468210.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -87,25 +87,27 @@\n - #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`\n - #30587: Remove import of `ppl` at startup\n - #29850: Install `sage-env-config` as part of `sage_conf`\n+- #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide\n+- #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`\n - #30527: Create PEP 503 simple repository for wheels built during installation\n-- #30578: Add `src/requirements.txt` for installation of sagelib in a venv\n-- #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`\n-- #30913: sagelib: Add `setup.cfg [install_requires]`\n-- Deploy `sagelib` to PyPI\n-- #30581: sagelib: Declare build system dependencies using src/pyproject.toml\n+- #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n+- #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n+- #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)\n - #30371: In-place (editable) installs of sagelib in a venv\n - #30896: `./configure --without-sage-venv`\n-- #29039: Deploy `sage_bootstrap` to PyPI\n-- #30036: sagelib: Use installed `sage_bootstrap` if available\n \n **Tickets for Sage 9.4:**\n \n+- Deploy `sagelib` to PyPI\n+- #30036: sagelib: Use installed `sage_bootstrap` if available\n+- #29039: Deploy `sage_conf`/`sage_bootstrap` to PyPI\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #29868: pip-installable package `sagemath-doc`\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n+- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n``````\n",
    "created_at": "2021-02-02T21:33:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468210",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -87,25 +87,27 @@
 - #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`
 - #30587: Remove import of `ppl` at startup
 - #29850: Install `sage-env-config` as part of `sage_conf`
+- #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide
+- #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`
 - #30527: Create PEP 503 simple repository for wheels built during installation
-- #30578: Add `src/requirements.txt` for installation of sagelib in a venv
-- #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`
-- #30913: sagelib: Add `setup.cfg [install_requires]`
-- Deploy `sagelib` to PyPI
-- #30581: sagelib: Declare build system dependencies using src/pyproject.toml
+- #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
+- #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
+- #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)
 - #30371: In-place (editable) installs of sagelib in a venv
 - #30896: `./configure --without-sage-venv`
-- #29039: Deploy `sage_bootstrap` to PyPI
-- #30036: sagelib: Use installed `sage_bootstrap` if available
 
 **Tickets for Sage 9.4:**
 
+- Deploy `sagelib` to PyPI
+- #30036: sagelib: Use installed `sage_bootstrap` if available
+- #29039: Deploy `sage_conf`/`sage_bootstrap` to PyPI
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #29868: pip-installable package `sagemath-doc`
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
+- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
 - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
``````




---

archive/issue_comments_468211.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -93,8 +93,10 @@\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)\n+- #31278: `ipywidgets` should not depend on `widgetsnbextension`\n - #30371: In-place (editable) installs of sagelib in a venv\n - #30896: `./configure --without-sage-venv`\n+- #30911: src/tox.ini: Add \"develop\" environment\n \n **Tickets for Sage 9.4:**\n \n@@ -119,7 +121,8 @@\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n-\n+- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n+- #30778 `sage.doctest.control`: Exclude doctests in files from non-installed distributions\n \n **Tickets for Sage 9.5:**\n \n@@ -141,6 +144,6 @@\n - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior\n - https://wiki.sagemath.org/CodeSharingWorkflow\n - #30914 Meta-ticket: Create upstream repositories, pip-installable packages for database packages\n+- #30818 Meta-ticket: Set environment for subprocesses invoked by Sage\n \n \n-\n``````\n",
    "created_at": "2021-02-02T22:08:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468211",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -93,8 +93,10 @@
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
 - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)
+- #31278: `ipywidgets` should not depend on `widgetsnbextension`
 - #30371: In-place (editable) installs of sagelib in a venv
 - #30896: `./configure --without-sage-venv`
+- #30911: src/tox.ini: Add "develop" environment
 
 **Tickets for Sage 9.4:**
 
@@ -119,7 +121,8 @@
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
-
+- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
+- #30778 `sage.doctest.control`: Exclude doctests in files from non-installed distributions
 
 **Tickets for Sage 9.5:**
 
@@ -141,6 +144,6 @@
 - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior
 - https://wiki.sagemath.org/CodeSharingWorkflow
 - #30914 Meta-ticket: Create upstream repositories, pip-installable packages for database packages
+- #30818 Meta-ticket: Set environment for subprocesses invoked by Sage
 
 
-
``````




---

archive/issue_comments_468212.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -83,10 +83,22 @@\n - #30784 `sage.matrix`: Resolve circular imports without using `__init__.py`\n - #30779 Duplicate `src/setup.py`\n - #30780 `sage_setup`: Separate installing and cleaning\n+- #30579 Clean up `sage_setup.library_order`\n+- #30580 `sage_setup`: Remove import-time dependency (`setup_requires`) on `pkgconfig`, `numpy`\n+- #29355 Sagelib's scripts in `src/bin` should not use `build/bin/sage-system-python`; remove `sage-pypkg-location`\n+- #30780 `sage_setup`: Separate installing and cleaning\n+- #30719 Add `build/pkgs/SPKG/install-requires.txt` for all Python packages, remove some unneeded packages\n+- #29951 `src/bin/sage-env`: Make `SAGE_ROOT` and `SAGE_LOCAL` optional\n+- #29852 sage: Determine `SAGE_LOCAL`, `SAGE_ROOT` via sage-config if it exists\n - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs\n - #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`\n - #30587: Remove import of `ppl` at startup\n+- #31261: Update `pplpy` to 0.8.6\n - #29850: Install `sage-env-config` as part of `sage_conf`\n+- #31025: FPLLL 5.4.0 and FPyLLL 0.5.4\n+- #31058: `src/bin/sage-venv-config`: Do not fail if `sage_conf` is not available\n+- #31218: bootstrap: Fix \"sage-venv-config: /doesnotexist/python3: bad interpreter\"\n+- #31270: Remove `sage-location`'s \"sage-force-relocate\" mechanism, fix script to work without `SAGE_ROOT`\n - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide\n - #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`\n - #30527: Create PEP 503 simple repository for wheels built during installation\n``````\n",
    "created_at": "2021-02-03T02:25:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468212",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -83,10 +83,22 @@
 - #30784 `sage.matrix`: Resolve circular imports without using `__init__.py`
 - #30779 Duplicate `src/setup.py`
 - #30780 `sage_setup`: Separate installing and cleaning
+- #30579 Clean up `sage_setup.library_order`
+- #30580 `sage_setup`: Remove import-time dependency (`setup_requires`) on `pkgconfig`, `numpy`
+- #29355 Sagelib's scripts in `src/bin` should not use `build/bin/sage-system-python`; remove `sage-pypkg-location`
+- #30780 `sage_setup`: Separate installing and cleaning
+- #30719 Add `build/pkgs/SPKG/install-requires.txt` for all Python packages, remove some unneeded packages
+- #29951 `src/bin/sage-env`: Make `SAGE_ROOT` and `SAGE_LOCAL` optional
+- #29852 sage: Determine `SAGE_LOCAL`, `SAGE_ROOT` via sage-config if it exists
 - #22731: Replace `$SAGE_LOCAL/bin` by more specific variables to make Sage easier to package, use in venvs
 - #30013: `src/bin/sage-env`: Make sure `$SAGE_VENV/bin` is at the beginning of the `PATH`
 - #30587: Remove import of `ppl` at startup
+- #31261: Update `pplpy` to 0.8.6
 - #29850: Install `sage-env-config` as part of `sage_conf`
+- #31025: FPLLL 5.4.0 and FPyLLL 0.5.4
+- #31058: `src/bin/sage-venv-config`: Do not fail if `sage_conf` is not available
+- #31218: bootstrap: Fix "sage-venv-config: /doesnotexist/python3: bad interpreter"
+- #31270: Remove `sage-location`'s "sage-force-relocate" mechanism, fix script to work without `SAGE_ROOT`
 - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide
 - #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`
 - #30527: Create PEP 503 simple repository for wheels built during installation
``````




---

archive/issue_comments_468213.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -105,6 +105,9 @@\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)\n+- #31332: `sage.misc.persist`: Import `SAGE_DB` on need only\n+- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n+- #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported\n - #31278: `ipywidgets` should not depend on `widgetsnbextension`\n - #30371: In-place (editable) installs of sagelib in a venv\n - #30896: `./configure --without-sage-venv`\n``````\n",
    "created_at": "2021-02-04T00:42:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468213",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -105,6 +105,9 @@
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
 - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)
+- #31332: `sage.misc.persist`: Import `SAGE_DB` on need only
+- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
+- #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported
 - #31278: `ipywidgets` should not depend on `widgetsnbextension`
 - #30371: In-place (editable) installs of sagelib in a venv
 - #30896: `./configure --without-sage-venv`
``````




---

archive/issue_comments_468214.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -101,6 +101,7 @@\n - #31270: Remove `sage-location`'s \"sage-force-relocate\" mechanism, fix script to work without `SAGE_ROOT`\n - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide\n - #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`\n+- #31357: Fixup `src/VERSION.txt` added in #30912\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n``````\n",
    "created_at": "2021-02-08T03:00:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468214",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -101,6 +101,7 @@
 - #31270: Remove `sage-location`'s "sage-force-relocate" mechanism, fix script to work without `SAGE_ROOT`
 - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide
 - #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`
+- #31357: Fixup `src/VERSION.txt` added in #30912
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
``````




---

archive/issue_comments_468215.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -102,6 +102,7 @@\n - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide\n - #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`\n - #31357: Fixup `src/VERSION.txt` added in #30912\n+- #31362: `make all-sage-local`, make `all-sage-venv`\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n``````\n",
    "created_at": "2021-02-09T00:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468215",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -102,6 +102,7 @@
 - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide
 - #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`
 - #31357: Fixup `src/VERSION.txt` added in #30912
+- #31362: `make all-sage-local`, make `all-sage-venv`
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
``````




---

archive/issue_comments_468216.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -102,7 +102,7 @@\n - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide\n - #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`\n - #31357: Fixup `src/VERSION.txt` added in #30912\n-- #31362: `make all-sage-local`, make `all-sage-venv`\n+- #31362: `make build-local`, make `build-venv`\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n``````\n",
    "created_at": "2021-02-09T01:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468216",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -102,7 +102,7 @@
 - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide
 - #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`
 - #31357: Fixup `src/VERSION.txt` added in #30912
-- #31362: `make all-sage-local`, make `all-sage-venv`
+- #31362: `make build-local`, make `build-venv`
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
``````




---

archive/issue_comments_468217.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -102,17 +102,18 @@\n - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide\n - #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`\n - #31357: Fixup `src/VERSION.txt` added in #30912\n-- #31362: `make build-local`, make `build-venv`\n-- #30527: Create PEP 503 simple repository for wheels built during installation\n+- #31332: `sage.misc.persist`: Import `SAGE_DB` on need only\n+- #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported\n+- #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs\n+- #31377 `./configure --enable-editable`\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)\n-- #31332: `sage.misc.persist`: Import `SAGE_DB` on need only\n+- #31362: `make build-local`, make `build-venv`\n+- #30527: Create PEP 503 simple repository for wheels built during installation\n - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n-- #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported\n - #31278: `ipywidgets` should not depend on `widgetsnbextension`\n - #30371: In-place (editable) installs of sagelib in a venv\n-- #30896: `./configure --without-sage-venv`\n - #30911: src/tox.ini: Add \"develop\" environment\n \n **Tickets for Sage 9.4:**\n@@ -121,6 +122,7 @@\n - #30036: sagelib: Use installed `sage_bootstrap` if available\n - #29039: Deploy `sage_conf`/`sage_bootstrap` to PyPI\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n+- #30896: `./configure --without-sage-venv`\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #29868: pip-installable package `sagemath-doc`\n``````\n",
    "created_at": "2021-02-11T06:39:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468217",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -102,17 +102,18 @@
 - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide
 - #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`
 - #31357: Fixup `src/VERSION.txt` added in #30912
-- #31362: `make build-local`, make `build-venv`
-- #30527: Create PEP 503 simple repository for wheels built during installation
+- #31332: `sage.misc.persist`: Import `SAGE_DB` on need only
+- #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported
+- #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs
+- #31377 `./configure --enable-editable`
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
 - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)
-- #31332: `sage.misc.persist`: Import `SAGE_DB` on need only
+- #31362: `make build-local`, make `build-venv`
+- #30527: Create PEP 503 simple repository for wheels built during installation
 - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
-- #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported
 - #31278: `ipywidgets` should not depend on `widgetsnbextension`
 - #30371: In-place (editable) installs of sagelib in a venv
-- #30896: `./configure --without-sage-venv`
 - #30911: src/tox.ini: Add "develop" environment
 
 **Tickets for Sage 9.4:**
@@ -121,6 +122,7 @@
 - #30036: sagelib: Use installed `sage_bootstrap` if available
 - #29039: Deploy `sage_conf`/`sage_bootstrap` to PyPI
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
+- #30896: `./configure --without-sage-venv`
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #29868: pip-installable package `sagemath-doc`
``````




---

archive/issue_comments_468218.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -106,9 +106,9 @@\n - #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported\n - #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs\n - #31377 `./configure --enable-editable`\n-- #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)\n+- #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #31362: `make build-local`, make `build-venv`\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n``````\n",
    "created_at": "2021-02-11T06:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468218",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -106,9 +106,9 @@
 - #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported
 - #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs
 - #31377 `./configure --enable-editable`
-- #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
 - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)
+- #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #31362: `make build-local`, make `build-venv`
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
``````




---

archive/issue_comments_468219.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -123,6 +123,7 @@\n - #29039: Deploy `sage_conf`/`sage_bootstrap` to PyPI\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #30896: `./configure --without-sage-venv`\n+- #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #29868: pip-installable package `sagemath-doc`\n``````\n",
    "created_at": "2021-02-11T22:22:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468219",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -123,6 +123,7 @@
 - #29039: Deploy `sage_conf`/`sage_bootstrap` to PyPI
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #30896: `./configure --without-sage-venv`
+- #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #29868: pip-installable package `sagemath-doc`
``````




---

archive/issue_comments_468220.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -104,13 +104,14 @@\n - #31357: Fixup `src/VERSION.txt` added in #30912\n - #31332: `sage.misc.persist`: Import `SAGE_DB` on need only\n - #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported\n+- #30984: `sage_setup`: Replace imports from `distutils` by `setuptools`\n - #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs\n+- #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)\n - #31377 `./configure --enable-editable`\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n-- #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n+- #30527: Create PEP 503 simple repository for wheels built during installation\n - #31362: `make build-local`, make `build-venv`\n-- #30527: Create PEP 503 simple repository for wheels built during installation\n - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n - #31278: `ipywidgets` should not depend on `widgetsnbextension`\n - #30371: In-place (editable) installs of sagelib in a venv\n``````\n",
    "created_at": "2021-02-12T00:49:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468220",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -104,13 +104,14 @@
 - #31357: Fixup `src/VERSION.txt` added in #30912
 - #31332: `sage.misc.persist`: Import `SAGE_DB` on need only
 - #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported
+- #30984: `sage_setup`: Replace imports from `distutils` by `setuptools`
 - #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs
+- #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)
 - #31377 `./configure --enable-editable`
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
-- #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
+- #30527: Create PEP 503 simple repository for wheels built during installation
 - #31362: `make build-local`, make `build-venv`
-- #30527: Create PEP 503 simple repository for wheels built during installation
 - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
 - #31278: `ipywidgets` should not depend on `widgetsnbextension`
 - #30371: In-place (editable) installs of sagelib in a venv
``````




---

archive/issue_comments_468221.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -112,6 +112,7 @@\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #31362: `make build-local`, make `build-venv`\n+- #31386: Move list of scripts from `setup.py` to `setup.cfg`\n - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n - #31278: `ipywidgets` should not depend on `widgetsnbextension`\n - #30371: In-place (editable) installs of sagelib in a venv\n``````\n",
    "created_at": "2021-02-12T02:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468221",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -112,6 +112,7 @@
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #31362: `make build-local`, make `build-venv`
+- #31386: Move list of scripts from `setup.py` to `setup.cfg`
 - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
 - #31278: `ipywidgets` should not depend on `widgetsnbextension`
 - #30371: In-place (editable) installs of sagelib in a venv
``````




---

archive/issue_comments_468222.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -112,20 +112,20 @@\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #31362: `make build-local`, make `build-venv`\n+- #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/\n+- Deploy `sagelib` and `sage_conf` to PyPI\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n-- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n - #31278: `ipywidgets` should not depend on `widgetsnbextension`\n - #30371: In-place (editable) installs of sagelib in a venv\n - #30911: src/tox.ini: Add \"develop\" environment\n \n **Tickets for Sage 9.4:**\n \n-- Deploy `sagelib` to PyPI\n-- #30036: sagelib: Use installed `sage_bootstrap` if available\n-- #29039: Deploy `sage_conf`/`sage_bootstrap` to PyPI\n+- #30036: `sage_conf-pypi`: API for incremental builds\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #30896: `./configure --without-sage-venv`\n - #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig\n+- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #29868: pip-installable package `sagemath-doc`\n``````\n",
    "created_at": "2021-02-14T20:25:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468222",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -112,20 +112,20 @@
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #31362: `make build-local`, make `build-venv`
+- #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/
+- Deploy `sagelib` and `sage_conf` to PyPI
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
-- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
 - #31278: `ipywidgets` should not depend on `widgetsnbextension`
 - #30371: In-place (editable) installs of sagelib in a venv
 - #30911: src/tox.ini: Add "develop" environment
 
 **Tickets for Sage 9.4:**
 
-- Deploy `sagelib` to PyPI
-- #30036: sagelib: Use installed `sage_bootstrap` if available
-- #29039: Deploy `sage_conf`/`sage_bootstrap` to PyPI
+- #30036: `sage_conf-pypi`: API for incremental builds
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #30896: `./configure --without-sage-venv`
 - #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig
+- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #29868: pip-installable package `sagemath-doc`
``````




---

archive/issue_comments_468223.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -121,6 +121,7 @@\n \n **Tickets for Sage 9.4:**\n \n+- #31396: relocatable wheel version of package `sage_conf`\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #30896: `./configure --without-sage-venv`\n``````\n",
    "created_at": "2021-02-15T17:01:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468223",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -121,6 +121,7 @@
 
 **Tickets for Sage 9.4:**
 
+- #31396: relocatable wheel version of package `sage_conf`
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #30896: `./configure --without-sage-venv`
``````




---

archive/issue_comments_468224.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -121,6 +121,7 @@\n \n **Tickets for Sage 9.4:**\n \n+- #31420: Review/remove monkey patching in `src/sage/__init__.py`\n - #31396: relocatable wheel version of package `sage_conf`\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n``````\n",
    "created_at": "2021-02-21T18:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468224",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -121,6 +121,7 @@
 
 **Tickets for Sage 9.4:**
 
+- #31420: Review/remove monkey patching in `src/sage/__init__.py`
 - #31396: relocatable wheel version of package `sage_conf`
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
``````




---

archive/issue_comments_468225.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -107,16 +107,19 @@\n - #30984: `sage_setup`: Replace imports from `distutils` by `setuptools`\n - #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs\n - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)\n+- #31362: `make build-local`, make `build-venv`\n+- #31409: downgrade `r`, `rpy2` to optional\n - #31377 `./configure --enable-editable`\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #30527: Create PEP 503 simple repository for wheels built during installation\n-- #31362: `make build-local`, make `build-venv`\n - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/\n - Deploy `sagelib` and `sage_conf` to PyPI\n+- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n+- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #31278: `ipywidgets` should not depend on `widgetsnbextension`\n-- #30371: In-place (editable) installs of sagelib in a venv\n - #30911: src/tox.ini: Add \"develop\" environment\n \n **Tickets for Sage 9.4:**\n@@ -124,29 +127,27 @@\n - #31420: Review/remove monkey patching in `src/sage/__init__.py`\n - #31396: relocatable wheel version of package `sage_conf`\n - #30036: `sage_conf-pypi`: API for incremental builds\n-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n+- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n - #30896: `./configure --without-sage-venv`\n - #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig\n - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n-- #29868: pip-installable package `sagemath-doc`\n+- #29868: pip-installable packages `sagemath-doc-...`\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n-- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n-- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\". Deploy `sage_setup` to PyPI.\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n-- #30778 `sage.doctest.control`: Exclude doctests in files from non-installed distributions\n+- #30371: In-place (editable) installs of sagelib in a venv\n \n **Tickets for Sage 9.5:**\n \n``````\n",
    "created_at": "2021-02-21T20:06:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468225",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -107,16 +107,19 @@
 - #30984: `sage_setup`: Replace imports from `distutils` by `setuptools`
 - #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs
 - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)
+- #31362: `make build-local`, make `build-venv`
+- #31409: downgrade `r`, `rpy2` to optional
 - #31377 `./configure --enable-editable`
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #30527: Create PEP 503 simple repository for wheels built during installation
-- #31362: `make build-local`, make `build-venv`
 - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/
 - Deploy `sagelib` and `sage_conf` to PyPI
+- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
+- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #31278: `ipywidgets` should not depend on `widgetsnbextension`
-- #30371: In-place (editable) installs of sagelib in a venv
 - #30911: src/tox.ini: Add "develop" environment
 
 **Tickets for Sage 9.4:**
@@ -124,29 +127,27 @@
 - #31420: Review/remove monkey patching in `src/sage/__init__.py`
 - #31396: relocatable wheel version of package `sage_conf`
 - #30036: `sage_conf-pypi`: API for incremental builds
-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
+- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 - #30896: `./configure --without-sage-venv`
 - #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig
 - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
-- #29868: pip-installable package `sagemath-doc`
+- #29868: pip-installable packages `sagemath-doc-...`
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
 - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
 - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
-- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
-- #29847: Install `sage_setup` with `setuptools` as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as "scripts". Deploy `sage_setup` to PyPI.
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
-- #30778 `sage.doctest.control`: Exclude doctests in files from non-installed distributions
+- #30371: In-place (editable) installs of sagelib in a venv
 
 **Tickets for Sage 9.5:**
 
``````




---

archive/issue_comments_468226.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -111,11 +111,11 @@\n - #31409: downgrade `r`, `rpy2` to optional\n - #31377 `./configure --enable-editable`\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n+- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/\n - Deploy `sagelib` and `sage_conf` to PyPI\n-- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n``````\n",
    "created_at": "2021-02-26T23:08:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468226",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -111,11 +111,11 @@
 - #31409: downgrade `r`, `rpy2` to optional
 - #31377 `./configure --enable-editable`
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
+- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/
 - Deploy `sagelib` and `sage_conf` to PyPI
-- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
``````




---

archive/issue_comments_468227.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -121,6 +121,8 @@\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #31278: `ipywidgets` should not depend on `widgetsnbextension`\n - #30911: src/tox.ini: Add \"develop\" environment\n+- #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`\n+- #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`\n \n **Tickets for Sage 9.4:**\n \n``````\n",
    "created_at": "2021-03-12T22:42:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468227",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -121,6 +121,8 @@
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #31278: `ipywidgets` should not depend on `widgetsnbextension`
 - #30911: src/tox.ini: Add "develop" environment
+- #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`
+- #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`
 
 **Tickets for Sage 9.4:**
 
``````




---

archive/issue_comments_468228.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -108,7 +108,6 @@\n - #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs\n - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)\n - #31362: `make build-local`, make `build-venv`\n-- #31409: downgrade `r`, `rpy2` to optional\n - #31377 `./configure --enable-editable`\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n``````\n",
    "created_at": "2021-03-12T22:42:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468228",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -108,7 +108,6 @@
 - #31365: Add NTL to `cython_aliases` and `sage.misc.cython` library search dirs
 - #31279: Add package `argon2-cffi` (dependency of Jupyter notebook)
 - #31362: `make build-local`, make `build-venv`
-- #31409: downgrade `r`, `rpy2` to optional
 - #31377 `./configure --enable-editable`
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
``````




---

archive/issue_comments_468229.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -111,20 +111,20 @@\n - #31377 `./configure --enable-editable`\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n+- #31278: `ipywidgets` should not depend on `widgetsnbextension`\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n-- #30527: Create PEP 503 simple repository for wheels built during installation\n - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/\n-- Deploy `sagelib` and `sage_conf` to PyPI\n-- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n-- #31386: Move list of scripts from `setup.py` to `setup.cfg`\n-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n-- #31278: `ipywidgets` should not depend on `widgetsnbextension`\n-- #30911: src/tox.ini: Add \"develop\" environment\n - #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`\n - #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`\n+- Deploy `sagelib` and `sage_conf` to PyPI\n \n **Tickets for Sage 9.4:**\n \n+- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n+- #30911: src/tox.ini: Add \"develop\" environment\n+- #31386: Move list of scripts from `setup.py` to `setup.cfg`\n+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n+- #30527: Create PEP 503 simple repository for wheels built during installation\n - #31420: Review/remove monkey patching in `src/sage/__init__.py`\n - #31396: relocatable wheel version of package `sage_conf`\n - #30036: `sage_conf-pypi`: API for incremental builds\n``````\n",
    "created_at": "2021-03-13T07:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468229",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -111,20 +111,20 @@
 - #31377 `./configure --enable-editable`
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
+- #31278: `ipywidgets` should not depend on `widgetsnbextension`
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
-- #30527: Create PEP 503 simple repository for wheels built during installation
 - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/
-- Deploy `sagelib` and `sage_conf` to PyPI
-- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
-- #31386: Move list of scripts from `setup.py` to `setup.cfg`
-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
-- #31278: `ipywidgets` should not depend on `widgetsnbextension`
-- #30911: src/tox.ini: Add "develop" environment
 - #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`
 - #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`
+- Deploy `sagelib` and `sage_conf` to PyPI
 
 **Tickets for Sage 9.4:**
 
+- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
+- #30911: src/tox.ini: Add "develop" environment
+- #31386: Move list of scripts from `setup.py` to `setup.cfg`
+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
+- #30527: Create PEP 503 simple repository for wheels built during installation
 - #31420: Review/remove monkey patching in `src/sage/__init__.py`
 - #31396: relocatable wheel version of package `sage_conf`
 - #30036: `sage_conf-pypi`: API for incremental builds
``````




---

archive/issue_comments_468230.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -111,7 +111,8 @@\n - #31377 `./configure --enable-editable`\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n-- #31278: `ipywidgets` should not depend on `widgetsnbextension`\n+- #31278: `widgetsnbextension` should not depend on `notebook`\n+- #31523: Fix dependencies of `ipywidgets`\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/\n - #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`\n``````\n",
    "created_at": "2021-03-19T20:00:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468230",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -111,7 +111,8 @@
 - #31377 `./configure --enable-editable`
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
-- #31278: `ipywidgets` should not depend on `widgetsnbextension`
+- #31278: `widgetsnbextension` should not depend on `notebook`
+- #31523: Fix dependencies of `ipywidgets`
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/
 - #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`
``````




---

archive/issue_comments_468231.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -122,6 +122,7 @@\n **Tickets for Sage 9.4:**\n \n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n+- #31543: Eliminate use of patches for Python packages\n - #30911: src/tox.ini: Add \"develop\" environment\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n``````\n",
    "created_at": "2021-03-23T05:50:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468231",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -122,6 +122,7 @@
 **Tickets for Sage 9.4:**
 
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
+- #31543: Eliminate use of patches for Python packages
 - #30911: src/tox.ini: Add "develop" environment
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
``````




---

archive/issue_comments_468232.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -112,10 +112,10 @@\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n - #31278: `widgetsnbextension` should not depend on `notebook`\n+- #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`\n - #31523: Fix dependencies of `ipywidgets`\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/\n-- #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`\n - #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`\n - Deploy `sagelib` and `sage_conf` to PyPI\n \n``````\n",
    "created_at": "2021-03-23T05:52:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468232",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -112,10 +112,10 @@
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
 - #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
 - #31278: `widgetsnbextension` should not depend on `notebook`
+- #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`
 - #31523: Fix dependencies of `ipywidgets`
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/
-- #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`
 - #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`
 - Deploy `sagelib` and `sage_conf` to PyPI
 
``````




---

archive/issue_comments_468233.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -114,9 +114,10 @@\n - #31278: `widgetsnbextension` should not depend on `notebook`\n - #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`\n - #31523: Fix dependencies of `ipywidgets`\n+- #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n+- #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig\n - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/\n-- #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`\n - Deploy `sagelib` and `sage_conf` to PyPI\n \n **Tickets for Sage 9.4:**\n@@ -132,7 +133,6 @@\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n - #30896: `./configure --without-sage-venv`\n-- #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig\n - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n``````\n",
    "created_at": "2021-03-24T03:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468233",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -114,9 +114,10 @@
 - #31278: `widgetsnbextension` should not depend on `notebook`
 - #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`
 - #31523: Fix dependencies of `ipywidgets`
+- #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
+- #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig
 - #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/
-- #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`
 - Deploy `sagelib` and `sage_conf` to PyPI
 
 **Tickets for Sage 9.4:**
@@ -132,7 +133,6 @@
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 - #30896: `./configure --without-sage-venv`
-- #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig
 - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
``````




---

archive/issue_comments_468234.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -115,10 +115,16 @@\n - #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`\n - #31523: Fix dependencies of `ipywidgets`\n - #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`\n+\n+**Tickets used for the deployment of Sage 9.3 to PyPI and sage-wheels:**\n+\n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig\n-- #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/\n-- Deploy `sagelib` and `sage_conf` to PyPI\n+- #29013: Add configure option `--with-sage-venv=SAGE_VENV` to create venv there instead of in SAGE_LOCAL\n+- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`\n+- #31396: relocatable wheel version of package `sage_conf`\n+- #31593: `configure`: Paths within `$SAGE_LOCAL` (`$prefix`) for `sage_conf`\n+- #31338: `sage_setup`: Use paths within `SAGE_LOCAL` when provided via sage_conf\n \n **Tickets for Sage 9.4:**\n \n@@ -129,7 +135,6 @@\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #30527: Create PEP 503 simple repository for wheels built during installation\n - #31420: Review/remove monkey patching in `src/sage/__init__.py`\n-- #31396: relocatable wheel version of package `sage_conf`\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n - #30896: `./configure --without-sage-venv`\n``````\n",
    "created_at": "2021-04-07T01:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468234",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -115,10 +115,16 @@
 - #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`
 - #31523: Fix dependencies of `ipywidgets`
 - #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`
+
+**Tickets used for the deployment of Sage 9.3 to PyPI and sage-wheels:**
+
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig
-- #29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/
-- Deploy `sagelib` and `sage_conf` to PyPI
+- #29013: Add configure option `--with-sage-venv=SAGE_VENV` to create venv there instead of in SAGE_LOCAL
+- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`
+- #31396: relocatable wheel version of package `sage_conf`
+- #31593: `configure`: Paths within `$SAGE_LOCAL` (`$prefix`) for `sage_conf`
+- #31338: `sage_setup`: Use paths within `SAGE_LOCAL` when provided via sage_conf
 
 **Tickets for Sage 9.4:**
 
@@ -129,7 +135,6 @@
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #30527: Create PEP 503 simple repository for wheels built during installation
 - #31420: Review/remove monkey patching in `src/sage/__init__.py`
-- #31396: relocatable wheel version of package `sage_conf`
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 - #30896: `./configure --without-sage-venv`
``````




---

archive/issue_comments_468235.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -125,6 +125,7 @@\n - #31396: relocatable wheel version of package `sage_conf`\n - #31593: `configure`: Paths within `$SAGE_LOCAL` (`$prefix`) for `sage_conf`\n - #31338: `sage_setup`: Use paths within `SAGE_LOCAL` when provided via sage_conf\n+- #31562: Patch `giac` so that `libintl` from `/usr/local` does not leak in on macOS\n \n **Tickets for Sage 9.4:**\n \n``````\n",
    "created_at": "2021-04-07T17:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468235",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -125,6 +125,7 @@
 - #31396: relocatable wheel version of package `sage_conf`
 - #31593: `configure`: Paths within `$SAGE_LOCAL` (`$prefix`) for `sage_conf`
 - #31338: `sage_setup`: Use paths within `SAGE_LOCAL` when provided via sage_conf
+- #31562: Patch `giac` so that `libintl` from `/usr/local` does not leak in on macOS
 
 **Tickets for Sage 9.4:**
 
``````




---

archive/issue_comments_468236.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -126,6 +126,7 @@\n - #31593: `configure`: Paths within `$SAGE_LOCAL` (`$prefix`) for `sage_conf`\n - #31338: `sage_setup`: Use paths within `SAGE_LOCAL` when provided via sage_conf\n - #31562: Patch `giac` so that `libintl` from `/usr/local` does not leak in on macOS\n+- #28890: Install fewer static libraries\n \n **Tickets for Sage 9.4:**\n \n``````\n",
    "created_at": "2021-04-11T22:06:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468236",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -126,6 +126,7 @@
 - #31593: `configure`: Paths within `$SAGE_LOCAL` (`$prefix`) for `sage_conf`
 - #31338: `sage_setup`: Use paths within `SAGE_LOCAL` when provided via sage_conf
 - #31562: Patch `giac` so that `libintl` from `/usr/local` does not leak in on macOS
+- #28890: Install fewer static libraries
 
 **Tickets for Sage 9.4:**
 
``````




---

archive/issue_events_405679.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-15T02:16:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405679"
}
```



---

archive/issue_events_405680.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-15T02:16:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405680"
}
```



---

archive/issue_comments_468237.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -169,6 +169,8 @@\n    - #29941: Modularization of sagelib: Break out a separate package `sagemath-repl`\n    - Modularization of sagelib: Break out a separate package `sagemath-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sagemath-calculus`(?)\n    - `sagemath-singular`\n+   - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`\n+   - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`\n - #30534 Repackage `pynac` as a pip-installable package\n - #29874: Mock integer class\n - #29845: PEP 517 `buildapi` for `sage_setup`\n``````\n",
    "created_at": "2021-04-19T17:54:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468237",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -169,6 +169,8 @@
    - #29941: Modularization of sagelib: Break out a separate package `sagemath-repl`
    - Modularization of sagelib: Break out a separate package `sagemath-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sagemath-calculus`(?)
    - `sagemath-singular`
+   - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`
+   - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`
 - #30534 Repackage `pynac` as a pip-installable package
 - #29874: Mock integer class
 - #29845: PEP 517 `buildapi` for `sage_setup`
``````




---

archive/issue_comments_468238.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -130,6 +130,7 @@\n \n **Tickets for Sage 9.4:**\n \n+- #31577: `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n - #31543: Eliminate use of patches for Python packages\n - #30911: src/tox.ini: Add \"develop\" environment\n``````\n",
    "created_at": "2021-05-26T06:23:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468238",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -130,6 +130,7 @@
 
 **Tickets for Sage 9.4:**
 
+- #31577: `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
 - #31543: Eliminate use of patches for Python packages
 - #30911: src/tox.ini: Add "develop" environment
``````




---

archive/issue_comments_468239.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -130,6 +130,7 @@\n \n **Tickets for Sage 9.4:**\n \n+- #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library\n - #31577: `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n - #31543: Eliminate use of patches for Python packages\n``````\n",
    "created_at": "2021-06-24T15:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468239",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -130,6 +130,7 @@
 
 **Tickets for Sage 9.4:**
 
+- #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library
 - #31577: `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
 - #31543: Eliminate use of patches for Python packages
``````




---

archive/issue_comments_468240.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -130,6 +130,7 @@\n \n **Tickets for Sage 9.4:**\n \n+- #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`\n - #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library\n - #31577: `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n``````\n",
    "created_at": "2021-06-24T22:01:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468240",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -130,6 +130,7 @@
 
 **Tickets for Sage 9.4:**
 
+- #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`
 - #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library
 - #31577: `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
``````




---

archive/issue_comments_468241.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -131,6 +131,7 @@\n **Tickets for Sage 9.4:**\n \n - #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`\n+- #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`\n - #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library\n - #31577: `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n``````\n",
    "created_at": "2021-06-25T01:14:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468241",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -131,6 +131,7 @@
 **Tickets for Sage 9.4:**
 
 - #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`
+- #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`
 - #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library
 - #31577: `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
``````




---

archive/issue_comments_468242.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -133,37 +133,41 @@\n - #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`\n - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`\n - #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library\n-- #31577: `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`\n+- #31577: Move `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n+- #32062: GH Actions: Deploy sdists to PyPI\n - #31543: Eliminate use of patches for Python packages\n - #30911: src/tox.ini: Add \"develop\" environment\n+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n+- #31420: Review/remove monkey patching in `src/sage/__init__.py`\n+- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n+- #29868: pip-installable packages `sagemath-doc-...`\n+- possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n+\n+**Tickets for Sage 9.5:**\n+\n+- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n+- #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n-- #30527: Create PEP 503 simple repository for wheels built during installation\n-- #31420: Review/remove monkey patching in `src/sage/__init__.py`\n+- #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n-- #30896: `./configure --without-sage-venv`\n-- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n-- #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n-- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n-- #29868: pip-installable packages `sagemath-doc-...`\n-- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n-- possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n-- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n-- #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n+- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n+- #30896: `./configure --without-sage-venv`\n+- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n+- #30527: Create PEP 503 simple repository for wheels built during installation\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n - #30371: In-place (editable) installs of sagelib in a venv\n \n-**Tickets for Sage 9.5:**\n+**Tickets for Sage 9.6:**\n \n - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - Further modularization:\n``````\n",
    "created_at": "2021-06-25T20:48:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468242",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -133,37 +133,41 @@
 - #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`
 - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`
 - #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library
-- #31577: `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`
+- #31577: Move `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
+- #32062: GH Actions: Deploy sdists to PyPI
 - #31543: Eliminate use of patches for Python packages
 - #30911: src/tox.ini: Add "develop" environment
+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
+- #31420: Review/remove monkey patching in `src/sage/__init__.py`
+- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
+- #29868: pip-installable packages `sagemath-doc-...`
+- possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
+
+**Tickets for Sage 9.5:**
+
+- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
+- #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
-- #30527: Create PEP 503 simple repository for wheels built during installation
-- #31420: Review/remove monkey patching in `src/sage/__init__.py`
+- #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
-- #30896: `./configure --without-sage-venv`
-- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
-- #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
-- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
-- #29868: pip-installable packages `sagemath-doc-...`
-- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
-- possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
-- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
-- #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
+- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
+- #30896: `./configure --without-sage-venv`
+- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
+- #30527: Create PEP 503 simple repository for wheels built during installation
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
 - #30371: In-place (editable) installs of sagelib in a venv
 
-**Tickets for Sage 9.5:**
+**Tickets for Sage 9.6:**
 
 - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - Further modularization:
``````




---

archive/issue_comments_468243.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -135,15 +135,15 @@\n - #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library\n - #31577: Move `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n+- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #32062: GH Actions: Deploy sdists to PyPI\n+- #31420: Review/remove monkey patching in `src/sage/__init__.py`\n+- #29868: pip-installable packages `sagemath-doc-...`\n+- possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n+- #30911: src/tox.ini: Add \"develop\" environment\n - #31543: Eliminate use of patches for Python packages\n-- #30911: src/tox.ini: Add \"develop\" environment\n-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n-- #31420: Review/remove monkey patching in `src/sage/__init__.py`\n-- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n-- #29868: pip-installable packages `sagemath-doc-...`\n-- possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.\n-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n \n **Tickets for Sage 9.5:**\n \n``````\n",
    "created_at": "2021-06-25T22:37:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468243",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -135,15 +135,15 @@
 - #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library
 - #31577: Move `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
+- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #32062: GH Actions: Deploy sdists to PyPI
+- #31420: Review/remove monkey patching in `src/sage/__init__.py`
+- #29868: pip-installable packages `sagemath-doc-...`
+- possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
+- #30911: src/tox.ini: Add "develop" environment
 - #31543: Eliminate use of patches for Python packages
-- #30911: src/tox.ini: Add "develop" environment
-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
-- #31420: Review/remove monkey patching in `src/sage/__init__.py`
-- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
-- #29868: pip-installable packages `sagemath-doc-...`
-- possibly move `build/pkgs/sage_conf/src/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage_conf`.
-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 
 **Tickets for Sage 9.5:**
 
``````




---

archive/issue_comments_468244.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -138,6 +138,7 @@\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n+- #32073: Deprecate `sage.libs.readline`\n - #32062: GH Actions: Deploy sdists to PyPI\n - #31420: Review/remove monkey patching in `src/sage/__init__.py`\n - #29868: pip-installable packages `sagemath-doc-...`\n``````\n",
    "created_at": "2021-06-28T07:28:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468244",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -138,6 +138,7 @@
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
+- #32073: Deprecate `sage.libs.readline`
 - #32062: GH Actions: Deploy sdists to PyPI
 - #31420: Review/remove monkey patching in `src/sage/__init__.py`
 - #29868: pip-installable packages `sagemath-doc-...`
``````




---

archive/issue_comments_468245.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -132,7 +132,8 @@\n \n - #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`\n - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`\n-- #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library\n+- #32036 `sage.env`: Remove direct uses of SAGE_LOCAL from the Sage library\n+- #32057 `sage_setup.setenv`: Only set `...PATH` variables and `LDFLAGS` if `SAGE_LOCAL` differs from `SAGE_VENV`\n - #31577: Move `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n``````\n",
    "created_at": "2021-06-29T21:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468245",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -132,7 +132,8 @@
 
 - #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`
 - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`
-- #32036 `sage.env`: Remove fallback of `SAGE_LOCAL` to `SAGE_VENV`, remove direct uses of `SAGE_LOCAL` from the Sage library
+- #32036 `sage.env`: Remove direct uses of SAGE_LOCAL from the Sage library
+- #32057 `sage_setup.setenv`: Only set `...PATH` variables and `LDFLAGS` if `SAGE_LOCAL` differs from `SAGE_VENV`
 - #31577: Move `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
``````




---

archive/issue_comments_468246.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -155,6 +155,7 @@\n - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n+- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n``````\n",
    "created_at": "2021-07-06T01:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468246",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -155,6 +155,7 @@
 - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
+- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
``````




---

archive/issue_comments_468247.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -116,42 +116,43 @@\n - #31523: Fix dependencies of `ipywidgets`\n - #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`\n \n-**Tickets used for the deployment of Sage 9.3 to PyPI and sage-wheels:**\n+**Tickets for Sage 9.4:**\n \n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig\n - #29013: Add configure option `--with-sage-venv=SAGE_VENV` to create venv there instead of in SAGE_LOCAL\n-- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`\n-- #31396: relocatable wheel version of package `sage_conf`\n - #31593: `configure`: Paths within `$SAGE_LOCAL` (`$prefix`) for `sage_conf`\n - #31338: `sage_setup`: Use paths within `SAGE_LOCAL` when provided via sage_conf\n - #31562: Patch `giac` so that `libintl` from `/usr/local` does not leak in on macOS\n - #28890: Install fewer static libraries\n-\n-**Tickets for Sage 9.4:**\n-\n - #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`\n-- #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`\n - #32036 `sage.env`: Remove direct uses of SAGE_LOCAL from the Sage library\n - #32057 `sage_setup.setenv`: Only set `...PATH` variables and `LDFLAGS` if `SAGE_LOCAL` differs from `SAGE_VENV`\n - #31577: Move `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`\n+- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n+- #32073: Remove `sage.libs.readline`\n+\n+**Tickets used for the deployment of Sage 9.4 to PyPI and sage-wheels:**\n+\n+- #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n-- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n+- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`\n+- #31396: relocatable wheel version of package `sage_conf`\n+\n+\n+**Tickets for Sage 9.5:**\n+\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n-- #32073: Deprecate `sage.libs.readline`\n - #32062: GH Actions: Deploy sdists to PyPI\n - #31420: Review/remove monkey patching in `src/sage/__init__.py`\n - #29868: pip-installable packages `sagemath-doc-...`\n - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n-- #30911: src/tox.ini: Add \"develop\" environment\n - #31543: Eliminate use of patches for Python packages\n-\n-**Tickets for Sage 9.5:**\n-\n+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n+- #30911: src/tox.ini: Add \"develop\" environment\n - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n``````\n",
    "created_at": "2021-07-24T20:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468247",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -116,42 +116,43 @@
 - #31523: Fix dependencies of `ipywidgets`
 - #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`
 
-**Tickets used for the deployment of Sage 9.3 to PyPI and sage-wheels:**
+**Tickets for Sage 9.4:**
 
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig
 - #29013: Add configure option `--with-sage-venv=SAGE_VENV` to create venv there instead of in SAGE_LOCAL
-- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`
-- #31396: relocatable wheel version of package `sage_conf`
 - #31593: `configure`: Paths within `$SAGE_LOCAL` (`$prefix`) for `sage_conf`
 - #31338: `sage_setup`: Use paths within `SAGE_LOCAL` when provided via sage_conf
 - #31562: Patch `giac` so that `libintl` from `/usr/local` does not leak in on macOS
 - #28890: Install fewer static libraries
-
-**Tickets for Sage 9.4:**
-
 - #32045 `sage-env`, `sage.env`: Remove unused environment and Python variables `SAGE_ETC`, `SAGE_INC`
-- #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`
 - #32036 `sage.env`: Remove direct uses of SAGE_LOCAL from the Sage library
 - #32057 `sage_setup.setenv`: Only set `...PATH` variables and `LDFLAGS` if `SAGE_LOCAL` differs from `SAGE_VENV`
 - #31577: Move `SAGE_ROOT/build/pkgs/*/src` to `SAGE_ROOT/pkgs/*`
+- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
+- #32073: Remove `sage.libs.readline`
+
+**Tickets used for the deployment of Sage 9.4 to PyPI and sage-wheels:**
+
+- #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
-- #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
+- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`
+- #31396: relocatable wheel version of package `sage_conf`
+
+
+**Tickets for Sage 9.5:**
+
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
-- #32073: Deprecate `sage.libs.readline`
 - #32062: GH Actions: Deploy sdists to PyPI
 - #31420: Review/remove monkey patching in `src/sage/__init__.py`
 - #29868: pip-installable packages `sagemath-doc-...`
 - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
-- #30911: src/tox.ini: Add "develop" environment
 - #31543: Eliminate use of patches for Python packages
-
-**Tickets for Sage 9.5:**
-
+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
+- #30911: src/tox.ini: Add "develop" environment
 - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
``````




---

archive/issue_events_405681.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405681"
}
```



---

archive/issue_events_405682.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405682"
}
```



---

archive/issue_comments_468248.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -136,6 +136,7 @@\n \n - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n+- #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt\n - #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`\n - #31396: relocatable wheel version of package `sage_conf`\n \n``````\n",
    "created_at": "2021-08-12T21:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468248",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -136,6 +136,7 @@
 
 - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
+- #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt
 - #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`
 - #31396: relocatable wheel version of package `sage_conf`
 
``````




---

archive/issue_comments_468249.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -139,11 +139,11 @@\n - #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt\n - #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`\n - #31396: relocatable wheel version of package `sage_conf`\n+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n \n \n **Tickets for Sage 9.5:**\n \n-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #32062: GH Actions: Deploy sdists to PyPI\n - #31420: Review/remove monkey patching in `src/sage/__init__.py`\n - #29868: pip-installable packages `sagemath-doc-...`\n``````\n",
    "created_at": "2021-08-12T22:02:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468249",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -139,11 +139,11 @@
 - #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt
 - #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`
 - #31396: relocatable wheel version of package `sage_conf`
+- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 
 
 **Tickets for Sage 9.5:**
 
-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #32062: GH Actions: Deploy sdists to PyPI
 - #31420: Review/remove monkey patching in `src/sage/__init__.py`
 - #29868: pip-installable packages `sagemath-doc-...`
``````




---

archive/issue_comments_468250.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -139,6 +139,7 @@\n - #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt\n - #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`\n - #31396: relocatable wheel version of package `sage_conf`\n+- #32373: `sage_setup.library_order`: Skip libraries that were not detected\n - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n \n \n``````\n",
    "created_at": "2021-08-13T02:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468250",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -139,6 +139,7 @@
 - #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt
 - #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`
 - #31396: relocatable wheel version of package `sage_conf`
+- #32373: `sage_setup.library_order`: Skip libraries that were not detected
 - #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 
 
``````




---

archive/issue_comments_468251.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -145,12 +145,13 @@\n \n **Tickets for Sage 9.5:**\n \n+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n+- #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)\n - #32062: GH Actions: Deploy sdists to PyPI\n - #31420: Review/remove monkey patching in `src/sage/__init__.py`\n - #29868: pip-installable packages `sagemath-doc-...`\n - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n - #31543: Eliminate use of patches for Python packages\n-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n@@ -185,7 +186,6 @@\n    - `sagemath-singular`\n    - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`\n    - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`\n-- #30534 Repackage `pynac` as a pip-installable package\n - #29874: Mock integer class\n - #29845: PEP 517 `buildapi` for `sage_setup`\n \n``````\n",
    "created_at": "2021-08-16T21:21:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468251",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -145,12 +145,13 @@
 
 **Tickets for Sage 9.5:**
 
+- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
+- #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)
 - #32062: GH Actions: Deploy sdists to PyPI
 - #31420: Review/remove monkey patching in `src/sage/__init__.py`
 - #29868: pip-installable packages `sagemath-doc-...`
 - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
 - #31543: Eliminate use of patches for Python packages
-- #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
@@ -185,7 +186,6 @@
    - `sagemath-singular`
    - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`
    - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`
-- #30534 Repackage `pynac` as a pip-installable package
 - #29874: Mock integer class
 - #29845: PEP 517 `buildapi` for `sage_setup`
 
``````




---

archive/issue_comments_468252.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -147,6 +147,7 @@\n \n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)\n+- #32390 Make `./configure --enable-editable` the default\n - #32062: GH Actions: Deploy sdists to PyPI\n - #31420: Review/remove monkey patching in `src/sage/__init__.py`\n - #29868: pip-installable packages `sagemath-doc-...`\n``````\n",
    "created_at": "2021-08-17T18:28:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468252",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -147,6 +147,7 @@
 
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)
+- #32390 Make `./configure --enable-editable` the default
 - #32062: GH Actions: Deploy sdists to PyPI
 - #31420: Review/remove monkey patching in `src/sage/__init__.py`
 - #29868: pip-installable packages `sagemath-doc-...`
``````




---

archive/issue_comments_468253.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -161,6 +161,7 @@\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n - #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n+- #32411: Remove unnecessary uses of `SR` and symbolic functions\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n``````\n",
    "created_at": "2021-08-24T06:41:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468253",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -161,6 +161,7 @@
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 - #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
+- #32411: Remove unnecessary uses of `SR` and symbolic functions
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
``````




---

archive/issue_comments_468254.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -160,7 +160,7 @@\n - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n-- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n+- #32412/#25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n - #32411: Remove unnecessary uses of `SR` and symbolic functions\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n``````\n",
    "created_at": "2021-08-24T06:55:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468254",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -160,7 +160,7 @@
 - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
-- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
+- #32412/#25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
 - #32411: Remove unnecessary uses of `SR` and symbolic functions
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
``````




---

archive/issue_comments_468255.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -161,7 +161,7 @@\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n - #32412/#25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n-- #32411: Remove unnecessary uses of `SR` and symbolic functions\n+- #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n``````\n",
    "created_at": "2021-08-28T03:32:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468255",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -161,7 +161,7 @@
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 - #32412/#25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
-- #32411: Remove unnecessary uses of `SR` and symbolic functions
+- #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
``````




---

archive/issue_comments_468256.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -157,6 +157,7 @@\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n - #30911: src/tox.ini: Add \"develop\" environment\n+- #30022 `sage.rings.integer`, `rational`: Remove compile-time dependency on `cypari2` and `flint`\n - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n``````\n",
    "created_at": "2021-08-28T05:43:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468256",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -157,6 +157,7 @@
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
 - #30911: src/tox.ini: Add "develop" environment
+- #30022 `sage.rings.integer`, `rational`: Remove compile-time dependency on `cypari2` and `flint`
 - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
``````




---

archive/issue_comments_468257.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -158,6 +158,7 @@\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n - #30911: src/tox.ini: Add \"develop\" environment\n - #30022 `sage.rings.integer`, `rational`: Remove compile-time dependency on `cypari2` and `flint`\n+- #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n``````\n",
    "created_at": "2021-08-28T16:49:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468257",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -158,6 +158,7 @@
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
 - #30911: src/tox.ini: Add "develop" environment
 - #30022 `sage.rings.integer`, `rational`: Remove compile-time dependency on `cypari2` and `flint`
+- #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
``````




---

archive/issue_comments_468258.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -165,10 +165,12 @@\n - #32412/#25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n-   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n-   - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n-   - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n-   - #30716 Towards making Arb library optional\n+#32432 new enhancement\n+- #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`\n+- #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n+- `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- #30716 Towards making Arb library optional\n - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n - #30896: `./configure --without-sage-venv`\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n``````\n",
    "created_at": "2021-08-28T17:51:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468258",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -165,10 +165,12 @@
 - #32412/#25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
 - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
-   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
-   - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
-   - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
-   - #30716 Towards making Arb library optional
+#32432 new enhancement
+- #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`
+- #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
+- `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- #30716 Towards making Arb library optional
 - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
 - #30896: `./configure --without-sage-venv`
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
``````




---

archive/issue_comments_468259.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -165,12 +165,11 @@\n - #32412/#25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n-#32432 new enhancement\n-- #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`\n-- #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n-- `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n-- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n-- #30716 Towards making Arb library optional\n+   - #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`\n+   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n+   - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+   - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+   - #30716 Towards making Arb library optional\n - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n - #30896: `./configure --without-sage-venv`\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n``````\n",
    "created_at": "2021-08-28T17:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468259",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -165,12 +165,11 @@
 - #32412/#25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
 - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
-#32432 new enhancement
-- #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`
-- #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
-- `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
-- `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
-- #30716 Towards making Arb library optional
+   - #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`
+   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
+   - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+   - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+   - #30716 Towards making Arb library optional
 - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
 - #30896: `./configure --without-sage-venv`
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
``````




---

archive/issue_comments_468260.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -157,7 +157,7 @@\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n - #30911: src/tox.ini: Add \"develop\" environment\n-- #30022 `sage.rings.integer`, `rational`: Remove compile-time dependency on `cypari2` and `flint`\n+- #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - #30036: `sage_conf-pypi`: API for incremental builds\n``````\n",
    "created_at": "2021-09-03T23:33:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468260",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -157,7 +157,7 @@
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
 - #30911: src/tox.ini: Add "develop" environment
-- #30022 `sage.rings.integer`, `rational`: Remove compile-time dependency on `cypari2` and `flint`
+- #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
 - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - #30036: `sage_conf-pypi`: API for incremental builds
``````




---

archive/issue_comments_468261.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -147,41 +147,37 @@\n \n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)\n+- #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`\n+- #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n - #32390 Make `./configure --enable-editable` the default\n - #32062: GH Actions: Deploy sdists to PyPI\n - #31420: Review/remove monkey patching in `src/sage/__init__.py`\n+- #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n+- #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n+- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n+- #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`\n+- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n+\n+**Tickets for Sage 9.6:**\n+\n+- #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages `sagemath-doc-...`\n+- #31386: Move list of scripts from `setup.py` to `setup.cfg`\n - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n - #31543: Eliminate use of patches for Python packages\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n-- #31386: Move list of scripts from `setup.py` to `setup.cfg`\n-- #30911: src/tox.ini: Add \"develop\" environment\n-- #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n-- #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n-- #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n - #30036: `sage_conf-pypi`: API for incremental builds\n-- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n-- #32412/#25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n-- #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n+- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n+- #30896: `./configure --without-sage-venv`\n+- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n+- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n-   - #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`\n+   - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n-- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n-- #30896: `./configure --without-sage-venv`\n-- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n-- #30527: Create PEP 503 simple repository for wheels built during installation\n-- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n-- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n-- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n-- #30371: In-place (editable) installs of sagelib in a venv\n-\n-**Tickets for Sage 9.6:**\n-\n-- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - Further modularization:\n    - Rework `sagemath-objects`, `sagemath-categories` as namespace packages.\n    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n@@ -192,7 +188,12 @@\n    - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`\n    - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`\n - #29874: Mock integer class\n+- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n+- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n+- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n - #29845: PEP 517 `buildapi` for `sage_setup`\n+- #30527: Create PEP 503 simple repository for wheels built during installation\n+- #30371: In-place (editable) installs of sagelib in a venv\n \n \n \n``````\n",
    "created_at": "2021-09-06T04:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468261",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -147,41 +147,37 @@
 
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)
+- #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`
+- #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
 - #32390 Make `./configure --enable-editable` the default
 - #32062: GH Actions: Deploy sdists to PyPI
 - #31420: Review/remove monkey patching in `src/sage/__init__.py`
+- #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
+- #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
+- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
+- #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`
+- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
+
+**Tickets for Sage 9.6:**
+
+- #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages `sagemath-doc-...`
+- #31386: Move list of scripts from `setup.py` to `setup.cfg`
 - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
 - #31543: Eliminate use of patches for Python packages
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
-- #31386: Move list of scripts from `setup.py` to `setup.cfg`
-- #30911: src/tox.ini: Add "develop" environment
-- #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
-- #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
-- #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
 - #30036: `sage_conf-pypi`: API for incremental builds
-- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
-- #32412/#25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
-- #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
+- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
+- #30896: `./configure --without-sage-venv`
+- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
+- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
-   - #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`
+   - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
    - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
    - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
-- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
-- #30896: `./configure --without-sage-venv`
-- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
-- #30527: Create PEP 503 simple repository for wheels built during installation
-- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
-- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
-- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
-- #30371: In-place (editable) installs of sagelib in a venv
-
-**Tickets for Sage 9.6:**
-
-- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - Further modularization:
    - Rework `sagemath-objects`, `sagemath-categories` as namespace packages.
    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
@@ -192,7 +188,12 @@
    - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`
    - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`
 - #29874: Mock integer class
+- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
+- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
+- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
 - #29845: PEP 517 `buildapi` for `sage_setup`
+- #30527: Create PEP 503 simple repository for wheels built during installation
+- #30371: In-place (editable) installs of sagelib in a venv
 
 
 
``````




---

archive/issue_comments_468262.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -151,7 +151,7 @@\n - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n - #32390 Make `./configure --enable-editable` the default\n - #32062: GH Actions: Deploy sdists to PyPI\n-- #31420: Review/remove monkey patching in `src/sage/__init__.py`\n+- #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n``````\n",
    "created_at": "2021-09-09T16:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468262",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -151,7 +151,7 @@
 - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
 - #32390 Make `./configure --enable-editable` the default
 - #32062: GH Actions: Deploy sdists to PyPI
-- #31420: Review/remove monkey patching in `src/sage/__init__.py`
+- #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
 - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
 - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
``````




---

archive/issue_comments_468263.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -187,6 +187,7 @@\n    - `sagemath-singular`\n    - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`\n    - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`\n+- Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package `sagemath-scripts`. This will allow users to run, for example, `sage -sh` before sagelib is installed.\n - #29874: Mock integer class\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n``````\n",
    "created_at": "2021-09-10T06:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468263",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -187,6 +187,7 @@
    - `sagemath-singular`
    - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`
    - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`
+- Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package `sagemath-scripts`. This will allow users to run, for example, `sage -sh` before sagelib is installed.
 - #29874: Mock integer class
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
``````




---

archive/issue_comments_468264.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -149,9 +149,9 @@\n - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)\n - #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`\n - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n-- #32390 Make `./configure --enable-editable` the default\n+- #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages\n+  - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n - #32062: GH Actions: Deploy sdists to PyPI\n-- #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n@@ -160,6 +160,7 @@\n \n **Tickets for Sage 9.6:**\n \n+- #32390 Make `./configure --enable-editable` the default\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages `sagemath-doc-...`\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n``````\n",
    "created_at": "2021-09-10T19:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468264",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -149,9 +149,9 @@
 - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)
 - #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`
 - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
-- #32390 Make `./configure --enable-editable` the default
+- #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages
+  - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
 - #32062: GH Actions: Deploy sdists to PyPI
-- #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
 - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
 - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
@@ -160,6 +160,7 @@
 
 **Tickets for Sage 9.6:**
 
+- #32390 Make `./configure --enable-editable` the default
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages `sagemath-doc-...`
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
``````




---

archive/issue_comments_468265.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -151,6 +151,7 @@\n - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n - #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n+- #29870: `Move sage.structure.formal_sum` to `sage.modules`\n - #32062: GH Actions: Deploy sdists to PyPI\n - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n``````\n",
    "created_at": "2021-09-10T23:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468265",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -151,6 +151,7 @@
 - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
 - #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
+- #29870: `Move sage.structure.formal_sum` to `sage.modules`
 - #32062: GH Actions: Deploy sdists to PyPI
 - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
 - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
``````




---

archive/issue_comments_468266.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -151,6 +151,7 @@\n - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n - #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n+  - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n - #32062: GH Actions: Deploy sdists to PyPI\n - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n``````\n",
    "created_at": "2021-09-13T20:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468266",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -151,6 +151,7 @@
 - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
 - #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
+  - #32506/#32507/#32508/#32509: `__init__.py` in other packages
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
 - #32062: GH Actions: Deploy sdists to PyPI
 - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
``````




---

archive/issue_comments_468267.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,9 @@\n Modularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme `sagemath-...`. \n \n The goal is do this **without changing the overall structure of the source tree**.\n+\n+[Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage release tour)\n+\n \n Presentation video: https://researchseminars.org/talk/SageDays110/11/\n \n``````\n",
    "created_at": "2021-09-14T19:23:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468267",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,9 @@
 Modularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme `sagemath-...`. 
 
 The goal is do this **without changing the overall structure of the source tree**.
+
+[Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage release tour)
+
 
 Presentation video: https://researchseminars.org/talk/SageDays110/11/
 
``````




---

archive/issue_comments_468268.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -155,6 +155,7 @@\n - #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n   - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n+- #32534 Remove `.all` imports\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n - #32062: GH Actions: Deploy sdists to PyPI\n - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n``````\n",
    "created_at": "2021-09-19T20:12:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468268",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -155,6 +155,7 @@
 - #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
   - #32506/#32507/#32508/#32509: `__init__.py` in other packages
+- #32534 Remove `.all` imports
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
 - #32062: GH Actions: Deploy sdists to PyPI
 - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
``````




---

archive/issue_comments_468269.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -156,17 +156,19 @@\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n   - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n - #32534 Remove `.all` imports\n+- #32442 `./configure`: Make `--with-sage-venv=auto` the default\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n - #32062: GH Actions: Deploy sdists to PyPI\n - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n-- #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n-- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n+- #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n+  - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n \n **Tickets for Sage 9.6:**\n \n - #32390 Make `./configure --enable-editable` the default\n+- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages `sagemath-doc-...`\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n@@ -176,7 +178,6 @@\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n-- #30896: `./configure --without-sage-venv`\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n@@ -195,13 +196,17 @@\n    - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`\n    - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`\n - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package `sagemath-scripts`. This will allow users to run, for example, `sage -sh` before sagelib is installed.\n+- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n+- #30371: In-place (editable) installs of sagelib in a venv\n+\n+**Wishlist tickets, loose ends**\n+- #30527: Create PEP 503 simple repository for wheels built during installation\n+- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n+- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29874: Mock integer class\n-- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n-- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`\n-- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n - #29845: PEP 517 `buildapi` for `sage_setup`\n-- #30527: Create PEP 503 simple repository for wheels built during installation\n-- #30371: In-place (editable) installs of sagelib in a venv\n+- #30896: `./configure --with-sage-venv=none`\n+\n \n \n \n``````\n",
    "created_at": "2021-09-25T17:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468269",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -156,17 +156,19 @@
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
   - #32506/#32507/#32508/#32509: `__init__.py` in other packages
 - #32534 Remove `.all` imports
+- #32442 `./configure`: Make `--with-sage-venv=auto` the default
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
 - #32062: GH Actions: Deploy sdists to PyPI
 - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
-- #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
-- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
+- #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
+  - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
 
 **Tickets for Sage 9.6:**
 
 - #32390 Make `./configure --enable-editable` the default
+- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages `sagemath-doc-...`
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
@@ -176,7 +178,6 @@
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
-- #30896: `./configure --without-sage-venv`
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
@@ -195,13 +196,17 @@
    - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`
    - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`
 - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package `sagemath-scripts`. This will allow users to run, for example, `sage -sh` before sagelib is installed.
+- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
+- #30371: In-place (editable) installs of sagelib in a venv
+
+**Wishlist tickets, loose ends**
+- #30527: Create PEP 503 simple repository for wheels built during installation
+- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
+- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29874: Mock integer class
-- #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
-- #29877: `sage.categories`: Replace import of `ZZ` by `py_scalar_parent(int)`
-- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
 - #29845: PEP 517 `buildapi` for `sage_setup`
-- #30527: Create PEP 503 simple repository for wheels built during installation
-- #30371: In-place (editable) installs of sagelib in a venv
+- #30896: `./configure --with-sage-venv=none`
+
 
 
 
``````




---

archive/issue_comments_468270.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -155,6 +155,7 @@\n - #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n   - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n+- #32566 `sage.rings.abc`\n - #32534 Remove `.all` imports\n - #32442 `./configure`: Make `--with-sage-venv=auto` the default\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n``````\n",
    "created_at": "2021-09-26T06:29:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468270",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -155,6 +155,7 @@
 - #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
   - #32506/#32507/#32508/#32509: `__init__.py` in other packages
+- #32566 `sage.rings.abc`
 - #32534 Remove `.all` imports
 - #32442 `./configure`: Make `--with-sage-venv=auto` the default
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
``````




---

archive/issue_comments_468271.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -155,7 +155,8 @@\n - #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n   - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n-- #32566 `sage.rings.abc`\n+- #32414 Meta-ticket: New modules providing abstract base classes to enable modularization\n+  - #32566 `sage.rings.abc`\n - #32534 Remove `.all` imports\n - #32442 `./configure`: Make `--with-sage-venv=auto` the default\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n``````\n",
    "created_at": "2021-09-26T17:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468271",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -155,7 +155,8 @@
 - #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
   - #32506/#32507/#32508/#32509: `__init__.py` in other packages
-- #32566 `sage.rings.abc`
+- #32414 Meta-ticket: New modules providing abstract base classes to enable modularization
+  - #32566 `sage.rings.abc`
 - #32534 Remove `.all` imports
 - #32442 `./configure`: Make `--with-sage-venv=auto` the default
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
``````




---

archive/issue_comments_468272.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -152,12 +152,13 @@\n - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)\n - #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`\n - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n-- #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages\n+- #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring\n+- #32501: Meta-ticket: Clear out __init__.py files in preparation for namespace packages\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n   - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n - #32414 Meta-ticket: New modules providing abstract base classes to enable modularization\n   - #32566 `sage.rings.abc`\n-- #32534 Remove `.all` imports\n+- #32534/#32591: Remove `.all` imports\n - #32442 `./configure`: Make `--with-sage-venv=auto` the default\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n - #32062: GH Actions: Deploy sdists to PyPI\n@@ -165,6 +166,7 @@\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`\n+  - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n \n **Tickets for Sage 9.6:**\n``````\n",
    "created_at": "2021-09-30T18:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468272",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -152,12 +152,13 @@
 - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)
 - #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`
 - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
-- #32501 Meta-ticket: Clear out __init__.py files in preparation for namespace packages
+- #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring
+- #32501: Meta-ticket: Clear out __init__.py files in preparation for namespace packages
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
   - #32506/#32507/#32508/#32509: `__init__.py` in other packages
 - #32414 Meta-ticket: New modules providing abstract base classes to enable modularization
   - #32566 `sage.rings.abc`
-- #32534 Remove `.all` imports
+- #32534/#32591: Remove `.all` imports
 - #32442 `./configure`: Make `--with-sage-venv=auto` the default
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
 - #32062: GH Actions: Deploy sdists to PyPI
@@ -165,6 +166,7 @@
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`
+  - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
 
 **Tickets for Sage 9.6:**
``````




---

archive/issue_comments_468273.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -153,6 +153,7 @@\n - #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`\n - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring\n+- #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings\n - #32501: Meta-ticket: Clear out __init__.py files in preparation for namespace packages\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n   - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n``````\n",
    "created_at": "2021-09-30T18:52:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468273",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -153,6 +153,7 @@
 - #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`
 - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
 - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring
+- #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings
 - #32501: Meta-ticket: Clear out __init__.py files in preparation for namespace packages
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
   - #32506/#32507/#32508/#32509: `__init__.py` in other packages
``````




---

archive/issue_comments_468274.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -135,25 +135,16 @@\n - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`\n - #32073: Remove `sage.libs.readline`\n \n-**Tickets used for the deployment of Sage 9.4 to PyPI and sage-wheels:**\n+\n+**Tickets for Sage 9.5:**\n \n - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n - #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt\n-- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`\n-- #31396: relocatable wheel version of package `sage_conf`\n-- #32373: `sage_setup.library_order`: Skip libraries that were not detected\n-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n-\n-\n-**Tickets for Sage 9.5:**\n-\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)\n - #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`\n-- #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n-- #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring\n-- #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings\n+- #32373: `sage_setup.library_order`: Skip libraries that were not detected\n - #32501: Meta-ticket: Clear out __init__.py files in preparation for namespace packages\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n   - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n@@ -161,19 +152,26 @@\n   - #32566 `sage.rings.abc`\n - #32534/#32591: Remove `.all` imports\n - #32442 `./configure`: Make `--with-sage-venv=auto` the default\n+- #32062: GH Actions: Deploy sdists to PyPI\n+- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`\n+- #31396: relocatable wheel version of package `sage_conf`\n+- #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n+- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n+  - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n+  - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring\n+- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n+  - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n+  - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings\n+  - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`\n+- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n+\n+**Tickets for Sage 9.6:**\n+\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n-- #32062: GH Actions: Deploy sdists to PyPI\n-- #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n-- #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`\n-  - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n-\n-**Tickets for Sage 9.6:**\n-\n - #32390 Make `./configure --enable-editable` the default\n-- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages `sagemath-doc-...`\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n``````\n",
    "created_at": "2021-10-02T00:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468274",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -135,25 +135,16 @@
 - #31333: `sage.env.sage_include_directories`: Remove hard dependency on `numpy`
 - #32073: Remove `sage.libs.readline`
 
-**Tickets used for the deployment of Sage 9.4 to PyPI and sage-wheels:**
+
+**Tickets for Sage 9.5:**
 
 - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
 - #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt
-- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`
-- #31396: relocatable wheel version of package `sage_conf`
-- #32373: `sage_setup.library_order`: Skip libraries that were not detected
-- #29865: Modularization of sagelib: Prepare experimental subset distributions `sagemath-objects`, `sagemath-categories`, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
-
-
-**Tickets for Sage 9.5:**
-
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)
 - #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`
-- #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
-- #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring
-- #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings
+- #32373: `sage_setup.library_order`: Skip libraries that were not detected
 - #32501: Meta-ticket: Clear out __init__.py files in preparation for namespace packages
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
   - #32506/#32507/#32508/#32509: `__init__.py` in other packages
@@ -161,19 +152,26 @@
   - #32566 `sage.rings.abc`
 - #32534/#32591: Remove `.all` imports
 - #32442 `./configure`: Make `--with-sage-venv=auto` the default
+- #32062: GH Actions: Deploy sdists to PyPI
+- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`
+- #31396: relocatable wheel version of package `sage_conf`
+- #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
+- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
+  - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
+  - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring
+- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
+  - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
+  - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings
+  - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`
+- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
+
+**Tickets for Sage 9.6:**
+
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
-- #32062: GH Actions: Deploy sdists to PyPI
-- #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
-- #32432: Modularization of sagelib: Break out a separate package `sagemath-polyhedra`
-  - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
-
-**Tickets for Sage 9.6:**
-
 - #32390 Make `./configure --enable-editable` the default
-- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages `sagemath-doc-...`
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
``````




---

archive/issue_comments_468275.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n (From https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ)\n \n-Modularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme `sagemath-...`. \n+Modularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme **sagemath-...**. \n \n The goal is do this **without changing the overall structure of the source tree**.\n \n@@ -10,19 +10,19 @@\n Presentation video: https://researchseminars.org/talk/SageDays110/11/\n \n \n-1. In particular, create a package `sagemath-objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n-\n-   (Doctesting `sagemath-objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)\n-\n-   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sagemath-objects` could be ported for use with PyPy instead of CPython.\n-\n-   b) Building and deploying a user package would be easier if it could depend on a small package such as `sagemath-objects` only instead of the whole multigigabyteness of Sage.\n+1. In particular, create a package **sagemath-objects** that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n+\n+   (Doctesting **sagemath-objects** would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)\n+\n+   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that **sagemath-objects** could be ported for use with PyPy instead of CPython.\n+\n+   b) Building and deploying a user package would be easier if it could depend on a small package such as **sagemath-objects** only instead of the whole multigigabyteness of Sage.\n \n 2. Remove the mechanism of `OptionalExtension`s from `sagelib`.\n \n    Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.\n \n-   With this ticket, the user would instead install a new optional package `sagemath-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).\n+   With this ticket, the user would instead install a new optional package **sagemath-tdlib** (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).\n \n    This has been completed in Sage 9.2 (#29701).\n \n@@ -30,7 +30,7 @@\n \n - We will not change the overall structure of the source tree (`SAGE_ROOT/src/sage`). We will achieve this by using the mechanism of native namespace packages introduced in Python 3.3 (PEP 420, see https://github.com/sagemath/sage/issues/28925).\n \n-- It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distutils packages. \n+- It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distribution packages. \n \n **Constraints and challenges:**\n \n@@ -40,7 +40,7 @@\n \n - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).\n \n-  Solution: These should therefore be in the same package `sagemath-objects`.\n+  Solution: These should therefore be in the same package **sagemath-objects**.\n \n - The category framework cannot live without the integers (e.g. the output of `.cardinality()` expects an integer). \n \n@@ -103,7 +103,7 @@\n - #31218: bootstrap: Fix \"sage-venv-config: /doesnotexist/python3: bad interpreter\"\n - #31270: Remove `sage-location`'s \"sage-force-relocate\" mechanism, fix script to work without `SAGE_ROOT`\n - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide\n-- #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`\n+- #30912: sagelib: Update metadata for PyPI deployment as distribution **sagemath-standard**\n - #31357: Fixup `src/VERSION.txt` added in #30912\n - #31332: `sage.misc.persist`: Import `SAGE_DB` on need only\n - #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported\n@@ -153,8 +153,8 @@\n - #32534/#32591: Remove `.all` imports\n - #32442 `./configure`: Make `--with-sage-venv=auto` the default\n - #32062: GH Actions: Deploy sdists to PyPI\n-- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`\n-- #31396: relocatable wheel version of package `sage_conf`\n+- #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`\n+- #31396: relocatable wheel version of package **sage-conf**\n - #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n@@ -173,7 +173,7 @@\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n - #32390 Make `./configure --enable-editable` the default\n - #30911: src/tox.ini: Add \"develop\" environment\n-- #29868: pip-installable packages `sagemath-doc-...`\n+- #29868: pip-installable packages **sagemath-doc-...**\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n - #31543: Eliminate use of patches for Python packages\n@@ -183,22 +183,22 @@\n - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n-- Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.\n-   - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`\n-   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`\n-   - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n-   - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n+- Deploy mildly modularized distributions **sagemath-core**, **sagemath-tdlib**, ... to PyPI.\n+   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n+   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n+   - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n+   - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n - Further modularization:\n-   - Rework `sagemath-objects`, `sagemath-categories` as namespace packages.\n+   - Rework **sagemath-objects**, **sagemath-categories** as namespace packages.\n    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`\n    - #29941: Modularization of sagelib: Break out a separate package `sagemath-repl`\n    - Modularization of sagelib: Break out a separate package `sagemath-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sagemath-calculus`(?)\n-   - `sagemath-singular`\n-   - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`\n-   - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`\n-- Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package `sagemath-scripts`. This will allow users to run, for example, `sage -sh` before sagelib is installed.\n+   - **sagemath-singular**\n+   - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n+   - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics**\n+- Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.\n - #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n - #30371: In-place (editable) installs of sagelib in a venv\n \n``````\n",
    "created_at": "2021-10-02T00:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468275",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 (From https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ)
 
-Modularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme `sagemath-...`. 
+Modularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme **sagemath-...**. 
 
 The goal is do this **without changing the overall structure of the source tree**.
 
@@ -10,19 +10,19 @@
 Presentation video: https://researchseminars.org/talk/SageDays110/11/
 
 
-1. In particular, create a package `sagemath-objects` that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
-
-   (Doctesting `sagemath-objects` would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)
-
-   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that `sagemath-objects` could be ported for use with PyPy instead of CPython.
-
-   b) Building and deploying a user package would be easier if it could depend on a small package such as `sagemath-objects` only instead of the whole multigigabyteness of Sage.
+1. In particular, create a package **sagemath-objects** that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
+
+   (Doctesting **sagemath-objects** would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)
+
+   a) These facilities could see a wider use in the mathematical Python community, and in this way we could hope to benefit from a larger developer base. For example, we would hope that **sagemath-objects** could be ported for use with PyPy instead of CPython.
+
+   b) Building and deploying a user package would be easier if it could depend on a small package such as **sagemath-objects** only instead of the whole multigigabyteness of Sage.
 
 2. Remove the mechanism of `OptionalExtension`s from `sagelib`.
 
    Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.
 
-   With this ticket, the user would instead install a new optional package `sagemath-tdlib` (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).
+   With this ticket, the user would instead install a new optional package **sagemath-tdlib** (which has `tdlib` as a dependency); this installs the `Extension` `sage.graphs.graph_decompositions.tdlib` (as a namespace package).
 
    This has been completed in Sage 9.2 (#29701).
 
@@ -30,7 +30,7 @@
 
 - We will not change the overall structure of the source tree (`SAGE_ROOT/src/sage`). We will achieve this by using the mechanism of native namespace packages introduced in Python 3.3 (PEP 420, see https://github.com/sagemath/sage/issues/28925).
 
-- It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distutils packages. 
+- It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distribution packages. 
 
 **Constraints and challenges:**
 
@@ -40,7 +40,7 @@
 
 - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).
 
-  Solution: These should therefore be in the same package `sagemath-objects`.
+  Solution: These should therefore be in the same package **sagemath-objects**.
 
 - The category framework cannot live without the integers (e.g. the output of `.cardinality()` expects an integer). 
 
@@ -103,7 +103,7 @@
 - #31218: bootstrap: Fix "sage-venv-config: /doesnotexist/python3: bad interpreter"
 - #31270: Remove `sage-location`'s "sage-force-relocate" mechanism, fix script to work without `SAGE_ROOT`
 - #31321: `build/pkgs`: Add some missing install-requires metadata, add some documentation to the developer's guide
-- #30912: sagelib: Update metadata for PyPI deployment as distribution `sagemath-standard`
+- #30912: sagelib: Update metadata for PyPI deployment as distribution **sagemath-standard**
 - #31357: Fixup `src/VERSION.txt` added in #30912
 - #31332: `sage.misc.persist`: Import `SAGE_DB` on need only
 - #31334: `sage.doctest.control`: Do not fail if `sage.libs.arb` cannot be imported
@@ -153,8 +153,8 @@
 - #32534/#32591: Remove `.all` imports
 - #32442 `./configure`: Make `--with-sage-venv=auto` the default
 - #32062: GH Actions: Deploy sdists to PyPI
-- #29039: pip-installable version of package `sage_conf` - installs non-Python bits of the Sage distribution in `~/.sage/`
-- #31396: relocatable wheel version of package `sage_conf`
+- #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`
+- #31396: relocatable wheel version of package **sage-conf**
 - #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
@@ -173,7 +173,7 @@
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
 - #32390 Make `./configure --enable-editable` the default
 - #30911: src/tox.ini: Add "develop" environment
-- #29868: pip-installable packages `sagemath-doc-...`
+- #29868: pip-installable packages **sagemath-doc-...**
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
 - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
 - #31543: Eliminate use of patches for Python packages
@@ -183,22 +183,22 @@
 - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
-- Deploy mildly modularized distributions `sagemath-core`, `sagemath-tdlib`, ... to PyPI.
-   - #30151: Modularization of sagelib: Break out a separate package `sagemath-meataxe`
-   - #29864: Modularization of sagelib: Break out a separate package `sagemath-tdlib`
-   - `sagemath-giac` (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
-   - `sagemath-brial` (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
+- Deploy mildly modularized distributions **sagemath-core**, **sagemath-tdlib**, ... to PyPI.
+   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
+   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
+   - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
+   - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
 - Further modularization:
-   - Rework `sagemath-objects`, `sagemath-categories` as namespace packages.
+   - Rework **sagemath-objects**, **sagemath-categories** as namespace packages.
    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`
    - #29941: Modularization of sagelib: Break out a separate package `sagemath-repl`
    - Modularization of sagelib: Break out a separate package `sagemath-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sagemath-calculus`(?)
-   - `sagemath-singular`
-   - #31444 Modularization of sagelib: Break out separate package `sagemath-linbox`
-   - #31695 Modularization of sagelib: Break out separate package `sagemath-symbolics`
-- Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package `sagemath-scripts`. This will allow users to run, for example, `sage -sh` before sagelib is installed.
+   - **sagemath-singular**
+   - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
+   - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics**
+- Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.
 - #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
 - #30371: In-place (editable) installs of sagelib in a venv
 
``````




---

archive/issue_comments_468276.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -113,7 +113,7 @@\n - #31362: `make build-local`, make `build-venv`\n - #31377 `./configure --enable-editable`\n - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`\n-- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)\n+- #30010: Split sage_setup.docbuild out to a separate distribution **sage-docbuild**\n - #31278: `widgetsnbextension` should not depend on `notebook`\n - #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`\n - #31523: Fix dependencies of `ipywidgets`\n@@ -139,7 +139,7 @@\n **Tickets for Sage 9.5:**\n \n - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`\n-- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.\n+- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy distribution **sage-setup** to PyPI.\n - #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt\n - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`\n - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)\n@@ -193,7 +193,7 @@\n    - Rework **sagemath-objects**, **sagemath-categories** as namespace packages.\n    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`\n-   - #29941: Modularization of sagelib: Break out a separate package `sagemath-repl`\n+   - #29941: Modularization of sagelib: Break out a separate package **sagemath-repl**\n    - Modularization of sagelib: Break out a separate package `sagemath-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sagemath-calculus`(?)\n    - **sagemath-singular**\n    - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n``````\n",
    "created_at": "2021-10-02T00:28:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468276",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -113,7 +113,7 @@
 - #31362: `make build-local`, make `build-venv`
 - #31377 `./configure --enable-editable`
 - #31045: `pip`, `wheel`, `setuptools`: Make wheels available in `SAGE_SPKG_WHEELS`
-- #30010: Split sage_setup.docbuild out to a separate distribution (distutils package)
+- #30010: Split sage_setup.docbuild out to a separate distribution **sage-docbuild**
 - #31278: `widgetsnbextension` should not depend on `notebook`
 - #30383: Add `configure --disable-notebook`; show descriptions of optional packages in `configure --help`
 - #31523: Fix dependencies of `ipywidgets`
@@ -139,7 +139,7 @@
 **Tickets for Sage 9.5:**
 
 - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`
-- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy `sage_setup` to PyPI.
+- #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy distribution **sage-setup** to PyPI.
 - #32371 `ptyprocess`: Pin version to 0.5.1 in install-requires.txt
 - #31031 Change `sage_setup: distribution` headers from `sage-...` to `sagemath-...`
 - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)
@@ -193,7 +193,7 @@
    - Rework **sagemath-objects**, **sagemath-categories** as namespace packages.
    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`
-   - #29941: Modularization of sagelib: Break out a separate package `sagemath-repl`
+   - #29941: Modularization of sagelib: Break out a separate package **sagemath-repl**
    - Modularization of sagelib: Break out a separate package `sagemath-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sagemath-calculus`(?)
    - **sagemath-singular**
    - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
``````




---

archive/issue_comments_468277.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -150,6 +150,8 @@\n   - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n - #32414 Meta-ticket: New modules providing abstract base classes to enable modularization\n   - #32566 `sage.rings.abc`\n+  - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods\n+  - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`\n - #32534/#32591: Remove `.all` imports\n - #32442 `./configure`: Make `--with-sage-venv=auto` the default\n - #32062: GH Actions: Deploy sdists to PyPI\n@@ -158,10 +160,10 @@\n - #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n+  - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings\n   - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring\n - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n   - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n-  - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings\n   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n \n``````\n",
    "created_at": "2021-10-02T01:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468277",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -150,6 +150,8 @@
   - #32506/#32507/#32508/#32509: `__init__.py` in other packages
 - #32414 Meta-ticket: New modules providing abstract base classes to enable modularization
   - #32566 `sage.rings.abc`
+  - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods
+  - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`
 - #32534/#32591: Remove `.all` imports
 - #32442 `./configure`: Make `--with-sage-venv=auto` the default
 - #32062: GH Actions: Deploy sdists to PyPI
@@ -158,10 +160,10 @@
 - #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
+  - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings
   - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring
 - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
   - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
-  - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings
   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 
``````




---

archive/issue_comments_468278.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -162,10 +162,11 @@\n   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n   - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings\n   - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring\n+- #32614 Features and optional tags for sage modules provided by separate distributions\n+- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n   - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`\n-- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n \n **Tickets for Sage 9.6:**\n \n@@ -201,6 +202,7 @@\n    - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics**\n - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.\n+- #32613: pynac: Replace direct use of singular's libfactory by a Python call\n - #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n - #30371: In-place (editable) installs of sagelib in a venv\n \n``````\n",
    "created_at": "2021-10-03T01:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468278",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -162,10 +162,11 @@
   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
   - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings
   - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring
+- #32614 Features and optional tags for sage modules provided by separate distributions
+- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
   - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`
-- #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 
 **Tickets for Sage 9.6:**
 
@@ -201,6 +202,7 @@
    - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics**
 - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.
+- #32613: pynac: Replace direct use of singular's libfactory by a Python call
 - #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
 - #30371: In-place (editable) installs of sagelib in a venv
 
``````




---

archive/issue_comments_468279.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -162,6 +162,7 @@\n   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n   - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings\n   - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring\n+- #32585 `sage.doctest`: Eliminate hard dependency on `RealIntervalField`\n - #32614 Features and optional tags for sage modules provided by separate distributions\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n``````\n",
    "created_at": "2021-10-03T17:06:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468279",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -162,6 +162,7 @@
   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
   - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings
   - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring
+- #32585 `sage.doctest`: Eliminate hard dependency on `RealIntervalField`
 - #32614 Features and optional tags for sage modules provided by separate distributions
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
``````




---

archive/issue_comments_468280.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -149,7 +149,7 @@\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n   - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n - #32414 Meta-ticket: New modules providing abstract base classes to enable modularization\n-  - #32566 `sage.rings.abc`\n+  - #32566/#32610/#32612 `sage.rings.abc`\n   - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods\n   - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`\n - #32534/#32591: Remove `.all` imports\n@@ -165,6 +165,7 @@\n - #32585 `sage.doctest`: Eliminate hard dependency on `RealIntervalField`\n - #32614 Features and optional tags for sage modules provided by separate distributions\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n+- #32619 `lazy_import`: Muffle diagnostic messages for `at_startup`\n - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n   - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`\n``````\n",
    "created_at": "2021-10-04T02:47:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468280",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -149,7 +149,7 @@
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
   - #32506/#32507/#32508/#32509: `__init__.py` in other packages
 - #32414 Meta-ticket: New modules providing abstract base classes to enable modularization
-  - #32566 `sage.rings.abc`
+  - #32566/#32610/#32612 `sage.rings.abc`
   - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods
   - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`
 - #32534/#32591: Remove `.all` imports
@@ -165,6 +165,7 @@
 - #32585 `sage.doctest`: Eliminate hard dependency on `RealIntervalField`
 - #32614 Features and optional tags for sage modules provided by separate distributions
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
+- #32619 `lazy_import`: Muffle diagnostic messages for `at_startup`
 - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
   - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`
``````




---

archive/issue_comments_468281.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -152,7 +152,7 @@\n   - #32566/#32610/#32612 `sage.rings.abc`\n   - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods\n   - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`\n-- #32534/#32591: Remove `.all` imports\n+- #32534/#32591/#32620: Remove `.all` imports\n - #32442 `./configure`: Make `--with-sage-venv=auto` the default\n - #32062: GH Actions: Deploy sdists to PyPI\n - #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`\n``````\n",
    "created_at": "2021-10-04T05:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468281",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -152,7 +152,7 @@
   - #32566/#32610/#32612 `sage.rings.abc`
   - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods
   - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`
-- #32534/#32591: Remove `.all` imports
+- #32534/#32591/#32620: Remove `.all` imports
 - #32442 `./configure`: Make `--with-sage-venv=auto` the default
 - #32062: GH Actions: Deploy sdists to PyPI
 - #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`
``````




---

archive/issue_comments_468282.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -176,7 +176,7 @@\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n-- #32390 Make `./configure --enable-editable` the default\n+- #32406: Make `./configure --enable-editable` the default\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages **sagemath-doc-...**\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n``````\n",
    "created_at": "2021-10-12T06:38:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468282",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -176,7 +176,7 @@
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
-- #32390 Make `./configure --enable-editable` the default
+- #32406: Make `./configure --enable-editable` the default
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages **sagemath-doc-...**
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
``````




---

archive/issue_comments_468283.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -189,6 +189,7 @@\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - Deploy mildly modularized distributions **sagemath-core**, **sagemath-tdlib**, ... to PyPI.\n+   - #32700: Modularization of sagelib: Distribution **sagemath-gsl**\n    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n``````\n",
    "created_at": "2021-10-15T22:59:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468283",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -189,6 +189,7 @@
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - Deploy mildly modularized distributions **sagemath-core**, **sagemath-tdlib**, ... to PyPI.
+   - #32700: Modularization of sagelib: Distribution **sagemath-gsl**
    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
``````




---

archive/issue_comments_468284.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -197,6 +197,7 @@\n    - #30716 Towards making Arb library optional\n - Further modularization:\n    - Rework **sagemath-objects**, **sagemath-categories** as namespace packages.\n+   - #32702 Modularization of sagelib: Distribution **sagemath-plot**\n    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`\n    - #29941: Modularization of sagelib: Break out a separate package **sagemath-repl**\n``````\n",
    "created_at": "2021-10-16T03:39:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468284",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -197,6 +197,7 @@
    - #30716 Towards making Arb library optional
 - Further modularization:
    - Rework **sagemath-objects**, **sagemath-categories** as namespace packages.
+   - #32702 Modularization of sagelib: Distribution **sagemath-plot**
    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`
    - #29941: Modularization of sagelib: Break out a separate package **sagemath-repl**
``````




---

archive/issue_comments_468285.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,10 +4,12 @@\n \n The goal is do this **without changing the overall structure of the source tree**.\n \n-[Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage release tour)\n-\n-\n-Presentation video: https://researchseminars.org/talk/SageDays110/11/\n+- [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)\n+- [How to modularize for fun and profit, II: MONOREPO vs. MULTIREPO](https://groups.google.com/g/sage-devel/c/AaKxoNQAWMg/m/smcnaPoZBAAJ) (sage-devel, 2021-10)\n+- [How to modularize for fun and profit, I: Namespace vs. distribution name](https://groups.google.com/g/sage-devel/c/p4MO6L95s7E/m/yZF93ewIBAAJ) (sage-devel, 2021-10)\n+- [Refactoring tasks in the Sage library to support modularization](https://groups.google.com/g/sage-devel/c/T0A4JCOg9DY/m/q6WKsI1yBAAJ) (sage-devel, 2021-09)\n+- [Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage 9.4 release tour, 2021-08)\n+- Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)\n \n \n 1. In particular, create a package **sagemath-objects** that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n@@ -36,7 +38,7 @@\n \n - Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).\n \n-  Solution (implemented in Sage 9.2, #29500): Do not use pip for installations from local source directories.  Use `setup.py bdist_wheel`, followed by `pip install` of the wheel.\n+  Solution (implemented in Sage 9.2, #29500): Do not use pip for installations from local source directories.  Use `setup.py bdist_wheel`, followed by `pip install` of the wheel. pip 21.1's `--use-feature=in-tree-build` makes this workaround unnecessary (#32046, Sage 9.5).\n \n - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).\n \n``````\n",
    "created_at": "2021-10-16T18:08:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468285",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,10 +4,12 @@
 
 The goal is do this **without changing the overall structure of the source tree**.
 
-[Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage release tour)
-
-
-Presentation video: https://researchseminars.org/talk/SageDays110/11/
+- [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)
+- [How to modularize for fun and profit, II: MONOREPO vs. MULTIREPO](https://groups.google.com/g/sage-devel/c/AaKxoNQAWMg/m/smcnaPoZBAAJ) (sage-devel, 2021-10)
+- [How to modularize for fun and profit, I: Namespace vs. distribution name](https://groups.google.com/g/sage-devel/c/p4MO6L95s7E/m/yZF93ewIBAAJ) (sage-devel, 2021-10)
+- [Refactoring tasks in the Sage library to support modularization](https://groups.google.com/g/sage-devel/c/T0A4JCOg9DY/m/q6WKsI1yBAAJ) (sage-devel, 2021-09)
+- [Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage 9.4 release tour, 2021-08)
+- Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)
 
 
 1. In particular, create a package **sagemath-objects** that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
@@ -36,7 +38,7 @@
 
 - Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).
 
-  Solution (implemented in Sage 9.2, #29500): Do not use pip for installations from local source directories.  Use `setup.py bdist_wheel`, followed by `pip install` of the wheel.
+  Solution (implemented in Sage 9.2, #29500): Do not use pip for installations from local source directories.  Use `setup.py bdist_wheel`, followed by `pip install` of the wheel. pip 21.1's `--use-feature=in-tree-build` makes this workaround unnecessary (#32046, Sage 9.5).
 
 - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).
 
``````




---

archive/issue_comments_468286.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,7 @@\n - [How to modularize for fun and profit, I: Namespace vs. distribution name](https://groups.google.com/g/sage-devel/c/p4MO6L95s7E/m/yZF93ewIBAAJ) (sage-devel, 2021-10)\n - [Refactoring tasks in the Sage library to support modularization](https://groups.google.com/g/sage-devel/c/T0A4JCOg9DY/m/q6WKsI1yBAAJ) (sage-devel, 2021-09)\n - [Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage 9.4 release tour, 2021-08)\n+- [Schematics](https://drive.google.com/file/d/18ptPi1s6YCj8jm_em8bFBlqjDYK6Eapm/view) (2020-10)\n - Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)\n \n \n``````\n",
    "created_at": "2021-10-16T18:43:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468286",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,7 @@
 - [How to modularize for fun and profit, I: Namespace vs. distribution name](https://groups.google.com/g/sage-devel/c/p4MO6L95s7E/m/yZF93ewIBAAJ) (sage-devel, 2021-10)
 - [Refactoring tasks in the Sage library to support modularization](https://groups.google.com/g/sage-devel/c/T0A4JCOg9DY/m/q6WKsI1yBAAJ) (sage-devel, 2021-09)
 - [Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage 9.4 release tour, 2021-08)
+- [Schematics](https://drive.google.com/file/d/18ptPi1s6YCj8jm_em8bFBlqjDYK6Eapm/view) (2020-10)
 - Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)
 
 
``````




---

archive/issue_comments_468287.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,7 @@\n \n The goal is do this **without changing the overall structure of the source tree**.\n \n+- [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)\n - [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)\n - [How to modularize for fun and profit, II: MONOREPO vs. MULTIREPO](https://groups.google.com/g/sage-devel/c/AaKxoNQAWMg/m/smcnaPoZBAAJ) (sage-devel, 2021-10)\n - [How to modularize for fun and profit, I: Namespace vs. distribution name](https://groups.google.com/g/sage-devel/c/p4MO6L95s7E/m/yZF93ewIBAAJ) (sage-devel, 2021-10)\n``````\n",
    "created_at": "2021-10-19T21:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468287",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,7 @@
 
 The goal is do this **without changing the overall structure of the source tree**.
 
+- [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)
 - [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)
 - [How to modularize for fun and profit, II: MONOREPO vs. MULTIREPO](https://groups.google.com/g/sage-devel/c/AaKxoNQAWMg/m/smcnaPoZBAAJ) (sage-devel, 2021-10)
 - [How to modularize for fun and profit, I: Namespace vs. distribution name](https://groups.google.com/g/sage-devel/c/p4MO6L95s7E/m/yZF93ewIBAAJ) (sage-devel, 2021-10)
``````




---

archive/issue_comments_468288.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -205,10 +205,9 @@\n    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`\n    - #29941: Modularization of sagelib: Break out a separate package **sagemath-repl**\n-   - Modularization of sagelib: Break out a separate package `sagemath-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sagemath-calculus`(?)\n    - **sagemath-singular**\n    - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n-   - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics**\n+   - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)\n - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.\n - #32613: pynac: Replace direct use of singular's libfactory by a Python call\n - #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n``````\n",
    "created_at": "2021-10-20T05:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468288",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -205,10 +205,9 @@
    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
    - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`
    - #29941: Modularization of sagelib: Break out a separate package **sagemath-repl**
-   - Modularization of sagelib: Break out a separate package `sagemath-maxima` (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)... or `sagemath-calculus`(?)
    - **sagemath-singular**
    - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
-   - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics**
+   - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)
 - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.
 - #32613: pynac: Replace direct use of singular's libfactory by a Python call
 - #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
``````




---

archive/issue_comments_468289.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -153,9 +153,10 @@\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n   - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n - #32414 Meta-ticket: New modules providing abstract base classes to enable modularization\n-  - #32566/#32610/#32612 `sage.rings.abc`\n+  - #32566/#32610/#32612/#32660/#32750 `sage.rings.abc`\n   - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods\n   - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`\n+  - #32742 Use `sage.rings.abc.RealField`, `sage.rings.abc.ComplexField` more\n - #32534/#32591/#32620: Remove `.all` imports\n - #32442 `./configure`: Make `--with-sage-venv=auto` the default\n - #32062: GH Actions: Deploy sdists to PyPI\n@@ -166,13 +167,25 @@\n   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n   - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings\n   - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring\n+  - #32665: Deprecate `is_[Callable]SymbolicExpressionRing`, remove use of `is_Symbolic{Equation,Variable}`, `is_CallableSymbolicExpression`\n+  - #32725: Modularization changes in `sage.modules`, `sage.matrix`\n+  - #32730: Import `Expression` from `sage.structure.element`\n+  - #32717: Move `sage.functions.other.sqrt` to `sage.misc.functional`\n+  - #32731: Avoid `ceil`, `floor` from `sage.functions.other` in non-symbolic uses\n - #32585 `sage.doctest`: Eliminate hard dependency on `RealIntervalField`\n - #32614 Features and optional tags for sage modules provided by separate distributions\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n+- #32649 Replace `sage.doctest.external.has_*` functions by `Feature`s\n - #32619 `lazy_import`: Muffle diagnostic messages for `at_startup`\n - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n-  - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules\n+  - #30022/#32441/#32455/#32775 Remove compile-time dependency on `cypari2` and `flint` from some modules\n   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`\n+  - #32635 `sage.matrix.matrix_space`: Import element classes on demand, fall back to generic on `ImportError`\n+  - #32677 `sage.rings.real_double`: Move methods using GSL to a separate extension module\n+  - #32734 Remove `.all` import of `infinity`\n+  - #32625 `Parent._is_numerical`, `_is_real_numerical` - remove hard dependency on `real_mpfr`, `complex_mpfr`\n+  - #32641 Decentralize `sage.rings.numbers_abc`\n+  - #32769 `sage.categories.coxeter_groups`: Remove module-level imports from `sage.rings`, `sage.graphs`\n \n **Tickets for Sage 9.6:**\n \n``````\n",
    "created_at": "2021-10-30T18:59:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468289",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -153,9 +153,10 @@
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
   - #32506/#32507/#32508/#32509: `__init__.py` in other packages
 - #32414 Meta-ticket: New modules providing abstract base classes to enable modularization
-  - #32566/#32610/#32612 `sage.rings.abc`
+  - #32566/#32610/#32612/#32660/#32750 `sage.rings.abc`
   - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods
   - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`
+  - #32742 Use `sage.rings.abc.RealField`, `sage.rings.abc.ComplexField` more
 - #32534/#32591/#32620: Remove `.all` imports
 - #32442 `./configure`: Make `--with-sage-venv=auto` the default
 - #32062: GH Actions: Deploy sdists to PyPI
@@ -166,13 +167,25 @@
   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
   - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings
   - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring
+  - #32665: Deprecate `is_[Callable]SymbolicExpressionRing`, remove use of `is_Symbolic{Equation,Variable}`, `is_CallableSymbolicExpression`
+  - #32725: Modularization changes in `sage.modules`, `sage.matrix`
+  - #32730: Import `Expression` from `sage.structure.element`
+  - #32717: Move `sage.functions.other.sqrt` to `sage.misc.functional`
+  - #32731: Avoid `ceil`, `floor` from `sage.functions.other` in non-symbolic uses
 - #32585 `sage.doctest`: Eliminate hard dependency on `RealIntervalField`
 - #32614 Features and optional tags for sage modules provided by separate distributions
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
+- #32649 Replace `sage.doctest.external.has_*` functions by `Feature`s
 - #32619 `lazy_import`: Muffle diagnostic messages for `at_startup`
 - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
-  - #30022/#32441/#32455 Remove compile-time dependency on `cypari2` and `flint` from some modules
+  - #30022/#32441/#32455/#32775 Remove compile-time dependency on `cypari2` and `flint` from some modules
   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`
+  - #32635 `sage.matrix.matrix_space`: Import element classes on demand, fall back to generic on `ImportError`
+  - #32677 `sage.rings.real_double`: Move methods using GSL to a separate extension module
+  - #32734 Remove `.all` import of `infinity`
+  - #32625 `Parent._is_numerical`, `_is_real_numerical` - remove hard dependency on `real_mpfr`, `complex_mpfr`
+  - #32641 Decentralize `sage.rings.numbers_abc`
+  - #32769 `sage.categories.coxeter_groups`: Remove module-level imports from `sage.rings`, `sage.graphs`
 
 **Tickets for Sage 9.6:**
 
``````




---

archive/issue_comments_468290.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -157,7 +157,7 @@\n   - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods\n   - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`\n   - #32742 Use `sage.rings.abc.RealField`, `sage.rings.abc.ComplexField` more\n-- #32534/#32591/#32620: Remove `.all` imports\n+- #32534/#32591/#32620/#32734/#32733: Remove `.all` imports\n - #32442 `./configure`: Make `--with-sage-venv=auto` the default\n - #32062: GH Actions: Deploy sdists to PyPI\n - #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`\n@@ -167,7 +167,10 @@\n   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n   - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings\n   - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring\n+  - #32638: `sage.structure.element`: Add abc `Expression`; deprecate `is_Expression` etc.\n   - #32665: Deprecate `is_[Callable]SymbolicExpressionRing`, remove use of `is_Symbolic{Equation,Variable}`, `is_CallableSymbolicExpression`\n+  - #32708: `sage.tensor.modules`: remove dependency on `sage.manifolds`\n+  - #32712: `sage.tensor.modules`: make doctests involving `SR` optional\n   - #32725: Modularization changes in `sage.modules`, `sage.matrix`\n   - #32730: Import `Expression` from `sage.structure.element`\n   - #32717: Move `sage.functions.other.sqrt` to `sage.misc.functional`\n@@ -180,12 +183,19 @@\n - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n   - #30022/#32441/#32455/#32775 Remove compile-time dependency on `cypari2` and `flint` from some modules\n   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`\n+  - #32628 `ConvexSet_base`, `Polyhedron_base`: In `_test` methods, do not fail if some modules are unavailable\n+  - #32634 `sage.misc.latex`, `sage.repl.display.fancy_repr`: Make imports more local\n+  - #32652/#32653/#32732 `sage.geometry.polyhedron`: Mark doctests `# optional - sage.rings.number_field` etc.\n   - #32635 `sage.matrix.matrix_space`: Import element classes on demand, fall back to generic on `ImportError`\n+  - #32666 `Polyhedron_base.vertex_adjacency_matrix`: Do not use `face_lattice`\n   - #32677 `sage.rings.real_double`: Move methods using GSL to a separate extension module\n-  - #32734 Remove `.all` import of `infinity`\n   - #32625 `Parent._is_numerical`, `_is_real_numerical` - remove hard dependency on `real_mpfr`, `complex_mpfr`\n   - #32641 Decentralize `sage.rings.numbers_abc`\n   - #32769 `sage.categories.coxeter_groups`: Remove module-level imports from `sage.rings`, `sage.graphs`\n+  - #32777 Allow some imports of `RLF` to fail\n+  - #32780 `sage.geometry.polyhedron.library`: Delay import of rings\n+  - #32778 `sage.rings.infinity`: Remove hard dependency on `real_lazy` and `real_mpfi`\n+\n \n **Tickets for Sage 9.6:**\n \n``````\n",
    "created_at": "2021-10-30T19:12:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468290",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -157,7 +157,7 @@
   - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods
   - #32606 Replace `is_IntegerModRing` by `isinstance` with new class `sage.rings.abc.IntegerModRing`
   - #32742 Use `sage.rings.abc.RealField`, `sage.rings.abc.ComplexField` more
-- #32534/#32591/#32620: Remove `.all` imports
+- #32534/#32591/#32620/#32734/#32733: Remove `.all` imports
 - #32442 `./configure`: Make `--with-sage-venv=auto` the default
 - #32062: GH Actions: Deploy sdists to PyPI
 - #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`
@@ -167,7 +167,10 @@
   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
   - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings
   - #32593: `sage.modules`, `sage.matrix`: Remove import-time dependencies on the symbolic ring
+  - #32638: `sage.structure.element`: Add abc `Expression`; deprecate `is_Expression` etc.
   - #32665: Deprecate `is_[Callable]SymbolicExpressionRing`, remove use of `is_Symbolic{Equation,Variable}`, `is_CallableSymbolicExpression`
+  - #32708: `sage.tensor.modules`: remove dependency on `sage.manifolds`
+  - #32712: `sage.tensor.modules`: make doctests involving `SR` optional
   - #32725: Modularization changes in `sage.modules`, `sage.matrix`
   - #32730: Import `Expression` from `sage.structure.element`
   - #32717: Move `sage.functions.other.sqrt` to `sage.misc.functional`
@@ -180,12 +183,19 @@
 - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
   - #30022/#32441/#32455/#32775 Remove compile-time dependency on `cypari2` and `flint` from some modules
   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`
+  - #32628 `ConvexSet_base`, `Polyhedron_base`: In `_test` methods, do not fail if some modules are unavailable
+  - #32634 `sage.misc.latex`, `sage.repl.display.fancy_repr`: Make imports more local
+  - #32652/#32653/#32732 `sage.geometry.polyhedron`: Mark doctests `# optional - sage.rings.number_field` etc.
   - #32635 `sage.matrix.matrix_space`: Import element classes on demand, fall back to generic on `ImportError`
+  - #32666 `Polyhedron_base.vertex_adjacency_matrix`: Do not use `face_lattice`
   - #32677 `sage.rings.real_double`: Move methods using GSL to a separate extension module
-  - #32734 Remove `.all` import of `infinity`
   - #32625 `Parent._is_numerical`, `_is_real_numerical` - remove hard dependency on `real_mpfr`, `complex_mpfr`
   - #32641 Decentralize `sage.rings.numbers_abc`
   - #32769 `sage.categories.coxeter_groups`: Remove module-level imports from `sage.rings`, `sage.graphs`
+  - #32777 Allow some imports of `RLF` to fail
+  - #32780 `sage.geometry.polyhedron.library`: Delay import of rings
+  - #32778 `sage.rings.infinity`: Remove hard dependency on `real_lazy` and `real_mpfi`
+
 
 **Tickets for Sage 9.6:**
 
``````




---

archive/issue_comments_468291.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -181,7 +181,7 @@\n - #32649 Replace `sage.doctest.external.has_*` functions by `Feature`s\n - #32619 `lazy_import`: Muffle diagnostic messages for `at_startup`\n - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n-  - #30022/#32441/#32455/#32775 Remove compile-time dependency on `cypari2` and `flint` from some modules\n+  - #30022/#32441/#32455/#32775/#32701 Remove compile-time dependency on `cypari2` and `flint` from some modules\n   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`\n   - #32628 `ConvexSet_base`, `Polyhedron_base`: In `_test` methods, do not fail if some modules are unavailable\n   - #32634 `sage.misc.latex`, `sage.repl.display.fancy_repr`: Make imports more local\n``````\n",
    "created_at": "2021-10-31T22:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468291",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -181,7 +181,7 @@
 - #32649 Replace `sage.doctest.external.has_*` functions by `Feature`s
 - #32619 `lazy_import`: Muffle diagnostic messages for `at_startup`
 - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
-  - #30022/#32441/#32455/#32775 Remove compile-time dependency on `cypari2` and `flint` from some modules
+  - #30022/#32441/#32455/#32775/#32701 Remove compile-time dependency on `cypari2` and `flint` from some modules
   - #32592 `sage.geometry.polyhedron`: Split out `backend_cdd_rdf` from `backend_cdd`
   - #32628 `ConvexSet_base`, `Polyhedron_base`: In `_test` methods, do not fail if some modules are unavailable
   - #32634 `sage.misc.latex`, `sage.repl.display.fancy_repr`: Make imports more local
``````




---

archive/issue_comments_468292.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -149,9 +149,10 @@\n - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)\n - #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`\n - #32373: `sage_setup.library_order`: Skip libraries that were not detected\n-- #32501: Meta-ticket: Clear out __init__.py files in preparation for namespace packages\n+- #32501: Meta-ticket: Clear out `__init__.py` files in preparation for namespace packages\n   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`\n   - #32506/#32507/#32508/#32509: `__init__.py` in other packages\n+  - #32840 Fix `unpickle_global` when `register_unpickle_override` appears in a module not loaded at startup\n - #32414 Meta-ticket: New modules providing abstract base classes to enable modularization\n   - #32566/#32610/#32612/#32660/#32750 `sage.rings.abc`\n   - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods\n``````\n",
    "created_at": "2021-11-09T17:53:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468292",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -149,9 +149,10 @@
 - #32386 Merge `pynac` sources as `src/sage/symbolic/ginac` (supersedes #30534)
 - #32412: Deprecate `sage.libs.primecount`/`sage.interfaces.primecount`
 - #32373: `sage_setup.library_order`: Skip libraries that were not detected
-- #32501: Meta-ticket: Clear out __init__.py files in preparation for namespace packages
+- #32501: Meta-ticket: Clear out `__init__.py` files in preparation for namespace packages
   - #31420/#32479/#32489: Review/remove monkey patching in `src/sage/__init__.py`
   - #32506/#32507/#32508/#32509: `__init__.py` in other packages
+  - #32840 Fix `unpickle_global` when `register_unpickle_override` appears in a module not loaded at startup
 - #32414 Meta-ticket: New modules providing abstract base classes to enable modularization
   - #32566/#32610/#32612/#32660/#32750 `sage.rings.abc`
   - #32600 `sage.arith`: Use `sage.rings.abc` and move some module-level imports into methods
``````




---

archive/issue_comments_468293.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -200,17 +200,18 @@\n \n **Tickets for Sage 9.6:**\n \n+- #32874 Remove use of `setup.py install` for sagelib\n+- #32406: Make `./configure --enable-editable` the default\n+- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n-- #32406: Make `./configure --enable-editable` the default\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages **sagemath-doc-...**\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n - #31543: Eliminate use of patches for Python packages\n-- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n``````\n",
    "created_at": "2021-11-15T03:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468293",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -200,17 +200,18 @@
 
 **Tickets for Sage 9.6:**
 
+- #32874 Remove use of `setup.py install` for sagelib
+- #32406: Make `./configure --enable-editable` the default
+- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
-- #32406: Make `./configure --enable-editable` the default
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages **sagemath-doc-...**
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
 - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
 - #31543: Eliminate use of patches for Python packages
-- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
``````




---

archive/issue_comments_468294.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,7 @@\n \n The goal is do this **without changing the overall structure of the source tree**.\n \n+- [Master plan of sage modularization](https://groups.google.com/g/sage-devel/c/cTifWZOAfH8/m/niyTcAjCBAAJ) (sage-devel, 2021-11)\n - [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)\n - [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)\n - [How to modularize for fun and profit, II: MONOREPO vs. MULTIREPO](https://groups.google.com/g/sage-devel/c/AaKxoNQAWMg/m/smcnaPoZBAAJ) (sage-devel, 2021-10)\n``````\n",
    "created_at": "2021-11-18T07:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468294",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,7 @@
 
 The goal is do this **without changing the overall structure of the source tree**.
 
+- [Master plan of sage modularization](https://groups.google.com/g/sage-devel/c/cTifWZOAfH8/m/niyTcAjCBAAJ) (sage-devel, 2021-11)
 - [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)
 - [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)
 - [How to modularize for fun and profit, II: MONOREPO vs. MULTIREPO](https://groups.google.com/g/sage-devel/c/AaKxoNQAWMg/m/smcnaPoZBAAJ) (sage-devel, 2021-10)
``````




---

archive/issue_comments_468295.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -181,6 +181,7 @@\n - #32614 Features and optional tags for sage modules provided by separate distributions\n - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives\n - #32649 Replace `sage.doctest.external.has_*` functions by `Feature`s\n+- #32650 `sage.misc.latex`: Replace `have_...` functions by `Feature`s\n - #32619 `lazy_import`: Muffle diagnostic messages for `at_startup`\n - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n   - #30022/#32441/#32455/#32775/#32701 Remove compile-time dependency on `cypari2` and `flint` from some modules\n``````\n",
    "created_at": "2021-11-20T22:16:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468295",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -181,6 +181,7 @@
 - #32614 Features and optional tags for sage modules provided by separate distributions
 - #30778 `sage.doctest.control`: Exclude doctests in files via file-level directives
 - #32649 Replace `sage.doctest.external.has_*` functions by `Feature`s
+- #32650 `sage.misc.latex`: Replace `have_...` functions by `Feature`s
 - #32619 `lazy_import`: Muffle diagnostic messages for `at_startup`
 - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
   - #30022/#32441/#32455/#32775/#32701 Remove compile-time dependency on `cypari2` and `flint` from some modules
``````




---

archive/issue_comments_468296.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -198,7 +198,8 @@\n   - #32777 Allow some imports of `RLF` to fail\n   - #32780 `sage.geometry.polyhedron.library`: Delay import of rings\n   - #32778 `sage.rings.infinity`: Remove hard dependency on `real_lazy` and `real_mpfi`\n-\n+- #31386: Move list of scripts from `setup.py` to `setup.cfg`\n+- #32899: Developer's guide: Add section on modularization\n \n **Tickets for Sage 9.6:**\n \n@@ -211,7 +212,6 @@\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages **sagemath-doc-...**\n-- #31386: Move list of scripts from `setup.py` to `setup.cfg`\n - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n - #31543: Eliminate use of patches for Python packages\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n``````\n",
    "created_at": "2021-11-22T00:19:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468296",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -198,7 +198,8 @@
   - #32777 Allow some imports of `RLF` to fail
   - #32780 `sage.geometry.polyhedron.library`: Delay import of rings
   - #32778 `sage.rings.infinity`: Remove hard dependency on `real_lazy` and `real_mpfi`
-
+- #31386: Move list of scripts from `setup.py` to `setup.cfg`
+- #32899: Developer's guide: Add section on modularization
 
 **Tickets for Sage 9.6:**
 
@@ -211,7 +212,6 @@
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages **sagemath-doc-...**
-- #31386: Move list of scripts from `setup.py` to `setup.cfg`
 - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
 - #31543: Eliminate use of patches for Python packages
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
``````




---

archive/issue_comments_468297.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -206,6 +206,7 @@\n - #32874 Remove use of `setup.py install` for sagelib\n - #32406: Make `./configure --enable-editable` the default\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n+- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**, and rework **sagemath-objects**, **sagemath-categories** as namespace packages\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n@@ -227,12 +228,9 @@\n    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n - Further modularization:\n-   - Rework **sagemath-objects**, **sagemath-categories** as namespace packages.\n    - #32702 Modularization of sagelib: Distribution **sagemath-plot**\n    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n-   - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`\n-   - #29941: Modularization of sagelib: Break out a separate package **sagemath-repl**\n-   - **sagemath-singular**\n+   - Modularization of sagelib: Break out a separate package **sage-flint-arb-e_antic-singular**\n    - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)\n - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.\n``````\n",
    "created_at": "2021-11-28T00:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468297",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -206,6 +206,7 @@
 - #32874 Remove use of `setup.py install` for sagelib
 - #32406: Make `./configure --enable-editable` the default
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
+- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**, and rework **sagemath-objects**, **sagemath-categories** as namespace packages
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
@@ -227,12 +228,9 @@
    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
 - Further modularization:
-   - Rework **sagemath-objects**, **sagemath-categories** as namespace packages.
    - #32702 Modularization of sagelib: Distribution **sagemath-plot**
    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
-   - Modularization of sagelib: Break out a separate package `sage-flint-arb-e_antic`
-   - #29941: Modularization of sagelib: Break out a separate package **sagemath-repl**
-   - **sagemath-singular**
+   - Modularization of sagelib: Break out a separate package **sage-flint-arb-e_antic-singular**
    - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)
 - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.
``````




---

archive/issue_comments_468298.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -163,7 +163,6 @@\n - #32442 `./configure`: Make `--with-sage-venv=auto` the default\n - #32062: GH Actions: Deploy sdists to PyPI\n - #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`\n-- #31396: relocatable wheel version of package **sage-conf**\n - #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n@@ -200,6 +199,8 @@\n   - #32778 `sage.rings.infinity`: Remove hard dependency on `real_lazy` and `real_mpfi`\n - #31386: Move list of scripts from `setup.py` to `setup.cfg`\n - #32899: Developer's guide: Add section on modularization\n+- #25009/#32894: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n+\n \n **Tickets for Sage 9.6:**\n \n@@ -213,6 +214,7 @@\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages **sagemath-doc-...**\n+- #31396: relocatable wheel version of package **sage-conf**\n - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n - #31543: Eliminate use of patches for Python packages\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n@@ -235,7 +237,6 @@\n    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)\n - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.\n - #32613: pynac: Replace direct use of singular's libfactory by a Python call\n-- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library\n - #30371: In-place (editable) installs of sagelib in a venv\n \n **Wishlist tickets, loose ends**\n``````\n",
    "created_at": "2021-12-03T02:47:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468298",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -163,7 +163,6 @@
 - #32442 `./configure`: Make `--with-sage-venv=auto` the default
 - #32062: GH Actions: Deploy sdists to PyPI
 - #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`
-- #31396: relocatable wheel version of package **sage-conf**
 - #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
@@ -200,6 +199,8 @@
   - #32778 `sage.rings.infinity`: Remove hard dependency on `real_lazy` and `real_mpfi`
 - #31386: Move list of scripts from `setup.py` to `setup.cfg`
 - #32899: Developer's guide: Add section on modularization
+- #25009/#32894: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
+
 
 **Tickets for Sage 9.6:**
 
@@ -213,6 +214,7 @@
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages **sagemath-doc-...**
+- #31396: relocatable wheel version of package **sage-conf**
 - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
 - #31543: Eliminate use of patches for Python packages
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
@@ -235,7 +237,6 @@
    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)
 - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.
 - #32613: pynac: Replace direct use of singular's libfactory by a Python call
-- #25009: Split out `sage.libs.primecount`/`sage.interfaces.primecount` as a separate Python library
 - #30371: In-place (editable) installs of sagelib in a venv
 
 **Wishlist tickets, loose ends**
``````




---

archive/issue_comments_468299.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -204,6 +204,7 @@\n \n **Tickets for Sage 9.6:**\n \n+- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n - #32874 Remove use of `setup.py install` for sagelib\n - #32406: Make `./configure --enable-editable` the default\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n``````\n",
    "created_at": "2021-12-03T02:54:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468299",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -204,6 +204,7 @@
 
 **Tickets for Sage 9.6:**
 
+- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
 - #32874 Remove use of `setup.py install` for sagelib
 - #32406: Make `./configure --enable-editable` the default
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
``````




---

archive/issue_comments_468300.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -208,6 +208,7 @@\n - #32874 Remove use of `setup.py install` for sagelib\n - #32406: Make `./configure --enable-editable` the default\n - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n+- #33011 Remove `__init__.py` files for packages designated to be namespace packages\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**, and rework **sagemath-objects**, **sagemath-categories** as namespace packages\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n``````\n",
    "created_at": "2021-12-11T04:59:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468300",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -208,6 +208,7 @@
 - #32874 Remove use of `setup.py install` for sagelib
 - #32406: Make `./configure --enable-editable` the default
 - #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
+- #33011 Remove `__init__.py` files for packages designated to be namespace packages
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**, and rework **sagemath-objects**, **sagemath-categories** as namespace packages
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
``````




---

archive/issue_comments_468301.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -204,12 +204,12 @@\n \n **Tickets for Sage 9.6:**\n \n+- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n - #32874 Remove use of `setup.py install` for sagelib\n - #32406: Make `./configure --enable-editable` the default\n-- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)\n+- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n-- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**, and rework **sagemath-objects**, **sagemath-categories** as namespace packages\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n``````\n",
    "created_at": "2021-12-11T08:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468301",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -204,12 +204,12 @@
 
 **Tickets for Sage 9.6:**
 
+- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
 - #32874 Remove use of `setup.py install` for sagelib
 - #32406: Make `./configure --enable-editable` the default
-- #28925 Modify `find_python_sources`, `clean_stale_files` to support modularization of `sagelib` by native namespace packages (PEP 420)
+- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
-- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**, and rework **sagemath-objects**, **sagemath-categories** as namespace packages
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
``````




---

archive/issue_comments_468302.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -208,11 +208,13 @@\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n - #32874 Remove use of `setup.py install` for sagelib\n - #32406: Make `./configure --enable-editable` the default\n+- #33033 Prepare `sage.doctest` for namespace packages\n - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n+- #33029 Feature and doctest tag for runtime cython\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages **sagemath-doc-...**\n``````\n",
    "created_at": "2021-12-17T00:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468302",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -208,11 +208,13 @@
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
 - #32874 Remove use of `setup.py install` for sagelib
 - #32406: Make `./configure --enable-editable` the default
+- #33033 Prepare `sage.doctest` for namespace packages
 - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
+- #33029 Feature and doctest tag for runtime cython
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages **sagemath-doc-...**
``````




---

archive/issue_comments_468303.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -216,6 +216,7 @@\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #33029 Feature and doctest tag for runtime cython\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n+- #33037 Remove use of `SAGE_LIB` variable\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages **sagemath-doc-...**\n - #31396: relocatable wheel version of package **sage-conf**\n``````\n",
    "created_at": "2021-12-17T07:20:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468303",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -216,6 +216,7 @@
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #33029 Feature and doctest tag for runtime cython
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
+- #33037 Remove use of `SAGE_LIB` variable
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages **sagemath-doc-...**
 - #31396: relocatable wheel version of package **sage-conf**
``````




---

archive/issue_events_405683.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-10T00:37:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405683"
}
```



---

archive/issue_events_405684.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-10T00:37:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405684"
}
```



---

archive/issue_comments_468304.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -163,7 +163,6 @@\n - #32442 `./configure`: Make `--with-sage-venv=auto` the default\n - #32062: GH Actions: Deploy sdists to PyPI\n - #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`\n-- #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions\n   - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings\n@@ -204,6 +203,10 @@\n \n **Tickets for Sage 9.6:**\n \n+- #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n+- #31306 `sage.repl`: Replace use of `SAGE_EXTCODE` by `importlib.resources`\n+- #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here\n+- #32881/#32888 Feature for `sage.rings.padics` etc.\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n - #32874 Remove use of `setup.py install` for sagelib\n@@ -211,11 +214,14 @@\n - #33033 Prepare `sage.doctest` for namespace packages\n - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n+- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #33029 Feature and doctest tag for runtime cython\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n+- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n+- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n - #33037 Remove use of `SAGE_LIB` variable\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages **sagemath-doc-...**\n``````\n",
    "created_at": "2022-01-23T02:25:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468304",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -163,7 +163,6 @@
 - #32442 `./configure`: Make `--with-sage-venv=auto` the default
 - #32062: GH Actions: Deploy sdists to PyPI
 - #29039: pip-installable version of package **sage-conf** - installs non-Python bits of the Sage distribution in `~/.sage/`
-- #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
   - #32411/#32413/#32415/#32416: Remove unnecessary uses of `SR` and symbolic functions
   - #32599: `sage.structure`, `sage.sets`: Remove hard dependencies on the symbolic ring / polynomial rings
@@ -204,6 +203,10 @@
 
 **Tickets for Sage 9.6:**
 
+- #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
+- #31306 `sage.repl`: Replace use of `SAGE_EXTCODE` by `importlib.resources`
+- #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here
+- #32881/#32888 Feature for `sage.rings.padics` etc.
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
 - #32874 Remove use of `setup.py install` for sagelib
@@ -211,11 +214,14 @@
 - #33033 Prepare `sage.doctest` for namespace packages
 - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
+- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #33029 Feature and doctest tag for runtime cython
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
+- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
+- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
 - #33037 Remove use of `SAGE_LIB` variable
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages **sagemath-doc-...**
``````




---

archive/issue_comments_468305.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -204,9 +204,14 @@\n **Tickets for Sage 9.6:**\n \n - #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n+- #31013 Remove unused class from `sage_setup.optional_extension`\n+- #32846 `sage.geometry`: More `# optional`\n+- #32847 Use `lazy_import` for module-level import from `sage.plot` (outside of `sage.plot`)\n - #31306 `sage.repl`: Replace use of `SAGE_EXTCODE` by `importlib.resources`\n - #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here\n - #32881/#32888 Feature for `sage.rings.padics` etc.\n+- #32893 Feature for palp\n+- #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n - #32874 Remove use of `setup.py install` for sagelib\n@@ -220,8 +225,15 @@\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #33029 Feature and doctest tag for runtime cython\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n+- #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages\n+- #30748 Convert startup methods to context manager\n - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n+  - #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`\n+  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)\n+  - #32721 Remove abuse of predefined x in doctests\n - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n+  - #32433 Refactor `sage.matrix.misc`\n+  - #32465 Refactor `{Matrix,Vector}_double_dense` through `..._numpy_dense`, add `..._numpy_integer_dense`\n - #33037 Remove use of `SAGE_LIB` variable\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages **sagemath-doc-...**\n@@ -233,6 +245,7 @@\n - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n+- #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions\n - Deploy mildly modularized distributions **sagemath-core**, **sagemath-tdlib**, ... to PyPI.\n    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**\n    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n@@ -248,6 +261,7 @@\n    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)\n - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.\n - #32613: pynac: Replace direct use of singular's libfactory by a Python call\n+- #32908 Eliminate use of FLINT's NTL interface\n - #30371: In-place (editable) installs of sagelib in a venv\n \n **Wishlist tickets, loose ends**\n@@ -256,6 +270,7 @@\n - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic\n - #29874: Mock integer class\n - #29845: PEP 517 `buildapi` for `sage_setup`\n+- #31602: modularized relocatable wheel version of `sage_conf`\n - #30896: `./configure --with-sage-venv=none`\n \n \n@@ -265,6 +280,8 @@\n - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior\n - https://wiki.sagemath.org/CodeSharingWorkflow\n - #30914 Meta-ticket: Create upstream repositories, pip-installable packages for database packages\n+- #30922 Meta-ticket: Fix dependencies of upstream Python packages\n - #30818 Meta-ticket: Set environment for subprocesses invoked by Sage\n-\n-\n+  - #31041 Set environment for `sage.misc.cython`\n+  - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`\n+- #31251 Meta-ticket: Distribution as wheels\n``````\n",
    "created_at": "2022-01-23T03:10:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468305",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -204,9 +204,14 @@
 **Tickets for Sage 9.6:**
 
 - #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
+- #31013 Remove unused class from `sage_setup.optional_extension`
+- #32846 `sage.geometry`: More `# optional`
+- #32847 Use `lazy_import` for module-level import from `sage.plot` (outside of `sage.plot`)
 - #31306 `sage.repl`: Replace use of `SAGE_EXTCODE` by `importlib.resources`
 - #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here
 - #32881/#32888 Feature for `sage.rings.padics` etc.
+- #32893 Feature for palp
+- #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
 - #32874 Remove use of `setup.py install` for sagelib
@@ -220,8 +225,15 @@
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #33029 Feature and doctest tag for runtime cython
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
+- #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages
+- #30748 Convert startup methods to context manager
 - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
+  - #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`
+  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)
+  - #32721 Remove abuse of predefined x in doctests
 - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
+  - #32433 Refactor `sage.matrix.misc`
+  - #32465 Refactor `{Matrix,Vector}_double_dense` through `..._numpy_dense`, add `..._numpy_integer_dense`
 - #33037 Remove use of `SAGE_LIB` variable
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages **sagemath-doc-...**
@@ -233,6 +245,7 @@
 - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
+- #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions
 - Deploy mildly modularized distributions **sagemath-core**, **sagemath-tdlib**, ... to PyPI.
    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**
    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
@@ -248,6 +261,7 @@
    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)
 - Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.
 - #32613: pynac: Replace direct use of singular's libfactory by a Python call
+- #32908 Eliminate use of FLINT's NTL interface
 - #30371: In-place (editable) installs of sagelib in a venv
 
 **Wishlist tickets, loose ends**
@@ -256,6 +270,7 @@
 - #29875: `sage.structure.coerce.py_scalar_parent`, `py_scalar_to_element`: Make dynamic
 - #29874: Mock integer class
 - #29845: PEP 517 `buildapi` for `sage_setup`
+- #31602: modularized relocatable wheel version of `sage_conf`
 - #30896: `./configure --with-sage-venv=none`
 
 
@@ -265,6 +280,8 @@
 - #21508 Meta-ticket: Clean up `src/setup.py` to bring it to standard distutils behavior
 - https://wiki.sagemath.org/CodeSharingWorkflow
 - #30914 Meta-ticket: Create upstream repositories, pip-installable packages for database packages
+- #30922 Meta-ticket: Fix dependencies of upstream Python packages
 - #30818 Meta-ticket: Set environment for subprocesses invoked by Sage
-
-
+  - #31041 Set environment for `sage.misc.cython`
+  - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`
+- #31251 Meta-ticket: Distribution as wheels
``````




---

archive/issue_comments_468306.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -212,6 +212,7 @@\n - #32881/#32888 Feature for `sage.rings.padics` etc.\n - #32893 Feature for palp\n - #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`\n+- #33295: Refactor `sage_conf`\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n - #32874 Remove use of `setup.py install` for sagelib\n``````\n",
    "created_at": "2022-02-06T23:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468306",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -212,6 +212,7 @@
 - #32881/#32888 Feature for `sage.rings.padics` etc.
 - #32893 Feature for palp
 - #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`
+- #33295: Refactor `sage_conf`
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
 - #32874 Remove use of `setup.py install` for sagelib
``````




---

archive/issue_comments_468307.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -215,18 +215,11 @@\n - #33295: Refactor `sage_conf`\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n-- #32874 Remove use of `setup.py install` for sagelib\n-- #32406: Make `./configure --enable-editable` the default\n - #33033 Prepare `sage.doctest` for namespace packages\n - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n - #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`\n-- #29870: `Move sage.structure.formal_sum` to `sage.modules`\n-- #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n-  - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #33029 Feature and doctest tag for runtime cython\n-- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n-- #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages\n - #30748 Convert startup methods to context manager\n - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n   - #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`\n@@ -236,6 +229,19 @@\n   - #32433 Refactor `sage.matrix.misc`\n   - #32465 Refactor `{Matrix,Vector}_double_dense` through `..._numpy_dense`, add `..._numpy_integer_dense`\n - #33037 Remove use of `SAGE_LIB` variable\n+- Deploy distributions with optional extension modules to PyPI.\n+   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n+   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n+\n+**Tickets for Sage 9.7:**\n+\n+- #32406: Make `./configure --enable-editable` the default\n+- #32874 Remove use of `setup.py install` for sagelib\n+- #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n+  - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n+- #29870: `Move sage.structure.formal_sum` to `sage.modules`\n+- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n+- #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages **sagemath-doc-...**\n - #31396: relocatable wheel version of package **sage-conf**\n@@ -247,14 +253,11 @@\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions\n-- Deploy mildly modularized distributions **sagemath-core**, **sagemath-tdlib**, ... to PyPI.\n+- Further modularization:\n    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**\n-   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n-   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n-- Further modularization:\n    - #32702 Modularization of sagelib: Distribution **sagemath-plot**\n    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n    - Modularization of sagelib: Break out a separate package **sage-flint-arb-e_antic-singular**\n``````\n",
    "created_at": "2022-02-07T03:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468307",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -215,18 +215,11 @@
 - #33295: Refactor `sage_conf`
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
-- #32874 Remove use of `setup.py install` for sagelib
-- #32406: Make `./configure --enable-editable` the default
 - #33033 Prepare `sage.doctest` for namespace packages
 - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
 - #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`
-- #29870: `Move sage.structure.formal_sum` to `sage.modules`
-- #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
-  - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #33029 Feature and doctest tag for runtime cython
-- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
-- #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages
 - #30748 Convert startup methods to context manager
 - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
   - #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`
@@ -236,6 +229,19 @@
   - #32433 Refactor `sage.matrix.misc`
   - #32465 Refactor `{Matrix,Vector}_double_dense` through `..._numpy_dense`, add `..._numpy_integer_dense`
 - #33037 Remove use of `SAGE_LIB` variable
+- Deploy distributions with optional extension modules to PyPI.
+   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
+   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
+
+**Tickets for Sage 9.7:**
+
+- #32406: Make `./configure --enable-editable` the default
+- #32874 Remove use of `setup.py install` for sagelib
+- #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
+  - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
+- #29870: `Move sage.structure.formal_sum` to `sage.modules`
+- #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
+- #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages **sagemath-doc-...**
 - #31396: relocatable wheel version of package **sage-conf**
@@ -247,14 +253,11 @@
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions
-- Deploy mildly modularized distributions **sagemath-core**, **sagemath-tdlib**, ... to PyPI.
+- Further modularization:
    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**
-   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
-   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
-- Further modularization:
    - #32702 Modularization of sagelib: Distribution **sagemath-plot**
    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
    - Modularization of sagelib: Break out a separate package **sage-flint-arb-e_antic-singular**
``````




---

archive/issue_comments_468308.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -208,32 +208,40 @@\n - #32846 `sage.geometry`: More `# optional`\n - #32847 Use `lazy_import` for module-level import from `sage.plot` (outside of `sage.plot`)\n - #31306 `sage.repl`: Replace use of `SAGE_EXTCODE` by `importlib.resources`\n+- #32881/#32888 Feature for `sage.rings.padics` etc.\n+- #33033 Prepare `sage.doctest` for namespace packages\n+- #32465 Refactor `{Matrix,Vector}_double_dense` through `..._numpy_dense`, add `..._numpy_integer_dense`\n+- #33402 `sage.geometry.polyhedron`: More `# optional`\n+- #33403 `Polyhedron._test_product`, `_test_dilation`: Skip tests if test prereqs cannot be imported\n+- #33392 `sage.matrix`: Modularization fixes after #33159\n+- #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`\n+- #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`\n+- #32893 Feature for palp\n+- #33295: Refactor `sage_conf`\n+- #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`\n+- #33440 `sage.libs.singular`: Do not fail if the Singular binary is not in `PATH`\n+- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n+\n+**Tickets for Sage 9.7:**\n+\n+- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`\n - #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here\n-- #32881/#32888 Feature for `sage.rings.padics` etc.\n-- #32893 Feature for palp\n-- #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`\n-- #33295: Refactor `sage_conf`\n+- #33011 Remove `__init__.py` files for packages designated to be namespace packages\n+- #33029 Feature and doctest tag for runtime cython\n+- #30748 Convert startup methods to context manager\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n-- #33033 Prepare `sage.doctest` for namespace packages\n-- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n-- #33011 Remove `__init__.py` files for packages designated to be namespace packages\n-- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`\n-- #33029 Feature and doctest tag for runtime cython\n-- #30748 Convert startup methods to context manager\n - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n-  - #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`\n   - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)\n   - #32721 Remove abuse of predefined x in doctests\n - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n   - #32433 Refactor `sage.matrix.misc`\n-  - #32465 Refactor `{Matrix,Vector}_double_dense` through `..._numpy_dense`, add `..._numpy_integer_dense`\n - #33037 Remove use of `SAGE_LIB` variable\n - Deploy distributions with optional extension modules to PyPI.\n    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n \n-**Tickets for Sage 9.7:**\n+**Tickets for Sage 9.8:**\n \n - #32406: Make `./configure --enable-editable` the default\n - #32874 Remove use of `setup.py install` for sagelib\n@@ -287,5 +295,4 @@\n - #30922 Meta-ticket: Fix dependencies of upstream Python packages\n - #30818 Meta-ticket: Set environment for subprocesses invoked by Sage\n   - #31041 Set environment for `sage.misc.cython`\n-  - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`\n - #31251 Meta-ticket: Distribution as wheels\n``````\n",
    "created_at": "2022-03-03T07:51:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468308",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -208,32 +208,40 @@
 - #32846 `sage.geometry`: More `# optional`
 - #32847 Use `lazy_import` for module-level import from `sage.plot` (outside of `sage.plot`)
 - #31306 `sage.repl`: Replace use of `SAGE_EXTCODE` by `importlib.resources`
+- #32881/#32888 Feature for `sage.rings.padics` etc.
+- #33033 Prepare `sage.doctest` for namespace packages
+- #32465 Refactor `{Matrix,Vector}_double_dense` through `..._numpy_dense`, add `..._numpy_integer_dense`
+- #33402 `sage.geometry.polyhedron`: More `# optional`
+- #33403 `Polyhedron._test_product`, `_test_dilation`: Skip tests if test prereqs cannot be imported
+- #33392 `sage.matrix`: Modularization fixes after #33159
+- #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`
+- #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`
+- #32893 Feature for palp
+- #33295: Refactor `sage_conf`
+- #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`
+- #33440 `sage.libs.singular`: Do not fail if the Singular binary is not in `PATH`
+- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
+
+**Tickets for Sage 9.7:**
+
+- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`
 - #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here
-- #32881/#32888 Feature for `sage.rings.padics` etc.
-- #32893 Feature for palp
-- #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`
-- #33295: Refactor `sage_conf`
+- #33011 Remove `__init__.py` files for packages designated to be namespace packages
+- #33029 Feature and doctest tag for runtime cython
+- #30748 Convert startup methods to context manager
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
-- #33033 Prepare `sage.doctest` for namespace packages
-- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
-- #33011 Remove `__init__.py` files for packages designated to be namespace packages
-- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`
-- #33029 Feature and doctest tag for runtime cython
-- #30748 Convert startup methods to context manager
 - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
-  - #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`
   - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)
   - #32721 Remove abuse of predefined x in doctests
 - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
   - #32433 Refactor `sage.matrix.misc`
-  - #32465 Refactor `{Matrix,Vector}_double_dense` through `..._numpy_dense`, add `..._numpy_integer_dense`
 - #33037 Remove use of `SAGE_LIB` variable
 - Deploy distributions with optional extension modules to PyPI.
    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
 
-**Tickets for Sage 9.7:**
+**Tickets for Sage 9.8:**
 
 - #32406: Make `./configure --enable-editable` the default
 - #32874 Remove use of `setup.py install` for sagelib
@@ -287,5 +295,4 @@
 - #30922 Meta-ticket: Fix dependencies of upstream Python packages
 - #30818 Meta-ticket: Set environment for subprocesses invoked by Sage
   - #31041 Set environment for `sage.misc.cython`
-  - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`
 - #31251 Meta-ticket: Distribution as wheels
``````




---

archive/issue_comments_468309.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -296,3 +296,5 @@\n - #30818 Meta-ticket: Set environment for subprocesses invoked by Sage\n   - #31041 Set environment for `sage.misc.cython`\n - #31251 Meta-ticket: Distribution as wheels\n+- #33580 Meta-ticket: make all modules importable without sage.all\n+\n``````\n",
    "created_at": "2022-03-27T16:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468309",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -296,3 +296,5 @@
 - #30818 Meta-ticket: Set environment for subprocesses invoked by Sage
   - #31041 Set environment for `sage.misc.cython`
 - #31251 Meta-ticket: Distribution as wheels
+- #33580 Meta-ticket: make all modules importable without sage.all
+
``````




---

archive/issue_comments_468310.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -217,13 +217,13 @@\n - #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`\n - #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`\n - #32893 Feature for palp\n-- #33295: Refactor `sage_conf`\n - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`\n - #33440 `sage.libs.singular`: Do not fail if the Singular binary is not in `PATH`\n+\n+**Tickets for Sage 9.7:**\n+\n+- #33295: Refactor `sage_conf`\n - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n-\n-**Tickets for Sage 9.7:**\n-\n - #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`\n - #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n``````\n",
    "created_at": "2022-03-27T16:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468310",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -217,13 +217,13 @@
 - #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`
 - #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`
 - #32893 Feature for palp
-- #33295: Refactor `sage_conf`
 - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`
 - #33440 `sage.libs.singular`: Do not fail if the Singular binary is not in `PATH`
+
+**Tickets for Sage 9.7:**
+
+- #33295: Refactor `sage_conf`
 - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
-
-**Tickets for Sage 9.7:**
-
 - #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`
 - #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
``````




---

archive/issue_comments_468311.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -214,7 +214,7 @@\n - #33402 `sage.geometry.polyhedron`: More `# optional`\n - #33403 `Polyhedron._test_product`, `_test_dilation`: Skip tests if test prereqs cannot be imported\n - #33392 `sage.matrix`: Modularization fixes after #33159\n-- #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`\n+- #32989/#32999/#33000/#33007/#33146/#33199 Remove imports from `sage.*.all`\n - #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`\n - #32893 Feature for palp\n - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`\n@@ -227,6 +227,7 @@\n - #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`\n - #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n+- #33202 Do not complain about `sage.categories.all`\n - #33029 Feature and doctest tag for runtime cython\n - #30748 Convert startup methods to context manager\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n``````\n",
    "created_at": "2022-03-27T16:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468311",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -214,7 +214,7 @@
 - #33402 `sage.geometry.polyhedron`: More `# optional`
 - #33403 `Polyhedron._test_product`, `_test_dilation`: Skip tests if test prereqs cannot be imported
 - #33392 `sage.matrix`: Modularization fixes after #33159
-- #32989/#32999/#33000/#33007/#33146/#33199/#33202 Remove imports from `sage.*.all`
+- #32989/#32999/#33000/#33007/#33146/#33199 Remove imports from `sage.*.all`
 - #32609 Remove more unnecessary uses of SR and symbolic functions in `sage.combinat`
 - #32893 Feature for palp
 - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`
@@ -227,6 +227,7 @@
 - #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`
 - #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
+- #33202 Do not complain about `sage.categories.all`
 - #33029 Feature and doctest tag for runtime cython
 - #30748 Convert startup methods to context manager
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
``````




---

archive/issue_events_405685.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-27T21:04:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405685"
}
```



---

archive/issue_events_405686.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-27T21:04:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405686"
}
```



---

archive/issue_comments_468312.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -267,6 +267,7 @@\n    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n+   - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**\n    - #32702 Modularization of sagelib: Distribution **sagemath-plot**\n    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n    - Modularization of sagelib: Break out a separate package **sage-flint-arb-e_antic-singular**\n``````\n",
    "created_at": "2022-04-08T18:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468312",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -267,6 +267,7 @@
    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
+   - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**
    - #32702 Modularization of sagelib: Distribution **sagemath-plot**
    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
    - Modularization of sagelib: Break out a separate package **sage-flint-arb-e_antic-singular**
``````




---

archive/issue_comments_468313.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -235,8 +235,6 @@\n - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n   - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)\n   - #32721 Remove abuse of predefined x in doctests\n-- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n-  - #32433 Refactor `sage.matrix.misc`\n - #33037 Remove use of `SAGE_LIB` variable\n - Deploy distributions with optional extension modules to PyPI.\n    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n@@ -267,6 +265,8 @@\n    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n+  - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n+    - #32433 Refactor `sage.matrix.misc`\n    - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**\n    - #32702 Modularization of sagelib: Distribution **sagemath-plot**\n    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n``````\n",
    "created_at": "2022-04-08T19:24:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468313",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -235,8 +235,6 @@
 - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
   - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)
   - #32721 Remove abuse of predefined x in doctests
-- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
-  - #32433 Refactor `sage.matrix.misc`
 - #33037 Remove use of `SAGE_LIB` variable
 - Deploy distributions with optional extension modules to PyPI.
    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
@@ -267,6 +265,8 @@
    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
+  - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
+    - #32433 Refactor `sage.matrix.misc`
    - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**
    - #32702 Modularization of sagelib: Distribution **sagemath-plot**
    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
``````




---

archive/issue_comments_468314.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -265,7 +265,7 @@\n    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n-  - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n+   - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n     - #32433 Refactor `sage.matrix.misc`\n    - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**\n    - #32702 Modularization of sagelib: Distribution **sagemath-plot**\n``````\n",
    "created_at": "2022-04-08T20:08:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468314",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -265,7 +265,7 @@
    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
-  - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
+   - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
     - #32433 Refactor `sage.matrix.misc`
    - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**
    - #32702 Modularization of sagelib: Distribution **sagemath-plot**
``````




---

archive/issue_comments_468315.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -219,12 +219,13 @@\n - #32893 Feature for palp\n - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`\n - #33440 `sage.libs.singular`: Do not fail if the Singular binary is not in `PATH`\n+- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`\n+\n \n **Tickets for Sage 9.7:**\n \n - #33295: Refactor `sage_conf`\n - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n-- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`\n - #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n - #33202 Do not complain about `sage.categories.all`\n``````\n",
    "created_at": "2022-04-10T17:40:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468315",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -219,12 +219,13 @@
 - #32893 Feature for palp
 - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`
 - #33440 `sage.libs.singular`: Do not fail if the Singular binary is not in `PATH`
+- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`
+
 
 **Tickets for Sage 9.7:**
 
 - #33295: Refactor `sage_conf`
 - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
-- #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`
 - #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
 - #33202 Do not complain about `sage.categories.all`
``````




---

archive/issue_comments_468316.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,7 @@\n \n The goal is do this **without changing the overall structure of the source tree**.\n \n+- Section [Packaging the Sage Library](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#packaging-the-sage-library) in the Sage Developer's Guide (added in Sage 9.5)\n - [Master plan of sage modularization](https://groups.google.com/g/sage-devel/c/cTifWZOAfH8/m/niyTcAjCBAAJ) (sage-devel, 2021-11)\n - [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)\n - [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)\n``````\n",
    "created_at": "2022-04-10T22:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468316",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,7 @@
 
 The goal is do this **without changing the overall structure of the source tree**.
 
+- Section [Packaging the Sage Library](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#packaging-the-sage-library) in the Sage Developer's Guide (added in Sage 9.5)
 - [Master plan of sage modularization](https://groups.google.com/g/sage-devel/c/cTifWZOAfH8/m/niyTcAjCBAAJ) (sage-devel, 2021-11)
 - [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)
 - [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)
``````




---

archive/issue_comments_468317.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n-(From https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ)\n-\n Modularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme **sagemath-...**. \n \n The goal is do this **without changing the overall structure of the source tree**.\n@@ -14,7 +12,7 @@\n - [Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage 9.4 release tour, 2021-08)\n - [Schematics](https://drive.google.com/file/d/18ptPi1s6YCj8jm_em8bFBlqjDYK6Eapm/view) (2020-10)\n - Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)\n-\n+- [Initial proposal](https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ) (sage-devel, 2020-05]]\n \n 1. In particular, create a package **sagemath-objects** that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n \n``````\n",
    "created_at": "2022-04-10T23:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468317",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
-(From https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ)
-
 Modularize sagelib into separate distributions (pip-installable packages), so that these can be built and run with a much smaller set of libraries. The packages can be made available individually on PyPI using the naming scheme **sagemath-...**. 
 
 The goal is do this **without changing the overall structure of the source tree**.
@@ -14,7 +12,7 @@
 - [Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage 9.4 release tour, 2021-08)
 - [Schematics](https://drive.google.com/file/d/18ptPi1s6YCj8jm_em8bFBlqjDYK6Eapm/view) (2020-10)
 - Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)
-
+- [Initial proposal](https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ) (sage-devel, 2020-05]]
 
 1. In particular, create a package **sagemath-objects** that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
 
``````




---

archive/issue_comments_468318.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -232,9 +232,6 @@\n - #30748 Convert startup methods to context manager\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n-- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n-  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)\n-  - #32721 Remove abuse of predefined x in doctests\n - #33037 Remove use of `SAGE_LIB` variable\n - Deploy distributions with optional extension modules to PyPI.\n    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n@@ -260,6 +257,9 @@\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions\n+- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n+  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)\n+  - #32721 Remove abuse of predefined x in doctests\n - Further modularization:\n    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**\n    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n``````\n",
    "created_at": "2022-04-10T23:40:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468318",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -232,9 +232,6 @@
 - #30748 Convert startup methods to context manager
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
-- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
-  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)
-  - #32721 Remove abuse of predefined x in doctests
 - #33037 Remove use of `SAGE_LIB` variable
 - Deploy distributions with optional extension modules to PyPI.
    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
@@ -260,6 +257,9 @@
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions
+- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
+  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)
+  - #32721 Remove abuse of predefined x in doctests
 - Further modularization:
    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**
    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
``````




---

archive/issue_comments_468319.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n The goal is do this **without changing the overall structure of the source tree**.\n \n-- Section [Packaging the Sage Library](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#packaging-the-sage-library) in the Sage Developer's Guide (added in Sage 9.5)\n+- **Section [Packaging the Sage Library](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#packaging-the-sage-library)** in the Sage Developer's Guide (added in Sage 9.5)\n - [Master plan of sage modularization](https://groups.google.com/g/sage-devel/c/cTifWZOAfH8/m/niyTcAjCBAAJ) (sage-devel, 2021-11)\n - [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)\n - [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)\n@@ -12,7 +12,7 @@\n - [Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage 9.4 release tour, 2021-08)\n - [Schematics](https://drive.google.com/file/d/18ptPi1s6YCj8jm_em8bFBlqjDYK6Eapm/view) (2020-10)\n - Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)\n-- [Initial proposal](https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ) (sage-devel, 2020-05]]\n+- [Initial proposal](https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ) (sage-devel, 2020-05)\n \n 1. In particular, create a package **sagemath-objects** that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n \n``````\n",
    "created_at": "2022-04-11T00:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468319",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 The goal is do this **without changing the overall structure of the source tree**.
 
-- Section [Packaging the Sage Library](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#packaging-the-sage-library) in the Sage Developer's Guide (added in Sage 9.5)
+- **Section [Packaging the Sage Library](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#packaging-the-sage-library)** in the Sage Developer's Guide (added in Sage 9.5)
 - [Master plan of sage modularization](https://groups.google.com/g/sage-devel/c/cTifWZOAfH8/m/niyTcAjCBAAJ) (sage-devel, 2021-11)
 - [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)
 - [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)
@@ -12,7 +12,7 @@
 - [Current status of pip-installability](https://wiki.sagemath.org/ReleaseTours/sage-9.4#Alternative_installation_methods_using_pip) (Sage 9.4 release tour, 2021-08)
 - [Schematics](https://drive.google.com/file/d/18ptPi1s6YCj8jm_em8bFBlqjDYK6Eapm/view) (2020-10)
 - Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)
-- [Initial proposal](https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ) (sage-devel, 2020-05]]
+- [Initial proposal](https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ) (sage-devel, 2020-05)
 
 1. In particular, create a package **sagemath-objects** that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
 
``````




---

archive/issue_comments_468320.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -218,6 +218,7 @@\n - #32893 Feature for palp\n - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`\n - #33440 `sage.libs.singular`: Do not fail if the Singular binary is not in `PATH`\n+- #33465, #33466, #32645, #33467: Use `Executable.absolute_filename`\n - #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`\n \n \n@@ -229,6 +230,7 @@\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n - #33202 Do not complain about `sage.categories.all`\n - #33029 Feature and doctest tag for runtime cython\n+- #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n - #30748 Convert startup methods to context manager\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n``````\n",
    "created_at": "2022-04-11T00:55:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468320",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -218,6 +218,7 @@
 - #32893 Feature for palp
 - #31296 `sage.features.Executable`: Prepend `$SAGE_VENV/bin:$SAGE_LOCAL/bin` to `PATH`
 - #33440 `sage.libs.singular`: Do not fail if the Singular binary is not in `PATH`
+- #33465, #33466, #32645, #33467: Use `Executable.absolute_filename`
 - #33017 `LazyImport.__instancecheck__`, `__subclasscheck__`: Return `False` on `ImportError`
 
 
@@ -229,6 +230,7 @@
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
 - #33202 Do not complain about `sage.categories.all`
 - #33029 Feature and doctest tag for runtime cython
+- #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
 - #30748 Convert startup methods to context manager
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
``````




---

archive/issue_comments_468321.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -230,6 +230,7 @@\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n - #33202 Do not complain about `sage.categories.all`\n - #33029 Feature and doctest tag for runtime cython\n+- #33575 Feature for fricas\n - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n - #30748 Convert startup methods to context manager\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n``````\n",
    "created_at": "2022-04-11T01:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468321",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -230,6 +230,7 @@
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
 - #33202 Do not complain about `sage.categories.all`
 - #33029 Feature and doctest tag for runtime cython
+- #33575 Feature for fricas
 - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
 - #30748 Convert startup methods to context manager
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
``````




---

archive/issue_comments_468322.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,7 +14,9 @@\n - Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)\n - [Initial proposal](https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ) (sage-devel, 2020-05)\n \n-1. In particular, create a package **sagemath-objects** that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n+Initial steps:\n+\n+1. In particular, create a package [sagemath-objects](https://pypi.org/project/sagemath-objects/) that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. \n \n    (Doctesting **sagemath-objects** would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)\n \n@@ -22,6 +24,8 @@\n \n    b) Building and deploying a user package would be easier if it could depend on a small package such as **sagemath-objects** only instead of the whole multigigabyteness of Sage.\n \n+   This has been completed in Sage 9.6 (#29865).\n+\n 2. Remove the mechanism of `OptionalExtension`s from `sagelib`.\n \n    Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.\n@@ -36,7 +40,7 @@\n \n - It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distribution packages. \n \n-**Constraints and challenges:**\n+**Initially noted constraints and challenges:**\n \n - Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).\n \n@@ -44,11 +48,13 @@\n \n - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).\n \n-  Solution: These should therefore be in the same package **sagemath-objects**.\n+  Solution: Therefore they are in the same distribution **sagemath-objects**.\n \n - The category framework cannot live without the integers (e.g. the output of `.cardinality()` expects an integer). \n \n-  Possible solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sagemath-objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):\n+  Near term solution: #32432 makes **sagemath-categories** larger, to include integers and some other basic rings.\n+\n+  Possible future solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sagemath-objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):\n \n    ```\n    sage: py_scalar_parent(int)\n@@ -63,8 +69,7 @@\n   classical_crystals imports SR\n   finite_coxeter_groups imports QQbar\n ```\n-\n-  One can try to not populate the whole category system.\n+  Such imports can be removed using the techniques described in section [Module-level runtime dependencies](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#module-level-runtime-dependencies) in the Sage developer's guide.  \n \n **Tickets for Sage 9.2:**\n \n@@ -140,7 +145,9 @@\n - #32073: Remove `sage.libs.readline`\n \n \n-**Tickets for Sage 9.5:**\n+**Tickets for Sage 9.5:** \n+\n+see also [Modularization changes in Sage 9.5](https://wiki.sagemath.org/ReleaseTours/sage-9.5#For_developers_and_packagers:_Modularization_and_packaging_changes) (release tour)\n \n - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`\n - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy distribution **sage-setup** to PyPI.\n@@ -202,6 +209,8 @@\n \n **Tickets for Sage 9.6:**\n \n+see also [Modularization changes in Sage 9.6](https://wiki.sagemath.org/ReleaseTours/sage-9.6#For_developers:_Refactoring_and_modularization) (release tour)\n+\n - #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.\n - #31013 Remove unused class from `sage_setup.optional_extension`\n - #32846 `sage.geometry`: More `# optional`\n``````\n",
    "created_at": "2022-04-11T20:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468322",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,7 +14,9 @@
 - Presentation video: https://researchseminars.org/talk/SageDays110/11/ (2020-10)
 - [Initial proposal](https://groups.google.com/d/msg/sage-devel/M9QTWtln6zU/UHwkrmTKBQAJ) (sage-devel, 2020-05)
 
-1. In particular, create a package **sagemath-objects** that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
+Initial steps:
+
+1. In particular, create a package [sagemath-objects](https://pypi.org/project/sagemath-objects/) that makes Sage objects, the element/parent framework, categories, the coercion system and the related metaclasses available. This package would, for example, not provide or know about integers, polynomials, or matrices (thus avoiding all the dependencies on the various libraries implementing these). Ideally it would only have a build dependency on Cython and no runtime dependencies. 
 
    (Doctesting **sagemath-objects** would still need more of Sage, but some it could also be done by mocking instead of with the real classes.)
 
@@ -22,6 +24,8 @@
 
    b) Building and deploying a user package would be easier if it could depend on a small package such as **sagemath-objects** only instead of the whole multigigabyteness of Sage.
 
+   This has been completed in Sage 9.6 (#29865).
+
 2. Remove the mechanism of `OptionalExtension`s from `sagelib`.
 
    Currently, a user would install, for example, the optional package `tdlib` and then rebuild `sagelib` so that the `OptionalExtension` `sage.graphs.graph_decompositions.tdlib` is built and installed.
@@ -36,7 +40,7 @@
 
 - It is not a prerequisite to fight against all circular imports. In particular, a parent class and its corresponding element class would certainly not be separated into separate distribution packages. 
 
-**Constraints and challenges:**
+**Initially noted constraints and challenges:**
 
 - Inconsistent handling of symlinks by `pip`/`setuptools`. We cannot simply create a distribution of a subset of the files in `src` by creating a flock of symlinks (see #29850) and expect everything to work; notably, pip fails because of longstanding issues with installs from local directories (see discussion in #29854).
 
@@ -44,11 +48,13 @@
 
 - The category framework can not really be separated from the `Parent`/`Element`/`CategoryObject` (e.g. coercion is involved in comparisons and binary operations).
 
-  Solution: These should therefore be in the same package **sagemath-objects**.
+  Solution: Therefore they are in the same distribution **sagemath-objects**.
 
 - The category framework cannot live without the integers (e.g. the output of `.cardinality()` expects an integer). 
 
-  Possible solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sagemath-objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):
+  Near term solution: #32432 makes **sagemath-categories** larger, to include integers and some other basic rings.
+
+  Possible future solution: The coercion system already has the notion of a global coercion model - which is determined at runtime, not compile time (`sage.structure.element.get_coercion_model`). When methods in `sagemath-objects` need to create an integer, they should obtain the appropriate class of integers in the same way. An existing function provides this interface already (but has a static implementation):
 
    ```
    sage: py_scalar_parent(int)
@@ -63,8 +69,7 @@
   classical_crystals imports SR
   finite_coxeter_groups imports QQbar
 ```
-
-  One can try to not populate the whole category system.
+  Such imports can be removed using the techniques described in section [Module-level runtime dependencies](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#module-level-runtime-dependencies) in the Sage developer's guide.  
 
 **Tickets for Sage 9.2:**
 
@@ -140,7 +145,9 @@
 - #32073: Remove `sage.libs.readline`
 
 
-**Tickets for Sage 9.5:**
+**Tickets for Sage 9.5:** 
+
+see also [Modularization changes in Sage 9.5](https://wiki.sagemath.org/ReleaseTours/sage-9.5#For_developers_and_packagers:_Modularization_and_packaging_changes) (release tour)
 
 - #32046 Use `pip --use-feature=in-tree-build`, replace use of `sdh_setup_bdist_wheel` by `sdh_pip_install`
 - #29847: Install `sage_setup` with `setuptools` as a build prerequisite for building/installing sagelib. Deploy distribution **sage-setup** to PyPI.
@@ -202,6 +209,8 @@
 
 **Tickets for Sage 9.6:**
 
+see also [Modularization changes in Sage 9.6](https://wiki.sagemath.org/ReleaseTours/sage-9.6#For_developers:_Refactoring_and_modularization) (release tour)
+
 - #29865: Modularization of sagelib: Prepare experimental subset distributions **sagemath-objects**, **sagemath-categories**, depending on Cython, pkgconfig, cysignals, gmpy2.  Use them as a testsuite for testing the filtered structure of sagelib.
 - #31013 Remove unused class from `sage_setup.optional_extension`
 - #32846 `sage.geometry`: More `# optional`
``````




---

archive/issue_comments_468323.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -72,6 +72,8 @@\n   Such imports can be removed using the techniques described in section [Module-level runtime dependencies](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#module-level-runtime-dependencies) in the Sage developer's guide.  \n \n **Tickets for Sage 9.2:**\n+\n+see also [Modularization changes in Sage 9.2](https://wiki.sagemath.org/ReleaseTours/sage-9.2#System_package_information_for_optional_packages_at_runtime) (release tour)\n \n - #29411: make sagelib a script package\n - #29702: Move all code from `src/setup.py` to `sage_setup`\n@@ -89,6 +91,8 @@\n - #30616: Replace use of `sage.misc.package.PackageNotFoundError` (2); lazy_import: Add keyword argument 'feature'\n \n **Tickets for Sage 9.3:**\n+\n+see also [Modularization changes in Sage 9.3](https://wiki.sagemath.org/ReleaseTours/sage-9.3#Modularization_and_packaging_of_sagelib) (release tour)\n \n - #30715 Remove a few `.all` imports\n - #30739 Remove a few more `.all` imports\n@@ -129,6 +133,8 @@\n - #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`\n \n **Tickets for Sage 9.4:**\n+\n+see also [Modularization changes in Sage 9.4](https://wiki.sagemath.org/ReleaseTours/sage-9.4#New_location_for_distribution_package_sources:_SAGE_ROOT.2Fpkgs) (release tour)\n \n - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)\n - #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig\n``````\n",
    "created_at": "2022-04-28T18:48:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468323",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -72,6 +72,8 @@
   Such imports can be removed using the techniques described in section [Module-level runtime dependencies](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#module-level-runtime-dependencies) in the Sage developer's guide.  
 
 **Tickets for Sage 9.2:**
+
+see also [Modularization changes in Sage 9.2](https://wiki.sagemath.org/ReleaseTours/sage-9.2#System_package_information_for_optional_packages_at_runtime) (release tour)
 
 - #29411: make sagelib a script package
 - #29702: Move all code from `src/setup.py` to `sage_setup`
@@ -89,6 +91,8 @@
 - #30616: Replace use of `sage.misc.package.PackageNotFoundError` (2); lazy_import: Add keyword argument 'feature'
 
 **Tickets for Sage 9.3:**
+
+see also [Modularization changes in Sage 9.3](https://wiki.sagemath.org/ReleaseTours/sage-9.3#Modularization_and_packaging_of_sagelib) (release tour)
 
 - #30715 Remove a few `.all` imports
 - #30739 Remove a few more `.all` imports
@@ -129,6 +133,8 @@
 - #31409: Make it possible to disable build of `r`, `rpy2` using `./configure --disable-r`
 
 **Tickets for Sage 9.4:**
+
+see also [Modularization changes in Sage 9.4](https://wiki.sagemath.org/ReleaseTours/sage-9.4#New_location_for_distribution_package_sources:_SAGE_ROOT.2Fpkgs) (release tour)
 
 - #30913: Generate pyproject.toml and setup.cfg [install_requires], requirements.txt, Pipfile, and src/Pipfile (supersedes #30578, #30581)
 - #31384: `cython_aliases`: Do not fail if one of the listed libraries is not known to pkgconfig
``````




---

archive/issue_comments_468324.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -249,6 +249,7 @@\n - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n - #30748 Convert startup methods to context manager\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n+- #33802 Remove runtime dependency on everything via `sage_eval`\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n - #33037 Remove use of `SAGE_LIB` variable\n - Deploy distributions with optional extension modules to PyPI.\n``````\n",
    "created_at": "2022-05-05T00:09:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468324",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -249,6 +249,7 @@
 - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
 - #30748 Convert startup methods to context manager
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
+- #33802 Remove runtime dependency on everything via `sage_eval`
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
 - #33037 Remove use of `SAGE_LIB` variable
 - Deploy distributions with optional extension modules to PyPI.
``````




---

archive/issue_comments_468325.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -239,9 +239,10 @@\n \n **Tickets for Sage 9.7:**\n \n+- #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)\n+- #33801 `sage.misc.sage_input`: Remove import from sage.all\n - #33295: Refactor `sage_conf`\n - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n-- #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n - #33202 Do not complain about `sage.categories.all`\n - #33029 Feature and doctest tag for runtime cython\n``````\n",
    "created_at": "2022-05-05T00:12:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468325",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -239,9 +239,10 @@
 
 **Tickets for Sage 9.7:**
 
+- #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)
+- #33801 `sage.misc.sage_input`: Remove import from sage.all
 - #33295: Refactor `sage_conf`
 - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
-- #32986 `sage.misc.temporary_file`: Move `SAGE_TMP` implementation here
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
 - #33202 Do not complain about `sage.categories.all`
 - #33029 Feature and doctest tag for runtime cython
``````




---

archive/issue_comments_468326.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -249,6 +249,7 @@\n - #33575 Feature for fricas\n - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n - #30748 Convert startup methods to context manager\n+- #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #33802 Remove runtime dependency on everything via `sage_eval`\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n``````\n",
    "created_at": "2022-05-05T01:52:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468326",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -249,6 +249,7 @@
 - #33575 Feature for fricas
 - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
 - #30748 Convert startup methods to context manager
+- #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #33802 Remove runtime dependency on everything via `sage_eval`
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
``````




---

archive/issue_comments_468327.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -241,8 +241,12 @@\n \n - #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)\n - #33801 `sage.misc.sage_input`: Remove import from sage.all\n+- #33803 Fixes for the distributions sagemath-objects, sagemath-categories\n+- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n+- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n+- #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n+- #33795 Move handling of `sage --docbuild` back to `src/bin/sage`\n - #33295: Refactor `sage_conf`\n-- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n - #33202 Do not complain about `sage.categories.all`\n - #33029 Feature and doctest tag for runtime cython\n@@ -250,7 +254,6 @@\n - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n - #30748 Convert startup methods to context manager\n - #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.\n-- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #33802 Remove runtime dependency on everything via `sage_eval`\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n - #33037 Remove use of `SAGE_LIB` variable\n``````\n",
    "created_at": "2022-05-05T19:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468327",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -241,8 +241,12 @@
 
 - #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)
 - #33801 `sage.misc.sage_input`: Remove import from sage.all
+- #33803 Fixes for the distributions sagemath-objects, sagemath-categories
+- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
+- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
+- #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
+- #33795 Move handling of `sage --docbuild` back to `src/bin/sage`
 - #33295: Refactor `sage_conf`
-- #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
 - #33202 Do not complain about `sage.categories.all`
 - #33029 Feature and doctest tag for runtime cython
@@ -250,7 +254,6 @@
 - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
 - #30748 Convert startup methods to context manager
 - #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.
-- #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #33802 Remove runtime dependency on everything via `sage_eval`
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
 - #33037 Remove use of `SAGE_LIB` variable
``````




---

archive/issue_comments_468328.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -297,7 +297,6 @@\n    - Modularization of sagelib: Break out a separate package **sage-flint-arb-e_antic-singular**\n    - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)\n-- Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.\n - #32613: pynac: Replace direct use of singular's libfactory by a Python call\n - #32908 Eliminate use of FLINT's NTL interface\n - #30371: In-place (editable) installs of sagelib in a venv\n``````\n",
    "created_at": "2022-05-06T06:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468328",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -297,7 +297,6 @@
    - Modularization of sagelib: Break out a separate package **sage-flint-arb-e_antic-singular**
    - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)
-- Perhaps move the top-level scripts (`sage`, `sage-env`) to a separate package **sagemath-scripts**. This will allow users to run, for example, `sage -sh` before sagelib is installed.
 - #32613: pynac: Replace direct use of singular's libfactory by a Python call
 - #32908 Eliminate use of FLINT's NTL interface
 - #30371: In-place (editable) installs of sagelib in a venv
``````




---

archive/issue_comments_468329.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -242,6 +242,7 @@\n - #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)\n - #33801 `sage.misc.sage_input`: Remove import from sage.all\n - #33803 Fixes for the distributions sagemath-objects, sagemath-categories\n+- #33817 GH Actions: Add test of the modularized distributions\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n``````\n",
    "created_at": "2022-05-06T22:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468329",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -242,6 +242,7 @@
 - #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)
 - #33801 `sage.misc.sage_input`: Remove import from sage.all
 - #33803 Fixes for the distributions sagemath-objects, sagemath-categories
+- #33817 GH Actions: Add test of the modularized distributions
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
 - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
``````




---

archive/issue_comments_468330.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -245,6 +245,7 @@\n - #33817 GH Actions: Add test of the modularized distributions\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n+- #33822 `python3` `spkg-configure.m4`: Require `ensurepip`\n - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n - #33795 Move handling of `sage --docbuild` back to `src/bin/sage`\n - #33295: Refactor `sage_conf`\n@@ -258,6 +259,7 @@\n - #33802 Remove runtime dependency on everything via `sage_eval`\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n - #33037 Remove use of `SAGE_LIB` variable\n+  - #33821 Remove use of `SAGE_LIB` in `sage.misc`\n - Deploy distributions with optional extension modules to PyPI.\n    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n@@ -265,6 +267,7 @@\n **Tickets for Sage 9.8:**\n \n - #32406: Make `./configure --enable-editable` the default\n+- #33820 `eager_import`\n - #32874 Remove use of `setup.py install` for sagelib\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n``````\n",
    "created_at": "2022-05-08T07:16:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468330",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -245,6 +245,7 @@
 - #33817 GH Actions: Add test of the modularized distributions
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
+- #33822 `python3` `spkg-configure.m4`: Require `ensurepip`
 - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
 - #33795 Move handling of `sage --docbuild` back to `src/bin/sage`
 - #33295: Refactor `sage_conf`
@@ -258,6 +259,7 @@
 - #33802 Remove runtime dependency on everything via `sage_eval`
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
 - #33037 Remove use of `SAGE_LIB` variable
+  - #33821 Remove use of `SAGE_LIB` in `sage.misc`
 - Deploy distributions with optional extension modules to PyPI.
    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
@@ -265,6 +267,7 @@
 **Tickets for Sage 9.8:**
 
 - #32406: Make `./configure --enable-editable` the default
+- #33820 `eager_import`
 - #32874 Remove use of `setup.py install` for sagelib
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
``````




---

archive/issue_comments_468331.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -272,6 +272,7 @@\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n+  - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n - #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages\n - #30911: src/tox.ini: Add \"develop\" environment\n@@ -280,20 +281,22 @@\n - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n - #31543: Eliminate use of patches for Python packages\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n-- #30036: `sage_conf-pypi`: API for incremental builds\n-- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n-- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions\n - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n   - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)\n   - #32721 Remove abuse of predefined x in doctests\n+\n+**Tickets for Sage 9.9**\n+\n+- #30036: `sage_conf-pypi`: API for incremental builds\n+- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n+- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - Further modularization:\n    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**\n    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n-   - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n     - #32433 Refactor `sage.matrix.misc`\n    - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**\n    - #32702 Modularization of sagelib: Distribution **sagemath-plot**\n``````\n",
    "created_at": "2022-05-08T07:36:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468331",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -272,6 +272,7 @@
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
+  - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
 - #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages
 - #30911: src/tox.ini: Add "develop" environment
@@ -280,20 +281,22 @@
 - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
 - #31543: Eliminate use of patches for Python packages
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
-- #30036: `sage_conf-pypi`: API for incremental builds
-- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
-- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions
 - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
   - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)
   - #32721 Remove abuse of predefined x in doctests
+
+**Tickets for Sage 9.9**
+
+- #30036: `sage_conf-pypi`: API for incremental builds
+- #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
+- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - Further modularization:
    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**
    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
-   - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
     - #32433 Refactor `sage.matrix.misc`
    - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**
    - #32702 Modularization of sagelib: Distribution **sagemath-plot**
``````




---

archive/issue_comments_468332.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -242,6 +242,7 @@\n - #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)\n - #33801 `sage.misc.sage_input`: Remove import from sage.all\n - #33803 Fixes for the distributions sagemath-objects, sagemath-categories\n+- #32716 `pkgs/sagemath-standard/tox.ini`: Create environment that uses Sage's python as the basepython\n - #33817 GH Actions: Add test of the modularized distributions\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n``````\n",
    "created_at": "2022-05-30T19:44:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468332",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -242,6 +242,7 @@
 - #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)
 - #33801 `sage.misc.sage_input`: Remove import from sage.all
 - #33803 Fixes for the distributions sagemath-objects, sagemath-categories
+- #32716 `pkgs/sagemath-standard/tox.ini`: Create environment that uses Sage's python as the basepython
 - #33817 GH Actions: Add test of the modularized distributions
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
``````




---

archive/issue_comments_468333.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -243,20 +243,19 @@\n - #33801 `sage.misc.sage_input`: Remove import from sage.all\n - #33803 Fixes for the distributions sagemath-objects, sagemath-categories\n - #32716 `pkgs/sagemath-standard/tox.ini`: Create environment that uses Sage's python as the basepython\n-- #33817 GH Actions: Add test of the modularized distributions\n - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**\n - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n - #33822 `python3` `spkg-configure.m4`: Require `ensurepip`\n-- #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n - #33795 Move handling of `sage --docbuild` back to `src/bin/sage`\n - #33295: Refactor `sage_conf`\n+- #33029 Feature and doctest tag for runtime cython\n+- #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n-- #33202 Do not complain about `sage.categories.all`\n-- #33029 Feature and doctest tag for runtime cython\n+- #34187 Remove `src/sage/__init__.py`\n+- #33817 GH Actions: Add test of the modularized distributions\n+- #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n - #33575 Feature for fricas\n - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n-- #30748 Convert startup methods to context manager\n-- #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.\n - #33802 Remove runtime dependency on everything via `sage_eval`\n - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n - #33037 Remove use of `SAGE_LIB` variable\n@@ -272,6 +271,7 @@\n - #32874 Remove use of `setup.py install` for sagelib\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n+- #33202 Do not complain about `sage.categories.all`\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n   - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n@@ -316,6 +316,7 @@\n - #29874: Mock integer class\n - #29845: PEP 517 `buildapi` for `sage_setup`\n - #31602: modularized relocatable wheel version of `sage_conf`\n+- #30748 Convert startup methods to context manager\n - #30896: `./configure --with-sage-venv=none`\n \n \n``````\n",
    "created_at": "2022-07-15T16:45:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468333",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -243,20 +243,19 @@
 - #33801 `sage.misc.sage_input`: Remove import from sage.all
 - #33803 Fixes for the distributions sagemath-objects, sagemath-categories
 - #32716 `pkgs/sagemath-standard/tox.ini`: Create environment that uses Sage's python as the basepython
-- #33817 GH Actions: Add test of the modularized distributions
 - #29941: Modularization of sagelib: Break out a separate packages **sagemath-environment**, **sagemath-repl**
 - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
 - #33822 `python3` `spkg-configure.m4`: Require `ensurepip`
-- #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
 - #33795 Move handling of `sage --docbuild` back to `src/bin/sage`
 - #33295: Refactor `sage_conf`
+- #33029 Feature and doctest tag for runtime cython
+- #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
-- #33202 Do not complain about `sage.categories.all`
-- #33029 Feature and doctest tag for runtime cython
+- #34187 Remove `src/sage/__init__.py`
+- #33817 GH Actions: Add test of the modularized distributions
+- #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
 - #33575 Feature for fricas
 - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
-- #30748 Convert startup methods to context manager
-- #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.
 - #33802 Remove runtime dependency on everything via `sage_eval`
 - #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
 - #33037 Remove use of `SAGE_LIB` variable
@@ -272,6 +271,7 @@
 - #32874 Remove use of `setup.py install` for sagelib
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
+- #33202 Do not complain about `sage.categories.all`
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
   - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
@@ -316,6 +316,7 @@
 - #29874: Mock integer class
 - #29845: PEP 517 `buildapi` for `sage_setup`
 - #31602: modularized relocatable wheel version of `sage_conf`
+- #30748 Convert startup methods to context manager
 - #30896: `./configure --with-sage-venv=none`
 
 
``````




---

archive/issue_comments_468334.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -239,6 +239,8 @@\n \n **Tickets for Sage 9.7:**\n \n+see also [Modularization changes in Sage 9.6](https://trac.sagemath.org/wiki/ReleaseTours/sage-9.7#Modularizationchanges) (release tour)\n+\n - #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)\n - #33801 `sage.misc.sage_input`: Remove import from sage.all\n - #33803 Fixes for the distributions sagemath-objects, sagemath-categories\n@@ -247,6 +249,7 @@\n - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages\n - #33822 `python3` `spkg-configure.m4`: Require `ensurepip`\n - #33795 Move handling of `sage --docbuild` back to `src/bin/sage`\n+- #33821 Remove use of `SAGE_LIB` in `sage.misc`\n - #33295: Refactor `sage_conf`\n - #33029 Feature and doctest tag for runtime cython\n - #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.\n@@ -254,21 +257,19 @@\n - #34187 Remove `src/sage/__init__.py`\n - #33817 GH Actions: Add test of the modularized distributions\n - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n+- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n+- Deploy distributions with optional extension modules to PyPI.\n+   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n+   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n+\n+**Tickets for Sage 9.8:**\n+\n+- #32406: Make `./configure --enable-editable` the default\n+- #33820 `eager_import`\n+- #32874 Remove use of `setup.py install` for sagelib\n - #33575 Feature for fricas\n - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n - #33802 Remove runtime dependency on everything via `sage_eval`\n-- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n-- #33037 Remove use of `SAGE_LIB` variable\n-  - #33821 Remove use of `SAGE_LIB` in `sage.misc`\n-- Deploy distributions with optional extension modules to PyPI.\n-   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n-   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n-\n-**Tickets for Sage 9.8:**\n-\n-- #32406: Make `./configure --enable-editable` the default\n-- #33820 `eager_import`\n-- #32874 Remove use of `setup.py install` for sagelib\n - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #33202 Do not complain about `sage.categories.all`\n@@ -276,6 +277,7 @@\n   - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n - #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages\n+- #33037 Remove use of `SAGE_LIB` variable\n - #30911: src/tox.ini: Add \"develop\" environment\n - #29868: pip-installable packages **sagemath-doc-...**\n - #31396: relocatable wheel version of package **sage-conf**\n``````\n",
    "created_at": "2022-07-15T16:51:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468334",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -239,6 +239,8 @@
 
 **Tickets for Sage 9.7:**
 
+see also [Modularization changes in Sage 9.6](https://trac.sagemath.org/wiki/ReleaseTours/sage-9.7#Modularizationchanges) (release tour)
+
 - #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)
 - #33801 `sage.misc.sage_input`: Remove import from sage.all
 - #33803 Fixes for the distributions sagemath-objects, sagemath-categories
@@ -247,6 +249,7 @@
 - #28925 Modify `find_python_sources` to support modularization of `sagelib` by native namespace packages (PEP 420), rework **sagemath-objects**, **sagemath-categories** as namespace packages
 - #33822 `python3` `spkg-configure.m4`: Require `ensurepip`
 - #33795 Move handling of `sage --docbuild` back to `src/bin/sage`
+- #33821 Remove use of `SAGE_LIB` in `sage.misc`
 - #33295: Refactor `sage_conf`
 - #33029 Feature and doctest tag for runtime cython
 - #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.
@@ -254,21 +257,19 @@
 - #34187 Remove `src/sage/__init__.py`
 - #33817 GH Actions: Add test of the modularized distributions
 - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
+- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
+- Deploy distributions with optional extension modules to PyPI.
+   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
+   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
+
+**Tickets for Sage 9.8:**
+
+- #32406: Make `./configure --enable-editable` the default
+- #33820 `eager_import`
+- #32874 Remove use of `setup.py install` for sagelib
 - #33575 Feature for fricas
 - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
 - #33802 Remove runtime dependency on everything via `sage_eval`
-- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
-- #33037 Remove use of `SAGE_LIB` variable
-  - #33821 Remove use of `SAGE_LIB` in `sage.misc`
-- Deploy distributions with optional extension modules to PyPI.
-   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
-   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
-
-**Tickets for Sage 9.8:**
-
-- #32406: Make `./configure --enable-editable` the default
-- #33820 `eager_import`
-- #32874 Remove use of `setup.py install` for sagelib
 - #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #33202 Do not complain about `sage.categories.all`
@@ -276,6 +277,7 @@
   - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
 - #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages
+- #33037 Remove use of `SAGE_LIB` variable
 - #30911: src/tox.ini: Add "develop" environment
 - #29868: pip-installable packages **sagemath-doc-...**
 - #31396: relocatable wheel version of package **sage-conf**
``````




---

archive/issue_comments_468335.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -239,7 +239,7 @@\n \n **Tickets for Sage 9.7:**\n \n-see also [Modularization changes in Sage 9.6](https://trac.sagemath.org/wiki/ReleaseTours/sage-9.7#Modularizationchanges) (release tour)\n+see also [Modularization changes in Sage 9.7](https://trac.sagemath.org/wiki/ReleaseTours/sage-9.7#Modularizationchanges) (release tour)\n \n - #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)\n - #33801 `sage.misc.sage_input`: Remove import from sage.all\n``````\n",
    "created_at": "2022-07-15T16:52:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468335",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -239,7 +239,7 @@
 
 **Tickets for Sage 9.7:**
 
-see also [Modularization changes in Sage 9.6](https://trac.sagemath.org/wiki/ReleaseTours/sage-9.7#Modularizationchanges) (release tour)
+see also [Modularization changes in Sage 9.7](https://trac.sagemath.org/wiki/ReleaseTours/sage-9.7#Modularizationchanges) (release tour)
 
 - #33797/#33799 Remove some uses of `SAGE_TMP` (supersedes #32986)
 - #33801 `sage.misc.sage_input`: Remove import from sage.all
``````




---

archive/issue_comments_468336.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -333,4 +333,5 @@\n   - #31041 Set environment for `sage.misc.cython`\n - #31251 Meta-ticket: Distribution as wheels\n - #33580 Meta-ticket: make all modules importable without sage.all\n-\n+- #34201 Meta-ticket: Replace imports from sage.*.all for namespace packages\n+\n``````\n",
    "created_at": "2022-07-20T05:24:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468336",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -333,4 +333,5 @@
   - #31041 Set environment for `sage.misc.cython`
 - #31251 Meta-ticket: Distribution as wheels
 - #33580 Meta-ticket: make all modules importable without sage.all
-
+- #34201 Meta-ticket: Replace imports from sage.*.all for namespace packages
+
``````




---

archive/issue_comments_468337.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -255,17 +255,18 @@\n - #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.\n - #33011 Remove `__init__.py` files for packages designated to be namespace packages\n - #34187 Remove `src/sage/__init__.py`\n+- #32406: Make `./configure --enable-editable` the default\n - #33817 GH Actions: Add test of the modularized distributions\n+- #34221 Backport PEP420 namespace package support from Cython 3\n - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n-- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n+\n+**Tickets for Sage 9.8:**\n+\n - Deploy distributions with optional extension modules to PyPI.\n    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n-\n-**Tickets for Sage 9.8:**\n-\n-- #32406: Make `./configure --enable-editable` the default\n - #33820 `eager_import`\n+- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n - #32874 Remove use of `setup.py install` for sagelib\n - #33575 Feature for fricas\n - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n``````\n",
    "created_at": "2022-07-26T20:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468337",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -255,17 +255,18 @@
 - #33800 cibuildwheel workflow for sagemath-objects, sagemath-categories etc.
 - #33011 Remove `__init__.py` files for packages designated to be namespace packages
 - #34187 Remove `src/sage/__init__.py`
+- #32406: Make `./configure --enable-editable` the default
 - #33817 GH Actions: Add test of the modularized distributions
+- #34221 Backport PEP420 namespace package support from Cython 3
 - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
-- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
+
+**Tickets for Sage 9.8:**
+
 - Deploy distributions with optional extension modules to PyPI.
    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
-
-**Tickets for Sage 9.8:**
-
-- #32406: Make `./configure --enable-editable` the default
 - #33820 `eager_import`
+- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
 - #32874 Remove use of `setup.py install` for sagelib
 - #33575 Feature for fricas
 - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
``````




---

archive/issue_events_405687.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405687"
}
```



---

archive/issue_events_405688.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405688"
}
```



---

archive/issue_comments_468338.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -258,10 +258,10 @@\n - #32406: Make `./configure --enable-editable` the default\n - #33817 GH Actions: Add test of the modularized distributions\n - #34221 Backport PEP420 namespace package support from Cython 3\n+\n+**Tickets for Sage 9.8:**\n+\n - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n-\n-**Tickets for Sage 9.8:**\n-\n - Deploy distributions with optional extension modules to PyPI.\n    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n``````\n",
    "created_at": "2022-08-31T02:54:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468338",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -258,10 +258,10 @@
 - #32406: Make `./configure --enable-editable` the default
 - #33817 GH Actions: Add test of the modularized distributions
 - #34221 Backport PEP420 namespace package support from Cython 3
+
+**Tickets for Sage 9.8:**
+
 - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
-
-**Tickets for Sage 9.8:**
-
 - Deploy distributions with optional extension modules to PyPI.
    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
``````




---

archive/issue_comments_468339.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -258,6 +258,7 @@\n - #32406: Make `./configure --enable-editable` the default\n - #33817 GH Actions: Add test of the modularized distributions\n - #34221 Backport PEP420 namespace package support from Cython 3\n+- #34189/#34190/#34191/#34192/#34428: Remove `.all` imports\n \n **Tickets for Sage 9.8:**\n \n``````\n",
    "created_at": "2022-09-03T21:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468339",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -258,6 +258,7 @@
 - #32406: Make `./configure --enable-editable` the default
 - #33817 GH Actions: Add test of the modularized distributions
 - #34221 Backport PEP420 namespace package support from Cython 3
+- #34189/#34190/#34191/#34192/#34428: Remove `.all` imports
 
 **Tickets for Sage 9.8:**
 
``````




---

archive/issue_comments_468340.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -259,6 +259,7 @@\n - #33817 GH Actions: Add test of the modularized distributions\n - #34221 Backport PEP420 namespace package support from Cython 3\n - #34189/#34190/#34191/#34192/#34428: Remove `.all` imports\n+- #34296 GH Actions: Upload wheels to PyPI\n \n **Tickets for Sage 9.8:**\n \n``````\n",
    "created_at": "2022-09-03T22:54:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468340",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -259,6 +259,7 @@
 - #33817 GH Actions: Add test of the modularized distributions
 - #34221 Backport PEP420 namespace package support from Cython 3
 - #34189/#34190/#34191/#34192/#34428: Remove `.all` imports
+- #34296 GH Actions: Upload wheels to PyPI
 
 **Tickets for Sage 9.8:**
 
``````




---

archive/issue_events_405689.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-26T04:55:39Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "title_is": "Meta-ticket: Modularize sagelib into separate distributions (pip-installable packages) sagemath-... for Sage 10.0",
    "title_was": "Meta-ticket: Modularize sagelib into separate distributions (pip-installable packages) sagemath-...",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405689"
}
```



---

archive/issue_comments_468341.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -268,8 +268,7 @@\n    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n - #33820 `eager_import`\n-- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`\n-- #32874 Remove use of `setup.py install` for sagelib\n+- #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)\n - #33575 Feature for fricas\n - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n - #33802 Remove runtime dependency on everything via `sage_eval`\n@@ -297,7 +296,6 @@\n \n - #30036: `sage_conf-pypi`: API for incremental builds\n - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n-- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages\n - Further modularization:\n    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**\n    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n``````\n",
    "created_at": "2022-09-26T05:57:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468341",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -268,8 +268,7 @@
    - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
    - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
 - #33820 `eager_import`
-- #32927 `build/pkgs/sagelib`: Invoke install cleaner explicitly, remove it from `pkgs/sagemath-standard/setup.py`
-- #32874 Remove use of `setup.py install` for sagelib
+- #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)
 - #33575 Feature for fricas
 - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
 - #33802 Remove runtime dependency on everything via `sage_eval`
@@ -297,7 +296,6 @@
 
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
-- #30152: `sage_setup`: Modify `clean_stale_files` to support out-of-tree namespace packages
 - Further modularization:
    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**
    - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
``````




---

archive/issue_comments_468342.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -264,11 +264,13 @@\n **Tickets for Sage 9.8:**\n \n - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n+- #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)\n+- Refactor sagemath-standard through sagemath-{categories,environment,repl}\n - Deploy distributions with optional extension modules to PyPI.\n-   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**\n-   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**\n+   - #30151: Modularization of sagelib: Distribution **sagemath-meataxe**\n+   - #29864: Modularization of sagelib: Distribution **sagemath-tdlib**\n+   - #34346: Modularization of sagelib: Distributions **sagemath-sirocco**, **sagemath-bliss**\n - #33820 `eager_import`\n-- #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)\n - #33575 Feature for fricas\n - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n - #33802 Remove runtime dependency on everything via `sage_eval`\n@@ -276,7 +278,7 @@\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #33202 Do not complain about `sage.categories.all`\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n-  - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n+- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n - #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages\n - #33037 Remove use of `SAGE_LIB` variable\n``````\n",
    "created_at": "2022-09-26T06:03:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468342",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -264,11 +264,13 @@
 **Tickets for Sage 9.8:**
 
 - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
+- #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)
+- Refactor sagemath-standard through sagemath-{categories,environment,repl}
 - Deploy distributions with optional extension modules to PyPI.
-   - #30151: Modularization of sagelib: Break out a separate package **sagemath-meataxe**
-   - #29864: Modularization of sagelib: Break out a separate package **sagemath-tdlib**
+   - #30151: Modularization of sagelib: Distribution **sagemath-meataxe**
+   - #29864: Modularization of sagelib: Distribution **sagemath-tdlib**
+   - #34346: Modularization of sagelib: Distributions **sagemath-sirocco**, **sagemath-bliss**
 - #33820 `eager_import`
-- #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)
 - #33575 Feature for fricas
 - #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
 - #33802 Remove runtime dependency on everything via `sage_eval`
@@ -276,7 +278,7 @@
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #33202 Do not complain about `sage.categories.all`
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
-  - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
+- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
 - #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages
 - #33037 Remove use of `SAGE_LIB` variable
``````




---

archive/issue_comments_468343.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -265,7 +265,7 @@\n \n - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n - #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)\n-- Refactor sagemath-standard through sagemath-{categories,environment,repl}\n+- #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}\n - Deploy distributions with optional extension modules to PyPI.\n    - #30151: Modularization of sagelib: Distribution **sagemath-meataxe**\n    - #29864: Modularization of sagelib: Distribution **sagemath-tdlib**\n``````\n",
    "created_at": "2022-09-26T06:06:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468343",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -265,7 +265,7 @@
 
 - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
 - #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)
-- Refactor sagemath-standard through sagemath-{categories,environment,repl}
+- #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}
 - Deploy distributions with optional extension modules to PyPI.
    - #30151: Modularization of sagelib: Distribution **sagemath-meataxe**
    - #29864: Modularization of sagelib: Distribution **sagemath-tdlib**
``````




---

archive/issue_comments_468344.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,8 @@\n The goal is do this **without changing the overall structure of the source tree**.\n \n - **Section [Packaging the Sage Library](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#packaging-the-sage-library)** in the Sage Developer's Guide (added in Sage 9.5)\n+- Presentation video: \n+  https://researchseminars.org/talk/SageDays112358/17/ (2022-06)\n - [Master plan of sage modularization](https://groups.google.com/g/sage-devel/c/cTifWZOAfH8/m/niyTcAjCBAAJ) (sage-devel, 2021-11)\n - [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)\n - [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)\n``````\n",
    "created_at": "2022-09-26T06:39:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468344",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,8 @@
 The goal is do this **without changing the overall structure of the source tree**.
 
 - **Section [Packaging the Sage Library](https://doc.sagemath.org/html/en/developer/packaging_sage_library.html#packaging-the-sage-library)** in the Sage Developer's Guide (added in Sage 9.5)
+- Presentation video: 
+  https://researchseminars.org/talk/SageDays112358/17/ (2022-06)
 - [Master plan of sage modularization](https://groups.google.com/g/sage-devel/c/cTifWZOAfH8/m/niyTcAjCBAAJ) (sage-devel, 2021-11)
 - [How to modularize for fun and profit, IV: Testing subset distributions in virtual envs](https://groups.google.com/g/sage-devel/c/rpwoN3WwHao/m/0JsbVVxSBAAJ) (sage-devel, 2021-10)
 - [How to modularize for fun and profit, III: Dependencies, in 4 special flavors](https://groups.google.com/g/sage-devel/c/0q4abzOCsIM/m/9793dUwvBAAJ) (sage-devel, 2021-10)
``````




---

archive/issue_comments_468345.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -267,6 +267,8 @@\n \n - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n - #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)\n+- #34590 Use python-build instead of `pip wheel`\n+- #34209 Use PEP 660 editable wheels for sagelib\n - #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}\n - Deploy distributions with optional extension modules to PyPI.\n    - #30151: Modularization of sagelib: Distribution **sagemath-meataxe**\n``````\n",
    "created_at": "2022-09-28T17:32:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468345",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -267,6 +267,8 @@
 
 - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
 - #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)
+- #34590 Use python-build instead of `pip wheel`
+- #34209 Use PEP 660 editable wheels for sagelib
 - #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}
 - Deploy distributions with optional extension modules to PyPI.
    - #30151: Modularization of sagelib: Distribution **sagemath-meataxe**
``````




---

archive/issue_comments_468346.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -266,7 +266,8 @@\n **Tickets for Sage 9.8:**\n \n - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n-- #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)\n+- #32874 New option `./configure --enable-wheels` (supersedes #32927, #30152)\n+- #34633 Use `src/setup.py` for the installation mode `--disable-editable --disable-wheels`\n - #34590 Use python-build instead of `pip wheel`\n - #34209 Use PEP 660 editable wheels for sagelib\n - #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}\n``````\n",
    "created_at": "2022-10-05T05:35:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468346",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -266,7 +266,8 @@
 **Tickets for Sage 9.8:**
 
 - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
-- #32874 Remove use of `setup.py install` for sagelib (supersedes #32927, #30152)
+- #32874 New option `./configure --enable-wheels` (supersedes #32927, #30152)
+- #34633 Use `src/setup.py` for the installation mode `--disable-editable --disable-wheels`
 - #34590 Use python-build instead of `pip wheel`
 - #34209 Use PEP 660 editable wheels for sagelib
 - #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}
``````




---

archive/issue_comments_468347.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -270,6 +270,7 @@\n - #34633 Use `src/setup.py` for the installation mode `--disable-editable --disable-wheels`\n - #34590 Use python-build instead of `pip wheel`\n - #34209 Use PEP 660 editable wheels for sagelib\n+- #34631 `sage_setup`: Output depfiles\n - #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}\n - Deploy distributions with optional extension modules to PyPI.\n    - #30151: Modularization of sagelib: Distribution **sagemath-meataxe**\n``````\n",
    "created_at": "2022-10-05T05:39:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468347",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -270,6 +270,7 @@
 - #34633 Use `src/setup.py` for the installation mode `--disable-editable --disable-wheels`
 - #34590 Use python-build instead of `pip wheel`
 - #34209 Use PEP 660 editable wheels for sagelib
+- #34631 `sage_setup`: Output depfiles
 - #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}
 - Deploy distributions with optional extension modules to PyPI.
    - #30151: Modularization of sagelib: Distribution **sagemath-meataxe**
``````




---

archive/issue_comments_468348.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -272,15 +272,11 @@\n - #34209 Use PEP 660 editable wheels for sagelib\n - #34631 `sage_setup`: Output depfiles\n - #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}\n-- Deploy distributions with optional extension modules to PyPI.\n-   - #30151: Modularization of sagelib: Distribution **sagemath-meataxe**\n-   - #29864: Modularization of sagelib: Distribution **sagemath-tdlib**\n-   - #34346: Modularization of sagelib: Distributions **sagemath-sirocco**, **sagemath-bliss**\n+- #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... \n - #33820 `eager_import`\n - #33575 Feature for fricas\n-- #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n - #33802 Remove runtime dependency on everything via `sage_eval`\n-- #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook\n+- #32360 Merge `cypari`, `cypari2`; replace `cysignals`' optional PARI dependency by a general hook\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #33202 Do not complain about `sage.categories.all`\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n@@ -289,12 +285,9 @@\n - #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages\n - #33037 Remove use of `SAGE_LIB` variable\n - #30911: src/tox.ini: Add \"develop\" environment\n-- #29868: pip-installable packages **sagemath-doc-...**\n - #31396: relocatable wheel version of package **sage-conf**\n - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n-- #31543: Eliminate use of patches for Python packages\n - #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n-- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n - #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions\n - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n   - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)\n@@ -302,6 +295,10 @@\n \n **Tickets for Sage 9.9**\n \n+- #29868: pip-installable packages **sagemath-doc-...**\n+- #31543: Eliminate use of patches for Python packages\n+- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n+- #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`\n - #30036: `sage_conf-pypi`: API for incremental builds\n - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n - Further modularization:\n``````\n",
    "created_at": "2022-11-16T07:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468348",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -272,15 +272,11 @@
 - #34209 Use PEP 660 editable wheels for sagelib
 - #34631 `sage_setup`: Output depfiles
 - #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}
-- Deploy distributions with optional extension modules to PyPI.
-   - #30151: Modularization of sagelib: Distribution **sagemath-meataxe**
-   - #29864: Modularization of sagelib: Distribution **sagemath-tdlib**
-   - #34346: Modularization of sagelib: Distributions **sagemath-sirocco**, **sagemath-bliss**
+- #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... 
 - #33820 `eager_import`
 - #33575 Feature for fricas
-- #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
 - #33802 Remove runtime dependency on everything via `sage_eval`
-- #32360 Merge `cypari`, `cypari2`; replace `cysignal`'s optional PARI dependency by a general hook
+- #32360 Merge `cypari`, `cypari2`; replace `cysignals`' optional PARI dependency by a general hook
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #33202 Do not complain about `sage.categories.all`
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
@@ -289,12 +285,9 @@
 - #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages
 - #33037 Remove use of `SAGE_LIB` variable
 - #30911: src/tox.ini: Add "develop" environment
-- #29868: pip-installable packages **sagemath-doc-...**
 - #31396: relocatable wheel version of package **sage-conf**
 - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
-- #31543: Eliminate use of patches for Python packages
 - #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
-- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
 - #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions
 - #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
   - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)
@@ -302,6 +295,10 @@
 
 **Tickets for Sage 9.9**
 
+- #29868: pip-installable packages **sagemath-doc-...**
+- #31543: Eliminate use of patches for Python packages
+- #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
+- #33405 Eliminate direct use of `os.getenv` in `sage.interfaces`, use `Executable.absolute_filename`
 - #30036: `sage_conf-pypi`: API for incremental builds
 - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
 - Further modularization:
``````




---

archive/issue_comments_468349.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -267,12 +267,25 @@\n \n - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n - #32874 New option `./configure --enable-wheels` (supersedes #32927, #30152)\n+- #34770/#34823/#34804 Deprecate `sage.interfaces` `is_...Element` functions\n+- #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... \n+- #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules\n+- #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n+- #33037 Remove use of `SAGE_LIB` variable\n+- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n+- #31396: relocatable wheel version of package **sage-conf**\n+- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n+  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)\n+  - #32721 Remove abuse of predefined x in doctests\n+\n+**Tickets for Sage 9.9**\n+\n+- #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions\n - #34633 Use `src/setup.py` for the installation mode `--disable-editable --disable-wheels`\n - #34590 Use python-build instead of `pip wheel`\n - #34209 Use PEP 660 editable wheels for sagelib\n - #34631 `sage_setup`: Output depfiles\n - #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}\n-- #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... \n - #33820 `eager_import`\n - #33575 Feature for fricas\n - #33802 Remove runtime dependency on everything via `sage_eval`\n@@ -280,21 +293,10 @@\n   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch\n - #33202 Do not complain about `sage.categories.all`\n - #29870: `Move sage.structure.formal_sum` to `sage.modules`\n-- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages\n - #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages\n-- #33037 Remove use of `SAGE_LIB` variable\n - #30911: src/tox.ini: Add \"develop\" environment\n-- #31396: relocatable wheel version of package **sage-conf**\n - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.\n-- #30666 Add \"sage_setup: distribution\" directives to all Cython modules needing external libraries\n-- #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions\n-- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**\n-  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)\n-  - #32721 Remove abuse of predefined x in doctests\n-\n-**Tickets for Sage 9.9**\n-\n - #29868: pip-installable packages **sagemath-doc-...**\n - #31543: Eliminate use of patches for Python packages\n - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers\n@@ -303,15 +305,12 @@\n - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`\n - Further modularization:\n    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**\n-   - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)\n    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)\n    - #30716 Towards making Arb library optional\n     - #32433 Refactor `sage.matrix.misc`\n    - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**\n    - #32702 Modularization of sagelib: Distribution **sagemath-plot**\n    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`\n-   - Modularization of sagelib: Break out a separate package **sage-flint-arb-e_antic-singular**\n-   - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)\n - #32613: pynac: Replace direct use of singular's libfactory by a Python call\n - #32908 Eliminate use of FLINT's NTL interface\n@@ -326,8 +325,6 @@\n - #31602: modularized relocatable wheel version of `sage_conf`\n - #30748 Convert startup methods to context manager\n - #30896: `./configure --with-sage-venv=none`\n-\n-\n \n \n **Related:**\n``````\n",
    "created_at": "2022-12-05T19:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468349",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -267,12 +267,25 @@
 
 - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
 - #32874 New option `./configure --enable-wheels` (supersedes #32927, #30152)
+- #34770/#34823/#34804 Deprecate `sage.interfaces` `is_...Element` functions
+- #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... 
+- #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules
+- #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
+- #33037 Remove use of `SAGE_LIB` variable
+- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
+- #31396: relocatable wheel version of package **sage-conf**
+- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
+  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)
+  - #32721 Remove abuse of predefined x in doctests
+
+**Tickets for Sage 9.9**
+
+- #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions
 - #34633 Use `src/setup.py` for the installation mode `--disable-editable --disable-wheels`
 - #34590 Use python-build instead of `pip wheel`
 - #34209 Use PEP 660 editable wheels for sagelib
 - #34631 `sage_setup`: Output depfiles
 - #34587 Refactor sagemath-standard through sagemath-{categories,environment,repl}
-- #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... 
 - #33820 `eager_import`
 - #33575 Feature for fricas
 - #33802 Remove runtime dependency on everything via `sage_eval`
@@ -280,21 +293,10 @@
   - #32431 `cysignals`: Replace compile-time dependency on pari by run-time dispatch
 - #33202 Do not complain about `sage.categories.all`
 - #29870: `Move sage.structure.formal_sum` to `sage.modules`
-- #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
 - #30746 `sage.doctest.control`: Replace use of sage.misc.package.list_packages
 - #30848 `sage.doctest.control`, `sage_setup`: Do not check versions of installed packages
-- #33037 Remove use of `SAGE_LIB` variable
 - #30911: src/tox.ini: Add "develop" environment
-- #31396: relocatable wheel version of package **sage-conf**
 - possibly move `pkgs/sage-conf/sage_conf.py[.in]` into `src/`, mark it (and also `src/bin/sage-env-config[.in]`) `# sage_setup: distribution = sage-conf`.
-- #30666 Add "sage_setup: distribution" directives to all Cython modules needing external libraries
-- #32586: Prepare use of `sage.all` in `sage.structure.factory.lookup_global` for modularized distributions
-- #32601: Modularization of sagelib: Break out a separate package **sagemath-standard-no-symbolics**
-  - #32718 Remove module-level imports from `sage.symbolic` etc. (outside of `sage.symbolic`, `sage.calculus` etc.)
-  - #32721 Remove abuse of predefined x in doctests
-
-**Tickets for Sage 9.9**
-
 - #29868: pip-installable packages **sagemath-doc-...**
 - #31543: Eliminate use of patches for Python packages
 - #30647: Make `lazy_import` more friendly to pyflakes and other static checkers
@@ -303,15 +305,12 @@
 - #29041 `sage_bootstrap`: Add command `sage -package list --output={install-requires,requirements,pipfile,debian,....}`
 - Further modularization:
    - #32700: Modularization of sagelib: Distribution **sagemath-gsl**
-   - **sagemath-giac** (ex `giacpy_sage` in `sage.libs.giac` + dependency on `libgiac`)
    - **sagemath-brial** (ex `sage-brial` in `sage.rings.polynomial.pbori` +  `sage.libs.polybori`, `sage.crypto.boolean_function`)
    - #30716 Towards making Arb library optional
     - #32433 Refactor `sage.matrix.misc`
    - #33660 Modularization of sagelib: Break out separate package **sagemath-combinat**
    - #32702 Modularization of sagelib: Distribution **sagemath-plot**
    - #29912: Modularization of sagelib: Break out a separate package `sagemath-ntl`
-   - Modularization of sagelib: Break out a separate package **sage-flint-arb-e_antic-singular**
-   - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
    - #31695 Modularization of sagelib: Break out separate package **sagemath-symbolics** (depends on ecl and maxima, packages `sage.interfaces.maxima*`, `sage.libs.ecl`)
 - #32613: pynac: Replace direct use of singular's libfactory by a Python call
 - #32908 Eliminate use of FLINT's NTL interface
@@ -326,8 +325,6 @@
 - #31602: modularized relocatable wheel version of `sage_conf`
 - #30748 Convert startup methods to context manager
 - #30896: `./configure --with-sage-venv=none`
-
-
 
 
 **Related:**
``````




---

archive/issue_comments_468350.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -268,6 +268,7 @@\n - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}\n - #32874 New option `./configure --enable-wheels` (supersedes #32927, #30152)\n - #34770/#34823/#34804 Deprecate `sage.interfaces` `is_...Element` functions\n+- #32664 Deprecate `is_FiniteField` etc., make `sage.rings.finite_rings` a namespace package\n - #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... \n - #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules\n - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n``````\n",
    "created_at": "2022-12-06T03:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468350",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -268,6 +268,7 @@
 - #33812 Refactor distributions sage-setup, sagemath-{objects,categories} through sagemath-{environment,repl}
 - #32874 New option `./configure --enable-wheels` (supersedes #32927, #30152)
 - #34770/#34823/#34804 Deprecate `sage.interfaces` `is_...Element` functions
+- #32664 Deprecate `is_FiniteField` etc., make `sage.rings.finite_rings` a namespace package
 - #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... 
 - #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules
 - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
``````




---

archive/issue_comments_468351.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -269,6 +269,7 @@\n - #32874 New option `./configure --enable-wheels` (supersedes #32927, #30152)\n - #34770/#34823/#34804 Deprecate `sage.interfaces` `is_...Element` functions\n - #32664 Deprecate `is_FiniteField` etc., make `sage.rings.finite_rings` a namespace package\n+- #32709 `sage.structure.element`: Add ABCs `Polynomial`, `MPolynomial` for `isinstance` testing\n - #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... \n - #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules\n - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n``````\n",
    "created_at": "2022-12-06T08:42:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468351",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -269,6 +269,7 @@
 - #32874 New option `./configure --enable-wheels` (supersedes #32927, #30152)
 - #34770/#34823/#34804 Deprecate `sage.interfaces` `is_...Element` functions
 - #32664 Deprecate `is_FiniteField` etc., make `sage.rings.finite_rings` a namespace package
+- #32709 `sage.structure.element`: Add ABCs `Polynomial`, `MPolynomial` for `isinstance` testing
 - #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... 
 - #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules
 - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
``````




---

archive/issue_comments_468352.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -270,6 +270,8 @@\n - #34770/#34823/#34804 Deprecate `sage.interfaces` `is_...Element` functions\n - #32664 Deprecate `is_FiniteField` etc., make `sage.rings.finite_rings` a namespace package\n - #32709 `sage.structure.element`: Add ABCs `Polynomial`, `MPolynomial` for `isinstance` testing\n+- #16522 `lazy_import` doesn't resolve properly when indirectly imported\n+- #34547 Interface issues: should use more lazy imports\n - #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... \n - #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules\n - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n``````\n",
    "created_at": "2022-12-18T21:35:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468352",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -270,6 +270,8 @@
 - #34770/#34823/#34804 Deprecate `sage.interfaces` `is_...Element` functions
 - #32664 Deprecate `is_FiniteField` etc., make `sage.rings.finite_rings` a namespace package
 - #32709 `sage.structure.element`: Add ABCs `Polynomial`, `MPolynomial` for `isinstance` testing
+- #16522 `lazy_import` doesn't resolve properly when indirectly imported
+- #34547 Interface issues: should use more lazy imports
 - #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... 
 - #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules
 - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
``````




---

archive/issue_comments_468353.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -272,6 +272,8 @@\n - #32709 `sage.structure.element`: Add ABCs `Polynomial`, `MPolynomial` for `isinstance` testing\n - #16522 `lazy_import` doesn't resolve properly when indirectly imported\n - #34547 Interface issues: should use more lazy imports\n+- #34858 Fix sagemath-standard sdist\n+- #34855 Remove direct use of `setup.py sdist`, add targets `make SPKG-sdist`\n - #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... \n - #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules\n - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n``````\n",
    "created_at": "2022-12-19T03:27:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468353",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -272,6 +272,8 @@
 - #32709 `sage.structure.element`: Add ABCs `Polynomial`, `MPolynomial` for `isinstance` testing
 - #16522 `lazy_import` doesn't resolve properly when indirectly imported
 - #34547 Interface issues: should use more lazy imports
+- #34858 Fix sagemath-standard sdist
+- #34855 Remove direct use of `setup.py sdist`, add targets `make SPKG-sdist`
 - #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... 
 - #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules
 - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
``````




---

archive/issue_comments_468354.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -276,6 +276,7 @@\n - #34855 Remove direct use of `setup.py sdist`, add targets `make SPKG-sdist`\n - #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... \n - #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules\n+- #33577 Migrate from `setup.cfg` to `pyproject.toml`\n - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**\n - #33037 Remove use of `SAGE_LIB` variable\n - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**\n``````\n",
    "created_at": "2022-12-20T07:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29705#issuecomment-468354",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -276,6 +276,7 @@
 - #34855 Remove direct use of `setup.py sdist`, add targets `make SPKG-sdist`
 - #34346 Distributions with optional extension modules: **sagemath-meataxe**, **sagemath-tdlib**, **sagemath-sirocco**, **sagemath-bliss**, ... 
 - #30666 Distributions **sagemath-{flint-arb,homfly,giac,gap}**, add `sage_setup: distribution` to Cython modules
+- #33577 Migrate from `setup.cfg` to `pyproject.toml`
 - #31444 Modularization of sagelib: Break out separate package **sagemath-linbox**
 - #33037 Remove use of `SAGE_LIB` variable
 - #32432: Modularization of sagelib: Break out a separate package **sagemath-polyhedra**
``````




---

archive/issue_events_405690.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405690"
}
```



---

archive/issue_events_405691.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29705",
    "milestone_number": null,
    "milestone_title": "sage-9.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29705#event-405691"
}
```
