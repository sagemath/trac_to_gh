# Issue 29111: src/bin/sage: Delegate handling of options of sage-the-distribution, specifying a subset that is supported by sagelib proper

archive/issues_028874.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nThe `sage` script has a number of options that only make sense for sage-the-distribution, but do not make sense in downstream packaging of sage. Consequently, downstream packagers may install simple custom versions of the script that only provide a subset of the options.\n\nExamples:\n- `sage -sqlite` -- as discussed in #29002/#29092 -- because from a downstream packaging point of view, sage is not really responsible for providing sqlite, it's provided by justs another system package\n- `sage -upgrade` -- only makes sense with sage-the-distribution built from source\n\nWe should specify the subset of sage command line options that must be supported in any deployment/packaging of sage. This is so that user packages can work reliably.\n\nExamples:\n- `sage -c SAGECOMMAND` -- obviously\n- `sage -python -c COMMAND`\n- `sage -t` -- because it is used by user packages for testing sage sources\n- `sage -sh` ..... ?\n\nIn this ticket, we actually split `src/bin/sage` into sagelib functionality and sage-the-distribution functionality. `src/bin/sage` delegates unknown options to `build/bin/sage-site`. \n\nIdeally, distributions should be able to use an unmodified `src/bin/sage`.\n\nContext:\n- https://groups.google.com/d/msg/sage-packaging/BmkxIBdwbvE/fRMl2sjdBQAJ\n- #29060: Meta-ticket: Add Dockerfiles and CI scripts for integration testing of source and binary distributions and of downstream packages\n\nSee also:\n- #29884: `src/doc/bootstrap`: Generate `src/doc/en/reference/repl/options.rst`\n\nDepends on #29878\nDepends on #29289\nDepends on #29884\n\nCC:  @kiwifb @isuruf @dimpase @embray @saraedum @antonio-rojas @slel @EmmanuelCharpentier @orlitzky @kcrisman\n\nComponent: **scripts**\n\nAuthor: **Matthias Koeppe, John Palmieri**\n\nBranch: **[`3953671`](https://github.com/sagemath/sagetrac-mirror/commit/39536716aef05e8953bdc50038c49e5959ffdb6a)**\n\nReviewer: **Matthias Koeppe, John Palmieri, Fran\u00e7ois Bissey**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29111_\n\n",
    "closed_at": "2020-07-10T19:34:16Z",
    "created_at": "2020-01-30T16:12:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20scripts",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "src/bin/sage: Delegate handling of options of sage-the-distribution, specifying a subset that is supported by sagelib proper",
    "type": "issue",
    "updated_at": "2022-04-25T02:25:50Z",
    "url": "https://github.com/sagemath/sage/issues/29111",
    "user": "https://github.com/mkoeppe"
}
```
<div id="comment:0"></div>

The `sage` script has a number of options that only make sense for sage-the-distribution, but do not make sense in downstream packaging of sage. Consequently, downstream packagers may install simple custom versions of the script that only provide a subset of the options.

Examples:
- `sage -sqlite` -- as discussed in #29002/#29092 -- because from a downstream packaging point of view, sage is not really responsible for providing sqlite, it's provided by justs another system package
- `sage -upgrade` -- only makes sense with sage-the-distribution built from source

We should specify the subset of sage command line options that must be supported in any deployment/packaging of sage. This is so that user packages can work reliably.

Examples:
- `sage -c SAGECOMMAND` -- obviously
- `sage -python -c COMMAND`
- `sage -t` -- because it is used by user packages for testing sage sources
- `sage -sh` ..... ?

In this ticket, we actually split `src/bin/sage` into sagelib functionality and sage-the-distribution functionality. `src/bin/sage` delegates unknown options to `build/bin/sage-site`. 

Ideally, distributions should be able to use an unmodified `src/bin/sage`.

Context:
- https://groups.google.com/d/msg/sage-packaging/BmkxIBdwbvE/fRMl2sjdBQAJ
- #29060: Meta-ticket: Add Dockerfiles and CI scripts for integration testing of source and binary distributions and of downstream packages

See also:
- #29884: `src/doc/bootstrap`: Generate `src/doc/en/reference/repl/options.rst`

Depends on #29878
Depends on #29289
Depends on #29884

CC:  @kiwifb @isuruf @dimpase @embray @saraedum @antonio-rojas @slel @EmmanuelCharpentier @orlitzky @kcrisman

Component: **scripts**

Author: **Matthias Koeppe, John Palmieri**

Branch: **[`3953671`](https://github.com/sagemath/sagetrac-mirror/commit/39536716aef05e8953bdc50038c49e5959ffdb6a)**

Reviewer: **Matthias Koeppe, John Palmieri, Fran√ßois Bissey**

_Issue created by migration from https://trac.sagemath.org/ticket/29111_





---

archive/issue_events_397106.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-30T16:12:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397106"
}
```



---

archive/issue_events_397107.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-30T16:12:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397107"
}
```



---

archive/issue_events_397108.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-30T16:12:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397108"
}
```



---

archive/issue_comments_455996.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAs I said on #29092, we should also move corresponding sage-the-distribution tests (such as those for `sage -sqlite`) mentioned in #29002) from `src` (which is for sagelib) to somewhere in `build` (which is for sage-the-distribution). Downstream packagers would ignore the sage-the-distribution tests.",
    "created_at": "2020-01-30T16:21:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-455996",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:1" align="right">comment:1</div>

As I said on #29092, we should also move corresponding sage-the-distribution tests (such as those for `sage -sqlite`) mentioned in #29002) from `src` (which is for sagelib) to somewhere in `build` (which is for sage-the-distribution). Downstream packagers would ignore the sage-the-distribution tests.



---

archive/issue_events_397109.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-31T15:00:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20scripts",
    "label_color": "0000b0",
    "label_name": "c: scripts",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397109"
}
```



---

archive/issue_events_397110.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T06:33:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397110"
}
```



---

archive/issue_events_397111.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T06:33:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397111"
}
```



---

archive/issue_comments_455997.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\npushing these forward to 9.2",
    "created_at": "2020-04-14T06:33:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-455997",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

pushing these forward to 9.2



---

archive/issue_comments_455998.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n - `sage -t` -- because it is used by user packages for testing sage sources\n - `sage -sh` ..... ?\n \n-(In addition to specifying this, we might actually want to split `src/bin/sage` into sagelib functionality and sage-the-distribution functionality.)\n+(In addition to specifying this, we might actually want to split `src/bin/sage` into sagelib functionality and sage-the-distribution functionality. Ideally, distributions should be able to use an unmodified `src/bin/sage`, which would delegate unknown options to an optional \"site\" script that would be provided by sage-the-distribution.)\n \n Context:\n - https://groups.google.com/d/msg/sage-packaging/BmkxIBdwbvE/fRMl2sjdBQAJ\n``````\n",
    "created_at": "2020-06-16T19:52:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-455998",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 - `sage -t` -- because it is used by user packages for testing sage sources
 - `sage -sh` ..... ?
 
-(In addition to specifying this, we might actually want to split `src/bin/sage` into sagelib functionality and sage-the-distribution functionality.)
+(In addition to specifying this, we might actually want to split `src/bin/sage` into sagelib functionality and sage-the-distribution functionality. Ideally, distributions should be able to use an unmodified `src/bin/sage`, which would delegate unknown options to an optional "site" script that would be provided by sage-the-distribution.)
 
 Context:
 - https://groups.google.com/d/msg/sage-packaging/BmkxIBdwbvE/fRMl2sjdBQAJ
``````




---

archive/issue_comments_455999.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI've asked this question before: if Sage is built with the system's Python, should we still keep `sage --python ...`? What is the difference between `sage --python` and `sage --sqlite3` (and what about `sage --gap`, `sage --singular`, etc.)?",
    "created_at": "2020-06-16T20:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-455999",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">comment:6</div>

I've asked this question before: if Sage is built with the system's Python, should we still keep `sage --python ...`? What is the difference between `sage --python` and `sage --sqlite3` (and what about `sage --gap`, `sage --singular`, etc.)?



---

archive/issue_comments_456000.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHere are some arguments that should always be allowed:\n\n- `sage -t`\n- `sage -c`\n- `sage -h`\n- `sage -n`, `sage --notebook`\n- `sage --nodotsage`\n- `sage -v`, `sage --version`\n\n\"Advanced\" arguments:\n\n- `sage --preparse`\n- `sage --min`\n- `sage -q`\n- `sage --dumpversion`\n- `sage --startuptime`\n- `sage --fixdoctests`\n- `sage --coverage`\n- `sage --coverageall`\n- `sage --grep`, `sage --search_src`, `sage --grepdoc`, `sage --search_doc`\n- `sage --rst2ipynb`, `sage --ipynb2rst`\n\nMaybe also `sage --sh`.\n\n(I'm not saying is a complete list, but I would suggest these as a starting point.)",
    "created_at": "2020-06-16T20:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456000",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:7" align="right">comment:7</div>

Here are some arguments that should always be allowed:

- `sage -t`
- `sage -c`
- `sage -h`
- `sage -n`, `sage --notebook`
- `sage --nodotsage`
- `sage -v`, `sage --version`

"Advanced" arguments:

- `sage --preparse`
- `sage --min`
- `sage -q`
- `sage --dumpversion`
- `sage --startuptime`
- `sage --fixdoctests`
- `sage --coverage`
- `sage --coverageall`
- `sage --grep`, `sage --search_src`, `sage --grepdoc`, `sage --search_doc`
- `sage --rst2ipynb`, `sage --ipynb2rst`

Maybe also `sage --sh`.

(I'm not saying is a complete list, but I would suggest these as a starting point.)



---

archive/issue_comments_456001.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nBy the way, `sage -twistd` doesn't work: there is no `twistd` executable since Sage 9.1. Plus we are removing the twisted package in #29754. See #29878.",
    "created_at": "2020-06-16T20:42:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456001",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

By the way, `sage -twistd` doesn't work: there is no `twistd` executable since Sage 9.1. Plus we are removing the twisted package in #29754. See #29878.



---

archive/issue_comments_456002.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHum, this ticket reminds me that I need to clean the version in sage-on-gentoo\n\n```\nfbissey@moonloop ~ $ sage -advanced\nSageMath version 9.2.beta1, Release Date: 2020-06-13\n\nRunning Sage:\n  file.[sage|py|spyx] -- run given .sage, .py or .spyx file\n  -advanced           -- print this advanced help message\n  -c <cmd>            -- Evaluates cmd as sage code\n  -h, -?              -- print short help message\n  -min [...]          -- do not populate global namespace (must be first\n                         option)\n  -preparse <file.sage> -- preparse file.sage and produce corresponding file.sage.py\n  -q                  -- quiet; start with no banner\n  -gthread, -qthread, -q4thread, -wthread, -pylab\n                      -- pass the option through to ipython\n  -v, -version        -- display Sage version information\n  -dumpversion        -- print Sage version\n\nRunning the notebook:\n  --notebook=[...]    -- start the Sage notebook (valid options are\n                         'default', 'sagenb', 'jupyter' and 'export').\n                         Current default is 'export' sagenb to jupyter.\n                         See the output of sage --notebook --help\n                         for more details and examples of how to pass\n                         optional arguments\n  -inotebook [...]    -- start the *insecure* Sage notebook (deprecated)\n  -n, -notebook [...] -- start the default Sage notebook (options are the\n                         same as for the notebook command in Sage).  See the\n                         output of sage -n -h for more details\n\nRunning external programs:\n  -cleaner            -- run the Sage cleaner\n  -cython [...]       -- run Cython with given arguments\n  -ecl [...]          -- run Common Lisp\n  -gap [...]          -- run Sage's Gap with given arguments\n  -gdb                -- run Sage under the control of gdb\n  -gp [...]           -- run Sage's PARI/GP calculator with given arguments\n  -ipython [...]      -- run Sage's IPython using the default environment (not\n                         Sage), passing additional options to IPython\n  -ipython3 [...]     -- same as above, but using Python 3\n  -jupyter [...]      -- run Sage's Jupyter with given arguments\n  -kash [...]         -- run Sage's Kash with given arguments\n                         (not installed currently, run sage -i kash)\n  -lisp [...]         -- run Lisp interpreter included with Sage\n  -M2 [...]           -- run Sage's Macaulay2 with given arguments\n                         (not installed currently, run sage -i macaulay2)\n  -maxima [...]       -- run Sage's Maxima with given arguments\n  -mwrank [...]       -- run Sage's mwrank with given arguments\n  -polymake [...]     -- run Sage's Polymake with given arguments\n                         (not installed currently, run sage -i polymake)\n  -python [...]       -- run the Python interpreter\n  -python2 [...]      -- run the Python 2 interpreter\n  -python3 [...]      -- run the Python 3 interpreter\n  -R [...]            -- run Sage's R with given arguments\n  -sh [...]           -- run $SHELL (/bin/bash) with Sage environment variables\n  -singular [...]     -- run Sage's singular with given arguments\n  -sqlite3 [...]      -- run Sage's sqlite3 with given arguments\n  -twistd [...]       -- run Twisted server\n\nTesting the Sage library:\n  -startuptime [module] -- display how long each component of Sage takes to\n                         start up; optionally specify a module to get more\n                         details about that particular module\n  -t [options] <--all|files|dir>\n                      -- test examples in .py, .pyx, .sage, .tex or .rst files\n                         selected options:\n                           --long - include lines with the phrase 'long time'\n                           --verbose - print debugging output during the test\n                           --all - test all files\n                           --sagenb - test all sagenb files\n                           --optional - controls which optional tests are run\n                           --initial - only show the first failure per block\n                           --debug - drop into PDB after an unexpected error\n                           --failed - only test files that failed last test\n                           --warn-long [timeout] - warning if doctest is slow\n                           --only-errors - only output failures, not successes\n                           --gc=GC - control garbarge collection (ALWAYS:\n                                     collect garbage before every test; NEVER:\n                                     disable gc; DEFAULT: Python default)\n                           --help - show all testing options\n  -tp <N> [...]       -- like -t above, but tests in parallel using N threads\n                         with 0 interpreted as a sensible default\n  -testall [options]  -- test all source files, docs, and examples.  options\n                         like -t\n\nFile conversion:\n  -rst2ipynb [...]    -- Generates Jupyter notebook (.ipynb) from standalone\n                         reStructuredText source.\n                         (not installed currently, run sage -i rst2ipynb)\n  -ipynb2rst [...]    -- Generates a reStructuredText source file from\n                         a Jupyter notebook (.ipynb).\n\nValgrind memory debugging:\n  -cachegrind         -- run Sage using Valgrind's cachegrind tool.  The log\n                         files are named sage-cachegrind.PID can be found in\n                         \n  -callgrind          -- run Sage using Valgrind's callgrind tool.  The log\n                         files are named sage-callgrind.PID can be found in\n                         \n  -massif             -- run Sage using Valgrind's massif tool.  The log\n                         files are named sage-massif.PID can be found in\n                         \n  -memcheck           -- run Sage using Valgrind's memcheck tool.  The log\n                         files are named sage-memcheck.PID can be found in\n                         \n  -omega              -- run Sage using Valgrind's omega tool.  The log\n                         files are named sage-omega.PID can be found in\n                         \n  -valgrind           -- this is an alias for -memcheck\n\nYou can also use -- before a long option, e.g., 'sage --optional'.\n```\nI have to drop the py2/py3 stuff for just defaut python. I dropped `-sh` the day I dropped `sage-env` altogether, the main point of keeping `sage -sh` around was to check or use the environment set by `sage-env`.",
    "created_at": "2020-06-16T21:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456002",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:9" align="right">comment:9</div>

Hum, this ticket reminds me that I need to clean the version in sage-on-gentoo

```
fbissey@moonloop ~ $ sage -advanced
SageMath version 9.2.beta1, Release Date: 2020-06-13

Running Sage:
  file.[sage|py|spyx] -- run given .sage, .py or .spyx file
  -advanced           -- print this advanced help message
  -c <cmd>            -- Evaluates cmd as sage code
  -h, -?              -- print short help message
  -min [...]          -- do not populate global namespace (must be first
                         option)
  -preparse <file.sage> -- preparse file.sage and produce corresponding file.sage.py
  -q                  -- quiet; start with no banner
  -gthread, -qthread, -q4thread, -wthread, -pylab
                      -- pass the option through to ipython
  -v, -version        -- display Sage version information
  -dumpversion        -- print Sage version

Running the notebook:
  --notebook=[...]    -- start the Sage notebook (valid options are
                         'default', 'sagenb', 'jupyter' and 'export').
                         Current default is 'export' sagenb to jupyter.
                         See the output of sage --notebook --help
                         for more details and examples of how to pass
                         optional arguments
  -inotebook [...]    -- start the *insecure* Sage notebook (deprecated)
  -n, -notebook [...] -- start the default Sage notebook (options are the
                         same as for the notebook command in Sage).  See the
                         output of sage -n -h for more details

Running external programs:
  -cleaner            -- run the Sage cleaner
  -cython [...]       -- run Cython with given arguments
  -ecl [...]          -- run Common Lisp
  -gap [...]          -- run Sage's Gap with given arguments
  -gdb                -- run Sage under the control of gdb
  -gp [...]           -- run Sage's PARI/GP calculator with given arguments
  -ipython [...]      -- run Sage's IPython using the default environment (not
                         Sage), passing additional options to IPython
  -ipython3 [...]     -- same as above, but using Python 3
  -jupyter [...]      -- run Sage's Jupyter with given arguments
  -kash [...]         -- run Sage's Kash with given arguments
                         (not installed currently, run sage -i kash)
  -lisp [...]         -- run Lisp interpreter included with Sage
  -M2 [...]           -- run Sage's Macaulay2 with given arguments
                         (not installed currently, run sage -i macaulay2)
  -maxima [...]       -- run Sage's Maxima with given arguments
  -mwrank [...]       -- run Sage's mwrank with given arguments
  -polymake [...]     -- run Sage's Polymake with given arguments
                         (not installed currently, run sage -i polymake)
  -python [...]       -- run the Python interpreter
  -python2 [...]      -- run the Python 2 interpreter
  -python3 [...]      -- run the Python 3 interpreter
  -R [...]            -- run Sage's R with given arguments
  -sh [...]           -- run $SHELL (/bin/bash) with Sage environment variables
  -singular [...]     -- run Sage's singular with given arguments
  -sqlite3 [...]      -- run Sage's sqlite3 with given arguments
  -twistd [...]       -- run Twisted server

Testing the Sage library:
  -startuptime [module] -- display how long each component of Sage takes to
                         start up; optionally specify a module to get more
                         details about that particular module
  -t [options] <--all|files|dir>
                      -- test examples in .py, .pyx, .sage, .tex or .rst files
                         selected options:
                           --long - include lines with the phrase 'long time'
                           --verbose - print debugging output during the test
                           --all - test all files
                           --sagenb - test all sagenb files
                           --optional - controls which optional tests are run
                           --initial - only show the first failure per block
                           --debug - drop into PDB after an unexpected error
                           --failed - only test files that failed last test
                           --warn-long [timeout] - warning if doctest is slow
                           --only-errors - only output failures, not successes
                           --gc=GC - control garbarge collection (ALWAYS:
                                     collect garbage before every test; NEVER:
                                     disable gc; DEFAULT: Python default)
                           --help - show all testing options
  -tp <N> [...]       -- like -t above, but tests in parallel using N threads
                         with 0 interpreted as a sensible default
  -testall [options]  -- test all source files, docs, and examples.  options
                         like -t

File conversion:
  -rst2ipynb [...]    -- Generates Jupyter notebook (.ipynb) from standalone
                         reStructuredText source.
                         (not installed currently, run sage -i rst2ipynb)
  -ipynb2rst [...]    -- Generates a reStructuredText source file from
                         a Jupyter notebook (.ipynb).

Valgrind memory debugging:
  -cachegrind         -- run Sage using Valgrind's cachegrind tool.  The log
                         files are named sage-cachegrind.PID can be found in
                         
  -callgrind          -- run Sage using Valgrind's callgrind tool.  The log
                         files are named sage-callgrind.PID can be found in
                         
  -massif             -- run Sage using Valgrind's massif tool.  The log
                         files are named sage-massif.PID can be found in
                         
  -memcheck           -- run Sage using Valgrind's memcheck tool.  The log
                         files are named sage-memcheck.PID can be found in
                         
  -omega              -- run Sage using Valgrind's omega tool.  The log
                         files are named sage-omega.PID can be found in
                         
  -valgrind           -- this is an alias for -memcheck

You can also use -- before a long option, e.g., 'sage --optional'.
```
I have to drop the py2/py3 stuff for just defaut python. I dropped `-sh` the day I dropped `sage-env` altogether, the main point of keeping `sage -sh` around was to check or use the environment set by `sage-env`.



---

archive/issue_comments_456003.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nDropping `sage -sh` is a bad idea. User packages need this",
    "created_at": "2020-06-16T22:17:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456003",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Dropping `sage -sh` is a bad idea. User packages need this



---

archive/issue_comments_456004.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jhpalmieri](#comment%3A6):\n> I've asked this question before: if Sage is built with the system's Python, should we still keep `sage --python ...`? What is the difference between `sage --python` and `sage --sqlite3` (and what about `sage --gap`, `sage --singular`, etc.)?\n\n`sage -python` means: run the python that sage runs in.\nIn distributions, this could just be plain Python.\n\nInstall scripts of user packages need this.",
    "created_at": "2020-06-16T22:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456004",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jhpalmieri](#comment%3A6):
> I've asked this question before: if Sage is built with the system's Python, should we still keep `sage --python ...`? What is the difference between `sage --python` and `sage --sqlite3` (and what about `sage --gap`, `sage --singular`, etc.)?

`sage -python` means: run the python that sage runs in.
In distributions, this could just be plain Python.

Install scripts of user packages need this.



---

archive/issue_comments_456005.json:
```json
{
    "body": "Dependencies: **#29878**",
    "created_at": "2020-06-16T22:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456005",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#29878**



---

archive/issue_comments_456006.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@mkoeppe](#comment%3A10):\n> Dropping `sage -sh` is a bad idea. User packages need this\n\nCertainly, vanilla sage does need it. In sage-on-gentoo at best you would have a normal shell since I dropped sage-env altogether.",
    "created_at": "2020-06-16T22:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456006",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@mkoeppe](#comment%3A10):
> Dropping `sage -sh` is a bad idea. User packages need this

Certainly, vanilla sage does need it. In sage-on-gentoo at best you would have a normal shell since I dropped sage-env altogether.



---

archive/issue_comments_456007.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@kiwifb](#comment%3A13):\n> Replying to [@mkoeppe](#comment%3A10):\n> > Dropping `sage -sh` is a bad idea. User packages need this\n> \n> \n> Certainly, vanilla sage does need it. In sage-on-gentoo at best you would have a normal shell since I dropped sage-env altogether.\n\nYes, vanilla shell is fine. The point is that user packages need the _interface_.",
    "created_at": "2020-06-16T22:32:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456007",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@kiwifb](#comment%3A13):
> Replying to [@mkoeppe](#comment%3A10):
> > Dropping `sage -sh` is a bad idea. User packages need this
> 
> 
> Certainly, vanilla sage does need it. In sage-on-gentoo at best you would have a normal shell since I dropped sage-env altogether.

Yes, vanilla shell is fine. The point is that user packages need the _interface_.



---

archive/issue_comments_456008.json:
```json
{
    "body": "Changed dependencies from **#29878** to **#29878, #29289**",
    "created_at": "2020-06-16T22:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456008",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29878** to **#29878, #29289**



---

archive/issue_comments_456009.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nNow, I understand what you mean. User scripts may start with `sage -sh` and what not. I completely forgot about that when I removed it - even though that was one of the reason I was keeping it around. I will re-instate it as a vanilla shell or no-op for compatibility.",
    "created_at": "2020-06-16T22:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456009",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:16" align="right">comment:16</div>

Now, I understand what you mean. User scripts may start with `sage -sh` and what not. I completely forgot about that when I removed it - even though that was one of the reason I was keeping it around. I will re-instate it as a vanilla shell or no-op for compatibility.



---

archive/issue_comments_456010.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nGreat!",
    "created_at": "2020-06-16T22:39:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456010",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Great!



---

archive/issue_comments_456011.json:
```json
{
    "body": "Branch: **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)**",
    "created_at": "2020-06-16T23:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456011",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)**



---

archive/issue_comments_456012.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nHere's a beginning of what I have in mind. \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b200d70de95654e31ad35dd751c034ed82d86c68\"><code>b200d70</code></a></td><td><code>trac 29878: remove \"sage --twistd\" command-line argument</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0b6112766e17ca2a4c72698d866afea6a3693db\"><code>e0b6112</code></a></td><td><code>build/bin/sage-spkg, src/bin/sage: Remove support for installing old-style SPKGs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20b2a931264e73ad5ea5b8ada726d4211e810431\"><code>20b2a93</code></a></td><td><code>Merge branch 't/29289/remove_support_for_installing_old_style_spkgs__deprecated_in_sage_6_9' into t/29111/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/152e58155fe193fd9215bee3bf20755c5e0c51a2\"><code>152e581</code></a></td><td><code>src/bin/sage: Delegate options that pertain to SAGE_ROOT or sage-the-distribution to the new script build/bin/sage-site</code></td></tr></table>\n",
    "created_at": "2020-06-16T23:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456012",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

Here's a beginning of what I have in mind. 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b200d70de95654e31ad35dd751c034ed82d86c68"><code>b200d70</code></a></td><td><code>trac 29878: remove "sage --twistd" command-line argument</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0b6112766e17ca2a4c72698d866afea6a3693db"><code>e0b6112</code></a></td><td><code>build/bin/sage-spkg, src/bin/sage: Remove support for installing old-style SPKGs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20b2a931264e73ad5ea5b8ada726d4211e810431"><code>20b2a93</code></a></td><td><code>Merge branch 't/29289/remove_support_for_installing_old_style_spkgs__deprecated_in_sage_6_9' into t/29111/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/152e58155fe193fd9215bee3bf20755c5e0c51a2"><code>152e581</code></a></td><td><code>src/bin/sage: Delegate options that pertain to SAGE_ROOT or sage-the-distribution to the new script build/bin/sage-site</code></td></tr></table>




---

archive/issue_comments_456013.json:
```json
{
    "body": "Commit: **[`152e581`](https://github.com/sagemath/sagetrac-mirror/commit/152e58155fe193fd9215bee3bf20755c5e0c51a2)**",
    "created_at": "2020-06-16T23:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456013",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`152e581`](https://github.com/sagemath/sagetrac-mirror/commit/152e58155fe193fd9215bee3bf20755c5e0c51a2)**



---

archive/issue_comments_456014.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nOkay, I'm fine with keeping `sage --python`. What about `sage --singular` et al.? Should `src/bin/sage` be constructed by `./configure`, adding arguments when the corresponding packages are going to be installed by Sage? Or is that too complicated?",
    "created_at": "2020-06-16T23:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456014",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:20" align="right">comment:20</div>

Okay, I'm fine with keeping `sage --python`. What about `sage --singular` et al.? Should `src/bin/sage` be constructed by `./configure`, adding arguments when the corresponding packages are going to be installed by Sage? Or is that too complicated?



---

archive/issue_comments_456015.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,9 @@\n - `sage -t` -- because it is used by user packages for testing sage sources\n - `sage -sh` ..... ?\n \n-(In addition to specifying this, we might actually want to split `src/bin/sage` into sagelib functionality and sage-the-distribution functionality. Ideally, distributions should be able to use an unmodified `src/bin/sage`, which would delegate unknown options to an optional \"site\" script that would be provided by sage-the-distribution.)\n+In this ticket, we actually split `src/bin/sage` into sagelib functionality and sage-the-distribution functionality. `src/bin/sage` delegates unknown options to `build/bin/sage-site`. \n+\n+Ideally, distributions should be able to use an unmodified `src/bin/sage`.\n \n Context:\n - https://groups.google.com/d/msg/sage-packaging/BmkxIBdwbvE/fRMl2sjdBQAJ\n``````\n",
    "created_at": "2020-06-16T23:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456015",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,9 @@
 - `sage -t` -- because it is used by user packages for testing sage sources
 - `sage -sh` ..... ?
 
-(In addition to specifying this, we might actually want to split `src/bin/sage` into sagelib functionality and sage-the-distribution functionality. Ideally, distributions should be able to use an unmodified `src/bin/sage`, which would delegate unknown options to an optional "site" script that would be provided by sage-the-distribution.)
+In this ticket, we actually split `src/bin/sage` into sagelib functionality and sage-the-distribution functionality. `src/bin/sage` delegates unknown options to `build/bin/sage-site`. 
+
+Ideally, distributions should be able to use an unmodified `src/bin/sage`.
 
 Context:
 - https://groups.google.com/d/msg/sage-packaging/BmkxIBdwbvE/fRMl2sjdBQAJ
``````




---

archive/issue_events_397112.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-16T23:12:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "title_is": "src/bin/sage: Delegate handling of options of sage-the-distribution, specifying a subset that is supported by sagelib proper",
    "title_was": "Specify a subset of sage command line options that are supported by sagelib - rather than sage-the-distribution",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397112"
}
```



---

archive/issue_comments_456016.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@jhpalmieri](#comment%3A20):\n> Okay, I'm fine with keeping `sage --python`. What about `sage --singular` et al.? \n\nI think those should be moved to `sage-site` as well. (Also the printing of these in the help text...)\n\n> Should `src/bin/sage` be constructed by `./configure`, adding arguments when the corresponding packages are going to be installed by Sage? Or is that too complicated?\n\nI think that's too complicated",
    "created_at": "2020-06-16T23:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456016",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@jhpalmieri](#comment%3A20):
> Okay, I'm fine with keeping `sage --python`. What about `sage --singular` et al.? 

I think those should be moved to `sage-site` as well. (Also the printing of these in the help text...)

> Should `src/bin/sage` be constructed by `./configure`, adding arguments when the corresponding packages are going to be installed by Sage? Or is that too complicated?

I think that's too complicated



---

archive/issue_comments_456017.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n> sage --grep, sage --search_src, sage --grepdoc, sage --search_doc\n\nAt the risk of starting another holy war, we shouldn't expect these to work on a distribution because we shouldn't expect the source files to be available after installation. My current sage.git checkout contains 71MiB of *.py files that are entirely redundant after the optimized .opt-2.pyc files are generated. Someone is eventually going to realize that they shouldn't be installed after this gets more popular.",
    "created_at": "2020-06-16T23:40:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456017",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:23" align="right">comment:23</div>

> sage --grep, sage --search_src, sage --grepdoc, sage --search_doc

At the risk of starting another holy war, we shouldn't expect these to work on a distribution because we shouldn't expect the source files to be available after installation. My current sage.git checkout contains 71MiB of *.py files that are entirely redundant after the optimized .opt-2.pyc files are generated. Someone is eventually going to realize that they shouldn't be installed after this gets more popular.



---

archive/issue_comments_456018.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nWe could just conditionalize these ones based on whether SAGE_SRC is set or not by sage-env...",
    "created_at": "2020-06-16T23:44:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456018",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

We could just conditionalize these ones based on whether SAGE_SRC is set or not by sage-env...



---

archive/issue_comments_456019.json:
```json
{
    "body": "Changed commit from **[`152e581`](https://github.com/sagemath/sagetrac-mirror/commit/152e58155fe193fd9215bee3bf20755c5e0c51a2)** to **[`e734d55`](https://github.com/sagemath/sagetrac-mirror/commit/e734d55ff8bcff42a7c9b0f750dc066d2afa0252)**",
    "created_at": "2020-06-16T23:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456019",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`152e581`](https://github.com/sagemath/sagetrac-mirror/commit/152e58155fe193fd9215bee3bf20755c5e0c51a2)** to **[`e734d55`](https://github.com/sagemath/sagetrac-mirror/commit/e734d55ff8bcff42a7c9b0f750dc066d2afa0252)**



---

archive/issue_comments_456020.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e734d55ff8bcff42a7c9b0f750dc066d2afa0252\"><code>e734d55</code></a></td><td><code>src/bin/sage: Disable options -grep, -grepdoc on distributions without SAGE_SRC</code></td></tr></table>\n",
    "created_at": "2020-06-16T23:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456020",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e734d55ff8bcff42a7c9b0f750dc066d2afa0252"><code>e734d55</code></a></td><td><code>src/bin/sage: Disable options -grep, -grepdoc on distributions without SAGE_SRC</code></td></tr></table>




---

archive/issue_comments_456021.json:
```json
{
    "body": "Changed commit from **[`e734d55`](https://github.com/sagemath/sagetrac-mirror/commit/e734d55ff8bcff42a7c9b0f750dc066d2afa0252)** to **[`096ca92`](https://github.com/sagemath/sagetrac-mirror/commit/096ca9293b7ddef99c4b722f8604af0a2a420799)**",
    "created_at": "2020-06-17T00:13:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456021",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e734d55`](https://github.com/sagemath/sagetrac-mirror/commit/e734d55ff8bcff42a7c9b0f750dc066d2afa0252)** to **[`096ca92`](https://github.com/sagemath/sagetrac-mirror/commit/096ca9293b7ddef99c4b722f8604af0a2a420799)**



---

archive/issue_comments_456022.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/096ca9293b7ddef99c4b722f8604af0a2a420799\"><code>096ca92</code></a></td><td><code>src/bin/sage: Move option -fix-pkg-checksums to sage-site</code></td></tr></table>\n",
    "created_at": "2020-06-17T00:13:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456022",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/096ca9293b7ddef99c4b722f8604af0a2a420799"><code>096ca92</code></a></td><td><code>src/bin/sage: Move option -fix-pkg-checksums to sage-site</code></td></tr></table>




---

archive/issue_comments_456023.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-06-17T00:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456023",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_397113.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-17T00:29:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397113"
}
```



---

archive/issue_comments_456024.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nAll, please review, or feel free to push more changes to this ticket.",
    "created_at": "2020-06-17T00:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456024",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

All, please review, or feel free to push more changes to this ticket.



---

archive/issue_comments_456025.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eadae5aad05ed13b4fc78db9ddf7ee8c67331274\"><code>eadae5a</code></a></td><td><code>src/bin/sage: Move parts of the help message to sage-site</code></td></tr></table>\n",
    "created_at": "2020-06-17T16:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456025",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eadae5aad05ed13b4fc78db9ddf7ee8c67331274"><code>eadae5a</code></a></td><td><code>src/bin/sage: Move parts of the help message to sage-site</code></td></tr></table>




---

archive/issue_comments_456026.json:
```json
{
    "body": "Changed commit from **[`096ca92`](https://github.com/sagemath/sagetrac-mirror/commit/096ca9293b7ddef99c4b722f8604af0a2a420799)** to **[`eadae5a`](https://github.com/sagemath/sagetrac-mirror/commit/eadae5aad05ed13b4fc78db9ddf7ee8c67331274)**",
    "created_at": "2020-06-17T16:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456026",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`096ca92`](https://github.com/sagemath/sagetrac-mirror/commit/096ca9293b7ddef99c4b722f8604af0a2a420799)** to **[`eadae5a`](https://github.com/sagemath/sagetrac-mirror/commit/eadae5aad05ed13b4fc78db9ddf7ee8c67331274)**



---

archive/issue_comments_456027.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -20,3 +20,5 @@\n - https://groups.google.com/d/msg/sage-packaging/BmkxIBdwbvE/fRMl2sjdBQAJ\n - #29060: Meta-ticket: Add Dockerfiles and CI scripts for integration testing of source and binary distributions and of downstream packages\n \n+See also:\n+- #29884: `src/doc/bootstrap`: Generate `src/doc/en/reference/repl/options.rst`\n``````\n",
    "created_at": "2020-06-17T17:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456027",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -20,3 +20,5 @@
 - https://groups.google.com/d/msg/sage-packaging/BmkxIBdwbvE/fRMl2sjdBQAJ
 - #29060: Meta-ticket: Add Dockerfiles and CI scripts for integration testing of source and binary distributions and of downstream packages
 
+See also:
+- #29884: `src/doc/bootstrap`: Generate `src/doc/en/reference/repl/options.rst`
``````




---

archive/issue_comments_456028.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThere are also various options regarding notebooks that may need updating. If someone knows about the details, please push changes to the branch",
    "created_at": "2020-06-17T17:08:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456028",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

There are also various options regarding notebooks that may need updating. If someone knows about the details, please push changes to the branch



---

archive/issue_comments_456029.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nSpeaking of holy wars, this has reminded me of #21, which I am thinking of trying to revive. I'll see if I have time to work on that. For this ticket, we could remove `-inotebook`, and `sagenb` is no longer a valid option for `-notebook`.",
    "created_at": "2020-06-17T17:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456029",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:31" align="right">comment:31</div>

Speaking of holy wars, this has reminded me of #21, which I am thinking of trying to revive. I'll see if I have time to work on that. For this ticket, we could remove `-inotebook`, and `sagenb` is no longer a valid option for `-notebook`.



---

archive/issue_comments_456030.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)** to **[u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)**",
    "created_at": "2020-06-17T17:23:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456030",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)** to **[u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)**



---

archive/issue_comments_456031.json:
```json
{
    "body": "Changed commit from **[`eadae5a`](https://github.com/sagemath/sagetrac-mirror/commit/eadae5aad05ed13b4fc78db9ddf7ee8c67331274)** to **[`0856913`](https://github.com/sagemath/sagetrac-mirror/commit/08569132d2b8dfd54a4446df7da200d303ad9ce1)**",
    "created_at": "2020-06-17T17:34:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456031",
    "user": "https://github.com/kcrisman"
}
```

Changed commit from **[`eadae5a`](https://github.com/sagemath/sagetrac-mirror/commit/eadae5aad05ed13b4fc78db9ddf7ee8c67331274)** to **[`0856913`](https://github.com/sagemath/sagetrac-mirror/commit/08569132d2b8dfd54a4446df7da200d303ad9ce1)**



---

archive/issue_comments_456032.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\n> Speaking of holy wars, this has reminded me of #21, which I am thinking of trying to revive. I'll see if I have time to work on that. \n\nOr holy grails!\n\n> For this ticket, we could remove `-inotebook`, and `sagenb` is no longer a valid option for `-notebook`.\n\n\nI don't remember all the options for `-notebook`, but I think it would be helpful to have some sort of warning message (or page?) that `sagenb` would raise, rather than removing it completely.  For instance, it could just open the export-to-Jupyter page by default, with an extra little warning template that \"if you want to use the old sagenb, please use Sage prior to 9.x\".  Probably what anyone who tries to use sagenb would want is the export at this point, and this is one way to inform them.\n\nJohn, what does your branch give for `sage -n -h` or `sage --notebook --help` which is somewhat prominently mentioned in the `sage -advanced` help?  Is any of what comes out of that still valid?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08569132d2b8dfd54a4446df7da200d303ad9ce1\"><code>0856913</code></a></td><td><code>trac 29111: remove --inotebook, references to sagenb</code></td></tr></table>\n",
    "created_at": "2020-06-17T17:34:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456032",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:33" align="right">comment:33</div>

> Speaking of holy wars, this has reminded me of #21, which I am thinking of trying to revive. I'll see if I have time to work on that. 

Or holy grails!

> For this ticket, we could remove `-inotebook`, and `sagenb` is no longer a valid option for `-notebook`.


I don't remember all the options for `-notebook`, but I think it would be helpful to have some sort of warning message (or page?) that `sagenb` would raise, rather than removing it completely.  For instance, it could just open the export-to-Jupyter page by default, with an extra little warning template that "if you want to use the old sagenb, please use Sage prior to 9.x".  Probably what anyone who tries to use sagenb would want is the export at this point, and this is one way to inform them.

John, what does your branch give for `sage -n -h` or `sage --notebook --help` which is somewhat prominently mentioned in the `sage -advanced` help?  Is any of what comes out of that still valid?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08569132d2b8dfd54a4446df7da200d303ad9ce1"><code>0856913</code></a></td><td><code>trac 29111: remove --inotebook, references to sagenb</code></td></tr></table>




---

archive/issue_comments_456033.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI think that the default for `sage --notebook` should now be `jupyter`. This involves only editing `sage-notebook`, and  belongs on a separate ticket: #29885.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08569132d2b8dfd54a4446df7da200d303ad9ce1\"><code>0856913</code></a></td><td><code>trac 29111: remove --inotebook, references to sagenb</code></td></tr></table>\n",
    "created_at": "2020-06-17T17:37:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456033",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:34" align="right">comment:34</div>

I think that the default for `sage --notebook` should now be `jupyter`. This involves only editing `sage-notebook`, and  belongs on a separate ticket: #29885.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08569132d2b8dfd54a4446df7da200d303ad9ce1"><code>0856913</code></a></td><td><code>trac 29111: remove --inotebook, references to sagenb</code></td></tr></table>




---

archive/issue_comments_456034.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nThe branch here doesn't change `sage -n -h`. The branch at #29885 removes \"sagenb\" from this part of the help message:\n\n```\n  --notebook [NOTEBOOK], -n [NOTEBOOK], -notebook [NOTEBOOK]\n                        The notebook to run [one of: default, sagenb, ipython,\n                        jupyter, jupyterlab, export]. Default is export\n```",
    "created_at": "2020-06-17T17:38:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456034",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:35" align="right">comment:35</div>

The branch here doesn't change `sage -n -h`. The branch at #29885 removes "sagenb" from this part of the help message:

```
  --notebook [NOTEBOOK], -n [NOTEBOOK], -notebook [NOTEBOOK]
                        The notebook to run [one of: default, sagenb, ipython,
                        jupyter, jupyterlab, export]. Default is export
```



---

archive/issue_comments_456035.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nOh, and with the branch at #29885, running `sage -n sagenb` prints\n\n```\nCRITICAL:root:cannot use the legacy notebook SageNB with Python 3\nThe legacy notebook does not work under Python 3; use the Jupyter notebook.\nSee https://wiki.sagemath.org/Python3-Switch\n```\nThe branch here prints something similar, just a bit less grammatical ;)",
    "created_at": "2020-06-17T17:40:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456035",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:36" align="right">comment:36</div>

Oh, and with the branch at #29885, running `sage -n sagenb` prints

```
CRITICAL:root:cannot use the legacy notebook SageNB with Python 3
The legacy notebook does not work under Python 3; use the Jupyter notebook.
See https://wiki.sagemath.org/Python3-Switch
```
The branch here prints something similar, just a bit less grammatical ;)



---

archive/issue_comments_456036.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nOne more thing:\n\n> it could just open the export-to-Jupyter page by default\n\nthis has been the standard behavior for a while. At #29885, I am proposing changing this to make running the Jupyter notebook the default behavior. We should probably continue the notebook discussion at #29885.",
    "created_at": "2020-06-17T17:41:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456036",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:37" align="right">comment:37</div>

One more thing:

> it could just open the export-to-Jupyter page by default

this has been the standard behavior for a while. At #29885, I am proposing changing this to make running the Jupyter notebook the default behavior. We should probably continue the notebook discussion at #29885.



---

archive/issue_comments_456037.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\n> We should probably continue the notebook discussion at #29885.\n\nSure, it's not a big deal in any case.",
    "created_at": "2020-06-17T17:46:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456037",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:38" align="right">comment:38</div>

> We should probably continue the notebook discussion at #29885.

Sure, it's not a big deal in any case.



---

archive/issue_comments_456038.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nShould #29884 be a dependency for this ticket, or are we also going to manually fix `src/doc/en/reference/repl/options.rst`?",
    "created_at": "2020-06-17T17:46:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456038",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:39" align="right">comment:39</div>

Should #29884 be a dependency for this ticket, or are we also going to manually fix `src/doc/en/reference/repl/options.rst`?



---

archive/issue_comments_456039.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@jhpalmieri](#comment%3A39):\n> Should #29884 be a dependency for this ticket, or are we also going to manually fix `src/doc/en/reference/repl/options.rst`?\n\nI'll work on the automatic generation in #29884 now. \nIf you could check if anything from ``options.rst`` should be added to the help text, that would be helpful.",
    "created_at": "2020-06-17T18:37:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456039",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@jhpalmieri](#comment%3A39):
> Should #29884 be a dependency for this ticket, or are we also going to manually fix `src/doc/en/reference/repl/options.rst`?

I'll work on the automatic generation in #29884 now. 
If you could check if anything from ``options.rst`` should be added to the help text, that would be helpful.



---

archive/issue_comments_456040.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n#29884 is ready now",
    "created_at": "2020-06-17T18:58:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456040",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:41" align="right">comment:41</div>

#29884 is ready now



---

archive/issue_comments_456041.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)** to **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)**",
    "created_at": "2020-06-17T19:05:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456041",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)** to **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)**



---

archive/issue_comments_456042.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb9dcdcae8915a3a135accff500dc7e1c332d27d\"><code>fb9dcdc</code></a></td><td><code>src/bin/sage: Move parts of the help message to sage-site</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/885092e77b06b6d616297edd8ac1a37db9113cc6\"><code>885092e</code></a></td><td><code>src/doc/bootstrap: Generate src/doc/en/reference/repl/options.txt</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ecc84042fbdc77eabb23dc33954658ca3e5b276\"><code>1ecc840</code></a></td><td><code>Merge branch 't/29884/src_doc_bootstrap__generate_src_doc_en_reference_repl_options_rst' into t/29111/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution</code></td></tr></table>\n",
    "created_at": "2020-06-17T19:05:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456042",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb9dcdcae8915a3a135accff500dc7e1c332d27d"><code>fb9dcdc</code></a></td><td><code>src/bin/sage: Move parts of the help message to sage-site</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/885092e77b06b6d616297edd8ac1a37db9113cc6"><code>885092e</code></a></td><td><code>src/doc/bootstrap: Generate src/doc/en/reference/repl/options.txt</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ecc84042fbdc77eabb23dc33954658ca3e5b276"><code>1ecc840</code></a></td><td><code>Merge branch 't/29884/src_doc_bootstrap__generate_src_doc_en_reference_repl_options_rst' into t/29111/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution</code></td></tr></table>




---

archive/issue_comments_456043.json:
```json
{
    "body": "Changed commit from **[`0856913`](https://github.com/sagemath/sagetrac-mirror/commit/08569132d2b8dfd54a4446df7da200d303ad9ce1)** to **[`1ecc840`](https://github.com/sagemath/sagetrac-mirror/commit/1ecc84042fbdc77eabb23dc33954658ca3e5b276)**",
    "created_at": "2020-06-17T19:05:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456043",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`0856913`](https://github.com/sagemath/sagetrac-mirror/commit/08569132d2b8dfd54a4446df7da200d303ad9ce1)** to **[`1ecc840`](https://github.com/sagemath/sagetrac-mirror/commit/1ecc84042fbdc77eabb23dc33954658ca3e5b276)**



---

archive/issue_comments_456044.json:
```json
{
    "body": "Changed dependencies from **#29878, #29289** to **#29878, #29289, #29884**",
    "created_at": "2020-06-17T19:05:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456044",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29878, #29289** to **#29878, #29289, #29884**



---

archive/issue_comments_456045.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ba580b6523280f1510a200ef519f61b512bbaf2\"><code>6ba580b</code></a></td><td><code>src/doc/en/reference/repl/options.rst: Replace copypasta by include of generated file options.txt</code></td></tr></table>\n",
    "created_at": "2020-06-17T19:08:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456045",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ba580b6523280f1510a200ef519f61b512bbaf2"><code>6ba580b</code></a></td><td><code>src/doc/en/reference/repl/options.rst: Replace copypasta by include of generated file options.txt</code></td></tr></table>




---

archive/issue_comments_456046.json:
```json
{
    "body": "Changed commit from **[`1ecc840`](https://github.com/sagemath/sagetrac-mirror/commit/1ecc84042fbdc77eabb23dc33954658ca3e5b276)** to **[`6ba580b`](https://github.com/sagemath/sagetrac-mirror/commit/6ba580b6523280f1510a200ef519f61b512bbaf2)**",
    "created_at": "2020-06-17T19:08:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456046",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1ecc840`](https://github.com/sagemath/sagetrac-mirror/commit/1ecc84042fbdc77eabb23dc33954658ca3e5b276)** to **[`6ba580b`](https://github.com/sagemath/sagetrac-mirror/commit/6ba580b6523280f1510a200ef519f61b512bbaf2)**



---

archive/issue_comments_456047.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@mkoeppe](#comment%3A40):\n> Replying to [@jhpalmieri](#comment%3A39):\n> > Should #29884 be a dependency for this ticket, or are we also going to manually fix `src/doc/en/reference/repl/options.rst`?\n> \n> \n> I'll work on the automatic generation in #29884 now. \n> If you could check if anything from `options.rst` should be added to the help text, that would be helpful. \n\nI tend to like the extra details `options.rst` more than what is printed by `sage --advanced`. Would it be too verbose if we used (more or less) the current `options.rst` for the output to `sage --advanced`?\n\nI would also organize it differently, distinguishing the options that are not available in distros.",
    "created_at": "2020-06-17T19:57:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456047",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@mkoeppe](#comment%3A40):
> Replying to [@jhpalmieri](#comment%3A39):
> > Should #29884 be a dependency for this ticket, or are we also going to manually fix `src/doc/en/reference/repl/options.rst`?
> 
> 
> I'll work on the automatic generation in #29884 now. 
> If you could check if anything from `options.rst` should be added to the help text, that would be helpful. 

I tend to like the extra details `options.rst` more than what is printed by `sage --advanced`. Would it be too verbose if we used (more or less) the current `options.rst` for the output to `sage --advanced`?

I would also organize it differently, distinguishing the options that are not available in distros.



---

archive/issue_comments_456048.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@jhpalmieri](#comment%3A45):\n> Replying to [@mkoeppe](#comment%3A40):\n> > Replying to [@jhpalmieri](#comment%3A39):\n> > > Should #29884 be a dependency for this ticket, or are we also going to manually fix `src/doc/en/reference/repl/options.rst`?\n> > \n> > \n> > I'll work on the automatic generation in #29884 now. \n> > If you could check if anything from `options.rst` should be added to the help text, that would be helpful. \n> \n> \n> I tend to like the extra details `options.rst` more than what is printed by `sage --advanced`. Would it be too verbose if we used (more or less) the current `options.rst` for the output to `sage --advanced`?\n\nSounds good to me.\n\n> I would also organize it differently, distinguishing the options that are not available in distros.\n\nRight, that would be done by moving these into the `sage-site` function `usage_advanced`. They are printed below the ones from `sage -advanced`.",
    "created_at": "2020-06-17T20:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456048",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@jhpalmieri](#comment%3A45):
> Replying to [@mkoeppe](#comment%3A40):
> > Replying to [@jhpalmieri](#comment%3A39):
> > > Should #29884 be a dependency for this ticket, or are we also going to manually fix `src/doc/en/reference/repl/options.rst`?
> > 
> > 
> > I'll work on the automatic generation in #29884 now. 
> > If you could check if anything from `options.rst` should be added to the help text, that would be helpful. 
> 
> 
> I tend to like the extra details `options.rst` more than what is printed by `sage --advanced`. Would it be too verbose if we used (more or less) the current `options.rst` for the output to `sage --advanced`?

Sounds good to me.

> I would also organize it differently, distinguishing the options that are not available in distros.

Right, that would be done by moving these into the `sage-site` function `usage_advanced`. They are printed below the ones from `sage -advanced`.



---

archive/issue_comments_456049.json:
```json
{
    "body": "Changed author from **Matthias Koeppe** to **Matthias Koeppe, John Palmieri**",
    "created_at": "2020-06-17T21:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456049",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Matthias Koeppe** to **Matthias Koeppe, John Palmieri**



---

archive/issue_comments_456050.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)** to **[u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)**",
    "created_at": "2020-06-17T22:48:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456050",
    "user": "https://github.com/jhpalmieri"
}
```

Changed branch from **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)** to **[u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)**



---

archive/issue_comments_456051.json:
```json
{
    "body": "Changed commit from **[`6ba580b`](https://github.com/sagemath/sagetrac-mirror/commit/6ba580b6523280f1510a200ef519f61b512bbaf2)** to **[`4b303a2`](https://github.com/sagemath/sagetrac-mirror/commit/4b303a215c8b6df3cecb57621f19afc7e65ab567)**",
    "created_at": "2020-06-17T22:52:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456051",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[`6ba580b`](https://github.com/sagemath/sagetrac-mirror/commit/6ba580b6523280f1510a200ef519f61b512bbaf2)** to **[`4b303a2`](https://github.com/sagemath/sagetrac-mirror/commit/4b303a215c8b6df3cecb57621f19afc7e65ab567)**



---

archive/issue_comments_456052.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nHere are some proposed changes to `sage --advanced`. I have a strong preference for two hyphens in `sage --long-option` over `sage -long-option`. I don't object to Sage parsing the two the same way, but I think we should advertise the two-hyphen version. (If we had a different argument parser, then `sage -info` would be interpreted as `sage -i -n -f -o`, whereas `sage --info` is less ambiguous.)\n\nI wasn't sure how to divide everything between the two files, but it's another draft to work with.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b303a215c8b6df3cecb57621f19afc7e65ab567\"><code>4b303a2</code></a></td><td><code>trac 29111: revising \"sage --advanced\" message.</code></td></tr></table>\n",
    "created_at": "2020-06-17T22:52:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456052",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:49" align="right">comment:49</div>

Here are some proposed changes to `sage --advanced`. I have a strong preference for two hyphens in `sage --long-option` over `sage -long-option`. I don't object to Sage parsing the two the same way, but I think we should advertise the two-hyphen version. (If we had a different argument parser, then `sage -info` would be interpreted as `sage -i -n -f -o`, whereas `sage --info` is less ambiguous.)

I wasn't sure how to divide everything between the two files, but it's another draft to work with.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b303a215c8b6df3cecb57621f19afc7e65ab567"><code>4b303a2</code></a></td><td><code>trac 29111: revising "sage --advanced" message.</code></td></tr></table>




---

archive/issue_comments_456053.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nOther comments: `--fix-pkg-checksums` was deprecated, so I removed it from the help string. `--gap3` does not need to be in the basic `sage -h` message: it comes from an experimental package. For me, `sage -?` doesn't work, because the shell tries to parse `?`. So I removed that from the `sage -h` message.",
    "created_at": "2020-06-17T22:56:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456053",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:50" align="right">comment:50</div>

Other comments: `--fix-pkg-checksums` was deprecated, so I removed it from the help string. `--gap3` does not need to be in the basic `sage -h` message: it comes from an experimental package. For me, `sage -?` doesn't work, because the shell tries to parse `?`. So I removed that from the `sage -h` message.



---

archive/issue_comments_456054.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/611b8d626b0f370830689e6c038287fb2c0a5ea6\"><code>611b8d6</code></a></td><td><code>trac 29111: revising \"sage --advanced\" message.</code></td></tr></table>\n",
    "created_at": "2020-06-17T22:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456054",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/611b8d626b0f370830689e6c038287fb2c0a5ea6"><code>611b8d6</code></a></td><td><code>trac 29111: revising "sage --advanced" message.</code></td></tr></table>




---

archive/issue_comments_456055.json:
```json
{
    "body": "Changed commit from **[`4b303a2`](https://github.com/sagemath/sagetrac-mirror/commit/4b303a215c8b6df3cecb57621f19afc7e65ab567)** to **[`611b8d6`](https://github.com/sagemath/sagetrac-mirror/commit/611b8d626b0f370830689e6c038287fb2c0a5ea6)**",
    "created_at": "2020-06-17T22:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456055",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4b303a2`](https://github.com/sagemath/sagetrac-mirror/commit/4b303a215c8b6df3cecb57621f19afc7e65ab567)** to **[`611b8d6`](https://github.com/sagemath/sagetrac-mirror/commit/611b8d626b0f370830689e6c038287fb2c0a5ea6)**



---

archive/issue_comments_456056.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nI agree with these changes.\n\nSome comments on `sage --advanced`:\n\n1) I think `--grep ...--search_doc` should go to `src/bin/sage`, conditionalized on `$SAGE_SRC`\n\n2) I think `--gdb*, `--python*`, --ipython*`, `--pip`, and perhaps `--jupyter*`  should go to `src/bin/sage`\n\n3) Also `--sh` (but NOT `--buildsh`) and `--cleaner` should go to `src/bin/sage`",
    "created_at": "2020-06-18T00:18:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456056",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:52" align="right">comment:52</div>

I agree with these changes.

Some comments on `sage --advanced`:

1) I think `--grep ...--search_doc` should go to `src/bin/sage`, conditionalized on `$SAGE_SRC`

2) I think `--gdb*, `--python*`, --ipython*`, `--pip`, and perhaps `--jupyter*`  should go to `src/bin/sage`

3) Also `--sh` (but NOT `--buildsh`) and `--cleaner` should go to `src/bin/sage`



---

archive/issue_comments_456057.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nIt is very close to something I am willing to ship out of the box in Gentoo. I will mostly echo @mkoeppe last comment. (2) and (3) are totally acceptable in distros. I certainly can run under `gdb` for example, in fact it is bizarre that `gdb` is treated differently from `valgrind` et al. (1) in the way suggested is acceptable.\n\nAlso, I think you have an alignment problem in `src/bin/sage` right now.\n\n```\n+    echo \"  --dumpversion        -- print brief Sage version\"\n+    echo \"  --preparse file.sage -- preparse \\\"file.sage\\\", and produce\"\n+    echo \"                          the corresponding Python file\"\n+    echo \"                          \\\"file.sage.py\\\"\"\n+    echo \"  -q                   -- quiet; start with no banner\"\n+    echo \"  --min                -- do not populate global namespace\"\n+    echo \"                          (must be first option)\"\n+    echo \"   --nodotsage          -- run Sage without using the user's\"\n+    echo \"                          .sage directory: create and use a temporary\"\n+    echo \"                          .sage directory instead.\"\n+    echo \"   --gthread, --qthread, --q4thread, --wthread, --pylab\"\n+    echo \"                        -- pass the option through to IPython\"\n```\n`--nodotsage` and `--gthread` are one space further to the left than `-q` and `--min`.",
    "created_at": "2020-06-18T01:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456057",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:53" align="right">comment:53</div>

It is very close to something I am willing to ship out of the box in Gentoo. I will mostly echo @mkoeppe last comment. (2) and (3) are totally acceptable in distros. I certainly can run under `gdb` for example, in fact it is bizarre that `gdb` is treated differently from `valgrind` et al. (1) in the way suggested is acceptable.

Also, I think you have an alignment problem in `src/bin/sage` right now.

```
+    echo "  --dumpversion        -- print brief Sage version"
+    echo "  --preparse file.sage -- preparse \"file.sage\", and produce"
+    echo "                          the corresponding Python file"
+    echo "                          \"file.sage.py\""
+    echo "  -q                   -- quiet; start with no banner"
+    echo "  --min                -- do not populate global namespace"
+    echo "                          (must be first option)"
+    echo "   --nodotsage          -- run Sage without using the user's"
+    echo "                          .sage directory: create and use a temporary"
+    echo "                          .sage directory instead."
+    echo "   --gthread, --qthread, --q4thread, --wthread, --pylab"
+    echo "                        -- pass the option through to IPython"
```
`--nodotsage` and `--gthread` are one space further to the left than `-q` and `--min`.



---

archive/issue_comments_456058.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nIs there a reason for this difference in the `sage` script?\n\n```\nusage() {\n...\n        exec \"$SAGE_ROOT/build/bin/sage-site\" \"-h\"\n...\n```\nvs\n\n```\nusage_advanced() {\n...\n       \"$SAGE_ROOT/build/bin/sage-site\" \"--advanced\"\n...\n```",
    "created_at": "2020-06-18T03:27:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456058",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:54" align="right">comment:54</div>

Is there a reason for this difference in the `sage` script?

```
usage() {
...
        exec "$SAGE_ROOT/build/bin/sage-site" "-h"
...
```
vs

```
usage_advanced() {
...
       "$SAGE_ROOT/build/bin/sage-site" "--advanced"
...
```



---

archive/issue_comments_456059.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/073577b867f440b139ceb26fa6fddf5df5c3b93a\"><code>073577b</code></a></td><td><code>trac 29111: more reorganization of \"sage --advanced\" message</code></td></tr></table>\n",
    "created_at": "2020-06-18T03:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456059",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/073577b867f440b139ceb26fa6fddf5df5c3b93a"><code>073577b</code></a></td><td><code>trac 29111: more reorganization of "sage --advanced" message</code></td></tr></table>




---

archive/issue_comments_456060.json:
```json
{
    "body": "Changed commit from **[`611b8d6`](https://github.com/sagemath/sagetrac-mirror/commit/611b8d626b0f370830689e6c038287fb2c0a5ea6)** to **[`073577b`](https://github.com/sagemath/sagetrac-mirror/commit/073577b867f440b139ceb26fa6fddf5df5c3b93a)**",
    "created_at": "2020-06-18T03:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456060",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`611b8d6`](https://github.com/sagemath/sagetrac-mirror/commit/611b8d626b0f370830689e6c038287fb2c0a5ea6)** to **[`073577b`](https://github.com/sagemath/sagetrac-mirror/commit/073577b867f440b139ceb26fa6fddf5df5c3b93a)**



---

archive/issue_comments_456061.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nReplying to [@jhpalmieri](#comment%3A54):\n> Is there a reason for this difference in the `sage` script?\n> \n> ```\n> usage() {\n> ...\n>         exec \"$SAGE_ROOT/build/bin/sage-site\" \"-h\"\n> ...\n> ```\n> vs\n> \n> ```\n> usage_advanced() {\n> ...\n>        \"$SAGE_ROOT/build/bin/sage-site\" \"--advanced\"\n> ...\n> ```\n\nFYI: I changed both to use `exec`. Feel free to change back if this is wrong.",
    "created_at": "2020-06-18T03:31:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456061",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:56" align="right">comment:56</div>

Replying to [@jhpalmieri](#comment%3A54):
> Is there a reason for this difference in the `sage` script?
> 
> ```
> usage() {
> ...
>         exec "$SAGE_ROOT/build/bin/sage-site" "-h"
> ...
> ```
> vs
> 
> ```
> usage_advanced() {
> ...
>        "$SAGE_ROOT/build/bin/sage-site" "--advanced"
> ...
> ```

FYI: I changed both to use `exec`. Feel free to change back if this is wrong.



---

archive/issue_comments_456062.json:
```json
{
    "body": "Changed commit from **[`073577b`](https://github.com/sagemath/sagetrac-mirror/commit/073577b867f440b139ceb26fa6fddf5df5c3b93a)** to **[`c8daf80`](https://github.com/sagemath/sagetrac-mirror/commit/c8daf8054418491abbc2e147aad024a8eb98c00c)**",
    "created_at": "2020-06-18T03:34:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456062",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`073577b`](https://github.com/sagemath/sagetrac-mirror/commit/073577b867f440b139ceb26fa6fddf5df5c3b93a)** to **[`c8daf80`](https://github.com/sagemath/sagetrac-mirror/commit/c8daf8054418491abbc2e147aad024a8eb98c00c)**



---

archive/issue_comments_456063.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8daf8054418491abbc2e147aad024a8eb98c00c\"><code>c8daf80</code></a></td><td><code>trac 29111: delete sage-fix-pkg-checksums</code></td></tr></table>\n",
    "created_at": "2020-06-18T03:34:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456063",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8daf8054418491abbc2e147aad024a8eb98c00c"><code>c8daf80</code></a></td><td><code>trac 29111: delete sage-fix-pkg-checksums</code></td></tr></table>




---

archive/issue_comments_456064.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\n`sage-fix-pkg-checksums` was deprecated four years ago (#19984), so I deleted it.",
    "created_at": "2020-06-18T03:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456064",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:58" align="right">comment:58</div>

`sage-fix-pkg-checksums` was deprecated four years ago (#19984), so I deleted it.



---

archive/issue_comments_456065.json:
```json
{
    "body": "Changed commit from **[`c8daf80`](https://github.com/sagemath/sagetrac-mirror/commit/c8daf8054418491abbc2e147aad024a8eb98c00c)** to **[`5c3ced6`](https://github.com/sagemath/sagetrac-mirror/commit/5c3ced6afb74de327f067145a49a5506a9a54ea1)**",
    "created_at": "2020-06-18T03:38:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456065",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c8daf80`](https://github.com/sagemath/sagetrac-mirror/commit/c8daf8054418491abbc2e147aad024a8eb98c00c)** to **[`5c3ced6`](https://github.com/sagemath/sagetrac-mirror/commit/5c3ced6afb74de327f067145a49a5506a9a54ea1)**



---

archive/issue_comments_456066.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c3ced6afb74de327f067145a49a5506a9a54ea1\"><code>5c3ced6</code></a></td><td><code>trac 29111: delete sage-fix-pkg-checksums</code></td></tr></table>\n",
    "created_at": "2020-06-18T03:38:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456066",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:59"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c3ced6afb74de327f067145a49a5506a9a54ea1"><code>5c3ced6</code></a></td><td><code>trac 29111: delete sage-fix-pkg-checksums</code></td></tr></table>




---

archive/issue_comments_456067.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nOne last thing I should have commented on earlier\n\n```\n+    echo \"  -bn [...], --build-and-notebook [...]\"\n+    echo \"                      -- build the Sage library (as by running \\\"sage -b\\\")\"\n+    echo \"                         and then start the notebook\"\n```\nis currently in `src/bin/sage` but really any `-b` options belong to `sage-site` and nowhere else.",
    "created_at": "2020-06-18T04:10:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456067",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:60" align="right">comment:60</div>

One last thing I should have commented on earlier

```
+    echo "  -bn [...], --build-and-notebook [...]"
+    echo "                      -- build the Sage library (as by running \"sage -b\")"
+    echo "                         and then start the notebook"
```
is currently in `src/bin/sage` but really any `-b` options belong to `sage-site` and nowhere else.



---

archive/issue_comments_456068.json:
```json
{
    "body": "<div id=\"comment:61\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/684138996fc44134dc18d2e8761eecc8caafb39e\"><code>6841389</code></a></td><td><code>trac 29111: re \"sage --advanced\" message:</code></td></tr></table>\n",
    "created_at": "2020-06-18T04:44:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456068",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:61"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/684138996fc44134dc18d2e8761eecc8caafb39e"><code>6841389</code></a></td><td><code>trac 29111: re "sage --advanced" message:</code></td></tr></table>




---

archive/issue_comments_456069.json:
```json
{
    "body": "Changed commit from **[`5c3ced6`](https://github.com/sagemath/sagetrac-mirror/commit/5c3ced6afb74de327f067145a49a5506a9a54ea1)** to **[`6841389`](https://github.com/sagemath/sagetrac-mirror/commit/684138996fc44134dc18d2e8761eecc8caafb39e)**",
    "created_at": "2020-06-18T04:44:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456069",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5c3ced6`](https://github.com/sagemath/sagetrac-mirror/commit/5c3ced6afb74de327f067145a49a5506a9a54ea1)** to **[`6841389`](https://github.com/sagemath/sagetrac-mirror/commit/684138996fc44134dc18d2e8761eecc8caafb39e)**



---

archive/issue_comments_456070.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nReplying to [@kiwifb](#comment%3A60):\n> One last thing I should have commented on earlier\n> \n> ```\n> +    echo \"  -bn [...], --build-and-notebook [...]\"\n> +    echo \"                      -- build the Sage library (as by running \\\"sage -b\\\")\"\n> +    echo \"                         and then start the notebook\"\n> ```\n> is currently in `src/bin/sage` but really any `-b` options belong to `sage-site` and nowhere else.\n\nOkay, moved, but on the other hand, I think that the `coverage` options belong with doctesting, so I moved those from `sage-site` to `sage`.",
    "created_at": "2020-06-18T04:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456070",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:62" align="right">comment:62</div>

Replying to [@kiwifb](#comment%3A60):
> One last thing I should have commented on earlier
> 
> ```
> +    echo "  -bn [...], --build-and-notebook [...]"
> +    echo "                      -- build the Sage library (as by running \"sage -b\")"
> +    echo "                         and then start the notebook"
> ```
> is currently in `src/bin/sage` but really any `-b` options belong to `sage-site` and nowhere else.

Okay, moved, but on the other hand, I think that the `coverage` options belong with doctesting, so I moved those from `sage-site` to `sage`.



---

archive/issue_comments_456071.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@jhpalmieri](#comment%3A58):\n> `sage-fix-pkg-checksums` was deprecated four years ago (#19984), so I deleted it.\n\nExcellent!",
    "created_at": "2020-06-18T04:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456071",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@jhpalmieri](#comment%3A58):
> `sage-fix-pkg-checksums` was deprecated four years ago (#19984), so I deleted it.

Excellent!



---

archive/issue_comments_456072.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nReplying to [@jhpalmieri](#comment%3A62):\n> Okay, moved, but on the other hand, I think that the `coverage` options belong with doctesting, so I moved those from `sage-site` to `sage`.\n\nNever shipped them before, they don't look harmful but it is more development focused than a test suite is. A test suite is run by anyone who wants to check that their install has a certain level of \"sanity\". coverage is really a tool for devs that look for something to do.\n\nIn any case that's not super harmful unlike `-b`.",
    "created_at": "2020-06-18T04:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456072",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:64" align="right">comment:64</div>

Replying to [@jhpalmieri](#comment%3A62):
> Okay, moved, but on the other hand, I think that the `coverage` options belong with doctesting, so I moved those from `sage-site` to `sage`.

Never shipped them before, they don't look harmful but it is more development focused than a test suite is. A test suite is run by anyone who wants to check that their install has a certain level of "sanity". coverage is really a tool for devs that look for something to do.

In any case that's not super harmful unlike `-b`.



---

archive/issue_comments_456073.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nReplying to [@jhpalmieri](#comment%3A56):\n> FYI: I changed both to use `exec`. Feel free to change back if this is wrong.\n\nThat's fine. In a previous version, `-advanced` printed a line after returning from `sage-site`. That's no longer needed.",
    "created_at": "2020-06-18T04:57:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456073",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:65" align="right">comment:65</div>

Replying to [@jhpalmieri](#comment%3A56):
> FYI: I changed both to use `exec`. Feel free to change back if this is wrong.

That's fine. In a previous version, `-advanced` printed a line after returning from `sage-site`. That's no longer needed.



---

archive/issue_comments_456074.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nReplying to [@kiwifb](#comment%3A64):\n> Replying to [@jhpalmieri](#comment%3A62):\n> > Okay, moved, but on the other hand, I think that the `coverage` options belong with doctesting, so I moved those from `sage-site` to `sage`.\n> \n> \n> Never shipped them before, they don't look harmful but it is more development focused than a test suite is. A test suite is run by anyone who wants to check that their install has a certain level of \"sanity\". coverage is really a tool for devs that look for something to do.\n\nNote that like `sage -t`, also `sage -coverage` can be run on user code, not just on Sage sources.",
    "created_at": "2020-06-18T05:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456074",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:66" align="right">comment:66</div>

Replying to [@kiwifb](#comment%3A64):
> Replying to [@jhpalmieri](#comment%3A62):
> > Okay, moved, but on the other hand, I think that the `coverage` options belong with doctesting, so I moved those from `sage-site` to `sage`.
> 
> 
> Never shipped them before, they don't look harmful but it is more development focused than a test suite is. A test suite is run by anyone who wants to check that their install has a certain level of "sanity". coverage is really a tool for devs that look for something to do.

Note that like `sage -t`, also `sage -coverage` can be run on user code, not just on Sage sources.



---

archive/issue_comments_456075.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nReplying to [@mkoeppe](#comment%3A66):\n> Replying to [@kiwifb](#comment%3A64):\n> > Replying to [@jhpalmieri](#comment%3A62):\n> > > Okay, moved, but on the other hand, I think that the `coverage` options belong with doctesting, so I moved those from `sage-site` to `sage`.\n> > \n> > \n> > Never shipped them before, they don't look harmful but it is more development focused than a test suite is. A test suite is run by anyone who wants to check that their install has a certain level of \"sanity\". coverage is really a tool for devs that look for something to do.\n> \n> \n> Note that like `sage -t`, also `sage -coverage` can be run on user code, not just on Sage sources.\n\nRight, that was my thought, too. And then it didn't make sense to separate `coverage` and `coverageall`.",
    "created_at": "2020-06-18T05:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456075",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:67" align="right">comment:67</div>

Replying to [@mkoeppe](#comment%3A66):
> Replying to [@kiwifb](#comment%3A64):
> > Replying to [@jhpalmieri](#comment%3A62):
> > > Okay, moved, but on the other hand, I think that the `coverage` options belong with doctesting, so I moved those from `sage-site` to `sage`.
> > 
> > 
> > Never shipped them before, they don't look harmful but it is more development focused than a test suite is. A test suite is run by anyone who wants to check that their install has a certain level of "sanity". coverage is really a tool for devs that look for something to do.
> 
> 
> Note that like `sage -t`, also `sage -coverage` can be run on user code, not just on Sage sources.

Right, that was my thought, too. And then it didn't make sense to separate `coverage` and `coverageall`.



---

archive/issue_comments_456076.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nIt is fine. I will ship those two then. It makes sense.",
    "created_at": "2020-06-18T05:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456076",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:68" align="right">comment:68</div>

It is fine. I will ship those two then. It makes sense.



---

archive/issue_comments_456077.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, ...**",
    "created_at": "2020-06-18T06:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456077",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe, ...**



---

archive/issue_comments_456078.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nLooks great to me. Let's get this in.",
    "created_at": "2020-06-18T06:44:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456078",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:69" align="right">comment:69</div>

Looks great to me. Let's get this in.



---

archive/issue_comments_456079.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nI have a few more questions:\n\n- I would like to delete the `-rsyncdist` option. Can we also delete `sage-rsyncdist`? The file itself says \"NOTE: This script is of little use after the git transition and will be deleted eventually.\"\n\n- Is it worth moving handling of `-gap` et al. to `sage-site`, which is where they are documented?\n\n- A comment: it would be nice to move `sage --sdist` handling to `sage-site`, but then we have to duplicate `maybe_sage_location`, so it's probably not worth it. Although then we could move `sage -b` handling, too. This can be done later, if someone feels motivated.",
    "created_at": "2020-06-18T17:50:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456079",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:70" align="right">comment:70</div>

I have a few more questions:

- I would like to delete the `-rsyncdist` option. Can we also delete `sage-rsyncdist`? The file itself says "NOTE: This script is of little use after the git transition and will be deleted eventually."

- Is it worth moving handling of `-gap` et al. to `sage-site`, which is where they are documented?

- A comment: it would be nice to move `sage --sdist` handling to `sage-site`, but then we have to duplicate `maybe_sage_location`, so it's probably not worth it. Although then we could move `sage -b` handling, too. This can be done later, if someone feels motivated.



---

archive/issue_comments_456080.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nReplying to [@jhpalmieri](#comment%3A70):\n> - I would like to delete the `-rsyncdist` option. Can we also delete `sage-rsyncdist`? The file itself says \"NOTE: This script is of little use after the git transition and will be deleted eventually.\"\n\nSure, let's get rid of it. There are a number of references to what looks like old-style SPKGs in this script. It was updated last in 2013. So it is likely outdated and broken already.\n\n> - Is it worth moving handling of `-gap` et al. to `sage-site`, which is where they are documented?\n\nYes, good idea, please go ahead.\n\n> - A comment: it would be nice to move `sage --sdist` handling to `sage-site`, but then we have to duplicate `maybe_sage_location`, so it's probably not worth it. Although then we could move `sage -b` handling, too. This can be done later, if someone feels motivated.\n\nI would suggest to do these in a follow-up ticket. Likewise, for the option handling for `sage -i` that would really belong to `sage-site`; this is complicated by the fact that `sage-env` must not be sourced before `sage-spkg` is executed.",
    "created_at": "2020-06-18T18:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456080",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:71" align="right">comment:71</div>

Replying to [@jhpalmieri](#comment%3A70):
> - I would like to delete the `-rsyncdist` option. Can we also delete `sage-rsyncdist`? The file itself says "NOTE: This script is of little use after the git transition and will be deleted eventually."

Sure, let's get rid of it. There are a number of references to what looks like old-style SPKGs in this script. It was updated last in 2013. So it is likely outdated and broken already.

> - Is it worth moving handling of `-gap` et al. to `sage-site`, which is where they are documented?

Yes, good idea, please go ahead.

> - A comment: it would be nice to move `sage --sdist` handling to `sage-site`, but then we have to duplicate `maybe_sage_location`, so it's probably not worth it. Although then we could move `sage -b` handling, too. This can be done later, if someone feels motivated.

I would suggest to do these in a follow-up ticket. Likewise, for the option handling for `sage -i` that would really belong to `sage-site`; this is complicated by the fact that `sage-env` must not be sourced before `sage-spkg` is executed.



---

archive/issue_comments_456081.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nHere's a problem: I currently have for the `sage --advanced` message\n\n```\n    if [ -n \"$SAGE_SRC\" -a -d \"$SAGE_SRC\" ]; then\n        echo \"  --grep [options] <string>\"\n        ...\n```\nAt this point, `sage-env` hasn't been run. Can I change `$SAGE_SRC` to `$SAGE_ROOT/src`? Failing this, we can move this part of the help message to `sage-site`.",
    "created_at": "2020-06-18T18:47:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456081",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:72" align="right">comment:72</div>

Here's a problem: I currently have for the `sage --advanced` message

```
    if [ -n "$SAGE_SRC" -a -d "$SAGE_SRC" ]; then
        echo "  --grep [options] <string>"
        ...
```
At this point, `sage-env` hasn't been run. Can I change `$SAGE_SRC` to `$SAGE_ROOT/src`? Failing this, we can move this part of the help message to `sage-site`.



---

archive/issue_comments_456082.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nThe intention of using `SAGE_SRC` from `sage-env` here is that packagers would leave it undefined if they do not package a distribution.\n\nHow about moving the handling of `-h`, `-advanced` below the sourcing of `sage-env`?",
    "created_at": "2020-06-18T18:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456082",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:73" align="right">comment:73</div>

The intention of using `SAGE_SRC` from `sage-env` here is that packagers would leave it undefined if they do not package a distribution.

How about moving the handling of `-h`, `-advanced` below the sourcing of `sage-env`?



---

archive/issue_comments_456083.json:
```json
{
    "body": "Changed commit from **[`6841389`](https://github.com/sagemath/sagetrac-mirror/commit/684138996fc44134dc18d2e8761eecc8caafb39e)** to **[`778fcd5`](https://github.com/sagemath/sagetrac-mirror/commit/778fcd5817ce3f5455f3b7e34a3b362280cd6a7d)**",
    "created_at": "2020-06-18T18:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456083",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6841389`](https://github.com/sagemath/sagetrac-mirror/commit/684138996fc44134dc18d2e8761eecc8caafb39e)** to **[`778fcd5`](https://github.com/sagemath/sagetrac-mirror/commit/778fcd5817ce3f5455f3b7e34a3b362280cd6a7d)**



---

archive/issue_comments_456084.json:
```json
{
    "body": "<div id=\"comment:74\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/778fcd5817ce3f5455f3b7e34a3b362280cd6a7d\"><code>778fcd5</code></a></td><td><code>trac 29111: more tinkering. Fix doctests in tests/cmdline.py.</code></td></tr></table>\n",
    "created_at": "2020-06-18T18:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456084",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/778fcd5817ce3f5455f3b7e34a3b362280cd6a7d"><code>778fcd5</code></a></td><td><code>trac 29111: more tinkering. Fix doctests in tests/cmdline.py.</code></td></tr></table>




---

archive/issue_comments_456085.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nI used `SAGE_ROOT/src`, but of course this can be changed. There were a few failing doctests  in `tests/cmdline.py` (mainly because of rewordings in the documentation), now fixed.",
    "created_at": "2020-06-18T18:56:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456085",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:75" align="right">comment:75</div>

I used `SAGE_ROOT/src`, but of course this can be changed. There were a few failing doctests  in `tests/cmdline.py` (mainly because of rewordings in the documentation), now fixed.



---

archive/issue_comments_456086.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nAnd now I'm confused about `sage -p`. This was being actively tested in `tests/cmdline.py`:\n\n```\n    Test ``sage --info [packages]`` and the equivalent\n    ``sage -p --info --info [packages]`` (the doubling of ``--info``\n    is intentional, that option should be idempotent)::\n```\nDo we indeed remove it?",
    "created_at": "2020-06-18T19:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456086",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:76" align="right">comment:76</div>

And now I'm confused about `sage -p`. This was being actively tested in `tests/cmdline.py`:

```
    Test ``sage --info [packages]`` and the equivalent
    ``sage -p --info --info [packages]`` (the doubling of ``--info``
    is intentional, that option should be idempotent)::
```
Do we indeed remove it?



---

archive/issue_comments_456087.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nReplying to [@jhpalmieri](#comment%3A75):\n> I used `SAGE_ROOT/src`\n\nFine. Note `[ -n \"$SAGE_ROOT/src\" ]` is always true, so it can be simplified",
    "created_at": "2020-06-18T19:07:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456087",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:77" align="right">comment:77</div>

Replying to [@jhpalmieri](#comment%3A75):
> I used `SAGE_ROOT/src`

Fine. Note `[ -n "$SAGE_ROOT/src" ]` is always true, so it can be simplified



---

archive/issue_comments_456088.json:
```json
{
    "body": "<div id=\"comment:78\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cfb60cc0207109d2a64c41933f3cc7c0c5a6d34\"><code>3cfb60c</code></a></td><td><code>trac 29111: more tinkering. Fix doctests in tests/cmdline.py.</code></td></tr></table>\n",
    "created_at": "2020-06-18T20:13:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456088",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:78"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cfb60cc0207109d2a64c41933f3cc7c0c5a6d34"><code>3cfb60c</code></a></td><td><code>trac 29111: more tinkering. Fix doctests in tests/cmdline.py.</code></td></tr></table>




---

archive/issue_comments_456089.json:
```json
{
    "body": "Changed commit from **[`778fcd5`](https://github.com/sagemath/sagetrac-mirror/commit/778fcd5817ce3f5455f3b7e34a3b362280cd6a7d)** to **[`3cfb60c`](https://github.com/sagemath/sagetrac-mirror/commit/3cfb60cc0207109d2a64c41933f3cc7c0c5a6d34)**",
    "created_at": "2020-06-18T20:13:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456089",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`778fcd5`](https://github.com/sagemath/sagetrac-mirror/commit/778fcd5817ce3f5455f3b7e34a3b362280cd6a7d)** to **[`3cfb60c`](https://github.com/sagemath/sagetrac-mirror/commit/3cfb60cc0207109d2a64c41933f3cc7c0c5a6d34)**



---

archive/issue_comments_456090.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nReplying to [@mkoeppe](#comment%3A77):\n> Replying to [@jhpalmieri](#comment%3A75):\n> > I used `SAGE_ROOT/src`\n> \n> \n> Fine. Note `[ -n \"$SAGE_ROOT/src\" ]` is always true, so it can be simplified\n\nSorry, I missed this before pushing the branch. I've moved `usage_advanced` to after sourcing sage-env. Now `--grep` et al. show up in the message for me. I've also restored `sage -p`: I don't think this is the ticket to debate whether to remove it, that should be done on another ticket. (Admittedly, now it is no longer listed in `sage -h` or `sage --advanced`, so either it should be listed or it should be removed. But I don't know which way to go with it.)",
    "created_at": "2020-06-18T20:16:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456090",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:79" align="right">comment:79</div>

Replying to [@mkoeppe](#comment%3A77):
> Replying to [@jhpalmieri](#comment%3A75):
> > I used `SAGE_ROOT/src`
> 
> 
> Fine. Note `[ -n "$SAGE_ROOT/src" ]` is always true, so it can be simplified

Sorry, I missed this before pushing the branch. I've moved `usage_advanced` to after sourcing sage-env. Now `--grep` et al. show up in the message for me. I've also restored `sage -p`: I don't think this is the ticket to debate whether to remove it, that should be done on another ticket. (Admittedly, now it is no longer listed in `sage -h` or `sage --advanced`, so either it should be listed or it should be removed. But I don't know which way to go with it.)



---

archive/issue_comments_456091.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nI also did a lot of reorganizing of the `sage` script, trying to group the different options into sensible ways. The patch is a bit of a mess, so the file itself might be easier to browse through for changes.",
    "created_at": "2020-06-18T20:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456091",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:80" align="right">comment:80</div>

I also did a lot of reorganizing of the `sage` script, trying to group the different options into sensible ways. The patch is a bit of a mess, so the file itself might be easier to browse through for changes.



---

archive/issue_comments_456092.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nReplying to [@jhpalmieri](#comment%3A79):\n> I've also restored `sage -p`: I don't think this is the ticket to debate whether to remove it, that should be done on another ticket. \n\nIt was removed in #29289, a dependency of this ticket.",
    "created_at": "2020-06-18T21:00:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456092",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:81" align="right">comment:81</div>

Replying to [@jhpalmieri](#comment%3A79):
> I've also restored `sage -p`: I don't think this is the ticket to debate whether to remove it, that should be done on another ticket. 

It was removed in #29289, a dependency of this ticket.



---

archive/issue_comments_456093.json:
```json
{
    "body": "Changed commit from **[`3cfb60c`](https://github.com/sagemath/sagetrac-mirror/commit/3cfb60cc0207109d2a64c41933f3cc7c0c5a6d34)** to **[`9c28ee4`](https://github.com/sagemath/sagetrac-mirror/commit/9c28ee4551def34545d1cc603e7db2d11bb6802a)**",
    "created_at": "2020-06-18T21:15:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456093",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3cfb60c`](https://github.com/sagemath/sagetrac-mirror/commit/3cfb60cc0207109d2a64c41933f3cc7c0c5a6d34)** to **[`9c28ee4`](https://github.com/sagemath/sagetrac-mirror/commit/9c28ee4551def34545d1cc603e7db2d11bb6802a)**



---

archive/issue_comments_456094.json:
```json
{
    "body": "<div id=\"comment:82\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c28ee4551def34545d1cc603e7db2d11bb6802a\"><code>9c28ee4</code></a></td><td><code>trac 29111: more tinkering. Fix doctests in tests/cmdline.py.</code></td></tr></table>\n",
    "created_at": "2020-06-18T21:15:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456094",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:82"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c28ee4551def34545d1cc603e7db2d11bb6802a"><code>9c28ee4</code></a></td><td><code>trac 29111: more tinkering. Fix doctests in tests/cmdline.py.</code></td></tr></table>




---

archive/issue_comments_456095.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nI've tried to undo my changes to `sage -p`.",
    "created_at": "2020-06-18T21:19:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456095",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:83" align="right">comment:83</div>

I've tried to undo my changes to `sage -p`.



---

archive/issue_events_397114.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-18T22:34:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397114"
}
```



---

archive/issue_events_397115.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-18T22:34:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397115"
}
```



---

archive/issue_comments_456096.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)** to **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)**",
    "created_at": "2020-06-19T05:39:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456096",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)** to **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)**



---

archive/issue_comments_456097.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nRebased on top of the new version of #29289\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/225dbb4d0cbe408ec8d02d1d88b76dce43d72bc5\"><code>225dbb4</code></a></td><td><code>src/bin/sage: Move option -fix-pkg-checksums to sage-site</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df1cd8afec7f229c41c2c3c3cae306655cf3896c\"><code>df1cd8a</code></a></td><td><code>trac 29111: remove --inotebook, references to sagenb</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55c568000cf2afaff5f4051f5032a6a6d73bb4b9\"><code>55c5680</code></a></td><td><code>src/bin/sage: Move parts of the help message to sage-site</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05ba86a78bb8eed7dbe3c019189c32437243d652\"><code>05ba86a</code></a></td><td><code>Merge branch 't/29884/src_doc_bootstrap__generate_src_doc_en_reference_repl_options_rst' into t/29111/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72c7e231b1436d890ea2e9f89c6b20544f13f9b2\"><code>72c7e23</code></a></td><td><code>src/doc/en/reference/repl/options.rst: Replace copypasta by include of generated file options.txt</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9a883deca57b2525a5ec5ff774388cc6aa5530b\"><code>e9a883d</code></a></td><td><code>trac 29111: revising \"sage --advanced\" message.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5dca42151e1c25299dec00c77e83e01dc55d619c\"><code>5dca421</code></a></td><td><code>trac 29111: more reorganization of \"sage --advanced\" message</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f0ee05503a86f49997300ab43b800d1bde9430a\"><code>8f0ee05</code></a></td><td><code>trac 29111: delete sage-fix-pkg-checksums</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21fc23144edff0d061271cb1ce91824bedfeb1f1\"><code>21fc231</code></a></td><td><code>trac 29111: re \"sage --advanced\" message:</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/875940dea7853575e42f567759bcaa5392d6c5b3\"><code>875940d</code></a></td><td><code>trac 29111: more tinkering. Fix doctests in tests/cmdline.py.</code></td></tr></table>\n",
    "created_at": "2020-06-19T05:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456097",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:86" align="right">comment:86</div>

Rebased on top of the new version of #29289

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/225dbb4d0cbe408ec8d02d1d88b76dce43d72bc5"><code>225dbb4</code></a></td><td><code>src/bin/sage: Move option -fix-pkg-checksums to sage-site</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df1cd8afec7f229c41c2c3c3cae306655cf3896c"><code>df1cd8a</code></a></td><td><code>trac 29111: remove --inotebook, references to sagenb</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55c568000cf2afaff5f4051f5032a6a6d73bb4b9"><code>55c5680</code></a></td><td><code>src/bin/sage: Move parts of the help message to sage-site</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05ba86a78bb8eed7dbe3c019189c32437243d652"><code>05ba86a</code></a></td><td><code>Merge branch 't/29884/src_doc_bootstrap__generate_src_doc_en_reference_repl_options_rst' into t/29111/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72c7e231b1436d890ea2e9f89c6b20544f13f9b2"><code>72c7e23</code></a></td><td><code>src/doc/en/reference/repl/options.rst: Replace copypasta by include of generated file options.txt</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9a883deca57b2525a5ec5ff774388cc6aa5530b"><code>e9a883d</code></a></td><td><code>trac 29111: revising "sage --advanced" message.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5dca42151e1c25299dec00c77e83e01dc55d619c"><code>5dca421</code></a></td><td><code>trac 29111: more reorganization of "sage --advanced" message</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f0ee05503a86f49997300ab43b800d1bde9430a"><code>8f0ee05</code></a></td><td><code>trac 29111: delete sage-fix-pkg-checksums</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21fc23144edff0d061271cb1ce91824bedfeb1f1"><code>21fc231</code></a></td><td><code>trac 29111: re "sage --advanced" message:</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/875940dea7853575e42f567759bcaa5392d6c5b3"><code>875940d</code></a></td><td><code>trac 29111: more tinkering. Fix doctests in tests/cmdline.py.</code></td></tr></table>




---

archive/issue_comments_456098.json:
```json
{
    "body": "Changed commit from **[`9c28ee4`](https://github.com/sagemath/sagetrac-mirror/commit/9c28ee4551def34545d1cc603e7db2d11bb6802a)** to **[`875940d`](https://github.com/sagemath/sagetrac-mirror/commit/875940dea7853575e42f567759bcaa5392d6c5b3)**",
    "created_at": "2020-06-19T05:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456098",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`9c28ee4`](https://github.com/sagemath/sagetrac-mirror/commit/9c28ee4551def34545d1cc603e7db2d11bb6802a)** to **[`875940d`](https://github.com/sagemath/sagetrac-mirror/commit/875940dea7853575e42f567759bcaa5392d6c5b3)**



---

archive/issue_events_397116.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-19T05:46:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397116"
}
```



---

archive/issue_events_397117.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-19T05:46:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397117"
}
```



---

archive/issue_comments_456099.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nBy the way, `sage-site` -- is this a good name for this script?",
    "created_at": "2020-06-19T05:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456099",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:88" align="right">comment:88</div>

By the way, `sage-site` -- is this a good name for this script?



---

archive/issue_comments_456100.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nReplying to [@mkoeppe](#comment%3A88):\n> By the way, `sage-site` -- is this a good name for this script?\n\nI can't think of anything better.",
    "created_at": "2020-06-19T17:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456100",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:89" align="right">comment:89</div>

Replying to [@mkoeppe](#comment%3A88):
> By the way, `sage-site` -- is this a good name for this script?

I can't think of anything better.



---

archive/issue_comments_456101.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, John Palmieri, ...**",
    "created_at": "2020-06-19T17:55:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456101",
    "user": "https://github.com/jhpalmieri"
}
```

Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, John Palmieri, ...**



---

archive/issue_comments_456102.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\n@kiwifb, could you take another look so we can finalize this ticket?",
    "created_at": "2020-06-21T00:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456102",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:91" align="right">comment:91</div>

@kiwifb, could you take another look so we can finalize this ticket?



---

archive/issue_comments_456103.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nReplying to [@mkoeppe](#comment%3A91):\n> @kiwifb, could you take another look so we can finalize this ticket?\n\nI'll have a look after my lunch.",
    "created_at": "2020-06-21T00:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456103",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:92" align="right">comment:92</div>

Replying to [@mkoeppe](#comment%3A91):
> @kiwifb, could you take another look so we can finalize this ticket?

I'll have a look after my lunch.



---

archive/issue_comments_456104.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nOK, so I am having this look over, mainly at `sage` and what is now called `sage-site`. And I have to say splitting the stuff is not easy and subject to controversy so what I say is not going to be the final word on the matter.\n\nThis branch version of `sage` still execute numerous options that are not listed in the sage menu but that would be displayed by `sage-site`.\n* `--upgrade`\n* `--buildsh`\n* `-i`\n* `-f`\n* the function `build_sage` (I would have thought it belonged to `sage-site`)\n* same with `maybe_sage_location`\n* all `-b` options\nI recognise that some of these may have to live there for technical reason. Splitting `--sh` and `--buildsh` for example would lead to code duplication - unless someone also does some refactoring. But as it is now, they could be accidentally called from a sage-on-distro shipping this file. If they have to stay there, we should get a check on `SAGE_ROOT` before executing them and display some error message if it is not defined. Like \"not available in this distribution of sagemath\".\n\nConversely I thought calling on sage's version of various packages (`gap`, `singular`, `maxima`, etc...) was to stay in the main `sage` script rather than move to `sage-site`. They usually execute normally with system installed packages and may be required for running some user scripts.",
    "created_at": "2020-06-21T01:50:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456104",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:93" align="right">comment:93</div>

OK, so I am having this look over, mainly at `sage` and what is now called `sage-site`. And I have to say splitting the stuff is not easy and subject to controversy so what I say is not going to be the final word on the matter.

This branch version of `sage` still execute numerous options that are not listed in the sage menu but that would be displayed by `sage-site`.
* `--upgrade`
* `--buildsh`
* `-i`
* `-f`
* the function `build_sage` (I would have thought it belonged to `sage-site`)
* same with `maybe_sage_location`
* all `-b` options
I recognise that some of these may have to live there for technical reason. Splitting `--sh` and `--buildsh` for example would lead to code duplication - unless someone also does some refactoring. But as it is now, they could be accidentally called from a sage-on-distro shipping this file. If they have to stay there, we should get a check on `SAGE_ROOT` before executing them and display some error message if it is not defined. Like "not available in this distribution of sagemath".

Conversely I thought calling on sage's version of various packages (`gap`, `singular`, `maxima`, etc...) was to stay in the main `sage` script rather than move to `sage-site`. They usually execute normally with system installed packages and may be required for running some user scripts.



---

archive/issue_comments_456105.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nReplying to [@kiwifb](#comment%3A93):\n> This branch version of `sage` still execute numerous options that are not listed in the sage menu but that would be displayed by `sage-site`. [...]\n> I recognise that some of these may have to live there for technical reason. \n\nRight, this ticket is certainly not meant as the final word on splitting the script. \nBut by splitting the help strings on this ticket, we define the interface, and this is to me the most important part.  The patch is already huge, and it is best to do further refactoring and refinements in narrower follow-up tickets.\n\n> as it is now, they could be accidentally called from a sage-on-distro shipping this file. If they have to stay there, we should get a check on `SAGE_ROOT` before executing them and display some error message if it is not defined. Like \"not available in this distribution of sagemath\".\n\nThis sounds like a good idea, but I would also prefer to do this on a follow-up ticket.\n\n> Conversely I thought calling on sage's version of various packages (`gap`, `singular`, `maxima`, etc...) was to stay in the main `sage` script rather than move to `sage-site`. They usually execute normally with system installed packages and may be required for running some user scripts.\n\nIt would be fine with me to move them back to `sage`.",
    "created_at": "2020-06-21T02:03:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456105",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:94" align="right">comment:94</div>

Replying to [@kiwifb](#comment%3A93):
> This branch version of `sage` still execute numerous options that are not listed in the sage menu but that would be displayed by `sage-site`. [...]
> I recognise that some of these may have to live there for technical reason. 

Right, this ticket is certainly not meant as the final word on splitting the script. 
But by splitting the help strings on this ticket, we define the interface, and this is to me the most important part.  The patch is already huge, and it is best to do further refactoring and refinements in narrower follow-up tickets.

> as it is now, they could be accidentally called from a sage-on-distro shipping this file. If they have to stay there, we should get a check on `SAGE_ROOT` before executing them and display some error message if it is not defined. Like "not available in this distribution of sagemath".

This sounds like a good idea, but I would also prefer to do this on a follow-up ticket.

> Conversely I thought calling on sage's version of various packages (`gap`, `singular`, `maxima`, etc...) was to stay in the main `sage` script rather than move to `sage-site`. They usually execute normally with system installed packages and may be required for running some user scripts.

It would be fine with me to move them back to `sage`.



---

archive/issue_comments_456106.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nReplying to [@mkoeppe](#comment%3A94):\n> Replying to [@kiwifb](#comment%3A93):\n> > This branch version of `sage` still execute numerous options that are not listed in the sage menu but that would be displayed by `sage-site`. [...]\n> > I recognise that some of these may have to live there for technical reason. \n> \n> \n> Right, this ticket is certainly not meant as the final word on splitting the script. \n> But by splitting the help strings on this ticket, we define the interface, and this is to me the most important part.  The patch is already huge, and it is best to do further refactoring and refinements in narrower follow-up tickets.\n> \n\nI am OK with that. Let's get the interface where we want it then.\n\n> > as it is now, they could be accidentally called from a sage-on-distro shipping this file. If they have to stay there, we should get a check on `SAGE_ROOT` before executing them and display some error message if it is not defined. Like \"not available in this distribution of sagemath\".\n> \n> \n> This sounds like a good idea, but I would also prefer to do this on a follow-up ticket.\n> \n\nThis is acceptable. 9.2 is not getting anywhere very fast :) To put things in perspective I was thinking of having a function rather than writing a very similar piece of code all over the place.\n\n> > Conversely I thought calling on sage's version of various packages (`gap`, `singular`, `maxima`, etc...) was to stay in the main `sage` script rather than move to `sage-site`. They usually execute normally with system installed packages and may be required for running some user scripts.\n> \n> \n> It would be fine with me to move them back to `sage`.\n> \n\nRight, since we want to set the interface right we have to decide if this is something that is important for the distribution to support. On one side, it just works like it is, on the other side it is redundant with calling the application directly. The only interesting point is whether there are scripts out there that needs this for compatibility. \n\nThese direct calls to various applications could also be replaced by `sage --sh $app`, `sage --sh` was actually developed some time after those direct calls were put in place (IIRC). So a migration path could be suggested and they could be deprecated. That would be yet another follow up ticket.",
    "created_at": "2020-06-21T02:31:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456106",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:95" align="right">comment:95</div>

Replying to [@mkoeppe](#comment%3A94):
> Replying to [@kiwifb](#comment%3A93):
> > This branch version of `sage` still execute numerous options that are not listed in the sage menu but that would be displayed by `sage-site`. [...]
> > I recognise that some of these may have to live there for technical reason. 
> 
> 
> Right, this ticket is certainly not meant as the final word on splitting the script. 
> But by splitting the help strings on this ticket, we define the interface, and this is to me the most important part.  The patch is already huge, and it is best to do further refactoring and refinements in narrower follow-up tickets.
> 

I am OK with that. Let's get the interface where we want it then.

> > as it is now, they could be accidentally called from a sage-on-distro shipping this file. If they have to stay there, we should get a check on `SAGE_ROOT` before executing them and display some error message if it is not defined. Like "not available in this distribution of sagemath".
> 
> 
> This sounds like a good idea, but I would also prefer to do this on a follow-up ticket.
> 

This is acceptable. 9.2 is not getting anywhere very fast :) To put things in perspective I was thinking of having a function rather than writing a very similar piece of code all over the place.

> > Conversely I thought calling on sage's version of various packages (`gap`, `singular`, `maxima`, etc...) was to stay in the main `sage` script rather than move to `sage-site`. They usually execute normally with system installed packages and may be required for running some user scripts.
> 
> 
> It would be fine with me to move them back to `sage`.
> 

Right, since we want to set the interface right we have to decide if this is something that is important for the distribution to support. On one side, it just works like it is, on the other side it is redundant with calling the application directly. The only interesting point is whether there are scripts out there that needs this for compatibility. 

These direct calls to various applications could also be replaced by `sage --sh $app`, `sage --sh` was actually developed some time after those direct calls were put in place (IIRC). So a migration path could be suggested and they could be deprecated. That would be yet another follow up ticket.



---

archive/issue_comments_456107.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nReplying to [@kiwifb](#comment%3A95):\n> > > Conversely I thought calling on sage's version of various packages (`gap`, `singular`, `maxima`, etc...) was to stay in the main `sage` script rather than move to `sage-site`. They usually execute normally with system installed packages and may be required for running some user scripts.\n> > \n> > \n> > It would be fine with me to move them back to `sage`.\n> > \n> \n> \n> Right, since we want to set the interface right we have to decide if this is something that is important for the distribution to support. On one side, it just works like it is, on the other side it is redundant with calling the application directly. The only interesting point is whether there are scripts out there that needs this for compatibility. \n> \n> These direct calls to various applications could also be replaced by `sage --sh $app`, `sage --sh` was actually developed some time after those direct calls were put in place (IIRC). \n\nThanks for the context.\n\n> So a migration path could be suggested and they could be deprecated. That would be yet another follow up ticket.\n\nI agree. We should go in this direction by deprecating these shortcuts `sage -$app` first. That would be a separate ticket.\n\nSo for this ticket, I will move them back into the `sage` script unless @jhpalmieri objects.",
    "created_at": "2020-06-21T02:59:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456107",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:96" align="right">comment:96</div>

Replying to [@kiwifb](#comment%3A95):
> > > Conversely I thought calling on sage's version of various packages (`gap`, `singular`, `maxima`, etc...) was to stay in the main `sage` script rather than move to `sage-site`. They usually execute normally with system installed packages and may be required for running some user scripts.
> > 
> > 
> > It would be fine with me to move them back to `sage`.
> > 
> 
> 
> Right, since we want to set the interface right we have to decide if this is something that is important for the distribution to support. On one side, it just works like it is, on the other side it is redundant with calling the application directly. The only interesting point is whether there are scripts out there that needs this for compatibility. 
> 
> These direct calls to various applications could also be replaced by `sage --sh $app`, `sage --sh` was actually developed some time after those direct calls were put in place (IIRC). 

Thanks for the context.

> So a migration path could be suggested and they could be deprecated. That would be yet another follow up ticket.

I agree. We should go in this direction by deprecating these shortcuts `sage -$app` first. That would be a separate ticket.

So for this ticket, I will move them back into the `sage` script unless @jhpalmieri objects.



---

archive/issue_comments_456108.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">comment:97</div>\n\nGo ahead, I don't have strong feelings about it.\n\nI also like the idea of testing `SAGE_ROOT` before executing `sage -b` etc. But doing it on a followup ticket is fine.",
    "created_at": "2020-06-21T05:04:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456108",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:97" align="right">comment:97</div>

Go ahead, I don't have strong feelings about it.

I also like the idea of testing `SAGE_ROOT` before executing `sage -b` etc. But doing it on a followup ticket is fine.



---

archive/issue_comments_456109.json:
```json
{
    "body": "Changed commit from **[`875940d`](https://github.com/sagemath/sagetrac-mirror/commit/875940dea7853575e42f567759bcaa5392d6c5b3)** to **[`4a3d36e`](https://github.com/sagemath/sagetrac-mirror/commit/4a3d36eb78976d31d9d27623712b2af7b6b74006)**",
    "created_at": "2020-06-21T05:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456109",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`875940d`](https://github.com/sagemath/sagetrac-mirror/commit/875940dea7853575e42f567759bcaa5392d6c5b3)** to **[`4a3d36e`](https://github.com/sagemath/sagetrac-mirror/commit/4a3d36eb78976d31d9d27623712b2af7b6b74006)**



---

archive/issue_comments_456110.json:
```json
{
    "body": "<div id=\"comment:98\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a3d36eb78976d31d9d27623712b2af7b6b74006\"><code>4a3d36e</code></a></td><td><code>Move 'sage -app' back to src/bin/sage</code></td></tr></table>\n",
    "created_at": "2020-06-21T05:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456110",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:98"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a3d36eb78976d31d9d27623712b2af7b6b74006"><code>4a3d36e</code></a></td><td><code>Move 'sage -app' back to src/bin/sage</code></td></tr></table>




---

archive/issue_comments_456111.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\ndone, please check if you have a chance",
    "created_at": "2020-06-21T05:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456111",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:99" align="right">comment:99</div>

done, please check if you have a chance



---

archive/issue_comments_456112.json:
```json
{
    "body": "<div id=\"comment:100\" align=\"right\">comment:100</div>\n\nWhat is `sage --axiom` supposed to do? What package installs an `axiom` executable?",
    "created_at": "2020-06-21T22:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456112",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:100" align="right">comment:100</div>

What is `sage --axiom` supposed to do? What package installs an `axiom` executable?



---

archive/issue_comments_456113.json:
```json
{
    "body": "<div id=\"comment:101\" align=\"right\">comment:101</div>\n\nDid we drop the packaging of `axiom`? http://axiom.axiom-developer.org/",
    "created_at": "2020-06-21T22:44:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456113",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:101" align="right">comment:101</div>

Did we drop the packaging of `axiom`? http://axiom.axiom-developer.org/



---

archive/issue_comments_456114.json:
```json
{
    "body": "<div id=\"comment:102\" align=\"right\">comment:102</div>\n\nNot as a new-style package, and I couldn't find the website with old-style packages. Does it still exist?",
    "created_at": "2020-06-21T23:03:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456114",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:102" align="right">comment:102</div>

Not as a new-style package, and I couldn't find the website with old-style packages. Does it still exist?



---

archive/issue_comments_456115.json:
```json
{
    "body": "<div id=\"comment:103\" align=\"right\">comment:103</div>\n\nThere is here http://old.files.sagemath.org/spkg/archive/ which I could go from here http://files.sagemath.org/spkg/",
    "created_at": "2020-06-21T23:07:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456115",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:103" align="right">comment:103</div>

There is here http://old.files.sagemath.org/spkg/archive/ which I could go from here http://files.sagemath.org/spkg/



---

archive/issue_comments_456116.json:
```json
{
    "body": "<div id=\"comment:104\" align=\"right\">comment:104</div>\n\nOh, so it's from 2007?!",
    "created_at": "2020-06-21T23:10:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456116",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:104" align="right">comment:104</div>

Oh, so it's from 2007?!



---

archive/issue_comments_456117.json:
```json
{
    "body": "<div id=\"comment:105\" align=\"right\">comment:105</div>\n\nSee #29930 for a discussion of `sage --gap` and friends.",
    "created_at": "2020-06-21T23:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456117",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:105" align="right">comment:105</div>

See #29930 for a discussion of `sage --gap` and friends.



---

archive/issue_comments_456118.json:
```json
{
    "body": "<div id=\"comment:106\" align=\"right\">comment:106</div>\n\nThe Sage `axiom` package requires `clisp`. I changed the `spkg-install` file to use `ecl` instead, but it failed. I am going to out on a limb and suggest that no one is using this spkg with a recent version of Sage.",
    "created_at": "2020-06-21T23:15:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456118",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:106" align="right">comment:106</div>

The Sage `axiom` package requires `clisp`. I changed the `spkg-install` file to use `ecl` instead, but it failed. I am going to out on a limb and suggest that no one is using this spkg with a recent version of Sage.



---

archive/issue_comments_456119.json:
```json
{
    "body": "<div id=\"comment:107\" align=\"right\">comment:107</div>\n\nYou have my full support to remove this piece of cruft.",
    "created_at": "2020-06-21T23:17:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456119",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:107" align="right">comment:107</div>

You have my full support to remove this piece of cruft.



---

archive/issue_comments_456120.json:
```json
{
    "body": "<div id=\"comment:108\" align=\"right\">comment:108</div>\n\nDoes perhaps `fricas` install itself under the name `axiom`?",
    "created_at": "2020-06-22T05:18:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456120",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:108" align="right">comment:108</div>

Does perhaps `fricas` install itself under the name `axiom`?



---

archive/issue_comments_456121.json:
```json
{
    "body": "<div id=\"comment:109\" align=\"right\">comment:109</div>\n\nGood idea. From http://fricas.sourceforge.net/history.html, it looks like FriCAS is a fork of Axiom, but I just installed it, and it doesn't install `axiom` (at least not in `SAGE_ROOT/local/bin`, nor is `axiom` listed in its package manifest). It installs `fricas` and `efricas`, so we could eventually add those, but it's not like anyone's been clamoring for them.",
    "created_at": "2020-06-22T05:35:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456121",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:109" align="right">comment:109</div>

Good idea. From http://fricas.sourceforge.net/history.html, it looks like FriCAS is a fork of Axiom, but I just installed it, and it doesn't install `axiom` (at least not in `SAGE_ROOT/local/bin`, nor is `axiom` listed in its package manifest). It installs `fricas` and `efricas`, so we could eventually add those, but it's not like anyone's been clamoring for them.



---

archive/issue_comments_456122.json:
```json
{
    "body": "<div id=\"comment:110\" align=\"right\">comment:110</div>\n\nThen let's just drop `sage --axiom`. Good catch!",
    "created_at": "2020-06-22T05:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456122",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:110" align="right">comment:110</div>

Then let's just drop `sage --axiom`. Good catch!



---

archive/issue_comments_456123.json:
```json
{
    "body": "<div id=\"comment:111\" align=\"right\">comment:111</div>\n\nis axiom package an old-style one?\n\nIt's probably very outdated. also, my impression is that fricas fork is the most active of all the forks of the original axiom forks.\nThe others are http://www.axiom-developer.org/ (axiom) and http://www.open-axiom.org/links.html (OpenAxiom)",
    "created_at": "2020-06-22T06:03:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456123",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:111" align="right">comment:111</div>

is axiom package an old-style one?

It's probably very outdated. also, my impression is that fricas fork is the most active of all the forks of the original axiom forks.
The others are http://www.axiom-developer.org/ (axiom) and http://www.open-axiom.org/links.html (OpenAxiom)



---

archive/issue_comments_456124.json:
```json
{
    "body": "<div id=\"comment:112\" align=\"right\">comment:112</div>\n\nThat's right, there is no new-style `axiom` package.",
    "created_at": "2020-06-22T17:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456124",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:112" align="right">comment:112</div>

That's right, there is no new-style `axiom` package.



---

archive/issue_comments_456125.json:
```json
{
    "body": "Changed commit from **[`4a3d36e`](https://github.com/sagemath/sagetrac-mirror/commit/4a3d36eb78976d31d9d27623712b2af7b6b74006)** to **[`3a0193c`](https://github.com/sagemath/sagetrac-mirror/commit/3a0193c9f0a12407ac3708fea6d70c9b72d4f864)**",
    "created_at": "2020-06-22T17:44:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456125",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4a3d36e`](https://github.com/sagemath/sagetrac-mirror/commit/4a3d36eb78976d31d9d27623712b2af7b6b74006)** to **[`3a0193c`](https://github.com/sagemath/sagetrac-mirror/commit/3a0193c9f0a12407ac3708fea6d70c9b72d4f864)**



---

archive/issue_comments_456126.json:
```json
{
    "body": "<div id=\"comment:113\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a0193c9f0a12407ac3708fea6d70c9b72d4f864\"><code>3a0193c</code></a></td><td><code>src/bin/sage: Remove handling of 'sage -axiom'</code></td></tr></table>\n",
    "created_at": "2020-06-22T17:44:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456126",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:113"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a0193c9f0a12407ac3708fea6d70c9b72d4f864"><code>3a0193c</code></a></td><td><code>src/bin/sage: Remove handling of 'sage -axiom'</code></td></tr></table>




---

archive/issue_comments_456127.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">comment:114</div>\n\nDone. Needs review",
    "created_at": "2020-06-22T17:45:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456127",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:114" align="right">comment:114</div>

Done. Needs review



---

archive/issue_comments_456128.json:
```json
{
    "body": "<div id=\"comment:115\" align=\"right\">comment:115</div>\n\nI'm happy with everything. Who else would like to weigh in?",
    "created_at": "2020-06-22T18:52:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456128",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:115" align="right">comment:115</div>

I'm happy with everything. Who else would like to weigh in?



---

archive/issue_comments_456129.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, John Palmieri, ...** to **Matthias Koeppe, John Palmieri, Fran\u00e7ois Bissey**",
    "created_at": "2020-06-23T20:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456129",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, John Palmieri, ...** to **Matthias Koeppe, John Palmieri, Fran√ßois Bissey**



---

archive/issue_events_397118.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2020-06-23T20:46:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397118"
}
```



---

archive/issue_events_397119.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2020-06-23T20:46:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397119"
}
```



---

archive/issue_comments_456130.json:
```json
{
    "body": "<div id=\"comment:117\" align=\"right\">comment:117</div>\n\nSorry, I was busy and forgot about it. We have reached an agreement with what goes in and what's next. I think we have bashed it enough and it is ready to go.",
    "created_at": "2020-06-23T20:46:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456130",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:117" align="right">comment:117</div>

Sorry, I was busy and forgot about it. We have reached an agreement with what goes in and what's next. I think we have bashed it enough and it is ready to go.



---

archive/issue_comments_456131.json:
```json
{
    "body": "<div id=\"comment:118\" align=\"right\">comment:118</div>\n\nThanks!",
    "created_at": "2020-06-23T21:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456131",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:118" align="right">comment:118</div>

Thanks!



---

archive/issue_comments_456132.json:
```json
{
    "body": "<div id=\"comment:119\" align=\"right\">comment:119</div>\n\n<thumbs up emoji>",
    "created_at": "2020-06-23T21:44:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456132",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:119" align="right">comment:119</div>

<thumbs up emoji>



---

archive/issue_comments_456133.json:
```json
{
    "body": "<div id=\"comment:120\" align=\"right\">comment:120</div>\n\nFollow-ups: \n- #21559: Install `src/bin` scripts by sagelib's `setup.py`, not `make`\n- #29930: Change handling of `sage --APP`",
    "created_at": "2020-06-23T21:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456133",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:120" align="right">comment:120</div>

Follow-ups: 
- #21559: Install `src/bin` scripts by sagelib's `setup.py`, not `make`
- #29930: Change handling of `sage --APP`



---

archive/issue_comments_456134.json:
```json
{
    "body": "<div id=\"comment:121\" align=\"right\">comment:121</div>\n\nMerge confilct",
    "created_at": "2020-07-08T22:50:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456134",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:121" align="right">comment:121</div>

Merge confilct



---

archive/issue_events_397120.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-08T22:50:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397120"
}
```



---

archive/issue_events_397121.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-08T22:50:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397121"
}
```



---

archive/issue_comments_456135.json:
```json
{
    "body": "<div id=\"comment:122\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8bab39ca0c44333484007cc0f4778016c01ab0c\"><code>c8bab39</code></a></td><td><code>Merge tag '9.2.beta4' into t/29111/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution</code></td></tr></table>\n",
    "created_at": "2020-07-08T22:59:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456135",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:122"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8bab39ca0c44333484007cc0f4778016c01ab0c"><code>c8bab39</code></a></td><td><code>Merge tag '9.2.beta4' into t/29111/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution</code></td></tr></table>




---

archive/issue_comments_456136.json:
```json
{
    "body": "Changed commit from **[`3a0193c`](https://github.com/sagemath/sagetrac-mirror/commit/3a0193c9f0a12407ac3708fea6d70c9b72d4f864)** to **[`c8bab39`](https://github.com/sagemath/sagetrac-mirror/commit/c8bab39ca0c44333484007cc0f4778016c01ab0c)**",
    "created_at": "2020-07-08T22:59:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456136",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3a0193c`](https://github.com/sagemath/sagetrac-mirror/commit/3a0193c9f0a12407ac3708fea6d70c9b72d4f864)** to **[`c8bab39`](https://github.com/sagemath/sagetrac-mirror/commit/c8bab39ca0c44333484007cc0f4778016c01ab0c)**



---

archive/issue_comments_456137.json:
```json
{
    "body": "Changed commit from **[`c8bab39`](https://github.com/sagemath/sagetrac-mirror/commit/c8bab39ca0c44333484007cc0f4778016c01ab0c)** to **[`3953671`](https://github.com/sagemath/sagetrac-mirror/commit/39536716aef05e8953bdc50038c49e5959ffdb6a)**",
    "created_at": "2020-07-08T22:59:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456137",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c8bab39`](https://github.com/sagemath/sagetrac-mirror/commit/c8bab39ca0c44333484007cc0f4778016c01ab0c)** to **[`3953671`](https://github.com/sagemath/sagetrac-mirror/commit/39536716aef05e8953bdc50038c49e5959ffdb6a)**



---

archive/issue_comments_456138.json:
```json
{
    "body": "<div id=\"comment:123\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39536716aef05e8953bdc50038c49e5959ffdb6a\"><code>3953671</code></a></td><td><code>Merge tag '9.2.beta4' into t/29111/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution</code></td></tr></table>\n",
    "created_at": "2020-07-08T22:59:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456138",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:123"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39536716aef05e8953bdc50038c49e5959ffdb6a"><code>3953671</code></a></td><td><code>Merge tag '9.2.beta4' into t/29111/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution</code></td></tr></table>




---

archive/issue_events_397122.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-08T23:00:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397122"
}
```



---

archive/issue_events_397123.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-08T23:00:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397123"
}
```



---

archive/issue_events_397124.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-10T19:34:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397124"
}
```



---

archive/issue_events_397125.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "cc19847f77b4136b09d0c24ceba760a5563d55e8",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-07-10T19:34:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29111#event-397125"
}
```



---

archive/issue_comments_456139.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)** to **[`3953671`](https://github.com/sagemath/sagetrac-mirror/commit/39536716aef05e8953bdc50038c49e5959ffdb6a)**",
    "created_at": "2020-07-10T19:34:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456139",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/specify_a_subset_of_sage_command_line_options_that_are_supported_by_sagelib___rather_than_sage_the_distribution)** to **[`3953671`](https://github.com/sagemath/sagetrac-mirror/commit/39536716aef05e8953bdc50038c49e5959ffdb6a)**



---

archive/issue_comments_456140.json:
```json
{
    "body": "Changed commit from **[`3953671`](https://github.com/sagemath/sagetrac-mirror/commit/39536716aef05e8953bdc50038c49e5959ffdb6a)** to none",
    "created_at": "2022-04-25T02:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456140",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`3953671`](https://github.com/sagemath/sagetrac-mirror/commit/39536716aef05e8953bdc50038c49e5959ffdb6a)** to none



---

archive/issue_comments_456141.json:
```json
{
    "body": "<div id=\"comment:126\" align=\"right\">comment:126</div>\n\nFollow-up in #33753",
    "created_at": "2022-04-25T02:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29111",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29111#issuecomment-456141",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:126" align="right">comment:126</div>

Follow-up in #33753
