# Issue 29657: Meta ticket: graphs: improve distances, radius, diameter, eccentricities

archive/issues_029420.json:
```json
{
    "assignees": [],
    "body": "The goal of this ticket is to organize and follow the changes and improvements done on methods for computing distances, diameter, radius and eccentricities.\n\n**Tickets**:\n- #29660: Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py\n- #29715: Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of undirected graphs.\n- #29734: fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.\n- #29744: Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.\n- #27934: Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.\n- #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs\n- #30039: Weighted version of difub algorithm and 2Dsweep.\n- #30081: Cleaning and improving consistency in `distances` methods in graph module\n- #30247: memory efficient implementation of Wiener index\n- #30269: memory efficient implementation of distances distribution\n- #30405: fast (and memory efficient) implementation of `antipodal_graph`\n\n\n**To do**:\n- avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n- Make usage of weights, weight functions and checks consistent. See for instance issue reported with boost in #29781. This can be done by introducing following lines of code in all distances related methods such `shortest_path(s)` , `shortest_path_length(s)`, `shortest_path_all_pairs`\n\n```\nif by_weight and weight_function is None:\n    def weight_function(e):\n        return 1 if e[2] is None else e[2]\n```\n\n- `shortest_paths` method in `boost_graph.pyx` doesnt properly detect negative cycle using `Bellman-Ford` as algorithm. To solve, we can try to traverse distance dictionary and check if any value is negative. If negative then raise error, since distances can't be negative.\n\n- In #29744 and #29715, we have raised an error, if graph contains negative edge weights. Reason for this was `Bellman-Ford` is not able to properly detect negative cycle in undirected graphs. \n\n**Opened and inactive tickets, to be finalized or ...**\n- #29346:  diameter for large directed real graphs - Algorithm by [Takuya Akiba, Yoichi Iwata, Yuki Kawata](https://doi.org/10.1007/978-3-319-20086-6_5)\n- #29309: duplicate of #29346 with a different implementation\n- #29336: proposal for making a code of Yuki Kawata to compute the diameter of directed graphs an external package. Same algorithm than #29346 ? \n- #27564: methods for computing the diameter of trees. Note that 2 BFS / Dijkstra calls are sufficient for that.\n- #27540: approximate algorithm for the diameter of undirected graphs.\n\n\n- #4854: add parameter `as_edge` to return a path as a list of labeled edges instead of a list of vertices\n\nCC:  @vipul79321\n\nComponent: **graph theory**\n\nKeywords: **gsoc2020**\n\nAuthor: **Vipul Gupta, David Coudert**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29657_\n\n",
    "created_at": "2020-05-06T17:45:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Meta ticket: graphs: improve distances, radius, diameter, eccentricities",
    "type": "issue",
    "updated_at": "2022-08-31T05:25:02Z",
    "url": "https://github.com/sagemath/sage/issues/29657",
    "user": "https://github.com/dcoudert"
}
```
The goal of this ticket is to organize and follow the changes and improvements done on methods for computing distances, diameter, radius and eccentricities.

**Tickets**:
- #29660: Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py
- #29715: Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of undirected graphs.
- #29734: fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.
- #29744: Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.
- #27934: Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.
- #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs
- #30039: Weighted version of difub algorithm and 2Dsweep.
- #30081: Cleaning and improving consistency in `distances` methods in graph module
- #30247: memory efficient implementation of Wiener index
- #30269: memory efficient implementation of distances distribution
- #30405: fast (and memory efficient) implementation of `antipodal_graph`


**To do**:
- avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
- Make usage of weights, weight functions and checks consistent. See for instance issue reported with boost in #29781. This can be done by introducing following lines of code in all distances related methods such `shortest_path(s)` , `shortest_path_length(s)`, `shortest_path_all_pairs`

```
if by_weight and weight_function is None:
    def weight_function(e):
        return 1 if e[2] is None else e[2]
```

- `shortest_paths` method in `boost_graph.pyx` doesnt properly detect negative cycle using `Bellman-Ford` as algorithm. To solve, we can try to traverse distance dictionary and check if any value is negative. If negative then raise error, since distances can't be negative.

- In #29744 and #29715, we have raised an error, if graph contains negative edge weights. Reason for this was `Bellman-Ford` is not able to properly detect negative cycle in undirected graphs. 

**Opened and inactive tickets, to be finalized or ...**
- #29346:  diameter for large directed real graphs - Algorithm by [Takuya Akiba, Yoichi Iwata, Yuki Kawata](https://doi.org/10.1007/978-3-319-20086-6_5)
- #29309: duplicate of #29346 with a different implementation
- #29336: proposal for making a code of Yuki Kawata to compute the diameter of directed graphs an external package. Same algorithm than #29346 ? 
- #27564: methods for computing the diameter of trees. Note that 2 BFS / Dijkstra calls are sufficient for that.
- #27540: approximate algorithm for the diameter of undirected graphs.


- #4854: add parameter `as_edge` to return a path as a list of labeled edges instead of a list of vertices

CC:  @vipul79321

Component: **graph theory**

Keywords: **gsoc2020**

Author: **Vipul Gupta, David Coudert**

_Issue created by migration from https://trac.sagemath.org/ticket/29657_





---

archive/issue_events_405021.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-05-06T17:45:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405021"
}
```



---

archive/issue_events_405022.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-05-06T17:45:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405022"
}
```



---

archive/issue_events_405023.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-05-06T17:45:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405023"
}
```



---

archive/issue_comments_467015.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,9 @@\n The goal of this ticket is to organize and follow the changes and improvements done on methods for computing distances, diameter, radius and eccentricities.\n \n+**Tickets**:\n+- #29660    Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py\n+- \n \n+**To do**:\n+- avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n+- \n``````\n",
    "created_at": "2020-05-12T17:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467015",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,9 @@
 The goal of this ticket is to organize and follow the changes and improvements done on methods for computing distances, diameter, radius and eccentricities.
 
+**Tickets**:
+- #29660    Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py
+- 
 
+**To do**:
+- avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
+- 
``````




---

archive/issue_comments_467016.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n **Tickets**:\n - #29660    Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py\n-- \n+- #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of unweighted undirected graphs.\n \n **To do**:\n - avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n``````\n",
    "created_at": "2020-05-22T08:12:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467016",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 **Tickets**:
 - #29660    Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py
-- 
+- #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of unweighted undirected graphs.
 
 **To do**:
 - avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
``````




---

archive/issue_comments_467017.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI am glad to see this, because there are several open tickets on these topics. Other tickets I noticed that seem to fit the description and I hope will be included in the organization: #29431, #29422, #29346, #29336, #29309, #27934, #27564, #27540, #27506.",
    "created_at": "2020-05-23T21:15:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467017",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:3" align="right">comment:3</div>

I am glad to see this, because there are several open tickets on these topics. Other tickets I noticed that seem to fit the description and I hope will be included in the organization: #29431, #29422, #29346, #29336, #29309, #27934, #27564, #27540, #27506.



---

archive/issue_comments_467018.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@DaveWitteMorris](#comment%3A3):\n> I am glad to see this, because there are several open tickets on these topics. Other tickets I noticed that seem to fit the description and I hope will be included in the organization: #29431, #29422, #29346, #29336, #29309, #27934, #27564, #27540, #27506.\n\nYou are right, some of them must be finalized, some other closed.\n\nFor #27564, we may implement a Tree class like `BipartiteGraph` and to add it specific methods. This could help organizing methods.",
    "created_at": "2020-05-24T09:56:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467018",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@DaveWitteMorris](#comment%3A3):
> I am glad to see this, because there are several open tickets on these topics. Other tickets I noticed that seem to fit the description and I hope will be included in the organization: #29431, #29422, #29346, #29336, #29309, #27934, #27564, #27540, #27506.

You are right, some of them must be finalized, some other closed.

For #27564, we may implement a Tree class like `BipartiteGraph` and to add it specific methods. This could help organizing methods.



---

archive/issue_comments_467019.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,7 @@\n **Tickets**:\n - #29660    Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py\n - #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of unweighted undirected graphs.\n+- #29734   fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.\n \n **To do**:\n - avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n``````\n",
    "created_at": "2020-05-25T17:25:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467019",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,7 @@
 **Tickets**:
 - #29660    Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py
 - #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of unweighted undirected graphs.
+- #29734   fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.
 
 **To do**:
 - avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
``````




---

archive/issue_comments_467020.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,8 +2,9 @@\n \n **Tickets**:\n - #29660    Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py\n-- #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of unweighted undirected graphs.\n+- #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of undirected graphs.\n - #29734   fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.\n+- #29744 Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.\n \n **To do**:\n - avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n``````\n",
    "created_at": "2020-05-28T12:33:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467020",
    "user": "https://github.com/vipul79321"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,8 +2,9 @@
 
 **Tickets**:
 - #29660    Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py
-- #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of unweighted undirected graphs.
+- #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of undirected graphs.
 - #29734   fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.
+- #29744 Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.
 
 **To do**:
 - avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
``````




---

archive/issue_events_405024.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-05-29T03:11:32Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "title_is": "Meta ticket: graphs: improve distances, radius, diameter, eccentricities",
    "title_was": "Meta ticket: improvement of distances, radius, diameter and eccentricities",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405024"
}
```



---

archive/issue_comments_467021.json:
```json
{
    "body": "Changed keywords from **gsoc** to **gsoc20**",
    "created_at": "2020-05-29T03:11:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467021",
    "user": "https://github.com/slel"
}
```

Changed keywords from **gsoc** to **gsoc20**



---

archive/issue_comments_467022.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,4 @@\n \n **To do**:\n - avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n-- \n+- Make usage of weights, weight functions and checks consistent. See for instance issue reported with boost in #29781.\n``````\n",
    "created_at": "2020-06-02T10:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467022",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,4 @@
 
 **To do**:
 - avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
-- 
+- Make usage of weights, weight functions and checks consistent. See for instance issue reported with boost in #29781.
``````




---

archive/issue_events_405025.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-06-03T17:02:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405025"
}
```



---

archive/issue_comments_467023.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,13 @@\n \n **To do**:\n - avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n-- Make usage of weights, weight functions and checks consistent. See for instance issue reported with boost in #29781.\n+- Make usage of weights, weight functions and checks consistent. See for instance issue reported with boost in #29781. This can be done by introducing following lines of code in all distances related methods such `shortest_path(s)` , `shortest_path_length(s)`, `shortest_path_all_pairs`\n+\n+```\n+if by_weight and weight_function is None:\n+    def weight_function(e):\n+        return 1 if e[2] is None else e[2]\n+```\n+\n+- `shortest_paths` method in `boost_graph.pyx` doesnt properly detect negative cycle using `Bellman-Ford` as algorithm. To solve, we can try to traverse distance dictionary and check if any value is negative. If negative then raise error, since distances can't be negative.\n+\n``````\n",
    "created_at": "2020-06-03T17:02:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467023",
    "user": "https://github.com/vipul79321"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,13 @@
 
 **To do**:
 - avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
-- Make usage of weights, weight functions and checks consistent. See for instance issue reported with boost in #29781.
+- Make usage of weights, weight functions and checks consistent. See for instance issue reported with boost in #29781. This can be done by introducing following lines of code in all distances related methods such `shortest_path(s)` , `shortest_path_length(s)`, `shortest_path_all_pairs`
+
+```
+if by_weight and weight_function is None:
+    def weight_function(e):
+        return 1 if e[2] is None else e[2]
+```
+
+- `shortest_paths` method in `boost_graph.pyx` doesnt properly detect negative cycle using `Bellman-Ford` as algorithm. To solve, we can try to traverse distance dictionary and check if any value is negative. If negative then raise error, since distances can't be negative.
+
``````




---

archive/issue_events_405026.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-06-04T18:10:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405026"
}
```



---

archive/issue_comments_467024.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,3 +18,6 @@\n \n - `shortest_paths` method in `boost_graph.pyx` doesnt properly detect negative cycle using `Bellman-Ford` as algorithm. To solve, we can try to traverse distance dictionary and check if any value is negative. If negative then raise error, since distances can't be negative.\n \n+- In #29744 and #29715, we have raised an error, if graph contains negative edge weights. Reason for this was `Bellman-Ford` is not able to properly detect negative cycle in undirected graphs. \n+\n+\n``````\n",
    "created_at": "2020-06-04T18:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467024",
    "user": "https://github.com/vipul79321"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,3 +18,6 @@
 
 - `shortest_paths` method in `boost_graph.pyx` doesnt properly detect negative cycle using `Bellman-Ford` as algorithm. To solve, we can try to traverse distance dictionary and check if any value is negative. If negative then raise error, since distances can't be negative.
 
+- In #29744 and #29715, we have raised an error, if graph contains negative edge weights. Reason for this was `Bellman-Ford` is not able to properly detect negative cycle in undirected graphs. 
+
+
``````




---

archive/issue_comments_467025.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -20,4 +20,11 @@\n \n - In #29744 and #29715, we have raised an error, if graph contains negative edge weights. Reason for this was `Bellman-Ford` is not able to properly detect negative cycle in undirected graphs. \n \n+**Opened and inactive tickets, to be finalized or ...**\n+- #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs\n+- #29346:  diameter for large directed real graphs - Algorithm by [Takuya Akiba, Yoichi Iwata, Yuki Kawata](https://doi.org/10.1007/978-3-319-20086-6_5)\n+- #29309: duplicate of #29346 with a different implementation\n+- #29336: proposal for making a code of Yuki Kawata to compute the diameter of directed graphs an external package. Same algorithm than #29346 ? \n+- #27564: methods for computing the diameter of trees. Note that 2 BFS / Dijkstra calls are sufficient for that.\n+- #27540: approximate algorithm for the diameter of undirected graphs.\n \n``````\n",
    "created_at": "2020-06-06T16:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467025",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -20,4 +20,11 @@
 
 - In #29744 and #29715, we have raised an error, if graph contains negative edge weights. Reason for this was `Bellman-Ford` is not able to properly detect negative cycle in undirected graphs. 
 
+**Opened and inactive tickets, to be finalized or ...**
+- #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs
+- #29346:  diameter for large directed real graphs - Algorithm by [Takuya Akiba, Yoichi Iwata, Yuki Kawata](https://doi.org/10.1007/978-3-319-20086-6_5)
+- #29309: duplicate of #29346 with a different implementation
+- #29336: proposal for making a code of Yuki Kawata to compute the diameter of directed graphs an external package. Same algorithm than #29346 ? 
+- #27564: methods for computing the diameter of trees. Note that 2 BFS / Dijkstra calls are sufficient for that.
+- #27540: approximate algorithm for the diameter of undirected graphs.
 
``````




---

archive/issue_comments_467026.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nTickets move to  sage-duplicate/invalid/wontfix:\n- #29431:  duplicate of #29715\n- #27506: proposed improvement of iFUB is what we already do.",
    "created_at": "2020-06-06T16:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467026",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:11" align="right">comment:11</div>

Tickets move to  sage-duplicate/invalid/wontfix:
- #29431:  duplicate of #29715
- #27506: proposed improvement of iFUB is what we already do.



---

archive/issue_comments_467027.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,7 @@\n - #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of undirected graphs.\n - #29734   fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.\n - #29744 Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.\n+- #27934 Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.\n \n **To do**:\n - avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n``````\n",
    "created_at": "2020-06-12T19:37:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467027",
    "user": "https://github.com/vipul79321"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,7 @@
 - #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of undirected graphs.
 - #29734   fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.
 - #29744 Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.
+- #27934 Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.
 
 **To do**:
 - avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
``````




---

archive/issue_comments_467028.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,7 @@\n - #29734   fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.\n - #29744 Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.\n - #27934 Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.\n+- #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs\n \n **To do**:\n - avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n@@ -22,7 +23,6 @@\n - In #29744 and #29715, we have raised an error, if graph contains negative edge weights. Reason for this was `Bellman-Ford` is not able to properly detect negative cycle in undirected graphs. \n \n **Opened and inactive tickets, to be finalized or ...**\n-- #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs\n - #29346:  diameter for large directed real graphs - Algorithm by [Takuya Akiba, Yoichi Iwata, Yuki Kawata](https://doi.org/10.1007/978-3-319-20086-6_5)\n - #29309: duplicate of #29346 with a different implementation\n - #29336: proposal for making a code of Yuki Kawata to compute the diameter of directed graphs an external package. Same algorithm than #29346 ? \n``````\n",
    "created_at": "2020-06-27T17:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467028",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,7 @@
 - #29734   fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.
 - #29744 Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.
 - #27934 Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.
+- #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs
 
 **To do**:
 - avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
@@ -22,7 +23,6 @@
 - In #29744 and #29715, we have raised an error, if graph contains negative edge weights. Reason for this was `Bellman-Ford` is not able to properly detect negative cycle in undirected graphs. 
 
 **Opened and inactive tickets, to be finalized or ...**
-- #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs
 - #29346:  diameter for large directed real graphs - Algorithm by [Takuya Akiba, Yoichi Iwata, Yuki Kawata](https://doi.org/10.1007/978-3-319-20086-6_5)
 - #29309: duplicate of #29346 with a different implementation
 - #29336: proposal for making a code of Yuki Kawata to compute the diameter of directed graphs an external package. Same algorithm than #29346 ? 
``````




---

archive/issue_comments_467029.json:
```json
{
    "body": "Changed keywords from **gsoc20** to **gsoc2020**",
    "created_at": "2020-06-27T17:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467029",
    "user": "https://github.com/dcoudert"
}
```

Changed keywords from **gsoc20** to **gsoc2020**



---

archive/issue_comments_467030.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,6 +7,7 @@\n - #29744 Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.\n - #27934 Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.\n - #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs\n+- #30039: Weighted version of difub algorithm and 2Dsweep.\n \n **To do**:\n - avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n``````\n",
    "created_at": "2020-07-06T17:17:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467030",
    "user": "https://github.com/vipul79321"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,6 +7,7 @@
 - #29744 Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.
 - #27934 Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.
 - #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs
+- #30039: Weighted version of difub algorithm and 2Dsweep.
 
 **To do**:
 - avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
``````




---

archive/issue_comments_467031.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,14 @@\n The goal of this ticket is to organize and follow the changes and improvements done on methods for computing distances, diameter, radius and eccentricities.\n \n **Tickets**:\n-- #29660    Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py\n-- #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of undirected graphs.\n-- #29734   fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.\n-- #29744 Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.\n-- #27934 Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.\n+- #29660: Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py\n+- #29715: Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of undirected graphs.\n+- #29734: fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.\n+- #29744: Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.\n+- #27934: Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.\n - #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs\n - #30039: Weighted version of difub algorithm and 2Dsweep.\n+- #30081: Cleaning and improving consistency in `distances` methods in graph module\n \n **To do**:\n - avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n``````\n",
    "created_at": "2020-07-11T13:37:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467031",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,14 @@
 The goal of this ticket is to organize and follow the changes and improvements done on methods for computing distances, diameter, radius and eccentricities.
 
 **Tickets**:
-- #29660    Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py
-- #29715    Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of undirected graphs.
-- #29734   fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.
-- #29744 Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.
-- #27934 Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.
+- #29660: Move radius, diameter and eccentricity methods from generic_graph.py to graph.py and digraph.py
+- #29715: Implement a fast algorithm by Dragan, Habib and Viennot for computing the radius of undirected graphs.
+- #29734: fix an error in `shortest_path_lengths` method in `generic_graph.py`. The input graph should not be modified.
+- #29744: Implement diameter computation method for undirected graphs given by Dragan, Habib and Viennot.
+- #27934: Implement all eccentricity method for undirected graphs given by Dragan, Habib and viennot.
 - #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs
 - #30039: Weighted version of difub algorithm and 2Dsweep.
+- #30081: Cleaning and improving consistency in `distances` methods in graph module
 
 **To do**:
 - avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
``````




---

archive/issue_comments_467032.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,9 @@\n - #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs\n - #30039: Weighted version of difub algorithm and 2Dsweep.\n - #30081: Cleaning and improving consistency in `distances` methods in graph module\n+- #30247: memory efficient implementation of Wiener index\n+- #30269: memory efficient implementation of distances distribution\n+\n \n **To do**:\n - avoid the use of \"dict of dict of distances\" inside method eccentricity, and avoid repeated conversions from one graph format to the other\n``````\n",
    "created_at": "2020-08-03T09:27:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467032",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,9 @@
 - #29422:  DiFUB algorithm for diameter of real (unweighed) directed graphs
 - #30039: Weighted version of difub algorithm and 2Dsweep.
 - #30081: Cleaning and improving consistency in `distances` methods in graph module
+- #30247: memory efficient implementation of Wiener index
+- #30269: memory efficient implementation of distances distribution
+
 
 **To do**:
 - avoid the use of "dict of dict of distances" inside method eccentricity, and avoid repeated conversions from one graph format to the other
``````




---

archive/issue_comments_467033.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,6 +11,7 @@\n - #30081: Cleaning and improving consistency in `distances` methods in graph module\n - #30247: memory efficient implementation of Wiener index\n - #30269: memory efficient implementation of distances distribution\n+- #30405: fast (and memory efficient) implementation of `antipodal_graph`\n \n \n **To do**:\n``````\n",
    "created_at": "2020-08-28T13:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467033",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,6 +11,7 @@
 - #30081: Cleaning and improving consistency in `distances` methods in graph module
 - #30247: memory efficient implementation of Wiener index
 - #30269: memory efficient implementation of distances distribution
+- #30405: fast (and memory efficient) implementation of `antipodal_graph`
 
 
 **To do**:
``````




---

archive/issue_comments_467034.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -35,3 +35,5 @@\n - #27564: methods for computing the diameter of trees. Note that 2 BFS / Dijkstra calls are sufficient for that.\n - #27540: approximate algorithm for the diameter of undirected graphs.\n \n+\n+- #4854: add parameter `as_edge` to return a path as a list of labeled edges instead of a list of vertices\n``````\n",
    "created_at": "2020-09-12T11:45:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467034",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -35,3 +35,5 @@
 - #27564: methods for computing the diameter of trees. Note that 2 BFS / Dijkstra calls are sufficient for that.
 - #27540: approximate algorithm for the diameter of undirected graphs.
 
+
+- #4854: add parameter `as_edge` to return a path as a list of labeled edges instead of a list of vertices
``````




---

archive/issue_events_405027.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405027"
}
```



---

archive/issue_events_405028.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405028"
}
```



---

archive/issue_comments_467035.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-04-07T19:29:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29657#issuecomment-467035",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_405029.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:29:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405029"
}
```



---

archive/issue_events_405030.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-07T19:29:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405030"
}
```



---

archive/issue_events_405031.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-10T17:30:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405031"
}
```



---

archive/issue_events_405032.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-10T17:30:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405032"
}
```



---

archive/issue_events_405033.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405033"
}
```



---

archive/issue_events_405034.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405034"
}
```



---

archive/issue_events_405035.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405035"
}
```



---

archive/issue_events_405036.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405036"
}
```



---

archive/issue_events_405037.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405037"
}
```



---

archive/issue_events_405038.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29657",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29657#event-405038"
}
```
