# Issue 29766: Upgrade NumPy to 1.19.1, scipy to 1.5.2, networkx to 2.4, add pybind11 package

archive/issues_029529.json:
```json
{
    "body": "Follow-up from the update of numpy to 1.16.6 (#29429):\n\nWe update\n* https://pypi.org/project/numpy/ to 1.19.1 (latest as of 2020-07-21)\n* https://pypi.org/project/scipy/ to 1.5.2 (latest as of 2020-07-31)\n* networkx to the latest release, 2.4 (latest as of 2020-07-04)\nAll of the above versions support Python >= 3.6.\n\nOne deprecation warning is removed here, another suppressed (from #29425), \nthe rest it trivial.\n\nTarballs: see checksums.ini [upstream_url]\n\nCC:  @antonio-rojas @mkoeppe @kiwifb @isuruf @slel @dcoudert @tscrim @fchapoton @alexjbest\n\nBranch: [5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b](https://github.com/sagemath/sagetrac-mirror/commit/5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b)\n\nUpstream: Fixed upstream, but not in a stable release.\n\nReviewer: Travis Scrimshaw, Isuru Fernando, Dima Pasechnik\n\nAuthor: Dima Pasechnik, Matthias Koeppe\n\nDependencies: #29929\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29766\n\n",
    "closed_at": "2020-08-07T19:07:46Z",
    "created_at": "2020-05-30T22:21:35Z",
    "labels": [
        "component: packages: standard",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Upgrade NumPy to 1.19.1, scipy to 1.5.2, networkx to 2.4, add pybind11 package",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29766",
    "user": "https://github.com/dimpase"
}
```
Follow-up from the update of numpy to 1.16.6 (#29429):

We update
* https://pypi.org/project/numpy/ to 1.19.1 (latest as of 2020-07-21)
* https://pypi.org/project/scipy/ to 1.5.2 (latest as of 2020-07-31)
* networkx to the latest release, 2.4 (latest as of 2020-07-04)
All of the above versions support Python >= 3.6.

One deprecation warning is removed here, another suppressed (from #29425), 
the rest it trivial.

Tarballs: see checksums.ini [upstream_url]

CC:  @antonio-rojas @mkoeppe @kiwifb @isuruf @slel @dcoudert @tscrim @fchapoton @alexjbest

Branch: [5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b](https://github.com/sagemath/sagetrac-mirror/commit/5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b)

Upstream: Fixed upstream, but not in a stable release.

Reviewer: Travis Scrimshaw, Isuru Fernando, Dima Pasechnik

Author: Dima Pasechnik, Matthias Koeppe

Dependencies: #29929

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29766





---

archive/issue_events_085957.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "rename": {
        "from": "update networkx and fix scipy 1.4 compat warnings",
        "to": "update networkx to 2.4"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29766#event-85957"
}
```



---

archive/issue_comments_584275.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n-networkx uses scipy data types which go away in scipy 2.0, so they started to do  deprecation warnings. (fixed in networkx trunk, but not in 2.4 release)\n+one deprecation warning is removed here, other suppressed on ##29425, \n+the rest it trivial.\n+\n+tarball: https://github.com/networkx/networkx/archive/networkx-2.4.zip\n``````\n",
    "created_at": "2020-06-01T17:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584275",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
-networkx uses scipy data types which go away in scipy 2.0, so they started to do  deprecation warnings. (fixed in networkx trunk, but not in 2.4 release)
+one deprecation warning is removed here, other suppressed on ##29425, 
+the rest it trivial.
+
+tarball: https://github.com/networkx/networkx/archive/networkx-2.4.zip
``````




---

archive/issue_comments_584276.json:
```json
{
    "body": "Branch: [u/dimpase/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx24)",
    "created_at": "2020-06-01T17:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584276",
    "user": "https://github.com/dimpase"
}
```

Branch: [u/dimpase/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx24)



---

archive/issue_comments_584277.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-01T17:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584277",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_584278.json:
```json
{
    "body": "<a id='comment:1'></a>\nLast 10 new commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[fa20111](https://github.com/sagemath/sagetrac-mirror/commit/fa20111935c171f1d99c410110967350f4facea2)|`build/pkgs/pybind11: New, dependency of scipy`|\n|[a5c17a8](https://github.com/sagemath/sagetrac-mirror/commit/a5c17a86af01597655d6a99d0f2b68793048253d)|`build/pkgs/cython: Update to 0.29.16`|\n|[c7cc999](https://github.com/sagemath/sagetrac-mirror/commit/c7cc999e75ebcb3cff0c976cdf8010c8831589f3)|`build/pkgs/cython/checksums.ini: Use predictable URL for upstream_url pattern`|\n|[d54b715](https://github.com/sagemath/sagetrac-mirror/commit/d54b715814ca3dfb8f5c6421f3a101e30bf14945)|`Update Cython to 0.29.17`|\n|[5958d38](https://github.com/sagemath/sagetrac-mirror/commit/5958d38ac53fa56c3728bd0af40a512891bdb674)|`build/pkgs/numpy: Update numpy to 1.18.2, back out numpy-1.10.2-no-hardcode-blas.patch (does not apply)`|\n|[0075beb](https://github.com/sagemath/sagetrac-mirror/commit/0075bebc3d5f544a2e052fd490ee7ee0977aa1e8)|`Update numpy to 1.18.4`|\n|[204213d](https://github.com/sagemath/sagetrac-mirror/commit/204213debcb838ff4253ccd7f9ca40552a5b3bdb)|`Update scipy to 1.4.1`|\n|[14bcb1f](https://github.com/sagemath/sagetrac-mirror/commit/14bcb1f25653b3baf78b1523913be0dc73257a95)|`build/pkgs/pybind11: New, dependency of scipy`|\n|[1d5ea9e](https://github.com/sagemath/sagetrac-mirror/commit/1d5ea9e07cd157c1df6d56a9cf8e7c6b172e23fa)|`Merge branch 'u/mkoeppe/local_conda_forge_macos_standard__build_error_with_numpy' of trac.sagemath.org:sage into networkx24`|\n|[2310c79](https://github.com/sagemath/sagetrac-mirror/commit/2310c79596838489831ffd1eb55b8ada4ac6784d)|`update networkx to version 2.4`|",
    "created_at": "2020-06-01T17:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584278",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>
Last 10 new commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[fa20111](https://github.com/sagemath/sagetrac-mirror/commit/fa20111935c171f1d99c410110967350f4facea2)|`build/pkgs/pybind11: New, dependency of scipy`|
|[a5c17a8](https://github.com/sagemath/sagetrac-mirror/commit/a5c17a86af01597655d6a99d0f2b68793048253d)|`build/pkgs/cython: Update to 0.29.16`|
|[c7cc999](https://github.com/sagemath/sagetrac-mirror/commit/c7cc999e75ebcb3cff0c976cdf8010c8831589f3)|`build/pkgs/cython/checksums.ini: Use predictable URL for upstream_url pattern`|
|[d54b715](https://github.com/sagemath/sagetrac-mirror/commit/d54b715814ca3dfb8f5c6421f3a101e30bf14945)|`Update Cython to 0.29.17`|
|[5958d38](https://github.com/sagemath/sagetrac-mirror/commit/5958d38ac53fa56c3728bd0af40a512891bdb674)|`build/pkgs/numpy: Update numpy to 1.18.2, back out numpy-1.10.2-no-hardcode-blas.patch (does not apply)`|
|[0075beb](https://github.com/sagemath/sagetrac-mirror/commit/0075bebc3d5f544a2e052fd490ee7ee0977aa1e8)|`Update numpy to 1.18.4`|
|[204213d](https://github.com/sagemath/sagetrac-mirror/commit/204213debcb838ff4253ccd7f9ca40552a5b3bdb)|`Update scipy to 1.4.1`|
|[14bcb1f](https://github.com/sagemath/sagetrac-mirror/commit/14bcb1f25653b3baf78b1523913be0dc73257a95)|`build/pkgs/pybind11: New, dependency of scipy`|
|[1d5ea9e](https://github.com/sagemath/sagetrac-mirror/commit/1d5ea9e07cd157c1df6d56a9cf8e7c6b172e23fa)|`Merge branch 'u/mkoeppe/local_conda_forge_macos_standard__build_error_with_numpy' of trac.sagemath.org:sage into networkx24`|
|[2310c79](https://github.com/sagemath/sagetrac-mirror/commit/2310c79596838489831ffd1eb55b8ada4ac6784d)|`update networkx to version 2.4`|



---

archive/issue_comments_584279.json:
```json
{
    "body": "Dependencies: #29425",
    "created_at": "2020-06-01T17:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584279",
    "user": "https://github.com/dimpase"
}
```

Dependencies: #29425



---

archive/issue_comments_584280.json:
```json
{
    "body": "Commit: [2310c79596838489831ffd1eb55b8ada4ac6784d](https://github.com/sagemath/sagetrac-mirror/commit/2310c79596838489831ffd1eb55b8ada4ac6784d)",
    "created_at": "2020-06-01T17:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584280",
    "user": "https://github.com/dimpase"
}
```

Commit: [2310c79596838489831ffd1eb55b8ada4ac6784d](https://github.com/sagemath/sagetrac-mirror/commit/2310c79596838489831ffd1eb55b8ada4ac6784d)



---

archive/issue_comments_584281.json:
```json
{
    "body": "Author: Dima Pasechnik",
    "created_at": "2020-06-01T17:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584281",
    "user": "https://github.com/dimpase"
}
```

Author: Dima Pasechnik



---

archive/issue_comments_584282.json:
```json
{
    "body": "<a id='comment:2'></a>\nYou may get more stuff if you are using scipy 1.4 with that. I patched all the deprecation I could in sage-on-gentoo\nhttps://github.com/cschwan/sage-on-gentoo/blob/master/dev-python/networkx/files/networkx-2.4-scipy-1.4.patch",
    "created_at": "2020-06-01T21:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584282",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'></a>
You may get more stuff if you are using scipy 1.4 with that. I patched all the deprecation I could in sage-on-gentoo
https://github.com/cschwan/sage-on-gentoo/blob/master/dev-python/networkx/files/networkx-2.4-scipy-1.4.patch



---

archive/issue_comments_584283.json:
```json
{
    "body": "<a id='comment:3'></a>\nfor scipy 1.4 (cf #29425 - which is a dependency of this ticket!) I chose to\nsuppress these warnings in a Pythonic way, rather than doing patching already done by upstream (just not yet released)",
    "created_at": "2020-06-02T09:26:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584283",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
for scipy 1.4 (cf #29425 - which is a dependency of this ticket!) I chose to
suppress these warnings in a Pythonic way, rather than doing patching already done by upstream (just not yet released)



---

archive/issue_comments_584284.json:
```json
{
    "body": "<a id='comment:4'></a>\nMinor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.\n\n\nWith this ticket, I get two deprecation warnings in `generic_graph.py` on these two tests:\n\n```\nFile \"src/sage/graphs/generic_graph.py\", line 9786, in sage.graphs.generic_graph.GenericGraph.?\nFailed example:\n    G.pagerank(algorithm=\"Scipy\") # abs tol 1e-9\n\nFile \"src/sage/graphs/generic_graph.py\", line 9793, in sage.graphs.generic_graph.GenericGraph.?\nFailed example:\n    G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n```",
    "created_at": "2020-06-03T23:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584284",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
Minor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.


With this ticket, I get two deprecation warnings in `generic_graph.py` on these two tests:

```
File "src/sage/graphs/generic_graph.py", line 9786, in sage.graphs.generic_graph.GenericGraph.?
Failed example:
    G.pagerank(algorithm="Scipy") # abs tol 1e-9

File "src/sage/graphs/generic_graph.py", line 9793, in sage.graphs.generic_graph.GenericGraph.?
Failed example:
    G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
```



---

archive/issue_comments_584285.json:
```json
{
    "body": "<a id='comment:5'></a>\nCould you post deprecation warnings you get? Cause I thought these were fixed on #29425",
    "created_at": "2020-06-04T00:23:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584285",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
Could you post deprecation warnings you get? Cause I thought these were fixed on #29425



---

archive/issue_comments_584286.json:
```json
{
    "body": "<a id='comment:6'></a>\nBoth of them are like this:\n\n```\n    doctest:warning\n      File \"/home/uqtscrim/sage-build/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.?[8]>\", line 1, in <module>\n        G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 9877, in pagerank\n        dangling=dangling)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py\", line 432, in pagerank_scipy\n        S = scipy.array(M.sum(axis=1)).flatten()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py\", line 19, in call\n        stacklevel=stacklevel)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: scipy.array is deprecated and will be removed in SciPy 2.0.0, use numpy.array instead\n    doctest:warning\n      File \"/home/uqtscrim/sage-build/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.?[8]>\", line 1, in <module>\n        G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 9877, in pagerank\n        dangling=dangling)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py\", line 439, in pagerank_scipy\n        x = scipy.repeat(1.0 / N, N)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py\", line 19, in call\n        stacklevel=stacklevel)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: scipy.repeat is deprecated and will be removed in SciPy 2.0.0, use numpy.repeat instead\n    doctest:warning\n      File \"/home/uqtscrim/sage-build/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.?[8]>\", line 1, in <module>\n        G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 9877, in pagerank\n        dangling=dangling)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py\", line 446, in pagerank_scipy\n        p = scipy.repeat(1.0 / N, N)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py\", line 19, in call\n        stacklevel=stacklevel)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: scipy.repeat is deprecated and will be removed in SciPy 2.0.0, use numpy.repeat instead\n    doctest:warning\n      File \"/home/uqtscrim/sage-build/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.?[8]>\", line 1, in <module>\n        G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 9877, in pagerank\n        dangling=dangling)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py\", line 459, in pagerank_scipy\n        is_dangling = scipy.where(S == 0)[0]\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py\", line 19, in call\n        stacklevel=stacklevel)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: scipy.where is deprecated and will be removed in SciPy 2.0.0, use numpy.where instead\n    doctest:warning\n      File \"/home/uqtscrim/sage-build/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.?[8]>\", line 1, in <module>\n        G.pagerank(algorithm=\"Scipy\", by_weight=True) # abs tol 1e-9\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 9877, in pagerank\n        dangling=dangling)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py\", line 467, in pagerank_scipy\n        err = scipy.absolute(x - xlast).sum()\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py\", line 19, in call\n        stacklevel=stacklevel)\n      File \"/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: scipy.absolute is deprecated and will be removed in SciPy 2.0.0, use numpy.absolute instead\n```",
    "created_at": "2020-06-04T00:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584286",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Both of them are like this:

```
    doctest:warning
      File "/home/uqtscrim/sage-build/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.?[8]>", line 1, in <module>
        G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 9877, in pagerank
        dangling=dangling)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py", line 432, in pagerank_scipy
        S = scipy.array(M.sum(axis=1)).flatten()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py", line 19, in call
        stacklevel=stacklevel)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: scipy.array is deprecated and will be removed in SciPy 2.0.0, use numpy.array instead
    doctest:warning
      File "/home/uqtscrim/sage-build/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.?[8]>", line 1, in <module>
        G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 9877, in pagerank
        dangling=dangling)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py", line 439, in pagerank_scipy
        x = scipy.repeat(1.0 / N, N)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py", line 19, in call
        stacklevel=stacklevel)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: scipy.repeat is deprecated and will be removed in SciPy 2.0.0, use numpy.repeat instead
    doctest:warning
      File "/home/uqtscrim/sage-build/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.?[8]>", line 1, in <module>
        G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 9877, in pagerank
        dangling=dangling)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py", line 446, in pagerank_scipy
        p = scipy.repeat(1.0 / N, N)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py", line 19, in call
        stacklevel=stacklevel)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: scipy.repeat is deprecated and will be removed in SciPy 2.0.0, use numpy.repeat instead
    doctest:warning
      File "/home/uqtscrim/sage-build/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.?[8]>", line 1, in <module>
        G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 9877, in pagerank
        dangling=dangling)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py", line 459, in pagerank_scipy
        is_dangling = scipy.where(S == 0)[0]
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py", line 19, in call
        stacklevel=stacklevel)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: scipy.where is deprecated and will be removed in SciPy 2.0.0, use numpy.where instead
    doctest:warning
      File "/home/uqtscrim/sage-build/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.?[8]>", line 1, in <module>
        G.pagerank(algorithm="Scipy", by_weight=True) # abs tol 1e-9
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 9877, in pagerank
        dangling=dangling)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/networkx/algorithms/link_analysis/pagerank_alg.py", line 467, in pagerank_scipy
        err = scipy.absolute(x - xlast).sum()
      File "/home/uqtscrim/sage-build/local/lib/python3.7/site-packages/scipy/_lib/deprecation.py", line 19, in call
        stacklevel=stacklevel)
      File "/home/uqtscrim/sage-build/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: scipy.absolute is deprecated and will be removed in SciPy 2.0.0, use numpy.absolute instead
```



---

archive/issue_comments_584287.json:
```json
{
    "body": "<a id='comment:7'></a>\nWhen I run the file as a standalone, I get\n\n```\nFile \"src/sage/graphs/generic_graph.py\", line 4762, in sage.graphs.generic_graph.GenericGraph.minimum_cycle_basis\nFailed example:\n    sorted(g.minimum_cycle_basis(by_weight=True, algorithm='NetworkX'))\nExpected:\n    [[1, 2, 3], [1, 2, 3, 4], [5, 6, 7]]\nGot:\n    doctest:warning\n      File \"/home/uqtscrim/sage/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1226, in run\n        self.run_doctests()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 927, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2011, in dispatch\n        self.parallel_dispatch()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1906, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in start\n        super(DocTestWorker, self).start()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2150, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2478, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2527, in _run\n        result = runner.run(test)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 878, in run\n        return self._run(test, compileflags, out)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generic_graph.GenericGraph.minimum_cycle_basis[3]>\", line 1, in <module>\n        sorted(g.minimum_cycle_basis(by_weight=True, algorithm='NetworkX'))\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 4805, in minimum_cycle_basis\n        return networkx.minimum_cycle_basis(G, weight='weight')\n      File \"</home/uqtscrim/sage/local/lib/python3.7/site-packages/decorator.py:decorator-gen-354>\", line 2, in minimum_cycle_basis\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/utils/decorators.py\", line 82, in _not_implemented_for\n        return not_implement_for_func(*args, **kwargs)\n      File \"</home/uqtscrim/sage/local/lib/python3.7/site-packages/decorator.py:decorator-gen-353>\", line 2, in minimum_cycle_basis\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/utils/decorators.py\", line 82, in _not_implemented_for\n        return not_implement_for_func(*args, **kwargs)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/cycles.py\", line 525, in minimum_cycle_basis\n        nx.connected_component_subgraphs(G)), [])\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/cycles.py\", line 524, in <genexpr>\n        return sum((_min_cycle_basis(c, weight) for c in\n      File \"/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/components/connected.py\", line 86, in connected_component_subgraphs\n        _warnings.warn(msg, DeprecationWarning)\n      File \"/home/uqtscrim/sage/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    DeprecationWarning: connected_component_subgraphs is deprecated and will be removedin 2.2. Use (G.subgraph(c).copy() for c in connected_components(G))\n    [[1, 2, 3], [1, 2, 3, 4], [5, 6, 7]]\n```",
    "created_at": "2020-06-04T00:26:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584287",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
When I run the file as a standalone, I get

```
File "src/sage/graphs/generic_graph.py", line 4762, in sage.graphs.generic_graph.GenericGraph.minimum_cycle_basis
Failed example:
    sorted(g.minimum_cycle_basis(by_weight=True, algorithm='NetworkX'))
Expected:
    [[1, 2, 3], [1, 2, 3, 4], [5, 6, 7]]
Got:
    doctest:warning
      File "/home/uqtscrim/sage/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1226, in run
        self.run_doctests()
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 927, in run_doctests
        self.dispatcher.dispatch()
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2011, in dispatch
        self.parallel_dispatch()
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1906, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in start
        super(DocTestWorker, self).start()
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/uqtscrim/sage/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2150, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2478, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2527, in _run
        result = runner.run(test)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 878, in run
        return self._run(test, compileflags, out)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generic_graph.GenericGraph.minimum_cycle_basis[3]>", line 1, in <module>
        sorted(g.minimum_cycle_basis(by_weight=True, algorithm='NetworkX'))
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 4805, in minimum_cycle_basis
        return networkx.minimum_cycle_basis(G, weight='weight')
      File "</home/uqtscrim/sage/local/lib/python3.7/site-packages/decorator.py:decorator-gen-354>", line 2, in minimum_cycle_basis
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/utils/decorators.py", line 82, in _not_implemented_for
        return not_implement_for_func(*args, **kwargs)
      File "</home/uqtscrim/sage/local/lib/python3.7/site-packages/decorator.py:decorator-gen-353>", line 2, in minimum_cycle_basis
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/utils/decorators.py", line 82, in _not_implemented_for
        return not_implement_for_func(*args, **kwargs)
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/cycles.py", line 525, in minimum_cycle_basis
        nx.connected_component_subgraphs(G)), [])
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/cycles.py", line 524, in <genexpr>
        return sum((_min_cycle_basis(c, weight) for c in
      File "/home/uqtscrim/sage/local/lib/python3.7/site-packages/networkx/algorithms/components/connected.py", line 86, in connected_component_subgraphs
        _warnings.warn(msg, DeprecationWarning)
      File "/home/uqtscrim/sage/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    DeprecationWarning: connected_component_subgraphs is deprecated and will be removedin 2.2. Use (G.subgraph(c).copy() for c in connected_components(G))
    [[1, 2, 3], [1, 2, 3, 4], [5, 6, 7]]
```



---

archive/issue_comments_584288.json:
```json
{
    "body": "<a id='comment:8'></a>\nYou shouldn't have this warning with networkx 2.4. It implies you are still using 2.2.",
    "created_at": "2020-06-04T00:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584288",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>
You shouldn't have this warning with networkx 2.4. It implies you are still using 2.2.



---

archive/issue_comments_584289.json:
```json
{
    "body": "<a id='comment:9'></a>\nI didn't fully merge #29425 into this branch. I can do it (must I?), or leave it to the release manager.\n\nas to the url - I guess it's something to do with [GitHub](GitHub) naming of archives.",
    "created_at": "2020-06-04T00:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584289",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
I didn't fully merge #29425 into this branch. I can do it (must I?), or leave it to the release manager.

as to the url - I guess it's something to do with [GitHub](GitHub) naming of archives.



---

archive/issue_comments_584290.json:
```json
{
    "body": "<a id='comment:10'></a>\n`@`fbissey I am using 2.4 as far as Sage knows:\n\n```\n./sage --installed\n...\nnetworkx................................2.4 (2.4)\n```\n\n`@`dimpase I didn't realize the entire branch of #29425 had not been merged in. It looked like it had from a quick glance. Once I did that then indeed I do not get the deprecation warnings.",
    "created_at": "2020-06-04T00:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584290",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
`@`fbissey I am using 2.4 as far as Sage knows:

```
./sage --installed
...
networkx................................2.4 (2.4)
```

`@`dimpase I didn't realize the entire branch of #29425 had not been merged in. It looked like it had from a quick glance. Once I did that then indeed I do not get the deprecation warnings.



---

archive/issue_comments_584291.json:
```json
{
    "body": "<a id='comment:11'></a>\nSince the doctests do pass for me with #29425 (and you don't need to merge it in any further I think), positive review.",
    "created_at": "2020-06-04T00:42:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584291",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
Since the doctests do pass for me with #29425 (and you don't need to merge it in any further I think), positive review.



---

archive/issue_comments_584292.json:
```json
{
    "body": "Reviewer: Travis Scrimshaw",
    "created_at": "2020-06-04T00:42:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584292",
    "user": "https://github.com/tscrim"
}
```

Reviewer: Travis Scrimshaw



---

archive/issue_comments_584293.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-04T00:42:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584293",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_584294.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [tscrim](#comment%3A4):\n> Minor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.\n\n\nI don't quite understand what \"pulling it from that link\" means. The idea of \n`upstream_url` in `checksum.ini` is to allow automatic download of the package archive from that URL. (which can either be enabled with `-o`, as follows, `./sage -i -o networkx` of if one runs `./configure` with `--enable-download-from-upstream-url` option).\n\nAnd this automation works for me on Linux. The ULR is copied verbatim from https://github.com/networkx/networkx/releases/tag/networkx-2.4",
    "created_at": "2020-06-04T14:41:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584294",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
Replying to [tscrim](#comment%3A4):
> Minor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.


I don't quite understand what "pulling it from that link" means. The idea of 
`upstream_url` in `checksum.ini` is to allow automatic download of the package archive from that URL. (which can either be enabled with `-o`, as follows, `./sage -i -o networkx` of if one runs `./configure` with `--enable-download-from-upstream-url` option).

And this automation works for me on Linux. The ULR is copied verbatim from https://github.com/networkx/networkx/releases/tag/networkx-2.4



---

archive/issue_comments_584295.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [dimpase](#comment%3A12):\n> Replying to [tscrim](#comment%3A4):\n> > Minor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.\n\n> \n> I don't quite understand what \"pulling it from that link\" means. The idea of \n> `upstream_url` in `checksum.ini` is to allow automatic download of the package archive from that URL. (which can either be enabled with `-o`, as follows, `./sage -i -o networkx` of if one runs `./configure` with `--enable-download-from-upstream-url` option).\n> \n> And this automation works for me on Linux. The ULR is copied verbatim from https://github.com/networkx/networkx/releases/tag/networkx-2.4\n\n\nOkay, I tried with just `make` instead of directly with `sage -i` (which worked by itself when I did this on another spkg previously), so maybe that is why it didn't work. I was just thinking it came from the zip file having an unexpected name.",
    "created_at": "2020-06-05T00:38:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584295",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
Replying to [dimpase](#comment%3A12):
> Replying to [tscrim](#comment%3A4):
> > Minor (perhaps trivial) point, but pulling it from that link gave a zip file named `networkx-networkx-2.4.zip`, which caused it to fail without manually downloading and naming the tarball correctly.

> 
> I don't quite understand what "pulling it from that link" means. The idea of 
> `upstream_url` in `checksum.ini` is to allow automatic download of the package archive from that URL. (which can either be enabled with `-o`, as follows, `./sage -i -o networkx` of if one runs `./configure` with `--enable-download-from-upstream-url` option).
> 
> And this automation works for me on Linux. The ULR is copied verbatim from https://github.com/networkx/networkx/releases/tag/networkx-2.4


Okay, I tried with just `make` instead of directly with `sage -i` (which worked by itself when I did this on another spkg previously), so maybe that is why it didn't work. I was just thinking it came from the zip file having an unexpected name.



---

archive/issue_comments_584296.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n one deprecation warning is removed here, other suppressed on ##29425, \n the rest it trivial.\n \n-tarball: https://github.com/networkx/networkx/archive/networkx-2.4.zip\n+tarball: see checksums.ini [upstream_url]\n``````\n",
    "created_at": "2020-06-05T02:08:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584296",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 one deprecation warning is removed here, other suppressed on ##29425, 
 the rest it trivial.
 
-tarball: https://github.com/networkx/networkx/archive/networkx-2.4.zip
+tarball: see checksums.ini [upstream_url]
``````




---

archive/issue_comments_584297.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-06-06T04:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584297",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_584298.json:
```json
{
    "body": "<a id='comment:15'></a>\nFrom #29425: running the testsuite of networkx requires pytest.",
    "created_at": "2020-06-06T04:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584298",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
From #29425: running the testsuite of networkx requires pytest.



---

archive/issue_comments_584299.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [mkoeppe](#comment%3A15):\n> From #29425: running the testsuite of networkx requires pytest.\n\n\nI'll add pytest in #29813.",
    "created_at": "2020-06-06T04:55:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584299",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Replying to [mkoeppe](#comment%3A15):
> From #29425: running the testsuite of networkx requires pytest.


I'll add pytest in #29813.



---

archive/issue_comments_584300.json:
```json
{
    "body": "Changing dependencies from \"#29425\" to \"#29425, #29813\"",
    "created_at": "2020-06-06T05:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584300",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29425" to "#29425, #29813"



---

archive/issue_comments_584301.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-one deprecation warning is removed here, other suppressed on ##29425, \n+one deprecation warning is removed here, other suppressed on #29425, \n the rest it trivial.\n \n tarball: see checksums.ini [upstream_url]\n``````\n",
    "created_at": "2020-06-06T05:11:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584301",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-one deprecation warning is removed here, other suppressed on ##29425, 
+one deprecation warning is removed here, other suppressed on #29425, 
 the rest it trivial.
 
 tarball: see checksums.ini [upstream_url]
``````




---

archive/issue_comments_584302.json:
```json
{
    "body": "Changing branch from \"[u/dimpase/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx24)\" to \"[u/mkoeppe/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/networkx24)\"",
    "created_at": "2020-06-06T05:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584302",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "[u/dimpase/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx24)" to "[u/mkoeppe/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/networkx24)"



---

archive/issue_comments_584303.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[9a3617d](https://github.com/sagemath/sagetrac-mirror/commit/9a3617dc36f7808981de972dcb08b1612eaaa85f)|`build/pkgs/cython: Update to 0.29.16`|\n|[4a606b6](https://github.com/sagemath/sagetrac-mirror/commit/4a606b61bef5de1276d97e2e6e1b73b1c65a33de)|`build/pkgs/cython/checksums.ini: Use predictable URL for upstream_url pattern`|\n|[e9a7cb0](https://github.com/sagemath/sagetrac-mirror/commit/e9a7cb085a705dae2113e5ea8c876d54adcf4e99)|`Update Cython to 0.29.17`|\n|[15911cb](https://github.com/sagemath/sagetrac-mirror/commit/15911cb9ac22f66fe1786e98ef06d9664c04a3e4)|`build/pkgs/numpy: Update numpy to 1.18.2, back out numpy-1.10.2-no-hardcode-blas.patch (does not apply)`|\n|[96e7a41](https://github.com/sagemath/sagetrac-mirror/commit/96e7a41f2079c580acab899c4dabfd9b9552ab38)|`Update numpy to 1.18.4`|\n|[78b4907](https://github.com/sagemath/sagetrac-mirror/commit/78b49077cc924e5657fc70a86425682de58999e6)|`Update scipy to 1.4.1`|\n|[54595b0](https://github.com/sagemath/sagetrac-mirror/commit/54595b0db66d0ad14f96273b12190fb241429612)|`build/pkgs/pybind11: New, dependency of scipy`|\n|[c005562](https://github.com/sagemath/sagetrac-mirror/commit/c005562fed79e91883fa808237f5d52ceb024fd3)|`suppress scipy deprecation warnings`|\n|[56a6fe1](https://github.com/sagemath/sagetrac-mirror/commit/56a6fe17708622cf6066629e7a5eeb2baead5508)|`build/pkgs/numpy: Update to 1.18.5`|\n|[e592bdc](https://github.com/sagemath/sagetrac-mirror/commit/e592bdc05120fdb91069cfc61c3ce2f82d45ace2)|`Merge branch 't/29425/trac/local_conda_forge_macos_standard__build_error_with_numpy' into t/29766/packages/networkx24`|",
    "created_at": "2020-06-06T05:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584303",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[9a3617d](https://github.com/sagemath/sagetrac-mirror/commit/9a3617dc36f7808981de972dcb08b1612eaaa85f)|`build/pkgs/cython: Update to 0.29.16`|
|[4a606b6](https://github.com/sagemath/sagetrac-mirror/commit/4a606b61bef5de1276d97e2e6e1b73b1c65a33de)|`build/pkgs/cython/checksums.ini: Use predictable URL for upstream_url pattern`|
|[e9a7cb0](https://github.com/sagemath/sagetrac-mirror/commit/e9a7cb085a705dae2113e5ea8c876d54adcf4e99)|`Update Cython to 0.29.17`|
|[15911cb](https://github.com/sagemath/sagetrac-mirror/commit/15911cb9ac22f66fe1786e98ef06d9664c04a3e4)|`build/pkgs/numpy: Update numpy to 1.18.2, back out numpy-1.10.2-no-hardcode-blas.patch (does not apply)`|
|[96e7a41](https://github.com/sagemath/sagetrac-mirror/commit/96e7a41f2079c580acab899c4dabfd9b9552ab38)|`Update numpy to 1.18.4`|
|[78b4907](https://github.com/sagemath/sagetrac-mirror/commit/78b49077cc924e5657fc70a86425682de58999e6)|`Update scipy to 1.4.1`|
|[54595b0](https://github.com/sagemath/sagetrac-mirror/commit/54595b0db66d0ad14f96273b12190fb241429612)|`build/pkgs/pybind11: New, dependency of scipy`|
|[c005562](https://github.com/sagemath/sagetrac-mirror/commit/c005562fed79e91883fa808237f5d52ceb024fd3)|`suppress scipy deprecation warnings`|
|[56a6fe1](https://github.com/sagemath/sagetrac-mirror/commit/56a6fe17708622cf6066629e7a5eeb2baead5508)|`build/pkgs/numpy: Update to 1.18.5`|
|[e592bdc](https://github.com/sagemath/sagetrac-mirror/commit/e592bdc05120fdb91069cfc61c3ce2f82d45ace2)|`Merge branch 't/29425/trac/local_conda_forge_macos_standard__build_error_with_numpy' into t/29766/packages/networkx24`|



---

archive/issue_comments_584304.json:
```json
{
    "body": "Changing commit from \"[2310c79596838489831ffd1eb55b8ada4ac6784d](https://github.com/sagemath/sagetrac-mirror/commit/2310c79596838489831ffd1eb55b8ada4ac6784d)\" to \"[e592bdc05120fdb91069cfc61c3ce2f82d45ace2](https://github.com/sagemath/sagetrac-mirror/commit/e592bdc05120fdb91069cfc61c3ce2f82d45ace2)\"",
    "created_at": "2020-06-06T05:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584304",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[2310c79596838489831ffd1eb55b8ada4ac6784d](https://github.com/sagemath/sagetrac-mirror/commit/2310c79596838489831ffd1eb55b8ada4ac6784d)" to "[e592bdc05120fdb91069cfc61c3ce2f82d45ace2](https://github.com/sagemath/sagetrac-mirror/commit/e592bdc05120fdb91069cfc61c3ce2f82d45ace2)"



---

archive/issue_comments_584305.json:
```json
{
    "body": "<a id='comment:20'></a>\nMerged in updated #29425 and #29813.",
    "created_at": "2020-06-06T05:31:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584305",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Merged in updated #29425 and #29813.



---

archive/issue_comments_584306.json:
```json
{
    "body": "<a id='comment:21'></a>\nTests at https://github.com/mkoeppe/sage/pull/38/checks",
    "created_at": "2020-06-06T05:34:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584306",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Tests at https://github.com/mkoeppe/sage/pull/38/checks



---

archive/issue_comments_584307.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-06T05:38:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584307",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_584308.json:
```json
{
    "body": "Changing author from \"Dima Pasechnik\" to \"Dima Pasechnik, Matthias Koeppe\"",
    "created_at": "2020-06-06T05:43:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584308",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Dima Pasechnik" to "Dima Pasechnik, Matthias Koeppe"



---

archive/issue_comments_584309.json:
```json
{
    "body": "<a id='comment:24'></a>\n#29813 needs to be fixed.",
    "created_at": "2020-06-06T21:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584309",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
#29813 needs to be fixed.



---

archive/issue_comments_584310.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-06-06T21:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584310",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_584311.json:
```json
{
    "body": "Changing dependencies from \"#29425, #29813\" to \"#29480, #29813\"",
    "created_at": "2020-06-07T03:02:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584311",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29425, #29813" to "#29480, #29813"



---

archive/issue_events_085958.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "rename": {
        "from": "update networkx to 2.4",
        "to": "Upgrade NumPy to 1.18.5, scipy to 1.4.1, networkx to 2.4, add pybind11 package"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29766#event-85958"
}
```



---

archive/issue_comments_584312.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n-one deprecation warning is removed here, other suppressed on #29425, \n+Follow-up from the update of numpy to 1.16.6 (#29429):\n+\n+We update\n+* NumPy to the latest release, 1.18.5\n+* scipy to the latest release, 1.4.1.\n+* networkx to the latest release, 2.4.\n+(latest as of 2020-06-05; all versions (and also the upcoming numpy 1.19) support python >= 3.6)\n+\n+one deprecation warning is removed here, another suppressed (from #29425), \n the rest it trivial.\n \n-tarball: see checksums.ini [upstream_url]\n+tarballs: see checksums.ini [upstream_url]\n``````\n",
    "created_at": "2020-06-07T03:02:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584312",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,12 @@
-one deprecation warning is removed here, other suppressed on #29425, 
+Follow-up from the update of numpy to 1.16.6 (#29429):
+
+We update
+* NumPy to the latest release, 1.18.5
+* scipy to the latest release, 1.4.1.
+* networkx to the latest release, 2.4.
+(latest as of 2020-06-05; all versions (and also the upcoming numpy 1.19) support python >= 3.6)
+
+one deprecation warning is removed here, another suppressed (from #29425), 
 the rest it trivial.
 
-tarball: see checksums.ini [upstream_url]
+tarballs: see checksums.ini [upstream_url]
``````




---

archive/issue_comments_584313.json:
```json
{
    "body": "Changing reviewer from \"Travis Scrimshaw\" to \"Travis Scrimshaw, Isuru Fernando, Dima Pasechnik\"",
    "created_at": "2020-06-07T03:02:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584313",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "Travis Scrimshaw" to "Travis Scrimshaw, Isuru Fernando, Dima Pasechnik"



---

archive/issue_comments_584314.json:
```json
{
    "body": "<a id='comment:26'></a>\nMerged ticket #29425 into this ticket because #29245 could not be separately tested because of networkx 2.2 testsuite errors triggered by updates.",
    "created_at": "2020-06-07T03:04:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584314",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
Merged ticket #29425 into this ticket because #29245 could not be separately tested because of networkx 2.2 testsuite errors triggered by updates.



---

archive/issue_comments_584315.json:
```json
{
    "body": "Changing commit from \"[e592bdc05120fdb91069cfc61c3ce2f82d45ace2](https://github.com/sagemath/sagetrac-mirror/commit/e592bdc05120fdb91069cfc61c3ce2f82d45ace2)\" to \"[11bf67f601c626d62aa8896a3a20342e7b2d4318](https://github.com/sagemath/sagetrac-mirror/commit/11bf67f601c626d62aa8896a3a20342e7b2d4318)\"",
    "created_at": "2020-06-07T06:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584315",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[e592bdc05120fdb91069cfc61c3ce2f82d45ace2](https://github.com/sagemath/sagetrac-mirror/commit/e592bdc05120fdb91069cfc61c3ce2f82d45ace2)" to "[11bf67f601c626d62aa8896a3a20342e7b2d4318](https://github.com/sagemath/sagetrac-mirror/commit/11bf67f601c626d62aa8896a3a20342e7b2d4318)"



---

archive/issue_comments_584316.json:
```json
{
    "body": "<a id='comment:27'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|\n|[bedc7ae](https://github.com/sagemath/sagetrac-mirror/commit/bedc7ae9cd5a134df1aa2a07170724bba18ee02f)|`build/make/Makefile.in: Allow pip packages as dependencies`|\n|[11bf67f](https://github.com/sagemath/sagetrac-mirror/commit/11bf67f601c626d62aa8896a3a20342e7b2d4318)|`Merge branch 't/29813/add_pytest_as_a_type_optional__source_pip_package' into t/29766/packages/networkx24`|",
    "created_at": "2020-06-07T06:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
|[bedc7ae](https://github.com/sagemath/sagetrac-mirror/commit/bedc7ae9cd5a134df1aa2a07170724bba18ee02f)|`build/make/Makefile.in: Allow pip packages as dependencies`|
|[11bf67f](https://github.com/sagemath/sagetrac-mirror/commit/11bf67f601c626d62aa8896a3a20342e7b2d4318)|`Merge branch 't/29813/add_pytest_as_a_type_optional__source_pip_package' into t/29766/packages/networkx24`|



---

archive/issue_comments_584317.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-07T06:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584317",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_584318.json:
```json
{
    "body": "<a id='comment:29'></a>\nTests at https://github.com/mkoeppe/sage/actions/runs/128112212:\n\nOn `ubuntu-eoan-standard` (https://github.com/mkoeppe/sage/runs/748390625), LOTS of failures in the networkx testsuite:\n\n```\nRan 3618 tests in 386.630s\n\nFAILED (errors=808)\n```\nIs this expected?",
    "created_at": "2020-06-08T06:05:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584318",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Tests at https://github.com/mkoeppe/sage/actions/runs/128112212:

On `ubuntu-eoan-standard` (https://github.com/mkoeppe/sage/runs/748390625), LOTS of failures in the networkx testsuite:

```
Ran 3618 tests in 386.630s

FAILED (errors=808)
```
Is this expected?



---

archive/issue_comments_584319.json:
```json
{
    "body": "<a id='comment:30'></a>\nFailure on cygwin-standard (https://github.com/mkoeppe/sage/runs/748608397):\n\n```\n  g++: scipy/optimize/rectangular_lsap/rectangular_lsap.cpp\n  scipy/optimize/rectangular_lsap/rectangular_lsap.cpp:117:43: error: \u2018int64_t\u2019 has not been declared\n    117 | solve(int nr, int nc, double* input_cost, int64_t* output_col4row)\n        |                                           ^~~~~~~\n  scipy/optimize/rectangular_lsap/rectangular_lsap.cpp:186:41: error: \u2018int64_t\u2019 has not been declared\n    186 |                                         int64_t* col4row)\n        |                                         ^~~~~~~\n```",
    "created_at": "2020-06-08T14:47:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584319",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
Failure on cygwin-standard (https://github.com/mkoeppe/sage/runs/748608397):

```
  g++: scipy/optimize/rectangular_lsap/rectangular_lsap.cpp
  scipy/optimize/rectangular_lsap/rectangular_lsap.cpp:117:43: error: int64_t has not been declared
    117 | solve(int nr, int nc, double* input_cost, int64_t* output_col4row)
        |                                           ^~~~~~~
  scipy/optimize/rectangular_lsap/rectangular_lsap.cpp:186:41: error: int64_t has not been declared
    186 |                                         int64_t* col4row)
        |                                         ^~~~~~~
```



---

archive/issue_comments_584320.json:
```json
{
    "body": "<a id='comment:31'></a>\nThe `int64_t` issue is fixed in https://github.com/scipy/scipy/pull/11320\nfor the upcoming 1.5.0, marked \"backport-candidate\", but so far no 1.4.x with the fix has been released...",
    "created_at": "2020-06-08T23:52:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584320",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>
The `int64_t` issue is fixed in https://github.com/scipy/scipy/pull/11320
for the upcoming 1.5.0, marked "backport-candidate", but so far no 1.4.x with the fix has been released...



---

archive/issue_comments_584321.json:
```json
{
    "body": "Changing commit from \"[11bf67f601c626d62aa8896a3a20342e7b2d4318](https://github.com/sagemath/sagetrac-mirror/commit/11bf67f601c626d62aa8896a3a20342e7b2d4318)\" to \"[db0fa417db01ade8efb1b7c616ec53c7269d94d8](https://github.com/sagemath/sagetrac-mirror/commit/db0fa417db01ade8efb1b7c616ec53c7269d94d8)\"",
    "created_at": "2020-06-09T00:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584321",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[11bf67f601c626d62aa8896a3a20342e7b2d4318](https://github.com/sagemath/sagetrac-mirror/commit/11bf67f601c626d62aa8896a3a20342e7b2d4318)" to "[db0fa417db01ade8efb1b7c616ec53c7269d94d8](https://github.com/sagemath/sagetrac-mirror/commit/db0fa417db01ade8efb1b7c616ec53c7269d94d8)"



---

archive/issue_comments_584322.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[db0fa41](https://github.com/sagemath/sagetrac-mirror/commit/db0fa417db01ade8efb1b7c616ec53c7269d94d8)|`build/pkgs/scipy: Add patch for scipy pr 11320`|",
    "created_at": "2020-06-09T00:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584322",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[db0fa41](https://github.com/sagemath/sagetrac-mirror/commit/db0fa417db01ade8efb1b7c616ec53c7269d94d8)|`build/pkgs/scipy: Add patch for scipy pr 11320`|



---

archive/issue_comments_584323.json:
```json
{
    "body": "<a id='comment:35'></a>\nEverything builds and works for me on Ubuntu.",
    "created_at": "2020-06-10T23:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584323",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:35'></a>
Everything builds and works for me on Ubuntu.



---

archive/issue_comments_584324.json:
```json
{
    "body": "<a id='comment:36'></a>\nlgtm",
    "created_at": "2020-06-12T06:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584324",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>
lgtm



---

archive/issue_comments_584325.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-12T06:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584325",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_584326.json:
```json
{
    "body": "<a id='comment:37'></a>\nComment 29 is unresolved",
    "created_at": "2020-06-12T18:59:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584326",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>
Comment 29 is unresolved



---

archive/issue_comments_584327.json:
```json
{
    "body": "<a id='comment:38'></a>\na package fails its own testsuite. it's not the 1st one (happens on Gentoo as well)",
    "created_at": "2020-06-12T20:32:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584327",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>
a package fails its own testsuite. it's not the 1st one (happens on Gentoo as well)



---

archive/issue_comments_584328.json:
```json
{
    "body": "<a id='comment:39'></a>\nOK, good to know. No objection then",
    "created_at": "2020-06-12T20:39:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584328",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
OK, good to know. No objection then



---

archive/issue_comments_584329.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,9 +4,9 @@\n * NumPy to the latest release, 1.18.5\n * scipy to the latest release, 1.4.1.\n * networkx to the latest release, 2.4.\n-(latest as of 2020-06-05; all versions (and also the upcoming numpy 1.19) support python >= 3.6)\n+(latest as of 2020-06-05; all versions (and also the upcoming numpy 1.19) support Python >= 3.6)\n \n-one deprecation warning is removed here, another suppressed (from #29425), \n+One deprecation warning is removed here, another suppressed (from #29425), \n the rest it trivial.\n \n-tarballs: see checksums.ini [upstream_url]\n+Tarballs: see checksums.ini [upstream_url]\n``````\n",
    "created_at": "2020-06-22T15:02:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584329",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,9 +4,9 @@
 * NumPy to the latest release, 1.18.5
 * scipy to the latest release, 1.4.1.
 * networkx to the latest release, 2.4.
-(latest as of 2020-06-05; all versions (and also the upcoming numpy 1.19) support python >= 3.6)
+(latest as of 2020-06-05; all versions (and also the upcoming numpy 1.19) support Python >= 3.6)
 
-one deprecation warning is removed here, another suppressed (from #29425), 
+One deprecation warning is removed here, another suppressed (from #29425), 
 the rest it trivial.
 
-tarballs: see checksums.ini [upstream_url]
+Tarballs: see checksums.ini [upstream_url]
``````




---

archive/issue_comments_584330.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-06-28T00:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584330",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_584331.json:
```json
{
    "body": "<a id='comment:41'></a>\nLots of failures of the form\n\n```\n**********************************************************************\nFile \"src/sage/modular/modform_hecketriangle/abstract_space.py\", line 2235, in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ\nFailed example:\n    qexp_int = WF.rationalize_series(qexp)\nExpected nothing\nGot:\n    doctest:warning\n      File \"/home/release/Sage/src/bin/sage-runtests\", line 178, in <module>\n        err = DC.run()\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1231, in run\n        self.run_doctests()\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 931, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2045, in dispatch\n        self.parallel_dispatch()\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1940, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2212, in start\n        super(DocTestWorker, self).start()\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/home/release/Sage/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2184, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2513, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2562, in _run\n        result = runner.run(test)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 912, in run\n        return self._run(test, compileflags, out)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 707, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1138, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ[4]>\", line 1, in <module>\n        qexp_int = WF.rationalize_series(qexp)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/modular/modform_hecketriangle/abstract_space.py\", line 2309, in rationalize_series\n        warn(\"Using an experimental rationalization of coefficients, please check the result for correctness!\")\n      File \"/home/release/Sage/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    UserWarning: Using an experimental rationalization of coefficients, please check the result for correctness!\n**********************************************************************\n2 items had failures:\n   1 of  29 in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ\n   1 of  41 in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.construct_quasi_form\n    [566 tests, 2 failures, 7.37 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 37.2 src/sage/modular/modform_hecketriangle/abstract_space.py  # 2 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2020-06-28T00:15:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584331",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:41'></a>
Lots of failures of the form

```
**********************************************************************
File "src/sage/modular/modform_hecketriangle/abstract_space.py", line 2235, in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ
Failed example:
    qexp_int = WF.rationalize_series(qexp)
Expected nothing
Got:
    doctest:warning
      File "/home/release/Sage/src/bin/sage-runtests", line 178, in <module>
        err = DC.run()
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1231, in run
        self.run_doctests()
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 931, in run_doctests
        self.dispatcher.dispatch()
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2045, in dispatch
        self.parallel_dispatch()
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1940, in parallel_dispatch
        w.start()  # This might take some time
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2212, in start
        super(DocTestWorker, self).start()
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/home/release/Sage/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2184, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2513, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2562, in _run
        result = runner.run(test)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 912, in run
        return self._run(test, compileflags, out)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 707, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1138, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ[4]>", line 1, in <module>
        qexp_int = WF.rationalize_series(qexp)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/modular/modform_hecketriangle/abstract_space.py", line 2309, in rationalize_series
        warn("Using an experimental rationalization of coefficients, please check the result for correctness!")
      File "/home/release/Sage/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    UserWarning: Using an experimental rationalization of coefficients, please check the result for correctness!
**********************************************************************
2 items had failures:
   1 of  29 in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.ZZ
   1 of  41 in sage.modular.modform_hecketriangle.abstract_space.FormsSpace_abstract.construct_quasi_form
    [566 tests, 2 failures, 7.37 s]
----------------------------------------------------------------------
sage -t --long --warn-long 37.2 src/sage/modular/modform_hecketriangle/abstract_space.py  # 2 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_584332.json:
```json
{
    "body": "<a id='comment:42'></a>\nThis looks strange. I have done a test run of sage 9.2.beta2 with numpy-1.19/scipy-1.5/networkx-2.4 in sage-on-gentoo and I have seen no such things [in fact the number of doctest failures in sage-on-gentoo is at its lowest in years - 3 doctests across 2 files].\n\nI would think another ticket would be the cause of this, although I am at a loss as to which one when inspecting your last commits. Running my own tests on your branch ASAP.",
    "created_at": "2020-06-28T02:38:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584332",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:42'></a>
This looks strange. I have done a test run of sage 9.2.beta2 with numpy-1.19/scipy-1.5/networkx-2.4 in sage-on-gentoo and I have seen no such things [in fact the number of doctest failures in sage-on-gentoo is at its lowest in years - 3 doctests across 2 files].

I would think another ticket would be the cause of this, although I am at a loss as to which one when inspecting your last commits. Running my own tests on your branch ASAP.



---

archive/issue_comments_584333.json:
```json
{
    "body": "<a id='comment:43'></a>\nThis is caused by the\n\n```\nwarnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',)\n```\nline. This is run on every examples block, and resets the registry of already displayed warnings - so warnings which are not affected by a filter, which by default are only displayed the first time they are hit, are shown again.",
    "created_at": "2020-06-28T12:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584333",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:43'></a>
This is caused by the

```
warnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',)
```
line. This is run on every examples block, and resets the registry of already displayed warnings - so warnings which are not affected by a filter, which by default are only displayed the first time they are hit, are shown again.



---

archive/issue_comments_584334.json:
```json
{
    "body": "<a id='comment:44'></a>\noh dear. ok, we can suppress these, too",
    "created_at": "2020-06-28T14:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584334",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:44'></a>
oh dear. ok, we can suppress these, too



---

archive/issue_comments_584335.json:
```json
{
    "body": "<a id='comment:45'></a>\nFrom the SciPy 1.5.1 Release Notes:\n\n> SciPy 1.5.1 is a bug-fix release with no new features\n> compared to 1.5.0. In particular, an issue where DLL loading\n> can fail for SciPy wheels on Windows with Python 3.6 has been\n> fixed.",
    "created_at": "2020-07-05T00:38:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584335",
    "user": "https://github.com/slel"
}
```

<a id='comment:45'></a>
From the SciPy 1.5.1 Release Notes:

> SciPy 1.5.1 is a bug-fix release with no new features
> compared to 1.5.0. In particular, an issue where DLL loading
> can fail for SciPy wheels on Windows with Python 3.6 has been
> fixed.



---

archive/issue_comments_584336.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,10 @@\n Follow-up from the update of numpy to 1.16.6 (#29429):\n \n We update\n-* NumPy to the latest release, 1.18.5\n-* scipy to the latest release, 1.4.1.\n-* networkx to the latest release, 2.4.\n-(latest as of 2020-06-05; all versions (and also the upcoming numpy 1.19) support Python >= 3.6)\n+* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19 as of 2020-07-04)\n+* https://pypi.org/project/scipy/ to 1.4.1 (latest: 1.5.1 as of 2020-07-04)\n+* networkx to the latest release, 2.4 (latest as of 2020-07-04)\n+All of the above versions support Python >= 3.6.\n \n One deprecation warning is removed here, another suppressed (from #29425), \n the rest it trivial.\n``````\n",
    "created_at": "2020-07-05T00:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584336",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,10 @@
 Follow-up from the update of numpy to 1.16.6 (#29429):
 
 We update
-* NumPy to the latest release, 1.18.5
-* scipy to the latest release, 1.4.1.
-* networkx to the latest release, 2.4.
-(latest as of 2020-06-05; all versions (and also the upcoming numpy 1.19) support Python >= 3.6)
+* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19 as of 2020-07-04)
+* https://pypi.org/project/scipy/ to 1.4.1 (latest: 1.5.1 as of 2020-07-04)
+* networkx to the latest release, 2.4 (latest as of 2020-07-04)
+All of the above versions support Python >= 3.6.
 
 One deprecation warning is removed here, another suppressed (from #29425), 
 the rest it trivial.
``````




---

archive/issue_comments_584337.json:
```json
{
    "body": "Changing commit from \"[db0fa417db01ade8efb1b7c616ec53c7269d94d8](https://github.com/sagemath/sagetrac-mirror/commit/db0fa417db01ade8efb1b7c616ec53c7269d94d8)\" to \"[a2e19785a2c670ba165905c78498a841e2b1ded4](https://github.com/sagemath/sagetrac-mirror/commit/a2e19785a2c670ba165905c78498a841e2b1ded4)\"",
    "created_at": "2020-07-05T01:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584337",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[db0fa417db01ade8efb1b7c616ec53c7269d94d8](https://github.com/sagemath/sagetrac-mirror/commit/db0fa417db01ade8efb1b7c616ec53c7269d94d8)" to "[a2e19785a2c670ba165905c78498a841e2b1ded4](https://github.com/sagemath/sagetrac-mirror/commit/a2e19785a2c670ba165905c78498a841e2b1ded4)"



---

archive/issue_comments_584338.json:
```json
{
    "body": "<a id='comment:47'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[2efe841](https://github.com/sagemath/sagetrac-mirror/commit/2efe841f5cd6d384e7900d336825d6aaa63dd0f3)|`Merge tag '9.2.beta3' into t/29766/packages/networkx24`|\n|[634ce73](https://github.com/sagemath/sagetrac-mirror/commit/634ce73323fab29a40e8840a5ed92ecf1eb57df6)|`build/pkgs: Update numpy to 1.19, scipy to 1.5.1`|\n|[a2e1978](https://github.com/sagemath/sagetrac-mirror/commit/a2e19785a2c670ba165905c78498a841e2b1ded4)|`build/pkgs/scipy/patches/pr-11320.patch: Remove`|",
    "created_at": "2020-07-05T01:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584338",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[2efe841](https://github.com/sagemath/sagetrac-mirror/commit/2efe841f5cd6d384e7900d336825d6aaa63dd0f3)|`Merge tag '9.2.beta3' into t/29766/packages/networkx24`|
|[634ce73](https://github.com/sagemath/sagetrac-mirror/commit/634ce73323fab29a40e8840a5ed92ecf1eb57df6)|`build/pkgs: Update numpy to 1.19, scipy to 1.5.1`|
|[a2e1978](https://github.com/sagemath/sagetrac-mirror/commit/a2e19785a2c670ba165905c78498a841e2b1ded4)|`build/pkgs/scipy/patches/pr-11320.patch: Remove`|



---

archive/issue_comments_584339.json:
```json
{
    "body": "<a id='comment:48'></a>\nTests run at https://github.com/mkoeppe/sage/actions/runs/157933479",
    "created_at": "2020-07-05T01:33:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584339",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>
Tests run at https://github.com/mkoeppe/sage/actions/runs/157933479



---

archive/issue_events_085959.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "rename": {
        "from": "Upgrade NumPy to 1.18.5, scipy to 1.4.1, networkx to 2.4, add pybind11 package",
        "to": "Upgrade NumPy to 1.19.0, scipy to 1.5.1, networkx to 2.4, add pybind11 package"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29766#event-85959"
}
```



---

archive/issue_comments_584340.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Follow-up from the update of numpy to 1.16.6 (#29429):\n \n We update\n-* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19 as of 2020-07-04)\n+* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19.0 as of 2020-07-04)\n * https://pypi.org/project/scipy/ to 1.4.1 (latest: 1.5.1 as of 2020-07-04)\n * networkx to the latest release, 2.4 (latest as of 2020-07-04)\n All of the above versions support Python >= 3.6.\n``````\n",
    "created_at": "2020-07-05T01:34:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584340",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Follow-up from the update of numpy to 1.16.6 (#29429):
 
 We update
-* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19 as of 2020-07-04)
+* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19.0 as of 2020-07-04)
 * https://pypi.org/project/scipy/ to 1.4.1 (latest: 1.5.1 as of 2020-07-04)
 * networkx to the latest release, 2.4 (latest as of 2020-07-04)
 All of the above versions support Python >= 3.6.
``````




---

archive/issue_comments_584341.json:
```json
{
    "body": "<a id='comment:50'></a>\nThe `warnings.filterwarnings` issue needs to be addressed",
    "created_at": "2020-07-05T01:44:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584341",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:50'></a>
The `warnings.filterwarnings` issue needs to be addressed



---

archive/issue_comments_584342.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n We update\n * https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19.0 as of 2020-07-04)\n-* https://pypi.org/project/scipy/ to 1.4.1 (latest: 1.5.1 as of 2020-07-04)\n+* https://pypi.org/project/scipy/ to 1.5.1 (latest: 1.5.1 as of 2020-07-04)\n * networkx to the latest release, 2.4 (latest as of 2020-07-04)\n All of the above versions support Python >= 3.6.\n \n``````\n",
    "created_at": "2020-07-05T08:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584342",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 We update
 * https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19.0 as of 2020-07-04)
-* https://pypi.org/project/scipy/ to 1.4.1 (latest: 1.5.1 as of 2020-07-04)
+* https://pypi.org/project/scipy/ to 1.5.1 (latest: 1.5.1 as of 2020-07-04)
 * networkx to the latest release, 2.4 (latest as of 2020-07-04)
 All of the above versions support Python >= 3.6.
 
``````




---

archive/issue_comments_584343.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Follow-up from the update of numpy to 1.16.6 (#29429):\n \n We update\n-* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19.0 as of 2020-07-04)\n+* https://pypi.org/project/numpy/ to 1.19.0 (latest: 1.19.0 as of 2020-07-04)\n * https://pypi.org/project/scipy/ to 1.5.1 (latest: 1.5.1 as of 2020-07-04)\n * networkx to the latest release, 2.4 (latest as of 2020-07-04)\n All of the above versions support Python >= 3.6.\n``````\n",
    "created_at": "2020-07-05T08:57:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584343",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Follow-up from the update of numpy to 1.16.6 (#29429):
 
 We update
-* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19.0 as of 2020-07-04)
+* https://pypi.org/project/numpy/ to 1.19.0 (latest: 1.19.0 as of 2020-07-04)
 * https://pypi.org/project/scipy/ to 1.5.1 (latest: 1.5.1 as of 2020-07-04)
 * networkx to the latest release, 2.4 (latest as of 2020-07-04)
 All of the above versions support Python >= 3.6.
``````




---

archive/issue_comments_584344.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [slelievre](#comment%3A45):\n> From the SciPy 1.5.1 Release Notes:\n> \n> > SciPy 1.5.1 is a bug-fix release with no new features\n> > compared to 1.5.0. In particular, an issue where DLL loading\n> > can fail for SciPy wheels on Windows with Python 3.6 has been\n> > fixed.\n\n\nno worries, the ticket description was not updated, that's all.",
    "created_at": "2020-07-05T09:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584344",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:53'></a>
Replying to [slelievre](#comment%3A45):
> From the SciPy 1.5.1 Release Notes:
> 
> > SciPy 1.5.1 is a bug-fix release with no new features
> > compared to 1.5.0. In particular, an issue where DLL loading
> > can fail for SciPy wheels on Windows with Python 3.6 has been
> > fixed.


no worries, the ticket description was not updated, that's all.



---

archive/issue_comments_584345.json:
```json
{
    "body": "<a id='comment:54'></a>\nwrong tarball hash for numpy. See https://github.com/numpy/numpy/issues/16754\n- the usual GH crappy tarballs stuff I guess.",
    "created_at": "2020-07-05T11:02:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584345",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:54'></a>
wrong tarball hash for numpy. See https://github.com/numpy/numpy/issues/16754
- the usual GH crappy tarballs stuff I guess.



---

archive/issue_comments_584346.json:
```json
{
    "body": "<a id='comment:55'></a>\nCurrently it is\n\n```diff\n--- a/build/pkgs/numpy/checksums.ini\n+++ b/build/pkgs/numpy/checksums.ini\n@@ -1,5 +1,5 @@\n tarball=numpy-VERSION.tar.gz\n-sha1=0b1792c8a828d6a9fb148fb33dfa11549391d858\n-md5=3f5ce88a859302f0a1aceb5f75b563fc\n-cksum=1603544858\n+sha1=a6c099c0929e0b437a72fd60aad76d23061087c6\n+md5=e3baa59da67348c2d6596803514129db\n+cksum=1607167529\n upstream_url=https://github.com/numpy/numpy/releases/download/vVERSION/numpy-VERSION.tar.gz\n```\nbut of course it's not really stable...",
    "created_at": "2020-07-05T11:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584346",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:55'></a>
Currently it is

```diff
--- a/build/pkgs/numpy/checksums.ini
+++ b/build/pkgs/numpy/checksums.ini
@@ -1,5 +1,5 @@
 tarball=numpy-VERSION.tar.gz
-sha1=0b1792c8a828d6a9fb148fb33dfa11549391d858
-md5=3f5ce88a859302f0a1aceb5f75b563fc
-cksum=1603544858
+sha1=a6c099c0929e0b437a72fd60aad76d23061087c6
+md5=e3baa59da67348c2d6596803514129db
+cksum=1607167529
 upstream_url=https://github.com/numpy/numpy/releases/download/vVERSION/numpy-VERSION.tar.gz
```
but of course it's not really stable...



---

archive/issue_comments_584347.json:
```json
{
    "body": "<a id='comment:56'></a>\nAnd now md5 as advertised on Numpy pages:\n\n```diff\n--- a/build/pkgs/numpy/checksums.ini\n+++ b/build/pkgs/numpy/checksums.ini\n@@ -1,5 +1,5 @@\n tarball=numpy-VERSION.tar.gz\n-sha1=0b1792c8a828d6a9fb148fb33dfa11549391d858\n-md5=3f5ce88a859302f0a1aceb5f75b563fc\n-cksum=1603544858\n+sha1=ba35592527bd01f53244ae1bb55c896101bbf0f3\n+md5=d59aadf47354bd10c7b9996032ba4da0\n+cksum=3500020755\n```\nSucks.",
    "created_at": "2020-07-05T11:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584347",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:56'></a>
And now md5 as advertised on Numpy pages:

```diff
--- a/build/pkgs/numpy/checksums.ini
+++ b/build/pkgs/numpy/checksums.ini
@@ -1,5 +1,5 @@
 tarball=numpy-VERSION.tar.gz
-sha1=0b1792c8a828d6a9fb148fb33dfa11549391d858
-md5=3f5ce88a859302f0a1aceb5f75b563fc
-cksum=1603544858
+sha1=ba35592527bd01f53244ae1bb55c896101bbf0f3
+md5=d59aadf47354bd10c7b9996032ba4da0
+cksum=3500020755
```
Sucks.



---

archive/issue_comments_584348.json:
```json
{
    "body": "<a id='comment:57'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|\n|[0879c3b](https://github.com/sagemath/sagetrac-mirror/commit/0879c3b5f25ac5eb68e6a4317433f8ff670934d7)|`build/pkgs/{numpy,scipy}/checksums.ini: Set upstream_url to pypi.io`|",
    "created_at": "2020-07-05T20:01:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584348",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:57'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|
|[0879c3b](https://github.com/sagemath/sagetrac-mirror/commit/0879c3b5f25ac5eb68e6a4317433f8ff670934d7)|`build/pkgs/{numpy,scipy}/checksums.ini: Set upstream_url to pypi.io`|



---

archive/issue_comments_584349.json:
```json
{
    "body": "Changing commit from \"[a2e19785a2c670ba165905c78498a841e2b1ded4](https://github.com/sagemath/sagetrac-mirror/commit/a2e19785a2c670ba165905c78498a841e2b1ded4)\" to \"[0879c3b5f25ac5eb68e6a4317433f8ff670934d7](https://github.com/sagemath/sagetrac-mirror/commit/0879c3b5f25ac5eb68e6a4317433f8ff670934d7)\"",
    "created_at": "2020-07-05T20:01:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584349",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[a2e19785a2c670ba165905c78498a841e2b1ded4](https://github.com/sagemath/sagetrac-mirror/commit/a2e19785a2c670ba165905c78498a841e2b1ded4)" to "[0879c3b5f25ac5eb68e6a4317433f8ff670934d7](https://github.com/sagemath/sagetrac-mirror/commit/0879c3b5f25ac5eb68e6a4317433f8ff670934d7)"



---

archive/issue_comments_584350.json:
```json
{
    "body": "<a id='comment:58'></a>\nHopefully the sources packages on PyPI are more stable.",
    "created_at": "2020-07-05T20:01:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584350",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'></a>
Hopefully the sources packages on PyPI are more stable.



---

archive/issue_events_085960.json:
```json
{
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29766#event-85960"
}
```



---

archive/issue_comments_584351.json:
```json
{
    "body": "<a id='comment:60'></a>\nReplying to [mkoeppe](#comment%3A50):\n> The `warnings.filterwarnings` issue needs to be addressed\n\nIt appears I figured out this issue; doing\n\n```diff\n--- a/src/sage/all.py\n+++ b/src/sage/all.py\n@@ -87,6 +87,8 @@ warnings.filterwarnings('ignore', category=RuntimeWarning,\n # Ignore all deprecations from IPython etc.\n warnings.filterwarnings('ignore', category=DeprecationWarning,\n     module='.*(IPython|ipykernel|jupyter_client|jupyter_core|nbformat|notebook|ipywidgets|storemagic|jedi)')\n+warnings.filterwarnings('ignore', category=DeprecationWarning,\n+    module='.*(scipy|networkx)')\n # Ignore collections.abc warnings, there are a lot of them but they are\n # harmless.\n warnings.filterwarnings('ignore', category=DeprecationWarning,\ndiff --git a/src/sage/doctest/forker.py b/src/sage/doctest/forker.py\nindex 9646ddee18..bd7e1a5a97 100644\n--- a/src/sage/doctest/forker.py\n+++ b/src/sage/doctest/forker.py\n@@ -881,7 +881,7 @@ class SageDocTestRunner(doctest.DocTestRunner, object):\n         #             and will be removed in SciPy 2.0.0, use numpy.array instead\n         # This affects networkx 2.2 up and including 2.4\n         # We filter them out here:\n-        warnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',) # cf trac #29425\n+ #       warnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',) # cf trac #29425\n \n         warnings.showwarning = showwarning_with_traceback\n         self.running_doctest_digest = hashlib.md5()\n```\nappears to fix it - still testing, but expect a success.\nBasically, we already did suppression of deprecation warnings\nfrom other packages right, now the same has to be done for `scipy` and `networkx`",
    "created_at": "2020-07-06T00:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584351",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:60'></a>
Replying to [mkoeppe](#comment%3A50):
> The `warnings.filterwarnings` issue needs to be addressed

It appears I figured out this issue; doing

```diff
--- a/src/sage/all.py
+++ b/src/sage/all.py
@@ -87,6 +87,8 @@ warnings.filterwarnings('ignore', category=RuntimeWarning,
 # Ignore all deprecations from IPython etc.
 warnings.filterwarnings('ignore', category=DeprecationWarning,
     module='.*(IPython|ipykernel|jupyter_client|jupyter_core|nbformat|notebook|ipywidgets|storemagic|jedi)')
+warnings.filterwarnings('ignore', category=DeprecationWarning,
+    module='.*(scipy|networkx)')
 # Ignore collections.abc warnings, there are a lot of them but they are
 # harmless.
 warnings.filterwarnings('ignore', category=DeprecationWarning,
diff --git a/src/sage/doctest/forker.py b/src/sage/doctest/forker.py
index 9646ddee18..bd7e1a5a97 100644
--- a/src/sage/doctest/forker.py
+++ b/src/sage/doctest/forker.py
@@ -881,7 +881,7 @@ class SageDocTestRunner(doctest.DocTestRunner, object):
         #             and will be removed in SciPy 2.0.0, use numpy.array instead
         # This affects networkx 2.2 up and including 2.4
         # We filter them out here:
-        warnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',) # cf trac #29425
+ #       warnings.filterwarnings('ignore', '.*Deprec.*scipy.*instead',) # cf trac #29425
 
         warnings.showwarning = showwarning_with_traceback
         self.running_doctest_digest = hashlib.md5()
```
appears to fix it - still testing, but expect a success.
Basically, we already did suppression of deprecation warnings
from other packages right, now the same has to be done for `scipy` and `networkx`



---

archive/issue_comments_584352.json:
```json
{
    "body": "<a id='comment:61'></a>\n> Basically, we already did suppression of deprecation warnings\n> from other packages right, now the same has to be done for `scipy` and `networkx`\n\n\nDoesn't that also hide deprecation warnings coming from sage code, and thus would prevent detecting such deprecated code use with future scipy/networkx updates? That sort of defeats the point of the previous\n\n```\n    deprecationWarning = ('ignore', None, DeprecationWarning, None, 0)\n    if deprecationWarning in warnings.filters: warnings.filters.remove(deprecationWarning)\n```",
    "created_at": "2020-07-06T06:39:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584352",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:61'></a>
> Basically, we already did suppression of deprecation warnings
> from other packages right, now the same has to be done for `scipy` and `networkx`


Doesn't that also hide deprecation warnings coming from sage code, and thus would prevent detecting such deprecated code use with future scipy/networkx updates? That sort of defeats the point of the previous

```
    deprecationWarning = ('ignore', None, DeprecationWarning, None, 0)
    if deprecationWarning in warnings.filters: warnings.filters.remove(deprecationWarning)
```



---

archive/issue_comments_584353.json:
```json
{
    "body": "<a id='comment:62'></a>\nReplying to [arojas](#comment%3A61):\n> > Basically, we already did suppression of deprecation warnings\n> > from other packages right, now the same has to be done for `scipy` and `networkx`\n\n> \n> Doesn't that also hide deprecation warnings coming from sage code, and thus would prevent detecting such deprecated code use with future scipy/networkx updates? That sort of defeats the point of the previous\n> \n> ```\n>     deprecationWarning = ('ignore', None, DeprecationWarning, None, 0)\n>     if deprecationWarning in warnings.filters: warnings.filters.remove(deprecationWarning)\n> ```\n\n`module='.*(scipy|networkx)'` suppresses deprecation warnings emitted by code in `scipy` or in `networkx`. It does not do anything to these warnings from Sage code itself.\nIndeed, the tests in `src/sage/tests/deprecation_test.py` still pass.",
    "created_at": "2020-07-06T07:01:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584353",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:62'></a>
Replying to [arojas](#comment%3A61):
> > Basically, we already did suppression of deprecation warnings
> > from other packages right, now the same has to be done for `scipy` and `networkx`

> 
> Doesn't that also hide deprecation warnings coming from sage code, and thus would prevent detecting such deprecated code use with future scipy/networkx updates? That sort of defeats the point of the previous
> 
> ```
>     deprecationWarning = ('ignore', None, DeprecationWarning, None, 0)
>     if deprecationWarning in warnings.filters: warnings.filters.remove(deprecationWarning)
> ```

`module='.*(scipy|networkx)'` suppresses deprecation warnings emitted by code in `scipy` or in `networkx`. It does not do anything to these warnings from Sage code itself.
Indeed, the tests in `src/sage/tests/deprecation_test.py` still pass.



---

archive/issue_comments_584354.json:
```json
{
    "body": "<a id='comment:63'></a>\nneedless to say, each upgrade to scipy|networkx will need to re-evaluate these.\n\nWe should add something to the Developer manual on this.",
    "created_at": "2020-07-06T07:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584354",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:63'></a>
needless to say, each upgrade to scipy|networkx will need to re-evaluate these.

We should add something to the Developer manual on this.



---

archive/issue_comments_584355.json:
```json
{
    "body": "Changing branch from \"[u/mkoeppe/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/networkx24)\" to \"[u/dimpase/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx24)\"",
    "created_at": "2020-07-06T07:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584355",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "[u/mkoeppe/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/networkx24)" to "[u/dimpase/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx24)"



---

archive/issue_comments_584356.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-07-06T07:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584356",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_584357.json:
```json
{
    "body": "<a id='comment:64'></a>\ncorrect suppression of warnings\n\n---\nNew commits:\n|                                                                                                                                          |                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[8a70ebe](https://github.com/sagemath/sagetrac-mirror/commit/8a70ebedcf063d0a77564c01537a9600dd2accda)|`right place for warnings.filterwarnings() for networkx & scipy`|",
    "created_at": "2020-07-06T07:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584357",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:64'></a>
correct suppression of warnings

---
New commits:
|                                                                                                                                          |                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[8a70ebe](https://github.com/sagemath/sagetrac-mirror/commit/8a70ebedcf063d0a77564c01537a9600dd2accda)|`right place for warnings.filterwarnings() for networkx & scipy`|



---

archive/issue_comments_584358.json:
```json
{
    "body": "Changing commit from \"[0879c3b5f25ac5eb68e6a4317433f8ff670934d7](https://github.com/sagemath/sagetrac-mirror/commit/0879c3b5f25ac5eb68e6a4317433f8ff670934d7)\" to \"[8a70ebedcf063d0a77564c01537a9600dd2accda](https://github.com/sagemath/sagetrac-mirror/commit/8a70ebedcf063d0a77564c01537a9600dd2accda)\"",
    "created_at": "2020-07-06T07:16:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584358",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "[0879c3b5f25ac5eb68e6a4317433f8ff670934d7](https://github.com/sagemath/sagetrac-mirror/commit/0879c3b5f25ac5eb68e6a4317433f8ff670934d7)" to "[8a70ebedcf063d0a77564c01537a9600dd2accda](https://github.com/sagemath/sagetrac-mirror/commit/8a70ebedcf063d0a77564c01537a9600dd2accda)"



---

archive/issue_comments_584359.json:
```json
{
    "body": "Changing dependencies from \"#29480, #29813\" to \"#29480, #29813, #30118\"",
    "created_at": "2020-07-12T05:04:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584359",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29480, #29813" to "#29480, #29813, #30118"



---

archive/issue_comments_584360.json:
```json
{
    "body": "Changing branch from \"[u/dimpase/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx24)\" to \"[u/mkoeppe/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/networkx24)\"",
    "created_at": "2020-07-12T05:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584360",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "[u/dimpase/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx24)" to "[u/mkoeppe/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/networkx24)"



---

archive/issue_comments_584361.json:
```json
{
    "body": "Changing dependencies from \"#29480, #29813, #30118\" to \"#29480, #29813, #29929, #30118\"",
    "created_at": "2020-07-12T05:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584361",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29480, #29813, #30118" to "#29480, #29813, #29929, #30118"



---

archive/issue_comments_584362.json:
```json
{
    "body": "Changing commit from \"[8a70ebedcf063d0a77564c01537a9600dd2accda](https://github.com/sagemath/sagetrac-mirror/commit/8a70ebedcf063d0a77564c01537a9600dd2accda)\" to \"[0356be918ab0c9ed20347360db5eed7b94ab697b](https://github.com/sagemath/sagetrac-mirror/commit/0356be918ab0c9ed20347360db5eed7b94ab697b)\"",
    "created_at": "2020-07-12T05:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584362",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "[8a70ebedcf063d0a77564c01537a9600dd2accda](https://github.com/sagemath/sagetrac-mirror/commit/8a70ebedcf063d0a77564c01537a9600dd2accda)" to "[0356be918ab0c9ed20347360db5eed7b94ab697b](https://github.com/sagemath/sagetrac-mirror/commit/0356be918ab0c9ed20347360db5eed7b94ab697b)"



---

archive/issue_comments_584363.json:
```json
{
    "body": "<a id='comment:67'></a>\nLast 10 new commits:\n|                                                                                                                                          |                                                                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|\n|[b7bf43b](https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9)|`build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884`|\n|[365ce61](https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e)|`Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD`|\n|[fb61a31](https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166)|`Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes`|\n|[bfb2fb4](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)|`tox.ini: Add environment local-homebrew-usrlocal`|\n|[aded967](https://github.com/sagemath/sagetrac-mirror/commit/aded967760d6e79b148d61a12d245b0a353cd23b)|`Merge commit '8195cb821e01e0cb627240d7135d5634c265cab0' of git://trac.sagemath.org/sage into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|\n|[07d657d](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)|`Merge tag '9.2.beta4' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|\n|[bd15fb9](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)|`build/bin/write-dockerfile.sh, tox.ini: Do not run testsuites that need pip (ssl)`|\n|[25393b0](https://github.com/sagemath/sagetrac-mirror/commit/25393b03b5add035608cd09543b3aa4666d100f9)|`Handle SAGE_CHECK_PACKAGES in build/make/Makefile.in, not sage-spkg`|\n|[5aca238](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)|`Merge branch 't/30118/handle_sage_check_packages_in_build_make_makefile_in__not_sage_spkg' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|\n|[0356be9](https://github.com/sagemath/sagetrac-mirror/commit/0356be918ab0c9ed20347360db5eed7b94ab697b)|`Merge branch 't/29929/tox_ini__add_a_macos_environment_without_homebrew__conda' into t/29766/packages/networkx24`|",
    "created_at": "2020-07-12T05:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584363",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:67'></a>
Last 10 new commits:
|                                                                                                                                          |                                                                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
|[b7bf43b](https://github.com/sagemath/sagetrac-mirror/commit/b7bf43b488ad8ed5e0808dc7d4942c0c32f7a8d9)|`build/bin/write-dockerfile.sh: ADD src/bin for bootstrapping, needed by src/doc/bootstrap after #29884`|
|[365ce61](https://github.com/sagemath/sagetrac-mirror/commit/365ce61daf91fae1d1ea43ab03a76c2bc85b8c4e)|`Merge branch 'u/mkoeppe/fix_tox_docker_builds_broken_by__29884' of git://trac.sagemath.org/sage into HEAD`|
|[fb61a31](https://github.com/sagemath/sagetrac-mirror/commit/fb61a31a781e37591a09b9c9642c97a0e7d79166)|`Merge branch 'u/mkoeppe/tox_ini__debian_bullseye___sid_have_python3_8_instead_of_3_7' of git://trac.sagemath.org/sage into 9.2.beta3+ci-fixes`|
|[bfb2fb4](https://github.com/sagemath/sagetrac-mirror/commit/bfb2fb439694e7fee3e2a0adfd4b4367915362eb)|`tox.ini: Add environment local-homebrew-usrlocal`|
|[aded967](https://github.com/sagemath/sagetrac-mirror/commit/aded967760d6e79b148d61a12d245b0a353cd23b)|`Merge commit '8195cb821e01e0cb627240d7135d5634c265cab0' of git://trac.sagemath.org/sage into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|
|[07d657d](https://github.com/sagemath/sagetrac-mirror/commit/07d657d95781cd193f04809376d10b2088a429a6)|`Merge tag '9.2.beta4' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|
|[bd15fb9](https://github.com/sagemath/sagetrac-mirror/commit/bd15fb95c0720aff65ee8fce1c7c261c7aee40fc)|`build/bin/write-dockerfile.sh, tox.ini: Do not run testsuites that need pip (ssl)`|
|[25393b0](https://github.com/sagemath/sagetrac-mirror/commit/25393b03b5add035608cd09543b3aa4666d100f9)|`Handle SAGE_CHECK_PACKAGES in build/make/Makefile.in, not sage-spkg`|
|[5aca238](https://github.com/sagemath/sagetrac-mirror/commit/5aca2383a65be422c6a43349ff86fabb90d9fabe)|`Merge branch 't/30118/handle_sage_check_packages_in_build_make_makefile_in__not_sage_spkg' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|
|[0356be9](https://github.com/sagemath/sagetrac-mirror/commit/0356be918ab0c9ed20347360db5eed7b94ab697b)|`Merge branch 't/29929/tox_ini__add_a_macos_environment_without_homebrew__conda' into t/29766/packages/networkx24`|



---

archive/issue_events_085961.json:
```json
{
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29766#event-85961"
}
```



---

archive/issue_comments_584364.json:
```json
{
    "body": "<a id='comment:68'></a>\nElevating this upgrade ticket to \"blocker\" because homebrew builds are currently broken because they now ship gfortran 10.",
    "created_at": "2020-07-12T18:41:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584364",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:68'></a>
Elevating this upgrade ticket to "blocker" because homebrew builds are currently broken because they now ship gfortran 10.



---

archive/issue_comments_584365.json:
```json
{
    "body": "<a id='comment:69'></a>\n(see for example https://github.com/sagemath/sage/runs/862451287)",
    "created_at": "2020-07-12T18:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584365",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:69'></a>
(see for example https://github.com/sagemath/sage/runs/862451287)



---

archive/issue_comments_584366.json:
```json
{
    "body": "Changing commit from \"[0356be918ab0c9ed20347360db5eed7b94ab697b](https://github.com/sagemath/sagetrac-mirror/commit/0356be918ab0c9ed20347360db5eed7b94ab697b)\" to \"[6954debc04519488cc4b8f299166797fe95eb204](https://github.com/sagemath/sagetrac-mirror/commit/6954debc04519488cc4b8f299166797fe95eb204)\"",
    "created_at": "2020-07-13T21:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584366",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[0356be918ab0c9ed20347360db5eed7b94ab697b](https://github.com/sagemath/sagetrac-mirror/commit/0356be918ab0c9ed20347360db5eed7b94ab697b)" to "[6954debc04519488cc4b8f299166797fe95eb204](https://github.com/sagemath/sagetrac-mirror/commit/6954debc04519488cc4b8f299166797fe95eb204)"



---

archive/issue_comments_584367.json:
```json
{
    "body": "<a id='comment:70'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|\n|[6954deb](https://github.com/sagemath/sagetrac-mirror/commit/6954debc04519488cc4b8f299166797fe95eb204)|`build/pkgs/networkx/dependencies: Conditionalize on SAGE_CHECK_networkx`|",
    "created_at": "2020-07-13T21:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584367",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:70'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
|[6954deb](https://github.com/sagemath/sagetrac-mirror/commit/6954debc04519488cc4b8f299166797fe95eb204)|`build/pkgs/networkx/dependencies: Conditionalize on SAGE_CHECK_networkx`|



---

archive/issue_comments_584368.json:
```json
{
    "body": "<a id='comment:71'></a>\nTests as part of Meta-ticket #29456 (Support gcc/gfortran 10) at https://github.com/mkoeppe/sage/actions/runs/167913617\n\nOn `debian-jessie-standard` (https://github.com/mkoeppe/sage/runs/866989168) and `debian-jessie-minimal`: \n\n```\ngcc: build/src.linux-x86_64-3.7/numpy/core/src/umath/loops.c\nIn file included from numpy/core/src/umath/loops.c.src:50:0:\nnumpy/core/src/umath/simd.inc.src: In function \u2018avx512_conjugate_ps\u2019:\nnumpy/core/src/umath/simd.inc.src:1843:5: warning: implicit declaration of function \u2018_mm512_castps_si512\u2019 [-Wimplicit-function-declaration]\n     __m512i cast_x = _mm512_cast@vsub@_si512(x);\n     ^\nnumpy/core/src/umath/simd.inc.src:1843:22: error: incompatible types when initializing type \u2018__vector(8) long long int\u2019 using type \u2018int\u2019\n     __m512i cast_x = _mm512_cast@vsub@_si512(x);\n                      ^\nnumpy/core/src/umath/simd.inc.src:1846:5: warning: implicit declaration of function \u2018_mm512_castsi512_ps\u2019 [-Wimplicit-function-declaration]\n     return _mm512_castsi512_@vsub@(res);\n     ^\nnumpy/core/src/umath/simd.inc.src:1846:5: error: incompatible types when returning type \u2018int\u2019 but \u2018__vector(16) float\u2019 was expected\n```",
    "created_at": "2020-07-14T02:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584368",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:71'></a>
Tests as part of Meta-ticket #29456 (Support gcc/gfortran 10) at https://github.com/mkoeppe/sage/actions/runs/167913617

On `debian-jessie-standard` (https://github.com/mkoeppe/sage/runs/866989168) and `debian-jessie-minimal`: 

```
gcc: build/src.linux-x86_64-3.7/numpy/core/src/umath/loops.c
In file included from numpy/core/src/umath/loops.c.src:50:0:
numpy/core/src/umath/simd.inc.src: In function avx512_conjugate_ps:
numpy/core/src/umath/simd.inc.src:1843:5: warning: implicit declaration of function _mm512_castps_si512 [-Wimplicit-function-declaration]
     __m512i cast_x = _mm512_cast@vsub@_si512(x);
     ^
numpy/core/src/umath/simd.inc.src:1843:22: error: incompatible types when initializing type __vector(8) long long int using type int
     __m512i cast_x = _mm512_cast@vsub@_si512(x);
                      ^
numpy/core/src/umath/simd.inc.src:1846:5: warning: implicit declaration of function _mm512_castsi512_ps [-Wimplicit-function-declaration]
     return _mm512_castsi512_@vsub@(res);
     ^
numpy/core/src/umath/simd.inc.src:1846:5: error: incompatible types when returning type int but __vector(16) float was expected
```



---

archive/issue_comments_584369.json:
```json
{
    "body": "<a id='comment:72'></a>\n`debian-jessie` uses gcc version 4.9.2 (Debian 4.9.2-10+deb8u2), and a fix for something that looks related is in gcc 4.9.3 - https://gcc.gnu.org/bugzilla/show_bug.cgi?id=61878",
    "created_at": "2020-07-14T02:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584369",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:72'></a>
`debian-jessie` uses gcc version 4.9.2 (Debian 4.9.2-10+deb8u2), and a fix for something that looks related is in gcc 4.9.3 - https://gcc.gnu.org/bugzilla/show_bug.cgi?id=61878



---

archive/issue_comments_584370.json:
```json
{
    "body": "<a id='comment:73'></a>\nThis was added to numpy in https://github.com/numpy/numpy/commit/5562a8c93fe18f0a51d9051f0c25c7cf525312fe\n(new in 1.19.0)\n(https://github.com/numpy/numpy/pull/15408)",
    "created_at": "2020-07-14T02:23:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584370",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:73'></a>
This was added to numpy in https://github.com/numpy/numpy/commit/5562a8c93fe18f0a51d9051f0c25c7cf525312fe
(new in 1.19.0)
(https://github.com/numpy/numpy/pull/15408)



---

archive/issue_comments_584371.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2020-07-14T02:40:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584371",
    "user": "https://github.com/mkoeppe"
}
```

Changing upstream from "N/A" to "Reported upstream. No feedback yet."



---

archive/issue_comments_584372.json:
```json
{
    "body": "<a id='comment:75'></a>\nLet's go back to 1.18.5 (released Jun 3, 2020).",
    "created_at": "2020-07-14T02:43:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584372",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:75'></a>
Let's go back to 1.18.5 (released Jun 3, 2020).



---

archive/issue_comments_584373.json:
```json
{
    "body": "Changing commit from \"[6954debc04519488cc4b8f299166797fe95eb204](https://github.com/sagemath/sagetrac-mirror/commit/6954debc04519488cc4b8f299166797fe95eb204)\" to \"[d39817fe52d756382d33e21da4866939fbfff571](https://github.com/sagemath/sagetrac-mirror/commit/d39817fe52d756382d33e21da4866939fbfff571)\"",
    "created_at": "2020-07-14T02:48:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584373",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[6954debc04519488cc4b8f299166797fe95eb204](https://github.com/sagemath/sagetrac-mirror/commit/6954debc04519488cc4b8f299166797fe95eb204)" to "[d39817fe52d756382d33e21da4866939fbfff571](https://github.com/sagemath/sagetrac-mirror/commit/d39817fe52d756382d33e21da4866939fbfff571)"



---

archive/issue_comments_584374.json:
```json
{
    "body": "<a id='comment:76'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------|\n|[d39817f](https://github.com/sagemath/sagetrac-mirror/commit/d39817fe52d756382d33e21da4866939fbfff571)|`build/pkgs/numpy: Downgrade to 1.18.5 to fix build error on debian-jessie`|",
    "created_at": "2020-07-14T02:48:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584374",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:76'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------|
|[d39817f](https://github.com/sagemath/sagetrac-mirror/commit/d39817fe52d756382d33e21da4866939fbfff571)|`build/pkgs/numpy: Downgrade to 1.18.5 to fix build error on debian-jessie`|



---

archive/issue_events_085962.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "rename": {
        "from": "Upgrade NumPy to 1.19.0, scipy to 1.5.1, networkx to 2.4, add pybind11 package",
        "to": "Upgrade NumPy to 1.18.5, scipy to 1.5.1, networkx to 2.4, add pybind11 package"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29766#event-85962"
}
```



---

archive/issue_comments_584375.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Follow-up from the update of numpy to 1.16.6 (#29429):\n \n We update\n-* https://pypi.org/project/numpy/ to 1.19.0 (latest: 1.19.0 as of 2020-07-04)\n+* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19.0 as of 2020-07-04)\n * https://pypi.org/project/scipy/ to 1.5.1 (latest: 1.5.1 as of 2020-07-04)\n * networkx to the latest release, 2.4 (latest as of 2020-07-04)\n All of the above versions support Python >= 3.6.\n``````\n",
    "created_at": "2020-07-14T02:49:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584375",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Follow-up from the update of numpy to 1.16.6 (#29429):
 
 We update
-* https://pypi.org/project/numpy/ to 1.19.0 (latest: 1.19.0 as of 2020-07-04)
+* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19.0 as of 2020-07-04)
 * https://pypi.org/project/scipy/ to 1.5.1 (latest: 1.5.1 as of 2020-07-04)
 * networkx to the latest release, 2.4 (latest as of 2020-07-04)
 All of the above versions support Python >= 3.6.
``````




---

archive/issue_comments_584376.json:
```json
{
    "body": "<a id='comment:78'></a>\nNew tests at https://github.com/mkoeppe/sage/actions/runs/168163111",
    "created_at": "2020-07-14T02:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584376",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:78'></a>
New tests at https://github.com/mkoeppe/sage/actions/runs/168163111



---

archive/issue_comments_584377.json:
```json
{
    "body": "<a id='comment:79'></a>\nActually https://github.com/mkoeppe/sage/actions/runs/168165380",
    "created_at": "2020-07-14T17:04:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584377",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:79'></a>
Actually https://github.com/mkoeppe/sage/actions/runs/168165380



---

archive/issue_comments_584378.json:
```json
{
    "body": "<a id='comment:80'></a>\nIn these tests, `fedora-32-standard` uses gcc/gfortran 10 from the system, `fedora-32-minimal` uses gcc 10 from the system and gfortran from spkg, and the various `homebrew-macos` tests use gcc = apple clang, gfortran 10 from homebrew.\n\nThey all succeed. Still waiting for other tests to finish.",
    "created_at": "2020-07-14T17:30:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584378",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:80'></a>
In these tests, `fedora-32-standard` uses gcc/gfortran 10 from the system, `fedora-32-minimal` uses gcc 10 from the system and gfortran from spkg, and the various `homebrew-macos` tests use gcc = apple clang, gfortran 10 from homebrew.

They all succeed. Still waiting for other tests to finish.



---

archive/issue_comments_584379.json:
```json
{
    "body": "<a id='comment:81'></a>\nOn `local-conda-forge-macos-maximal` (https://github.com/mkoeppe/sage/runs/867731009), `numpy` 1.18.5 builds but building sagelib fails as follows:\n\n```\n  [sagelib-9.2.beta5] error installing, exit status 1. End of log file:\n  [sagelib-9.2.beta5]       from . import core\n  [sagelib-9.2.beta5]     File \"/Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/__init__.py\", line 50, in <module>\n  [sagelib-9.2.beta5]       raise ImportError(msg)\n  [sagelib-9.2.beta5]   ImportError: \n  [sagelib-9.2.beta5]   \n  [sagelib-9.2.beta5]   IMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE!\n  [sagelib-9.2.beta5]   \n  [sagelib-9.2.beta5]   Importing the numpy C-extensions failed. This error can happen for\n  [sagelib-9.2.beta5]   many reasons, often due to issues with your setup or how NumPy was\n  [sagelib-9.2.beta5]   installed.\n...\n  [sagelib-9.2.beta5]   Original error was: dlopen(/Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so, 2): Symbol not found: _aheapsort_bool\n  [sagelib-9.2.beta5]     Referenced from: /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so\n  [sagelib-9.2.beta5]     Expected in: flat namespace\n  [sagelib-9.2.beta5]    in /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so\n```\nAlso building `matplotlib` fails with a similar error.",
    "created_at": "2020-07-14T17:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584379",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:81'></a>
On `local-conda-forge-macos-maximal` (https://github.com/mkoeppe/sage/runs/867731009), `numpy` 1.18.5 builds but building sagelib fails as follows:

```
  [sagelib-9.2.beta5] error installing, exit status 1. End of log file:
  [sagelib-9.2.beta5]       from . import core
  [sagelib-9.2.beta5]     File "/Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/__init__.py", line 50, in <module>
  [sagelib-9.2.beta5]       raise ImportError(msg)
  [sagelib-9.2.beta5]   ImportError: 
  [sagelib-9.2.beta5]   
  [sagelib-9.2.beta5]   IMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE!
  [sagelib-9.2.beta5]   
  [sagelib-9.2.beta5]   Importing the numpy C-extensions failed. This error can happen for
  [sagelib-9.2.beta5]   many reasons, often due to issues with your setup or how NumPy was
  [sagelib-9.2.beta5]   installed.
...
  [sagelib-9.2.beta5]   Original error was: dlopen(/Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so, 2): Symbol not found: _aheapsort_bool
  [sagelib-9.2.beta5]     Referenced from: /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so
  [sagelib-9.2.beta5]     Expected in: flat namespace
  [sagelib-9.2.beta5]    in /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-maximal/local/lib/python3.7/site-packages/numpy/core/_multiarray_umath.cpython-37m-darwin.so
```
Also building `matplotlib` fails with a similar error.



---

archive/issue_comments_584380.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. No feedback yet.\" to \"Reported upstream. Developers acknowledge bug.\"",
    "created_at": "2020-07-14T22:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584380",
    "user": "https://github.com/mkoeppe"
}
```

Changing upstream from "Reported upstream. No feedback yet." to "Reported upstream. Developers acknowledge bug."



---

archive/issue_comments_584381.json:
```json
{
    "body": "<a id='comment:83'></a>\nnumpy 1.19 had worked OK on `local-conda-forge-macos` when that was tested (https://github.com/mkoeppe/sage/runs/858960241).",
    "created_at": "2020-07-14T22:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584381",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:83'></a>
numpy 1.19 had worked OK on `local-conda-forge-macos` when that was tested (https://github.com/mkoeppe/sage/runs/858960241).



---

archive/issue_comments_584382.json:
```json
{
    "body": "<a id='comment:84'></a>\nTrying next with https://github.com/numpy/numpy/pull/16871",
    "created_at": "2020-07-14T22:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584382",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:84'></a>
Trying next with https://github.com/numpy/numpy/pull/16871



---

archive/issue_comments_584383.json:
```json
{
    "body": "<a id='comment:85'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|\n|[fcddf69](https://github.com/sagemath/sagetrac-mirror/commit/fcddf69db71f76c699440e3d3a473db7a6a25758)|`Revert \"build/pkgs/numpy: Downgrade to 1.18.5 to fix build error on debian-jessie\"`|\n|[3558737](https://github.com/sagemath/sagetrac-mirror/commit/355873714763fe9df4955af6d31e5725e4f64c0d)|`build/pkgs/numpy/patches/16871.patch: New`|",
    "created_at": "2020-07-14T22:52:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584383",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:85'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
|[fcddf69](https://github.com/sagemath/sagetrac-mirror/commit/fcddf69db71f76c699440e3d3a473db7a6a25758)|`Revert "build/pkgs/numpy: Downgrade to 1.18.5 to fix build error on debian-jessie"`|
|[3558737](https://github.com/sagemath/sagetrac-mirror/commit/355873714763fe9df4955af6d31e5725e4f64c0d)|`build/pkgs/numpy/patches/16871.patch: New`|



---

archive/issue_comments_584384.json:
```json
{
    "body": "Changing commit from \"[d39817fe52d756382d33e21da4866939fbfff571](https://github.com/sagemath/sagetrac-mirror/commit/d39817fe52d756382d33e21da4866939fbfff571)\" to \"[355873714763fe9df4955af6d31e5725e4f64c0d](https://github.com/sagemath/sagetrac-mirror/commit/355873714763fe9df4955af6d31e5725e4f64c0d)\"",
    "created_at": "2020-07-14T22:52:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584384",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[d39817fe52d756382d33e21da4866939fbfff571](https://github.com/sagemath/sagetrac-mirror/commit/d39817fe52d756382d33e21da4866939fbfff571)" to "[355873714763fe9df4955af6d31e5725e4f64c0d](https://github.com/sagemath/sagetrac-mirror/commit/355873714763fe9df4955af6d31e5725e4f64c0d)"



---

archive/issue_comments_584385.json:
```json
{
    "body": "<a id='comment:86'></a>\nRunning at https://github.com/mkoeppe/sage/actions/runs/169304521",
    "created_at": "2020-07-14T23:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584385",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:86'></a>
Running at https://github.com/mkoeppe/sage/actions/runs/169304521



---

archive/issue_comments_584386.json:
```json
{
    "body": "<a id='comment:87'></a>\nUnfortunately the patch does not apply by itself",
    "created_at": "2020-07-14T23:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584386",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:87'></a>
Unfortunately the patch does not apply by itself



---

archive/issue_comments_584387.json:
```json
{
    "body": "<a id='comment:88'></a>\nRunning tests with numpy master + pr-16871 at https://github.com/mkoeppe/sage/actions/runs/169620460",
    "created_at": "2020-07-15T05:51:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584387",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:88'></a>
Running tests with numpy master + pr-16871 at https://github.com/mkoeppe/sage/actions/runs/169620460



---

archive/issue_comments_584388.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. Developers acknowledge bug.\" to \"Fixed upstream, but not in a stable release.\"",
    "created_at": "2020-07-15T17:24:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584388",
    "user": "https://github.com/mkoeppe"
}
```

Changing upstream from "Reported upstream. Developers acknowledge bug." to "Fixed upstream, but not in a stable release."



---

archive/issue_comments_584389.json:
```json
{
    "body": "<a id='comment:90'></a>\nhttps://github.com/numpy/numpy/pull/16871 has been merged in numpy master. Hoping for a backport",
    "created_at": "2020-07-15T17:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584389",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:90'></a>
https://github.com/numpy/numpy/pull/16871 has been merged in numpy master. Hoping for a backport



---

archive/issue_comments_584390.json:
```json
{
    "body": "<a id='comment:92'></a>\nthere are more deprecation warnings to suppress, e.g.\n\n```\n2020-07-15T10:18:00.4452989Z File \"src/sage/calculus/interpolators.pyx\", line 48, in sage.calculus.interpolators.polygon_spline\n2020-07-15T10:18:00.4453182Z Failed example:\n2020-07-15T10:18:00.4453370Z     ps = polygon_spline(pts)\n2020-07-15T10:18:00.4453562Z Expected nothing\n2020-07-15T10:18:00.4453746Z Got:\n2020-07-15T10:18:00.4453928Z     doctest:warning\n2020-07-15T10:18:00.4454284Z       File \"/sage/src/bin/sage-runtests\", line 177, in <module>\n2020-07-15T10:18:00.4454494Z         err = DC.run()\n2020-07-15T10:18:00.4454877Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1207, in run\n2020-07-15T10:18:00.4455104Z         self.run_doctests()\n2020-07-15T10:18:00.4455498Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 908, in run_doctests\n2020-07-15T10:18:00.4455721Z         self.dispatcher.dispatch()\n2020-07-15T10:18:00.4456125Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2039, in dispatch\n2020-07-15T10:18:00.4456344Z         self.parallel_dispatch()\n2020-07-15T10:18:00.4456736Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1934, in parallel_dispatch\n2020-07-15T10:18:00.4456963Z         w.start()  # This might take some time\n2020-07-15T10:18:00.4457348Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2206, in start\n2020-07-15T10:18:00.4457571Z         super(DocTestWorker, self).start()\n2020-07-15T10:18:00.4457778Z       File \"/sage/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n2020-07-15T10:18:00.4457985Z         self._popen = self._Popen(self)\n2020-07-15T10:18:00.4458194Z       File \"/sage/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n2020-07-15T10:18:00.4458409Z         return _default_context.get_context().Process._Popen(process_obj)\n2020-07-15T10:18:00.4458621Z       File \"/sage/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n2020-07-15T10:18:00.4458822Z         return Popen(process_obj)\n2020-07-15T10:18:00.4459027Z       File \"/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n2020-07-15T10:18:00.4459245Z         self._launch(process_obj)\n2020-07-15T10:18:00.4459447Z       File \"/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n2020-07-15T10:18:00.4459645Z         code = process_obj._bootstrap()\n2020-07-15T10:18:00.4459852Z       File \"/sage/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n2020-07-15T10:18:00.4460066Z         self.run()\n2020-07-15T10:18:00.4460446Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2178, in run\n2020-07-15T10:18:00.4461480Z         task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n2020-07-15T10:18:00.4462380Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2507, in __call__\n2020-07-15T10:18:00.4462669Z         doctests, extras = self._run(runner, options, results)\n2020-07-15T10:18:00.4463154Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2553, in _run\n2020-07-15T10:18:00.4463441Z         result = runner.run(test)\n2020-07-15T10:18:00.4463902Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 906, in run\n2020-07-15T10:18:00.4464158Z         return self._run(test, compileflags, out)\n2020-07-15T10:18:00.4464793Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 707, in _run\n2020-07-15T10:18:00.4465103Z         self.compile_and_execute(example, compiler, test.globs)\n2020-07-15T10:18:00.4465621Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1132, in compile_and_execute\n2020-07-15T10:18:00.4465963Z         exec(compiled, globs)\n2020-07-15T10:18:00.4466212Z       File \"<doctest sage.calculus.interpolators.polygon_spline[1]>\", line 1, in <module>\n2020-07-15T10:18:00.4466479Z         ps = polygon_spline(pts)\n2020-07-15T10:18:00.4466937Z       File \"/sage/local/lib/python3.7/site-packages/numpy/__init__.py\", line 237, in __getattr__\n2020-07-15T10:18:00.4467232Z         warnings.warn(msg, DeprecationWarning, stacklevel=2)\n2020-07-15T10:18:00.4467504Z       File \"/sage/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n2020-07-15T10:18:00.4467750Z         msg.file, msg.line)\n2020-07-15T10:18:00.4468009Z     :\n2020-07-15T10:18:01.5210352Z     DeprecationWarning: `np.complex` is a deprecated alias for the builtin `complex`. Use `complex` by itself, which is identical in behavior, to silence this warning. If you specifically wanted the numpy scalar type, use `np.complex_` here.\n```",
    "created_at": "2020-07-17T09:23:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584390",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:92'></a>
there are more deprecation warnings to suppress, e.g.

```
2020-07-15T10:18:00.4452989Z File "src/sage/calculus/interpolators.pyx", line 48, in sage.calculus.interpolators.polygon_spline
2020-07-15T10:18:00.4453182Z Failed example:
2020-07-15T10:18:00.4453370Z     ps = polygon_spline(pts)
2020-07-15T10:18:00.4453562Z Expected nothing
2020-07-15T10:18:00.4453746Z Got:
2020-07-15T10:18:00.4453928Z     doctest:warning
2020-07-15T10:18:00.4454284Z       File "/sage/src/bin/sage-runtests", line 177, in <module>
2020-07-15T10:18:00.4454494Z         err = DC.run()
2020-07-15T10:18:00.4454877Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1207, in run
2020-07-15T10:18:00.4455104Z         self.run_doctests()
2020-07-15T10:18:00.4455498Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 908, in run_doctests
2020-07-15T10:18:00.4455721Z         self.dispatcher.dispatch()
2020-07-15T10:18:00.4456125Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2039, in dispatch
2020-07-15T10:18:00.4456344Z         self.parallel_dispatch()
2020-07-15T10:18:00.4456736Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1934, in parallel_dispatch
2020-07-15T10:18:00.4456963Z         w.start()  # This might take some time
2020-07-15T10:18:00.4457348Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2206, in start
2020-07-15T10:18:00.4457571Z         super(DocTestWorker, self).start()
2020-07-15T10:18:00.4457778Z       File "/sage/local/lib/python3.7/multiprocessing/process.py", line 112, in start
2020-07-15T10:18:00.4457985Z         self._popen = self._Popen(self)
2020-07-15T10:18:00.4458194Z       File "/sage/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
2020-07-15T10:18:00.4458409Z         return _default_context.get_context().Process._Popen(process_obj)
2020-07-15T10:18:00.4458621Z       File "/sage/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
2020-07-15T10:18:00.4458822Z         return Popen(process_obj)
2020-07-15T10:18:00.4459027Z       File "/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
2020-07-15T10:18:00.4459245Z         self._launch(process_obj)
2020-07-15T10:18:00.4459447Z       File "/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
2020-07-15T10:18:00.4459645Z         code = process_obj._bootstrap()
2020-07-15T10:18:00.4459852Z       File "/sage/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
2020-07-15T10:18:00.4460066Z         self.run()
2020-07-15T10:18:00.4460446Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2178, in run
2020-07-15T10:18:00.4461480Z         task(self.options, self.outtmpfile, msgpipe, self.result_queue)
2020-07-15T10:18:00.4462380Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2507, in __call__
2020-07-15T10:18:00.4462669Z         doctests, extras = self._run(runner, options, results)
2020-07-15T10:18:00.4463154Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2553, in _run
2020-07-15T10:18:00.4463441Z         result = runner.run(test)
2020-07-15T10:18:00.4463902Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 906, in run
2020-07-15T10:18:00.4464158Z         return self._run(test, compileflags, out)
2020-07-15T10:18:00.4464793Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 707, in _run
2020-07-15T10:18:00.4465103Z         self.compile_and_execute(example, compiler, test.globs)
2020-07-15T10:18:00.4465621Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1132, in compile_and_execute
2020-07-15T10:18:00.4465963Z         exec(compiled, globs)
2020-07-15T10:18:00.4466212Z       File "<doctest sage.calculus.interpolators.polygon_spline[1]>", line 1, in <module>
2020-07-15T10:18:00.4466479Z         ps = polygon_spline(pts)
2020-07-15T10:18:00.4466937Z       File "/sage/local/lib/python3.7/site-packages/numpy/__init__.py", line 237, in __getattr__
2020-07-15T10:18:00.4467232Z         warnings.warn(msg, DeprecationWarning, stacklevel=2)
2020-07-15T10:18:00.4467504Z       File "/sage/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
2020-07-15T10:18:00.4467750Z         msg.file, msg.line)
2020-07-15T10:18:00.4468009Z     :
2020-07-15T10:18:01.5210352Z     DeprecationWarning: `np.complex` is a deprecated alias for the builtin `complex`. Use `complex` by itself, which is identical in behavior, to silence this warning. If you specifically wanted the numpy scalar type, use `np.complex_` here.
```



---

archive/issue_comments_584391.json:
```json
{
    "body": "<a id='comment:93'></a>\nthese deprecation warnings are coming from numpy master, they will not hit us now, only later",
    "created_at": "2020-07-21T05:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584391",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:93'></a>
these deprecation warnings are coming from numpy master, they will not hit us now, only later



---

archive/issue_comments_584392.json:
```json
{
    "body": "<a id='comment:94'></a>\nnumpy 1.19.1 is out but unfortunately does not have a backport of \u200bhttps://github.com/numpy/numpy/pull/16871",
    "created_at": "2020-07-21T21:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584392",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:94'></a>
numpy 1.19.1 is out but unfortunately does not have a backport of https://github.com/numpy/numpy/pull/16871



---

archive/issue_comments_584393.json:
```json
{
    "body": "<a id='comment:95'></a>\nHowever, thanks to other backported fixes, the pull request is now easier to apply.",
    "created_at": "2020-07-21T21:33:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584393",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:95'></a>
However, thanks to other backported fixes, the pull request is now easier to apply.



---

archive/issue_comments_584394.json:
```json
{
    "body": "<a id='comment:96'></a>\nnumpy 1.19.1 needs newest Cython (#29861)",
    "created_at": "2020-07-21T21:35:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584394",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:96'></a>
numpy 1.19.1 needs newest Cython (#29861)



---

archive/issue_comments_584395.json:
```json
{
    "body": "Changing dependencies from \"#29480, #29813, #29929, #30118\" to \"#29480, #29813, #29929, #30118, #29861\"",
    "created_at": "2020-07-21T21:35:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584395",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29480, #29813, #29929, #30118" to "#29480, #29813, #29929, #30118, #29861"



---

archive/issue_comments_584396.json:
```json
{
    "body": "<a id='comment:97'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[1bf6249](https://github.com/sagemath/sagetrac-mirror/commit/1bf624987154a742bac22e61fa19e5ddb9d149dc)|`Update numpy to 1.19.1, add patches`|\n|[c24d109](https://github.com/sagemath/sagetrac-mirror/commit/c24d109199a68d09b138b3a29436704b9532fb39)|`build/pkgs/cython: Updatt to 0.29.21`|\n|[061e975](https://github.com/sagemath/sagetrac-mirror/commit/061e975e3116d390b6faf6ca37f942512964dab5)|`Merge branch 'u/mkoeppe/upgrade_cython_to_0_29_20' of git://trac.sagemath.org/sage into t/29766/packages/networkx24`|",
    "created_at": "2020-07-21T21:41:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584396",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:97'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[1bf6249](https://github.com/sagemath/sagetrac-mirror/commit/1bf624987154a742bac22e61fa19e5ddb9d149dc)|`Update numpy to 1.19.1, add patches`|
|[c24d109](https://github.com/sagemath/sagetrac-mirror/commit/c24d109199a68d09b138b3a29436704b9532fb39)|`build/pkgs/cython: Updatt to 0.29.21`|
|[061e975](https://github.com/sagemath/sagetrac-mirror/commit/061e975e3116d390b6faf6ca37f942512964dab5)|`Merge branch 'u/mkoeppe/upgrade_cython_to_0_29_20' of git://trac.sagemath.org/sage into t/29766/packages/networkx24`|



---

archive/issue_comments_584397.json:
```json
{
    "body": "Changing commit from \"[355873714763fe9df4955af6d31e5725e4f64c0d](https://github.com/sagemath/sagetrac-mirror/commit/355873714763fe9df4955af6d31e5725e4f64c0d)\" to \"[061e975e3116d390b6faf6ca37f942512964dab5](https://github.com/sagemath/sagetrac-mirror/commit/061e975e3116d390b6faf6ca37f942512964dab5)\"",
    "created_at": "2020-07-21T21:41:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584397",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[355873714763fe9df4955af6d31e5725e4f64c0d](https://github.com/sagemath/sagetrac-mirror/commit/355873714763fe9df4955af6d31e5725e4f64c0d)" to "[061e975e3116d390b6faf6ca37f942512964dab5](https://github.com/sagemath/sagetrac-mirror/commit/061e975e3116d390b6faf6ca37f942512964dab5)"



---

archive/issue_comments_584398.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Follow-up from the update of numpy to 1.16.6 (#29429):\n \n We update\n-* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19.0 as of 2020-07-04)\n+* https://pypi.org/project/numpy/ to 1.19.1 (latest as of 2020-07-21)\n * https://pypi.org/project/scipy/ to 1.5.1 (latest: 1.5.1 as of 2020-07-04)\n * networkx to the latest release, 2.4 (latest as of 2020-07-04)\n All of the above versions support Python >= 3.6.\n``````\n",
    "created_at": "2020-07-21T21:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584398",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Follow-up from the update of numpy to 1.16.6 (#29429):
 
 We update
-* https://pypi.org/project/numpy/ to 1.18.5 (latest: 1.19.0 as of 2020-07-04)
+* https://pypi.org/project/numpy/ to 1.19.1 (latest as of 2020-07-21)
 * https://pypi.org/project/scipy/ to 1.5.1 (latest: 1.5.1 as of 2020-07-04)
 * networkx to the latest release, 2.4 (latest as of 2020-07-04)
 All of the above versions support Python >= 3.6.
``````




---

archive/issue_events_085963.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "rename": {
        "from": "Upgrade NumPy to 1.18.5, scipy to 1.5.1, networkx to 2.4, add pybind11 package",
        "to": "Upgrade NumPy to 1.19.1, scipy to 1.5.1, networkx to 2.4, add pybind11 package"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29766#event-85963"
}
```



---

archive/issue_comments_584399.json:
```json
{
    "body": "<a id='comment:99'></a>\nTests run at https://github.com/mkoeppe/sage/actions/runs/177662666",
    "created_at": "2020-07-21T21:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584399",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:99'></a>
Tests run at https://github.com/mkoeppe/sage/actions/runs/177662666



---

archive/issue_comments_584400.json:
```json
{
    "body": "<a id='comment:0'></a>\nI see a number of doctest failures related to printing of deprecation warnings. Did something on this ticket cause this? For example (on `ubuntu-trusty-standard`,  https://github.com/mkoeppe/sage/runs/896153611):\n\n```\nsage -t src/sage/algebras/lie_algebras/free_lie_algebra.py\n**********************************************************************\nFile \"src/sage/algebras/lie_algebras/free_lie_algebra.py\", line 194, in sage.algebras.lie_algebras.free_lie_algebra.FreeLieBasis_abstract.basis\nFailed example:\n    L.Hall().basis()\nExpected:\n    Disjoint union of Lazy family (graded basis(i))_{i in Positive integers}\nGot:\n    doctest:warning\n      File \"/sage/src/bin/sage-runtests\", line 177, in <module>\n        err = DC.run()\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 1207, in run\n        self.run_doctests()\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/control.py\", line 908, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2045, in dispatch\n        self.parallel_dispatch()\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1940, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2212, in start\n        super(DocTestWorker, self).start()\n      File \"/sage/local/lib/python3.7/multiprocessing/process.py\", line 112, in start\n        self._popen = self._Popen(self)\n      File \"/sage/local/lib/python3.7/multiprocessing/context.py\", line 223, in _Popen\n        return _default_context.get_context().Process._Popen(process_obj)\n      File \"/sage/local/lib/python3.7/multiprocessing/context.py\", line 277, in _Popen\n        return Popen(process_obj)\n      File \"/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 20, in __init__\n        self._launch(process_obj)\n      File \"/sage/local/lib/python3.7/multiprocessing/popen_fork.py\", line 74, in _launch\n        code = process_obj._bootstrap()\n      File \"/sage/local/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\n        self.run()\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2184, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2513, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2559, in _run\n        result = runner.run(test)\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 912, in run\n        return self._run(test, compileflags, out)\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 707, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1138,       compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.algebras.lie_algebras.free_lie_algebra.FreeLieBasis_abstract.basis[1]>\", line 1, in <module>\n        L.Hall().basis()\n      File \"/sage/local/lib/python3.7/site-packages/sage/structure/unique_representation.py\", line 1008, in __classcall__\n        instance = typecall(cls, *args, **options)\n      File \"/sage/local/lib/python3.7/site-packages/sage/algebras/lie_algebras/free_lie_algebra.py\", line 445, in __init__\n        experimental_warning(16823, \"The Hall basis has not been fully proven correct,\"\n      File \"/sage/local/lib/python3.7/site-packages/sage/misc/superseded.py\", line 181, in experimental_warning\n        warning(trac_number, message, FutureWarning, stacklevel)\n      File \"/sage/local/lib/python3.7/site-packages/sage/misc/superseded.py\", line 146, in warning\n        warn(message, warning_class, stacklevel)\n      File \"/sage/local/lib/python3.7/warnings.py\", line 110, in _showwarnmsg\n        msg.file, msg.line)\n    :\n    FutureWarning: The Hall basis has not been fully proven correct, but currently no bugs are known\n    See http://trac.sagemath.org/16823 for details.\n    Disjoint union of Lazy family (graded basis(i))_{i in Positive integers}\n**********************************************************************\n\n\n```",
    "created_at": "2020-07-22T06:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584400",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:0'></a>
I see a number of doctest failures related to printing of deprecation warnings. Did something on this ticket cause this? For example (on `ubuntu-trusty-standard`,  https://github.com/mkoeppe/sage/runs/896153611):

```
sage -t src/sage/algebras/lie_algebras/free_lie_algebra.py
**********************************************************************
File "src/sage/algebras/lie_algebras/free_lie_algebra.py", line 194, in sage.algebras.lie_algebras.free_lie_algebra.FreeLieBasis_abstract.basis
Failed example:
    L.Hall().basis()
Expected:
    Disjoint union of Lazy family (graded basis(i))_{i in Positive integers}
Got:
    doctest:warning
      File "/sage/src/bin/sage-runtests", line 177, in <module>
        err = DC.run()
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 1207, in run
        self.run_doctests()
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/control.py", line 908, in run_doctests
        self.dispatcher.dispatch()
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2045, in dispatch
        self.parallel_dispatch()
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1940, in parallel_dispatch
        w.start()  # This might take some time
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2212, in start
        super(DocTestWorker, self).start()
      File "/sage/local/lib/python3.7/multiprocessing/process.py", line 112, in start
        self._popen = self._Popen(self)
      File "/sage/local/lib/python3.7/multiprocessing/context.py", line 223, in _Popen
        return _default_context.get_context().Process._Popen(process_obj)
      File "/sage/local/lib/python3.7/multiprocessing/context.py", line 277, in _Popen
        return Popen(process_obj)
      File "/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 20, in __init__
        self._launch(process_obj)
      File "/sage/local/lib/python3.7/multiprocessing/popen_fork.py", line 74, in _launch
        code = process_obj._bootstrap()
      File "/sage/local/lib/python3.7/multiprocessing/process.py", line 297, in _bootstrap
        self.run()
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2184, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2513, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2559, in _run
        result = runner.run(test)
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 912, in run
        return self._run(test, compileflags, out)
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 707, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1138,       compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.algebras.lie_algebras.free_lie_algebra.FreeLieBasis_abstract.basis[1]>", line 1, in <module>
        L.Hall().basis()
      File "/sage/local/lib/python3.7/site-packages/sage/structure/unique_representation.py", line 1008, in __classcall__
        instance = typecall(cls, *args, **options)
      File "/sage/local/lib/python3.7/site-packages/sage/algebras/lie_algebras/free_lie_algebra.py", line 445, in __init__
        experimental_warning(16823, "The Hall basis has not been fully proven correct,"
      File "/sage/local/lib/python3.7/site-packages/sage/misc/superseded.py", line 181, in experimental_warning
        warning(trac_number, message, FutureWarning, stacklevel)
      File "/sage/local/lib/python3.7/site-packages/sage/misc/superseded.py", line 146, in warning
        warn(message, warning_class, stacklevel)
      File "/sage/local/lib/python3.7/warnings.py", line 110, in _showwarnmsg
        msg.file, msg.line)
    :
    FutureWarning: The Hall basis has not been fully proven correct, but currently no bugs are known
    See http://trac.sagemath.org/16823 for details.
    Disjoint union of Lazy family (graded basis(i))_{i in Positive integers}
**********************************************************************


```



---

archive/issue_comments_584401.json:
```json
{
    "body": "Changing commit from \"[061e975e3116d390b6faf6ca37f942512964dab5](https://github.com/sagemath/sagetrac-mirror/commit/061e975e3116d390b6faf6ca37f942512964dab5)\" to \"[fc7592cdafb6ed3b1d947faeeb67841c3491e843](https://github.com/sagemath/sagetrac-mirror/commit/fc7592cdafb6ed3b1d947faeeb67841c3491e843)\"",
    "created_at": "2020-07-26T00:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584401",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[061e975e3116d390b6faf6ca37f942512964dab5](https://github.com/sagemath/sagetrac-mirror/commit/061e975e3116d390b6faf6ca37f942512964dab5)" to "[fc7592cdafb6ed3b1d947faeeb67841c3491e843](https://github.com/sagemath/sagetrac-mirror/commit/fc7592cdafb6ed3b1d947faeeb67841c3491e843)"



---

archive/issue_comments_584402.json:
```json
{
    "body": "<a id='comment:1'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|\n|[d1a2cbf](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)|`Merge branch 't/30088/fix__make_sdist___add_test_run_to_github_actions' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|\n|[b62f775](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)|`Merge tag '9.2.beta6' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|\n|[fc7592c](https://github.com/sagemath/sagetrac-mirror/commit/fc7592cdafb6ed3b1d947faeeb67841c3491e843)|`Merge branch 't/29929/tox_ini__add_a_macos_environment_without_homebrew__conda' into t/29766/packages/networkx24`|",
    "created_at": "2020-07-26T00:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584402",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|
|[d1a2cbf](https://github.com/sagemath/sagetrac-mirror/commit/d1a2cbf833f020a591777c40abfc5ab26ec04fe0)|`Merge branch 't/30088/fix__make_sdist___add_test_run_to_github_actions' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|
|[b62f775](https://github.com/sagemath/sagetrac-mirror/commit/b62f775b3c922b99eccd6f9b71eb68bc554f505c)|`Merge tag '9.2.beta6' into t/29929/tox_ini__add_a_macos_environment_without_homebrew__conda`|
|[fc7592c](https://github.com/sagemath/sagetrac-mirror/commit/fc7592cdafb6ed3b1d947faeeb67841c3491e843)|`Merge branch 't/29929/tox_ini__add_a_macos_environment_without_homebrew__conda' into t/29766/packages/networkx24`|



---

archive/issue_comments_584403.json:
```json
{
    "body": "Changing dependencies from \"#29480, #29813, #29929, #30118, #29861\" to \"#29929\"",
    "created_at": "2020-07-26T00:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584403",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29480, #29813, #29929, #30118, #29861" to "#29929"



---

archive/issue_comments_584404.json:
```json
{
    "body": "<a id='comment:2'></a>\nMerged 9.2.beta6",
    "created_at": "2020-07-26T00:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584404",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Merged 9.2.beta6



---

archive/issue_comments_584405.json:
```json
{
    "body": "<a id='comment:103'></a>\nReplying to [mkoeppe](#comment%3A100):\n> I see a number of doctest failures related to printing of deprecation warnings. Did something on this ticket cause this? \n\n\nhttps://git.sagemath.org/sage.git/diff/src/sage/doctest/forker.py?id=fc7592cdafb6ed3b1d947faeeb67841c3491e843&id2=ddaba54f6d69276ed1b9c60193ace839542eb5a9\n\nthis - which is actually a wrong place to deal with this stuff. This branch seems to be obsolete at this place - there is a better place to handle these warnings, and I think I've put it on this ticket some time back - but then it did not stick for some reason.",
    "created_at": "2020-07-26T09:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584405",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:103'></a>
Replying to [mkoeppe](#comment%3A100):
> I see a number of doctest failures related to printing of deprecation warnings. Did something on this ticket cause this? 


https://git.sagemath.org/sage.git/diff/src/sage/doctest/forker.py?id=fc7592cdafb6ed3b1d947faeeb67841c3491e843&id2=ddaba54f6d69276ed1b9c60193ace839542eb5a9

this - which is actually a wrong place to deal with this stuff. This branch seems to be obsolete at this place - there is a better place to handle these warnings, and I think I've put it on this ticket some time back - but then it did not stick for some reason.



---

archive/issue_comments_584406.json:
```json
{
    "body": "<a id='comment:4'></a>\nnamely, you need https://github.com/sagemath/sagetrac-mirror/commit/8a70ebedcf063d0a77564c01537a9600dd2accda \n\n(cf.[comment:64](#comment%3A64))",
    "created_at": "2020-07-26T09:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584406",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
namely, you need https://github.com/sagemath/sagetrac-mirror/commit/8a70ebedcf063d0a77564c01537a9600dd2accda 

(cf.[comment:64](#comment%3A64))



---

archive/issue_comments_584407.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[7fe5985](https://github.com/sagemath/sagetrac-mirror/commit/7fe59852445ff75037fcdc3dd0ae42070fe0c5ed)|`right place for warnings.filterwarnings() for networkx & scipy`|",
    "created_at": "2020-07-26T22:57:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584407",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[7fe5985](https://github.com/sagemath/sagetrac-mirror/commit/7fe59852445ff75037fcdc3dd0ae42070fe0c5ed)|`right place for warnings.filterwarnings() for networkx & scipy`|



---

archive/issue_comments_584408.json:
```json
{
    "body": "Changing commit from \"[fc7592cdafb6ed3b1d947faeeb67841c3491e843](https://github.com/sagemath/sagetrac-mirror/commit/fc7592cdafb6ed3b1d947faeeb67841c3491e843)\" to \"[7fe59852445ff75037fcdc3dd0ae42070fe0c5ed](https://github.com/sagemath/sagetrac-mirror/commit/7fe59852445ff75037fcdc3dd0ae42070fe0c5ed)\"",
    "created_at": "2020-07-26T22:57:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584408",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[fc7592cdafb6ed3b1d947faeeb67841c3491e843](https://github.com/sagemath/sagetrac-mirror/commit/fc7592cdafb6ed3b1d947faeeb67841c3491e843)" to "[7fe59852445ff75037fcdc3dd0ae42070fe0c5ed](https://github.com/sagemath/sagetrac-mirror/commit/7fe59852445ff75037fcdc3dd0ae42070fe0c5ed)"



---

archive/issue_comments_584409.json:
```json
{
    "body": "<a id='comment:6'></a>\nTests run at https://github.com/mkoeppe/sage/actions/runs/183520034",
    "created_at": "2020-07-26T22:59:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584409",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Tests run at https://github.com/mkoeppe/sage/actions/runs/183520034



---

archive/issue_comments_584410.json:
```json
{
    "body": "<a id='comment:7'></a>\nscipy 1.5.2 is now available.",
    "created_at": "2020-07-27T14:04:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584410",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>
scipy 1.5.2 is now available.



---

archive/issue_comments_584411.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n We update\n * https://pypi.org/project/numpy/ to 1.19.1 (latest as of 2020-07-21)\n-* https://pypi.org/project/scipy/ to 1.5.1 (latest: 1.5.1 as of 2020-07-04)\n+* https://pypi.org/project/scipy/ to 1.5.1 (latest is 1.5.2 as of 2020-07-24)\n * networkx to the latest release, 2.4 (latest as of 2020-07-04)\n All of the above versions support Python >= 3.6.\n \n``````\n",
    "created_at": "2020-07-27T14:04:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584411",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 We update
 * https://pypi.org/project/numpy/ to 1.19.1 (latest as of 2020-07-21)
-* https://pypi.org/project/scipy/ to 1.5.1 (latest: 1.5.1 as of 2020-07-04)
+* https://pypi.org/project/scipy/ to 1.5.1 (latest is 1.5.2 as of 2020-07-24)
 * networkx to the latest release, 2.4 (latest as of 2020-07-04)
 All of the above versions support Python >= 3.6.
 
``````




---

archive/issue_comments_584412.json:
```json
{
    "body": "<a id='comment:8'></a>\nI report that compilation succeeded with gcc 10.1.0 and this ticket merged.",
    "created_at": "2020-07-27T14:59:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584412",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
I report that compilation succeeded with gcc 10.1.0 and this ticket merged.



---

archive/issue_comments_584413.json:
```json
{
    "body": "<a id='comment:9'></a>\nI think this is good to go. Reviewers?",
    "created_at": "2020-07-28T04:10:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584413",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
I think this is good to go. Reviewers?



---

archive/issue_comments_584414.json:
```json
{
    "body": "<a id='comment:0'></a>\nDon't you want to make the upgrade scipy 1.5.1 -> 1.5.2?",
    "created_at": "2020-07-28T07:01:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584414",
    "user": "https://github.com/videlec"
}
```

<a id='comment:0'></a>
Don't you want to make the upgrade scipy 1.5.1 -> 1.5.2?



---

archive/issue_comments_584415.json:
```json
{
    "body": "<a id='comment:1'></a>\nself-tests of networkx need pytest, but logs show that pytest might bot be installed.\nI don't understand the meaning of this poorly half-implemented LISPy thing:\n\n```\n$(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)\n```",
    "created_at": "2020-07-31T17:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584415",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>
self-tests of networkx need pytest, but logs show that pytest might bot be installed.
I don't understand the meaning of this poorly half-implemented LISPy thing:

```
$(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)
```



---

archive/issue_comments_584416.json:
```json
{
    "body": "<a id='comment:2'></a>\nwhich log? link please",
    "created_at": "2020-07-31T18:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584416",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
which log? link please



---

archive/issue_comments_584417.json:
```json
{
    "body": "<a id='comment:113'></a>\nReplying to [mkoeppe](#comment%3A112):\n> which log? link please\n\nhttps://github.com/mkoeppe/sage/runs/912558796?check_suite_focus=true",
    "created_at": "2020-07-31T18:43:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584417",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:113'></a>
Replying to [mkoeppe](#comment%3A112):
> which log? link please

https://github.com/mkoeppe/sage/runs/912558796?check_suite_focus=true



---

archive/issue_comments_584418.json:
```json
{
    "body": "<a id='comment:4'></a>\nanyhow, how about upgrading to scipy 1.5.2 along the way?",
    "created_at": "2020-07-31T18:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584418",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
anyhow, how about upgrading to scipy 1.5.2 along the way?



---

archive/issue_comments_584419.json:
```json
{
    "body": "<a id='comment:115'></a>\nReplying to [dimpase](#comment%3A111):\n> I don't understand that meaning of this poorly half-implemented LISPy thing:\n> \n> ```\n> $(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)\n> ```\n\n\nIt keeps \"nose pytest\" only when running the `networkx` test suite is requested.\n\nBecause these are testsuite-only dependencies.",
    "created_at": "2020-07-31T18:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584419",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:115'></a>
Replying to [dimpase](#comment%3A111):
> I don't understand that meaning of this poorly half-implemented LISPy thing:
> 
> ```
> $(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)
> ```


It keeps "nose pytest" only when running the `networkx` test suite is requested.

Because these are testsuite-only dependencies.



---

archive/issue_comments_584420.json:
```json
{
    "body": "<a id='comment:116'></a>\nReplying to [mkoeppe](#comment%3A115):\n> Replying to [dimpase](#comment%3A111):\n> > I don't understand that meaning of this poorly half-implemented LISPy thing:\n> > \n> > ```\n> > $(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)\n> > ```\n\n> \n> It keeps \"nose pytest\" only when running the `networkx` test suite is requested.\n> \n> Because these are testsuite-only dependencies.\n\n\nbut somehow it does not work in the GH Actions realm (or maybe at all), no?\n\n> \n> \n\n>",
    "created_at": "2020-07-31T18:49:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584420",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:116'></a>
Replying to [mkoeppe](#comment%3A115):
> Replying to [dimpase](#comment%3A111):
> > I don't understand that meaning of this poorly half-implemented LISPy thing:
> > 
> > ```
> > $(PYTHON) decorator | $(PYTHON_TOOLCHAIN) scipy $(and $(filter-out no,$(SAGE_CHECK_networkx)), nose pytest)
> > ```

> 
> It keeps "nose pytest" only when running the `networkx` test suite is requested.
> 
> Because these are testsuite-only dependencies.


but somehow it does not work in the GH Actions realm (or maybe at all), no?

> 
> 

>



---

archive/issue_comments_584421.json:
```json
{
    "body": "<a id='comment:7'></a>\nYes, there is a problem - thanks for catching it. \n\nI am running GH Actions build with `SAGE_CHECK=warn`, and the code added in #30118 does not handle the exclusions given in SAGE_CHECK_PACKAGES in that case. \n\nLet's change that.",
    "created_at": "2020-07-31T18:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584421",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Yes, there is a problem - thanks for catching it. 

I am running GH Actions build with `SAGE_CHECK=warn`, and the code added in #30118 does not handle the exclusions given in SAGE_CHECK_PACKAGES in that case. 

Let's change that.



---

archive/issue_comments_584422.json:
```json
{
    "body": "<a id='comment:118'></a>\nReplying to [dimpase](#comment%3A114):\n> anyhow, how about upgrading to scipy 1.5.2 along the way?\n\n\nSure, let's do it.",
    "created_at": "2020-07-31T18:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584422",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:118'></a>
Replying to [dimpase](#comment%3A114):
> anyhow, how about upgrading to scipy 1.5.2 along the way?


Sure, let's do it.



---

archive/issue_events_085964.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "rename": {
        "from": "Upgrade NumPy to 1.19.1, scipy to 1.5.1, networkx to 2.4, add pybind11 package",
        "to": "Upgrade NumPy to 1.19.1, scipy to 1.5.2, networkx to 2.4, add pybind11 package"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29766#event-85964"
}
```



---

archive/issue_comments_584423.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n We update\n * https://pypi.org/project/numpy/ to 1.19.1 (latest as of 2020-07-21)\n-* https://pypi.org/project/scipy/ to 1.5.1 (latest is 1.5.2 as of 2020-07-24)\n+* https://pypi.org/project/scipy/ to 1.5.2 (latest as of 2020-07-31)\n * networkx to the latest release, 2.4 (latest as of 2020-07-04)\n All of the above versions support Python >= 3.6.\n \n``````\n",
    "created_at": "2020-08-01T01:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584423",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 We update
 * https://pypi.org/project/numpy/ to 1.19.1 (latest as of 2020-07-21)
-* https://pypi.org/project/scipy/ to 1.5.1 (latest is 1.5.2 as of 2020-07-24)
+* https://pypi.org/project/scipy/ to 1.5.2 (latest as of 2020-07-31)
 * networkx to the latest release, 2.4 (latest as of 2020-07-04)
 All of the above versions support Python >= 3.6.
 
``````




---

archive/issue_comments_584424.json:
```json
{
    "body": "Changing commit from \"[7fe59852445ff75037fcdc3dd0ae42070fe0c5ed](https://github.com/sagemath/sagetrac-mirror/commit/7fe59852445ff75037fcdc3dd0ae42070fe0c5ed)\" to \"[3890e1a1540abeecc2d9e8898e8463dea42c9547](https://github.com/sagemath/sagetrac-mirror/commit/3890e1a1540abeecc2d9e8898e8463dea42c9547)\"",
    "created_at": "2020-08-01T01:34:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584424",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[7fe59852445ff75037fcdc3dd0ae42070fe0c5ed](https://github.com/sagemath/sagetrac-mirror/commit/7fe59852445ff75037fcdc3dd0ae42070fe0c5ed)" to "[3890e1a1540abeecc2d9e8898e8463dea42c9547](https://github.com/sagemath/sagetrac-mirror/commit/3890e1a1540abeecc2d9e8898e8463dea42c9547)"



---

archive/issue_comments_584425.json:
```json
{
    "body": "<a id='comment:0'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[5fa0bba](https://github.com/sagemath/sagetrac-mirror/commit/5fa0bbacaa64dc8a3f2170d552215a0f94e9d7a3)|`build/pkgs/scipy: Update to 1.5.2`|\n|[3890e1a](https://github.com/sagemath/sagetrac-mirror/commit/3890e1a1540abeecc2d9e8898e8463dea42c9547)|`build/make/Makefile.in: Improve handling of SAGE_CHECK_PACKAGES`|",
    "created_at": "2020-08-01T01:34:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584425",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[5fa0bba](https://github.com/sagemath/sagetrac-mirror/commit/5fa0bbacaa64dc8a3f2170d552215a0f94e9d7a3)|`build/pkgs/scipy: Update to 1.5.2`|
|[3890e1a](https://github.com/sagemath/sagetrac-mirror/commit/3890e1a1540abeecc2d9e8898e8463dea42c9547)|`build/make/Makefile.in: Improve handling of SAGE_CHECK_PACKAGES`|



---

archive/issue_comments_584426.json:
```json
{
    "body": "<a id='comment:1'></a>\nTests run at https://github.com/mkoeppe/sage/actions/runs/190765555",
    "created_at": "2020-08-01T01:37:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584426",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>
Tests run at https://github.com/mkoeppe/sage/actions/runs/190765555



---

archive/issue_comments_584427.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-01T23:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584427",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_584428.json:
```json
{
    "body": "Changing commit from \"[3890e1a1540abeecc2d9e8898e8463dea42c9547](https://github.com/sagemath/sagetrac-mirror/commit/3890e1a1540abeecc2d9e8898e8463dea42c9547)\" to \"[5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b](https://github.com/sagemath/sagetrac-mirror/commit/5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b)\"",
    "created_at": "2020-08-01T23:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584428",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[3890e1a1540abeecc2d9e8898e8463dea42c9547](https://github.com/sagemath/sagetrac-mirror/commit/3890e1a1540abeecc2d9e8898e8463dea42c9547)" to "[5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b](https://github.com/sagemath/sagetrac-mirror/commit/5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b)"



---

archive/issue_comments_584429.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|\n|[5d4b013](https://github.com/sagemath/sagetrac-mirror/commit/5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b)|`build/make/Makefile.in: Handle the case in which SAGE_CHECK_PACKAGES is set using a command argument`|",
    "created_at": "2020-08-01T23:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584429",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
|[5d4b013](https://github.com/sagemath/sagetrac-mirror/commit/5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b)|`build/make/Makefile.in: Handle the case in which SAGE_CHECK_PACKAGES is set using a command argument`|



---

archive/issue_comments_584430.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-01T23:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584430",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_584431.json:
```json
{
    "body": "<a id='comment:125'></a>\nReplying to [mkoeppe](#comment%3A117):\n> I am running GH Actions build with `SAGE_CHECK=warn`, and the code added in #30118 does not handle the exclusions given in SAGE_CHECK_PACKAGES in that case. \n\n\nThat was not quite the right explanation, but now I have fixed it. Subtleties of Makefile variables and who overrides whom.",
    "created_at": "2020-08-01T23:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584431",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:125'></a>
Replying to [mkoeppe](#comment%3A117):
> I am running GH Actions build with `SAGE_CHECK=warn`, and the code added in #30118 does not handle the exclusions given in SAGE_CHECK_PACKAGES in that case. 


That was not quite the right explanation, but now I have fixed it. Subtleties of Makefile variables and who overrides whom.



---

archive/issue_comments_584432.json:
```json
{
    "body": "<a id='comment:6'></a>\nLet's please get this in?",
    "created_at": "2020-08-01T23:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584432",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Let's please get this in?



---

archive/issue_comments_584433.json:
```json
{
    "body": "<a id='comment:7'></a>\nlgtm",
    "created_at": "2020-08-02T10:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584433",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
lgtm



---

archive/issue_comments_584434.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-02T10:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584434",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_584435.json:
```json
{
    "body": "<a id='comment:8'></a>\nThank you!",
    "created_at": "2020-08-02T13:36:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584435",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Thank you!



---

archive/issue_comments_584436.json:
```json
{
    "body": "Changing branch from \"[u/mkoeppe/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/networkx24)\" to \"[5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b](https://github.com/sagemath/sagetrac-mirror/commit/5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b)\"",
    "created_at": "2020-08-07T19:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584436",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[u/mkoeppe/packages/networkx24](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/networkx24)" to "[5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b](https://github.com/sagemath/sagetrac-mirror/commit/5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b)"



---

archive/issue_comments_584437.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-07T19:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584437",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_085965.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-07T19:07:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29766#event-85965"
}
```



---

archive/issue_comments_584438.json:
```json
{
    "body": "<a id='comment:0'></a>\nWhy is there no SPKG.rst file for pybind11? Are these suddenly optional?",
    "created_at": "2020-08-14T04:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584438",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:0'></a>
Why is there no SPKG.rst file for pybind11? Are these suddenly optional?



---

archive/issue_comments_584439.json:
```json
{
    "body": "Changing commit from \"[5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b](https://github.com/sagemath/sagetrac-mirror/commit/5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b)\" to \"\"",
    "created_at": "2020-08-14T04:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584439",
    "user": "https://github.com/jhpalmieri"
}
```

Changing commit from "[5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b](https://github.com/sagemath/sagetrac-mirror/commit/5d4b013d64a18a7b8eb5d4aa91c26cf01828cb6b)" to ""



---

archive/issue_comments_584440.json:
```json
{
    "body": "<a id='comment:131'></a>\nReplying to [jhpalmieri](#comment%3A130):\n> Why is there no SPKG.rst file for pybind11? Are these suddenly optional?\n\nA simple mistake. There's actually nothing in our scripts that checks the presence of these files (see e.g. #29334). Let's fix it in #30357.",
    "created_at": "2020-08-14T16:49:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584440",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:131'></a>
Replying to [jhpalmieri](#comment%3A130):
> Why is there no SPKG.rst file for pybind11? Are these suddenly optional?

A simple mistake. There's actually nothing in our scripts that checks the presence of these files (see e.g. #29334). Let's fix it in #30357.



---

archive/issue_comments_584441.json:
```json
{
    "body": "<a id='comment:2'></a>\nSomehow this broke building documentation on macOS. See #30351.",
    "created_at": "2020-08-14T18:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584441",
    "user": "https://github.com/slel"
}
```

<a id='comment:2'></a>
Somehow this broke building documentation on macOS. See #30351.



---

archive/issue_comments_584442.json:
```json
{
    "body": "<a id='comment:3'></a>\nI have no idea why this would broke docbuilding, but that's what it looks like. Does anyone have ideas how to debug it? Please discuss at #30351.",
    "created_at": "2020-08-14T23:15:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29766#issuecomment-584442",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>
I have no idea why this would broke docbuilding, but that's what it looks like. Does anyone have ideas how to debug it? Please discuss at #30351.
