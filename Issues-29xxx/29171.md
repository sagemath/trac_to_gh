# Issue 29171: Move giacpy_sage into sage source code

archive/issues_028934.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nAs discussed on [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/uYXGzG_py28), we propose to move the Cython code that used to be in the optional package `giacpy_sage` into `sage/libs/giac/`.\n\nDepends on #30277\n\nCC:  @frederichan-IMJPRG @mwageringel @slel @kiwifb\n\nComponent: **interfaces**\n\nAuthor: **Vincent Delecroix, Matthias Koeppe, Frederic Han**\n\nBranch/Commit: **[`911ddfb`](https://github.com/sagemath/sagetrac-mirror/commit/911ddfbe2fd809473e82eaf0bac1a4c50858d161)**\n\nReviewer: **Matthias Koeppe, Frederic Han, Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29171_\n\n",
    "closed_at": "2020-08-23T17:51:11Z",
    "created_at": "2020-02-09T11:03:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Move giacpy_sage into sage source code",
    "type": "issue",
    "updated_at": "2020-08-23T17:51:11Z",
    "url": "https://github.com/sagemath/sage/issues/29171",
    "user": "https://github.com/videlec"
}
```
<div id="comment:0"></div>

As discussed on [this sage-devel thread](https://groups.google.com/forum/#!topic/sage-devel/uYXGzG_py28), we propose to move the Cython code that used to be in the optional package `giacpy_sage` into `sage/libs/giac/`.

Depends on #30277

CC:  @frederichan-IMJPRG @mwageringel @slel @kiwifb

Component: **interfaces**

Author: **Vincent Delecroix, Matthias Koeppe, Frederic Han**

Branch/Commit: **[`911ddfb`](https://github.com/sagemath/sagetrac-mirror/commit/911ddfbe2fd809473e82eaf0bac1a4c50858d161)**

Reviewer: **Matthias Koeppe, Frederic Han, Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/29171_





---

archive/issue_events_398021.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-09T11:03:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398021"
}
```



---

archive/issue_events_398022.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-09T11:03:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20interfaces",
    "label_color": "0000ff",
    "label_name": "c: interfaces",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398022"
}
```



---

archive/issue_events_398023.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-09T11:03:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398023"
}
```



---

archive/issue_events_398024.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-09T11:03:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398024"
}
```



---

archive/issue_comments_457335.json:
```json
{
    "body": "Branch: **[public/29171](https://github.com/sagemath/sagetrac-mirror/tree/public/29171)**",
    "created_at": "2020-02-09T11:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457335",
    "user": "https://github.com/videlec"
}
```

Branch: **[public/29171](https://github.com/sagemath/sagetrac-mirror/tree/public/29171)**



---

archive/issue_comments_457336.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e49ecf0d50dbc20bc9531bc41d811f8c830ac86\"><code>8e49ecf</code></a></td><td><code>2917: move giacpy_sage into Sage source code</code></td></tr></table>\n",
    "created_at": "2020-02-09T11:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457336",
    "user": "https://github.com/videlec"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e49ecf0d50dbc20bc9531bc41d811f8c830ac86"><code>8e49ecf</code></a></td><td><code>2917: move giacpy_sage into Sage source code</code></td></tr></table>




---

archive/issue_comments_457337.json:
```json
{
    "body": "Commit: **[`8e49ecf`](https://github.com/sagemath/sagetrac-mirror/commit/8e49ecf0d50dbc20bc9531bc41d811f8c830ac86)**",
    "created_at": "2020-02-09T11:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457337",
    "user": "https://github.com/videlec"
}
```

Commit: **[`8e49ecf`](https://github.com/sagemath/sagetrac-mirror/commit/8e49ecf0d50dbc20bc9531bc41d811f8c830ac86)**



---

archive/issue_comments_457338.json:
```json
{
    "body": "Changed commit from **[`8e49ecf`](https://github.com/sagemath/sagetrac-mirror/commit/8e49ecf0d50dbc20bc9531bc41d811f8c830ac86)** to **[`ac934cb`](https://github.com/sagemath/sagetrac-mirror/commit/ac934cbc07f70f8a7d9dbeee7563b57d323cfb8f)**",
    "created_at": "2020-02-09T11:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457338",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8e49ecf`](https://github.com/sagemath/sagetrac-mirror/commit/8e49ecf0d50dbc20bc9531bc41d811f8c830ac86)** to **[`ac934cb`](https://github.com/sagemath/sagetrac-mirror/commit/ac934cbc07f70f8a7d9dbeee7563b57d323cfb8f)**



---

archive/issue_comments_457339.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac934cbc07f70f8a7d9dbeee7563b57d323cfb8f\"><code>ac934cb</code></a></td><td><code>29171: move giacpy_sage into Sage source code</code></td></tr></table>\n",
    "created_at": "2020-02-09T11:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457339",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac934cbc07f70f8a7d9dbeee7563b57d323cfb8f"><code>ac934cb</code></a></td><td><code>29171: move giacpy_sage into Sage source code</code></td></tr></table>




---

archive/issue_comments_457340.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThank you.\nThe doc you want for a giac keyword (Ex: gbasis) is avaible like this:\n\n```\nsage: from sage.libs.giac.giac import *\nsage: libgiac.gbasis._help()\nsage: libgiac.gbasis._sage_doc_()\n```\nIndeed \n`libgiac.gbasis?` doesn't give the good help string. \nNB: you removed the def help(self):\nso now libgiac.gbasis.help()   crashes. You should also remove the property help or use _help in it.",
    "created_at": "2020-02-09T23:48:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457340",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<div id="comment:3" align="right">comment:3</div>

Thank you.
The doc you want for a giac keyword (Ex: gbasis) is avaible like this:

```
sage: from sage.libs.giac.giac import *
sage: libgiac.gbasis._help()
sage: libgiac.gbasis._sage_doc_()
```
Indeed 
`libgiac.gbasis?` doesn't give the good help string. 
NB: you removed the def help(self):
so now libgiac.gbasis.help()   crashes. You should also remove the property help or use _help in it.



---

archive/issue_comments_457341.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nNB: we should think about the new name you chose. Ex backward compatibility or confusions?\n\nEx: in the past I had often to say: \"This  already appears in giac, it doesn't come from giacpy_sage\".\ngiac is already the name of the C++ library, the name of the external giac program and the pexpect interface...",
    "created_at": "2020-02-10T00:06:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457341",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<div id="comment:4" align="right">comment:4</div>

NB: we should think about the new name you chose. Ex backward compatibility or confusions?

Ex: in the past I had often to say: "This  already appears in giac, it doesn't come from giacpy_sage".
giac is already the name of the C++ library, the name of the external giac program and the pexpect interface...



---

archive/issue_events_398025.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398025"
}
```



---

archive/issue_events_398026.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398026"
}
```



---

archive/issue_comments_457342.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457342",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_398027.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-10T02:30:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398027"
}
```



---

archive/issue_events_398028.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-10T02:30:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398028"
}
```



---

archive/issue_comments_457343.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nCurrently `giacpy_sage` seems to try to support older Sage versions (see https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/setup.py). \n\nFrederic, is this something important to preserve, or is it fine to merge these files into Sage?",
    "created_at": "2020-08-10T17:57:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457343",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Currently `giacpy_sage` seems to try to support older Sage versions (see https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/setup.py). 

Frederic, is this something important to preserve, or is it fine to merge these files into Sage?



---

archive/issue_events_398029.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-10T18:41:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398029"
}
```



---

archive/issue_comments_457344.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@mkoeppe](#comment%3A8):\n> Currently `giacpy_sage` seems to try to support older Sage versions (see https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/setup.py). \n> \n> Frederic, is this something important to preserve, or is it fine to merge these files into Sage?\n> \n\nNo I think it this situation where giacpy_sage is not a package anymore it is not important to keep backward comptatibility. I think here it is better to just drop the giacpy_sage setup.py and let sage build it via the entry in module.py as vincent did in this branch.",
    "created_at": "2020-08-10T19:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457344",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@mkoeppe](#comment%3A8):
> Currently `giacpy_sage` seems to try to support older Sage versions (see https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/setup.py). 
> 
> Frederic, is this something important to preserve, or is it fine to merge these files into Sage?
> 

No I think it this situation where giacpy_sage is not a package anymore it is not important to keep backward comptatibility. I think here it is better to just drop the giacpy_sage setup.py and let sage build it via the entry in module.py as vincent did in this branch.



---

archive/issue_comments_457345.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThanks for the quick reaction. Yes, we would just take the Cython files. \nPart of my question, I guess, was to make sure that there is no plan to continue development in https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/ after we merge the Cython files into Sage. (That would be a fork and increase, not decrease, maintenance burden.)",
    "created_at": "2020-08-10T19:51:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457345",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Thanks for the quick reaction. Yes, we would just take the Cython files. 
Part of my question, I guess, was to make sure that there is no plan to continue development in https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/ after we merge the Cython files into Sage. (That would be a fork and increase, not decrease, maintenance burden.)



---

archive/issue_comments_457346.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d095c37d862707b57721fb9c8d85b4b39b7c3b51\"><code>d095c37</code></a></td><td><code>29171: move giacpy_sage into Sage source code</code></td></tr></table>\n",
    "created_at": "2020-08-11T00:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457346",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d095c37d862707b57721fb9c8d85b4b39b7c3b51"><code>d095c37</code></a></td><td><code>29171: move giacpy_sage into Sage source code</code></td></tr></table>




---

archive/issue_comments_457347.json:
```json
{
    "body": "Changed commit from **[`ac934cb`](https://github.com/sagemath/sagetrac-mirror/commit/ac934cbc07f70f8a7d9dbeee7563b57d323cfb8f)** to **[`d095c37`](https://github.com/sagemath/sagetrac-mirror/commit/d095c37d862707b57721fb9c8d85b4b39b7c3b51)**",
    "created_at": "2020-08-11T00:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457347",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ac934cb`](https://github.com/sagemath/sagetrac-mirror/commit/ac934cbc07f70f8a7d9dbeee7563b57d323cfb8f)** to **[`d095c37`](https://github.com/sagemath/sagetrac-mirror/commit/d095c37d862707b57721fb9c8d85b4b39b7c3b51)**



---

archive/issue_comments_457348.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nRebased on 9.2.beta8",
    "created_at": "2020-08-11T00:28:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457348",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Rebased on 9.2.beta8



---

archive/issue_comments_457349.json:
```json
{
    "body": "Dependencies: **#30277**",
    "created_at": "2020-08-11T01:12:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457349",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30277**



---

archive/issue_comments_457350.json:
```json
{
    "body": "Changed commit from **[`d095c37`](https://github.com/sagemath/sagetrac-mirror/commit/d095c37d862707b57721fb9c8d85b4b39b7c3b51)** to **[`5d56332`](https://github.com/sagemath/sagetrac-mirror/commit/5d56332fafce16b294eef025855f8af9edce151a)**",
    "created_at": "2020-08-11T01:15:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457350",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d095c37`](https://github.com/sagemath/sagetrac-mirror/commit/d095c37d862707b57721fb9c8d85b4b39b7c3b51)** to **[`5d56332`](https://github.com/sagemath/sagetrac-mirror/commit/5d56332fafce16b294eef025855f8af9edce151a)**



---

archive/issue_comments_457351.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0473ef3670f0a39c7d0141c09b9e9fc738d3d0b2\"><code>0473ef3</code></a></td><td><code>Merge branch 't/21559/change-src-bin-installation' into t/29950/build_sagelib_using_installed_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72443711047daa51d1ba92b087ec9022b2eeef06\"><code>7244371</code></a></td><td><code>Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29950/build_sagelib_using_installed_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4344f8940fc44d959da5d20dbea43b64181b961f\"><code>4344f89</code></a></td><td><code>Merge branch 't/21559/change-src-bin-installation' into t/29950/build_sagelib_using_installed_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01b96b0f44f4ff7407fd2f3ce83de1cc74259d58\"><code>01b96b0</code></a></td><td><code>Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29950/build_sagelib_using_installed_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2818739c0b2088de9875683c6311f9a7685e4582\"><code>2818739</code></a></td><td><code>Merge branch 't/29950/build_sagelib_using_installed_sage_setup' into t/30277/remove_src_module_list_py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a19fe2a9bf4ed64a48ac3110cccbbdff97684ca\"><code>8a19fe2</code></a></td><td><code>build/make/Makefile.in (sagelib-clean): Clean the new build location</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ccc67b0356373330164dd75060f574c184142473\"><code>ccc67b0</code></a></td><td><code>src/sage_setup: Update cythonized_dir in doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df38027371870edf09f9e06fe1771d3cb2846aac\"><code>df38027</code></a></td><td><code>Merge branch 't/29950/build_sagelib_using_installed_sage_setup' into t/30277/remove_src_module_list_py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bc3f601d00e5b81787456c7db391ec4032ae7ed\"><code>6bc3f60</code></a></td><td><code>Merge branch 't/30277/remove_src_module_list_py' into t/29171/public/29171</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d56332fafce16b294eef025855f8af9edce151a\"><code>5d56332</code></a></td><td><code>sage/libs/giac/giac.pyx: Add distutils directives</code></td></tr></table>\n",
    "created_at": "2020-08-11T01:15:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457351",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0473ef3670f0a39c7d0141c09b9e9fc738d3d0b2"><code>0473ef3</code></a></td><td><code>Merge branch 't/21559/change-src-bin-installation' into t/29950/build_sagelib_using_installed_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72443711047daa51d1ba92b087ec9022b2eeef06"><code>7244371</code></a></td><td><code>Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29950/build_sagelib_using_installed_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4344f8940fc44d959da5d20dbea43b64181b961f"><code>4344f89</code></a></td><td><code>Merge branch 't/21559/change-src-bin-installation' into t/29950/build_sagelib_using_installed_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01b96b0f44f4ff7407fd2f3ce83de1cc74259d58"><code>01b96b0</code></a></td><td><code>Merge branch 't/29701/replace_use_of_module_list_optionalextension' into t/29950/build_sagelib_using_installed_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2818739c0b2088de9875683c6311f9a7685e4582"><code>2818739</code></a></td><td><code>Merge branch 't/29950/build_sagelib_using_installed_sage_setup' into t/30277/remove_src_module_list_py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a19fe2a9bf4ed64a48ac3110cccbbdff97684ca"><code>8a19fe2</code></a></td><td><code>build/make/Makefile.in (sagelib-clean): Clean the new build location</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ccc67b0356373330164dd75060f574c184142473"><code>ccc67b0</code></a></td><td><code>src/sage_setup: Update cythonized_dir in doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df38027371870edf09f9e06fe1771d3cb2846aac"><code>df38027</code></a></td><td><code>Merge branch 't/29950/build_sagelib_using_installed_sage_setup' into t/30277/remove_src_module_list_py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bc3f601d00e5b81787456c7db391ec4032ae7ed"><code>6bc3f60</code></a></td><td><code>Merge branch 't/30277/remove_src_module_list_py' into t/29171/public/29171</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d56332fafce16b294eef025855f8af9edce151a"><code>5d56332</code></a></td><td><code>sage/libs/giac/giac.pyx: Add distutils directives</code></td></tr></table>




---

archive/issue_comments_457352.json:
```json
{
    "body": "Changed author from **Vincent Delecroix** to **Vincent Delecroix, Matthias Koeppe**",
    "created_at": "2020-08-11T01:39:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457352",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Vincent Delecroix** to **Vincent Delecroix, Matthias Koeppe**



---

archive/issue_events_398030.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-11T01:39:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398030"
}
```



---

archive/issue_events_398031.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-11T01:39:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398031"
}
```



---

archive/issue_comments_457353.json:
```json
{
    "body": "Changed commit from **[`5d56332`](https://github.com/sagemath/sagetrac-mirror/commit/5d56332fafce16b294eef025855f8af9edce151a)** to **[`5471b80`](https://github.com/sagemath/sagetrac-mirror/commit/5471b803be3861e8c2e391c9625647ec49bfa8e5)**",
    "created_at": "2020-08-11T01:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457353",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5d56332`](https://github.com/sagemath/sagetrac-mirror/commit/5d56332fafce16b294eef025855f8af9edce151a)** to **[`5471b80`](https://github.com/sagemath/sagetrac-mirror/commit/5471b803be3861e8c2e391c9625647ec49bfa8e5)**



---

archive/issue_comments_457354.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5239d30e84cd734a9fff1a3444d5e6c17ab9472d\"><code>5239d30</code></a></td><td><code>build/pkgs/giac: Update to 1.5.0.87</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bbd05637c0b4a2d7a733af099540c91805363e2\"><code>8bbd056</code></a></td><td><code>sage.interfaces.giac.GiacElement._latex_: Fix implementation and doctest, make doctest more flexible</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5471b803be3861e8c2e391c9625647ec49bfa8e5\"><code>5471b80</code></a></td><td><code>Merge branch 't/29552/upgrade_giac_to_1_5_0_87' into HEAD</code></td></tr></table>\n",
    "created_at": "2020-08-11T01:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457354",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5239d30e84cd734a9fff1a3444d5e6c17ab9472d"><code>5239d30</code></a></td><td><code>build/pkgs/giac: Update to 1.5.0.87</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bbd05637c0b4a2d7a733af099540c91805363e2"><code>8bbd056</code></a></td><td><code>sage.interfaces.giac.GiacElement._latex_: Fix implementation and doctest, make doctest more flexible</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5471b803be3861e8c2e391c9625647ec49bfa8e5"><code>5471b80</code></a></td><td><code>Merge branch 't/29552/upgrade_giac_to_1_5_0_87' into HEAD</code></td></tr></table>




---

archive/issue_comments_457355.json:
```json
{
    "body": "Changed dependencies from **#30277** to **#30277, #29552**",
    "created_at": "2020-08-11T01:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457355",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30277** to **#30277, #29552**



---

archive/issue_comments_457356.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n\n```\n[sagelib-9.2.beta8] In file included from build/cythonized/sage/libs/giac/giac.cpp:7695:\n[sagelib-9.2.beta8] build/cythonized/sage/libs/giac/misc.h:104:12: error: implicit instantiation of undefined template 'std::__1::basic_ofstream<char, std::__1::char_traits<char> >'\n[sagelib-9.2.beta8]   ofstream of(filename.c_str());\n[sagelib-9.2.beta8]            ^\n[sagelib-9.2.beta8] /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/iosfwd:146:32: note: template is declared here\n[sagelib-9.2.beta8]     class _LIBCPP_TEMPLATE_VIS basic_ofstream;\n[sagelib-9.2.beta8]                                ^\n[sagelib-9.2.beta8] In file included from build/cythonized/sage/libs/giac/giac.cpp:7695:\n[sagelib-9.2.beta8] build/cythonized/sage/libs/giac/misc.h:110:12: error: implicit instantiation of undefined template 'std::__1::basic_ifstream<char, std::__1::char_traits<char> >'\n[sagelib-9.2.beta8]   ifstream f(filename.c_str());\n[sagelib-9.2.beta8]            ^\n[sagelib-9.2.beta8] /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/iosfwd:144:32: note: template is declared here\n[sagelib-9.2.beta8]     class _LIBCPP_TEMPLATE_VIS basic_ifstream;\n[sagelib-9.2.beta8]                                ^\n```",
    "created_at": "2020-08-11T01:52:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457356",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>


```
[sagelib-9.2.beta8] In file included from build/cythonized/sage/libs/giac/giac.cpp:7695:
[sagelib-9.2.beta8] build/cythonized/sage/libs/giac/misc.h:104:12: error: implicit instantiation of undefined template 'std::__1::basic_ofstream<char, std::__1::char_traits<char> >'
[sagelib-9.2.beta8]   ofstream of(filename.c_str());
[sagelib-9.2.beta8]            ^
[sagelib-9.2.beta8] /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/iosfwd:146:32: note: template is declared here
[sagelib-9.2.beta8]     class _LIBCPP_TEMPLATE_VIS basic_ofstream;
[sagelib-9.2.beta8]                                ^
[sagelib-9.2.beta8] In file included from build/cythonized/sage/libs/giac/giac.cpp:7695:
[sagelib-9.2.beta8] build/cythonized/sage/libs/giac/misc.h:110:12: error: implicit instantiation of undefined template 'std::__1::basic_ifstream<char, std::__1::char_traits<char> >'
[sagelib-9.2.beta8]   ifstream f(filename.c_str());
[sagelib-9.2.beta8]            ^
[sagelib-9.2.beta8] /Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/iosfwd:144:32: note: template is declared here
[sagelib-9.2.beta8]     class _LIBCPP_TEMPLATE_VIS basic_ifstream;
[sagelib-9.2.beta8]                                ^
```



---

archive/issue_comments_457357.json:
```json
{
    "body": "Changed commit from **[`5471b80`](https://github.com/sagemath/sagetrac-mirror/commit/5471b803be3861e8c2e391c9625647ec49bfa8e5)** to **[`6a2934e`](https://github.com/sagemath/sagetrac-mirror/commit/6a2934ec8258214cfe2708ce935c01b1f9b99b80)**",
    "created_at": "2020-08-11T01:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457357",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5471b80`](https://github.com/sagemath/sagetrac-mirror/commit/5471b803be3861e8c2e391c9625647ec49bfa8e5)** to **[`6a2934e`](https://github.com/sagemath/sagetrac-mirror/commit/6a2934ec8258214cfe2708ce935c01b1f9b99b80)**



---

archive/issue_comments_457358.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a2934ec8258214cfe2708ce935c01b1f9b99b80\"><code>6a2934e</code></a></td><td><code>src/sage/libs/giac/misc.h: Add missing C++ include</code></td></tr></table>\n",
    "created_at": "2020-08-11T01:55:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457358",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a2934ec8258214cfe2708ce935c01b1f9b99b80"><code>6a2934e</code></a></td><td><code>src/sage/libs/giac/misc.h: Add missing C++ include</code></td></tr></table>




---

archive/issue_events_398032.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-11T02:02:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398032"
}
```



---

archive/issue_events_398033.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-11T02:02:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398033"
}
```



---

archive/issue_comments_457359.json:
```json
{
    "body": "Changed commit from **[`6a2934e`](https://github.com/sagemath/sagetrac-mirror/commit/6a2934ec8258214cfe2708ce935c01b1f9b99b80)** to **[`aff8292`](https://github.com/sagemath/sagetrac-mirror/commit/aff8292282fcf9bab697f862c66ce5988893ed1e)**",
    "created_at": "2020-08-11T02:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457359",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6a2934e`](https://github.com/sagemath/sagetrac-mirror/commit/6a2934ec8258214cfe2708ce935c01b1f9b99b80)** to **[`aff8292`](https://github.com/sagemath/sagetrac-mirror/commit/aff8292282fcf9bab697f862c66ce5988893ed1e)**



---

archive/issue_comments_457360.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3793c8d15e84c6aa5a25a89d3178c4570e92c4c\"><code>a3793c8</code></a></td><td><code>Rename src/sage/libs/giac.py to src/sage/libs/giac/__init__.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5445b2f1bf82f0a5913321383f19274ba809d1c6\"><code>5445b2f</code></a></td><td><code>sage.libs.giac: Update import statements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aff8292282fcf9bab697f862c66ce5988893ed1e\"><code>aff8292</code></a></td><td><code>Remove '# optional - giacpy_sage'</code></td></tr></table>\n",
    "created_at": "2020-08-11T02:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457360",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3793c8d15e84c6aa5a25a89d3178c4570e92c4c"><code>a3793c8</code></a></td><td><code>Rename src/sage/libs/giac.py to src/sage/libs/giac/__init__.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5445b2f1bf82f0a5913321383f19274ba809d1c6"><code>5445b2f</code></a></td><td><code>sage.libs.giac: Update import statements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aff8292282fcf9bab697f862c66ce5988893ed1e"><code>aff8292</code></a></td><td><code>Remove '# optional - giacpy_sage'</code></td></tr></table>




---

archive/issue_comments_457361.json:
```json
{
    "body": "Changed commit from **[`aff8292`](https://github.com/sagemath/sagetrac-mirror/commit/aff8292282fcf9bab697f862c66ce5988893ed1e)** to **[`1fbe528`](https://github.com/sagemath/sagetrac-mirror/commit/1fbe52816c7293bc2e3680d55c389609e5898438)**",
    "created_at": "2020-08-11T02:38:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457361",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`aff8292`](https://github.com/sagemath/sagetrac-mirror/commit/aff8292282fcf9bab697f862c66ce5988893ed1e)** to **[`1fbe528`](https://github.com/sagemath/sagetrac-mirror/commit/1fbe52816c7293bc2e3680d55c389609e5898438)**



---

archive/issue_comments_457362.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1fbe52816c7293bc2e3680d55c389609e5898438\"><code>1fbe528</code></a></td><td><code>src/sage/libs/giac/giac.pyx: Update `_latex_` doctest</code></td></tr></table>\n",
    "created_at": "2020-08-11T02:38:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457362",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1fbe52816c7293bc2e3680d55c389609e5898438"><code>1fbe528</code></a></td><td><code>src/sage/libs/giac/giac.pyx: Update `_latex_` doctest</code></td></tr></table>




---

archive/issue_comments_457363.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nSeveral errors remain -- expert help is needed\n\n```\nsage -t --random-seed=0 src/sage/libs/giac/giac.pyx\n**********************************************************************\nFile \"src/sage/libs/giac/giac.pyx\", line 30, in sage.libs.giac.giac\nFailed example:\n    from sage.libs.giac.giac import *\nExpected nothing\nGot:\n    Help file /Applications/usr/share/giac/doc/fr/aide_cas not found\n    Added 0 synonyms\n**********************************************************************\nFile \"src/sage/libs/giac/giac.pyx\", line 980, in sage.libs.giac.giac.encstring23.GiacSetting.Pygen.__getitem__\nFailed example:\n    l[0]\nExpected:\n    Traceback (most recent call last):\n      File \"<stdin>\", line 1, in <module>\n    ...\n    IndexError: list index 0 out of range\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"sage/libs/giac/giac.pyx\", line 996, in sage.libs.giac.giac.Pygen.__getitem__ (build/cythonized/sage/libs/giac/giac.cpp:12218)\n        result=self.gptr[0][<int>i]\n    RuntimeError: Index outside range : 0, vector size is 0, syntax compatibility mode xcas\n     Error: Invalid dimension\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 715, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1139, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.giac.giac.encstring23.GiacSetting.Pygen.__getitem__[11]>\", line 1, in <module>\n        l[Integer(0)]\n      File \"sage/libs/giac/giac.pyx\", line 1000, in sage.libs.giac.giac.Pygen.__getitem__ (build/cythonized/sage/libs/giac/giac.cpp:12285)\n        raise RuntimeError\n    RuntimeError\n**********************************************************************\nFile \"src/sage/libs/giac/giac.pyx\", line 985, in sage.libs.giac.giac.encstring23.GiacSetting.Pygen.__getitem__\nFailed example:\n    sig_on_count() # check sig_on/off pairings (virtual doctest)\nExpected:\n    0\nGot:\n    1\n**********************************************************************\n```",
    "created_at": "2020-08-11T02:40:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457363",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Several errors remain -- expert help is needed

```
sage -t --random-seed=0 src/sage/libs/giac/giac.pyx
**********************************************************************
File "src/sage/libs/giac/giac.pyx", line 30, in sage.libs.giac.giac
Failed example:
    from sage.libs.giac.giac import *
Expected nothing
Got:
    Help file /Applications/usr/share/giac/doc/fr/aide_cas not found
    Added 0 synonyms
**********************************************************************
File "src/sage/libs/giac/giac.pyx", line 980, in sage.libs.giac.giac.encstring23.GiacSetting.Pygen.__getitem__
Failed example:
    l[0]
Expected:
    Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
    ...
    IndexError: list index 0 out of range
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "sage/libs/giac/giac.pyx", line 996, in sage.libs.giac.giac.Pygen.__getitem__ (build/cythonized/sage/libs/giac/giac.cpp:12218)
        result=self.gptr[0][<int>i]
    RuntimeError: Index outside range : 0, vector size is 0, syntax compatibility mode xcas
     Error: Invalid dimension
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/mkoeppe/s/sage/sage-rebasing/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 715, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/mkoeppe/s/sage/sage-rebasing/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1139, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.giac.giac.encstring23.GiacSetting.Pygen.__getitem__[11]>", line 1, in <module>
        l[Integer(0)]
      File "sage/libs/giac/giac.pyx", line 1000, in sage.libs.giac.giac.Pygen.__getitem__ (build/cythonized/sage/libs/giac/giac.cpp:12285)
        raise RuntimeError
    RuntimeError
**********************************************************************
File "src/sage/libs/giac/giac.pyx", line 985, in sage.libs.giac.giac.encstring23.GiacSetting.Pygen.__getitem__
Failed example:
    sig_on_count() # check sig_on/off pairings (virtual doctest)
Expected:
    0
Got:
    1
**********************************************************************
```



---

archive/issue_events_398034.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-12T20:34:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398034"
}
```



---

archive/issue_events_398035.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-12T20:34:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398035"
}
```



---

archive/issue_comments_457364.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ad89d8ede5b4e6587c0cf95ab92c17b964caf18\"><code>0ad89d8</code></a></td><td><code>doctest fixes + `__len__` modification for giac 1.5.0.87 behavior with emptylist seq[]</code></td></tr></table>\n",
    "created_at": "2020-08-14T14:31:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457364",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ad89d8ede5b4e6587c0cf95ab92c17b964caf18"><code>0ad89d8</code></a></td><td><code>doctest fixes + `__len__` modification for giac 1.5.0.87 behavior with emptylist seq[]</code></td></tr></table>




---

archive/issue_comments_457365.json:
```json
{
    "body": "Changed commit from **[`1fbe528`](https://github.com/sagemath/sagetrac-mirror/commit/1fbe52816c7293bc2e3680d55c389609e5898438)** to **[`0ad89d8`](https://github.com/sagemath/sagetrac-mirror/commit/0ad89d8ede5b4e6587c0cf95ab92c17b964caf18)**",
    "created_at": "2020-08-14T14:31:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457365",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1fbe528`](https://github.com/sagemath/sagetrac-mirror/commit/1fbe52816c7293bc2e3680d55c389609e5898438)** to **[`0ad89d8`](https://github.com/sagemath/sagetrac-mirror/commit/0ad89d8ede5b4e6587c0cf95ab92c17b964caf18)**



---

archive/issue_comments_457366.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nNB: the first time that giacpy is loaded the C++ library  outputs an OS dependant message so we need to put a `# random` flag in the doctests at the first import\n\nI have modified giacpy `__len__` to work with 1.5.0.87 whatever if we patch it or not.",
    "created_at": "2020-08-14T14:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457366",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<div id="comment:28" align="right">comment:28</div>

NB: the first time that giacpy is loaded the C++ library  outputs an OS dependant message so we need to put a `# random` flag in the doctests at the first import

I have modified giacpy `__len__` to work with 1.5.0.87 whatever if we patch it or not.



---

archive/issue_comments_457367.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nDoes this also work with earlier 1.5.0.x? Then perhaps we can go forward with this ticket without the upgrade in #29552",
    "created_at": "2020-08-14T15:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457367",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">comment:29</div>

Does this also work with earlier 1.5.0.x? Then perhaps we can go forward with this ticket without the upgrade in #29552



---

archive/issue_comments_457368.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@frederichan-IMJPRG](#comment%3A4):\n> NB: we should think about the new name you chose. Ex backward compatibility or confusions?\n> \n> Ex: in the past I had often to say: \"This  already appears in giac, it doesn't come from giacpy_sage\".\n> giac is already the name of the C++ library, the name of the external giac program and the pexpect interface...\n\nSorry I missed this comment. Are you referring to the name of the module, `sage.libs.giac`?",
    "created_at": "2020-08-14T15:25:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457368",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@frederichan-IMJPRG](#comment%3A4):
> NB: we should think about the new name you chose. Ex backward compatibility or confusions?
> 
> Ex: in the past I had often to say: "This  already appears in giac, it doesn't come from giacpy_sage".
> giac is already the name of the C++ library, the name of the external giac program and the pexpect interface...

Sorry I missed this comment. Are you referring to the name of the module, `sage.libs.giac`?



---

archive/issue_comments_457369.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f90e37d549f1d965a31d894752e19f04326ea49b\"><code>f90e37d</code></a></td><td><code>src/sage/libs/giac/misc.h: Add missing C++ include</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fce9cf8cff7eaf82f34f622f227dcfff10a6cb45\"><code>fce9cf8</code></a></td><td><code>Rename src/sage/libs/giac.py to src/sage/libs/giac/__init__.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c80909ebefc8d11649c7ff97c0d9b2161064f1f\"><code>7c80909</code></a></td><td><code>sage.libs.giac: Update import statements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f34aef03e2c6870b546d21a864cc2cb98b7a012e\"><code>f34aef0</code></a></td><td><code>Remove '# optional - giacpy_sage'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03385562ea42dde9f622f9f8c41423f52fc3b424\"><code>0338556</code></a></td><td><code>src/sage/libs/giac/giac.pyx: Update `_latex_` doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/798f6c2853a50cf2fbcd79371dbf5e58a569be37\"><code>798f6c2</code></a></td><td><code>doctest fixes + `__len__` modification for giac 1.5.0.87 behavior with emptylist seq[]</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17bc2e47342a58de0c73d7593df07c333e2f7dd4\"><code>17bc2e4</code></a></td><td><code>sage/libs/giac/giac.pyx: Make `_latex_` doctest more flexible</code></td></tr></table>\n",
    "created_at": "2020-08-14T17:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457369",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f90e37d549f1d965a31d894752e19f04326ea49b"><code>f90e37d</code></a></td><td><code>src/sage/libs/giac/misc.h: Add missing C++ include</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fce9cf8cff7eaf82f34f622f227dcfff10a6cb45"><code>fce9cf8</code></a></td><td><code>Rename src/sage/libs/giac.py to src/sage/libs/giac/__init__.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c80909ebefc8d11649c7ff97c0d9b2161064f1f"><code>7c80909</code></a></td><td><code>sage.libs.giac: Update import statements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f34aef03e2c6870b546d21a864cc2cb98b7a012e"><code>f34aef0</code></a></td><td><code>Remove '# optional - giacpy_sage'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03385562ea42dde9f622f9f8c41423f52fc3b424"><code>0338556</code></a></td><td><code>src/sage/libs/giac/giac.pyx: Update `_latex_` doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/798f6c2853a50cf2fbcd79371dbf5e58a569be37"><code>798f6c2</code></a></td><td><code>doctest fixes + `__len__` modification for giac 1.5.0.87 behavior with emptylist seq[]</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17bc2e47342a58de0c73d7593df07c333e2f7dd4"><code>17bc2e4</code></a></td><td><code>sage/libs/giac/giac.pyx: Make `_latex_` doctest more flexible</code></td></tr></table>




---

archive/issue_comments_457370.json:
```json
{
    "body": "Changed commit from **[`0ad89d8`](https://github.com/sagemath/sagetrac-mirror/commit/0ad89d8ede5b4e6587c0cf95ab92c17b964caf18)** to **[`17bc2e4`](https://github.com/sagemath/sagetrac-mirror/commit/17bc2e47342a58de0c73d7593df07c333e2f7dd4)**",
    "created_at": "2020-08-14T17:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457370",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0ad89d8`](https://github.com/sagemath/sagetrac-mirror/commit/0ad89d8ede5b4e6587c0cf95ab92c17b964caf18)** to **[`17bc2e4`](https://github.com/sagemath/sagetrac-mirror/commit/17bc2e47342a58de0c73d7593df07c333e2f7dd4)**



---

archive/issue_comments_457371.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@mkoeppe](#comment%3A29):\n> Does this also work with earlier 1.5.0.x? Then perhaps we can go forward with this ticket without the upgrade in #29552\n\nOK, I have rebased it, dropping the merge of the upgrade ticket #29552.\n\nThis seems to work.",
    "created_at": "2020-08-14T17:02:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457371",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@mkoeppe](#comment%3A29):
> Does this also work with earlier 1.5.0.x? Then perhaps we can go forward with this ticket without the upgrade in #29552

OK, I have rebased it, dropping the merge of the upgrade ticket #29552.

This seems to work.



---

archive/issue_events_398036.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-14T17:02:11Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398036"
}
```



---

archive/issue_events_398037.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-14T17:02:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398037"
}
```



---

archive/issue_events_398038.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-14T17:02:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398038"
}
```



---

archive/issue_events_398039.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-14T17:02:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398039"
}
```



---

archive/issue_comments_457372.json:
```json
{
    "body": "Changed dependencies from **#30277, #29552** to **#30277**",
    "created_at": "2020-08-14T17:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457372",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30277, #29552** to **#30277**



---

archive/issue_comments_457373.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, ...**",
    "created_at": "2020-08-14T17:04:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457373",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe, ...**



---

archive/issue_comments_457374.json:
```json
{
    "body": "Changed author from **Vincent Delecroix, Matthias Koeppe** to **Vincent Delecroix, Matthias Koeppe, Frederic Han**",
    "created_at": "2020-08-14T17:04:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457374",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Vincent Delecroix, Matthias Koeppe** to **Vincent Delecroix, Matthias Koeppe, Frederic Han**



---

archive/issue_comments_457375.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, github.com/mkoeppe/sage/actions/runs/208891335, github.com/mkoeppe/sage/actions/runs/208891338, github.com/mkoeppe/sage/actions/runs/208891334, ...**",
    "created_at": "2020-08-14T17:14:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457375",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, github.com/mkoeppe/sage/actions/runs/208891335, github.com/mkoeppe/sage/actions/runs/208891338, github.com/mkoeppe/sage/actions/runs/208891334, ...**



---

archive/issue_comments_457376.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nIt would probably be good to add some docstrings, for example for `GiacInstance`...",
    "created_at": "2020-08-14T17:31:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457376",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">comment:36</div>

It would probably be good to add some docstrings, for example for `GiacInstance`...



---

archive/issue_comments_457377.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bbd05637c0b4a2d7a733af099540c91805363e2\"><code>8bbd056</code></a></td><td><code>sage.interfaces.giac.GiacElement._latex_: Fix implementation and doctest, make doctest more flexible</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5471b803be3861e8c2e391c9625647ec49bfa8e5\"><code>5471b80</code></a></td><td><code>Merge branch 't/29552/upgrade_giac_to_1_5_0_87' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a2934ec8258214cfe2708ce935c01b1f9b99b80\"><code>6a2934e</code></a></td><td><code>src/sage/libs/giac/misc.h: Add missing C++ include</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3793c8d15e84c6aa5a25a89d3178c4570e92c4c\"><code>a3793c8</code></a></td><td><code>Rename src/sage/libs/giac.py to src/sage/libs/giac/__init__.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5445b2f1bf82f0a5913321383f19274ba809d1c6\"><code>5445b2f</code></a></td><td><code>sage.libs.giac: Update import statements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aff8292282fcf9bab697f862c66ce5988893ed1e\"><code>aff8292</code></a></td><td><code>Remove '# optional - giacpy_sage'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1fbe52816c7293bc2e3680d55c389609e5898438\"><code>1fbe528</code></a></td><td><code>src/sage/libs/giac/giac.pyx: Update `_latex_` doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ad89d8ede5b4e6587c0cf95ab92c17b964caf18\"><code>0ad89d8</code></a></td><td><code>doctest fixes + `__len__` modification for giac 1.5.0.87 behavior with emptylist seq[]</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d25a4b0a23b7331f44fcf71d18691ec21ee9ab5\"><code>7d25a4b</code></a></td><td><code>Merge branch 'public/29171' of git://trac.sagemath.org/sage into public/29171</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f528a1d31dfb81a7c229cf376a5fcfe9ee677ba\"><code>2f528a1</code></a></td><td><code>put giac methods in a separate file with doctrings from giac's help</code></td></tr></table>\n",
    "created_at": "2020-08-15T12:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457377",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bbd05637c0b4a2d7a733af099540c91805363e2"><code>8bbd056</code></a></td><td><code>sage.interfaces.giac.GiacElement._latex_: Fix implementation and doctest, make doctest more flexible</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5471b803be3861e8c2e391c9625647ec49bfa8e5"><code>5471b80</code></a></td><td><code>Merge branch 't/29552/upgrade_giac_to_1_5_0_87' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a2934ec8258214cfe2708ce935c01b1f9b99b80"><code>6a2934e</code></a></td><td><code>src/sage/libs/giac/misc.h: Add missing C++ include</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3793c8d15e84c6aa5a25a89d3178c4570e92c4c"><code>a3793c8</code></a></td><td><code>Rename src/sage/libs/giac.py to src/sage/libs/giac/__init__.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5445b2f1bf82f0a5913321383f19274ba809d1c6"><code>5445b2f</code></a></td><td><code>sage.libs.giac: Update import statements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aff8292282fcf9bab697f862c66ce5988893ed1e"><code>aff8292</code></a></td><td><code>Remove '# optional - giacpy_sage'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1fbe52816c7293bc2e3680d55c389609e5898438"><code>1fbe528</code></a></td><td><code>src/sage/libs/giac/giac.pyx: Update `_latex_` doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ad89d8ede5b4e6587c0cf95ab92c17b964caf18"><code>0ad89d8</code></a></td><td><code>doctest fixes + `__len__` modification for giac 1.5.0.87 behavior with emptylist seq[]</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d25a4b0a23b7331f44fcf71d18691ec21ee9ab5"><code>7d25a4b</code></a></td><td><code>Merge branch 'public/29171' of git://trac.sagemath.org/sage into public/29171</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f528a1d31dfb81a7c229cf376a5fcfe9ee677ba"><code>2f528a1</code></a></td><td><code>put giac methods in a separate file with doctrings from giac's help</code></td></tr></table>




---

archive/issue_comments_457378.json:
```json
{
    "body": "Changed commit from **[`17bc2e4`](https://github.com/sagemath/sagetrac-mirror/commit/17bc2e47342a58de0c73d7593df07c333e2f7dd4)** to **[`2f528a1`](https://github.com/sagemath/sagetrac-mirror/commit/2f528a1d31dfb81a7c229cf376a5fcfe9ee677ba)**",
    "created_at": "2020-08-15T12:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457378",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`17bc2e4`](https://github.com/sagemath/sagetrac-mirror/commit/17bc2e47342a58de0c73d7593df07c333e2f7dd4)** to **[`2f528a1`](https://github.com/sagemath/sagetrac-mirror/commit/2f528a1d31dfb81a7c229cf376a5fcfe9ee677ba)**



---

archive/issue_comments_457379.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThis seems to work well.\nWe need another reviewer on this ticket...",
    "created_at": "2020-08-15T21:20:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457379",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">comment:38</div>

This seems to work well.
We need another reviewer on this ticket...



---

archive/issue_comments_457380.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, github.com/mkoeppe/sage/actions/runs/208891335, github.com/mkoeppe/sage/actions/runs/208891338, github.com/mkoeppe/sage/actions/runs/208891334, ...** to **Matthias Koeppe, ...**",
    "created_at": "2020-08-15T21:21:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457380",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, github.com/mkoeppe/sage/actions/runs/208891335, github.com/mkoeppe/sage/actions/runs/208891338, github.com/mkoeppe/sage/actions/runs/208891334, ...** to **Matthias Koeppe, ...**



---

archive/issue_comments_457381.json:
```json
{
    "body": "Changed commit from **[`2f528a1`](https://github.com/sagemath/sagetrac-mirror/commit/2f528a1d31dfb81a7c229cf376a5fcfe9ee677ba)** to **[`2e44aa6`](https://github.com/sagemath/sagetrac-mirror/commit/2e44aa6a3ea5e4c2dfc281ce82f2a52a90ca60ce)**",
    "created_at": "2020-08-16T07:02:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457381",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2f528a1`](https://github.com/sagemath/sagetrac-mirror/commit/2f528a1d31dfb81a7c229cf376a5fcfe9ee677ba)** to **[`2e44aa6`](https://github.com/sagemath/sagetrac-mirror/commit/2e44aa6a3ea5e4c2dfc281ce82f2a52a90ca60ce)**



---

archive/issue_comments_457382.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e44aa6a3ea5e4c2dfc281ce82f2a52a90ca60ce\"><code>2e44aa6</code></a></td><td><code>remove optional giacpy_sage from multi_polynomial_ideal</code></td></tr></table>\n",
    "created_at": "2020-08-16T07:02:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457382",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e44aa6a3ea5e4c2dfc281ce82f2a52a90ca60ce"><code>2e44aa6</code></a></td><td><code>remove optional giacpy_sage from multi_polynomial_ideal</code></td></tr></table>




---

archive/issue_comments_457383.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nCan we import the  libgiac function from sage/libs/all.py such that it is avaiable in a similar way as libgap?\nthe problem if I add `lazy_import('sage.libs.giac.giac', 'libgiac')`\nis that the first time one type libgiac(2) the user might be confused by the loading message of the giac library:\n\n```\nsage: libgiac(2)                                                                                              \n// Giac share root-directory:/home/fred-dev/sage/develop/sage.new/local/share/giac/\n// Giac share root-directory:/home/fred-dev/sage/develop/sage.new/local/share/giac/\nHelp file /home/fred-dev/sage/develop/sage.new/local/share/giac/doc/fr/aide_cas not found\nAdded 0 synonyms\n2\n```\n\nis it better to not use lazy_import or to force the loading at startup  or just keep this message during the first use of libgiac?",
    "created_at": "2020-08-16T07:36:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457383",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<div id="comment:41" align="right">comment:41</div>

Can we import the  libgiac function from sage/libs/all.py such that it is avaiable in a similar way as libgap?
the problem if I add `lazy_import('sage.libs.giac.giac', 'libgiac')`
is that the first time one type libgiac(2) the user might be confused by the loading message of the giac library:

```
sage: libgiac(2)                                                                                              
// Giac share root-directory:/home/fred-dev/sage/develop/sage.new/local/share/giac/
// Giac share root-directory:/home/fred-dev/sage/develop/sage.new/local/share/giac/
Help file /home/fred-dev/sage/develop/sage.new/local/share/giac/doc/fr/aide_cas not found
Added 0 synonyms
2
```

is it better to not use lazy_import or to force the loading at startup  or just keep this message during the first use of libgiac?



---

archive/issue_comments_457384.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI have used this file [https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/mkkeywords.py](https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/mkkeywords.py)  to create the auto-methods.pxi file. But I don't know where to put it.\nIt can be usefull for maintenance but it is not used by giacpy. Building auto-methods.pxi is quite long and too dangerous to be rebuilt on the fly. (not implementing a new giac keyword doesn\"t break the giacpy built but some new giac keywords often cause trouble)\n\nalso how should we deal with backward compatibility?\nExample: in snappy tree i see some: `from giacpy_sage import libgiac` here\n[https://bitbucket.org/mgoerner/snappy/src/default/dev/extended_ptolemy/giac_helper.py](https://bitbucket.org/mgoerner/snappy/src/default/dev/extended_ptolemy/giac_helper.py)",
    "created_at": "2020-08-16T08:48:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457384",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<div id="comment:42" align="right">comment:42</div>

I have used this file [https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/mkkeywords.py](https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/mkkeywords.py)  to create the auto-methods.pxi file. But I don't know where to put it.
It can be usefull for maintenance but it is not used by giacpy. Building auto-methods.pxi is quite long and too dangerous to be rebuilt on the fly. (not implementing a new giac keyword doesn"t break the giacpy built but some new giac keywords often cause trouble)

also how should we deal with backward compatibility?
Example: in snappy tree i see some: `from giacpy_sage import libgiac` here
[https://bitbucket.org/mgoerner/snappy/src/default/dev/extended_ptolemy/giac_helper.py](https://bitbucket.org/mgoerner/snappy/src/default/dev/extended_ptolemy/giac_helper.py)



---

archive/issue_comments_457385.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@frederichan-IMJPRG](#comment%3A42):\n> I have used this file [https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/mkkeywords.py](https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/mkkeywords.py)  to create the auto-methods.pxi file. But I don't know where to put it.\n> It can be usefull for maintenance but it is not used by giacpy. Building auto-methods.pxi is quite long and too dangerous to be rebuilt on the fly. (not implementing a new giac keyword doesn\"t break the giacpy built but some new giac keywords often cause trouble)\n\nI think `src/sage_setup/autogen/` is the right place for that. Include comments like the above that explain why it's not called automatically.",
    "created_at": "2020-08-16T12:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457385",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@frederichan-IMJPRG](#comment%3A42):
> I have used this file [https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/mkkeywords.py](https://gitlab.math.univ-paris-diderot.fr/han/giacpy-sage/blob/master/mkkeywords.py)  to create the auto-methods.pxi file. But I don't know where to put it.
> It can be usefull for maintenance but it is not used by giacpy. Building auto-methods.pxi is quite long and too dangerous to be rebuilt on the fly. (not implementing a new giac keyword doesn"t break the giacpy built but some new giac keywords often cause trouble)

I think `src/sage_setup/autogen/` is the right place for that. Include comments like the above that explain why it's not called automatically.



---

archive/issue_comments_457386.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@frederichan-IMJPRG](#comment%3A41):\n> Can we import the  libgiac function from sage/libs/all.py such that it is avaiable in a similar way as libgap?\n\nYes, this is a good idea - it would match `libgap` and `maxima_calculus`, which are available too.\n\n> the problem if I add `lazy_import('sage.libs.giac.giac', 'libgiac')`\n> is that the first time one type libgiac(2) the user might be confused by the loading message of the giac library [...]:\n\nThat's not a big problem. \n> sage: libgiac(2)                                                                                              \n> // Giac share root-directory:/home/fred-dev/sage/develop/sage.new/local/share/giac/\n> // Giac share root-directory:/home/fred-dev/sage/develop/sage.new/local/share/giac/\n\nPerhaps open an issue with upstream to reduce verbosity in library mode?\n\n> Help file /home/fred-dev/sage/develop/sage.new/local/share/giac/doc/fr/aide_cas not found\n\nThere's something wrong with our installation, as mentioned in #29552\n\n> is it better to not use lazy_import or to force the loading at startup \n\nNo, definitely not. We don't want to load it at startup.",
    "created_at": "2020-08-16T13:08:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457386",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@frederichan-IMJPRG](#comment%3A41):
> Can we import the  libgiac function from sage/libs/all.py such that it is avaiable in a similar way as libgap?

Yes, this is a good idea - it would match `libgap` and `maxima_calculus`, which are available too.

> the problem if I add `lazy_import('sage.libs.giac.giac', 'libgiac')`
> is that the first time one type libgiac(2) the user might be confused by the loading message of the giac library [...]:

That's not a big problem. 
> sage: libgiac(2)                                                                                              
> // Giac share root-directory:/home/fred-dev/sage/develop/sage.new/local/share/giac/
> // Giac share root-directory:/home/fred-dev/sage/develop/sage.new/local/share/giac/

Perhaps open an issue with upstream to reduce verbosity in library mode?

> Help file /home/fred-dev/sage/develop/sage.new/local/share/giac/doc/fr/aide_cas not found

There's something wrong with our installation, as mentioned in #29552

> is it better to not use lazy_import or to force the loading at startup 

No, definitely not. We don't want to load it at startup.



---

archive/issue_comments_457387.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@frederichan-IMJPRG](#comment%3A42):\n> also how should we deal with backward compatibility?\n> Example: in snappy tree i see some: `from giacpy_sage import libgiac` here\n> [https://bitbucket.org/mgoerner/snappy/src/default/dev/extended_ptolemy/giac_helper.py](https://bitbucket.org/mgoerner/snappy/src/default/dev/extended_ptolemy/giac_helper.py)\n\nI would suggest that we don't do anything, leaving it to the user libraries to add some try/except to their imports.",
    "created_at": "2020-08-16T13:17:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457387",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@frederichan-IMJPRG](#comment%3A42):
> also how should we deal with backward compatibility?
> Example: in snappy tree i see some: `from giacpy_sage import libgiac` here
> [https://bitbucket.org/mgoerner/snappy/src/default/dev/extended_ptolemy/giac_helper.py](https://bitbucket.org/mgoerner/snappy/src/default/dev/extended_ptolemy/giac_helper.py)

I would suggest that we don't do anything, leaving it to the user libraries to add some try/except to their imports.



---

archive/issue_comments_457388.json:
```json
{
    "body": "Changed commit from **[`2e44aa6`](https://github.com/sagemath/sagetrac-mirror/commit/2e44aa6a3ea5e4c2dfc281ce82f2a52a90ca60ce)** to **[`db48d99`](https://github.com/sagemath/sagetrac-mirror/commit/db48d99b8f5f85aa7794e7447feec89ae267d2e6)**",
    "created_at": "2020-08-17T09:11:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457388",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2e44aa6`](https://github.com/sagemath/sagetrac-mirror/commit/2e44aa6a3ea5e4c2dfc281ce82f2a52a90ca60ce)** to **[`db48d99`](https://github.com/sagemath/sagetrac-mirror/commit/db48d99b8f5f85aa7794e7447feec89ae267d2e6)**



---

archive/issue_comments_457389.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db48d99b8f5f85aa7794e7447feec89ae267d2e6\"><code>db48d99</code></a></td><td><code>add a lazy import for libgiac</code></td></tr></table>\n",
    "created_at": "2020-08-17T09:11:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457389",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db48d99b8f5f85aa7794e7447feec89ae267d2e6"><code>db48d99</code></a></td><td><code>add a lazy import for libgiac</code></td></tr></table>




---

archive/issue_comments_457390.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nOk so I have added giacpy-mkeywords.py in src/sage_setup/autogen and added a lazy import.\nabout the message\n`Help file /Applications/usr/share/giac/doc/en/aide_cas not found`\nI don't think that it is a broken installation. This text file have a builtin version in the library. I think it is only usefull if you want to overide the builtin version without recompiling giac.\nEx: if in icas I do `?smith` I have the same information as in share/giac/doc/aide_cas",
    "created_at": "2020-08-17T09:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457390",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<div id="comment:47" align="right">comment:47</div>

Ok so I have added giacpy-mkeywords.py in src/sage_setup/autogen and added a lazy import.
about the message
`Help file /Applications/usr/share/giac/doc/en/aide_cas not found`
I don't think that it is a broken installation. This text file have a builtin version in the library. I think it is only usefull if you want to overide the builtin version without recompiling giac.
Ex: if in icas I do `?smith` I have the same information as in share/giac/doc/aide_cas



---

archive/issue_comments_457391.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@frederichan-IMJPRG](#comment%3A47):\n> Ok so I have added giacpy-mkeywords.py in src/sage_setup/autogen and added a lazy import.\n\nLooks great.\n\n> about the message\n> `Help file /Applications/usr/share/giac/doc/en/aide_cas not found`\n> I don't think that it is a broken installation. This text file have a builtin version in the library. I think it is only usefull if you want to overide the builtin version without recompiling giac.\n> Ex: if in icas I do `?smith` I have the same information as in share/giac/doc/aide_cas \n\nThanks for the information. It's just that it looks like an error message, and moreover the path (`/Applications/usr...`) is really strange and is unrelated to the actual installation location of giac in sage.\n\nPerhaps upstream could add a way to suppress these messages?",
    "created_at": "2020-08-17T18:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457391",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@frederichan-IMJPRG](#comment%3A47):
> Ok so I have added giacpy-mkeywords.py in src/sage_setup/autogen and added a lazy import.

Looks great.

> about the message
> `Help file /Applications/usr/share/giac/doc/en/aide_cas not found`
> I don't think that it is a broken installation. This text file have a builtin version in the library. I think it is only usefull if you want to overide the builtin version without recompiling giac.
> Ex: if in icas I do `?smith` I have the same information as in share/giac/doc/aide_cas 

Thanks for the information. It's just that it looks like an error message, and moreover the path (`/Applications/usr...`) is really strange and is unrelated to the actual installation location of giac in sage.

Perhaps upstream could add a way to suppress these messages?



---

archive/issue_comments_457392.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReady for \"positive review\" from my side...",
    "created_at": "2020-08-17T18:10:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457392",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:49" align="right">comment:49</div>

Ready for "positive review" from my side...



---

archive/issue_comments_457393.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nSo do I. (I know that there is room for improvement in the speed of evaluation of functions as vincent suggested in its first branch but it would not be a minor change. I'd rather in a first step keep things close to the giacpy_sage package to see if there are problems in the migration, and improve later with a list of functions that wants a direct implementation for speed.)",
    "created_at": "2020-08-18T09:44:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457393",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

<div id="comment:50" align="right">comment:50</div>

So do I. (I know that there is room for improvement in the speed of evaluation of functions as vincent suggested in its first branch but it would not be a minor change. I'd rather in a first step keep things close to the giacpy_sage package to see if there are problems in the migration, and improve later with a list of functions that wants a direct implementation for speed.)



---

archive/issue_comments_457394.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Frederic Han**",
    "created_at": "2020-08-18T13:32:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457394",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Matthias Koeppe, ...** to **Matthias Koeppe, Frederic Han**



---

archive/issue_events_398040.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-18T13:32:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398040"
}
```



---

archive/issue_events_398041.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-18T13:32:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398041"
}
```



---

archive/issue_events_398042.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-19T22:17:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398042"
}
```



---

archive/issue_events_398043.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-19T22:17:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398043"
}
```



---

archive/issue_comments_457395.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\n\n```\nsage -t --long --warn-long 60.7 --random-seed=0 src/sage/interfaces/giac.py\n**********************************************************************\nFile \"src/sage/interfaces/giac.py\", line 1002, in sage.interfaces.giac.GiacElement._latex_\nFailed example:\n    latex(gM)\nExpected:\n    \\left(\\begin{array}{cc}\n    1 & 2 \\\\\n    3 & 4\n    \\end{array}\\right)\nGot:\n    \\left[\\begin{array}{cc}1&2\\\\3&4\\end{array}\\right]\n**********************************************************************\n1 item had failures:\n   1 of   7 in sage.interfaces.giac.GiacElement._latex_\n    [172 tests, 1 failure, 2.47 s]\n----------------------------------------------------------------------\n```",
    "created_at": "2020-08-19T22:17:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457395",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:52" align="right">comment:52</div>


```
sage -t --long --warn-long 60.7 --random-seed=0 src/sage/interfaces/giac.py
**********************************************************************
File "src/sage/interfaces/giac.py", line 1002, in sage.interfaces.giac.GiacElement._latex_
Failed example:
    latex(gM)
Expected:
    \left(\begin{array}{cc}
    1 & 2 \\
    3 & 4
    \end{array}\right)
Got:
    \left[\begin{array}{cc}1&2\\3&4\end{array}\right]
**********************************************************************
1 item had failures:
   1 of   7 in sage.interfaces.giac.GiacElement._latex_
    [172 tests, 1 failure, 2.47 s]
----------------------------------------------------------------------
```



---

archive/issue_comments_457396.json:
```json
{
    "body": "Changed commit from **[`db48d99`](https://github.com/sagemath/sagetrac-mirror/commit/db48d99b8f5f85aa7794e7447feec89ae267d2e6)** to **[`911ddfb`](https://github.com/sagemath/sagetrac-mirror/commit/911ddfbe2fd809473e82eaf0bac1a4c50858d161)**",
    "created_at": "2020-08-19T23:32:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457396",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`db48d99`](https://github.com/sagemath/sagetrac-mirror/commit/db48d99b8f5f85aa7794e7447feec89ae267d2e6)** to **[`911ddfb`](https://github.com/sagemath/sagetrac-mirror/commit/911ddfbe2fd809473e82eaf0bac1a4c50858d161)**



---

archive/issue_comments_457397.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/923f8f3c75f4dd45d099adfc56a9b7c2d09355ed\"><code>923f8f3</code></a></td><td><code>Merge tag '9.2.beta9' into t/29171/public/29171</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/911ddfbe2fd809473e82eaf0bac1a4c50858d161\"><code>911ddfb</code></a></td><td><code>GiacElement._latex_: Make array doctest more flexible</code></td></tr></table>\n",
    "created_at": "2020-08-19T23:32:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457397",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/923f8f3c75f4dd45d099adfc56a9b7c2d09355ed"><code>923f8f3</code></a></td><td><code>Merge tag '9.2.beta9' into t/29171/public/29171</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/911ddfbe2fd809473e82eaf0bac1a4c50858d161"><code>911ddfb</code></a></td><td><code>GiacElement._latex_: Make array doctest more flexible</code></td></tr></table>




---

archive/issue_comments_457398.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nCherry-picked one commit from #29541",
    "created_at": "2020-08-19T23:33:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457398",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:54" align="right">comment:54</div>

Cherry-picked one commit from #29541



---

archive/issue_events_398044.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-19T23:33:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398044"
}
```



---

archive/issue_events_398045.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-19T23:33:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398045"
}
```



---

archive/issue_comments_457399.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nQuick review?",
    "created_at": "2020-08-20T13:38:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457399",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:55" align="right">comment:55</div>

Quick review?



---

archive/issue_events_398046.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-08-20T15:08:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398046"
}
```



---

archive/issue_events_398047.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-08-20T15:08:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398047"
}
```



---

archive/issue_comments_457400.json:
```json
{
    "body": "Changed reviewer from **Matthias Koeppe, Frederic Han** to **Matthias Koeppe, Frederic Han, Dima Pasechnik**",
    "created_at": "2020-08-20T15:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457400",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Matthias Koeppe, Frederic Han** to **Matthias Koeppe, Frederic Han, Dima Pasechnik**



---

archive/issue_comments_457401.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nlgtm",
    "created_at": "2020-08-20T15:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457401",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:56" align="right">comment:56</div>

lgtm



---

archive/issue_comments_457402.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nThanks",
    "created_at": "2020-08-20T18:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457402",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:57" align="right">comment:57</div>

Thanks



---

archive/issue_events_398048.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-23T17:51:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398048"
}
```



---

archive/issue_events_398049.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "10ec4fa3cd2f73174bd3ecdcec1ae1c949bc601c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-08-23T17:51:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29171#event-398049"
}
```



---

archive/issue_comments_457403.json:
```json
{
    "body": "Changed branch from **[public/29171](https://github.com/sagemath/sagetrac-mirror/tree/public/29171)** to **[`911ddfb`](https://github.com/sagemath/sagetrac-mirror/commit/911ddfbe2fd809473e82eaf0bac1a4c50858d161)**",
    "created_at": "2020-08-23T17:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29171#issuecomment-457403",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/29171](https://github.com/sagemath/sagetrac-mirror/tree/public/29171)** to **[`911ddfb`](https://github.com/sagemath/sagetrac-mirror/commit/911ddfbe2fd809473e82eaf0bac1a4c50858d161)**
