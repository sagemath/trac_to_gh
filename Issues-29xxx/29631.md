# Issue 29631: spkg-configure.m4 for linbox

archive/issues_029394.json:
```json
{
    "body": "This ticket adds an `spkg-configure.m4` for linbox, in order to use it from a system package if possible (see #27330).\n\nNote for packagers: by default, linbox produces a buggy `linbox.pc`, and ``@`LINBOXSAGE_LIBS`@`` must be removed from their `linbox.pc.in` (see #27205).\n\nNo more problem after that.\n\nCC:  @mkoeppe @dimpase @kiwifb @isuruf @embray @antonio-rojas @slel\n\nKeywords: linbox; spkg-configure; system packages\n\nReviewer: Dima Pasechnik\n\nAuthor: Thierry Thomas, Michael Orlitzky, Samuel Leli\u00e8vre\n\nBranch: bc7a6f8d2b2b79094998dbc63d33adb01fc021cf\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29631\n\n",
    "closed_at": "2022-03-20T18:59:30Z",
    "created_at": "2020-05-01T17:50:05Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "spkg-configure.m4 for linbox",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29631",
    "user": "https://github.com/thierry-FreeBSD"
}
```
This ticket adds an `spkg-configure.m4` for linbox, in order to use it from a system package if possible (see #27330).

Note for packagers: by default, linbox produces a buggy `linbox.pc`, and ``@`LINBOXSAGE_LIBS`@`` must be removed from their `linbox.pc.in` (see #27205).

No more problem after that.

CC:  @mkoeppe @dimpase @kiwifb @isuruf @embray @antonio-rojas @slel

Keywords: linbox; spkg-configure; system packages

Reviewer: Dima Pasechnik

Author: Thierry Thomas, Michael Orlitzky, Samuel Leli√®vre

Branch: bc7a6f8d2b2b79094998dbc63d33adb01fc021cf

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29631





---

archive/issue_comments_443986.json:
```json
{
    "body": "To be put under build/pkgs/linbox",
    "created_at": "2020-05-01T17:50:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443986",
    "user": "https://github.com/thierry-FreeBSD"
}
```

To be put under build/pkgs/linbox



---

archive/issue_comments_443987.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [spkg-configure.m4](tarball://root/attachments/some-uuid/ticket29631/spkg-configure.m4) by @mkoeppe created at 2020-05-01 20:01:54",
    "created_at": "2020-05-01T20:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443987",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:1'></a>Attachment [spkg-configure.m4](tarball://root/attachments/some-uuid/ticket29631/spkg-configure.m4) by @mkoeppe created at 2020-05-01 20:01:54



---

archive/issue_comments_443988.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n-This ticket adds an spkg-configure.m4 for linbox, in order to use it from a system package if possible (see #27330).\n+This ticket adds an \\`spkg-configure.m4\\` for linbox, in order to use it from a system package if possible (see #27330).\n \n-Note for packagers: by default, linbox produces a buggy linbox.pc, and \\`@\\`LINBOXSAGE_LIBS\\`@\\` must be removed from their linbox.pc.in.\n+Note for packagers: by default, linbox produces a buggy \\`linbox.pc\\`, and \\`\\`@\\`LINBOXSAGE_LIBS\\`@\\`\\` must be removed from their \\`linbox.pc.in\\` (see #27205).\n \n No more problem after that.\n \n```\n",
    "created_at": "2020-05-01T20:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443988",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,6 +1,6 @@
-This ticket adds an spkg-configure.m4 for linbox, in order to use it from a system package if possible (see #27330).
+This ticket adds an \`spkg-configure.m4\` for linbox, in order to use it from a system package if possible (see #27330).
 
-Note for packagers: by default, linbox produces a buggy linbox.pc, and \`@\`LINBOXSAGE_LIBS\`@\` must be removed from their linbox.pc.in.
+Note for packagers: by default, linbox produces a buggy \`linbox.pc\`, and \`\`@\`LINBOXSAGE_LIBS\`@\`\` must be removed from their \`linbox.pc.in\` (see #27205).
 
 No more problem after that.
 
```




---

archive/issue_comments_443989.json:
```json
{
    "body": "<a id='comment:2'></a>We also need iml, ntl, flint, fplll, and mpfr in the DEPCHECK. Linbox can be built without some of those libraries with, for example, `--without-ntl`, so we may need to check for the parts that are actually used in sage. The sage-on-gentoo ebuild passes `--without-fplll`, so that dependency is probably superfluous, and maybe others are as well? In any case, to check which libraries linbox actually supports... after the `PKG_CHECK_MODULES` call, I guess we could look for things like `-lntl` in `LINBOX_LIBS`?\n\nI don't see any distros that have a 1.6.x version other than 1.6.3, so it would probably be pointless to lower the version to 1.6.0. The real question is whether or not we can use the v1.5.2 that e.g. older Debian/Fedora ship.",
    "created_at": "2020-05-04T12:41:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443989",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:2'></a>We also need iml, ntl, flint, fplll, and mpfr in the DEPCHECK. Linbox can be built without some of those libraries with, for example, `--without-ntl`, so we may need to check for the parts that are actually used in sage. The sage-on-gentoo ebuild passes `--without-fplll`, so that dependency is probably superfluous, and maybe others are as well? In any case, to check which libraries linbox actually supports... after the `PKG_CHECK_MODULES` call, I guess we could look for things like `-lntl` in `LINBOX_LIBS`?

I don't see any distros that have a 1.6.x version other than 1.6.3, so it would probably be pointless to lower the version to 1.6.0. The real question is whether or not we can use the v1.5.2 that e.g. older Debian/Fedora ship.



---

archive/issue_comments_443990.json:
```json
{
    "body": "<a id='comment:3'></a>\n```\npkgconf linbox --libs\n```\n sets LINBOX_LIB, and we could grep that the required libs are there?",
    "created_at": "2020-05-04T16:03:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443990",
    "user": "https://github.com/thierry-FreeBSD"
}
```

<a id='comment:3'></a>
```
pkgconf linbox --libs
```
 sets LINBOX_LIB, and we could grep that the required libs are there?



---

archive/issue_comments_443991.json:
```json
{
    "body": "<a id='comment:4'></a>Hmm, looking at the spkg-install for linbox, we already pass `--without-fplll`:\n\n```\n# Disable fplll as version 5.x is not supported by linbox <= 1.5.0.\n# This is harmless as no functionality using fplll is exposed in Sage.\n# See trac ticket #21221.\nLINBOX_CONFIGURE=\"--without-fplll $LINBOX_CONFIGURE\"\n```\n\nSo, the existing dependency on fplll (in `build/pkgs/linbox/dependencies`) is wrong. I'm going to build a system copy of linbox with all of the other stuff disabled and see what goes wrong. Maybe we don't care if the other stuff is enabled, either.",
    "created_at": "2020-05-04T16:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443991",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:4'></a>Hmm, looking at the spkg-install for linbox, we already pass `--without-fplll`:

```
# Disable fplll as version 5.x is not supported by linbox <= 1.5.0.
# This is harmless as no functionality using fplll is exposed in Sage.
# See trac ticket #21221.
LINBOX_CONFIGURE="--without-fplll $LINBOX_CONFIGURE"
```

So, the existing dependency on fplll (in `build/pkgs/linbox/dependencies`) is wrong. I'm going to build a system copy of linbox with all of the other stuff disabled and see what goes wrong. Maybe we don't care if the other stuff is enabled, either.



---

archive/issue_comments_443992.json:
```json
{
    "body": "<a id='comment:5'></a>For posterity, this also appears to be obsolete,\n\n```\n# Need to use 'bash' for configure, see\n# https://trac.sagemath.org/ticket/23451\nif [ -z \"$CONFIG_SHELL\" ]; then\n    export CONFIG_SHELL=`command -v bash`\nfi\n```\n\nas I've been compiling linbox-1.6.3 this whole time with `/bin/sh -> /bin/dash`.",
    "created_at": "2020-05-04T16:24:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443992",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:5'></a>For posterity, this also appears to be obsolete,

```
# Need to use 'bash' for configure, see
# https://trac.sagemath.org/ticket/23451
if [ -z "$CONFIG_SHELL" ]; then
    export CONFIG_SHELL=`command -v bash`
fi
```

as I've been compiling linbox-1.6.3 this whole time with `/bin/sh -> /bin/dash`.



---

archive/issue_comments_443993.json:
```json
{
    "body": "<a id='comment:6'></a>Even if you pass `--without-foo` for all of the optional linbox dependencies, flint still gets pulled in automagically, so it's going to be required either way. I'm doing a full sage build / ptestlong now with the rest (ntl, fplll, mpfr, iml) disabled to see if any of them are actually important.",
    "created_at": "2020-05-04T17:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443993",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:6'></a>Even if you pass `--without-foo` for all of the optional linbox dependencies, flint still gets pulled in automagically, so it's going to be required either way. I'm doing a full sage build / ptestlong now with the rest (ntl, fplll, mpfr, iml) disabled to see if any of them are actually important.



---

archive/issue_comments_443994.json:
```json
{
    "body": "<a id='comment:7'></a>Everything is fine if we disable ntl, iml, and mpfr in linbox, so I created a branch with those dependencies eliminated. That means that we only need to add \"flint\" to the DEPCHECK.\n\n---\nNew commits:",
    "created_at": "2020-05-05T12:06:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443994",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:7'></a>Everything is fine if we disable ntl, iml, and mpfr in linbox, so I created a branch with those dependencies eliminated. That means that we only need to add "flint" to the DEPCHECK.

---
New commits:



---

archive/issue_comments_443995.json:
```json
{
    "body": "<a id='comment:8'></a>This page has some information on how to checkout and push new branches to our trac server:\n\n  http://doc.sagemath.org/html/en/developer/manual_git.html\n\nYou should be able to checkout my branch, add a commit on top of it, and then push a new branch of your own (which you would then stick in the \"branch\" field of this ticket). That's the best way to collaborate since it will keep your commit info and author information in-tact. If you don't feel like dealing with it, though, I can just add the spkg-configure.m4 onto my branch and re-push.\n\nAfter adding flint to the DEPCHECK, I think only two questions remains:\n\n* Do we need to check for flint support in the spkg-configure check? Given that flint support is \"automagically\" enabled, I don't think it's necessary on source-based distros, who should have flint support enabled unconditionally to avoid problems. If none of the binary distros ship a flint-less linbox, then we can skip it.\n* Should we try to set the version bound to 1.5.2? Someone would need to test that.",
    "created_at": "2020-05-05T12:40:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443995",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:8'></a>This page has some information on how to checkout and push new branches to our trac server:

  http://doc.sagemath.org/html/en/developer/manual_git.html

You should be able to checkout my branch, add a commit on top of it, and then push a new branch of your own (which you would then stick in the "branch" field of this ticket). That's the best way to collaborate since it will keep your commit info and author information in-tact. If you don't feel like dealing with it, though, I can just add the spkg-configure.m4 onto my branch and re-push.

After adding flint to the DEPCHECK, I think only two questions remains:

* Do we need to check for flint support in the spkg-configure check? Given that flint support is "automagically" enabled, I don't think it's necessary on source-based distros, who should have flint support enabled unconditionally to avoid problems. If none of the binary distros ship a flint-less linbox, then we can skip it.
* Should we try to set the version bound to 1.5.2? Someone would need to test that.



---

archive/issue_comments_443996.json:
```json
{
    "body": "<a id='comment:9'></a>These questions can be resolved by adding system package information to `build/pkgs/linbox/distros` and then testing...",
    "created_at": "2020-08-11T17:40:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443996",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>These questions can be resolved by adding system package information to `build/pkgs/linbox/distros` and then testing...



---

archive/issue_comments_443997.json:
```json
{
    "body": "<a id='comment:11'></a>The duplicate ticket #29484 reminds us to \"(attempt to) lower the bound on fflas-ffpack in its spkg-configure.m4. If we can accept an older system linbox that itself uses an older system fflas-ffpack, that would be nice.\"",
    "created_at": "2020-09-09T20:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443997",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>The duplicate ticket #29484 reminds us to "(attempt to) lower the bound on fflas-ffpack in its spkg-configure.m4. If we can accept an older system linbox that itself uses an older system fflas-ffpack, that would be nice."



---

archive/issue_events_075714.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29631#event-75714"
}
```



---

archive/issue_events_075715.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29631#event-75715"
}
```



---

archive/issue_events_075716.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29631#event-75716"
}
```



---

archive/issue_comments_443998.json:
```json
{
    "body": "<a id='comment:13'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443998",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_443999.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-22T01:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-443999",
    "user": "https://github.com/slel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_444000.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:9 mkoeppe]:\n> These questions can be resolved by adding system package information to `build/pkgs/linbox/distros` and then testing...\n\n\nHere we go.",
    "created_at": "2021-03-22T01:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444000",
    "user": "https://github.com/slel"
}
```

<a id='comment:14'></a>Replying to [comment:9 mkoeppe]:
> These questions can be resolved by adding system package information to `build/pkgs/linbox/distros` and then testing...


Here we go.



---

archive/issue_comments_444001.json:
```json
{
    "body": "<a id='comment:15'></a>New commits:",
    "created_at": "2021-03-22T01:16:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444001",
    "user": "https://github.com/slel"
}
```

<a id='comment:15'></a>New commits:



---

archive/issue_comments_444002.json:
```json
{
    "body": "<a id='comment:16'></a>The branch does not do what ticket title and description promise",
    "created_at": "2021-03-22T03:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444002",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>The branch does not do what ticket title and description promise



---

archive/issue_comments_444003.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-03-22T03:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444003",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_444004.json:
```json
{
    "body": "<a id='comment:17'></a>Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444004",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_075717.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29631#event-75717"
}
```



---

archive/issue_events_075718.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29631#event-75718"
}
```



---

archive/issue_comments_444005.json:
```json
{
    "body": "<a id='comment:18'></a>let's unforget about this\n\n---\nNew commits:",
    "created_at": "2021-11-12T15:17:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444005",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:18'></a>let's unforget about this

---
New commits:



---

archive/issue_comments_444006.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-11-12T15:17:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444006",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_444007.json:
```json
{
    "body": "<a id='comment:19'></a>\n```\n+# Disable all additional features of linbox that aren't needed by sage.\n+# This helps keep the dependency list small, and makes it more likely\n+# that we can use the system copy of linbox (which may be missing some\n+# of these features).\n```\nNote that the purpose of the `SPKG_DEPCHECK` logic is as follows: The system package MIGHT link to an optional dependency like `fplll`. Therefore, if we build our own `fplll`, we need to avoid using system `linbox`.\n\nIt does not help at all to remove features from our build of the `linbox` spkg.",
    "created_at": "2021-11-14T00:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444007",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
```
+# Disable all additional features of linbox that aren't needed by sage.
+# This helps keep the dependency list small, and makes it more likely
+# that we can use the system copy of linbox (which may be missing some
+# of these features).
```
Note that the purpose of the `SPKG_DEPCHECK` logic is as follows: The system package MIGHT link to an optional dependency like `fplll`. Therefore, if we build our own `fplll`, we need to avoid using system `linbox`.

It does not help at all to remove features from our build of the `linbox` spkg.



---

archive/issue_comments_444008.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-11-14T00:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444008",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_444009.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-11-14T20:38:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444009",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444010.json:
```json
{
    "body": "<a id='comment:22'></a>Replying to [comment:19 mkoeppe]:\n> {{{\n> +# Disable all additional features of linbox that aren't needed by sage.\n> +# This helps keep the dependency list small, and makes it more likely\n> +# that we can use the system copy of linbox (which may be missing some\n> +# of these features).\n> }}}\n> Note that the purpose of the `SPKG_DEPCHECK` logic is as follows: The system package MIGHT link to an optional dependency like `fplll`. Therefore, if we build our own `fplll`, we need to avoid using system `linbox`.\n\n\nIdeally we would detect that optional linkage using `AC_SEARCH_LIBS`, so that we only reject a system linbox if it actually links to something on the system that is also installed (and linked into sage) as an SPKG. But `DEPCHECK` is much easier than digging through the source looking for public functions hidden behind e.g. `HAVE_IML`, so I've just gone ahead and used `DEPCHECK` for now.\n\n> \n> It does not help at all to remove features from our build of the `linbox` spkg.\n> \n\n\nNot having those features in the SPKG means that we don't have to insist that they be present in the system copy.",
    "created_at": "2021-11-14T20:47:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444010",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:22'></a>Replying to [comment:19 mkoeppe]:
> {{{
> +# Disable all additional features of linbox that aren't needed by sage.
> +# This helps keep the dependency list small, and makes it more likely
> +# that we can use the system copy of linbox (which may be missing some
> +# of these features).
> }}}
> Note that the purpose of the `SPKG_DEPCHECK` logic is as follows: The system package MIGHT link to an optional dependency like `fplll`. Therefore, if we build our own `fplll`, we need to avoid using system `linbox`.


Ideally we would detect that optional linkage using `AC_SEARCH_LIBS`, so that we only reject a system linbox if it actually links to something on the system that is also installed (and linked into sage) as an SPKG. But `DEPCHECK` is much easier than digging through the source looking for public functions hidden behind e.g. `HAVE_IML`, so I've just gone ahead and used `DEPCHECK` for now.

> 
> It does not help at all to remove features from our build of the `linbox` spkg.
> 


Not having those features in the SPKG means that we don't have to insist that they be present in the system copy.



---

archive/issue_comments_444011.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-11-14T20:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444011",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_444012.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:22 mjo]:\n> > It does not help at all to remove features from our build of the `linbox` spkg.\n> > \n\n> \n> Not having those features in the SPKG means that we don't have to insist that they be present in the system copy.\n\n\nWe don't have to insist on it either way. No need to remove the feature.",
    "created_at": "2021-11-14T20:49:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444012",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>Replying to [comment:22 mjo]:
> > It does not help at all to remove features from our build of the `linbox` spkg.
> > 

> 
> Not having those features in the SPKG means that we don't have to insist that they be present in the system copy.


We don't have to insist on it either way. No need to remove the feature.



---

archive/issue_comments_444013.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:24 mkoeppe]:\n> > \n> > Not having those features in the SPKG means that we don't have to insist that they be present in the system copy.\n\n> \n> We don't have to insist on it either way. No need to remove the feature.\n\n\nYou want the linbox SPKG to have mpfr, ntl, and iml support... but also accept a system linbox that doesn't? And will crash the moment anyone tries to use those optional features?",
    "created_at": "2021-11-14T21:53:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444013",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:25'></a>Replying to [comment:24 mkoeppe]:
> > 
> > Not having those features in the SPKG means that we don't have to insist that they be present in the system copy.

> 
> We don't have to insist on it either way. No need to remove the feature.


You want the linbox SPKG to have mpfr, ntl, and iml support... but also accept a system linbox that doesn't? And will crash the moment anyone tries to use those optional features?



---

archive/issue_comments_444014.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:25 mjo]:\n> You want the linbox SPKG to have mpfr, ntl, and iml support... but also accept a system linbox that doesn't? And will crash the moment anyone tries to use those optional features?\n\n\nThe same is also true when a user uses a system linbox that provides the optional features.",
    "created_at": "2021-11-14T21:56:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444014",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>Replying to [comment:25 mjo]:
> You want the linbox SPKG to have mpfr, ntl, and iml support... but also accept a system linbox that doesn't? And will crash the moment anyone tries to use those optional features?


The same is also true when a user uses a system linbox that provides the optional features.



---

archive/issue_comments_444015.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:26 mkoeppe]:\n> Replying to [comment:25 mjo]:\n> > You want the linbox SPKG to have mpfr, ntl, and iml support... but also accept a system linbox that doesn't? And will crash the moment anyone tries to use those optional features?\n\n> \n> The same is also true when a user uses a system linbox that provides the optional features.\n\n\nA user can write his own code that depends on his own special system copy of linbox, but he won't get it committed to sage, which is the risk we run retaining the optional features in the SPKG. And the general trend is from-SPKG-to-system-package -- not the other way around -- minimizing the risk that someone will shoot himself in the foot that way. Finally, we're not doing \"two wrong make a right.\" Avoiding the one potential problem is a win. Sage doesn't need those features enabled. Why slow down the build, bloat the install, and invite future bug reports?",
    "created_at": "2021-11-14T22:08:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444015",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:27'></a>Replying to [comment:26 mkoeppe]:
> Replying to [comment:25 mjo]:
> > You want the linbox SPKG to have mpfr, ntl, and iml support... but also accept a system linbox that doesn't? And will crash the moment anyone tries to use those optional features?

> 
> The same is also true when a user uses a system linbox that provides the optional features.


A user can write his own code that depends on his own special system copy of linbox, but he won't get it committed to sage, which is the risk we run retaining the optional features in the SPKG. And the general trend is from-SPKG-to-system-package -- not the other way around -- minimizing the risk that someone will shoot himself in the foot that way. Finally, we're not doing "two wrong make a right." Avoiding the one potential problem is a win. Sage doesn't need those features enabled. Why slow down the build, bloat the install, and invite future bug reports?



---

archive/issue_comments_444016.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-11-14T22:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444016",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_444017.json:
```json
{
    "body": "<a id='comment:28'></a>Removing the features is neither an improvement, nor a prerequisite for the goal of the ticket. So it's not appropriate for this ticket.",
    "created_at": "2021-11-14T22:10:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444017",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>Removing the features is neither an improvement, nor a prerequisite for the goal of the ticket. So it's not appropriate for this ticket.



---

archive/issue_comments_444018.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-11-14T22:21:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444018",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444019.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-11-14T22:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444019",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_444020.json:
```json
{
    "body": "<a id='comment:30'></a>As you wish.",
    "created_at": "2021-11-14T22:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444020",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:30'></a>As you wish.



---

archive/issue_comments_444021.json:
```json
{
    "body": "<a id='comment:31'></a>Thanks. The branch still has this change though:\n\n```\n--- a/build/pkgs/linbox/dependencies\n+++ b/build/pkgs/linbox/dependencies\n@@ -1,4 +1,4 @@\n-$(MP_LIBRARY) ntl givaro mpfr fplll iml flint fflas_ffpack\n+$(MP_LIBRARY) ntl givaro mpfr iml flint fflas_ffpack\n```",
    "created_at": "2021-11-14T22:24:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444021",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>Thanks. The branch still has this change though:

```
--- a/build/pkgs/linbox/dependencies
+++ b/build/pkgs/linbox/dependencies
@@ -1,4 +1,4 @@
-$(MP_LIBRARY) ntl givaro mpfr fplll iml flint fflas_ffpack
+$(MP_LIBRARY) ntl givaro mpfr iml flint fflas_ffpack
```



---

archive/issue_comments_444022.json:
```json
{
    "body": "<a id='comment:32'></a>Replying to [comment:31 mkoeppe]:\n> Thanks. The branch still has this change though:\n> \n> ```\n> --- a/build/pkgs/linbox/dependencies\n> +++ b/build/pkgs/linbox/dependencies\n> @@ -1,4 +1,4 @@\n> -$(MP_LIBRARY) ntl givaro mpfr fplll iml flint fflas_ffpack\n> +$(MP_LIBRARY) ntl givaro mpfr iml flint fflas_ffpack\n> ```\n\n\nIts spkg-install explicitly disables fplll.",
    "created_at": "2021-11-14T22:37:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444022",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:32'></a>Replying to [comment:31 mkoeppe]:
> Thanks. The branch still has this change though:
> 
> ```
> --- a/build/pkgs/linbox/dependencies
> +++ b/build/pkgs/linbox/dependencies
> @@ -1,4 +1,4 @@
> -$(MP_LIBRARY) ntl givaro mpfr fplll iml flint fflas_ffpack
> +$(MP_LIBRARY) ntl givaro mpfr iml flint fflas_ffpack
> ```


Its spkg-install explicitly disables fplll.



---

archive/issue_comments_444023.json:
```json
{
    "body": "<a id='comment:33'></a>Ah, thanks.",
    "created_at": "2021-11-14T22:42:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444023",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>Ah, thanks.



---

archive/issue_comments_444024.json:
```json
{
    "body": "<a id='comment:34'></a>Looking good then, but this will need platform testing on GH Actions",
    "created_at": "2021-11-14T22:42:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444024",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>Looking good then, but this will need platform testing on GH Actions



---

archive/issue_comments_444025.json:
```json
{
    "body": "<a id='comment:35'></a>After fixing the system linbox package (as in #27205) this works for me on void linux.",
    "created_at": "2021-11-26T02:43:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444025",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:35'></a>After fixing the system linbox package (as in #27205) this works for me on void linux.



---

archive/issue_comments_444026.json:
```json
{
    "body": "<a id='comment:36'></a>rebased over the latest beta\n\n---\nNew commits:",
    "created_at": "2021-12-04T10:32:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444026",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>rebased over the latest beta

---
New commits:



---

archive/issue_comments_444027.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-12-04T10:36:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444027",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444028.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-12-04T10:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444028",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_444029.json:
```json
{
    "body": "<a id='comment:39'></a>tests on https://github.com/sagemath/sagetrac-mirror/actions/runs/1538684506",
    "created_at": "2021-12-04T10:42:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444029",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:39'></a>tests on https://github.com/sagemath/sagetrac-mirror/actions/runs/1538684506



---

archive/issue_comments_444030.json:
```json
{
    "body": "<a id='comment:40'></a>currently the branch includes some positively reviewed tickets - most of them to increase chances of more systems passing.",
    "created_at": "2021-12-04T10:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444030",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:40'></a>currently the branch includes some positively reviewed tickets - most of them to increase chances of more systems passing.



---

archive/issue_comments_444031.json:
```json
{
    "body": "<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-05T11:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444031",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444032.json:
```json
{
    "body": "<a id='comment:42'></a>the last commit should not be forgotten while cutting the final branch here...",
    "created_at": "2021-12-05T11:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444032",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>the last commit should not be forgotten while cutting the final branch here...



---

archive/issue_comments_444033.json:
```json
{
    "body": "<a id='comment:43'></a>also need\n\n```diff\n--- a/build/pkgs/m4ri/distros/debian.txt\n+++ b/build/pkgs/m4ri/distros/debian.txt\n@@ -0,0 +1 @@\n+libm4ri-dev\n```",
    "created_at": "2021-12-05T11:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444033",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:43'></a>also need

```diff
--- a/build/pkgs/m4ri/distros/debian.txt
+++ b/build/pkgs/m4ri/distros/debian.txt
@@ -0,0 +1 @@
+libm4ri-dev
```



---

archive/issue_comments_444034.json:
```json
{
    "body": "<a id='comment:44'></a>and\n\n```diff\n--- /dev/null\n+++ b/build/pkgs/fplll/distros/debian.txt\n@@ -0,0 +1 @@\n+libfplll-dev\n```",
    "created_at": "2021-12-05T11:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444034",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:44'></a>and

```diff
--- /dev/null
+++ b/build/pkgs/fplll/distros/debian.txt
@@ -0,0 +1 @@
+libfplll-dev
```



---

archive/issue_comments_444035.json:
```json
{
    "body": "<a id='comment:45'></a>New commits:",
    "created_at": "2021-12-14T05:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444035",
    "user": "https://github.com/slel"
}
```

<a id='comment:45'></a>New commits:



---

archive/issue_comments_444036.json:
```json
{
    "body": "<a id='comment:46'></a>Added the changes proposed in `@`dimpase's\nlast two comments: comment:43, comment:44.",
    "created_at": "2021-12-14T15:02:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444036",
    "user": "https://github.com/slel"
}
```

<a id='comment:46'></a>Added the changes proposed in `@`dimpase's
last two comments: comment:43, comment:44.



---

archive/issue_comments_444037.json:
```json
{
    "body": "<a id='comment:47'></a>Replying to [comment:40 dimpase]:\n> currently the branch includes some positively reviewed tickets - most of them to increase chances of more systems passing.\n\nThese should be listed in the Dependencies field",
    "created_at": "2021-12-18T18:17:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444037",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>Replying to [comment:40 dimpase]:
> currently the branch includes some positively reviewed tickets - most of them to increase chances of more systems passing.

These should be listed in the Dependencies field



---

archive/issue_comments_444038.json:
```json
{
    "body": "<a id='comment:48'></a>In light of #33042, let's also set an upper bound for the linbox version",
    "created_at": "2021-12-18T18:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444038",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>In light of #33042, let's also set an upper bound for the linbox version



---

archive/issue_comments_444039.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-12-19T00:20:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444039",
    "user": "https://github.com/slel"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_444040.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-12-19T20:30:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444040",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_444041.json:
```json
{
    "body": "<a id='comment:51'></a>Like that?",
    "created_at": "2021-12-19T20:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444041",
    "user": "https://github.com/slel"
}
```

<a id='comment:51'></a>Like that?



---

archive/issue_comments_444042.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-12-19T20:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444042",
    "user": "https://github.com/slel"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_444043.json:
```json
{
    "body": "<a id='comment:52'></a>Replying to [comment:51 slelievre]:\n> Like that?\n\n\nLGTM. The linbox team doesn't really do maintenance releases, so even if we set the bound to `< 1.7.0`, it would have the same effect. `sage_spkg_install_linbox=no` is the default so it's not really necessary but it won't hurt anything.",
    "created_at": "2021-12-20T14:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444043",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:52'></a>Replying to [comment:51 slelievre]:
> Like that?


LGTM. The linbox team doesn't really do maintenance releases, so even if we set the bound to `< 1.7.0`, it would have the same effect. `sage_spkg_install_linbox=no` is the default so it's not really necessary but it won't hurt anything.



---

archive/issue_comments_444044.json:
```json
{
    "body": "<a id='comment:53'></a>I mimicked `build/pkgsfplll/spkg-configure.m4`.\n\nIs anything else needed here?",
    "created_at": "2021-12-27T00:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444044",
    "user": "https://github.com/slel"
}
```

<a id='comment:53'></a>I mimicked `build/pkgsfplll/spkg-configure.m4`.

Is anything else needed here?



---

archive/issue_events_075719.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-27T01:03:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29631#event-75719"
}
```



---

archive/issue_events_075720.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-27T01:03:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29631#event-75720"
}
```



---

archive/issue_comments_444045.json:
```json
{
    "body": "<a id='comment:55'></a>Replying to [comment:53 slelievre]:\n> \n> Is anything else needed here?\n\n\nI think we need #8450 to be merged to clear up the merge conflict but otherwise the commits for this ticket are good to go.",
    "created_at": "2021-12-27T12:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444045",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:55'></a>Replying to [comment:53 slelievre]:
> 
> Is anything else needed here?


I think we need #8450 to be merged to clear up the merge conflict but otherwise the commits for this ticket are good to go.



---

archive/issue_comments_444046.json:
```json
{
    "body": "<a id='comment:56'></a>I don't think #8450 is going to make it into v9.5, maybe time to rebase this with just the linbox commits?",
    "created_at": "2022-01-20T03:29:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444046",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:56'></a>I don't think #8450 is going to make it into v9.5, maybe time to rebase this with just the linbox commits?



---

archive/issue_comments_444047.json:
```json
{
    "body": "<a id='comment:57'></a>#8450 made it into Sage 9.6.beta0.",
    "created_at": "2022-02-06T23:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444047",
    "user": "https://github.com/slel"
}
```

<a id='comment:57'></a>#8450 made it into Sage 9.6.beta0.



---

archive/issue_comments_444048.json:
```json
{
    "body": "<a id='comment:58'></a>Replying to [comment:57 slelievre]:\n> #8450 made it into Sage 9.6.beta0.\n\n\nMerge failed though D:",
    "created_at": "2022-02-06T23:15:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444048",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:58'></a>Replying to [comment:57 slelievre]:
> #8450 made it into Sage 9.6.beta0.


Merge failed though D:



---

archive/issue_comments_444049.json:
```json
{
    "body": "<a id='comment:59'></a>New commits:",
    "created_at": "2022-02-07T12:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444049",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:59'></a>New commits:



---

archive/issue_comments_444050.json:
```json
{
    "body": "<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-02-22T21:01:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444050",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_444051.json:
```json
{
    "body": "<a id='comment:61'></a>Ping, this one should be easy now:\n\n- Very few lines changed\n- We require the one exact version of linbox that sage itself ships\n- It already went through Github CI",
    "created_at": "2022-03-10T20:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444051",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:61'></a>Ping, this one should be easy now:

- Very few lines changed
- We require the one exact version of linbox that sage itself ships
- It already went through Github CI



---

archive/issue_comments_444052.json:
```json
{
    "body": "<a id='comment:62'></a>lgtm",
    "created_at": "2022-03-10T20:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444052",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:62'></a>lgtm



---

archive/issue_comments_444053.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-10T20:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444053",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_444054.json:
```json
{
    "body": "<a id='comment:63'></a>Thanks! Now I guess I have to test the maxima ticket on github.",
    "created_at": "2022-03-10T20:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444054",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:63'></a>Thanks! Now I guess I have to test the maxima ticket on github.



---

archive/issue_comments_444055.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-03-10T21:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444055",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_444056.json:
```json
{
    "body": "<a id='comment:64'></a>This ticket makes no sense because we have no spkg-configure.m4 for the dependency `fflas_ffpack`",
    "created_at": "2022-03-10T21:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444056",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:64'></a>This ticket makes no sense because we have no spkg-configure.m4 for the dependency `fflas_ffpack`



---

archive/issue_comments_444057.json:
```json
{
    "body": "<a id='comment:65'></a>Sorry for the noise - I was wrong about that (misled by a typo that I made)",
    "created_at": "2022-03-10T21:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444057",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:65'></a>Sorry for the noise - I was wrong about that (misled by a typo that I made)



---

archive/issue_comments_444058.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-03-10T21:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444058",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_444059.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-20T18:59:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444059",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_075721.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-20T18:59:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29631#event-75721"
}
```



---

archive/issue_comments_444060.json:
```json
{
    "body": "<a id='comment:67'></a>I've missed that `build/pkgs/linbox/distros/fedora.txt` also needs `linbox-devel`",
    "created_at": "2022-03-24T12:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29631",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29631#issuecomment-444060",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:67'></a>I've missed that `build/pkgs/linbox/distros/fedora.txt` also needs `linbox-devel`
