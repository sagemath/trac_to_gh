# Issue 29706: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 1 - some packages without OptionalExtensions)

archive/issues_029469.json:
```json
{
    "body": "This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n\nFollow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:\n- #29720: Move `Extension` options ... (part 2 - `OptionalExtension`s)\n- #29785: Move `Extension` options ... (part 3: Get rid of `uname_specific`)\n- #29786: Move `Extension` options ... (part 4: `sage.rings`)\n- #29790: Move `Extension` options ... (part 5: `sage.graphs`)\n- #29791: Move `Extension` options ... (part 6: last)\n- #29721: takes care of `sage.libs.coxeter3`\n- #29701: takes care of `sage.graphs.graph_decompositions`\n\n\nCC:  @kiwifb @dimpase @jhpalmieri @tscrim @kliem @roed314 @videlec @vbraun\n\nKeywords: sd109\n\nBranch/Commit: 1bfe30dffe9128f58c9110c2ebb594e52a7c40f5\n\nReviewer: Jonathan Kliem, John Palmieri\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29706\n\n",
    "closed_at": "2020-06-24T23:38:17Z",
    "created_at": "2020-05-18T00:46:51Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 1 - some packages without OptionalExtensions)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29706",
    "user": "https://github.com/mkoeppe"
}
```
This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.

Follow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:
- #29720: Move `Extension` options ... (part 2 - `OptionalExtension`s)
- #29785: Move `Extension` options ... (part 3: Get rid of `uname_specific`)
- #29786: Move `Extension` options ... (part 4: `sage.rings`)
- #29790: Move `Extension` options ... (part 5: `sage.graphs`)
- #29791: Move `Extension` options ... (part 6: last)
- #29721: takes care of `sage.libs.coxeter3`
- #29701: takes care of `sage.graphs.graph_decompositions`


CC:  @kiwifb @dimpase @jhpalmieri @tscrim @kliem @roed314 @videlec @vbraun

Keywords: sd109

Branch/Commit: 1bfe30dffe9128f58c9110c2ebb594e52a7c40f5

Reviewer: Jonathan Kliem, John Palmieri

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29706





---

archive/issue_comments_581922.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+This would simplify src/module_list.py a lot.\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-05-18T00:50:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581922",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+This would simplify src/module_list.py a lot.
 
 Comment: 1
 
``````




---

archive/issue_comments_581923.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files\"",
    "created_at": "2020-05-18T03:28:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581923",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files"



---

archive/issue_comments_581924.json:
```json
{
    "body": "Changing commit from \"\" to \"f31b6a09b38cd9b6e3b9070ab5e20cb605866812\"",
    "created_at": "2020-05-18T03:41:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581924",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "f31b6a09b38cd9b6e3b9070ab5e20cb605866812"



---

archive/issue_comments_581925.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-18T03:41:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581925",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_581926.json:
```json
{
    "body": "Changing commit from \"f31b6a09b38cd9b6e3b9070ab5e20cb605866812\" to \"346bd8887cc45d189a17174107291c72e8b9ad6a\"",
    "created_at": "2020-05-18T05:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581926",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f31b6a09b38cd9b6e3b9070ab5e20cb605866812" to "346bd8887cc45d189a17174107291c72e8b9ad6a"



---

archive/issue_comments_581927.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-18T05:09:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581927",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_581928.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-05-18T05:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581928",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_581929.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+This simplifies src/module_list.py a lot.\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-05-18T05:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581929",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+This simplifies src/module_list.py a lot.
+
 
 
 Comment: 1
``````




---

archive/issue_comments_581930.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-05-18T05:42:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581930",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_581931.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n+This simplifies src/module_list.py a lot.\n+\n+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely.\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-05-18T05:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581931",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
+This simplifies src/module_list.py a lot.
+
+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely.
+
 
 
 Comment: 1
``````




---

archive/issue_comments_581932.json:
```json
{
    "body": "Changing commit from \"346bd8887cc45d189a17174107291c72e8b9ad6a\" to \"70901ea558546af579693dc17775774922ec7e93\"",
    "created_at": "2020-05-18T05:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581932",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "346bd8887cc45d189a17174107291c72e8b9ad6a" to "70901ea558546af579693dc17775774922ec7e93"



---

archive/issue_comments_581933.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-18T05:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581933",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_581934.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n+\n+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely.\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-05-18T05:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581934",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
+
+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely.
+
 
 
 Comment: 1
``````




---

archive/issue_comments_581935.json:
```json
{
    "body": "<a id='comment:10'></a>Aren't all these `extra_compile_args=['-std=c++11']` (and the corresponding cython `#`-directives obsolete (as we now set this globally for the C++ compiler)?",
    "created_at": "2020-05-18T09:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581935",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>Aren't all these `extra_compile_args=['-std=c++11']` (and the corresponding cython `#`-directives obsolete (as we now set this globally for the C++ compiler)?



---

archive/issue_comments_581936.json:
```json
{
    "body": "<a id='comment:11'></a>I would guess so but would prefer to do that on a different ticket",
    "created_at": "2020-05-18T15:10:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581936",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>I would guess so but would prefer to do that on a different ticket



---

archive/issue_comments_581937.json:
```json
{
    "body": "Changing commit from \"70901ea558546af579693dc17775774922ec7e93\" to \"10f754224ab62457353dc4385468ef47af413db5\"",
    "created_at": "2020-05-21T05:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581937",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "70901ea558546af579693dc17775774922ec7e93" to "10f754224ab62457353dc4385468ef47af413db5"



---

archive/issue_comments_581938.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-21T05:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581938",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_581939.json:
```json
{
    "body": "<a id='comment:14'></a>Isn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?\n\n```diff\n-# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n+# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n```\nSame thing in \n- `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`\n- `sage/stats/distributions/discrete_gaussian_integer.pyx`)\n\nI think you missed this one. At least I don't find the corresponding file in the diffs.\n\n```\n-    Extension('sage.modular.pollack_stevens.dist',\n-              sources = ['sage/modular/pollack_stevens/dist.pyx'],\n-              libraries = [\"gmp\", \"zn_poly\"],\n-              extra_compile_args = [\"-D_XPG6\"]),\n```\n\nI don't understand (this is probably reasonable, but I don't have any knowledge about that)\n\n```\n    # TODO: Remove Cygwin hack by installing a suitable cblas.pc\n    if os.path.exists('/usr/lib/libblas.dll.a'):\n        aliases[\"CBLAS_LIBS\"] = ['gslcblas']\n```\n\nEverything else looks great to me. However, I didn't test anything yet.",
    "created_at": "2020-05-27T18:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581939",
    "user": "https://github.com/kliem"
}
```

<a id='comment:14'></a>Isn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?

```diff
-# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
+# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
```
Same thing in 
- `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`
- `sage/stats/distributions/discrete_gaussian_integer.pyx`)

I think you missed this one. At least I don't find the corresponding file in the diffs.

```
-    Extension('sage.modular.pollack_stevens.dist',
-              sources = ['sage/modular/pollack_stevens/dist.pyx'],
-              libraries = ["gmp", "zn_poly"],
-              extra_compile_args = ["-D_XPG6"]),
```

I don't understand (this is probably reasonable, but I don't have any knowledge about that)

```
    # TODO: Remove Cygwin hack by installing a suitable cblas.pc
    if os.path.exists('/usr/lib/libblas.dll.a'):
        aliases["CBLAS_LIBS"] = ['gslcblas']
```

Everything else looks great to me. However, I didn't test anything yet.



---

archive/issue_comments_581940.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd109\".",
    "created_at": "2020-05-27T18:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581940",
    "user": "https://github.com/kliem"
}
```

Changing keywords from "" to "sd109".



---

archive/issue_comments_581941.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:14 gh-kliem]:\n> Isn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?\n> \n> \n> ```diff\n> -# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n> +# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n> ```\n> Same thing in \n> - `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`\n> - `sage/stats/distributions/discrete_gaussian_integer.pyx`)\n> \n> I think you missed this one. At least I don't find the corresponding file in the diffs.\n> \n> ```\n> -    Extension('sage.modular.pollack_stevens.dist',\n> -              sources = ['sage/modular/pollack_stevens/dist.pyx'],\n> -              libraries = [\"gmp\", \"zn_poly\"],\n> -              extra_compile_args = [\"-D_XPG6\"]),\n> ```\n\n\nQuite possible on both of these. If you have time to test and make these fixes, that would be great!\n\n> I don't understand (this is probably reasonable, but I don't have any knowledge about that)\n> \n> \n> ```\n>     # TODO: Remove Cygwin hack by installing a suitable cblas.pc\n>     if os.path.exists('/usr/lib/libblas.dll.a'):\n>         aliases[\"CBLAS_LIBS\"] = ['gslcblas']\n> ```\n\n\n\nI don't understand it either, I only it moved it there from its origin.  It's quite likely that it is outdated - this should be addressed on a separate ticket.",
    "created_at": "2020-05-29T18:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581941",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>Replying to [comment:14 gh-kliem]:
> Isn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?
> 
> 
> ```diff
> -# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
> +# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
> ```
> Same thing in 
> - `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`
> - `sage/stats/distributions/discrete_gaussian_integer.pyx`)
> 
> I think you missed this one. At least I don't find the corresponding file in the diffs.
> 
> ```
> -    Extension('sage.modular.pollack_stevens.dist',
> -              sources = ['sage/modular/pollack_stevens/dist.pyx'],
> -              libraries = ["gmp", "zn_poly"],
> -              extra_compile_args = ["-D_XPG6"]),
> ```


Quite possible on both of these. If you have time to test and make these fixes, that would be great!

> I don't understand (this is probably reasonable, but I don't have any knowledge about that)
> 
> 
> ```
>     # TODO: Remove Cygwin hack by installing a suitable cblas.pc
>     if os.path.exists('/usr/lib/libblas.dll.a'):
>         aliases["CBLAS_LIBS"] = ['gslcblas']
> ```



I don't understand it either, I only it moved it there from its origin.  It's quite likely that it is outdated - this should be addressed on a separate ticket.



---

archive/issue_comments_581942.json:
```json
{
    "body": "<a id='comment:17'></a>Ok. I'm testing it now both locally and with github actions.",
    "created_at": "2020-05-30T07:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581942",
    "user": "https://github.com/kliem"
}
```

<a id='comment:17'></a>Ok. I'm testing it now both locally and with github actions.



---

archive/issue_comments_581943.json:
```json
{
    "body": "<a id='comment:18'></a>It all worked on my end (`sage -t --all --long`)\n\nTesting it on github reavealed some strange error with debian buster standard.\n\nhttps://github.com/kliem/sage-test-27122/runs/722743115\n\n```\n  [dochtml]     File \"/sage/local/lib/python3.7/site-packages/sage/matrix/__init__.py\", line 2, in <module>\n  [dochtml]       import sage.matrix.args\n  [dochtml]     File \"sage/matrix/args.pyx\", line 23, in init sage.matrix.args (build/cythonized/sage/matrix/args.c:21224)\n  [dochtml]     File \"/sage/local/lib/python3.7/site-packages/sage/matrix/matrix_space.py\", line 44, in <module>\n  [dochtml]       from . import matrix_modn_sparse\n  [dochtml]     File \"sage/matrix/matrix_integer_sparse.pxd\", line 5, in init sage.matrix.matrix_modn_sparse (build/cythonized/sage/matrix/matrix_modn_sparse.cpp:16301)\n  [dochtml]   ImportError: /usr/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.26' not found (required by /sage/local/lib/python3.7/site-packages/sage/matrix/matrix_integer_sparse.cpython-\n```\n\nHow come `numerical`, `rings` etc. wheren't touched?",
    "created_at": "2020-05-30T18:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581943",
    "user": "https://github.com/kliem"
}
```

<a id='comment:18'></a>It all worked on my end (`sage -t --all --long`)

Testing it on github reavealed some strange error with debian buster standard.

https://github.com/kliem/sage-test-27122/runs/722743115

```
  [dochtml]     File "/sage/local/lib/python3.7/site-packages/sage/matrix/__init__.py", line 2, in <module>
  [dochtml]       import sage.matrix.args
  [dochtml]     File "sage/matrix/args.pyx", line 23, in init sage.matrix.args (build/cythonized/sage/matrix/args.c:21224)
  [dochtml]     File "/sage/local/lib/python3.7/site-packages/sage/matrix/matrix_space.py", line 44, in <module>
  [dochtml]       from . import matrix_modn_sparse
  [dochtml]     File "sage/matrix/matrix_integer_sparse.pxd", line 5, in init sage.matrix.matrix_modn_sparse (build/cythonized/sage/matrix/matrix_modn_sparse.cpp:16301)
  [dochtml]   ImportError: /usr/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.26' not found (required by /sage/local/lib/python3.7/site-packages/sage/matrix/matrix_integer_sparse.cpython-
```

How come `numerical`, `rings` etc. wheren't touched?



---

archive/issue_comments_581944.json:
```json
{
    "body": "<a id='comment:19'></a>I also see this kind of strange error on GH Actions on buster. Perhaps the buster image used is faulty?",
    "created_at": "2020-05-30T20:46:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581944",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>I also see this kind of strange error on GH Actions on buster. Perhaps the buster image used is faulty?



---

archive/issue_comments_581945.json:
```json
{
    "body": "<a id='comment:20'></a>Also happens on ubuntu bionic and linuxmint 19.\n\nOverall the testing experience is awful at the moment and it appears to have nothing to do with this ticket: https://github.com/kliem/sage-test-27122/actions/runs/119764262\n\nExcept for ubuntu focal and eoan and debian bullseye and sid (all standard not minimal) nothing passes within 6 hours and many failures.",
    "created_at": "2020-05-31T05:48:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581945",
    "user": "https://github.com/kliem"
}
```

<a id='comment:20'></a>Also happens on ubuntu bionic and linuxmint 19.

Overall the testing experience is awful at the moment and it appears to have nothing to do with this ticket: https://github.com/kliem/sage-test-27122/actions/runs/119764262

Except for ubuntu focal and eoan and debian bullseye and sid (all standard not minimal) nothing passes within 6 hours and many failures.



---

archive/issue_comments_581946.json:
```json
{
    "body": "<a id='comment:21'></a>In comparison to almost everything succeeding at 9.1 release.",
    "created_at": "2020-05-31T05:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581946",
    "user": "https://github.com/kliem"
}
```

<a id='comment:21'></a>In comparison to almost everything succeeding at 9.1 release.



---

archive/issue_comments_581947.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n+\n+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n+- #29720: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 2 - OptionalExtensions)\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-01T21:51:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581947",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
+
+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
+- #29720: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 2 - OptionalExtensions)
 
 
 Comment: 1
``````




---

archive/issue_comments_581948.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-01T23:57:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581948",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_581949.json:
```json
{
    "body": "Changing commit from \"10f754224ab62457353dc4385468ef47af413db5\" to \"5867c054f9605ecb740120ef9e22d5e3c9b6a5e2\"",
    "created_at": "2020-06-01T23:57:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581949",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "10f754224ab62457353dc4385468ef47af413db5" to "5867c054f9605ecb740120ef9e22d5e3c9b6a5e2"



---

archive/issue_comments_581950.json:
```json
{
    "body": "Changing commit from \"5867c054f9605ecb740120ef9e22d5e3c9b6a5e2\" to \"c536daa32dcc69adbc7b37d9a170e22fd733bca8\"",
    "created_at": "2020-06-02T00:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581950",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5867c054f9605ecb740120ef9e22d5e3c9b6a5e2" to "c536daa32dcc69adbc7b37d9a170e22fd733bca8"



---

archive/issue_comments_581951.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-02T00:09:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581951",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_581952.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:16 mkoeppe]:\n> Replying to [comment:14 gh-kliem]:\n> > Isn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?\n> > \n> > \n> > ```diff\n> > -# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n> > +# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n> > ```\n> > Same thing in \n> > - `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`\n> > - `sage/stats/distributions/discrete_gaussian_integer.pyx`)\n> > \n> > I think you missed this one. At least I don't find the corresponding file in the diffs.\n> > \n> > ```\n> > -    Extension('sage.modular.pollack_stevens.dist',\n> > -              sources = ['sage/modular/pollack_stevens/dist.pyx'],\n> > -              libraries = [\"gmp\", \"zn_poly\"],\n> > -              extra_compile_args = [\"-D_XPG6\"]),\n> > ```\n\n> \n> Quite possible on both of these. \n\n\nI have made these changes.",
    "created_at": "2020-06-02T00:10:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581952",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>Replying to [comment:16 mkoeppe]:
> Replying to [comment:14 gh-kliem]:
> > Isn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?
> > 
> > 
> > ```diff
> > -# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
> > +# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
> > ```
> > Same thing in 
> > - `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`
> > - `sage/stats/distributions/discrete_gaussian_integer.pyx`)
> > 
> > I think you missed this one. At least I don't find the corresponding file in the diffs.
> > 
> > ```
> > -    Extension('sage.modular.pollack_stevens.dist',
> > -              sources = ['sage/modular/pollack_stevens/dist.pyx'],
> > -              libraries = ["gmp", "zn_poly"],
> > -              extra_compile_args = ["-D_XPG6"]),
> > ```

> 
> Quite possible on both of these. 


I have made these changes.



---

archive/issue_comments_581953.json:
```json
{
    "body": "<a id='comment:26'></a>Replying to [comment:18 gh-kliem]:\n> How come `numerical`, `rings` etc. weren't touched?\n\nThe present ticket only touches top-level packages that do not have `OptionalExtension`s. \nPart 2 will do `OptionalExtension`s. Part 3 all remaining (mixed) ones. I split it up to reduce the potential for merge conflicts.",
    "created_at": "2020-06-02T00:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581953",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>Replying to [comment:18 gh-kliem]:
> How come `numerical`, `rings` etc. weren't touched?

The present ticket only touches top-level packages that do not have `OptionalExtension`s. 
Part 2 will do `OptionalExtension`s. Part 3 all remaining (mixed) ones. I split it up to reduce the potential for merge conflicts.



---

archive/issue_comments_581954.json:
```json
{
    "body": "<a id='comment:27'></a>As far as I can see `OptionalExtension` is used only in `graphs`, `interfaces`, `libs` and `matrix`.\n\n`Numerical`, `rings`, `finite_rings`, `number_field`, `padics` and `polynomial` don't seem to have that.\n\nMaybe I'm missing something. We can also split at this point, because we are already touching enough packages.",
    "created_at": "2020-06-02T05:38:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581954",
    "user": "https://github.com/kliem"
}
```

<a id='comment:27'></a>As far as I can see `OptionalExtension` is used only in `graphs`, `interfaces`, `libs` and `matrix`.

`Numerical`, `rings`, `finite_rings`, `number_field`, `padics` and `polynomial` don't seem to have that.

Maybe I'm missing something. We can also split at this point, because we are already touching enough packages.



---

archive/issue_comments_581955.json:
```json
{
    "body": "<a id='comment:28'></a>It's quite possible that I misremembered and it's just an arbitrary subset.",
    "created_at": "2020-06-02T05:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581955",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>It's quite possible that I misremembered and it's just an arbitrary subset.



---

archive/issue_comments_581956.json:
```json
{
    "body": "<a id='comment:30'></a>Works for me.\n\nAs it apparently also works on your mac and it passes on cygwin https://github.com/kliem/sage-test-27122/actions/runs/119764261 and it works fine on multiple linux instances, the build process seems to work just the same as before.",
    "created_at": "2020-06-02T06:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581956",
    "user": "https://github.com/kliem"
}
```

<a id='comment:30'></a>Works for me.

As it apparently also works on your mac and it passes on cygwin https://github.com/kliem/sage-test-27122/actions/runs/119764261 and it works fine on multiple linux instances, the build process seems to work just the same as before.



---

archive/issue_comments_581957.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-02T06:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581957",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_581958.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jonathan Kliem\"",
    "created_at": "2020-06-02T06:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581958",
    "user": "https://github.com/kliem"
}
```

Changing reviewer from "" to "Jonathan Kliem"



---

archive/issue_comments_581959.json:
```json
{
    "body": "<a id='comment:31'></a>Thanks!",
    "created_at": "2020-06-02T06:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581959",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>Thanks!



---

archive/issue_comments_581960.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n \n+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n+- #29720: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 2 - OptionalExtensions)\n+- #28925 takes care of `sage.numerical.backends`\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-06-03T03:38:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581960",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
 
+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
+- #29720: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 2 - OptionalExtensions)
+- #28925 takes care of `sage.numerical.backends`
 
 Comment: 1
 
``````




---

archive/issue_comments_581961.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n \n+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n+- #29720: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 2 - OptionalExtensions)\n+- #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-06-03T03:44:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581961",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
 
+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
+- #29720: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 2 - OptionalExtensions)
+- #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`
 
 Comment: 1
 
``````




---

archive/issue_comments_581962.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n \n+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n+- #29720: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 2 - OptionalExtensions)\n+- #29785: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 3: Get rid of `uname_specific`)\n+- #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-06-03T03:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581962",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
 
+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
+- #29720: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 2 - OptionalExtensions)
+- #29785: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 3: Get rid of `uname_specific`)
+- #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`
 
 Comment: 1
 
``````




---

archive/issue_comments_581963.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n \n+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n+- #29720: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 2 - `OptionalExtension`s)\n+- #29785: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 3: Get rid of `uname_specific`)\n+- #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-06-03T03:54:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581963",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
 
+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
+- #29720: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 2 - `OptionalExtension`s)
+- #29785: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 3: Get rid of `uname_specific`)
+- #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`
 
 Comment: 1
 
``````




---

archive/issue_comments_581964.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n+\n+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n+- #29720: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 2 - `OptionalExtension`s)\n+- #29785: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 3: Get rid of `uname_specific`)\n+- #29786: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 4: sage.rings)\n+- #28925: takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`\n+- #29721: takes care of `sage.libs.coxeter3`\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-03T17:06:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581964",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,12 @@
+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
+
+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
+- #29720: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 2 - `OptionalExtension`s)
+- #29785: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 3: Get rid of `uname_specific`)
+- #29786: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 4: sage.rings)
+- #28925: takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`
+- #29721: takes care of `sage.libs.coxeter3`
+
 
 
 Comment: 1
``````




---

archive/issue_comments_581965.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n+\n+Follow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:\n+- #29720: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 2 - `OptionalExtension`s)\n+- #29785: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 3: Get rid of `uname_specific`)\n+- #29786: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 4: `sage.rings`)\n+- #29790: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 5: `sage.graphs`)\n+- #29791: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 6: last)\n+- #29721: takes care of `sage.libs.coxeter3`\n+- #29701: takes care of `sage.graphs.graph_decompositions`\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-03T23:27:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581965",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,13 @@
+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
+
+Follow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:
+- #29720: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 2 - `OptionalExtension`s)
+- #29785: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 3: Get rid of `uname_specific`)
+- #29786: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 4: `sage.rings`)
+- #29790: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 5: `sage.graphs`)
+- #29791: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 6: last)
+- #29721: takes care of `sage.libs.coxeter3`
+- #29701: takes care of `sage.graphs.graph_decompositions`
 
 
 Comment: 1
``````




---

archive/issue_comments_581966.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n+\n+Follow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:\n+- #29720: Move `Extension` options ... (part 2 - `OptionalExtension`s)\n+- #29785: Move `Extension` options ... (part 3: Get rid of `uname_specific`)\n+- #29786: Move `Extension` options ... (part 4: `sage.rings`)\n+- #29790: Move `Extension` options ... (part 5: `sage.graphs`)\n+- #29791: Move `Extension` options ... (part 6: last)\n+- #29721: takes care of `sage.libs.coxeter3`\n+- #29701: takes care of `sage.graphs.graph_decompositions`\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-03T23:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581966",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,13 @@
+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
+
+Follow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:
+- #29720: Move `Extension` options ... (part 2 - `OptionalExtension`s)
+- #29785: Move `Extension` options ... (part 3: Get rid of `uname_specific`)
+- #29786: Move `Extension` options ... (part 4: `sage.rings`)
+- #29790: Move `Extension` options ... (part 5: `sage.graphs`)
+- #29791: Move `Extension` options ... (part 6: last)
+- #29721: takes care of `sage.libs.coxeter3`
+- #29701: takes care of `sage.graphs.graph_decompositions`
 
 
 Comment: 1
``````




---

archive/issue_comments_581967.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-06-05T22:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581967",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_075975.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-05T22:12:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29706#event-75975"
}
```



---

archive/issue_comments_581968.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files\" to \"c536daa32dcc69adbc7b37d9a170e22fd733bca8\"",
    "created_at": "2020-06-05T22:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581968",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files" to "c536daa32dcc69adbc7b37d9a170e22fd733bca8"



---

archive/issue_comments_581969.json:
```json
{
    "body": "Resolution changed from fixed to ",
    "created_at": "2020-06-06T18:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581969",
    "user": "https://github.com/vbraun"
}
```

Resolution changed from fixed to 



---

archive/issue_comments_581970.json:
```json
{
    "body": "Changing commit from \"c536daa32dcc69adbc7b37d9a170e22fd733bca8\" to \"\"",
    "created_at": "2020-06-06T18:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581970",
    "user": "https://github.com/vbraun"
}
```

Changing commit from "c536daa32dcc69adbc7b37d9a170e22fd733bca8" to ""



---

archive/issue_comments_581971.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2020-06-06T18:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581971",
    "user": "https://github.com/vbraun"
}
```

Changing status from closed to new.



---

archive/issue_events_075976.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-06T18:07:26Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29706#event-75976"
}
```



---

archive/issue_comments_581972.json:
```json
{
    "body": "<a id='comment:40'></a>on OSX:\n\n```\n[sagelib-9.2.beta0] cd . && export                                    \\\n[sagelib-9.2.beta0] \t    SAGE_ROOT=/doesnotexist                               \\\n[sagelib-9.2.beta0] \t    SAGE_SRC=/doesnotexist                                \\\n[sagelib-9.2.beta0] \t    SAGE_SRC_ROOT=/doesnotexist                           \\\n[sagelib-9.2.beta0] \t    SAGE_DOC_SRC=/doesnotexist                            \\\n[sagelib-9.2.beta0] \t    SAGE_BUILD_DIR=/doesnotexist                          \\\n[sagelib-9.2.beta0] \t    SAGE_PKGS=/Users/buildbot-sage/slave/sage_git/build/build/pkgs                \\\n[sagelib-9.2.beta0] \t&& sage-python -u setup.py --no-user-cfg build install\n[sagelib-9.2.beta0] /Users/buildbot-sage/slave/sage_git/build/src/bin/sage-env: line 130: cd: /doesnotexist: No such file or directory\n[sagelib-9.2.beta0] Warning: overwriting SAGE_ROOT environment variable:\n[sagelib-9.2.beta0] Old SAGE_ROOT=/doesnotexist\n[sagelib-9.2.beta0] New SAGE_ROOT=\n[sagelib-9.2.beta0] ************************************************************************\n[sagelib-9.2.beta0] Traceback (most recent call last):\n[sagelib-9.2.beta0]   File \"setup.py\", line 72, in <module>\n[sagelib-9.2.beta0]     from module_list import ext_modules, library_order\n[sagelib-9.2.beta0]   File \"/Users/buildbot-sage/slave/sage_git/build/src/module_list.py\", line 80, in <module>\n[sagelib-9.2.beta0]     aliases = cython_aliases()\n[sagelib-9.2.beta0]   File \"/Users/buildbot-sage/slave/sage_git/build/src/sage/env.py\", line 395, in cython_aliases\n[sagelib-9.2.beta0]     aliases[var + \"CFLAGS\"] = pkgconfig.cflags(lib).split()\n[sagelib-9.2.beta0]   File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py\", line 144, in cflags\n[sagelib-9.2.beta0]     _raise_if_not_exists(package)\n[sagelib-9.2.beta0]   File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py\", line 103, in _raise_if_not_exists\n[sagelib-9.2.beta0]     raise PackageNotFoundError(package)\n[sagelib-9.2.beta0] pkgconfig.pkgconfig.PackageNotFoundError: zlib not found\n[sagelib-9.2.beta0] ************************************************************************\n[sagelib-9.2.beta0] Error building the Sage library\n[sagelib-9.2.beta0] ************************************************************************\n[sagelib-9.2.beta0] Please email sage-devel (http://groups.google.com/group/sage-devel)\n[sagelib-9.2.beta0] explaining the problem and including the relevant part of the log file\n[sagelib-9.2.beta0]   /Users/buildbot-sage/slave/sage_git/build/logs/pkgs/sagelib-9.2.beta0.log\n[sagelib-9.2.beta0] Describe your computer, operating system, etc.\n[sagelib-9.2.beta0] ************************************************************************\n```",
    "created_at": "2020-06-06T18:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581972",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:40'></a>on OSX:

```
[sagelib-9.2.beta0] cd . && export                                    \
[sagelib-9.2.beta0] 	    SAGE_ROOT=/doesnotexist                               \
[sagelib-9.2.beta0] 	    SAGE_SRC=/doesnotexist                                \
[sagelib-9.2.beta0] 	    SAGE_SRC_ROOT=/doesnotexist                           \
[sagelib-9.2.beta0] 	    SAGE_DOC_SRC=/doesnotexist                            \
[sagelib-9.2.beta0] 	    SAGE_BUILD_DIR=/doesnotexist                          \
[sagelib-9.2.beta0] 	    SAGE_PKGS=/Users/buildbot-sage/slave/sage_git/build/build/pkgs                \
[sagelib-9.2.beta0] 	&& sage-python -u setup.py --no-user-cfg build install
[sagelib-9.2.beta0] /Users/buildbot-sage/slave/sage_git/build/src/bin/sage-env: line 130: cd: /doesnotexist: No such file or directory
[sagelib-9.2.beta0] Warning: overwriting SAGE_ROOT environment variable:
[sagelib-9.2.beta0] Old SAGE_ROOT=/doesnotexist
[sagelib-9.2.beta0] New SAGE_ROOT=
[sagelib-9.2.beta0] ************************************************************************
[sagelib-9.2.beta0] Traceback (most recent call last):
[sagelib-9.2.beta0]   File "setup.py", line 72, in <module>
[sagelib-9.2.beta0]     from module_list import ext_modules, library_order
[sagelib-9.2.beta0]   File "/Users/buildbot-sage/slave/sage_git/build/src/module_list.py", line 80, in <module>
[sagelib-9.2.beta0]     aliases = cython_aliases()
[sagelib-9.2.beta0]   File "/Users/buildbot-sage/slave/sage_git/build/src/sage/env.py", line 395, in cython_aliases
[sagelib-9.2.beta0]     aliases[var + "CFLAGS"] = pkgconfig.cflags(lib).split()
[sagelib-9.2.beta0]   File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py", line 144, in cflags
[sagelib-9.2.beta0]     _raise_if_not_exists(package)
[sagelib-9.2.beta0]   File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py", line 103, in _raise_if_not_exists
[sagelib-9.2.beta0]     raise PackageNotFoundError(package)
[sagelib-9.2.beta0] pkgconfig.pkgconfig.PackageNotFoundError: zlib not found
[sagelib-9.2.beta0] ************************************************************************
[sagelib-9.2.beta0] Error building the Sage library
[sagelib-9.2.beta0] ************************************************************************
[sagelib-9.2.beta0] Please email sage-devel (http://groups.google.com/group/sage-devel)
[sagelib-9.2.beta0] explaining the problem and including the relevant part of the log file
[sagelib-9.2.beta0]   /Users/buildbot-sage/slave/sage_git/build/logs/pkgs/sagelib-9.2.beta0.log
[sagelib-9.2.beta0] Describe your computer, operating system, etc.
[sagelib-9.2.beta0] ************************************************************************
```



---

archive/issue_comments_581973.json:
```json
{
    "body": "Changing branch from \"c536daa32dcc69adbc7b37d9a170e22fd733bca8\" to \"u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8\"",
    "created_at": "2020-06-06T19:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581973",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "c536daa32dcc69adbc7b37d9a170e22fd733bca8" to "u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8"



---

archive/issue_comments_581974.json:
```json
{
    "body": "Changing commit from \"\" to \"b1b378712d10cb15555889e8235d089f3cf0e391\"",
    "created_at": "2020-06-06T19:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581974",
    "user": "https://github.com/kliem"
}
```

Changing commit from "" to "b1b378712d10cb15555889e8235d089f3cf0e391"



---

archive/issue_comments_581975.json:
```json
{
    "body": "<a id='comment:42'></a>That fix looks plausible to me.\n\n---\nLast 10 new commits:",
    "created_at": "2020-06-06T19:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581975",
    "user": "https://github.com/kliem"
}
```

<a id='comment:42'></a>That fix looks plausible to me.

---
Last 10 new commits:



---

archive/issue_comments_581976.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-06T19:18:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581976",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_581977.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-06T19:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581977",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_581978.json:
```json
{
    "body": "<a id='comment:45'></a>Thanks!",
    "created_at": "2020-06-06T19:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581978",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:45'></a>Thanks!



---

archive/issue_comments_581979.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-06-21T19:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581979",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_581980.json:
```json
{
    "body": "<a id='comment:46'></a>Still getting on OSX:\n\n```\n[sagelib-9.2.beta1] ************************************************************************\n[sagelib-9.2.beta1] Traceback (most recent call last):\n[sagelib-9.2.beta1]   File \"setup.py\", line 72, in <module>\n[sagelib-9.2.beta1]     from module_list import ext_modules, library_order\n[sagelib-9.2.beta1]   File \"/Users/buildbot-sage/slave/sage_git/build/src/module_list.py\", line 80, in <module>\n[sagelib-9.2.beta1]     aliases = cython_aliases()\n[sagelib-9.2.beta1]   File \"/Users/buildbot-sage/slave/sage_git/build/src/sage/env.py\", line 409, in cython_aliases\n[sagelib-9.2.beta1]     aliases[var + \"LIBEXTRA\"] = list(filter(lambda s: not s.startswith(('-l','-L')), pkgconfig.libs(lib).split()))\n[sagelib-9.2.beta1]   File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py\", line 165, in libs\n[sagelib-9.2.beta1]     _raise_if_not_exists(package)\n[sagelib-9.2.beta1]   File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py\", line 103, in _raise_if_not_exists\n[sagelib-9.2.beta1]     raise PackageNotFoundError(package)\n[sagelib-9.2.beta1] pkgconfig.pkgconfig.PackageNotFoundError: zlib not found\n[sagelib-9.2.beta1] ************************************************************************\n[sagelib-9.2.beta1] Error building the Sage library\n\n```",
    "created_at": "2020-06-21T19:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581980",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:46'></a>Still getting on OSX:

```
[sagelib-9.2.beta1] ************************************************************************
[sagelib-9.2.beta1] Traceback (most recent call last):
[sagelib-9.2.beta1]   File "setup.py", line 72, in <module>
[sagelib-9.2.beta1]     from module_list import ext_modules, library_order
[sagelib-9.2.beta1]   File "/Users/buildbot-sage/slave/sage_git/build/src/module_list.py", line 80, in <module>
[sagelib-9.2.beta1]     aliases = cython_aliases()
[sagelib-9.2.beta1]   File "/Users/buildbot-sage/slave/sage_git/build/src/sage/env.py", line 409, in cython_aliases
[sagelib-9.2.beta1]     aliases[var + "LIBEXTRA"] = list(filter(lambda s: not s.startswith(('-l','-L')), pkgconfig.libs(lib).split()))
[sagelib-9.2.beta1]   File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py", line 165, in libs
[sagelib-9.2.beta1]     _raise_if_not_exists(package)
[sagelib-9.2.beta1]   File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py", line 103, in _raise_if_not_exists
[sagelib-9.2.beta1]     raise PackageNotFoundError(package)
[sagelib-9.2.beta1] pkgconfig.pkgconfig.PackageNotFoundError: zlib not found
[sagelib-9.2.beta1] ************************************************************************
[sagelib-9.2.beta1] Error building the Sage library

```



---

archive/issue_comments_581981.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-21T21:13:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581981",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_581982.json:
```json
{
    "body": "Changing commit from \"b1b378712d10cb15555889e8235d089f3cf0e391\" to \"1bfe30dffe9128f58c9110c2ebb594e52a7c40f5\"",
    "created_at": "2020-06-21T21:13:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581982",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b1b378712d10cb15555889e8235d089f3cf0e391" to "1bfe30dffe9128f58c9110c2ebb594e52a7c40f5"



---

archive/issue_comments_581983.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-21T21:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581983",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_581984.json:
```json
{
    "body": "<a id='comment:48'></a>Sorry, here's another fix.",
    "created_at": "2020-06-21T21:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581984",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>Sorry, here's another fix.



---

archive/issue_comments_581985.json:
```json
{
    "body": "<a id='comment:49'></a>Any suggestions for how to reproduce the error? I've tried using the previous version of the branch, and either building with lots of system packages or with very few, but I haven't hit this build error.",
    "created_at": "2020-06-22T05:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581985",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:49'></a>Any suggestions for how to reproduce the error? I've tried using the previous version of the branch, and either building with lots of system packages or with very few, but I haven't hit this build error.



---

archive/issue_comments_581986.json:
```json
{
    "body": "<a id='comment:50'></a>Basically, one needs a macOS without homebrew (which installs .pc files for system libraries). Or do the following to simulate that:\n\n```\n  (cd /usr/local/Homebrew/Library/Homebrew/os/mac/ && mv pkgconfig pkgconfig-moved)\n```",
    "created_at": "2020-06-22T05:28:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581986",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:50'></a>Basically, one needs a macOS without homebrew (which installs .pc files for system libraries). Or do the following to simulate that:

```
  (cd /usr/local/Homebrew/Library/Homebrew/os/mac/ && mv pkgconfig pkgconfig-moved)
```



---

archive/issue_comments_581987.json:
```json
{
    "body": "<a id='comment:51'></a>I created #29929 (`tox.ini: Add a macos environment without homebrew, conda`) so we can test such a barebones macOS environment on GH Actions",
    "created_at": "2020-06-22T05:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581987",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'></a>I created #29929 (`tox.ini: Add a macos environment without homebrew, conda`) so we can test such a barebones macOS environment on GH Actions



---

archive/issue_comments_581988.json:
```json
{
    "body": "<a id='comment:52'></a>Have you tried the current branch with such a system? I am completely clueless, whether the last commit resolves the problem.",
    "created_at": "2020-06-22T09:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581988",
    "user": "https://github.com/kliem"
}
```

<a id='comment:52'></a>Have you tried the current branch with such a system? I am completely clueless, whether the last commit resolves the problem.



---

archive/issue_comments_581989.json:
```json
{
    "body": "<a id='comment:53'></a>Replying to [comment:52 gh-kliem]:\n> Have you tried the current branch with such a system? I am completely clueless, whether the last commit resolves the problem.\n\nYes, a build from scratch with the manipulation mentioned in comment 50 just finished successfully on my machine.",
    "created_at": "2020-06-22T21:34:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581989",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:53'></a>Replying to [comment:52 gh-kliem]:
> Have you tried the current branch with such a system? I am completely clueless, whether the last commit resolves the problem.

Yes, a build from scratch with the manipulation mentioned in comment 50 just finished successfully on my machine.



---

archive/issue_comments_581990.json:
```json
{
    "body": "<a id='comment:54'></a>I have not yet been able to reproduce the error, so I can't tell if the most recent change fixes anything. Renaming `/usr/local/Homebrew/Library/Homebrew/os/mac/pkgconfig` didn't cause breakage, nor did renaming `/usr/local/lib/pkgconfig`. I'm trying on a different machine by just removing homebrew altogether.",
    "created_at": "2020-06-22T22:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581990",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:54'></a>I have not yet been able to reproduce the error, so I can't tell if the most recent change fixes anything. Renaming `/usr/local/Homebrew/Library/Homebrew/os/mac/pkgconfig` didn't cause breakage, nor did renaming `/usr/local/lib/pkgconfig`. I'm trying on a different machine by just removing homebrew altogether.



---

archive/issue_comments_581991.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-22T22:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581991",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_581992.json:
```json
{
    "body": "<a id='comment:55'></a>I can confirm on a machine without Homebrew, I hit the failure that Volker mentioned, and the most recent change fixes it. I'm going to switch to a positive review.",
    "created_at": "2020-06-22T22:57:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581992",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:55'></a>I can confirm on a machine without Homebrew, I hit the failure that Volker mentioned, and the most recent change fixes it. I'm going to switch to a positive review.



---

archive/issue_comments_581993.json:
```json
{
    "body": "Changing reviewer from \"Jonathan Kliem\" to \"Jonathan Kliem, John Palmieri\"",
    "created_at": "2020-06-22T23:31:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581993",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "Jonathan Kliem" to "Jonathan Kliem, John Palmieri"



---

archive/issue_comments_581994.json:
```json
{
    "body": "<a id='comment:56'></a>Thank you!",
    "created_at": "2020-06-22T23:31:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581994",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>Thank you!



---

archive/issue_events_075977.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-24T23:38:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29706#event-75977"
}
```



---

archive/issue_comments_581995.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-06-24T23:38:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581995",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_581996.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8\" to \"1bfe30dffe9128f58c9110c2ebb594e52a7c40f5\"",
    "created_at": "2020-06-24T23:38:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29706#issuecomment-581996",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8" to "1bfe30dffe9128f58c9110c2ebb594e52a7c40f5"
