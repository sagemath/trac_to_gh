# Issue 29706: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 1 - some packages without OptionalExtensions)

archive/issues_029469.json:
```json
{
    "assignees": [],
    "body": "This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n\nFollow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:\n- #29720: Move `Extension` options ... (part 2 - `OptionalExtension`s)\n- #29785: Move `Extension` options ... (part 3: Get rid of `uname_specific`)\n- #29786: Move `Extension` options ... (part 4: `sage.rings`)\n- #29790: Move `Extension` options ... (part 5: `sage.graphs`)\n- #29791: Move `Extension` options ... (part 6: last)\n- #29721: takes care of `sage.libs.coxeter3`\n- #29701: takes care of `sage.graphs.graph_decompositions`\n\n\nCC:  @kiwifb @dimpase @jhpalmieri @tscrim @kliem @roed314 @videlec @vbraun\n\nKeywords: **sd109**\n\nBranch/Commit: **[1bfe30d](https://github.com/sagemath/sagetrac-mirror/commit/1bfe30dffe9128f58c9110c2ebb594e52a7c40f5)**\n\nReviewer: **Jonathan Kliem, John Palmieri**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **refactoring**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29706_\n\n",
    "closed_at": "2020-06-24T23:38:17Z",
    "created_at": "2020-05-18T00:46:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 1 - some packages without OptionalExtensions)",
    "type": "issue",
    "updated_at": "2020-06-24T23:38:17Z",
    "url": "https://github.com/sagemath/sage/issues/29706",
    "user": "https://github.com/mkoeppe"
}
```
This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.

Follow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:
- #29720: Move `Extension` options ... (part 2 - `OptionalExtension`s)
- #29785: Move `Extension` options ... (part 3: Get rid of `uname_specific`)
- #29786: Move `Extension` options ... (part 4: `sage.rings`)
- #29790: Move `Extension` options ... (part 5: `sage.graphs`)
- #29791: Move `Extension` options ... (part 6: last)
- #29721: takes care of `sage.libs.coxeter3`
- #29701: takes care of `sage.graphs.graph_decompositions`


CC:  @kiwifb @dimpase @jhpalmieri @tscrim @kliem @roed314 @videlec @vbraun

Keywords: **sd109**

Branch/Commit: **[1bfe30d](https://github.com/sagemath/sagetrac-mirror/commit/1bfe30dffe9128f58c9110c2ebb594e52a7c40f5)**

Reviewer: **Jonathan Kliem, John Palmieri**

Author: **Matthias Koeppe**

Component: **refactoring**

_Issue created by migration from https://trac.sagemath.org/ticket/29706_





---

archive/issue_events_408754.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-18T00:46:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408754"
}
```



---

archive/issue_events_408755.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-18T00:46:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408755"
}
```



---

archive/issue_events_408756.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-18T00:46:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408756"
}
```



---

archive/issue_events_408757.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-18T00:46:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408757"
}
```



---

archive/issue_comments_468510.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+This would simplify src/module_list.py a lot.\n``````\n",
    "created_at": "2020-05-18T00:50:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468510",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+This would simplify src/module_list.py a lot.
``````




---

archive/issue_comments_468511.json:
```json
{
    "body": "Branch: **[u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files)**",
    "created_at": "2020-05-18T03:28:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468511",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files)**



---

archive/issue_comments_468512.json:
```json
{
    "body": "Commit: **[f31b6a0](https://github.com/sagemath/sagetrac-mirror/commit/f31b6a09b38cd9b6e3b9070ab5e20cb605866812)**",
    "created_at": "2020-05-18T03:41:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468512",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[f31b6a0](https://github.com/sagemath/sagetrac-mirror/commit/f31b6a09b38cd9b6e3b9070ab5e20cb605866812)**



---

archive/issue_comments_468513.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f31b6a09b38cd9b6e3b9070ab5e20cb605866812\">f31b6a0</a></td><td><code>src/sage/geometry: Move Extension options from src/module_list.py to distutils directives</code></td></tr></table>\n",
    "created_at": "2020-05-18T03:41:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468513",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f31b6a09b38cd9b6e3b9070ab5e20cb605866812">f31b6a0</a></td><td><code>src/sage/geometry: Move Extension options from src/module_list.py to distutils directives</code></td></tr></table>




---

archive/issue_comments_468514.json:
```json
{
    "body": "Changed commit from **[f31b6a0](https://github.com/sagemath/sagetrac-mirror/commit/f31b6a09b38cd9b6e3b9070ab5e20cb605866812)** to **[346bd88](https://github.com/sagemath/sagetrac-mirror/commit/346bd8887cc45d189a17174107291c72e8b9ad6a)**",
    "created_at": "2020-05-18T05:09:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468514",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f31b6a0](https://github.com/sagemath/sagetrac-mirror/commit/f31b6a09b38cd9b6e3b9070ab5e20cb605866812)** to **[346bd88](https://github.com/sagemath/sagetrac-mirror/commit/346bd8887cc45d189a17174107291c72e8b9ad6a)**



---

archive/issue_comments_468515.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c0ef436367253b44d7c7dce5c30b18c63b79a73\">0c0ef43</a></td><td><code>src/sage/libs/ntl: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4d04d34ebec904216fa846f25b03d8a15a996bd\">a4d04d3</a></td><td><code>src/sage/modular: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17ca1d722dde4293be7daca9043a2d4dce9a03fc\">17ca1d7</a></td><td><code>src/sage/env.py (cython_aliases): Add aliases for libraries use in module_list.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/346bd8887cc45d189a17174107291c72e8b9ad6a\">346bd88</a></td><td><code>src/sage/modules: Move Extension options from src/module_list.py to distutils directives</code></td></tr></table>\n",
    "created_at": "2020-05-18T05:09:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468515",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c0ef436367253b44d7c7dce5c30b18c63b79a73">0c0ef43</a></td><td><code>src/sage/libs/ntl: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4d04d34ebec904216fa846f25b03d8a15a996bd">a4d04d3</a></td><td><code>src/sage/modular: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17ca1d722dde4293be7daca9043a2d4dce9a03fc">17ca1d7</a></td><td><code>src/sage/env.py (cython_aliases): Add aliases for libraries use in module_list.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/346bd8887cc45d189a17174107291c72e8b9ad6a">346bd88</a></td><td><code>src/sage/modules: Move Extension options from src/module_list.py to distutils directives</code></td></tr></table>




---

archive/issue_events_408758.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-18T05:42:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "title_is": "Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 1)",
    "title_was": "Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408758"
}
```



---

archive/issue_comments_468516.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-05-18T05:42:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468516",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_468517.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-This would simplify src/module_list.py a lot.\n+This simplifies src/module_list.py a lot.\n+\n+\n``````\n",
    "created_at": "2020-05-18T05:42:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468517",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-This would simplify src/module_list.py a lot.
+This simplifies src/module_list.py a lot.
+
+
``````




---

archive/issue_events_408759.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-18T05:42:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408759"
}
```



---

archive/issue_comments_468518.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n This simplifies src/module_list.py a lot.\n \n+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely.\n \n+\n``````\n",
    "created_at": "2020-05-18T05:45:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468518",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 This simplifies src/module_list.py a lot.
 
+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely.
 
+
``````




---

archive/issue_comments_468519.json:
```json
{
    "body": "Changed commit from **[346bd88](https://github.com/sagemath/sagetrac-mirror/commit/346bd8887cc45d189a17174107291c72e8b9ad6a)** to **[70901ea](https://github.com/sagemath/sagetrac-mirror/commit/70901ea558546af579693dc17775774922ec7e93)**",
    "created_at": "2020-05-18T05:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468519",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[346bd88](https://github.com/sagemath/sagetrac-mirror/commit/346bd8887cc45d189a17174107291c72e8b9ad6a)** to **[70901ea](https://github.com/sagemath/sagetrac-mirror/commit/70901ea558546af579693dc17775774922ec7e93)**



---

archive/issue_comments_468520.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70901ea558546af579693dc17775774922ec7e93\">70901ea</a></td><td><code>src/sage/env.py (cython_aliases): Update doctest</code></td></tr></table>\n",
    "created_at": "2020-05-18T05:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468520",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70901ea558546af579693dc17775774922ec7e93">70901ea</a></td><td><code>src/sage/env.py (cython_aliases): Update doctest</code></td></tr></table>




---

archive/issue_comments_468521.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This simplifies src/module_list.py a lot.\n+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n \n Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely.\n \n``````\n",
    "created_at": "2020-05-18T05:55:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468521",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This simplifies src/module_list.py a lot.
+This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
 
 Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely.
 
``````




---

archive/issue_comments_468522.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAren't all these `extra_compile_args=['-std=c++11']` (and the corresponding cython `#`-directives obsolete (as we now set this globally for the C++ compiler)?",
    "created_at": "2020-05-18T09:53:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468522",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

Aren't all these `extra_compile_args=['-std=c++11']` (and the corresponding cython `#`-directives obsolete (as we now set this globally for the C++ compiler)?



---

archive/issue_comments_468523.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI would guess so but would prefer to do that on a different ticket",
    "created_at": "2020-05-18T15:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468523",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

I would guess so but would prefer to do that on a different ticket



---

archive/issue_comments_468524.json:
```json
{
    "body": "Changed commit from **[70901ea](https://github.com/sagemath/sagetrac-mirror/commit/70901ea558546af579693dc17775774922ec7e93)** to **[10f7542](https://github.com/sagemath/sagetrac-mirror/commit/10f754224ab62457353dc4385468ef47af413db5)**",
    "created_at": "2020-05-21T05:07:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468524",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[70901ea](https://github.com/sagemath/sagetrac-mirror/commit/70901ea558546af579693dc17775774922ec7e93)** to **[10f7542](https://github.com/sagemath/sagetrac-mirror/commit/10f754224ab62457353dc4385468ef47af413db5)**



---

archive/issue_comments_468525.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eed920e167d058b188142612a1f0b8ae670b64bd\">eed920e</a></td><td><code>src/sage/tests: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d25d1d82c02eb94369326ab345101799488cf9d\">0d25d1d</a></td><td><code>src/sage/structure: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/808f46abbbbfcddfee56d72399ab23107301dd57\">808f46a</a></td><td><code>src/sage/stats: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10f754224ab62457353dc4385468ef47af413db5\">10f7542</a></td><td><code>src/sage/schemes: Move Extension options from src/module_list.py to distutils directives</code></td></tr></table>\n",
    "created_at": "2020-05-21T05:07:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468525",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eed920e167d058b188142612a1f0b8ae670b64bd">eed920e</a></td><td><code>src/sage/tests: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d25d1d82c02eb94369326ab345101799488cf9d">0d25d1d</a></td><td><code>src/sage/structure: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/808f46abbbbfcddfee56d72399ab23107301dd57">808f46a</a></td><td><code>src/sage/stats: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10f754224ab62457353dc4385468ef47af413db5">10f7542</a></td><td><code>src/sage/schemes: Move Extension options from src/module_list.py to distutils directives</code></td></tr></table>




---

archive/issue_events_408760.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-21T05:12:14Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "title_is": "Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 1 - packages without OptionalExtensions)",
    "title_was": "Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 1)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408760"
}
```



---

archive/issue_comments_468526.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIsn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?\n\n```diff\n-# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n+# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n```\nSame thing in \n- `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`\n- `sage/stats/distributions/discrete_gaussian_integer.pyx`)\n\nI think you missed this one. At least I don't find the corresponding file in the diffs.\n\n```\n-    Extension('sage.modular.pollack_stevens.dist',\n-              sources = ['sage/modular/pollack_stevens/dist.pyx'],\n-              libraries = [\"gmp\", \"zn_poly\"],\n-              extra_compile_args = [\"-D_XPG6\"]),\n```\n\nI don't understand (this is probably reasonable, but I don't have any knowledge about that)\n\n```\n    # TODO: Remove Cygwin hack by installing a suitable cblas.pc\n    if os.path.exists('/usr/lib/libblas.dll.a'):\n        aliases[\"CBLAS_LIBS\"] = ['gslcblas']\n```\n\nEverything else looks great to me. However, I didn't test anything yet.",
    "created_at": "2020-05-27T18:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468526",
    "user": "https://github.com/kliem"
}
```

<div id="comment:14" align="right">comment:14</div>

Isn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?

```diff
-# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
+# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
```
Same thing in 
- `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`
- `sage/stats/distributions/discrete_gaussian_integer.pyx`)

I think you missed this one. At least I don't find the corresponding file in the diffs.

```
-    Extension('sage.modular.pollack_stevens.dist',
-              sources = ['sage/modular/pollack_stevens/dist.pyx'],
-              libraries = ["gmp", "zn_poly"],
-              extra_compile_args = ["-D_XPG6"]),
```

I don't understand (this is probably reasonable, but I don't have any knowledge about that)

```
    # TODO: Remove Cygwin hack by installing a suitable cblas.pc
    if os.path.exists('/usr/lib/libblas.dll.a'):
        aliases["CBLAS_LIBS"] = ['gslcblas']
```

Everything else looks great to me. However, I didn't test anything yet.



---

archive/issue_comments_468527.json:
```json
{
    "body": "Changed keywords from none to **sd109**",
    "created_at": "2020-05-27T18:18:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468527",
    "user": "https://github.com/kliem"
}
```

Changed keywords from none to **sd109**



---

archive/issue_comments_468528.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@kliem](#comment:14):\n> Isn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?\n> \n> ```diff\n> -# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n> +# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n> ```\n> Same thing in \n> - `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`\n> - `sage/stats/distributions/discrete_gaussian_integer.pyx`)\n> \n> I think you missed this one. At least I don't find the corresponding file in the diffs.\n> \n> ```\n> -    Extension('sage.modular.pollack_stevens.dist',\n> -              sources = ['sage/modular/pollack_stevens/dist.pyx'],\n> -              libraries = [\"gmp\", \"zn_poly\"],\n> -              extra_compile_args = [\"-D_XPG6\"]),\n> ```\n\nQuite possible on both of these. If you have time to test and make these fixes, that would be great!\n\n> I don't understand (this is probably reasonable, but I don't have any knowledge about that)\n> \n> ```\n>     # TODO: Remove Cygwin hack by installing a suitable cblas.pc\n>     if os.path.exists('/usr/lib/libblas.dll.a'):\n>         aliases[\"CBLAS_LIBS\"] = ['gslcblas']\n> ```\n\n\nI don't understand it either, I only it moved it there from its origin.  It's quite likely that it is outdated - this should be addressed on a separate ticket.",
    "created_at": "2020-05-29T18:05:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468528",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@kliem](#comment:14):
> Isn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?
> 
> ```diff
> -# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
> +# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
> ```
> Same thing in 
> - `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`
> - `sage/stats/distributions/discrete_gaussian_integer.pyx`)
> 
> I think you missed this one. At least I don't find the corresponding file in the diffs.
> 
> ```
> -    Extension('sage.modular.pollack_stevens.dist',
> -              sources = ['sage/modular/pollack_stevens/dist.pyx'],
> -              libraries = ["gmp", "zn_poly"],
> -              extra_compile_args = ["-D_XPG6"]),
> ```

Quite possible on both of these. If you have time to test and make these fixes, that would be great!

> I don't understand (this is probably reasonable, but I don't have any knowledge about that)
> 
> ```
>     # TODO: Remove Cygwin hack by installing a suitable cblas.pc
>     if os.path.exists('/usr/lib/libblas.dll.a'):
>         aliases["CBLAS_LIBS"] = ['gslcblas']
> ```


I don't understand it either, I only it moved it there from its origin.  It's quite likely that it is outdated - this should be addressed on a separate ticket.



---

archive/issue_comments_468529.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOk. I'm testing it now both locally and with github actions.",
    "created_at": "2020-05-30T07:48:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468529",
    "user": "https://github.com/kliem"
}
```

<div id="comment:17" align="right">comment:17</div>

Ok. I'm testing it now both locally and with github actions.



---

archive/issue_comments_468530.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nIt all worked on my end (`sage -t --all --long`)\n\nTesting it on github reavealed some strange error with debian buster standard.\n\nhttps://github.com/kliem/sage-test-27122/runs/722743115\n\n```\n  [dochtml]     File \"/sage/local/lib/python3.7/site-packages/sage/matrix/__init__.py\", line 2, in <module>\n  [dochtml]       import sage.matrix.args\n  [dochtml]     File \"sage/matrix/args.pyx\", line 23, in init sage.matrix.args (build/cythonized/sage/matrix/args.c:21224)\n  [dochtml]     File \"/sage/local/lib/python3.7/site-packages/sage/matrix/matrix_space.py\", line 44, in <module>\n  [dochtml]       from . import matrix_modn_sparse\n  [dochtml]     File \"sage/matrix/matrix_integer_sparse.pxd\", line 5, in init sage.matrix.matrix_modn_sparse (build/cythonized/sage/matrix/matrix_modn_sparse.cpp:16301)\n  [dochtml]   ImportError: /usr/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.26' not found (required by /sage/local/lib/python3.7/site-packages/sage/matrix/matrix_integer_sparse.cpython-\n```\n\nHow come `numerical`, `rings` etc. wheren't touched?",
    "created_at": "2020-05-30T18:54:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468530",
    "user": "https://github.com/kliem"
}
```

<div id="comment:18" align="right">comment:18</div>

It all worked on my end (`sage -t --all --long`)

Testing it on github reavealed some strange error with debian buster standard.

https://github.com/kliem/sage-test-27122/runs/722743115

```
  [dochtml]     File "/sage/local/lib/python3.7/site-packages/sage/matrix/__init__.py", line 2, in <module>
  [dochtml]       import sage.matrix.args
  [dochtml]     File "sage/matrix/args.pyx", line 23, in init sage.matrix.args (build/cythonized/sage/matrix/args.c:21224)
  [dochtml]     File "/sage/local/lib/python3.7/site-packages/sage/matrix/matrix_space.py", line 44, in <module>
  [dochtml]       from . import matrix_modn_sparse
  [dochtml]     File "sage/matrix/matrix_integer_sparse.pxd", line 5, in init sage.matrix.matrix_modn_sparse (build/cythonized/sage/matrix/matrix_modn_sparse.cpp:16301)
  [dochtml]   ImportError: /usr/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.26' not found (required by /sage/local/lib/python3.7/site-packages/sage/matrix/matrix_integer_sparse.cpython-
```

How come `numerical`, `rings` etc. wheren't touched?



---

archive/issue_comments_468531.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI also see this kind of strange error on GH Actions on buster. Perhaps the buster image used is faulty?",
    "created_at": "2020-05-30T20:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468531",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

I also see this kind of strange error on GH Actions on buster. Perhaps the buster image used is faulty?



---

archive/issue_comments_468532.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAlso happens on ubuntu bionic and linuxmint 19.\n\nOverall the testing experience is awful at the moment and it appears to have nothing to do with this ticket: https://github.com/kliem/sage-test-27122/actions/runs/119764262\n\nExcept for ubuntu focal and eoan and debian bullseye and sid (all standard not minimal) nothing passes within 6 hours and many failures.",
    "created_at": "2020-05-31T05:48:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468532",
    "user": "https://github.com/kliem"
}
```

<div id="comment:20" align="right">comment:20</div>

Also happens on ubuntu bionic and linuxmint 19.

Overall the testing experience is awful at the moment and it appears to have nothing to do with this ticket: https://github.com/kliem/sage-test-27122/actions/runs/119764262

Except for ubuntu focal and eoan and debian bullseye and sid (all standard not minimal) nothing passes within 6 hours and many failures.



---

archive/issue_comments_468533.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nIn comparison to almost everything succeeding at 9.1 release.",
    "created_at": "2020-05-31T05:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468533",
    "user": "https://github.com/kliem"
}
```

<div id="comment:21" align="right">comment:21</div>

In comparison to almost everything succeeding at 9.1 release.



---

archive/issue_comments_468534.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n \n-Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely.\n+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n+- #29720: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 2 - OptionalExtensions)\n \n-\n``````\n",
    "created_at": "2020-06-01T21:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468534",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
 
-Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely.
+Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
+- #29720: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 2 - OptionalExtensions)
 
-
``````




---

archive/issue_comments_468535.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5867c054f9605ecb740120ef9e22d5e3c9b6a5e2\">5867c05</a></td><td><code>src/sage/modular/pollack_stevens/dist.pyx: Add missing distutils directives</code></td></tr></table>\n",
    "created_at": "2020-06-01T23:57:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468535",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5867c054f9605ecb740120ef9e22d5e3c9b6a5e2">5867c05</a></td><td><code>src/sage/modular/pollack_stevens/dist.pyx: Add missing distutils directives</code></td></tr></table>




---

archive/issue_comments_468536.json:
```json
{
    "body": "Changed commit from **[10f7542](https://github.com/sagemath/sagetrac-mirror/commit/10f754224ab62457353dc4385468ef47af413db5)** to **[5867c05](https://github.com/sagemath/sagetrac-mirror/commit/5867c054f9605ecb740120ef9e22d5e3c9b6a5e2)**",
    "created_at": "2020-06-01T23:57:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468536",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[10f7542](https://github.com/sagemath/sagetrac-mirror/commit/10f754224ab62457353dc4385468ef47af413db5)** to **[5867c05](https://github.com/sagemath/sagetrac-mirror/commit/5867c054f9605ecb740120ef9e22d5e3c9b6a5e2)**



---

archive/issue_comments_468537.json:
```json
{
    "body": "Changed commit from **[5867c05](https://github.com/sagemath/sagetrac-mirror/commit/5867c054f9605ecb740120ef9e22d5e3c9b6a5e2)** to **[c536daa](https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8)**",
    "created_at": "2020-06-02T00:09:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468537",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5867c05](https://github.com/sagemath/sagetrac-mirror/commit/5867c054f9605ecb740120ef9e22d5e3c9b6a5e2)** to **[c536daa](https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8)**



---

archive/issue_comments_468538.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8\">c536daa</a></td><td><code>Remove self-listing in distutils sources directive</code></td></tr></table>\n",
    "created_at": "2020-06-02T00:09:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468538",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8">c536daa</a></td><td><code>Remove self-listing in distutils sources directive</code></td></tr></table>




---

archive/issue_comments_468539.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@mkoeppe](#comment:16):\n> Replying to [@kliem](#comment:14):\n> > Isn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?\n> > \n> > ```diff\n> > -# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n> > +# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc\n> > ```\n> > Same thing in \n> > - `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`\n> > - `sage/stats/distributions/discrete_gaussian_integer.pyx`)\n> > \n> > I think you missed this one. At least I don't find the corresponding file in the diffs.\n> > \n> > ```\n> > -    Extension('sage.modular.pollack_stevens.dist',\n> > -              sources = ['sage/modular/pollack_stevens/dist.pyx'],\n> > -              libraries = [\"gmp\", \"zn_poly\"],\n> > -              extra_compile_args = [\"-D_XPG6\"]),\n> > ```\n\n> \n> Quite possible on both of these. \n\nI have made these changes.",
    "created_at": "2020-06-02T00:10:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468539",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@mkoeppe](#comment:16):
> Replying to [@kliem](#comment:14):
> > Isn't `src/sage/geometry/triangulation/base.pyx` itself redundant here?
> > 
> > ```diff
> > -# distutils: sources = sage/geometry/triangulation/base.pyx sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
> > +# distutils: sources = sage/geometry/triangulation/functions.cc sage/geometry/triangulation/data.cc sage/geometry/triangulation/triangulations.cc
> > ```
> > Same thing in 
> > - `/src/sage/schemes/hyperelliptic_curves/hypellfrob.pyx`
> > - `sage/stats/distributions/discrete_gaussian_integer.pyx`)
> > 
> > I think you missed this one. At least I don't find the corresponding file in the diffs.
> > 
> > ```
> > -    Extension('sage.modular.pollack_stevens.dist',
> > -              sources = ['sage/modular/pollack_stevens/dist.pyx'],
> > -              libraries = ["gmp", "zn_poly"],
> > -              extra_compile_args = ["-D_XPG6"]),
> > ```

> 
> Quite possible on both of these. 

I have made these changes.



---

archive/issue_comments_468540.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@kliem](#comment:18):\n> How come `numerical`, `rings` etc. weren't touched?\n\nThe present ticket only touches top-level packages that do not have `OptionalExtension`s. \nPart 2 will do `OptionalExtension`s. Part 3 all remaining (mixed) ones. I split it up to reduce the potential for merge conflicts.",
    "created_at": "2020-06-02T00:14:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468540",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@kliem](#comment:18):
> How come `numerical`, `rings` etc. weren't touched?

The present ticket only touches top-level packages that do not have `OptionalExtension`s. 
Part 2 will do `OptionalExtension`s. Part 3 all remaining (mixed) ones. I split it up to reduce the potential for merge conflicts.



---

archive/issue_comments_468541.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nAs far as I can see `OptionalExtension` is used only in `graphs`, `interfaces`, `libs` and `matrix`.\n\n`Numerical`, `rings`, `finite_rings`, `number_field`, `padics` and `polynomial` don't seem to have that.\n\nMaybe I'm missing something. We can also split at this point, because we are already touching enough packages.",
    "created_at": "2020-06-02T05:38:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468541",
    "user": "https://github.com/kliem"
}
```

<div id="comment:27" align="right">comment:27</div>

As far as I can see `OptionalExtension` is used only in `graphs`, `interfaces`, `libs` and `matrix`.

`Numerical`, `rings`, `finite_rings`, `number_field`, `padics` and `polynomial` don't seem to have that.

Maybe I'm missing something. We can also split at this point, because we are already touching enough packages.



---

archive/issue_comments_468542.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIt's quite possible that I misremembered and it's just an arbitrary subset.",
    "created_at": "2020-06-02T05:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468542",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

It's quite possible that I misremembered and it's just an arbitrary subset.



---

archive/issue_events_408761.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-02T05:50:11Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "title_is": "Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 1 - some packages without OptionalExtensions)",
    "title_was": "Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 1 - packages without OptionalExtensions)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408761"
}
```



---

archive/issue_comments_468543.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nWorks for me.\n\nAs it apparently also works on your mac and it passes on cygwin https://github.com/kliem/sage-test-27122/actions/runs/119764261 and it works fine on multiple linux instances, the build process seems to work just the same as before.",
    "created_at": "2020-06-02T06:00:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468543",
    "user": "https://github.com/kliem"
}
```

<div id="comment:30" align="right">comment:30</div>

Works for me.

As it apparently also works on your mac and it passes on cygwin https://github.com/kliem/sage-test-27122/actions/runs/119764261 and it works fine on multiple linux instances, the build process seems to work just the same as before.



---

archive/issue_events_408762.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-02T06:00:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408762"
}
```



---

archive/issue_events_408763.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-02T06:00:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408763"
}
```



---

archive/issue_comments_468544.json:
```json
{
    "body": "Reviewer: **Jonathan Kliem**",
    "created_at": "2020-06-02T06:00:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468544",
    "user": "https://github.com/kliem"
}
```

Reviewer: **Jonathan Kliem**



---

archive/issue_comments_468545.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThanks!",
    "created_at": "2020-06-02T06:06:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468545",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

Thanks!



---

archive/issue_comments_468546.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n - #29720: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 2 - OptionalExtensions)\n-\n+- #28925 takes care of `sage.numerical.backends`\n``````\n",
    "created_at": "2020-06-03T03:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468546",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
 - #29720: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 2 - OptionalExtensions)
-
+- #28925 takes care of `sage.numerical.backends`
``````




---

archive/issue_comments_468547.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n - #29720: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 2 - OptionalExtensions)\n-- #28925 takes care of `sage.numerical.backends`\n+- #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`\n``````\n",
    "created_at": "2020-06-03T03:44:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468547",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
 - #29720: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 2 - OptionalExtensions)
-- #28925 takes care of `sage.numerical.backends`
+- #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`
``````




---

archive/issue_comments_468548.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,5 @@\n \n Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n - #29720: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 2 - OptionalExtensions)\n+- #29785: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 3: Get rid of `uname_specific`)\n - #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`\n``````\n",
    "created_at": "2020-06-03T03:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468548",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,5 @@
 
 Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
 - #29720: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 2 - OptionalExtensions)
+- #29785: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 3: Get rid of `uname_specific`)
 - #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`
``````




---

archive/issue_comments_468549.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n \n Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n-- #29720: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 2 - OptionalExtensions)\n-- #29785: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 3: Get rid of `uname_specific`)\n+- #29720: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 2 - `OptionalExtension`s)\n+- #29785: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 3: Get rid of `uname_specific`)\n - #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`\n``````\n",
    "created_at": "2020-06-03T03:54:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468549",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
 
 Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
-- #29720: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 2 - OptionalExtensions)
-- #29785: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 3: Get rid of `uname_specific`)
+- #29720: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 2 - `OptionalExtension`s)
+- #29785: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 3: Get rid of `uname_specific`)
 - #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`
``````




---

archive/issue_comments_468550.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,4 +3,8 @@\n Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n - #29720: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 2 - `OptionalExtension`s)\n - #29785: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 3: Get rid of `uname_specific`)\n-- #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`\n+- #29786: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 4: sage.rings)\n+- #28925: takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`\n+- #29721: takes care of `sage.libs.coxeter3`\n+\n+\n``````\n",
    "created_at": "2020-06-03T17:06:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468550",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,4 +3,8 @@
 Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
 - #29720: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 2 - `OptionalExtension`s)
 - #29785: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 3: Get rid of `uname_specific`)
-- #28925 takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`
+- #29786: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 4: sage.rings)
+- #28925: takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`
+- #29721: takes care of `sage.libs.coxeter3`
+
+
``````




---

archive/issue_comments_468551.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,11 @@\n This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n \n-Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:\n+Follow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:\n - #29720: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 2 - `OptionalExtension`s)\n - #29785: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 3: Get rid of `uname_specific`)\n-- #29786: Move Extension options from src/module_list.py to \"distutils:\" directives in the individual files (part 4: sage.rings)\n-- #28925: takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`\n+- #29786: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 4: `sage.rings`)\n+- #29790: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 5: `sage.graphs`)\n+- #29791: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 6: last)\n - #29721: takes care of `sage.libs.coxeter3`\n+- #29701: takes care of `sage.graphs.graph_decompositions`\n \n-\n``````\n",
    "created_at": "2020-06-03T23:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468551",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,11 @@
 This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
 
-Follow-up tickets will take care of the remaining packages; in the end, `src/module_list.py` might disappear completely:
+Follow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:
 - #29720: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 2 - `OptionalExtension`s)
 - #29785: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 3: Get rid of `uname_specific`)
-- #29786: Move Extension options from src/module_list.py to "distutils:" directives in the individual files (part 4: sage.rings)
-- #28925: takes care of `sage.numerical.backends` and `sage.graphs.graph_decompositions`
+- #29786: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 4: `sage.rings`)
+- #29790: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 5: `sage.graphs`)
+- #29791: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 6: last)
 - #29721: takes care of `sage.libs.coxeter3`
+- #29701: takes care of `sage.graphs.graph_decompositions`
 
-
``````




---

archive/issue_comments_468552.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,11 +1,11 @@\n This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.\n \n Follow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:\n-- #29720: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 2 - `OptionalExtension`s)\n-- #29785: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 3: Get rid of `uname_specific`)\n-- #29786: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 4: `sage.rings`)\n-- #29790: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 5: `sage.graphs`)\n-- #29791: Move `Extension` options from `src/module_list.py` to \"distutils:\" directives in the individual files (part 6: last)\n+- #29720: Move `Extension` options ... (part 2 - `OptionalExtension`s)\n+- #29785: Move `Extension` options ... (part 3: Get rid of `uname_specific`)\n+- #29786: Move `Extension` options ... (part 4: `sage.rings`)\n+- #29790: Move `Extension` options ... (part 5: `sage.graphs`)\n+- #29791: Move `Extension` options ... (part 6: last)\n - #29721: takes care of `sage.libs.coxeter3`\n - #29701: takes care of `sage.graphs.graph_decompositions`\n \n``````\n",
    "created_at": "2020-06-03T23:28:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468552",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,11 +1,11 @@
 This simplifies `src/module_list.py` a lot. This is preparation for splitting sagelib into separate distutils packages.
 
 Follow-up tickets take care of the remaining packages; in the end, in #29701, `src/module_list.py` will no longer be used, and in another follow-up ticket, it will disappear completely:
-- #29720: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 2 - `OptionalExtension`s)
-- #29785: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 3: Get rid of `uname_specific`)
-- #29786: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 4: `sage.rings`)
-- #29790: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 5: `sage.graphs`)
-- #29791: Move `Extension` options from `src/module_list.py` to "distutils:" directives in the individual files (part 6: last)
+- #29720: Move `Extension` options ... (part 2 - `OptionalExtension`s)
+- #29785: Move `Extension` options ... (part 3: Get rid of `uname_specific`)
+- #29786: Move `Extension` options ... (part 4: `sage.rings`)
+- #29790: Move `Extension` options ... (part 5: `sage.graphs`)
+- #29791: Move `Extension` options ... (part 6: last)
 - #29721: takes care of `sage.libs.coxeter3`
 - #29701: takes care of `sage.graphs.graph_decompositions`
 
``````




---

archive/issue_events_408764.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-05T22:12:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408764"
}
```



---

archive/issue_events_408765.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-05T22:12:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408765"
}
```



---

archive/issue_comments_468553.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files)** to **[c536daa](https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8)**",
    "created_at": "2020-06-05T22:12:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468553",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files)** to **[c536daa](https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8)**



---

archive/issue_comments_468554.json:
```json
{
    "body": "Changed commit from **[c536daa](https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8)** to none",
    "created_at": "2020-06-06T18:07:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468554",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[c536daa](https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8)** to none



---

archive/issue_comments_468555.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\non OSX:\n\n```\n[sagelib-9.2.beta0] cd . && export                                    \\\n[sagelib-9.2.beta0] \t    SAGE_ROOT=/doesnotexist                               \\\n[sagelib-9.2.beta0] \t    SAGE_SRC=/doesnotexist                                \\\n[sagelib-9.2.beta0] \t    SAGE_SRC_ROOT=/doesnotexist                           \\\n[sagelib-9.2.beta0] \t    SAGE_DOC_SRC=/doesnotexist                            \\\n[sagelib-9.2.beta0] \t    SAGE_BUILD_DIR=/doesnotexist                          \\\n[sagelib-9.2.beta0] \t    SAGE_PKGS=/Users/buildbot-sage/slave/sage_git/build/build/pkgs                \\\n[sagelib-9.2.beta0] \t&& sage-python -u setup.py --no-user-cfg build install\n[sagelib-9.2.beta0] /Users/buildbot-sage/slave/sage_git/build/src/bin/sage-env: line 130: cd: /doesnotexist: No such file or directory\n[sagelib-9.2.beta0] Warning: overwriting SAGE_ROOT environment variable:\n[sagelib-9.2.beta0] Old SAGE_ROOT=/doesnotexist\n[sagelib-9.2.beta0] New SAGE_ROOT=\n[sagelib-9.2.beta0] ************************************************************************\n[sagelib-9.2.beta0] Traceback (most recent call last):\n[sagelib-9.2.beta0]   File \"setup.py\", line 72, in <module>\n[sagelib-9.2.beta0]     from module_list import ext_modules, library_order\n[sagelib-9.2.beta0]   File \"/Users/buildbot-sage/slave/sage_git/build/src/module_list.py\", line 80, in <module>\n[sagelib-9.2.beta0]     aliases = cython_aliases()\n[sagelib-9.2.beta0]   File \"/Users/buildbot-sage/slave/sage_git/build/src/sage/env.py\", line 395, in cython_aliases\n[sagelib-9.2.beta0]     aliases[var + \"CFLAGS\"] = pkgconfig.cflags(lib).split()\n[sagelib-9.2.beta0]   File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py\", line 144, in cflags\n[sagelib-9.2.beta0]     _raise_if_not_exists(package)\n[sagelib-9.2.beta0]   File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py\", line 103, in _raise_if_not_exists\n[sagelib-9.2.beta0]     raise PackageNotFoundError(package)\n[sagelib-9.2.beta0] pkgconfig.pkgconfig.PackageNotFoundError: zlib not found\n[sagelib-9.2.beta0] ************************************************************************\n[sagelib-9.2.beta0] Error building the Sage library\n[sagelib-9.2.beta0] ************************************************************************\n[sagelib-9.2.beta0] Please email sage-devel (http://groups.google.com/group/sage-devel)\n[sagelib-9.2.beta0] explaining the problem and including the relevant part of the log file\n[sagelib-9.2.beta0]   /Users/buildbot-sage/slave/sage_git/build/logs/pkgs/sagelib-9.2.beta0.log\n[sagelib-9.2.beta0] Describe your computer, operating system, etc.\n[sagelib-9.2.beta0] ************************************************************************\n```",
    "created_at": "2020-06-06T18:07:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468555",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:40" align="right">comment:40</div>

on OSX:

```
[sagelib-9.2.beta0] cd . && export                                    \
[sagelib-9.2.beta0] 	    SAGE_ROOT=/doesnotexist                               \
[sagelib-9.2.beta0] 	    SAGE_SRC=/doesnotexist                                \
[sagelib-9.2.beta0] 	    SAGE_SRC_ROOT=/doesnotexist                           \
[sagelib-9.2.beta0] 	    SAGE_DOC_SRC=/doesnotexist                            \
[sagelib-9.2.beta0] 	    SAGE_BUILD_DIR=/doesnotexist                          \
[sagelib-9.2.beta0] 	    SAGE_PKGS=/Users/buildbot-sage/slave/sage_git/build/build/pkgs                \
[sagelib-9.2.beta0] 	&& sage-python -u setup.py --no-user-cfg build install
[sagelib-9.2.beta0] /Users/buildbot-sage/slave/sage_git/build/src/bin/sage-env: line 130: cd: /doesnotexist: No such file or directory
[sagelib-9.2.beta0] Warning: overwriting SAGE_ROOT environment variable:
[sagelib-9.2.beta0] Old SAGE_ROOT=/doesnotexist
[sagelib-9.2.beta0] New SAGE_ROOT=
[sagelib-9.2.beta0] ************************************************************************
[sagelib-9.2.beta0] Traceback (most recent call last):
[sagelib-9.2.beta0]   File "setup.py", line 72, in <module>
[sagelib-9.2.beta0]     from module_list import ext_modules, library_order
[sagelib-9.2.beta0]   File "/Users/buildbot-sage/slave/sage_git/build/src/module_list.py", line 80, in <module>
[sagelib-9.2.beta0]     aliases = cython_aliases()
[sagelib-9.2.beta0]   File "/Users/buildbot-sage/slave/sage_git/build/src/sage/env.py", line 395, in cython_aliases
[sagelib-9.2.beta0]     aliases[var + "CFLAGS"] = pkgconfig.cflags(lib).split()
[sagelib-9.2.beta0]   File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py", line 144, in cflags
[sagelib-9.2.beta0]     _raise_if_not_exists(package)
[sagelib-9.2.beta0]   File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py", line 103, in _raise_if_not_exists
[sagelib-9.2.beta0]     raise PackageNotFoundError(package)
[sagelib-9.2.beta0] pkgconfig.pkgconfig.PackageNotFoundError: zlib not found
[sagelib-9.2.beta0] ************************************************************************
[sagelib-9.2.beta0] Error building the Sage library
[sagelib-9.2.beta0] ************************************************************************
[sagelib-9.2.beta0] Please email sage-devel (http://groups.google.com/group/sage-devel)
[sagelib-9.2.beta0] explaining the problem and including the relevant part of the log file
[sagelib-9.2.beta0]   /Users/buildbot-sage/slave/sage_git/build/logs/pkgs/sagelib-9.2.beta0.log
[sagelib-9.2.beta0] Describe your computer, operating system, etc.
[sagelib-9.2.beta0] ************************************************************************
```



---

archive/issue_comments_468556.json:
```json
{
    "body": "Changed branch from **[c536daa](https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8)** to **[u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8)**",
    "created_at": "2020-06-06T19:12:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468556",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[c536daa](https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8)** to **[u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8)**



---

archive/issue_comments_468557.json:
```json
{
    "body": "Commit: **[b1b3787](https://github.com/sagemath/sagetrac-mirror/commit/b1b378712d10cb15555889e8235d089f3cf0e391)**",
    "created_at": "2020-06-06T19:18:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468557",
    "user": "https://github.com/kliem"
}
```

Commit: **[b1b3787](https://github.com/sagemath/sagetrac-mirror/commit/b1b378712d10cb15555889e8235d089f3cf0e391)**



---

archive/issue_comments_468558.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nThat fix looks plausible to me.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17ca1d722dde4293be7daca9043a2d4dce9a03fc\">17ca1d7</a></td><td><code>src/sage/env.py (cython_aliases): Add aliases for libraries use in module_list.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/346bd8887cc45d189a17174107291c72e8b9ad6a\">346bd88</a></td><td><code>src/sage/modules: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70901ea558546af579693dc17775774922ec7e93\">70901ea</a></td><td><code>src/sage/env.py (cython_aliases): Update doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eed920e167d058b188142612a1f0b8ae670b64bd\">eed920e</a></td><td><code>src/sage/tests: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d25d1d82c02eb94369326ab345101799488cf9d\">0d25d1d</a></td><td><code>src/sage/structure: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/808f46abbbbfcddfee56d72399ab23107301dd57\">808f46a</a></td><td><code>src/sage/stats: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10f754224ab62457353dc4385468ef47af413db5\">10f7542</a></td><td><code>src/sage/schemes: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5867c054f9605ecb740120ef9e22d5e3c9b6a5e2\">5867c05</a></td><td><code>src/sage/modular/pollack_stevens/dist.pyx: Add missing distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8\">c536daa</a></td><td><code>Remove self-listing in distutils sources directive</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1b378712d10cb15555889e8235d089f3cf0e391\">b1b3787</a></td><td><code>sage.env.cython_aliases: Fix for systems without zlib pc</code></td></tr></table>\n",
    "created_at": "2020-06-06T19:18:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468558",
    "user": "https://github.com/kliem"
}
```

<div id="comment:42" align="right">comment:42</div>

That fix looks plausible to me.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17ca1d722dde4293be7daca9043a2d4dce9a03fc">17ca1d7</a></td><td><code>src/sage/env.py (cython_aliases): Add aliases for libraries use in module_list.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/346bd8887cc45d189a17174107291c72e8b9ad6a">346bd88</a></td><td><code>src/sage/modules: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70901ea558546af579693dc17775774922ec7e93">70901ea</a></td><td><code>src/sage/env.py (cython_aliases): Update doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eed920e167d058b188142612a1f0b8ae670b64bd">eed920e</a></td><td><code>src/sage/tests: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d25d1d82c02eb94369326ab345101799488cf9d">0d25d1d</a></td><td><code>src/sage/structure: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/808f46abbbbfcddfee56d72399ab23107301dd57">808f46a</a></td><td><code>src/sage/stats: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10f754224ab62457353dc4385468ef47af413db5">10f7542</a></td><td><code>src/sage/schemes: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5867c054f9605ecb740120ef9e22d5e3c9b6a5e2">5867c05</a></td><td><code>src/sage/modular/pollack_stevens/dist.pyx: Add missing distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8">c536daa</a></td><td><code>Remove self-listing in distutils sources directive</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1b378712d10cb15555889e8235d089f3cf0e391">b1b3787</a></td><td><code>sage.env.cython_aliases: Fix for systems without zlib pc</code></td></tr></table>




---

archive/issue_events_408766.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-06T19:18:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408766"
}
```



---

archive/issue_events_408767.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-06T19:19:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408767"
}
```



---

archive/issue_events_408768.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-06T19:19:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408768"
}
```



---

archive/issue_comments_468559.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThanks!",
    "created_at": "2020-06-06T19:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468559",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">comment:45</div>

Thanks!



---

archive/issue_events_408769.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-21T19:53:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408769"
}
```



---

archive/issue_events_408770.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-21T19:53:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408770"
}
```



---

archive/issue_comments_468560.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nStill getting on OSX:\n\n```\n[sagelib-9.2.beta1] ************************************************************************\n[sagelib-9.2.beta1] Traceback (most recent call last):\n[sagelib-9.2.beta1]   File \"setup.py\", line 72, in <module>\n[sagelib-9.2.beta1]     from module_list import ext_modules, library_order\n[sagelib-9.2.beta1]   File \"/Users/buildbot-sage/slave/sage_git/build/src/module_list.py\", line 80, in <module>\n[sagelib-9.2.beta1]     aliases = cython_aliases()\n[sagelib-9.2.beta1]   File \"/Users/buildbot-sage/slave/sage_git/build/src/sage/env.py\", line 409, in cython_aliases\n[sagelib-9.2.beta1]     aliases[var + \"LIBEXTRA\"] = list(filter(lambda s: not s.startswith(('-l','-L')), pkgconfig.libs(lib).split()))\n[sagelib-9.2.beta1]   File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py\", line 165, in libs\n[sagelib-9.2.beta1]     _raise_if_not_exists(package)\n[sagelib-9.2.beta1]   File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py\", line 103, in _raise_if_not_exists\n[sagelib-9.2.beta1]     raise PackageNotFoundError(package)\n[sagelib-9.2.beta1] pkgconfig.pkgconfig.PackageNotFoundError: zlib not found\n[sagelib-9.2.beta1] ************************************************************************\n[sagelib-9.2.beta1] Error building the Sage library\n\n```",
    "created_at": "2020-06-21T19:53:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468560",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:46" align="right">comment:46</div>

Still getting on OSX:

```
[sagelib-9.2.beta1] ************************************************************************
[sagelib-9.2.beta1] Traceback (most recent call last):
[sagelib-9.2.beta1]   File "setup.py", line 72, in <module>
[sagelib-9.2.beta1]     from module_list import ext_modules, library_order
[sagelib-9.2.beta1]   File "/Users/buildbot-sage/slave/sage_git/build/src/module_list.py", line 80, in <module>
[sagelib-9.2.beta1]     aliases = cython_aliases()
[sagelib-9.2.beta1]   File "/Users/buildbot-sage/slave/sage_git/build/src/sage/env.py", line 409, in cython_aliases
[sagelib-9.2.beta1]     aliases[var + "LIBEXTRA"] = list(filter(lambda s: not s.startswith(('-l','-L')), pkgconfig.libs(lib).split()))
[sagelib-9.2.beta1]   File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py", line 165, in libs
[sagelib-9.2.beta1]     _raise_if_not_exists(package)
[sagelib-9.2.beta1]   File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/pkgconfig/pkgconfig.py", line 103, in _raise_if_not_exists
[sagelib-9.2.beta1]     raise PackageNotFoundError(package)
[sagelib-9.2.beta1] pkgconfig.pkgconfig.PackageNotFoundError: zlib not found
[sagelib-9.2.beta1] ************************************************************************
[sagelib-9.2.beta1] Error building the Sage library

```



---

archive/issue_comments_468561.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bfe30dffe9128f58c9110c2ebb594e52a7c40f5\">1bfe30d</a></td><td><code>sage.env.cython_aliases: Another fix for macOS without zlib pc</code></td></tr></table>\n",
    "created_at": "2020-06-21T21:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468561",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bfe30dffe9128f58c9110c2ebb594e52a7c40f5">1bfe30d</a></td><td><code>sage.env.cython_aliases: Another fix for macOS without zlib pc</code></td></tr></table>




---

archive/issue_comments_468562.json:
```json
{
    "body": "Changed commit from **[b1b3787](https://github.com/sagemath/sagetrac-mirror/commit/b1b378712d10cb15555889e8235d089f3cf0e391)** to **[1bfe30d](https://github.com/sagemath/sagetrac-mirror/commit/1bfe30dffe9128f58c9110c2ebb594e52a7c40f5)**",
    "created_at": "2020-06-21T21:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468562",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b1b3787](https://github.com/sagemath/sagetrac-mirror/commit/b1b378712d10cb15555889e8235d089f3cf0e391)** to **[1bfe30d](https://github.com/sagemath/sagetrac-mirror/commit/1bfe30dffe9128f58c9110c2ebb594e52a7c40f5)**



---

archive/issue_events_408771.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-21T21:14:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408771"
}
```



---

archive/issue_events_408772.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-21T21:14:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408772"
}
```



---

archive/issue_comments_468563.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nSorry, here's another fix.",
    "created_at": "2020-06-21T21:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468563",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:48" align="right">comment:48</div>

Sorry, here's another fix.



---

archive/issue_comments_468564.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nAny suggestions for how to reproduce the error? I've tried using the previous version of the branch, and either building with lots of system packages or with very few, but I haven't hit this build error.",
    "created_at": "2020-06-22T05:26:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468564",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:49" align="right">comment:49</div>

Any suggestions for how to reproduce the error? I've tried using the previous version of the branch, and either building with lots of system packages or with very few, but I haven't hit this build error.



---

archive/issue_comments_468565.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nBasically, one needs a macOS without homebrew (which installs .pc files for system libraries). Or do the following to simulate that:\n\n```\n  (cd /usr/local/Homebrew/Library/Homebrew/os/mac/ && mv pkgconfig pkgconfig-moved)\n```",
    "created_at": "2020-06-22T05:28:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468565",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:50" align="right">comment:50</div>

Basically, one needs a macOS without homebrew (which installs .pc files for system libraries). Or do the following to simulate that:

```
  (cd /usr/local/Homebrew/Library/Homebrew/os/mac/ && mv pkgconfig pkgconfig-moved)
```



---

archive/issue_comments_468566.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nI created #29929 (`tox.ini: Add a macos environment without homebrew, conda`) so we can test such a barebones macOS environment on GH Actions",
    "created_at": "2020-06-22T05:30:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468566",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>

I created #29929 (`tox.ini: Add a macos environment without homebrew, conda`) so we can test such a barebones macOS environment on GH Actions



---

archive/issue_comments_468567.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nHave you tried the current branch with such a system? I am completely clueless, whether the last commit resolves the problem.",
    "created_at": "2020-06-22T09:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468567",
    "user": "https://github.com/kliem"
}
```

<div id="comment:52" align="right">comment:52</div>

Have you tried the current branch with such a system? I am completely clueless, whether the last commit resolves the problem.



---

archive/issue_comments_468568.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@kliem](#comment:52):\n> Have you tried the current branch with such a system? I am completely clueless, whether the last commit resolves the problem.\n\nYes, a build from scratch with the manipulation mentioned in comment 50 just finished successfully on my machine.",
    "created_at": "2020-06-22T21:34:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468568",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@kliem](#comment:52):
> Have you tried the current branch with such a system? I am completely clueless, whether the last commit resolves the problem.

Yes, a build from scratch with the manipulation mentioned in comment 50 just finished successfully on my machine.



---

archive/issue_comments_468569.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nI have not yet been able to reproduce the error, so I can't tell if the most recent change fixes anything. Renaming `/usr/local/Homebrew/Library/Homebrew/os/mac/pkgconfig` didn't cause breakage, nor did renaming `/usr/local/lib/pkgconfig`. I'm trying on a different machine by just removing homebrew altogether.",
    "created_at": "2020-06-22T22:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468569",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:54" align="right">comment:54</div>

I have not yet been able to reproduce the error, so I can't tell if the most recent change fixes anything. Renaming `/usr/local/Homebrew/Library/Homebrew/os/mac/pkgconfig` didn't cause breakage, nor did renaming `/usr/local/lib/pkgconfig`. I'm trying on a different machine by just removing homebrew altogether.



---

archive/issue_events_408773.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-06-22T22:57:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408773"
}
```



---

archive/issue_events_408774.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-06-22T22:57:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408774"
}
```



---

archive/issue_comments_468570.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nI can confirm on a machine without Homebrew, I hit the failure that Volker mentioned, and the most recent change fixes it. I'm going to switch to a positive review.",
    "created_at": "2020-06-22T22:57:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468570",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:55" align="right">comment:55</div>

I can confirm on a machine without Homebrew, I hit the failure that Volker mentioned, and the most recent change fixes it. I'm going to switch to a positive review.



---

archive/issue_comments_468571.json:
```json
{
    "body": "Changed reviewer from **Jonathan Kliem** to **Jonathan Kliem, John Palmieri**",
    "created_at": "2020-06-22T23:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468571",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Jonathan Kliem** to **Jonathan Kliem, John Palmieri**



---

archive/issue_comments_468572.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nThank you!",
    "created_at": "2020-06-22T23:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468572",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:56" align="right">comment:56</div>

Thank you!



---

archive/issue_events_408775.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-24T23:38:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408775"
}
```



---

archive/issue_events_408776.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "54b9dba2fa0e1cc44aeec0bbb46951c0b4681cbf",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-06-24T23:38:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29706#event-408776"
}
```



---

archive/issue_comments_468573.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8)** to **[1bfe30d](https://github.com/sagemath/sagetrac-mirror/commit/1bfe30dffe9128f58c9110c2ebb594e52a7c40f5)**",
    "created_at": "2020-06-24T23:38:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29706",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29706#issuecomment-468573",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/c536daa32dcc69adbc7b37d9a170e22fd733bca8)** to **[1bfe30d](https://github.com/sagemath/sagetrac-mirror/commit/1bfe30dffe9128f58c9110c2ebb594e52a7c40f5)**
