# Issue 29039: pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/

archive/issues_028802.json:
```json
{
    "assignees": [],
    "body": "As #30913 makes **sage-conf** both (a) a PEP517/518 `build_system` `requires` and (b) an `install-requires` of sagelib (`sagemath-standard`), also a version of **sage-conf** must be made available on PyPI.\n\nThis version of **sage-conf** includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n\nThere are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing (the non-Python bits of) Sage-the-distribution.  It may be useful for some users who wish to use `pip` to install everything they need. \n\nTo test:\n\n```\n./bootstrap && (cd pkgs/sage-conf_pypi/ && tox -r -v -v -v)\n```\nThis test using `tox` uses `.sage` in an isolated directory within `.tox` instead of in your home directory. At the end of the tox run, the installed `sage-config` script is executed; it prints the configuration variables:\n\n```\n[10639] /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/pkgs/sage-conf_pypi$ /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/pkgs/sage-conf-pypi/.tox/python/bin/sage-config\nVERSION=9.3.beta7\nMAXIMA=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/bin/maxima\nARB_LIBRARY=arb\nSAGE_NAUTY_BINS_PREFIX=\nCBLAS_PC_MODULES=cblas\nMATHJAX_DIR=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/share/mathjax\nTHREEJS_DIR=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/share/threejs\nSAGE_LOCAL=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local\nSAGE_ROOT=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin\npython finish: run-test  after 0.17 seconds\n```\n\nTo build a source distribution:\n\n```\n./sage -sh -c build/pkgs/sage_conf/spkg-src\n```\n(The source distribution has been uploaded to https://pypi.org/project/sage-conf/)\n\nFollow-up steps:\n- Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).\n- Optionally, it would create a venv that is used for building wheels. \n- #30036: Make the build more incremental: On installation of **sage-conf**,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python distribution packages such as **sagemath-standard** to install packages if present.\n\n\n\nCC:  @jhpalmieri @dimpase @kiwifb @vbraun\n\nKeywords: **sd111**\n\nBranch: **[`2a4a323`](https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087)**\n\nReviewer: **Dima Pasechnik, Fran\u00e7ois Bissey**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29039_\n\n",
    "closed_at": "2021-12-29T21:43:11Z",
    "created_at": "2020-01-18T17:34:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/",
    "type": "issue",
    "updated_at": "2022-01-01T19:52:06Z",
    "url": "https://github.com/sagemath/sage/issues/29039",
    "user": "https://github.com/mkoeppe"
}
```
As #30913 makes **sage-conf** both (a) a PEP517/518 `build_system` `requires` and (b) an `install-requires` of sagelib (`sagemath-standard`), also a version of **sage-conf** must be made available on PyPI.

This version of **sage-conf** includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 

There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing (the non-Python bits of) Sage-the-distribution.  It may be useful for some users who wish to use `pip` to install everything they need. 

To test:

```
./bootstrap && (cd pkgs/sage-conf_pypi/ && tox -r -v -v -v)
```
This test using `tox` uses `.sage` in an isolated directory within `.tox` instead of in your home directory. At the end of the tox run, the installed `sage-config` script is executed; it prints the configuration variables:

```
[10639] /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/pkgs/sage-conf_pypi$ /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/pkgs/sage-conf-pypi/.tox/python/bin/sage-config
VERSION=9.3.beta7
MAXIMA=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/bin/maxima
ARB_LIBRARY=arb
SAGE_NAUTY_BINS_PREFIX=
CBLAS_PC_MODULES=cblas
MATHJAX_DIR=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/share/mathjax
THREEJS_DIR=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/share/threejs
SAGE_LOCAL=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local
SAGE_ROOT=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin
python finish: run-test  after 0.17 seconds
```

To build a source distribution:

```
./sage -sh -c build/pkgs/sage_conf/spkg-src
```
(The source distribution has been uploaded to https://pypi.org/project/sage-conf/)

Follow-up steps:
- Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).
- Optionally, it would create a venv that is used for building wheels. 
- #30036: Make the build more incremental: On installation of **sage-conf**,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python distribution packages such as **sagemath-standard** to install packages if present.



CC:  @jhpalmieri @dimpase @kiwifb @vbraun

Keywords: **sd111**

Branch: **[`2a4a323`](https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087)**

Reviewer: **Dima Pasechnik, FranÃ§ois Bissey**

Author: **Matthias Koeppe**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/29039_





---

archive/issue_events_395993.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-18T17:34:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-395993"
}
```



---

archive/issue_events_395994.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-18T17:34:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-395994"
}
```



---

archive/issue_events_395995.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-18T17:34:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-395995"
}
```



---

archive/issue_events_395996.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-18T17:34:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-395996"
}
```



---

archive/issue_comments_453896.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,5 +2,5 @@\n \n It establishes a python-less SAGE_LOCAL hierarchy in the installed `package_data` of a new Python package `sage_local`.\n \n-It also installs `sage_conf.py` (#29038) to enable installing a sagelib using that SAGE_LOCAL>\n+It also installs `sage_conf.py` (#29038) to enable installing a sagelib using that SAGE_LOCAL.\n \n``````\n",
    "created_at": "2020-01-30T16:28:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453896",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,5 +2,5 @@
 
 It establishes a python-less SAGE_LOCAL hierarchy in the installed `package_data` of a new Python package `sage_local`.
 
-It also installs `sage_conf.py` (#29038) to enable installing a sagelib using that SAGE_LOCAL>
+It also installs `sage_conf.py` (#29038) to enable installing a sagelib using that SAGE_LOCAL.
 
``````




---

archive/issue_events_395997.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-30T16:28:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-395997"
}
```



---

archive/issue_events_395998.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-30T16:28:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-395998"
}
```



---

archive/issue_events_395999.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-28T06:19:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-395999"
}
```



---

archive/issue_events_396000.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-28T06:19:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396000"
}
```



---

archive/issue_comments_453897.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n This provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need.\n \n-It establishes a python-less SAGE_LOCAL hierarchy in the installed `package_data` of a new Python package `sage_local`.\n+It establishes a python-less SAGE_LOCAL hierarchy in the installed `package_data` of the Python package `sage_bootstrap`.  The installed script `build/bin/sage-site` can be used by Python packages such as `sagelib` to install additional packages.\n \n-It also installs `sage_conf.py` (#29038) to enable installing a sagelib using that SAGE_LOCAL.\n+It also installs `build/sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL.\n \n``````\n",
    "created_at": "2020-06-28T06:19:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453897",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 This provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need.
 
-It establishes a python-less SAGE_LOCAL hierarchy in the installed `package_data` of a new Python package `sage_local`.
+It establishes a python-less SAGE_LOCAL hierarchy in the installed `package_data` of the Python package `sage_bootstrap`.  The installed script `build/bin/sage-site` can be used by Python packages such as `sagelib` to install additional packages.
 
-It also installs `sage_conf.py` (#29038) to enable installing a sagelib using that SAGE_LOCAL.
+It also installs `build/sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL.
 
``````




---

archive/issue_events_396001.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-28T06:19:50Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "title_is": "pip-installable package sage_bootstrap",
    "title_was": "Package sage_local",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396001"
}
```



---

archive/issue_comments_453898.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,11 @@\n \n It also installs `build/sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL.\n \n+Steps:\n+- Move `configure.ac`, `m4`, `config` into `build/`.  \n+- Leave behind a symlink `configure -> build/configure`. \n+- Split out `build/bootstrap` from `SAGE_ROOT/bootstrap`, call it from there.\n+- Extend `build/MANIFEST.in` to include all files in `build`, including `build/pkgs` and `build/make` \n+- An sdist of `sage_bootstrap` will contain `configure`, just as an sdist of `sage_doc` will contain the files generated by `src/doc/bootstrap`. \n+- Exclude the symlinked `build/pkgs/sagelib/src/`, probably exclude all Python spkgs. \n+\n``````\n",
    "created_at": "2020-06-28T22:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453898",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,11 @@
 
 It also installs `build/sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL.
 
+Steps:
+- Move `configure.ac`, `m4`, `config` into `build/`.  
+- Leave behind a symlink `configure -> build/configure`. 
+- Split out `build/bootstrap` from `SAGE_ROOT/bootstrap`, call it from there.
+- Extend `build/MANIFEST.in` to include all files in `build`, including `build/pkgs` and `build/make` 
+- An sdist of `sage_bootstrap` will contain `configure`, just as an sdist of `sage_doc` will contain the files generated by `src/doc/bootstrap`. 
+- Exclude the symlinked `build/pkgs/sagelib/src/`, probably exclude all Python spkgs. 
+
``````




---

archive/issue_comments_453899.json:
```json
{
    "body": "Dependencies: **#30025**",
    "created_at": "2020-06-29T20:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453899",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30025**



---

archive/issue_comments_453900.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,9 +5,7 @@\n It also installs `build/sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL.\n \n Steps:\n-- Move `configure.ac`, `m4`, `config` into `build/`.  \n-- Leave behind a symlink `configure -> build/configure`. \n-- Split out `build/bootstrap` from `SAGE_ROOT/bootstrap`, call it from there.\n+- #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`\n - Extend `build/MANIFEST.in` to include all files in `build`, including `build/pkgs` and `build/make` \n - An sdist of `sage_bootstrap` will contain `configure`, just as an sdist of `sage_doc` will contain the files generated by `src/doc/bootstrap`. \n - Exclude the symlinked `build/pkgs/sagelib/src/`, probably exclude all Python spkgs. \n``````\n",
    "created_at": "2020-06-29T20:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453900",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,9 +5,7 @@
 It also installs `build/sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL.
 
 Steps:
-- Move `configure.ac`, `m4`, `config` into `build/`.  
-- Leave behind a symlink `configure -> build/configure`. 
-- Split out `build/bootstrap` from `SAGE_ROOT/bootstrap`, call it from there.
+- #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`
 - Extend `build/MANIFEST.in` to include all files in `build`, including `build/pkgs` and `build/make` 
 - An sdist of `sage_bootstrap` will contain `configure`, just as an sdist of `sage_doc` will contain the files generated by `src/doc/bootstrap`. 
 - Exclude the symlinked `build/pkgs/sagelib/src/`, probably exclude all Python spkgs. 
``````




---

archive/issue_comments_453901.json:
```json
{
    "body": "Branch: **[u/mkoeppe/pip_installable_package_sage_bootstrap](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/pip_installable_package_sage_bootstrap)**",
    "created_at": "2020-06-29T21:34:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453901",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/pip_installable_package_sage_bootstrap](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/pip_installable_package_sage_bootstrap)**



---

archive/issue_comments_453902.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e28ae56c3eab514bd350182640e00489dc81ab0\"><code>6e28ae5</code></a></td><td><code>Add sage_root to sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2020-06-29T22:16:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453902",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e28ae56c3eab514bd350182640e00489dc81ab0"><code>6e28ae5</code></a></td><td><code>Add sage_root to sage_bootstrap</code></td></tr></table>




---

archive/issue_comments_453903.json:
```json
{
    "body": "Commit: **[`6e28ae5`](https://github.com/sagemath/sagetrac-mirror/commit/6e28ae56c3eab514bd350182640e00489dc81ab0)**",
    "created_at": "2020-06-29T22:16:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453903",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`6e28ae5`](https://github.com/sagemath/sagetrac-mirror/commit/6e28ae56c3eab514bd350182640e00489dc81ab0)**



---

archive/issue_comments_453904.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,12 @@\n This provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need.\n \n-It establishes a python-less SAGE_LOCAL hierarchy in the installed `package_data` of the Python package `sage_bootstrap`.  The installed script `build/bin/sage-site` can be used by Python packages such as `sagelib` to install additional packages.\n+It establishes a python-less SAGE_LOCAL hierarchy either in the installed `package_data` of the Python package `sage_bootstrap`, or in `~/.sage/`, or something configured by the user (by passing `--prefix` to `setup.py`).  On installation, it only runs `configure` but does not install anything. By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.\n \n-It also installs `build/sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL.\n+A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.\n+\n+It also installs `sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL. (Or there could be a different installed configuration module such as `sage_bootstrap.config`.)\n+\n+\n \n Steps:\n - #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`\n``````\n",
    "created_at": "2020-06-29T22:16:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453904",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,12 @@
 This provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need.
 
-It establishes a python-less SAGE_LOCAL hierarchy in the installed `package_data` of the Python package `sage_bootstrap`.  The installed script `build/bin/sage-site` can be used by Python packages such as `sagelib` to install additional packages.
+It establishes a python-less SAGE_LOCAL hierarchy either in the installed `package_data` of the Python package `sage_bootstrap`, or in `~/.sage/`, or something configured by the user (by passing `--prefix` to `setup.py`).  On installation, it only runs `configure` but does not install anything. By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.
 
-It also installs `build/sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL.
+A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.
+
+It also installs `sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL. (Or there could be a different installed configuration module such as `sage_bootstrap.config`.)
+
+
 
 Steps:
 - #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`
``````




---

archive/issue_comments_453905.json:
```json
{
    "body": "Changed commit from **[`6e28ae5`](https://github.com/sagemath/sagetrac-mirror/commit/6e28ae56c3eab514bd350182640e00489dc81ab0)** to **[`a6373b7`](https://github.com/sagemath/sagetrac-mirror/commit/a6373b762d6a35cf51e48a005d9a5b04bcc621f9)**",
    "created_at": "2020-06-30T01:02:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453905",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6e28ae5`](https://github.com/sagemath/sagetrac-mirror/commit/6e28ae56c3eab514bd350182640e00489dc81ab0)** to **[`a6373b7`](https://github.com/sagemath/sagetrac-mirror/commit/a6373b762d6a35cf51e48a005d9a5b04bcc621f9)**



---

archive/issue_comments_453906.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6373b762d6a35cf51e48a005d9a5b04bcc621f9\"><code>a6373b7</code></a></td><td><code>build/setup.py: Add sage_root as package_data</code></td></tr></table>\n",
    "created_at": "2020-06-30T01:02:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453906",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6373b762d6a35cf51e48a005d9a5b04bcc621f9"><code>a6373b7</code></a></td><td><code>build/setup.py: Add sage_root as package_data</code></td></tr></table>




---

archive/issue_comments_453907.json:
```json
{
    "body": "Changed commit from **[`a6373b7`](https://github.com/sagemath/sagetrac-mirror/commit/a6373b762d6a35cf51e48a005d9a5b04bcc621f9)** to **[`b0ddab0`](https://github.com/sagemath/sagetrac-mirror/commit/b0ddab043224bf868bc0753ed2afbf1e3ad9404c)**",
    "created_at": "2020-07-01T03:45:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453907",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a6373b7`](https://github.com/sagemath/sagetrac-mirror/commit/a6373b762d6a35cf51e48a005d9a5b04bcc621f9)** to **[`b0ddab0`](https://github.com/sagemath/sagetrac-mirror/commit/b0ddab043224bf868bc0753ed2afbf1e3ad9404c)**



---

archive/issue_comments_453908.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/441cb6e1660da48340f47705bfa1217d81960ce2\"><code>441cb6e</code></a></td><td><code>Working sdist and install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0ddab043224bf868bc0753ed2afbf1e3ad9404c\"><code>b0ddab0</code></a></td><td><code>Simplify directory structure</code></td></tr></table>\n",
    "created_at": "2020-07-01T03:45:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453908",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/441cb6e1660da48340f47705bfa1217d81960ce2"><code>441cb6e</code></a></td><td><code>Working sdist and install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0ddab043224bf868bc0753ed2afbf1e3ad9404c"><code>b0ddab0</code></a></td><td><code>Simplify directory structure</code></td></tr></table>




---

archive/issue_comments_453909.json:
```json
{
    "body": "Changed dependencies from **#30025** to **#30025, #29850**",
    "created_at": "2020-07-01T05:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453909",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30025** to **#30025, #29850**



---

archive/issue_comments_453910.json:
```json
{
    "body": "Changed commit from **[`b0ddab0`](https://github.com/sagemath/sagetrac-mirror/commit/b0ddab043224bf868bc0753ed2afbf1e3ad9404c)** to **[`60642d3`](https://github.com/sagemath/sagetrac-mirror/commit/60642d345c9961990f0e126be9af58ab3f893143)**",
    "created_at": "2020-07-01T06:42:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453910",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b0ddab0`](https://github.com/sagemath/sagetrac-mirror/commit/b0ddab043224bf868bc0753ed2afbf1e3ad9404c)** to **[`60642d3`](https://github.com/sagemath/sagetrac-mirror/commit/60642d345c9961990f0e126be9af58ab3f893143)**



---

archive/issue_comments_453911.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10f4fbecfb4067ef210ac05f39c0279958f8b82c\"><code>10f4fbe</code></a></td><td><code>build/setup.py: Reuse configured sage root</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/733427c73f8d74b1452d5dfc8878dec5bf9123b0\"><code>733427c</code></a></td><td><code>Re-add build/sage_root</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60642d345c9961990f0e126be9af58ab3f893143\"><code>60642d3</code></a></td><td><code>build/setup.py: Install sage_conf.py, sage-env-config</code></td></tr></table>\n",
    "created_at": "2020-07-01T06:42:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453911",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10f4fbecfb4067ef210ac05f39c0279958f8b82c"><code>10f4fbe</code></a></td><td><code>build/setup.py: Reuse configured sage root</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/733427c73f8d74b1452d5dfc8878dec5bf9123b0"><code>733427c</code></a></td><td><code>Re-add build/sage_root</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60642d345c9961990f0e126be9af58ab3f893143"><code>60642d3</code></a></td><td><code>build/setup.py: Install sage_conf.py, sage-env-config</code></td></tr></table>




---

archive/issue_comments_453912.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.\n \n-It also installs `sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL. (Or there could be a different installed configuration module such as `sage_bootstrap.config`.)\n+It also installs `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`) to enable installing a sagelib using that `SAGE_LOCAL`. \n \n \n \n``````\n",
    "created_at": "2020-07-01T06:44:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453912",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.
 
-It also installs `sage_conf.py` (#29038) as a Python module to enable installing a sagelib using that SAGE_LOCAL. (Or there could be a different installed configuration module such as `sage_bootstrap.config`.)
+It also installs `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`) to enable installing a sagelib using that `SAGE_LOCAL`. 
 
 
 
``````




---

archive/issue_comments_453913.json:
```json
{
    "body": "Changed dependencies from **#30025, #29850** to **#30025**",
    "created_at": "2020-07-01T06:46:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453913",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30025, #29850** to **#30025**



---

archive/issue_comments_453914.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8006b6f9d6a2b531f067b42d416f00d591d63aaf\"><code>8006b6f</code></a></td><td><code>Add sage_bootstrap.build</code></td></tr></table>\n",
    "created_at": "2020-07-03T06:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453914",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8006b6f9d6a2b531f067b42d416f00d591d63aaf"><code>8006b6f</code></a></td><td><code>Add sage_bootstrap.build</code></td></tr></table>




---

archive/issue_comments_453915.json:
```json
{
    "body": "Changed commit from **[`60642d3`](https://github.com/sagemath/sagetrac-mirror/commit/60642d345c9961990f0e126be9af58ab3f893143)** to **[`8006b6f`](https://github.com/sagemath/sagetrac-mirror/commit/8006b6f9d6a2b531f067b42d416f00d591d63aaf)**",
    "created_at": "2020-07-03T06:13:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453915",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`60642d3`](https://github.com/sagemath/sagetrac-mirror/commit/60642d345c9961990f0e126be9af58ab3f893143)** to **[`8006b6f`](https://github.com/sagemath/sagetrac-mirror/commit/8006b6f9d6a2b531f067b42d416f00d591d63aaf)**



---

archive/issue_comments_453916.json:
```json
{
    "body": "Work Issues: **sage-system-python in installed sage_bootstrap**",
    "created_at": "2020-07-03T06:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453916",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **sage-system-python in installed sage_bootstrap**



---

archive/issue_comments_453917.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-07-14T01:36:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453917",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_453918.json:
```json
{
    "body": "Changed dependencies from **#30025** to **#30025, #30527**",
    "created_at": "2020-09-17T03:00:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453918",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30025** to **#30025, #30527**



---

archive/issue_comments_453919.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,9 @@\n This provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need.\n \n-It establishes a python-less SAGE_LOCAL hierarchy either in the installed `package_data` of the Python package `sage_bootstrap`, or in `~/.sage/`, or something configured by the user (by passing `--prefix` to `setup.py`).  On installation, it only runs `configure` but does not install anything. By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.\n+It establishes a python-less SAGE_LOCAL hierarchy either in the installed `package_data` of the Python package `sage_bootstrap`, or in `~/.sage/`, or something configured by the user (by passing `--prefix` to `setup.py`).  On installation, it only runs `configure` but does not install anything. \n+\n+- By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.\n+- Optionally, it would create a venv that is used for building wheels (#30527). \n \n A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.\n \n``````\n",
    "created_at": "2020-09-17T03:00:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453919",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,9 @@
 This provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need.
 
-It establishes a python-less SAGE_LOCAL hierarchy either in the installed `package_data` of the Python package `sage_bootstrap`, or in `~/.sage/`, or something configured by the user (by passing `--prefix` to `setup.py`).  On installation, it only runs `configure` but does not install anything. By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.
+It establishes a python-less SAGE_LOCAL hierarchy either in the installed `package_data` of the Python package `sage_bootstrap`, or in `~/.sage/`, or something configured by the user (by passing `--prefix` to `setup.py`).  On installation, it only runs `configure` but does not install anything. 
+
+- By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.
+- Optionally, it would create a venv that is used for building wheels (#30527). 
 
 A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.
 
``````




---

archive/issue_comments_453920.json:
```json
{
    "body": "Changed dependencies from **#30025, #30527** to **#30025, #30527, #29013**",
    "created_at": "2020-09-17T04:01:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453920",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30025, #30527** to **#30025, #30527, #29013**



---

archive/issue_comments_453921.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,7 @@\n \n - By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.\n - Optionally, it would create a venv that is used for building wheels (#30527). \n+- Using #29013, it could support several python versions\n \n A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.\n \n``````\n",
    "created_at": "2020-09-17T04:01:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453921",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,7 @@
 
 - By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.
 - Optionally, it would create a venv that is used for building wheels (#30527). 
+- Using #29013, it could support several python versions
 
 A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.
 
``````




---

archive/issue_comments_453922.json:
```json
{
    "body": "Changed dependencies from **#30025, #30527, #29013** to **#30527, #29013**",
    "created_at": "2020-11-07T01:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453922",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30025, #30527, #29013** to **#30527, #29013**



---

archive/issue_comments_453923.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,7 +13,7 @@\n \n \n Steps:\n-- #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`\n+- Optional: #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`\n - Extend `build/MANIFEST.in` to include all files in `build`, including `build/pkgs` and `build/make` \n - An sdist of `sage_bootstrap` will contain `configure`, just as an sdist of `sage_doc` will contain the files generated by `src/doc/bootstrap`. \n - Exclude the symlinked `build/pkgs/sagelib/src/`, probably exclude all Python spkgs. \n``````\n",
    "created_at": "2020-11-07T01:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453923",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,7 +13,7 @@
 
 
 Steps:
-- #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`
+- Optional: #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`
 - Extend `build/MANIFEST.in` to include all files in `build`, including `build/pkgs` and `build/make` 
 - An sdist of `sage_bootstrap` will contain `configure`, just as an sdist of `sage_doc` will contain the files generated by `src/doc/bootstrap`. 
 - Exclude the symlinked `build/pkgs/sagelib/src/`, probably exclude all Python spkgs. 
``````




---

archive/issue_comments_453924.json:
```json
{
    "body": "Changed dependencies from **#30527, #29013** to none",
    "created_at": "2020-11-26T01:38:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453924",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30527, #29013** to none



---

archive/issue_comments_453925.json:
```json
{
    "body": "Changed commit from **[`8006b6f`](https://github.com/sagemath/sagetrac-mirror/commit/8006b6f9d6a2b531f067b42d416f00d591d63aaf)** to **[`9293ae1`](https://github.com/sagemath/sagetrac-mirror/commit/9293ae1d878c7fa24a3098687c49757027be361b)**",
    "created_at": "2020-11-26T01:41:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453925",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8006b6f`](https://github.com/sagemath/sagetrac-mirror/commit/8006b6f9d6a2b531f067b42d416f00d591d63aaf)** to **[`9293ae1`](https://github.com/sagemath/sagetrac-mirror/commit/9293ae1d878c7fa24a3098687c49757027be361b)**



---

archive/issue_comments_453926.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1ad0be2c385df2617c82bedee36b41bdc3a1b20\"><code>a1ad0be</code></a></td><td><code>Add sage_root to sage_bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/869536805c19ec85659813dd41714673444f8c91\"><code>8695368</code></a></td><td><code>build/setup.py: Add sage_root as package_data</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc93ecae97d3c709720af1a247369834f6b4960f\"><code>cc93eca</code></a></td><td><code>Working sdist and install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45c0ebed734eb372bb60cace40071572316d914d\"><code>45c0ebe</code></a></td><td><code>Simplify directory structure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62d4f6cd0b24a07f2d8897240c1b40cbc72d2887\"><code>62d4f6c</code></a></td><td><code>build/setup.py: Reuse configured sage root</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d705e39100e48fe86407b7e12c40d778a83f3a5\"><code>7d705e3</code></a></td><td><code>Re-add build/sage_root</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44e3224e100999fb86aca3bac68d657bb888d1e3\"><code>44e3224</code></a></td><td><code>build/setup.py: Install sage_conf.py, sage-env-config</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9293ae1d878c7fa24a3098687c49757027be361b\"><code>9293ae1</code></a></td><td><code>Add sage_bootstrap.build</code></td></tr></table>\n",
    "created_at": "2020-11-26T01:41:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453926",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1ad0be2c385df2617c82bedee36b41bdc3a1b20"><code>a1ad0be</code></a></td><td><code>Add sage_root to sage_bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/869536805c19ec85659813dd41714673444f8c91"><code>8695368</code></a></td><td><code>build/setup.py: Add sage_root as package_data</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc93ecae97d3c709720af1a247369834f6b4960f"><code>cc93eca</code></a></td><td><code>Working sdist and install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45c0ebed734eb372bb60cace40071572316d914d"><code>45c0ebe</code></a></td><td><code>Simplify directory structure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62d4f6cd0b24a07f2d8897240c1b40cbc72d2887"><code>62d4f6c</code></a></td><td><code>build/setup.py: Reuse configured sage root</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d705e39100e48fe86407b7e12c40d778a83f3a5"><code>7d705e3</code></a></td><td><code>Re-add build/sage_root</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44e3224e100999fb86aca3bac68d657bb888d1e3"><code>44e3224</code></a></td><td><code>build/setup.py: Install sage_conf.py, sage-env-config</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9293ae1d878c7fa24a3098687c49757027be361b"><code>9293ae1</code></a></td><td><code>Add sage_bootstrap.build</code></td></tr></table>




---

archive/issue_comments_453927.json:
```json
{
    "body": "Changed commit from **[`9293ae1`](https://github.com/sagemath/sagetrac-mirror/commit/9293ae1d878c7fa24a3098687c49757027be361b)** to **[`3f243e1`](https://github.com/sagemath/sagetrac-mirror/commit/3f243e19bd975f4c71b34a049f90d0ff2097a8d0)**",
    "created_at": "2020-11-26T04:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453927",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9293ae1`](https://github.com/sagemath/sagetrac-mirror/commit/9293ae1d878c7fa24a3098687c49757027be361b)** to **[`3f243e1`](https://github.com/sagemath/sagetrac-mirror/commit/3f243e19bd975f4c71b34a049f90d0ff2097a8d0)**



---

archive/issue_comments_453928.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05c44c8441a5280917f1b977f70c6e41097bd652\"><code>05c44c8</code></a></td><td><code>build/sage_root: Remove outdated symlink</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f243e19bd975f4c71b34a049f90d0ff2097a8d0\"><code>3f243e1</code></a></td><td><code>build/setup.py: Use configure --with-python=...</code></td></tr></table>\n",
    "created_at": "2020-11-26T04:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453928",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05c44c8441a5280917f1b977f70c6e41097bd652"><code>05c44c8</code></a></td><td><code>build/sage_root: Remove outdated symlink</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f243e19bd975f4c71b34a049f90d0ff2097a8d0"><code>3f243e1</code></a></td><td><code>build/setup.py: Use configure --with-python=...</code></td></tr></table>




---

archive/issue_comments_453929.json:
```json
{
    "body": "Changed keywords from none to **sd111**",
    "created_at": "2020-12-06T17:45:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453929",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from none to **sd111**



---

archive/issue_comments_453930.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,8 +8,11 @@\n \n A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.\n \n+\n It also installs `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`) to enable installing a sagelib using that `SAGE_LOCAL`. \n \n+\n+As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires`, also a version of `sage_conf` must be made available on PyPI.\n \n \n Steps:\n``````\n",
    "created_at": "2021-01-20T21:39:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453930",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,8 +8,11 @@
 
 A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.
 
+
 It also installs `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`) to enable installing a sagelib using that `SAGE_LOCAL`. 
 
+
+As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires`, also a version of `sage_conf` must be made available on PyPI.
 
 
 Steps:
``````




---

archive/issue_events_396002.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-01-20T21:39:31Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "title_is": "pip-installable packages sage_bootstrap, sage_conf",
    "title_was": "pip-installable package sage_bootstrap",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396002"
}
```



---

archive/issue_comments_453931.json:
```json
{
    "body": "Dependencies: **#30913**",
    "created_at": "2021-01-20T21:40:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453931",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30913**



---

archive/issue_comments_453932.json:
```json
{
    "body": "Changed work issues from **sage-system-python in installed sage_bootstrap** to **sage-system-python in installed sage_bootstrap. Rework it so that sage_conf is the package running configure.**",
    "created_at": "2021-01-23T20:35:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453932",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **sage-system-python in installed sage_bootstrap** to **sage-system-python in installed sage_bootstrap. Rework it so that sage_conf is the package running configure.**



---

archive/issue_comments_453933.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7da13f49bdefd4273db97ca4bfd115608d70ce98\"><code>7da13f4</code></a></td><td><code>Add sage_root to sage_bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ea9d804dba6bed094aefd45d8166fe92e1f9bd7\"><code>9ea9d80</code></a></td><td><code>build/setup.py: Add sage_root as package_data</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f5c99c60932b1055691b2a2a484a23820adcc4d\"><code>3f5c99c</code></a></td><td><code>Working sdist and install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f7647ff66ce02a641d8398688091c3c61281b84\"><code>1f7647f</code></a></td><td><code>Simplify directory structure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f59d0778486ad6e3007883cef8760c5ed5d73216\"><code>f59d077</code></a></td><td><code>build/setup.py: Reuse configured sage root</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a18b9804842641ee4da59f4236fc2339c24395c\"><code>4a18b98</code></a></td><td><code>Re-add build/sage_root</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e44d282055d235d0ebc52327516e7c5bdde81de\"><code>8e44d28</code></a></td><td><code>build/setup.py: Install sage_conf.py, sage-env-config</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86e21a1f67001d9a7b1cc283e0a875dd8f85ea23\"><code>86e21a1</code></a></td><td><code>Add sage_bootstrap.build</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47f5e958ba784ef2ccce37830a3a51993e945779\"><code>47f5e95</code></a></td><td><code>build/sage_root: Remove outdated symlink</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7cd894f49dd4f39824f421166faf281fb64d641\"><code>b7cd894</code></a></td><td><code>build/setup.py: Use configure --with-python=...</code></td></tr></table>\n",
    "created_at": "2021-02-14T02:24:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453933",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7da13f49bdefd4273db97ca4bfd115608d70ce98"><code>7da13f4</code></a></td><td><code>Add sage_root to sage_bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ea9d804dba6bed094aefd45d8166fe92e1f9bd7"><code>9ea9d80</code></a></td><td><code>build/setup.py: Add sage_root as package_data</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f5c99c60932b1055691b2a2a484a23820adcc4d"><code>3f5c99c</code></a></td><td><code>Working sdist and install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f7647ff66ce02a641d8398688091c3c61281b84"><code>1f7647f</code></a></td><td><code>Simplify directory structure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f59d0778486ad6e3007883cef8760c5ed5d73216"><code>f59d077</code></a></td><td><code>build/setup.py: Reuse configured sage root</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a18b9804842641ee4da59f4236fc2339c24395c"><code>4a18b98</code></a></td><td><code>Re-add build/sage_root</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e44d282055d235d0ebc52327516e7c5bdde81de"><code>8e44d28</code></a></td><td><code>build/setup.py: Install sage_conf.py, sage-env-config</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86e21a1f67001d9a7b1cc283e0a875dd8f85ea23"><code>86e21a1</code></a></td><td><code>Add sage_bootstrap.build</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47f5e958ba784ef2ccce37830a3a51993e945779"><code>47f5e95</code></a></td><td><code>build/sage_root: Remove outdated symlink</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7cd894f49dd4f39824f421166faf281fb64d641"><code>b7cd894</code></a></td><td><code>build/setup.py: Use configure --with-python=...</code></td></tr></table>




---

archive/issue_comments_453934.json:
```json
{
    "body": "Changed commit from **[`3f243e1`](https://github.com/sagemath/sagetrac-mirror/commit/3f243e19bd975f4c71b34a049f90d0ff2097a8d0)** to **[`b7cd894`](https://github.com/sagemath/sagetrac-mirror/commit/b7cd894f49dd4f39824f421166faf281fb64d641)**",
    "created_at": "2021-02-14T02:24:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453934",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3f243e1`](https://github.com/sagemath/sagetrac-mirror/commit/3f243e19bd975f4c71b34a049f90d0ff2097a8d0)** to **[`b7cd894`](https://github.com/sagemath/sagetrac-mirror/commit/b7cd894f49dd4f39824f421166faf281fb64d641)**



---

archive/issue_comments_453935.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ff9371294719358f9c18ab964de3ad046ac7b5d\"><code>4ff9371</code></a></td><td><code>Move installation of SAGE_ROOT from sage_bootstrap to sage_conf (pypi version)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44b873b3023f487e0188554b1d353520db41f884\"><code>44b873b</code></a></td><td><code>Put both versions of sage_conf sources into subdirectories of SAGE_ROOT/src/pkgs/</code></td></tr></table>\n",
    "created_at": "2021-02-14T07:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453935",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ff9371294719358f9c18ab964de3ad046ac7b5d"><code>4ff9371</code></a></td><td><code>Move installation of SAGE_ROOT from sage_bootstrap to sage_conf (pypi version)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44b873b3023f487e0188554b1d353520db41f884"><code>44b873b</code></a></td><td><code>Put both versions of sage_conf sources into subdirectories of SAGE_ROOT/src/pkgs/</code></td></tr></table>




---

archive/issue_comments_453936.json:
```json
{
    "body": "Changed commit from **[`b7cd894`](https://github.com/sagemath/sagetrac-mirror/commit/b7cd894f49dd4f39824f421166faf281fb64d641)** to **[`44b873b`](https://github.com/sagemath/sagetrac-mirror/commit/44b873b3023f487e0188554b1d353520db41f884)**",
    "created_at": "2021-02-14T07:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453936",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b7cd894`](https://github.com/sagemath/sagetrac-mirror/commit/b7cd894f49dd4f39824f421166faf281fb64d641)** to **[`44b873b`](https://github.com/sagemath/sagetrac-mirror/commit/44b873b3023f487e0188554b1d353520db41f884)**



---

archive/issue_comments_453937.json:
```json
{
    "body": "Changed dependencies from **#30913** to **#30913, #31362**",
    "created_at": "2021-02-14T07:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453937",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30913** to **#30913, #31362**



---

archive/issue_events_396003.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-14T07:18:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "title_is": "pip-installable version of package sage_conf",
    "title_was": "pip-installable packages sage_bootstrap, sage_conf",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396003"
}
```



---

archive/issue_comments_453938.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,23 +1,18 @@\n-This provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need.\n+As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.\n \n-It establishes a python-less SAGE_LOCAL hierarchy either in the installed `package_data` of the Python package `sage_bootstrap`, or in `~/.sage/`, or something configured by the user (by passing `--prefix` to `setup.py`).  On installation, it only runs `configure` but does not install anything. \n+This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it runs `configure` and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n+\n+There no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. \n+\n+It establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` or something configured by the user (by passing `--prefix` to `setup.py`).  \n \n - By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.\n - Optionally, it would create a venv that is used for building wheels (#30527). \n - Using #29013, it could support several python versions\n \n-A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.\n+Steps:\n+- Optional: #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`\n+- Exclude the symlinked `build/pkgs/sagelib/src/` via `MANIFEST.in`\n+- Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.\n \n \n-It also installs `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`) to enable installing a sagelib using that `SAGE_LOCAL`. \n-\n-\n-As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires`, also a version of `sage_conf` must be made available on PyPI.\n-\n-\n-Steps:\n-- Optional: #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`\n-- Extend `build/MANIFEST.in` to include all files in `build`, including `build/pkgs` and `build/make` \n-- An sdist of `sage_bootstrap` will contain `configure`, just as an sdist of `sage_doc` will contain the files generated by `src/doc/bootstrap`. \n-- Exclude the symlinked `build/pkgs/sagelib/src/`, probably exclude all Python spkgs. \n-\n``````\n",
    "created_at": "2021-02-14T07:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453938",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,23 +1,18 @@
-This provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need.
+As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.
 
-It establishes a python-less SAGE_LOCAL hierarchy either in the installed `package_data` of the Python package `sage_bootstrap`, or in `~/.sage/`, or something configured by the user (by passing `--prefix` to `setup.py`).  On installation, it only runs `configure` but does not install anything. 
+This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it runs `configure` and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 
+
+There no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. 
+
+It establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` or something configured by the user (by passing `--prefix` to `setup.py`).  
 
 - By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.
 - Optionally, it would create a venv that is used for building wheels (#30527). 
 - Using #29013, it could support several python versions
 
-A Python entry point in `sage_bootstrap` can be used by Python packages such as `sagelib` to install packages if present.
+Steps:
+- Optional: #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`
+- Exclude the symlinked `build/pkgs/sagelib/src/` via `MANIFEST.in`
+- Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.
 
 
-It also installs `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`) to enable installing a sagelib using that `SAGE_LOCAL`. 
-
-
-As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires`, also a version of `sage_conf` must be made available on PyPI.
-
-
-Steps:
-- Optional: #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`
-- Extend `build/MANIFEST.in` to include all files in `build`, including `build/pkgs` and `build/make` 
-- An sdist of `sage_bootstrap` will contain `configure`, just as an sdist of `sage_doc` will contain the files generated by `src/doc/bootstrap`. 
-- Exclude the symlinked `build/pkgs/sagelib/src/`, probably exclude all Python spkgs. 
-
``````




---

archive/issue_comments_453939.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ee90871c44a31ebf3a48932567475ae1bcec9b5\"><code>8ee9087</code></a></td><td><code>Put both versions of sage_conf sources into subdirectories of SAGE_ROOT/src/pkgs/</code></td></tr></table>\n",
    "created_at": "2021-02-14T07:23:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453939",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ee90871c44a31ebf3a48932567475ae1bcec9b5"><code>8ee9087</code></a></td><td><code>Put both versions of sage_conf sources into subdirectories of SAGE_ROOT/src/pkgs/</code></td></tr></table>




---

archive/issue_comments_453940.json:
```json
{
    "body": "Changed commit from **[`44b873b`](https://github.com/sagemath/sagetrac-mirror/commit/44b873b3023f487e0188554b1d353520db41f884)** to **[`8ee9087`](https://github.com/sagemath/sagetrac-mirror/commit/8ee90871c44a31ebf3a48932567475ae1bcec9b5)**",
    "created_at": "2021-02-14T07:23:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453940",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`44b873b`](https://github.com/sagemath/sagetrac-mirror/commit/44b873b3023f487e0188554b1d353520db41f884)** to **[`8ee9087`](https://github.com/sagemath/sagetrac-mirror/commit/8ee90871c44a31ebf3a48932567475ae1bcec9b5)**



---

archive/issue_comments_453941.json:
```json
{
    "body": "Changed commit from **[`8ee9087`](https://github.com/sagemath/sagetrac-mirror/commit/8ee90871c44a31ebf3a48932567475ae1bcec9b5)** to **[`47e182d`](https://github.com/sagemath/sagetrac-mirror/commit/47e182d81ec5fa6fa810fd30316bdf42047b067c)**",
    "created_at": "2021-02-14T07:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453941",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8ee9087`](https://github.com/sagemath/sagetrac-mirror/commit/8ee90871c44a31ebf3a48932567475ae1bcec9b5)** to **[`47e182d`](https://github.com/sagemath/sagetrac-mirror/commit/47e182d81ec5fa6fa810fd30316bdf42047b067c)**



---

archive/issue_comments_453942.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47e182d81ec5fa6fa810fd30316bdf42047b067c\"><code>47e182d</code></a></td><td><code>Put both versions of sage_conf sources into subdirectories of SAGE_ROOT/src/pkgs/</code></td></tr></table>\n",
    "created_at": "2021-02-14T07:25:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453942",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47e182d81ec5fa6fa810fd30316bdf42047b067c"><code>47e182d</code></a></td><td><code>Put both versions of sage_conf sources into subdirectories of SAGE_ROOT/src/pkgs/</code></td></tr></table>




---

archive/issue_comments_453943.json:
```json
{
    "body": "Changed dependencies from **#30913, #31362** to **#30913, #31362, #31357**",
    "created_at": "2021-02-14T07:36:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453943",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30913, #31362** to **#30913, #31362, #31357**



---

archive/issue_comments_453944.json:
```json
{
    "body": "Changed commit from **[`47e182d`](https://github.com/sagemath/sagetrac-mirror/commit/47e182d81ec5fa6fa810fd30316bdf42047b067c)** to **[`b2b785b`](https://github.com/sagemath/sagetrac-mirror/commit/b2b785b2b9ae6194a7d15f2f1b1ac694ed388e84)**",
    "created_at": "2021-02-14T08:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453944",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`47e182d`](https://github.com/sagemath/sagetrac-mirror/commit/47e182d81ec5fa6fa810fd30316bdf42047b067c)** to **[`b2b785b`](https://github.com/sagemath/sagetrac-mirror/commit/b2b785b2b9ae6194a7d15f2f1b1ac694ed388e84)**



---

archive/issue_comments_453945.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55bc2aaf1f539e1d3355d8e1a6c8aa944eb3f254\"><code>55bc2aa</code></a></td><td><code>m4/sage_spkg_collect.m4: Generate install tree information for build/make/Makefile</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7dc9a213894fbd12fa4991995b6f1244e5f3401\"><code>d7dc9a2</code></a></td><td><code>build/make/Makefile.in: New targets all-sage-local, all-sage-venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27b589baa864533f8a51ff8b46ae10735d09d62f\"><code>27b589b</code></a></td><td><code>Merge branch 't/30912/sagelib__update_metadata_for_pypi_deployment' into t/31362/make_all_sage_local__make_all_sage_venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8796008d4852679266b786d63fef2933f0619fa1\"><code>8796008</code></a></td><td><code>Put pynac into SAGE_LOCAL, sagelib into SAGE_VENV</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6831b1b9657035e91afe6c8b47b32358f24497c\"><code>d6831b1</code></a></td><td><code>build/make/Makefile.in: Add all-build-local, all-build-venv, which include dependency on toolchain</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61f6ba6ba917bc48a535470a5c781ccf57d94b06\"><code>61f6ba6</code></a></td><td><code>Makefile: Add top-level targets build-local, build-venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2b785b2b9ae6194a7d15f2f1b1ac694ed388e84\"><code>b2b785b</code></a></td><td><code>Put both versions of sage_conf sources into subdirectories of SAGE_ROOT/src/pkgs/</code></td></tr></table>\n",
    "created_at": "2021-02-14T08:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453945",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55bc2aaf1f539e1d3355d8e1a6c8aa944eb3f254"><code>55bc2aa</code></a></td><td><code>m4/sage_spkg_collect.m4: Generate install tree information for build/make/Makefile</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7dc9a213894fbd12fa4991995b6f1244e5f3401"><code>d7dc9a2</code></a></td><td><code>build/make/Makefile.in: New targets all-sage-local, all-sage-venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27b589baa864533f8a51ff8b46ae10735d09d62f"><code>27b589b</code></a></td><td><code>Merge branch 't/30912/sagelib__update_metadata_for_pypi_deployment' into t/31362/make_all_sage_local__make_all_sage_venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8796008d4852679266b786d63fef2933f0619fa1"><code>8796008</code></a></td><td><code>Put pynac into SAGE_LOCAL, sagelib into SAGE_VENV</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6831b1b9657035e91afe6c8b47b32358f24497c"><code>d6831b1</code></a></td><td><code>build/make/Makefile.in: Add all-build-local, all-build-venv, which include dependency on toolchain</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61f6ba6ba917bc48a535470a5c781ccf57d94b06"><code>61f6ba6</code></a></td><td><code>Makefile: Add top-level targets build-local, build-venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2b785b2b9ae6194a7d15f2f1b1ac694ed388e84"><code>b2b785b</code></a></td><td><code>Put both versions of sage_conf sources into subdirectories of SAGE_ROOT/src/pkgs/</code></td></tr></table>




---

archive/issue_comments_453946.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,18 +1,22 @@\n As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.\n \n-This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it runs `configure` and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n+This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it runs `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n \n-There no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. \n+There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. \n \n-It establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` or something configured by the user (by passing `--prefix` to `setup.py`).  \n+It establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/`.  \n \n-- By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.\n+To test:\n+\n+```\n+./bootstrap && (cd src/pkgs/sage_conf-pypi/ && MAKE=\"make -j12\" tox -v -v -v)\n+```\n+\n+\n+Follow-up steps:\n+- Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).\n - Optionally, it would create a venv that is used for building wheels (#30527). \n - Using #29013, it could support several python versions\n-\n-Steps:\n-- Optional: #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`\n-- Exclude the symlinked `build/pkgs/sagelib/src/` via `MANIFEST.in`\n - Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.\n \n \n``````\n",
    "created_at": "2021-02-14T08:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453946",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,18 +1,22 @@
 As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.
 
-This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it runs `configure` and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 
+This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it runs `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 
 
-There no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. 
+There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. 
 
-It establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` or something configured by the user (by passing `--prefix` to `setup.py`).  
+It establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/`.  
 
-- By default, instead of installing a copy of python3 or creating a venv, it would only run a python3 version check and would issue a warning if trying to install into a Python outside of the supported range.
+To test:
+
+```
+./bootstrap && (cd src/pkgs/sage_conf-pypi/ && MAKE="make -j12" tox -v -v -v)
+```
+
+
+Follow-up steps:
+- Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).
 - Optionally, it would create a venv that is used for building wheels (#30527). 
 - Using #29013, it could support several python versions
-
-Steps:
-- Optional: #30025: Clean up `SAGE_ROOT` directory by moving stuff into `SAGE_ROOT/build/`
-- Exclude the symlinked `build/pkgs/sagelib/src/` via `MANIFEST.in`
 - Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.
 
 
``````




---

archive/issue_comments_453947.json:
```json
{
    "body": "Changed work issues from **sage-system-python in installed sage_bootstrap. Rework it so that sage_conf is the package running configure.** to none",
    "created_at": "2021-02-14T08:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453947",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **sage-system-python in installed sage_bootstrap. Rework it so that sage_conf is the package running configure.** to none



---

archive/issue_comments_453948.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,8 @@\n As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.\n \n-This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it runs `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n+This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n \n There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. \n-\n-It establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/`.  \n \n To test:\n \n``````\n",
    "created_at": "2021-02-14T08:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453948",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,8 @@
 As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.
 
-This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it runs `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 
+This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 
 
 There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. 
-
-It establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/`.  
 
 To test:
 
``````




---

archive/issue_comments_453949.json:
```json
{
    "body": "Changed dependencies from **#30913, #31362, #31357** to **#30913, #31362, #31357, #31321**",
    "created_at": "2021-02-14T08:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453949",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30913, #31362, #31357** to **#30913, #31362, #31357, #31321**



---

archive/issue_comments_453950.json:
```json
{
    "body": "Changed commit from **[`b2b785b`](https://github.com/sagemath/sagetrac-mirror/commit/b2b785b2b9ae6194a7d15f2f1b1ac694ed388e84)** to **[`b8b8a06`](https://github.com/sagemath/sagetrac-mirror/commit/b8b8a0607d3a9d7ad05df8c8e306c41c82a05e24)**",
    "created_at": "2021-02-14T08:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453950",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b2b785b`](https://github.com/sagemath/sagetrac-mirror/commit/b2b785b2b9ae6194a7d15f2f1b1ac694ed388e84)** to **[`b8b8a06`](https://github.com/sagemath/sagetrac-mirror/commit/b8b8a0607d3a9d7ad05df8c8e306c41c82a05e24)**



---

archive/issue_comments_453951.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8b8a0607d3a9d7ad05df8c8e306c41c82a05e24\"><code>b8b8a06</code></a></td><td><code>Put both versions of sage_conf sources into subdirectories of SAGE_ROOT/src/pkgs/</code></td></tr></table>\n",
    "created_at": "2021-02-14T08:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453951",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8b8a0607d3a9d7ad05df8c8e306c41c82a05e24"><code>b8b8a06</code></a></td><td><code>Put both versions of sage_conf sources into subdirectories of SAGE_ROOT/src/pkgs/</code></td></tr></table>




---

archive/issue_comments_453952.json:
```json
{
    "body": "Changed commit from **[`b8b8a06`](https://github.com/sagemath/sagetrac-mirror/commit/b8b8a0607d3a9d7ad05df8c8e306c41c82a05e24)** to **[`ff7f110`](https://github.com/sagemath/sagetrac-mirror/commit/ff7f110f406e3a88ae655b7c77b8f0f93d213006)**",
    "created_at": "2021-02-14T08:54:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453952",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b8b8a06`](https://github.com/sagemath/sagetrac-mirror/commit/b8b8a0607d3a9d7ad05df8c8e306c41c82a05e24)** to **[`ff7f110`](https://github.com/sagemath/sagetrac-mirror/commit/ff7f110f406e3a88ae655b7c77b8f0f93d213006)**



---

archive/issue_comments_453953.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff7f110f406e3a88ae655b7c77b8f0f93d213006\"><code>ff7f110</code></a></td><td><code>build/pkgs/sage_conf/install-requires.txt: New</code></td></tr></table>\n",
    "created_at": "2021-02-14T08:54:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453953",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff7f110f406e3a88ae655b7c77b8f0f93d213006"><code>ff7f110</code></a></td><td><code>build/pkgs/sage_conf/install-requires.txt: New</code></td></tr></table>




---

archive/issue_comments_453954.json:
```json
{
    "body": "Changed commit from **[`ff7f110`](https://github.com/sagemath/sagetrac-mirror/commit/ff7f110f406e3a88ae655b7c77b8f0f93d213006)** to **[`072b522`](https://github.com/sagemath/sagetrac-mirror/commit/072b522e2e10bdcec729f72dcaa82908154864b7)**",
    "created_at": "2021-02-14T18:57:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453954",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ff7f110`](https://github.com/sagemath/sagetrac-mirror/commit/ff7f110f406e3a88ae655b7c77b8f0f93d213006)** to **[`072b522`](https://github.com/sagemath/sagetrac-mirror/commit/072b522e2e10bdcec729f72dcaa82908154864b7)**



---

archive/issue_comments_453955.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/072b522e2e10bdcec729f72dcaa82908154864b7\"><code>072b522</code></a></td><td><code>Determine SAGE_ROOT from sage version and python version</code></td></tr></table>\n",
    "created_at": "2021-02-14T18:57:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453955",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/072b522e2e10bdcec729f72dcaa82908154864b7"><code>072b522</code></a></td><td><code>Determine SAGE_ROOT from sage version and python version</code></td></tr></table>




---

archive/issue_comments_453956.json:
```json
{
    "body": "Changed commit from **[`072b522`](https://github.com/sagemath/sagetrac-mirror/commit/072b522e2e10bdcec729f72dcaa82908154864b7)** to **[`fa4cbfa`](https://github.com/sagemath/sagetrac-mirror/commit/fa4cbfa8bf933c41c1a6d0d649fb0fb3b5030aa1)**",
    "created_at": "2021-02-14T19:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453956",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`072b522`](https://github.com/sagemath/sagetrac-mirror/commit/072b522e2e10bdcec729f72dcaa82908154864b7)** to **[`fa4cbfa`](https://github.com/sagemath/sagetrac-mirror/commit/fa4cbfa8bf933c41c1a6d0d649fb0fb3b5030aa1)**



---

archive/issue_comments_453957.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa4cbfa8bf933c41c1a6d0d649fb0fb3b5030aa1\"><code>fa4cbfa</code></a></td><td><code>Run .homebrew-build-env and set 'make -j...' automatically</code></td></tr></table>\n",
    "created_at": "2021-02-14T19:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453957",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa4cbfa8bf933c41c1a6d0d649fb0fb3b5030aa1"><code>fa4cbfa</code></a></td><td><code>Run .homebrew-build-env and set 'make -j...' automatically</code></td></tr></table>




---

archive/issue_events_396004.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-14T19:47:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "title_is": "pip-installable version of package sage_conf - installs non-Python bits of the Sage distribution in ~/.sage/",
    "title_was": "pip-installable version of package sage_conf",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396004"
}
```



---

archive/issue_comments_453958.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,15 +1,19 @@\n As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.\n \n-This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n+This version of `sage_conf` includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n \n There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. \n \n To test:\n \n ```\n-./bootstrap && (cd src/pkgs/sage_conf-pypi/ && MAKE=\"make -j12\" tox -v -v -v)\n+./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)\n ```\n+To build a source distribution:\n \n+```\n+./sage -sh -c build/pkgs/sage_conf/spkg-src\n+```\n \n Follow-up steps:\n - Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).\n``````\n",
    "created_at": "2021-02-14T19:47:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453958",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,15 +1,19 @@
 As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.
 
-This version of `sage_conf` runs includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**`. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 
+This version of `sage_conf` includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 
 
 There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. 
 
 To test:
 
 ```
-./bootstrap && (cd src/pkgs/sage_conf-pypi/ && MAKE="make -j12" tox -v -v -v)
+./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)
 ```
+To build a source distribution:
 
+```
+./sage -sh -c build/pkgs/sage_conf/spkg-src
+```
 
 Follow-up steps:
 - Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).
``````




---

archive/issue_events_396005.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-14T19:47:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396005"
}
```



---

archive/issue_events_396006.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-14T19:47:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396006"
}
```



---

archive/issue_events_396007.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-14T19:47:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396007"
}
```



---

archive/issue_comments_453959.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,13 +2,29 @@\n \n This version of `sage_conf` includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n \n-There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. \n+There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing (the non-Python bits of) Sage-the-distribution.  It may be useful for some users who wish to use `pip` to install everything they need. \n \n To test:\n \n ```\n ./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)\n ```\n+This test using `tox` uses `.sage` in an isolated directory within `.tox` instead of in your home directory. At the end of the tox run, the installed `sage-config` script is executed; it prints the configuration variables:\n+\n+```\n+[10639] /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi$ /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/bin/sage-config\n+VERSION=9.3.beta7\n+MAXIMA=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/bin/maxima\n+ARB_LIBRARY=arb\n+SAGE_NAUTY_BINS_PREFIX=\n+CBLAS_PC_MODULES=cblas\n+MATHJAX_DIR=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/share/mathjax\n+THREEJS_DIR=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/share/threejs\n+SAGE_LOCAL=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local\n+SAGE_ROOT=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin\n+python finish: run-test  after 0.17 seconds\n+```\n+\n To build a source distribution:\n \n ```\n``````\n",
    "created_at": "2021-02-14T20:09:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453959",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,13 +2,29 @@
 
 This version of `sage_conf` includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 
 
-There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing sage-the-distribution that may be useful for some users who wish to use `pip` to install everything they need. 
+There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing (the non-Python bits of) Sage-the-distribution.  It may be useful for some users who wish to use `pip` to install everything they need. 
 
 To test:
 
 ```
 ./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)
 ```
+This test using `tox` uses `.sage` in an isolated directory within `.tox` instead of in your home directory. At the end of the tox run, the installed `sage-config` script is executed; it prints the configuration variables:
+
+```
+[10639] /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi$ /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/bin/sage-config
+VERSION=9.3.beta7
+MAXIMA=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/bin/maxima
+ARB_LIBRARY=arb
+SAGE_NAUTY_BINS_PREFIX=
+CBLAS_PC_MODULES=cblas
+MATHJAX_DIR=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/share/mathjax
+THREEJS_DIR=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/share/threejs
+SAGE_LOCAL=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local
+SAGE_ROOT=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin
+python finish: run-test  after 0.17 seconds
+```
+
 To build a source distribution:
 
 ```
``````




---

archive/issue_comments_453960.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa9485cfc9a47aec79c77f73575c56c56c197666\"><code>fa9485c</code></a></td><td><code>Remove sage_bootstrap.build (not needed for this ticket)</code></td></tr></table>\n",
    "created_at": "2021-02-14T20:18:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453960",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa9485cfc9a47aec79c77f73575c56c56c197666"><code>fa9485c</code></a></td><td><code>Remove sage_bootstrap.build (not needed for this ticket)</code></td></tr></table>




---

archive/issue_comments_453961.json:
```json
{
    "body": "Changed commit from **[`fa4cbfa`](https://github.com/sagemath/sagetrac-mirror/commit/fa4cbfa8bf933c41c1a6d0d649fb0fb3b5030aa1)** to **[`fa9485c`](https://github.com/sagemath/sagetrac-mirror/commit/fa9485cfc9a47aec79c77f73575c56c56c197666)**",
    "created_at": "2021-02-14T20:18:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453961",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fa4cbfa`](https://github.com/sagemath/sagetrac-mirror/commit/fa4cbfa8bf933c41c1a6d0d649fb0fb3b5030aa1)** to **[`fa9485c`](https://github.com/sagemath/sagetrac-mirror/commit/fa9485cfc9a47aec79c77f73575c56c56c197666)**



---

archive/issue_comments_453962.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -35,6 +35,6 @@\n - Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).\n - Optionally, it would create a venv that is used for building wheels (#30527). \n - Using #29013, it could support several python versions\n-- Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.\n+- #30036: Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.\n \n \n``````\n",
    "created_at": "2021-02-14T20:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453962",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -35,6 +35,6 @@
 - Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).
 - Optionally, it would create a venv that is used for building wheels (#30527). 
 - Using #29013, it could support several python versions
-- Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.
+- #30036: Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.
 
 
``````




---

archive/issue_comments_453963.json:
```json
{
    "body": "Changed commit from **[`fa9485c`](https://github.com/sagemath/sagetrac-mirror/commit/fa9485cfc9a47aec79c77f73575c56c56c197666)** to **[`7bdc524`](https://github.com/sagemath/sagetrac-mirror/commit/7bdc52452f725002185d58d95735f7ee191ce469)**",
    "created_at": "2021-02-14T20:32:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453963",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fa9485c`](https://github.com/sagemath/sagetrac-mirror/commit/fa9485cfc9a47aec79c77f73575c56c56c197666)** to **[`7bdc524`](https://github.com/sagemath/sagetrac-mirror/commit/7bdc52452f725002185d58d95735f7ee191ce469)**



---

archive/issue_comments_453964.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bdc52452f725002185d58d95735f7ee191ce469\"><code>7bdc524</code></a></td><td><code>build/pkgs/sage_conf/src: Restore symlink</code></td></tr></table>\n",
    "created_at": "2021-02-14T20:32:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453964",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bdc52452f725002185d58d95735f7ee191ce469"><code>7bdc524</code></a></td><td><code>build/pkgs/sage_conf/src: Restore symlink</code></td></tr></table>




---

archive/issue_comments_453965.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76d151e35870c8e52a2423058c497e3e6252b517\"><code>76d151e</code></a></td><td><code>build/bin/write-dockerfile.sh: Fix up docker tests</code></td></tr></table>\n",
    "created_at": "2021-02-14T20:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453965",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76d151e35870c8e52a2423058c497e3e6252b517"><code>76d151e</code></a></td><td><code>build/bin/write-dockerfile.sh: Fix up docker tests</code></td></tr></table>




---

archive/issue_comments_453966.json:
```json
{
    "body": "Changed commit from **[`7bdc524`](https://github.com/sagemath/sagetrac-mirror/commit/7bdc52452f725002185d58d95735f7ee191ce469)** to **[`76d151e`](https://github.com/sagemath/sagetrac-mirror/commit/76d151e35870c8e52a2423058c497e3e6252b517)**",
    "created_at": "2021-02-14T20:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453966",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7bdc524`](https://github.com/sagemath/sagetrac-mirror/commit/7bdc52452f725002185d58d95735f7ee191ce469)** to **[`76d151e`](https://github.com/sagemath/sagetrac-mirror/commit/76d151e35870c8e52a2423058c497e3e6252b517)**



---

archive/issue_comments_453967.json:
```json
{
    "body": "Changed commit from **[`76d151e`](https://github.com/sagemath/sagetrac-mirror/commit/76d151e35870c8e52a2423058c497e3e6252b517)** to **[`1a8cadc`](https://github.com/sagemath/sagetrac-mirror/commit/1a8cadc8975ce9d7d662678c7a8019202c084b46)**",
    "created_at": "2021-02-14T22:14:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453967",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`76d151e`](https://github.com/sagemath/sagetrac-mirror/commit/76d151e35870c8e52a2423058c497e3e6252b517)** to **[`1a8cadc`](https://github.com/sagemath/sagetrac-mirror/commit/1a8cadc8975ce9d7d662678c7a8019202c084b46)**



---

archive/issue_comments_453968.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a8cadc8975ce9d7d662678c7a8019202c084b46\"><code>1a8cadc</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.cfg: Under version control, not gitignored</code></td></tr></table>\n",
    "created_at": "2021-02-14T22:14:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453968",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a8cadc8975ce9d7d662678c7a8019202c084b46"><code>1a8cadc</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.cfg: Under version control, not gitignored</code></td></tr></table>




---

archive/issue_comments_453969.json:
```json
{
    "body": "Changed commit from **[`1a8cadc`](https://github.com/sagemath/sagetrac-mirror/commit/1a8cadc8975ce9d7d662678c7a8019202c084b46)** to **[`31caddd`](https://github.com/sagemath/sagetrac-mirror/commit/31cadddccf1901b71c194aa1617929b738cf131d)**",
    "created_at": "2021-03-07T21:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453969",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1a8cadc`](https://github.com/sagemath/sagetrac-mirror/commit/1a8cadc8975ce9d7d662678c7a8019202c084b46)** to **[`31caddd`](https://github.com/sagemath/sagetrac-mirror/commit/31cadddccf1901b71c194aa1617929b738cf131d)**



---

archive/issue_comments_453970.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31cadddccf1901b71c194aa1617929b738cf131d\"><code>31caddd</code></a></td><td><code>Merge tag '9.3.beta8' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-03-07T21:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453970",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31cadddccf1901b71c194aa1617929b738cf131d"><code>31caddd</code></a></td><td><code>Merge tag '9.3.beta8' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>




---

archive/issue_comments_453971.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f691585107543592cb5faaf94993ba536390aebc\"><code>f691585</code></a></td><td><code>Merge tag '9.3.beta9' into t/30913/sagelib__add_setup_cfg__install_requires_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48d2a2bf872e15804f7125e39dc3abb19d1eaf49\"><code>48d2a2b</code></a></td><td><code>Merge branch 't/30913/sagelib__add_setup_cfg__install_requires_' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-03-15T01:04:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453971",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f691585107543592cb5faaf94993ba536390aebc"><code>f691585</code></a></td><td><code>Merge tag '9.3.beta9' into t/30913/sagelib__add_setup_cfg__install_requires_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48d2a2bf872e15804f7125e39dc3abb19d1eaf49"><code>48d2a2b</code></a></td><td><code>Merge branch 't/30913/sagelib__add_setup_cfg__install_requires_' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>




---

archive/issue_comments_453972.json:
```json
{
    "body": "Changed commit from **[`31caddd`](https://github.com/sagemath/sagetrac-mirror/commit/31cadddccf1901b71c194aa1617929b738cf131d)** to **[`48d2a2b`](https://github.com/sagemath/sagetrac-mirror/commit/48d2a2bf872e15804f7125e39dc3abb19d1eaf49)**",
    "created_at": "2021-03-15T01:04:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453972",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`31caddd`](https://github.com/sagemath/sagetrac-mirror/commit/31cadddccf1901b71c194aa1617929b738cf131d)** to **[`48d2a2b`](https://github.com/sagemath/sagetrac-mirror/commit/48d2a2bf872e15804f7125e39dc3abb19d1eaf49)**



---

archive/issue_comments_453973.json:
```json
{
    "body": "Changed dependencies from **#30913, #31362, #31357, #31321** to **#30913**",
    "created_at": "2021-03-15T01:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453973",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30913, #31362, #31357, #31321** to **#30913**



---

archive/issue_comments_453974.json:
```json
{
    "body": "Changed dependencies from **#30913** to **#30913, #30383**",
    "created_at": "2021-03-15T01:10:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453974",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30913** to **#30913, #30383**



---

archive/issue_comments_453975.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381\"><code>82d8030</code></a></td><td><code>m4/sage_spkg_enable.m4: Cosmetic change to help strings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551\"><code>3e92998</code></a></td><td><code>configure --disable-notebook: Fix up what packages are disabled</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848\"><code>74a83fc</code></a></td><td><code>build/pkgs/matplotlib/dependencies: Undo removal of tornado</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c\"><code>93d31b9</code></a></td><td><code>Remove use of unicode superscripts in configure --help</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3\"><code>18fbb85</code></a></td><td><code>m4/sage_spkg_collect.m4: Fix description of SAGE_OPTIONAL_CLEANED_PACKAGES</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a\"><code>c3e4093</code></a></td><td><code>Rename SAGE_OPTIONAL_CLEANED_PACKAGES to SAGE_OPTIONAL_UNINSTALLED_PACKAGES</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790\"><code>4916415</code></a></td><td><code>Merge tag '9.3.beta9' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a35428ec1822044794b4851364dd5244404da3ef\"><code>a35428e</code></a></td><td><code>Merge #30383</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e098133b2d20f8668af96cf0e4d7f85d65bbfdd1\"><code>e098133</code></a></td><td><code>src/pkgs/sage_conf/sage_conf.py.in: Add SAGE_SPKG_WHEELS</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5dbd712fa100252e2472a4dd33095bbe1a4c5a7a\"><code>5dbd712</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.py: Use 'configure --disable-notebook', run 'make build' so that wheels are built</code></td></tr></table>\n",
    "created_at": "2021-03-15T01:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453975",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82d8030c3c71bb9e5503f77ae42484de47925381"><code>82d8030</code></a></td><td><code>m4/sage_spkg_enable.m4: Cosmetic change to help strings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e929982937143bae88f66917870d39979cc3551"><code>3e92998</code></a></td><td><code>configure --disable-notebook: Fix up what packages are disabled</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74a83fce03916650dd1574ee04c7f3a3dc6d5848"><code>74a83fc</code></a></td><td><code>build/pkgs/matplotlib/dependencies: Undo removal of tornado</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93d31b9bfca2f961b490f83cbf51bfa154a9748c"><code>93d31b9</code></a></td><td><code>Remove use of unicode superscripts in configure --help</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18fbb8598e362f048ebd8a83f963da5b0d9905f3"><code>18fbb85</code></a></td><td><code>m4/sage_spkg_collect.m4: Fix description of SAGE_OPTIONAL_CLEANED_PACKAGES</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3e4093cd6ed304c271890f35f0075a2bacdf99a"><code>c3e4093</code></a></td><td><code>Rename SAGE_OPTIONAL_CLEANED_PACKAGES to SAGE_OPTIONAL_UNINSTALLED_PACKAGES</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4916415408a58e4b715143e5c607972822055790"><code>4916415</code></a></td><td><code>Merge tag '9.3.beta9' into t/30383/new_package_type__optional_enabled_by_default</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a35428ec1822044794b4851364dd5244404da3ef"><code>a35428e</code></a></td><td><code>Merge #30383</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e098133b2d20f8668af96cf0e4d7f85d65bbfdd1"><code>e098133</code></a></td><td><code>src/pkgs/sage_conf/sage_conf.py.in: Add SAGE_SPKG_WHEELS</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5dbd712fa100252e2472a4dd33095bbe1a4c5a7a"><code>5dbd712</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.py: Use 'configure --disable-notebook', run 'make build' so that wheels are built</code></td></tr></table>




---

archive/issue_comments_453976.json:
```json
{
    "body": "Changed commit from **[`48d2a2b`](https://github.com/sagemath/sagetrac-mirror/commit/48d2a2bf872e15804f7125e39dc3abb19d1eaf49)** to **[`5dbd712`](https://github.com/sagemath/sagetrac-mirror/commit/5dbd712fa100252e2472a4dd33095bbe1a4c5a7a)**",
    "created_at": "2021-03-15T01:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453976",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`48d2a2b`](https://github.com/sagemath/sagetrac-mirror/commit/48d2a2bf872e15804f7125e39dc3abb19d1eaf49)** to **[`5dbd712`](https://github.com/sagemath/sagetrac-mirror/commit/5dbd712fa100252e2472a4dd33095bbe1a4c5a7a)**



---

archive/issue_comments_453977.json:
```json
{
    "body": "Changed commit from **[`5dbd712`](https://github.com/sagemath/sagetrac-mirror/commit/5dbd712fa100252e2472a4dd33095bbe1a4c5a7a)** to **[`100ff51`](https://github.com/sagemath/sagetrac-mirror/commit/100ff515319f6f7fbe66487a5bb35fc34cd3b07f)**",
    "created_at": "2021-03-15T02:16:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453977",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5dbd712`](https://github.com/sagemath/sagetrac-mirror/commit/5dbd712fa100252e2472a4dd33095bbe1a4c5a7a)** to **[`100ff51`](https://github.com/sagemath/sagetrac-mirror/commit/100ff515319f6f7fbe66487a5bb35fc34cd3b07f)**



---

archive/issue_comments_453978.json:
```json
{
    "body": "<div id=\"comment:51\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/839c53488a3b3cc70781ef7e35cabfeff5a07e4b\"><code>839c534</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.py: Fix typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/100ff515319f6f7fbe66487a5bb35fc34cd3b07f\"><code>100ff51</code></a></td><td><code>src/pkgs/sage_conf-pypi/MANIFEST.in: Graft sage_root/build/pkgs/sage_docbuild/src</code></td></tr></table>\n",
    "created_at": "2021-03-15T02:16:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453978",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/839c53488a3b3cc70781ef7e35cabfeff5a07e4b"><code>839c534</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.py: Fix typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/100ff515319f6f7fbe66487a5bb35fc34cd3b07f"><code>100ff51</code></a></td><td><code>src/pkgs/sage_conf-pypi/MANIFEST.in: Graft sage_root/build/pkgs/sage_docbuild/src</code></td></tr></table>




---

archive/issue_comments_453979.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afa2ffd42cc7a5efb1012ba56d582e2756672da0\"><code>afa2ffd</code></a></td><td><code>Add configure option --disable-sagelib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4f75b86bf2c70bbc4edb7f0d5ee558ccf75e1b0\"><code>a4f75b8</code></a></td><td><code>src/pkgs/sage_conf-pypi: Use configure --disable-sagelib, update README</code></td></tr></table>\n",
    "created_at": "2021-03-15T03:50:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453979",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afa2ffd42cc7a5efb1012ba56d582e2756672da0"><code>afa2ffd</code></a></td><td><code>Add configure option --disable-sagelib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4f75b86bf2c70bbc4edb7f0d5ee558ccf75e1b0"><code>a4f75b8</code></a></td><td><code>src/pkgs/sage_conf-pypi: Use configure --disable-sagelib, update README</code></td></tr></table>




---

archive/issue_comments_453980.json:
```json
{
    "body": "Changed commit from **[`100ff51`](https://github.com/sagemath/sagetrac-mirror/commit/100ff515319f6f7fbe66487a5bb35fc34cd3b07f)** to **[`a4f75b8`](https://github.com/sagemath/sagetrac-mirror/commit/a4f75b86bf2c70bbc4edb7f0d5ee558ccf75e1b0)**",
    "created_at": "2021-03-15T03:50:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453980",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`100ff51`](https://github.com/sagemath/sagetrac-mirror/commit/100ff515319f6f7fbe66487a5bb35fc34cd3b07f)** to **[`a4f75b8`](https://github.com/sagemath/sagetrac-mirror/commit/a4f75b86bf2c70bbc4edb7f0d5ee558ccf75e1b0)**



---

archive/issue_comments_453981.json:
```json
{
    "body": "Changed commit from **[`a4f75b8`](https://github.com/sagemath/sagetrac-mirror/commit/a4f75b86bf2c70bbc4edb7f0d5ee558ccf75e1b0)** to **[`ac0f563`](https://github.com/sagemath/sagetrac-mirror/commit/ac0f563ba1fff7ed111499bead102573d83dc1c8)**",
    "created_at": "2021-03-24T06:20:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453981",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a4f75b8`](https://github.com/sagemath/sagetrac-mirror/commit/a4f75b86bf2c70bbc4edb7f0d5ee558ccf75e1b0)** to **[`ac0f563`](https://github.com/sagemath/sagetrac-mirror/commit/ac0f563ba1fff7ed111499bead102573d83dc1c8)**



---

archive/issue_comments_453982.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66c29875f2f18553c9e8f1e46a8a010dff007262\"><code>66c2987</code></a></td><td><code>build/pkgs/{sage_sws2rst,sage_docbuild}/install-requires.txt: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f8ec6c3356e4a15da913f08be8e3d4d8cbf3a28\"><code>7f8ec6c</code></a></td><td><code>build/pkgs/sagelib/src/tox.ini: Add factor sitepackages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0283da5a2392e2bec2b46147327a0ad37f466d6a\"><code>0283da5</code></a></td><td><code>build/make/Makefile.in: Add wheel, setuptools_wheel to PYTHON_TOOLCHAIN to make sure that PEP 517 packages have a complete build system</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7207221ddc3da17663be31d51530b774a164373\"><code>f720722</code></a></td><td><code>build/pkgs/sagelib/src/tox.ini: Add factor nobuildisolation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c451b310026a0b6c973dd0b22efa2cbe784e6c98\"><code>c451b31</code></a></td><td><code>src/setup.cfg.m4 (install_requires): Add sage_conf</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67002239dc377d82717c09a7c5c048a7161b51be\"><code>6700223</code></a></td><td><code>Merge tag '9.3.rc0' into t/30913/sagelib__add_setup_cfg__install_requires_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac0f563ba1fff7ed111499bead102573d83dc1c8\"><code>ac0f563</code></a></td><td><code>Merge branch 't/30913/sagelib__add_setup_cfg__install_requires_' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-03-24T06:20:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453982",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66c29875f2f18553c9e8f1e46a8a010dff007262"><code>66c2987</code></a></td><td><code>build/pkgs/{sage_sws2rst,sage_docbuild}/install-requires.txt: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f8ec6c3356e4a15da913f08be8e3d4d8cbf3a28"><code>7f8ec6c</code></a></td><td><code>build/pkgs/sagelib/src/tox.ini: Add factor sitepackages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0283da5a2392e2bec2b46147327a0ad37f466d6a"><code>0283da5</code></a></td><td><code>build/make/Makefile.in: Add wheel, setuptools_wheel to PYTHON_TOOLCHAIN to make sure that PEP 517 packages have a complete build system</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7207221ddc3da17663be31d51530b774a164373"><code>f720722</code></a></td><td><code>build/pkgs/sagelib/src/tox.ini: Add factor nobuildisolation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c451b310026a0b6c973dd0b22efa2cbe784e6c98"><code>c451b31</code></a></td><td><code>src/setup.cfg.m4 (install_requires): Add sage_conf</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67002239dc377d82717c09a7c5c048a7161b51be"><code>6700223</code></a></td><td><code>Merge tag '9.3.rc0' into t/30913/sagelib__add_setup_cfg__install_requires_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac0f563ba1fff7ed111499bead102573d83dc1c8"><code>ac0f563</code></a></td><td><code>Merge branch 't/30913/sagelib__add_setup_cfg__install_requires_' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>




---

archive/issue_comments_453983.json:
```json
{
    "body": "Changed dependencies from **#30913, #30383** to **#30913**",
    "created_at": "2021-03-24T06:21:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453983",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30913, #30383** to **#30913**



---

archive/issue_comments_453984.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -30,6 +30,7 @@\n ```\n ./sage -sh -c build/pkgs/sage_conf/spkg-src\n ```\n+(The source distribution has been uploaded to https://pypi.org/project/sage-conf/)\n \n Follow-up steps:\n - Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).\n``````\n",
    "created_at": "2021-03-24T07:09:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453984",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -30,6 +30,7 @@
 ```
 ./sage -sh -c build/pkgs/sage_conf/spkg-src
 ```
+(The source distribution has been uploaded to https://pypi.org/project/sage-conf/)
 
 Follow-up steps:
 - Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).
``````




---

archive/issue_comments_453985.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.\n+As #30913 makes `sage_conf` both (a) a PEP517/518 `build_system` `requires` and (b) an `install-requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.\n \n This version of `sage_conf` includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n \n``````\n",
    "created_at": "2021-04-04T19:03:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453985",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-As #30913 makes `sage_conf` a PEP517/518 `build_system` `requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.
+As #30913 makes `sage_conf` both (a) a PEP517/518 `build_system` `requires` and (b) an `install-requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.
 
 This version of `sage_conf` includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 
 
``````




---

archive/issue_comments_453986.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nwhat does the change to `build/pkgs/sagelib/src/MANIFEST.in` mean? is it becoming a symbolic link?",
    "created_at": "2021-04-09T08:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453986",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:57" align="right">comment:57</div>

what does the change to `build/pkgs/sagelib/src/MANIFEST.in` mean? is it becoming a symbolic link?



---

archive/issue_comments_453987.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nafter merging 9.3.rc2 in, I get an error (is it from `sh: line 0: .: .homebrew-build-env: file not found`, cf below ?):\n\n```\n$ ./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)\n...\n    warning: no previously-included files matching '__pycache__' found anywhere in distribution\n    warning: no previously-included files matching '*.pyc' found anywhere in distribution\n    writing manifest file '/home/scratch2/dimpase/tmp/pip-modern-metadata-27nf1gz1/sage_conf.egg-info/SOURCES.txt'\n    creating '/home/scratch2/dimpase/tmp/pip-modern-metadata-27nf1gz1/sage_conf.dist-info'\n    Preparing wheel metadata ... done\n  Source in /home/scratch2/dimpase/tmp/pip-req-build-0rrkid61 has version 9.3rc2, which satisfies requirement sage-conf==9.3rc2 from file:///home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3rc2.zip\n  Removed sage-conf==9.3rc2 from file:///home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3rc2.zip from build tracker '/home/scratch2/dimpase/tmp/pip-req-tracker-bla_u_md'\nCreated temporary directory: /home/scratch2/dimpase/tmp/pip-unpack-rwlm13mn\nBuilding wheels for collected packages: sage-conf\n  Created temporary directory: /home/scratch2/dimpase/tmp/pip-wheel-k4duer3n\n  Destination directory: /home/scratch2/dimpase/tmp/pip-wheel-k4duer3n\n  Running command /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_vendor/pep517/_in_process.py build_wheel /home/scratch2/dimpase/tmp/tmpdhib0roj\n  running bdist_wheel\n  running build\n  running build_py\n  sh: line 0: .: .homebrew-build-env: file not found\n  Running cd /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu && . .homebrew-build-env 2>&1; : && ./configure --prefix=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/local --with-python=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python --with-system-python3=force --disable-notebook --disable-sagelib\n  error: configure failed\n  Building wheel for sage-conf (PEP 517) ... error\n  ERROR: Failed building wheel for sage-conf\nFailed to build sage-conf\nERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly\nException information:\nTraceback (most recent call last):\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/cli/base_command.py\", line 189, in _main\n    status = self.run(options, args)\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/cli/req_command.py\", line 178, in wrapper\n    return func(self, options, args)\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/commands/install.py\", line 361, in run\n    \", \".join(pep517_build_failure_names)\npip._internal.exceptions.InstallationError: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly\nRemoved build tracker: '/home/scratch2/dimpase/tmp/pip-req-tracker-bla_u_md'\npython finish: installpkg after 3.39 seconds\npython start: envreport \nsetting PATH=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin:/users/dimpase/perl5/bin:/users/dimpase/bin:/usr/libexec/python3-sphinx:/usr/lib64/qt-3.3/bin:/usr/share/Modules/bin:/usr/lib64/ccache:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/users/dimpase/.cabal/bin:/auto/users/dimpase/bin\n  /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi$ /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip freeze >/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/log/python-3.log\npython finish: envreport after 0.20 seconds\npython installed: \n_________________________________________________________________________________________________ summary __________________________________________________________________________________________________\nERROR:   python: InvocationError for command '/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --no-deps -U -v /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3rc2.zip' (exited with code 1)\ncleanup /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3rc2.zip\n```",
    "created_at": "2021-04-09T09:39:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453987",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:58" align="right">comment:58</div>

after merging 9.3.rc2 in, I get an error (is it from `sh: line 0: .: .homebrew-build-env: file not found`, cf below ?):

```
$ ./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)
...
    warning: no previously-included files matching '__pycache__' found anywhere in distribution
    warning: no previously-included files matching '*.pyc' found anywhere in distribution
    writing manifest file '/home/scratch2/dimpase/tmp/pip-modern-metadata-27nf1gz1/sage_conf.egg-info/SOURCES.txt'
    creating '/home/scratch2/dimpase/tmp/pip-modern-metadata-27nf1gz1/sage_conf.dist-info'
    Preparing wheel metadata ... done
  Source in /home/scratch2/dimpase/tmp/pip-req-build-0rrkid61 has version 9.3rc2, which satisfies requirement sage-conf==9.3rc2 from file:///home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3rc2.zip
  Removed sage-conf==9.3rc2 from file:///home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3rc2.zip from build tracker '/home/scratch2/dimpase/tmp/pip-req-tracker-bla_u_md'
Created temporary directory: /home/scratch2/dimpase/tmp/pip-unpack-rwlm13mn
Building wheels for collected packages: sage-conf
  Created temporary directory: /home/scratch2/dimpase/tmp/pip-wheel-k4duer3n
  Destination directory: /home/scratch2/dimpase/tmp/pip-wheel-k4duer3n
  Running command /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_vendor/pep517/_in_process.py build_wheel /home/scratch2/dimpase/tmp/tmpdhib0roj
  running bdist_wheel
  running build
  running build_py
  sh: line 0: .: .homebrew-build-env: file not found
  Running cd /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu && . .homebrew-build-env 2>&1; : && ./configure --prefix=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/local --with-python=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python --with-system-python3=force --disable-notebook --disable-sagelib
  error: configure failed
  Building wheel for sage-conf (PEP 517) ... error
  ERROR: Failed building wheel for sage-conf
Failed to build sage-conf
ERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly
Exception information:
Traceback (most recent call last):
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/cli/base_command.py", line 189, in _main
    status = self.run(options, args)
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/cli/req_command.py", line 178, in wrapper
    return func(self, options, args)
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/commands/install.py", line 361, in run
    ", ".join(pep517_build_failure_names)
pip._internal.exceptions.InstallationError: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly
Removed build tracker: '/home/scratch2/dimpase/tmp/pip-req-tracker-bla_u_md'
python finish: installpkg after 3.39 seconds
python start: envreport 
setting PATH=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin:/users/dimpase/perl5/bin:/users/dimpase/bin:/usr/libexec/python3-sphinx:/usr/lib64/qt-3.3/bin:/usr/share/Modules/bin:/usr/lib64/ccache:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/users/dimpase/.cabal/bin:/auto/users/dimpase/bin
  /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi$ /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip freeze >/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/log/python-3.log
python finish: envreport after 0.20 seconds
python installed: 
_________________________________________________________________________________________________ summary __________________________________________________________________________________________________
ERROR:   python: InvocationError for command '/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --no-deps -U -v /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3rc2.zip' (exited with code 1)
cleanup /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3rc2.zip
```



---

archive/issue_comments_453988.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nthis is on Fedora 30, in case it matters",
    "created_at": "2021-04-09T09:40:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453988",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:59" align="right">comment:59</div>

this is on Fedora 30, in case it matters



---

archive/issue_comments_453989.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2021-04-09T09:40:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453989",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_396008.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-04-09T09:40:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396008"
}
```



---

archive/issue_events_396009.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-04-09T09:40:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396009"
}
```



---

archive/issue_comments_453990.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@dimpase](#comment:57):\n> what does the change to `build/pkgs/sagelib/src/MANIFEST.in` mean? is it becoming a symbolic link?\n\nYes, it was duplicated with `SAGE_ROOT/src/MANIFEST.in`, and I replaced it with a symlink",
    "created_at": "2021-04-09T16:24:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453990",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@dimpase](#comment:57):
> what does the change to `build/pkgs/sagelib/src/MANIFEST.in` mean? is it becoming a symbolic link?

Yes, it was duplicated with `SAGE_ROOT/src/MANIFEST.in`, and I replaced it with a symlink



---

archive/issue_comments_453991.json:
```json
{
    "body": "Changed commit from **[`ac0f563`](https://github.com/sagemath/sagetrac-mirror/commit/ac0f563ba1fff7ed111499bead102573d83dc1c8)** to **[`1b03fa9`](https://github.com/sagemath/sagetrac-mirror/commit/1b03fa9a4f14439d0dbc3bd1af194ab25fa9eeb8)**",
    "created_at": "2021-04-09T16:31:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453991",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ac0f563`](https://github.com/sagemath/sagetrac-mirror/commit/ac0f563ba1fff7ed111499bead102573d83dc1c8)** to **[`1b03fa9`](https://github.com/sagemath/sagetrac-mirror/commit/1b03fa9a4f14439d0dbc3bd1af194ab25fa9eeb8)**



---

archive/issue_comments_453992.json:
```json
{
    "body": "<div id=\"comment:61\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a3aa38cda135dbb40b71fd77b16e38f1dabb2a8\"><code>9a3aa38</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD some missing files in SAGE_ROOT</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b03fa9a4f14439d0dbc3bd1af194ab25fa9eeb8\"><code>1b03fa9</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.py: Change SETENV so that it works in shells with set -e</code></td></tr></table>\n",
    "created_at": "2021-04-09T16:31:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453992",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:61"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a3aa38cda135dbb40b71fd77b16e38f1dabb2a8"><code>9a3aa38</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD some missing files in SAGE_ROOT</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b03fa9a4f14439d0dbc3bd1af194ab25fa9eeb8"><code>1b03fa9</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.py: Change SETENV so that it works in shells with set -e</code></td></tr></table>




---

archive/issue_comments_453993.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nReplying to [@dimpase](#comment:58):\n> after merging 9.3.rc2 in, I get an error (is it from `sh: line 0: .: .homebrew-build-env: file not found`, cf below ?):\n> \n> ```\n> $ ./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)\n> ...\n> ```\n\nThanks for testing! Is this running in a docker container? Not clear to me why the file would be missing. Anyway I have cherry-picked a related change from #31396 and made another change - please take a look if this gets farther",
    "created_at": "2021-04-09T16:33:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453993",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:62" align="right">comment:62</div>

Replying to [@dimpase](#comment:58):
> after merging 9.3.rc2 in, I get an error (is it from `sh: line 0: .: .homebrew-build-env: file not found`, cf below ?):
> 
> ```
> $ ./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)
> ...
> ```

Thanks for testing! Is this running in a docker container? Not clear to me why the file would be missing. Anyway I have cherry-picked a related change from #31396 and made another change - please take a look if this gets farther



---

archive/issue_events_396010.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-09T16:33:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396010"
}
```



---

archive/issue_events_396011.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-09T16:33:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396011"
}
```



---

archive/issue_comments_453994.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nno, still the same error:\n\n```\n...\nCreated temporary directory: /home/scratch2/dimpase/tmp/pip-unpack-169y8koj\nBuilding wheels for collected packages: sage-conf\n  Created temporary directory: /home/scratch2/dimpase/tmp/pip-wheel-exb6ynmx\n  Destination directory: /home/scratch2/dimpase/tmp/pip-wheel-exb6ynmx\n  Running command /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_vendor/pep517/_in_process.py build_wheel /home/scratch2/dimpase/tmp/tmpvehv3h0s\n  running bdist_wheel\n  running build\n  running build_py\n  sh: line 0: .: .homebrew-build-env: file not found\n  Running cd /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu && (. .homebrew-build-env 2>&1 || :) && ./configure --prefix=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/local --with-python=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python --with-system-python3=force --disable-notebook --disable-sagelib\n  error: configure failed\n  Building wheel for sage-conf (PEP 517) ... error\n  ERROR: Failed building wheel for sage-conf\nFailed to build sage-conf\nERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly\nException information:\nTraceback (most recent call last):\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/cli/base_command.py\", line 189, in _main\n    status = self.run(options, args)\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/cli/req_command.py\", line 178, in wrapper\n    return func(self, options, args)\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/commands/install.py\", line 361, in run\n    \", \".join(pep517_build_failure_names)\npip._internal.exceptions.InstallationError: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly\nRemoved build tracker: '/home/scratch2/dimpase/tmp/pip-req-tracker-_6q2pk49'\npython finish: installpkg after 3.35 seconds\npython start: envreport \nsetting PATH=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin:/users/dimpase/perl5/bin:/users/dimpase/bin:/usr/libexec/python3-sphinx:/usr/lib64/qt-3.3/bin:/usr/share/Modules/bin:/usr/lib64/ccache:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/users/dimpase/.cabal/bin:/auto/users/dimpase/bin\n  /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi$ /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip freeze >/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/log/python-9.log\npython finish: envreport after 0.20 seconds\npython installed: \n__________________________________________________________________________ summary ___________________________________________________________________________\nERROR:   python: InvocationError for command '/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --no-deps -U -v /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3rc2.zip' (exited with code 1)\n```",
    "created_at": "2021-04-09T19:25:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453994",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:64" align="right">comment:64</div>

no, still the same error:

```
...
Created temporary directory: /home/scratch2/dimpase/tmp/pip-unpack-169y8koj
Building wheels for collected packages: sage-conf
  Created temporary directory: /home/scratch2/dimpase/tmp/pip-wheel-exb6ynmx
  Destination directory: /home/scratch2/dimpase/tmp/pip-wheel-exb6ynmx
  Running command /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_vendor/pep517/_in_process.py build_wheel /home/scratch2/dimpase/tmp/tmpvehv3h0s
  running bdist_wheel
  running build
  running build_py
  sh: line 0: .: .homebrew-build-env: file not found
  Running cd /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu && (. .homebrew-build-env 2>&1 || :) && ./configure --prefix=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/local --with-python=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python --with-system-python3=force --disable-notebook --disable-sagelib
  error: configure failed
  Building wheel for sage-conf (PEP 517) ... error
  ERROR: Failed building wheel for sage-conf
Failed to build sage-conf
ERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly
Exception information:
Traceback (most recent call last):
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/cli/base_command.py", line 189, in _main
    status = self.run(options, args)
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/cli/req_command.py", line 178, in wrapper
    return func(self, options, args)
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pip/_internal/commands/install.py", line 361, in run
    ", ".join(pep517_build_failure_names)
pip._internal.exceptions.InstallationError: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly
Removed build tracker: '/home/scratch2/dimpase/tmp/pip-req-tracker-_6q2pk49'
python finish: installpkg after 3.35 seconds
python start: envreport 
setting PATH=/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin:/users/dimpase/perl5/bin:/users/dimpase/bin:/usr/libexec/python3-sphinx:/usr/lib64/qt-3.3/bin:/usr/share/Modules/bin:/usr/lib64/ccache:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/users/dimpase/.cabal/bin:/auto/users/dimpase/bin
  /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi$ /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip freeze >/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/log/python-9.log
python finish: envreport after 0.20 seconds
python installed: 
__________________________________________________________________________ summary ___________________________________________________________________________
ERROR:   python: InvocationError for command '/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --no-deps -U -v /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3rc2.zip' (exited with code 1)
```



---

archive/issue_events_396012.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-04-09T19:26:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396012"
}
```



---

archive/issue_events_396013.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-04-09T19:26:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396013"
}
```



---

archive/issue_comments_453995.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nCould you show what's in `/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu`?",
    "created_at": "2021-04-09T19:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453995",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:66" align="right">comment:66</div>

Could you show what's in `/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu`?



---

archive/issue_comments_453996.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\n\n```\n$ ls -la /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu\ntotal 1196\ndrwxr-xr-x 6 dimpase staff    4096 Apr  9 20:24 .\ndrwxr-xr-x 4 dimpase staff    4096 Apr  9 20:24 ..\n-rwxr-xr-x 1 dimpase staff      81 Apr  9 20:24 bootstrap\ndrwxr-xr-x 7 dimpase staff    4096 Apr  9 20:24 build\ndrwxr-xr-x 2 dimpase staff    4096 Apr  9 20:24 config\n-rwxr-xr-x 1 dimpase staff 1126829 Apr  9 20:24 configure\n-rw-r--r-- 1 dimpase staff   18020 Apr  9 20:24 configure.ac\n-rw-r--r-- 1 dimpase staff    1602 Apr  9 20:24 .homebrew-build-env\ndrwxr-xr-x 2 dimpase staff    4096 Apr  9 20:24 m4\n-rw-r--r-- 1 dimpase staff    9744 Apr  9 20:24 Makefile\n-rw-r--r-- 1 dimpase staff   20890 Apr  9 20:24 README.md\ndrwxr-xr-x 4 dimpase staff    4096 Apr  9 20:24 src\n-rw-r--r-- 1 dimpase staff      51 Apr  9 20:24 VERSION.txt\n```",
    "created_at": "2021-04-09T19:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453996",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:67" align="right">comment:67</div>


```
$ ls -la /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu
total 1196
drwxr-xr-x 6 dimpase staff    4096 Apr  9 20:24 .
drwxr-xr-x 4 dimpase staff    4096 Apr  9 20:24 ..
-rwxr-xr-x 1 dimpase staff      81 Apr  9 20:24 bootstrap
drwxr-xr-x 7 dimpase staff    4096 Apr  9 20:24 build
drwxr-xr-x 2 dimpase staff    4096 Apr  9 20:24 config
-rwxr-xr-x 1 dimpase staff 1126829 Apr  9 20:24 configure
-rw-r--r-- 1 dimpase staff   18020 Apr  9 20:24 configure.ac
-rw-r--r-- 1 dimpase staff    1602 Apr  9 20:24 .homebrew-build-env
drwxr-xr-x 2 dimpase staff    4096 Apr  9 20:24 m4
-rw-r--r-- 1 dimpase staff    9744 Apr  9 20:24 Makefile
-rw-r--r-- 1 dimpase staff   20890 Apr  9 20:24 README.md
drwxr-xr-x 4 dimpase staff    4096 Apr  9 20:24 src
-rw-r--r-- 1 dimpase staff      51 Apr  9 20:24 VERSION.txt
```



---

archive/issue_comments_453997.json:
```json
{
    "body": "<div id=\"comment:68\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3b54b703b1fbfe053429ce836325f1ae2ede640\"><code>b3b54b7</code></a></td><td><code>Merge tag '9.3.rc2' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec10bc9dd541ed9ea42bf59bef3e471b7f59b9f2\"><code>ec10bc9</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.py: Fix for shell behavior on fedora</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/278c36c6caf9dfa8e7d33e0b45309615ee13a163\"><code>278c36c</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.py: Use 'configure --enable-build-as-root' so it works in containers too</code></td></tr></table>\n",
    "created_at": "2021-04-10T18:14:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453997",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:68"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3b54b703b1fbfe053429ce836325f1ae2ede640"><code>b3b54b7</code></a></td><td><code>Merge tag '9.3.rc2' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec10bc9dd541ed9ea42bf59bef3e471b7f59b9f2"><code>ec10bc9</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.py: Fix for shell behavior on fedora</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/278c36c6caf9dfa8e7d33e0b45309615ee13a163"><code>278c36c</code></a></td><td><code>src/pkgs/sage_conf-pypi/setup.py: Use 'configure --enable-build-as-root' so it works in containers too</code></td></tr></table>




---

archive/issue_comments_453998.json:
```json
{
    "body": "Changed commit from **[`1b03fa9`](https://github.com/sagemath/sagetrac-mirror/commit/1b03fa9a4f14439d0dbc3bd1af194ab25fa9eeb8)** to **[`278c36c`](https://github.com/sagemath/sagetrac-mirror/commit/278c36c6caf9dfa8e7d33e0b45309615ee13a163)**",
    "created_at": "2021-04-10T18:14:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453998",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1b03fa9`](https://github.com/sagemath/sagetrac-mirror/commit/1b03fa9a4f14439d0dbc3bd1af194ab25fa9eeb8)** to **[`278c36c`](https://github.com/sagemath/sagetrac-mirror/commit/278c36c6caf9dfa8e7d33e0b45309615ee13a163)**



---

archive/issue_events_396014.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-10T18:15:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396014"
}
```



---

archive/issue_events_396015.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-10T18:15:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396015"
}
```



---

archive/issue_comments_453999.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nthe dependent ticket is not merged in the branch, any reason for this?",
    "created_at": "2021-04-11T16:18:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-453999",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:70" align="right">comment:70</div>

the dependent ticket is not merged in the branch, any reason for this?



---

archive/issue_comments_454000.json:
```json
{
    "body": "Changed commit from **[`278c36c`](https://github.com/sagemath/sagetrac-mirror/commit/278c36c6caf9dfa8e7d33e0b45309615ee13a163)** to **[`94b8d3c`](https://github.com/sagemath/sagetrac-mirror/commit/94b8d3c7223785fab507ecbe38f9c16fb44a46de)**",
    "created_at": "2021-04-11T16:30:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454000",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`278c36c`](https://github.com/sagemath/sagetrac-mirror/commit/278c36c6caf9dfa8e7d33e0b45309615ee13a163)** to **[`94b8d3c`](https://github.com/sagemath/sagetrac-mirror/commit/94b8d3c7223785fab507ecbe38f9c16fb44a46de)**



---

archive/issue_comments_454001.json:
```json
{
    "body": "<div id=\"comment:71\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04da2c6eb85566de6d49bf19803a061f4843c662\"><code>04da2c6</code></a></td><td><code>build/pkgs/ipywidgets: Patch out declaring install-requires of nbformat and jupyterlab-widgets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94b8d3c7223785fab507ecbe38f9c16fb44a46de\"><code>94b8d3c</code></a></td><td><code>Merge #30913</code></td></tr></table>\n",
    "created_at": "2021-04-11T16:30:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454001",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:71"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04da2c6eb85566de6d49bf19803a061f4843c662"><code>04da2c6</code></a></td><td><code>build/pkgs/ipywidgets: Patch out declaring install-requires of nbformat and jupyterlab-widgets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94b8d3c7223785fab507ecbe38f9c16fb44a46de"><code>94b8d3c</code></a></td><td><code>Merge #30913</code></td></tr></table>




---

archive/issue_comments_454002.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nReplying to [@dimpase](#comment:70):\n> the dependent ticket is not merged in the branch, any reason for this?\n\nThanks for catching this, the latest version was not merged",
    "created_at": "2021-04-11T16:31:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454002",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:72" align="right">comment:72</div>

Replying to [@dimpase](#comment:70):
> the dependent ticket is not merged in the branch, any reason for this?

Thanks for catching this, the latest version was not merged



---

archive/issue_comments_454003.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nHere on the ticket I am creating things in `src/pkgs/` but in #31577 I have a different proposal for the source layout, comments welcome",
    "created_at": "2021-04-11T16:36:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454003",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:73" align="right">comment:73</div>

Here on the ticket I am creating things in `src/pkgs/` but in #31577 I have a different proposal for the source layout, comments welcome



---

archive/issue_comments_454004.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nnow I get a failure in building numpy, if I run\n`./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)`\nafter distclean.\n\n\n```\nUninstalling 'numpy' with legacy uninstaller\nPackage 'numpy' is currently not installed\nTraceback (most recent call last):\n  File \"../lapack_conf.py\", line 3, in <module>\n    import pkgconfig, os\nModuleNotFoundError: No module named 'pkgconfig'\n```\n\nand also weird error with cysignal:\n\n```\nchecking for std::atomic with OpenMP in C++ code... yes\nconfigure: creating ./config.status\nconfig.status: creating src/cysignals/signals.pxd\nconfig.status: creating src/config.h\nconfig.status: creating src/cysignals/cysignals_config.h\nconfigure: WARNING: unrecognized options: --disable-maintainer-mode, --disable-dependency-tracking\nInstalling cysignals-1.10.3\nWARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fda2cad2310>, 'Connection to 192.0.2.0 timed out. (connect timeout=15)')': /simple/cython/\nWARNING: Retrying (Retry(total=3, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fda2cad2690>, 'Connection to 192.0.2.0 timed out. (connect timeout=15)')': /simple/cython/\nWARNING: Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fda2cad2890>, 'Connection to 192.0.2.0 timed out. (connect timeout=15)')': /simple/cython/\nWARNING: Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fda2cad2ad0>, 'Connection to 192.0.2.0 timed out. (connect timeout=15)')': /simple/cython/\nWARNING: Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fda2cad2d10>, 'Connection to 192.0.2.0 timed out. (connect timeout=15)')': /simple/cython/\nERROR: Could not find a version that satisfies the requirement Cython>=0.28\nERROR: No matching distribution found for Cython>=0.28\nTraceback (most recent call last):\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/installer.py\", line 75, in fetch_build_egg\n    subprocess.check_call(cmd)\n  File \"/usr/lib64/python3.7/subprocess.py\", line 363, in check_call\n    raise CalledProcessError(retcode, cmd)\nsubprocess.CalledProcessError: Command '['/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/local/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/home/scratch2/dimpase/tmp/tmp772nb9rh', '--quiet', 'Cython>=0.28']' returned non-zero exit status 1.\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"setup.py\", line 152, in <module>\n    cmdclass=dict(build=build, bdist_egg=no_egg),\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/__init__.py\", line 152, in setup\n    _install_setup_requires(attrs)\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/__init__.py\", line 147, in _install_setup_requires\n    dist.fetch_build_eggs(dist.setup_requires)\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/dist.py\", line 724, in fetch_build_eggs\n    replace_conflicting=True,\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 768, in resolve\n    replace_conflicting=replace_conflicting\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 1051, in best_match\n    return self.obtain(req, installer)\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 1063, in obtain\n    return installer(requirement)\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/dist.py\", line 780, in fetch_build_egg\n    return fetch_build_egg(self, req)\n  File \"/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/installer.py\", line 77, in fetch_build_egg\n    raise DistutilsError(str(e)) from e\ndistutils.errors.DistutilsError: Command '['/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/local/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/home/scratch2/dimpase/tmp/tmp772nb9rh', '--quiet', 'Cython>=0.28']' returned non-zero exit status 1.\nError: could not determine package name\n```\n\ndependencies issue?",
    "created_at": "2021-04-11T18:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454004",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:74" align="right">comment:74</div>

now I get a failure in building numpy, if I run
`./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)`
after distclean.


```
Uninstalling 'numpy' with legacy uninstaller
Package 'numpy' is currently not installed
Traceback (most recent call last):
  File "../lapack_conf.py", line 3, in <module>
    import pkgconfig, os
ModuleNotFoundError: No module named 'pkgconfig'
```

and also weird error with cysignal:

```
checking for std::atomic with OpenMP in C++ code... yes
configure: creating ./config.status
config.status: creating src/cysignals/signals.pxd
config.status: creating src/config.h
config.status: creating src/cysignals/cysignals_config.h
configure: WARNING: unrecognized options: --disable-maintainer-mode, --disable-dependency-tracking
Installing cysignals-1.10.3
WARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fda2cad2310>, 'Connection to 192.0.2.0 timed out. (connect timeout=15)')': /simple/cython/
WARNING: Retrying (Retry(total=3, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fda2cad2690>, 'Connection to 192.0.2.0 timed out. (connect timeout=15)')': /simple/cython/
WARNING: Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fda2cad2890>, 'Connection to 192.0.2.0 timed out. (connect timeout=15)')': /simple/cython/
WARNING: Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fda2cad2ad0>, 'Connection to 192.0.2.0 timed out. (connect timeout=15)')': /simple/cython/
WARNING: Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<pip._vendor.urllib3.connection.HTTPSConnection object at 0x7fda2cad2d10>, 'Connection to 192.0.2.0 timed out. (connect timeout=15)')': /simple/cython/
ERROR: Could not find a version that satisfies the requirement Cython>=0.28
ERROR: No matching distribution found for Cython>=0.28
Traceback (most recent call last):
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/installer.py", line 75, in fetch_build_egg
    subprocess.check_call(cmd)
  File "/usr/lib64/python3.7/subprocess.py", line 363, in check_call
    raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command '['/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/local/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/home/scratch2/dimpase/tmp/tmp772nb9rh', '--quiet', 'Cython>=0.28']' returned non-zero exit status 1.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "setup.py", line 152, in <module>
    cmdclass=dict(build=build, bdist_egg=no_egg),
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/__init__.py", line 152, in setup
    _install_setup_requires(attrs)
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/__init__.py", line 147, in _install_setup_requires
    dist.fetch_build_eggs(dist.setup_requires)
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/dist.py", line 724, in fetch_build_eggs
    replace_conflicting=True,
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pkg_resources/__init__.py", line 768, in resolve
    replace_conflicting=replace_conflicting
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pkg_resources/__init__.py", line 1051, in best_match
    return self.obtain(req, installer)
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/pkg_resources/__init__.py", line 1063, in obtain
    return installer(requirement)
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/dist.py", line 780, in fetch_build_egg
    return fetch_build_egg(self, req)
  File "/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.7/site-packages/setuptools/installer.py", line 77, in fetch_build_egg
    raise DistutilsError(str(e)) from e
distutils.errors.DistutilsError: Command '['/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/local/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/home/scratch2/dimpase/tmp/tmp772nb9rh', '--quiet', 'Cython>=0.28']' returned non-zero exit status 1.
Error: could not determine package name
```

dependencies issue?



---

archive/issue_comments_454005.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nNote that `make distclean` does not clean stuff in `.tox`, so if you want to start from scratch, use `tox -r`",
    "created_at": "2021-04-11T18:29:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454005",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:75" align="right">comment:75</div>

Note that `make distclean` does not clean stuff in `.tox`, so if you want to start from scratch, use `tox -r`



---

archive/issue_comments_454006.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nstill, after successful `make build`, running the command in the ticket description ends with \n\n```\n  Error building Sage.\n\n  The following package(s) may have failed to build (not necessarily\n  during this run of 'make all-build'):\n\n  * package:         numpy-1.19.5\n    last build time: Apr 11 22:40\n    log file:        /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/logs/pkgs/numpy-1.19.5.log\n    build directory: /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/local/var/tmp/sage/build/numpy-1.19.5\n\n```\nand in the numpy log I see\n\n```\nUninstalling 'numpy' with legacy uninstaller\nPackage 'numpy' is currently not installed\nTraceback (most recent call last):\n  File \"../lapack_conf.py\", line 3, in <module>\n    import pkgconfig, os\nModuleNotFoundError: No module named 'pkgconfig'\n\nreal    0m0.064s\nuser    0m0.049s\nsys     0m0.010s\n************************************************************************\nError installing package numpy-1.19.5\n``` \n\na race condition, `pkgconfig` is not installed yet?",
    "created_at": "2021-04-11T22:50:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454006",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:76" align="right">comment:76</div>

still, after successful `make build`, running the command in the ticket description ends with 

```
  Error building Sage.

  The following package(s) may have failed to build (not necessarily
  during this run of 'make all-build'):

  * package:         numpy-1.19.5
    last build time: Apr 11 22:40
    log file:        /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/logs/pkgs/numpy-1.19.5.log
    build directory: /home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu/local/var/tmp/sage/build/numpy-1.19.5

```
and in the numpy log I see

```
Uninstalling 'numpy' with legacy uninstaller
Package 'numpy' is currently not installed
Traceback (most recent call last):
  File "../lapack_conf.py", line 3, in <module>
    import pkgconfig, os
ModuleNotFoundError: No module named 'pkgconfig'

real    0m0.064s
user    0m0.049s
sys     0m0.010s
************************************************************************
Error installing package numpy-1.19.5
``` 

a race condition, `pkgconfig` is not installed yet?



---

archive/issue_comments_454007.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nand this\n\n```\n$ ./sage --python\nPython 3.7.7 (default, Mar 13 2020, 21:39:43) \n[GCC 9.2.1 20190827 (Red Hat 9.2.1-1)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import pkgconfig\n>>> \n```\nis OK. Is something weird happening with the Python while building numpy?",
    "created_at": "2021-04-11T22:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454007",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:77" align="right">comment:77</div>

and this

```
$ ./sage --python
Python 3.7.7 (default, Mar 13 2020, 21:39:43) 
[GCC 9.2.1 20190827 (Red Hat 9.2.1-1)] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> import pkgconfig
>>> 
```
is OK. Is something weird happening with the Python while building numpy?



---

archive/issue_comments_454008.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nOh, I see. The script `lapack_conf.py` calls `sage-bootstrap-python`, which is not Sage's python in this case, it's a python2.\n\n```\nclpc171[/home/scratch2/dimpase/sage/sage]$ ./sage --buildsh\n\nStarting subshell with Sage environment variables set.  Don't forget\nto exit when you are done.  Beware:\n * Do not do anything with other copies of Sage on your system.\n * Do not use this for installing Sage packages using \"sage -i\" or for\n   running \"make\" at Sage's root directory.  These should be done\n   outside the Sage shell.\n\nBypassing shell configuration files...\n\nNote: SAGE_ROOT=/home/scratch2/dimpase/sage/sage\n(sage-buildsh) dimpase@clpc171:sage$ sage-bootstrap-python \nPython 2.7.18 (default, Apr 21 2020, 18:49:31) \n[GCC 9.3.1 20200408 (Red Hat 9.3.1-2)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> \n```",
    "created_at": "2021-04-11T23:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454008",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:78" align="right">comment:78</div>

Oh, I see. The script `lapack_conf.py` calls `sage-bootstrap-python`, which is not Sage's python in this case, it's a python2.

```
clpc171[/home/scratch2/dimpase/sage/sage]$ ./sage --buildsh

Starting subshell with Sage environment variables set.  Don't forget
to exit when you are done.  Beware:
 * Do not do anything with other copies of Sage on your system.
 * Do not use this for installing Sage packages using "sage -i" or for
   running "make" at Sage's root directory.  These should be done
   outside the Sage shell.

Bypassing shell configuration files...

Note: SAGE_ROOT=/home/scratch2/dimpase/sage/sage
(sage-buildsh) dimpase@clpc171:sage$ sage-bootstrap-python 
Python 2.7.18 (default, Apr 21 2020, 18:49:31) 
[GCC 9.3.1 20200408 (Red Hat 9.3.1-2)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> 
```



---

archive/issue_events_396016.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-04-11T23:18:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396016"
}
```



---

archive/issue_events_396017.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-04-11T23:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396017"
}
```



---

archive/issue_comments_454009.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nThat's really something that we need to fix in a separate ticket!",
    "created_at": "2021-04-11T23:20:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454009",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:80" align="right">comment:80</div>

That's really something that we need to fix in a separate ticket!



---

archive/issue_comments_454010.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nNo, actually `spkg-install.in` calls `python3`.",
    "created_at": "2021-04-11T23:21:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454010",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:81" align="right">comment:81</div>

No, actually `spkg-install.in` calls `python3`.



---

archive/issue_comments_454011.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nYou are interacting with the wrong SAGE_ROOT, by the way. The relevant `SAGE_ROOT` is `/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu`. What's happening in `/home/scratch2/dimpase/sage/sage` is irrelevant.",
    "created_at": "2021-04-11T23:24:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454011",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:82" align="right">comment:82</div>

You are interacting with the wrong SAGE_ROOT, by the way. The relevant `SAGE_ROOT` is `/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu`. What's happening in `/home/scratch2/dimpase/sage/sage` is irrelevant.



---

archive/issue_comments_454012.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nReplying to [@mkoeppe](#comment:81):\n> No, actually `spkg-install.in` calls `python3`.\n\nwell, it calls the failing `lapack_conf.py`, which prescribes a different Python.",
    "created_at": "2021-04-12T08:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454012",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:83" align="right">comment:83</div>

Replying to [@mkoeppe](#comment:81):
> No, actually `spkg-install.in` calls `python3`.

well, it calls the failing `lapack_conf.py`, which prescribes a different Python.



---

archive/issue_comments_454013.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nSee #31663, where I explain this in more detail",
    "created_at": "2021-04-12T16:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454013",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:84" align="right">comment:84</div>

See #31663, where I explain this in more detail



---

archive/issue_comments_454014.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nReplying to [@mkoeppe](#comment:82):\n> You are interacting with the wrong SAGE_ROOT, by the way. The relevant `SAGE_ROOT` is `/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu`. What's happening in `/home/scratch2/dimpase/sage/sage` is irrelevant.\n\nOK, so I guess here is the test showing that `pkgconfig` module is not there\n(I `cd` to the said `SAGE_ROOT` and run `./local/bin/python3` there):\n\n```\nclpc171[/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu]$ ./local/bin/python3\nPython 3.7.7 (default, Mar 13 2020, 21:39:43) \n[GCC 9.2.1 20190827 (Red Hat 9.2.1-1)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import pkgconfig\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nModuleNotFoundError: No module named 'pkgconfig'\n```\n\n(and the same import works for the \"usual\" SAGE_ROOT just fine)",
    "created_at": "2021-04-12T22:35:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454014",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:85" align="right">comment:85</div>

Replying to [@mkoeppe](#comment:82):
> You are interacting with the wrong SAGE_ROOT, by the way. The relevant `SAGE_ROOT` is `/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu`. What's happening in `/home/scratch2/dimpase/sage/sage` is irrelevant.

OK, so I guess here is the test showing that `pkgconfig` module is not there
(I `cd` to the said `SAGE_ROOT` and run `./local/bin/python3` there):

```
clpc171[/home/scratch2/dimpase/sage/sage/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.rc2-cpython-37m-x86_64-linux-gnu]$ ./local/bin/python3
Python 3.7.7 (default, Mar 13 2020, 21:39:43) 
[GCC 9.2.1 20190827 (Red Hat 9.2.1-1)] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> import pkgconfig
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ModuleNotFoundError: No module named 'pkgconfig'
```

(and the same import works for the "usual" SAGE_ROOT just fine)



---

archive/issue_comments_454015.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nIf I pip-install `pkgconfig` and `cython` in the correct SAGE_ROOT, then tox run gets through numpy install just fine, but fails later in a similar way on pplpy.\n\nI guess dependency resolution is shot, or there is a race somewhere, leading to wrong order of installations.",
    "created_at": "2021-04-13T08:58:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454015",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:86" align="right">comment:86</div>

If I pip-install `pkgconfig` and `cython` in the correct SAGE_ROOT, then tox run gets through numpy install just fine, but fails later in a similar way on pplpy.

I guess dependency resolution is shot, or there is a race somewhere, leading to wrong order of installations.



---

archive/issue_comments_454016.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nThanks for testing! This is very strange...",
    "created_at": "2021-04-13T15:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454016",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:87" align="right">comment:87</div>

Thanks for testing! This is very strange...



---

archive/issue_events_396018.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-15T02:16:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396018"
}
```



---

archive/issue_events_396019.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-15T02:16:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396019"
}
```



---

archive/issue_comments_454017.json:
```json
{
    "body": "Changed commit from **[`94b8d3c`](https://github.com/sagemath/sagetrac-mirror/commit/94b8d3c7223785fab507ecbe38f9c16fb44a46de)** to **[`df2f8d1`](https://github.com/sagemath/sagetrac-mirror/commit/df2f8d11a2d204b5e5197b968ab1bb8e62486508)**",
    "created_at": "2021-05-11T03:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454017",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`94b8d3c`](https://github.com/sagemath/sagetrac-mirror/commit/94b8d3c7223785fab507ecbe38f9c16fb44a46de)** to **[`df2f8d1`](https://github.com/sagemath/sagetrac-mirror/commit/df2f8d11a2d204b5e5197b968ab1bb8e62486508)**



---

archive/issue_comments_454018.json:
```json
{
    "body": "<div id=\"comment:89\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df2f8d11a2d204b5e5197b968ab1bb8e62486508\"><code>df2f8d1</code></a></td><td><code>Merge tag '9.3' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-05-11T03:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454018",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:89"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df2f8d11a2d204b5e5197b968ab1bb8e62486508"><code>df2f8d1</code></a></td><td><code>Merge tag '9.3' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>




---

archive/issue_events_396020.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-11T17:59:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396020"
}
```



---

archive/issue_events_396021.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-11T17:59:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396021"
}
```



---

archive/issue_comments_454019.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nIt may be worth testing whether at least the built source distribution (https://pypi.org/project/sagemath-standard/) works for you as advertised.",
    "created_at": "2021-05-11T17:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454019",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:90" align="right">comment:90</div>

It may be worth testing whether at least the built source distribution (https://pypi.org/project/sagemath-standard/) works for you as advertised.



---

archive/issue_comments_454020.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nit seems to parallelize `make` too aggressively. Just had to reboot a machine I tried this on.\nNamely, `top` shows a massive number of `make` instances launched, hundreds. The log is full of\n\n```\nmake[20]: warning: -j4 forced in submake: resetting jobserver mode.\n  make -j4 build/make/Makefile --stop\n```\n\n\n\nAlso, the 1st attempt to run `tox -v -v -v` failed with a message like \"packages PEP <something>\nare not directly installable\" (or something like this). I just started it again, and it went on.",
    "created_at": "2021-05-12T09:43:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454020",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:91" align="right">comment:91</div>

it seems to parallelize `make` too aggressively. Just had to reboot a machine I tried this on.
Namely, `top` shows a massive number of `make` instances launched, hundreds. The log is full of

```
make[20]: warning: -j4 forced in submake: resetting jobserver mode.
  make -j4 build/make/Makefile --stop
```



Also, the 1st attempt to run `tox -v -v -v` failed with a message like "packages PEP <something>
are not directly installable" (or something like this). I just started it again, and it went on.



---

archive/issue_comments_454021.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,7 @@\n To test:\n \n ```\n-./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)\n+./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -r -v -v -v)\n ```\n This test using `tox` uses `.sage` in an isolated directory within `.tox` instead of in your home directory. At the end of the tox run, the installed `sage-config` script is executed; it prints the configuration variables:\n \n``````\n",
    "created_at": "2021-05-12T19:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454021",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,7 @@
 To test:
 
 ```
-./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -v -v -v)
+./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -r -v -v -v)
 ```
 This test using `tox` uses `.sage` in an isolated directory within `.tox` instead of in your home directory. At the end of the tox run, the installed `sage-config` script is executed; it prints the configuration variables:
 
``````




---

archive/issue_comments_454022.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nReplying to [@dimpase](#comment:91):\n> it seems to parallelize `make` too aggressively. Just had to reboot a machine I tried this on.\n\nThis sounds more like an infinite \"make\" recursion. Could you remove the setting of `-j` from `src/pkgs/sage_conf-pypi/setup.py` (and from your environment) and try what it does then?",
    "created_at": "2021-05-12T19:11:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454022",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:93" align="right">comment:93</div>

Replying to [@dimpase](#comment:91):
> it seems to parallelize `make` too aggressively. Just had to reboot a machine I tried this on.

This sounds more like an infinite "make" recursion. Could you remove the setting of `-j` from `src/pkgs/sage_conf-pypi/setup.py` (and from your environment) and try what it does then?



---

archive/issue_comments_454023.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nI still quickly get `make` completely taking over the machine:\n\n```\n$ ps -def | grep make | wc -l\n1797\n```\neven after\n\n```diff\ndiff --git a/src/pkgs/sage_conf-pypi/setup.py b/src/pkgs/sage_conf-pypi/setup.py\nindex b7646224d6..8ee7211104 100644\n--- a/src/pkgs/sage_conf-pypi/setup.py\n+++ b/src/pkgs/sage_conf-pypi/setup.py\n@@ -52,7 +52,7 @@ class build_py(distutils_build_py):\n         # but then a user could use \"make build-venv\" to build compatible wheels for all Python packages.\n         # TODO: A target to only build wheels of tricky packages\n         # (that use native libraries shared with other packages).\n-        SETMAKE = 'if [ -z \"$MAKE\" ]; then export MAKE=\"make -j$(PATH=build/bin:$PATH build/bin/sage-build-num-threads | cut -d\" \" -f 2)\"; fi'\n+        SETMAKE = 'if [ -z \"$MAKE\" ]; then export MAKE=\"make\"; fi'\n         cmd = f'cd {SAGE_ROOT} && {SETENV} && {SETMAKE} && $MAKE V=0 build'\n         if os.system(cmd) != 0:\n             raise DistutilsSetupError(\"make build-local failed\")\n```\nno more `warning: -j4 forced in submake: resetting jobserver mode` seen, but that's not the root cause. This is with make 4.3.",
    "created_at": "2021-05-13T09:32:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454023",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:94" align="right">comment:94</div>

I still quickly get `make` completely taking over the machine:

```
$ ps -def | grep make | wc -l
1797
```
even after

```diff
diff --git a/src/pkgs/sage_conf-pypi/setup.py b/src/pkgs/sage_conf-pypi/setup.py
index b7646224d6..8ee7211104 100644
--- a/src/pkgs/sage_conf-pypi/setup.py
+++ b/src/pkgs/sage_conf-pypi/setup.py
@@ -52,7 +52,7 @@ class build_py(distutils_build_py):
         # but then a user could use "make build-venv" to build compatible wheels for all Python packages.
         # TODO: A target to only build wheels of tricky packages
         # (that use native libraries shared with other packages).
-        SETMAKE = 'if [ -z "$MAKE" ]; then export MAKE="make -j$(PATH=build/bin:$PATH build/bin/sage-build-num-threads | cut -d" " -f 2)"; fi'
+        SETMAKE = 'if [ -z "$MAKE" ]; then export MAKE="make"; fi'
         cmd = f'cd {SAGE_ROOT} && {SETENV} && {SETMAKE} && $MAKE V=0 build'
         if os.system(cmd) != 0:
             raise DistutilsSetupError("make build-local failed")
```
no more `warning: -j4 forced in submake: resetting jobserver mode` seen, but that's not the root cause. This is with make 4.3.



---

archive/issue_comments_454024.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nIt could be that some wrong links are created by git; if I try to pull this branch I get\n\n```\nCONFLICT (directory/file): There is a directory with name build/pkgs/sage_conf/src in HEAD. Adding build/pkgs/sage_conf/src as build/pkgs/sage_conf/src~df2f8d11a2d204b5e5197b968ab1bb8e62486508\nAutomatic merge failed; fix conflicts and then commit the result.\n```\nand perhaps I didn't fix conflicts correctly.\n\nIt would be good to have something rebased on the develop branch here.",
    "created_at": "2021-05-13T10:27:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454024",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:95" align="right">comment:95</div>

It could be that some wrong links are created by git; if I try to pull this branch I get

```
CONFLICT (directory/file): There is a directory with name build/pkgs/sage_conf/src in HEAD. Adding build/pkgs/sage_conf/src as build/pkgs/sage_conf/src~df2f8d11a2d204b5e5197b968ab1bb8e62486508
Automatic merge failed; fix conflicts and then commit the result.
```
and perhaps I didn't fix conflicts correctly.

It would be good to have something rebased on the develop branch here.



---

archive/issue_comments_454025.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nOK, on a clean tree checkout I don't get the make issues. Apologies.",
    "created_at": "2021-05-13T13:36:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454025",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:96" align="right">comment:96</div>

OK, on a clean tree checkout I don't get the make issues. Apologies.



---

archive/issue_comments_454026.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">comment:97</div>\n\n`./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -r -v -v -v)` seems to work, although I had to restart `tox -r -v -v -v` at some moment. Retrying after distclean, to see if I can reproduce this.\nI'm getting\n\n```\n make --no-print-directory polytopes_db-no-deps\n  sage-logger -p 'SAGE_CHECK=no sage-spkg   polytopes_db-20170220.p0' '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/polytopes_db-20170220.p0.log'\n  [polytopes_db-20170220.p0] installing. Log file: /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/polytopes_db-20170220.p0.log\n    [polytopes_db-20170220.p0] successfully installed.\n  make --no-print-directory singular-no-deps\n  sage-logger -p 'SAGE_CHECK=no sage-spkg   singular-4.2.0p1+2021-04-06+sage' '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/singular-4.2.0p1+2021-04-06+sage.log'\n  [singular-4.2.0p1+2021-04-06+sage] installing. Log file: /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/singular-4.2.0p1+2021-04-06+sage.log\n    [palp-2.11] successfully installed.\n  make --no-print-directory ratpoints-no-deps\n  make[3]: *** No rule to make target '../pkgs/sage_conf/src/bin/sage-env-config', needed by '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local/var/lib/sage/installed/sage_conf-9.3'.  Stop.\n  make[3]: *** Waiting for unfinished jobs....\n  sage-logger -p 'SAGE_CHECK=no sage-spkg   ratpoints-2.1.3.p5' '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/ratpoints-2.1.3.p5.log'\n  [ratpoints-2.1.3.p5] installing. Log file: /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/ratpoints-2.1.3.p5.log\n    [ratpoints-2.1.3.p5] successfully installed.\n    [ecl-21.2.1] successfully installed.\n    [gap-4.11.0.p1] successfully installed.\n    [singular-4.2.0p1+2021-04-06+sage] successfully installed.\n  make[2]: *** [Makefile:2150: all-build] Error 2\n  make[2]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/build/make'\n\n  real\t9m41.134s\n  user\t24m26.005s\n  sys\t1m57.351s\n  ***************************************************************\n  Error building Sage.\n\n  The following package(s) may have failed to build (not necessarily\n  during this run of 'make all-build'):\n\n  It is safe to delete any log files and build directories, but they\n  contain information that is helpful for debugging build problems.\n  WARNING: If you now run 'make' again, the build directory of the\n  same version of the package will, by default, be deleted. Set the\n  environment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.\n\n  make[1]: *** [Makefile:39: all-build] Error 1\n  make[1]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu'\n  make: *** [Makefile:16: build] Error 2\n  Running cd /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu && (. ./.homebrew-build-env 2> /dev/null || :) && ./configure --prefix=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local --with-python=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python --enable-build-as-root --with-system-python3=force --disable-notebook --disable-sagelib\n  error: make build-local failed\n  Building wheel for sage-conf (PEP 517) ... error\n  ERROR: Failed building wheel for sage-conf\nFailed to build sage-conf\nERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly\nException information:\nTraceback (most recent call last):\n  File \"/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/base_command.py\", line 189, in _main\n    status = self.run(options, args)\n  File \"/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/req_command.py\", line 178, in wrapper\n    return func(self, options, args)\n  File \"/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/commands/install.py\", line 358, in run\n    raise InstallationError(\npip._internal.exceptions.InstallationError: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly\nWARNING: You are using pip version 21.0.1; however, version 21.1.1 is available.\nYou should consider upgrading via the '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --upgrade pip' command.\nRemoved build tracker: '/tmp/pip-req-tracker-edpp7niq'\nERROR: invocation failed (exit code 1)\npython finish: installpkg /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip after 622.22 seconds\n_________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________ summary __________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________\nERROR:   python: InvocationError for command /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --exists-action w -v .tox/.tmp/package/1/sage_conf-9.3.zip (exited with code 1)\ncleanup /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip\n```\n\nAt this point I can just start `tox -r -v -v -v` again, and it happily continues.\nNot sure whether the final result is correct. \n\nAnyway, the error isn't good.\nLooks like a bit of an error in a make rule, it tries to make `../pkgs/sage_conf/src/bin/sage-env-config`.",
    "created_at": "2021-05-13T13:53:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454026",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:97" align="right">comment:97</div>

`./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -r -v -v -v)` seems to work, although I had to restart `tox -r -v -v -v` at some moment. Retrying after distclean, to see if I can reproduce this.
I'm getting

```
 make --no-print-directory polytopes_db-no-deps
  sage-logger -p 'SAGE_CHECK=no sage-spkg   polytopes_db-20170220.p0' '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/polytopes_db-20170220.p0.log'
  [polytopes_db-20170220.p0] installing. Log file: /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/polytopes_db-20170220.p0.log
    [polytopes_db-20170220.p0] successfully installed.
  make --no-print-directory singular-no-deps
  sage-logger -p 'SAGE_CHECK=no sage-spkg   singular-4.2.0p1+2021-04-06+sage' '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/singular-4.2.0p1+2021-04-06+sage.log'
  [singular-4.2.0p1+2021-04-06+sage] installing. Log file: /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/singular-4.2.0p1+2021-04-06+sage.log
    [palp-2.11] successfully installed.
  make --no-print-directory ratpoints-no-deps
  make[3]: *** No rule to make target '../pkgs/sage_conf/src/bin/sage-env-config', needed by '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local/var/lib/sage/installed/sage_conf-9.3'.  Stop.
  make[3]: *** Waiting for unfinished jobs....
  sage-logger -p 'SAGE_CHECK=no sage-spkg   ratpoints-2.1.3.p5' '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/ratpoints-2.1.3.p5.log'
  [ratpoints-2.1.3.p5] installing. Log file: /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/ratpoints-2.1.3.p5.log
    [ratpoints-2.1.3.p5] successfully installed.
    [ecl-21.2.1] successfully installed.
    [gap-4.11.0.p1] successfully installed.
    [singular-4.2.0p1+2021-04-06+sage] successfully installed.
  make[2]: *** [Makefile:2150: all-build] Error 2
  make[2]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/build/make'

  real	9m41.134s
  user	24m26.005s
  sys	1m57.351s
  ***************************************************************
  Error building Sage.

  The following package(s) may have failed to build (not necessarily
  during this run of 'make all-build'):

  It is safe to delete any log files and build directories, but they
  contain information that is helpful for debugging build problems.
  WARNING: If you now run 'make' again, the build directory of the
  same version of the package will, by default, be deleted. Set the
  environment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.

  make[1]: *** [Makefile:39: all-build] Error 1
  make[1]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu'
  make: *** [Makefile:16: build] Error 2
  Running cd /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu && (. ./.homebrew-build-env 2> /dev/null || :) && ./configure --prefix=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local --with-python=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python --enable-build-as-root --with-system-python3=force --disable-notebook --disable-sagelib
  error: make build-local failed
  Building wheel for sage-conf (PEP 517) ... error
  ERROR: Failed building wheel for sage-conf
Failed to build sage-conf
ERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly
Exception information:
Traceback (most recent call last):
  File "/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/base_command.py", line 189, in _main
    status = self.run(options, args)
  File "/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/req_command.py", line 178, in wrapper
    return func(self, options, args)
  File "/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/commands/install.py", line 358, in run
    raise InstallationError(
pip._internal.exceptions.InstallationError: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly
WARNING: You are using pip version 21.0.1; however, version 21.1.1 is available.
You should consider upgrading via the '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --upgrade pip' command.
Removed build tracker: '/tmp/pip-req-tracker-edpp7niq'
ERROR: invocation failed (exit code 1)
python finish: installpkg /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip after 622.22 seconds
_________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________ summary __________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
ERROR:   python: InvocationError for command /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --exists-action w -v .tox/.tmp/package/1/sage_conf-9.3.zip (exited with code 1)
cleanup /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip
```

At this point I can just start `tox -r -v -v -v` again, and it happily continues.
Not sure whether the final result is correct. 

Anyway, the error isn't good.
Looks like a bit of an error in a make rule, it tries to make `../pkgs/sage_conf/src/bin/sage-env-config`.



---

archive/issue_comments_454027.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nAfter the restart, I see again\n\n```\nmake[3]: *** No rule to make target '../pkgs/sage_conf/src/bin/sage-env-config', needed by '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local/var/lib/sage/installed/sage_conf-9.3'.  Stop.\n  make[3]: *** Waiting for unfinished jobs....\n```\nbut it does not lead to (immediate) termination.",
    "created_at": "2021-05-13T13:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454027",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:98" align="right">comment:98</div>

After the restart, I see again

```
make[3]: *** No rule to make target '../pkgs/sage_conf/src/bin/sage-env-config', needed by '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local/var/lib/sage/installed/sage_conf-9.3'.  Stop.
  make[3]: *** Waiting for unfinished jobs....
```
but it does not lead to (immediate) termination.



---

archive/issue_comments_454028.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nafter a while it then errors out with already mentioned\n\n```\nFailed to build sage-conf\nERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly\n```\nin more detail:\n\n```\n...\n  [singular-4.2.0p1+2021-04-06+sage] successfully installed.\n  make[2]: *** [Makefile:2150: all-build] Error 2\n  make[2]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/build/make'\n\n  real\t10m35.056s\n  user\t24m37.840s\n  sys\t2m0.611s\n  ***************************************************************\n  Error building Sage.\n\n  The following package(s) may have failed to build (not necessarily\n  during this run of 'make all-build'):\n\n  It is safe to delete any log files and build directories, but they\n  contain information that is helpful for debugging build problems.\n  WARNING: If you now run 'make' again, the build directory of the\n  same version of the package will, by default, be deleted. Set the\n  environment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.\n\n  make[1]: *** [Makefile:39: all-build] Error 1\n  make[1]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu'\n  make: *** [Makefile:16: build] Error 2\n  Running cd /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu && (. ./.homebrew-build-env 2> /dev/null || :) && ./configure --prefix=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local --with-python=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python --enable-build-as-root --with-system-python3=force --disable-notebook --disable-sagelib\n  error: make build-local failed\n  Building wheel for sage-conf (PEP 517) ... error\n  ERROR: Failed building wheel for sage-conf\nFailed to build sage-conf\nERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly\nException information:\nTraceback (most recent call last):\n  File \"/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/base_command.py\", line 189, in _main\n    status = self.run(options, args)\n  File \"/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/req_command.py\", line 178, in wrapper\n    return func(self, options, args)\n  File \"/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/commands/install.py\", line 358, in run\n    raise InstallationError(\npip._internal.exceptions.InstallationError: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly\nWARNING: You are using pip version 21.0.1; however, version 21.1.1 is available.\nYou should consider upgrading via the '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --upgrade pip' command.\nRemoved build tracker: '/tmp/pip-req-tracker-u1_zy58f'\nERROR: invocation failed (exit code 1)\npython finish: installpkg /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip after 675.89 seconds\n_________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________ summary __________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________\nERROR:   python: InvocationError for command /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --exists-action w -v .tox/.tmp/package/1/sage_conf-9.3.zip (exited with code 1)\ncleanup /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip",
    "created_at": "2021-05-13T14:45:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454028",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:99" align="right">comment:99</div>

after a while it then errors out with already mentioned

```
Failed to build sage-conf
ERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly
```
in more detail:

```
...
  [singular-4.2.0p1+2021-04-06+sage] successfully installed.
  make[2]: *** [Makefile:2150: all-build] Error 2
  make[2]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/build/make'

  real	10m35.056s
  user	24m37.840s
  sys	2m0.611s
  ***************************************************************
  Error building Sage.

  The following package(s) may have failed to build (not necessarily
  during this run of 'make all-build'):

  It is safe to delete any log files and build directories, but they
  contain information that is helpful for debugging build problems.
  WARNING: If you now run 'make' again, the build directory of the
  same version of the package will, by default, be deleted. Set the
  environment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.

  make[1]: *** [Makefile:39: all-build] Error 1
  make[1]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu'
  make: *** [Makefile:16: build] Error 2
  Running cd /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu && (. ./.homebrew-build-env 2> /dev/null || :) && ./configure --prefix=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local --with-python=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python --enable-build-as-root --with-system-python3=force --disable-notebook --disable-sagelib
  error: make build-local failed
  Building wheel for sage-conf (PEP 517) ... error
  ERROR: Failed building wheel for sage-conf
Failed to build sage-conf
ERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly
Exception information:
Traceback (most recent call last):
  File "/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/base_command.py", line 189, in _main
    status = self.run(options, args)
  File "/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/req_command.py", line 178, in wrapper
    return func(self, options, args)
  File "/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/commands/install.py", line 358, in run
    raise InstallationError(
pip._internal.exceptions.InstallationError: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly
WARNING: You are using pip version 21.0.1; however, version 21.1.1 is available.
You should consider upgrading via the '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --upgrade pip' command.
Removed build tracker: '/tmp/pip-req-tracker-u1_zy58f'
ERROR: invocation failed (exit code 1)
python finish: installpkg /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip after 675.89 seconds
_________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________ summary __________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
ERROR:   python: InvocationError for command /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --exists-action w -v .tox/.tmp/package/1/sage_conf-9.3.zip (exited with code 1)
cleanup /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip



---

archive/issue_events_396022.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-05-13T15:18:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396022"
}
```



---

archive/issue_events_396023.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-05-13T15:18:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396023"
}
```



---

archive/issue_comments_454029.json:
```json
{
    "body": "<div id=\"comment:100\" align=\"right\">comment:100</div>\n\nNo, no matter how many times I restart tox, it errors out with \n\n```\nmake --no-print-directory singular-no-deps\n  sage-logger -p 'SAGE_CHECK=no sage-spkg   singular-4.2.0p1+2021-04-06+sage' '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/singular-4.2.0p1+2021-04-06+sage.log'\n  [singular-4.2.0p1+2021-04-06+sage] installing. Log file: /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/singular-4.2.0p1+2021-04-06+sage.log\n    [palp-2.11] successfully installed.\n  make --no-print-directory ratpoints-no-deps\n  make[3]: *** No rule to make target '../pkgs/sage_conf/src/bin/sage-env-config', needed by '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local/var/lib/sage/installed/sage_conf-9.3'.  Stop.\n  make[3]: *** Waiting for unfinished jobs....\n  sage-logger -p 'SAGE_CHECK=no sage-spkg   ratpoints-2.1.3.p5' '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/ratpoints-2.1.3.p5.log'\n  [ratpoints-2.1.3.p5] installing. Log file: /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/ratpoints-2.1.3.p5.log\n    [ratpoints-2.1.3.p5] successfully installed.\n    [ecl-21.2.1] successfully installed.\n    [gap-4.11.0.p1] successfully installed.\n    [singular-4.2.0p1+2021-04-06+sage] successfully installed.\n  make[2]: *** [Makefile:2150: all-build] Error 2\n  make[2]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/build/make'\n\n  real\t9m16.619s\n  user\t23m45.919s\n  sys\t1m54.965s\n  ***************************************************************\n  Error building Sage.\n\n  The following package(s) may have failed to build (not necessarily\n  during this run of 'make all-build'):\n\n  It is safe to delete any log files and build directories, but they\n  contain information that is helpful for debugging build problems.\n  WARNING: If you now run 'make' again, the build directory of the\n  same version of the package will, by default, be deleted. Set the\n  environment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.\n\n  make[1]: *** [Makefile:39: all-build] Error 1\n  make[1]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu'\n  make: *** [Makefile:16: build] Error 2\n  Running cd /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu && (. ./.homebrew-build-env 2> /dev/null || :) && ./configure --prefix=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local --with-python=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python --enable-build-as-root --with-system-python3=force --disable-notebook --disable-sagelib\n  error: make build-local failed\n  Building wheel for sage-conf (PEP 517) ... error\n  ERROR: Failed building wheel for sage-conf\nFailed to build sage-conf\nERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly\nException information:\nTraceback (most recent call last):\n  File \"/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/base_command.py\", line 189, in _main\n    status = self.run(options, args)\n  File \"/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/req_command.py\", line 178, in wrapper\n    return func(self, options, args)\n  File \"/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/commands/install.py\", line 358, in run\n    raise InstallationError(\npip._internal.exceptions.InstallationError: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly\nWARNING: You are using pip version 21.0.1; however, version 21.1.1 is available.\nYou should consider upgrading via the '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --upgrade pip' command.\nRemoved build tracker: '/tmp/pip-req-tracker-9ti8dn54'\nERROR: invocation failed (exit code 1)\npython finish: installpkg /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip after 597.56 seconds\n_________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________ summary __________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________\nERROR:   python: InvocationError for command /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --exists-action w -v .tox/.tmp/package/1/sage_conf-9.3.zip (exited with code 1)\ncleanup /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip\n```",
    "created_at": "2021-05-13T15:18:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454029",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:100" align="right">comment:100</div>

No, no matter how many times I restart tox, it errors out with 

```
make --no-print-directory singular-no-deps
  sage-logger -p 'SAGE_CHECK=no sage-spkg   singular-4.2.0p1+2021-04-06+sage' '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/singular-4.2.0p1+2021-04-06+sage.log'
  [singular-4.2.0p1+2021-04-06+sage] installing. Log file: /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/singular-4.2.0p1+2021-04-06+sage.log
    [palp-2.11] successfully installed.
  make --no-print-directory ratpoints-no-deps
  make[3]: *** No rule to make target '../pkgs/sage_conf/src/bin/sage-env-config', needed by '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local/var/lib/sage/installed/sage_conf-9.3'.  Stop.
  make[3]: *** Waiting for unfinished jobs....
  sage-logger -p 'SAGE_CHECK=no sage-spkg   ratpoints-2.1.3.p5' '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/ratpoints-2.1.3.p5.log'
  [ratpoints-2.1.3.p5] installing. Log file: /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/logs/pkgs/ratpoints-2.1.3.p5.log
    [ratpoints-2.1.3.p5] successfully installed.
    [ecl-21.2.1] successfully installed.
    [gap-4.11.0.p1] successfully installed.
    [singular-4.2.0p1+2021-04-06+sage] successfully installed.
  make[2]: *** [Makefile:2150: all-build] Error 2
  make[2]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/build/make'

  real	9m16.619s
  user	23m45.919s
  sys	1m54.965s
  ***************************************************************
  Error building Sage.

  The following package(s) may have failed to build (not necessarily
  during this run of 'make all-build'):

  It is safe to delete any log files and build directories, but they
  contain information that is helpful for debugging build problems.
  WARNING: If you now run 'make' again, the build directory of the
  same version of the package will, by default, be deleted. Set the
  environment variable SAGE_KEEP_BUILT_SPKGS=yes to prevent this.

  make[1]: *** [Makefile:39: all-build] Error 1
  make[1]: Leaving directory '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu'
  make: *** [Makefile:16: build] Error 2
  Running cd /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu && (. ./.homebrew-build-env 2> /dev/null || :) && ./configure --prefix=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3-cpython-38-x86_64-linux-gnu/local --with-python=/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python --enable-build-as-root --with-system-python3=force --disable-notebook --disable-sagelib
  error: make build-local failed
  Building wheel for sage-conf (PEP 517) ... error
  ERROR: Failed building wheel for sage-conf
Failed to build sage-conf
ERROR: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly
Exception information:
Traceback (most recent call last):
  File "/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/base_command.py", line 189, in _main
    status = self.run(options, args)
  File "/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/cli/req_command.py", line 178, in wrapper
    return func(self, options, args)
  File "/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/lib/python3.8/site-packages/pip/_internal/commands/install.py", line 358, in run
    raise InstallationError(
pip._internal.exceptions.InstallationError: Could not build wheels for sage-conf which use PEP 517 and cannot be installed directly
WARNING: You are using pip version 21.0.1; however, version 21.1.1 is available.
You should consider upgrading via the '/mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --upgrade pip' command.
Removed build tracker: '/tmp/pip-req-tracker-9ti8dn54'
ERROR: invocation failed (exit code 1)
python finish: installpkg /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip after 597.56 seconds
_________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________ summary __________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
ERROR:   python: InvocationError for command /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/python/bin/python -m pip install --exists-action w -v .tox/.tmp/package/1/sage_conf-9.3.zip (exited with code 1)
cleanup /mnt/opt/Sage/sage-clang/src/pkgs/sage_conf-pypi/.tox/.tmp/package/1/sage_conf-9.3.zip
```



---

archive/issue_comments_454030.json:
```json
{
    "body": "Changed commit from **[`df2f8d1`](https://github.com/sagemath/sagetrac-mirror/commit/df2f8d11a2d204b5e5197b968ab1bb8e62486508)** to **[`b4b3ec8`](https://github.com/sagemath/sagetrac-mirror/commit/b4b3ec80489aa21324724c2c7ead38d37061fa00)**",
    "created_at": "2021-05-26T01:50:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454030",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`df2f8d1`](https://github.com/sagemath/sagetrac-mirror/commit/df2f8d11a2d204b5e5197b968ab1bb8e62486508)** to **[`b4b3ec8`](https://github.com/sagemath/sagetrac-mirror/commit/b4b3ec80489aa21324724c2c7ead38d37061fa00)**



---

archive/issue_comments_454031.json:
```json
{
    "body": "<div id=\"comment:101\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4b3ec80489aa21324724c2c7ead38d37061fa00\"><code>b4b3ec8</code></a></td><td><code>Merge tag '9.4.beta0' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-05-26T01:50:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454031",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:101"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4b3ec80489aa21324724c2c7ead38d37061fa00"><code>b4b3ec8</code></a></td><td><code>Merge tag '9.4.beta0' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>




---

archive/issue_comments_454032.json:
```json
{
    "body": "<div id=\"comment:102\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1d2df08aa14e47a780c51c01073d58f4c7b3426\"><code>e1d2df0</code></a></td><td><code>Merge tag '9.4.beta1' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-06-06T20:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454032",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:102"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1d2df08aa14e47a780c51c01073d58f4c7b3426"><code>e1d2df0</code></a></td><td><code>Merge tag '9.4.beta1' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>




---

archive/issue_comments_454033.json:
```json
{
    "body": "Changed commit from **[`b4b3ec8`](https://github.com/sagemath/sagetrac-mirror/commit/b4b3ec80489aa21324724c2c7ead38d37061fa00)** to **[`e1d2df0`](https://github.com/sagemath/sagetrac-mirror/commit/e1d2df08aa14e47a780c51c01073d58f4c7b3426)**",
    "created_at": "2021-06-06T20:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454033",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b4b3ec8`](https://github.com/sagemath/sagetrac-mirror/commit/b4b3ec80489aa21324724c2c7ead38d37061fa00)** to **[`e1d2df0`](https://github.com/sagemath/sagetrac-mirror/commit/e1d2df08aa14e47a780c51c01073d58f4c7b3426)**



---

archive/issue_comments_454034.json:
```json
{
    "body": "Changed dependencies from **#30913** to none",
    "created_at": "2021-06-06T20:14:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454034",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30913** to none



---

archive/issue_comments_454035.json:
```json
{
    "body": "<div id=\"comment:104\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b96fd8b638bd1c89d53e36df586b92490e744889\"><code>b96fd8b</code></a></td><td><code>Add configure option --disable-sagelib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/900e621eca31b625831b14918d1a34cf61884d07\"><code>900e621</code></a></td><td><code>Add sage_root to sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-06-25T06:14:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454035",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:104"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b96fd8b638bd1c89d53e36df586b92490e744889"><code>b96fd8b</code></a></td><td><code>Add configure option --disable-sagelib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/900e621eca31b625831b14918d1a34cf61884d07"><code>900e621</code></a></td><td><code>Add sage_root to sage_bootstrap</code></td></tr></table>




---

archive/issue_comments_454036.json:
```json
{
    "body": "Changed commit from **[`e1d2df0`](https://github.com/sagemath/sagetrac-mirror/commit/e1d2df08aa14e47a780c51c01073d58f4c7b3426)** to **[`900e621`](https://github.com/sagemath/sagetrac-mirror/commit/900e621eca31b625831b14918d1a34cf61884d07)**",
    "created_at": "2021-06-25T06:14:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454036",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e1d2df0`](https://github.com/sagemath/sagetrac-mirror/commit/e1d2df08aa14e47a780c51c01073d58f4c7b3426)** to **[`900e621`](https://github.com/sagemath/sagetrac-mirror/commit/900e621eca31b625831b14918d1a34cf61884d07)**



---

archive/issue_comments_454037.json:
```json
{
    "body": "Dependencies: **#31577**",
    "created_at": "2021-06-25T06:19:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454037",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#31577**



---

archive/issue_comments_454038.json:
```json
{
    "body": "Changed commit from **[`900e621`](https://github.com/sagemath/sagetrac-mirror/commit/900e621eca31b625831b14918d1a34cf61884d07)** to **[`89bdadf`](https://github.com/sagemath/sagetrac-mirror/commit/89bdadf349474996b7a4c786b82471273eeb1c4d)**",
    "created_at": "2021-06-25T06:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454038",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`900e621`](https://github.com/sagemath/sagetrac-mirror/commit/900e621eca31b625831b14918d1a34cf61884d07)** to **[`89bdadf`](https://github.com/sagemath/sagetrac-mirror/commit/89bdadf349474996b7a4c786b82471273eeb1c4d)**



---

archive/issue_comments_454039.json:
```json
{
    "body": "<div id=\"comment:106\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40abff027b8f1b1d48dfe273a99e98079c05e2f4\"><code>40abff0</code></a></td><td><code>pkgs/sage-setup/setup.cfg: README.rst, not README.md</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/782b64b2c4479f0b8ebde576915c65c3932d6968\"><code>782b64b</code></a></td><td><code>pkgs/sagemath-standard: Remove symlink to SAGE_ROOT/src/sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf606f743e019c82ec3cfc212d60b6b54c1fa3f4\"><code>cf606f7</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD src/sage_setup before building TARGETS_PRE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1b8832dc2aea68404314cdfca4abd9c92cae6b7\"><code>a1b8832</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: Use python3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9270417b7c13a3a29753a4b4180de1d30727aef3\"><code>9270417</code></a></td><td><code>tox.ini, build/bin/write-dockerfile.sh, tox*.yml: Use all-sage-local as default TARGETS_PRE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/870f9aa9e2018fd16496e28b1208a9969a9e5d01\"><code>870f9aa</code></a></td><td><code>build/pkgs/memory_allocator/install-requires.txt: Fix filename</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61c25a05c81b2204f89d7c5f68a16c5b5b41e517\"><code>61c25a0</code></a></td><td><code>build/pkgs/sage_conf/install-requires.txt: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d432ca1324a99214e48fed4726f916c81f00f87\"><code>8d432ca</code></a></td><td><code>Merge #29847</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26e16c7362a4a9833436bb36fc8b420da9ded798\"><code>26e16c7</code></a></td><td><code>Add configure option --disable-sagelib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89bdadf349474996b7a4c786b82471273eeb1c4d\"><code>89bdadf</code></a></td><td><code>Add sage_root to sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-06-25T06:19:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454039",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:106"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40abff027b8f1b1d48dfe273a99e98079c05e2f4"><code>40abff0</code></a></td><td><code>pkgs/sage-setup/setup.cfg: README.rst, not README.md</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/782b64b2c4479f0b8ebde576915c65c3932d6968"><code>782b64b</code></a></td><td><code>pkgs/sagemath-standard: Remove symlink to SAGE_ROOT/src/sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf606f743e019c82ec3cfc212d60b6b54c1fa3f4"><code>cf606f7</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD src/sage_setup before building TARGETS_PRE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1b8832dc2aea68404314cdfca4abd9c92cae6b7"><code>a1b8832</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: Use python3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9270417b7c13a3a29753a4b4180de1d30727aef3"><code>9270417</code></a></td><td><code>tox.ini, build/bin/write-dockerfile.sh, tox*.yml: Use all-sage-local as default TARGETS_PRE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/870f9aa9e2018fd16496e28b1208a9969a9e5d01"><code>870f9aa</code></a></td><td><code>build/pkgs/memory_allocator/install-requires.txt: Fix filename</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61c25a05c81b2204f89d7c5f68a16c5b5b41e517"><code>61c25a0</code></a></td><td><code>build/pkgs/sage_conf/install-requires.txt: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d432ca1324a99214e48fed4726f916c81f00f87"><code>8d432ca</code></a></td><td><code>Merge #29847</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26e16c7362a4a9833436bb36fc8b420da9ded798"><code>26e16c7</code></a></td><td><code>Add configure option --disable-sagelib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89bdadf349474996b7a4c786b82471273eeb1c4d"><code>89bdadf</code></a></td><td><code>Add sage_root to sage_bootstrap</code></td></tr></table>




---

archive/issue_comments_454040.json:
```json
{
    "body": "<div id=\"comment:107\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3dc9618377133f7983a374630cd3459568a3a10a\"><code>3dc9618</code></a></td><td><code>pkgs/sage-conf_pypi: New</code></td></tr></table>\n",
    "created_at": "2021-06-25T06:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454040",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:107"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3dc9618377133f7983a374630cd3459568a3a10a"><code>3dc9618</code></a></td><td><code>pkgs/sage-conf_pypi: New</code></td></tr></table>




---

archive/issue_comments_454041.json:
```json
{
    "body": "Changed commit from **[`89bdadf`](https://github.com/sagemath/sagetrac-mirror/commit/89bdadf349474996b7a4c786b82471273eeb1c4d)** to **[`3dc9618`](https://github.com/sagemath/sagetrac-mirror/commit/3dc9618377133f7983a374630cd3459568a3a10a)**",
    "created_at": "2021-06-25T06:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454041",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`89bdadf`](https://github.com/sagemath/sagetrac-mirror/commit/89bdadf349474996b7a4c786b82471273eeb1c4d)** to **[`3dc9618`](https://github.com/sagemath/sagetrac-mirror/commit/3dc9618377133f7983a374630cd3459568a3a10a)**



---

archive/issue_comments_454042.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,12 +7,12 @@\n To test:\n \n ```\n-./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -r -v -v -v)\n+./bootstrap && (cd pkgs/sage-conf_pypi/ && tox -r -v -v -v)\n ```\n This test using `tox` uses `.sage` in an isolated directory within `.tox` instead of in your home directory. At the end of the tox run, the installed `sage-config` script is executed; it prints the configuration variables:\n \n ```\n-[10639] /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi$ /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/bin/sage-config\n+[10639] /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/pkgs/sage-conf_pypi$ /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/pkgs/sage-conf-pypi/.tox/python/bin/sage-config\n VERSION=9.3.beta7\n MAXIMA=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/bin/maxima\n ARB_LIBRARY=arb\n``````\n",
    "created_at": "2021-06-25T06:28:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454042",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,12 +7,12 @@
 To test:
 
 ```
-./bootstrap && (cd src/pkgs/sage_conf-pypi/ && tox -r -v -v -v)
+./bootstrap && (cd pkgs/sage-conf_pypi/ && tox -r -v -v -v)
 ```
 This test using `tox` uses `.sage` in an isolated directory within `.tox` instead of in your home directory. At the end of the tox run, the installed `sage-config` script is executed; it prints the configuration variables:
 
 ```
-[10639] /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi$ /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/bin/sage-config
+[10639] /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/pkgs/sage-conf_pypi$ /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/pkgs/sage-conf-pypi/.tox/python/bin/sage-config
 VERSION=9.3.beta7
 MAXIMA=/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/src/pkgs/sage_conf-pypi/.tox/python/.sage/sage-9.3.beta7-cpython-39-darwin/local/bin/maxima
 ARB_LIBRARY=arb
``````




---

archive/issue_comments_454043.json:
```json
{
    "body": "<div id=\"comment:109\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba67c92a5056241e0273feb9b701fb0c56b48683\"><code>ba67c92</code></a></td><td><code>Put pkgs/sage-conf in the root</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e825a9f554fcc4eda8665fa9b9f708d6382b324d\"><code>e825a9f</code></a></td><td><code>pkgs/sage-conf_pypi: Fixup MANIFEST.in, setup.py</code></td></tr></table>\n",
    "created_at": "2021-06-25T18:55:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454043",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:109"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba67c92a5056241e0273feb9b701fb0c56b48683"><code>ba67c92</code></a></td><td><code>Put pkgs/sage-conf in the root</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e825a9f554fcc4eda8665fa9b9f708d6382b324d"><code>e825a9f</code></a></td><td><code>pkgs/sage-conf_pypi: Fixup MANIFEST.in, setup.py</code></td></tr></table>




---

archive/issue_comments_454044.json:
```json
{
    "body": "Changed commit from **[`3dc9618`](https://github.com/sagemath/sagetrac-mirror/commit/3dc9618377133f7983a374630cd3459568a3a10a)** to **[`e825a9f`](https://github.com/sagemath/sagetrac-mirror/commit/e825a9f554fcc4eda8665fa9b9f708d6382b324d)**",
    "created_at": "2021-06-25T18:55:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454044",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3dc9618`](https://github.com/sagemath/sagetrac-mirror/commit/3dc9618377133f7983a374630cd3459568a3a10a)** to **[`e825a9f`](https://github.com/sagemath/sagetrac-mirror/commit/e825a9f554fcc4eda8665fa9b9f708d6382b324d)**



---

archive/issue_comments_454045.json:
```json
{
    "body": "Changed dependencies from **#31577** to **#31577, #32057**",
    "created_at": "2021-06-25T19:05:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454045",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31577** to **#31577, #32057**



---

archive/issue_comments_454046.json:
```json
{
    "body": "<div id=\"comment:111\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad8bad166890a0df0794d7eadf1d383f3c7fd4a8\"><code>ad8bad1</code></a></td><td><code>Makefile (pypi-sdists): New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08678114db533b7f6da8529a81cae556ce60461a\"><code>0867811</code></a></td><td><code>src/sage_setup/setenv.py: Only set ...PATH variables and LDFLAGS if SAGE_LOCAL differs from SAGE_VENV</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe8019a075a5870c0ecbb032c34fc8579bdd90d9\"><code>fe8019a</code></a></td><td><code>Merge #32057</code></td></tr></table>\n",
    "created_at": "2021-06-25T19:05:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454046",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:111"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad8bad166890a0df0794d7eadf1d383f3c7fd4a8"><code>ad8bad1</code></a></td><td><code>Makefile (pypi-sdists): New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08678114db533b7f6da8529a81cae556ce60461a"><code>0867811</code></a></td><td><code>src/sage_setup/setenv.py: Only set ...PATH variables and LDFLAGS if SAGE_LOCAL differs from SAGE_VENV</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe8019a075a5870c0ecbb032c34fc8579bdd90d9"><code>fe8019a</code></a></td><td><code>Merge #32057</code></td></tr></table>




---

archive/issue_comments_454047.json:
```json
{
    "body": "Changed commit from **[`e825a9f`](https://github.com/sagemath/sagetrac-mirror/commit/e825a9f554fcc4eda8665fa9b9f708d6382b324d)** to **[`fe8019a`](https://github.com/sagemath/sagetrac-mirror/commit/fe8019a075a5870c0ecbb032c34fc8579bdd90d9)**",
    "created_at": "2021-06-25T19:05:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454047",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e825a9f`](https://github.com/sagemath/sagetrac-mirror/commit/e825a9f554fcc4eda8665fa9b9f708d6382b324d)** to **[`fe8019a`](https://github.com/sagemath/sagetrac-mirror/commit/fe8019a075a5870c0ecbb032c34fc8579bdd90d9)**



---

archive/issue_comments_454048.json:
```json
{
    "body": "<div id=\"comment:112\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c0ccf319cf038e836c38f494d380f30eb5413ca\"><code>8c0ccf3</code></a></td><td><code>src/pkgs/sage_conf*/README.rst: Unify the files</code></td></tr></table>\n",
    "created_at": "2021-06-25T19:31:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454048",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:112"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c0ccf319cf038e836c38f494d380f30eb5413ca"><code>8c0ccf3</code></a></td><td><code>src/pkgs/sage_conf*/README.rst: Unify the files</code></td></tr></table>




---

archive/issue_comments_454049.json:
```json
{
    "body": "Changed commit from **[`fe8019a`](https://github.com/sagemath/sagetrac-mirror/commit/fe8019a075a5870c0ecbb032c34fc8579bdd90d9)** to **[`8c0ccf3`](https://github.com/sagemath/sagetrac-mirror/commit/8c0ccf319cf038e836c38f494d380f30eb5413ca)**",
    "created_at": "2021-06-25T19:31:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454049",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fe8019a`](https://github.com/sagemath/sagetrac-mirror/commit/fe8019a075a5870c0ecbb032c34fc8579bdd90d9)** to **[`8c0ccf3`](https://github.com/sagemath/sagetrac-mirror/commit/8c0ccf319cf038e836c38f494d380f30eb5413ca)**



---

archive/issue_comments_454050.json:
```json
{
    "body": "Changed commit from **[`8c0ccf3`](https://github.com/sagemath/sagetrac-mirror/commit/8c0ccf319cf038e836c38f494d380f30eb5413ca)** to **[`2181f10`](https://github.com/sagemath/sagetrac-mirror/commit/2181f10720e2c6531b33d84be0cc0aeb8e660030)**",
    "created_at": "2021-06-25T20:02:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454050",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8c0ccf3`](https://github.com/sagemath/sagetrac-mirror/commit/8c0ccf319cf038e836c38f494d380f30eb5413ca)** to **[`2181f10`](https://github.com/sagemath/sagetrac-mirror/commit/2181f10720e2c6531b33d84be0cc0aeb8e660030)**



---

archive/issue_comments_454051.json:
```json
{
    "body": "<div id=\"comment:113\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2181f10720e2c6531b33d84be0cc0aeb8e660030\"><code>2181f10</code></a></td><td><code>pkgs/sage-conf_pypi: Fixup</code></td></tr></table>\n",
    "created_at": "2021-06-25T20:02:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454051",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:113"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2181f10720e2c6531b33d84be0cc0aeb8e660030"><code>2181f10</code></a></td><td><code>pkgs/sage-conf_pypi: Fixup</code></td></tr></table>




---

archive/issue_events_396024.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-25T20:03:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396024"
}
```



---

archive/issue_events_396025.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-25T20:03:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396025"
}
```



---

archive/issue_comments_454052.json:
```json
{
    "body": "<div id=\"comment:115\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44b1e8d88affb78b8c06f478f79d2414b4efa232\"><code>44b1e8d</code></a></td><td><code>Makefile (pypi-sdists): Add dependency on sage_setup</code></td></tr></table>\n",
    "created_at": "2021-06-26T00:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454052",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:115"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44b1e8d88affb78b8c06f478f79d2414b4efa232"><code>44b1e8d</code></a></td><td><code>Makefile (pypi-sdists): Add dependency on sage_setup</code></td></tr></table>




---

archive/issue_comments_454053.json:
```json
{
    "body": "Changed commit from **[`2181f10`](https://github.com/sagemath/sagetrac-mirror/commit/2181f10720e2c6531b33d84be0cc0aeb8e660030)** to **[`44b1e8d`](https://github.com/sagemath/sagetrac-mirror/commit/44b1e8d88affb78b8c06f478f79d2414b4efa232)**",
    "created_at": "2021-06-26T00:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454053",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2181f10`](https://github.com/sagemath/sagetrac-mirror/commit/2181f10720e2c6531b33d84be0cc0aeb8e660030)** to **[`44b1e8d`](https://github.com/sagemath/sagetrac-mirror/commit/44b1e8d88affb78b8c06f478f79d2414b4efa232)**



---

archive/issue_comments_454054.json:
```json
{
    "body": "Changed dependencies from **#31577, #32057** to **#31577, #32057, #29847**",
    "created_at": "2021-06-26T00:23:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454054",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31577, #32057** to **#31577, #32057, #29847**



---

archive/issue_comments_454055.json:
```json
{
    "body": "Changed dependencies from **#31577, #32057, #29847** to **#31577, #32057, #29847, #32071**",
    "created_at": "2021-06-27T22:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454055",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31577, #32057, #29847** to **#31577, #32057, #29847, #32071**



---

archive/issue_comments_454056.json:
```json
{
    "body": "<div id=\"comment:118\" align=\"right\">comment:118</div>\n\nI tried testing this over a recent pynac 0.7.28 branch, and it errors out as it apparently does not know how to pull upstream tarballs not from the mirrors. Missing `--enable-download-from-upstream-url` missing somewhere?",
    "created_at": "2021-06-28T13:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454056",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:118" align="right">comment:118</div>

I tried testing this over a recent pynac 0.7.28 branch, and it errors out as it apparently does not know how to pull upstream tarballs not from the mirrors. Missing `--enable-download-from-upstream-url` missing somewhere?



---

archive/issue_comments_454057.json:
```json
{
    "body": "Changed commit from **[`44b1e8d`](https://github.com/sagemath/sagetrac-mirror/commit/44b1e8d88affb78b8c06f478f79d2414b4efa232)** to **[`1596cb5`](https://github.com/sagemath/sagetrac-mirror/commit/1596cb58ab2eb42e62edabc5e94c6bf9e15a46ac)**",
    "created_at": "2021-06-28T15:48:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454057",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`44b1e8d`](https://github.com/sagemath/sagetrac-mirror/commit/44b1e8d88affb78b8c06f478f79d2414b4efa232)** to **[`1596cb5`](https://github.com/sagemath/sagetrac-mirror/commit/1596cb58ab2eb42e62edabc5e94c6bf9e15a46ac)**



---

archive/issue_comments_454058.json:
```json
{
    "body": "<div id=\"comment:119\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1596cb58ab2eb42e62edabc5e94c6bf9e15a46ac\"><code>1596cb5</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Use --enable-download-from-upstream-url</code></td></tr></table>\n",
    "created_at": "2021-06-28T15:48:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454058",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:119"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1596cb58ab2eb42e62edabc5e94c6bf9e15a46ac"><code>1596cb5</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Use --enable-download-from-upstream-url</code></td></tr></table>




---

archive/issue_events_396026.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-06-29T15:26:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396026"
}
```



---

archive/issue_events_396027.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-06-29T15:26:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396027"
}
```



---

archive/issue_comments_454059.json:
```json
{
    "body": "<div id=\"comment:120\" align=\"right\">comment:120</div>\n\nOK, this works",
    "created_at": "2021-06-29T15:26:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454059",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:120" align="right">comment:120</div>

OK, this works



---

archive/issue_comments_454060.json:
```json
{
    "body": "<div id=\"comment:121\" align=\"right\">comment:121</div>\n\nThank you!",
    "created_at": "2021-06-29T15:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454060",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:121" align="right">comment:121</div>

Thank you!



---

archive/issue_comments_454061.json:
```json
{
    "body": "<div id=\"comment:122\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/380b42dce3a591ef4bb5e81d297a7577b39e6b7b\"><code>380b42d</code></a></td><td><code>Update paths in comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7d6a3ed18a61c22b6cd65dc93b5d680701481d9\"><code>a7d6a3e</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD pkgs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7568dc6dc7a2325525aaa4618ec1bc0bc417917b\"><code>7568dc6</code></a></td><td><code>Merge tag '9.4.beta4' into t/31577/move_sage_root_build_pkgs___src_to_sage_root____rename_sage_root_build_to_sage_root_sage_bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dd45a23d5fca5fecb4bc9fdb840e3b337e16323\"><code>1dd45a2</code></a></td><td><code>Merge #31577</code></td></tr></table>\n",
    "created_at": "2021-07-01T22:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454061",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:122"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/380b42dce3a591ef4bb5e81d297a7577b39e6b7b"><code>380b42d</code></a></td><td><code>Update paths in comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7d6a3ed18a61c22b6cd65dc93b5d680701481d9"><code>a7d6a3e</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD pkgs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7568dc6dc7a2325525aaa4618ec1bc0bc417917b"><code>7568dc6</code></a></td><td><code>Merge tag '9.4.beta4' into t/31577/move_sage_root_build_pkgs___src_to_sage_root____rename_sage_root_build_to_sage_root_sage_bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dd45a23d5fca5fecb4bc9fdb840e3b337e16323"><code>1dd45a2</code></a></td><td><code>Merge #31577</code></td></tr></table>




---

archive/issue_comments_454062.json:
```json
{
    "body": "Changed commit from **[`1596cb5`](https://github.com/sagemath/sagetrac-mirror/commit/1596cb58ab2eb42e62edabc5e94c6bf9e15a46ac)** to **[`1dd45a2`](https://github.com/sagemath/sagetrac-mirror/commit/1dd45a23d5fca5fecb4bc9fdb840e3b337e16323)**",
    "created_at": "2021-07-01T22:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454062",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1596cb5`](https://github.com/sagemath/sagetrac-mirror/commit/1596cb58ab2eb42e62edabc5e94c6bf9e15a46ac)** to **[`1dd45a2`](https://github.com/sagemath/sagetrac-mirror/commit/1dd45a23d5fca5fecb4bc9fdb840e3b337e16323)**



---

archive/issue_events_396028.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-01T22:07:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396028"
}
```



---

archive/issue_events_396029.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-01T22:07:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396029"
}
```



---

archive/issue_comments_454063.json:
```json
{
    "body": "<div id=\"comment:123\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1\"><code>7f0bd4a</code></a></td><td><code>Merge tag '9.4.beta4' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/569b188b46fc42a015af7c30fdf0b3699ccd4c19\"><code>569b188</code></a></td><td><code>Merge #29847</code></td></tr></table>\n",
    "created_at": "2021-07-01T22:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454063",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:123"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1"><code>7f0bd4a</code></a></td><td><code>Merge tag '9.4.beta4' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/569b188b46fc42a015af7c30fdf0b3699ccd4c19"><code>569b188</code></a></td><td><code>Merge #29847</code></td></tr></table>




---

archive/issue_comments_454064.json:
```json
{
    "body": "Changed commit from **[`1dd45a2`](https://github.com/sagemath/sagetrac-mirror/commit/1dd45a23d5fca5fecb4bc9fdb840e3b337e16323)** to **[`569b188`](https://github.com/sagemath/sagetrac-mirror/commit/569b188b46fc42a015af7c30fdf0b3699ccd4c19)**",
    "created_at": "2021-07-01T22:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454064",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1dd45a2`](https://github.com/sagemath/sagetrac-mirror/commit/1dd45a23d5fca5fecb4bc9fdb840e3b337e16323)** to **[`569b188`](https://github.com/sagemath/sagetrac-mirror/commit/569b188b46fc42a015af7c30fdf0b3699ccd4c19)**



---

archive/issue_events_396030.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-01T22:08:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396030"
}
```



---

archive/issue_events_396031.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-01T22:08:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396031"
}
```



---

archive/issue_events_396032.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-24T19:26:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396032"
}
```



---

archive/issue_events_396033.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-24T19:26:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396033"
}
```



---

archive/issue_comments_454065.json:
```json
{
    "body": "Changed commit from **[`569b188`](https://github.com/sagemath/sagetrac-mirror/commit/569b188b46fc42a015af7c30fdf0b3699ccd4c19)** to **[`cfd0c25`](https://github.com/sagemath/sagetrac-mirror/commit/cfd0c254d78f2f5fb5004e168235e5b520e43717)**",
    "created_at": "2021-07-24T19:26:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454065",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`569b188`](https://github.com/sagemath/sagetrac-mirror/commit/569b188b46fc42a015af7c30fdf0b3699ccd4c19)** to **[`cfd0c25`](https://github.com/sagemath/sagetrac-mirror/commit/cfd0c254d78f2f5fb5004e168235e5b520e43717)**



---

archive/issue_comments_454066.json:
```json
{
    "body": "<div id=\"comment:125\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35b8b7448e6062ee5f57c8c02d586924023b6bd7\"><code>35b8b74</code></a></td><td><code>Merge tag '9.4.beta5' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/773ef2997447870a69a01f5a9e0a652be96b4d32\"><code>773ef29</code></a></td><td><code>Merge #32073</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0\"><code>9aa1f10</code></a></td><td><code>Merge #29585</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c5ee65a8872549cdfcce321bbee8bef81b57ccb\"><code>8c5ee65</code></a></td><td><code>build/pkgs/pip/install-requires.txt: Update lower bound</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed5f9f0c9219a86a85cd46df588414c920b063b9\"><code>ed5f9f0</code></a></td><td><code>Merge tag '9.4.beta6' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b1b222e05281413854602e2bec2e8d6ad680513\"><code>6b1b222</code></a></td><td><code>Merge #32046</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfd0c254d78f2f5fb5004e168235e5b520e43717\"><code>cfd0c25</code></a></td><td><code>Merge #29847</code></td></tr></table>\n",
    "created_at": "2021-07-24T19:26:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454066",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:125"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35b8b7448e6062ee5f57c8c02d586924023b6bd7"><code>35b8b74</code></a></td><td><code>Merge tag '9.4.beta5' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/773ef2997447870a69a01f5a9e0a652be96b4d32"><code>773ef29</code></a></td><td><code>Merge #32073</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0"><code>9aa1f10</code></a></td><td><code>Merge #29585</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c5ee65a8872549cdfcce321bbee8bef81b57ccb"><code>8c5ee65</code></a></td><td><code>build/pkgs/pip/install-requires.txt: Update lower bound</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed5f9f0c9219a86a85cd46df588414c920b063b9"><code>ed5f9f0</code></a></td><td><code>Merge tag '9.4.beta6' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b1b222e05281413854602e2bec2e8d6ad680513"><code>6b1b222</code></a></td><td><code>Merge #32046</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfd0c254d78f2f5fb5004e168235e5b520e43717"><code>cfd0c25</code></a></td><td><code>Merge #29847</code></td></tr></table>




---

archive/issue_events_396034.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:26:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396034"
}
```



---

archive/issue_events_396035.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:26:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396035"
}
```



---

archive/issue_comments_454067.json:
```json
{
    "body": "Changed dependencies from **#31577, #32057, #29847, #32071** to **#29847, #32371**",
    "created_at": "2021-08-12T21:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454067",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31577, #32057, #29847, #32071** to **#29847, #32371**



---

archive/issue_comments_454068.json:
```json
{
    "body": "<div id=\"comment:128\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85d1d2716188e67b85b48838c52d8f919f7244ef\"><code>85d1d27</code></a></td><td><code>Merge tag '9.4.rc1' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/050f8df9a056a966e4fed9371ddb6244d0cb18f2\"><code>050f8df</code></a></td><td><code>build/pkgs/numpy/spkg-install.in: Use sdh_pip_install, sdh_prefix_args</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a41b507abb68a451e0d2f369749bcc5a3352ccf0\"><code>a41b507</code></a></td><td><code>Merge branch 't/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6e8ced90d82b7c298db69f7de3f9786a5f7a568\"><code>e6e8ced</code></a></td><td><code>Merge #29847</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d69c49654620d72301f3e040d8f7d908d273bbfd\"><code>d69c496</code></a></td><td><code>build/pkgs/ptyprocess: pin version to 0.5.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f13d04a0a80e3321348d7a172f11c91dce47fb4\"><code>7f13d04</code></a></td><td><code>Merge #32371</code></td></tr></table>\n",
    "created_at": "2021-08-12T21:17:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454068",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:128"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85d1d2716188e67b85b48838c52d8f919f7244ef"><code>85d1d27</code></a></td><td><code>Merge tag '9.4.rc1' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/050f8df9a056a966e4fed9371ddb6244d0cb18f2"><code>050f8df</code></a></td><td><code>build/pkgs/numpy/spkg-install.in: Use sdh_pip_install, sdh_prefix_args</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a41b507abb68a451e0d2f369749bcc5a3352ccf0"><code>a41b507</code></a></td><td><code>Merge branch 't/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6e8ced90d82b7c298db69f7de3f9786a5f7a568"><code>e6e8ced</code></a></td><td><code>Merge #29847</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d69c49654620d72301f3e040d8f7d908d273bbfd"><code>d69c496</code></a></td><td><code>build/pkgs/ptyprocess: pin version to 0.5.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f13d04a0a80e3321348d7a172f11c91dce47fb4"><code>7f13d04</code></a></td><td><code>Merge #32371</code></td></tr></table>




---

archive/issue_comments_454069.json:
```json
{
    "body": "Changed commit from **[`cfd0c25`](https://github.com/sagemath/sagetrac-mirror/commit/cfd0c254d78f2f5fb5004e168235e5b520e43717)** to **[`7f13d04`](https://github.com/sagemath/sagetrac-mirror/commit/7f13d04a0a80e3321348d7a172f11c91dce47fb4)**",
    "created_at": "2021-08-12T21:17:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454069",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cfd0c25`](https://github.com/sagemath/sagetrac-mirror/commit/cfd0c254d78f2f5fb5004e168235e5b520e43717)** to **[`7f13d04`](https://github.com/sagemath/sagetrac-mirror/commit/7f13d04a0a80e3321348d7a172f11c91dce47fb4)**



---

archive/issue_comments_454070.json:
```json
{
    "body": "Changed commit from **[`7f13d04`](https://github.com/sagemath/sagetrac-mirror/commit/7f13d04a0a80e3321348d7a172f11c91dce47fb4)** to **[`b011389`](https://github.com/sagemath/sagetrac-mirror/commit/b011389172f7ebce9066a33dd054f038e322130a)**",
    "created_at": "2021-08-12T22:17:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454070",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7f13d04`](https://github.com/sagemath/sagetrac-mirror/commit/7f13d04a0a80e3321348d7a172f11c91dce47fb4)** to **[`b011389`](https://github.com/sagemath/sagetrac-mirror/commit/b011389172f7ebce9066a33dd054f038e322130a)**



---

archive/issue_comments_454071.json:
```json
{
    "body": "<div id=\"comment:129\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/290fa2ff50ca053d726bb0a1a8e0470a66040c26\"><code>290fa2f</code></a></td><td><code>build/pkgs/sagelib/src: Restore lost symlink</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/478ffcddb5a0b663f7bc1fd98d2b4ac632d79988\"><code>478ffcd</code></a></td><td><code>Merge #32046</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b011389172f7ebce9066a33dd054f038e322130a\"><code>b011389</code></a></td><td><code>Merge branch 't/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-08-12T22:17:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454071",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:129"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/290fa2ff50ca053d726bb0a1a8e0470a66040c26"><code>290fa2f</code></a></td><td><code>build/pkgs/sagelib/src: Restore lost symlink</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/478ffcddb5a0b663f7bc1fd98d2b4ac632d79988"><code>478ffcd</code></a></td><td><code>Merge #32046</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b011389172f7ebce9066a33dd054f038e322130a"><code>b011389</code></a></td><td><code>Merge branch 't/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>




---

archive/issue_comments_454072.json:
```json
{
    "body": "<div id=\"comment:130\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e38644a57e2aec25c876a2ef82744e38fa14b396\"><code>e38644a</code></a></td><td><code>Makefile (pypi-sdists): Add sage_setup</code></td></tr></table>\n",
    "created_at": "2021-08-12T23:29:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454072",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:130"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e38644a57e2aec25c876a2ef82744e38fa14b396"><code>e38644a</code></a></td><td><code>Makefile (pypi-sdists): Add sage_setup</code></td></tr></table>




---

archive/issue_comments_454073.json:
```json
{
    "body": "Changed commit from **[`b011389`](https://github.com/sagemath/sagetrac-mirror/commit/b011389172f7ebce9066a33dd054f038e322130a)** to **[`e38644a`](https://github.com/sagemath/sagetrac-mirror/commit/e38644a57e2aec25c876a2ef82744e38fa14b396)**",
    "created_at": "2021-08-12T23:29:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454073",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b011389`](https://github.com/sagemath/sagetrac-mirror/commit/b011389172f7ebce9066a33dd054f038e322130a)** to **[`e38644a`](https://github.com/sagemath/sagetrac-mirror/commit/e38644a57e2aec25c876a2ef82744e38fa14b396)**



---

archive/issue_comments_454074.json:
```json
{
    "body": "<div id=\"comment:131\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2368c62fc1fbc08fc0f06191d3671fb33133a8b\"><code>b2368c6</code></a></td><td><code>pkgs/sage-setup/setup.cfg: Add pkgconfig as install_requires</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bad918919b3b4ac2a95a9c9e2d4283fd43589791\"><code>bad9189</code></a></td><td><code>Merge #29847</code></td></tr></table>\n",
    "created_at": "2021-08-13T00:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454074",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:131"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2368c62fc1fbc08fc0f06191d3671fb33133a8b"><code>b2368c6</code></a></td><td><code>pkgs/sage-setup/setup.cfg: Add pkgconfig as install_requires</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bad918919b3b4ac2a95a9c9e2d4283fd43589791"><code>bad9189</code></a></td><td><code>Merge #29847</code></td></tr></table>




---

archive/issue_comments_454075.json:
```json
{
    "body": "Changed commit from **[`e38644a`](https://github.com/sagemath/sagetrac-mirror/commit/e38644a57e2aec25c876a2ef82744e38fa14b396)** to **[`bad9189`](https://github.com/sagemath/sagetrac-mirror/commit/bad918919b3b4ac2a95a9c9e2d4283fd43589791)**",
    "created_at": "2021-08-13T00:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454075",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e38644a`](https://github.com/sagemath/sagetrac-mirror/commit/e38644a57e2aec25c876a2ef82744e38fa14b396)** to **[`bad9189`](https://github.com/sagemath/sagetrac-mirror/commit/bad918919b3b4ac2a95a9c9e2d4283fd43589791)**



---

archive/issue_comments_454076.json:
```json
{
    "body": "<div id=\"comment:132\" align=\"right\">comment:132</div>\n\nTo make it more user-friendly, on a failing configure it should display install instructions for build prereqs.\n\nOn a fresh Google Colab:\n\n```\n!pip install -v sage-conf\n...\n  configure: Sorry, the 'm4' command must be in the path to build Sage\n  configure: On some systems it can be found in /usr/ccs/bin\n  configure: See also http://www.gnu.org/software/m4/\n  configure: error: Exiting, as the macro processor 'm4' can not be found.\n  Running cd /root/.sage/sage-9.4-cpython-37m-x86_64-linux-gnu && (. ./.homebrew-build-env 2> /dev/null || :) && ./configure --prefix=/root/.sage/sage-9.4-cpython-37m-x86_64-linux-gnu/local --with-python=/usr/bin/python3 --enable-build-as-root --enable-download-from-upstream-url --with-system-python3=force --disable-notebook --disable-sagelib\n  error: configure failed\n  Building wheel for sage-conf (PEP 517) ... error\n  ERROR: Failed building wheel for sage-conf\nFailed to build sage-conf\n```",
    "created_at": "2021-09-14T23:37:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454076",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:132" align="right">comment:132</div>

To make it more user-friendly, on a failing configure it should display install instructions for build prereqs.

On a fresh Google Colab:

```
!pip install -v sage-conf
...
  configure: Sorry, the 'm4' command must be in the path to build Sage
  configure: On some systems it can be found in /usr/ccs/bin
  configure: See also http://www.gnu.org/software/m4/
  configure: error: Exiting, as the macro processor 'm4' can not be found.
  Running cd /root/.sage/sage-9.4-cpython-37m-x86_64-linux-gnu && (. ./.homebrew-build-env 2> /dev/null || :) && ./configure --prefix=/root/.sage/sage-9.4-cpython-37m-x86_64-linux-gnu/local --with-python=/usr/bin/python3 --enable-build-as-root --enable-download-from-upstream-url --with-system-python3=force --disable-notebook --disable-sagelib
  error: configure failed
  Building wheel for sage-conf (PEP 517) ... error
  ERROR: Failed building wheel for sage-conf
Failed to build sage-conf
```



---

archive/issue_comments_454077.json:
```json
{
    "body": "<div id=\"comment:133\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d3df506eaba0f84ead700dd1e7cb5ec70366d2b\"><code>0d3df50</code></a></td><td><code>Merge tag '9.4' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2fd62006ef6e6b02288f7122bd390f980f97bbb\"><code>a2fd620</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Show _prereq if configure fails</code></td></tr></table>\n",
    "created_at": "2021-09-15T00:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454077",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:133"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d3df506eaba0f84ead700dd1e7cb5ec70366d2b"><code>0d3df50</code></a></td><td><code>Merge tag '9.4' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2fd62006ef6e6b02288f7122bd390f980f97bbb"><code>a2fd620</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Show _prereq if configure fails</code></td></tr></table>




---

archive/issue_comments_454078.json:
```json
{
    "body": "Changed commit from **[`bad9189`](https://github.com/sagemath/sagetrac-mirror/commit/bad918919b3b4ac2a95a9c9e2d4283fd43589791)** to **[`a2fd620`](https://github.com/sagemath/sagetrac-mirror/commit/a2fd62006ef6e6b02288f7122bd390f980f97bbb)**",
    "created_at": "2021-09-15T00:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454078",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bad9189`](https://github.com/sagemath/sagetrac-mirror/commit/bad918919b3b4ac2a95a9c9e2d4283fd43589791)** to **[`a2fd620`](https://github.com/sagemath/sagetrac-mirror/commit/a2fd62006ef6e6b02288f7122bd390f980f97bbb)**



---

archive/issue_comments_454079.json:
```json
{
    "body": "<div id=\"comment:134\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9d6a72fa91c2e1aaeb9962c14ccbfcb49d2f92c\"><code>f9d6a72</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Show _prereq if configure fails</code></td></tr></table>\n",
    "created_at": "2021-09-15T00:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454079",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:134"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9d6a72fa91c2e1aaeb9962c14ccbfcb49d2f92c"><code>f9d6a72</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Show _prereq if configure fails</code></td></tr></table>




---

archive/issue_comments_454080.json:
```json
{
    "body": "Changed commit from **[`a2fd620`](https://github.com/sagemath/sagetrac-mirror/commit/a2fd62006ef6e6b02288f7122bd390f980f97bbb)** to **[`f9d6a72`](https://github.com/sagemath/sagetrac-mirror/commit/f9d6a72fa91c2e1aaeb9962c14ccbfcb49d2f92c)**",
    "created_at": "2021-09-15T00:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454080",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a2fd620`](https://github.com/sagemath/sagetrac-mirror/commit/a2fd62006ef6e6b02288f7122bd390f980f97bbb)** to **[`f9d6a72`](https://github.com/sagemath/sagetrac-mirror/commit/f9d6a72fa91c2e1aaeb9962c14ccbfcb49d2f92c)**



---

archive/issue_comments_454081.json:
```json
{
    "body": "<div id=\"comment:135\" align=\"right\">comment:135</div>\n\nBetter now... but would be better with deferred configure exits (#32060).\n\n```\n  -----------------------------------------------------------------------------\n  Checking whether SageMath should install SPKG python3...\n  checking whether any of bzip2 xz libffi is installed as or will be installed as SPKG... yes; install python3 as well\n  configure: error: given --with-system-python3=force but no system package could be used\n  configure failed; this may be caused by missing build prerequisites.\n  You can install the required build prerequisites using the following shell command\n\n  sudo apt-get install  binutils make m4 perl python3 tar bc gcc g++ ca-certificates\n\n```",
    "created_at": "2021-09-15T00:54:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454081",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:135" align="right">comment:135</div>

Better now... but would be better with deferred configure exits (#32060).

```
  -----------------------------------------------------------------------------
  Checking whether SageMath should install SPKG python3...
  checking whether any of bzip2 xz libffi is installed as or will be installed as SPKG... yes; install python3 as well
  configure: error: given --with-system-python3=force but no system package could be used
  configure failed; this may be caused by missing build prerequisites.
  You can install the required build prerequisites using the following shell command

  sudo apt-get install  binutils make m4 perl python3 tar bc gcc g++ ca-certificates

```



---

archive/issue_comments_454082.json:
```json
{
    "body": "Changed commit from **[`f9d6a72`](https://github.com/sagemath/sagetrac-mirror/commit/f9d6a72fa91c2e1aaeb9962c14ccbfcb49d2f92c)** to **[`cfdcad4`](https://github.com/sagemath/sagetrac-mirror/commit/cfdcad4fead8584aeabd193880011dbfb87374d2)**",
    "created_at": "2021-09-15T01:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454082",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f9d6a72`](https://github.com/sagemath/sagetrac-mirror/commit/f9d6a72fa91c2e1aaeb9962c14ccbfcb49d2f92c)** to **[`cfdcad4`](https://github.com/sagemath/sagetrac-mirror/commit/cfdcad4fead8584aeabd193880011dbfb87374d2)**



---

archive/issue_comments_454083.json:
```json
{
    "body": "<div id=\"comment:136\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfdcad4fead8584aeabd193880011dbfb87374d2\"><code>cfdcad4</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Include more packages in hint if configure fails</code></td></tr></table>\n",
    "created_at": "2021-09-15T01:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454083",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:136"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfdcad4fead8584aeabd193880011dbfb87374d2"><code>cfdcad4</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Include more packages in hint if configure fails</code></td></tr></table>




---

archive/issue_comments_454084.json:
```json
{
    "body": "Changed dependencies from **#29847, #32371** to none",
    "created_at": "2021-09-15T01:11:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454084",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29847, #32371** to none



---

archive/issue_comments_454085.json:
```json
{
    "body": "Changed commit from **[`cfdcad4`](https://github.com/sagemath/sagetrac-mirror/commit/cfdcad4fead8584aeabd193880011dbfb87374d2)** to **[`04abd65`](https://github.com/sagemath/sagetrac-mirror/commit/04abd6545d47573faa3d4d571b2176b13e17558d)**",
    "created_at": "2021-09-15T01:36:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454085",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cfdcad4`](https://github.com/sagemath/sagetrac-mirror/commit/cfdcad4fead8584aeabd193880011dbfb87374d2)** to **[`04abd65`](https://github.com/sagemath/sagetrac-mirror/commit/04abd6545d47573faa3d4d571b2176b13e17558d)**



---

archive/issue_comments_454086.json:
```json
{
    "body": "<div id=\"comment:138\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04abd6545d47573faa3d4d571b2176b13e17558d\"><code>04abd65</code></a></td><td><code>pkgs/sage-conf/README.rst: Update directories</code></td></tr></table>\n",
    "created_at": "2021-09-15T01:36:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454086",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:138"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04abd6545d47573faa3d4d571b2176b13e17558d"><code>04abd65</code></a></td><td><code>pkgs/sage-conf/README.rst: Update directories</code></td></tr></table>




---

archive/issue_comments_454087.json:
```json
{
    "body": "Dependencies: **#32060**",
    "created_at": "2021-09-23T14:26:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454087",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#32060**



---

archive/issue_comments_454088.json:
```json
{
    "body": "<div id=\"comment:140\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5668636db832763a5b326463021522430529eae\"><code>b566863</code></a></td><td><code>m4/sage_spkg_{collect,configure}.m4: Defer error message from --with-system-SPKG=force to the end</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48cdeb484462aad084a3dec5bc54a0afc6caadfe\"><code>48cdeb4</code></a></td><td><code>configure.ac, sage_spkg_configure.m4: Set default --with-system-gcc=force, --with-system-python3=force</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e92b98212e3f4c6ef9cc52114eea4017e07c8c8\"><code>8e92b98</code></a></td><td><code>tox.ini: Override new configure --with-system-python3=force default from #32060</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19efe2125c0903a52011390850122651ceccb6d6\"><code>19efe21</code></a></td><td><code>configure.ac: Revert the change to the default for --with-system-python3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2622b71332368c1726d7df4641bdb255de277058\"><code>2622b71</code></a></td><td><code>Merge #32060</code></td></tr></table>\n",
    "created_at": "2021-09-23T14:33:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454088",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:140"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5668636db832763a5b326463021522430529eae"><code>b566863</code></a></td><td><code>m4/sage_spkg_{collect,configure}.m4: Defer error message from --with-system-SPKG=force to the end</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48cdeb484462aad084a3dec5bc54a0afc6caadfe"><code>48cdeb4</code></a></td><td><code>configure.ac, sage_spkg_configure.m4: Set default --with-system-gcc=force, --with-system-python3=force</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e92b98212e3f4c6ef9cc52114eea4017e07c8c8"><code>8e92b98</code></a></td><td><code>tox.ini: Override new configure --with-system-python3=force default from #32060</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19efe2125c0903a52011390850122651ceccb6d6"><code>19efe21</code></a></td><td><code>configure.ac: Revert the change to the default for --with-system-python3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2622b71332368c1726d7df4641bdb255de277058"><code>2622b71</code></a></td><td><code>Merge #32060</code></td></tr></table>




---

archive/issue_comments_454089.json:
```json
{
    "body": "Changed commit from **[`04abd65`](https://github.com/sagemath/sagetrac-mirror/commit/04abd6545d47573faa3d4d571b2176b13e17558d)** to **[`2622b71`](https://github.com/sagemath/sagetrac-mirror/commit/2622b71332368c1726d7df4641bdb255de277058)**",
    "created_at": "2021-09-23T14:33:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454089",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`04abd65`](https://github.com/sagemath/sagetrac-mirror/commit/04abd6545d47573faa3d4d571b2176b13e17558d)** to **[`2622b71`](https://github.com/sagemath/sagetrac-mirror/commit/2622b71332368c1726d7df4641bdb255de277058)**



---

archive/issue_comments_454090.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, ...**",
    "created_at": "2021-09-23T14:56:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454090",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, ...**



---

archive/issue_comments_454091.json:
```json
{
    "body": "<div id=\"comment:142\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cdba5560af1cd6361a881249c794e08a65c6c37\"><code>0cdba55</code></a></td><td><code>Merge tag '9.5.beta2' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-09-26T19:04:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454091",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:142"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cdba5560af1cd6361a881249c794e08a65c6c37"><code>0cdba55</code></a></td><td><code>Merge tag '9.5.beta2' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>




---

archive/issue_comments_454092.json:
```json
{
    "body": "Changed commit from **[`2622b71`](https://github.com/sagemath/sagetrac-mirror/commit/2622b71332368c1726d7df4641bdb255de277058)** to **[`0cdba55`](https://github.com/sagemath/sagetrac-mirror/commit/0cdba5560af1cd6361a881249c794e08a65c6c37)**",
    "created_at": "2021-09-26T19:04:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454092",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2622b71`](https://github.com/sagemath/sagetrac-mirror/commit/2622b71332368c1726d7df4641bdb255de277058)** to **[`0cdba55`](https://github.com/sagemath/sagetrac-mirror/commit/0cdba5560af1cd6361a881249c794e08a65c6c37)**



---

archive/issue_comments_454093.json:
```json
{
    "body": "Changed dependencies from **#32060** to none",
    "created_at": "2021-09-26T19:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454093",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#32060** to none



---

archive/issue_events_396036.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-26T19:20:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396036"
}
```



---

archive/issue_events_396037.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-26T19:20:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396037"
}
```



---

archive/issue_comments_454094.json:
```json
{
    "body": "Dependencies: **#32442**",
    "created_at": "2021-09-26T19:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454094",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#32442**



---

archive/issue_comments_454095.json:
```json
{
    "body": "Changed commit from **[`0cdba55`](https://github.com/sagemath/sagetrac-mirror/commit/0cdba5560af1cd6361a881249c794e08a65c6c37)** to **[`9dcc189`](https://github.com/sagemath/sagetrac-mirror/commit/9dcc18938eea954544864ba20f87d88c5366a50c)**",
    "created_at": "2021-09-26T19:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454095",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0cdba55`](https://github.com/sagemath/sagetrac-mirror/commit/0cdba5560af1cd6361a881249c794e08a65c6c37)** to **[`9dcc189`](https://github.com/sagemath/sagetrac-mirror/commit/9dcc18938eea954544864ba20f87d88c5366a50c)**



---

archive/issue_comments_454096.json:
```json
{
    "body": "<div id=\"comment:145\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a23b1e12278e1537cbe143ca8b08c1e667efd2e6\"><code>a23b1e1</code></a></td><td><code>pkgs/sage-conf_pypi/MANIFEST.in: Exclude build artifacts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f5be2d0bd3a77bc132c3cd18b90238d96c2164d\"><code>2f5be2d</code></a></td><td><code>configure.ac, build/pkgs/python3/spkg-configure.m4: New default --with-sage-venv=auto</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f70064047c24f2ffffcdd2b4bae4aee5d8cca7c2\"><code>f700640</code></a></td><td><code>configure.ac: In config.status, create convenience symlinks prefix, venv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4a3845dc3f61f0547c890aa1a81b1d212c648a4\"><code>b4a3845</code></a></td><td><code>m4/sage_spkg_collect.m4: If we install python3 spkg, install it in SAGE_VENV</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12cbbdaaf45b96b9cf680d544d0b268afd6b4258\"><code>12cbbda</code></a></td><td><code>configure.ac: Keep old behavior of SAGE_VENV in incremental builds</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/117fe3a3ed83aa97ed8c5faee347587772d00749\"><code>117fe3a</code></a></td><td><code>build/make/Makefile.in (...-clean): Do not fail trying to uninstall if SAGE_VENV has not been created yet</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce1c34484ad5684b0ebf117ffed24ca65b3db0b9\"><code>ce1c344</code></a></td><td><code>Merge #32442</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e71b8a6cba124c54b25efd8e95e1f7aa1d6e499d\"><code>e71b8a6</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Key SAGE_ROOT only to Sage version and architecture</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9dcc18938eea954544864ba20f87d88c5366a50c\"><code>9dcc189</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Use --with-sage-venv</code></td></tr></table>\n",
    "created_at": "2021-09-26T19:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454096",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:145"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a23b1e12278e1537cbe143ca8b08c1e667efd2e6"><code>a23b1e1</code></a></td><td><code>pkgs/sage-conf_pypi/MANIFEST.in: Exclude build artifacts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f5be2d0bd3a77bc132c3cd18b90238d96c2164d"><code>2f5be2d</code></a></td><td><code>configure.ac, build/pkgs/python3/spkg-configure.m4: New default --with-sage-venv=auto</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f70064047c24f2ffffcdd2b4bae4aee5d8cca7c2"><code>f700640</code></a></td><td><code>configure.ac: In config.status, create convenience symlinks prefix, venv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4a3845dc3f61f0547c890aa1a81b1d212c648a4"><code>b4a3845</code></a></td><td><code>m4/sage_spkg_collect.m4: If we install python3 spkg, install it in SAGE_VENV</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12cbbdaaf45b96b9cf680d544d0b268afd6b4258"><code>12cbbda</code></a></td><td><code>configure.ac: Keep old behavior of SAGE_VENV in incremental builds</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/117fe3a3ed83aa97ed8c5faee347587772d00749"><code>117fe3a</code></a></td><td><code>build/make/Makefile.in (...-clean): Do not fail trying to uninstall if SAGE_VENV has not been created yet</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce1c34484ad5684b0ebf117ffed24ca65b3db0b9"><code>ce1c344</code></a></td><td><code>Merge #32442</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e71b8a6cba124c54b25efd8e95e1f7aa1d6e499d"><code>e71b8a6</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Key SAGE_ROOT only to Sage version and architecture</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9dcc18938eea954544864ba20f87d88c5366a50c"><code>9dcc189</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Use --with-sage-venv</code></td></tr></table>




---

archive/issue_comments_454097.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -34,8 +34,7 @@\n \n Follow-up steps:\n - Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).\n-- Optionally, it would create a venv that is used for building wheels (#30527). \n-- Using #29013, it could support several python versions\n+- Optionally, it would create a venv that is used for building wheels. \n - #30036: Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.\n \n \n``````\n",
    "created_at": "2021-09-26T20:00:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454097",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -34,8 +34,7 @@
 
 Follow-up steps:
 - Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).
-- Optionally, it would create a venv that is used for building wheels (#30527). 
-- Using #29013, it could support several python versions
+- Optionally, it would create a venv that is used for building wheels. 
 - #30036: Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.
 
 
``````




---

archive/issue_comments_454098.json:
```json
{
    "body": "Work Issues: **fix up sage_conf build location**",
    "created_at": "2021-09-26T21:21:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454098",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **fix up sage_conf build location**



---

archive/issue_comments_454099.json:
```json
{
    "body": "<div id=\"comment:148\" align=\"right\">comment:148</div>\n\nA little bit late at this stage to ask for stuff but here it goes. Would it be appropriate to split the file `sage_conf.py` into two parts? \n\nOne that would keep the name and contains the `main` function and doesn't need to be configured, and the second one that just contains the variables and that would be pre-parsed by configure.\n\nThe idea being that distro could just provide/configure the second file has they see fit without touching the functionality of the package. Although I am not sure what to do with `sage-env-config` yet in that scenario.",
    "created_at": "2021-09-27T21:43:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454099",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:148" align="right">comment:148</div>

A little bit late at this stage to ask for stuff but here it goes. Would it be appropriate to split the file `sage_conf.py` into two parts? 

One that would keep the name and contains the `main` function and doesn't need to be configured, and the second one that just contains the variables and that would be pre-parsed by configure.

The idea being that distro could just provide/configure the second file has they see fit without touching the functionality of the package. Although I am not sure what to do with `sage-env-config` yet in that scenario.



---

archive/issue_comments_454100.json:
```json
{
    "body": "<div id=\"comment:149\" align=\"right\">comment:149</div>\n\nYes, this makes sense but I think it would be best done in a follow-up ticket to this ticket and to #31396. Basically a bit of refactoring for the three versions of `sage_conf`.",
    "created_at": "2021-09-27T22:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454100",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:149" align="right">comment:149</div>

Yes, this makes sense but I think it would be best done in a follow-up ticket to this ticket and to #31396. Basically a bit of refactoring for the three versions of `sage_conf`.



---

archive/issue_comments_454101.json:
```json
{
    "body": "<div id=\"comment:150\" align=\"right\">comment:150</div>\n\nI can wait for that but that would go a long way to ease my adopting it as a new package. \n\nI am working on splitting sage in sage-on-gentoo on similar lines with some success. I now have a separate sage_setup and sage_docbuild -mostly with the idea that they can be usable by downstream sage package like flatsurf and snappy that I am looking at packaging experimentally. And in the next beta we can expect to have a separate sage-doc to debut. Well \"re-debut\", it used to be a separate package 10 years ago before I brought back everything in a single coherent unit. Fells a bit like a trip back in time but we are definitely not in the same place as then.",
    "created_at": "2021-09-27T22:26:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454101",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:150" align="right">comment:150</div>

I can wait for that but that would go a long way to ease my adopting it as a new package. 

I am working on splitting sage in sage-on-gentoo on similar lines with some success. I now have a separate sage_setup and sage_docbuild -mostly with the idea that they can be usable by downstream sage package like flatsurf and snappy that I am looking at packaging experimentally. And in the next beta we can expect to have a separate sage-doc to debut. Well "re-debut", it used to be a separate package 10 years ago before I brought back everything in a single coherent unit. Fells a bit like a trip back in time but we are definitely not in the same place as then.



---

archive/issue_comments_454102.json:
```json
{
    "body": "Changed commit from **[`9dcc189`](https://github.com/sagemath/sagetrac-mirror/commit/9dcc18938eea954544864ba20f87d88c5366a50c)** to **[`c695921`](https://github.com/sagemath/sagetrac-mirror/commit/c695921c3cee61a32a8d7ec9443bb4e315eb481b)**",
    "created_at": "2021-09-28T00:50:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454102",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9dcc189`](https://github.com/sagemath/sagetrac-mirror/commit/9dcc18938eea954544864ba20f87d88c5366a50c)** to **[`c695921`](https://github.com/sagemath/sagetrac-mirror/commit/c695921c3cee61a32a8d7ec9443bb4e315eb481b)**



---

archive/issue_comments_454103.json:
```json
{
    "body": "<div id=\"comment:151\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d626aa8517395d30f9db813246a1204856398bfd\"><code>d626aa8</code></a></td><td><code>build/pkgs/pplpy/dependencies: Depend on sphinx only if SAGE_SPKG_INSTALL_DOCS!=no</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82ce5390f94475b3941c69524280fb5a36fa7052\"><code>82ce539</code></a></td><td><code>configure.ac: If --disable-notebook and --disable-sagelib, do not build zeromq etc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02505ca6d353e44253f8e461055fe1f2ca6bb995\"><code>02505ca</code></a></td><td><code>pkgs/sage-conf_pypi/MANIFEST.in: Update from #31396</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aeca1a03015f27b74c6641cb7bbcdd9c5e82bf16\"><code>aeca1a0</code></a></td><td><code>Makefile (pypi-sdists): Add sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd3dce9e076ba81febc4e8f838e1b5ca03b12459\"><code>cd3dce9</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Update directory of configured sage_conf.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c695921c3cee61a32a8d7ec9443bb4e315eb481b\"><code>c695921</code></a></td><td><code>pkgs/sage-conf/sage_conf.py.in (SAGE_SPKG_WHEELS): Update so it works if SAGE_VENV != SAGE_LOCAL</code></td></tr></table>\n",
    "created_at": "2021-09-28T00:50:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454103",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:151"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d626aa8517395d30f9db813246a1204856398bfd"><code>d626aa8</code></a></td><td><code>build/pkgs/pplpy/dependencies: Depend on sphinx only if SAGE_SPKG_INSTALL_DOCS!=no</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82ce5390f94475b3941c69524280fb5a36fa7052"><code>82ce539</code></a></td><td><code>configure.ac: If --disable-notebook and --disable-sagelib, do not build zeromq etc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02505ca6d353e44253f8e461055fe1f2ca6bb995"><code>02505ca</code></a></td><td><code>pkgs/sage-conf_pypi/MANIFEST.in: Update from #31396</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aeca1a03015f27b74c6641cb7bbcdd9c5e82bf16"><code>aeca1a0</code></a></td><td><code>Makefile (pypi-sdists): Add sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd3dce9e076ba81febc4e8f838e1b5ca03b12459"><code>cd3dce9</code></a></td><td><code>pkgs/sage-conf_pypi/setup.py: Update directory of configured sage_conf.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c695921c3cee61a32a8d7ec9443bb4e315eb481b"><code>c695921</code></a></td><td><code>pkgs/sage-conf/sage_conf.py.in (SAGE_SPKG_WHEELS): Update so it works if SAGE_VENV != SAGE_LOCAL</code></td></tr></table>




---

archive/issue_events_396038.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-28T00:52:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396038"
}
```



---

archive/issue_events_396039.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-28T00:52:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396039"
}
```



---

archive/issue_comments_454104.json:
```json
{
    "body": "Changed work issues from **fix up sage_conf build location** to none",
    "created_at": "2021-09-28T00:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454104",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **fix up sage_conf build location** to none



---

archive/issue_comments_454105.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n-As #30913 makes `sage_conf` both (a) a PEP517/518 `build_system` `requires` and (b) an `install-requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.\n+As #30913 makes **sage-conf** both (a) a PEP517/518 `build_system` `requires` and (b) an `install-requires` of sagelib (`sagemath-standard`), also a version of **sage-conf** must be made available on PyPI.\n \n-This version of `sage_conf` includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n+This version of **sage-conf** includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). \n \n There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing (the non-Python bits of) Sage-the-distribution.  It may be useful for some users who wish to use `pip` to install everything they need. \n \n@@ -35,6 +35,6 @@\n Follow-up steps:\n - Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).\n - Optionally, it would create a venv that is used for building wheels. \n-- #30036: Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.\n+- #30036: Make the build more incremental: On installation of **sage-conf**,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python distribution packages such as **sagemath-standard** to install packages if present.\n \n \n``````\n",
    "created_at": "2021-10-11T21:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454105",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
-As #30913 makes `sage_conf` both (a) a PEP517/518 `build_system` `requires` and (b) an `install-requires` of sagelib (`sagemath-standard`), also a version of `sage_conf` must be made available on PyPI.
+As #30913 makes **sage-conf** both (a) a PEP517/518 `build_system` `requires` and (b) an `install-requires` of sagelib (`sagemath-standard`), also a version of **sage-conf** must be made available on PyPI.
 
-This version of `sage_conf` includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 
+This version of **sage-conf** includes a copy of `SAGE_ROOT` and `SAGE_ROOT/build/**` in its source distribution. On installation (or wheel building) it establishes a python-less SAGE_LOCAL hierarchy (#31362) in `~/.sage/` by running `configure` and `make build-local`; and then installs the configured `sage_conf.py` (#29038) as a Python module (and `sage-config`, `sage-env-config`). 
 
 There are no changes to how the Sage distribution is built. This ticket only provides an alternative and strictly optional way of installing (the non-Python bits of) Sage-the-distribution.  It may be useful for some users who wish to use `pip` to install everything they need. 
 
@@ -35,6 +35,6 @@
 Follow-up steps:
 - Make SAGE_ROOT configurable by the user (by passing `--prefix` to `setup.py`).
 - Optionally, it would create a venv that is used for building wheels. 
-- #30036: Make the build more incremental: On installation of `sage_conf`,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python packages such as `sagemath-standard` to install packages if present.
+- #30036: Make the build more incremental: On installation of **sage-conf**,  only run `configure` but do not install anything; rather, a Python entry point can be used by Python distribution packages such as **sagemath-standard** to install packages if present.
 
 
``````




---

archive/issue_comments_454106.json:
```json
{
    "body": "<div id=\"comment:154\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cebcda3fa7e1ae0ecd0e7cbf1a0aba15bed1a010\"><code>cebcda3</code></a></td><td><code>Merge tag '9.5.beta4' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0026892c983828c7925626d2bc9165967f0bebe5\"><code>0026892</code></a></td><td><code>Merge tag '9.5.beta5' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-10-29T07:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454106",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:154"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cebcda3fa7e1ae0ecd0e7cbf1a0aba15bed1a010"><code>cebcda3</code></a></td><td><code>Merge tag '9.5.beta4' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0026892c983828c7925626d2bc9165967f0bebe5"><code>0026892</code></a></td><td><code>Merge tag '9.5.beta5' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>




---

archive/issue_comments_454107.json:
```json
{
    "body": "Changed commit from **[`c695921`](https://github.com/sagemath/sagetrac-mirror/commit/c695921c3cee61a32a8d7ec9443bb4e315eb481b)** to **[`0026892`](https://github.com/sagemath/sagetrac-mirror/commit/0026892c983828c7925626d2bc9165967f0bebe5)**",
    "created_at": "2021-10-29T07:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454107",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c695921`](https://github.com/sagemath/sagetrac-mirror/commit/c695921c3cee61a32a8d7ec9443bb4e315eb481b)** to **[`0026892`](https://github.com/sagemath/sagetrac-mirror/commit/0026892c983828c7925626d2bc9165967f0bebe5)**



---

archive/issue_comments_454108.json:
```json
{
    "body": "<div id=\"comment:155\" align=\"right\">comment:155</div>\n\nStill waiting for review",
    "created_at": "2021-11-12T06:08:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454108",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:155" align="right">comment:155</div>

Still waiting for review



---

archive/issue_comments_454109.json:
```json
{
    "body": "<div id=\"comment:156\" align=\"right\">comment:156</div>\n\nRight, let's move this forward, it needs a fair bit of bot-testing.",
    "created_at": "2021-11-12T06:29:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454109",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:156" align="right">comment:156</div>

Right, let's move this forward, it needs a fair bit of bot-testing.



---

archive/issue_comments_454110.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik, ...** to **Dima Pasechnik, Fran\u00e7ois Bissey**",
    "created_at": "2021-11-12T06:29:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454110",
    "user": "https://github.com/kiwifb"
}
```

Changed reviewer from **Dima Pasechnik, ...** to **Dima Pasechnik, FranÃ§ois Bissey**



---

archive/issue_events_396040.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2021-11-12T06:29:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396040"
}
```



---

archive/issue_events_396041.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2021-11-12T06:29:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396041"
}
```



---

archive/issue_comments_454111.json:
```json
{
    "body": "<div id=\"comment:157\" align=\"right\">comment:157</div>\n\nThanks.\n\nNote that that we currently do not have automatic testing for this by bots or GH Actions.\nThere are a number of open tickets: #32703, #32570, #32113, #30845 that need attention",
    "created_at": "2021-11-12T20:41:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454111",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:157" align="right">comment:157</div>

Thanks.

Note that that we currently do not have automatic testing for this by bots or GH Actions.
There are a number of open tickets: #32703, #32570, #32113, #30845 that need attention



---

archive/issue_comments_454112.json:
```json
{
    "body": "<div id=\"comment:158\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087\"><code>2a4a323</code></a></td><td><code>Merge tag '9.5.beta7' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>\n",
    "created_at": "2021-11-19T00:41:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454112",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:158"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087"><code>2a4a323</code></a></td><td><code>Merge tag '9.5.beta7' into t/29039/pip_installable_package_sage_bootstrap</code></td></tr></table>




---

archive/issue_events_396042.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-11-19T00:41:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396042"
}
```



---

archive/issue_events_396043.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-11-19T00:41:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396043"
}
```



---

archive/issue_comments_454113.json:
```json
{
    "body": "Changed commit from **[`0026892`](https://github.com/sagemath/sagetrac-mirror/commit/0026892c983828c7925626d2bc9165967f0bebe5)** to **[`2a4a323`](https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087)**",
    "created_at": "2021-11-19T00:41:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454113",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0026892`](https://github.com/sagemath/sagetrac-mirror/commit/0026892c983828c7925626d2bc9165967f0bebe5)** to **[`2a4a323`](https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087)**



---

archive/issue_events_396044.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-19T00:42:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396044"
}
```



---

archive/issue_events_396045.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-19T00:42:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396045"
}
```



---

archive/issue_comments_454114.json:
```json
{
    "body": "<div id=\"comment:160\" align=\"right\">comment:160</div>\n\nReplying to [@mkoeppe](#comment:75):\n> Note that `make distclean` does not clean stuff in `.tox`, so if you want to start from scratch, use `tox -r`\n\nShould `make distclean` clean stuff in `.tox`? Running `tox -r` might have helped with a problem at https://ask.sagemath.org/question/60029/sage-not-installing-from-source.",
    "created_at": "2021-12-03T20:35:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454114",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:160" align="right">comment:160</div>

Replying to [@mkoeppe](#comment:75):
> Note that `make distclean` does not clean stuff in `.tox`, so if you want to start from scratch, use `tox -r`

Should `make distclean` clean stuff in `.tox`? Running `tox -r` might have helped with a problem at https://ask.sagemath.org/question/60029/sage-not-installing-from-source.



---

archive/issue_comments_454115.json:
```json
{
    "body": "<div id=\"comment:161\" align=\"right\">comment:161</div>\n\nIt shouldn't (because .tox is not an artifact of the normal build that is orchestrated by \"make\"), and this user's problems have nothing to do with tox",
    "created_at": "2021-12-03T20:55:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454115",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:161" align="right">comment:161</div>

It shouldn't (because .tox is not an artifact of the normal build that is orchestrated by "make"), and this user's problems have nothing to do with tox



---

archive/issue_comments_454116.json:
```json
{
    "body": "<div id=\"comment:162\" align=\"right\">comment:162</div>\n\nRelease script seems to have skipped this ticket",
    "created_at": "2021-12-19T19:33:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454116",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:162" align="right">comment:162</div>

Release script seems to have skipped this ticket



---

archive/issue_comments_454117.json:
```json
{
    "body": "Changed dependencies from **#32442** to none",
    "created_at": "2021-12-28T21:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454117",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#32442** to none



---

archive/issue_comments_454118.json:
```json
{
    "body": "<div id=\"comment:163\" align=\"right\">comment:163</div>\n\nThis ticket depends on a ticket that has no attached branch, hence it'll never be merged",
    "created_at": "2021-12-28T21:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454118",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:163" align="right">comment:163</div>

This ticket depends on a ticket that has no attached branch, hence it'll never be merged



---

archive/issue_comments_454119.json:
```json
{
    "body": "<div id=\"comment:164\" align=\"right\">comment:164</div>\n\nThanks",
    "created_at": "2021-12-28T21:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454119",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:164" align="right">comment:164</div>

Thanks



---

archive/issue_events_396046.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-29T21:43:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396046"
}
```



---

archive/issue_events_396047.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "bd2a8371f05f3b4382020637bc8e4948e4dac821",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-12-29T21:43:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29039#event-396047"
}
```



---

archive/issue_comments_454120.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/pip_installable_package_sage_bootstrap](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/pip_installable_package_sage_bootstrap)** to **[`2a4a323`](https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087)**",
    "created_at": "2021-12-29T21:43:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454120",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/pip_installable_package_sage_bootstrap](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/pip_installable_package_sage_bootstrap)** to **[`2a4a323`](https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087)**



---

archive/issue_comments_454121.json:
```json
{
    "body": "Changed commit from **[`2a4a323`](https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087)** to none",
    "created_at": "2022-01-01T19:52:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454121",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`2a4a323`](https://github.com/sagemath/sagetrac-mirror/commit/2a4a32384133408ef05edb4f40b9d363697d3087)** to none



---

archive/issue_comments_454122.json:
```json
{
    "body": "<div id=\"comment:166\" align=\"right\">comment:166</div>\n\nReplying to [@kiwifb](#comment:148):\n> A little bit late at this stage to ask for stuff but here it goes. Would it be appropriate to split the file `sage_conf.py` into two parts? \n> \n> One that would keep the name and contains the `main` function and doesn't need to be configured, and the second one that just contains the variables and that would be pre-parsed by configure.\n> \n> The idea being that distro could just provide/configure the second file has they see fit without touching the functionality of the package.\n\nDone now in #31396. Happy new year!",
    "created_at": "2022-01-01T19:52:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29039",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29039#issuecomment-454122",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:166" align="right">comment:166</div>

Replying to [@kiwifb](#comment:148):
> A little bit late at this stage to ask for stuff but here it goes. Would it be appropriate to split the file `sage_conf.py` into two parts? 
> 
> One that would keep the name and contains the `main` function and doesn't need to be configured, and the second one that just contains the variables and that would be pre-parsed by configure.
> 
> The idea being that distro could just provide/configure the second file has they see fit without touching the functionality of the package.

Done now in #31396. Happy new year!
