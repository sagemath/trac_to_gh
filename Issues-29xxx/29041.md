# Issue 29041: sage_bootstrap: Add command "sage -package list --output={install-requires,requirements,pipfile,debian,....}"

archive/issues_028804.json:
```json
{
    "body": "We extend the `sage_bootstrap` package to add the commands:\n- `sage -package list --output=install-requires PACKAGES...` (for #30913)\n- `sage -package list --output=requirements PACKAGES...`\n- `sage -package list --output=pipfile PACKAGES...`\n- `sage -package list --output=debian PACKAGE...` etc. (taking over the functionality of the shell script `build/bin/sage-get-system-packages`.)\n\nThey generate text output in the format of `setup.cfg [options] install_requires=`, `requirements.txt`, and `Pipfile`; or a list of system packages \n\n`bootstrap` can use these commands to generate these files for  `build/pkgs/sagelib/src/` or `src`.  They are deleted by `make bootstrap-clean`.\n\n---\n\nReferences: \n\n- https://pip.pypa.io/en/stable/user_guide/#requirements-files\n- https://pipenv-fork.readthedocs.io/en/latest/advanced.html\n- https://packaging.python.org/discussions/install-requires-vs-requirements/\n- https://pypi.org/project/install-requires/\n\nCC:  @seblabbe @dimpase @embray @vbraun @kiwifb @tobihan @tobiasdiez\n\nKeywords: sd111\n\nStatus: needs_work\n\nIssue created by migration from https://trac.sagemath.org/ticket/29041\n\n",
    "created_at": "2020-01-18T21:43:50Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "sage_bootstrap: Add command \"sage -package list --output={install-requires,requirements,pipfile,debian,....}\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29041",
    "user": "https://github.com/mkoeppe"
}
```
We extend the `sage_bootstrap` package to add the commands:
- `sage -package list --output=install-requires PACKAGES...` (for #30913)
- `sage -package list --output=requirements PACKAGES...`
- `sage -package list --output=pipfile PACKAGES...`
- `sage -package list --output=debian PACKAGE...` etc. (taking over the functionality of the shell script `build/bin/sage-get-system-packages`.)

They generate text output in the format of `setup.cfg [options] install_requires=`, `requirements.txt`, and `Pipfile`; or a list of system packages 

`bootstrap` can use these commands to generate these files for  `build/pkgs/sagelib/src/` or `src`.  They are deleted by `make bootstrap-clean`.

---

References: 

- https://pip.pypa.io/en/stable/user_guide/#requirements-files
- https://pipenv-fork.readthedocs.io/en/latest/advanced.html
- https://packaging.python.org/discussions/install-requires-vs-requirements/
- https://pypi.org/project/install-requires/

CC:  @seblabbe @dimpase @embray @vbraun @kiwifb @tobihan @tobiasdiez

Keywords: sd111

Status: needs_work

Issue created by migration from https://trac.sagemath.org/ticket/29041





---

archive/issue_comments_433495.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-01-19T01:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433495",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_433496.json:
```json
{
    "body": "<a id='comment:2'></a>This is what it could look like - just for a small handful of packages for now\n\n---\nNew commits:",
    "created_at": "2020-01-19T01:07:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433496",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>This is what it could look like - just for a small handful of packages for now

---
New commits:



---

archive/issue_comments_433497.json:
```json
{
    "body": "<a id='comment:3'></a>The `apt-get` line in the install manual could be generated in the same way.",
    "created_at": "2020-01-19T01:22:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433497",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>The `apt-get` line in the install manual could be generated in the same way.



---

archive/issue_comments_433498.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:3 mkoeppe]:\n> The `apt-get` line in the install manual could be generated in the same way.\n\nThis is #29053.",
    "created_at": "2020-01-20T15:02:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433498",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>Replying to [comment:3 mkoeppe]:
> The `apt-get` line in the install manual could be generated in the same way.

This is #29053.



---

archive/issue_comments_433499.json:
```json
{
    "body": "<a id='comment:6'></a>I see that only few packages, e.g. pillow, are mentioned in the branch. Are they there as an example?",
    "created_at": "2020-01-21T23:39:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433499",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>I see that only few packages, e.g. pillow, are mentioned in the branch. Are they there as an example?



---

archive/issue_comments_433500.json:
```json
{
    "body": "<a id='comment:7'></a>Yes, it's an initial example. More can be added on this ticket and/or on follow up tickets.\n\nIt may be the most efficient to first put this infrastructure (and the one for Debian) in place and then do invidual packages one by one to determine useful version bounds.",
    "created_at": "2020-01-21T23:45:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433500",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>Yes, it's an initial example. More can be added on this ticket and/or on follow up tickets.

It may be the most efficient to first put this infrastructure (and the one for Debian) in place and then do invidual packages one by one to determine useful version bounds.



---

archive/issue_comments_433501.json:
```json
{
    "body": "<a id='comment:8'></a>how is it going to play out with version constraints in spkg-configure.m4 files?",
    "created_at": "2020-01-21T23:51:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433501",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>how is it going to play out with version constraints in spkg-configure.m4 files?



---

archive/issue_comments_433502.json:
```json
{
    "body": "<a id='comment:9'></a>So far there are no `spkg-configure.m4` files for any Python packages, and I would hope there will be no need for them.",
    "created_at": "2020-01-21T23:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433502",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>So far there are no `spkg-configure.m4` files for any Python packages, and I would hope there will be no need for them.



---

archive/issue_comments_433503.json:
```json
{
    "body": "<a id='comment:10'></a>Basically `sagelib-install-requires.txt` will play the same role for Python packages as `spkg-configure.m4` does for non-Python packages, \nand likewise `sagelib-requirements.txt` : `package-version.txt`.",
    "created_at": "2020-01-21T23:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433503",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>Basically `sagelib-install-requires.txt` will play the same role for Python packages as `spkg-configure.m4` does for non-Python packages, 
and likewise `sagelib-requirements.txt` : `package-version.txt`.



---

archive/issue_comments_433504.json:
```json
{
    "body": "<a id='comment:11'></a>`@`embray If you have time - this ticket is waiting for review.",
    "created_at": "2020-01-31T14:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433504",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>`@`embray If you have time - this ticket is waiting for review.



---

archive/issue_comments_433505.json:
```json
{
    "body": "<a id='comment:12'></a>Similar to what I wrote on #26964, I don't think this should be done in the `bootstrap` script.  I don't want this script growing too far beyond its core purpose, which is simply to bootstrap the `configure` script.\n\nThis could be done by `configure` instead, using say a `requirements.txt.in`.",
    "created_at": "2020-02-05T11:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433505",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'></a>Similar to what I wrote on #26964, I don't think this should be done in the `bootstrap` script.  I don't want this script growing too far beyond its core purpose, which is simply to bootstrap the `configure` script.

This could be done by `configure` instead, using say a `requirements.txt.in`.



---

archive/issue_comments_433506.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-02-05T11:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433506",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_433507.json:
```json
{
    "body": "<a id='comment:13'></a>See my comments on #26964.",
    "created_at": "2020-02-05T13:50:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433507",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>See my comments on #26964.



---

archive/issue_comments_433508.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-05T18:45:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433508",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_433509.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-22T23:21:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433509",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_433510.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-22T23:22:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433510",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_433511.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,9 @@\n https://pip.pypa.io/en/stable/user_guide/#requirements-files\n \n This is another step toward #21507 - Task ticket: Make sagelib a pip-installable Python source package, listed on PyPI\n+\n+Like the files generated in #26964, they are generated at `bootstrap` time so that they are available when a source distribution is packaged. They are deleted by `make bootstrap-clean`.\n+\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-02-22T23:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433511",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,9 @@
 https://pip.pypa.io/en/stable/user_guide/#requirements-files
 
 This is another step toward #21507 - Task ticket: Make sagelib a pip-installable Python source package, listed on PyPI
+
+Like the files generated in #26964, they are generated at `bootstrap` time so that they are available when a source distribution is packaged. They are deleted by `make bootstrap-clean`.
+
 
 Comment: 1
 
``````




---

archive/issue_comments_433512.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-02T01:41:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433512",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_433513.json:
```json
{
    "body": "<a id='comment:21'></a>Needs review",
    "created_at": "2020-03-06T16:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433513",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>Needs review



---

archive/issue_comments_433514.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-15T17:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433514",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_073596.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:03:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73596"
}
```



---

archive/issue_events_073597.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T19:57:31Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73597"
}
```



---

archive/issue_events_073598.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T19:57:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73598"
}
```



---

archive/issue_comments_433515.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+https://pip.pypa.io/en/stable/user_guide/#requirements-files\n+\n+This is another step toward #21507 - Task ticket: Make sagelib a pip-installable Python source package, listed on PyPI\n+\n+Like the files generated in #26964, they are generated at `bootstrap` time so that they are available when a source distribution is packaged. They are deleted by `make bootstrap-clean`.\n+\n+The files would be generated either in `build/pkgs/sagelib/src/` or in `src`.\n+\n+---\n+\n+References: \n+\n+https://pipenv-fork.readthedocs.io/en/latest/advanced.html\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-09-07T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433515",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,17 @@
+https://pip.pypa.io/en/stable/user_guide/#requirements-files
+
+This is another step toward #21507 - Task ticket: Make sagelib a pip-installable Python source package, listed on PyPI
+
+Like the files generated in #26964, they are generated at `bootstrap` time so that they are available when a source distribution is packaged. They are deleted by `make bootstrap-clean`.
+
+The files would be generated either in `build/pkgs/sagelib/src/` or in `src`.
+
+---
+
+References: 
+
+https://pipenv-fork.readthedocs.io/en/latest/advanced.html
+
 
 
 Comment: 1
``````




---

archive/issue_comments_433516.json:
```json
{
    "body": "<a id='comment:30'></a>Another approach would be to maintain an independent pipfile/requirements.txt in src/ and have automatic checks to make sure that the sage packages provide the required packages with a suitable version.\n\nReason: I feel like sage-lib should be independent of sage-distribution as much as possible.\n\nMore practical reason: pipenv works very nicely on Windows, and my hope is to use it without having to use `sage make` beforehand. So one simply clones the code, starts the virtual env with pipenv and gets an editiable install of sage for easy development. But for this the pipfile needs to be there without running the bootstrap command. (The alternative would be to rewrite the bootstrap cmd in a OS-independent way, say using powershell.)",
    "created_at": "2020-09-16T08:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433516",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:30'></a>Another approach would be to maintain an independent pipfile/requirements.txt in src/ and have automatic checks to make sure that the sage packages provide the required packages with a suitable version.

Reason: I feel like sage-lib should be independent of sage-distribution as much as possible.

More practical reason: pipenv works very nicely on Windows, and my hope is to use it without having to use `sage make` beforehand. So one simply clones the code, starts the virtual env with pipenv and gets an editiable install of sage for easy development. But for this the pipfile needs to be there without running the bootstrap command. (The alternative would be to rewrite the bootstrap cmd in a OS-independent way, say using powershell.)



---

archive/issue_comments_433517.json:
```json
{
    "body": "<a id='comment:31'></a>Replying to [comment:30 gh-tobiasdiez]:\n> Another approach would be to maintain an independent pipfile/requirements.txt in src/ and have automatic checks to make sure that the sage packages provide the required packages with a suitable version.\n> \n> Reason: I feel like sage-lib should be independent of sage-distribution as much as possible.\n\n\nI think the versions given by sage-the-distribution (`build/pkgs/*/package-version.txt`) should be considered as pinned versions, and information such as `requirements.txt` or `Pipfile`/`Pipfile.lock` should come from there in some way.\n\nThe allowed version ranges are currently not encoded anywhere. For non-Python packages have `spkg-configure.m4` (#27330), but this is obviously the wrong mechanism for Python packages.  setuptools has them in `setup.cfg [install_requires]`. \n\nI think I agree with you that this information does not necessarily have to be generated from (new) files in `build/pkgs/` but could be put directly into `src/`, such as `src/setup.cfg`. \n\n\n> More practical reason: pipenv works very nicely on Windows, and my hope is to use it without having to use `sage make` beforehand. So one simply clones the code, starts the virtual env with pipenv and gets an editiable install of sage for easy development.\n\n\nI think some steps are missing here - we don't have a native Windows build of many packages that Sage depends on. But I agree, after modularization (#29705) we should aim for getting a native Windows build of a Sage core at least.\n\n> But for this the pipfile needs to be there without running the bootstrap command. (The alternative would be to rewrite the bootstrap cmd in a OS-independent way, say using powershell.) \n\n\nNote that we have the `bootstrap -d` mechanism, which downloads a tarball of the files created by `bootstrap`.  This is how most users and developers get these files. We could look into creating a powershell version of `bootstrap -d`.",
    "created_at": "2020-09-16T17:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433517",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>Replying to [comment:30 gh-tobiasdiez]:
> Another approach would be to maintain an independent pipfile/requirements.txt in src/ and have automatic checks to make sure that the sage packages provide the required packages with a suitable version.
> 
> Reason: I feel like sage-lib should be independent of sage-distribution as much as possible.


I think the versions given by sage-the-distribution (`build/pkgs/*/package-version.txt`) should be considered as pinned versions, and information such as `requirements.txt` or `Pipfile`/`Pipfile.lock` should come from there in some way.

The allowed version ranges are currently not encoded anywhere. For non-Python packages have `spkg-configure.m4` (#27330), but this is obviously the wrong mechanism for Python packages.  setuptools has them in `setup.cfg [install_requires]`. 

I think I agree with you that this information does not necessarily have to be generated from (new) files in `build/pkgs/` but could be put directly into `src/`, such as `src/setup.cfg`. 


> More practical reason: pipenv works very nicely on Windows, and my hope is to use it without having to use `sage make` beforehand. So one simply clones the code, starts the virtual env with pipenv and gets an editiable install of sage for easy development.


I think some steps are missing here - we don't have a native Windows build of many packages that Sage depends on. But I agree, after modularization (#29705) we should aim for getting a native Windows build of a Sage core at least.

> But for this the pipfile needs to be there without running the bootstrap command. (The alternative would be to rewrite the bootstrap cmd in a OS-independent way, say using powershell.) 


Note that we have the `bootstrap -d` mechanism, which downloads a tarball of the files created by `bootstrap`.  This is how most users and developers get these files. We could look into creating a powershell version of `bootstrap -d`.



---

archive/issue_comments_433518.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+https://pip.pypa.io/en/stable/user_guide/#requirements-files\n+\n+This is another step toward #21507 - Task ticket: Make sagelib a pip-installable Python source package, listed on PyPI\n+\n+Like the files generated in #26964, they are generated at `bootstrap` time so that they are available when a source distribution is packaged. They are deleted by `make bootstrap-clean`.\n+\n+The files would be generated either in `build/pkgs/sagelib/src/` or in `src`.\n+\n+---\n+\n+References: \n+\n+- https://pipenv-fork.readthedocs.io/en/latest/advanced.html\n+- https://packaging.python.org/discussions/install-requires-vs-requirements/\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-09-16T17:24:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433518",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,17 @@
+https://pip.pypa.io/en/stable/user_guide/#requirements-files
+
+This is another step toward #21507 - Task ticket: Make sagelib a pip-installable Python source package, listed on PyPI
+
+Like the files generated in #26964, they are generated at `bootstrap` time so that they are available when a source distribution is packaged. They are deleted by `make bootstrap-clean`.
+
+The files would be generated either in `build/pkgs/sagelib/src/` or in `src`.
+
+---
+
+References: 
+
+- https://pipenv-fork.readthedocs.io/en/latest/advanced.html
+- https://packaging.python.org/discussions/install-requires-vs-requirements/
 
 
 Comment: 1
``````




---

archive/issue_comments_433519.json:
```json
{
    "body": "<a id='comment:33'></a>There is also https://pypi.org/project/pipenv-to-requirements/ to generate the requirements file from a pipfile.",
    "created_at": "2020-09-28T10:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433519",
    "user": "https://github.com/tobiasdiez"
}
```

<a id='comment:33'></a>There is also https://pypi.org/project/pipenv-to-requirements/ to generate the requirements file from a pipfile.



---

archive/issue_comments_433520.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,20 @@\n+We extend the `sage_bootstrap` package to add the commands:\n+- `sage -package get-system-packages install-requires PACKAGES...` (for #30913)\n+- `sage -package get-system-packages requirements PACKAGES...`\n+- `sage -package get-system-packages pipfile PACKAGES...`\n+(The functionality of the shell script `build/bin/sage-get-system-packages` can be merged into this command as well.)\n+\n+They generate text files in the format of `setup.cfg [options] install_requires=`, `requirements.txt`, and `Pipfile`.\n+\n+`bootstrap` can use these commands to generate these files for  `build/pkgs/sagelib/src/` or `src`.  They are deleted by `make bootstrap-clean`.\n+\n+---\n+\n+References: \n+\n+- https://pip.pypa.io/en/stable/user_guide/#requirements-files\n+- https://pipenv-fork.readthedocs.io/en/latest/advanced.html\n+- https://packaging.python.org/discussions/install-requires-vs-requirements/\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-11-19T23:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433520",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,20 @@
+We extend the `sage_bootstrap` package to add the commands:
+- `sage -package get-system-packages install-requires PACKAGES...` (for #30913)
+- `sage -package get-system-packages requirements PACKAGES...`
+- `sage -package get-system-packages pipfile PACKAGES...`
+(The functionality of the shell script `build/bin/sage-get-system-packages` can be merged into this command as well.)
+
+They generate text files in the format of `setup.cfg [options] install_requires=`, `requirements.txt`, and `Pipfile`.
+
+`bootstrap` can use these commands to generate these files for  `build/pkgs/sagelib/src/` or `src`.  They are deleted by `make bootstrap-clean`.
+
+---
+
+References: 
+
+- https://pip.pypa.io/en/stable/user_guide/#requirements-files
+- https://pipenv-fork.readthedocs.io/en/latest/advanced.html
+- https://packaging.python.org/discussions/install-requires-vs-requirements/
 
 
 Comment: 1
``````




---

archive/issue_comments_433521.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,20 @@\n+We extend the `sage_bootstrap` package to add the commands:\n+- `sage -package get-system-packages install-requires PACKAGES...` (for #30913)\n+- `sage -package get-system-packages requirements PACKAGES...`\n+- `sage -package get-system-packages pipfile PACKAGES...`\n+(The functionality of the shell script `build/bin/sage-get-system-packages` can be merged into this command as well.)\n+\n+They generate text output in the format of `setup.cfg [options] install_requires=`, `requirements.txt`, and `Pipfile`.\n+\n+`bootstrap` can use these commands to generate these files for  `build/pkgs/sagelib/src/` or `src`.  They are deleted by `make bootstrap-clean`.\n+\n+---\n+\n+References: \n+\n+- https://pip.pypa.io/en/stable/user_guide/#requirements-files\n+- https://pipenv-fork.readthedocs.io/en/latest/advanced.html\n+- https://packaging.python.org/discussions/install-requires-vs-requirements/\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-11-19T23:14:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433521",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,20 @@
+We extend the `sage_bootstrap` package to add the commands:
+- `sage -package get-system-packages install-requires PACKAGES...` (for #30913)
+- `sage -package get-system-packages requirements PACKAGES...`
+- `sage -package get-system-packages pipfile PACKAGES...`
+(The functionality of the shell script `build/bin/sage-get-system-packages` can be merged into this command as well.)
+
+They generate text output in the format of `setup.cfg [options] install_requires=`, `requirements.txt`, and `Pipfile`.
+
+`bootstrap` can use these commands to generate these files for  `build/pkgs/sagelib/src/` or `src`.  They are deleted by `make bootstrap-clean`.
+
+---
+
+References: 
+
+- https://pip.pypa.io/en/stable/user_guide/#requirements-files
+- https://pipenv-fork.readthedocs.io/en/latest/advanced.html
+- https://packaging.python.org/discussions/install-requires-vs-requirements/
 
 
 Comment: 1
``````




---

archive/issue_comments_433522.json:
```json
{
    "body": "<a id='comment:37'></a>Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433522",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_comments_433523.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd111\".",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433523",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "sd111".



---

archive/issue_comments_433524.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,20 @@\n+We extend the `sage_bootstrap` package to add the commands:\n+- `sage -package list --output=install-requires PACKAGES...` (for #30913)\n+- `sage -package list --output=requirements PACKAGES...`\n+- `sage -package list --output=pipfile PACKAGES...`\n+- `sage -package list --output=debian PACKAGE...` etc. (taking over the functionality of the shell script `build/bin/sage-get-system-packages`.)\n+\n+They generate text output in the format of `setup.cfg [options] install_requires=`, `requirements.txt`, and `Pipfile`; or a list of system packages \n+\n+`bootstrap` can use these commands to generate these files for  `build/pkgs/sagelib/src/` or `src`.  They are deleted by `make bootstrap-clean`.\n+\n+---\n+\n+References: \n+\n+- https://pip.pypa.io/en/stable/user_guide/#requirements-files\n+- https://pipenv-fork.readthedocs.io/en/latest/advanced.html\n+- https://packaging.python.org/discussions/install-requires-vs-requirements/\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-12-12T06:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433524",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,20 @@
+We extend the `sage_bootstrap` package to add the commands:
+- `sage -package list --output=install-requires PACKAGES...` (for #30913)
+- `sage -package list --output=requirements PACKAGES...`
+- `sage -package list --output=pipfile PACKAGES...`
+- `sage -package list --output=debian PACKAGE...` etc. (taking over the functionality of the shell script `build/bin/sage-get-system-packages`.)
+
+They generate text output in the format of `setup.cfg [options] install_requires=`, `requirements.txt`, and `Pipfile`; or a list of system packages 
+
+`bootstrap` can use these commands to generate these files for  `build/pkgs/sagelib/src/` or `src`.  They are deleted by `make bootstrap-clean`.
+
+---
+
+References: 
+
+- https://pip.pypa.io/en/stable/user_guide/#requirements-files
+- https://pipenv-fork.readthedocs.io/en/latest/advanced.html
+- https://packaging.python.org/discussions/install-requires-vs-requirements/
 
 
 Comment: 1
``````




---

archive/issue_comments_433525.json:
```json
{
    "body": "<a id='comment:39'></a>Rewriting tools used in the bootstrap phase in Python would also be useful for developing on Windows",
    "created_at": "2020-12-12T21:05:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433525",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>Rewriting tools used in the bootstrap phase in Python would also be useful for developing on Windows



---

archive/issue_comments_433526.json:
```json
{
    "body": "<a id='comment:40'></a>hmm, what is so problematic about Windows here? Even if one talks about native, non-cygwin, it is still perfectly possible to run bash etc.",
    "created_at": "2020-12-12T22:51:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433526",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:40'></a>hmm, what is so problematic about Windows here? Even if one talks about native, non-cygwin, it is still perfectly possible to run bash etc.



---

archive/issue_comments_433527.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,21 @@\n+We extend the `sage_bootstrap` package to add the commands:\n+- `sage -package list --output=install-requires PACKAGES...` (for #30913)\n+- `sage -package list --output=requirements PACKAGES...`\n+- `sage -package list --output=pipfile PACKAGES...`\n+- `sage -package list --output=debian PACKAGE...` etc. (taking over the functionality of the shell script `build/bin/sage-get-system-packages`.)\n \n+They generate text output in the format of `setup.cfg [options] install_requires=`, `requirements.txt`, and `Pipfile`; or a list of system packages \n+\n+`bootstrap` can use these commands to generate these files for  `build/pkgs/sagelib/src/` or `src`.  They are deleted by `make bootstrap-clean`.\n+\n+---\n+\n+References: \n+\n+- https://pip.pypa.io/en/stable/user_guide/#requirements-files\n+- https://pipenv-fork.readthedocs.io/en/latest/advanced.html\n+- https://packaging.python.org/discussions/install-requires-vs-requirements/\n+- https://pypi.org/project/install-requires/\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-12-28T19:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433527",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,21 @@
+We extend the `sage_bootstrap` package to add the commands:
+- `sage -package list --output=install-requires PACKAGES...` (for #30913)
+- `sage -package list --output=requirements PACKAGES...`
+- `sage -package list --output=pipfile PACKAGES...`
+- `sage -package list --output=debian PACKAGE...` etc. (taking over the functionality of the shell script `build/bin/sage-get-system-packages`.)
 
+They generate text output in the format of `setup.cfg [options] install_requires=`, `requirements.txt`, and `Pipfile`; or a list of system packages 
+
+`bootstrap` can use these commands to generate these files for  `build/pkgs/sagelib/src/` or `src`.  They are deleted by `make bootstrap-clean`.
+
+---
+
+References: 
+
+- https://pip.pypa.io/en/stable/user_guide/#requirements-files
+- https://pipenv-fork.readthedocs.io/en/latest/advanced.html
+- https://packaging.python.org/discussions/install-requires-vs-requirements/
+- https://pypi.org/project/install-requires/
 
 Comment: 1
 
``````




---

archive/issue_comments_433528.json:
```json
{
    "body": "<a id='comment:42'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433528",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_073599.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73599"
}
```



---

archive/issue_events_073600.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73600"
}
```



---

archive/issue_events_073601.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73601"
}
```



---

archive/issue_events_073602.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73602"
}
```



---

archive/issue_comments_433529.json:
```json
{
    "body": "<a id='comment:44'></a>Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29041#issuecomment-433529",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'></a>Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_073603.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73603"
}
```



---

archive/issue_events_073604.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73604"
}
```



---

archive/issue_events_073605.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73605"
}
```



---

archive/issue_events_073606.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73606"
}
```



---

archive/issue_events_073607.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73607"
}
```



---

archive/issue_events_073608.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29041",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29041#event-73608"
}
```
