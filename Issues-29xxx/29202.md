# Issue 29202: character art: avoid repeated additions

archive/issues_028965.json:
```json
{
    "body": "This ticket rewrites some constructions of ASCII and unicode art to avoid repeatedly adding character art elements, but to concatenate multiple character art elements in one go instead which is more efficient.\n\nIn `tensor_algebra.py` and `free_module.py`, this also removes some breakpoints that seemed to be unintended. This might stem from misunderstanding that adding two character art elements always creates a breakpoint in between. (Arguably, this is a bad default.)\n\n```\nsage: R = NonCommutativeSymmetricFunctions(QQ).R()\nsage: Partitions.options(diagram_str=\"#\", convention=\"french\")\nsage: a = ascii_art(tensor((R[1,2], R[3,1,2]))); a\nR   # R\n #     ###\n ##      #\n         ##\nsage: a._breakpoints\n[0, 3, 6]       # before (in particular the 0 is undesirable, the 3 unnecessary)\n[6]             # after\n```\n\nMoreover, this ticket fixes the default implementation of `_unicode_art_` in `SageObject` (which is based on `_ascii_art_`) to preserve the ascii art element's breakpoints and baseline.\n\n\nKeywords: ascii_art, unicode_art\n\nReviewer: Vincent Delecroix\n\nAuthor: Markus Wageringel\n\nBranch: 0c7b677ed98945baee1b1ad191eb8bb3264e4605\n\nCommit: 0c7b677ed98945baee1b1ad191eb8bb3264e4605\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29202\n\n",
    "closed_at": "2020-02-21T22:17:21Z",
    "created_at": "2020-02-15T12:55:17Z",
    "labels": [
        "component: refactoring",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "character art: avoid repeated additions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29202",
    "user": "https://github.com/mwageringel"
}
```
This ticket rewrites some constructions of ASCII and unicode art to avoid repeatedly adding character art elements, but to concatenate multiple character art elements in one go instead which is more efficient.

In `tensor_algebra.py` and `free_module.py`, this also removes some breakpoints that seemed to be unintended. This might stem from misunderstanding that adding two character art elements always creates a breakpoint in between. (Arguably, this is a bad default.)

```
sage: R = NonCommutativeSymmetricFunctions(QQ).R()
sage: Partitions.options(diagram_str="#", convention="french")
sage: a = ascii_art(tensor((R[1,2], R[3,1,2]))); a
R   # R
 #     ###
 ##      #
         ##
sage: a._breakpoints
[0, 3, 6]       # before (in particular the 0 is undesirable, the 3 unnecessary)
[6]             # after
```

Moreover, this ticket fixes the default implementation of `_unicode_art_` in `SageObject` (which is based on `_ascii_art_`) to preserve the ascii art element's breakpoints and baseline.


Keywords: ascii_art, unicode_art

Reviewer: Vincent Delecroix

Author: Markus Wageringel

Branch: 0c7b677ed98945baee1b1ad191eb8bb3264e4605

Commit: 0c7b677ed98945baee1b1ad191eb8bb3264e4605

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29202





---

archive/issue_comments_409574.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-02-15T13:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29202",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29202#issuecomment-409574",
    "user": "https://github.com/mwageringel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_409575.json:
```json
{
    "body": "Changing keywords from \"\" to \"ascii_art, unicode_art\".",
    "created_at": "2020-02-15T13:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29202",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29202#issuecomment-409575",
    "user": "https://github.com/mwageringel"
}
```

Changing keywords from "" to "ascii_art, unicode_art".



---

archive/issue_comments_409576.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2020-02-15T13:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29202",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29202#issuecomment-409576",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_409577.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-02-16T14:53:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29202",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29202#issuecomment-409577",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_074171.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-21T22:17:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29202",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29202#event-74171"
}
```



---

archive/issue_comments_409578.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-02-21T22:17:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29202",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29202#issuecomment-409578",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
