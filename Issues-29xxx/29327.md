# Issue 29327: Meta-ticket: docker-conda-forge-standard, local-ubuntu-conda-forge-standard: Fix build errors with python3, giac, ecl, m4rie, libgd, ...

archive/issues_029090.json:
```json
{
    "assignees": [],
    "body": "`docker-conda-forge-standard` (https://github.com/mkoeppe/sage/runs/506355319):\n\n- `python3`  \n    problem with `_crypt` as discussed in #29102, `_sqlite`, `zlib`\n- `giac`:\n\n     ```\n     /opt/conda/x86_64-conda_cos6-linux-gnu/include/c++/7.3.0/tuple:1271:29: error: incomplete type 'std::tuple_size<giac::gen (*)(const giac::gen&)>' used in nested name specifier\n          inline constexpr size_t tuple_size_v = tuple_size<_Tp>::value;\n                                  ^~~~~~~~~~~~\n     maple.cc: In function 'giac::gen giac::_evalc(const giac::gen&, const giac::context*)':\n     maple.cc:948:24: error: invalid use of 'void'\n            vecteur lp=*apply(l,gen_feuille)._VECTptr;\n                        ~~~~~^~~~~~~~~~~~~~~\n     maple.cc:948:24: error: invalid use of 'void'\n     maple.cc: In function 'giac::gen giac::crsolve(const giac::gen&, const giac::gen&, const giac::gen&, giac::vecteur&, const giac::context*)':\n     maple.cc:2765:19: error: invalid use of 'void'\n          aplatir(*apply(initcond0,equal2diff)._VECTptr,initcond);\n                   ~~~~~^~~~~~~~~~~~~~~~~~~~~~\n     maple.cc:2765:19: error: invalid use of 'void'\n     make[4]: *** [Makefile:790: maple.lo] Error 1\n    ```\n\nAlso `libatomic_ops` testsuite. (see #28745)\n\n`conda-forge-minimal` (https://github.com/mkoeppe/sage/runs/506355315):\n\n- `python3`\n    (see above)\n- `pari`\n\n   ```\n   ###\n   ### Readline library does not seem to work. Maybe install libncurses?\n   ###\n   ### Building without GNU readline support\n   ...\n   /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc  -o gp-dyn -L\"/sage/local/var/tmp/sage/build/pari-2.11.2/src/Olinux-x86_64\" -O3 -Wall -fno-strict-aliasing -fomit-frame-pointer  -g -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /opt/conda/include -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /opt/conda/include -Wl,--export-dynamic -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/lib -Wl,-rpath-link,/opt/conda/lib -L/opt/conda/lib emacs.o gp.o gp_rl.o texmacs.o whatnow.o plotnone.o -Wl,-rpath,\"/sage/local/var/tmp/sage/build/pari-2.11.2/src\"/Olinux-x86_64:\"/sage/local/lib\":/sage/local/lib  -lpari  -lm\n   /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: warning: libgmp.so.23, needed by /sage/local/var/tmp/sage/build/pari-2.11.2/src/Olinux-x86_64/libpari.so, not found (try using -rpath or -rpath-link)\n   /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /sage/local/var/tmp/sage/build/pari-2.11.2/src/Olinux-x86_64/libpari.so: undefined reference to `__gmpn_divrem_1'\n   ```\n\n\n- `ecl` \n\n    ```\n    ;;; Note:\n    ;;;   Invoking external command:\n    ;;;   /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc -o bin/ecl -L/sage/local/var/tmp/sage/build/ecl-16.1.2.p5/src/build/ /sage/local/var/tmp/sage/build/ecl-16.1.2.p5/src/build/eclinitZhjSpA.o -L./ -Wl,--rpath,/sage/local/lib/ -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/lib -Wl,-rpath-link,/opt/conda/lib -L/opt/conda/lib libecl.so -lgc -ldl -lm /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: warning: libgmp.so.23, needed by libecl.so, not found (try using -rpath or -rpath-link)\n    /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: libecl.so: undefined reference to `__gmpz_get_si'\n    /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: libecl.so: undefined reference to `__gmpz_scan1'\n   ```\n\n- `m4rie`\n\n   ```\n   [m4rie-20200115]   libtool: link: /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc -I/include -mmmx -msse -msse2 -msse3 -I.. -O2 -fPIC -Wall -pedantic -g -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /opt/conda/include -I/sage/local/include -o test_multiplication test_multiplication.o  -L/lib ../.libs/libm4rie.so -lm4ri -lm -Wl,-rpath -Wl,/sage/local/var/tmp/sage/build/m4rie-20200115/src/.libs -Wl,-rpath -Wl,/sage/local/lib\n   [m4rie-20200115]   /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: cannot find -lm4ri\n   ```\n- `libgd`\n\n    ```\n    libtool: link: /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc -g -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /opt/conda/include -fvisibility=hidden -Wl,-rpath -Wl,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z -Wl,relro -Wl,-z -Wl,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath -Wl,/opt/conda/lib -Wl,-rpath-link -Wl,/opt/conda/lib -o .libs/gdcmpgif gdcmpgif.o  -L/sage/local/lib -L/opt/conda/lib ./.libs/libgd.so -lz -lm -lpng16 -lfreetype -Wl,-rpath -Wl,/sage/local/lib\n    /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: warning: libbz2.so.1, needed by /sage/local/lib/libfreetype.so, not found (try using -rpath or -rpath-link)\n    /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /sage/local/lib/libfreetype.so: undefined reference to `BZ2_bzDecompressInit'\n   ```\n\nTo reproduce:\n\n```\nEXTRA_DOCKER_BUILD_ARGS=\"--build-arg TARGETS=\\\"build ptest\\\" --build-arg USE_MAKEFLAGS=\\\"-k V=0\\\"\" tox -e docker-conda-forge-standard\n```\n\nDepends on #29574\nDepends on #29596\nDepends on #29597\nDepends on #29598\nDepends on #29601\nDepends on #26287\nDepends on #29606\nDepends on #29612\nDepends on #29618\n\nCC:  @isuruf @dimpase @saraedum\n\nComponent: **porting**\n\nReviewer: **Matthias Koeppe, Samuel Leli\u00e8vre**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29327_\n\n",
    "closed_at": "2020-12-27T19:47:04Z",
    "created_at": "2020-03-13T20:09:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20porting",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Meta-ticket: docker-conda-forge-standard, local-ubuntu-conda-forge-standard: Fix build errors with python3, giac, ecl, m4rie, libgd, ...",
    "type": "issue",
    "updated_at": "2020-12-27T19:47:04Z",
    "url": "https://github.com/sagemath/sage/issues/29327",
    "user": "https://github.com/mkoeppe"
}
```
`docker-conda-forge-standard` (https://github.com/mkoeppe/sage/runs/506355319):

- `python3`  
    problem with `_crypt` as discussed in #29102, `_sqlite`, `zlib`
- `giac`:

     ```
     /opt/conda/x86_64-conda_cos6-linux-gnu/include/c++/7.3.0/tuple:1271:29: error: incomplete type 'std::tuple_size<giac::gen (*)(const giac::gen&)>' used in nested name specifier
          inline constexpr size_t tuple_size_v = tuple_size<_Tp>::value;
                                  ^~~~~~~~~~~~
     maple.cc: In function 'giac::gen giac::_evalc(const giac::gen&, const giac::context*)':
     maple.cc:948:24: error: invalid use of 'void'
            vecteur lp=*apply(l,gen_feuille)._VECTptr;
                        ~~~~~^~~~~~~~~~~~~~~
     maple.cc:948:24: error: invalid use of 'void'
     maple.cc: In function 'giac::gen giac::crsolve(const giac::gen&, const giac::gen&, const giac::gen&, giac::vecteur&, const giac::context*)':
     maple.cc:2765:19: error: invalid use of 'void'
          aplatir(*apply(initcond0,equal2diff)._VECTptr,initcond);
                   ~~~~~^~~~~~~~~~~~~~~~~~~~~~
     maple.cc:2765:19: error: invalid use of 'void'
     make[4]: *** [Makefile:790: maple.lo] Error 1
    ```

Also `libatomic_ops` testsuite. (see #28745)

`conda-forge-minimal` (https://github.com/mkoeppe/sage/runs/506355315):

- `python3`
    (see above)
- `pari`

   ```
   ###
   ### Readline library does not seem to work. Maybe install libncurses?
   ###
   ### Building without GNU readline support
   ...
   /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc  -o gp-dyn -L"/sage/local/var/tmp/sage/build/pari-2.11.2/src/Olinux-x86_64" -O3 -Wall -fno-strict-aliasing -fomit-frame-pointer  -g -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /opt/conda/include -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /opt/conda/include -Wl,--export-dynamic -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/lib -Wl,-rpath-link,/opt/conda/lib -L/opt/conda/lib emacs.o gp.o gp_rl.o texmacs.o whatnow.o plotnone.o -Wl,-rpath,"/sage/local/var/tmp/sage/build/pari-2.11.2/src"/Olinux-x86_64:"/sage/local/lib":/sage/local/lib  -lpari  -lm
   /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: warning: libgmp.so.23, needed by /sage/local/var/tmp/sage/build/pari-2.11.2/src/Olinux-x86_64/libpari.so, not found (try using -rpath or -rpath-link)
   /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /sage/local/var/tmp/sage/build/pari-2.11.2/src/Olinux-x86_64/libpari.so: undefined reference to `__gmpn_divrem_1'
   ```


- `ecl` 

    ```
    ;;; Note:
    ;;;   Invoking external command:
    ;;;   /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc -o bin/ecl -L/sage/local/var/tmp/sage/build/ecl-16.1.2.p5/src/build/ /sage/local/var/tmp/sage/build/ecl-16.1.2.p5/src/build/eclinitZhjSpA.o -L./ -Wl,--rpath,/sage/local/lib/ -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/lib -Wl,-rpath-link,/opt/conda/lib -L/opt/conda/lib libecl.so -lgc -ldl -lm /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: warning: libgmp.so.23, needed by libecl.so, not found (try using -rpath or -rpath-link)
    /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: libecl.so: undefined reference to `__gmpz_get_si'
    /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: libecl.so: undefined reference to `__gmpz_scan1'
   ```

- `m4rie`

   ```
   [m4rie-20200115]   libtool: link: /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc -I/include -mmmx -msse -msse2 -msse3 -I.. -O2 -fPIC -Wall -pedantic -g -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /opt/conda/include -I/sage/local/include -o test_multiplication test_multiplication.o  -L/lib ../.libs/libm4rie.so -lm4ri -lm -Wl,-rpath -Wl,/sage/local/var/tmp/sage/build/m4rie-20200115/src/.libs -Wl,-rpath -Wl,/sage/local/lib
   [m4rie-20200115]   /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: cannot find -lm4ri
   ```
- `libgd`

    ```
    libtool: link: /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc -g -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /opt/conda/include -fvisibility=hidden -Wl,-rpath -Wl,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z -Wl,relro -Wl,-z -Wl,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath -Wl,/opt/conda/lib -Wl,-rpath-link -Wl,/opt/conda/lib -o .libs/gdcmpgif gdcmpgif.o  -L/sage/local/lib -L/opt/conda/lib ./.libs/libgd.so -lz -lm -lpng16 -lfreetype -Wl,-rpath -Wl,/sage/local/lib
    /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: warning: libbz2.so.1, needed by /sage/local/lib/libfreetype.so, not found (try using -rpath or -rpath-link)
    /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /sage/local/lib/libfreetype.so: undefined reference to `BZ2_bzDecompressInit'
   ```

To reproduce:

```
EXTRA_DOCKER_BUILD_ARGS="--build-arg TARGETS=\"build ptest\" --build-arg USE_MAKEFLAGS=\"-k V=0\"" tox -e docker-conda-forge-standard
```

Depends on #29574
Depends on #29596
Depends on #29597
Depends on #29598
Depends on #29601
Depends on #26287
Depends on #29606
Depends on #29612
Depends on #29618

CC:  @isuruf @dimpase @saraedum

Component: **porting**

Reviewer: **Matthias Koeppe, Samuel Lelièvre**

_Issue created by migration from https://trac.sagemath.org/ticket/29327_





---

archive/issue_events_400197.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-13T20:09:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400197"
}
```



---

archive/issue_events_400198.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-13T20:09:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "0000b0",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400198"
}
```



---

archive/issue_events_400199.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-13T20:09:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400199"
}
```



---

archive/issue_events_400200.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-13T20:09:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400200"
}
```



---

archive/issue_comments_459981.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -62,3 +62,9 @@\n     /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: warning: libbz2.so.1, needed by /sage/local/lib/libfreetype.so, not found (try using -rpath or -rpath-link)\n     /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /sage/local/lib/libfreetype.so: undefined reference to `BZ2_bzDecompressInit'\n    ```\n+\n+To reproduce:\n+\n+```\n+EXTRA_DOCKER_BUILD_ARGS=\"--build-arg TARGETS=\\\"build ptest\\\" --build-arg USE_MAKEFLAGS=\\\"-k V=0\\\"\" tox -e docker-conda-forge-standard\n+```\n``````\n",
    "created_at": "2020-03-22T18:04:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459981",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -62,3 +62,9 @@
     /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: warning: libbz2.so.1, needed by /sage/local/lib/libfreetype.so, not found (try using -rpath or -rpath-link)
     /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /sage/local/lib/libfreetype.so: undefined reference to `BZ2_bzDecompressInit'
    ```
+
+To reproduce:
+
+```
+EXTRA_DOCKER_BUILD_ARGS="--build-arg TARGETS=\"build ptest\" --build-arg USE_MAKEFLAGS=\"-k V=0\"" tox -e docker-conda-forge-standard
+```
``````




---

archive/issue_comments_459982.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -20,6 +20,8 @@\n      maple.cc:2765:19: error: invalid use of 'void'\n      make[4]: *** [Makefile:790: maple.lo] Error 1\n     ```\n+\n+Also `libatomic_ops` testsuite. (see #28745)\n \n `conda-forge-minimal` (https://github.com/mkoeppe/sage/runs/506355315):\n \n``````\n",
    "created_at": "2020-03-22T18:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459982",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -20,6 +20,8 @@
      maple.cc:2765:19: error: invalid use of 'void'
      make[4]: *** [Makefile:790: maple.lo] Error 1
     ```
+
+Also `libatomic_ops` testsuite. (see #28745)
 
 `conda-forge-minimal` (https://github.com/mkoeppe/sage/runs/506355315):
 
``````




---

archive/issue_comments_459983.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-`conda-forge-standard` (https://github.com/mkoeppe/sage/runs/506355319):\n+`docker-conda-forge-standard` (https://github.com/mkoeppe/sage/runs/506355319):\n \n - `python3`  \n     problem with `_crypt` as discussed in #29102, `_sqlite`, `zlib`\n``````\n",
    "created_at": "2020-03-29T14:41:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459983",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-`conda-forge-standard` (https://github.com/mkoeppe/sage/runs/506355319):
+`docker-conda-forge-standard` (https://github.com/mkoeppe/sage/runs/506355319):
 
 - `python3`  
     problem with `_crypt` as discussed in #29102, `_sqlite`, `zlib`
``````




---

archive/issue_events_400201.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-29T14:41:20Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "title_is": "Fix build errors with python3, giac, ecl, m4rie, libgd on docker-conda-forge-standard",
    "title_was": "Fix build errors with python3, giac, ecl, m4rie, libgd on conda-forge",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400201"
}
```



---

archive/issue_events_400202.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T06:21:48Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "title_is": "Fix build errors with python3, giac, ecl, m4rie, libgd on docker-conda-forge-standard and local-ubuntu-conda-forge-standard",
    "title_was": "Fix build errors with python3, giac, ecl, m4rie, libgd on docker-conda-forge-standard",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400202"
}
```



---

archive/issue_comments_459984.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nconda builds on macos work, but on linux all of these errors show up.",
    "created_at": "2020-04-24T02:08:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459984",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

conda builds on macos work, but on linux all of these errors show up.



---

archive/issue_events_400203.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-24T02:08:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400203"
}
```



---

archive/issue_events_400204.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-24T02:08:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400204"
}
```



---

archive/issue_comments_459985.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIs this on docker only, or on \"real\" conda the same pops up too?",
    "created_at": "2020-04-24T10:35:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459985",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:8" align="right">comment:8</div>

Is this on docker only, or on "real" conda the same pops up too?



---

archive/issue_comments_459986.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI do not have any \"real\" Linux installation. All my tests on Linux are via Docker and/or on [GitHub](../wiki/GitHub) Actions.\n\nInstall on conda on macOS - works completely, with the last remaining bits being #29574 and #29572.\n\nThe present ticket is about conda on Linux. I have two types of tests here.\n\n- `local-ubuntu-conda-forge` runs on an `ubuntu-latest` machine on [GitHub](../wiki/GitHub) Actions. The conda-forge installation is done by `tox -e local-conda-forge`, which uses Miniforge. You can run this tox command on any Linux machine to test it.\n\n- `docker-conda-forge` uses the `continuumio/miniconda3` image and switches to the conda-forge channel.\n\nOn both configurations I get similar installation failures, as in the ticket description.\n\nIt would be really nice to be able to say that one can install the Sage distribution even if conda is active... but this is not true at the moment because of these failures.",
    "created_at": "2020-04-27T01:38:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459986",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

I do not have any "real" Linux installation. All my tests on Linux are via Docker and/or on [GitHub](../wiki/GitHub) Actions.

Install on conda on macOS - works completely, with the last remaining bits being #29574 and #29572.

The present ticket is about conda on Linux. I have two types of tests here.

- `local-ubuntu-conda-forge` runs on an `ubuntu-latest` machine on [GitHub](../wiki/GitHub) Actions. The conda-forge installation is done by `tox -e local-conda-forge`, which uses Miniforge. You can run this tox command on any Linux machine to test it.

- `docker-conda-forge` uses the `continuumio/miniconda3` image and switches to the conda-forge channel.

On both configurations I get similar installation failures, as in the ticket description.

It would be really nice to be able to say that one can install the Sage distribution even if conda is active... but this is not true at the moment because of these failures.



---

archive/issue_comments_459987.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nMost recent runs: \n- `conda-forge-ubuntu-minimal` https://github.com/mkoeppe/sage/runs/618647294\n   - `m4rie`, `pari`, `python3`, `ecl` fail\n- `conda-forge-ubuntu-standard` https://github.com/mkoeppe/sage/runs/618647333: \n   - `openblas` and `singular` fail\n- `conda-forge-ubuntu-standard-python2` https://github.com/mkoeppe/sage/runs/618647336\n   - `python2` and `python3` fail",
    "created_at": "2020-04-27T01:42:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459987",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Most recent runs: 
- `conda-forge-ubuntu-minimal` https://github.com/mkoeppe/sage/runs/618647294
   - `m4rie`, `pari`, `python3`, `ecl` fail
- `conda-forge-ubuntu-standard` https://github.com/mkoeppe/sage/runs/618647333: 
   - `openblas` and `singular` fail
- `conda-forge-ubuntu-standard-python2` https://github.com/mkoeppe/sage/runs/618647336
   - `python2` and `python3` fail



---

archive/issue_comments_459988.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nhttps://trac.sagemath.org/ticket/29596 should fix the pari, ecl, libgd issue.",
    "created_at": "2020-04-27T03:24:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459988",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:11" align="right">comment:11</div>

https://trac.sagemath.org/ticket/29596 should fix the pari, ecl, libgd issue.



---

archive/issue_comments_459989.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nhttps://trac.sagemath.org/ticket/29597 should fix m4rie",
    "created_at": "2020-04-27T03:51:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459989",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:12" align="right">comment:12</div>

https://trac.sagemath.org/ticket/29597 should fix m4rie



---

archive/issue_comments_459990.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@mkoeppe](#comment%3A10):\n\n> - `conda-forge-ubuntu-standard` https://github.com/mkoeppe/sage/runs/618647333: \n>    - `openblas` and `singular` fail\n\nDo you have the config.log? It fails to find openblas from conda-forge.",
    "created_at": "2020-04-27T04:04:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459990",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@mkoeppe](#comment%3A10):

> - `conda-forge-ubuntu-standard` https://github.com/mkoeppe/sage/runs/618647333: 
>    - `openblas` and `singular` fail

Do you have the config.log? It fails to find openblas from conda-forge.



---

archive/issue_comments_459991.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@isuruf](#comment%3A13):\n> Replying to [@mkoeppe](#comment%3A10):\n> \n> > - `conda-forge-ubuntu-standard` https://github.com/mkoeppe/sage/runs/618647333: \n> >    - `openblas` and `singular` fail\n\n> \n> Do you have the config.log? It fails to find openblas from conda-forge.\n\nWhole log archive is at https://github.com/mkoeppe/sage/suites/628495286/artifacts/5093478",
    "created_at": "2020-04-27T04:24:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459991",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@isuruf](#comment%3A13):
> Replying to [@mkoeppe](#comment%3A10):
> 
> > - `conda-forge-ubuntu-standard` https://github.com/mkoeppe/sage/runs/618647333: 
> >    - `openblas` and `singular` fail

> 
> Do you have the config.log? It fails to find openblas from conda-forge.

Whole log archive is at https://github.com/mkoeppe/sage/suites/628495286/artifacts/5093478



---

archive/issue_comments_459992.json:
```json
{
    "body": "local-conda-forge-ubuntu-standard config.log",
    "created_at": "2020-04-27T04:27:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459992",
    "user": "https://github.com/mkoeppe"
}
```

local-conda-forge-ubuntu-standard config.log



---

archive/issue_comments_459993.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAttachment: **[config.log](https://github.com/sagemath/sage/files/ticket29327/config.log)**\n\n\n```\n## --------------------------------------------------------- ##\n## Checking whether SageMath should install SPKG openblas... ##\n## --------------------------------------------------------- ##\nconfigure:11652: checking BLAS library\nconfigure:11671: result: openblas\nconfigure:11720: checking whether any of gfortran is installed as or will be installed as SPKG\nconfigure:11729: result: no\nconfigure:11740: checking for openblas >= 0.2.20\nconfigure:11747: $PKG_CONFIG --exists --print-errors \"openblas >= 0.2.20\"\nconfigure:11750: $? = 0\nconfigure:11764: $PKG_CONFIG --exists --print-errors \"openblas >= 0.2.20\"\nconfigure:11767: $? = 0\nconfigure:12745: result: yes\nconfigure:12755: $PKG_CONFIG --exists --print-errors \"openblas\"\nconfigure:12758: $? = 0\nconfigure:12779: checking for cblas_dgemm\nconfigure:12779: /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/x86_64-conda_cos6-linux-gnu-c++ -std=gnu++11 -o conftest -fvisibility-inlines-hidden -std=c++17 -fmessage-length=0 -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib -Wl,-rpath-link,/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib -L/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib conftest.cpp -L/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib -lopenblas -larb -lflint -lmpfr -lgmp -lm  -lntl >&5\n/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib/libopenblas.a(memory.o): in function `openblas_fork_handler':\nmemory.c:(.text.openblas_fork_handler+0x11): undefined reference to `pthread_atfork'\n/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib/libopenblas.a(blas_server.o): in function `blas_thread_init':\nblas_server.c:(.text.blas_thread_init+0x12f): undefined reference to `pthread_create'\n/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib/libopenblas.a(blas_server.o): in function `blas_thread_shutdown_':\nblas_server.c:(.text.blas_thread_shutdown_+0xc9): undefined reference to `pthread_join'\ncollect2: error: ld returned 1 exit status\nconfigure:12779: $? = 1\n```",
    "created_at": "2020-04-27T04:28:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459993",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Attachment: **[config.log](https://github.com/sagemath/sage/files/ticket29327/config.log)**


```
## --------------------------------------------------------- ##
## Checking whether SageMath should install SPKG openblas... ##
## --------------------------------------------------------- ##
configure:11652: checking BLAS library
configure:11671: result: openblas
configure:11720: checking whether any of gfortran is installed as or will be installed as SPKG
configure:11729: result: no
configure:11740: checking for openblas >= 0.2.20
configure:11747: $PKG_CONFIG --exists --print-errors "openblas >= 0.2.20"
configure:11750: $? = 0
configure:11764: $PKG_CONFIG --exists --print-errors "openblas >= 0.2.20"
configure:11767: $? = 0
configure:12745: result: yes
configure:12755: $PKG_CONFIG --exists --print-errors "openblas"
configure:12758: $? = 0
configure:12779: checking for cblas_dgemm
configure:12779: /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/x86_64-conda_cos6-linux-gnu-c++ -std=gnu++11 -o conftest -fvisibility-inlines-hidden -std=c++17 -fmessage-length=0 -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/include -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib -Wl,-rpath-link,/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib -L/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib conftest.cpp -L/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib -lopenblas -larb -lflint -lmpfr -lgmp -lm  -lntl >&5
/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib/libopenblas.a(memory.o): in function `openblas_fork_handler':
memory.c:(.text.openblas_fork_handler+0x11): undefined reference to `pthread_atfork'
/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib/libopenblas.a(blas_server.o): in function `blas_thread_init':
blas_server.c:(.text.blas_thread_init+0x12f): undefined reference to `pthread_create'
/home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: /home/runner/work/sage/sage/.tox/local-conda-forge-ubuntu-standard/conda/lib/libopenblas.a(blas_server.o): in function `blas_thread_shutdown_':
blas_server.c:(.text.blas_thread_shutdown_+0xc9): undefined reference to `pthread_join'
collect2: error: ld returned 1 exit status
configure:12779: $? = 1
```



---

archive/issue_comments_459994.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThanks. See #29598",
    "created_at": "2020-04-27T04:40:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459994",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:16" align="right">comment:16</div>

Thanks. See #29598



---

archive/issue_comments_459995.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThanks very much. Running tests with these tickets merged at https://github.com/mkoeppe/sage/actions/runs/88744943",
    "created_at": "2020-04-27T04:50:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459995",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Thanks very much. Running tests with these tickets merged at https://github.com/mkoeppe/sage/actions/runs/88744943



---

archive/issue_comments_459996.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nSingular issue is #29601",
    "created_at": "2020-04-27T06:33:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459996",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:18" align="right">comment:18</div>

Singular issue is #29601



---

archive/issue_comments_459997.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nlibatomic_ops issue is #29602",
    "created_at": "2020-04-27T06:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459997",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:19" align="right">comment:19</div>

libatomic_ops issue is #29602



---

archive/issue_comments_459998.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@isuruf](#comment%3A19):\n> libatomic_ops issue is #29602\n\nLet's use #26287 (Upgrade to gc 8.0.4 and libatomic 7.6.10)",
    "created_at": "2020-04-27T17:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459998",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@isuruf](#comment%3A19):
> libatomic_ops issue is #29602

Let's use #26287 (Upgrade to gc 8.0.4 and libatomic 7.6.10)



---

archive/issue_comments_459999.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nNew tests run at https://github.com/mkoeppe/sage/actions/runs/89365078",
    "created_at": "2020-04-27T18:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-459999",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

New tests run at https://github.com/mkoeppe/sage/actions/runs/89365078



---

archive/issue_comments_460000.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nmaxima (via ecl) has an issue with the linker flags too:\n\n```\n;      - Loading binary file \"binary-ecl/init-cl.fas\" \n;  - Providing system maxima\n/opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: unrecognized option '--sort-common -Wl'\n/opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: use the --help option for usage information\ncollect2: error: ld returned 1 exit status\nAn error occurred during initialization:\nError code 1 when executing\n(RUN-PROGRAM \"/opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc\" (\"-o\"\n                                                              \"binary-ecl/maxima.fas\"\n                                                              \"-L/sage/local/lib/\"\n                                                              \"/tmp/eclinitM31sB3.o\"\n                                                              \"binary-ecl/maxima-package.o\"\n                                                              \"binary-ecl/ecl-port.o\"\n                                                              \"binary-ecl/autoconf-variables.o\"\n                                                              \"binary-ecl/intl.o\"\n                                                              \"binary-ecl/nregex.o\"\n                                                              \"binary-ecl/cl-info.o\"\n                                                              \"binary-ecl/sloop.o\"\n                                                              \"binary-ecl/lmdcls.o\"\n                                                              \"binary-ecl/letmac.o\"\n                                                              \"binary-ecl/generr.o\"\n                                                              \"binary-ecl/clmacs.o\"\n                                                              \"binary-ecl/commac.o\"\n                                                              \"binary-ecl/mormac.o\"\n                                                              \"binary-ecl/compat.o\"\n                                                              \"binary-ecl/transm.o\"\n                                                              \"binary-ecl/getopt.o\"\n                                                              \"binary-ecl/command-line.o\"\n                                                              \"binary-ecl/defcal.o\"\n                                                              \"binary-ecl/maxmac.o\"\n                                                              \"binary-ecl/mopers.o\"\n                                                              \"binary-ecl/mforma.o\"\n                                                              \"binary-ecl/mrgmac.o\"\n                                                              \"binary-ecl/rzmac.o\"\n                                                              \"binary-ecl/strmac.o\"\n                                                              \"binary-ecl/displm.o\"\n                                                              \"binary-ecl/safe-recursion.o\"\n                                                              \"binary-ecl/ratmac.o\"\n                                                              \"binary-ecl/mhayat.o\"\n                                                              \"binary-ecl/opers.o\"\n                                                              \"binary-ecl/utils.o\"\n                                                              \"binary-ecl/sumcon.o\"\n                                                              \"binary-ecl/sublis.o\"\n                                                              \"binary-ecl/merror.o\"\n                                                              \"binary-ecl/mformt.o\"\n                                                              \"binary-ecl/mutils.o\"\n                                                              \"binary-ecl/outmis.o\"\n                                                              \"binary-ecl/ar.o\"\n                                                              \"binary-ecl/comm.o\"\n                                                              \"binary-ecl/comm2.o\"\n                                                              \"binary-ecl/mlisp.o\"\n                                                              \"binary-ecl/mmacro.o\"\n                                                              \"binary-ecl/buildq.o\"\n                                                              \"binary-ecl/numerical/f2cl-package.o\"\n                                                              \"binary-ecl/numerical/slatec.o\"\n                                                              \"binary-ecl/numerical/f2cl-lib.o\"\n                                                              \"binary-ecl/numerical/slatec/fdump.o\"\n                                                              \"binary-ecl/numerical/slatec/j4save.o\"\n                                                              \"binary-ecl/numerical/slatec/xercnt.o\"\n                                                              \"binary-ecl/numerical/slatec/xerhlt.o\"\n                                                              \"binary-ecl/numerical/slatec/xgetua.o\"\n                                                              \"binary-ecl/numerical/slatec/xerprn.o\"\n                                                              \"binary-ecl/numerical/slatec/xersve.o\"\n                                                              \"binary-ecl/numerical/slatec/xermsg.o\"\n                                                              \"binary-ecl/numerical/slatec/initds.o\"\n                                                              \"binary-ecl/numerical/slatec/dcsevl.o\"\n                                                              \"binary-ecl/numerical/slatec/d9lgmc.o\"\n                                                              \"binary-ecl/numerical/slatec/dgamlm.o\"\n                                                              \"binary-ecl/numerical/slatec/dgamma.o\"\n                                                              \"binary-ecl/numerical/slatec/dgamln.o\"\n                                                              \"binary-ecl/numerical/slatec/dlngam.o\"\n                                                              \"binary-ecl/numerical/slatec/d9b0mp.o\"\n                                                              \"binary-ecl/numerical/slatec/d9b1mp.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesj0.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesj1.o\"\n                                                              \"binary-ecl/numerical/slatec/djairy.o\"\n                                                              \"binary-ecl/numerical/slatec/dasyjy.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesj.o\"\n                                                              \"binary-ecl/numerical/slatec/dbsi0e.o\"\n                                                              \"binary-ecl/numerical/slatec/dbsi1e.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesi0.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesi1.o\"\n                                                              \"binary-ecl/numerical/slatec/dasyik.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesi.o\"\n                                                              \"binary-ecl/numerical/slatec/zabs.o\"\n                                                              \"binary-ecl/numerical/slatec/zdiv.o\"\n                                                              \"binary-ecl/numerical/slatec/zexp.o\"\n                                                              \"binary-ecl/numerical/slatec/zmlt.o\"\n                                                              \"binary-ecl/numerical/slatec/zsqrt.o\"\n                                                              \"binary-ecl/numerical/slatec/zasyi.o\"\n                                                              \"binary-ecl/numerical/slatec/zuchk.o\"\n                                                              \"binary-ecl/numerical/slatec/zlog.o\"\n                                                              \"binary-ecl/numerical/slatec/zunik.o\"\n                                                              \"binary-ecl/numerical/slatec/zunhj.o\"\n                                                              \"binary-ecl/numerical/slatec/zuoik.o\"\n                                                              \"binary-ecl/numerical/slatec/zuni1.o\"\n                                                              \"binary-ecl/numerical/slatec/zkscl.o\"\n                                                              \"binary-ecl/numerical/slatec/zshch.o\"\n                                                              \"binary-ecl/numerical/slatec/zbknu.o\"\n                                                              \"binary-ecl/numerical/slatec/zmlri.o\"\n                                                              \"binary-ecl/numerical/slatec/zs1s2.o\"\n                                                              \"binary-ecl/numerical/slatec/zseri.o\"\n                                                              \"binary-ecl/numerical/slatec/zacai.o\"\n                                                              \"binary-ecl/numerical/slatec/zairy.o\"\n                                                              \"binary-ecl/numerical/slatec/zuni2.o\"\n                                                              \"binary-ecl/numerical/slatec/zbuni.o\"\n                                                              \"binary-ecl/numerical/slatec/zrati.o\"\n                                                              \"binary-ecl/numerical/slatec/zwrsk.o\"\n                                                              \"binary-ecl/numerical/slatec/zbinu.o\"\n                                                              \"binary-ecl/numerical/slatec/zbesi.o\"\n                                                              \"binary-ecl/numerical/slatec/zbesj.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesy0.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesy1.o\"\n                                                              \"binary-ecl/numerical/slatec/dbsynu.o\"\n                                                              \"binary-ecl/numerical/slatec/dyairy.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesy.o\"\n                                                              \"binary-ecl/numerical/slatec/zacon.o\"\n                                                              \"binary-ecl/numerical/slatec/zunk1.o\"\n                                                              \"binary-ecl/numerical/slatec/zunk2.o\"\n                                                              \"binary-ecl/numerical/slatec/zbunk.o\"\n                                                              \"binary-ecl/numerical/slatec/zbesh.o\"\n                                                              \"binary-ecl/numerical/slatec/zbesy.o\"\n                                                              \"binary-ecl/numerical/slatec/dbsk0e.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesk0.o\"\n                                                              \"binary-ecl/numerical/slatec/dbsk1e.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesk1.o\"\n                                                              \"binary-ecl/numerical/slatec/dbsknu.o\"\n                                                              \"binary-ecl/numerical/slatec/dbesk.o\"\n                                                              \"binary-ecl/numerical/slatec/zbesk.o\"\n                                                              \"binary-ecl/numerical/slatec/d9aimp.o\"\n                                                              \"binary-ecl/numerical/slatec/daie.o\"\n                                                              \"binary-ecl/numerical/slatec/dai.o\"\n                                                              \"binary-ecl/numerical/slatec/dbie.o\"\n                                                              \"binary-ecl/numerical/slatec/dbi.o\"\n                                                              \"binary-ecl/numerical/slatec/zbiry.o\"\n                                                              \"binary-ecl/numerical/slatec/derfc.o\"\n                                                              \"binary-ecl/numerical/slatec/derf.o\"\n                                                              \"binary-ecl/numerical/slatec/de1.o\"\n                                                              \"binary-ecl/numerical/slatec/dei.o\"\n                                                              \"binary-ecl/numerical/slatec/d9upak.o\"\n                                                              \"binary-ecl/numerical/slatec/dspenc.o\"\n                                                              \"binary-ecl/numerical/slatec/dqwgtf.o\"\n                                                              \"binary-ecl/numerical/slatec/dqcheb.o\"\n                                                              \"binary-ecl/numerical/slatec/dqk15w.o\"\n                                                              \"binary-ecl/numerical/slatec/dqwgts.o\"\n                                                              \"binary-ecl/numerical/slatec/dqwgtc.o\"\n                                                              \"binary-ecl/numerical/slatec/dgtsl.o\"\n                                                              \"binary-ecl/numerical/slatec/dqk15.o\"\n                                                              \"binary-ecl/numerical/slatec/dqk31.o\"\n                                                              \"binary-ecl/numerical/slatec/dqk41.o\"\n                                                              \"binary-ecl/numerical/slatec/dqk51.o\"\n                                                              \"binary-ecl/numerical/slatec/dqk61.o\"\n                                                              \"binary-ecl/numerical/slatec/dqk21.o\"\n                                                              \"binary-ecl/numerical/slatec/dqk15i.o\"\n                                                              \"binary-ecl/numerical/slatec/dqelg.o\"\n                                                              \"binary-ecl/numerical/slatec/dqpsrt.o\"\n                                                              \"binary-ecl/numerical/slatec/dqc25s.o\"\n                                                              \"binary-ecl/numerical/slatec/dqmomo.o\"\n                                                              \"binary-ecl/numerical/slatec/dqc25c.o\"\n                                                              \"binary-ecl/numerical/slatec/dqc25f.o\"\n                                                              \"binary-ecl/numerical/slatec/dqage.o\"\n                                                              \"binary-ecl/numerical/slatec/dqagie.o\"\n                                                              \"binary-ecl/numerical/slatec/dqagpe.o\"\n                                                              \"binary-ecl/numerical/slatec/dqagp.o\"\n                                                              \"binary-ecl/numerical/slatec/dqagse.o\"\n                                                              \"binary-ecl/numerical/slatec/dqawoe.o\"\n                                                              \"binary-ecl/numerical/slatec/dqawfe.o\"\n                                                              \"binary-ecl/numerical/slatec/dqawse.o\"\n                                                              \"binary-ecl/numerical/slatec/dqawce.o\"\n                                                              \"binary-ecl/numerical/slatec/dqng.o\"\n                                                              \"binary-ecl/numerical/slatec/dqag.o\"\n                                                              \"binary-ecl/numerical/slatec/dqags.o\"\n                                                              \"binary-ecl/numerical/slatec/dqagi.o\"\n                                                              \"binary-ecl/numerical/slatec/dqawf.o\"\n                                                              \"binary-ecl/numerical/slatec/dqawo.o\"\n                                                              \"binary-ecl/numerical/slatec/dqaws.o\"\n                                                              \"binary-ecl/numerical/slatec/dqawc.o\"\n                                                              \"binary-ecl/numerical/slatec/quadpack.o\"\n                                                              \"binary-ecl/simp.o\"\n                                                              \"binary-ecl/float.o\"\n                                                              \"binary-ecl/csimp.o\"\n                                                              \"binary-ecl/csimp2.o\"\n                                                              \"binary-ecl/zero.o\"\n                                                              \"binary-ecl/logarc.o\"\n                                                              \"binary-ecl/rpart.o\"\n                                                              \"binary-ecl/numeric.o\"\n                                                              \"binary-ecl/server.o\"\n                                                              \"binary-ecl/macsys.o\"\n                                                              \"binary-ecl/mload.o\"\n                                                              \"binary-ecl/suprv1.o\"\n                                                              \"binary-ecl/dskfn.o\"\n                                                              \"binary-ecl/lesfac.o\"\n                                                              \"binary-ecl/factor.o\"\n                                                              \"binary-ecl/algfac.o\"\n                                                              \"binary-ecl/nalgfa.o\"\n                                                              \"binary-ecl/ufact.o\"\n                                                              \"binary-ecl/result.o\"\n                                                              \"binary-ecl/ifactor.o\"\n                                                              \"binary-ecl/rat3a.o\"\n                                                              \"binary-ecl/rat3b.o\"\n                                                              \"binary-ecl/rat3d.o\"\n                                                              \"binary-ecl/rat3c.o\"\n                                                              \"binary-ecl/rat3e.o\"\n                                                              \"binary-ecl/nrat4.o\"\n                                                              \"binary-ecl/ratout.o\"\n                                                              \"binary-ecl/transl.o\"\n                                                              \"binary-ecl/transs.o\"\n                                                              \"binary-ecl/trans1.o\"\n                                                              \"binary-ecl/trans2.o\"\n                                                              \"binary-ecl/trans3.o\"\n                                                              \"binary-ecl/trans4.o\"\n                                                              \"binary-ecl/trans5.o\"\n                                                              \"binary-ecl/transf.o\"\n                                                              \"binary-ecl/troper.o\"\n                                                              \"binary-ecl/trutil.o\"\n                                                              \"binary-ecl/trmode.o\"\n                                                              \"binary-ecl/trdata.o\"\n                                                              \"binary-ecl/trpred.o\"\n                                                              \"binary-ecl/transq.o\"\n                                                              \"binary-ecl/acall.o\"\n                                                              \"binary-ecl/fcall.o\"\n                                                              \"binary-ecl/evalw.o\"\n                                                              \"binary-ecl/trprop.o\"\n                                                              \"binary-ecl/mdefun.o\"\n                                                              \"binary-ecl/schatc.o\"\n                                                              \"binary-ecl/matcom.o\"\n                                                              \"binary-ecl/matrun.o\"\n                                                              \"binary-ecl/nisimp.o\"\n                                                              \"binary-ecl/trigi.o\"\n                                                              \"binary-ecl/trigo.o\"\n                                                              \"binary-ecl/trgred.o\"\n                                                              \"binary-ecl/bessel.o\"\n                                                              \"binary-ecl/ellipt.o\"\n                                                              \"binary-ecl/airy.o\"\n                                                              \"binary-ecl/plasma.o\"\n                                                              \"binary-ecl/intpol.o\"\n                                                              \"binary-ecl/nparse.o\"\n                                                              \"binary-ecl/displa.o\"\n                                                              \"binary-ecl/nforma.o\"\n                                                              \"binary-ecl/grind.o\"\n                                                              \"binary-ecl/spgcd.o\"\n                                                              \"binary-ecl/ezgcd.o\"\n                                                              \"binary-ecl/option.o\"\n                                                              \"binary-ecl/macdes.o\"\n                                                              \"binary-ecl/inmis.o\"\n                                                              \"binary-ecl/db.o\"\n                                                              \"binary-ecl/compar.o\"\n                                                              \"binary-ecl/askp.o\"\n                                                              \"binary-ecl/sinint.o\"\n                                                              \"binary-ecl/sin.o\"\n                                                              \"binary-ecl/risch.o\"\n                                                              \"binary-ecl/hayat.o\"\n                                                              \"binary-ecl/defint.o\"\n                                                              \"binary-ecl/residu.o\"\n                                                              \"binary-ecl/specfn.o\"\n                                                              \"binary-ecl/mat.o\"\n                                                              \"binary-ecl/linnew.o\"\n                                                              \"binary-ecl/matrix.o\"\n                                                              \"binary-ecl/sprdet.o\"\n                                                              \"binary-ecl/newinv.o\"\n                                                              \"binary-ecl/newdet.o\"\n                                                              \"binary-ecl/tlimit.o\"\n                                                              \"binary-ecl/limit.o\"\n                                                              \"binary-ecl/solve.o\"\n                                                              \"binary-ecl/psolve.o\"\n                                                              \"binary-ecl/algsys.o\"\n                                                              \"binary-ecl/sqrtdenest.o\"\n                                                              \"binary-ecl/polyrz.o\"\n                                                              \"binary-ecl/cpoly.o\"\n                                                              \"binary-ecl/mtrace.o\"\n                                                              \"binary-ecl/mdebug.o\"\n                                                              \"binary-ecl/scs.o\"\n                                                              \"binary-ecl/asum.o\"\n                                                              \"binary-ecl/fortra.o\"\n                                                              \"binary-ecl/optim.o\"\n                                                              \"binary-ecl/marray.o\"\n                                                              \"binary-ecl/mdot.o\"\n                                                              \"binary-ecl/irinte.o\"\n                                                              \"binary-ecl/series.o\"\n                                                              \"binary-ecl/numth.o\"\n                                                              \"binary-ecl/laplac.o\"\n                                                              \"binary-ecl/pade.o\"\n                                                              \"binary-ecl/homog.o\"\n                                                              \"binary-ecl/combin.o\"\n                                                              \"binary-ecl/nset.o\"\n                                                              \"binary-ecl/rand-mt19937.o\"\n                                                              \"binary-ecl/maxmin.o\"\n                                                              \"binary-ecl/nummod.o\"\n                                                              \"binary-ecl/conjugate.o\"\n                                                              \"binary-ecl/expintegral.o\"\n                                                              \"binary-ecl/gamma.o\"\n                                                              \"binary-ecl/mstuff.o\"\n                                                              \"binary-ecl/pois2.o\"\n                                                              \"binary-ecl/pois3.o\"\n                                                              \"binary-ecl/desoln.o\"\n                                                              \"binary-ecl/elim.o\"\n                                                              \"binary-ecl/invert.o\"\n                                                              \"binary-ecl/hypgeo.o\"\n                                                              \"binary-ecl/hyp.o\"\n                                                              \"binary-ecl/todd-coxeter.o\"\n                                                              \"binary-ecl/mactex.o\"\n                                                              \"binary-ecl/plot.o\"\n                                                              \"binary-ecl/gnuplot_def.o\"\n                                                              \"binary-ecl/xmaxima_def.o\"\n                                                              \"binary-ecl/autol.o\"\n                                                              \"binary-ecl/max_ext.o\"\n                                                              \"binary-ecl/share-subdirs.o\"\n                                                              \"binary-ecl/init-cl.o\"\n                                                              \"-Wl,-rpath-link,/sage/local/lib -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/lib -Wl,-rpath-link,/opt/conda/lib -L/opt/conda/lib\"\n                                                              \"-Wl,--rpath,/sage/local/lib/\"\n                                                              \"-shared\"\n                                                              \"-Wl,-rpath-link,/sage/local/lib\"\n                                                              \"-L/sage/local/lib\"\n                                                              \"-Wl,-rpath,/sage/local/lib\"\n                                                              \"-Wl,-O2\"\n                                                              \"-Wl,--sort-common\"\n                                                              \"-Wl,--as-needed\"\n                                                              \"-Wl,-z,relro\"\n                                                              \"-Wl,-z,now\"\n                                                              \"-Wl,--disable-new-dtags\"\n                                                              \"-Wl,--gc-sections\"\n                                                              \"-Wl,-rpath,/opt/conda/lib\"\n                                                              \"-Wl,-rpath-link,/opt/conda/lib\"\n                                                              \"-L/opt/conda/lib\"\n                                                              \"-Wl,-rpath-link,/sage/local/lib\"\n                                                              \"-L/sage/local/lib\"\n                                                              \"-Wl,-rpath,/sage/local/lib\"\n                                                              \"-Wl,-O2\"\n                                                              \"-Wl,--sort-common\"\n                                                              \"-Wl,--as-needed\"\n                                                              \"-Wl,-z,relro\"\n                                                              \"-Wl,-z,now\"\n                                                              \"-Wl,--disable-new-dtags\"\n                                                              \"-Wl,--gc-sections\"\n                                                              \"-Wl,-rpath,/opt/conda/lib\"\n                                                              \"-Wl,-rpath-link,/opt/conda/lib\"\n                                                              \"-L/opt/conda/lib\"\n                                                              \"-lecl\" \"-lgmp\"\n                                                              \"-lgc\" \"-lffi\"\n                                                              \"-lgc\" \"-ldl\"\n                                                              \"-lm\")).\nmake[5]: *** [Makefile:1350: binary-ecl/maxima] Error 1\nmake[5]: Target 'all' not remade because of errors.\nmake[5]: Leaving directory '/sage/local/var/tmp/sage/build/maxima-5.42.2/src/src'\nMaking all in lisp-utils\n```",
    "created_at": "2020-04-27T22:18:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460000",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

maxima (via ecl) has an issue with the linker flags too:

```
;      - Loading binary file "binary-ecl/init-cl.fas" 
;  - Providing system maxima
/opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: unrecognized option '--sort-common -Wl'
/opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: use the --help option for usage information
collect2: error: ld returned 1 exit status
An error occurred during initialization:
Error code 1 when executing
(RUN-PROGRAM "/opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc" ("-o"
                                                              "binary-ecl/maxima.fas"
                                                              "-L/sage/local/lib/"
                                                              "/tmp/eclinitM31sB3.o"
                                                              "binary-ecl/maxima-package.o"
                                                              "binary-ecl/ecl-port.o"
                                                              "binary-ecl/autoconf-variables.o"
                                                              "binary-ecl/intl.o"
                                                              "binary-ecl/nregex.o"
                                                              "binary-ecl/cl-info.o"
                                                              "binary-ecl/sloop.o"
                                                              "binary-ecl/lmdcls.o"
                                                              "binary-ecl/letmac.o"
                                                              "binary-ecl/generr.o"
                                                              "binary-ecl/clmacs.o"
                                                              "binary-ecl/commac.o"
                                                              "binary-ecl/mormac.o"
                                                              "binary-ecl/compat.o"
                                                              "binary-ecl/transm.o"
                                                              "binary-ecl/getopt.o"
                                                              "binary-ecl/command-line.o"
                                                              "binary-ecl/defcal.o"
                                                              "binary-ecl/maxmac.o"
                                                              "binary-ecl/mopers.o"
                                                              "binary-ecl/mforma.o"
                                                              "binary-ecl/mrgmac.o"
                                                              "binary-ecl/rzmac.o"
                                                              "binary-ecl/strmac.o"
                                                              "binary-ecl/displm.o"
                                                              "binary-ecl/safe-recursion.o"
                                                              "binary-ecl/ratmac.o"
                                                              "binary-ecl/mhayat.o"
                                                              "binary-ecl/opers.o"
                                                              "binary-ecl/utils.o"
                                                              "binary-ecl/sumcon.o"
                                                              "binary-ecl/sublis.o"
                                                              "binary-ecl/merror.o"
                                                              "binary-ecl/mformt.o"
                                                              "binary-ecl/mutils.o"
                                                              "binary-ecl/outmis.o"
                                                              "binary-ecl/ar.o"
                                                              "binary-ecl/comm.o"
                                                              "binary-ecl/comm2.o"
                                                              "binary-ecl/mlisp.o"
                                                              "binary-ecl/mmacro.o"
                                                              "binary-ecl/buildq.o"
                                                              "binary-ecl/numerical/f2cl-package.o"
                                                              "binary-ecl/numerical/slatec.o"
                                                              "binary-ecl/numerical/f2cl-lib.o"
                                                              "binary-ecl/numerical/slatec/fdump.o"
                                                              "binary-ecl/numerical/slatec/j4save.o"
                                                              "binary-ecl/numerical/slatec/xercnt.o"
                                                              "binary-ecl/numerical/slatec/xerhlt.o"
                                                              "binary-ecl/numerical/slatec/xgetua.o"
                                                              "binary-ecl/numerical/slatec/xerprn.o"
                                                              "binary-ecl/numerical/slatec/xersve.o"
                                                              "binary-ecl/numerical/slatec/xermsg.o"
                                                              "binary-ecl/numerical/slatec/initds.o"
                                                              "binary-ecl/numerical/slatec/dcsevl.o"
                                                              "binary-ecl/numerical/slatec/d9lgmc.o"
                                                              "binary-ecl/numerical/slatec/dgamlm.o"
                                                              "binary-ecl/numerical/slatec/dgamma.o"
                                                              "binary-ecl/numerical/slatec/dgamln.o"
                                                              "binary-ecl/numerical/slatec/dlngam.o"
                                                              "binary-ecl/numerical/slatec/d9b0mp.o"
                                                              "binary-ecl/numerical/slatec/d9b1mp.o"
                                                              "binary-ecl/numerical/slatec/dbesj0.o"
                                                              "binary-ecl/numerical/slatec/dbesj1.o"
                                                              "binary-ecl/numerical/slatec/djairy.o"
                                                              "binary-ecl/numerical/slatec/dasyjy.o"
                                                              "binary-ecl/numerical/slatec/dbesj.o"
                                                              "binary-ecl/numerical/slatec/dbsi0e.o"
                                                              "binary-ecl/numerical/slatec/dbsi1e.o"
                                                              "binary-ecl/numerical/slatec/dbesi0.o"
                                                              "binary-ecl/numerical/slatec/dbesi1.o"
                                                              "binary-ecl/numerical/slatec/dasyik.o"
                                                              "binary-ecl/numerical/slatec/dbesi.o"
                                                              "binary-ecl/numerical/slatec/zabs.o"
                                                              "binary-ecl/numerical/slatec/zdiv.o"
                                                              "binary-ecl/numerical/slatec/zexp.o"
                                                              "binary-ecl/numerical/slatec/zmlt.o"
                                                              "binary-ecl/numerical/slatec/zsqrt.o"
                                                              "binary-ecl/numerical/slatec/zasyi.o"
                                                              "binary-ecl/numerical/slatec/zuchk.o"
                                                              "binary-ecl/numerical/slatec/zlog.o"
                                                              "binary-ecl/numerical/slatec/zunik.o"
                                                              "binary-ecl/numerical/slatec/zunhj.o"
                                                              "binary-ecl/numerical/slatec/zuoik.o"
                                                              "binary-ecl/numerical/slatec/zuni1.o"
                                                              "binary-ecl/numerical/slatec/zkscl.o"
                                                              "binary-ecl/numerical/slatec/zshch.o"
                                                              "binary-ecl/numerical/slatec/zbknu.o"
                                                              "binary-ecl/numerical/slatec/zmlri.o"
                                                              "binary-ecl/numerical/slatec/zs1s2.o"
                                                              "binary-ecl/numerical/slatec/zseri.o"
                                                              "binary-ecl/numerical/slatec/zacai.o"
                                                              "binary-ecl/numerical/slatec/zairy.o"
                                                              "binary-ecl/numerical/slatec/zuni2.o"
                                                              "binary-ecl/numerical/slatec/zbuni.o"
                                                              "binary-ecl/numerical/slatec/zrati.o"
                                                              "binary-ecl/numerical/slatec/zwrsk.o"
                                                              "binary-ecl/numerical/slatec/zbinu.o"
                                                              "binary-ecl/numerical/slatec/zbesi.o"
                                                              "binary-ecl/numerical/slatec/zbesj.o"
                                                              "binary-ecl/numerical/slatec/dbesy0.o"
                                                              "binary-ecl/numerical/slatec/dbesy1.o"
                                                              "binary-ecl/numerical/slatec/dbsynu.o"
                                                              "binary-ecl/numerical/slatec/dyairy.o"
                                                              "binary-ecl/numerical/slatec/dbesy.o"
                                                              "binary-ecl/numerical/slatec/zacon.o"
                                                              "binary-ecl/numerical/slatec/zunk1.o"
                                                              "binary-ecl/numerical/slatec/zunk2.o"
                                                              "binary-ecl/numerical/slatec/zbunk.o"
                                                              "binary-ecl/numerical/slatec/zbesh.o"
                                                              "binary-ecl/numerical/slatec/zbesy.o"
                                                              "binary-ecl/numerical/slatec/dbsk0e.o"
                                                              "binary-ecl/numerical/slatec/dbesk0.o"
                                                              "binary-ecl/numerical/slatec/dbsk1e.o"
                                                              "binary-ecl/numerical/slatec/dbesk1.o"
                                                              "binary-ecl/numerical/slatec/dbsknu.o"
                                                              "binary-ecl/numerical/slatec/dbesk.o"
                                                              "binary-ecl/numerical/slatec/zbesk.o"
                                                              "binary-ecl/numerical/slatec/d9aimp.o"
                                                              "binary-ecl/numerical/slatec/daie.o"
                                                              "binary-ecl/numerical/slatec/dai.o"
                                                              "binary-ecl/numerical/slatec/dbie.o"
                                                              "binary-ecl/numerical/slatec/dbi.o"
                                                              "binary-ecl/numerical/slatec/zbiry.o"
                                                              "binary-ecl/numerical/slatec/derfc.o"
                                                              "binary-ecl/numerical/slatec/derf.o"
                                                              "binary-ecl/numerical/slatec/de1.o"
                                                              "binary-ecl/numerical/slatec/dei.o"
                                                              "binary-ecl/numerical/slatec/d9upak.o"
                                                              "binary-ecl/numerical/slatec/dspenc.o"
                                                              "binary-ecl/numerical/slatec/dqwgtf.o"
                                                              "binary-ecl/numerical/slatec/dqcheb.o"
                                                              "binary-ecl/numerical/slatec/dqk15w.o"
                                                              "binary-ecl/numerical/slatec/dqwgts.o"
                                                              "binary-ecl/numerical/slatec/dqwgtc.o"
                                                              "binary-ecl/numerical/slatec/dgtsl.o"
                                                              "binary-ecl/numerical/slatec/dqk15.o"
                                                              "binary-ecl/numerical/slatec/dqk31.o"
                                                              "binary-ecl/numerical/slatec/dqk41.o"
                                                              "binary-ecl/numerical/slatec/dqk51.o"
                                                              "binary-ecl/numerical/slatec/dqk61.o"
                                                              "binary-ecl/numerical/slatec/dqk21.o"
                                                              "binary-ecl/numerical/slatec/dqk15i.o"
                                                              "binary-ecl/numerical/slatec/dqelg.o"
                                                              "binary-ecl/numerical/slatec/dqpsrt.o"
                                                              "binary-ecl/numerical/slatec/dqc25s.o"
                                                              "binary-ecl/numerical/slatec/dqmomo.o"
                                                              "binary-ecl/numerical/slatec/dqc25c.o"
                                                              "binary-ecl/numerical/slatec/dqc25f.o"
                                                              "binary-ecl/numerical/slatec/dqage.o"
                                                              "binary-ecl/numerical/slatec/dqagie.o"
                                                              "binary-ecl/numerical/slatec/dqagpe.o"
                                                              "binary-ecl/numerical/slatec/dqagp.o"
                                                              "binary-ecl/numerical/slatec/dqagse.o"
                                                              "binary-ecl/numerical/slatec/dqawoe.o"
                                                              "binary-ecl/numerical/slatec/dqawfe.o"
                                                              "binary-ecl/numerical/slatec/dqawse.o"
                                                              "binary-ecl/numerical/slatec/dqawce.o"
                                                              "binary-ecl/numerical/slatec/dqng.o"
                                                              "binary-ecl/numerical/slatec/dqag.o"
                                                              "binary-ecl/numerical/slatec/dqags.o"
                                                              "binary-ecl/numerical/slatec/dqagi.o"
                                                              "binary-ecl/numerical/slatec/dqawf.o"
                                                              "binary-ecl/numerical/slatec/dqawo.o"
                                                              "binary-ecl/numerical/slatec/dqaws.o"
                                                              "binary-ecl/numerical/slatec/dqawc.o"
                                                              "binary-ecl/numerical/slatec/quadpack.o"
                                                              "binary-ecl/simp.o"
                                                              "binary-ecl/float.o"
                                                              "binary-ecl/csimp.o"
                                                              "binary-ecl/csimp2.o"
                                                              "binary-ecl/zero.o"
                                                              "binary-ecl/logarc.o"
                                                              "binary-ecl/rpart.o"
                                                              "binary-ecl/numeric.o"
                                                              "binary-ecl/server.o"
                                                              "binary-ecl/macsys.o"
                                                              "binary-ecl/mload.o"
                                                              "binary-ecl/suprv1.o"
                                                              "binary-ecl/dskfn.o"
                                                              "binary-ecl/lesfac.o"
                                                              "binary-ecl/factor.o"
                                                              "binary-ecl/algfac.o"
                                                              "binary-ecl/nalgfa.o"
                                                              "binary-ecl/ufact.o"
                                                              "binary-ecl/result.o"
                                                              "binary-ecl/ifactor.o"
                                                              "binary-ecl/rat3a.o"
                                                              "binary-ecl/rat3b.o"
                                                              "binary-ecl/rat3d.o"
                                                              "binary-ecl/rat3c.o"
                                                              "binary-ecl/rat3e.o"
                                                              "binary-ecl/nrat4.o"
                                                              "binary-ecl/ratout.o"
                                                              "binary-ecl/transl.o"
                                                              "binary-ecl/transs.o"
                                                              "binary-ecl/trans1.o"
                                                              "binary-ecl/trans2.o"
                                                              "binary-ecl/trans3.o"
                                                              "binary-ecl/trans4.o"
                                                              "binary-ecl/trans5.o"
                                                              "binary-ecl/transf.o"
                                                              "binary-ecl/troper.o"
                                                              "binary-ecl/trutil.o"
                                                              "binary-ecl/trmode.o"
                                                              "binary-ecl/trdata.o"
                                                              "binary-ecl/trpred.o"
                                                              "binary-ecl/transq.o"
                                                              "binary-ecl/acall.o"
                                                              "binary-ecl/fcall.o"
                                                              "binary-ecl/evalw.o"
                                                              "binary-ecl/trprop.o"
                                                              "binary-ecl/mdefun.o"
                                                              "binary-ecl/schatc.o"
                                                              "binary-ecl/matcom.o"
                                                              "binary-ecl/matrun.o"
                                                              "binary-ecl/nisimp.o"
                                                              "binary-ecl/trigi.o"
                                                              "binary-ecl/trigo.o"
                                                              "binary-ecl/trgred.o"
                                                              "binary-ecl/bessel.o"
                                                              "binary-ecl/ellipt.o"
                                                              "binary-ecl/airy.o"
                                                              "binary-ecl/plasma.o"
                                                              "binary-ecl/intpol.o"
                                                              "binary-ecl/nparse.o"
                                                              "binary-ecl/displa.o"
                                                              "binary-ecl/nforma.o"
                                                              "binary-ecl/grind.o"
                                                              "binary-ecl/spgcd.o"
                                                              "binary-ecl/ezgcd.o"
                                                              "binary-ecl/option.o"
                                                              "binary-ecl/macdes.o"
                                                              "binary-ecl/inmis.o"
                                                              "binary-ecl/db.o"
                                                              "binary-ecl/compar.o"
                                                              "binary-ecl/askp.o"
                                                              "binary-ecl/sinint.o"
                                                              "binary-ecl/sin.o"
                                                              "binary-ecl/risch.o"
                                                              "binary-ecl/hayat.o"
                                                              "binary-ecl/defint.o"
                                                              "binary-ecl/residu.o"
                                                              "binary-ecl/specfn.o"
                                                              "binary-ecl/mat.o"
                                                              "binary-ecl/linnew.o"
                                                              "binary-ecl/matrix.o"
                                                              "binary-ecl/sprdet.o"
                                                              "binary-ecl/newinv.o"
                                                              "binary-ecl/newdet.o"
                                                              "binary-ecl/tlimit.o"
                                                              "binary-ecl/limit.o"
                                                              "binary-ecl/solve.o"
                                                              "binary-ecl/psolve.o"
                                                              "binary-ecl/algsys.o"
                                                              "binary-ecl/sqrtdenest.o"
                                                              "binary-ecl/polyrz.o"
                                                              "binary-ecl/cpoly.o"
                                                              "binary-ecl/mtrace.o"
                                                              "binary-ecl/mdebug.o"
                                                              "binary-ecl/scs.o"
                                                              "binary-ecl/asum.o"
                                                              "binary-ecl/fortra.o"
                                                              "binary-ecl/optim.o"
                                                              "binary-ecl/marray.o"
                                                              "binary-ecl/mdot.o"
                                                              "binary-ecl/irinte.o"
                                                              "binary-ecl/series.o"
                                                              "binary-ecl/numth.o"
                                                              "binary-ecl/laplac.o"
                                                              "binary-ecl/pade.o"
                                                              "binary-ecl/homog.o"
                                                              "binary-ecl/combin.o"
                                                              "binary-ecl/nset.o"
                                                              "binary-ecl/rand-mt19937.o"
                                                              "binary-ecl/maxmin.o"
                                                              "binary-ecl/nummod.o"
                                                              "binary-ecl/conjugate.o"
                                                              "binary-ecl/expintegral.o"
                                                              "binary-ecl/gamma.o"
                                                              "binary-ecl/mstuff.o"
                                                              "binary-ecl/pois2.o"
                                                              "binary-ecl/pois3.o"
                                                              "binary-ecl/desoln.o"
                                                              "binary-ecl/elim.o"
                                                              "binary-ecl/invert.o"
                                                              "binary-ecl/hypgeo.o"
                                                              "binary-ecl/hyp.o"
                                                              "binary-ecl/todd-coxeter.o"
                                                              "binary-ecl/mactex.o"
                                                              "binary-ecl/plot.o"
                                                              "binary-ecl/gnuplot_def.o"
                                                              "binary-ecl/xmaxima_def.o"
                                                              "binary-ecl/autol.o"
                                                              "binary-ecl/max_ext.o"
                                                              "binary-ecl/share-subdirs.o"
                                                              "binary-ecl/init-cl.o"
                                                              "-Wl,-rpath-link,/sage/local/lib -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/lib -Wl,-rpath-link,/opt/conda/lib -L/opt/conda/lib"
                                                              "-Wl,--rpath,/sage/local/lib/"
                                                              "-shared"
                                                              "-Wl,-rpath-link,/sage/local/lib"
                                                              "-L/sage/local/lib"
                                                              "-Wl,-rpath,/sage/local/lib"
                                                              "-Wl,-O2"
                                                              "-Wl,--sort-common"
                                                              "-Wl,--as-needed"
                                                              "-Wl,-z,relro"
                                                              "-Wl,-z,now"
                                                              "-Wl,--disable-new-dtags"
                                                              "-Wl,--gc-sections"
                                                              "-Wl,-rpath,/opt/conda/lib"
                                                              "-Wl,-rpath-link,/opt/conda/lib"
                                                              "-L/opt/conda/lib"
                                                              "-Wl,-rpath-link,/sage/local/lib"
                                                              "-L/sage/local/lib"
                                                              "-Wl,-rpath,/sage/local/lib"
                                                              "-Wl,-O2"
                                                              "-Wl,--sort-common"
                                                              "-Wl,--as-needed"
                                                              "-Wl,-z,relro"
                                                              "-Wl,-z,now"
                                                              "-Wl,--disable-new-dtags"
                                                              "-Wl,--gc-sections"
                                                              "-Wl,-rpath,/opt/conda/lib"
                                                              "-Wl,-rpath-link,/opt/conda/lib"
                                                              "-L/opt/conda/lib"
                                                              "-lecl" "-lgmp"
                                                              "-lgc" "-lffi"
                                                              "-lgc" "-ldl"
                                                              "-lm")).
make[5]: *** [Makefile:1350: binary-ecl/maxima] Error 1
make[5]: Target 'all' not remade because of errors.
make[5]: Leaving directory '/sage/local/var/tmp/sage/build/maxima-5.42.2/src/src'
Making all in lisp-utils
```



---

archive/issue_comments_460001.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n(This one is from `tox -e docker-conda-forge-standard `)",
    "created_at": "2020-04-27T22:19:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460001",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

(This one is from `tox -e docker-conda-forge-standard `)



---

archive/issue_comments_460002.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nFixed by #29606 (build/pkgs/maxima/spkg-install.in: Do not pass on LDFLAGS)",
    "created_at": "2020-04-27T23:28:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460002",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Fixed by #29606 (build/pkgs/maxima/spkg-install.in: Do not pass on LDFLAGS)



---

archive/issue_comments_460003.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nNew tests at https://github.com/mkoeppe/sage/actions/runs/89649733",
    "created_at": "2020-04-28T00:31:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460003",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

New tests at https://github.com/mkoeppe/sage/actions/runs/89649733



---

archive/issue_comments_460004.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nNew tests at https://github.com/mkoeppe/sage/actions/runs/89771836",
    "created_at": "2020-04-28T04:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460004",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

New tests at https://github.com/mkoeppe/sage/actions/runs/89771836



---

archive/issue_comments_460005.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\n`docker-conda-forge-standard` now builds OK (https://github.com/mkoeppe/sage/runs/624793624), but a large number of doctest failures occurs\n\n```\nsage -t src/sage/categories/primer.py  # 1 doctest failed\nsage -t src/sage/combinat/quickref.py  # 1 doctest failed\nsage -t src/sage/combinat/tutorial.py  # 1 doctest failed\nsage -t src/sage/geometry/cone.py  # 5 doctests failed\nsage -t src/sage/geometry/fan.py  # 86 doctests failed\nsage -t src/sage/geometry/fan_isomorphism.py  # 12 doctests failed\nsage -t src/sage/geometry/fan_morphism.py  # 92 doctests failed\nsage -t src/sage/geometry/lattice_polytope.py  # 174 doctests failed\nsage -t src/sage/geometry/polyhedron/backend_normaliz.py  # 1 doctest failed\nsage -t src/sage/geometry/polyhedron/base_ZZ.py  # 2 doctests failed\nsage -t src/sage/geometry/polyhedron/palp_database.py  # 2 doctests failed\nsage -t src/sage/geometry/polyhedron/base.py  # 7 doctests failed\nsage -t src/sage/geometry/polyhedron/ppl_lattice_polytope.py  # 3 doctests failed\nsage -t src/sage/geometry/toric_plotter.py  # 17 doctests failed\nsage -t src/sage/geometry/triangulation/element.py  # 1 doctest failed\nsage -t src/sage/libs/glpk/error.pyx  # 1 doctest failed\nsage -t src/sage/misc/cython.py  # 3 doctests failed\nsage -t src/sage/modules/filtered_vector_space.py  # 5 doctests failed\nsage -t src/sage/numerical/backends/glpk_backend.pyx  # 1 doctest failed\nsage -t src/sage/rings/number_field/totallyreal_rel.py  # 4 doctests failed\nsage -t src/sage/schemes/generic/algebraic_scheme.py  # 13 doctests failed\nsage -t src/sage/schemes/generic/homset.py  # 3 doctests failed\nsage -t src/sage/schemes/toric/chow_group.py  # 159 doctests failed\nsage -t src/sage/schemes/toric/divisor.py  # 234 doctests failed\nsage -t src/sage/schemes/toric/divisor_class.pyx  # 50 doctests failed\nsage -t src/sage/schemes/toric/fano_variety.py  # 137 doctests failed\nsage -t src/sage/schemes/toric/homset.py  # 72 doctests failed\nsage -t src/sage/schemes/toric/library.py  # 74 doctests failed\nsage -t src/sage/schemes/toric/morphism.py  # 194 doctests failed\nsage -t src/sage/schemes/toric/points.py  # 108 doctests failed\nsage -t src/sage/schemes/toric/sheaf/constructor.py  # 29 doctests failed\nsage -t src/sage/schemes/toric/sheaf/klyachko.py  # 101 doctests failed\nsage -t src/sage/schemes/toric/toric_subscheme.py  # 104 doctests failed\nsage -t src/sage/schemes/toric/variety.py  # 229 doctests failed\nsage -t src/sage/schemes/toric/weierstrass.py  # 6 doctests failed\nsage -t src/sage/schemes/toric/weierstrass_covering.py  # 9 doctests failed\nsage -t src/sage/tests/books/computational-mathematics-with-sagemath/combinat_doctest.py  # 1 doctest failed\n```",
    "created_at": "2020-04-28T13:23:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460005",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

`docker-conda-forge-standard` now builds OK (https://github.com/mkoeppe/sage/runs/624793624), but a large number of doctest failures occurs

```
sage -t src/sage/categories/primer.py  # 1 doctest failed
sage -t src/sage/combinat/quickref.py  # 1 doctest failed
sage -t src/sage/combinat/tutorial.py  # 1 doctest failed
sage -t src/sage/geometry/cone.py  # 5 doctests failed
sage -t src/sage/geometry/fan.py  # 86 doctests failed
sage -t src/sage/geometry/fan_isomorphism.py  # 12 doctests failed
sage -t src/sage/geometry/fan_morphism.py  # 92 doctests failed
sage -t src/sage/geometry/lattice_polytope.py  # 174 doctests failed
sage -t src/sage/geometry/polyhedron/backend_normaliz.py  # 1 doctest failed
sage -t src/sage/geometry/polyhedron/base_ZZ.py  # 2 doctests failed
sage -t src/sage/geometry/polyhedron/palp_database.py  # 2 doctests failed
sage -t src/sage/geometry/polyhedron/base.py  # 7 doctests failed
sage -t src/sage/geometry/polyhedron/ppl_lattice_polytope.py  # 3 doctests failed
sage -t src/sage/geometry/toric_plotter.py  # 17 doctests failed
sage -t src/sage/geometry/triangulation/element.py  # 1 doctest failed
sage -t src/sage/libs/glpk/error.pyx  # 1 doctest failed
sage -t src/sage/misc/cython.py  # 3 doctests failed
sage -t src/sage/modules/filtered_vector_space.py  # 5 doctests failed
sage -t src/sage/numerical/backends/glpk_backend.pyx  # 1 doctest failed
sage -t src/sage/rings/number_field/totallyreal_rel.py  # 4 doctests failed
sage -t src/sage/schemes/generic/algebraic_scheme.py  # 13 doctests failed
sage -t src/sage/schemes/generic/homset.py  # 3 doctests failed
sage -t src/sage/schemes/toric/chow_group.py  # 159 doctests failed
sage -t src/sage/schemes/toric/divisor.py  # 234 doctests failed
sage -t src/sage/schemes/toric/divisor_class.pyx  # 50 doctests failed
sage -t src/sage/schemes/toric/fano_variety.py  # 137 doctests failed
sage -t src/sage/schemes/toric/homset.py  # 72 doctests failed
sage -t src/sage/schemes/toric/library.py  # 74 doctests failed
sage -t src/sage/schemes/toric/morphism.py  # 194 doctests failed
sage -t src/sage/schemes/toric/points.py  # 108 doctests failed
sage -t src/sage/schemes/toric/sheaf/constructor.py  # 29 doctests failed
sage -t src/sage/schemes/toric/sheaf/klyachko.py  # 101 doctests failed
sage -t src/sage/schemes/toric/toric_subscheme.py  # 104 doctests failed
sage -t src/sage/schemes/toric/variety.py  # 229 doctests failed
sage -t src/sage/schemes/toric/weierstrass.py  # 6 doctests failed
sage -t src/sage/schemes/toric/weierstrass_covering.py  # 9 doctests failed
sage -t src/sage/tests/books/computational-mathematics-with-sagemath/combinat_doctest.py  # 1 doctest failed
```



---

archive/issue_comments_460006.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n`docker-conda-forge-minimal` (https://github.com/mkoeppe/sage/runs/624793614) got farther too, now has a testsuite failure  in `symmetrica`, and still the build error in `python3`.",
    "created_at": "2020-04-28T13:26:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460006",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

`docker-conda-forge-minimal` (https://github.com/mkoeppe/sage/runs/624793614) got farther too, now has a testsuite failure  in `symmetrica`, and still the build error in `python3`.



---

archive/issue_comments_460007.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nMost of them are of the form,\n\n```\n2020-04-28T07:35:02.7114886Z File \"src/sage/schemes/toric/divisor.py\", line 1926, in sage.schemes.toric.divisor.ToricRationalDivisorClassGroup\n2020-04-28T07:35:02.7115019Z Failed example:\n2020-04-28T07:35:02.7115157Z     P2 = toric_varieties.P2()\n2020-04-28T07:35:02.7115258Z Exception raised:\n2020-04-28T07:35:02.7115360Z     Traceback (most recent call last):\n2020-04-28T07:35:02.7115725Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n2020-04-28T07:35:02.7115858Z         self.compile_and_execute(example, compiler, test.globs)\n2020-04-28T07:35:02.7116212Z       File \"/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n2020-04-28T07:35:02.7116337Z         exec(compiled, globs)\n2020-04-28T07:35:02.7116448Z       File \"<doctest sage.schemes.toric.divisor.ToricRationalDivisorClassGroup[0]>\", line 1, in <module>\n2020-04-28T07:35:02.7116576Z         P2 = toric_varieties.P2()\n2020-04-28T07:35:02.7116910Z       File \"/sage/local/lib/python3.7/site-packages/sage/schemes/toric/library.py\", line 531, in P2\n2020-04-28T07:35:02.7117218Z         return self._make_CPRFanoToricVariety('P2', names, base_ring)\n2020-04-28T07:35:02.7117588Z       File \"/sage/local/lib/python3.7/site-packages/sage/schemes/toric/library.py\", line 267, in _make_CPRFanoToricVariety\n2020-04-28T07:35:02.7117724Z         points = [tuple(_) for _ in polytope.points()]\n2020-04-28T07:35:02.7118071Z       File \"/sage/local/lib/python3.7/site-packages/sage/geometry/lattice_polytope.py\", line 3747, in points\n2020-04-28T07:35:02.7118190Z         points = read_palp_point_collection(StringIO(result), M)\n2020-04-28T07:35:02.7118333Z       File \"sage/geometry/point_collection.pyx\", line 1000, in sage.geometry.point_collection.read_palp_point_collection (build/cythonized/sage/geometry/point_collection.c:8112)\n2020-04-28T07:35:02.7118464Z         m = int(first_line[0])\n2020-04-28T07:35:02.7118763Z     ValueError: invalid literal for int() with base 10: 'Bad'\n```",
    "created_at": "2020-04-28T13:31:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460007",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:29" align="right">comment:29</div>

Most of them are of the form,

```
2020-04-28T07:35:02.7114886Z File "src/sage/schemes/toric/divisor.py", line 1926, in sage.schemes.toric.divisor.ToricRationalDivisorClassGroup
2020-04-28T07:35:02.7115019Z Failed example:
2020-04-28T07:35:02.7115157Z     P2 = toric_varieties.P2()
2020-04-28T07:35:02.7115258Z Exception raised:
2020-04-28T07:35:02.7115360Z     Traceback (most recent call last):
2020-04-28T07:35:02.7115725Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
2020-04-28T07:35:02.7115858Z         self.compile_and_execute(example, compiler, test.globs)
2020-04-28T07:35:02.7116212Z       File "/sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
2020-04-28T07:35:02.7116337Z         exec(compiled, globs)
2020-04-28T07:35:02.7116448Z       File "<doctest sage.schemes.toric.divisor.ToricRationalDivisorClassGroup[0]>", line 1, in <module>
2020-04-28T07:35:02.7116576Z         P2 = toric_varieties.P2()
2020-04-28T07:35:02.7116910Z       File "/sage/local/lib/python3.7/site-packages/sage/schemes/toric/library.py", line 531, in P2
2020-04-28T07:35:02.7117218Z         return self._make_CPRFanoToricVariety('P2', names, base_ring)
2020-04-28T07:35:02.7117588Z       File "/sage/local/lib/python3.7/site-packages/sage/schemes/toric/library.py", line 267, in _make_CPRFanoToricVariety
2020-04-28T07:35:02.7117724Z         points = [tuple(_) for _ in polytope.points()]
2020-04-28T07:35:02.7118071Z       File "/sage/local/lib/python3.7/site-packages/sage/geometry/lattice_polytope.py", line 3747, in points
2020-04-28T07:35:02.7118190Z         points = read_palp_point_collection(StringIO(result), M)
2020-04-28T07:35:02.7118333Z       File "sage/geometry/point_collection.pyx", line 1000, in sage.geometry.point_collection.read_palp_point_collection (build/cythonized/sage/geometry/point_collection.c:8112)
2020-04-28T07:35:02.7118464Z         m = int(first_line[0])
2020-04-28T07:35:02.7118763Z     ValueError: invalid literal for int() with base 10: 'Bad'
```



---

archive/issue_comments_460008.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nIs this gfan?",
    "created_at": "2020-04-28T13:35:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460008",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Is this gfan?



---

archive/issue_comments_460009.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nIt's a palp issue. #29612",
    "created_at": "2020-04-28T13:40:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460009",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:31" align="right">comment:31</div>

It's a palp issue. #29612



---

archive/issue_comments_460010.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nTests (also with #29607; but not with #29612) run at https://github.com/mkoeppe/sage/actions/runs/90914869",
    "created_at": "2020-04-29T16:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460010",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

Tests (also with #29607; but not with #29612) run at https://github.com/mkoeppe/sage/actions/runs/90914869



---

archive/issue_comments_460011.json:
```json
{
    "body": "Dependencies: **#29574, #29596, #29597, #29598, #29601, #26287, #29606, #29612, #29618**",
    "created_at": "2020-04-29T17:07:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460011",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#29574, #29596, #29597, #29598, #29601, #26287, #29606, #29612, #29618**



---

archive/issue_events_400205.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-29T17:07:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "title_is": "Meta-ticket: docker-conda-forge-standar, local-ubuntu-conda-forge-standard: Fix build errors with python3, giac, ecl, m4rie, libgd, ...",
    "title_was": "Fix build errors with python3, giac, ecl, m4rie, libgd on docker-conda-forge-standard and local-ubuntu-conda-forge-standard",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400205"
}
```



---

archive/issue_events_400206.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-29T17:07:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "title_is": "Meta-ticket: docker-conda-forge-standard, local-ubuntu-conda-forge-standard: Fix build errors with python3, giac, ecl, m4rie, libgd, ...",
    "title_was": "Meta-ticket: docker-conda-forge-standar, local-ubuntu-conda-forge-standard: Fix build errors with python3, giac, ecl, m4rie, libgd, ...",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400206"
}
```



---

archive/issue_comments_460012.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nFailures of some optional packages on `conda-forge-macos` can be seen at https://github.com/mkoeppe/sage/runs/631927929",
    "created_at": "2020-04-30T06:57:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460012",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">comment:35</div>

Failures of some optional packages on `conda-forge-macos` can be seen at https://github.com/mkoeppe/sage/runs/631927929



---

archive/issue_comments_460013.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n`libsemigroups` failure is fixed in later releases. Is there a config.log for `latte_int` failure?",
    "created_at": "2020-04-30T14:08:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460013",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:36" align="right">comment:36</div>

`libsemigroups` failure is fixed in later releases. Is there a config.log for `latte_int` failure?



---

archive/issue_events_400207.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:32:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400207"
}
```



---

archive/issue_events_400208.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:32:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400208"
}
```



---

archive/issue_comments_460014.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nLet's close this ticket and revisit optional package at some time in the 9.2 cycle after updates have been done, including probably a `latte_int` update.",
    "created_at": "2020-05-07T02:32:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460014",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:37" align="right">comment:37</div>

Let's close this ticket and revisit optional package at some time in the 9.2 cycle after updates have been done, including probably a `latte_int` update.



---

archive/issue_comments_460015.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nIs there a follow-up ticket for this? We're well into the 9.2 cycle.",
    "created_at": "2020-10-05T10:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460015",
    "user": "https://github.com/slel"
}
```

<div id="comment:38" align="right">comment:38</div>

Is there a follow-up ticket for this? We're well into the 9.2 cycle.



---

archive/issue_events_400209.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-05T10:06:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400209"
}
```



---

archive/issue_events_400210.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-10-05T10:06:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400210"
}
```



---

archive/issue_comments_460016.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, Samuel Leli\u00e8vre**",
    "created_at": "2020-10-05T10:06:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29327#issuecomment-460016",
    "user": "https://github.com/slel"
}
```

Reviewer: **Matthias Koeppe, Samuel Lelièvre**



---

archive/issue_events_400211.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-27T19:47:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400211"
}
```



---

archive/issue_events_400212.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-27T19:47:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29327",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29327#event-400212"
}
```
