# Issue 29033: Support minimal system Python version 3.6 (for venv)

archive/issues_028796.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nWith #27824 it is possible to create a venv over an existing Python 3.7 instead of building the python3 spkg.  \n\nThis is designed to work with Python 3.7 (and < 3.8) since that's what's currently used by sage-the-distribution and is best-tested.\n\nHowever, it turns out an existing Python 3.6 can work just fine as the minimum Python version with a few small fixes (sage-the-distribution used Python 3.6 until last year, so the degree to which we diverged from supporting it was minimal).\n\nThis would be a nice-to-have, as it would speed up the build on various distributions that we still support: \n- `centos-8` (3.6.8), \n- `fedora-26` (3.6.5, but has 3.7.0 too), https://github.com/mkoeppe/sage/runs/743789829 - clean doctests, but exceeds 6h\n- `fedora-27` (3.6.6, but has 3.7.0 too), https://github.com/mkoeppe/sage/runs/743789883 - clean except for sympow, exceeds 6h\n- `fedora-28` (3.6.5, but has 3.7.3 too), https://github.com/mkoeppe/sage/runs/743789896 - with `gcc_spkg`, build errors for gmpy2, cython, pynac\n- `opensuse-leap-15.0` (3.6.5), `-15.1` (3.6.9), `-15.2` (3.6.10), \nbut not (because python3 is too old):\n- `debian-stretch` (oldstable) (3.5.3),\n- `ubuntu-xenial` (3.5.2)\nand not (because a dependency of python3 is too old):\n- `centos-7` (3.6.8): `sqlite` is too old (https://github.com/mkoeppe/sage/runs/743789990)\n\n(All this is according to https://repology.org/project/python/versions as of 2020-06-05, not verified.)\n\nMaybe since Sage is less tested with 3.6, there could be a warning against using it.\n\nSee also: #27754 (Upgrade: Python 3.8.x)\n\nCC:  @jhpalmieri @dimpase @kiwifb @orlitzky\n\nComponent: **python3**\n\nAuthor: **Erik Bray, Matthias Koeppe**\n\nBranch: **[`abb5607`](https://github.com/sagemath/sagetrac-mirror/commit/abb5607710a2a5cc5415423489fa452965cbef68)**\n\nReviewer: **Matthias Koeppe, Michael Orlitzky**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29033_\n\n",
    "closed_at": "2020-06-21T22:37:13Z",
    "created_at": "2020-01-17T17:36:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Support minimal system Python version 3.6 (for venv)",
    "type": "issue",
    "updated_at": "2020-12-05T03:32:14Z",
    "url": "https://github.com/sagemath/sage/issues/29033",
    "user": "https://github.com/embray"
}
```
<div id="comment:0"></div>

With #27824 it is possible to create a venv over an existing Python 3.7 instead of building the python3 spkg.  

This is designed to work with Python 3.7 (and < 3.8) since that's what's currently used by sage-the-distribution and is best-tested.

However, it turns out an existing Python 3.6 can work just fine as the minimum Python version with a few small fixes (sage-the-distribution used Python 3.6 until last year, so the degree to which we diverged from supporting it was minimal).

This would be a nice-to-have, as it would speed up the build on various distributions that we still support: 
- `centos-8` (3.6.8), 
- `fedora-26` (3.6.5, but has 3.7.0 too), https://github.com/mkoeppe/sage/runs/743789829 - clean doctests, but exceeds 6h
- `fedora-27` (3.6.6, but has 3.7.0 too), https://github.com/mkoeppe/sage/runs/743789883 - clean except for sympow, exceeds 6h
- `fedora-28` (3.6.5, but has 3.7.3 too), https://github.com/mkoeppe/sage/runs/743789896 - with `gcc_spkg`, build errors for gmpy2, cython, pynac
- `opensuse-leap-15.0` (3.6.5), `-15.1` (3.6.9), `-15.2` (3.6.10), 
but not (because python3 is too old):
- `debian-stretch` (oldstable) (3.5.3),
- `ubuntu-xenial` (3.5.2)
and not (because a dependency of python3 is too old):
- `centos-7` (3.6.8): `sqlite` is too old (https://github.com/mkoeppe/sage/runs/743789990)

(All this is according to https://repology.org/project/python/versions as of 2020-06-05, not verified.)

Maybe since Sage is less tested with 3.6, there could be a warning against using it.

See also: #27754 (Upgrade: Python 3.8.x)

CC:  @jhpalmieri @dimpase @kiwifb @orlitzky

Component: **python3**

Author: **Erik Bray, Matthias Koeppe**

Branch: **[`abb5607`](https://github.com/sagemath/sagetrac-mirror/commit/abb5607710a2a5cc5415423489fa452965cbef68)**

Reviewer: **Matthias Koeppe, Michael Orlitzky**

_Issue created by migration from https://trac.sagemath.org/ticket/29033_





---

archive/issue_events_395910.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-17T17:36:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395910"
}
```



---

archive/issue_events_395911.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-17T17:36:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395911"
}
```



---

archive/issue_events_395912.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-17T17:36:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395912"
}
```



---

archive/issue_events_395913.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-17T17:36:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395913"
}
```



---

archive/issue_events_395914.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-17T17:36:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395914"
}
```



---

archive/issue_comments_453751.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nRelated to the question of what Python versions are good is #26457 - \"Do not depend on a patched Python\"",
    "created_at": "2020-01-17T20:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453751",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

Related to the question of what Python versions are good is #26457 - "Do not depend on a patched Python"



---

archive/issue_events_395915.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395915"
}
```



---

archive/issue_events_395916.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395916"
}
```



---

archive/issue_comments_453752.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453752",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_453753.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-With #29032 it is possible to use an existing Python 3.7 on the system to build and run Sage.  This is designed to work with Python 3.7 (and < 3.8) since that's what's currently used by sage-the-distribution and is best-tested.\n+With #27824 it is possible to use an existing Python 3.7 on the system to build and run Sage.  This is designed to work with Python 3.7 (and < 3.8) since that's what's currently used by sage-the-distribution and is best-tested.\n \n However, it turns out an existing Python 3.6 can work just fine as the minimum Python version with a few small fixes (sage-the-distribution used Python 3.6 until last year, so the degree to which we diverged from supporting it was minimal).\n \n``````\n",
    "created_at": "2020-04-22T05:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453753",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-With #29032 it is possible to use an existing Python 3.7 on the system to build and run Sage.  This is designed to work with Python 3.7 (and < 3.8) since that's what's currently used by sage-the-distribution and is best-tested.
+With #27824 it is possible to use an existing Python 3.7 on the system to build and run Sage.  This is designed to work with Python 3.7 (and < 3.8) since that's what's currently used by sage-the-distribution and is best-tested.
 
 However, it turns out an existing Python 3.6 can work just fine as the minimum Python version with a few small fixes (sage-the-distribution used Python 3.6 until last year, so the degree to which we diverged from supporting it was minimal).
 
``````




---

archive/issue_comments_453754.json:
```json
{
    "body": "Changed dependencies from **#29032** to none",
    "created_at": "2020-04-22T05:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453754",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29032** to none



---

archive/issue_events_395917.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-22T05:33:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395917"
}
```



---

archive/issue_events_395918.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-22T05:33:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395918"
}
```



---

archive/issue_comments_453755.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis would need rebasing",
    "created_at": "2020-04-22T05:33:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453755",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

This would need rebasing



---

archive/issue_events_395919.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-28T06:08:22Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "title_is": "Support minimal system Python version 3.6 (for venv)",
    "title_was": "Support minimal system Python version 3.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395919"
}
```



---

archive/issue_comments_453756.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n-With #27824 it is possible to use an existing Python 3.7 on the system to build and run Sage.  This is designed to work with Python 3.7 (and < 3.8) since that's what's currently used by sage-the-distribution and is best-tested.\n+With #27824 it is possible to create a venv over an existing Python 3.7 instead of building the python3 spkg.  \n+\n+This is designed to work with Python 3.7 (and < 3.8) since that's what's currently used by sage-the-distribution and is best-tested.\n \n However, it turns out an existing Python 3.6 can work just fine as the minimum Python version with a few small fixes (sage-the-distribution used Python 3.6 until last year, so the degree to which we diverged from supporting it was minimal).\n \n``````\n",
    "created_at": "2020-05-28T06:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453756",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
-With #27824 it is possible to use an existing Python 3.7 on the system to build and run Sage.  This is designed to work with Python 3.7 (and < 3.8) since that's what's currently used by sage-the-distribution and is best-tested.
+With #27824 it is possible to create a venv over an existing Python 3.7 instead of building the python3 spkg.  
+
+This is designed to work with Python 3.7 (and < 3.8) since that's what's currently used by sage-the-distribution and is best-tested.
 
 However, it turns out an existing Python 3.6 can work just fine as the minimum Python version with a few small fixes (sage-the-distribution used Python 3.6 until last year, so the degree to which we diverged from supporting it was minimal).
 
``````




---

archive/issue_comments_453757.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nEdited description to clarify that this is about the venv python3, not sage-system-python.",
    "created_at": "2020-05-28T06:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453757",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Edited description to clarify that this is about the venv python3, not sage-system-python.



---

archive/issue_comments_453758.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,13 @@\n \n However, it turns out an existing Python 3.6 can work just fine as the minimum Python version with a few small fixes (sage-the-distribution used Python 3.6 until last year, so the degree to which we diverged from supporting it was minimal).\n \n-I think this would be a nice-to-have, if not strictly necessary.  Maybe since Sage is less tested with 3.6, there could be a warning against using it.  But actually I'd be happy to keep running a Python 3.6 patchbot for a while until/unless it becomes untenable to support Python 3.6.\n+This would be a nice-to-have, as it would speed up the build on various distributions that we still support: \n+- `centos-7` (3.6.8), `-8` (3.6.8), \n+- `fedora-26` (3.6.5, but has 3.7.0 too), `27` (3.6.6, but has 3.7.0 too), `-28` (3.6.5, but has 3.7.3 too), \n+- `opensuse-leap-15.0` (3.6.5), `opensuse-15.1 (3.6.9), opensuse-15.2 (3.6.10), \n+but not:\n+- `debian-oldstable` (3.5.3),\n+- `ubuntu-xenial` (3.5.2).\n+(All this is according to https://repology.org/project/python/versions, not verified.\n+\n+Maybe since Sage is less tested with 3.6, there could be a warning against using it.\n``````\n",
    "created_at": "2020-06-05T21:00:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453758",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,13 @@
 
 However, it turns out an existing Python 3.6 can work just fine as the minimum Python version with a few small fixes (sage-the-distribution used Python 3.6 until last year, so the degree to which we diverged from supporting it was minimal).
 
-I think this would be a nice-to-have, if not strictly necessary.  Maybe since Sage is less tested with 3.6, there could be a warning against using it.  But actually I'd be happy to keep running a Python 3.6 patchbot for a while until/unless it becomes untenable to support Python 3.6.
+This would be a nice-to-have, as it would speed up the build on various distributions that we still support: 
+- `centos-7` (3.6.8), `-8` (3.6.8), 
+- `fedora-26` (3.6.5, but has 3.7.0 too), `27` (3.6.6, but has 3.7.0 too), `-28` (3.6.5, but has 3.7.3 too), 
+- `opensuse-leap-15.0` (3.6.5), `opensuse-15.1 (3.6.9), opensuse-15.2 (3.6.10), 
+but not:
+- `debian-oldstable` (3.5.3),
+- `ubuntu-xenial` (3.5.2).
+(All this is according to https://repology.org/project/python/versions, not verified.
+
+Maybe since Sage is less tested with 3.6, there could be a warning against using it.
``````




---

archive/issue_comments_453759.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,8 +6,8 @@\n \n This would be a nice-to-have, as it would speed up the build on various distributions that we still support: \n - `centos-7` (3.6.8), `-8` (3.6.8), \n-- `fedora-26` (3.6.5, but has 3.7.0 too), `27` (3.6.6, but has 3.7.0 too), `-28` (3.6.5, but has 3.7.3 too), \n-- `opensuse-leap-15.0` (3.6.5), `opensuse-15.1 (3.6.9), opensuse-15.2 (3.6.10), \n+- `fedora-26` (3.6.5, but has 3.7.0 too), `-27` (3.6.6, but has 3.7.0 too), `-28` (3.6.5, but has 3.7.3 too), \n+- `opensuse-leap-15.0` (3.6.5), `-15.1` (3.6.9), `-15.2` (3.6.10), \n but not:\n - `debian-oldstable` (3.5.3),\n - `ubuntu-xenial` (3.5.2).\n``````\n",
    "created_at": "2020-06-05T21:01:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453759",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,8 +6,8 @@
 
 This would be a nice-to-have, as it would speed up the build on various distributions that we still support: 
 - `centos-7` (3.6.8), `-8` (3.6.8), 
-- `fedora-26` (3.6.5, but has 3.7.0 too), `27` (3.6.6, but has 3.7.0 too), `-28` (3.6.5, but has 3.7.3 too), 
-- `opensuse-leap-15.0` (3.6.5), `opensuse-15.1 (3.6.9), opensuse-15.2 (3.6.10), 
+- `fedora-26` (3.6.5, but has 3.7.0 too), `-27` (3.6.6, but has 3.7.0 too), `-28` (3.6.5, but has 3.7.3 too), 
+- `opensuse-leap-15.0` (3.6.5), `-15.1` (3.6.9), `-15.2` (3.6.10), 
 but not:
 - `debian-oldstable` (3.5.3),
 - `ubuntu-xenial` (3.5.2).
``````




---

archive/issue_comments_453760.json:
```json
{
    "body": "Changed branch from **[u/embray/build/configure/python3.6](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/configure/python3.6)** to **[u/mkoeppe/build/configure/python3.6](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build/configure/python3.6)**",
    "created_at": "2020-06-05T21:07:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453760",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/embray/build/configure/python3.6](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/build/configure/python3.6)** to **[u/mkoeppe/build/configure/python3.6](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build/configure/python3.6)**



---

archive/issue_comments_453761.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nTests at https://github.com/mkoeppe/sage/pull/37/checks\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abb5607710a2a5cc5415423489fa452965cbef68\"><code>abb5607</code></a></td><td><code>Allow Sage to work with a system Python 3.6.</code></td></tr></table>\n",
    "created_at": "2020-06-05T21:15:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453761",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Tests at https://github.com/mkoeppe/sage/pull/37/checks

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abb5607710a2a5cc5415423489fa452965cbef68"><code>abb5607</code></a></td><td><code>Allow Sage to work with a system Python 3.6.</code></td></tr></table>




---

archive/issue_comments_453762.json:
```json
{
    "body": "Changed commit from **[`b4a777e`](https://github.com/sagemath/sagetrac-mirror/commit/b4a777ec60bee2fecdbeb0396afcfde30d4e5e62)** to **[`abb5607`](https://github.com/sagemath/sagetrac-mirror/commit/abb5607710a2a5cc5415423489fa452965cbef68)**",
    "created_at": "2020-06-05T21:15:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453762",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`b4a777e`](https://github.com/sagemath/sagetrac-mirror/commit/b4a777ec60bee2fecdbeb0396afcfde30d4e5e62)** to **[`abb5607`](https://github.com/sagemath/sagetrac-mirror/commit/abb5607710a2a5cc5415423489fa452965cbef68)**



---

archive/issue_events_395920.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-05T21:20:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395920"
}
```



---

archive/issue_events_395921.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-05T21:20:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395921"
}
```



---

archive/issue_comments_453763.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,6 +11,6 @@\n but not:\n - `debian-oldstable` (3.5.3),\n - `ubuntu-xenial` (3.5.2).\n-(All this is according to https://repology.org/project/python/versions, not verified.\n+(All this is according to https://repology.org/project/python/versions as of 2020-06-05, not verified.)\n \n Maybe since Sage is less tested with 3.6, there could be a warning against using it.\n``````\n",
    "created_at": "2020-06-05T21:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453763",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,6 +11,6 @@
 but not:
 - `debian-oldstable` (3.5.3),
 - `ubuntu-xenial` (3.5.2).
-(All this is according to https://repology.org/project/python/versions, not verified.
+(All this is according to https://repology.org/project/python/versions as of 2020-06-05, not verified.)
 
 Maybe since Sage is less tested with 3.6, there could be a warning against using it.
``````




---

archive/issue_comments_453764.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,3 +14,5 @@\n (All this is according to https://repology.org/project/python/versions as of 2020-06-05, not verified.)\n \n Maybe since Sage is less tested with 3.6, there could be a warning against using it.\n+\n+See also: #27754 (Upgrade: Python 3.8.x)\n``````\n",
    "created_at": "2020-06-05T21:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453764",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,3 +14,5 @@
 (All this is according to https://repology.org/project/python/versions as of 2020-06-05, not verified.)
 
 Maybe since Sage is less tested with 3.6, there could be a warning against using it.
+
+See also: #27754 (Upgrade: Python 3.8.x)
``````




---

archive/issue_comments_453765.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,12 +5,17 @@\n However, it turns out an existing Python 3.6 can work just fine as the minimum Python version with a few small fixes (sage-the-distribution used Python 3.6 until last year, so the degree to which we diverged from supporting it was minimal).\n \n This would be a nice-to-have, as it would speed up the build on various distributions that we still support: \n-- `centos-7` (3.6.8), `-8` (3.6.8), \n-- `fedora-26` (3.6.5, but has 3.7.0 too), `-27` (3.6.6, but has 3.7.0 too), `-28` (3.6.5, but has 3.7.3 too), \n+- `centos-8` (3.6.8), \n+- `fedora-26` (3.6.5, but has 3.7.0 too), https://github.com/mkoeppe/sage/runs/743789829 - clean doctests, but exceeds 6h\n+- `fedora-27` (3.6.6, but has 3.7.0 too), https://github.com/mkoeppe/sage/runs/743789883 - clean except for sympow, exceeds 6h\n+- `fedora-28` (3.6.5, but has 3.7.3 too), https://github.com/mkoeppe/sage/runs/743789896 - with `gcc_spkg`, build errors for gmpy2, cython, pynac\n - `opensuse-leap-15.0` (3.6.5), `-15.1` (3.6.9), `-15.2` (3.6.10), \n-but not:\n-- `debian-oldstable` (3.5.3),\n-- `ubuntu-xenial` (3.5.2).\n+but not (because python3 is too old):\n+- `debian-stretch` (oldstable) (3.5.3),\n+- `ubuntu-xenial` (3.5.2)\n+and not (because a dependency of python3 is too old):\n+- `centos-7` (3.6.8): `sqlite` is too old (https://github.com/mkoeppe/sage/runs/743789990)\n+\n (All this is according to https://repology.org/project/python/versions as of 2020-06-05, not verified.)\n \n Maybe since Sage is less tested with 3.6, there could be a warning against using it.\n``````\n",
    "created_at": "2020-06-06T06:14:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453765",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,12 +5,17 @@
 However, it turns out an existing Python 3.6 can work just fine as the minimum Python version with a few small fixes (sage-the-distribution used Python 3.6 until last year, so the degree to which we diverged from supporting it was minimal).
 
 This would be a nice-to-have, as it would speed up the build on various distributions that we still support: 
-- `centos-7` (3.6.8), `-8` (3.6.8), 
-- `fedora-26` (3.6.5, but has 3.7.0 too), `-27` (3.6.6, but has 3.7.0 too), `-28` (3.6.5, but has 3.7.3 too), 
+- `centos-8` (3.6.8), 
+- `fedora-26` (3.6.5, but has 3.7.0 too), https://github.com/mkoeppe/sage/runs/743789829 - clean doctests, but exceeds 6h
+- `fedora-27` (3.6.6, but has 3.7.0 too), https://github.com/mkoeppe/sage/runs/743789883 - clean except for sympow, exceeds 6h
+- `fedora-28` (3.6.5, but has 3.7.3 too), https://github.com/mkoeppe/sage/runs/743789896 - with `gcc_spkg`, build errors for gmpy2, cython, pynac
 - `opensuse-leap-15.0` (3.6.5), `-15.1` (3.6.9), `-15.2` (3.6.10), 
-but not:
-- `debian-oldstable` (3.5.3),
-- `ubuntu-xenial` (3.5.2).
+but not (because python3 is too old):
+- `debian-stretch` (oldstable) (3.5.3),
+- `ubuntu-xenial` (3.5.2)
+and not (because a dependency of python3 is too old):
+- `centos-7` (3.6.8): `sqlite` is too old (https://github.com/mkoeppe/sage/runs/743789990)
+
 (All this is according to https://repology.org/project/python/versions as of 2020-06-05, not verified.)
 
 Maybe since Sage is less tested with 3.6, there could be a warning against using it.
``````




---

archive/issue_comments_453766.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nTODO: Check `fedora-28` and `centos-8` in https://github.com/mkoeppe/sage/actions/runs/126407840",
    "created_at": "2020-06-06T06:17:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453766",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

TODO: Check `fedora-28` and `centos-8` in https://github.com/mkoeppe/sage/actions/runs/126407840



---

archive/issue_comments_453767.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nLGTM if those tests pass.",
    "created_at": "2020-06-06T11:43:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453767",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:15" align="right">comment:15</div>

LGTM if those tests pass.



---

archive/issue_comments_453768.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nTests now at https://github.com/mkoeppe/sage/actions/runs/127369767",
    "created_at": "2020-06-07T03:23:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453768",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Tests now at https://github.com/mkoeppe/sage/actions/runs/127369767



---

archive/issue_events_395922.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-06-07T18:31:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395922"
}
```



---

archive/issue_events_395923.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-06-07T18:31:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395923"
}
```



---

archive/issue_comments_453769.json:
```json
{
    "body": "Reviewer: **Michael Orlitzky**",
    "created_at": "2020-06-07T18:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453769",
    "user": "https://github.com/orlitzky"
}
```

Reviewer: **Michael Orlitzky**



---

archive/issue_comments_453770.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThank you!",
    "created_at": "2020-06-07T18:36:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453770",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Thank you!



---

archive/issue_comments_453771.json:
```json
{
    "body": "Changed author from **Erik Bray** to **Erik Bray, Matthias Koeppe**",
    "created_at": "2020-06-07T18:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453771",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Erik Bray** to **Erik Bray, Matthias Koeppe**



---

archive/issue_comments_453772.json:
```json
{
    "body": "Changed reviewer from **Michael Orlitzky** to **Matthias Koeppe, Michael Orlitzky**",
    "created_at": "2020-06-07T18:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453772",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Michael Orlitzky** to **Matthias Koeppe, Michael Orlitzky**



---

archive/issue_events_395924.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-21T22:37:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395924"
}
```



---

archive/issue_events_395925.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7b7fee5dc29f9affb63a04790a89174ff5a3c5dd",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-06-21T22:37:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29033#event-395925"
}
```



---

archive/issue_comments_453773.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/build/configure/python3.6](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build/configure/python3.6)** to **[`abb5607`](https://github.com/sagemath/sagetrac-mirror/commit/abb5607710a2a5cc5415423489fa452965cbef68)**",
    "created_at": "2020-06-21T22:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453773",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/build/configure/python3.6](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/build/configure/python3.6)** to **[`abb5607`](https://github.com/sagemath/sagetrac-mirror/commit/abb5607710a2a5cc5415423489fa452965cbef68)**



---

archive/issue_comments_453774.json:
```json
{
    "body": "Changed commit from **[`abb5607`](https://github.com/sagemath/sagetrac-mirror/commit/abb5607710a2a5cc5415423489fa452965cbef68)** to none",
    "created_at": "2020-07-03T07:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453774",
    "user": "https://github.com/antonio-rojas"
}
```

Changed commit from **[`abb5607`](https://github.com/sagemath/sagetrac-mirror/commit/abb5607710a2a5cc5415423489fa452965cbef68)** to none



---

archive/issue_comments_453775.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nC.UTF-8 locale is a Debian-specific thing (and maybe Fedora). Please don't assume that it is available. On Arch, this causes lots (as in, one every other line in the compilation output) of warnings \n\n```\n/bin/sh: warning: setlocale: LC_ALL: cannot change locale (C.UTF-8)\n```",
    "created_at": "2020-07-03T07:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453775",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:21" align="right">comment:21</div>

C.UTF-8 locale is a Debian-specific thing (and maybe Fedora). Please don't assume that it is available. On Arch, this causes lots (as in, one every other line in the compilation output) of warnings 

```
/bin/sh: warning: setlocale: LC_ALL: cannot change locale (C.UTF-8)
```



---

archive/issue_comments_453776.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\non another ticket, fixing docbuild on non-EN locales, someone using Arch complained that `LANG=C` causes a lot of warnings.",
    "created_at": "2020-07-03T08:54:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453776",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

on another ticket, fixing docbuild on non-EN locales, someone using Arch complained that `LANG=C` causes a lot of warnings.



---

archive/issue_comments_453777.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@antonio-rojas](#comment%3A21):\n> C.UTF-8 locale is a Debian-specific thing (and maybe Fedora). Please don't assume that it is available.\n\nSorry about that, I didn't realize that Gentoo's glibc was patched (the patches are in an unusual place). It looks like discussion is still ongoing for glibc:\n\nhttps://sourceware.org/pipermail/libc-alpha/2020-June/115224.html\n\nMusl, on the other hand, already supports it I think?\n\nhttps://wiki.musl-libc.org/functional-differences-from-glibc.html\n\nIn any case, we should probably revert to `C` in the meantime.",
    "created_at": "2020-07-03T11:07:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453777",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@antonio-rojas](#comment%3A21):
> C.UTF-8 locale is a Debian-specific thing (and maybe Fedora). Please don't assume that it is available.

Sorry about that, I didn't realize that Gentoo's glibc was patched (the patches are in an unusual place). It looks like discussion is still ongoing for glibc:

https://sourceware.org/pipermail/libc-alpha/2020-June/115224.html

Musl, on the other hand, already supports it I think?

https://wiki.musl-libc.org/functional-differences-from-glibc.html

In any case, we should probably revert to `C` in the meantime.



---

archive/issue_comments_453778.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nthe locale issue is being dealt with on #30053",
    "created_at": "2020-07-03T13:31:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453778",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

the locale issue is being dealt with on #30053



---

archive/issue_comments_453779.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThis has introduced an unfortunate bug related to a weird search order in `AC_PATH_PROGS_FEATURE_CHECK()`, which has the outer loop over `PATH` entries.\nThus, a python on the list `[python.foo python.baz ....]` of pythons that comes first in `PATH` and has all the features will be picked, not the first python on the list.\n\nAs modifying `PATH` to put the best python 1st might be error-prone (think about Conda, Homebrew, etc), this should be fixed.\n\nThis is of course an autoconf bug, too, as `AC_PATH_PROGS()` has a sane order, ie. its outer loop is over the list entries.",
    "created_at": "2020-09-10T10:08:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453779",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

This has introduced an unfortunate bug related to a weird search order in `AC_PATH_PROGS_FEATURE_CHECK()`, which has the outer loop over `PATH` entries.
Thus, a python on the list `[python.foo python.baz ....]` of pythons that comes first in `PATH` and has all the features will be picked, not the first python on the list.

As modifying `PATH` to put the best python 1st might be error-prone (think about Conda, Homebrew, etc), this should be fixed.

This is of course an autoconf bug, too, as `AC_PATH_PROGS()` has a sane order, ie. its outer loop is over the list entries.



---

archive/issue_comments_453780.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@dimpase](#comment%3A25):\n> This has introduced an unfortunate bug related to a weird search order in `AC_PATH_PROGS_FEATURE_CHECK()`, which has the outer loop over `PATH` entries.\n> Thus, a python on the list `[python.foo python.baz ....]` of pythons that comes first in `PATH` and has all the features will be picked, not the first python on the list.\n> \n> As modifying `PATH` to put the best python 1st might be error-prone (think about Conda, Homebrew, etc), this should be fixed.\n> \n> This is of course an autoconf bug, too, as `AC_PATH_PROGS()` has a sane order, ie. its outer loop is over the list entries.\n> \n>   \n\nsee #30546 for a fix",
    "created_at": "2020-09-10T11:09:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453780",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@dimpase](#comment%3A25):
> This has introduced an unfortunate bug related to a weird search order in `AC_PATH_PROGS_FEATURE_CHECK()`, which has the outer loop over `PATH` entries.
> Thus, a python on the list `[python.foo python.baz ....]` of pythons that comes first in `PATH` and has all the features will be picked, not the first python on the list.
> 
> As modifying `PATH` to put the best python 1st might be error-prone (think about Conda, Homebrew, etc), this should be fixed.
> 
> This is of course an autoconf bug, too, as `AC_PATH_PROGS()` has a sane order, ie. its outer loop is over the list entries.
> 
>   

see #30546 for a fix



---

archive/issue_comments_453781.json:
```json
{
    "body": "Follow up regarding `centos-7`:\n> (because a dependency of python3 is too old):\n> - `centos-7` (3.6.8): `sqlite` is too old (https://github.com/mkoeppe/sage/runs/743789990)\n\nAfter #30559, `sqlite` is no longer the problem, but python3 is still not accepted on this system because of `zlib` -> `libpng`:\n\n```\nChecking whether SageMath should install SPKG zlib...\nchecking for inflateEnd in -lz... yes\nchecking zlib.h usability... yes\nchecking zlib.h presence... yes\nchecking for zlib.h... yes\nchecking for LIBPNG... no\nchecking for inflateValidate in -lz... no\nconfigure: no suitable system package found for SPKG zlib\n-----------------------------------------------------------------------------\nChecking whether SageMath should install SPKG libpng...\nchecking installing zlib? ... yes; install libpng as well\nconfigure: no suitable system package found for SPKG libpng\n```",
    "created_at": "2020-12-05T03:03:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453781",
    "user": "https://github.com/mkoeppe"
}
```

Follow up regarding `centos-7`:
> (because a dependency of python3 is too old):
> - `centos-7` (3.6.8): `sqlite` is too old (https://github.com/mkoeppe/sage/runs/743789990)

After #30559, `sqlite` is no longer the problem, but python3 is still not accepted on this system because of `zlib` -> `libpng`:

```
Checking whether SageMath should install SPKG zlib...
checking for inflateEnd in -lz... yes
checking zlib.h usability... yes
checking zlib.h presence... yes
checking for zlib.h... yes
checking for LIBPNG... no
checking for inflateValidate in -lz... no
configure: no suitable system package found for SPKG zlib
-----------------------------------------------------------------------------
Checking whether SageMath should install SPKG libpng...
checking installing zlib? ... yes; install libpng as well
configure: no suitable system package found for SPKG libpng
```



---

archive/issue_comments_453782.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n#31009 is taking care of this.",
    "created_at": "2020-12-05T03:32:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29033",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29033#issuecomment-453782",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

#31009 is taking care of this.
