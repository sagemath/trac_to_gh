# Issue 29977: Make modular doctests ready for random seeds

archive/issues_029740.json:
```json
{
    "assignees": [],
    "body": "This ticket makes\n\n```\nsage -t --long --random-seed=n src/sage/modular/\n```\npass for different values `n` than just `0`.\n\nDepends on #32124\n\nCC:  @dimpase\n\nBranch/Commit: **[`a890c4d`](https://github.com/sagemath/sagetrac-mirror/commit/a890c4d0b800bc014f2ccdcca7a87a71b280a6b8)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Jonathan Kliem**\n\nComponent: **doctest framework**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29977_\n\n",
    "closed_at": "2021-07-24T15:28:50Z",
    "created_at": "2020-06-24T21:31:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20doctest%20framework",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make modular doctests ready for random seeds",
    "type": "issue",
    "updated_at": "2021-07-24T15:28:50Z",
    "url": "https://github.com/sagemath/sage/issues/29977",
    "user": "https://github.com/kliem"
}
```
This ticket makes

```
sage -t --long --random-seed=n src/sage/modular/
```
pass for different values `n` than just `0`.

Depends on #32124

CC:  @dimpase

Branch/Commit: **[`a890c4d`](https://github.com/sagemath/sagetrac-mirror/commit/a890c4d0b800bc014f2ccdcca7a87a71b280a6b8)**

Reviewer: **Dima Pasechnik**

Author: **Jonathan Kliem**

Component: **doctest framework**

_Issue created by migration from https://trac.sagemath.org/ticket/29977_





---

archive/issue_events_409646.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-24T21:31:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409646"
}
```



---

archive/issue_events_409647.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-24T21:31:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20doctest%20framework",
    "label_color": "0000b0",
    "label_name": "c: doctest framework",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409647"
}
```



---

archive/issue_events_409648.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-24T21:31:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409648"
}
```



---

archive/issue_events_409649.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-06-24T21:31:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409649"
}
```



---

archive/issue_comments_474258.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI have a partial fix. After that at least the following need fixing\n\n```\nsage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/arithgroup/arithgroup_perm.py  # 5 doctests failed\nsage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/arithgroup/congroup_sl2z.py  # 3 doctests failed\nsage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/dirichlet.py  # 2 doctests failed\nsage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/hecke/algebra.py  # 1 doctest failed\nsage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/modform/numerical.py  # 2 doctests failed\nsage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/overconvergent/hecke_series.py  # 1 doctest failed\n```",
    "created_at": "2020-06-24T21:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474258",
    "user": "https://github.com/kliem"
}
```

<div id="comment:1" align="right">comment:1</div>

I have a partial fix. After that at least the following need fixing

```
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/arithgroup/arithgroup_perm.py  # 5 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/arithgroup/congroup_sl2z.py  # 3 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/dirichlet.py  # 2 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/hecke/algebra.py  # 1 doctest failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/modform/numerical.py  # 2 doctests failed
sage -t --long --random-seed=151058820726654196682836430928254760259 src/sage/modular/overconvergent/hecke_series.py  # 1 doctest failed
```



---

archive/issue_comments_474259.json:
```json
{
    "body": "Dependencies: **#29962**",
    "created_at": "2020-06-24T21:38:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474259",
    "user": "https://github.com/kliem"
}
```

Dependencies: **#29962**



---

archive/issue_comments_474260.json:
```json
{
    "body": "Commit: **[`48456b4`](https://github.com/sagemath/sagetrac-mirror/commit/48456b40531ada29e426a385a3666b847ce7c7aa)**",
    "created_at": "2020-06-24T21:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474260",
    "user": "https://github.com/kliem"
}
```

Commit: **[`48456b4`](https://github.com/sagemath/sagetrac-mirror/commit/48456b40531ada29e426a385a3666b847ce7c7aa)**



---

archive/issue_comments_474261.json:
```json
{
    "body": "Branch: **[public/29977](https://github.com/sagemath/sagetrac-mirror/tree/public/29977)**",
    "created_at": "2020-06-24T21:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474261",
    "user": "https://github.com/kliem"
}
```

Branch: **[public/29977](https://github.com/sagemath/sagetrac-mirror/tree/public/29977)**



---

archive/issue_comments_474262.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da1c6beec7d0bb6b972d88ecf9fb4eccbdf285a5\"><code>da1c6be</code></a></td><td><code>start from a \"random\" random seed for doctesting</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7b836d789e034433d62f331f33fbc1821c0deaa\"><code>b7b836d</code></a></td><td><code>make random seed reproducible</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eedbe5ebea9c2b9da79404013c566fe17d0a3e20\"><code>eedbe5e</code></a></td><td><code>document random_seed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/998b1b94ce1289ea92451a86e5f6191c37eaeb5a\"><code>998b1b9</code></a></td><td><code>default random seed 0 for now</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d7b00e3fc2ebc1dc9982a2df91d15e3f12e9432\"><code>1d7b00e</code></a></td><td><code>dash instead of underscore for command line options</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48456b40531ada29e426a385a3666b847ce7c7aa\"><code>48456b4</code></a></td><td><code>partially make modular fuzz ready</code></td></tr></table>\n",
    "created_at": "2020-06-24T21:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474262",
    "user": "https://github.com/kliem"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da1c6beec7d0bb6b972d88ecf9fb4eccbdf285a5"><code>da1c6be</code></a></td><td><code>start from a "random" random seed for doctesting</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7b836d789e034433d62f331f33fbc1821c0deaa"><code>b7b836d</code></a></td><td><code>make random seed reproducible</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eedbe5ebea9c2b9da79404013c566fe17d0a3e20"><code>eedbe5e</code></a></td><td><code>document random_seed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/998b1b94ce1289ea92451a86e5f6191c37eaeb5a"><code>998b1b9</code></a></td><td><code>default random seed 0 for now</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d7b00e3fc2ebc1dc9982a2df91d15e3f12e9432"><code>1d7b00e</code></a></td><td><code>dash instead of underscore for command line options</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48456b40531ada29e426a385a3666b847ce7c7aa"><code>48456b4</code></a></td><td><code>partially make modular fuzz ready</code></td></tr></table>




---

archive/issue_events_409650.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409650"
}
```



---

archive/issue_events_409651.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409651"
}
```



---

archive/issue_events_409652.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409652"
}
```



---

archive/issue_events_409653.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409653"
}
```



---

archive/issue_comments_474263.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474263",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_474264.json:
```json
{
    "body": "Changed commit from **[`48456b4`](https://github.com/sagemath/sagetrac-mirror/commit/48456b40531ada29e426a385a3666b847ce7c7aa)** to **[`20365ae`](https://github.com/sagemath/sagetrac-mirror/commit/20365ae3158ebc77e2c8ea70b1e08316af7b2f5d)**",
    "created_at": "2021-06-30T10:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474264",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`48456b4`](https://github.com/sagemath/sagetrac-mirror/commit/48456b40531ada29e426a385a3666b847ce7c7aa)** to **[`20365ae`](https://github.com/sagemath/sagetrac-mirror/commit/20365ae3158ebc77e2c8ea70b1e08316af7b2f5d)**



---

archive/issue_comments_474265.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20365ae3158ebc77e2c8ea70b1e08316af7b2f5d\"><code>20365ae</code></a></td><td><code>make modular ready for fuzzed doctests</code></td></tr></table>\n",
    "created_at": "2021-06-30T10:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474265",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20365ae3158ebc77e2c8ea70b1e08316af7b2f5d"><code>20365ae</code></a></td><td><code>make modular ready for fuzzed doctests</code></td></tr></table>




---

archive/issue_events_409654.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-06-30T10:29:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409654"
}
```



---

archive/issue_comments_474266.json:
```json
{
    "body": "Author: **Jonathan Kliem**",
    "created_at": "2021-06-30T10:29:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474266",
    "user": "https://github.com/kliem"
}
```

Author: **Jonathan Kliem**



---

archive/issue_comments_474267.json:
```json
{
    "body": "Changed dependencies from **#29962** to none",
    "created_at": "2021-06-30T12:00:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474267",
    "user": "https://github.com/kliem"
}
```

Changed dependencies from **#29962** to none



---

archive/issue_comments_474268.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nContinuing the discussion from [#30801 comment:202](https://github.com/sagemath/sage/issues/30801#comment:202)\nand following comments here.\n\nOne way to get compiler independent output\nwould be to sort according to string representation.",
    "created_at": "2021-07-02T06:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474268",
    "user": "https://github.com/slel"
}
```

<div id="comment:9" align="right">comment:9</div>

Continuing the discussion from [#30801 comment:202](https://github.com/sagemath/sage/issues/30801#comment:202)
and following comments here.

One way to get compiler independent output
would be to sort according to string representation.



---

archive/issue_comments_474269.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThat is actually a super easy fix.",
    "created_at": "2021-07-02T06:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474269",
    "user": "https://github.com/kliem"
}
```

<div id="comment:10" align="right">comment:10</div>

That is actually a super easy fix.



---

archive/issue_comments_474270.json:
```json
{
    "body": "Changed commit from **[`20365ae`](https://github.com/sagemath/sagetrac-mirror/commit/20365ae3158ebc77e2c8ea70b1e08316af7b2f5d)** to **[`54b325e`](https://github.com/sagemath/sagetrac-mirror/commit/54b325ed10094a7cc676b39973830e5cbf4b1b97)**",
    "created_at": "2021-07-02T07:31:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474270",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`20365ae`](https://github.com/sagemath/sagetrac-mirror/commit/20365ae3158ebc77e2c8ea70b1e08316af7b2f5d)** to **[`54b325e`](https://github.com/sagemath/sagetrac-mirror/commit/54b325ed10094a7cc676b39973830e5cbf4b1b97)**



---

archive/issue_comments_474271.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54b325ed10094a7cc676b39973830e5cbf4b1b97\"><code>54b325e</code></a></td><td><code>sort groups of smooth characters by string for stable doctesting</code></td></tr></table>\n",
    "created_at": "2021-07-02T07:31:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474271",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54b325ed10094a7cc676b39973830e5cbf4b1b97"><code>54b325e</code></a></td><td><code>sort groups of smooth characters by string for stable doctesting</code></td></tr></table>




---

archive/issue_comments_474272.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI came here from patchbots failure in `src/sage/modular/local_comp/local_comp.py` where the issue probably comes from the use of sets, so prehaps sorting the list is not needed, and it makes the examples less understandable. Did you try to just replace `set(Pi.characters())` with `Pi.characters()` instead of `sorted(Pi.characters(), key=str)` ?",
    "created_at": "2021-07-03T22:19:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474272",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:12" align="right">comment:12</div>

I came here from patchbots failure in `src/sage/modular/local_comp/local_comp.py` where the issue probably comes from the use of sets, so prehaps sorting the list is not needed, and it makes the examples less understandable. Did you try to just replace `set(Pi.characters())` with `Pi.characters()` instead of `sorted(Pi.characters(), key=str)` ?



---

archive/issue_comments_474273.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI don't know if it is stable. Dima decided to use sets for those, so I figured the order can be random.",
    "created_at": "2021-07-03T22:21:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474273",
    "user": "https://github.com/kliem"
}
```

<div id="comment:13" align="right">comment:13</div>

I don't know if it is stable. Dima decided to use sets for those, so I figured the order can be random.



---

archive/issue_comments_474274.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n@dimpase: Is there a reason you put the set around `Pi.characters`? Is the order unstable?",
    "created_at": "2021-07-03T22:26:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474274",
    "user": "https://github.com/kliem"
}
```

<div id="comment:14" align="right">comment:14</div>

@dimpase: Is there a reason you put the set around `Pi.characters`? Is the order unstable?



---

archive/issue_comments_474275.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI made these changes to fix failing doctests. And it seemed to work. I have no idea why it didn't work in the end",
    "created_at": "2021-07-03T22:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474275",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

I made these changes to fix failing doctests. And it seemed to work. I have no idea why it didn't work in the end



---

archive/issue_comments_474276.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI bet that the ordering changed with Pari upgrade, but it might be stable for a given Pari release.",
    "created_at": "2021-07-03T22:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474276",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:16" align="right">comment:16</div>

I bet that the ordering changed with Pari upgrade, but it might be stable for a given Pari release.



---

archive/issue_comments_474277.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nIt's a problem of our api, I believe. `sorted(list(Pi.characters()))` doesn't do anything. This is how the doctests output sets and if sorting doesn't change the order, then it won't work.",
    "created_at": "2021-07-03T22:32:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474277",
    "user": "https://github.com/kliem"
}
```

<div id="comment:17" align="right">comment:17</div>

It's a problem of our api, I believe. `sorted(list(Pi.characters()))` doesn't do anything. This is how the doctests output sets and if sorting doesn't change the order, then it won't work.



---

archive/issue_comments_474278.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nafter pari 2.13 got positively reviewed, but not yet merged, a long coming #26635 got merged, and spoilt tests. So I tried to fix them.",
    "created_at": "2021-07-03T22:37:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474278",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

after pari 2.13 got positively reviewed, but not yet merged, a long coming #26635 got merged, and spoilt tests. So I tried to fix them.



---

archive/issue_comments_474279.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI don't blame you. I'm just trying to explain why doctesting sets works usually fine, but not in this case. I also added you, to figure out, whether we need sorting at all. But apparently yes and apparently sorting by strings is an easy solution for now.",
    "created_at": "2021-07-03T22:40:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474279",
    "user": "https://github.com/kliem"
}
```

<div id="comment:19" align="right">comment:19</div>

I don't blame you. I'm just trying to explain why doctesting sets works usually fine, but not in this case. I also added you, to figure out, whether we need sorting at all. But apparently yes and apparently sorting by strings is an easy solution for now.



---

archive/issue_comments_474280.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@kliem](#comment%3A19):\n> I don't blame you. I'm just trying to explain why doctesting sets works usually fine, but not in this case. I also added you, to figure out, whether we need sorting at all. But apparently yes and apparently sorting by strings is an easy solution for now.\n\nDo you have some evidence that we have to sort the lists ? The problem with sorting is that examples are not easy to understand for users (usually not involved in doctesting).",
    "created_at": "2021-07-03T22:49:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474280",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@kliem](#comment%3A19):
> I don't blame you. I'm just trying to explain why doctesting sets works usually fine, but not in this case. I also added you, to figure out, whether we need sorting at all. But apparently yes and apparently sorting by strings is an easy solution for now.

Do you have some evidence that we have to sort the lists ? The problem with sorting is that examples are not easy to understand for users (usually not involved in doctesting).



---

archive/issue_comments_474281.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nOther than [#30801 comment:206](https://github.com/sagemath/sage/issues/30801#comment:206) I don't have any evidence.\n\n`Pi.characters()` is stable on my machines. But `set(Pi.characters())` isn't. I'm asking you, whether there is a reason to use `set` instead of just leaving it. I'm assuming there is, because Dima changed it.\n\nIf `Pi.characters()` doesn't work, we need to either find a workaround (like sort by strings) or fix sorting.",
    "created_at": "2021-07-03T22:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474281",
    "user": "https://github.com/kliem"
}
```

<div id="comment:21" align="right">comment:21</div>

Other than [#30801 comment:206](https://github.com/sagemath/sage/issues/30801#comment:206) I don't have any evidence.

`Pi.characters()` is stable on my machines. But `set(Pi.characters())` isn't. I'm asking you, whether there is a reason to use `set` instead of just leaving it. I'm assuming there is, because Dima changed it.

If `Pi.characters()` doesn't work, we need to either find a workaround (like sort by strings) or fix sorting.



---

archive/issue_comments_474282.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\non my machines, ironically, set() was stable.",
    "created_at": "2021-07-04T10:39:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474282",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

on my machines, ironically, set() was stable.



---

archive/issue_comments_474283.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nYes, it is stable within the machine, because apparently the hash is stable (the order of the hash to be precise). That is the pretty print order of a set, if `sorted` does not do anything.\n\nOn my patchbot it is stable, but the other way around. So the patchbot is down until this is fixed (the problem was the whole issue with `setuptools_scm` which lead to the patchbot being down in the first place and now all tests need to pass).",
    "created_at": "2021-07-04T10:50:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474283",
    "user": "https://github.com/kliem"
}
```

<div id="comment:23" align="right">comment:23</div>

Yes, it is stable within the machine, because apparently the hash is stable (the order of the hash to be precise). That is the pretty print order of a set, if `sorted` does not do anything.

On my patchbot it is stable, but the other way around. So the patchbot is down until this is fixed (the problem was the whole issue with `setuptools_scm` which lead to the patchbot being down in the first place and now all tests need to pass).



---

archive/issue_comments_474284.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6a697a3eb5d8a12feda9d3920b4830b618943ce\"><code>e6a697a</code></a></td><td><code>truely ignore ignored bounds for ZZ.random_element</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/902f851e301962d232f8f5c5cc8f7065a7735547\"><code>902f851</code></a></td><td><code>Merge branch 'public/32124' of git://trac.sagemath.org/sage into public/29977</code></td></tr></table>\n",
    "created_at": "2021-07-04T12:37:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474284",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6a697a3eb5d8a12feda9d3920b4830b618943ce"><code>e6a697a</code></a></td><td><code>truely ignore ignored bounds for ZZ.random_element</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/902f851e301962d232f8f5c5cc8f7065a7735547"><code>902f851</code></a></td><td><code>Merge branch 'public/32124' of git://trac.sagemath.org/sage into public/29977</code></td></tr></table>




---

archive/issue_comments_474285.json:
```json
{
    "body": "Changed commit from **[`54b325e`](https://github.com/sagemath/sagetrac-mirror/commit/54b325ed10094a7cc676b39973830e5cbf4b1b97)** to **[`902f851`](https://github.com/sagemath/sagetrac-mirror/commit/902f851e301962d232f8f5c5cc8f7065a7735547)**",
    "created_at": "2021-07-04T12:37:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474285",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`54b325e`](https://github.com/sagemath/sagetrac-mirror/commit/54b325ed10094a7cc676b39973830e5cbf4b1b97)** to **[`902f851`](https://github.com/sagemath/sagetrac-mirror/commit/902f851e301962d232f8f5c5cc8f7065a7735547)**



---

archive/issue_comments_474286.json:
```json
{
    "body": "Dependencies: **#32124**",
    "created_at": "2021-07-04T12:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474286",
    "user": "https://github.com/kliem"
}
```

Dependencies: **#32124**



---

archive/issue_comments_474287.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@sagetrac-tmonteil](#comment%3A12):\n> I came here from patchbots failure in `src/sage/modular/local_comp/local_comp.py`\n> where the issue probably comes from the use of sets, so perhaps\n> sorting the list is not needed, and it makes the examples less\n> understandable. Did you try to just replace `set(Pi.characters())`\n> with `Pi.characters()` instead of `sorted(Pi.characters(), key=str)`?\n\nSee comments [#30801 comment:202](https://github.com/sagemath/sage/issues/30801#comment:202) and following.\n\nSorting by string does obscure the example a bit\nbut makes doctests pass with minimal disruption.\n\nThe following avoids sorting by string\nbut is a more disruptive change:\n\n```diff\n        A more complicated example (higher weight and nontrivial central character)::\n\n             sage: f = Newforms(GammaH(25, [6]), 3, names='j')[0]; f\n             q + j0*q^2 + 1/3*j0^3*q^3 - 1/3*j0^2*q^4 + O(q^6)\n             sage: Pi = LocalComponent(f, 5)\n-            sage: set(Pi.characters())\n-            {Character of unramified extension Q_5(s)* (s^2 + 4*s + 2 = 0), of level 1, mapping s |--> 1/3*j0^2*d - 1/3*j0^3, 5 |--> 5,\n-             Character of unramified extension Q_5(s)* (s^2 + 4*s + 2 = 0), of level 1, mapping s |--> -1/3*j0^2*d, 5 |--> 5}\n-            sage: Pi.characters()[0].base_ring()\n-            Number Field in d with defining polynomial x^2 - j0*x + 1/3*j0^2 over its base field\n+            sage: chars = Pi.characters()\n+            sage: len(chars)\n+            2\n+            sage: a, b = chars\n+            sage: a.galois_conjugate() == b\n+            True\n+            sage: C = a.parent()\n+            sage: C\n+            Group of smooth characters\n+              of unramified extension Q_5(s)* (s^2 + 4*s + 2 = 0)\n+              with values in Number Field in d\n+              with defining polynomial x^2 - j0*x + 1/3*j0^2 over its base field\n+            sage: d = a.base_ring().gen()\n+            sage: s = C.number_field().gen()\n+            sage: j0 = a.base_ring().relative_polynomial().base_ring().gen()\n+            sage: a(5) == b(5) == 5\n+            True\n+            sage: {a(s), b(s)} == {(1/3*j0^2*d - 1/3*j0^3), (-1/3*j0^2*d)}\n+            True\n```\nAnother option would be to implement\na platform-independent sorting of characters.",
    "created_at": "2021-07-04T22:54:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474287",
    "user": "https://github.com/slel"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@sagetrac-tmonteil](#comment%3A12):
> I came here from patchbots failure in `src/sage/modular/local_comp/local_comp.py`
> where the issue probably comes from the use of sets, so perhaps
> sorting the list is not needed, and it makes the examples less
> understandable. Did you try to just replace `set(Pi.characters())`
> with `Pi.characters()` instead of `sorted(Pi.characters(), key=str)`?

See comments [#30801 comment:202](https://github.com/sagemath/sage/issues/30801#comment:202) and following.

Sorting by string does obscure the example a bit
but makes doctests pass with minimal disruption.

The following avoids sorting by string
but is a more disruptive change:

```diff
        A more complicated example (higher weight and nontrivial central character)::

             sage: f = Newforms(GammaH(25, [6]), 3, names='j')[0]; f
             q + j0*q^2 + 1/3*j0^3*q^3 - 1/3*j0^2*q^4 + O(q^6)
             sage: Pi = LocalComponent(f, 5)
-            sage: set(Pi.characters())
-            {Character of unramified extension Q_5(s)* (s^2 + 4*s + 2 = 0), of level 1, mapping s |--> 1/3*j0^2*d - 1/3*j0^3, 5 |--> 5,
-             Character of unramified extension Q_5(s)* (s^2 + 4*s + 2 = 0), of level 1, mapping s |--> -1/3*j0^2*d, 5 |--> 5}
-            sage: Pi.characters()[0].base_ring()
-            Number Field in d with defining polynomial x^2 - j0*x + 1/3*j0^2 over its base field
+            sage: chars = Pi.characters()
+            sage: len(chars)
+            2
+            sage: a, b = chars
+            sage: a.galois_conjugate() == b
+            True
+            sage: C = a.parent()
+            sage: C
+            Group of smooth characters
+              of unramified extension Q_5(s)* (s^2 + 4*s + 2 = 0)
+              with values in Number Field in d
+              with defining polynomial x^2 - j0*x + 1/3*j0^2 over its base field
+            sage: d = a.base_ring().gen()
+            sage: s = C.number_field().gen()
+            sage: j0 = a.base_ring().relative_polynomial().base_ring().gen()
+            sage: a(5) == b(5) == 5
+            True
+            sage: {a(s), b(s)} == {(1/3*j0^2*d - 1/3*j0^3), (-1/3*j0^2*d)}
+            True
```
Another option would be to implement
a platform-independent sorting of characters.



---

archive/issue_comments_474288.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nis there a way to efficiently check that the characters in question are characters, and their set is exhaustive in some sense?  \n\nanyhow the test for `len(chars)` above may be skipped.",
    "created_at": "2021-07-05T10:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474288",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

is there a way to efficiently check that the characters in question are characters, and their set is exhaustive in some sense?  

anyhow the test for `len(chars)` above may be skipped.



---

archive/issue_comments_474289.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI created #32134 for the `src/sage/modular/local_comp/local_comp.py` issue, as it is not related to the random seed (which is the purpose of this ticket).\n\nMy bet is that the order changed due to Pari upgrade, but it is constant for a given Pari version, hence we can use raw lists, not sets, nor sorting, nor cumbersome doctests.\n\nCould you please try that branch, and see if it passes for all of you.",
    "created_at": "2021-07-05T14:14:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474289",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:28" align="right">comment:28</div>

I created #32134 for the `src/sage/modular/local_comp/local_comp.py` issue, as it is not related to the random seed (which is the purpose of this ticket).

My bet is that the order changed due to Pari upgrade, but it is constant for a given Pari version, hence we can use raw lists, not sets, nor sorting, nor cumbersome doctests.

Could you please try that branch, and see if it passes for all of you.



---

archive/issue_comments_474290.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\ndid you try 32-bit as well as 64 bit?",
    "created_at": "2021-07-05T16:08:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474290",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

did you try 32-bit as well as 64 bit?



---

archive/issue_comments_474291.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nIndeed I added this issue to the ticket here because I mistakenly figured it was connected to random seeds. Whatever makes this issue get a positive review quickest, is what I would prefer. So a seperate ticket sounds indeed fine.\n\nI agree with Dima that only because it passes on a few computers, it doesn't tell you anything about general stability.",
    "created_at": "2021-07-05T16:17:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474291",
    "user": "https://github.com/kliem"
}
```

<div id="comment:30" align="right">comment:30</div>

Indeed I added this issue to the ticket here because I mistakenly figured it was connected to random seeds. Whatever makes this issue get a positive review quickest, is what I would prefer. So a seperate ticket sounds indeed fine.

I agree with Dima that only because it passes on a few computers, it doesn't tell you anything about general stability.



---

archive/issue_comments_474292.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@kliem](#comment%3A30):\n> I agree with Dima that only because it passes on a few computers, it doesn't tell you anything about general stability.\n\nWhat i am lookinkg for is whether there was an issue on a single computer when we use lists instead of sets (i could not find any evidence in the various discussions).\n\nReplying to [@dimpase](#comment%3A29):\n> did you try 32-bit as well as 64 bit?\n\nUnfortunately, i currently do not have any 32bit builder.\n\nLet us collect results of various builds on #32134.",
    "created_at": "2021-07-05T16:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474292",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@kliem](#comment%3A30):
> I agree with Dima that only because it passes on a few computers, it doesn't tell you anything about general stability.

What i am lookinkg for is whether there was an issue on a single computer when we use lists instead of sets (i could not find any evidence in the various discussions).

Replying to [@dimpase](#comment%3A29):
> did you try 32-bit as well as 64 bit?

Unfortunately, i currently do not have any 32bit builder.

Let us collect results of various builds on #32134.



---

archive/issue_comments_474293.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nIf the behaviour depends on the architecture, we can use the `# 64-bit` and `# 32-bit` tags.",
    "created_at": "2021-07-05T16:30:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474293",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:32" align="right">comment:32</div>

If the behaviour depends on the architecture, we can use the `# 64-bit` and `# 32-bit` tags.



---

archive/issue_comments_474294.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI much rather have some fix soon and a nice fix later.\n\nWe only have 3 patchbots at the moment and 3 are down exclusively because of this issue (I suspect one more that also had some interrupt).",
    "created_at": "2021-07-05T16:38:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474294",
    "user": "https://github.com/kliem"
}
```

<div id="comment:33" align="right">comment:33</div>

I much rather have some fix soon and a nice fix later.

We only have 3 patchbots at the moment and 3 are down exclusively because of this issue (I suspect one more that also had some interrupt).



---

archive/issue_comments_474295.json:
```json
{
    "body": "Changed commit from **[`902f851`](https://github.com/sagemath/sagetrac-mirror/commit/902f851e301962d232f8f5c5cc8f7065a7735547)** to **[`a890c4d`](https://github.com/sagemath/sagetrac-mirror/commit/a890c4d0b800bc014f2ccdcca7a87a71b280a6b8)**",
    "created_at": "2021-07-06T07:19:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474295",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`902f851`](https://github.com/sagemath/sagetrac-mirror/commit/902f851e301962d232f8f5c5cc8f7065a7735547)** to **[`a890c4d`](https://github.com/sagemath/sagetrac-mirror/commit/a890c4d0b800bc014f2ccdcca7a87a71b280a6b8)**



---

archive/issue_comments_474296.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a890c4d0b800bc014f2ccdcca7a87a71b280a6b8\"><code>a890c4d</code></a></td><td><code>one more test from modular</code></td></tr></table>\n",
    "created_at": "2021-07-06T07:19:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474296",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a890c4d0b800bc014f2ccdcca7a87a71b280a6b8"><code>a890c4d</code></a></td><td><code>one more test from modular</code></td></tr></table>




---

archive/issue_events_409655.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-07-06T14:21:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409655"
}
```



---

archive/issue_events_409656.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-07-06T14:21:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409656"
}
```



---

archive/issue_comments_474297.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nlgtm",
    "created_at": "2021-07-06T14:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474297",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:35" align="right">comment:35</div>

lgtm



---

archive/issue_comments_474298.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2021-07-06T14:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474298",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_474299.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThank you.",
    "created_at": "2021-07-06T14:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474299",
    "user": "https://github.com/kliem"
}
```

<div id="comment:36" align="right">comment:36</div>

Thank you.



---

archive/issue_events_409657.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2021-07-20T00:53:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409657"
}
```



---

archive/issue_events_409658.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2021-07-20T00:53:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409658"
}
```



---

archive/issue_comments_474300.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nSetting this to blocker so that we can restart patchbots.",
    "created_at": "2021-07-20T00:53:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474300",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:37" align="right">comment:37</div>

Setting this to blocker so that we can restart patchbots.



---

archive/issue_events_409659.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-24T15:28:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409659"
}
```



---

archive/issue_events_409660.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ec795bfbfa04656613fc38470d8b4115c4322eff",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-07-24T15:28:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29977#event-409660"
}
```



---

archive/issue_comments_474301.json:
```json
{
    "body": "Changed branch from **[public/29977](https://github.com/sagemath/sagetrac-mirror/tree/public/29977)** to **[`a890c4d`](https://github.com/sagemath/sagetrac-mirror/commit/a890c4d0b800bc014f2ccdcca7a87a71b280a6b8)**",
    "created_at": "2021-07-24T15:28:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29977",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29977#issuecomment-474301",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/29977](https://github.com/sagemath/sagetrac-mirror/tree/public/29977)** to **[`a890c4d`](https://github.com/sagemath/sagetrac-mirror/commit/a890c4d0b800bc014f2ccdcca7a87a71b280a6b8)**
