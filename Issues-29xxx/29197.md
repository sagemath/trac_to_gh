# Issue 29197: mcqd  needs an update of spkg-install

archive/issues_028960.json:
```json
{
    "body": "otherwise rebuilding Sage 9.1.beta4 with mcqd installed fails at it. \n\nCC:  @dcoudert\n\nBranch/Commit: [123fa16ed135e6349f8605b19c43a281c07778cc](https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc)\n\nReviewer: Matthias Koeppe\n\nAuthor: Dima Pasechnik\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29197\n\n",
    "closed_at": "2020-04-18T08:35:05Z",
    "created_at": "2020-02-14T14:32:51Z",
    "labels": [
        "component: packages: optional",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "mcqd  needs an update of spkg-install",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29197",
    "user": "https://github.com/dimpase"
}
```
otherwise rebuilding Sage 9.1.beta4 with mcqd installed fails at it. 

CC:  @dcoudert

Branch/Commit: [123fa16ed135e6349f8605b19c43a281c07778cc](https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc)

Reviewer: Matthias Koeppe

Author: Dima Pasechnik

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29197





---

archive/issue_comments_570403.json:
```json
{
    "body": "Changing commit from \"\" to \"6dbca5f8f94ac9e224c5a8343f6a1d979d00f6ee\"",
    "created_at": "2020-02-14T17:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570403",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "" to "6dbca5f8f94ac9e224c5a8343f6a1d979d00f6ee"



---

archive/issue_comments_570404.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-02-14T17:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570404",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_570405.json:
```json
{
    "body": "Changing author from \"\" to \"Dima Pasechnik\"",
    "created_at": "2020-02-14T17:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570405",
    "user": "https://github.com/dimpase"
}
```

Changing author from "" to "Dima Pasechnik"



---

archive/issue_events_083721.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "rename": {
        "from": "mcqd needs legacy_uninstall, and  an update of spkg-install",
        "to": "mcqd  needs an update of spkg-install"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29197#event-83721"
}
```



---

archive/issue_comments_570406.json:
```json
{
    "body": "<a id='comment:2'></a>\nplease test on MacOS in particular\n\nIt would also be interesting to find out whether the new upstream gitlab repo for the package has any updates (and then we should apply thhem).",
    "created_at": "2020-02-14T17:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570406",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:2'></a>
please test on MacOS in particular

It would also be interesting to find out whether the new upstream gitlab repo for the package has any updates (and then we should apply thhem).



---

archive/issue_comments_570407.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dimpase/packages/mcqdfix\"",
    "created_at": "2020-02-14T17:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570407",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "" to "u/dimpase/packages/mcqdfix"



---

archive/issue_comments_570408.json:
```json
{
    "body": "<a id='comment:3'></a>\nI tried on my linux computer and it seems that it fixes the problem (compilation no longer complaining).\n\nI tried on my macOS laptop, but I had to install mcqd first, so it's not a good test. Someone else should try, or tell me which sequence of operation I have to do.",
    "created_at": "2020-02-14T18:00:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570408",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>
I tried on my linux computer and it seems that it fixes the problem (compilation no longer complaining).

I tried on my macOS laptop, but I had to install mcqd first, so it's not a good test. Someone else should try, or tell me which sequence of operation I have to do.



---

archive/issue_comments_570409.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe branch doesn't touch any files related to `mcqd`. Am I missing something?",
    "created_at": "2020-02-14T18:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570409",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>
The branch doesn't touch any files related to `mcqd`. Am I missing something?



---

archive/issue_comments_570410.json:
```json
{
    "body": "<a id='comment:5'></a>\ntry cloning it. it seems that trac is confused.",
    "created_at": "2020-02-14T18:29:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570410",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
try cloning it. it seems that trac is confused.



---

archive/issue_comments_570411.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[8151f55](https://github.com/sagemath/sagetrac-mirror/commit/8151f552f1ff2d7020aa6b7f2c652e268b7443f6)|`add -fPIC, update upstream website`|",
    "created_at": "2020-02-14T18:37:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570411",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[8151f55](https://github.com/sagemath/sagetrac-mirror/commit/8151f552f1ff2d7020aa6b7f2c652e268b7443f6)|`add -fPIC, update upstream website`|



---

archive/issue_comments_570412.json:
```json
{
    "body": "Changing commit from \"6dbca5f8f94ac9e224c5a8343f6a1d979d00f6ee\" to \"8151f552f1ff2d7020aa6b7f2c652e268b7443f6\"",
    "created_at": "2020-02-14T18:37:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6dbca5f8f94ac9e224c5a8343f6a1d979d00f6ee" to "8151f552f1ff2d7020aa6b7f2c652e268b7443f6"



---

archive/issue_comments_570413.json:
```json
{
    "body": "<a id='comment:7'></a>\noops, sorry. now the branch is right",
    "created_at": "2020-02-14T18:39:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570413",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
oops, sorry. now the branch is right



---

archive/issue_comments_570414.json:
```json
{
    "body": "<a id='comment:8'></a>\nI can't reproduce any problem with OS X: I took 9.1.beta3, installed mcqd, then did `git trac pull develop` to get to 9.1.beta4. `make` succeeded.\n\n`make` also succeeded with the branch here, and so did `./sage -f mcqd`, so it didn't break anything. Is there any reason to bump up the package patch-level?",
    "created_at": "2020-02-14T21:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570414",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:8'></a>
I can't reproduce any problem with OS X: I took 9.1.beta3, installed mcqd, then did `git trac pull develop` to get to 9.1.beta4. `make` succeeded.

`make` also succeeded with the branch here, and so did `./sage -f mcqd`, so it didn't break anything. Is there any reason to bump up the package patch-level?



---

archive/issue_comments_570415.json:
```json
{
    "body": "<a id='comment:9'></a>\nIt could be that MacOS just doesn't need `-fPIC`.\n\nWhile we're at it, it's good to understand whether `mcqd` was updated after out release.\nI'll take a look now.",
    "created_at": "2020-02-14T22:35:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570415",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
It could be that MacOS just doesn't need `-fPIC`.

While we're at it, it's good to understand whether `mcqd` was updated after out release.
I'll take a look now.



---

archive/issue_comments_570416.json:
```json
{
    "body": "<a id='comment:10'></a>\nno, it's the same, only README has changed (becoming README.md, and getting a bit longer).",
    "created_at": "2020-02-14T22:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570416",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
no, it's the same, only README has changed (becoming README.md, and getting a bit longer).



---

archive/issue_comments_570417.json:
```json
{
    "body": "<a id='comment:11'></a>\nError confirmed on `debian-stretch-standard-python2` (https://github.com/mkoeppe/sage/runs/584777841)\n\nNeeds rebase.",
    "created_at": "2020-04-15T05:49:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570417",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
Error confirmed on `debian-stretch-standard-python2` (https://github.com/mkoeppe/sage/runs/584777841)

Needs rebase.



---

archive/issue_comments_570418.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-04-15T05:49:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570418",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_570419.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[123fa16](https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc)|`add -fPIC, update upstream website`|",
    "created_at": "2020-04-15T10:16:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570419",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[123fa16](https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc)|`add -fPIC, update upstream website`|



---

archive/issue_comments_570420.json:
```json
{
    "body": "Changing commit from \"8151f552f1ff2d7020aa6b7f2c652e268b7443f6\" to \"123fa16ed135e6349f8605b19c43a281c07778cc\"",
    "created_at": "2020-04-15T10:16:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570420",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8151f552f1ff2d7020aa6b7f2c652e268b7443f6" to "123fa16ed135e6349f8605b19c43a281c07778cc"



---

archive/issue_comments_570421.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-15T10:17:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570421",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_570422.json:
```json
{
    "body": "<a id='comment:14'></a>\nThanks! I'll test this",
    "created_at": "2020-04-15T15:08:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570422",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Thanks! I'll test this



---

archive/issue_comments_570423.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-04-15T15:08:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570423",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "Matthias Koeppe"



---

archive/issue_comments_570424.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-16T00:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570424",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_570425.json:
```json
{
    "body": "<a id='comment:16'></a>\nInstallation seems to work well. https://github.com/mkoeppe/sage/runs/589959544",
    "created_at": "2020-04-16T00:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570425",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Installation seems to work well. https://github.com/mkoeppe/sage/runs/589959544



---

archive/issue_events_083722.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-18T08:35:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29197#event-83722"
}
```



---

archive/issue_comments_570426.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-18T08:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570426",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_570427.json:
```json
{
    "body": "Changing branch from \"u/dimpase/packages/mcqdfix\" to \"123fa16ed135e6349f8605b19c43a281c07778cc\"",
    "created_at": "2020-04-18T08:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29197#issuecomment-570427",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dimpase/packages/mcqdfix" to "123fa16ed135e6349f8605b19c43a281c07778cc"
