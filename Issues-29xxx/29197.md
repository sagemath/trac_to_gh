# Issue 29197: mcqd  needs an update of spkg-install

archive/issues_028960.json:
```json
{
    "assignees": [],
    "body": "otherwise rebuilding Sage 9.1.beta4 with mcqd installed fails at it. \n\nCC:  @dcoudert\n\nBranch/Commit: **[123fa16](https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc)**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **Dima Pasechnik**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29197_\n\n",
    "closed_at": "2020-04-18T08:35:05Z",
    "created_at": "2020-02-14T14:32:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "mcqd  needs an update of spkg-install",
    "type": "issue",
    "updated_at": "2020-04-18T08:35:05Z",
    "url": "https://github.com/sagemath/sage/issues/29197",
    "user": "https://github.com/dimpase"
}
```
otherwise rebuilding Sage 9.1.beta4 with mcqd installed fails at it. 

CC:  @dcoudert

Branch/Commit: **[123fa16](https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc)**

Reviewer: **Matthias Koeppe**

Author: **Dima Pasechnik**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/29197_





---

archive/issue_events_401422.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-02-14T14:32:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401422"
}
```



---

archive/issue_events_401423.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-02-14T14:32:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401423"
}
```



---

archive/issue_events_401424.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-02-14T14:32:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401424"
}
```



---

archive/issue_events_401425.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-02-14T14:32:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401425"
}
```



---

archive/issue_comments_457935.json:
```json
{
    "body": "Commit: **[6dbca5f](https://github.com/sagemath/sagetrac-mirror/commit/6dbca5f8f94ac9e224c5a8343f6a1d979d00f6ee)**",
    "created_at": "2020-02-14T17:19:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457935",
    "user": "https://github.com/dimpase"
}
```

Commit: **[6dbca5f](https://github.com/sagemath/sagetrac-mirror/commit/6dbca5f8f94ac9e224c5a8343f6a1d979d00f6ee)**



---

archive/issue_events_401426.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-02-14T17:19:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401426"
}
```



---

archive/issue_comments_457936.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2020-02-14T17:19:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457936",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_events_401427.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-02-14T17:19:47Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "title_is": "mcqd  needs an update of spkg-install",
    "title_was": "mcqd needs legacy_uninstall, and  an update of spkg-install",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401427"
}
```



---

archive/issue_comments_457937.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nplease test on MacOS in particular\n\nIt would also be interesting to find out whether the new upstream gitlab repo for the package has any updates (and then we should apply thhem).",
    "created_at": "2020-02-14T17:19:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457937",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:2" align="right">comment:2</div>

please test on MacOS in particular

It would also be interesting to find out whether the new upstream gitlab repo for the package has any updates (and then we should apply thhem).



---

archive/issue_comments_457938.json:
```json
{
    "body": "Branch: **[u/dimpase/packages/mcqdfix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mcqdfix)**",
    "created_at": "2020-02-14T17:19:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457938",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/packages/mcqdfix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mcqdfix)**



---

archive/issue_comments_457939.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI tried on my linux computer and it seems that it fixes the problem (compilation no longer complaining).\n\nI tried on my macOS laptop, but I had to install mcqd first, so it's not a good test. Someone else should try, or tell me which sequence of operation I have to do.",
    "created_at": "2020-02-14T18:00:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457939",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:3" align="right">comment:3</div>

I tried on my linux computer and it seems that it fixes the problem (compilation no longer complaining).

I tried on my macOS laptop, but I had to install mcqd first, so it's not a good test. Someone else should try, or tell me which sequence of operation I have to do.



---

archive/issue_comments_457940.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe branch doesn't touch any files related to `mcqd`. Am I missing something?",
    "created_at": "2020-02-14T18:27:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457940",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:4" align="right">comment:4</div>

The branch doesn't touch any files related to `mcqd`. Am I missing something?



---

archive/issue_comments_457941.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\ntry cloning it. it seems that trac is confused.",
    "created_at": "2020-02-14T18:29:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457941",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

try cloning it. it seems that trac is confused.



---

archive/issue_comments_457942.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8151f552f1ff2d7020aa6b7f2c652e268b7443f6\">8151f55</a></td><td><code>add -fPIC, update upstream website</code></td></tr></table>\n",
    "created_at": "2020-02-14T18:37:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457942",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8151f552f1ff2d7020aa6b7f2c652e268b7443f6">8151f55</a></td><td><code>add -fPIC, update upstream website</code></td></tr></table>




---

archive/issue_comments_457943.json:
```json
{
    "body": "Changed commit from **[6dbca5f](https://github.com/sagemath/sagetrac-mirror/commit/6dbca5f8f94ac9e224c5a8343f6a1d979d00f6ee)** to **[8151f55](https://github.com/sagemath/sagetrac-mirror/commit/8151f552f1ff2d7020aa6b7f2c652e268b7443f6)**",
    "created_at": "2020-02-14T18:37:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457943",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6dbca5f](https://github.com/sagemath/sagetrac-mirror/commit/6dbca5f8f94ac9e224c5a8343f6a1d979d00f6ee)** to **[8151f55](https://github.com/sagemath/sagetrac-mirror/commit/8151f552f1ff2d7020aa6b7f2c652e268b7443f6)**



---

archive/issue_comments_457944.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\noops, sorry. now the branch is right",
    "created_at": "2020-02-14T18:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457944",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

oops, sorry. now the branch is right



---

archive/issue_comments_457945.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI can't reproduce any problem with OS X: I took 9.1.beta3, installed mcqd, then did `git trac pull develop` to get to 9.1.beta4. `make` succeeded.\n\n`make` also succeeded with the branch here, and so did `./sage -f mcqd`, so it didn't break anything. Is there any reason to bump up the package patch-level?",
    "created_at": "2020-02-14T21:47:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457945",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

I can't reproduce any problem with OS X: I took 9.1.beta3, installed mcqd, then did `git trac pull develop` to get to 9.1.beta4. `make` succeeded.

`make` also succeeded with the branch here, and so did `./sage -f mcqd`, so it didn't break anything. Is there any reason to bump up the package patch-level?



---

archive/issue_comments_457946.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIt could be that MacOS just doesn't need `-fPIC`.\n\nWhile we're at it, it's good to understand whether `mcqd` was updated after out release.\nI'll take a look now.",
    "created_at": "2020-02-14T22:35:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457946",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

It could be that MacOS just doesn't need `-fPIC`.

While we're at it, it's good to understand whether `mcqd` was updated after out release.
I'll take a look now.



---

archive/issue_comments_457947.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nno, it's the same, only README has changed (becoming README.md, and getting a bit longer).",
    "created_at": "2020-02-14T22:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457947",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

no, it's the same, only README has changed (becoming README.md, and getting a bit longer).



---

archive/issue_comments_457948.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nError confirmed on `debian-stretch-standard-python2` (https://github.com/mkoeppe/sage/runs/584777841)\n\nNeeds rebase.",
    "created_at": "2020-04-15T05:49:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457948",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Error confirmed on `debian-stretch-standard-python2` (https://github.com/mkoeppe/sage/runs/584777841)

Needs rebase.



---

archive/issue_events_401428.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-15T05:49:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401428"
}
```



---

archive/issue_events_401429.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-15T05:49:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401429"
}
```



---

archive/issue_comments_457949.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc\">123fa16</a></td><td><code>add -fPIC, update upstream website</code></td></tr></table>\n",
    "created_at": "2020-04-15T10:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457949",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc">123fa16</a></td><td><code>add -fPIC, update upstream website</code></td></tr></table>




---

archive/issue_comments_457950.json:
```json
{
    "body": "Changed commit from **[8151f55](https://github.com/sagemath/sagetrac-mirror/commit/8151f552f1ff2d7020aa6b7f2c652e268b7443f6)** to **[123fa16](https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc)**",
    "created_at": "2020-04-15T10:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457950",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8151f55](https://github.com/sagemath/sagetrac-mirror/commit/8151f552f1ff2d7020aa6b7f2c652e268b7443f6)** to **[123fa16](https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc)**



---

archive/issue_events_401430.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-15T10:17:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401430"
}
```



---

archive/issue_events_401431.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-04-15T10:17:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401431"
}
```



---

archive/issue_comments_457951.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThanks! I'll test this",
    "created_at": "2020-04-15T15:08:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457951",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Thanks! I'll test this



---

archive/issue_comments_457952.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2020-04-15T15:08:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457952",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_events_401432.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-16T00:17:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401432"
}
```



---

archive/issue_events_401433.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-16T00:17:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401433"
}
```



---

archive/issue_comments_457953.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nInstallation seems to work well. https://github.com/mkoeppe/sage/runs/589959544",
    "created_at": "2020-04-16T00:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457953",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Installation seems to work well. https://github.com/mkoeppe/sage/runs/589959544



---

archive/issue_events_401434.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-18T08:35:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401434"
}
```



---

archive/issue_events_401435.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "19947d7b42fb7845b1b621625e919c87d8225a06",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-04-18T08:35:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29197#event-401435"
}
```



---

archive/issue_comments_457954.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/mcqdfix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mcqdfix)** to **[123fa16](https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc)**",
    "created_at": "2020-04-18T08:35:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29197#issuecomment-457954",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/packages/mcqdfix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mcqdfix)** to **[123fa16](https://github.com/sagemath/sagetrac-mirror/commit/123fa16ed135e6349f8605b19c43a281c07778cc)**
