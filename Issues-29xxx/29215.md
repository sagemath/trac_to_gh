# Issue 29215: valuation error

archive/issues_028978.json:
```json
{
    "assignees": [],
    "body": "Sage makes a calculation error with valuation.\n\nAfter defining\n\n```\nE = EllipticCurve('15a1')\nD = -11\np = 7\nP = E.heegner_point(D)\nQ = P.point_exact()\nR = PolynomialRing(QQ, 'x')\nx = R.gen()\nK.<a> = NumberField (x^2 - D)\nE_K = E.base_extend(K)\nI = K.ideal(p)\nv = I.prime_factors()[0]\nE_loc = E_K.reduction(v)\nNp = E_loc.cardinality()\nQ2 = Np * Q\nQ2.clear_denominators()\na = Q2.xy()[0]\nb = Q2.xy()[1]\nc = a / b\n```\nwe get:\n\n```\nsage: [x.valuation(v) for x in (a, b, c)]\n[-1, -2, 0]\n```\nClearly an error as `c.valuation(v)`\nshould be `1`, not `0`.\n\nFurthermore the `v`-valuations of `b` and `c`\nshould add up to that of `a`.\n\nCC:  @orlitzky @mmasdeu @categorie @roed314\n\nKeywords: **valuation**\n\nBranch/Commit: **[d8f5f13](https://github.com/sagemath/sagetrac-mirror/commit/d8f5f13fe4ecf6331ad9521d9a824848aa603617)**\n\nReviewer: **Edgar Costa**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29215_\n\n",
    "closed_at": "2022-03-01T21:31:35Z",
    "created_at": "2020-02-18T16:16:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "valuation error",
    "type": "issue",
    "updated_at": "2022-03-01T21:31:35Z",
    "url": "https://github.com/sagemath/sage/issues/29215",
    "user": "https://github.com/a-matar"
}
```
Sage makes a calculation error with valuation.

After defining

```
E = EllipticCurve('15a1')
D = -11
p = 7
P = E.heegner_point(D)
Q = P.point_exact()
R = PolynomialRing(QQ, 'x')
x = R.gen()
K.<a> = NumberField (x^2 - D)
E_K = E.base_extend(K)
I = K.ideal(p)
v = I.prime_factors()[0]
E_loc = E_K.reduction(v)
Np = E_loc.cardinality()
Q2 = Np * Q
Q2.clear_denominators()
a = Q2.xy()[0]
b = Q2.xy()[1]
c = a / b
```
we get:

```
sage: [x.valuation(v) for x in (a, b, c)]
[-1, -2, 0]
```
Clearly an error as `c.valuation(v)`
should be `1`, not `0`.

Furthermore the `v`-valuations of `b` and `c`
should add up to that of `a`.

CC:  @orlitzky @mmasdeu @categorie @roed314

Keywords: **valuation**

Branch/Commit: **[d8f5f13](https://github.com/sagemath/sagetrac-mirror/commit/d8f5f13fe4ecf6331ad9521d9a824848aa603617)**

Reviewer: **Edgar Costa**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/29215_





---

archive/issue_events_370076.json:
```json
{
    "actor": "https://github.com/a-matar",
    "created_at": "2020-02-18T16:16:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370076"
}
```



---

archive/issue_events_370077.json:
```json
{
    "actor": "https://github.com/a-matar",
    "created_at": "2020-02-18T16:16:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "component: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370077"
}
```



---

archive/issue_events_370078.json:
```json
{
    "actor": "https://github.com/a-matar",
    "created_at": "2020-02-18T16:16:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370078"
}
```



---

archive/issue_events_370079.json:
```json
{
    "actor": "https://github.com/a-matar",
    "created_at": "2020-02-18T16:16:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370079"
}
```



---

archive/issue_comments_461034.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nThere is a bug in a valuation, but the bug is that we didn't raise an error when \nwe called with an ideal over a different number field.\nPerhaps we want to add a check that `self.number_field() == P.number_field()`\n\n```\nsage: Q.curve().base_ring()\nNumber Field in a with defining polynomial x^2 - 3*x + 18\nsage: a.parent()\nNumber Field in a with defining polynomial x^2 - 3*x + 18\nsage: b.parent()\nNumber Field in a with defining polynomial x^2 - 3*x + 18\nsage: v.parent()\nMonoid of ideals of Number Field in a with defining polynomial x^2 + 11\n```\n\nFurthemore, \n\n```\nsage: v7 = a.parent().ideal(7).factor()[0][0]\nsage: print(a.valuation(v7), b.valuation(v7), c.valuation(v7))\n-2 -3 1\n```",
    "created_at": "2020-03-02T16:41:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461034",
    "user": "https://github.com/edgarcosta"
}
```

<a id='comment:1'>Comment 1:</a>
There is a bug in a valuation, but the bug is that we didn't raise an error when 
we called with an ideal over a different number field.
Perhaps we want to add a check that `self.number_field() == P.number_field()`

```
sage: Q.curve().base_ring()
Number Field in a with defining polynomial x^2 - 3*x + 18
sage: a.parent()
Number Field in a with defining polynomial x^2 - 3*x + 18
sage: b.parent()
Number Field in a with defining polynomial x^2 - 3*x + 18
sage: v.parent()
Monoid of ideals of Number Field in a with defining polynomial x^2 + 11
```

Furthemore, 

```
sage: v7 = a.parent().ideal(7).factor()[0][0]
sage: print(a.valuation(v7), b.valuation(v7), c.valuation(v7))
-2 -3 1
```



---

archive/issue_events_370080.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370080"
}
```



---

archive/issue_events_370081.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370081"
}
```



---

archive/issue_comments_461035.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nMoving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461035",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'>Comment 2:</a>
Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_events_370082.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370082"
}
```



---

archive/issue_events_370083.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370083"
}
```



---

archive/issue_comments_461036.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nMoving to 9.4, as 9.3 has been released.",
    "created_at": "2021-05-10T17:42:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461036",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'>Comment 4:</a>
Moving to 9.4, as 9.3 has been released.



---

archive/issue_events_370084.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-10T17:42:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370084"
}
```



---

archive/issue_events_370085.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-10T17:42:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370085"
}
```



---

archive/issue_events_370086.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370086"
}
```



---

archive/issue_events_370087.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370087"
}
```



---

archive/issue_events_370088.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370088"
}
```



---

archive/issue_events_370089.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370089"
}
```



---

archive/issue_comments_461037.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7c282f967c5c9c81a54a2204bd401a467c36469\">e7c282f</a></td><td><code>more tests for .valuation</code></td></tr></table>\n",
    "created_at": "2022-02-04T17:12:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461037",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'>Comment 7:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7c282f967c5c9c81a54a2204bd401a467c36469">e7c282f</a></td><td><code>more tests for .valuation</code></td></tr></table>




---

archive/issue_comments_461038.json:
```json
{
    "body": "Branch: **[u/chapoton/29215](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29215)**",
    "created_at": "2022-02-04T17:12:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461038",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/29215](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29215)**



---

archive/issue_comments_461039.json:
```json
{
    "body": "Commit: **[e7c282f](https://github.com/sagemath/sagetrac-mirror/commit/e7c282f967c5c9c81a54a2204bd401a467c36469)**",
    "created_at": "2022-02-04T17:12:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461039",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[e7c282f](https://github.com/sagemath/sagetrac-mirror/commit/e7c282f967c5c9c81a54a2204bd401a467c36469)**



---

archive/issue_comments_461040.json:
```json
{
    "body": "Author: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2022-02-04T17:12:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461040",
    "user": "https://github.com/fchapoton"
}
```

Author: **Frédéric Chapoton**



---

archive/issue_events_370090.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-02-04T17:12:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370090"
}
```



---

archive/issue_comments_461041.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nhmm, the new check triggers a doctest failure in \n\nsrc/sage/modular/pollack_stevens/modsym.py\n\nExperts, please help",
    "created_at": "2022-02-04T18:49:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461041",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>Comment 8:</a>
hmm, the new check triggers a doctest failure in 

src/sage/modular/pollack_stevens/modsym.py

Experts, please help



---

archive/issue_comments_461042.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nThe issue seems to be that  `hecke_eigenvalue_field` and the base ring of `phi` are different but isomorphic.\nOne easy to fix the test is to have `K = phi.base_ring()` and if Marc Masdeu agrees, create another issue regarding the disparity between the presentation of `f.hecke_eigenvalue_field()` and `phi.base_ring()`.\n\n```\nsage: f = Newforms(32, 8, names='a')[1]\n....: K = f.hecke_eigenvalue_field()\n....: a = f[3]\n....: from sage.modular.pollack_stevens.space import ps_modsym_from_simple_modsym_space\n....: phi = ps_modsym_from_simple_modsym_space(f.modular_symbols(1))\nsage: p = K.ideal(3, 1/16*a + 3/2)\nsage: q = p.smallest_integer()\nsage: aq = phi.Tq_eigenvalue(q)\nsage: phi.base_ring()\nNumber Field in alpha with defining polynomial x^2 + 32*x - 9984\nsage: aq.parent()\nNumber Field in alpha with defining polynomial x^2 + 32*x - 9984\nsage: p.parent()\nMonoid of ideals of Number Field in a1 with defining polynomial x^2 + 16*x - 2496\nsage: K\nNumber Field in a1 with defining polynomial x^2 + 16*x - 2496\nsage: K.is_isomorphic(aq.parent())\nTrue\n```",
    "created_at": "2022-02-07T15:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461042",
    "user": "https://github.com/edgarcosta"
}
```

<a id='comment:10'>Comment 10:</a>
The issue seems to be that  `hecke_eigenvalue_field` and the base ring of `phi` are different but isomorphic.
One easy to fix the test is to have `K = phi.base_ring()` and if Marc Masdeu agrees, create another issue regarding the disparity between the presentation of `f.hecke_eigenvalue_field()` and `phi.base_ring()`.

```
sage: f = Newforms(32, 8, names='a')[1]
....: K = f.hecke_eigenvalue_field()
....: a = f[3]
....: from sage.modular.pollack_stevens.space import ps_modsym_from_simple_modsym_space
....: phi = ps_modsym_from_simple_modsym_space(f.modular_symbols(1))
sage: p = K.ideal(3, 1/16*a + 3/2)
sage: q = p.smallest_integer()
sage: aq = phi.Tq_eigenvalue(q)
sage: phi.base_ring()
Number Field in alpha with defining polynomial x^2 + 32*x - 9984
sage: aq.parent()
Number Field in alpha with defining polynomial x^2 + 32*x - 9984
sage: p.parent()
Monoid of ideals of Number Field in a1 with defining polynomial x^2 + 16*x - 2496
sage: K
Number Field in a1 with defining polynomial x^2 + 16*x - 2496
sage: K.is_isomorphic(aq.parent())
True
```



---

archive/issue_comments_461043.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nIt's not a problem with the Pollack-Stevens modular symbols:\n\n```\nsage: f = Newforms(32, 8, names='a')[1]\nsage: K = f.hecke_eigenvalue_field()\nsage: L = f.modular_symbols(1).eigenvalue(1).parent()\nsage: K == L\nFalse\nsage: K.is_isomorphic(L)\nTrue\n```",
    "created_at": "2022-02-07T15:37:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461043",
    "user": "https://github.com/mmasdeu"
}
```

<a id='comment:11'>Comment 11:</a>
It's not a problem with the Pollack-Stevens modular symbols:

```
sage: f = Newforms(32, 8, names='a')[1]
sage: K = f.hecke_eigenvalue_field()
sage: L = f.modular_symbols(1).eigenvalue(1).parent()
sage: K == L
False
sage: K.is_isomorphic(L)
True
```



---

archive/issue_comments_461044.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nYeah, I also think it is okay for them to pick different representations of the base ring.\nThus, my fix would be to replace the current test\n\n```\n            sage: f = Newforms(32, 8, names='a')[1]\n            sage: K = f.hecke_eigenvalue_field()\n            sage: a = f[3]\n            sage: from sage.modular.pollack_stevens.space import ps_modsym_from_simple_modsym_space\n            sage: phi = ps_modsym_from_simple_modsym_space(f.modular_symbols(1))\n            sage: phi.is_ordinary(K.ideal(3, 1/16*a + 3/2)) !=  phi.is_ordinary(K.ideal(3, 1/16*a + 5/2))\n            True\n            sage: phi.is_ordinary(3)\n            Traceback (most recent call last):\n            ...\n            TypeError: P must be an ideal\n\n```\nwith\n\n```\n            sage: f = Newforms(32, 8, names='a')[1]\n            sage: from sage.modular.pollack_stevens.space import ps_modsym_from_simple_modsym_space\n            sage: phi = ps_modsym_from_simple_modsym_space(f.modular_symbols(1))\n            sage: K = phi.base_ring()\n            sage: a = K.gen()\n            sage: phi.is_ordinary(K.ideal(3, 1/32*a + 1/2)) !=  phi.is_ordinary(K.ideal(3, 1/32*a + 3/2))\n            True\n            sage: phi.is_ordinary(3)\n            Traceback (most recent call last):\n            ...\n            TypeError: P must be an ideal\n```",
    "created_at": "2022-02-07T18:31:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461044",
    "user": "https://github.com/edgarcosta"
}
```

<a id='comment:12'>Comment 12:</a>
Yeah, I also think it is okay for them to pick different representations of the base ring.
Thus, my fix would be to replace the current test

```
            sage: f = Newforms(32, 8, names='a')[1]
            sage: K = f.hecke_eigenvalue_field()
            sage: a = f[3]
            sage: from sage.modular.pollack_stevens.space import ps_modsym_from_simple_modsym_space
            sage: phi = ps_modsym_from_simple_modsym_space(f.modular_symbols(1))
            sage: phi.is_ordinary(K.ideal(3, 1/16*a + 3/2)) !=  phi.is_ordinary(K.ideal(3, 1/16*a + 5/2))
            True
            sage: phi.is_ordinary(3)
            Traceback (most recent call last):
            ...
            TypeError: P must be an ideal

```
with

```
            sage: f = Newforms(32, 8, names='a')[1]
            sage: from sage.modular.pollack_stevens.space import ps_modsym_from_simple_modsym_space
            sage: phi = ps_modsym_from_simple_modsym_space(f.modular_symbols(1))
            sage: K = phi.base_ring()
            sage: a = K.gen()
            sage: phi.is_ordinary(K.ideal(3, 1/32*a + 1/2)) !=  phi.is_ordinary(K.ideal(3, 1/32*a + 3/2))
            True
            sage: phi.is_ordinary(3)
            Traceback (most recent call last):
            ...
            TypeError: P must be an ideal
```



---

archive/issue_comments_461045.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a260f32268a68ac4a394174560b1e3ecc98eeef2\">a260f32</a></td><td><code>more tests for .valuation</code></td></tr></table>\n",
    "created_at": "2022-02-22T08:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461045",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a260f32268a68ac4a394174560b1e3ecc98eeef2">a260f32</a></td><td><code>more tests for .valuation</code></td></tr></table>




---

archive/issue_comments_461046.json:
```json
{
    "body": "Changed commit from **[e7c282f](https://github.com/sagemath/sagetrac-mirror/commit/e7c282f967c5c9c81a54a2204bd401a467c36469)** to **[a260f32](https://github.com/sagemath/sagetrac-mirror/commit/a260f32268a68ac4a394174560b1e3ecc98eeef2)**",
    "created_at": "2022-02-22T08:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461046",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e7c282f](https://github.com/sagemath/sagetrac-mirror/commit/e7c282f967c5c9c81a54a2204bd401a467c36469)** to **[a260f32](https://github.com/sagemath/sagetrac-mirror/commit/a260f32268a68ac4a394174560b1e3ecc98eeef2)**



---

archive/issue_comments_461047.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nnew branch, with modified doctest as suggested",
    "created_at": "2022-02-22T08:24:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461047",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:14'>Comment 14:</a>
new branch, with modified doctest as suggested



---

archive/issue_comments_461048.json:
```json
{
    "body": "Changed commit from **[a260f32](https://github.com/sagemath/sagetrac-mirror/commit/a260f32268a68ac4a394174560b1e3ecc98eeef2)** to **[14449e1](https://github.com/sagemath/sagetrac-mirror/commit/14449e109bbdba6a5fdd52d01fbca5fb778caa42)**",
    "created_at": "2022-02-22T13:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461048",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a260f32](https://github.com/sagemath/sagetrac-mirror/commit/a260f32268a68ac4a394174560b1e3ecc98eeef2)** to **[14449e1](https://github.com/sagemath/sagetrac-mirror/commit/14449e109bbdba6a5fdd52d01fbca5fb778caa42)**



---

archive/issue_comments_461049.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14449e109bbdba6a5fdd52d01fbca5fb778caa42\">14449e1</a></td><td><code>fix doctest</code></td></tr></table>\n",
    "created_at": "2022-02-22T13:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461049",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'>Comment 15:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14449e109bbdba6a5fdd52d01fbca5fb778caa42">14449e1</a></td><td><code>fix doctest</code></td></tr></table>




---

archive/issue_comments_461050.json:
```json
{
    "body": "Reviewer: **Edgar Costa**",
    "created_at": "2022-02-22T14:45:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461050",
    "user": "https://github.com/edgarcosta"
}
```

Reviewer: **Edgar Costa**



---

archive/issue_comments_461051.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nThank you very much! It looks good to me.\nFeel free to change the status to a positive review once the tests pass.",
    "created_at": "2022-02-22T14:45:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461051",
    "user": "https://github.com/edgarcosta"
}
```

<a id='comment:16'>Comment 16:</a>
Thank you very much! It looks good to me.
Feel free to change the status to a positive review once the tests pass.



---

archive/issue_comments_461052.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\ngreen bot, so setting to positive",
    "created_at": "2022-02-22T20:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461052",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'>Comment 17:</a>
green bot, so setting to positive



---

archive/issue_events_370091.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-02-22T20:30:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370091"
}
```



---

archive/issue_events_370092.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-02-22T20:30:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370092"
}
```



---

archive/issue_comments_461053.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,24 +1,35 @@\n-Sage makes a calculation error with valuation. See this code\n+Sage makes a calculation error with valuation.\n+\n+After defining\n \n ```\n-E=EllipticCurve('15a1')\n-D=-11\n-p=7\n-P=E.heegner_point(D)\n-Q=P.point_exact()\n-R=PolynomialRing(QQ,'x')\n-x=R.gen()\n-K.<a>=NumberField (x^2-D)\n-E_K=E.base_extend(K)\n-I=K.ideal(p)\n-v=I.prime_factors()[0]\n-E_loc=E_K.reduction(v)\n-Np=E_loc.cardinality()\n-Q2=Np*Q\n+E = EllipticCurve('15a1')\n+D = -11\n+p = 7\n+P = E.heegner_point(D)\n+Q = P.point_exact()\n+R = PolynomialRing(QQ, 'x')\n+x = R.gen()\n+K.<a> = NumberField (x^2 - D)\n+E_K = E.base_extend(K)\n+I = K.ideal(p)\n+v = I.prime_factors()[0]\n+E_loc = E_K.reduction(v)\n+Np = E_loc.cardinality()\n+Q2 = Np * Q\n Q2.clear_denominators()\n-a=Q2.xy()[0]\n-b=Q2.xy()[1]\n-c=a/b\n-print(a.valuation(v), b.valuation(v), c.valuation(v))\n+a = Q2.xy()[0]\n+b = Q2.xy()[1]\n+c = a / b\n ```\n-This returns -1,-2,0. There is clearly an error as c.valuation(v) should be 1.\n+we get:\n+\n+```\n+sage: [x.valuation(v) for x in (a, b, c)]\n+[-1, -2, 0]\n+```\n+Clearly an error as `c.valuation(v)`\n+should be `1`, not `0`.\n+\n+Furthermore the `v`-valuations of `b` and `c`\n+should add up to that of `a`.\n``````\n",
    "created_at": "2022-02-23T17:03:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461053",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,24 +1,35 @@
-Sage makes a calculation error with valuation. See this code
+Sage makes a calculation error with valuation.
+
+After defining
 
 ```
-E=EllipticCurve('15a1')
-D=-11
-p=7
-P=E.heegner_point(D)
-Q=P.point_exact()
-R=PolynomialRing(QQ,'x')
-x=R.gen()
-K.<a>=NumberField (x^2-D)
-E_K=E.base_extend(K)
-I=K.ideal(p)
-v=I.prime_factors()[0]
-E_loc=E_K.reduction(v)
-Np=E_loc.cardinality()
-Q2=Np*Q
+E = EllipticCurve('15a1')
+D = -11
+p = 7
+P = E.heegner_point(D)
+Q = P.point_exact()
+R = PolynomialRing(QQ, 'x')
+x = R.gen()
+K.<a> = NumberField (x^2 - D)
+E_K = E.base_extend(K)
+I = K.ideal(p)
+v = I.prime_factors()[0]
+E_loc = E_K.reduction(v)
+Np = E_loc.cardinality()
+Q2 = Np * Q
 Q2.clear_denominators()
-a=Q2.xy()[0]
-b=Q2.xy()[1]
-c=a/b
-print(a.valuation(v), b.valuation(v), c.valuation(v))
+a = Q2.xy()[0]
+b = Q2.xy()[1]
+c = a / b
 ```
-This returns -1,-2,0. There is clearly an error as c.valuation(v) should be 1.
+we get:
+
+```
+sage: [x.valuation(v) for x in (a, b, c)]
+[-1, -2, 0]
+```
+Clearly an error as `c.valuation(v)`
+should be `1`, not `0`.
+
+Furthermore the `v`-valuations of `b` and `c`
+should add up to that of `a`.
``````




---

archive/issue_comments_461054.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nVolker is now trying to merge this ticket but I am getting this error with it\n\n```\nsage -t --long --random-seed=338744033241951726879691723867373127890 /usr/lib/python3.10/site-packages/sage/modular/pollack_stevens/modsym.py\n**********************************************************************\nFile \"/usr/lib/python3.10/site-packages/sage/modular/pollack_stevens/modsym.py\", line 723, in sage.modular.pollack_stevens.modsym.PSModularSymbolElement.is_ordinary\nFailed example:\n    phi.is_ordinary(K.ideal(3, 1/32*a + 1/2)) !=  phi.is_ordinary(K.ideal(3, 1/32*a + 3/2))\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.10/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/lib/python3.10/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modular.pollack_stevens.modsym.PSModularSymbolElement.is_ordinary[13]>\", line 1, in <module>\n        phi.is_ordinary(K.ideal(Integer(3), Integer(1)/Integer(32)*a + Integer(1)/Integer(2))) !=  phi.is_ordinary(K.ideal(Integer(3), Integer(1)/Integer(32)*a + Integer(3)/Integer(2)))\n      File \"/usr/lib/python3.10/site-packages/sage/modular/pollack_stevens/modsym.py\", line 744, in is_ordinary\n        return aq.valuation(p) == 0\n      File \"sage/rings/number_field/number_field_element.pyx\", line 3850, in sage.rings.number_field.number_field_element.NumberFieldElement.valuation (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_10/cythonized/sage/rings/number_field/number_field_element.cpp:32228)\n        raise ValueError(\"P must be prime\")\n    ValueError: P must be prime\n**********************************************************************\n```",
    "created_at": "2022-02-25T04:38:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461054",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:19'>Comment 19:</a>
Volker is now trying to merge this ticket but I am getting this error with it

```
sage -t --long --random-seed=338744033241951726879691723867373127890 /usr/lib/python3.10/site-packages/sage/modular/pollack_stevens/modsym.py
**********************************************************************
File "/usr/lib/python3.10/site-packages/sage/modular/pollack_stevens/modsym.py", line 723, in sage.modular.pollack_stevens.modsym.PSModularSymbolElement.is_ordinary
Failed example:
    phi.is_ordinary(K.ideal(3, 1/32*a + 1/2)) !=  phi.is_ordinary(K.ideal(3, 1/32*a + 3/2))
Exception raised:
    Traceback (most recent call last):
      File "/usr/lib/python3.10/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/lib/python3.10/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modular.pollack_stevens.modsym.PSModularSymbolElement.is_ordinary[13]>", line 1, in <module>
        phi.is_ordinary(K.ideal(Integer(3), Integer(1)/Integer(32)*a + Integer(1)/Integer(2))) !=  phi.is_ordinary(K.ideal(Integer(3), Integer(1)/Integer(32)*a + Integer(3)/Integer(2)))
      File "/usr/lib/python3.10/site-packages/sage/modular/pollack_stevens/modsym.py", line 744, in is_ordinary
        return aq.valuation(p) == 0
      File "sage/rings/number_field/number_field_element.pyx", line 3850, in sage.rings.number_field.number_field_element.NumberFieldElement.valuation (/dev/shm/portage/sci-mathematics/sage-9999/work/sage-9999/src-python3_10/cythonized/sage/rings/number_field/number_field_element.cpp:32228)
        raise ValueError("P must be prime")
    ValueError: P must be prime
**********************************************************************
```



---

archive/issue_events_370093.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-26T11:41:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370093"
}
```



---

archive/issue_events_370094.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-26T11:41:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370094"
}
```



---

archive/issue_comments_461055.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nSorry about my typo.\nThe ideals should be `(3, 1/32*alpha + 5/2)` and `(3, 1/32*alpha + 3/2)`.\nHowever, a better way to do this is:\n\n```\nsage: phi = ps_modsym_from_simple_modsym_space(f.modular_symbols(1))\nsage: (p1, _), (p2, _) = phi.base_ring().ideal(3).factor()\nsage: phi.is_ordinary(p1) != phi.is_ordinary(p2)\nTrue\n```\nthis avoids the awkward construction of the ideals via generators and makes clear why we choose these two ideals.",
    "created_at": "2022-02-28T15:34:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461055",
    "user": "https://github.com/edgarcosta"
}
```

<a id='comment:21'>Comment 21:</a>
Sorry about my typo.
The ideals should be `(3, 1/32*alpha + 5/2)` and `(3, 1/32*alpha + 3/2)`.
However, a better way to do this is:

```
sage: phi = ps_modsym_from_simple_modsym_space(f.modular_symbols(1))
sage: (p1, _), (p2, _) = phi.base_ring().ideal(3).factor()
sage: phi.is_ordinary(p1) != phi.is_ordinary(p2)
True
```
this avoids the awkward construction of the ideals via generators and makes clear why we choose these two ideals.



---

archive/issue_comments_461056.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/81f19d3d9d2f553879fab02e184f787f65980d8e\">81f19d3</a></td><td><code>Merge branch 'u/chapoton/29215' in 9.6.beta3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8f5f13fe4ecf6331ad9521d9a824848aa603617\">d8f5f13</a></td><td><code>fix doctest in modsym</code></td></tr></table>\n",
    "created_at": "2022-02-28T16:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461056",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>Comment 22:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/81f19d3d9d2f553879fab02e184f787f65980d8e">81f19d3</a></td><td><code>Merge branch 'u/chapoton/29215' in 9.6.beta3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8f5f13fe4ecf6331ad9521d9a824848aa603617">d8f5f13</a></td><td><code>fix doctest in modsym</code></td></tr></table>




---

archive/issue_comments_461057.json:
```json
{
    "body": "Changed commit from **[14449e1](https://github.com/sagemath/sagetrac-mirror/commit/14449e109bbdba6a5fdd52d01fbca5fb778caa42)** to **[d8f5f13](https://github.com/sagemath/sagetrac-mirror/commit/d8f5f13fe4ecf6331ad9521d9a824848aa603617)**",
    "created_at": "2022-02-28T16:07:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461057",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[14449e1](https://github.com/sagemath/sagetrac-mirror/commit/14449e109bbdba6a5fdd52d01fbca5fb778caa42)** to **[d8f5f13](https://github.com/sagemath/sagetrac-mirror/commit/d8f5f13fe4ecf6331ad9521d9a824848aa603617)**



---

archive/issue_comments_461058.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nthanks, modified",
    "created_at": "2022-02-28T16:08:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461058",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'>Comment 23:</a>
thanks, modified



---

archive/issue_events_370095.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-02-28T16:08:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370095"
}
```



---

archive/issue_events_370096.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-02-28T16:08:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370096"
}
```



---

archive/issue_comments_461059.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nOnce again, the changes look good to me. Feel free to change the status to a positive review once the tests pass. \nHowever, I'm still confused about how the tests passed with the previous typo...",
    "created_at": "2022-02-28T16:19:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461059",
    "user": "https://github.com/edgarcosta"
}
```

<a id='comment:25'>Comment 25:</a>
Once again, the changes look good to me. Feel free to change the status to a positive review once the tests pass. 
However, I'm still confused about how the tests passed with the previous typo...



---

archive/issue_comments_461060.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nmorally green bot, setting to positive",
    "created_at": "2022-02-28T19:57:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461060",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'>Comment 26:</a>
morally green bot, setting to positive



---

archive/issue_events_370097.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-02-28T19:57:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370097"
}
```



---

archive/issue_events_370098.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-02-28T19:57:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370098"
}
```



---

archive/issue_events_370099.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-01T21:31:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370099"
}
```



---

archive/issue_events_370100.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9e90afaba08136b703fcdf3411bdb3553c69ce73",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-03-01T21:31:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29215#event-370100"
}
```



---

archive/issue_comments_461061.json:
```json
{
    "body": "Changed branch from **[u/chapoton/29215](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29215)** to **[d8f5f13](https://github.com/sagemath/sagetrac-mirror/commit/d8f5f13fe4ecf6331ad9521d9a824848aa603617)**",
    "created_at": "2022-03-01T21:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29215",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29215#issuecomment-461061",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/29215](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29215)** to **[d8f5f13](https://github.com/sagemath/sagetrac-mirror/commit/d8f5f13fe4ecf6331ad9521d9a824848aa603617)**
