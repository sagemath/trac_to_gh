# Issue 29803: Upgrade setuptools, setuptools_scm, pip (2020-06), add package wheel; remove zope_interface

archive/issues_029566.json:
```json
{
    "assignees": [],
    "body": "Big upgrade steps, enabled by drop python 2 support.\n\n* https://pypi.org/project/pip/   20.1.1\n* https://pypi.org/project/setuptools/  47.1.1\n* https://pypi.org/project/setuptools-scm/  4.1.2\n\nAdd new packages to satisfy dependencies:\n\n* https://pypi.org/project/wheel/ 0.34.2\n\nThese are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)\n\nWe adjust `spkg-install` of several packages by removing `pyproject.toml` to remove the need for more extensive build infrastructure. We disable the build of `zope_interface` (no longer needed, see #29754).\n\nTarballs: See checksums.ini [upstream_url]. (To configure Sage to download from the upstream URL, use `./configure --enable-download-from-upstream-url`.)\n\nPrevious updates: #26969, #27886, #26008\n\n\nCC:  @vbraun @fchapoton @saraedum @slel @kiwifb @dimpase @jhpalmieri\n\nBranch: **[`371ede6`](https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29803_\n\n",
    "closed_at": "2020-06-27T09:26:17Z",
    "created_at": "2020-06-05T04:52:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade setuptools, setuptools_scm, pip (2020-06), add package wheel; remove zope_interface",
    "type": "issue",
    "updated_at": "2020-07-14T17:49:34Z",
    "url": "https://github.com/sagemath/sage/issues/29803",
    "user": "https://github.com/mkoeppe"
}
```
Big upgrade steps, enabled by drop python 2 support.

* https://pypi.org/project/pip/   20.1.1
* https://pypi.org/project/setuptools/  47.1.1
* https://pypi.org/project/setuptools-scm/  4.1.2

Add new packages to satisfy dependencies:

* https://pypi.org/project/wheel/ 0.34.2

These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)

We adjust `spkg-install` of several packages by removing `pyproject.toml` to remove the need for more extensive build infrastructure. We disable the build of `zope_interface` (no longer needed, see #29754).

Tarballs: See checksums.ini [upstream_url]. (To configure Sage to download from the upstream URL, use `./configure --enable-download-from-upstream-url`.)

Previous updates: #26969, #27886, #26008


CC:  @vbraun @fchapoton @saraedum @slel @kiwifb @dimpase @jhpalmieri

Branch: **[`371ede6`](https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0)**

Reviewer: **Dima Pasechnik**

Author: **Matthias Koeppe**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/29803_





---

archive/issue_events_412246.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-05T04:52:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412246"
}
```



---

archive/issue_events_412247.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-05T04:52:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412247"
}
```



---

archive/issue_events_412248.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-05T04:52:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412248"
}
```



---

archive/issue_events_412249.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-05T04:52:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412249"
}
```



---

archive/issue_comments_470442.json:
```json
{
    "body": "Branch: **[u/mkoeppe/upgrade_setuptools__pip__2020_06_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_setuptools__pip__2020_06_)**",
    "created_at": "2020-06-05T05:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470442",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/upgrade_setuptools__pip__2020_06_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_setuptools__pip__2020_06_)**



---

archive/issue_comments_470443.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-06-05T05:07:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470443",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_470444.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/886693ea1740889f449f59c8b4dcf6230cf1db76\"><code>886693e</code></a></td><td><code>Upgrade pip to 20.1.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80374c50762a3d162c3dd5505f90f48d3da627ae\"><code>80374c5</code></a></td><td><code>Upgrade setuptools to 47.1.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50c696282b85af235f60cbdc6917bf7a2f9c6020\"><code>50c6962</code></a></td><td><code>Upgrade setuptools_scm to 4.1.2</code></td></tr></table>\n",
    "created_at": "2020-06-05T05:07:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470444",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/886693ea1740889f449f59c8b4dcf6230cf1db76"><code>886693e</code></a></td><td><code>Upgrade pip to 20.1.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80374c50762a3d162c3dd5505f90f48d3da627ae"><code>80374c5</code></a></td><td><code>Upgrade setuptools to 47.1.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50c696282b85af235f60cbdc6917bf7a2f9c6020"><code>50c6962</code></a></td><td><code>Upgrade setuptools_scm to 4.1.2</code></td></tr></table>




---

archive/issue_comments_470445.json:
```json
{
    "body": "Commit: **[`50c6962`](https://github.com/sagemath/sagetrac-mirror/commit/50c696282b85af235f60cbdc6917bf7a2f9c6020)**",
    "created_at": "2020-06-05T05:07:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470445",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`50c6962`](https://github.com/sagemath/sagetrac-mirror/commit/50c696282b85af235f60cbdc6917bf7a2f9c6020)**



---

archive/issue_comments_470446.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+Big upgrade steps, enabled by drop python 2 support.\n \n+Previous updates: #26969, #27886.\n``````\n",
    "created_at": "2020-06-05T05:07:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470446",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+Big upgrade steps, enabled by drop python 2 support.
 
+Previous updates: #26969, #27886.
``````




---

archive/issue_events_412250.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-05T05:07:23Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "title_is": "Upgrade setuptools, setuptools_scm, pip (2020-06)",
    "title_was": "Upgrade setuptools, pip (2020-06)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412250"
}
```



---

archive/issue_comments_470447.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Big upgrade steps, enabled by drop python 2 support.\n \n-Previous updates: #26969, #27886.\n+Previous updates: #26969, #27886, #26008\n``````\n",
    "created_at": "2020-06-05T05:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470447",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Big upgrade steps, enabled by drop python 2 support.
 
-Previous updates: #26969, #27886.
+Previous updates: #26969, #27886, #26008
``````




---

archive/issue_comments_470448.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Big upgrade steps, enabled by drop python 2 support.\n \n+Tarballs: See checksums.ini [upstream_url]\n+\n Previous updates: #26969, #27886, #26008\n``````\n",
    "created_at": "2020-06-05T05:51:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470448",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Big upgrade steps, enabled by drop python 2 support.
 
+Tarballs: See checksums.ini [upstream_url]
+
 Previous updates: #26969, #27886, #26008
``````




---

archive/issue_comments_470449.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\npip installation fails, for example on ubuntu-bionic-standard (https://github.com/mkoeppe/sage/runs/741110905)\n\n```\n     Preparing wheel metadata: finished with status 'error'\nERROR: Command errored out with exit status 1: /sage/local/bin/python3 /sage/local/var/tmp/sage/build/pip-20.1.1/src/src/pip/_vendor/pep517/_in_process.py prepare_metadata_for_build_wheel /tmp/tmp32gsdf31 Check the logs for full command output.\n```",
    "created_at": "2020-06-05T17:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470449",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

pip installation fails, for example on ubuntu-bionic-standard (https://github.com/mkoeppe/sage/runs/741110905)

```
     Preparing wheel metadata: finished with status 'error'
ERROR: Command errored out with exit status 1: /sage/local/bin/python3 /sage/local/var/tmp/sage/build/pip-20.1.1/src/src/pip/_vendor/pep517/_in_process.py prepare_metadata_for_build_wheel /tmp/tmp32gsdf31 Check the logs for full command output.
```



---

archive/issue_comments_470450.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSeems we need to add the `wheel` package",
    "created_at": "2020-06-05T17:50:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470450",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Seems we need to add the `wheel` package



---

archive/issue_events_412251.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-05T18:39:37Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "title_is": "Upgrade setuptools, setuptools_scm, pip (2020-06), add package wheel",
    "title_was": "Upgrade setuptools, setuptools_scm, pip (2020-06)",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412251"
}
```



---

archive/issue_comments_470451.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,13 @@\n Big upgrade steps, enabled by drop python 2 support.\n+\n+* https://pypi.org/project/wheel/ 0.34.2\n+* https://pypi.org/project/pip/   20.1.1\n+* https://pypi.org/project/setuptools/  47.1.1\n+* https://pypi.org/project/setuptools-scm/  4.1.2\n+\n+These are the latest versions; all claim to support Python >= 3.5.\n \n Tarballs: See checksums.ini [upstream_url]\n \n Previous updates: #26969, #27886, #26008\n+\n``````\n",
    "created_at": "2020-06-05T18:39:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470451",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,13 @@
 Big upgrade steps, enabled by drop python 2 support.
+
+* https://pypi.org/project/wheel/ 0.34.2
+* https://pypi.org/project/pip/   20.1.1
+* https://pypi.org/project/setuptools/  47.1.1
+* https://pypi.org/project/setuptools-scm/  4.1.2
+
+These are the latest versions; all claim to support Python >= 3.5.
 
 Tarballs: See checksums.ini [upstream_url]
 
 Previous updates: #26969, #27886, #26008
+
``````




---

archive/issue_comments_470452.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,7 +5,7 @@\n * https://pypi.org/project/setuptools/  47.1.1\n * https://pypi.org/project/setuptools-scm/  4.1.2\n \n-These are the latest versions; all claim to support Python >= 3.5.\n+These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5.\n \n Tarballs: See checksums.ini [upstream_url]\n \n``````\n",
    "created_at": "2020-06-05T18:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470452",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,7 +5,7 @@
 * https://pypi.org/project/setuptools/  47.1.1
 * https://pypi.org/project/setuptools-scm/  4.1.2
 
-These are the latest versions; all claim to support Python >= 3.5.
+These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5.
 
 Tarballs: See checksums.ini [upstream_url]
 
``````




---

archive/issue_comments_470453.json:
```json
{
    "body": "Changed commit from **[`50c6962`](https://github.com/sagemath/sagetrac-mirror/commit/50c696282b85af235f60cbdc6917bf7a2f9c6020)** to **[`10a2bac`](https://github.com/sagemath/sagetrac-mirror/commit/10a2bace146d47e45037a77e02da88f3bd4a22b0)**",
    "created_at": "2020-06-05T18:44:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470453",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`50c6962`](https://github.com/sagemath/sagetrac-mirror/commit/50c696282b85af235f60cbdc6917bf7a2f9c6020)** to **[`10a2bac`](https://github.com/sagemath/sagetrac-mirror/commit/10a2bace146d47e45037a77e02da88f3bd4a22b0)**



---

archive/issue_comments_470454.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c81b8c49a1daeb1843806f8954a79faae036b44\"><code>7c81b8c</code></a></td><td><code>build/pkgs/wheel: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70378eda31ddb86390072befc0d7d07463de53e6\"><code>70378ed</code></a></td><td><code>build/pkgs/pip/dependencies: Add wheel, simplify $(PYTHON) python3 to $(PYTHON)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10a2bace146d47e45037a77e02da88f3bd4a22b0\"><code>10a2bac</code></a></td><td><code>build/pkgs/setuptools, build/pkgs/pip: Remove python2 support from dependencies, install scripts</code></td></tr></table>\n",
    "created_at": "2020-06-05T18:44:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470454",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c81b8c49a1daeb1843806f8954a79faae036b44"><code>7c81b8c</code></a></td><td><code>build/pkgs/wheel: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70378eda31ddb86390072befc0d7d07463de53e6"><code>70378ed</code></a></td><td><code>build/pkgs/pip/dependencies: Add wheel, simplify $(PYTHON) python3 to $(PYTHON)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10a2bace146d47e45037a77e02da88f3bd4a22b0"><code>10a2bac</code></a></td><td><code>build/pkgs/setuptools, build/pkgs/pip: Remove python2 support from dependencies, install scripts</code></td></tr></table>




---

archive/issue_comments_470455.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nTests run at https://github.com/mkoeppe/sage/pull/36/checks",
    "created_at": "2020-06-05T18:52:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470455",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Tests run at https://github.com/mkoeppe/sage/pull/36/checks



---

archive/issue_comments_470456.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,7 +5,7 @@\n * https://pypi.org/project/setuptools/  47.1.1\n * https://pypi.org/project/setuptools-scm/  4.1.2\n \n-These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5.\n+These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)\n \n Tarballs: See checksums.ini [upstream_url]\n \n``````\n",
    "created_at": "2020-06-05T20:04:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470456",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,7 +5,7 @@
 * https://pypi.org/project/setuptools/  47.1.1
 * https://pypi.org/project/setuptools-scm/  4.1.2
 
-These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5.
+These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)
 
 Tarballs: See checksums.ini [upstream_url]
 
``````




---

archive/issue_comments_470457.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nOn `debian-bullseye-standard`:\n\n```\n  [pkgconfig-1.5.1]     File \"/usr/lib/python3.7/importlib/__init__.py\", line 127, in import_module\n  [pkgconfig-1.5.1]       return _bootstrap._gcd_import(name[level:], package, level)\n  [pkgconfig-1.5.1]     File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\n  [pkgconfig-1.5.1]     File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\n  [pkgconfig-1.5.1]     File \"<frozen importlib._bootstrap>\", line 953, in _find_and_load_unlocked\n  [pkgconfig-1.5.1]     File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\n  [pkgconfig-1.5.1]     File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\n  [pkgconfig-1.5.1]     File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\n  [pkgconfig-1.5.1]     File \"<frozen importlib._bootstrap>\", line 953, in _find_and_load_unlocked\n  [pkgconfig-1.5.1]     File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\n  [pkgconfig-1.5.1]     File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\n  [pkgconfig-1.5.1]     File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\n  [pkgconfig-1.5.1]     File \"<frozen importlib._bootstrap>\", line 965, in _find_and_load_unlocked\n  [pkgconfig-1.5.1]   ModuleNotFoundError: No module named 'poetry'\n```",
    "created_at": "2020-06-05T21:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470457",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

On `debian-bullseye-standard`:

```
  [pkgconfig-1.5.1]     File "/usr/lib/python3.7/importlib/__init__.py", line 127, in import_module
  [pkgconfig-1.5.1]       return _bootstrap._gcd_import(name[level:], package, level)
  [pkgconfig-1.5.1]     File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  [pkgconfig-1.5.1]     File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  [pkgconfig-1.5.1]     File "<frozen importlib._bootstrap>", line 953, in _find_and_load_unlocked
  [pkgconfig-1.5.1]     File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  [pkgconfig-1.5.1]     File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  [pkgconfig-1.5.1]     File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  [pkgconfig-1.5.1]     File "<frozen importlib._bootstrap>", line 953, in _find_and_load_unlocked
  [pkgconfig-1.5.1]     File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  [pkgconfig-1.5.1]     File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  [pkgconfig-1.5.1]     File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  [pkgconfig-1.5.1]     File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
  [pkgconfig-1.5.1]   ModuleNotFoundError: No module named 'poetry'
```



---

archive/issue_comments_470458.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\npkgconfig is at the most current version. Looks like giving it a modern setuptools causes it to demand more.",
    "created_at": "2020-06-05T22:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470458",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

pkgconfig is at the most current version. Looks like giving it a modern setuptools causes it to demand more.



---

archive/issue_comments_470459.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,17 @@\n Big upgrade steps, enabled by drop python 2 support.\n \n-* https://pypi.org/project/wheel/ 0.34.2\n * https://pypi.org/project/pip/   20.1.1\n * https://pypi.org/project/setuptools/  47.1.1\n * https://pypi.org/project/setuptools-scm/  4.1.2\n \n+Add new packages to satisfy dependencies:\n+\n+* https://pypi.org/project/wheel/ 0.34.2\n+* https://pypi.org/project/poetry/ 1.0.8\n+\n These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)\n \n-Tarballs: See checksums.ini [upstream_url]\n+Tarballs: See checksums.ini [upstream_url]. (To configure Sage to download from the upstream URL, use `./configure --enable-download-from-upstream-url`.)\n \n Previous updates: #26969, #27886, #26008\n \n``````\n",
    "created_at": "2020-06-05T22:11:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470459",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,17 @@
 Big upgrade steps, enabled by drop python 2 support.
 
-* https://pypi.org/project/wheel/ 0.34.2
 * https://pypi.org/project/pip/   20.1.1
 * https://pypi.org/project/setuptools/  47.1.1
 * https://pypi.org/project/setuptools-scm/  4.1.2
 
+Add new packages to satisfy dependencies:
+
+* https://pypi.org/project/wheel/ 0.34.2
+* https://pypi.org/project/poetry/ 1.0.8
+
 These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)
 
-Tarballs: See checksums.ini [upstream_url]
+Tarballs: See checksums.ini [upstream_url]. (To configure Sage to download from the upstream URL, use `./configure --enable-download-from-upstream-url`.)
 
 Previous updates: #26969, #27886, #26008
 
``````




---

archive/issue_comments_470460.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,7 @@\n Add new packages to satisfy dependencies:\n \n * https://pypi.org/project/wheel/ 0.34.2\n-* https://pypi.org/project/poetry/ 1.0.8\n+* https://pypi.org/project/poetry/ 1.0.8 ????\n \n These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)\n \n``````\n",
    "created_at": "2020-06-05T22:16:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470460",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,7 @@
 Add new packages to satisfy dependencies:
 
 * https://pypi.org/project/wheel/ 0.34.2
-* https://pypi.org/project/poetry/ 1.0.8
+* https://pypi.org/project/poetry/ 1.0.8 ????
 
 These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)
 
``````




---

archive/issue_comments_470461.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\npoetry, of course, has a LONG list of additional dependencies... https://github.com/python-poetry/poetry/blob/master/pyproject.toml",
    "created_at": "2020-06-05T22:16:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470461",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

poetry, of course, has a LONG list of additional dependencies... https://github.com/python-poetry/poetry/blob/master/pyproject.toml



---

archive/issue_comments_470462.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nWe will postpone adding poetry to #29810 and instead patch `pkgconfig` so it installs more prosaically using `setuptools`.",
    "created_at": "2020-06-05T22:25:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470462",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

We will postpone adding poetry to #29810 and instead patch `pkgconfig` so it installs more prosaically using `setuptools`.



---

archive/issue_comments_470463.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,7 +7,6 @@\n Add new packages to satisfy dependencies:\n \n * https://pypi.org/project/wheel/ 0.34.2\n-* https://pypi.org/project/poetry/ 1.0.8 ????\n \n These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)\n \n``````\n",
    "created_at": "2020-06-05T22:25:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470463",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,7 +7,6 @@
 Add new packages to satisfy dependencies:
 
 * https://pypi.org/project/wheel/ 0.34.2
-* https://pypi.org/project/poetry/ 1.0.8 ????
 
 These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)
 
``````




---

archive/issue_comments_470464.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nhttps://github.com/matze/pkgconfig/commits/master",
    "created_at": "2020-06-05T22:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470464",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

https://github.com/matze/pkgconfig/commits/master



---

archive/issue_comments_470465.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nSee #28883 for the last `pkgconfig` update, which commented on the issues with `poetry` already.",
    "created_at": "2020-06-05T22:48:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470465",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

See #28883 for the last `pkgconfig` update, which commented on the issues with `poetry` already.



---

archive/issue_comments_470466.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6755adb449240d6536a04c7c42b08042e0ed990f\"><code>6755adb</code></a></td><td><code>build/pkgs/pkgconfig/spkg-install.in: Remove pyproject.toml so that pip installs using setup.py</code></td></tr></table>\n",
    "created_at": "2020-06-05T22:53:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470466",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6755adb449240d6536a04c7c42b08042e0ed990f"><code>6755adb</code></a></td><td><code>build/pkgs/pkgconfig/spkg-install.in: Remove pyproject.toml so that pip installs using setup.py</code></td></tr></table>




---

archive/issue_comments_470467.json:
```json
{
    "body": "Changed commit from **[`10a2bac`](https://github.com/sagemath/sagetrac-mirror/commit/10a2bace146d47e45037a77e02da88f3bd4a22b0)** to **[`6755adb`](https://github.com/sagemath/sagetrac-mirror/commit/6755adb449240d6536a04c7c42b08042e0ed990f)**",
    "created_at": "2020-06-05T22:53:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470467",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`10a2bac`](https://github.com/sagemath/sagetrac-mirror/commit/10a2bace146d47e45037a77e02da88f3bd4a22b0)** to **[`6755adb`](https://github.com/sagemath/sagetrac-mirror/commit/6755adb449240d6536a04c7c42b08042e0ed990f)**



---

archive/issue_comments_470468.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nTests run again at \u200bhttps://github.com/mkoeppe/sage/pull/36/checks",
    "created_at": "2020-06-05T23:03:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470468",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Tests run again at â€‹https://github.com/mkoeppe/sage/pull/36/checks



---

archive/issue_comments_470469.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nSeveral failures (for example in https://github.com/mkoeppe/sage/runs/744000563):\n\n```\n  [entrypoints-0.3]   ModuleNotFoundError: No module named 'flit'\n  [testpath-0.4.2]   ModuleNotFoundError: No module named 'flit'\n  [zope_interface-4.6.0]   ImportError: cannot import name 'Feature' from 'setuptools' (/sage/local/lib/python3.7/site-packages/setuptools/__init__.py)\n  [terminado-0.8.1]   ModuleNotFoundError: No module named 'flit'\n```",
    "created_at": "2020-06-06T16:40:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470469",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Several failures (for example in https://github.com/mkoeppe/sage/runs/744000563):

```
  [entrypoints-0.3]   ModuleNotFoundError: No module named 'flit'
  [testpath-0.4.2]   ModuleNotFoundError: No module named 'flit'
  [zope_interface-4.6.0]   ImportError: cannot import name 'Feature' from 'setuptools' (/sage/local/lib/python3.7/site-packages/setuptools/__init__.py)
  [terminado-0.8.1]   ModuleNotFoundError: No module named 'flit'
```



---

archive/issue_comments_470470.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nPossible that `zope_interface` can be removed (#29754)",
    "created_at": "2020-06-06T17:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470470",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Possible that `zope_interface` can be removed (#29754)



---

archive/issue_comments_470471.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n`entrypoints` is current, https://pypi.org/project/testpath/ can be upgraded to 0.4.4, https://pypi.org/project/terminado/ to 0.8.3",
    "created_at": "2020-06-06T17:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470471",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

`entrypoints` is current, https://pypi.org/project/testpath/ can be upgraded to 0.4.4, https://pypi.org/project/terminado/ to 0.8.3



---

archive/issue_comments_470472.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29327d3e016de60f4b00eca08a736a41289bdf6f\"><code>29327d3</code></a></td><td><code>build/pkgs/entrypoints: Do not provide setup.py, not needed for entrypoints 0.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bcc79a58fd55c296cb07a73d89e459c23c9dfc9a\"><code>bcc79a5</code></a></td><td><code>build/pkgs/entrypoints/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/361b98baa71b32dd1647552ad3f723f0e75d22d1\"><code>361b98b</code></a></td><td><code>build/pkgs/terminado/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5040d7ec7c28438800edcd84291413ae7f7dba9c\"><code>5040d7e</code></a></td><td><code>build/pkgs/testpath/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr></table>\n",
    "created_at": "2020-06-06T17:39:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470472",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29327d3e016de60f4b00eca08a736a41289bdf6f"><code>29327d3</code></a></td><td><code>build/pkgs/entrypoints: Do not provide setup.py, not needed for entrypoints 0.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bcc79a58fd55c296cb07a73d89e459c23c9dfc9a"><code>bcc79a5</code></a></td><td><code>build/pkgs/entrypoints/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/361b98baa71b32dd1647552ad3f723f0e75d22d1"><code>361b98b</code></a></td><td><code>build/pkgs/terminado/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5040d7ec7c28438800edcd84291413ae7f7dba9c"><code>5040d7e</code></a></td><td><code>build/pkgs/testpath/spkg-install.in: Remove pyproject.toml so that setup.py is used</code></td></tr></table>




---

archive/issue_comments_470473.json:
```json
{
    "body": "Changed commit from **[`6755adb`](https://github.com/sagemath/sagetrac-mirror/commit/6755adb449240d6536a04c7c42b08042e0ed990f)** to **[`5040d7e`](https://github.com/sagemath/sagetrac-mirror/commit/5040d7ec7c28438800edcd84291413ae7f7dba9c)**",
    "created_at": "2020-06-06T17:39:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470473",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6755adb`](https://github.com/sagemath/sagetrac-mirror/commit/6755adb449240d6536a04c7c42b08042e0ed990f)** to **[`5040d7e`](https://github.com/sagemath/sagetrac-mirror/commit/5040d7ec7c28438800edcd84291413ae7f7dba9c)**



---

archive/issue_comments_470474.json:
```json
{
    "body": "Changed commit from **[`5040d7e`](https://github.com/sagemath/sagetrac-mirror/commit/5040d7ec7c28438800edcd84291413ae7f7dba9c)** to **[`371ede6`](https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0)**",
    "created_at": "2020-06-06T18:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470474",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5040d7e`](https://github.com/sagemath/sagetrac-mirror/commit/5040d7ec7c28438800edcd84291413ae7f7dba9c)** to **[`371ede6`](https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0)**



---

archive/issue_comments_470475.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0\"><code>371ede6</code></a></td><td><code>build/pkgs/zope_interface: Change to a dummy script package</code></td></tr></table>\n",
    "created_at": "2020-06-06T18:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470475",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0"><code>371ede6</code></a></td><td><code>build/pkgs/zope_interface: Change to a dummy script package</code></td></tr></table>




---

archive/issue_events_412252.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-06T18:23:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412252"
}
```



---

archive/issue_events_412253.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-06T18:23:16Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "title_is": "Upgrade setuptools, setuptools_scm, pip (2020-06), add package wheel; remove zope_interface",
    "title_was": "Upgrade setuptools, setuptools_scm, pip (2020-06), add package wheel",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412253"
}
```



---

archive/issue_comments_470476.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,6 +10,8 @@\n \n These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)\n \n+We adjust `spkg-install` of several packages by removing `pyproject.toml` to remove the need for more extensive build infrastructure. We disable the build of `zope_interface` (no longer needed, see #29754).\n+\n Tarballs: See checksums.ini [upstream_url]. (To configure Sage to download from the upstream URL, use `./configure --enable-download-from-upstream-url`.)\n \n Previous updates: #26969, #27886, #26008\n``````\n",
    "created_at": "2020-06-06T18:23:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470476",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,6 +10,8 @@
 
 These are the latest versions as of 2020-06-05; all claim to support Python >= 3.5 (note #29033)
 
+We adjust `spkg-install` of several packages by removing `pyproject.toml` to remove the need for more extensive build infrastructure. We disable the build of `zope_interface` (no longer needed, see #29754).
+
 Tarballs: See checksums.ini [upstream_url]. (To configure Sage to download from the upstream URL, use `./configure --enable-download-from-upstream-url`.)
 
 Previous updates: #26969, #27886, #26008
``````




---

archive/issue_comments_470477.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nBuilds fine on `homebrew-macos-standard`. Ready for review.",
    "created_at": "2020-06-06T20:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470477",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

Builds fine on `homebrew-macos-standard`. Ready for review.



---

archive/issue_events_412254.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-12T18:41:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412254"
}
```



---

archive/issue_events_412255.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-12T18:41:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412255"
}
```



---

archive/issue_comments_470478.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2020-06-12T18:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470478",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_470479.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nlgtm",
    "created_at": "2020-06-12T18:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470479",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

lgtm



---

archive/issue_comments_470480.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThanks!",
    "created_at": "2020-06-12T18:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470480",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Thanks!



---

archive/issue_events_412256.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-27T09:26:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412256"
}
```



---

archive/issue_events_412257.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d243d251016b0022b27053c3c3d260ae349800ff",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-06-27T09:26:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29803#event-412257"
}
```



---

archive/issue_comments_470481.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/upgrade_setuptools__pip__2020_06_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_setuptools__pip__2020_06_)** to **[`371ede6`](https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0)**",
    "created_at": "2020-06-27T09:26:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470481",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/upgrade_setuptools__pip__2020_06_](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_setuptools__pip__2020_06_)** to **[`371ede6`](https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0)**



---

archive/issue_comments_470482.json:
```json
{
    "body": "Changed commit from **[`371ede6`](https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0)** to none",
    "created_at": "2020-07-02T00:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470482",
    "user": "https://github.com/jhpalmieri"
}
```

Changed commit from **[`371ede6`](https://github.com/sagemath/sagetrac-mirror/commit/371ede6fb66ab8dc10dec5a40ca14c425d7225a0)** to none



---

archive/issue_comments_470483.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nNot a big deal, but I'm curious: with `pip`, why only the change to set `versions=3`, instead of removing the loop `for vers in $versions ...` and replacing `$vers` with `3` in `spkg-install.in`?",
    "created_at": "2020-07-02T00:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470483",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:32" align="right">comment:32</div>

Not a big deal, but I'm curious: with `pip`, why only the change to set `versions=3`, instead of removing the loop `for vers in $versions ...` and replacing `$vers` with `3` in `spkg-install.in`?



---

archive/issue_comments_470484.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI like to keep diffs minimal. Also minor uncertainty what the python binary will be called when python 4.0 comes out...",
    "created_at": "2020-07-02T18:13:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470484",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

I like to keep diffs minimal. Also minor uncertainty what the python binary will be called when python 4.0 comes out...



---

archive/issue_comments_470485.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI *think* that this ticket is leading to the following messages in the `sagetex` install log:\n\n```\nSuccessfully built sagetex\nInstalling collected packages: sagetex\n  Created temporary directory: /private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-unpacked-wheel-hw7nz29q\n  *** Error compiling '/private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-unpacked-wheel-hw7nz29q/sagetex-3.4.data/data/share/texmf/tex/latex/sagetex/extractsagecode.py'...\n    File \"/private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-unpacked-wheel-hw7nz29q/sagetex-3.4.data/data/share/texmf/tex/latex/sagetex/extractsagecode.py\", line 48\n      except getopt.GetoptError, err:\n                               ^\n  SyntaxError: invalid syntax\n  \n  *** Error compiling '/private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-unpacked-wheel-hw7nz29q/sagetex-3.4.data/data/share/texmf/tex/latex/sagetex/makestatic.py'...\n    File \"/private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-unpacked-wheel-hw7nz29q/sagetex-3.4.data/data/share/texmf/tex/latex/sagetex/makestatic.py\", line 48\n      except getopt.GetoptError, err:\n                               ^\n  SyntaxError: invalid syntax\n  \n\nSuccessfully installed sagetex-3.4\nRemoved build tracker: '/private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-req-tracker-3d0gjhof'\nRemoving old SageTex version(s)\n\nreal\t0m3.793s\nuser\t0m1.162s\nsys\t0m0.458s\nCopying package files from temporary location /Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/sage-9.2.beta3/local/var/tmp/sage/build/sagetex-3.4/inst to /Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/sage-9.2.beta3/local\nSuccessfully installed sagetex-3.4\nDeleting temporary build directory\n/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/sage-9.2.beta3/local/var/tmp/sage/build/sagetex-3.4\nFinished installing sagetex-3.4.spkg\n```\nIs it the new `wheel` package?\n\n(This is on OS X using the system Python, version 3.7.7.)",
    "created_at": "2020-07-13T22:18:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470485",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:34" align="right">comment:34</div>

I *think* that this ticket is leading to the following messages in the `sagetex` install log:

```
Successfully built sagetex
Installing collected packages: sagetex
  Created temporary directory: /private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-unpacked-wheel-hw7nz29q
  *** Error compiling '/private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-unpacked-wheel-hw7nz29q/sagetex-3.4.data/data/share/texmf/tex/latex/sagetex/extractsagecode.py'...
    File "/private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-unpacked-wheel-hw7nz29q/sagetex-3.4.data/data/share/texmf/tex/latex/sagetex/extractsagecode.py", line 48
      except getopt.GetoptError, err:
                               ^
  SyntaxError: invalid syntax
  
  *** Error compiling '/private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-unpacked-wheel-hw7nz29q/sagetex-3.4.data/data/share/texmf/tex/latex/sagetex/makestatic.py'...
    File "/private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-unpacked-wheel-hw7nz29q/sagetex-3.4.data/data/share/texmf/tex/latex/sagetex/makestatic.py", line 48
      except getopt.GetoptError, err:
                               ^
  SyntaxError: invalid syntax
  

Successfully installed sagetex-3.4
Removed build tracker: '/private/var/folders/cp/n8wtqs490tq5psknff1hv9qr0000gn/T/pip-req-tracker-3d0gjhof'
Removing old SageTex version(s)

real	0m3.793s
user	0m1.162s
sys	0m0.458s
Copying package files from temporary location /Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/sage-9.2.beta3/local/var/tmp/sage/build/sagetex-3.4/inst to /Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/sage-9.2.beta3/local
Successfully installed sagetex-3.4
Deleting temporary build directory
/Users/palmieri/Desktop/Sage_stuff/sage_builds/TESTING/sage-9.2.beta3/local/var/tmp/sage/build/sagetex-3.4
Finished installing sagetex-3.4.spkg
```
Is it the new `wheel` package?

(This is on OS X using the system Python, version 3.7.7.)



---

archive/issue_comments_470486.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\npip likes to install via `bdist_wheel` now. Something is getting compiled that was not compiled before. \n\nI think it reveals that the sagetex code is not compatible with python 3.",
    "created_at": "2020-07-14T04:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470486",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">comment:35</div>

pip likes to install via `bdist_wheel` now. Something is getting compiled that was not compiled before. 

I think it reveals that the sagetex code is not compatible with python 3.



---

archive/issue_comments_470487.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI am going to make a new release of sagetex soon.",
    "created_at": "2020-07-14T12:12:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470487",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

I am going to make a new release of sagetex soon.



---

archive/issue_comments_470488.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@dimpase](#comment:36):\n> I am going to make a new release of sagetex soon.\n\nGood, that should take care of it. I'm surprised that sagetex still works, given these syntax errors.",
    "created_at": "2020-07-14T16:54:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470488",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@dimpase](#comment:36):
> I am going to make a new release of sagetex soon.

Good, that should take care of it. I'm surprised that sagetex still works, given these syntax errors.



---

archive/issue_comments_470489.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nprobably it's from some file that we normally didn't install, or perhaps it was using some compatibility kludge that is now gone.",
    "created_at": "2020-07-14T17:49:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29803",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29803#issuecomment-470489",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:38" align="right">comment:38</div>

probably it's from some file that we normally didn't install, or perhaps it was using some compatibility kludge that is now gone.
