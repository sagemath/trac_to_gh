# Issue 29430: spkg-configure.m4 for flintqs

archive/issues_029193.json:
```json
{
    "body": "CC:  @dimpase @embray @mkoeppe @kiwifb\n\nThis package only installs the `QuadraticSieve` executable, which needs to be in the `PATH` for `qsieve()` to work in Sage.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29430\n\n",
    "closed_at": "2020-04-09T22:44:39Z",
    "created_at": "2020-03-30T12:50:40Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "spkg-configure.m4 for flintqs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29430",
    "user": "https://github.com/orlitzky"
}
```
CC:  @dimpase @embray @mkoeppe @kiwifb

This package only installs the `QuadraticSieve` executable, which needs to be in the `PATH` for `qsieve()` to work in Sage.

Issue created by migration from https://trac.sagemath.org/ticket/29430





---

archive/issue_comments_413206.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-03-30T12:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413206",
    "user": "https://github.com/orlitzky"
}
```

New commits:



---

archive/issue_comments_413207.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-30T12:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413207",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_413208.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-30T16:06:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413208",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_413209.json:
```json
{
    "body": "Needs distros/",
    "created_at": "2020-03-30T16:06:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413209",
    "user": "https://github.com/mkoeppe"
}
```

Needs distros/



---

archive/issue_comments_413210.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-30T16:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413210",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_413211.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-30T16:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413211",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_413212.json:
```json
{
    "body": "I added debian, fedora, and gentoo (I added the Gentoo package a few seconds before opening this ticket) based on repology.org results. Ubuntu and nix have packages too, but I don't see ubuntu.txt or nix.txt anywhere in the tree.",
    "created_at": "2020-03-30T16:20:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413212",
    "user": "https://github.com/orlitzky"
}
```

I added debian, fedora, and gentoo (I added the Gentoo package a few seconds before opening this ticket) based on repology.org results. Ubuntu and nix have packages too, but I don't see ubuntu.txt or nix.txt anywhere in the tree.



---

archive/issue_comments_413213.json:
```json
{
    "body": "ubuntu uses debian.txt",
    "created_at": "2020-03-30T16:22:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413213",
    "user": "https://github.com/mkoeppe"
}
```

ubuntu uses debian.txt



---

archive/issue_comments_413214.json:
```json
{
    "body": "See #29130 for nix",
    "created_at": "2020-03-30T16:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413214",
    "user": "https://github.com/mkoeppe"
}
```

See #29130 for nix



---

archive/issue_comments_413215.json:
```json
{
    "body": "Have you checked arch?",
    "created_at": "2020-03-30T16:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413215",
    "user": "https://github.com/mkoeppe"
}
```

Have you checked arch?



---

archive/issue_comments_413216.json:
```json
{
    "body": "on conda it's `flintqs` too.",
    "created_at": "2020-03-30T16:24:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413216",
    "user": "https://github.com/dimpase"
}
```

on conda it's `flintqs` too.



---

archive/issue_comments_413217.json:
```json
{
    "body": "and on arch, cf https://www.archlinux.org/packages/community/x86_64/flintqs/",
    "created_at": "2020-03-30T16:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413217",
    "user": "https://github.com/dimpase"
}
```

and on arch, cf https://www.archlinux.org/packages/community/x86_64/flintqs/



---

archive/issue_comments_413218.json:
```json
{
    "body": "Fedora does not have flintqs",
    "created_at": "2020-03-30T17:44:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413218",
    "user": "https://github.com/dimpase"
}
```

Fedora does not have flintqs



---

archive/issue_comments_413219.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-30T17:51:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413219",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_413220.json:
```json
{
    "body": "Force pushed a rename fedora -> conda. The arch.txt was already there (before I added the m4 file).",
    "created_at": "2020-03-30T17:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413220",
    "user": "https://github.com/orlitzky"
}
```

Force pushed a rename fedora -> conda. The arch.txt was already there (before I added the m4 file).



---

archive/issue_comments_413221.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-30T17:58:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413221",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_413222.json:
```json
{
    "body": "lgtm - but add author's name",
    "created_at": "2020-03-30T17:58:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413222",
    "user": "https://github.com/dimpase"
}
```

lgtm - but add author's name



---

archive/issue_comments_413223.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-03-30T18:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413223",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_413224.json:
```json
{
    "body": "Let me run some tests first.",
    "created_at": "2020-03-30T18:07:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413224",
    "user": "https://github.com/mkoeppe"
}
```

Let me run some tests first.



---

archive/issue_comments_413225.json:
```json
{
    "body": "well, I did test on Debian. There is basically one version of this packages around.",
    "created_at": "2020-03-30T18:10:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413225",
    "user": "https://github.com/dimpase"
}
```

well, I did test on Debian. There is basically one version of this packages around.



---

archive/issue_comments_413226.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-31T11:42:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413226",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_413227.json:
```json
{
    "body": "Tests ran at https://github.com/mkoeppe/sage/actions/runs/66814284",
    "created_at": "2020-03-31T11:42:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413227",
    "user": "https://github.com/mkoeppe"
}
```

Tests ran at https://github.com/mkoeppe/sage/actions/runs/66814284



---

archive/issue_comments_413228.json:
```json
{
    "body": "Sorry, I'll have to add \"mpir\" to the DEPCHECK here. I didn't realize sage installed it in place of gmp with everything renamed mpir->gmp.",
    "created_at": "2020-04-03T00:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413228",
    "user": "https://github.com/orlitzky"
}
```

Sorry, I'll have to add "mpir" to the DEPCHECK here. I didn't realize sage installed it in place of gmp with everything renamed mpir->gmp.



---

archive/issue_comments_413229.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-04-03T00:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413229",
    "user": "https://github.com/orlitzky"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_413230.json:
```json
{
    "body": "you need to check for BOTH gmp and mpir, not just one of them.",
    "created_at": "2020-04-03T00:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413230",
    "user": "https://github.com/dimpase"
}
```

you need to check for BOTH gmp and mpir, not just one of them.



---

archive/issue_comments_413231.json:
```json
{
    "body": "e.g.\n\n```\nSAGE_SPKG_CONFIGURE([givaro], [\n    m4_pushdef([SAGE_GIVARO_MINVER],[\"40101\"])\n    SAGE_SPKG_DEPCHECK([gmp mpir], [\n...\n```",
    "created_at": "2020-04-03T00:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413231",
    "user": "https://github.com/dimpase"
}
```

e.g.

```
SAGE_SPKG_CONFIGURE([givaro], [
    m4_pushdef([SAGE_GIVARO_MINVER],["40101"])
    SAGE_SPKG_DEPCHECK([gmp mpir], [
...
```



---

archive/issue_comments_413232.json:
```json
{
    "body": "Thanks, I see that now. I was rather confused about how all these packages explicitly looking for libgmp in ./configure could use MPIR in sage. I'm halfway through a build test for a ppl spkg-configure but as soon as it finishes I'll fix this up.",
    "created_at": "2020-04-03T01:05:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413232",
    "user": "https://github.com/orlitzky"
}
```

Thanks, I see that now. I was rather confused about how all these packages explicitly looking for libgmp in ./configure could use MPIR in sage. I'm halfway through a build test for a ppl spkg-configure but as soon as it finishes I'll fix this up.



---

archive/issue_comments_413233.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-03T03:15:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413233",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_413234.json:
```json
{
    "body": "added this fix, rebased over latest beta\n\n---\nNew commits:",
    "created_at": "2020-04-03T03:15:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413234",
    "user": "https://github.com/dimpase"
}
```

added this fix, rebased over latest beta

---
New commits:



---

archive/issue_comments_413235.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-03T03:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413235",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_413236.json:
```json
{
    "body": "lgtm",
    "created_at": "2020-04-03T03:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413236",
    "user": "https://github.com/dimpase"
}
```

lgtm



---

archive/issue_comments_413237.json:
```json
{
    "body": "If this only installs an executable, I don't think we need any depcheck at all because there cannot be a library conflict.",
    "created_at": "2020-04-03T09:57:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413237",
    "user": "https://github.com/mkoeppe"
}
```

If this only installs an executable, I don't think we need any depcheck at all because there cannot be a library conflict.



---

archive/issue_comments_413238.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2020-04-03T09:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413238",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_413239.json:
```json
{
    "body": "The `QuadraticSieve` executable is the only thing used, and if it exists on the system, it should work fine.. does anyone philosophically object if `--without-system-gmp` (or mpir) is ignored for some packages?",
    "created_at": "2020-04-03T10:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413239",
    "user": "https://github.com/orlitzky"
}
```

The `QuadraticSieve` executable is the only thing used, and if it exists on the system, it should work fine.. does anyone philosophically object if `--without-system-gmp` (or mpir) is ignored for some packages?



---

archive/issue_comments_413240.json:
```json
{
    "body": "Replying to [comment:26 mjo]:\n> does anyone philosophically object if `--without-system-gmp` (or mpir) is ignored for some packages?\n\nI don't think this is a concern.",
    "created_at": "2020-04-03T10:12:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413240",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:26 mjo]:
> does anyone philosophically object if `--without-system-gmp` (or mpir) is ignored for some packages?

I don't think this is a concern.



---

archive/issue_comments_413241.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-04-03T10:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413241",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_413242.json:
```json
{
    "body": "Ok, depcheck is gone.\n\n---\nNew commits:",
    "created_at": "2020-04-03T10:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413242",
    "user": "https://github.com/orlitzky"
}
```

Ok, depcheck is gone.

---
New commits:



---

archive/issue_comments_413243.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-03T14:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413243",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_075022.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-09T22:44:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29430#event-75022"
}
```



---

archive/issue_comments_413244.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-09T22:44:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29430",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29430#issuecomment-413244",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
