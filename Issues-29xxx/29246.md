# Issue 29246: Improve handling of easy cases in lift_to_sl2z()

archive/issues_029009.json:
```json
{
    "body": "The function `lift_to_sl2z(c, d, N)` returns larger coefficients than needed in the cases `c = 0` or `d = 0`.  Also, the (trivial) case `N = 1` is not treated correctly.\n\nBefore:\n\n```\nsage: lift_to_sl2z(0, 41, 42)\n[-1, -2, 42, 83]\nsage: lift_to_sl2z(0, 5, 42)\n[17, 19, 42, 47]\nsage: lift_to_sl2z(5, 0, 42)\n[-2, -101, 5, 252]\nsage: lift_to_sl2z(0, 0, 1)\nTraceback (most recent call last):\n...\nAttributeError: Element (0, 0) not in P1.\n```\nAfter:\n\n```\nsage: lift_to_sl2z(0, 41, 42)\n[-1, 0, 0, -1]\nsage: lift_to_sl2z(0, 5, 42)\n[17, 2, 42, 5]\nsage: lift_to_sl2z(5, 0, 42)\n[-2, -17, 5, 42]\nsage: lift_to_sl2z(0, 0, 1)\n[1, 0, 0, 1]\n```\n\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Peter Bruin\n\nBranch: bcc2c19e52f9c9c4c56e271028cd73feaca48450\n\nCommit: bcc2c19e52f9c9c4c56e271028cd73feaca48450\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29246\n\n",
    "closed_at": "2020-11-07T16:23:15Z",
    "created_at": "2020-02-26T09:13:18Z",
    "labels": [
        "component: modular forms",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Improve handling of easy cases in lift_to_sl2z()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29246",
    "user": "https://github.com/pjbruin"
}
```
The function `lift_to_sl2z(c, d, N)` returns larger coefficients than needed in the cases `c = 0` or `d = 0`.  Also, the (trivial) case `N = 1` is not treated correctly.

Before:

```
sage: lift_to_sl2z(0, 41, 42)
[-1, -2, 42, 83]
sage: lift_to_sl2z(0, 5, 42)
[17, 19, 42, 47]
sage: lift_to_sl2z(5, 0, 42)
[-2, -101, 5, 252]
sage: lift_to_sl2z(0, 0, 1)
Traceback (most recent call last):
...
AttributeError: Element (0, 0) not in P1.
```
After:

```
sage: lift_to_sl2z(0, 41, 42)
[-1, 0, 0, -1]
sage: lift_to_sl2z(0, 5, 42)
[17, 2, 42, 5]
sage: lift_to_sl2z(5, 0, 42)
[-2, -17, 5, 42]
sage: lift_to_sl2z(0, 0, 1)
[1, 0, 0, 1]
```


Reviewer: Frédéric Chapoton

Author: Peter Bruin

Branch: bcc2c19e52f9c9c4c56e271028cd73feaca48450

Commit: bcc2c19e52f9c9c4c56e271028cd73feaca48450

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29246





---

archive/issue_comments_410196.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-02-26T09:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-410196",
    "user": "https://github.com/pjbruin"
}
```

Changing status from new to needs_review.



---

archive/issue_events_074367.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29246#event-74367"
}
```



---

archive/issue_comments_410197.json:
```json
{
    "body": "<a id='comment:2'></a>Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-410197",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_074368.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29246#event-74368"
}
```



---

archive/issue_events_074369.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29246#event-74369"
}
```



---

archive/issue_comments_410198.json:
```json
{
    "body": "<a id='comment:4'></a>ok, let it be",
    "created_at": "2020-09-11T13:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-410198",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>ok, let it be



---

archive/issue_comments_410199.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-11T13:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-410199",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_074370.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-07T16:23:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29246#event-74370"
}
```



---

archive/issue_comments_410200.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-07T16:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-410200",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
