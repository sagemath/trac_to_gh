# Issue 29246: Improve handling of easy cases in lift_to_sl2z()

archive/issues_029009.json:
```json
{
    "body": "The function `lift_to_sl2z(c, d, N)` returns larger coefficients than needed in the cases `c = 0` or `d = 0`.  Also, the (trivial) case `N = 1` is not treated correctly.\n\nBefore:\n\n```\nsage: lift_to_sl2z(0, 41, 42)\n[-1, -2, 42, 83]\nsage: lift_to_sl2z(0, 5, 42)\n[17, 19, 42, 47]\nsage: lift_to_sl2z(5, 0, 42)\n[-2, -101, 5, 252]\nsage: lift_to_sl2z(0, 0, 1)\nTraceback (most recent call last):\n...\nAttributeError: Element (0, 0) not in P1.\n```\nAfter:\n\n```\nsage: lift_to_sl2z(0, 41, 42)\n[-1, 0, 0, -1]\nsage: lift_to_sl2z(0, 5, 42)\n[17, 2, 42, 5]\nsage: lift_to_sl2z(5, 0, 42)\n[-2, -17, 5, 42]\nsage: lift_to_sl2z(0, 0, 1)\n[1, 0, 0, 1]\n```\n\n\n**Branch/Commit:** [bcc2c19e52f9c9c4c56e271028cd73feaca48450](https://github.com/sagemath/sagetrac-mirror/commit/bcc2c19e52f9c9c4c56e271028cd73feaca48450)\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Peter Bruin\n\nIssue created by migration from https://trac.sagemath.org/ticket/29246\n\n",
    "closed_at": "2020-11-07T16:23:15Z",
    "created_at": "2020-02-26T09:13:18Z",
    "labels": [
        "component: modular forms",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Improve handling of easy cases in lift_to_sl2z()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29246",
    "user": "https://github.com/pjbruin"
}
```
The function `lift_to_sl2z(c, d, N)` returns larger coefficients than needed in the cases `c = 0` or `d = 0`.  Also, the (trivial) case `N = 1` is not treated correctly.

Before:

```
sage: lift_to_sl2z(0, 41, 42)
[-1, -2, 42, 83]
sage: lift_to_sl2z(0, 5, 42)
[17, 19, 42, 47]
sage: lift_to_sl2z(5, 0, 42)
[-2, -101, 5, 252]
sage: lift_to_sl2z(0, 0, 1)
Traceback (most recent call last):
...
AttributeError: Element (0, 0) not in P1.
```
After:

```
sage: lift_to_sl2z(0, 41, 42)
[-1, 0, 0, -1]
sage: lift_to_sl2z(0, 5, 42)
[17, 2, 42, 5]
sage: lift_to_sl2z(5, 0, 42)
[-2, -17, 5, 42]
sage: lift_to_sl2z(0, 0, 1)
[1, 0, 0, 1]
```


**Branch/Commit:** [bcc2c19e52f9c9c4c56e271028cd73feaca48450](https://github.com/sagemath/sagetrac-mirror/commit/bcc2c19e52f9c9c4c56e271028cd73feaca48450)

**Reviewer:** Frédéric Chapoton

**Author:** Peter Bruin

Issue created by migration from https://trac.sagemath.org/ticket/29246





---

archive/issue_comments_544425.json:
```json
{
    "body": "**Branch:** [u/pbruin/29246-lift_to_sl2z](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/29246-lift_to_sl2z)",
    "created_at": "2020-02-26T09:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-544425",
    "user": "https://github.com/pjbruin"
}
```

**Branch:** [u/pbruin/29246-lift_to_sl2z](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/29246-lift_to_sl2z)



---

archive/issue_comments_544426.json:
```json
{
    "body": "**Commit:** [bcc2c19e52f9c9c4c56e271028cd73feaca48450](https://github.com/sagemath/sagetrac-mirror/commit/bcc2c19e52f9c9c4c56e271028cd73feaca48450)",
    "created_at": "2020-02-26T09:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-544426",
    "user": "https://github.com/pjbruin"
}
```

**Commit:** [bcc2c19e52f9c9c4c56e271028cd73feaca48450](https://github.com/sagemath/sagetrac-mirror/commit/bcc2c19e52f9c9c4c56e271028cd73feaca48450)



---

archive/issue_comments_544427.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2020-02-26T09:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-544427",
    "user": "https://github.com/pjbruin"
}
```

**Changing status** from new to needs_review.



---

archive/issue_events_084275.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29246#event-84275"
}
```



---

archive/issue_comments_544428.json:
```json
{
    "body": "<a id='comment:2'></a>\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-544428",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_084276.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29246#event-84276"
}
```



---

archive/issue_events_084277.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29246#event-84277"
}
```



---

archive/issue_comments_544429.json:
```json
{
    "body": "<a id='comment:4'></a>\nok, let it be",
    "created_at": "2020-09-11T13:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-544429",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
ok, let it be



---

archive/issue_comments_544430.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2020-09-11T13:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-544430",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_comments_544431.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2020-09-11T13:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-544431",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_events_084278.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-07T16:23:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29246#event-84278"
}
```



---

archive/issue_comments_544432.json:
```json
{
    "body": "**Changing branch** from \"[u/pbruin/29246-lift_to_sl2z](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/29246-lift_to_sl2z)\" to \"[bcc2c19e52f9c9c4c56e271028cd73feaca48450](https://github.com/sagemath/sagetrac-mirror/commit/bcc2c19e52f9c9c4c56e271028cd73feaca48450)\".",
    "created_at": "2020-11-07T16:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29246",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29246#issuecomment-544432",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/pbruin/29246-lift_to_sl2z](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/29246-lift_to_sl2z)" to "[bcc2c19e52f9c9c4c56e271028cd73feaca48450](https://github.com/sagemath/sagetrac-mirror/commit/bcc2c19e52f9c9c4c56e271028cd73feaca48450)".
