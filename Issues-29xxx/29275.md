# Issue 29275: fix issues in the DiGraph constructor for incidence matrix

archive/issues_029038.json:
```json
{
    "assignees": [],
    "body": "Currently, DiGraph constructor throws error for following type of incidence matrix.\n\n```\nsage: m=Matrix([[1,-1],[-1,1]])\nsage: g=DiGraph(m,format='incidence_matrix')\nTraceback (most recent call last)\n...\nValueError: each column represents an edge: -1 goes to 1\n```\n\n\n```\nsage: m=Matrix([[0,1],[0,-1],[0,0]])\nsage: G = DiGraph(m,format='incidence_matrix')\nTraceback (most recent call last)\n...\nValueError: there must be two nonzero entries (-1 & 1) per column\n```\n\nCC:  @dcoudert\n\nBranch/Commit: **[139c774](https://github.com/sagemath/sagetrac-mirror/commit/139c77461f7f67b7f9059d674d8ad315e0d6611e)**\n\nReviewer: **David Coudert**\n\nAuthor: **Vipul Gupta**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29275_\n\n",
    "closed_at": "2020-03-08T11:27:10Z",
    "created_at": "2020-03-03T18:51:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "fix issues in the DiGraph constructor for incidence matrix",
    "type": "issue",
    "updated_at": "2020-03-08T11:27:10Z",
    "url": "https://github.com/sagemath/sage/issues/29275",
    "user": "https://github.com/vipul79321"
}
```
Currently, DiGraph constructor throws error for following type of incidence matrix.

```
sage: m=Matrix([[1,-1],[-1,1]])
sage: g=DiGraph(m,format='incidence_matrix')
Traceback (most recent call last)
...
ValueError: each column represents an edge: -1 goes to 1
```


```
sage: m=Matrix([[0,1],[0,-1],[0,0]])
sage: G = DiGraph(m,format='incidence_matrix')
Traceback (most recent call last)
...
ValueError: there must be two nonzero entries (-1 & 1) per column
```

CC:  @dcoudert

Branch/Commit: **[139c774](https://github.com/sagemath/sagetrac-mirror/commit/139c77461f7f67b7f9059d674d8ad315e0d6611e)**

Reviewer: **David Coudert**

Author: **Vipul Gupta**

_Issue created by migration from https://trac.sagemath.org/ticket/29275_





---

archive/issue_events_384259.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-03-03T18:51:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29275#event-384259"
}
```



---

archive/issue_events_384260.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-03-03T18:51:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29275#event-384260"
}
```



---

archive/issue_events_384261.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-03-03T18:51:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29275#event-384261"
}
```



---

archive/issue_comments_462074.json:
```json
{
    "body": "Branch: **[u/gh-vipul79321/ticket29275](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket29275)**",
    "created_at": "2020-03-03T18:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462074",
    "user": "https://github.com/vipul79321"
}
```

Branch: **[u/gh-vipul79321/ticket29275](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket29275)**



---

archive/issue_comments_462075.json:
```json
{
    "body": "Commit: **[94bf9e8](https://github.com/sagemath/sagetrac-mirror/commit/94bf9e842204a73d00e975ecf6b07942f2fe7776)**",
    "created_at": "2020-03-03T18:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462075",
    "user": "https://github.com/vipul79321"
}
```

Commit: **[94bf9e8](https://github.com/sagemath/sagetrac-mirror/commit/94bf9e842204a73d00e975ecf6b07942f2fe7776)**



---

archive/issue_comments_462076.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94bf9e842204a73d00e975ecf6b07942f2fe7776\">94bf9e8</a></td><td><code>Fixed ticket 29275</code></td></tr></table>\n",
    "created_at": "2020-03-03T18:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462076",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:1" align="right">Comment 1</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94bf9e842204a73d00e975ecf6b07942f2fe7776">94bf9e8</a></td><td><code>Fixed ticket 29275</code></td></tr></table>




---

archive/issue_events_384262.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-03-03T18:56:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29275#event-384262"
}
```



---

archive/issue_events_384263.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-03-03T19:28:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29275#event-384263"
}
```



---

archive/issue_comments_462077.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nInstead of `L = sorted(set(c.list()))`, we could use `L = [c[i] for i in NZ]`, no ?\nand then we would only had to check that `sorted(L) == [-1, 1]`",
    "created_at": "2020-03-04T07:54:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462077",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:3" align="right">Comment 3</div>

Instead of `L = sorted(set(c.list()))`, we could use `L = [c[i] for i in NZ]`, no ?
and then we would only had to check that `sorted(L) == [-1, 1]`



---

archive/issue_comments_462078.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1f0cbe2c1ad23e8940247be1a83fa15fb302b5e\">a1f0cbe</a></td><td><code>update according to comment 3</code></td></tr></table>\n",
    "created_at": "2020-03-04T08:29:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462078",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1f0cbe2c1ad23e8940247be1a83fa15fb302b5e">a1f0cbe</a></td><td><code>update according to comment 3</code></td></tr></table>




---

archive/issue_comments_462079.json:
```json
{
    "body": "Changed commit from **[94bf9e8](https://github.com/sagemath/sagetrac-mirror/commit/94bf9e842204a73d00e975ecf6b07942f2fe7776)** to **[a1f0cbe](https://github.com/sagemath/sagetrac-mirror/commit/a1f0cbe2c1ad23e8940247be1a83fa15fb302b5e)**",
    "created_at": "2020-03-04T08:29:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462079",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[94bf9e8](https://github.com/sagemath/sagetrac-mirror/commit/94bf9e842204a73d00e975ecf6b07942f2fe7776)** to **[a1f0cbe](https://github.com/sagemath/sagetrac-mirror/commit/a1f0cbe2c1ad23e8940247be1a83fa15fb302b5e)**



---

archive/issue_comments_462080.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nReplying to [@dcoudert](#comment%3A3):\n> Instead of `L = sorted(set(c.list()))`, we could use `L = [c[i] for i in NZ]`, no ?\n> and then we would only had to check that `sorted(L) == [-1, 1]`\n\nDone",
    "created_at": "2020-03-04T08:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462080",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:5" align="right">Comment 5</div>

Replying to [@dcoudert](#comment%3A3):
> Instead of `L = sorted(set(c.list()))`, we could use `L = [c[i] for i in NZ]`, no ?
> and then we would only had to check that `sorted(L) == [-1, 1]`

Done



---

archive/issue_comments_462081.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nthe comments for #29276 also apply here: ensure that you can handle a column with only zeros, add relevant doctests.",
    "created_at": "2020-03-04T08:46:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462081",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:6" align="right">Comment 6</div>

the comments for #29276 also apply here: ensure that you can handle a column with only zeros, add relevant doctests.



---

archive/issue_comments_462082.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@dcoudert](#comment%3A6):\n> the comments for #29276 also apply here: ensure that you can handle a column with only zeros, add relevant doctests.\n\ncan i add following doctest for both #29275 and #29276:\n\n```\nTESTS:\n\nFix bug reported in :trac:`29275` and :trac:`29276`::\n\n    sage: m = Matrix([[0,1],[0,-1]])\n    sage: m\n    [ 0  1]\n    [ 0 -1]\n    sage: G = DiGraph(m,format='incidence_matrix')\n    sage: list(G.edges(labels=False))\n    [(1, 0)]\n```\n\nor shall I add separate doctest for this ticket?",
    "created_at": "2020-03-04T08:58:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462082",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@dcoudert](#comment%3A6):
> the comments for #29276 also apply here: ensure that you can handle a column with only zeros, add relevant doctests.

can i add following doctest for both #29275 and #29276:

```
TESTS:

Fix bug reported in :trac:`29275` and :trac:`29276`::

    sage: m = Matrix([[0,1],[0,-1]])
    sage: m
    [ 0  1]
    [ 0 -1]
    sage: G = DiGraph(m,format='incidence_matrix')
    sage: list(G.edges(labels=False))
    [(1, 0)]
```

or shall I add separate doctest for this ticket?



---

archive/issue_comments_462083.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nseparated dockets is better.",
    "created_at": "2020-03-04T09:06:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462083",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:8" align="right">Comment 8</div>

separated dockets is better.



---

archive/issue_comments_462084.json:
```json
{
    "body": "Changed commit from **[a1f0cbe](https://github.com/sagemath/sagetrac-mirror/commit/a1f0cbe2c1ad23e8940247be1a83fa15fb302b5e)** to **[d7fc60e](https://github.com/sagemath/sagetrac-mirror/commit/d7fc60e464a05a081d1fa097f77d1c600e1a0b23)**",
    "created_at": "2020-03-04T09:27:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462084",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a1f0cbe](https://github.com/sagemath/sagetrac-mirror/commit/a1f0cbe2c1ad23e8940247be1a83fa15fb302b5e)** to **[d7fc60e](https://github.com/sagemath/sagetrac-mirror/commit/d7fc60e464a05a081d1fa097f77d1c600e1a0b23)**



---

archive/issue_comments_462085.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7fc60e464a05a081d1fa097f77d1c600e1a0b23\">d7fc60e</a></td><td><code>Tests added for ticket 29276 and 29275</code></td></tr></table>\n",
    "created_at": "2020-03-04T09:27:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462085",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9" align="right">Comment 9</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7fc60e464a05a081d1fa097f77d1c600e1a0b23">d7fc60e</a></td><td><code>Tests added for ticket 29276 and 29275</code></td></tr></table>




---

archive/issue_comments_462086.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nReplying to [@dcoudert](#comment%3A8):\n> separated dockets is better.\n\nDone",
    "created_at": "2020-03-04T09:28:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462086",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:10" align="right">Comment 10</div>

Replying to [@dcoudert](#comment%3A8):
> separated dockets is better.

Done



---

archive/issue_comments_462087.json:
```json
{
    "body": "Reviewer: **David Coudert**",
    "created_at": "2020-03-04T10:08:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462087",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: **David Coudert**



---

archive/issue_comments_462088.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nIf #29276 is duplicate of this ticket, we can make all doctests refer to this ticket.\n\nDon't forget to add your name in Authors field.",
    "created_at": "2020-03-04T10:08:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462088",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:11" align="right">Comment 11</div>

If #29276 is duplicate of this ticket, we can make all doctests refer to this ticket.

Don't forget to add your name in Authors field.



---

archive/issue_comments_462089.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nReplying to [@dcoudert](#comment%3A11):\n> If #29276 is duplicate of this ticket, we can make all doctests refer to this ticket.\n\nNo, I dont think #29276 is duplicate of #29275 both have completely different aim. #29275 is more of defect and #29276 is somewhat type of enhancement.\nAlthough both have same branches performing same thing.\nIf you want, I can make `u/gh-vipul79321/ticket29275` specifically for #29275 by removing `if not NZ` part from code and corresponding doctest.",
    "created_at": "2020-03-04T12:00:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462089",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:12" align="right">Comment 12</div>

Replying to [@dcoudert](#comment%3A11):
> If #29276 is duplicate of this ticket, we can make all doctests refer to this ticket.

No, I dont think #29276 is duplicate of #29275 both have completely different aim. #29275 is more of defect and #29276 is somewhat type of enhancement.
Although both have same branches performing same thing.
If you want, I can make `u/gh-vipul79321/ticket29275` specifically for #29275 by removing `if not NZ` part from code and corresponding doctest.



---

archive/issue_comments_462090.json:
```json
{
    "body": "Author: **Vipul Gupta**",
    "created_at": "2020-03-04T12:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462090",
    "user": "https://github.com/vipul79321"
}
```

Author: **Vipul Gupta**



---

archive/issue_comments_462091.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nYou have to ensure that tickets are not touching the same part of the code, otherwise we may have merge conflicts.\n\nOne option is to do everything in this ticket (certainly the easiest solution), and the other is to ensure that tickets are completely independent. I let you decide.",
    "created_at": "2020-03-04T12:02:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462091",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:14" align="right">Comment 14</div>

You have to ensure that tickets are not touching the same part of the code, otherwise we may have merge conflicts.

One option is to do everything in this ticket (certainly the easiest solution), and the other is to ensure that tickets are completely independent. I let you decide.



---

archive/issue_comments_462092.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@dcoudert](#comment%3A14):\n> You have to ensure that tickets are not touching the same part of the code, otherwise we may have merge conflicts.\n> \n> One option is to do everything in this ticket (certainly the easiest solution), and the other is to ensure that tickets are completely independent. I let you decide.\n\nIf that's the case then, It would be better to go with easiest solution for clean merging.\nBut I dont want to make doctest of ticket #29276 refer to ticket #29275. Can we keep it as it is?",
    "created_at": "2020-03-04T13:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462092",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@dcoudert](#comment%3A14):
> You have to ensure that tickets are not touching the same part of the code, otherwise we may have merge conflicts.
> 
> One option is to do everything in this ticket (certainly the easiest solution), and the other is to ensure that tickets are completely independent. I let you decide.

If that's the case then, It would be better to go with easiest solution for clean merging.
But I dont want to make doctest of ticket #29276 refer to ticket #29275. Can we keep it as it is?



---

archive/issue_comments_462093.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nIf we keep only one ticket, we cannot refer the other ticket.\nYou can adjust the ticket description for instance like:\n- title: `fix issues in the DiGraph constructor for incidence matrix`\n- description: merge all issues.",
    "created_at": "2020-03-04T13:24:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462093",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:16" align="right">Comment 16</div>

If we keep only one ticket, we cannot refer the other ticket.
You can adjust the ticket description for instance like:
- title: `fix issues in the DiGraph constructor for incidence matrix`
- description: merge all issues.



---

archive/issue_comments_462094.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,11 @@\n ValueError: each column represents an edge: -1 goes to 1\n ```\n \n+\n+```\n+sage: m=Matrix([[0,1],[0,-1],[0,0]])\n+sage: G = DiGraph(m,format='incidence_matrix')\n+Traceback (most recent call last)\n+...\n+ValueError: there must be two nonzero entries (-1 & 1) per column\n+```\n``````\n",
    "created_at": "2020-03-04T13:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462094",
    "user": "https://github.com/vipul79321"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,11 @@
 ValueError: each column represents an edge: -1 goes to 1
 ```
 
+
+```
+sage: m=Matrix([[0,1],[0,-1],[0,0]])
+sage: G = DiGraph(m,format='incidence_matrix')
+Traceback (most recent call last)
+...
+ValueError: there must be two nonzero entries (-1 & 1) per column
+```
``````




---

archive/issue_events_384264.json:
```json
{
    "actor": "https://github.com/vipul79321",
    "created_at": "2020-03-04T13:49:52Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "title_is": "fix issues in the DiGraph constructor for incidence matrix",
    "title_was": "DiGraph constructor not able to handle incidence matrix [[1], [-1]]",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29275#event-384264"
}
```



---

archive/issue_comments_462095.json:
```json
{
    "body": "Changed commit from **[d7fc60e](https://github.com/sagemath/sagetrac-mirror/commit/d7fc60e464a05a081d1fa097f77d1c600e1a0b23)** to **[139c774](https://github.com/sagemath/sagetrac-mirror/commit/139c77461f7f67b7f9059d674d8ad315e0d6611e)**",
    "created_at": "2020-03-04T13:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462095",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d7fc60e](https://github.com/sagemath/sagetrac-mirror/commit/d7fc60e464a05a081d1fa097f77d1c600e1a0b23)** to **[139c774](https://github.com/sagemath/sagetrac-mirror/commit/139c77461f7f67b7f9059d674d8ad315e0d6611e)**



---

archive/issue_comments_462096.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/139c77461f7f67b7f9059d674d8ad315e0d6611e\">139c774</a></td><td><code>issues merged</code></td></tr></table>\n",
    "created_at": "2020-03-04T13:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462096",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18" align="right">Comment 18</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/139c77461f7f67b7f9059d674d8ad315e0d6611e">139c774</a></td><td><code>issues merged</code></td></tr></table>




---

archive/issue_events_384265.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-03-04T16:52:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29275#event-384265"
}
```



---

archive/issue_events_384266.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-03-04T16:52:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29275#event-384266"
}
```



---

archive/issue_comments_462097.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nLGTM.",
    "created_at": "2020-03-04T16:52:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462097",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:19" align="right">Comment 19</div>

LGTM.



---

archive/issue_comments_462098.json:
```json
{
    "body": "Changed branch from **[u/gh-vipul79321/ticket29275](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket29275)** to **[139c774](https://github.com/sagemath/sagetrac-mirror/commit/139c77461f7f67b7f9059d674d8ad315e0d6611e)**",
    "created_at": "2020-03-08T11:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29275#issuecomment-462098",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-vipul79321/ticket29275](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-vipul79321/ticket29275)** to **[139c774](https://github.com/sagemath/sagetrac-mirror/commit/139c77461f7f67b7f9059d674d8ad315e0d6611e)**



---

archive/issue_events_384267.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-08T11:27:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29275#event-384267"
}
```



---

archive/issue_events_384268.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "75a51ecd42eb5cae031c2c9866173cc3351c9df6",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-03-08T11:27:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29275",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29275#event-384268"
}
```
