# Issue 29087: Add GitHub Actions workflow for testing the build on various Linux distributions via docker; macOS with homebrew; and Windows (cygwin)

archive/issues_028850.json:
```json
{
    "body": "This is a follow-up on #29053: Add debian/fedora/arch package information to build/pkgs, generate Dockerfiles and installation help\n\nThis ticket adds `.github/workflows/tox.yml`, which installs a number of system packages and then runs `./bootstrap`, `./configure`, and `make`.\n\nMost of the interesting parts are in #29053 - everything can be run \"locally\" (with tox and docker). This ticket only adds a simple additional file to run this automatically with several jobs on [GitHub](GitHub) Actions on a [GitHub](GitHub) pull request.\n\nFor each of the Linux distributions supported, there are two configurations: \n- `minimal` - has enough packages so that the build can succeed; \n- `standard` - has additionally all standard packages for which we have `spkg-configure.m4`.\n\nGitHub Actions runs these build jobs on 2-core machines with 7 GB of RAM memory and 14 GB of SSD disk space (https://help.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners#supported-runners-and-hardware-resources), and has a time limit of 6h per job. This is just barely enough for a typical `minimal` build followed by `make ptest` to succeed; and plenty of time for a typical `standard` build to succeed.\n\n\nExample run: https://github.com/mkoeppe/sage/actions/runs/60588138\n\n\nContext: \n- #29060: Meta-ticket: Add `Dockerfile`s and CI scripts for integration testing of source and binary distributions and of downstream packages\n- #27330: Meta-ticket: `spkg-configure`: Try to use as many system packages as possible\n\nCC:  @dimpase @vbraun @saraedum @isuruf @antonio-rojas @kiwifb\n\nKeywords: docker, ContinuousIntegration\n\nBranch/Commit: cbcd65717008f5dc571a7b2c0b67249157cf4526\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nDependencies: #29367\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29087\n\n",
    "closed_at": "2020-04-09T22:44:56Z",
    "created_at": "2020-01-27T16:50:37Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Add GitHub Actions workflow for testing the build on various Linux distributions via docker; macOS with homebrew; and Windows (cygwin)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29087",
    "user": "https://github.com/mkoeppe"
}
```
This is a follow-up on #29053: Add debian/fedora/arch package information to build/pkgs, generate Dockerfiles and installation help

This ticket adds `.github/workflows/tox.yml`, which installs a number of system packages and then runs `./bootstrap`, `./configure`, and `make`.

Most of the interesting parts are in #29053 - everything can be run "locally" (with tox and docker). This ticket only adds a simple additional file to run this automatically with several jobs on [GitHub](GitHub) Actions on a [GitHub](GitHub) pull request.

For each of the Linux distributions supported, there are two configurations: 
- `minimal` - has enough packages so that the build can succeed; 
- `standard` - has additionally all standard packages for which we have `spkg-configure.m4`.

GitHub Actions runs these build jobs on 2-core machines with 7 GB of RAM memory and 14 GB of SSD disk space (https://help.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners#supported-runners-and-hardware-resources), and has a time limit of 6h per job. This is just barely enough for a typical `minimal` build followed by `make ptest` to succeed; and plenty of time for a typical `standard` build to succeed.


Example run: https://github.com/mkoeppe/sage/actions/runs/60588138


Context: 
- #29060: Meta-ticket: Add `Dockerfile`s and CI scripts for integration testing of source and binary distributions and of downstream packages
- #27330: Meta-ticket: `spkg-configure`: Try to use as many system packages as possible

CC:  @dimpase @vbraun @saraedum @isuruf @antonio-rojas @kiwifb

Keywords: docker, ContinuousIntegration

Branch/Commit: cbcd65717008f5dc571a7b2c0b67249157cf4526

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Dependencies: #29367

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29087





---

archive/issue_comments_434389.json:
```json
{
    "body": "<a id='comment:2'></a>I am all for more CI, but would it not make more sense to add this to the existing [GitLab](GitLab) CI?",
    "created_at": "2020-01-27T17:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434389",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:2'></a>I am all for more CI, but would it not make more sense to add this to the existing [GitLab](GitLab) CI?



---

archive/issue_comments_434390.json:
```json
{
    "body": "<a id='comment:4'></a>Last 10 new commits:",
    "created_at": "2020-01-27T17:17:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434390",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>Last 10 new commits:



---

archive/issue_comments_434391.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-01-27T17:17:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434391",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_434392.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -7,6 +7,9 @@\n For each of the Linux distributions supported, there are two configurations: \n - \\`minimal\\` - has enough packages so that the build can succeed; \n - \\`standard\\` - has additionally all standard packages for which we have \\`spkg-configure.m4\\`.\n+\n+Example run: https://github.com/mkoeppe/sage/actions/runs/31716135\n+\n \n Context: \n - #29060: Meta-ticket: Add \\`Dockerfile\\`s and CI scripts for integration testing of source and binary distributions and of downstream packages\n```\n",
    "created_at": "2020-01-27T17:17:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434392",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -7,6 +7,9 @@
 For each of the Linux distributions supported, there are two configurations: 
 - \`minimal\` - has enough packages so that the build can succeed; 
 - \`standard\` - has additionally all standard packages for which we have \`spkg-configure.m4\`.
+
+Example run: https://github.com/mkoeppe/sage/actions/runs/31716135
+
 
 Context: 
 - #29060: Meta-ticket: Add \`Dockerfile\`s and CI scripts for integration testing of source and binary distributions and of downstream packages
```




---

archive/issue_comments_434393.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:2 saraedum]:\n> I am all for more CI, but would it not make more sense to add this to the existing [GitLab](GitLab) CI?\n\n\nFine with me too. I have built this on top of tox and docker. It can also run locally. The GitHub-specific part is really minimal - https://git.sagemath.org/sage.git/commit/?h=6a2bf3d2140e2d625d4ca96a40485b74fa582e7a",
    "created_at": "2020-01-27T17:19:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434393",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>Replying to [comment:2 saraedum]:
> I am all for more CI, but would it not make more sense to add this to the existing [GitLab](GitLab) CI?


Fine with me too. I have built this on top of tox and docker. It can also run locally. The GitHub-specific part is really minimal - https://git.sagemath.org/sage.git/commit/?h=6a2bf3d2140e2d625d4ca96a40485b74fa582e7a



---

archive/issue_comments_434394.json:
```json
{
    "body": "Changing keywords from \"\" to \"docker, ContinuousIntegration\".",
    "created_at": "2020-01-27T17:27:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434394",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "docker, ContinuousIntegration".



---

archive/issue_comments_434395.json:
```json
{
    "body": "<a id='comment:7'></a>Personally, I like [GitHub](GitHub). I like [GitLab](GitLab) a bit better because it is very easy to provision our own runners (e.g., for obscure platforms.) The problem with [GitHub](GitHub) is that some people have quite a few reservations about it (lock-in, Microsoft, \u2026) so I think [GitLab](GitLab) is the better choice for such an extensive community.\n\nIn any case, glad to see these things happen. Feel free to ping/bug me explicitly if you need reviews on anything docker/CI.",
    "created_at": "2020-01-27T17:40:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434395",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:7'></a>Personally, I like [GitHub](GitHub). I like [GitLab](GitLab) a bit better because it is very easy to provision our own runners (e.g., for obscure platforms.) The problem with [GitHub](GitHub) is that some people have quite a few reservations about it (lock-in, Microsoft, …) so I think [GitLab](GitLab) is the better choice for such an extensive community.

In any case, glad to see these things happen. Feel free to ping/bug me explicitly if you need reviews on anything docker/CI.



---

archive/issue_comments_434396.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-01-27T19:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434396",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_434397.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-01-28T00:47:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434397",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_434398.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-01-28T23:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434398",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_434399.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-30T04:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434399",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434400.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:7 saraedum]:\n> Personally, I like [GitHub](GitHub). I like [GitLab](GitLab) a bit better because it is very easy to provision our own runners (e.g., for obscure platforms.) The problem with [GitHub](GitHub) is that some people have quite a few reservations about it (lock-in, Microsoft, \u2026) so I think [GitLab](GitLab) is the better choice for such an extensive community.\n\n\nYes, I understand these concerns. To avoid lock-in, in this ticket the definition of the tests (for linux) is driven by tox and docker, rather than relying on the specific environments provided by a CI vendor. Likewise for the homebrew tests for macOS on this ticket. \n\nI don't have the time to work on another CI platform but would certainly welcome it if other CI enthusiasts wanted to implement a solution on another platform in a follow-up ticket.\n\n> Feel free to ping/bug me explicitly if you need reviews on anything docker/CI.\n\n\nThanks. This ticket would be ready for review.",
    "created_at": "2020-01-30T16:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434400",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>Replying to [comment:7 saraedum]:
> Personally, I like [GitHub](GitHub). I like [GitLab](GitLab) a bit better because it is very easy to provision our own runners (e.g., for obscure platforms.) The problem with [GitHub](GitHub) is that some people have quite a few reservations about it (lock-in, Microsoft, …) so I think [GitLab](GitLab) is the better choice for such an extensive community.


Yes, I understand these concerns. To avoid lock-in, in this ticket the definition of the tests (for linux) is driven by tox and docker, rather than relying on the specific environments provided by a CI vendor. Likewise for the homebrew tests for macOS on this ticket. 

I don't have the time to work on another CI platform but would certainly welcome it if other CI enthusiasts wanted to implement a solution on another platform in a follow-up ticket.

> Feel free to ping/bug me explicitly if you need reviews on anything docker/CI.


Thanks. This ticket would be ready for review.



---

archive/issue_comments_434401.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-31T22:16:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434401",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434402.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-02T20:50:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434402",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434403.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-02T21:05:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434403",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_434404.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-02T21:07:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434404",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_434405.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-06T15:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434405",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_434406.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-06T15:23:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434406",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434407.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-17T00:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434407",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434408.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-17T00:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434408",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434409.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-22T22:50:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434409",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434410.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-02T02:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434410",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434411.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-07T21:33:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434411",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_434412.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-08T21:03:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434413.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-08T21:09:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434414.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-09T01:11:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434414",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_434415.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2020-03-12T03:14:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434415",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_434416.json:
```json
{
    "body": "<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-12T03:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434417.json:
```json
{
    "body": "<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-12T03:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434418.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-12T09:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434418",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434419.json:
```json
{
    "body": "<a id='comment:38'></a>what's the story with AC_FC_FUNC?",
    "created_at": "2020-03-12T09:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434419",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>what's the story with AC_FC_FUNC?



---

archive/issue_comments_434420.json:
```json
{
    "body": "<a id='comment:39'></a>See #29104 - your solution didn\u2019t work",
    "created_at": "2020-03-12T09:41:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434420",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>See #29104 - your solution didn’t work



---

archive/issue_comments_434421.json:
```json
{
    "body": "<a id='comment:40'></a>Oops, it seems there is no way to call `AC_FC_FUNC` conditionally, it is still called even if there is no Fortran detected.\n\nWeird, I don't understand why this happens.",
    "created_at": "2020-03-12T10:51:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434421",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:40'></a>Oops, it seems there is no way to call `AC_FC_FUNC` conditionally, it is still called even if there is no Fortran detected.

Weird, I don't understand why this happens.



---

archive/issue_comments_434422.json:
```json
{
    "body": "<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-12T16:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434422",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434423.json:
```json
{
    "body": "<a id='comment:42'></a>I sent a message to autoconf bugs mailing list, asking whether inabiity to chain \nAC_FC_FREEFORM and AC_FC_FUNC is a bug.\n\n---\nNew commits:",
    "created_at": "2020-03-12T16:48:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434423",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>I sent a message to autoconf bugs mailing list, asking whether inabiity to chain 
AC_FC_FREEFORM and AC_FC_FUNC is a bug.

---
New commits:



---

archive/issue_comments_434424.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-12T21:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434424",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434425.json:
```json
{
    "body": "<a id='comment:44'></a>New commits:",
    "created_at": "2020-03-12T21:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434425",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'></a>New commits:



---

archive/issue_comments_434426.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-12T22:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434426",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434427.json:
```json
{
    "body": "<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-13T01:01:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434427",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434428.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-13T17:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434428",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434429.json:
```json
{
    "body": "<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-13T23:21:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434429",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434430.json:
```json
{
    "body": "<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-14T21:49:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434430",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434431.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2020-03-17T21:57:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434431",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_434432.json:
```json
{
    "body": "<a id='comment:52'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-18T03:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434432",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:52'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434433.json:
```json
{
    "body": "<a id='comment:54'></a>Could you factor out into a separate ticket the fix for AC_FC_FREEFORM and AC_FC_FUNC thing? Cause it's really a bug fix.",
    "created_at": "2020-03-18T18:38:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434433",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:54'></a>Could you factor out into a separate ticket the fix for AC_FC_FREEFORM and AC_FC_FUNC thing? Cause it's really a bug fix.



---

archive/issue_comments_434434.json:
```json
{
    "body": "<a id='comment:55'></a>Will do.",
    "created_at": "2020-03-18T18:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434434",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:55'></a>Will do.



---

archive/issue_comments_434435.json:
```json
{
    "body": "<a id='comment:56'></a>This is now #29361",
    "created_at": "2020-03-18T18:53:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434435",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>This is now #29361



---

archive/issue_comments_434436.json:
```json
{
    "body": "<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2020-03-19T01:11:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434436",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_434437.json:
```json
{
    "body": "<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-03-19T21:16:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434437",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_434438.json:
```json
{
    "body": "<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-20T19:35:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434438",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434439.json:
```json
{
    "body": "<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-20T20:23:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434439",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434440.json:
```json
{
    "body": "<a id='comment:62'></a>So do I understand correctly that merging this into a branch and pushing to github (to a repo with enabled [GitHub](GitHub) actions) will trigger the testing. This is not so nice UI. Do I miss something here?\n\nI guess it's just one file that needs to be changed, which one?\n\nI'd prefer to have a command-line way (perhaps using some [GitHub](GitHub) tools) to trigger GH Actions on a given branch, say.",
    "created_at": "2020-03-21T07:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434440",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:62'></a>So do I understand correctly that merging this into a branch and pushing to github (to a repo with enabled [GitHub](GitHub) actions) will trigger the testing. This is not so nice UI. Do I miss something here?

I guess it's just one file that needs to be changed, which one?

I'd prefer to have a command-line way (perhaps using some [GitHub](GitHub) tools) to trigger GH Actions on a given branch, say.



---

archive/issue_comments_434441.json:
```json
{
    "body": "<a id='comment:63'></a>When this ticket is merged into Sage, it will suffice to just push to github.",
    "created_at": "2020-03-21T12:03:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434441",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:63'></a>When this ticket is merged into Sage, it will suffice to just push to github.



---

archive/issue_comments_434442.json:
```json
{
    "body": "<a id='comment:65'></a>Because the checks run for hours, it would probably be better to run the workflow only on pull requests, rather than on all pushes.\n\nhttps://help.github.com/en/actions/reference/events-that-trigger-workflows#pull-request-event-pull_request\n\n```\non:\n  pull_request:\n    types: [opened, synchronize]\n```",
    "created_at": "2020-03-21T20:48:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434442",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:65'></a>Because the checks run for hours, it would probably be better to run the workflow only on pull requests, rather than on all pushes.

https://help.github.com/en/actions/reference/events-that-trigger-workflows#pull-request-event-pull_request

```
on:
  pull_request:
    types: [opened, synchronize]
```



---

archive/issue_comments_434443.json:
```json
{
    "body": "<a id='comment:66'></a>Then `gh pr create -f -d` would be a command line interface to trigger the GH actions run. https://cli.github.com/manual/gh_pr_create",
    "created_at": "2020-03-21T20:52:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434443",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:66'></a>Then `gh pr create -f -d` would be a command line interface to trigger the GH actions run. https://cli.github.com/manual/gh_pr_create



---

archive/issue_comments_434444.json:
```json
{
    "body": "<a id='comment:67'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-21T22:37:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434444",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:67'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434445.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,19 @@\n+This is a follow-up on #29053: Add debian/fedora/arch package information to build/pkgs, generate Dockerfiles and installation help\n \n+This ticket adds \\`.github/workflows/tox.yml\\`, which installs a number of system packages and then runs \\`./bootstrap\\`, \\`./configure\\`, and \\`make\\`.\n+\n+Most of the interesting parts are in #29053 - everything can be run \"locally\" (with tox and docker). This ticket only adds a simple additional file to run this automatically with several jobs on [GitHub](GitHub) Actions on a [GitHub](GitHub) pull request.\n+\n+For each of the Linux distributions supported, there are two configurations: \n+- \\`minimal\\` - has enough packages so that the build can succeed; \n+- \\`standard\\` - has additionally all standard packages for which we have \\`spkg-configure.m4\\`.\n+\n+Example run: https://github.com/mkoeppe/sage/actions/runs/31716135\n+\n+\n+Context: \n+- #29060: Meta-ticket: Add \\`Dockerfile\\`s and CI scripts for integration testing of source and binary distributions and of downstream packages\n+- #27330: Meta-ticket: \\`spkg-configure\\`: Try to use as many system packages as possible\n \n Comment: 1\n \n```\n",
    "created_at": "2020-03-21T22:49:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434445",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,19 @@
+This is a follow-up on #29053: Add debian/fedora/arch package information to build/pkgs, generate Dockerfiles and installation help
 
+This ticket adds \`.github/workflows/tox.yml\`, which installs a number of system packages and then runs \`./bootstrap\`, \`./configure\`, and \`make\`.
+
+Most of the interesting parts are in #29053 - everything can be run "locally" (with tox and docker). This ticket only adds a simple additional file to run this automatically with several jobs on [GitHub](GitHub) Actions on a [GitHub](GitHub) pull request.
+
+For each of the Linux distributions supported, there are two configurations: 
+- \`minimal\` - has enough packages so that the build can succeed; 
+- \`standard\` - has additionally all standard packages for which we have \`spkg-configure.m4\`.
+
+Example run: https://github.com/mkoeppe/sage/actions/runs/31716135
+
+
+Context: 
+- #29060: Meta-ticket: Add \`Dockerfile\`s and CI scripts for integration testing of source and binary distributions and of downstream packages
+- #27330: Meta-ticket: \`spkg-configure\`: Try to use as many system packages as possible
 
 Comment: 1
 
```




---

archive/issue_comments_434446.json:
```json
{
    "body": "<a id='comment:69'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-21T23:19:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434446",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:69'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434447.json:
```json
{
    "body": "<a id='comment:70'></a>how does one control the platforms the tests are run on? Often one needs to check on a couple of different OSs at most, and the current setup looks quite wasteful.",
    "created_at": "2020-03-22T10:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434447",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:70'></a>how does one control the platforms the tests are run on? Often one needs to check on a couple of different OSs at most, and the current setup looks quite wasteful.



---

archive/issue_comments_434448.json:
```json
{
    "body": "<a id='comment:71'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-22T14:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434448",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:71'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434449.json:
```json
{
    "body": "<a id='comment:72'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-22T15:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434449",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:72'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434450.json:
```json
{
    "body": "<a id='comment:73'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-22T21:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434450",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:73'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_434451.json:
```json
{
    "body": "<a id='comment:74'></a>Replying to [comment:70 dimpase]:\n> how does one control the platforms the tests are run on? Often one needs to check on a couple of different OSs at most, and the current setup looks quite wasteful.\n\n\nBy editing the section called `matrix` in the file `.github/workflows/tox.yml`.",
    "created_at": "2020-03-23T01:29:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434451",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:74'></a>Replying to [comment:70 dimpase]:
> how does one control the platforms the tests are run on? Often one needs to check on a couple of different OSs at most, and the current setup looks quite wasteful.


By editing the section called `matrix` in the file `.github/workflows/tox.yml`.



---

archive/issue_comments_434452.json:
```json
{
    "body": "<a id='comment:75'></a>https://github.com/mkoeppe/sage/runs/526226655:\n\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 3638.0 seconds\n    cpu time: 5482.8 seconds\n    cumulative wall time: 10347.2 seconds\nError processing tar file(exit status 1): write /sage/src/build/temp.linux-x86_64-3.7/build/cythonized/sage/rings/finite_rings/integer_mod.o: no space left on device\nERROR: InvocationError: '/usr/bin/docker build . -f /home/runner/work/sage/sage/.tox/docker-ubuntu-trusty-minimal/Dockerfile --build-arg EXTRA_CONFIGURE_ARGS=   --build-arg BASE_IMAGE=ubuntu:trusty --build-arg USE_MAKEFLAGS=-k V=0 SAGE_NUM_THREADS=3 --build-arg TARGETS=build ptest'\n```\n\ndocker build ends with \"no space left on device\" \u00b7 Issue #18144 \u00b7 moby/moby\nhttps://github.com/moby/moby/issues/18144\n\nError pulling image (...) no space left on device \u00b7 Issue #10613 \u00b7 moby/moby\nhttps://github.com/moby/moby/issues/10613\n\ndockerd | Docker Documentation\nhttps://docs.docker.com/engine/reference/commandline/dockerd/#storage-driver-options\n\nConfigure and troubleshoot the Docker daemon | Docker Documentation\nhttps://docs.docker.com/config/daemon/",
    "created_at": "2020-03-23T13:02:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434452",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:75'></a>https://github.com/mkoeppe/sage/runs/526226655:

```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 3638.0 seconds
    cpu time: 5482.8 seconds
    cumulative wall time: 10347.2 seconds
Error processing tar file(exit status 1): write /sage/src/build/temp.linux-x86_64-3.7/build/cythonized/sage/rings/finite_rings/integer_mod.o: no space left on device
ERROR: InvocationError: '/usr/bin/docker build . -f /home/runner/work/sage/sage/.tox/docker-ubuntu-trusty-minimal/Dockerfile --build-arg EXTRA_CONFIGURE_ARGS=   --build-arg BASE_IMAGE=ubuntu:trusty --build-arg USE_MAKEFLAGS=-k V=0 SAGE_NUM_THREADS=3 --build-arg TARGETS=build ptest'
```

docker build ends with "no space left on device" · Issue #18144 · moby/moby
https://github.com/moby/moby/issues/18144

Error pulling image (...) no space left on device · Issue #10613 · moby/moby
https://github.com/moby/moby/issues/10613

dockerd | Docker Documentation
https://docs.docker.com/engine/reference/commandline/dockerd/#storage-driver-options

Configure and troubleshoot the Docker daemon | Docker Documentation
https://docs.docker.com/config/daemon/



---

archive/issue_comments_434453.json:
```json
{
    "body": "<a id='comment:77'></a>sysinfo at https://github.com/mkoeppe/sage/runs/526929826",
    "created_at": "2020-03-23T16:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434453",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:77'></a>sysinfo at https://github.com/mkoeppe/sage/runs/526929826



---

archive/issue_comments_434454.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,22 @@\n+This is a follow-up on #29053: Add debian/fedora/arch package information to build/pkgs, generate Dockerfiles and installation help\n \n+This ticket adds \\`.github/workflows/tox.yml\\`, which installs a number of system packages and then runs \\`./bootstrap\\`, \\`./configure\\`, and \\`make\\`.\n+\n+Most of the interesting parts are in #29053 - everything can be run \"locally\" (with tox and docker). This ticket only adds a simple additional file to run this automatically with several jobs on [GitHub](GitHub) Actions on a [GitHub](GitHub) pull request.\n+\n+For each of the Linux distributions supported, there are two configurations: \n+- \\`minimal\\` - has enough packages so that the build can succeed; \n+- \\`standard\\` - has additionally all standard packages for which we have \\`spkg-configure.m4\\`.\n+\n+GitHub Actions runs these build jobs on 2-core machines with 7 GB of RAM memory and 14 GB of SSD disk space (https://help.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners#supported-runners-and-hardware-resources), and has a time limit of 6h per job. This is just barely enough for a typical \\`minimal\\` build followed by \\`make ptest\\` to succeed; and plenty of time for a typical \\`standard\\` build to succeed.\n+\n+\n+Example run: https://github.com/mkoeppe/sage/actions/runs/60588138\n+\n+\n+Context: \n+- #29060: Meta-ticket: Add \\`Dockerfile\\`s and CI scripts for integration testing of source and binary distributions and of downstream packages\n+- #27330: Meta-ticket: \\`spkg-configure\\`: Try to use as many system packages as possible\n \n Comment: 1\n \n```\n",
    "created_at": "2020-03-23T19:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434454",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,22 @@
+This is a follow-up on #29053: Add debian/fedora/arch package information to build/pkgs, generate Dockerfiles and installation help
 
+This ticket adds \`.github/workflows/tox.yml\`, which installs a number of system packages and then runs \`./bootstrap\`, \`./configure\`, and \`make\`.
+
+Most of the interesting parts are in #29053 - everything can be run "locally" (with tox and docker). This ticket only adds a simple additional file to run this automatically with several jobs on [GitHub](GitHub) Actions on a [GitHub](GitHub) pull request.
+
+For each of the Linux distributions supported, there are two configurations: 
+- \`minimal\` - has enough packages so that the build can succeed; 
+- \`standard\` - has additionally all standard packages for which we have \`spkg-configure.m4\`.
+
+GitHub Actions runs these build jobs on 2-core machines with 7 GB of RAM memory and 14 GB of SSD disk space (https://help.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners#supported-runners-and-hardware-resources), and has a time limit of 6h per job. This is just barely enough for a typical \`minimal\` build followed by \`make ptest\` to succeed; and plenty of time for a typical \`standard\` build to succeed.
+
+
+Example run: https://github.com/mkoeppe/sage/actions/runs/60588138
+
+
+Context: 
+- #29060: Meta-ticket: Add \`Dockerfile\`s and CI scripts for integration testing of source and binary distributions and of downstream packages
+- #27330: Meta-ticket: \`spkg-configure\`: Try to use as many system packages as possible
 
 Comment: 1
 
```




---

archive/issue_comments_434455.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-24T17:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434455",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_434456.json:
```json
{
    "body": "<a id='comment:80'></a>this needs more documentation, I gather - on a followup ticket, something to be mentioned in README.md too. But this is good to go, I think.",
    "created_at": "2020-03-24T17:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434456",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:80'></a>this needs more documentation, I gather - on a followup ticket, something to be mentioned in README.md too. But this is good to go, I think.



---

archive/issue_comments_434457.json:
```json
{
    "body": "<a id='comment:81'></a>Thanks! I've created #29401 - Add documentation",
    "created_at": "2020-03-24T21:52:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434457",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:81'></a>Thanks! I've created #29401 - Add documentation



---

archive/issue_comments_434458.json:
```json
{
    "body": "<a id='comment:82'></a>this needs a rebase.",
    "created_at": "2020-03-29T03:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434458",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:82'></a>this needs a rebase.



---

archive/issue_comments_434459.json:
```json
{
    "body": "<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2020-03-29T04:16:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434459",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_434460.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-03-29T04:16:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434460",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_434461.json:
```json
{
    "body": "<a id='comment:84'></a>Merged 9.1.beta9",
    "created_at": "2020-03-29T04:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434461",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:84'></a>Merged 9.1.beta9



---

archive/issue_comments_434462.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-30T01:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434462",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_434463.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-09T22:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29087#issuecomment-434463",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_073747.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-09T22:44:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29087",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29087#event-73747"
}
```
