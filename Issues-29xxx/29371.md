# Issue 29371: little tweak in mac-app

archive/issues_029134.json:
```json
{
    "assignees": [],
    "body": "Tweak grep command line options, as suggested at\n\n- https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0\n\nCC:  @dimpase @maverickwoo @Shlokatadistance @gvol @slel @vbraun\n\nKeywords: **macOS, app**\n\nBranch/Commit: **[043f10e](https://github.com/sagemath/sagetrac-mirror/commit/043f10e821073ab47e1056b921dc30165f592124)**\n\nReviewer: **John Palmieri, Torakozo Kariya**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **scripts**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29371_\n\n",
    "closed_at": "2020-04-05T08:30:32Z",
    "created_at": "2020-03-19T20:23:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20scripts",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "little tweak in mac-app",
    "type": "issue",
    "updated_at": "2020-04-05T08:30:32Z",
    "url": "https://github.com/sagemath/sage/issues/29371",
    "user": "https://github.com/fchapoton"
}
```
Tweak grep command line options, as suggested at

- https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0

CC:  @dimpase @maverickwoo @Shlokatadistance @gvol @slel @vbraun

Keywords: **macOS, app**

Branch/Commit: **[043f10e](https://github.com/sagemath/sagetrac-mirror/commit/043f10e821073ab47e1056b921dc30165f592124)**

Reviewer: **John Palmieri, Torakozo Kariya**

Author: **Frédéric Chapoton**

Component: **scripts**

_Issue created by migration from https://trac.sagemath.org/ticket/29371_





---

archive/issue_events_403857.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-19T20:23:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29371#event-403857"
}
```



---

archive/issue_events_403858.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-19T20:23:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20scripts",
    "label_color": "000080",
    "label_name": "c: scripts",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29371#event-403858"
}
```



---

archive/issue_events_403859.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-19T20:23:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29371#event-403859"
}
```



---

archive/issue_events_403860.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-19T20:23:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29371#event-403860"
}
```



---

archive/issue_events_403861.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-19T20:24:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29371#event-403861"
}
```



---

archive/issue_comments_461070.json:
```json
{
    "body": "Commit: **[043f10e](https://github.com/sagemath/sagetrac-mirror/commit/043f10e821073ab47e1056b921dc30165f592124)**",
    "created_at": "2020-03-19T20:24:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461070",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[043f10e](https://github.com/sagemath/sagetrac-mirror/commit/043f10e821073ab47e1056b921dc30165f592124)**



---

archive/issue_comments_461071.json:
```json
{
    "body": "Branch: **[u/chapoton/29371](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29371)**",
    "created_at": "2020-03-19T20:24:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461071",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/29371](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29371)**



---

archive/issue_comments_461072.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/043f10e821073ab47e1056b921dc30165f592124\">043f10e</a></td><td><code>little tweak in mac-app (about grep options)</code></td></tr></table>\n",
    "created_at": "2020-03-19T20:24:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461072",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/043f10e821073ab47e1056b921dc30165f592124">043f10e</a></td><td><code>little tweak in mac-app (about grep options)</code></td></tr></table>




---

archive/issue_comments_461073.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI don't know how to test this because I can't produce a functioning app with or without this patch.",
    "created_at": "2020-03-20T03:53:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461073",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2" align="right">comment:2</div>

I don't know how to test this because I can't produce a functioning app with or without this patch.



---

archive/issue_comments_461074.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nWell, this seems to be innocuous enough.\n\nThe proposer on sage-support could be the reviewer, but I cannot answer him there.",
    "created_at": "2020-03-20T07:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461074",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

Well, this seems to be innocuous enough.

The proposer on sage-support could be the reviewer, but I cannot answer him there.



---

archive/issue_comments_461075.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nPerhaps Volker can review it.",
    "created_at": "2020-03-20T08:09:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461075",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">comment:4</div>

Perhaps Volker can review it.



---

archive/issue_comments_461076.json:
```json
{
    "body": "Changed keywords from none to **macOS, app**",
    "created_at": "2020-03-20T15:20:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461076",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **macOS, app**



---

archive/issue_comments_461077.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-about grep command line options\n+Tweak grep command line options, as suggested at\n \n-as suggested by https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0\n+- https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0\n``````\n",
    "created_at": "2020-03-20T15:20:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461077",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-about grep command line options
+Tweak grep command line options, as suggested at
 
-as suggested by https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0
+- https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0
``````




---

archive/issue_comments_461078.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nCc a few extra \"macOS\" people.",
    "created_at": "2020-03-20T15:20:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461078",
    "user": "https://github.com/slel"
}
```

<div id="comment:5" align="right">comment:5</div>

Cc a few extra "macOS" people.



---

archive/issue_comments_461079.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHello, following the discussion from https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0, I had reported this previously about how it was breaking from the paths. it worked once with a temporary fix and the second time when I granted complete permissions to sagemath. I am however skeptical of the latter because it was rather odd for an application explicitly needing complete and direct drive access",
    "created_at": "2020-03-21T20:14:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461079",
    "user": "https://github.com/Shlokatadistance"
}
```

<div id="comment:6" align="right">comment:6</div>

Hello, following the discussion from https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0, I had reported this previously about how it was breaking from the paths. it worked once with a temporary fix and the second time when I granted complete permissions to sagemath. I am however skeptical of the latter because it was rather odd for an application explicitly needing complete and direct drive access



---

archive/issue_comments_461080.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThank you for accepting my proposal.\nI managed to compile sage-9.0 + sag-9.0/src/mac-app and the version with the proposal it took 6 hours.\nI tested running the both version.\nThe older version is slightly slower.\nAlternatively, I tested the code of pipes.\n\n```sh\nmyhome$ cat sage.log | grep -i --context 1 'Notebook is running at' | grep --line-buffered -o -e \"http://.*\" \ngrep: Notebook is running at: No such file or directory \nmyhome$ cat sage.log | grep -i --line-buffered --context=1 'Notebook is running at' | grep --line-buffered -o -e \"http://.*\"  \n..... \nhttp://localhost:8888/?token=XXX...X\n```\n\nThe previous code is an error and the proposal detects the address. (ticket being hidden by XXX...X.\n\nI compare two versions  in new local account.",
    "created_at": "2020-03-23T16:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461080",
    "user": "https://github.com/rana-aerea"
}
```

<div id="comment:7" align="right">comment:7</div>

Thank you for accepting my proposal.
I managed to compile sage-9.0 + sag-9.0/src/mac-app and the version with the proposal it took 6 hours.
I tested running the both version.
The older version is slightly slower.
Alternatively, I tested the code of pipes.

```sh
myhome$ cat sage.log | grep -i --context 1 'Notebook is running at' | grep --line-buffered -o -e "http://.*" 
grep: Notebook is running at: No such file or directory 
myhome$ cat sage.log | grep -i --line-buffered --context=1 'Notebook is running at' | grep --line-buffered -o -e "http://.*"  
..... 
http://localhost:8888/?token=XXX...X
```

The previous code is an error and the proposal detects the address. (ticket being hidden by XXX...X.

I compare two versions  in new local account.



---

archive/issue_comments_461081.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSorry, this was my fault in #28661.  On my Mac, I use GNU grep and I forgot about that when testing that revision. I confirm the equal sign in `--context=1` is indeed required. My apologies!\n\nHowever, I am not sure why `--line-buffered` is needed here even though having it shouldn't break things.",
    "created_at": "2020-03-24T04:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461081",
    "user": "https://github.com/maverickwoo"
}
```

<div id="comment:8" align="right">comment:8</div>

Sorry, this was my fault in #28661.  On my Mac, I use GNU grep and I forgot about that when testing that revision. I confirm the equal sign in `--context=1` is indeed required. My apologies!

However, I am not sure why `--line-buffered` is needed here even though having it shouldn't break things.



---

archive/issue_comments_461082.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nso, who will dare to give a positive review, ladies and gentlemen ?",
    "created_at": "2020-03-24T07:30:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461082",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

so, who will dare to give a positive review, ladies and gentlemen ?



---

archive/issue_comments_461083.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI am working on it.\n\nMy trial:\n\nStep 1. Create a new account where no initialization is done for Jupyter.\n\nStep 2. Copy updated SageMath-9.0 and reference version (original SageMath-9.0) to some location accessible to the new account.\n\nStep 3. Compare the two versions in new account.\n\nCurrent Status:\nThe two versions I compiled both have absolute pathnames somewhere in them.\n\nCopying SageMath-9.0.app from the disk image did not change this situation.\n\nThe problem is that the path  (in bash script and somewhere I do not know)) points to the same new version.\n(!echo in Jupyter notebook shows missing of subdirectory of build directory and the subdirectory of the copied application.)\n\nI will make two copies of the source tree of Sagemath and compile them again.\nI think I can make some part of the comparison.\nBut I am afraid my environment differs from the user's environment.\n\nIf someone tells me how to make a relocatable copy of SageMath-9.0 or SageMath-9.1 and make a packages which resemble the distribution, I can do a better test.\n\nPartial Information I got so far:\n\nOriginal SageMath-9.0 has a incompatibility problem with insertion of new debugging messages.\nIndeed, it was unable to invoke jupyter server when I inserted two or three instances of echo commands.\n\n```python\n# @rana-aerea\n# debugging code\necho >&2 -e \"PATH=$PATH\" ;\n# echo >&2 -e \"SAGE_ROOT=$SAGE_ROOT\" ;\necho >&2 -e \"CWD=`pwd`\" ;\n```\n(I have no intension to include the three debugging messages in the distribution.)\n\nAnother observation is the log file misses all messages after the first one of these debugging information.\n\nRight now, coping of the updated version from the disk image finished.\nI added the same three commands of echo to SageMath-9.0/sage. I activated the second one, too.\nI double clicked this version.\nIn sage.log, I found the path, the SAGE_ROOT and the current working directory and more messages.\nThis is a side evidence of some function of the option \"--line buffered\".\nI do not see version information of sage itself.\n\nI continue my test. I think I can report the result in 24 hours.",
    "created_at": "2020-03-24T09:51:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461083",
    "user": "https://github.com/rana-aerea"
}
```

<div id="comment:10" align="right">comment:10</div>

I am working on it.

My trial:

Step 1. Create a new account where no initialization is done for Jupyter.

Step 2. Copy updated SageMath-9.0 and reference version (original SageMath-9.0) to some location accessible to the new account.

Step 3. Compare the two versions in new account.

Current Status:
The two versions I compiled both have absolute pathnames somewhere in them.

Copying SageMath-9.0.app from the disk image did not change this situation.

The problem is that the path  (in bash script and somewhere I do not know)) points to the same new version.
(!echo in Jupyter notebook shows missing of subdirectory of build directory and the subdirectory of the copied application.)

I will make two copies of the source tree of Sagemath and compile them again.
I think I can make some part of the comparison.
But I am afraid my environment differs from the user's environment.

If someone tells me how to make a relocatable copy of SageMath-9.0 or SageMath-9.1 and make a packages which resemble the distribution, I can do a better test.

Partial Information I got so far:

Original SageMath-9.0 has a incompatibility problem with insertion of new debugging messages.
Indeed, it was unable to invoke jupyter server when I inserted two or three instances of echo commands.

```python
# @rana-aerea
# debugging code
echo >&2 -e "PATH=$PATH" ;
# echo >&2 -e "SAGE_ROOT=$SAGE_ROOT" ;
echo >&2 -e "CWD=`pwd`" ;
```
(I have no intension to include the three debugging messages in the distribution.)

Another observation is the log file misses all messages after the first one of these debugging information.

Right now, coping of the updated version from the disk image finished.
I added the same three commands of echo to SageMath-9.0/sage. I activated the second one, too.
I double clicked this version.
In sage.log, I found the path, the SAGE_ROOT and the current working directory and more messages.
This is a side evidence of some function of the option "--line buffered".
I do not see version information of sage itself.

I continue my test. I think I can report the result in 24 hours.



---

archive/issue_comments_461084.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nbinary distributions of Sage are made using\nhttps://github.com/sagemath/binary-pkg",
    "created_at": "2020-03-25T15:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461084",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

binary distributions of Sage are made using
https://github.com/sagemath/binary-pkg



---

archive/issue_comments_461085.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nStep 1: Delete sage.log\nStep 2: Invoke two copies one at a time. Open a Jupiter notebook and shutdown the kernel. Then view log.\n(Guest account and the account of compilation.)\n\nResult:\nIn both accounts, the comparison has the same conclusion.\nThe original version printed only one line of message in the sage.log.\nThe updated version printed several messages until the last message complaining kernel not found.\n\nThe conclusion of the review is \"go\".\n\nThank you for the message on binary distributions.\nI will study it and solve the problem of signature.",
    "created_at": "2020-03-25T15:23:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461085",
    "user": "https://github.com/rana-aerea"
}
```

<div id="comment:12" align="right">comment:12</div>

Step 1: Delete sage.log
Step 2: Invoke two copies one at a time. Open a Jupiter notebook and shutdown the kernel. Then view log.
(Guest account and the account of compilation.)

Result:
In both accounts, the comparison has the same conclusion.
The original version printed only one line of message in the sage.log.
The updated version printed several messages until the last message complaining kernel not found.

The conclusion of the review is "go".

Thank you for the message on binary distributions.
I will study it and solve the problem of signature.



---

archive/issue_comments_461086.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nif you agree with the ticket, you should set the status to \"Positive Review\" and put your real name in the \"Author\" box of the ticket (use the Modify ticket button)",
    "created_at": "2020-03-25T17:08:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461086",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

if you agree with the ticket, you should set the status to "Positive Review" and put your real name in the "Author" box of the ticket (use the Modify ticket button)



---

archive/issue_comments_461087.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nso nobody dares to give a positive review ? Damn...",
    "created_at": "2020-03-28T20:39:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461087",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">comment:14</div>

so nobody dares to give a positive review ? Damn...



---

archive/issue_events_403862.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-03-28T21:29:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29371#event-403862"
}
```



---

archive/issue_events_403863.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-03-28T21:29:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29371#event-403863"
}
```



---

archive/issue_comments_461088.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2020-03-28T21:29:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461088",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **John Palmieri**



---

archive/issue_comments_461089.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nOkay, fine.",
    "created_at": "2020-03-28T21:29:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461089",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:15" align="right">comment:15</div>

Okay, fine.



---

archive/issue_comments_461090.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI apologize for very slow response.\nI succeeded in compiling relocatable version of Sagemath.\nThe next thing I must do is to reflect the change in relocatable version.",
    "created_at": "2020-03-29T07:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461090",
    "user": "https://github.com/rana-aerea"
}
```

<div id="comment:16" align="right">comment:16</div>

I apologize for very slow response.
I succeeded in compiling relocatable version of Sagemath.
The next thing I must do is to reflect the change in relocatable version.



---

archive/issue_comments_461091.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI manage to produce disk-image-file of SageMath-9.1beta9 with the  proposed code of this ticket.\nThe resulting program solves the first bug reported in sage-support group \n\"Sage 9.0 macOS Jupyter Server failed to start\" ( https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0 ).\n\nThe bug was this: the pipes \"sage ... | tee ... | grep ... | grep ... \" got stuck after the second last stage of pipes terminated by error.\nThis caused tee to terminate. The termination occurred when the buffer was full.\nThen, the first stage also terminated in a way we cannot understand form the source code of the bash script sage.\n\nIf someone is aware of suppressing logs for saving Mac application from strange failure, I ask him/her/them to enable logging.",
    "created_at": "2020-03-29T15:00:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461091",
    "user": "https://github.com/rana-aerea"
}
```

<div id="comment:17" align="right">comment:17</div>

I manage to produce disk-image-file of SageMath-9.1beta9 with the  proposed code of this ticket.
The resulting program solves the first bug reported in sage-support group 
"Sage 9.0 macOS Jupyter Server failed to start" ( https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0 ).

The bug was this: the pipes "sage ... | tee ... | grep ... | grep ... " got stuck after the second last stage of pipes terminated by error.
This caused tee to terminate. The termination occurred when the buffer was full.
Then, the first stage also terminated in a way we cannot understand form the source code of the bash script sage.

If someone is aware of suppressing logs for saving Mac application from strange failure, I ask him/her/them to enable logging.



---

archive/issue_comments_461092.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThe update now fixes the bug reported by Dr. Murray Eisenberg in \"Sage 9.0 macOS Jupyter Server failed to start\" ( https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0 ).",
    "created_at": "2020-03-29T15:02:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461092",
    "user": "https://github.com/rana-aerea"
}
```

<div id="comment:18" align="right">comment:18</div>

The update now fixes the bug reported by Dr. Murray Eisenberg in "Sage 9.0 macOS Jupyter Server failed to start" ( https://groups.google.com/forum/#!topic/sage-support/gf0aR8b_vk0 ).



---

archive/issue_comments_461093.json:
```json
{
    "body": "Changed reviewer from **John Palmieri** to **John Palmieri, Torakozo Kariya**",
    "created_at": "2020-03-29T15:02:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461093",
    "user": "https://github.com/rana-aerea"
}
```

Changed reviewer from **John Palmieri** to **John Palmieri, Torakozo Kariya**



---

archive/issue_comments_461094.json:
```json
{
    "body": "Changed branch from **[u/chapoton/29371](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29371)** to **[043f10e](https://github.com/sagemath/sagetrac-mirror/commit/043f10e821073ab47e1056b921dc30165f592124)**",
    "created_at": "2020-04-05T08:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29371#issuecomment-461094",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/29371](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/29371)** to **[043f10e](https://github.com/sagemath/sagetrac-mirror/commit/043f10e821073ab47e1056b921dc30165f592124)**



---

archive/issue_events_403864.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-05T08:30:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29371#event-403864"
}
```



---

archive/issue_events_403865.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "201816f94e12d30a90c678cfc9cc1e7ec4f37ff2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-04-05T08:30:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29371",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29371#event-403865"
}
```
