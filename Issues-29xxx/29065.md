# Issue 29065: Inverse function for `gale_transform`

archive/issues_028828.json:
```json
{
    "body": "One can obtain a gale diagram from a polyhedron. Some interesting examples of polyhedra are obtained by the reverse approach.\n\nWe implement a method that converts a gale diagram to a `Polyhedron`.\n\nThis is a preparation for adding polytopes to the library obtained from the Gale diagram (e.g. #27728).\n\nCC:  @jplab @laisrast @yuan-zhou\n\nKeywords: polytopes, gale transform\n\nBranch/Commit: b6898dd2c7afae73958f4d3daaab063b1e751337\n\nReviewer: Jean-Philippe Labb\u00e9\n\nAuthor: Jonathan Kliem\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29065\n\n",
    "closed_at": "2020-04-22T20:52:39Z",
    "created_at": "2020-01-22T13:15:36Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Inverse function for `gale_transform`",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29065",
    "user": "https://github.com/kliem"
}
```
One can obtain a gale diagram from a polyhedron. Some interesting examples of polyhedra are obtained by the reverse approach.

We implement a method that converts a gale diagram to a `Polyhedron`.

This is a preparation for adding polytopes to the library obtained from the Gale diagram (e.g. #27728).

CC:  @jplab @laisrast @yuan-zhou

Keywords: polytopes, gale transform

Branch/Commit: b6898dd2c7afae73958f4d3daaab063b1e751337

Reviewer: Jean-Philippe Labb√©

Author: Jonathan Kliem

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29065





---

archive/issue_comments_407147.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2020-01-22T13:16:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407147",
    "user": "https://github.com/kliem"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_407148.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-01-22T13:16:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407148",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_407149.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-23T11:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407149",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407150.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-23T20:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407150",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407151.json:
```json
{
    "body": "<a id='comment:5'></a>Small remarks:\n* Typos:\n\n```diff\n-    The vectors are scalled automatically such that they add up to zero.\n+    The vectors are scaled automatically such that they add up to zero.\n```\n\n```diff\n-        # The vectors of our gale transform shall add up to one.\n+        # The vectors of our gale transform shall add up to zero.\n```\n\n* Maybe explain why you want the sum of all `vectors` to be zero. Something like \"so that the right kernel of `vectors` has the one vector in it\".",
    "created_at": "2020-01-30T11:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407151",
    "user": "https://github.com/LaisRast"
}
```

<a id='comment:5'></a>Small remarks:
* Typos:

```diff
-    The vectors are scalled automatically such that they add up to zero.
+    The vectors are scaled automatically such that they add up to zero.
```

```diff
-        # The vectors of our gale transform shall add up to one.
+        # The vectors of our gale transform shall add up to zero.
```

* Maybe explain why you want the sum of all `vectors` to be zero. Something like "so that the right kernel of `vectors` has the one vector in it".



---

archive/issue_comments_407152.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-30T14:53:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407152",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407153.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-02-04T14:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407153",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_407154.json:
```json
{
    "body": "<a id='comment:7'></a>Here are some comments:\n\n- I would name the function `gale_transform_to_polytope` since there is no unbounded case here.\n\n```diff\ndef gale_transform_to_polyhedron(vectors, base_ring=None, backend=None):\n    r\"\"\"\n-    Return the polytope from a (linear) gale transform.\n+    Return the polytope associated to the list of vectors forming a Gale transform.\n\n    This function is the inverse of\n    :meth:`~sage.geometry.polyhedron.base.Polyhedron_base.gale_transform`\n-    up to projective isomorphism.\n+    up to projective transformation.\n```\n\n```\n+    The vectors are scaled automatically such that they add up to zero.\n```\n\nThis needs to be more clear. Is it: The _vertices_ of the polytope are scaled so that the sum of their coordinates is zero? I believe not, right? Then it should say that the centroid (which is what you mean, I'm pretty sure) should be the origin.\n\nI think that the following sentence should be changed to reflect what the function does internally (if it is not the case, you mention in the comments in the code that you do it, this should be mentioned here too!).\n\n```diff\n+    The function is much faster and gives nicer representation if this\n+    is already the case.\n```\n\n```diff\n+    INPUT:\n+\n-    - ``vectors`` -- the vectors of the gale transform\n+    - ``vectors`` -- the ordered vectors of the Gale transform\n```\n\nPlease use the suggested format when using default values for optional parameters:\n\n```\n+    - ``base_ring`` -- (optional) the base ring to be used for the construction\n+\n+    - ``backend`` -- (optional) the backend to use to create the polytope\n+\n```\n\ngale transform -> Gale transform (but not in names of functions...)\n\nstraight forward -> straightforward",
    "created_at": "2020-02-04T14:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407154",
    "user": "https://github.com/jplab"
}
```

<a id='comment:7'></a>Here are some comments:

- I would name the function `gale_transform_to_polytope` since there is no unbounded case here.

```diff
def gale_transform_to_polyhedron(vectors, base_ring=None, backend=None):
    r"""
-    Return the polytope from a (linear) gale transform.
+    Return the polytope associated to the list of vectors forming a Gale transform.

    This function is the inverse of
    :meth:`~sage.geometry.polyhedron.base.Polyhedron_base.gale_transform`
-    up to projective isomorphism.
+    up to projective transformation.
```

```
+    The vectors are scaled automatically such that they add up to zero.
```

This needs to be more clear. Is it: The _vertices_ of the polytope are scaled so that the sum of their coordinates is zero? I believe not, right? Then it should say that the centroid (which is what you mean, I'm pretty sure) should be the origin.

I think that the following sentence should be changed to reflect what the function does internally (if it is not the case, you mention in the comments in the code that you do it, this should be mentioned here too!).

```diff
+    The function is much faster and gives nicer representation if this
+    is already the case.
```

```diff
+    INPUT:
+
-    - ``vectors`` -- the vectors of the gale transform
+    - ``vectors`` -- the ordered vectors of the Gale transform
```

Please use the suggested format when using default values for optional parameters:

```
+    - ``base_ring`` -- (optional) the base ring to be used for the construction
+
+    - ``backend`` -- (optional) the backend to use to create the polytope
+
```

gale transform -> Gale transform (but not in names of functions...)

straight forward -> straightforward



---

archive/issue_comments_407155.json:
```json
{
    "body": "<a id='comment:8'></a>This comment is totally cryptic to me. Should I change the format? To what? There is tons of different styles for this all over the place.\n\nThe [coding conventions](http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content/) suggest the following:\n\n```\n- ``base_ring`` -- string (default: `None`); the base ring to be used for the construction\n```\n\nWhy is the order of the vectors of importance?\n\nReplying to [comment:7 jipilab]:\n> \n> Please use the suggested format when using default values for optional parameters:\n> \n> \n> ```\n> +    - ``base_ring`` -- (optional) the base ring to be used for the construction\n> +\n> +    - ``backend`` -- (optional) the backend to use to create the polytope\n> +\n> ```\n> \n> gale transform -> Gale transform (but not in names of functions...)\n> \n> straight forward -> straightforward",
    "created_at": "2020-02-05T10:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407155",
    "user": "https://github.com/kliem"
}
```

<a id='comment:8'></a>This comment is totally cryptic to me. Should I change the format? To what? There is tons of different styles for this all over the place.

The [coding conventions](http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content/) suggest the following:

```
- ``base_ring`` -- string (default: `None`); the base ring to be used for the construction
```

Why is the order of the vectors of importance?

Replying to [comment:7 jipilab]:
> 
> Please use the suggested format when using default values for optional parameters:
> 
> 
> ```
> +    - ``base_ring`` -- (optional) the base ring to be used for the construction
> +
> +    - ``backend`` -- (optional) the backend to use to create the polytope
> +
> ```
> 
> gale transform -> Gale transform (but not in names of functions...)
> 
> straight forward -> straightforward



---

archive/issue_comments_407156.json:
```json
{
    "body": "<a id='comment:9'></a>New commits:",
    "created_at": "2020-02-05T10:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407156",
    "user": "https://github.com/kliem"
}
```

<a id='comment:9'></a>New commits:



---

archive/issue_comments_407157.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-05T10:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407157",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407158.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:8 gh-kliem]:\n> This comment is totally cryptic to me. Should I change the format? To what? There is tons of different styles for this all over the place.\n> \n> The [coding conventions](http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content/) suggest the following:\n> \n> \n> ```\n> - ``base_ring`` -- string (default: `None`); the base ring to be used for the construction\n> ```\n\n>\nI like the above convention, yes.\n \n> Why is the order of the vectors of importance?\n> \n\n\nEssentially, to make things clear and smooth, it is practical to talk about a \"labeled\" set of vector, where the set of labels has a total order a.k.a. essentially numbered from 1 to k.\n\nIn practice, when one uses Gale duality, to go from primal to dual notions and vice-versa, it is important to have a precise ground set in order to do the translations: complementation should be well-defined, and as soon as you get into the oriented matroid business, it is important to get the signs right... This is why it is a soothing measure to mention here in the first line of the documentation that we do care that this is an (ordered) list of vectors.\n\nThis will make our life easier when explaining/doing things.",
    "created_at": "2020-02-06T12:51:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407158",
    "user": "https://github.com/jplab"
}
```

<a id='comment:10'></a>Replying to [comment:8 gh-kliem]:
> This comment is totally cryptic to me. Should I change the format? To what? There is tons of different styles for this all over the place.
> 
> The [coding conventions](http://doc.sagemath.org/html/en/developer/coding_basics.html#the-docstring-of-a-function-content/) suggest the following:
> 
> 
> ```
> - ``base_ring`` -- string (default: `None`); the base ring to be used for the construction
> ```

>
I like the above convention, yes.
 
> Why is the order of the vectors of importance?
> 


Essentially, to make things clear and smooth, it is practical to talk about a "labeled" set of vector, where the set of labels has a total order a.k.a. essentially numbered from 1 to k.

In practice, when one uses Gale duality, to go from primal to dual notions and vice-versa, it is important to have a precise ground set in order to do the translations: complementation should be well-defined, and as soon as you get into the oriented matroid business, it is important to get the signs right... This is why it is a soothing measure to mention here in the first line of the documentation that we do care that this is an (ordered) list of vectors.

This will make our life easier when explaining/doing things.



---

archive/issue_comments_407159.json:
```json
{
    "body": "<a id='comment:11'></a>About this, we should also add a reference to another book.\n\nI suggest the Triangulations book of De Loera, Rambau, Santos. Definition 2.5.1 and Definition 4.1.35.\n\nEssentially, this function is not necessarily to get a polytope, right?\n\nOr does it really check for the polytopality property?\n\nI see the possibility here to split into two functions...",
    "created_at": "2020-02-06T12:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407159",
    "user": "https://github.com/jplab"
}
```

<a id='comment:11'></a>About this, we should also add a reference to another book.

I suggest the Triangulations book of De Loera, Rambau, Santos. Definition 2.5.1 and Definition 4.1.35.

Essentially, this function is not necessarily to get a polytope, right?

Or does it really check for the polytopality property?

I see the possibility here to split into two functions...



---

archive/issue_comments_407160.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-02-07T10:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407160",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_407161.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-07T14:14:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407161",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407162.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-07T14:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407162",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407163.json:
```json
{
    "body": "<a id='comment:14'></a>New commits:\n|                                                                                                                                          |                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[5bfb0bb](https://git.sagemath.org/sage.git/commit?id=5bfb0bb638f20c0a0c8525d734a4706a1632009a)|`added another reference`|\n|[3a909c1](https://git.sagemath.org/sage.git/commit?id=3a909c1afa6b6d472301e00bfd4069e9abe090a2)|`split function in two functions`|\n---\nNew commits:",
    "created_at": "2020-02-07T14:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407163",
    "user": "https://github.com/kliem"
}
```

<a id='comment:14'></a>New commits:
|                                                                                                                                          |                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[5bfb0bb](https://git.sagemath.org/sage.git/commit?id=5bfb0bb638f20c0a0c8525d734a4706a1632009a)|`added another reference`|
|[3a909c1](https://git.sagemath.org/sage.git/commit?id=3a909c1afa6b6d472301e00bfd4069e9abe090a2)|`split function in two functions`|
---
New commits:



---

archive/issue_comments_407164.json:
```json
{
    "body": "<a id='comment:15'></a>Tiny things:\n\n```diff\n+        .. SEEALSO::\n+\n-            :func`~sage.geometry.polyhedron.library.gale_transform_to_polyhedron`.\n+            :func`~sage.geometry.polyhedron.library.gale_transform_to_polytope`.\n```\n\n```diff\n-    OUTPUT: An ordered point confuration as list of vectors.\n+    OUTPUT: An ordered point configuration as list of vectors.\n```\n\n```diff\n-    One can also specify the backend to be used interally::\n+    One can also specify the backend to be used internally::\n```\n\n```diff\n-    The input vectors are checked for being totally cyclic::\n+    The input vectors should be totally cyclic::\n```\n\n```diff\n-        # of the polyhedron. So dehomogenization is straight forward.\n+        # of the polyhedron. So dehomogenization is straightforward.\n```\n\nI find the \"algorithm\" part a bit hard to understand, but that might just be me. I will see if I can come up with an suggestion of improvement.",
    "created_at": "2020-02-07T15:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407164",
    "user": "https://github.com/jplab"
}
```

<a id='comment:15'></a>Tiny things:

```diff
+        .. SEEALSO::
+
-            :func`~sage.geometry.polyhedron.library.gale_transform_to_polyhedron`.
+            :func`~sage.geometry.polyhedron.library.gale_transform_to_polytope`.
```

```diff
-    OUTPUT: An ordered point confuration as list of vectors.
+    OUTPUT: An ordered point configuration as list of vectors.
```

```diff
-    One can also specify the backend to be used interally::
+    One can also specify the backend to be used internally::
```

```diff
-    The input vectors are checked for being totally cyclic::
+    The input vectors should be totally cyclic::
```

```diff
-        # of the polyhedron. So dehomogenization is straight forward.
+        # of the polyhedron. So dehomogenization is straightforward.
```

I find the "algorithm" part a bit hard to understand, but that might just be me. I will see if I can come up with an suggestion of improvement.



---

archive/issue_comments_407165.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-02-07T15:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407165",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_407166.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-07T20:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407166",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407167.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-07T20:22:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407167",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407168.json:
```json
{
    "body": "<a id='comment:17'></a>I hope this is better now. I completely rewrote the algorithm part.",
    "created_at": "2020-02-07T20:22:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407168",
    "user": "https://github.com/kliem"
}
```

<a id='comment:17'></a>I hope this is better now. I completely rewrote the algorithm part.



---

archive/issue_comments_407169.json:
```json
{
    "body": "<a id='comment:18'></a>Tiny things:\n\n```diff\n+        sage: gale_transform_to_polytope(\n+        ....:     [(1,1), (-1,-1), (1,0),\n+        ....:      (-1,0), (1,-1), (-2,1)],\n+        ....:     backend='cdd', base_ring=RDF)\n+        A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 6 vertices\n```\n\nI know that cdd is the only backend handling RDF, but perhaps it would be good to still check the backend like the example just before...\n\nQuestion: is this test equivalent to the fact that it is not the correct polytope:\n\n```diff\n+    if not P.n_vertices() == len(vertices):\n+        raise ValueError(\"the gale transform does not correspond to a polytope\")\n```\n\nIt would be good to give a reference for that line in the code in a comment. I want to make sure to catch this error if and only if the thing go wrong (so that other types of errors are not hidden by that failing/passing like it happened a lot in polyhedron stuff...). \n\nIn `gale_transform_to_primal`, be careful in describing _all_ the details properly. We do not assume that the centroid of the vectors to be the origin, but rather\n\n```diff\n-    We assume the centroid of the (input) vectors to be the origin.\n-    We stack ``Matrix(vectors)`` by a row of ones.\n-    The right kernel of this is the dual point configuration.\n+    If the centroid of the (input) vectors is not the origin, we do an appropriate transformation to make it so.\n+    We add a row of ones on top of ``Matrix(vectors)``.\n+    The right kernel of this larger matrix is the dual configuration space, and a basis of this space provides the dual point configuration.\n```\n\nThen paragraph 3 and 4 of the algorithm are a bit hard to parse... Perhaps rework them a bit?",
    "created_at": "2020-03-17T10:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407169",
    "user": "https://github.com/jplab"
}
```

<a id='comment:18'></a>Tiny things:

```diff
+        sage: gale_transform_to_polytope(
+        ....:     [(1,1), (-1,-1), (1,0),
+        ....:      (-1,0), (1,-1), (-2,1)],
+        ....:     backend='cdd', base_ring=RDF)
+        A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 6 vertices
```

I know that cdd is the only backend handling RDF, but perhaps it would be good to still check the backend like the example just before...

Question: is this test equivalent to the fact that it is not the correct polytope:

```diff
+    if not P.n_vertices() == len(vertices):
+        raise ValueError("the gale transform does not correspond to a polytope")
```

It would be good to give a reference for that line in the code in a comment. I want to make sure to catch this error if and only if the thing go wrong (so that other types of errors are not hidden by that failing/passing like it happened a lot in polyhedron stuff...). 

In `gale_transform_to_primal`, be careful in describing _all_ the details properly. We do not assume that the centroid of the vectors to be the origin, but rather

```diff
-    We assume the centroid of the (input) vectors to be the origin.
-    We stack ``Matrix(vectors)`` by a row of ones.
-    The right kernel of this is the dual point configuration.
+    If the centroid of the (input) vectors is not the origin, we do an appropriate transformation to make it so.
+    We add a row of ones on top of ``Matrix(vectors)``.
+    The right kernel of this larger matrix is the dual configuration space, and a basis of this space provides the dual point configuration.
```

Then paragraph 3 and 4 of the algorithm are a bit hard to parse... Perhaps rework them a bit?



---

archive/issue_comments_407170.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-17T10:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407170",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_407171.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-17T15:03:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407171",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407172.json:
```json
{
    "body": "<a id='comment:20'></a>Last 10 new commits:",
    "created_at": "2020-03-17T15:03:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407172",
    "user": "https://github.com/kliem"
}
```

<a id='comment:20'></a>Last 10 new commits:



---

archive/issue_comments_407173.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-20T15:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407173",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_407174.json:
```json
{
    "body": "<a id='comment:21'></a>You will hate me for this, but \"centroid\" is the wrong term. \n\nWhat you mean is \"center\" (the centroid method is not implemented yet, see https://ask.sagemath.org/question/8092/compute-the-centroid-of-a-polytope/ ... which is also to be implemented ...Sighhhhhh).\n\nOne small thing:\n\n```diff\n-    convex if and only if every hyperplane contains at least two vectors of\n+    convex and if and only if every hyperplane contains at least two vectors of\n```\n\nOtherwise, looks very good!",
    "created_at": "2020-03-20T15:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407174",
    "user": "https://github.com/jplab"
}
```

<a id='comment:21'></a>You will hate me for this, but "centroid" is the wrong term. 

What you mean is "center" (the centroid method is not implemented yet, see https://ask.sagemath.org/question/8092/compute-the-centroid-of-a-polytope/ ... which is also to be implemented ...Sighhhhhh).

One small thing:

```diff
-    convex if and only if every hyperplane contains at least two vectors of
+    convex and if and only if every hyperplane contains at least two vectors of
```

Otherwise, looks very good!



---

archive/issue_comments_407175.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-20T15:09:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_407176.json:
```json
{
    "body": "<a id='comment:23'></a>:-)",
    "created_at": "2020-03-20T15:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407176",
    "user": "https://github.com/kliem"
}
```

<a id='comment:23'></a>:-)



---

archive/issue_comments_407177.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-20T15:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407177",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_407178.json:
```json
{
    "body": "<a id='comment:24'></a>I'm working on #27728 which depends on this ticket, and I might have some more feedback about the functions. Let's wait for that and the bots.",
    "created_at": "2020-03-20T16:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407178",
    "user": "https://github.com/jplab"
}
```

<a id='comment:24'></a>I'm working on #27728 which depends on this ticket, and I might have some more feedback about the functions. Let's wait for that and the bots.



---

archive/issue_comments_407179.json:
```json
{
    "body": "<a id='comment:25'></a>Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407179",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_073697.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29065#event-73697"
}
```



---

archive/issue_comments_407180.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-19T13:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407180",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_407181.json:
```json
{
    "body": "<a id='comment:26'></a>Ok, looks good. If there are more modifications on this function, they can be addressed in #27728.",
    "created_at": "2020-04-19T13:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407181",
    "user": "https://github.com/jplab"
}
```

<a id='comment:26'></a>Ok, looks good. If there are more modifications on this function, they can be addressed in #27728.



---

archive/issue_events_073698.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-22T20:52:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29065#event-73698"
}
```



---

archive/issue_comments_407182.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-22T20:52:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29065#issuecomment-407182",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_073699.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-02T02:15:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29065#event-73699"
}
```



---

archive/issue_events_073700.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-02T02:15:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29065",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29065#event-73700"
}
```
