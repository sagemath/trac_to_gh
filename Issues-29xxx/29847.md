# Issue 29847: Install sage_setup with setuptools as a prerequisite for building/installing sagelib

archive/issues_029610.json:
```json
{
    "assignees": [],
    "body": "sage_setup will be used by the build system of various distribution packages (#29705).\n\nSo we make it a regular distribution package itself, with sources in `pkgs/sage-setup/` (#31577) and install it with `pip`.\n\nThe actual Python source files are not moved because `sage_setup` takes part in Sage doctesting (see #31577).\n\n`sagelib`'s `setup.py` will no longer install `sage_setup`.\n\n`sage-setup` will become a `build-system requires` of `sagemath-standard` (declared in `pyproject.toml`)\n\nFollow-up: \n- #29924: Do not fail if `sage.env`, `sage.*` are not available\n\n\n---\nReferences:\n\npython - pip ignores dependency_links in setup.py - Stack Overflow\nhttps://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py\n\ndependency_links flag ignored when package exists on PyPI \u00b7 Issue #987 \u00b7 pypa/setuptools\nhttps://github.com/pypa/setuptools/issues/987\n\nSuggest alternatives for --process-dependency-links \u00b7 Issue #6162 \u00b7 pypa/pip\nhttps://github.com/pypa/pip/issues/6162\n\nPEP 508 -- Dependency specification for Python Software Packages | Python.org\nhttps://www.python.org/dev/peps/pep-0508/#pep440\n\nPEP 440 -- Version Identification and Dependency Specification | Python.org\nhttps://www.python.org/dev/peps/pep-0440/#local-version-segments\n\n\n\nDepends on #32046\n\nCC:  @kiwifb @jhpalmieri @dimpase\n\nComponent: **build**\n\nKeywords: **sd111**\n\nAuthor: **Matthias Koeppe**\n\nBranch/Commit: **[`f84730e`](https://github.com/sagemath/sagetrac-mirror/commit/f84730e30ff7ac94f5f5990eb5a28744ac2932b3)**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29847_\n\n",
    "closed_at": "2021-09-13T22:22:32Z",
    "created_at": "2020-06-11T02:46:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Install sage_setup with setuptools as a prerequisite for building/installing sagelib",
    "type": "issue",
    "updated_at": "2021-09-13T22:22:32Z",
    "url": "https://github.com/sagemath/sage/issues/29847",
    "user": "https://github.com/mkoeppe"
}
```
sage_setup will be used by the build system of various distribution packages (#29705).

So we make it a regular distribution package itself, with sources in `pkgs/sage-setup/` (#31577) and install it with `pip`.

The actual Python source files are not moved because `sage_setup` takes part in Sage doctesting (see #31577).

`sagelib`'s `setup.py` will no longer install `sage_setup`.

`sage-setup` will become a `build-system requires` of `sagemath-standard` (declared in `pyproject.toml`)

Follow-up: 
- #29924: Do not fail if `sage.env`, `sage.*` are not available


---
References:

python - pip ignores dependency_links in setup.py - Stack Overflow
https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py

dependency_links flag ignored when package exists on PyPI 路 Issue #987 路 pypa/setuptools
https://github.com/pypa/setuptools/issues/987

Suggest alternatives for --process-dependency-links 路 Issue #6162 路 pypa/pip
https://github.com/pypa/pip/issues/6162

PEP 508 -- Dependency specification for Python Software Packages | Python.org
https://www.python.org/dev/peps/pep-0508/#pep440

PEP 440 -- Version Identification and Dependency Specification | Python.org
https://www.python.org/dev/peps/pep-0440/#local-version-segments



Depends on #32046

CC:  @kiwifb @jhpalmieri @dimpase

Component: **build**

Keywords: **sd111**

Author: **Matthias Koeppe**

Branch/Commit: **[`f84730e`](https://github.com/sagemath/sagetrac-mirror/commit/f84730e30ff7ac94f5f5990eb5a28744ac2932b3)**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/29847_





---

archive/issue_events_407705.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-11T02:46:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407705"
}
```



---

archive/issue_events_407706.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-11T02:46:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407706"
}
```



---

archive/issue_events_407707.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-11T02:46:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407707"
}
```



---

archive/issue_events_407708.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-11T02:46:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407708"
}
```



---

archive/issue_comments_471216.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,5 @@\n \n So we make it a regular distutils package itself and install it with pip.\n \n+We remove the dependencies on `sage.*` that are still in `sage_setup`. \n \n``````\n",
    "created_at": "2020-06-11T02:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471216",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,5 @@
 
 So we make it a regular distutils package itself and install it with pip.
 
+We remove the dependencies on `sage.*` that are still in `sage_setup`. 
 
``````




---

archive/issue_comments_471217.json:
```json
{
    "body": "Dependencies: **#29702**",
    "created_at": "2020-06-11T02:59:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471217",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#29702**



---

archive/issue_comments_471218.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,16 @@\n \n We remove the dependencies on `sage.*` that are still in `sage_setup`. \n \n+```\n+./docbuild/ ........\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+./fpickle_setup.py:11:# into sage.misc.fpickle, and then here. It was needed due to\n+./fpickle_setup.py:12:# chicken vs egg issue, as we cannot use sage.misc.fpickle in\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+```\n+\n+\n``````\n",
    "created_at": "2020-06-11T03:17:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471218",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,16 @@
 
 We remove the dependencies on `sage.*` that are still in `sage_setup`. 
 
+```
+./docbuild/ ........
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+./fpickle_setup.py:11:# into sage.misc.fpickle, and then here. It was needed due to
+./fpickle_setup.py:12:# chicken vs egg issue, as we cannot use sage.misc.fpickle in
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+```
+
+
``````




---

archive/issue_comments_471219.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,8 +8,6 @@\n ./docbuild/ ........\n ./optional_extension.py:22:from sage.misc.package import list_packages\n ./optional_extension.py:44:    from sage.misc.package import is_package_installed\n-./fpickle_setup.py:11:# into sage.misc.fpickle, and then here. It was needed due to\n-./fpickle_setup.py:12:# chicken vs egg issue, as we cannot use sage.misc.fpickle in\n ./library_order.py:77:from sage.env import cython_aliases\n ./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n ./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n``````\n",
    "created_at": "2020-06-11T03:19:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471219",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,8 +8,6 @@
 ./docbuild/ ........
 ./optional_extension.py:22:from sage.misc.package import list_packages
 ./optional_extension.py:44:    from sage.misc.package import is_package_installed
-./fpickle_setup.py:11:# into sage.misc.fpickle, and then here. It was needed due to
-./fpickle_setup.py:12:# chicken vs egg issue, as we cannot use sage.misc.fpickle in
 ./library_order.py:77:from sage.env import cython_aliases
 ./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
 ./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
``````




---

archive/issue_comments_471220.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,4 +14,6 @@\n ./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n ```\n \n+To be determined:\n+- When and by what distribution should `sage.env` be installed?\n \n``````\n",
    "created_at": "2020-06-11T06:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471220",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,4 +14,6 @@
 ./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
 ```
 
+To be determined:
+- When and by what distribution should `sage.env` be installed?
 
``````




---

archive/issue_events_407709.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-12T20:04:35Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "title_is": "Install sage_setup with pip, move sage_include_directories, cython_aliases from sage.env to sage_setup",
    "title_was": "Install sage_setup with pip",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407709"
}
```



---

archive/issue_comments_471221.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,16 +2,25 @@\n \n So we make it a regular distutils package itself and install it with pip.\n \n-We remove the dependencies on `sage.*` that are still in `sage_setup`. \n+We remove some dependencies on `sage.*` that are still in `sage_setup`. \n+\n+```\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+```\n+\n+Harmless dependencies on `sage.*`:\n \n ```\n ./docbuild/ ........\n+  (will be invoked later, when sage.* is installed)\n ./optional_extension.py:22:from sage.misc.package import list_packages\n ./optional_extension.py:44:    from sage.misc.package import is_package_installed\n-./library_order.py:77:from sage.env import cython_aliases\n-./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+  (no longer used, only kept around in case user packages use it)\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (only used when invoked interactively)\n ./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n-./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n ```\n \n To be determined:\n``````\n",
    "created_at": "2020-06-12T20:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471221",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,16 +2,25 @@
 
 So we make it a regular distutils package itself and install it with pip.
 
-We remove the dependencies on `sage.*` that are still in `sage_setup`. 
+We remove some dependencies on `sage.*` that are still in `sage_setup`. 
+
+```
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+```
+
+Harmless dependencies on `sage.*`:
 
 ```
 ./docbuild/ ........
+  (will be invoked later, when sage.* is installed)
 ./optional_extension.py:22:from sage.misc.package import list_packages
 ./optional_extension.py:44:    from sage.misc.package import is_package_installed
-./library_order.py:77:from sage.env import cython_aliases
-./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+  (no longer used, only kept around in case user packages use it)
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (only used when invoked interactively)
 ./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
-./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
 ```
 
 To be determined:
``````




---

archive/issue_comments_471222.json:
```json
{
    "body": "Changed dependencies from **#29702** to **#29702, #29706, #29785**",
    "created_at": "2020-06-12T20:30:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471222",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29702** to **#29702, #29706, #29785**



---

archive/issue_comments_471223.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,12 +2,13 @@\n \n So we make it a regular distutils package itself and install it with pip.\n \n-We remove some dependencies on `sage.*` that are still in `sage_setup`. \n+We remove some dependencies on `sage.*` that are still in `sage_setup`: \n \n ```\n ./library_order.py:77:from sage.env import cython_aliases\n ./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n ```\n+... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n \n Harmless dependencies on `sage.*`:\n \n``````\n",
    "created_at": "2020-06-12T20:30:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471223",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,12 +2,13 @@
 
 So we make it a regular distutils package itself and install it with pip.
 
-We remove some dependencies on `sage.*` that are still in `sage_setup`. 
+We remove some dependencies on `sage.*` that are still in `sage_setup`: 
 
 ```
 ./library_order.py:77:from sage.env import cython_aliases
 ./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
 ```
+... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
 
 Harmless dependencies on `sage.*`:
 
``````




---

archive/issue_comments_471224.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,8 @@\n ./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n ```\n ... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n+\n+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).\n \n Harmless dependencies on `sage.*`:\n \n``````\n",
    "created_at": "2020-06-12T22:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471224",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,8 @@
 ./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
 ```
 ... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
+
+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).
 
 Harmless dependencies on `sage.*`:
 
``````




---

archive/issue_comments_471225.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,6 +26,4 @@\n   (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n ```\n \n-To be determined:\n-- When and by what distribution should `sage.env` be installed?\n \n``````\n",
    "created_at": "2020-06-12T22:40:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471225",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,6 +26,4 @@
   (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
 ```
 
-To be determined:
-- When and by what distribution should `sage.env` be installed?
 
``````




---

archive/issue_comments_471226.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n ./library_order.py:77:from sage.env import cython_aliases\n ./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n ```\n-... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n+... by moving the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n \n ... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).\n \n``````\n",
    "created_at": "2020-06-12T23:21:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471226",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 ./library_order.py:77:from sage.env import cython_aliases
 ./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
 ```
-... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
+... by moving the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
 
 ... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).
 
``````




---

archive/issue_comments_471227.json:
```json
{
    "body": "Branch: **[u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup)**",
    "created_at": "2020-06-13T05:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471227",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup)**



---

archive/issue_comments_471228.json:
```json
{
    "body": "Changed dependencies from **#29702, #29706, #29785** to **#29702, #29706, #29785, #29855**",
    "created_at": "2020-06-14T05:33:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471228",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29702, #29706, #29785** to **#29702, #29706, #29785, #29855**



---

archive/issue_comments_471229.json:
```json
{
    "body": "Commit: **[`4ce81bf`](https://github.com/sagemath/sagetrac-mirror/commit/4ce81bf162906ba72c5fc8ca7c349dedf33cd033)**",
    "created_at": "2020-06-14T05:33:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471229",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`4ce81bf`](https://github.com/sagemath/sagetrac-mirror/commit/4ce81bf162906ba72c5fc8ca7c349dedf33cd033)**



---

archive/issue_comments_471230.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eed920e167d058b188142612a1f0b8ae670b64bd\"><code>eed920e</code></a></td><td><code>src/sage/tests: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d25d1d82c02eb94369326ab345101799488cf9d\"><code>0d25d1d</code></a></td><td><code>src/sage/structure: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/808f46abbbbfcddfee56d72399ab23107301dd57\"><code>808f46a</code></a></td><td><code>src/sage/stats: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10f754224ab62457353dc4385468ef47af413db5\"><code>10f7542</code></a></td><td><code>src/sage/schemes: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5867c054f9605ecb740120ef9e22d5e3c9b6a5e2\"><code>5867c05</code></a></td><td><code>src/sage/modular/pollack_stevens/dist.pyx: Add missing distutils directives</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8\"><code>c536daa</code></a></td><td><code>Remove self-listing in distutils sources directive</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1b378712d10cb15555889e8235d089f3cf0e391\"><code>b1b3787</code></a></td><td><code>sage.env.cython_aliases: Fix for systems without zlib pc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ba1d7b7087536784391480d54c42a06ead2a6dd\"><code>2ba1d7b</code></a></td><td><code>Merge branch 't/29706/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files' into t/29785/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_3__get_rid_of_uname_specific_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb6cc0cfb8b1c8375e91560f7f85ea816e666aa5\"><code>bb6cc0c</code></a></td><td><code>Merge branch 't/29785/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_3__get_rid_of_uname_specific_' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ce81bf162906ba72c5fc8ca7c349dedf33cd033\"><code>4ce81bf</code></a></td><td><code>sage_setup.command.sage_build_cython: Use SAGE_GMP_PREFIX, SAGE_NTL_PREFIX for header dependencies instead of SAGE_INC</code></td></tr></table>\n",
    "created_at": "2020-06-14T05:33:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471230",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13"></div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eed920e167d058b188142612a1f0b8ae670b64bd"><code>eed920e</code></a></td><td><code>src/sage/tests: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d25d1d82c02eb94369326ab345101799488cf9d"><code>0d25d1d</code></a></td><td><code>src/sage/structure: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/808f46abbbbfcddfee56d72399ab23107301dd57"><code>808f46a</code></a></td><td><code>src/sage/stats: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10f754224ab62457353dc4385468ef47af413db5"><code>10f7542</code></a></td><td><code>src/sage/schemes: Move Extension options from src/module_list.py to distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5867c054f9605ecb740120ef9e22d5e3c9b6a5e2"><code>5867c05</code></a></td><td><code>src/sage/modular/pollack_stevens/dist.pyx: Add missing distutils directives</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c536daa32dcc69adbc7b37d9a170e22fd733bca8"><code>c536daa</code></a></td><td><code>Remove self-listing in distutils sources directive</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1b378712d10cb15555889e8235d089f3cf0e391"><code>b1b3787</code></a></td><td><code>sage.env.cython_aliases: Fix for systems without zlib pc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ba1d7b7087536784391480d54c42a06ead2a6dd"><code>2ba1d7b</code></a></td><td><code>Merge branch 't/29706/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files' into t/29785/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_3__get_rid_of_uname_specific_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb6cc0cfb8b1c8375e91560f7f85ea816e666aa5"><code>bb6cc0c</code></a></td><td><code>Merge branch 't/29785/move_extension_options_from_src_module_list_py_to__distutils___directives_in_the_individual_files__part_3__get_rid_of_uname_specific_' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ce81bf162906ba72c5fc8ca7c349dedf33cd033"><code>4ce81bf</code></a></td><td><code>sage_setup.command.sage_build_cython: Use SAGE_GMP_PREFIX, SAGE_NTL_PREFIX for header dependencies instead of SAGE_INC</code></td></tr></table>




---

archive/issue_comments_471231.json:
```json
{
    "body": "Changed commit from **[`4ce81bf`](https://github.com/sagemath/sagetrac-mirror/commit/4ce81bf162906ba72c5fc8ca7c349dedf33cd033)** to **[`4a9dd3a`](https://github.com/sagemath/sagetrac-mirror/commit/4a9dd3ad8c103784403e8ecce172427b2f5c0eff)**",
    "created_at": "2020-06-14T05:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471231",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4ce81bf`](https://github.com/sagemath/sagetrac-mirror/commit/4ce81bf162906ba72c5fc8ca7c349dedf33cd033)** to **[`4a9dd3a`](https://github.com/sagemath/sagetrac-mirror/commit/4a9dd3ad8c103784403e8ecce172427b2f5c0eff)**



---

archive/issue_comments_471232.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/041c9e808a4f28253c232762b3efa37ea306e3c4\"><code>041c9e8</code></a></td><td><code>sage_setup.command.sage_build_cython: Use SAGE_GMP_PREFIX, SAGE_NTL_PREFIX for header dependencies instead of SAGE_INC</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a9dd3ad8c103784403e8ecce172427b2f5c0eff\"><code>4a9dd3a</code></a></td><td><code>Merge branch 't/29855/sagelib_setup_py__fix_dependencies_on_header_files_of_packages_gmp__ntl' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>\n",
    "created_at": "2020-06-14T05:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471232",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/041c9e808a4f28253c232762b3efa37ea306e3c4"><code>041c9e8</code></a></td><td><code>sage_setup.command.sage_build_cython: Use SAGE_GMP_PREFIX, SAGE_NTL_PREFIX for header dependencies instead of SAGE_INC</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a9dd3ad8c103784403e8ecce172427b2f5c0eff"><code>4a9dd3a</code></a></td><td><code>Merge branch 't/29855/sagelib_setup_py__fix_dependencies_on_header_files_of_packages_gmp__ntl' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>




---

archive/issue_comments_471233.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n ```\n ... by moving the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n \n-... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).\n+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).\n \n Harmless dependencies on `sage.*`:\n \n``````\n",
    "created_at": "2020-06-14T05:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471233",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 ```
 ... by moving the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
 
-... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).
+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).
 
 Harmless dependencies on `sage.*`:
 
``````




---

archive/issue_events_407710.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T14:12:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407710"
}
```



---

archive/issue_events_407711.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T14:12:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407711"
}
```



---

archive/issue_comments_471234.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,9 +8,9 @@\n ./library_order.py:77:from sage.env import cython_aliases\n ./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n ```\n-... by moving the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n+... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env\n \n-... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).\n+... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).\n \n Harmless dependencies on `sage.*`:\n \n@@ -26,4 +26,6 @@\n   (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n ```\n \n+Follow-up:\n+- #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n \n``````\n",
    "created_at": "2020-06-15T23:15:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471234",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,9 +8,9 @@
 ./library_order.py:77:from sage.env import cython_aliases
 ./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
 ```
-... by moving the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
+... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env
 
-... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).
+... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).
 
 Harmless dependencies on `sage.*`:
 
@@ -26,4 +26,6 @@
   (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
 ```
 
+Follow-up:
+- #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
 
``````




---

archive/issue_events_407712.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-15T23:16:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "title_is": "Install sage_setup with pip as a prerequisite for building/installing sagelib",
    "title_was": "Install sage_setup with pip, move sage_include_directories, cython_aliases from sage.env to sage_setup",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407712"
}
```



---

archive/issue_events_407713.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-21T00:14:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407713"
}
```



---

archive/issue_events_407714.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-21T00:14:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407714"
}
```



---

archive/issue_comments_471235.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,9 @@\n sage_setup will be used by the build system of various distutils packages (#29705).\n \n-So we make it a regular distutils package itself and install it with pip.\n+So we make it a regular distutils package itself and install it with `setup.py install`.\n+\n+We install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n+\n \n We remove some dependencies on `sage.*` that are still in `sage_setup`: \n \n@@ -27,5 +30,5 @@\n ```\n \n Follow-up:\n-- #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n+- ???? #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n \n``````\n",
    "created_at": "2020-06-21T00:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471235",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,9 @@
 sage_setup will be used by the build system of various distutils packages (#29705).
 
-So we make it a regular distutils package itself and install it with pip.
+So we make it a regular distutils package itself and install it with `setup.py install`.
+
+We install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
+
 
 We remove some dependencies on `sage.*` that are still in `sage_setup`: 
 
@@ -27,5 +30,5 @@
 ```
 
 Follow-up:
-- #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
+- ???? #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
 
``````




---

archive/issue_comments_471236.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -29,6 +29,4 @@\n   (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n ```\n \n-Follow-up:\n-- ???? #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n \n``````\n",
    "created_at": "2020-06-21T01:12:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471236",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -29,6 +29,4 @@
   (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
 ```
 
-Follow-up:
-- ???? #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
 
``````




---

archive/issue_events_407715.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-21T01:14:39Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "title_is": "Install sage_setup with setuptools as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\"",
    "title_was": "Install sage_setup with pip as a prerequisite for building/installing sagelib",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407715"
}
```



---

archive/issue_comments_471237.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n So we make it a regular distutils package itself and install it with `setup.py install`.\n \n-We install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n+We also install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n \n \n We remove some dependencies on `sage.*` that are still in `sage_setup`: \n``````\n",
    "created_at": "2020-06-21T01:14:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471237",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 So we make it a regular distutils package itself and install it with `setup.py install`.
 
-We install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
+We also install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
 
 
 We remove some dependencies on `sage.*` that are still in `sage_setup`: 
``````




---

archive/issue_comments_471238.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,28 +5,4 @@\n We also install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n \n \n-We remove some dependencies on `sage.*` that are still in `sage_setup`: \n-\n-```\n-./library_order.py:77:from sage.env import cython_aliases\n-./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n-```\n-... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env\n-\n-... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).\n-\n-Harmless dependencies on `sage.*`:\n-\n-```\n-./docbuild/ ........\n-  (will be invoked later, when sage.* is installed)\n-./optional_extension.py:22:from sage.misc.package import list_packages\n-./optional_extension.py:44:    from sage.misc.package import is_package_installed\n-  (no longer used, only kept around in case user packages use it)\n-./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n-  (only used when invoked interactively)\n-./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n-  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n-```\n-\n-\n+Follow-up: #29924\n``````\n",
    "created_at": "2020-06-21T01:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471238",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,28 +5,4 @@
 We also install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
 
 
-We remove some dependencies on `sage.*` that are still in `sage_setup`: 
-
-```
-./library_order.py:77:from sage.env import cython_aliases
-./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
-```
-... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env
-
-... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).
-
-Harmless dependencies on `sage.*`:
-
-```
-./docbuild/ ........
-  (will be invoked later, when sage.* is installed)
-./optional_extension.py:22:from sage.misc.package import list_packages
-./optional_extension.py:44:    from sage.misc.package import is_package_installed
-  (no longer used, only kept around in case user packages use it)
-./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
-  (only used when invoked interactively)
-./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
-  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
-```
-
-
+Follow-up: #29924
``````




---

archive/issue_comments_471239.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n\n```\n[sagelib-9.1.rc5] running build\n[sagelib-9.1.rc5] Generating auto-generated sources\n[sagelib-9.1.rc5] Building interpreters for fast_callable\n[sagelib-9.1.rc5] -> Rebuilding interpreters because /Users/mkoeppe/s/sage/sage-rebasing/src/sage_setup/autogen/interpreters/memory.py changed\n[sagelib-9.1.rc5] running build_cython\n[sagelib-9.1.rc5] Enabling Cython debugging support\n[sagelib-9.1.rc5] Updating Cython code....\n[sagelib-9.1.rc5] Compiling sage/algebras/finite_dimensional_algebras/finite_dimensional_algebra_element.pyx because it changed.\n[sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'\n```\n\nHm....",
    "created_at": "2020-06-21T02:29:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471239",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>


```
[sagelib-9.1.rc5] running build
[sagelib-9.1.rc5] Generating auto-generated sources
[sagelib-9.1.rc5] Building interpreters for fast_callable
[sagelib-9.1.rc5] -> Rebuilding interpreters because /Users/mkoeppe/s/sage/sage-rebasing/src/sage_setup/autogen/interpreters/memory.py changed
[sagelib-9.1.rc5] running build_cython
[sagelib-9.1.rc5] Enabling Cython debugging support
[sagelib-9.1.rc5] Updating Cython code....
[sagelib-9.1.rc5] Compiling sage/algebras/finite_dimensional_algebras/finite_dimensional_algebra_element.pyx because it changed.
[sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'
```

Hm....



---

archive/issue_comments_471240.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7582906a53966f093c4462f5c062d136bb86a103\"><code>7582906</code></a></td><td><code>build/pkgs/sage_setup: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/010c6e3b7abcf381a691ca87c6e0d4238d922ce5\"><code>010c6e3</code></a></td><td><code>src/setup.py: Do not install sage_setup; instead, make the sage_setup package a dependency</code></td></tr></table>\n",
    "created_at": "2020-06-21T02:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471240",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7582906a53966f093c4462f5c062d136bb86a103"><code>7582906</code></a></td><td><code>build/pkgs/sage_setup: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/010c6e3b7abcf381a691ca87c6e0d4238d922ce5"><code>010c6e3</code></a></td><td><code>src/setup.py: Do not install sage_setup; instead, make the sage_setup package a dependency</code></td></tr></table>




---

archive/issue_comments_471241.json:
```json
{
    "body": "Changed commit from **[`4a9dd3a`](https://github.com/sagemath/sagetrac-mirror/commit/4a9dd3ad8c103784403e8ecce172427b2f5c0eff)** to **[`010c6e3`](https://github.com/sagemath/sagetrac-mirror/commit/010c6e3b7abcf381a691ca87c6e0d4238d922ce5)**",
    "created_at": "2020-06-21T02:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471241",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4a9dd3a`](https://github.com/sagemath/sagetrac-mirror/commit/4a9dd3ad8c103784403e8ecce172427b2f5c0eff)** to **[`010c6e3`](https://github.com/sagemath/sagetrac-mirror/commit/010c6e3b7abcf381a691ca87c6e0d4238d922ce5)**



---

archive/issue_comments_471242.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18aae7f8874d6e05d925ebec99ccbe4585f18683\"><code>18aae7f</code></a></td><td><code>sage_setup.command.sage_build_cython: Fix up - add list brackets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d0d0a7720bbef005892f5f56c982c26e5eb0fb8\"><code>2d0d0a7</code></a></td><td><code>Merge branch 't/29855/sagelib_setup_py__fix_dependencies_on_header_files_of_packages_gmp__ntl' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>\n",
    "created_at": "2020-06-24T01:39:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471242",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18aae7f8874d6e05d925ebec99ccbe4585f18683"><code>18aae7f</code></a></td><td><code>sage_setup.command.sage_build_cython: Fix up - add list brackets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d0d0a7720bbef005892f5f56c982c26e5eb0fb8"><code>2d0d0a7</code></a></td><td><code>Merge branch 't/29855/sagelib_setup_py__fix_dependencies_on_header_files_of_packages_gmp__ntl' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>




---

archive/issue_comments_471243.json:
```json
{
    "body": "Changed commit from **[`010c6e3`](https://github.com/sagemath/sagetrac-mirror/commit/010c6e3b7abcf381a691ca87c6e0d4238d922ce5)** to **[`2d0d0a7`](https://github.com/sagemath/sagetrac-mirror/commit/2d0d0a7720bbef005892f5f56c982c26e5eb0fb8)**",
    "created_at": "2020-06-24T01:39:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471243",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`010c6e3`](https://github.com/sagemath/sagetrac-mirror/commit/010c6e3b7abcf381a691ca87c6e0d4238d922ce5)** to **[`2d0d0a7`](https://github.com/sagemath/sagetrac-mirror/commit/2d0d0a7720bbef005892f5f56c982c26e5eb0fb8)**



---

archive/issue_comments_471244.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@mkoeppe](#comment%3A24):\n> \n> ```\n> [sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'\n> ```\n> \n> Hm....\n\nThat was coming from the mistake in #29855.",
    "created_at": "2020-06-24T01:44:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471244",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@mkoeppe](#comment%3A24):
> 
> ```
> [sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'
> ```
> 
> Hm....

That was coming from the mistake in #29855.



---

archive/issue_comments_471245.json:
```json
{
    "body": "Changed commit from **[`2d0d0a7`](https://github.com/sagemath/sagetrac-mirror/commit/2d0d0a7720bbef005892f5f56c982c26e5eb0fb8)** to **[`0459006`](https://github.com/sagemath/sagetrac-mirror/commit/0459006f8ad828e3c3f83004b6db605ec036a0f6)**",
    "created_at": "2020-06-24T02:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471245",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2d0d0a7`](https://github.com/sagemath/sagetrac-mirror/commit/2d0d0a7720bbef005892f5f56c982c26e5eb0fb8)** to **[`0459006`](https://github.com/sagemath/sagetrac-mirror/commit/0459006f8ad828e3c3f83004b6db605ec036a0f6)**



---

archive/issue_comments_471246.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0459006f8ad828e3c3f83004b6db605ec036a0f6\"><code>0459006</code></a></td><td><code>.gitignore: Ignore generated files in build/pkgs/*/src</code></td></tr></table>\n",
    "created_at": "2020-06-24T02:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471246",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0459006f8ad828e3c3f83004b6db605ec036a0f6"><code>0459006</code></a></td><td><code>.gitignore: Ignore generated files in build/pkgs/*/src</code></td></tr></table>




---

archive/issue_comments_471247.json:
```json
{
    "body": "Work Issues: **Install scripts, add spkg-src**",
    "created_at": "2020-06-24T02:46:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471247",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **Install scripts, add spkg-src**



---

archive/issue_comments_471248.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c66384d34edb84b22dd2cc9c5e3afa1b049a3e8f\"><code>c66384d</code></a></td><td><code>build/pkgs/sage_setup/spkg-install: Fixup use of --root</code></td></tr></table>\n",
    "created_at": "2020-06-24T04:32:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471248",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c66384d34edb84b22dd2cc9c5e3afa1b049a3e8f"><code>c66384d</code></a></td><td><code>build/pkgs/sage_setup/spkg-install: Fixup use of --root</code></td></tr></table>




---

archive/issue_comments_471249.json:
```json
{
    "body": "Changed commit from **[`0459006`](https://github.com/sagemath/sagetrac-mirror/commit/0459006f8ad828e3c3f83004b6db605ec036a0f6)** to **[`c66384d`](https://github.com/sagemath/sagetrac-mirror/commit/c66384d34edb84b22dd2cc9c5e3afa1b049a3e8f)**",
    "created_at": "2020-06-24T04:32:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471249",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0459006`](https://github.com/sagemath/sagetrac-mirror/commit/0459006f8ad828e3c3f83004b6db605ec036a0f6)** to **[`c66384d`](https://github.com/sagemath/sagetrac-mirror/commit/c66384d34edb84b22dd2cc9c5e3afa1b049a3e8f)**



---

archive/issue_comments_471250.json:
```json
{
    "body": "<div id=\"comment:31\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58956e65bcf221fac3aa670d165d89948a65e825\"><code>58956e6</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: New</code></td></tr></table>\n",
    "created_at": "2020-06-24T04:34:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471250",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:31"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58956e65bcf221fac3aa670d165d89948a65e825"><code>58956e6</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: New</code></td></tr></table>




---

archive/issue_comments_471251.json:
```json
{
    "body": "Changed commit from **[`c66384d`](https://github.com/sagemath/sagetrac-mirror/commit/c66384d34edb84b22dd2cc9c5e3afa1b049a3e8f)** to **[`58956e6`](https://github.com/sagemath/sagetrac-mirror/commit/58956e65bcf221fac3aa670d165d89948a65e825)**",
    "created_at": "2020-06-24T04:34:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471251",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c66384d`](https://github.com/sagemath/sagetrac-mirror/commit/c66384d34edb84b22dd2cc9c5e3afa1b049a3e8f)** to **[`58956e6`](https://github.com/sagemath/sagetrac-mirror/commit/58956e65bcf221fac3aa670d165d89948a65e825)**



---

archive/issue_comments_471252.json:
```json
{
    "body": "Changed work issues from **Install scripts, add spkg-src** to **Install scripts**",
    "created_at": "2020-06-24T04:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471252",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **Install scripts, add spkg-src** to **Install scripts**



---

archive/issue_comments_471253.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,9 @@\n \n So we make it a regular distutils package itself and install it with `setup.py install`.\n \n-We also install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n \n+Follow-up: \n+- #29924: Do not fail if `sage.env`, `sage.*` are not available\n+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`\n+- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n \n-Follow-up: #29924\n``````\n",
    "created_at": "2020-06-25T19:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471253",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,9 @@
 
 So we make it a regular distutils package itself and install it with `setup.py install`.
 
-We also install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
 
+Follow-up: 
+- #29924: Do not fail if `sage.env`, `sage.*` are not available
+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`
+- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
 
-Follow-up: #29924
``````




---

archive/issue_events_407716.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-25T19:15:33Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "title_is": "Install sage_setup with setuptools as a prerequisite for building/installing sagelib",
    "title_was": "Install sage_setup with setuptools as a prerequisite for building/installing sagelib, install sage-the-distribution scripts as \"scripts\"",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407716"
}
```



---

archive/issue_events_407717.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-25T19:15:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407717"
}
```



---

archive/issue_comments_471254.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-06-25T19:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471254",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_471255.json:
```json
{
    "body": "Changed work issues from **Install scripts** to none",
    "created_at": "2020-06-25T19:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471255",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **Install scripts** to none



---

archive/issue_comments_471256.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e1702396fc2e66b851e187a02a52bc2853da7e6\"><code>0e17023</code></a></td><td><code>Merge tag '9.2.beta2' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>\n",
    "created_at": "2020-06-27T19:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471256",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e1702396fc2e66b851e187a02a52bc2853da7e6"><code>0e17023</code></a></td><td><code>Merge tag '9.2.beta2' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>




---

archive/issue_comments_471257.json:
```json
{
    "body": "Changed commit from **[`58956e6`](https://github.com/sagemath/sagetrac-mirror/commit/58956e65bcf221fac3aa670d165d89948a65e825)** to **[`0e17023`](https://github.com/sagemath/sagetrac-mirror/commit/0e1702396fc2e66b851e187a02a52bc2853da7e6)**",
    "created_at": "2020-06-27T19:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471257",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`58956e6`](https://github.com/sagemath/sagetrac-mirror/commit/58956e65bcf221fac3aa670d165d89948a65e825)** to **[`0e17023`](https://github.com/sagemath/sagetrac-mirror/commit/0e1702396fc2e66b851e187a02a52bc2853da7e6)**



---

archive/issue_comments_471258.json:
```json
{
    "body": "Changed dependencies from **#29702, #29706, #29785, #29855** to **#29702, #29855**",
    "created_at": "2020-06-27T19:21:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471258",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29702, #29706, #29785, #29855** to **#29702, #29855**



---

archive/issue_comments_471259.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,7 @@\n \n So we make it a regular distutils package itself and install it with `setup.py install`.\n \n+`sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.\n \n Follow-up: \n - #29924: Do not fail if `sage.env`, `sage.*` are not available\n``````\n",
    "created_at": "2020-06-27T19:25:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471259",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,7 @@
 
 So we make it a regular distutils package itself and install it with `setup.py install`.
 
+`sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.
 
 Follow-up: 
 - #29924: Do not fail if `sage.env`, `sage.*` are not available
``````




---

archive/issue_comments_471260.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n sage_setup will be used by the build system of various distutils packages (#29705).\n \n-So we make it a regular distutils package itself and install it with `setup.py install`.\n+So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)\n \n `sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.\n \n``````\n",
    "created_at": "2020-06-27T19:25:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471260",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 sage_setup will be used by the build system of various distutils packages (#29705).
 
-So we make it a regular distutils package itself and install it with `setup.py install`.
+So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)
 
 `sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.
 
``````




---

archive/issue_comments_471261.json:
```json
{
    "body": "Changed commit from **[`0e17023`](https://github.com/sagemath/sagetrac-mirror/commit/0e1702396fc2e66b851e187a02a52bc2853da7e6)** to **[`0d22cef`](https://github.com/sagemath/sagetrac-mirror/commit/0d22cefeb55b66cbd1e9e3b0057861f8db486963)**",
    "created_at": "2020-06-28T01:47:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471261",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0e17023`](https://github.com/sagemath/sagetrac-mirror/commit/0e1702396fc2e66b851e187a02a52bc2853da7e6)** to **[`0d22cef`](https://github.com/sagemath/sagetrac-mirror/commit/0d22cefeb55b66cbd1e9e3b0057861f8db486963)**



---

archive/issue_comments_471262.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d22cefeb55b66cbd1e9e3b0057861f8db486963\"><code>0d22cef</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: chmod +x</code></td></tr></table>\n",
    "created_at": "2020-06-28T01:47:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471262",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d22cefeb55b66cbd1e9e3b0057861f8db486963"><code>0d22cef</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: chmod +x</code></td></tr></table>




---

archive/issue_comments_471263.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21eb31edf8575b13f6f1baa312f73c2c60a8ce82\"><code>21eb31e</code></a></td><td><code>build/pkgs/sage_setup/src/tox.ini, requirements.txt: New</code></td></tr></table>\n",
    "created_at": "2020-06-28T02:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471263",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21eb31edf8575b13f6f1baa312f73c2c60a8ce82"><code>21eb31e</code></a></td><td><code>build/pkgs/sage_setup/src/tox.ini, requirements.txt: New</code></td></tr></table>




---

archive/issue_comments_471264.json:
```json
{
    "body": "Changed commit from **[`0d22cef`](https://github.com/sagemath/sagetrac-mirror/commit/0d22cefeb55b66cbd1e9e3b0057861f8db486963)** to **[`21eb31e`](https://github.com/sagemath/sagetrac-mirror/commit/21eb31edf8575b13f6f1baa312f73c2c60a8ce82)**",
    "created_at": "2020-06-28T02:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471264",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0d22cef`](https://github.com/sagemath/sagetrac-mirror/commit/0d22cefeb55b66cbd1e9e3b0057861f8db486963)** to **[`21eb31e`](https://github.com/sagemath/sagetrac-mirror/commit/21eb31edf8575b13f6f1baa312f73c2c60a8ce82)**



---

archive/issue_comments_471265.json:
```json
{
    "body": "Changed commit from **[`21eb31e`](https://github.com/sagemath/sagetrac-mirror/commit/21eb31edf8575b13f6f1baa312f73c2c60a8ce82)** to **[`eeeaa47`](https://github.com/sagemath/sagetrac-mirror/commit/eeeaa47644aad4801b99e645ccd24176864bfa54)**",
    "created_at": "2020-06-28T04:27:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471265",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`21eb31e`](https://github.com/sagemath/sagetrac-mirror/commit/21eb31edf8575b13f6f1baa312f73c2c60a8ce82)** to **[`eeeaa47`](https://github.com/sagemath/sagetrac-mirror/commit/eeeaa47644aad4801b99e645ccd24176864bfa54)**



---

archive/issue_comments_471266.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eeeaa47644aad4801b99e645ccd24176864bfa54\"><code>eeeaa47</code></a></td><td><code>build/pkgs/sage_setup/src/setup.cfg: Add nested packages</code></td></tr></table>\n",
    "created_at": "2020-06-28T04:27:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471266",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eeeaa47644aad4801b99e645ccd24176864bfa54"><code>eeeaa47</code></a></td><td><code>build/pkgs/sage_setup/src/setup.cfg: Add nested packages</code></td></tr></table>




---

archive/issue_comments_471267.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4dcaf1cd1b203e6fc08d0d57ba872b085284f685\"><code>4dcaf1c</code></a></td><td><code>build/pkgs/sage_setup/src/setup.cfg: Add remaining nested packages</code></td></tr></table>\n",
    "created_at": "2020-06-28T04:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471267",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4dcaf1cd1b203e6fc08d0d57ba872b085284f685"><code>4dcaf1c</code></a></td><td><code>build/pkgs/sage_setup/src/setup.cfg: Add remaining nested packages</code></td></tr></table>




---

archive/issue_comments_471268.json:
```json
{
    "body": "Changed commit from **[`eeeaa47`](https://github.com/sagemath/sagetrac-mirror/commit/eeeaa47644aad4801b99e645ccd24176864bfa54)** to **[`4dcaf1c`](https://github.com/sagemath/sagetrac-mirror/commit/4dcaf1cd1b203e6fc08d0d57ba872b085284f685)**",
    "created_at": "2020-06-28T04:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471268",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eeeaa47`](https://github.com/sagemath/sagetrac-mirror/commit/eeeaa47644aad4801b99e645ccd24176864bfa54)** to **[`4dcaf1c`](https://github.com/sagemath/sagetrac-mirror/commit/4dcaf1cd1b203e6fc08d0d57ba872b085284f685)**



---

archive/issue_events_407718.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-28T22:12:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407718"
}
```



---

archive/issue_events_407719.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-28T22:12:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407719"
}
```



---

archive/issue_comments_471269.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,3 +9,23 @@\n - #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`\n - #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n \n+\n+---\n+References:\n+\n+python - pip ignores dependency_links in setup.py - Stack Overflow\n+https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py\n+\n+dependency_links flag ignored when package exists on PyPI \u00b7 Issue #987 \u00b7 pypa/setuptools\n+https://github.com/pypa/setuptools/issues/987\n+\n+Suggest alternatives for --process-dependency-links \u00b7 Issue #6162 \u00b7 pypa/pip\n+https://github.com/pypa/pip/issues/6162\n+\n+PEP 508 -- Dependency specification for Python Software Packages | Python.org\n+https://www.python.org/dev/peps/pep-0508/#pep440\n+\n+PEP 440 -- Version Identification and Dependency Specification | Python.org\n+https://www.python.org/dev/peps/pep-0440/#local-version-segments\n+\n+\n``````\n",
    "created_at": "2020-06-28T22:12:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471269",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,3 +9,23 @@
 - #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`
 - #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
 
+
+---
+References:
+
+python - pip ignores dependency_links in setup.py - Stack Overflow
+https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py
+
+dependency_links flag ignored when package exists on PyPI 路 Issue #987 路 pypa/setuptools
+https://github.com/pypa/setuptools/issues/987
+
+Suggest alternatives for --process-dependency-links 路 Issue #6162 路 pypa/pip
+https://github.com/pypa/pip/issues/6162
+
+PEP 508 -- Dependency specification for Python Software Packages | Python.org
+https://www.python.org/dev/peps/pep-0508/#pep440
+
+PEP 440 -- Version Identification and Dependency Specification | Python.org
+https://www.python.org/dev/peps/pep-0440/#local-version-segments
+
+
``````




---

archive/issue_comments_471270.json:
```json
{
    "body": "Changed dependencies from **#29702, #29855** to **#29702, #29855, #30011**",
    "created_at": "2020-07-03T20:35:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471270",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29702, #29855** to **#29702, #29855, #30011**



---

archive/issue_comments_471271.json:
```json
{
    "body": "Work Issues: **merge #30011, remove dep on six**",
    "created_at": "2020-07-03T20:36:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471271",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **merge #30011, remove dep on six**



---

archive/issue_comments_471272.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nshould we wait for  #29855, #30011 merged?",
    "created_at": "2020-07-08T10:57:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471272",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:46" align="right">comment:46</div>

should we wait for  #29855, #30011 merged?



---

archive/issue_comments_471273.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/212d1833db7c11f01a36bab5551eac15763ec77a\"><code>212d183</code></a></td><td><code>trac 30011: remove sage_setup/fpickle_setup.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ef60f510513dbdc62498275ec87aa69a00177f2\"><code>0ef60f5</code></a></td><td><code>Merge branch 'u/jhpalmieri/sage_setup__remove_use_of_six' of git://trac.sagemath.org/sage into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44cc65dbdf5c7f3818eb0a880835162579238b57\"><code>44cc65d</code></a></td><td><code>build/pkgs/sage_setup/dependencies: New</code></td></tr></table>\n",
    "created_at": "2020-07-08T15:18:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471273",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/212d1833db7c11f01a36bab5551eac15763ec77a"><code>212d183</code></a></td><td><code>trac 30011: remove sage_setup/fpickle_setup.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ef60f510513dbdc62498275ec87aa69a00177f2"><code>0ef60f5</code></a></td><td><code>Merge branch 'u/jhpalmieri/sage_setup__remove_use_of_six' of git://trac.sagemath.org/sage into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44cc65dbdf5c7f3818eb0a880835162579238b57"><code>44cc65d</code></a></td><td><code>build/pkgs/sage_setup/dependencies: New</code></td></tr></table>




---

archive/issue_comments_471274.json:
```json
{
    "body": "Changed commit from **[`4dcaf1c`](https://github.com/sagemath/sagetrac-mirror/commit/4dcaf1cd1b203e6fc08d0d57ba872b085284f685)** to **[`44cc65d`](https://github.com/sagemath/sagetrac-mirror/commit/44cc65dbdf5c7f3818eb0a880835162579238b57)**",
    "created_at": "2020-07-08T15:18:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471274",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4dcaf1c`](https://github.com/sagemath/sagetrac-mirror/commit/4dcaf1cd1b203e6fc08d0d57ba872b085284f685)** to **[`44cc65d`](https://github.com/sagemath/sagetrac-mirror/commit/44cc65dbdf5c7f3818eb0a880835162579238b57)**



---

archive/issue_comments_471275.json:
```json
{
    "body": "Changed work issues from **merge #30011, remove dep on six** to none",
    "created_at": "2020-07-08T15:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471275",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **merge #30011, remove dep on six** to none



---

archive/issue_comments_471276.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nThis ticket is not so urgent (I've set its milestone to 9.3)",
    "created_at": "2020-07-08T15:19:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471276",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:49" align="right">comment:49</div>

This ticket is not so urgent (I've set its milestone to 9.3)



---

archive/issue_comments_471277.json:
```json
{
    "body": "Work Issues: **Merge #29950**",
    "created_at": "2020-07-13T21:33:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471277",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **Merge #29950**



---

archive/issue_events_407720.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-13T21:33:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407720"
}
```



---

archive/issue_events_407721.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-13T21:33:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407721"
}
```



---

archive/issue_comments_471278.json:
```json
{
    "body": "Changed work issues from **Merge #29950** to **Merge #30010**",
    "created_at": "2020-07-13T21:33:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471278",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **Merge #29950** to **Merge #30010**



---

archive/issue_comments_471279.json:
```json
{
    "body": "Changed dependencies from **#29702, #29855, #30011** to **#29500, #30010**",
    "created_at": "2020-09-08T04:17:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471279",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29702, #29855, #30011** to **#29500, #30010**



---

archive/issue_comments_471280.json:
```json
{
    "body": "Changed commit from **[`44cc65d`](https://github.com/sagemath/sagetrac-mirror/commit/44cc65dbdf5c7f3818eb0a880835162579238b57)** to **[`8d465d7`](https://github.com/sagemath/sagetrac-mirror/commit/8d465d72bf2b199f3fb46b7a72e51a186c954228)**",
    "created_at": "2020-09-08T23:24:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471280",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`44cc65d`](https://github.com/sagemath/sagetrac-mirror/commit/44cc65dbdf5c7f3818eb0a880835162579238b57)** to **[`8d465d7`](https://github.com/sagemath/sagetrac-mirror/commit/8d465d72bf2b199f3fb46b7a72e51a186c954228)**



---

archive/issue_comments_471281.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8aa6fd96607c207a0f9563c583978cd50ddc52a7\"><code>8aa6fd9</code></a></td><td><code>build/bin/sage-dist-helpers (sdh_pip_install): Build a wheel, store it</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d369aabcda2feff14b4f1d14fe824e591d8c5c36\"><code>d369aab</code></a></td><td><code>build/bin/sage-dist-helpers (sdh_store_and_pip_install_wheel): New, factored out from sdh_pip_install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d435ab90d74d86264d681371034700a8214e6d3\"><code>2d435ab</code></a></td><td><code>build/pkgs/numpy/spkg-install.in: Install via setup.py bdist_wheel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55993b6e25560af5e582aed7fcfbb56d317b92fe\"><code>55993b6</code></a></td><td><code>build/bin/sage-dist-helpers: Fixup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a646747dbf7c823030e1b23419348ff795a0661\"><code>0a64674</code></a></td><td><code>build/pkgs/gambit/spkg-install.in: Install via bdist_wheel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca586938cbdd91114a10dd3364201c8076412485\"><code>ca58693</code></a></td><td><code>build/pkgs/pillow/spkg-install.in: Install via bdist_wheel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65773f7b632e0c93b073fdce0e2a0eed14ef495c\"><code>65773f7</code></a></td><td><code>Merge branch 't/29500/install_all_python_packages_via_pip_wheel__create_pep_503_simple_repository_for_wheels' into t/30010/split_sage_setup_docbuild_out_to_a_separate_package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14ab446a58821df23bcb2d5c4f441fe4fa876ed5\"><code>14ab446</code></a></td><td><code>build/pkgs/sage_setup_docbuild/spkg-install: Install via setup.py bdist_wheel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c5584d7f4c91d1852a5081143cdef2bf845fcdc\"><code>3c5584d</code></a></td><td><code>Merge branch 't/30010/split_sage_setup_docbuild_out_to_a_separate_package' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d465d72bf2b199f3fb46b7a72e51a186c954228\"><code>8d465d7</code></a></td><td><code>build/pkgs/sage_setup/spkg-install: Install via setup.py bdist_wheel</code></td></tr></table>\n",
    "created_at": "2020-09-08T23:24:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471281",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8aa6fd96607c207a0f9563c583978cd50ddc52a7"><code>8aa6fd9</code></a></td><td><code>build/bin/sage-dist-helpers (sdh_pip_install): Build a wheel, store it</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d369aabcda2feff14b4f1d14fe824e591d8c5c36"><code>d369aab</code></a></td><td><code>build/bin/sage-dist-helpers (sdh_store_and_pip_install_wheel): New, factored out from sdh_pip_install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d435ab90d74d86264d681371034700a8214e6d3"><code>2d435ab</code></a></td><td><code>build/pkgs/numpy/spkg-install.in: Install via setup.py bdist_wheel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55993b6e25560af5e582aed7fcfbb56d317b92fe"><code>55993b6</code></a></td><td><code>build/bin/sage-dist-helpers: Fixup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a646747dbf7c823030e1b23419348ff795a0661"><code>0a64674</code></a></td><td><code>build/pkgs/gambit/spkg-install.in: Install via bdist_wheel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca586938cbdd91114a10dd3364201c8076412485"><code>ca58693</code></a></td><td><code>build/pkgs/pillow/spkg-install.in: Install via bdist_wheel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65773f7b632e0c93b073fdce0e2a0eed14ef495c"><code>65773f7</code></a></td><td><code>Merge branch 't/29500/install_all_python_packages_via_pip_wheel__create_pep_503_simple_repository_for_wheels' into t/30010/split_sage_setup_docbuild_out_to_a_separate_package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14ab446a58821df23bcb2d5c4f441fe4fa876ed5"><code>14ab446</code></a></td><td><code>build/pkgs/sage_setup_docbuild/spkg-install: Install via setup.py bdist_wheel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c5584d7f4c91d1852a5081143cdef2bf845fcdc"><code>3c5584d</code></a></td><td><code>Merge branch 't/30010/split_sage_setup_docbuild_out_to_a_separate_package' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d465d72bf2b199f3fb46b7a72e51a186c954228"><code>8d465d7</code></a></td><td><code>build/pkgs/sage_setup/spkg-install: Install via setup.py bdist_wheel</code></td></tr></table>




---

archive/issue_comments_471282.json:
```json
{
    "body": "Changed work issues from **Merge #30010** to none",
    "created_at": "2020-09-08T23:24:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471282",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **Merge #30010** to none



---

archive/issue_events_407722.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-08T23:24:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407722"
}
```



---

archive/issue_events_407723.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-08T23:24:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407723"
}
```



---

archive/issue_comments_471283.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db56301317b59708186defd76e2e6db1423e86af\"><code>db56301</code></a></td><td><code>build/pkgs/sagelib/src/requirements.txt: Update</code></td></tr></table>\n",
    "created_at": "2020-09-08T23:27:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471283",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db56301317b59708186defd76e2e6db1423e86af"><code>db56301</code></a></td><td><code>build/pkgs/sagelib/src/requirements.txt: Update</code></td></tr></table>




---

archive/issue_comments_471284.json:
```json
{
    "body": "Changed commit from **[`8d465d7`](https://github.com/sagemath/sagetrac-mirror/commit/8d465d72bf2b199f3fb46b7a72e51a186c954228)** to **[`db56301`](https://github.com/sagemath/sagetrac-mirror/commit/db56301317b59708186defd76e2e6db1423e86af)**",
    "created_at": "2020-09-08T23:27:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471284",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8d465d7`](https://github.com/sagemath/sagetrac-mirror/commit/8d465d72bf2b199f3fb46b7a72e51a186c954228)** to **[`db56301`](https://github.com/sagemath/sagetrac-mirror/commit/db56301317b59708186defd76e2e6db1423e86af)**



---

archive/issue_comments_471285.json:
```json
{
    "body": "<div id=\"comment:56\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/650c50003c9a31e617ec3bee34c9f40c511d0c4a\"><code>650c500</code></a></td><td><code>build/pkgs/sage_setup/src: Set version, remove sage_setup.docbuild package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1bb5b3453ac6d4a163be5c28446afb7ac66750b8\"><code>1bb5b34</code></a></td><td><code>build/pkgs/sage_setup/type: Change to standard</code></td></tr></table>\n",
    "created_at": "2020-09-09T00:39:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471285",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/650c50003c9a31e617ec3bee34c9f40c511d0c4a"><code>650c500</code></a></td><td><code>build/pkgs/sage_setup/src: Set version, remove sage_setup.docbuild package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1bb5b3453ac6d4a163be5c28446afb7ac66750b8"><code>1bb5b34</code></a></td><td><code>build/pkgs/sage_setup/type: Change to standard</code></td></tr></table>




---

archive/issue_comments_471286.json:
```json
{
    "body": "Changed commit from **[`db56301`](https://github.com/sagemath/sagetrac-mirror/commit/db56301317b59708186defd76e2e6db1423e86af)** to **[`1bb5b34`](https://github.com/sagemath/sagetrac-mirror/commit/1bb5b3453ac6d4a163be5c28446afb7ac66750b8)**",
    "created_at": "2020-09-09T00:39:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471286",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`db56301`](https://github.com/sagemath/sagetrac-mirror/commit/db56301317b59708186defd76e2e6db1423e86af)** to **[`1bb5b34`](https://github.com/sagemath/sagetrac-mirror/commit/1bb5b3453ac6d4a163be5c28446afb7ac66750b8)**



---

archive/issue_comments_471287.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,12 +2,10 @@\n \n So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)\n \n-`sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.\n+`sagelib`'s `setup.py` will no longer install `sage_setup`.\n \n Follow-up: \n - #29924: Do not fail if `sage.env`, `sage.*` are not available\n-- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`\n-- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n \n \n ---\n``````\n",
    "created_at": "2020-11-14T06:38:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471287",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,12 +2,10 @@
 
 So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)
 
-`sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.
+`sagelib`'s `setup.py` will no longer install `sage_setup`.
 
 Follow-up: 
 - #29924: Do not fail if `sage.env`, `sage.*` are not available
-- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`
-- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
 
 
 ---
``````




---

archive/issue_events_407724.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-14T06:38:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407724"
}
```



---

archive/issue_events_407725.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-14T06:38:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407725"
}
```



---

archive/issue_comments_471288.json:
```json
{
    "body": "Changed dependencies from **#29500, #30010** to **#30010**",
    "created_at": "2020-11-14T06:38:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471288",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29500, #30010** to **#30010**



---

archive/issue_comments_471289.json:
```json
{
    "body": "Changed keywords from none to **sd111**",
    "created_at": "2020-12-06T18:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471289",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from none to **sd111**



---

archive/issue_comments_471290.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nHoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471290",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:58" align="right">comment:58</div>

Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_comments_471291.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nNeeds rebase.",
    "created_at": "2020-12-09T18:58:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471291",
    "user": "https://github.com/kliem"
}
```

<div id="comment:59" align="right">comment:59</div>

Needs rebase.



---

archive/issue_events_407726.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-12-09T18:58:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407726"
}
```



---

archive/issue_events_407727.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-12-09T18:58:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407727"
}
```



---

archive/issue_comments_471292.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,8 @@\n So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)\n \n `sagelib`'s `setup.py` will no longer install `sage_setup`.\n+\n+`sage_setup` will become a `build-system requires` (declared in `pyproject.toml`)\n \n Follow-up: \n - #29924: Do not fail if `sage.env`, `sage.*` are not available\n``````\n",
    "created_at": "2021-02-18T01:39:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471292",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,8 @@
 So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)
 
 `sagelib`'s `setup.py` will no longer install `sage_setup`.
+
+`sage_setup` will become a `build-system requires` (declared in `pyproject.toml`)
 
 Follow-up: 
 - #29924: Do not fail if `sage.env`, `sage.*` are not available
``````




---

archive/issue_comments_471293.json:
```json
{
    "body": "Changed dependencies from **#30010** to **#30010, #30913, #31377**",
    "created_at": "2021-02-21T20:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471293",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30010** to **#30010, #30913, #31377**



---

archive/issue_comments_471294.json:
```json
{
    "body": "Work Issues: **rebase**",
    "created_at": "2021-02-21T20:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471294",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **rebase**



---

archive/issue_comments_471295.json:
```json
{
    "body": "Changed work issues from **rebase** to **rebase on #31577**",
    "created_at": "2021-06-25T00:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471295",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **rebase** to **rebase on #31577**



---

archive/issue_comments_471296.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,12 @@\n-sage_setup will be used by the build system of various distutils packages (#29705).\n+sage_setup will be used by the build system of various distribution packages (#29705).\n \n-So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)\n+So we make it a regular distribution package itself, with sources in `pkgs/sage-setup/` (#31577) and install it with `pip`.\n+\n+The actual Python source files are not moved because `sage_setup` takes part in Sage doctesting (see #31577).\n \n `sagelib`'s `setup.py` will no longer install `sage_setup`.\n \n-`sage_setup` will become a `build-system requires` (declared in `pyproject.toml`)\n+`sage-setup` will become a `build-system requires` of `sagemath-standard` (declared in `pyproject.toml`)\n \n Follow-up: \n - #29924: Do not fail if `sage.env`, `sage.*` are not available\n``````\n",
    "created_at": "2021-06-25T00:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471296",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,12 @@
-sage_setup will be used by the build system of various distutils packages (#29705).
+sage_setup will be used by the build system of various distribution packages (#29705).
 
-So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)
+So we make it a regular distribution package itself, with sources in `pkgs/sage-setup/` (#31577) and install it with `pip`.
+
+The actual Python source files are not moved because `sage_setup` takes part in Sage doctesting (see #31577).
 
 `sagelib`'s `setup.py` will no longer install `sage_setup`.
 
-`sage_setup` will become a `build-system requires` (declared in `pyproject.toml`)
+`sage-setup` will become a `build-system requires` of `sagemath-standard` (declared in `pyproject.toml`)
 
 Follow-up: 
 - #29924: Do not fail if `sage.env`, `sage.*` are not available
``````




---

archive/issue_comments_471297.json:
```json
{
    "body": "Changed dependencies from **#30010, #30913, #31377** to **#31577**",
    "created_at": "2021-06-25T00:44:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471297",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30010, #30913, #31377** to **#31577**



---

archive/issue_comments_471298.json:
```json
{
    "body": "Changed commit from **[`1bb5b34`](https://github.com/sagemath/sagetrac-mirror/commit/1bb5b3453ac6d4a163be5c28446afb7ac66750b8)** to **[`2b25c06`](https://github.com/sagemath/sagetrac-mirror/commit/2b25c06f1fece1897e222f16c5e4b5bd9ab047d1)**",
    "created_at": "2021-06-25T00:58:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471298",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1bb5b34`](https://github.com/sagemath/sagetrac-mirror/commit/1bb5b3453ac6d4a163be5c28446afb7ac66750b8)** to **[`2b25c06`](https://github.com/sagemath/sagetrac-mirror/commit/2b25c06f1fece1897e222f16c5e4b5bd9ab047d1)**



---

archive/issue_comments_471299.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3a8f5f1fdbd3450a209db4a7679ffc10bea06b1\"><code>d3a8f5f</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c71594b73c0c4cb283d26c30fda1bbd3b4f096f\"><code>9c71594</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: chmod +x</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23cd1d9dc8b0bca9cb1cec3acb9897f94267071e\"><code>23cd1d9</code></a></td><td><code>build/pkgs/sage_setup/src/tox.ini, requirements.txt: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae23b43ab52e81242267c9be1a64c18f148f0471\"><code>ae23b43</code></a></td><td><code>build/pkgs/sage_setup/src/setup.cfg: Add nested packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c7b38a00eb3af587b00779320fe53a9e4be4874\"><code>7c7b38a</code></a></td><td><code>build/pkgs/sage_setup/src/setup.cfg: Add remaining nested packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e9b8502585cf6fb053605117b2b2a8c6d3f3454\"><code>2e9b850</code></a></td><td><code>build/pkgs/sage_setup/dependencies: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5511555c54ba3a743127ea135ea79043f4efbb7a\"><code>5511555</code></a></td><td><code>build/pkgs/sage_setup/spkg-install: Install via setup.py bdist_wheel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e28f39592f9a38a61e539570e2a1ea4dffda7a7\"><code>3e28f39</code></a></td><td><code>build/pkgs/sage_setup/src: Set version, remove sage_setup.docbuild package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d387bbf0ed64d40e237d5974e4f7b527649d11a\"><code>4d387bb</code></a></td><td><code>build/pkgs/sage_setup/type: Change to standard</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b25c06f1fece1897e222f16c5e4b5bd9ab047d1\"><code>2b25c06</code></a></td><td><code>Move sage_setup distribution source to pkgs/sage-setup</code></td></tr></table>\n",
    "created_at": "2021-06-25T00:58:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471299",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:63"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3a8f5f1fdbd3450a209db4a7679ffc10bea06b1"><code>d3a8f5f</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c71594b73c0c4cb283d26c30fda1bbd3b4f096f"><code>9c71594</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: chmod +x</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23cd1d9dc8b0bca9cb1cec3acb9897f94267071e"><code>23cd1d9</code></a></td><td><code>build/pkgs/sage_setup/src/tox.ini, requirements.txt: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae23b43ab52e81242267c9be1a64c18f148f0471"><code>ae23b43</code></a></td><td><code>build/pkgs/sage_setup/src/setup.cfg: Add nested packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c7b38a00eb3af587b00779320fe53a9e4be4874"><code>7c7b38a</code></a></td><td><code>build/pkgs/sage_setup/src/setup.cfg: Add remaining nested packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e9b8502585cf6fb053605117b2b2a8c6d3f3454"><code>2e9b850</code></a></td><td><code>build/pkgs/sage_setup/dependencies: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5511555c54ba3a743127ea135ea79043f4efbb7a"><code>5511555</code></a></td><td><code>build/pkgs/sage_setup/spkg-install: Install via setup.py bdist_wheel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e28f39592f9a38a61e539570e2a1ea4dffda7a7"><code>3e28f39</code></a></td><td><code>build/pkgs/sage_setup/src: Set version, remove sage_setup.docbuild package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d387bbf0ed64d40e237d5974e4f7b527649d11a"><code>4d387bb</code></a></td><td><code>build/pkgs/sage_setup/type: Change to standard</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b25c06f1fece1897e222f16c5e4b5bd9ab047d1"><code>2b25c06</code></a></td><td><code>Move sage_setup distribution source to pkgs/sage-setup</code></td></tr></table>




---

archive/issue_comments_471300.json:
```json
{
    "body": "Changed commit from **[`2b25c06`](https://github.com/sagemath/sagetrac-mirror/commit/2b25c06f1fece1897e222f16c5e4b5bd9ab047d1)** to **[`f51ca1c`](https://github.com/sagemath/sagetrac-mirror/commit/f51ca1cd744740d2d2a59b634310e1a92b4e1d04)**",
    "created_at": "2021-06-25T01:02:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471300",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2b25c06`](https://github.com/sagemath/sagetrac-mirror/commit/2b25c06f1fece1897e222f16c5e4b5bd9ab047d1)** to **[`f51ca1c`](https://github.com/sagemath/sagetrac-mirror/commit/f51ca1cd744740d2d2a59b634310e1a92b4e1d04)**



---

archive/issue_comments_471301.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/287372a51b5d2183199cb4ee92dc19c75bfdcf2b\"><code>287372a</code></a></td><td><code>src/pyproject.toml.m4: Add sage_setup as build-system requires</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f51ca1cd744740d2d2a59b634310e1a92b4e1d04\"><code>f51ca1c</code></a></td><td><code>src/setup.cfg.m4: Change license_file to license_files</code></td></tr></table>\n",
    "created_at": "2021-06-25T01:02:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471301",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/287372a51b5d2183199cb4ee92dc19c75bfdcf2b"><code>287372a</code></a></td><td><code>src/pyproject.toml.m4: Add sage_setup as build-system requires</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f51ca1cd744740d2d2a59b634310e1a92b4e1d04"><code>f51ca1c</code></a></td><td><code>src/setup.cfg.m4: Change license_file to license_files</code></td></tr></table>




---

archive/issue_comments_471302.json:
```json
{
    "body": "<div id=\"comment:65\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35e38cdca128295ec79e88d3f43ce858392bd5eb\"><code>35e38cd</code></a></td><td><code>Fixup</code></td></tr></table>\n",
    "created_at": "2021-06-25T01:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471302",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:65"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35e38cdca128295ec79e88d3f43ce858392bd5eb"><code>35e38cd</code></a></td><td><code>Fixup</code></td></tr></table>




---

archive/issue_comments_471303.json:
```json
{
    "body": "Changed commit from **[`f51ca1c`](https://github.com/sagemath/sagetrac-mirror/commit/f51ca1cd744740d2d2a59b634310e1a92b4e1d04)** to **[`35e38cd`](https://github.com/sagemath/sagetrac-mirror/commit/35e38cdca128295ec79e88d3f43ce858392bd5eb)**",
    "created_at": "2021-06-25T01:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471303",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f51ca1c`](https://github.com/sagemath/sagetrac-mirror/commit/f51ca1cd744740d2d2a59b634310e1a92b4e1d04)** to **[`35e38cd`](https://github.com/sagemath/sagetrac-mirror/commit/35e38cdca128295ec79e88d3f43ce858392bd5eb)**



---

archive/issue_comments_471304.json:
```json
{
    "body": "Changed commit from **[`35e38cd`](https://github.com/sagemath/sagetrac-mirror/commit/35e38cdca128295ec79e88d3f43ce858392bd5eb)** to **[`cf606f7`](https://github.com/sagemath/sagetrac-mirror/commit/cf606f743e019c82ec3cfc212d60b6b54c1fa3f4)**",
    "created_at": "2021-06-25T02:26:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471304",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`35e38cd`](https://github.com/sagemath/sagetrac-mirror/commit/35e38cdca128295ec79e88d3f43ce858392bd5eb)** to **[`cf606f7`](https://github.com/sagemath/sagetrac-mirror/commit/cf606f743e019c82ec3cfc212d60b6b54c1fa3f4)**



---

archive/issue_comments_471305.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1d33bc99aa357c9cca692b311f9eadb922f2950\"><code>a1d33bc</code></a></td><td><code>build/pkgs/pillow/spkg-install.in, build/bin/sage-dist-helpers: Remove debugging code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/413f6b5c4be4286f6b7c411e498129b16fbc77f0\"><code>413f6b5</code></a></td><td><code>build/pkgs/{jupyter_jsmol,python_igraph,pillow}/spkg-install.in: Use --build-option, not --global-option</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e993d442831c4bbd8e126f7942c55b35e20ec29\"><code>1e993d4</code></a></td><td><code>Fixup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ec5bc217200943611639e22db603aea667194aa\"><code>9ec5bc2</code></a></td><td><code>pkgs/sagemath-standard/setup.py, src/setup.py, src/MANIFEST.in: Exclude sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ec930cb2819bb842464943cbaf1b7019dd35def\"><code>9ec930c</code></a></td><td><code>Update paths in comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8d57553a417f6ad7ac05cac7edb1a9965c64bf5\"><code>d8d5755</code></a></td><td><code>pkgs/sage-setup/tox.ini: Update paths in comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4b5c19732838b7d39d5bec406768916de1cc783\"><code>b4b5c19</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD pkgs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40abff027b8f1b1d48dfe273a99e98079c05e2f4\"><code>40abff0</code></a></td><td><code>pkgs/sage-setup/setup.cfg: README.rst, not README.md</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/782b64b2c4479f0b8ebde576915c65c3932d6968\"><code>782b64b</code></a></td><td><code>pkgs/sagemath-standard: Remove symlink to SAGE_ROOT/src/sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf606f743e019c82ec3cfc212d60b6b54c1fa3f4\"><code>cf606f7</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD src/sage_setup before building TARGETS_PRE</code></td></tr></table>\n",
    "created_at": "2021-06-25T02:26:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471305",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1d33bc99aa357c9cca692b311f9eadb922f2950"><code>a1d33bc</code></a></td><td><code>build/pkgs/pillow/spkg-install.in, build/bin/sage-dist-helpers: Remove debugging code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/413f6b5c4be4286f6b7c411e498129b16fbc77f0"><code>413f6b5</code></a></td><td><code>build/pkgs/{jupyter_jsmol,python_igraph,pillow}/spkg-install.in: Use --build-option, not --global-option</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e993d442831c4bbd8e126f7942c55b35e20ec29"><code>1e993d4</code></a></td><td><code>Fixup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ec5bc217200943611639e22db603aea667194aa"><code>9ec5bc2</code></a></td><td><code>pkgs/sagemath-standard/setup.py, src/setup.py, src/MANIFEST.in: Exclude sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ec930cb2819bb842464943cbaf1b7019dd35def"><code>9ec930c</code></a></td><td><code>Update paths in comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8d57553a417f6ad7ac05cac7edb1a9965c64bf5"><code>d8d5755</code></a></td><td><code>pkgs/sage-setup/tox.ini: Update paths in comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4b5c19732838b7d39d5bec406768916de1cc783"><code>b4b5c19</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD pkgs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40abff027b8f1b1d48dfe273a99e98079c05e2f4"><code>40abff0</code></a></td><td><code>pkgs/sage-setup/setup.cfg: README.rst, not README.md</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/782b64b2c4479f0b8ebde576915c65c3932d6968"><code>782b64b</code></a></td><td><code>pkgs/sagemath-standard: Remove symlink to SAGE_ROOT/src/sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf606f743e019c82ec3cfc212d60b6b54c1fa3f4"><code>cf606f7</code></a></td><td><code>build/bin/write-dockerfile.sh: ADD src/sage_setup before building TARGETS_PRE</code></td></tr></table>




---

archive/issue_comments_471306.json:
```json
{
    "body": "<div id=\"comment:67\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1b8832dc2aea68404314cdfca4abd9c92cae6b7\"><code>a1b8832</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: Use python3</code></td></tr></table>\n",
    "created_at": "2021-06-25T02:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471306",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1b8832dc2aea68404314cdfca4abd9c92cae6b7"><code>a1b8832</code></a></td><td><code>build/pkgs/sage_setup/spkg-src: Use python3</code></td></tr></table>




---

archive/issue_comments_471307.json:
```json
{
    "body": "Changed commit from **[`cf606f7`](https://github.com/sagemath/sagetrac-mirror/commit/cf606f743e019c82ec3cfc212d60b6b54c1fa3f4)** to **[`a1b8832`](https://github.com/sagemath/sagetrac-mirror/commit/a1b8832dc2aea68404314cdfca4abd9c92cae6b7)**",
    "created_at": "2021-06-25T02:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471307",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cf606f7`](https://github.com/sagemath/sagetrac-mirror/commit/cf606f743e019c82ec3cfc212d60b6b54c1fa3f4)** to **[`a1b8832`](https://github.com/sagemath/sagetrac-mirror/commit/a1b8832dc2aea68404314cdfca4abd9c92cae6b7)**



---

archive/issue_events_407728.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-25T04:09:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407728"
}
```



---

archive/issue_events_407729.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-06-25T04:09:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407729"
}
```



---

archive/issue_comments_471308.json:
```json
{
    "body": "Changed work issues from **rebase on #31577** to none",
    "created_at": "2021-06-25T04:09:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471308",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **rebase on #31577** to none



---

archive/issue_comments_471309.json:
```json
{
    "body": "<div id=\"comment:69\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9270417b7c13a3a29753a4b4180de1d30727aef3\"><code>9270417</code></a></td><td><code>tox.ini, build/bin/write-dockerfile.sh, tox*.yml: Use all-sage-local as default TARGETS_PRE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/870f9aa9e2018fd16496e28b1208a9969a9e5d01\"><code>870f9aa</code></a></td><td><code>build/pkgs/memory_allocator/install-requires.txt: Fix filename</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61c25a05c81b2204f89d7c5f68a16c5b5b41e517\"><code>61c25a0</code></a></td><td><code>build/pkgs/sage_conf/install-requires.txt: New</code></td></tr></table>\n",
    "created_at": "2021-06-25T04:43:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471309",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:69"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9270417b7c13a3a29753a4b4180de1d30727aef3"><code>9270417</code></a></td><td><code>tox.ini, build/bin/write-dockerfile.sh, tox*.yml: Use all-sage-local as default TARGETS_PRE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/870f9aa9e2018fd16496e28b1208a9969a9e5d01"><code>870f9aa</code></a></td><td><code>build/pkgs/memory_allocator/install-requires.txt: Fix filename</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61c25a05c81b2204f89d7c5f68a16c5b5b41e517"><code>61c25a0</code></a></td><td><code>build/pkgs/sage_conf/install-requires.txt: New</code></td></tr></table>




---

archive/issue_comments_471310.json:
```json
{
    "body": "Changed commit from **[`a1b8832`](https://github.com/sagemath/sagetrac-mirror/commit/a1b8832dc2aea68404314cdfca4abd9c92cae6b7)** to **[`61c25a0`](https://github.com/sagemath/sagetrac-mirror/commit/61c25a05c81b2204f89d7c5f68a16c5b5b41e517)**",
    "created_at": "2021-06-25T04:43:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471310",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a1b8832`](https://github.com/sagemath/sagetrac-mirror/commit/a1b8832dc2aea68404314cdfca4abd9c92cae6b7)** to **[`61c25a0`](https://github.com/sagemath/sagetrac-mirror/commit/61c25a05c81b2204f89d7c5f68a16c5b5b41e517)**



---

archive/issue_events_407730.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-06-29T15:25:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407730"
}
```



---

archive/issue_events_407731.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-06-29T15:25:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407731"
}
```



---

archive/issue_comments_471311.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2021-06-29T15:25:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471311",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_471312.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nok, fine",
    "created_at": "2021-06-29T15:25:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471312",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:70" align="right">comment:70</div>

ok, fine



---

archive/issue_comments_471313.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nThanks!",
    "created_at": "2021-06-29T15:48:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471313",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:71" align="right">comment:71</div>

Thanks!



---

archive/issue_events_407732.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-01T22:07:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407732"
}
```



---

archive/issue_events_407733.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-01T22:07:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407733"
}
```



---

archive/issue_comments_471314.json:
```json
{
    "body": "<div id=\"comment:72\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1\"><code>7f0bd4a</code></a></td><td><code>Merge tag '9.4.beta4' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>\n",
    "created_at": "2021-07-01T22:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471314",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:72"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1"><code>7f0bd4a</code></a></td><td><code>Merge tag '9.4.beta4' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>




---

archive/issue_comments_471315.json:
```json
{
    "body": "Changed commit from **[`61c25a0`](https://github.com/sagemath/sagetrac-mirror/commit/61c25a05c81b2204f89d7c5f68a16c5b5b41e517)** to **[`7f0bd4a`](https://github.com/sagemath/sagetrac-mirror/commit/7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1)**",
    "created_at": "2021-07-01T22:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471315",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`61c25a0`](https://github.com/sagemath/sagetrac-mirror/commit/61c25a05c81b2204f89d7c5f68a16c5b5b41e517)** to **[`7f0bd4a`](https://github.com/sagemath/sagetrac-mirror/commit/7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1)**



---

archive/issue_events_407734.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-01T22:08:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407734"
}
```



---

archive/issue_events_407735.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-01T22:08:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407735"
}
```



---

archive/issue_comments_471316.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\n\n```\n***********************************************\nmake[1]: Entering directory '/home/release/Sage/build/make'\nmake --no-print-directory sagelib-SAGE_VENV-no-deps\ncd '/home/release/Sage/build/pkgs/sagelib' && . '/home/release/Sage/src/bin/sage-src-env-config' && . '/home/release/Sage/src/bin/sage-env-config' && . '/home/release/Sage/src/bin/sage-env' && . '/home/release/Sage/build/bin/sage-build-env-config' && . '/home/release/Sage/build/bin/sage-build-env' && SAGE_SPKG_WHEELS=/home/release/Sage/local/var/lib/sage/wheels SAGE_INST_LOCAL=/home/release/Sage/local sage-logger -p '/home/release/Sage/build/pkgs/sagelib/spkg-install' '/home/release/Sage/logs/pkgs/sagelib-9.4.beta4.log'\n[sagelib-9.4.beta4] Traceback (most recent call last):\n[sagelib-9.4.beta4]   File \"/home/release/Sage/pkgs/sagemath-standard/setup.py\", line 31, in <module>\n[sagelib-9.4.beta4]     from sage_setup.excepthook import excepthook\n[sagelib-9.4.beta4] ModuleNotFoundError: No module named 'sage_setup.excepthook'\n[sagelib-9.4.beta4] \n[sagelib-9.4.beta4] real\t0m0.140s\n[sagelib-9.4.beta4] user\t0m0.121s\n[sagelib-9.4.beta4] sys\t0m0.017s\nmake[2]: *** [Makefile:2693: sagelib-SAGE_VENV-no-deps] Error 1\nmake[1]: *** [Makefile:2693: /home/release/Sage/local/var/lib/sage/installed/sagelib-9.4.beta4] Error 2\nmake[1]: Leaving directory '/home/release/Sage/build/make'\n\nreal\t0m0.257s\nuser\t0m0.222s\nsys\t0m0.037s\n***************************************************************\nError building Sage.\n\n```",
    "created_at": "2021-07-08T21:14:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471316",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:74" align="right">comment:74</div>


```
***********************************************
make[1]: Entering directory '/home/release/Sage/build/make'
make --no-print-directory sagelib-SAGE_VENV-no-deps
cd '/home/release/Sage/build/pkgs/sagelib' && . '/home/release/Sage/src/bin/sage-src-env-config' && . '/home/release/Sage/src/bin/sage-env-config' && . '/home/release/Sage/src/bin/sage-env' && . '/home/release/Sage/build/bin/sage-build-env-config' && . '/home/release/Sage/build/bin/sage-build-env' && SAGE_SPKG_WHEELS=/home/release/Sage/local/var/lib/sage/wheels SAGE_INST_LOCAL=/home/release/Sage/local sage-logger -p '/home/release/Sage/build/pkgs/sagelib/spkg-install' '/home/release/Sage/logs/pkgs/sagelib-9.4.beta4.log'
[sagelib-9.4.beta4] Traceback (most recent call last):
[sagelib-9.4.beta4]   File "/home/release/Sage/pkgs/sagemath-standard/setup.py", line 31, in <module>
[sagelib-9.4.beta4]     from sage_setup.excepthook import excepthook
[sagelib-9.4.beta4] ModuleNotFoundError: No module named 'sage_setup.excepthook'
[sagelib-9.4.beta4] 
[sagelib-9.4.beta4] real	0m0.140s
[sagelib-9.4.beta4] user	0m0.121s
[sagelib-9.4.beta4] sys	0m0.017s
make[2]: *** [Makefile:2693: sagelib-SAGE_VENV-no-deps] Error 1
make[1]: *** [Makefile:2693: /home/release/Sage/local/var/lib/sage/installed/sagelib-9.4.beta4] Error 2
make[1]: Leaving directory '/home/release/Sage/build/make'

real	0m0.257s
user	0m0.222s
sys	0m0.037s
***************************************************************
Error building Sage.

```



---

archive/issue_events_407736.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-08T21:14:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407736"
}
```



---

archive/issue_events_407737.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-08T21:14:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407737"
}
```



---

archive/issue_comments_471317.json:
```json
{
    "body": "Changed commit from **[`7f0bd4a`](https://github.com/sagemath/sagetrac-mirror/commit/7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1)** to **[`35b8b74`](https://github.com/sagemath/sagetrac-mirror/commit/35b8b7448e6062ee5f57c8c02d586924023b6bd7)**",
    "created_at": "2021-07-19T01:25:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471317",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7f0bd4a`](https://github.com/sagemath/sagetrac-mirror/commit/7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1)** to **[`35b8b74`](https://github.com/sagemath/sagetrac-mirror/commit/35b8b7448e6062ee5f57c8c02d586924023b6bd7)**



---

archive/issue_comments_471318.json:
```json
{
    "body": "<div id=\"comment:75\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35b8b7448e6062ee5f57c8c02d586924023b6bd7\"><code>35b8b74</code></a></td><td><code>Merge tag '9.4.beta5' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>\n",
    "created_at": "2021-07-19T01:25:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471318",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:75"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35b8b7448e6062ee5f57c8c02d586924023b6bd7"><code>35b8b74</code></a></td><td><code>Merge tag '9.4.beta5' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>




---

archive/issue_events_407738.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:10:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407738"
}
```



---

archive/issue_events_407739.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:10:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407739"
}
```



---

archive/issue_comments_471319.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nI can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.",
    "created_at": "2021-07-19T02:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471319",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:76" align="right">comment:76</div>

I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.



---

archive/issue_comments_471320.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nI don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings:\n\n```\nm4/sage_spkg_configures.m4:513: warning: The macro `AC_PROG_CC_C99' is obsolete.\nm4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:530: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_RUN' is obsolete.\nm4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_LINK' is obsolete.\nconfigure.ac:447: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l \"$SAGE_SPKG_INST/$SPKG_NAME\"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \\\"$srcdir/configure\\\"])\n```",
    "created_at": "2021-07-21T00:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471320",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:77" align="right">comment:77</div>

I don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings:

```
m4/sage_spkg_configures.m4:513: warning: The macro `AC_PROG_CC_C99' is obsolete.
m4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:530: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_RUN' is obsolete.
m4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_LINK' is obsolete.
configure.ac:447: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l "$SAGE_SPKG_INST/$SPKG_NAME"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \"$srcdir/configure\"])
```



---

archive/issue_comments_471321.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nReplying to [@mkoeppe](#comment%3A76):\n> I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.\n\nIn the meantime, are you waiting for more information from Volker, or should this go back to \"positive review\"?",
    "created_at": "2021-07-21T00:09:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471321",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:78" align="right">comment:78</div>

Replying to [@mkoeppe](#comment%3A76):
> I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.

In the meantime, are you waiting for more information from Volker, or should this go back to "positive review"?



---

archive/issue_comments_471322.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nReplying to [@jhpalmieri](#comment%3A77):\n> I don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings\n\nI think this is #30668",
    "created_at": "2021-07-21T00:13:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471322",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:79" align="right">comment:79</div>

Replying to [@jhpalmieri](#comment%3A77):
> I don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings

I think this is #30668



---

archive/issue_comments_471323.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nReplying to [@jhpalmieri](#comment%3A78):\n> Replying to [@mkoeppe](#comment%3A76):\n> > I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.\n\n> \n> In the meantime, are you waiting for more information from Volker, or should this go back to \"positive review\"?\n\nLet's do \"positive review\". Easier to run it just as part of Volker's integration tests.",
    "created_at": "2021-07-21T00:14:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471323",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:80" align="right">comment:80</div>

Replying to [@jhpalmieri](#comment%3A78):
> Replying to [@mkoeppe](#comment%3A76):
> > I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.

> 
> In the meantime, are you waiting for more information from Volker, or should this go back to "positive review"?

Let's do "positive review". Easier to run it just as part of Volker's integration tests.



---

archive/issue_events_407740.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-07-21T13:15:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407740"
}
```



---

archive/issue_events_407741.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-07-21T13:15:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407741"
}
```



---

archive/issue_comments_471324.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nMerge conflict",
    "created_at": "2021-07-23T22:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471324",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:82" align="right">comment:82</div>

Merge conflict



---

archive/issue_events_407742.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-23T22:05:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407742"
}
```



---

archive/issue_events_407743.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-23T22:05:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407743"
}
```



---

archive/issue_comments_471325.json:
```json
{
    "body": "<div id=\"comment:83\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8feca2a0caa775a09ced12476e577b859c83403f\"><code>8feca2a</code></a></td><td><code>Merge tag '9.4.beta5' into t/32073/deprecate_sage_libs_readline</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed1484874b03f2b6f2e1897537401db48e078232\"><code>ed14848</code></a></td><td><code>Remove readline lib file from the documentation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/773ef2997447870a69a01f5a9e0a652be96b4d32\"><code>773ef29</code></a></td><td><code>Merge #32073</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28d66228e635786a9f3c0ef75ac1aa894bb7f39f\"><code>28d6622</code></a></td><td><code>build/bin/sage-spkg: Remove dead code for old-style spkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b435d972a72feada67f65a8c96796952a91ac90\"><code>3b435d9</code></a></td><td><code>build/bin/sage-dist-helpers (sdh_store_and_pip_install_wheel): Record name of installed distribution name</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/34bd4459deb61a8430733a3b88a96fd0dbede243\"><code>34bd445</code></a></td><td><code>sdh_pip_uninstall (sdh_pip_uninstall): New helper functtion; use same flags in 'make SPKG-clean' for pip packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49af8aa45b40ae471e4748a7f343f8050df6383e\"><code>49af8aa</code></a></td><td><code>build/bin/sage-spkg, build/sage_bootstrap/uninstall.py: Prepare/install/use the spkg-piprm script</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ecd49fb5900e8cc8139efc3c50b6f8aed14c16df\"><code>ecd49fb</code></a></td><td><code>build/bin/sage-dist-helpers, src/doc/en/developer/packaging.rst: Document sdh_pip_uninstall</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3eeb69f78412ed0d8ad4c7aebdb834b512aad3c\"><code>c3eeb69</code></a></td><td><code>build/bin/sage-spkg: Fix typo in comment, unindent a block</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0\"><code>9aa1f10</code></a></td><td><code>Merge #29585</code></td></tr></table>\n",
    "created_at": "2021-07-24T01:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471325",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:83"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8feca2a0caa775a09ced12476e577b859c83403f"><code>8feca2a</code></a></td><td><code>Merge tag '9.4.beta5' into t/32073/deprecate_sage_libs_readline</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed1484874b03f2b6f2e1897537401db48e078232"><code>ed14848</code></a></td><td><code>Remove readline lib file from the documentation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/773ef2997447870a69a01f5a9e0a652be96b4d32"><code>773ef29</code></a></td><td><code>Merge #32073</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28d66228e635786a9f3c0ef75ac1aa894bb7f39f"><code>28d6622</code></a></td><td><code>build/bin/sage-spkg: Remove dead code for old-style spkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b435d972a72feada67f65a8c96796952a91ac90"><code>3b435d9</code></a></td><td><code>build/bin/sage-dist-helpers (sdh_store_and_pip_install_wheel): Record name of installed distribution name</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/34bd4459deb61a8430733a3b88a96fd0dbede243"><code>34bd445</code></a></td><td><code>sdh_pip_uninstall (sdh_pip_uninstall): New helper functtion; use same flags in 'make SPKG-clean' for pip packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49af8aa45b40ae471e4748a7f343f8050df6383e"><code>49af8aa</code></a></td><td><code>build/bin/sage-spkg, build/sage_bootstrap/uninstall.py: Prepare/install/use the spkg-piprm script</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ecd49fb5900e8cc8139efc3c50b6f8aed14c16df"><code>ecd49fb</code></a></td><td><code>build/bin/sage-dist-helpers, src/doc/en/developer/packaging.rst: Document sdh_pip_uninstall</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3eeb69f78412ed0d8ad4c7aebdb834b512aad3c"><code>c3eeb69</code></a></td><td><code>build/bin/sage-spkg: Fix typo in comment, unindent a block</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0"><code>9aa1f10</code></a></td><td><code>Merge #29585</code></td></tr></table>




---

archive/issue_comments_471326.json:
```json
{
    "body": "Changed commit from **[`35b8b74`](https://github.com/sagemath/sagetrac-mirror/commit/35b8b7448e6062ee5f57c8c02d586924023b6bd7)** to **[`9aa1f10`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0)**",
    "created_at": "2021-07-24T01:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471326",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`35b8b74`](https://github.com/sagemath/sagetrac-mirror/commit/35b8b7448e6062ee5f57c8c02d586924023b6bd7)** to **[`9aa1f10`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0)**



---

archive/issue_comments_471327.json:
```json
{
    "body": "Changed dependencies from **#31577** to **#31577, #29585, #32073**",
    "created_at": "2021-07-24T01:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471327",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31577** to **#31577, #29585, #32073**



---

archive/issue_events_407744.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T01:40:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407744"
}
```



---

archive/issue_events_407745.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T01:40:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407745"
}
```



---

archive/issue_comments_471328.json:
```json
{
    "body": "Changed dependencies from **#31577, #29585, #32073** to **#31577, #29585, #32073, #32046**",
    "created_at": "2021-07-24T19:11:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471328",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31577, #29585, #32073** to **#31577, #29585, #32073, #32046**



---

archive/issue_comments_471329.json:
```json
{
    "body": "Changed commit from **[`9aa1f10`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0)** to **[`6b1b222`](https://github.com/sagemath/sagetrac-mirror/commit/6b1b222e05281413854602e2bec2e8d6ad680513)**",
    "created_at": "2021-07-24T19:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471329",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9aa1f10`](https://github.com/sagemath/sagetrac-mirror/commit/9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0)** to **[`6b1b222`](https://github.com/sagemath/sagetrac-mirror/commit/6b1b222e05281413854602e2bec2e8d6ad680513)**



---

archive/issue_events_407746.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-24T19:22:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407746"
}
```



---

archive/issue_events_407747.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-24T19:22:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407747"
}
```



---

archive/issue_comments_471330.json:
```json
{
    "body": "<div id=\"comment:86\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c5ee65a8872549cdfcce321bbee8bef81b57ccb\"><code>8c5ee65</code></a></td><td><code>build/pkgs/pip/install-requires.txt: Update lower bound</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed5f9f0c9219a86a85cd46df588414c920b063b9\"><code>ed5f9f0</code></a></td><td><code>Merge tag '9.4.beta6' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b1b222e05281413854602e2bec2e8d6ad680513\"><code>6b1b222</code></a></td><td><code>Merge #32046</code></td></tr></table>\n",
    "created_at": "2021-07-24T19:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471330",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:86"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c5ee65a8872549cdfcce321bbee8bef81b57ccb"><code>8c5ee65</code></a></td><td><code>build/pkgs/pip/install-requires.txt: Update lower bound</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed5f9f0c9219a86a85cd46df588414c920b063b9"><code>ed5f9f0</code></a></td><td><code>Merge tag '9.4.beta6' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b1b222e05281413854602e2bec2e8d6ad680513"><code>6b1b222</code></a></td><td><code>Merge #32046</code></td></tr></table>




---

archive/issue_comments_471331.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nThe branch already contained a part of #32046 but the dependency was not recorded. Fully merged the latest version of #32046. I think we can defer this ticket to 9.5",
    "created_at": "2021-07-24T19:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471331",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:87" align="right">comment:87</div>

The branch already contained a part of #32046 but the dependency was not recorded. Fully merged the latest version of #32046. I think we can defer this ticket to 9.5



---

archive/issue_events_407748.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:23:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407748"
}
```



---

archive/issue_events_407749.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:23:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407749"
}
```



---

archive/issue_comments_471332.json:
```json
{
    "body": "Changed commit from **[`6b1b222`](https://github.com/sagemath/sagetrac-mirror/commit/6b1b222e05281413854602e2bec2e8d6ad680513)** to **[`a41b507`](https://github.com/sagemath/sagetrac-mirror/commit/a41b507abb68a451e0d2f369749bcc5a3352ccf0)**",
    "created_at": "2021-08-12T21:14:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471332",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6b1b222`](https://github.com/sagemath/sagetrac-mirror/commit/6b1b222e05281413854602e2bec2e8d6ad680513)** to **[`a41b507`](https://github.com/sagemath/sagetrac-mirror/commit/a41b507abb68a451e0d2f369749bcc5a3352ccf0)**



---

archive/issue_comments_471333.json:
```json
{
    "body": "<div id=\"comment:88\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85d1d2716188e67b85b48838c52d8f919f7244ef\"><code>85d1d27</code></a></td><td><code>Merge tag '9.4.rc1' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/050f8df9a056a966e4fed9371ddb6244d0cb18f2\"><code>050f8df</code></a></td><td><code>build/pkgs/numpy/spkg-install.in: Use sdh_pip_install, sdh_prefix_args</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a41b507abb68a451e0d2f369749bcc5a3352ccf0\"><code>a41b507</code></a></td><td><code>Merge branch 't/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>\n",
    "created_at": "2021-08-12T21:14:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471333",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:88"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85d1d2716188e67b85b48838c52d8f919f7244ef"><code>85d1d27</code></a></td><td><code>Merge tag '9.4.rc1' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/050f8df9a056a966e4fed9371ddb6244d0cb18f2"><code>050f8df</code></a></td><td><code>build/pkgs/numpy/spkg-install.in: Use sdh_pip_install, sdh_prefix_args</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a41b507abb68a451e0d2f369749bcc5a3352ccf0"><code>a41b507</code></a></td><td><code>Merge branch 't/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr></table>




---

archive/issue_comments_471334.json:
```json
{
    "body": "Changed dependencies from **#31577, #29585, #32073, #32046** to **#32046**",
    "created_at": "2021-08-12T21:14:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471334",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#31577, #29585, #32073, #32046** to **#32046**



---

archive/issue_comments_471335.json:
```json
{
    "body": "Changed commit from **[`a41b507`](https://github.com/sagemath/sagetrac-mirror/commit/a41b507abb68a451e0d2f369749bcc5a3352ccf0)** to **[`478ffcd`](https://github.com/sagemath/sagetrac-mirror/commit/478ffcddb5a0b663f7bc1fd98d2b4ac632d79988)**",
    "created_at": "2021-08-12T22:19:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471335",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a41b507`](https://github.com/sagemath/sagetrac-mirror/commit/a41b507abb68a451e0d2f369749bcc5a3352ccf0)** to **[`478ffcd`](https://github.com/sagemath/sagetrac-mirror/commit/478ffcddb5a0b663f7bc1fd98d2b4ac632d79988)**



---

archive/issue_comments_471336.json:
```json
{
    "body": "<div id=\"comment:90\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/290fa2ff50ca053d726bb0a1a8e0470a66040c26\"><code>290fa2f</code></a></td><td><code>build/pkgs/sagelib/src: Restore lost symlink</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/478ffcddb5a0b663f7bc1fd98d2b4ac632d79988\"><code>478ffcd</code></a></td><td><code>Merge #32046</code></td></tr></table>\n",
    "created_at": "2021-08-12T22:19:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471336",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:90"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/290fa2ff50ca053d726bb0a1a8e0470a66040c26"><code>290fa2f</code></a></td><td><code>build/pkgs/sagelib/src: Restore lost symlink</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/478ffcddb5a0b663f7bc1fd98d2b4ac632d79988"><code>478ffcd</code></a></td><td><code>Merge #32046</code></td></tr></table>




---

archive/issue_comments_471337.json:
```json
{
    "body": "Changed commit from **[`478ffcd`](https://github.com/sagemath/sagetrac-mirror/commit/478ffcddb5a0b663f7bc1fd98d2b4ac632d79988)** to **[`b2368c6`](https://github.com/sagemath/sagetrac-mirror/commit/b2368c62fc1fbc08fc0f06191d3671fb33133a8b)**",
    "created_at": "2021-08-13T00:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471337",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`478ffcd`](https://github.com/sagemath/sagetrac-mirror/commit/478ffcddb5a0b663f7bc1fd98d2b4ac632d79988)** to **[`b2368c6`](https://github.com/sagemath/sagetrac-mirror/commit/b2368c62fc1fbc08fc0f06191d3671fb33133a8b)**



---

archive/issue_comments_471338.json:
```json
{
    "body": "<div id=\"comment:91\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2368c62fc1fbc08fc0f06191d3671fb33133a8b\"><code>b2368c6</code></a></td><td><code>pkgs/sage-setup/setup.cfg: Add pkgconfig as install_requires</code></td></tr></table>\n",
    "created_at": "2021-08-13T00:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471338",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:91"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2368c62fc1fbc08fc0f06191d3671fb33133a8b"><code>b2368c6</code></a></td><td><code>pkgs/sage-setup/setup.cfg: Add pkgconfig as install_requires</code></td></tr></table>




---

archive/issue_comments_471339.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">comment:92</div>\n\nI'm getting a lot of doctest failures:\n\n```\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/utils.py  # 15 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/find.py  # 38 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rdf.py  # 11 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/optional_extension.py  # 12 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/__init__.py  # 5 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/generator.py  # 70 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/clean.py  # 13 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/storage.py  # 97 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/memory.py  # 57 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cdf.py  # 9 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cc.py  # 20 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/python.py  # 25 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/instructions.py  # 39 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rr.py  # 21 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/base.py  # 22 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/element.py  # 11 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/util.py  # 6 doctests failed\n```\nThe directory `local/lib/python3.9/site-packages/sage_setup` doesn't have much in it anymore, and I'm guessing that this causes the problems.",
    "created_at": "2021-08-16T23:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471339",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:92" align="right">comment:92</div>

I'm getting a lot of doctest failures:

```
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/utils.py  # 15 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/find.py  # 38 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rdf.py  # 11 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/optional_extension.py  # 12 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/__init__.py  # 5 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/generator.py  # 70 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/clean.py  # 13 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/storage.py  # 97 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/memory.py  # 57 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cdf.py  # 9 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cc.py  # 20 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/python.py  # 25 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/instructions.py  # 39 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rr.py  # 21 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/base.py  # 22 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/element.py  # 11 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/util.py  # 6 doctests failed
```
The directory `local/lib/python3.9/site-packages/sage_setup` doesn't have much in it anymore, and I'm guessing that this causes the problems.



---

archive/issue_events_407750.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-03T22:34:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407750"
}
```



---

archive/issue_events_407751.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-03T22:34:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407751"
}
```



---

archive/issue_comments_471340.json:
```json
{
    "body": "Changed commit from **[`b2368c6`](https://github.com/sagemath/sagetrac-mirror/commit/b2368c62fc1fbc08fc0f06191d3671fb33133a8b)** to **[`f84730e`](https://github.com/sagemath/sagetrac-mirror/commit/f84730e30ff7ac94f5f5990eb5a28744ac2932b3)**",
    "created_at": "2021-09-03T23:26:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471340",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b2368c6`](https://github.com/sagemath/sagetrac-mirror/commit/b2368c62fc1fbc08fc0f06191d3671fb33133a8b)** to **[`f84730e`](https://github.com/sagemath/sagetrac-mirror/commit/f84730e30ff7ac94f5f5990eb5a28744ac2932b3)**



---

archive/issue_comments_471341.json:
```json
{
    "body": "<div id=\"comment:94\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db8e30dc58e6d2a8c50e74e162c06058d0417476\"><code>db8e30d</code></a></td><td><code>Merge tag '9.5.beta0' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37f9b0cd029197be46dba136cc913ad1402ee53f\"><code>37f9b0c</code></a></td><td><code>build/make/Makefile.in: For script packages, make sure that 'sage -f' uninstalls first</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/456d8a99054b1cb6b31a7575878be62dfc83f87b\"><code>456d8a9</code></a></td><td><code>build/make/Makefile.in (sage_setup-clean): Clean the build tree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f84730e30ff7ac94f5f5990eb5a28744ac2932b3\"><code>f84730e</code></a></td><td><code>sage_setup.clean: Do not clean the sage_setup installation in site-packages</code></td></tr></table>\n",
    "created_at": "2021-09-03T23:26:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471341",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:94"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db8e30dc58e6d2a8c50e74e162c06058d0417476"><code>db8e30d</code></a></td><td><code>Merge tag '9.5.beta0' into t/29847/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37f9b0cd029197be46dba136cc913ad1402ee53f"><code>37f9b0c</code></a></td><td><code>build/make/Makefile.in: For script packages, make sure that 'sage -f' uninstalls first</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/456d8a99054b1cb6b31a7575878be62dfc83f87b"><code>456d8a9</code></a></td><td><code>build/make/Makefile.in (sage_setup-clean): Clean the build tree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f84730e30ff7ac94f5f5990eb5a28744ac2932b3"><code>f84730e</code></a></td><td><code>sage_setup.clean: Do not clean the sage_setup installation in site-packages</code></td></tr></table>




---

archive/issue_events_407752.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-03T23:27:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407752"
}
```



---

archive/issue_events_407753.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-03T23:27:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407753"
}
```



---

archive/issue_comments_471342.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nThanks for catching this. When `configure --enable-editable` is not used, the \"cleaner\" erased `sage_setup`'s files at the end of the sagelib installation. Fixed now, tamed the cleaner.",
    "created_at": "2021-09-03T23:27:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471342",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:95" align="right">comment:95</div>

Thanks for catching this. When `configure --enable-editable` is not used, the "cleaner" erased `sage_setup`'s files at the end of the sagelib installation. Fixed now, tamed the cleaner.



---

archive/issue_comments_471343.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nseems to work for me (without `--enable-editable`).",
    "created_at": "2021-09-07T17:46:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471343",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:96" align="right">comment:96</div>

seems to work for me (without `--enable-editable`).



---

archive/issue_events_407754.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-09-07T17:46:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407754"
}
```



---

archive/issue_events_407755.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-09-07T17:46:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407755"
}
```



---

archive/issue_comments_471344.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">comment:97</div>\n\nThank you!",
    "created_at": "2021-09-07T18:18:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471344",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:97" align="right">comment:97</div>

Thank you!



---

archive/issue_comments_471345.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup)** to **[`f84730e`](https://github.com/sagemath/sagetrac-mirror/commit/f84730e30ff7ac94f5f5990eb5a28744ac2932b3)**",
    "created_at": "2021-09-13T22:22:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29847#issuecomment-471345",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup)** to **[`f84730e`](https://github.com/sagemath/sagetrac-mirror/commit/f84730e30ff7ac94f5f5990eb5a28744ac2932b3)**



---

archive/issue_events_407756.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-09-13T22:22:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407756"
}
```



---

archive/issue_events_407757.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "859ce9da339f711eecbb8f326e25766750808b0a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-09-13T22:22:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29847",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29847#event-407757"
}
```
