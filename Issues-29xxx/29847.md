# Issue 29847: Install sage_setup with setuptools as a prerequisite for building/installing sagelib

archive/issues_029610.json:
```json
{
    "body": "sage_setup will be used by the build system of various distribution packages (#29705).\n\nSo we make it a regular distribution package itself, with sources in `pkgs/sage-setup/` (#31577) and install it with `pip`.\n\nThe actual Python source files are not moved because `sage_setup` takes part in Sage doctesting (see #31577).\n\n`sagelib`'s `setup.py` will no longer install `sage_setup`.\n\n`sage-setup` will become a `build-system requires` of `sagemath-standard` (declared in `pyproject.toml`)\n\nFollow-up: \n- #29924: Do not fail if `sage.env`, `sage.*` are not available\n\n\n---\nReferences:\n\npython - pip ignores dependency_links in setup.py - Stack Overflow\nhttps://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py\n\ndependency_links flag ignored when package exists on PyPI \u00b7 Issue #987 \u00b7 pypa/setuptools\nhttps://github.com/pypa/setuptools/issues/987\n\nSuggest alternatives for --process-dependency-links \u00b7 Issue #6162 \u00b7 pypa/pip\nhttps://github.com/pypa/pip/issues/6162\n\nPEP 508 -- Dependency specification for Python Software Packages | Python.org\nhttps://www.python.org/dev/peps/pep-0508/#pep440\n\nPEP 440 -- Version Identification and Dependency Specification | Python.org\nhttps://www.python.org/dev/peps/pep-0440/#local-version-segments\n\n\n\nCC:  @kiwifb @jhpalmieri @dimpase\n\nKeywords: sd111\n\nBranch/Commit: f84730e30ff7ac94f5f5990eb5a28744ac2932b3\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nDependencies: #32046\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29847\n\n",
    "closed_at": "2021-09-13T22:22:32Z",
    "created_at": "2020-06-11T02:46:32Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Install sage_setup with setuptools as a prerequisite for building/installing sagelib",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29847",
    "user": "https://github.com/mkoeppe"
}
```
sage_setup will be used by the build system of various distribution packages (#29705).

So we make it a regular distribution package itself, with sources in `pkgs/sage-setup/` (#31577) and install it with `pip`.

The actual Python source files are not moved because `sage_setup` takes part in Sage doctesting (see #31577).

`sagelib`'s `setup.py` will no longer install `sage_setup`.

`sage-setup` will become a `build-system requires` of `sagemath-standard` (declared in `pyproject.toml`)

Follow-up: 
- #29924: Do not fail if `sage.env`, `sage.*` are not available


---
References:

python - pip ignores dependency_links in setup.py - Stack Overflow
https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py

dependency_links flag ignored when package exists on PyPI 路 Issue #987 路 pypa/setuptools
https://github.com/pypa/setuptools/issues/987

Suggest alternatives for --process-dependency-links 路 Issue #6162 路 pypa/pip
https://github.com/pypa/pip/issues/6162

PEP 508 -- Dependency specification for Python Software Packages | Python.org
https://www.python.org/dev/peps/pep-0508/#pep440

PEP 440 -- Version Identification and Dependency Specification | Python.org
https://www.python.org/dev/peps/pep-0440/#local-version-segments



CC:  @kiwifb @jhpalmieri @dimpase

Keywords: sd111

Branch/Commit: f84730e30ff7ac94f5f5990eb5a28744ac2932b3

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Dependencies: #32046

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29847





---

archive/issue_comments_585363.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,9 @@\n sage_setup will be used by the build system of various distutils packages (#29705).\n \n So we make it a regular distutils package itself and install it with pip.\n+\n+We remove the dependencies on `sage.*` that are still in `sage_setup`. \n+\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-06-11T02:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585363",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,9 @@
 sage_setup will be used by the build system of various distutils packages (#29705).
 
 So we make it a regular distutils package itself and install it with pip.
+
+We remove the dependencies on `sage.*` that are still in `sage_setup`. 
+
 
 Comment: 1
 
``````




---

archive/issue_comments_585364.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#29702\"",
    "created_at": "2020-06-11T02:59:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585364",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#29702"



---

archive/issue_comments_585365.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,21 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with pip.\n+\n+We remove the dependencies on `sage.*` that are still in `sage_setup`. \n+\n+```\n+./docbuild/ ........\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+./fpickle_setup.py:11:# into sage.misc.fpickle, and then here. It was needed due to\n+./fpickle_setup.py:12:# chicken vs egg issue, as we cannot use sage.misc.fpickle in\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+```\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-11T03:17:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585365",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,21 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with pip.
+
+We remove the dependencies on `sage.*` that are still in `sage_setup`. 
+
+```
+./docbuild/ ........
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+./fpickle_setup.py:11:# into sage.misc.fpickle, and then here. It was needed due to
+./fpickle_setup.py:12:# chicken vs egg issue, as we cannot use sage.misc.fpickle in
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+```
+
 
 
 Comment: 1
``````




---

archive/issue_comments_585366.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,19 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with pip.\n+\n+We remove the dependencies on `sage.*` that are still in `sage_setup`. \n+\n+```\n+./docbuild/ ........\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+```\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-11T03:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585366",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,19 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with pip.
+
+We remove the dependencies on `sage.*` that are still in `sage_setup`. 
+
+```
+./docbuild/ ........
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+```
+
 
 
 Comment: 1
``````




---

archive/issue_comments_585367.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,21 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with pip.\n+\n+We remove the dependencies on `sage.*` that are still in `sage_setup`. \n+\n+```\n+./docbuild/ ........\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+```\n+\n+To be determined:\n+- When and by what distribution should `sage.env` be installed?\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-11T06:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585367",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,21 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with pip.
+
+We remove the dependencies on `sage.*` that are still in `sage_setup`. 
+
+```
+./docbuild/ ........
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+```
+
+To be determined:
+- When and by what distribution should `sage.env` be installed?
 
 
 Comment: 1
``````




---

archive/issue_comments_585368.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,30 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with pip.\n+\n+We remove some dependencies on `sage.*` that are still in `sage_setup`. \n+\n+```\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+```\n+\n+Harmless dependencies on `sage.*`:\n+\n+```\n+./docbuild/ ........\n+  (will be invoked later, when sage.* is installed)\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+  (no longer used, only kept around in case user packages use it)\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (only used when invoked interactively)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n+```\n+\n+To be determined:\n+- When and by what distribution should `sage.env` be installed?\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-12T20:16:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585368",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,30 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with pip.
+
+We remove some dependencies on `sage.*` that are still in `sage_setup`. 
+
+```
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+```
+
+Harmless dependencies on `sage.*`:
+
+```
+./docbuild/ ........
+  (will be invoked later, when sage.* is installed)
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+  (no longer used, only kept around in case user packages use it)
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (only used when invoked interactively)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
+```
+
+To be determined:
+- When and by what distribution should `sage.env` be installed?
 
 
 Comment: 1
``````




---

archive/issue_comments_585369.json:
```json
{
    "body": "Changing dependencies from \"#29702\" to \"#29702, #29706, #29785\"",
    "created_at": "2020-06-12T20:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585369",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29702" to "#29702, #29706, #29785"



---

archive/issue_comments_585370.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,31 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with pip.\n+\n+We remove some dependencies on `sage.*` that are still in `sage_setup`: \n+\n+```\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+```\n+... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n+\n+Harmless dependencies on `sage.*`:\n+\n+```\n+./docbuild/ ........\n+  (will be invoked later, when sage.* is installed)\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+  (no longer used, only kept around in case user packages use it)\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (only used when invoked interactively)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n+```\n+\n+To be determined:\n+- When and by what distribution should `sage.env` be installed?\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-12T20:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585370",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,31 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with pip.
+
+We remove some dependencies on `sage.*` that are still in `sage_setup`: 
+
+```
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+```
+... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
+
+Harmless dependencies on `sage.*`:
+
+```
+./docbuild/ ........
+  (will be invoked later, when sage.* is installed)
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+  (no longer used, only kept around in case user packages use it)
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (only used when invoked interactively)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
+```
+
+To be determined:
+- When and by what distribution should `sage.env` be installed?
 
 
 Comment: 1
``````




---

archive/issue_comments_585371.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,33 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with pip.\n+\n+We remove some dependencies on `sage.*` that are still in `sage_setup`: \n+\n+```\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+```\n+... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n+\n+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).\n+\n+Harmless dependencies on `sage.*`:\n+\n+```\n+./docbuild/ ........\n+  (will be invoked later, when sage.* is installed)\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+  (no longer used, only kept around in case user packages use it)\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (only used when invoked interactively)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n+```\n+\n+To be determined:\n+- When and by what distribution should `sage.env` be installed?\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-12T22:38:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585371",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,33 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with pip.
+
+We remove some dependencies on `sage.*` that are still in `sage_setup`: 
+
+```
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+```
+... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
+
+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).
+
+Harmless dependencies on `sage.*`:
+
+```
+./docbuild/ ........
+  (will be invoked later, when sage.* is installed)
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+  (no longer used, only kept around in case user packages use it)
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (only used when invoked interactively)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
+```
+
+To be determined:
+- When and by what distribution should `sage.env` be installed?
 
 
 Comment: 1
``````




---

archive/issue_comments_585372.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,31 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with pip.\n+\n+We remove some dependencies on `sage.*` that are still in `sage_setup`: \n+\n+```\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+```\n+... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n+\n+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).\n+\n+Harmless dependencies on `sage.*`:\n+\n+```\n+./docbuild/ ........\n+  (will be invoked later, when sage.* is installed)\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+  (no longer used, only kept around in case user packages use it)\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (only used when invoked interactively)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n+```\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-12T22:40:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585372",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,31 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with pip.
+
+We remove some dependencies on `sage.*` that are still in `sage_setup`: 
+
+```
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+```
+... by moving functions these functions to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
+
+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).
+
+Harmless dependencies on `sage.*`:
+
+```
+./docbuild/ ........
+  (will be invoked later, when sage.* is installed)
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+  (no longer used, only kept around in case user packages use it)
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (only used when invoked interactively)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
+```
+
 
 
 Comment: 1
``````




---

archive/issue_comments_585373.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,31 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with pip.\n+\n+We remove some dependencies on `sage.*` that are still in `sage_setup`: \n+\n+```\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+```\n+... by moving the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n+\n+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).\n+\n+Harmless dependencies on `sage.*`:\n+\n+```\n+./docbuild/ ........\n+  (will be invoked later, when sage.* is installed)\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+  (no longer used, only kept around in case user packages use it)\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (only used when invoked interactively)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n+```\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-12T23:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585373",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,31 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with pip.
+
+We remove some dependencies on `sage.*` that are still in `sage_setup`: 
+
+```
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+```
+... by moving the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
+
+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (as noted in #29711).
+
+Harmless dependencies on `sage.*`:
+
+```
+./docbuild/ ........
+  (will be invoked later, when sage.* is installed)
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+  (no longer used, only kept around in case user packages use it)
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (only used when invoked interactively)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
+```
+
 
 
 Comment: 1
``````




---

archive/issue_comments_585374.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup\"",
    "created_at": "2020-06-13T05:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585374",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup"



---

archive/issue_comments_585375.json:
```json
{
    "body": "Changing dependencies from \"#29702, #29706, #29785\" to \"#29702, #29706, #29785, #29855\"",
    "created_at": "2020-06-14T05:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585375",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29702, #29706, #29785" to "#29702, #29706, #29785, #29855"



---

archive/issue_comments_585376.json:
```json
{
    "body": "Changing commit from \"\" to \"4ce81bf162906ba72c5fc8ca7c349dedf33cd033\"",
    "created_at": "2020-06-14T05:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585376",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "4ce81bf162906ba72c5fc8ca7c349dedf33cd033"



---

archive/issue_comments_585377.json:
```json
{
    "body": "<a id='comment:13'></a>Last 10 new commits:",
    "created_at": "2020-06-14T05:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585377",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>Last 10 new commits:



---

archive/issue_comments_585378.json:
```json
{
    "body": "Changing commit from \"4ce81bf162906ba72c5fc8ca7c349dedf33cd033\" to \"4a9dd3ad8c103784403e8ecce172427b2f5c0eff\"",
    "created_at": "2020-06-14T05:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585378",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4ce81bf162906ba72c5fc8ca7c349dedf33cd033" to "4a9dd3ad8c103784403e8ecce172427b2f5c0eff"



---

archive/issue_comments_585379.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-06-14T05:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585379",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_585380.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,31 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with pip.\n+\n+We remove some dependencies on `sage.*` that are still in `sage_setup`: \n+\n+```\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+```\n+... by moving the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n+\n+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).\n+\n+Harmless dependencies on `sage.*`:\n+\n+```\n+./docbuild/ ........\n+  (will be invoked later, when sage.* is installed)\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+  (no longer used, only kept around in case user packages use it)\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (only used when invoked interactively)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n+```\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-14T05:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585380",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,31 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with pip.
+
+We remove some dependencies on `sage.*` that are still in `sage_setup`: 
+
+```
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+```
+... by moving the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
+
+... and remove the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).
+
+Harmless dependencies on `sage.*`:
+
+```
+./docbuild/ ........
+  (will be invoked later, when sage.* is installed)
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+  (no longer used, only kept around in case user packages use it)
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (only used when invoked interactively)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
+```
+
 
 
 Comment: 1
``````




---

archive/issue_events_076442.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T14:12:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29847#event-76442"
}
```



---

archive/issue_comments_585381.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,33 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with pip.\n+\n+We remove some dependencies on `sage.*` that are still in `sage_setup`: \n+\n+```\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+```\n+... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env\n+\n+... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).\n+\n+Harmless dependencies on `sage.*`:\n+\n+```\n+./docbuild/ ........\n+  (will be invoked later, when sage.* is installed)\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+  (no longer used, only kept around in case user packages use it)\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (only used when invoked interactively)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n+```\n+\n+Follow-up:\n+- #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-15T23:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585381",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,33 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with pip.
+
+We remove some dependencies on `sage.*` that are still in `sage_setup`: 
+
+```
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+```
+... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env
+
+... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).
+
+Harmless dependencies on `sage.*`:
+
+```
+./docbuild/ ........
+  (will be invoked later, when sage.* is installed)
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+  (no longer used, only kept around in case user packages use it)
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (only used when invoked interactively)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
+```
+
+Follow-up:
+- #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
 
 
 Comment: 1
``````




---

archive/issue_events_076443.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-21T00:14:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29847#event-76443"
}
```



---

archive/issue_events_076444.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-21T00:14:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29847#event-76444"
}
```



---

archive/issue_comments_585382.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,36 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with `setup.py install`.\n+\n+We install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n+\n+\n+We remove some dependencies on `sage.*` that are still in `sage_setup`: \n+\n+```\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+```\n+... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env\n+\n+... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).\n+\n+Harmless dependencies on `sage.*`:\n+\n+```\n+./docbuild/ ........\n+  (will be invoked later, when sage.* is installed)\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+  (no longer used, only kept around in case user packages use it)\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (only used when invoked interactively)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n+```\n+\n+Follow-up:\n+- ???? #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-21T00:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585382",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,36 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with `setup.py install`.
+
+We install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
+
+
+We remove some dependencies on `sage.*` that are still in `sage_setup`: 
+
+```
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+```
+... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env
+
+... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).
+
+Harmless dependencies on `sage.*`:
+
+```
+./docbuild/ ........
+  (will be invoked later, when sage.* is installed)
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+  (no longer used, only kept around in case user packages use it)
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (only used when invoked interactively)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
+```
+
+Follow-up:
+- ???? #29871: move the functions `sage_include_directories`, `cython_aliases` to `sage_setup` (and leave a perhaps deprecated reimport behind). Should be done after #29706, #29785, which touch these functions.
 
 
 Comment: 1
``````




---

archive/issue_comments_585383.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,34 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with `setup.py install`.\n+\n+We install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n+\n+\n+We remove some dependencies on `sage.*` that are still in `sage_setup`: \n+\n+```\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+```\n+... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env\n+\n+... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).\n+\n+Harmless dependencies on `sage.*`:\n+\n+```\n+./docbuild/ ........\n+  (will be invoked later, when sage.* is installed)\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+  (no longer used, only kept around in case user packages use it)\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (only used when invoked interactively)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n+```\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-21T01:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585383",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,34 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with `setup.py install`.
+
+We install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
+
+
+We remove some dependencies on `sage.*` that are still in `sage_setup`: 
+
+```
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+```
+... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env
+
+... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).
+
+Harmless dependencies on `sage.*`:
+
+```
+./docbuild/ ........
+  (will be invoked later, when sage.* is installed)
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+  (no longer used, only kept around in case user packages use it)
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (only used when invoked interactively)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
+```
+
 
 
 Comment: 1
``````




---

archive/issue_comments_585384.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,34 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with `setup.py install`.\n+\n+We also install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n+\n+\n+We remove some dependencies on `sage.*` that are still in `sage_setup`: \n+\n+```\n+./library_order.py:77:from sage.env import cython_aliases\n+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)\n+```\n+... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env\n+\n+... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).\n+\n+Harmless dependencies on `sage.*`:\n+\n+```\n+./docbuild/ ........\n+  (will be invoked later, when sage.* is installed)\n+./optional_extension.py:22:from sage.misc.package import list_packages\n+./optional_extension.py:44:    from sage.misc.package import is_package_installed\n+  (no longer used, only kept around in case user packages use it)\n+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC\n+  (only used when invoked interactively)\n+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec\n+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)\n+```\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-21T01:14:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585384",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,34 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with `setup.py install`.
+
+We also install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
+
+
+We remove some dependencies on `sage.*` that are still in `sage_setup`: 
+
+```
+./library_order.py:77:from sage.env import cython_aliases
+./command/sage_build_cython.py:21:from sage.env import (SAGE_INC, cython_aliases, sage_include_directories)
+```
+... by handling the case that the functions `sage_include_directories`, `cython_aliases` cannot be imported from sage.env
+
+... and removing the use of `SAGE_INC` by using instead the environment variables set in `sage-build-env-config` (this is #29855; see also #29711).
+
+Harmless dependencies on `sage.*`:
+
+```
+./docbuild/ ........
+  (will be invoked later, when sage.* is installed)
+./optional_extension.py:22:from sage.misc.package import list_packages
+./optional_extension.py:44:    from sage.misc.package import is_package_installed
+  (no longer used, only kept around in case user packages use it)
+./autogen/interpreters/__main__.py:4:from sage.env import SAGE_SRC
+  (only used when invoked interactively)
+./command/sage_install.py:28:        from sage.repl.ipython_kernel.install import SageKernelSpec
+  (just need to make sure that `sage_setup.command.sage_install` is only used by the distribution that installs `sage.repl.ipython_kernel`)
+```
+
 
 
 Comment: 1
``````




---

archive/issue_comments_585385.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,11 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n \n+So we make it a regular distutils package itself and install it with `setup.py install`.\n+\n+We also install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n+\n+\n+Follow-up: #29924\n \n Comment: 1\n \n``````\n",
    "created_at": "2020-06-21T01:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585385",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,11 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
 
+So we make it a regular distutils package itself and install it with `setup.py install`.
+
+We also install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
+
+
+Follow-up: #29924
 
 Comment: 1
 
``````




---

archive/issue_comments_585386.json:
```json
{
    "body": "<a id='comment:24'></a>\n```\n[sagelib-9.1.rc5] running build\n[sagelib-9.1.rc5] Generating auto-generated sources\n[sagelib-9.1.rc5] Building interpreters for fast_callable\n[sagelib-9.1.rc5] -> Rebuilding interpreters because /Users/mkoeppe/s/sage/sage-rebasing/src/sage_setup/autogen/interpreters/memory.py changed\n[sagelib-9.1.rc5] running build_cython\n[sagelib-9.1.rc5] Enabling Cython debugging support\n[sagelib-9.1.rc5] Updating Cython code....\n[sagelib-9.1.rc5] Compiling sage/algebras/finite_dimensional_algebras/finite_dimensional_algebra_element.pyx because it changed.\n[sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'\n```\n\nHm....",
    "created_at": "2020-06-21T02:29:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585386",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
```
[sagelib-9.1.rc5] running build
[sagelib-9.1.rc5] Generating auto-generated sources
[sagelib-9.1.rc5] Building interpreters for fast_callable
[sagelib-9.1.rc5] -> Rebuilding interpreters because /Users/mkoeppe/s/sage/sage-rebasing/src/sage_setup/autogen/interpreters/memory.py changed
[sagelib-9.1.rc5] running build_cython
[sagelib-9.1.rc5] Enabling Cython debugging support
[sagelib-9.1.rc5] Updating Cython code....
[sagelib-9.1.rc5] Compiling sage/algebras/finite_dimensional_algebras/finite_dimensional_algebra_element.pyx because it changed.
[sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'
```

Hm....



---

archive/issue_comments_585387.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-21T02:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585387",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585388.json:
```json
{
    "body": "Changing commit from \"4a9dd3ad8c103784403e8ecce172427b2f5c0eff\" to \"010c6e3b7abcf381a691ca87c6e0d4238d922ce5\"",
    "created_at": "2020-06-21T02:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585388",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4a9dd3ad8c103784403e8ecce172427b2f5c0eff" to "010c6e3b7abcf381a691ca87c6e0d4238d922ce5"



---

archive/issue_comments_585389.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-24T01:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585389",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585390.json:
```json
{
    "body": "Changing commit from \"010c6e3b7abcf381a691ca87c6e0d4238d922ce5\" to \"2d0d0a7720bbef005892f5f56c982c26e5eb0fb8\"",
    "created_at": "2020-06-24T01:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585390",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "010c6e3b7abcf381a691ca87c6e0d4238d922ce5" to "2d0d0a7720bbef005892f5f56c982c26e5eb0fb8"



---

archive/issue_comments_585391.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:24 mkoeppe]:\n> {{{\n> [sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'\n> }}}\n> \n> Hm....\n\n\nThat was coming from the mistake in #29855.",
    "created_at": "2020-06-24T01:44:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585391",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>Replying to [comment:24 mkoeppe]:
> {{{
> [sagelib-9.1.rc5] error: [Errno 21] Is a directory: '/Users/mkoeppe/s/sage/sage-rebasing/src/sage/cpython'
> }}}
> 
> Hm....


That was coming from the mistake in #29855.



---

archive/issue_comments_585392.json:
```json
{
    "body": "Changing commit from \"2d0d0a7720bbef005892f5f56c982c26e5eb0fb8\" to \"0459006f8ad828e3c3f83004b6db605ec036a0f6\"",
    "created_at": "2020-06-24T02:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585392",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2d0d0a7720bbef005892f5f56c982c26e5eb0fb8" to "0459006f8ad828e3c3f83004b6db605ec036a0f6"



---

archive/issue_comments_585393.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-24T02:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585393",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585394.json:
```json
{
    "body": "Changing work_issues from \"\" to \"Install scripts, add spkg-src\"",
    "created_at": "2020-06-24T02:46:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585394",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "" to "Install scripts, add spkg-src"



---

archive/issue_comments_585395.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-24T04:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585395",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585396.json:
```json
{
    "body": "Changing commit from \"0459006f8ad828e3c3f83004b6db605ec036a0f6\" to \"c66384d34edb84b22dd2cc9c5e3afa1b049a3e8f\"",
    "created_at": "2020-06-24T04:32:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585396",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0459006f8ad828e3c3f83004b6db605ec036a0f6" to "c66384d34edb84b22dd2cc9c5e3afa1b049a3e8f"



---

archive/issue_comments_585397.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-24T04:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585397",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585398.json:
```json
{
    "body": "Changing commit from \"c66384d34edb84b22dd2cc9c5e3afa1b049a3e8f\" to \"58956e65bcf221fac3aa670d165d89948a65e825\"",
    "created_at": "2020-06-24T04:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585398",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c66384d34edb84b22dd2cc9c5e3afa1b049a3e8f" to "58956e65bcf221fac3aa670d165d89948a65e825"



---

archive/issue_comments_585399.json:
```json
{
    "body": "Changing work_issues from \"Install scripts, add spkg-src\" to \"Install scripts\"",
    "created_at": "2020-06-24T04:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585399",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "Install scripts, add spkg-src" to "Install scripts"



---

archive/issue_comments_585400.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with `setup.py install`.\n+\n+\n+Follow-up: \n+- #29924: Do not fail if `sage.env`, `sage.*` are not available\n+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`\n+- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-25T19:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585400",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,12 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with `setup.py install`.
+
+
+Follow-up: 
+- #29924: Do not fail if `sage.env`, `sage.*` are not available
+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`
+- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
 
 
 Comment: 1
``````




---

archive/issue_comments_585401.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-06-25T19:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585401",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_585402.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2020-06-25T19:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585402",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_585403.json:
```json
{
    "body": "Changing work_issues from \"Install scripts\" to \"\"",
    "created_at": "2020-06-25T19:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585403",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "Install scripts" to ""



---

archive/issue_comments_585404.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-27T19:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585404",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585405.json:
```json
{
    "body": "Changing commit from \"58956e65bcf221fac3aa670d165d89948a65e825\" to \"0e1702396fc2e66b851e187a02a52bc2853da7e6\"",
    "created_at": "2020-06-27T19:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585405",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "58956e65bcf221fac3aa670d165d89948a65e825" to "0e1702396fc2e66b851e187a02a52bc2853da7e6"



---

archive/issue_comments_585406.json:
```json
{
    "body": "Changing dependencies from \"#29702, #29706, #29785, #29855\" to \"#29702, #29855\"",
    "created_at": "2020-06-27T19:21:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585406",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29702, #29706, #29785, #29855" to "#29702, #29855"



---

archive/issue_comments_585407.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with `setup.py install`.\n+\n+`sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.\n+\n+Follow-up: \n+- #29924: Do not fail if `sage.env`, `sage.*` are not available\n+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`\n+- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-27T19:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585407",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,13 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with `setup.py install`.
+
+`sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.
+
+Follow-up: 
+- #29924: Do not fail if `sage.env`, `sage.*` are not available
+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`
+- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
 
 
 Comment: 1
``````




---

archive/issue_comments_585408.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)\n+\n+`sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.\n+\n+Follow-up: \n+- #29924: Do not fail if `sage.env`, `sage.*` are not available\n+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`\n+- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-27T19:25:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585408",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,13 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)
+
+`sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.
+
+Follow-up: 
+- #29924: Do not fail if `sage.env`, `sage.*` are not available
+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`
+- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
 
 
 Comment: 1
``````




---

archive/issue_comments_585409.json:
```json
{
    "body": "Changing commit from \"0e1702396fc2e66b851e187a02a52bc2853da7e6\" to \"0d22cefeb55b66cbd1e9e3b0057861f8db486963\"",
    "created_at": "2020-06-28T01:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585409",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0e1702396fc2e66b851e187a02a52bc2853da7e6" to "0d22cefeb55b66cbd1e9e3b0057861f8db486963"



---

archive/issue_comments_585410.json:
```json
{
    "body": "<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-28T01:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585410",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:39'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585411.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-28T02:03:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585411",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585412.json:
```json
{
    "body": "Changing commit from \"0d22cefeb55b66cbd1e9e3b0057861f8db486963\" to \"21eb31edf8575b13f6f1baa312f73c2c60a8ce82\"",
    "created_at": "2020-06-28T02:03:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0d22cefeb55b66cbd1e9e3b0057861f8db486963" to "21eb31edf8575b13f6f1baa312f73c2c60a8ce82"



---

archive/issue_comments_585413.json:
```json
{
    "body": "Changing commit from \"21eb31edf8575b13f6f1baa312f73c2c60a8ce82\" to \"eeeaa47644aad4801b99e645ccd24176864bfa54\"",
    "created_at": "2020-06-28T04:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585413",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "21eb31edf8575b13f6f1baa312f73c2c60a8ce82" to "eeeaa47644aad4801b99e645ccd24176864bfa54"



---

archive/issue_comments_585414.json:
```json
{
    "body": "<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-28T04:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585414",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585415.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-28T04:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585415",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585416.json:
```json
{
    "body": "Changing commit from \"eeeaa47644aad4801b99e645ccd24176864bfa54\" to \"4dcaf1cd1b203e6fc08d0d57ba872b085284f685\"",
    "created_at": "2020-06-28T04:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "eeeaa47644aad4801b99e645ccd24176864bfa54" to "4dcaf1cd1b203e6fc08d0d57ba872b085284f685"



---

archive/issue_events_076445.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-28T22:12:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29847#event-76445"
}
```



---

archive/issue_events_076446.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-28T22:12:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29847#event-76446"
}
```



---

archive/issue_comments_585417.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,33 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)\n+\n+`sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.\n+\n+Follow-up: \n+- #29924: Do not fail if `sage.env`, `sage.*` are not available\n+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`\n+- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.\n+\n+\n+---\n+References:\n+\n+python - pip ignores dependency_links in setup.py - Stack Overflow\n+https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py\n+\n+dependency_links flag ignored when package exists on PyPI \u00b7 Issue #987 \u00b7 pypa/setuptools\n+https://github.com/pypa/setuptools/issues/987\n+\n+Suggest alternatives for --process-dependency-links \u00b7 Issue #6162 \u00b7 pypa/pip\n+https://github.com/pypa/pip/issues/6162\n+\n+PEP 508 -- Dependency specification for Python Software Packages | Python.org\n+https://www.python.org/dev/peps/pep-0508/#pep440\n+\n+PEP 440 -- Version Identification and Dependency Specification | Python.org\n+https://www.python.org/dev/peps/pep-0440/#local-version-segments\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-06-28T22:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585417",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,33 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)
+
+`sagelib`'s `setup.py` (`src/setup.py`) will no longer install `sage_setup`.
+
+Follow-up: 
+- #29924: Do not fail if `sage.env`, `sage.*` are not available
+- #29950: Build sagelib using the installed `sage_setup`, add `spkg-src`
+- #21559 or follow-up: install some scripts in `src/bin` that belong to sage-the-distribution using the `scripts` feature of setuptools.
+
+
+---
+References:
+
+python - pip ignores dependency_links in setup.py - Stack Overflow
+https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py
+
+dependency_links flag ignored when package exists on PyPI 路 Issue #987 路 pypa/setuptools
+https://github.com/pypa/setuptools/issues/987
+
+Suggest alternatives for --process-dependency-links 路 Issue #6162 路 pypa/pip
+https://github.com/pypa/pip/issues/6162
+
+PEP 508 -- Dependency specification for Python Software Packages | Python.org
+https://www.python.org/dev/peps/pep-0508/#pep440
+
+PEP 440 -- Version Identification and Dependency Specification | Python.org
+https://www.python.org/dev/peps/pep-0440/#local-version-segments
+
 
 
 Comment: 1
``````




---

archive/issue_comments_585418.json:
```json
{
    "body": "Changing dependencies from \"#29702, #29855\" to \"#29702, #29855, #30011\"",
    "created_at": "2020-07-03T20:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585418",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29702, #29855" to "#29702, #29855, #30011"



---

archive/issue_comments_585419.json:
```json
{
    "body": "Changing work_issues from \"\" to \"merge #30011, remove dep on six\"",
    "created_at": "2020-07-03T20:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585419",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "" to "merge #30011, remove dep on six"



---

archive/issue_comments_585420.json:
```json
{
    "body": "<a id='comment:46'></a>should we wait for  #29855, #30011 merged?",
    "created_at": "2020-07-08T10:57:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585420",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:46'></a>should we wait for  #29855, #30011 merged?



---

archive/issue_comments_585421.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-07-08T15:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585421",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585422.json:
```json
{
    "body": "Changing commit from \"4dcaf1cd1b203e6fc08d0d57ba872b085284f685\" to \"44cc65dbdf5c7f3818eb0a880835162579238b57\"",
    "created_at": "2020-07-08T15:18:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585422",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4dcaf1cd1b203e6fc08d0d57ba872b085284f685" to "44cc65dbdf5c7f3818eb0a880835162579238b57"



---

archive/issue_comments_585423.json:
```json
{
    "body": "Changing work_issues from \"merge #30011, remove dep on six\" to \"\"",
    "created_at": "2020-07-08T15:19:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585423",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "merge #30011, remove dep on six" to ""



---

archive/issue_comments_585424.json:
```json
{
    "body": "<a id='comment:49'></a>This ticket is not so urgent (I've set its milestone to 9.3)",
    "created_at": "2020-07-08T15:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585424",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:49'></a>This ticket is not so urgent (I've set its milestone to 9.3)



---

archive/issue_comments_585425.json:
```json
{
    "body": "Changing work_issues from \"\" to \"Merge #29950\"",
    "created_at": "2020-07-13T21:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585425",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "" to "Merge #29950"



---

archive/issue_comments_585426.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-07-13T21:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585426",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_585427.json:
```json
{
    "body": "Changing work_issues from \"Merge #29950\" to \"Merge #30010\"",
    "created_at": "2020-07-13T21:33:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585427",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "Merge #29950" to "Merge #30010"



---

archive/issue_comments_585428.json:
```json
{
    "body": "Changing dependencies from \"#29702, #29855, #30011\" to \"#29500, #30010\"",
    "created_at": "2020-09-08T04:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585428",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29702, #29855, #30011" to "#29500, #30010"



---

archive/issue_comments_585429.json:
```json
{
    "body": "Changing commit from \"44cc65dbdf5c7f3818eb0a880835162579238b57\" to \"8d465d72bf2b199f3fb46b7a72e51a186c954228\"",
    "created_at": "2020-09-08T23:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585429",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "44cc65dbdf5c7f3818eb0a880835162579238b57" to "8d465d72bf2b199f3fb46b7a72e51a186c954228"



---

archive/issue_comments_585430.json:
```json
{
    "body": "<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-09-08T23:24:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585430",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_585431.json:
```json
{
    "body": "Changing work_issues from \"Merge #30010\" to \"\"",
    "created_at": "2020-09-08T23:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585431",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "Merge #30010" to ""



---

archive/issue_comments_585432.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-09-08T23:24:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585432",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_585433.json:
```json
{
    "body": "<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-08T23:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585433",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:55'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585434.json:
```json
{
    "body": "Changing commit from \"8d465d72bf2b199f3fb46b7a72e51a186c954228\" to \"db56301317b59708186defd76e2e6db1423e86af\"",
    "created_at": "2020-09-08T23:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585434",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8d465d72bf2b199f3fb46b7a72e51a186c954228" to "db56301317b59708186defd76e2e6db1423e86af"



---

archive/issue_comments_585435.json:
```json
{
    "body": "<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-09-09T00:39:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585435",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585436.json:
```json
{
    "body": "Changing commit from \"db56301317b59708186defd76e2e6db1423e86af\" to \"1bb5b3453ac6d4a163be5c28446afb7ac66750b8\"",
    "created_at": "2020-09-09T00:39:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585436",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "db56301317b59708186defd76e2e6db1423e86af" to "1bb5b3453ac6d4a163be5c28446afb7ac66750b8"



---

archive/issue_comments_585437.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,31 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)\n+\n+`sagelib`'s `setup.py` will no longer install `sage_setup`.\n+\n+Follow-up: \n+- #29924: Do not fail if `sage.env`, `sage.*` are not available\n+\n+\n+---\n+References:\n+\n+python - pip ignores dependency_links in setup.py - Stack Overflow\n+https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py\n+\n+dependency_links flag ignored when package exists on PyPI \u00b7 Issue #987 \u00b7 pypa/setuptools\n+https://github.com/pypa/setuptools/issues/987\n+\n+Suggest alternatives for --process-dependency-links \u00b7 Issue #6162 \u00b7 pypa/pip\n+https://github.com/pypa/pip/issues/6162\n+\n+PEP 508 -- Dependency specification for Python Software Packages | Python.org\n+https://www.python.org/dev/peps/pep-0508/#pep440\n+\n+PEP 440 -- Version Identification and Dependency Specification | Python.org\n+https://www.python.org/dev/peps/pep-0440/#local-version-segments\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2020-11-14T06:38:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585437",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,31 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)
+
+`sagelib`'s `setup.py` will no longer install `sage_setup`.
+
+Follow-up: 
+- #29924: Do not fail if `sage.env`, `sage.*` are not available
+
+
+---
+References:
+
+python - pip ignores dependency_links in setup.py - Stack Overflow
+https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py
+
+dependency_links flag ignored when package exists on PyPI 路 Issue #987 路 pypa/setuptools
+https://github.com/pypa/setuptools/issues/987
+
+Suggest alternatives for --process-dependency-links 路 Issue #6162 路 pypa/pip
+https://github.com/pypa/pip/issues/6162
+
+PEP 508 -- Dependency specification for Python Software Packages | Python.org
+https://www.python.org/dev/peps/pep-0508/#pep440
+
+PEP 440 -- Version Identification and Dependency Specification | Python.org
+https://www.python.org/dev/peps/pep-0440/#local-version-segments
+
 
 
 Comment: 1
``````




---

archive/issue_events_076447.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-14T06:38:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29847#event-76447"
}
```



---

archive/issue_events_076448.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-14T06:38:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29847#event-76448"
}
```



---

archive/issue_comments_585438.json:
```json
{
    "body": "Changing dependencies from \"#29500, #30010\" to \"#30010\"",
    "created_at": "2020-11-14T06:38:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585438",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29500, #30010" to "#30010"



---

archive/issue_comments_585439.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd111\".",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585439",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "sd111".



---

archive/issue_comments_585440.json:
```json
{
    "body": "<a id='comment:58'></a>Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111",
    "created_at": "2020-12-06T18:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585440",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'></a>Hoping we can make progress on this ticket this week - https://wiki.sagemath.org/days111



---

archive/issue_comments_585441.json:
```json
{
    "body": "<a id='comment:59'></a>Needs rebase.",
    "created_at": "2020-12-09T18:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585441",
    "user": "https://github.com/kliem"
}
```

<a id='comment:59'></a>Needs rebase.



---

archive/issue_comments_585442.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-12-09T18:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585442",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_585443.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,33 @@\n+sage_setup will be used by the build system of various distutils packages (#29705).\n+\n+So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)\n+\n+`sagelib`'s `setup.py` will no longer install `sage_setup`.\n+\n+`sage_setup` will become a `build-system requires` (declared in `pyproject.toml`)\n+\n+Follow-up: \n+- #29924: Do not fail if `sage.env`, `sage.*` are not available\n+\n+\n+---\n+References:\n+\n+python - pip ignores dependency_links in setup.py - Stack Overflow\n+https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py\n+\n+dependency_links flag ignored when package exists on PyPI \u00b7 Issue #987 \u00b7 pypa/setuptools\n+https://github.com/pypa/setuptools/issues/987\n+\n+Suggest alternatives for --process-dependency-links \u00b7 Issue #6162 \u00b7 pypa/pip\n+https://github.com/pypa/pip/issues/6162\n+\n+PEP 508 -- Dependency specification for Python Software Packages | Python.org\n+https://www.python.org/dev/peps/pep-0508/#pep440\n+\n+PEP 440 -- Version Identification and Dependency Specification | Python.org\n+https://www.python.org/dev/peps/pep-0440/#local-version-segments\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2021-02-18T01:39:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585443",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,33 @@
+sage_setup will be used by the build system of various distutils packages (#29705).
+
+So we make it a regular distutils package itself and install it with `setup.py install`. (That's `build/pkgs/sage_setup/src/setup.py`.)
+
+`sagelib`'s `setup.py` will no longer install `sage_setup`.
+
+`sage_setup` will become a `build-system requires` (declared in `pyproject.toml`)
+
+Follow-up: 
+- #29924: Do not fail if `sage.env`, `sage.*` are not available
+
+
+---
+References:
+
+python - pip ignores dependency_links in setup.py - Stack Overflow
+https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py
+
+dependency_links flag ignored when package exists on PyPI 路 Issue #987 路 pypa/setuptools
+https://github.com/pypa/setuptools/issues/987
+
+Suggest alternatives for --process-dependency-links 路 Issue #6162 路 pypa/pip
+https://github.com/pypa/pip/issues/6162
+
+PEP 508 -- Dependency specification for Python Software Packages | Python.org
+https://www.python.org/dev/peps/pep-0508/#pep440
+
+PEP 440 -- Version Identification and Dependency Specification | Python.org
+https://www.python.org/dev/peps/pep-0440/#local-version-segments
+
 
 
 Comment: 1
``````




---

archive/issue_comments_585444.json:
```json
{
    "body": "Changing dependencies from \"#30010\" to \"#30010, #30913, #31377\"",
    "created_at": "2021-02-21T20:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585444",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30010" to "#30010, #30913, #31377"



---

archive/issue_comments_585445.json:
```json
{
    "body": "Changing work_issues from \"\" to \"rebase\"",
    "created_at": "2021-02-21T20:11:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585445",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "" to "rebase"



---

archive/issue_comments_585446.json:
```json
{
    "body": "Changing work_issues from \"rebase\" to \"rebase on #31577\"",
    "created_at": "2021-06-25T00:44:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585446",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "rebase" to "rebase on #31577"



---

archive/issue_comments_585447.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,35 @@\n+sage_setup will be used by the build system of various distribution packages (#29705).\n+\n+So we make it a regular distribution package itself, with sources in `pkgs/sage-setup/` (#31577) and install it with `pip`.\n+\n+The actual Python source files are not moved because `sage_setup` takes part in Sage doctesting (see #31577).\n+\n+`sagelib`'s `setup.py` will no longer install `sage_setup`.\n+\n+`sage-setup` will become a `build-system requires` of `sagemath-standard` (declared in `pyproject.toml`)\n+\n+Follow-up: \n+- #29924: Do not fail if `sage.env`, `sage.*` are not available\n+\n+\n+---\n+References:\n+\n+python - pip ignores dependency_links in setup.py - Stack Overflow\n+https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py\n+\n+dependency_links flag ignored when package exists on PyPI \u00b7 Issue #987 \u00b7 pypa/setuptools\n+https://github.com/pypa/setuptools/issues/987\n+\n+Suggest alternatives for --process-dependency-links \u00b7 Issue #6162 \u00b7 pypa/pip\n+https://github.com/pypa/pip/issues/6162\n+\n+PEP 508 -- Dependency specification for Python Software Packages | Python.org\n+https://www.python.org/dev/peps/pep-0508/#pep440\n+\n+PEP 440 -- Version Identification and Dependency Specification | Python.org\n+https://www.python.org/dev/peps/pep-0440/#local-version-segments\n+\n \n \n Comment: 1\n``````\n",
    "created_at": "2021-06-25T00:44:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585447",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,35 @@
+sage_setup will be used by the build system of various distribution packages (#29705).
+
+So we make it a regular distribution package itself, with sources in `pkgs/sage-setup/` (#31577) and install it with `pip`.
+
+The actual Python source files are not moved because `sage_setup` takes part in Sage doctesting (see #31577).
+
+`sagelib`'s `setup.py` will no longer install `sage_setup`.
+
+`sage-setup` will become a `build-system requires` of `sagemath-standard` (declared in `pyproject.toml`)
+
+Follow-up: 
+- #29924: Do not fail if `sage.env`, `sage.*` are not available
+
+
+---
+References:
+
+python - pip ignores dependency_links in setup.py - Stack Overflow
+https://stackoverflow.com/questions/12518499/pip-ignores-dependency-links-in-setup-py
+
+dependency_links flag ignored when package exists on PyPI 路 Issue #987 路 pypa/setuptools
+https://github.com/pypa/setuptools/issues/987
+
+Suggest alternatives for --process-dependency-links 路 Issue #6162 路 pypa/pip
+https://github.com/pypa/pip/issues/6162
+
+PEP 508 -- Dependency specification for Python Software Packages | Python.org
+https://www.python.org/dev/peps/pep-0508/#pep440
+
+PEP 440 -- Version Identification and Dependency Specification | Python.org
+https://www.python.org/dev/peps/pep-0440/#local-version-segments
+
 
 
 Comment: 1
``````




---

archive/issue_comments_585448.json:
```json
{
    "body": "Changing dependencies from \"#30010, #30913, #31377\" to \"#31577\"",
    "created_at": "2021-06-25T00:44:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585448",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#30010, #30913, #31377" to "#31577"



---

archive/issue_comments_585449.json:
```json
{
    "body": "Changing commit from \"1bb5b3453ac6d4a163be5c28446afb7ac66750b8\" to \"2b25c06f1fece1897e222f16c5e4b5bd9ab047d1\"",
    "created_at": "2021-06-25T00:58:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585449",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1bb5b3453ac6d4a163be5c28446afb7ac66750b8" to "2b25c06f1fece1897e222f16c5e4b5bd9ab047d1"



---

archive/issue_comments_585450.json:
```json
{
    "body": "<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2021-06-25T00:58:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585450",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_585451.json:
```json
{
    "body": "Changing commit from \"2b25c06f1fece1897e222f16c5e4b5bd9ab047d1\" to \"f51ca1cd744740d2d2a59b634310e1a92b4e1d04\"",
    "created_at": "2021-06-25T01:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585451",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2b25c06f1fece1897e222f16c5e4b5bd9ab047d1" to "f51ca1cd744740d2d2a59b634310e1a92b4e1d04"



---

archive/issue_comments_585452.json:
```json
{
    "body": "<a id='comment:64'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-25T01:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585452",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:64'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585453.json:
```json
{
    "body": "<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-25T01:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585453",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:65'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585454.json:
```json
{
    "body": "Changing commit from \"f51ca1cd744740d2d2a59b634310e1a92b4e1d04\" to \"35e38cdca128295ec79e88d3f43ce858392bd5eb\"",
    "created_at": "2021-06-25T01:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585454",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f51ca1cd744740d2d2a59b634310e1a92b4e1d04" to "35e38cdca128295ec79e88d3f43ce858392bd5eb"



---

archive/issue_comments_585455.json:
```json
{
    "body": "Changing commit from \"35e38cdca128295ec79e88d3f43ce858392bd5eb\" to \"cf606f743e019c82ec3cfc212d60b6b54c1fa3f4\"",
    "created_at": "2021-06-25T02:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585455",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "35e38cdca128295ec79e88d3f43ce858392bd5eb" to "cf606f743e019c82ec3cfc212d60b6b54c1fa3f4"



---

archive/issue_comments_585456.json:
```json
{
    "body": "<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-06-25T02:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585456",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_585457.json:
```json
{
    "body": "<a id='comment:67'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-25T02:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585457",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:67'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585458.json:
```json
{
    "body": "Changing commit from \"cf606f743e019c82ec3cfc212d60b6b54c1fa3f4\" to \"a1b8832dc2aea68404314cdfca4abd9c92cae6b7\"",
    "created_at": "2021-06-25T02:28:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585458",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cf606f743e019c82ec3cfc212d60b6b54c1fa3f4" to "a1b8832dc2aea68404314cdfca4abd9c92cae6b7"



---

archive/issue_comments_585459.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-06-25T04:09:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585459",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_585460.json:
```json
{
    "body": "Changing work_issues from \"rebase on #31577\" to \"\"",
    "created_at": "2021-06-25T04:09:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585460",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "rebase on #31577" to ""



---

archive/issue_comments_585461.json:
```json
{
    "body": "<a id='comment:69'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-25T04:43:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585461",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:69'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585462.json:
```json
{
    "body": "Changing commit from \"a1b8832dc2aea68404314cdfca4abd9c92cae6b7\" to \"61c25a05c81b2204f89d7c5f68a16c5b5b41e517\"",
    "created_at": "2021-06-25T04:43:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585462",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a1b8832dc2aea68404314cdfca4abd9c92cae6b7" to "61c25a05c81b2204f89d7c5f68a16c5b5b41e517"



---

archive/issue_comments_585463.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-29T15:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585463",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_585464.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2021-06-29T15:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585464",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_585465.json:
```json
{
    "body": "<a id='comment:70'></a>ok, fine",
    "created_at": "2021-06-29T15:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585465",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:70'></a>ok, fine



---

archive/issue_comments_585466.json:
```json
{
    "body": "<a id='comment:71'></a>Thanks!",
    "created_at": "2021-06-29T15:48:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585466",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:71'></a>Thanks!



---

archive/issue_comments_585467.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-07-01T22:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585467",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_585468.json:
```json
{
    "body": "<a id='comment:72'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-07-01T22:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585468",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:72'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_585469.json:
```json
{
    "body": "Changing commit from \"61c25a05c81b2204f89d7c5f68a16c5b5b41e517\" to \"7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1\"",
    "created_at": "2021-07-01T22:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585469",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "61c25a05c81b2204f89d7c5f68a16c5b5b41e517" to "7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1"



---

archive/issue_comments_585470.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-01T22:08:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585470",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_585471.json:
```json
{
    "body": "<a id='comment:74'></a>\n```\n***********************************************\nmake[1]: Entering directory '/home/release/Sage/build/make'\nmake --no-print-directory sagelib-SAGE_VENV-no-deps\ncd '/home/release/Sage/build/pkgs/sagelib' && . '/home/release/Sage/src/bin/sage-src-env-config' && . '/home/release/Sage/src/bin/sage-env-config' && . '/home/release/Sage/src/bin/sage-env' && . '/home/release/Sage/build/bin/sage-build-env-config' && . '/home/release/Sage/build/bin/sage-build-env' && SAGE_SPKG_WHEELS=/home/release/Sage/local/var/lib/sage/wheels SAGE_INST_LOCAL=/home/release/Sage/local sage-logger -p '/home/release/Sage/build/pkgs/sagelib/spkg-install' '/home/release/Sage/logs/pkgs/sagelib-9.4.beta4.log'\n[sagelib-9.4.beta4] Traceback (most recent call last):\n[sagelib-9.4.beta4]   File \"/home/release/Sage/pkgs/sagemath-standard/setup.py\", line 31, in <module>\n[sagelib-9.4.beta4]     from sage_setup.excepthook import excepthook\n[sagelib-9.4.beta4] ModuleNotFoundError: No module named 'sage_setup.excepthook'\n[sagelib-9.4.beta4] \n[sagelib-9.4.beta4] real\t0m0.140s\n[sagelib-9.4.beta4] user\t0m0.121s\n[sagelib-9.4.beta4] sys\t0m0.017s\nmake[2]: *** [Makefile:2693: sagelib-SAGE_VENV-no-deps] Error 1\nmake[1]: *** [Makefile:2693: /home/release/Sage/local/var/lib/sage/installed/sagelib-9.4.beta4] Error 2\nmake[1]: Leaving directory '/home/release/Sage/build/make'\n\nreal\t0m0.257s\nuser\t0m0.222s\nsys\t0m0.037s\n***************************************************************\nError building Sage.\n\n```",
    "created_at": "2021-07-08T21:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585471",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:74'></a>
```
***********************************************
make[1]: Entering directory '/home/release/Sage/build/make'
make --no-print-directory sagelib-SAGE_VENV-no-deps
cd '/home/release/Sage/build/pkgs/sagelib' && . '/home/release/Sage/src/bin/sage-src-env-config' && . '/home/release/Sage/src/bin/sage-env-config' && . '/home/release/Sage/src/bin/sage-env' && . '/home/release/Sage/build/bin/sage-build-env-config' && . '/home/release/Sage/build/bin/sage-build-env' && SAGE_SPKG_WHEELS=/home/release/Sage/local/var/lib/sage/wheels SAGE_INST_LOCAL=/home/release/Sage/local sage-logger -p '/home/release/Sage/build/pkgs/sagelib/spkg-install' '/home/release/Sage/logs/pkgs/sagelib-9.4.beta4.log'
[sagelib-9.4.beta4] Traceback (most recent call last):
[sagelib-9.4.beta4]   File "/home/release/Sage/pkgs/sagemath-standard/setup.py", line 31, in <module>
[sagelib-9.4.beta4]     from sage_setup.excepthook import excepthook
[sagelib-9.4.beta4] ModuleNotFoundError: No module named 'sage_setup.excepthook'
[sagelib-9.4.beta4] 
[sagelib-9.4.beta4] real	0m0.140s
[sagelib-9.4.beta4] user	0m0.121s
[sagelib-9.4.beta4] sys	0m0.017s
make[2]: *** [Makefile:2693: sagelib-SAGE_VENV-no-deps] Error 1
make[1]: *** [Makefile:2693: /home/release/Sage/local/var/lib/sage/installed/sagelib-9.4.beta4] Error 2
make[1]: Leaving directory '/home/release/Sage/build/make'

real	0m0.257s
user	0m0.222s
sys	0m0.037s
***************************************************************
Error building Sage.

```



---

archive/issue_comments_585472.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-07-08T21:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585472",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_585473.json:
```json
{
    "body": "Changing commit from \"7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1\" to \"35b8b7448e6062ee5f57c8c02d586924023b6bd7\"",
    "created_at": "2021-07-19T01:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585473",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7f0bd4af0ae00e7ad19476c75ffdb00d9eee21f1" to "35b8b7448e6062ee5f57c8c02d586924023b6bd7"



---

archive/issue_comments_585474.json:
```json
{
    "body": "<a id='comment:75'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-19T01:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585474",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:75'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585475.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-19T02:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585475",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_585476.json:
```json
{
    "body": "<a id='comment:76'></a>I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.",
    "created_at": "2021-07-19T02:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585476",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:76'></a>I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.



---

archive/issue_comments_585477.json:
```json
{
    "body": "<a id='comment:77'></a>I don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings:\n\n```\nm4/sage_spkg_configures.m4:513: warning: The macro `AC_PROG_CC_C99' is obsolete.\nm4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:530: warning: The macro `AC_FOREACH' is obsolete.\nm4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_RUN' is obsolete.\nm4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_LINK' is obsolete.\nconfigure.ac:447: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l \"$SAGE_SPKG_INST/$SPKG_NAME\"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \\\"$srcdir/configure\\\"])\n```",
    "created_at": "2021-07-21T00:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585477",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:77'></a>I don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings:

```
m4/sage_spkg_configures.m4:513: warning: The macro `AC_PROG_CC_C99' is obsolete.
m4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:516: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:530: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_RUN' is obsolete.
m4/sage_spkg_configures.m4:594: warning: The macro `AC_TRY_LINK' is obsolete.
configure.ac:447: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l "$SAGE_SPKG_INST/$SPKG_NAME"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \"$srcdir/configure\"])
```



---

archive/issue_comments_585478.json:
```json
{
    "body": "<a id='comment:78'></a>Replying to [comment:76 mkoeppe]:\n> I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.\n\n\nIn the meantime, are you waiting for more information from Volker, or should this go back to \"positive review\"?",
    "created_at": "2021-07-21T00:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585478",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:78'></a>Replying to [comment:76 mkoeppe]:
> I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.


In the meantime, are you waiting for more information from Volker, or should this go back to "positive review"?



---

archive/issue_comments_585479.json:
```json
{
    "body": "<a id='comment:79'></a>Replying to [comment:77 jhpalmieri]:\n> I don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings\n\nI think this is #30668",
    "created_at": "2021-07-21T00:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585479",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:79'></a>Replying to [comment:77 jhpalmieri]:
> I don't know if this is worth a ticket or if there is a relevant one already, but running `./bootstrap` produces various warnings

I think this is #30668



---

archive/issue_comments_585480.json:
```json
{
    "body": "<a id='comment:80'></a>Replying to [comment:78 jhpalmieri]:\n> Replying to [comment:76 mkoeppe]:\n> > I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.\n\n> \n> In the meantime, are you waiting for more information from Volker, or should this go back to \"positive review\"?\n\n\nLet's do \"positive review\". Easier to run it just as part of Volker's integration tests.",
    "created_at": "2021-07-21T00:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585480",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:80'></a>Replying to [comment:78 jhpalmieri]:
> Replying to [comment:76 mkoeppe]:
> > I can't reproduce this error. Possibly from forgetting to run `bootstrap` and `configure`.

> 
> In the meantime, are you waiting for more information from Volker, or should this go back to "positive review"?


Let's do "positive review". Easier to run it just as part of Volker's integration tests.



---

archive/issue_comments_585481.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-21T13:15:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585481",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_585482.json:
```json
{
    "body": "<a id='comment:82'></a>Merge conflict",
    "created_at": "2021-07-23T22:05:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585482",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:82'></a>Merge conflict



---

archive/issue_comments_585483.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-07-23T22:05:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585483",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_585484.json:
```json
{
    "body": "<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-07-24T01:39:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585484",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_585485.json:
```json
{
    "body": "Changing commit from \"35b8b7448e6062ee5f57c8c02d586924023b6bd7\" to \"9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0\"",
    "created_at": "2021-07-24T01:39:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585485",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "35b8b7448e6062ee5f57c8c02d586924023b6bd7" to "9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0"



---

archive/issue_comments_585486.json:
```json
{
    "body": "Changing dependencies from \"#31577\" to \"#31577, #29585, #32073\"",
    "created_at": "2021-07-24T01:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585486",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#31577" to "#31577, #29585, #32073"



---

archive/issue_comments_585487.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2021-07-24T01:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585487",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_585488.json:
```json
{
    "body": "Changing dependencies from \"#31577, #29585, #32073\" to \"#31577, #29585, #32073, #32046\"",
    "created_at": "2021-07-24T19:11:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585488",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#31577, #29585, #32073" to "#31577, #29585, #32073, #32046"



---

archive/issue_comments_585489.json:
```json
{
    "body": "Changing commit from \"9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0\" to \"6b1b222e05281413854602e2bec2e8d6ad680513\"",
    "created_at": "2021-07-24T19:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585489",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9aa1f10c1656f4d7f1cf8e15c1c0dfd2feaad1c0" to "6b1b222e05281413854602e2bec2e8d6ad680513"



---

archive/issue_comments_585490.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-07-24T19:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585490",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_585491.json:
```json
{
    "body": "<a id='comment:86'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-07-24T19:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585491",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:86'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_585492.json:
```json
{
    "body": "<a id='comment:87'></a>The branch already contained a part of #32046 but the dependency was not recorded. Fully merged the latest version of #32046. I think we can defer this ticket to 9.5",
    "created_at": "2021-07-24T19:23:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585492",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:87'></a>The branch already contained a part of #32046 but the dependency was not recorded. Fully merged the latest version of #32046. I think we can defer this ticket to 9.5



---

archive/issue_events_076449.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:23:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29847#event-76449"
}
```



---

archive/issue_events_076450.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:23:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29847#event-76450"
}
```



---

archive/issue_comments_585493.json:
```json
{
    "body": "Changing commit from \"6b1b222e05281413854602e2bec2e8d6ad680513\" to \"a41b507abb68a451e0d2f369749bcc5a3352ccf0\"",
    "created_at": "2021-08-12T21:14:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585493",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6b1b222e05281413854602e2bec2e8d6ad680513" to "a41b507abb68a451e0d2f369749bcc5a3352ccf0"



---

archive/issue_comments_585494.json:
```json
{
    "body": "<a id='comment:88'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-12T21:14:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585494",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:88'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585495.json:
```json
{
    "body": "Changing dependencies from \"#31577, #29585, #32073, #32046\" to \"#32046\"",
    "created_at": "2021-08-12T21:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585495",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#31577, #29585, #32073, #32046" to "#32046"



---

archive/issue_comments_585496.json:
```json
{
    "body": "Changing commit from \"a41b507abb68a451e0d2f369749bcc5a3352ccf0\" to \"478ffcddb5a0b663f7bc1fd98d2b4ac632d79988\"",
    "created_at": "2021-08-12T22:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585496",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a41b507abb68a451e0d2f369749bcc5a3352ccf0" to "478ffcddb5a0b663f7bc1fd98d2b4ac632d79988"



---

archive/issue_comments_585497.json:
```json
{
    "body": "<a id='comment:90'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-12T22:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585497",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:90'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585498.json:
```json
{
    "body": "Changing commit from \"478ffcddb5a0b663f7bc1fd98d2b4ac632d79988\" to \"b2368c62fc1fbc08fc0f06191d3671fb33133a8b\"",
    "created_at": "2021-08-13T00:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585498",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "478ffcddb5a0b663f7bc1fd98d2b4ac632d79988" to "b2368c62fc1fbc08fc0f06191d3671fb33133a8b"



---

archive/issue_comments_585499.json:
```json
{
    "body": "<a id='comment:91'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-13T00:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585499",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:91'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585500.json:
```json
{
    "body": "<a id='comment:92'></a>I'm getting a lot of doctest failures:\n\n```\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/utils.py  # 15 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/find.py  # 38 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rdf.py  # 11 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/optional_extension.py  # 12 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/__init__.py  # 5 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/generator.py  # 70 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/clean.py  # 13 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/storage.py  # 97 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/memory.py  # 57 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cdf.py  # 9 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cc.py  # 20 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/python.py  # 25 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/instructions.py  # 39 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rr.py  # 21 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/base.py  # 22 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/element.py  # 11 doctests failed\nsage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/util.py  # 6 doctests failed\n```\nThe directory `local/lib/python3.9/site-packages/sage_setup` doesn't have much in it anymore, and I'm guessing that this causes the problems.",
    "created_at": "2021-08-16T23:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585500",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:92'></a>I'm getting a lot of doctest failures:

```
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/utils.py  # 15 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/find.py  # 38 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rdf.py  # 11 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/optional_extension.py  # 12 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/__init__.py  # 5 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/generator.py  # 70 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/clean.py  # 13 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/storage.py  # 97 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/memory.py  # 57 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cdf.py  # 9 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/cc.py  # 20 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/python.py  # 25 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/instructions.py  # 39 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/rr.py  # 21 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/base.py  # 22 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/autogen/interpreters/specs/element.py  # 11 doctests failed
sage -t --long --warn-long 100.8 --random-seed=0 src/sage_setup/util.py  # 6 doctests failed
```
The directory `local/lib/python3.9/site-packages/sage_setup` doesn't have much in it anymore, and I'm guessing that this causes the problems.



---

archive/issue_comments_585501.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-09-03T22:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585501",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_585502.json:
```json
{
    "body": "Changing commit from \"b2368c62fc1fbc08fc0f06191d3671fb33133a8b\" to \"f84730e30ff7ac94f5f5990eb5a28744ac2932b3\"",
    "created_at": "2021-09-03T23:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585502",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b2368c62fc1fbc08fc0f06191d3671fb33133a8b" to "f84730e30ff7ac94f5f5990eb5a28744ac2932b3"



---

archive/issue_comments_585503.json:
```json
{
    "body": "<a id='comment:94'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-03T23:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585503",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:94'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_585504.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-09-03T23:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585504",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_585505.json:
```json
{
    "body": "<a id='comment:95'></a>Thanks for catching this. When `configure --enable-editable` is not used, the \"cleaner\" erased `sage_setup`'s files at the end of the sagelib installation. Fixed now, tamed the cleaner.",
    "created_at": "2021-09-03T23:27:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585505",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:95'></a>Thanks for catching this. When `configure --enable-editable` is not used, the "cleaner" erased `sage_setup`'s files at the end of the sagelib installation. Fixed now, tamed the cleaner.



---

archive/issue_comments_585506.json:
```json
{
    "body": "<a id='comment:96'></a>seems to work for me (without `--enable-editable`).",
    "created_at": "2021-09-07T17:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585506",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:96'></a>seems to work for me (without `--enable-editable`).



---

archive/issue_comments_585507.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-07T17:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585507",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_585508.json:
```json
{
    "body": "<a id='comment:97'></a>Thank you!",
    "created_at": "2021-09-07T18:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585508",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:97'></a>Thank you!



---

archive/issue_comments_585509.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup\" to \"f84730e30ff7ac94f5f5990eb5a28744ac2932b3\"",
    "created_at": "2021-09-13T22:22:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585509",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/install_sage_setup_with_pip__move_sage_include_directories__cython_aliases_from_sage_env_to_sage_setup" to "f84730e30ff7ac94f5f5990eb5a28744ac2932b3"



---

archive/issue_events_076451.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-09-13T22:22:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29847#event-76451"
}
```



---

archive/issue_comments_585510.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-09-13T22:22:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29847",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29847#issuecomment-585510",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
