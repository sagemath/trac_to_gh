# Issue 29241: gfortran installation on 32bit userland, 64bit kernel: Configure for the same ABI as gcc

archive/issues_029004.json:
```json
{
    "assignees": [],
    "body": "The `i386-minimal` targets have build errors compiling `gfortran` (see for example https://github.com/mkoeppe/sage/runs/463683795) because of ABI mismatch. These tests are running 32-bit distributions on a 64-bit kernel. `gfortran` tries to build native (64-bit) but that fails because the corresponding architecture files are missing.\n\n\n\nCC:  @dimpase @sagetrac-tmonteil @vbraun @jhpalmieri @orlitzky\n\nBranch/Commit: **[c85c26f](https://github.com/sagemath/sagetrac-mirror/commit/c85c26f2beda594cfb6d8a5904ce7ecc39f28a18)**\n\nReviewer: **Michael Orlitzky**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **porting**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29241_\n\n",
    "closed_at": "2020-03-18T22:40:44Z",
    "created_at": "2020-02-24T08:00:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "gfortran installation on 32bit userland, 64bit kernel: Configure for the same ABI as gcc",
    "type": "issue",
    "updated_at": "2020-03-18T22:40:44Z",
    "url": "https://github.com/sagemath/sage/issues/29241",
    "user": "https://github.com/mkoeppe"
}
```
The `i386-minimal` targets have build errors compiling `gfortran` (see for example https://github.com/mkoeppe/sage/runs/463683795) because of ABI mismatch. These tests are running 32-bit distributions on a 64-bit kernel. `gfortran` tries to build native (64-bit) but that fails because the corresponding architecture files are missing.



CC:  @dimpase @sagetrac-tmonteil @vbraun @jhpalmieri @orlitzky

Branch/Commit: **[c85c26f](https://github.com/sagemath/sagetrac-mirror/commit/c85c26f2beda594cfb6d8a5904ce7ecc39f28a18)**

Reviewer: **Michael Orlitzky**

Author: **Matthias Koeppe**

Component: **porting**

_Issue created by migration from https://trac.sagemath.org/ticket/29241_





---

archive/issue_events_402025.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-02-24T08:00:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402025"
}
```



---

archive/issue_events_402026.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-02-24T08:00:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "000080",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402026"
}
```



---

archive/issue_events_402027.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-02-24T08:00:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402027"
}
```



---

archive/issue_events_402028.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-02-24T08:00:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402028"
}
```



---

archive/issue_comments_458645.json:
```json
{
    "body": "Branch: **[u/mkoeppe/gfortran_on_32bit__configure_for_the_same_abi_as_gcc](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/gfortran_on_32bit__configure_for_the_same_abi_as_gcc)**",
    "created_at": "2020-03-03T03:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458645",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/gfortran_on_32bit__configure_for_the_same_abi_as_gcc](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/gfortran_on_32bit__configure_for_the_same_abi_as_gcc)**



---

archive/issue_events_402029.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-03T03:27:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402029"
}
```



---

archive/issue_comments_458646.json:
```json
{
    "body": "Commit: **[3972311](https://github.com/sagemath/sagetrac-mirror/commit/3972311748757b4795754b4f7d831ed2fccdfa1a)**",
    "created_at": "2020-03-03T03:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458646",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[3972311](https://github.com/sagemath/sagetrac-mirror/commit/3972311748757b4795754b4f7d831ed2fccdfa1a)**



---

archive/issue_comments_458647.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nTested on `docker-debian-buster-i386-minimal`, where the gfortran build now succeeds.\nNeeds review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/749f83e1a74b3b0628bc372c413199103f8188c7\">749f83e</a></td><td><code>tox.ini: Add other archs supported by docker</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e941bd55340543b822ab2088b0ca52f49dab5c40\">e941bd5</a></td><td><code>fixup for llocal</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2441fe9c1443fbdcc9bfc50cca7f7a113ae2e545\">2441fe9</a></td><td><code>tox.ini: Restructure docker image:tag construction, add multiarch for Linux Docker</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f057cb8652617283ef27737b8e6b3e970d8d7c3\">2f057cb</a></td><td><code>tox.ini: Add raspbian</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f122bdda3253eeb23cef16c495491890f712959\">7f122bd</a></td><td><code>build/bin/write-dockerfile.sh: src/ext has moved and is no longer needed for the configure phase</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3972311748757b4795754b4f7d831ed2fccdfa1a\">3972311</a></td><td><code>gfortran on 32bit: Configure for the same ABI as gcc</code></td></tr></table>\n",
    "created_at": "2020-03-03T03:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458647",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

Tested on `docker-debian-buster-i386-minimal`, where the gfortran build now succeeds.
Needs review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/749f83e1a74b3b0628bc372c413199103f8188c7">749f83e</a></td><td><code>tox.ini: Add other archs supported by docker</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e941bd55340543b822ab2088b0ca52f49dab5c40">e941bd5</a></td><td><code>fixup for llocal</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2441fe9c1443fbdcc9bfc50cca7f7a113ae2e545">2441fe9</a></td><td><code>tox.ini: Restructure docker image:tag construction, add multiarch for Linux Docker</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f057cb8652617283ef27737b8e6b3e970d8d7c3">2f057cb</a></td><td><code>tox.ini: Add raspbian</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f122bdda3253eeb23cef16c495491890f712959">7f122bd</a></td><td><code>build/bin/write-dockerfile.sh: src/ext has moved and is no longer needed for the configure phase</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3972311748757b4795754b4f7d831ed2fccdfa1a">3972311</a></td><td><code>gfortran on 32bit: Configure for the same ABI as gcc</code></td></tr></table>




---

archive/issue_comments_458648.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-03-03T03:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458648",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_402030.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-03T22:52:15Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "title_is": "gfortran installation on 32bit userland, 64bit kernel: Configure for the same ABI as gcc",
    "title_was": "gfortran on 32bit: Configure for the same ABI as gcc",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402030"
}
```



---

archive/issue_comments_458649.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAnyone interested in reviewing this?",
    "created_at": "2020-03-08T20:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458649",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

Anyone interested in reviewing this?



---

archive/issue_comments_458650.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI don't know how to set up an environment where this change matters.",
    "created_at": "2020-03-08T20:41:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458650",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

I don't know how to set up an environment where this change matters.



---

archive/issue_comments_458651.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ae21c3f35718808ddbba90431097d18e3f95e7b\">7ae21c3</a></td><td><code>Merge tag '9.1.beta7' into t/29241/gfortran_on_32bit__configure_for_the_same_abi_as_gcc</code></td></tr></table>\n",
    "created_at": "2020-03-08T22:36:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458651",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ae21c3f35718808ddbba90431097d18e3f95e7b">7ae21c3</a></td><td><code>Merge tag '9.1.beta7' into t/29241/gfortran_on_32bit__configure_for_the_same_abi_as_gcc</code></td></tr></table>




---

archive/issue_comments_458652.json:
```json
{
    "body": "Changed commit from **[3972311](https://github.com/sagemath/sagetrac-mirror/commit/3972311748757b4795754b4f7d831ed2fccdfa1a)** to **[7ae21c3](https://github.com/sagemath/sagetrac-mirror/commit/7ae21c3f35718808ddbba90431097d18e3f95e7b)**",
    "created_at": "2020-03-08T22:36:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458652",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3972311](https://github.com/sagemath/sagetrac-mirror/commit/3972311748757b4795754b4f7d831ed2fccdfa1a)** to **[7ae21c3](https://github.com/sagemath/sagetrac-mirror/commit/7ae21c3f35718808ddbba90431097d18e3f95e7b)**



---

archive/issue_comments_458653.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nWill the gfortran `spkg-install` file ever be run on OS X?\n\n```\n$ gcc -print-multiarch\nclang: error: unknown argument: '-print-multiarch'\nclang: error: no input files\n```",
    "created_at": "2020-03-09T01:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458653",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:7" align="right">comment:7</div>

Will the gfortran `spkg-install` file ever be run on OS X?

```
$ gcc -print-multiarch
clang: error: unknown argument: '-print-multiarch'
clang: error: no input files
```



---

archive/issue_comments_458654.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThe equivalent option with clang is `gcc -print-target-triple`",
    "created_at": "2020-03-09T01:27:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458654",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

The equivalent option with clang is `gcc -print-target-triple`



---

archive/issue_events_402031.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-09T01:31:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402031"
}
```



---

archive/issue_events_402032.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-09T01:31:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402032"
}
```



---

archive/issue_comments_458655.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWell, on OS X building for i386 no longer works. But I'll add clang support just in case for FreeBSD.",
    "created_at": "2020-03-09T03:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458655",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Well, on OS X building for i386 no longer works. But I'll add clang support just in case for FreeBSD.



---

archive/issue_comments_458656.json:
```json
{
    "body": "Changed commit from **[7ae21c3](https://github.com/sagemath/sagetrac-mirror/commit/7ae21c3f35718808ddbba90431097d18e3f95e7b)** to **[35711ae](https://github.com/sagemath/sagetrac-mirror/commit/35711aea44edb54e56b1c46ec6b09465fd4acc79)**",
    "created_at": "2020-03-09T03:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458656",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7ae21c3](https://github.com/sagemath/sagetrac-mirror/commit/7ae21c3f35718808ddbba90431097d18e3f95e7b)** to **[35711ae](https://github.com/sagemath/sagetrac-mirror/commit/35711aea44edb54e56b1c46ec6b09465fd4acc79)**



---

archive/issue_comments_458657.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35711aea44edb54e56b1c46ec6b09465fd4acc79\">35711ae</a></td><td><code>Use gcc -print-target-triple for clang</code></td></tr></table>\n",
    "created_at": "2020-03-09T03:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458657",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35711aea44edb54e56b1c46ec6b09465fd4acc79">35711ae</a></td><td><code>Use gcc -print-target-triple for clang</code></td></tr></table>




---

archive/issue_events_402033.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-09T03:40:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402033"
}
```



---

archive/issue_events_402034.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-09T03:40:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402034"
}
```



---

archive/issue_comments_458658.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@dimpase](#comment:5):\n> I don't know how to set up an environment where this change matters.\n\nTests ran at https://github.com/mkoeppe/sage/runs/493828325\n\nFixed: `ubuntu-bionic-i386-minimal`, `ubuntu-eoan-i386-minimal`, `debian-buster-i386-minimal`.\n\nRemaining error: `centos-7-i386-minimal` (https://github.com/mkoeppe/sage/runs/493828336)",
    "created_at": "2020-03-09T21:01:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458658",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@dimpase](#comment:5):
> I don't know how to set up an environment where this change matters.

Tests ran at https://github.com/mkoeppe/sage/runs/493828325

Fixed: `ubuntu-bionic-i386-minimal`, `ubuntu-eoan-i386-minimal`, `debian-buster-i386-minimal`.

Remaining error: `centos-7-i386-minimal` (https://github.com/mkoeppe/sage/runs/493828336)



---

archive/issue_comments_458659.json:
```json
{
    "body": "Changed commit from **[35711ae](https://github.com/sagemath/sagetrac-mirror/commit/35711aea44edb54e56b1c46ec6b09465fd4acc79)** to **[7847ee9](https://github.com/sagemath/sagetrac-mirror/commit/7847ee9dc264532c071b4930d022fb41512e8a10)**",
    "created_at": "2020-03-09T21:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458659",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[35711ae](https://github.com/sagemath/sagetrac-mirror/commit/35711aea44edb54e56b1c46ec6b09465fd4acc79)** to **[7847ee9](https://github.com/sagemath/sagetrac-mirror/commit/7847ee9dc264532c071b4930d022fb41512e8a10)**



---

archive/issue_comments_458660.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7847ee9dc264532c071b4930d022fb41512e8a10\">7847ee9</a></td><td><code>build/pkgs/gfortran/spkg-build: Treat i[4-6]86 like i386</code></td></tr></table>\n",
    "created_at": "2020-03-09T21:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458660",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7847ee9dc264532c071b4930d022fb41512e8a10">7847ee9</a></td><td><code>build/pkgs/gfortran/spkg-build: Treat i[4-6]86 like i386</code></td></tr></table>




---

archive/issue_comments_458661.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcdb8cee9e31b937542e0f47d6f2d5d0d993dfbe\">dcdb8ce</a></td><td><code>Usee gcc -dumpmachine</code></td></tr></table>\n",
    "created_at": "2020-03-10T23:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458661",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcdb8cee9e31b937542e0f47d6f2d5d0d993dfbe">dcdb8ce</a></td><td><code>Usee gcc -dumpmachine</code></td></tr></table>




---

archive/issue_comments_458662.json:
```json
{
    "body": "Changed commit from **[7847ee9](https://github.com/sagemath/sagetrac-mirror/commit/7847ee9dc264532c071b4930d022fb41512e8a10)** to **[dcdb8ce](https://github.com/sagemath/sagetrac-mirror/commit/dcdb8cee9e31b937542e0f47d6f2d5d0d993dfbe)**",
    "created_at": "2020-03-10T23:33:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458662",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7847ee9](https://github.com/sagemath/sagetrac-mirror/commit/7847ee9dc264532c071b4930d022fb41512e8a10)** to **[dcdb8ce](https://github.com/sagemath/sagetrac-mirror/commit/dcdb8cee9e31b937542e0f47d6f2d5d0d993dfbe)**



---

archive/issue_comments_458663.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nTests at https://github.com/mkoeppe/sage/actions/runs/53297072",
    "created_at": "2020-03-10T23:48:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458663",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Tests at https://github.com/mkoeppe/sage/actions/runs/53297072



---

archive/issue_comments_458664.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThis fixed the remaining platform `centos-7-i386-minimal`.\n\nReady for review.",
    "created_at": "2020-03-11T18:16:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458664",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

This fixed the remaining platform `centos-7-i386-minimal`.

Ready for review.



---

archive/issue_comments_458665.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c830344820c40a8079d773a23c22378d10ce8e05\">c830344</a></td><td><code>Use gcc -dumpmachine</code></td></tr></table>\n",
    "created_at": "2020-03-15T23:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458665",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c830344820c40a8079d773a23c22378d10ce8e05">c830344</a></td><td><code>Use gcc -dumpmachine</code></td></tr></table>




---

archive/issue_comments_458666.json:
```json
{
    "body": "Changed commit from **[dcdb8ce](https://github.com/sagemath/sagetrac-mirror/commit/dcdb8cee9e31b937542e0f47d6f2d5d0d993dfbe)** to **[c830344](https://github.com/sagemath/sagetrac-mirror/commit/c830344820c40a8079d773a23c22378d10ce8e05)**",
    "created_at": "2020-03-15T23:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458666",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dcdb8ce](https://github.com/sagemath/sagetrac-mirror/commit/dcdb8cee9e31b937542e0f47d6f2d5d0d993dfbe)** to **[c830344](https://github.com/sagemath/sagetrac-mirror/commit/c830344820c40a8079d773a23c22378d10ce8e05)**



---

archive/issue_comments_458667.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI'll have to take your word for it that this fixes the problem. Some implementation nitpicks:\n\n```\nARCH=`$CC -dumpmachine 2>/dev/null || echo unknown`\n```\n\nThe form `$(command)` should be preferred over backticks here (http://mywiki.wooledge.org/BashFAQ/082).\n\nAnd if you explicitly want to call GCC here, shouldn't you use \"gcc\" instead of $CC?\n\n```\n    x86_64,i[3-6]86*)\n```\n\nPersonally I would just write `[3456]` there. Ranges in globs are a bash extension, but more importantly they involve the system locale and collation, leading to rare problems that can be avoided by just listing the numbers you want to match.",
    "created_at": "2020-03-16T00:18:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458667",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:20" align="right">comment:20</div>

I'll have to take your word for it that this fixes the problem. Some implementation nitpicks:

```
ARCH=`$CC -dumpmachine 2>/dev/null || echo unknown`
```

The form `$(command)` should be preferred over backticks here (http://mywiki.wooledge.org/BashFAQ/082).

And if you explicitly want to call GCC here, shouldn't you use "gcc" instead of $CC?

```
    x86_64,i[3-6]86*)
```

Personally I would just write `[3456]` there. Ranges in globs are a bash extension, but more importantly they involve the system locale and collation, leading to rare problems that can be avoided by just listing the numbers you want to match.



---

archive/issue_comments_458668.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@orlitzky](#comment:20):\n> I'll have to take your word for it that this fixes the problem. \n\nThe logs on the various machines are available at the links posted.\n\n> Some implementation nitpicks:\n> \n> ```\n> ARCH=`$CC -dumpmachine 2>/dev/null || echo unknown`\n> ```\n> \n> The form `$(command)` should be preferred over backticks here (http://mywiki.wooledge.org/BashFAQ/082).\n\nOK will do.\n\n> \n> And if you explicitly want to call GCC here, shouldn't you use \"gcc\" instead of $CC?\n\nNo, this needs to run the specific compiler that is configured!\n\n> ```\n>     x86_64,i[3-6]86*)\n> ```\n> \n> Personally I would just write `[3456]` there. Ranges in globs are a bash extension, but more importantly they involve the system locale and collation, leading to rare problems that can be avoided by just listing the numbers you want to match.\n\nOK will do.",
    "created_at": "2020-03-16T00:21:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458668",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@orlitzky](#comment:20):
> I'll have to take your word for it that this fixes the problem. 

The logs on the various machines are available at the links posted.

> Some implementation nitpicks:
> 
> ```
> ARCH=`$CC -dumpmachine 2>/dev/null || echo unknown`
> ```
> 
> The form `$(command)` should be preferred over backticks here (http://mywiki.wooledge.org/BashFAQ/082).

OK will do.

> 
> And if you explicitly want to call GCC here, shouldn't you use "gcc" instead of $CC?

No, this needs to run the specific compiler that is configured!

> ```
>     x86_64,i[3-6]86*)
> ```
> 
> Personally I would just write `[3456]` there. Ranges in globs are a bash extension, but more importantly they involve the system locale and collation, leading to rare problems that can be avoided by just listing the numbers you want to match.

OK will do.



---

archive/issue_comments_458669.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@mkoeppe](#comment:21):\n> > And if you explicitly want to call GCC here, shouldn't you use \"gcc\" instead of $CC?\n\n> \n> No, this needs to run the specific compiler that is configured!\n\nIn particular, this is supposed to work also if CC is configured to be \"gcc -m32\".",
    "created_at": "2020-03-16T00:27:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458669",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@mkoeppe](#comment:21):
> > And if you explicitly want to call GCC here, shouldn't you use "gcc" instead of $CC?

> 
> No, this needs to run the specific compiler that is configured!

In particular, this is supposed to work also if CC is configured to be "gcc -m32".



---

archive/issue_comments_458670.json:
```json
{
    "body": "Changed commit from **[c830344](https://github.com/sagemath/sagetrac-mirror/commit/c830344820c40a8079d773a23c22378d10ce8e05)** to **[c85c26f](https://github.com/sagemath/sagetrac-mirror/commit/c85c26f2beda594cfb6d8a5904ce7ecc39f28a18)**",
    "created_at": "2020-03-16T00:29:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458670",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c830344](https://github.com/sagemath/sagetrac-mirror/commit/c830344820c40a8079d773a23c22378d10ce8e05)** to **[c85c26f](https://github.com/sagemath/sagetrac-mirror/commit/c85c26f2beda594cfb6d8a5904ce7ecc39f28a18)**



---

archive/issue_comments_458671.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c85c26f2beda594cfb6d8a5904ce7ecc39f28a18\">c85c26f</a></td><td><code>build/pkgs/gfortran/spkg-build: shell style fixes suggested by mjo</code></td></tr></table>\n",
    "created_at": "2020-03-16T00:29:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458671",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c85c26f2beda594cfb6d8a5904ce7ecc39f28a18">c85c26f</a></td><td><code>build/pkgs/gfortran/spkg-build: shell style fixes suggested by mjo</code></td></tr></table>




---

archive/issue_comments_458672.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@mkoeppe](#comment:22):\n> \n> In particular, this is supposed to work also if CC is configured to be \"gcc -m32\".\n> \n\nAh, ok. I was thinking more along the lines of, what if `CC` is e.g. clang or icc?",
    "created_at": "2020-03-16T00:32:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458672",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@mkoeppe](#comment:22):
> 
> In particular, this is supposed to work also if CC is configured to be "gcc -m32".
> 

Ah, ok. I was thinking more along the lines of, what if `CC` is e.g. clang or icc?



---

archive/issue_comments_458673.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@orlitzky](#comment:24):\n> Replying to [@mkoeppe](#comment:22):\n> > \n> > In particular, this is supposed to work also if CC is configured to be \"gcc -m32\".\n> > \n\n> \n> Ah, ok. I was thinking more along the lines of, what if `CC` is e.g. clang or icc?\n\nWell, clang supports the `-dumpmachine` option too.\n\nI have not tested with icc; I don't know if Sage is known to build at all with this compiler.",
    "created_at": "2020-03-16T00:35:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458673",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@orlitzky](#comment:24):
> Replying to [@mkoeppe](#comment:22):
> > 
> > In particular, this is supposed to work also if CC is configured to be "gcc -m32".
> > 

> 
> Ah, ok. I was thinking more along the lines of, what if `CC` is e.g. clang or icc?

Well, clang supports the `-dumpmachine` option too.

I have not tested with icc; I don't know if Sage is known to build at all with this compiler.



---

archive/issue_comments_458674.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThere's some evidence (https://github.com/JuliaLang/julia/issues/9145) that icc supports this option too on Linux (but possibly not on macOS - which is not a problem because 32-bit builds are no longer supported; and the fallback to `unknown` should take care of it).",
    "created_at": "2020-03-16T00:44:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458674",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

There's some evidence (https://github.com/JuliaLang/julia/issues/9145) that icc supports this option too on Linux (but possibly not on macOS - which is not a problem because 32-bit builds are no longer supported; and the fallback to `unknown` should take care of it).



---

archive/issue_comments_458675.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nMy concern isn't about the `-dumpmachine` flag per se. We need to build gfortran with the same ABI as gcc, because gfortran tries to use headers from GCC and they won't be where gfortran expects them to be if the ABIs are mismatched. But if `CC=clang`, why should we insist that the ABI of clang and gfortran are the same? In that case, you still want to ensure that the ABIs of gfortran/gcc agree, not gfortran/clang.",
    "created_at": "2020-03-16T00:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458675",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:27" align="right">comment:27</div>

My concern isn't about the `-dumpmachine` flag per se. We need to build gfortran with the same ABI as gcc, because gfortran tries to use headers from GCC and they won't be where gfortran expects them to be if the ABIs are mismatched. But if `CC=clang`, why should we insist that the ABI of clang and gfortran are the same? In that case, you still want to ensure that the ABIs of gfortran/gcc agree, not gfortran/clang.



---

archive/issue_comments_458676.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nSimply because we cannot link 32bit & 64bit into one executable",
    "created_at": "2020-03-16T01:02:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458676",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

Simply because we cannot link 32bit & 64bit into one executable



---

archive/issue_comments_458677.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nWe need to build gfortran with the same ABI as the C compiler that is used, not some gcc that may be on the system.",
    "created_at": "2020-03-16T01:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458677",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">comment:29</div>

We need to build gfortran with the same ABI as the C compiler that is used, not some gcc that may be on the system.



---

archive/issue_comments_458678.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nOk, that makes sense. I was focusing on the `bits/libc-header-start.h: No such file or directory` errors. I guess we could still get build failures if GCC is 32-bit but someone has built a 64-bit clang and sets `CC=clang`. These are pretty low return-on-investment scenarios, though. Feel free to set positive review if the CI and build bots are happy.",
    "created_at": "2020-03-16T01:11:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458678",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:30" align="right">comment:30</div>

Ok, that makes sense. I was focusing on the `bits/libc-header-start.h: No such file or directory` errors. I guess we could still get build failures if GCC is 32-bit but someone has built a 64-bit clang and sets `CC=clang`. These are pretty low return-on-investment scenarios, though. Feel free to set positive review if the CI and build bots are happy.



---

archive/issue_comments_458679.json:
```json
{
    "body": "Reviewer: **Michael Orlitzky**",
    "created_at": "2020-03-16T01:11:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458679",
    "user": "https://github.com/orlitzky"
}
```

Reviewer: **Michael Orlitzky**



---

archive/issue_comments_458680.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@orlitzky](#comment:30):\n> Ok, that makes sense. I was focusing on the `bits/libc-header-start.h: No such file or directory` errors. I guess we could still get build failures if GCC is 32-bit but someone has built a 64-bit clang and sets `CC=clang`. \n\nRight. In this situation, probably we would have to build the full gcc, possibly with bootstrapping. \n\n> These are pretty low return-on-investment scenarios, though. \n\nI agree. If this ever becomes a problem, this can be fixed separately.\n\n> Feel free to set positive review if the CI and build bots are happy.\n\nThanks!",
    "created_at": "2020-03-16T01:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458680",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@orlitzky](#comment:30):
> Ok, that makes sense. I was focusing on the `bits/libc-header-start.h: No such file or directory` errors. I guess we could still get build failures if GCC is 32-bit but someone has built a 64-bit clang and sets `CC=clang`. 

Right. In this situation, probably we would have to build the full gcc, possibly with bootstrapping. 

> These are pretty low return-on-investment scenarios, though. 

I agree. If this ever becomes a problem, this can be fixed separately.

> Feel free to set positive review if the CI and build bots are happy.

Thanks!



---

archive/issue_events_402035.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-16T01:35:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402035"
}
```



---

archive/issue_events_402036.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-16T01:35:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402036"
}
```



---

archive/issue_events_402037.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-18T22:40:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402037"
}
```



---

archive/issue_events_402038.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e484a811789bd633a33e900f9112bb863e5c2834",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-03-18T22:40:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29241#event-402038"
}
```



---

archive/issue_comments_458681.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/gfortran_on_32bit__configure_for_the_same_abi_as_gcc](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/gfortran_on_32bit__configure_for_the_same_abi_as_gcc)** to **[c85c26f](https://github.com/sagemath/sagetrac-mirror/commit/c85c26f2beda594cfb6d8a5904ce7ecc39f28a18)**",
    "created_at": "2020-03-18T22:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29241#issuecomment-458681",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/gfortran_on_32bit__configure_for_the_same_abi_as_gcc](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/gfortran_on_32bit__configure_for_the_same_abi_as_gcc)** to **[c85c26f](https://github.com/sagemath/sagetrac-mirror/commit/c85c26f2beda594cfb6d8a5904ce7ecc39f28a18)**
