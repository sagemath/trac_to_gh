# Issue 29674: fedora-32:  If gcc 10 is found, install gcc spkg; fix building gcc (9.2.0) spkg with gcc 10

archive/issues_029437.json:
```json
{
    "assignees": [],
    "body": "To work around build failures of some SPKGs with gcc 10, in particular on fedora-32 (#29456), \nwe reject system gcc 10 and build the gcc spkg instead.\n\nThat itself requires patches, which we get from https://bugs.gentoo.org/708346, for the following error:\n\n```\nlibtool: compile:  /sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc/xgcc -shared-libgcc -B/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc -nostdinc++ -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src/.libs -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/libsupc++/.libs -B/sage/local/x86_64-pc-linux-gnu/bin/ -B/sage/local/x86_64-pc-linux-gnu/lib/ -isystem /sage/local/x86_64-pc-linux-gnu/include -isystem /sage/local/x86_64-pc-linux-gnu/sys-include -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -DHAVE_RPC_XDR_H=0 -DHAVE_TIRPC_RPC_XDR_H=0 -I. -I../../../../src/libsanitizer/sanitizer_common -I.. -I ../../../../src/libsanitizer/include -isystem ../../../../src/libsanitizer/include/system -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long -fPIC -fno-builtin -fno-exceptions -fno-rtti -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -I../../libstdc++-v3/include -I../../libstdc++-v3/include/x86_64-pc-linux-gnu -I../../../../src/libsanitizer/../libstdc++-v3/libsupc++ -std=gnu++11 -DSANITIZER_LIBBACKTRACE -DSANITIZER_CP_DEMANGLE -I ../../../../src/libsanitizer/../libbacktrace -I ../libbacktrace -I ../../../../src/libsanitizer/../include -include ../../../../src/libsanitizer/libbacktrace/backtrace-rename.h -g -O2 -D_GNU_SOURCE -MT sanitizer_posix.lo -MD -MP -MF .deps/sanitizer_posix.Tpo -c ../../../../src/libsanitizer/sanitizer_common/sanitizer_posix.cc  -fPIC -DPIC -o .libs/sanitizer_posix.o\nIn file included from ../../../../src/libsanitizer/sanitizer_common/sanitizer_platform_limits_posix.cc:193:\n../../../../src/libsanitizer/sanitizer_common/sanitizer_internal_defs.h:339:72: error: narrowing conversion of '-1' from 'int' to 'long unsigned int' [-Wnarrowing]\n  339 |     typedef char IMPL_PASTE(assertion_failed_##_, line)[2*(int)(pred)-1]\n      |                                                                        ^\n```\n\nTo reproduce:\n\n```\n  tox -e docker-fedora-32-standard-gcc_spkg\n```\n\nSee also:\n- https://bugzilla.redhat.com/show_bug.cgi?id=1774798\n\n\n\n\nCC:  @dimpase @kiwifb @orlitzky @vbraun @enriqueartal\n\nComponent: **packages: standard**\n\nAuthor: **Matthias Koeppe**\n\nBranch/Commit: **[`ca0d8a4`](https://github.com/sagemath/sagetrac-mirror/commit/ca0d8a4198517a8d6e019a8704a8de48f8e45ef8)**\n\nReviewer: **Michael Orlitzky**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29674_\n\n",
    "closed_at": "2020-05-13T19:17:23Z",
    "created_at": "2020-05-10T21:20:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "fedora-32:  If gcc 10 is found, install gcc spkg; fix building gcc (9.2.0) spkg with gcc 10",
    "type": "issue",
    "updated_at": "2020-05-13T19:17:23Z",
    "url": "https://github.com/sagemath/sage/issues/29674",
    "user": "https://github.com/mkoeppe"
}
```
To work around build failures of some SPKGs with gcc 10, in particular on fedora-32 (#29456), 
we reject system gcc 10 and build the gcc spkg instead.

That itself requires patches, which we get from https://bugs.gentoo.org/708346, for the following error:

```
libtool: compile:  /sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc/xgcc -shared-libgcc -B/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc -nostdinc++ -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src/.libs -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/libsupc++/.libs -B/sage/local/x86_64-pc-linux-gnu/bin/ -B/sage/local/x86_64-pc-linux-gnu/lib/ -isystem /sage/local/x86_64-pc-linux-gnu/include -isystem /sage/local/x86_64-pc-linux-gnu/sys-include -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -DHAVE_RPC_XDR_H=0 -DHAVE_TIRPC_RPC_XDR_H=0 -I. -I../../../../src/libsanitizer/sanitizer_common -I.. -I ../../../../src/libsanitizer/include -isystem ../../../../src/libsanitizer/include/system -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long -fPIC -fno-builtin -fno-exceptions -fno-rtti -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -I../../libstdc++-v3/include -I../../libstdc++-v3/include/x86_64-pc-linux-gnu -I../../../../src/libsanitizer/../libstdc++-v3/libsupc++ -std=gnu++11 -DSANITIZER_LIBBACKTRACE -DSANITIZER_CP_DEMANGLE -I ../../../../src/libsanitizer/../libbacktrace -I ../libbacktrace -I ../../../../src/libsanitizer/../include -include ../../../../src/libsanitizer/libbacktrace/backtrace-rename.h -g -O2 -D_GNU_SOURCE -MT sanitizer_posix.lo -MD -MP -MF .deps/sanitizer_posix.Tpo -c ../../../../src/libsanitizer/sanitizer_common/sanitizer_posix.cc  -fPIC -DPIC -o .libs/sanitizer_posix.o
In file included from ../../../../src/libsanitizer/sanitizer_common/sanitizer_platform_limits_posix.cc:193:
../../../../src/libsanitizer/sanitizer_common/sanitizer_internal_defs.h:339:72: error: narrowing conversion of '-1' from 'int' to 'long unsigned int' [-Wnarrowing]
  339 |     typedef char IMPL_PASTE(assertion_failed_##_, line)[2*(int)(pred)-1]
      |                                                                        ^
```

To reproduce:

```
  tox -e docker-fedora-32-standard-gcc_spkg
```

See also:
- https://bugzilla.redhat.com/show_bug.cgi?id=1774798




CC:  @dimpase @kiwifb @orlitzky @vbraun @enriqueartal

Component: **packages: standard**

Author: **Matthias Koeppe**

Branch/Commit: **[`ca0d8a4`](https://github.com/sagemath/sagetrac-mirror/commit/ca0d8a4198517a8d6e019a8704a8de48f8e45ef8)**

Reviewer: **Michael Orlitzky**

_Issue created by migration from https://trac.sagemath.org/ticket/29674_





---

archive/issue_events_405243.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-10T21:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405243"
}
```



---

archive/issue_events_405244.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-10T21:20:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405244"
}
```



---

archive/issue_events_405245.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-10T21:20:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405245"
}
```



---

archive/issue_events_405246.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-10T21:20:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405246"
}
```



---

archive/issue_comments_467456.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,3 +14,8 @@\n   tox -e docker-fedora-32-standard-gcc_spkg\n ```\n \n+See:\n+- https://bugs.gentoo.org/708346\n+- https://bugzilla.redhat.com/show_bug.cgi?id=1774798\n+\n+\n``````\n",
    "created_at": "2020-05-10T21:27:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467456",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,3 +14,8 @@
   tox -e docker-fedora-32-standard-gcc_spkg
 ```
 
+See:
+- https://bugs.gentoo.org/708346
+- https://bugzilla.redhat.com/show_bug.cgi?id=1774798
+
+
``````




---

archive/issue_comments_467457.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nLet's add the patches from gentoo",
    "created_at": "2020-05-10T21:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467457",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

Let's add the patches from gentoo



---

archive/issue_events_405247.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-10T21:29:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405247"
}
```



---

archive/issue_events_405248.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-10T21:29:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405248"
}
```



---

archive/issue_comments_467458.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-05-10T21:55:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467458",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_467459.json:
```json
{
    "body": "Branch: **[u/mkoeppe/fedora_32__building_gcc__9_2_0__spkg_fails_with_gcc_10](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fedora_32__building_gcc__9_2_0__spkg_fails_with_gcc_10)**",
    "created_at": "2020-05-10T22:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467459",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/fedora_32__building_gcc__9_2_0__spkg_fails_with_gcc_10](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fedora_32__building_gcc__9_2_0__spkg_fails_with_gcc_10)**



---

archive/issue_comments_467460.json:
```json
{
    "body": "Commit: **[`fb71dc0`](https://github.com/sagemath/sagetrac-mirror/commit/fb71dc08e9cbaaf2f841da8c23d1dd623c61ea22)**",
    "created_at": "2020-05-10T22:35:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467460",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`fb71dc0`](https://github.com/sagemath/sagetrac-mirror/commit/fb71dc08e9cbaaf2f841da8c23d1dd623c61ea22)**



---

archive/issue_comments_467461.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nTests of `-gcc_spkg` run at https://github.com/mkoeppe/sage/actions/runs/100892171\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/790d1b6a4eb184f8ced7d04410161de10327ac23\"><code>790d1b6</code></a></td><td><code>build/pkgs/gcc: Add gentoo patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb71dc08e9cbaaf2f841da8c23d1dd623c61ea22\"><code>fb71dc0</code></a></td><td><code>build/pkgs/gcc: Remove gentoo-specific part of gentoo patch</code></td></tr></table>\n",
    "created_at": "2020-05-10T22:35:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467461",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Tests of `-gcc_spkg` run at https://github.com/mkoeppe/sage/actions/runs/100892171

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/790d1b6a4eb184f8ced7d04410161de10327ac23"><code>790d1b6</code></a></td><td><code>build/pkgs/gcc: Add gentoo patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb71dc08e9cbaaf2f841da8c23d1dd623c61ea22"><code>fb71dc0</code></a></td><td><code>build/pkgs/gcc: Remove gentoo-specific part of gentoo patch</code></td></tr></table>




---

archive/issue_comments_467462.json:
```json
{
    "body": "Changed commit from **[`fb71dc0`](https://github.com/sagemath/sagetrac-mirror/commit/fb71dc08e9cbaaf2f841da8c23d1dd623c61ea22)** to **[`d5033ef`](https://github.com/sagemath/sagetrac-mirror/commit/d5033ef989e54c89b4e5484900f283bd4246b892)**",
    "created_at": "2020-05-10T23:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467462",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fb71dc0`](https://github.com/sagemath/sagetrac-mirror/commit/fb71dc08e9cbaaf2f841da8c23d1dd623c61ea22)** to **[`d5033ef`](https://github.com/sagemath/sagetrac-mirror/commit/d5033ef989e54c89b4e5484900f283bd4246b892)**



---

archive/issue_comments_467463.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52146410b53e8f33dbf032f94eaf9f678f94c2be\"><code>5214641</code></a></td><td><code>.github/workflows/tox-gcc_spkg.yml: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5033ef989e54c89b4e5484900f283bd4246b892\"><code>d5033ef</code></a></td><td><code>build/pkgs/gcc/spkg-configure.m4: Reject gcc (gnu) >= 10</code></td></tr></table>\n",
    "created_at": "2020-05-10T23:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467463",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52146410b53e8f33dbf032f94eaf9f678f94c2be"><code>5214641</code></a></td><td><code>.github/workflows/tox-gcc_spkg.yml: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5033ef989e54c89b4e5484900f283bd4246b892"><code>d5033ef</code></a></td><td><code>build/pkgs/gcc/spkg-configure.m4: Reject gcc (gnu) >= 10</code></td></tr></table>




---

archive/issue_events_405249.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-10T23:50:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "title_is": "fedora-32:  If gcc 10 is found, install gcc spkg; fix building gcc (9.2.0) spkg with gcc 10",
    "title_was": "fedora-32: Building gcc (9.2.0) spkg fails with gcc 10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405249"
}
```



---

archive/issue_comments_467464.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n+To work around build failures of some SPKGs with gcc 10, in particular on fedora-32 (#29456), \n+we reject system gcc 10 and build the gcc spkg instead.\n+\n+That itself requires patches, whuch we get from https://bugs.gentoo.org/708346, for the following error:\n \n ```\n libtool: compile:  /sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc/xgcc -shared-libgcc -B/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc -nostdinc++ -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src/.libs -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/libsupc++/.libs -B/sage/local/x86_64-pc-linux-gnu/bin/ -B/sage/local/x86_64-pc-linux-gnu/lib/ -isystem /sage/local/x86_64-pc-linux-gnu/include -isystem /sage/local/x86_64-pc-linux-gnu/sys-include -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -DHAVE_RPC_XDR_H=0 -DHAVE_TIRPC_RPC_XDR_H=0 -I. -I../../../../src/libsanitizer/sanitizer_common -I.. -I ../../../../src/libsanitizer/include -isystem ../../../../src/libsanitizer/include/system -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long -fPIC -fno-builtin -fno-exceptions -fno-rtti -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -I../../libstdc++-v3/include -I../../libstdc++-v3/include/x86_64-pc-linux-gnu -I../../../../src/libsanitizer/../libstdc++-v3/libsupc++ -std=gnu++11 -DSANITIZER_LIBBACKTRACE -DSANITIZER_CP_DEMANGLE -I ../../../../src/libsanitizer/../libbacktrace -I ../libbacktrace -I ../../../../src/libsanitizer/../include -include ../../../../src/libsanitizer/libbacktrace/backtrace-rename.h -g -O2 -D_GNU_SOURCE -MT sanitizer_posix.lo -MD -MP -MF .deps/sanitizer_posix.Tpo -c ../../../../src/libsanitizer/sanitizer_common/sanitizer_posix.cc  -fPIC -DPIC -o .libs/sanitizer_posix.o\n@@ -7,15 +11,14 @@\n       |                                                                        ^\n ```\n \n-\n To reproduce:\n \n ```\n   tox -e docker-fedora-32-standard-gcc_spkg\n ```\n \n-See:\n-- https://bugs.gentoo.org/708346\n+See also:\n - https://bugzilla.redhat.com/show_bug.cgi?id=1774798\n \n \n+\n``````\n",
    "created_at": "2020-05-10T23:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467464",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
+To work around build failures of some SPKGs with gcc 10, in particular on fedora-32 (#29456), 
+we reject system gcc 10 and build the gcc spkg instead.
+
+That itself requires patches, whuch we get from https://bugs.gentoo.org/708346, for the following error:
 
 ```
 libtool: compile:  /sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc/xgcc -shared-libgcc -B/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc -nostdinc++ -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src/.libs -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/libsupc++/.libs -B/sage/local/x86_64-pc-linux-gnu/bin/ -B/sage/local/x86_64-pc-linux-gnu/lib/ -isystem /sage/local/x86_64-pc-linux-gnu/include -isystem /sage/local/x86_64-pc-linux-gnu/sys-include -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -DHAVE_RPC_XDR_H=0 -DHAVE_TIRPC_RPC_XDR_H=0 -I. -I../../../../src/libsanitizer/sanitizer_common -I.. -I ../../../../src/libsanitizer/include -isystem ../../../../src/libsanitizer/include/system -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long -fPIC -fno-builtin -fno-exceptions -fno-rtti -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -I../../libstdc++-v3/include -I../../libstdc++-v3/include/x86_64-pc-linux-gnu -I../../../../src/libsanitizer/../libstdc++-v3/libsupc++ -std=gnu++11 -DSANITIZER_LIBBACKTRACE -DSANITIZER_CP_DEMANGLE -I ../../../../src/libsanitizer/../libbacktrace -I ../libbacktrace -I ../../../../src/libsanitizer/../include -include ../../../../src/libsanitizer/libbacktrace/backtrace-rename.h -g -O2 -D_GNU_SOURCE -MT sanitizer_posix.lo -MD -MP -MF .deps/sanitizer_posix.Tpo -c ../../../../src/libsanitizer/sanitizer_common/sanitizer_posix.cc  -fPIC -DPIC -o .libs/sanitizer_posix.o
@@ -7,15 +11,14 @@
       |                                                                        ^
 ```
 
-
 To reproduce:
 
 ```
   tox -e docker-fedora-32-standard-gcc_spkg
 ```
 
-See:
-- https://bugs.gentoo.org/708346
+See also:
 - https://bugzilla.redhat.com/show_bug.cgi?id=1774798
 
 
+
``````




---

archive/issue_events_405250.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-10T23:51:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405250"
}
```



---

archive/issue_comments_467465.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThe test for IS_REALLY_GCC had bitrotted away and as a result the version check actually didn't run. Fixed.",
    "created_at": "2020-05-10T23:53:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467465",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

The test for IS_REALLY_GCC had bitrotted away and as a result the version check actually didn't run. Fixed.



---

archive/issue_events_405251.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-11T01:09:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405251"
}
```



---

archive/issue_events_405252.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-11T01:09:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405252"
}
```



---

archive/issue_comments_467466.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76dcef3e539aae28a2d74ef2fbd59eed1530bf64\"><code>76dcef3</code></a></td><td><code>build/pkgs/gcc: Add gentoo patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a13e5e93328a944a5e2f14ff403c42828a90b988\"><code>a13e5e9</code></a></td><td><code>.github/workflows/tox-gcc_spkg.yml: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca0d8a4198517a8d6e019a8704a8de48f8e45ef8\"><code>ca0d8a4</code></a></td><td><code>build/pkgs/gcc/spkg-configure.m4: Reject gcc (gnu) >= 10</code></td></tr></table>\n",
    "created_at": "2020-05-11T01:12:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467466",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76dcef3e539aae28a2d74ef2fbd59eed1530bf64"><code>76dcef3</code></a></td><td><code>build/pkgs/gcc: Add gentoo patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a13e5e93328a944a5e2f14ff403c42828a90b988"><code>a13e5e9</code></a></td><td><code>.github/workflows/tox-gcc_spkg.yml: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca0d8a4198517a8d6e019a8704a8de48f8e45ef8"><code>ca0d8a4</code></a></td><td><code>build/pkgs/gcc/spkg-configure.m4: Reject gcc (gnu) >= 10</code></td></tr></table>




---

archive/issue_comments_467467.json:
```json
{
    "body": "Changed commit from **[`d5033ef`](https://github.com/sagemath/sagetrac-mirror/commit/d5033ef989e54c89b4e5484900f283bd4246b892)** to **[`ca0d8a4`](https://github.com/sagemath/sagetrac-mirror/commit/ca0d8a4198517a8d6e019a8704a8de48f8e45ef8)**",
    "created_at": "2020-05-11T01:12:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467467",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d5033ef`](https://github.com/sagemath/sagetrac-mirror/commit/d5033ef989e54c89b4e5484900f283bd4246b892)** to **[`ca0d8a4`](https://github.com/sagemath/sagetrac-mirror/commit/ca0d8a4198517a8d6e019a8704a8de48f8e45ef8)**



---

archive/issue_comments_467468.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nNew tests running at https://github.com/mkoeppe/sage/actions",
    "created_at": "2020-05-11T01:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467468",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

New tests running at https://github.com/mkoeppe/sage/actions



---

archive/issue_events_405253.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-11T01:35:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405253"
}
```



---

archive/issue_events_405254.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-11T01:35:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405254"
}
```



---

archive/issue_comments_467469.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n To work around build failures of some SPKGs with gcc 10, in particular on fedora-32 (#29456), \n we reject system gcc 10 and build the gcc spkg instead.\n \n-That itself requires patches, whuch we get from https://bugs.gentoo.org/708346, for the following error:\n+That itself requires patches, which we get from https://bugs.gentoo.org/708346, for the following error:\n \n ```\n libtool: compile:  /sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc/xgcc -shared-libgcc -B/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc -nostdinc++ -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src/.libs -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/libsupc++/.libs -B/sage/local/x86_64-pc-linux-gnu/bin/ -B/sage/local/x86_64-pc-linux-gnu/lib/ -isystem /sage/local/x86_64-pc-linux-gnu/include -isystem /sage/local/x86_64-pc-linux-gnu/sys-include -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -DHAVE_RPC_XDR_H=0 -DHAVE_TIRPC_RPC_XDR_H=0 -I. -I../../../../src/libsanitizer/sanitizer_common -I.. -I ../../../../src/libsanitizer/include -isystem ../../../../src/libsanitizer/include/system -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long -fPIC -fno-builtin -fno-exceptions -fno-rtti -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -I../../libstdc++-v3/include -I../../libstdc++-v3/include/x86_64-pc-linux-gnu -I../../../../src/libsanitizer/../libstdc++-v3/libsupc++ -std=gnu++11 -DSANITIZER_LIBBACKTRACE -DSANITIZER_CP_DEMANGLE -I ../../../../src/libsanitizer/../libbacktrace -I ../libbacktrace -I ../../../../src/libsanitizer/../include -include ../../../../src/libsanitizer/libbacktrace/backtrace-rename.h -g -O2 -D_GNU_SOURCE -MT sanitizer_posix.lo -MD -MP -MF .deps/sanitizer_posix.Tpo -c ../../../../src/libsanitizer/sanitizer_common/sanitizer_posix.cc  -fPIC -DPIC -o .libs/sanitizer_posix.o\n``````\n",
    "created_at": "2020-05-11T03:38:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467469",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 To work around build failures of some SPKGs with gcc 10, in particular on fedora-32 (#29456), 
 we reject system gcc 10 and build the gcc spkg instead.
 
-That itself requires patches, whuch we get from https://bugs.gentoo.org/708346, for the following error:
+That itself requires patches, which we get from https://bugs.gentoo.org/708346, for the following error:
 
 ```
 libtool: compile:  /sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc/xgcc -shared-libgcc -B/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/./gcc -nostdinc++ -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/src/.libs -L/sage/local/var/tmp/sage/build/gcc-9.2.0/gcc-build/x86_64-pc-linux-gnu/libstdc++-v3/libsupc++/.libs -B/sage/local/x86_64-pc-linux-gnu/bin/ -B/sage/local/x86_64-pc-linux-gnu/lib/ -isystem /sage/local/x86_64-pc-linux-gnu/include -isystem /sage/local/x86_64-pc-linux-gnu/sys-include -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -DHAVE_RPC_XDR_H=0 -DHAVE_TIRPC_RPC_XDR_H=0 -I. -I../../../../src/libsanitizer/sanitizer_common -I.. -I ../../../../src/libsanitizer/include -isystem ../../../../src/libsanitizer/include/system -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long -fPIC -fno-builtin -fno-exceptions -fno-rtti -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -I../../libstdc++-v3/include -I../../libstdc++-v3/include/x86_64-pc-linux-gnu -I../../../../src/libsanitizer/../libstdc++-v3/libsupc++ -std=gnu++11 -DSANITIZER_LIBBACKTRACE -DSANITIZER_CP_DEMANGLE -I ../../../../src/libsanitizer/../libbacktrace -I ../libbacktrace -I ../../../../src/libsanitizer/../include -include ../../../../src/libsanitizer/libbacktrace/backtrace-rename.h -g -O2 -D_GNU_SOURCE -MT sanitizer_posix.lo -MD -MP -MF .deps/sanitizer_posix.Tpo -c ../../../../src/libsanitizer/sanitizer_common/sanitizer_posix.cc  -fPIC -DPIC -o .libs/sanitizer_posix.o
``````




---

archive/issue_comments_467470.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nSome of the new tests for `-gcc_spkg` at https://github.com/mkoeppe/sage/runs/661787493?check_suite_focus=true have unrelated failures, for which I have opened #29675. These are not important to fix.",
    "created_at": "2020-05-11T05:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467470",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Some of the new tests for `-gcc_spkg` at https://github.com/mkoeppe/sage/runs/661787493?check_suite_focus=true have unrelated failures, for which I have opened #29675. These are not important to fix.



---

archive/issue_comments_467471.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n`fedora-32-standard-gcc_spkg` (https://github.com/mkoeppe/sage/runs/661787882), `fedora-32-standard-python2-gcc_spkg` (https://github.com/mkoeppe/sage/runs/661787887) work correctly with this fix. \n\n`fedora-32-minimal-gcc_spkg` (https://github.com/mkoeppe/sage/runs/661787878) is clean too but times out.",
    "created_at": "2020-05-11T14:57:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467471",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

`fedora-32-standard-gcc_spkg` (https://github.com/mkoeppe/sage/runs/661787882), `fedora-32-standard-python2-gcc_spkg` (https://github.com/mkoeppe/sage/runs/661787887) work correctly with this fix. 

`fedora-32-minimal-gcc_spkg` (https://github.com/mkoeppe/sage/runs/661787878) is clean too but times out.



---

archive/issue_comments_467472.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAnd `fedora-32-standard` (https://github.com/mkoeppe/sage/runs/661788407) shows the changes to the spkg-configure:\n\n```\nhecking whether SageMath should install SPKG gcc...\nchecking for C compiler vendor... gnu\nchecking whether g++ supports C++11 features with -std=gnu++11... yes\nchecking for gcc option to accept ISO C99... none needed\nchecking if gcc accepts -dumpversion option... yes\nchecking gcc version... 10\nchecking if g++ accepts -dumpversion option... yes\nchecking g++ version... 10\nconfigure: Installing GCC because g++ -std=gnu++11 is g++ version 10, which is too recent for this version of Sage\nconfigure: no suitable system package found for SPKG gcc\n```\nThe runs on systems other than `fedora-32` are unchanged (https://github.com/mkoeppe/sage/actions/runs/100987613).\n\n\nReady for review",
    "created_at": "2020-05-12T05:43:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467472",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

And `fedora-32-standard` (https://github.com/mkoeppe/sage/runs/661788407) shows the changes to the spkg-configure:

```
hecking whether SageMath should install SPKG gcc...
checking for C compiler vendor... gnu
checking whether g++ supports C++11 features with -std=gnu++11... yes
checking for gcc option to accept ISO C99... none needed
checking if gcc accepts -dumpversion option... yes
checking gcc version... 10
checking if g++ accepts -dumpversion option... yes
checking g++ version... 10
configure: Installing GCC because g++ -std=gnu++11 is g++ version 10, which is too recent for this version of Sage
configure: no suitable system package found for SPKG gcc
```
The runs on systems other than `fedora-32` are unchanged (https://github.com/mkoeppe/sage/actions/runs/100987613).


Ready for review



---

archive/issue_comments_467473.json:
```json
{
    "body": "Reviewer: **Michael Orlitzky**",
    "created_at": "2020-05-12T12:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467473",
    "user": "https://github.com/orlitzky"
}
```

Reviewer: **Michael Orlitzky**



---

archive/issue_events_405255.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-05-12T12:42:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405255"
}
```



---

archive/issue_events_405256.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-05-12T12:42:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405256"
}
```



---

archive/issue_comments_467474.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@mkoeppe](#comment%3A11):\n> The test for IS_REALLY_GCC had bitrotted away and as a result the version check actually didn't run. Fixed.\n\nI'm skeptical that this worked in the first place (that's a shell pipe, not a regex):\n\n```\nAS_CASE([\"$GXX_VERSION.0\"],\n                [[[0-3]].*|4.[[0-7]].*], [\n```\n\nI can't really test this but the changes are reasonable. The main risk with something like this is that the patches would break something with older glibc, but the fact that upstream backported these two patches to the 9.3 branch suggests that they wouldn't. The CI checks confirm that, and everyone else will be using their system GCC anyway, so let's try it.",
    "created_at": "2020-05-12T12:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467474",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@mkoeppe](#comment%3A11):
> The test for IS_REALLY_GCC had bitrotted away and as a result the version check actually didn't run. Fixed.

I'm skeptical that this worked in the first place (that's a shell pipe, not a regex):

```
AS_CASE(["$GXX_VERSION.0"],
                [[[0-3]].*|4.[[0-7]].*], [
```

I can't really test this but the changes are reasonable. The main risk with something like this is that the patches would break something with older glibc, but the fact that upstream backported these two patches to the 9.3 branch suggests that they wouldn't. The CI checks confirm that, and everyone else will be using their system GCC anyway, so let's try it.



---

archive/issue_comments_467475.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@orlitzky](#comment%3A20):\n> \n> I'm skeptical that this worked in the first place (that's a shell pipe, not a regex):\n> \n> ```\n> AS_CASE([\"$GXX_VERSION.0\"],\n>                 [[[0-3]].*|4.[[0-7]].*], [\n> ```\n> \n\nApparently it does, even without bash's extglob. TIL.",
    "created_at": "2020-05-12T12:49:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467475",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@orlitzky](#comment%3A20):
> 
> I'm skeptical that this worked in the first place (that's a shell pipe, not a regex):
> 
> ```
> AS_CASE(["$GXX_VERSION.0"],
>                 [[[0-3]].*|4.[[0-7]].*], [
> ```
> 

Apparently it does, even without bash's extglob. TIL.



---

archive/issue_comments_467476.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThanks!",
    "created_at": "2020-05-12T15:39:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467476",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Thanks!



---

archive/issue_events_405257.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-13T19:17:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405257"
}
```



---

archive/issue_events_405258.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d15ac822aef8f6e9d3370c2cae7e529163f2fe6a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-05-13T19:17:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29674#event-405258"
}
```



---

archive/issue_comments_467477.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/fedora_32__building_gcc__9_2_0__spkg_fails_with_gcc_10](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fedora_32__building_gcc__9_2_0__spkg_fails_with_gcc_10)** to **[`ca0d8a4`](https://github.com/sagemath/sagetrac-mirror/commit/ca0d8a4198517a8d6e019a8704a8de48f8e45ef8)**",
    "created_at": "2020-05-13T19:17:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29674",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29674#issuecomment-467477",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/fedora_32__building_gcc__9_2_0__spkg_fails_with_gcc_10](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fedora_32__building_gcc__9_2_0__spkg_fails_with_gcc_10)** to **[`ca0d8a4`](https://github.com/sagemath/sagetrac-mirror/commit/ca0d8a4198517a8d6e019a8704a8de48f8e45ef8)**
