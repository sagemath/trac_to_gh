# Issue 29143: tox.ini update: Fix breakage caused by src/ext move, add 32-bit linux environments and other architectures supported by docker

archive/issues_028906.json:
```json
{
    "body": "#29053 added `tox.ini` to support testing the sage distribution in isolated environments via docker.\n\nIn 9.1.beta6, the generated docker files do not work due to #21785.\n\nThis ticket fixes it and also adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).\n\nExamples:\n\n```\n$ tox -e docker-debian-buster-standard-i386\n$ tox -e docker-ubuntu-bionic-standard-arm64\n$ tox -e docker-ubuntu-bionic-minimal-armhf\n$ tox -e docker-fedora-31-standard-arm64v8         # Docker for Mac only\n$ tox -e docker-ubuntu-latest-standard-s390x       # Docker for Mac only\n```\n\n(The last two work with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.)\n\nSee also: https://trac.sagemath.org/wiki/ExoticPorts\n\n---\n\nResources:\n- How to Build and Run ARM Docker Containers on x86 Hosts \u00b7 MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html\n- Cross Building and Running Multi-Arch Docker Images \u2013 Micheal Waltz \u2013 DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/\n- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/\n- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/\n\n\nCC:  @vbraun tmonteil @kiwifb @dimpase\n\nBranch/Commit: 7f122bdda3253eeb23cef16c495491890f712959\n\nReviewer: Volker Braun\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29143\n\n",
    "closed_at": "2020-03-03T23:21:26Z",
    "created_at": "2020-02-02T17:33:59Z",
    "labels": [
        "component: porting"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "tox.ini update: Fix breakage caused by src/ext move, add 32-bit linux environments and other architectures supported by docker",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29143",
    "user": "https://github.com/mkoeppe"
}
```
#29053 added `tox.ini` to support testing the sage distribution in isolated environments via docker.

In 9.1.beta6, the generated docker files do not work due to #21785.

This ticket fixes it and also adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).

Examples:

```
$ tox -e docker-debian-buster-standard-i386
$ tox -e docker-ubuntu-bionic-standard-arm64
$ tox -e docker-ubuntu-bionic-minimal-armhf
$ tox -e docker-fedora-31-standard-arm64v8         # Docker for Mac only
$ tox -e docker-ubuntu-latest-standard-s390x       # Docker for Mac only
```

(The last two work with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.)

See also: https://trac.sagemath.org/wiki/ExoticPorts

---

Resources:
- How to Build and Run ARM Docker Containers on x86 Hosts · MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html
- Cross Building and Running Multi-Arch Docker Images – Micheal Waltz – DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/
- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/
- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/


CC:  @vbraun tmonteil @kiwifb @dimpase

Branch/Commit: 7f122bdda3253eeb23cef16c495491890f712959

Reviewer: Volker Braun

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29143





---

archive/issue_comments_435736.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,6 +1,8 @@\n #29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.\n \n This ticket adds some 32-bit linux environments such as https://hub.docker.com/r/i386/ubuntu/\n+\n+https://github.com/docker-library/official-images#architectures-other-than-amd64\n \n Comment: 1\n \n```\n",
    "created_at": "2020-02-02T17:46:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435736",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,6 +1,8 @@
 #29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.
 
 This ticket adds some 32-bit linux environments such as https://hub.docker.com/r/i386/ubuntu/
+
+https://github.com/docker-library/official-images#architectures-other-than-amd64
 
 Comment: 1
 
```




---

archive/issue_comments_435737.json:
```json
{
    "body": "<a id='comment:2'></a>on top of #29104 to avoid merge conflicts",
    "created_at": "2020-02-02T17:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435737",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>on top of #29104 to avoid merge conflicts



---

archive/issue_comments_435738.json:
```json
{
    "body": "<a id='comment:4'></a>Last 10 new commits:",
    "created_at": "2020-02-02T19:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435738",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>Last 10 new commits:



---

archive/issue_comments_435739.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-02-02T19:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435739",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_435740.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,16 @@\n+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.\n \n+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).\n+\n+Examples:\n+\n+```\n+$ tox -e docker-fedora-31-standard-arm64v8\n+$ tox -e docker-debian-buster-standard-i386\n+$ tox -e docker-ubuntu-latest-standard-s390x\n+```\n+\n+}}}\n \n Comment: 1\n \n```\n",
    "created_at": "2020-02-02T19:21:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435740",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,16 @@
+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.
 
+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).
+
+Examples:
+
+```
+$ tox -e docker-fedora-31-standard-arm64v8
+$ tox -e docker-debian-buster-standard-i386
+$ tox -e docker-ubuntu-latest-standard-s390x
+```
+
+}}}
 
 Comment: 1
 
```




---

archive/issue_comments_435741.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-02T21:00:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435742.json:
```json
{
    "body": "<a id='comment:7'></a>This works on macOS because it is running everything in a virtualbox.\n\nI haven't succeeded in getting it to work on github actions yet. last attempt: https://github.com/mkoeppe/sage/runs/422184737?check_suite_focus=true",
    "created_at": "2020-02-03T14:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435742",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>This works on macOS because it is running everything in a virtualbox.

I haven't succeeded in getting it to work on github actions yet. last attempt: https://github.com/mkoeppe/sage/runs/422184737?check_suite_focus=true



---

archive/issue_comments_435743.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,14 @@\n+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.\n+\n+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).\n+\n+Examples:\n+\n+```\n+$ tox -e docker-fedora-31-standard-arm64v8\n+$ tox -e docker-debian-buster-standard-i386\n+$ tox -e docker-ubuntu-latest-standard-s390x\n+```\n \n \n Comment: 1\n```\n",
    "created_at": "2020-02-03T14:18:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435743",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,14 @@
+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.
+
+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).
+
+Examples:
+
+```
+$ tox -e docker-fedora-31-standard-arm64v8
+$ tox -e docker-debian-buster-standard-i386
+$ tox -e docker-ubuntu-latest-standard-s390x
+```
 
 
 Comment: 1
```




---

archive/issue_comments_435744.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,20 @@\n+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.\n+\n+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).\n+\n+Examples:\n+\n+```\n+$ tox -e docker-fedora-31-standard-arm64v8\n+$ tox -e docker-debian-buster-standard-i386\n+$ tox -e docker-ubuntu-latest-standard-s390x\n+```\n+\n+This works out of the box with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.\n+- How to Build and Run ARM Docker Containers on x86 Hosts \u00b7 MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html\n+- Cross Building and Running Multi-Arch Docker Images \u2013 Micheal Waltz \u2013 DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/\n+- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/\n+- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/\n \n \n Comment: 1\n```\n",
    "created_at": "2020-02-04T22:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435744",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,20 @@
+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.
+
+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).
+
+Examples:
+
+```
+$ tox -e docker-fedora-31-standard-arm64v8
+$ tox -e docker-debian-buster-standard-i386
+$ tox -e docker-ubuntu-latest-standard-s390x
+```
+
+This works out of the box with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.
+- How to Build and Run ARM Docker Containers on x86 Hosts · MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html
+- Cross Building and Running Multi-Arch Docker Images – Micheal Waltz – DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/
+- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/
+- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/
 
 
 Comment: 1
```




---

archive/issue_comments_435745.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-06T14:39:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_435746.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,22 @@\n+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.\n+\n+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).\n+\n+Examples:\n+\n+```\n+$ tox -e docker-debian-buster-standard-i386\n+$ tox -e docker-ubuntu-bionic-standard-arm64\n+$ tox -e docker-ubuntu-bionic-minimal-armhf\n+$ tox -e docker-fedora-31-standard-arm64v8         # Docker for Mac only\n+$ tox -e docker-ubuntu-latest-standard-s390x       # Docker for Mac only\n+```\n+\n+This works out of the box with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.\n+- How to Build and Run ARM Docker Containers on x86 Hosts \u00b7 MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html\n+- Cross Building and Running Multi-Arch Docker Images \u2013 Micheal Waltz \u2013 DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/\n+- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/\n+- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/\n \n \n Comment: 1\n```\n",
    "created_at": "2020-02-06T14:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435746",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,22 @@
+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.
+
+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).
+
+Examples:
+
+```
+$ tox -e docker-debian-buster-standard-i386
+$ tox -e docker-ubuntu-bionic-standard-arm64
+$ tox -e docker-ubuntu-bionic-minimal-armhf
+$ tox -e docker-fedora-31-standard-arm64v8         # Docker for Mac only
+$ tox -e docker-ubuntu-latest-standard-s390x       # Docker for Mac only
+```
+
+This works out of the box with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.
+- How to Build and Run ARM Docker Containers on x86 Hosts · MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html
+- Cross Building and Running Multi-Arch Docker Images – Micheal Waltz – DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/
+- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/
+- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/
 
 
 Comment: 1
```




---

archive/issue_comments_435747.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,28 @@\n+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.\n+\n+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).\n+\n+Examples:\n+\n+```\n+$ tox -e docker-debian-buster-standard-i386\n+$ tox -e docker-ubuntu-bionic-standard-arm64\n+$ tox -e docker-ubuntu-bionic-minimal-armhf\n+$ tox -e docker-fedora-31-standard-arm64v8         # Docker for Mac only\n+$ tox -e docker-ubuntu-latest-standard-s390x       # Docker for Mac only\n+```\n+\n+(The last two work with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.)\n+\n+The branch is on top of #29104 (homebrew).\n+\n+---\n+\n+Resources:\n+- How to Build and Run ARM Docker Containers on x86 Hosts \u00b7 MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html\n+- Cross Building and Running Multi-Arch Docker Images \u2013 Micheal Waltz \u2013 DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/\n+- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/\n+- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/\n \n \n Comment: 1\n```\n",
    "created_at": "2020-02-06T14:46:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435747",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,28 @@
+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.
+
+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).
+
+Examples:
+
+```
+$ tox -e docker-debian-buster-standard-i386
+$ tox -e docker-ubuntu-bionic-standard-arm64
+$ tox -e docker-ubuntu-bionic-minimal-armhf
+$ tox -e docker-fedora-31-standard-arm64v8         # Docker for Mac only
+$ tox -e docker-ubuntu-latest-standard-s390x       # Docker for Mac only
+```
+
+(The last two work with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.)
+
+The branch is on top of #29104 (homebrew).
+
+---
+
+Resources:
+- How to Build and Run ARM Docker Containers on x86 Hosts · MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html
+- Cross Building and Running Multi-Arch Docker Images – Micheal Waltz – DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/
+- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/
+- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/
 
 
 Comment: 1
```




---

archive/issue_comments_435748.json:
```json
{
    "body": "<a id='comment:13'></a>Tests run at https://github.com/mkoeppe/sage/actions/runs/35630769",
    "created_at": "2020-02-06T21:04:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435748",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>Tests run at https://github.com/mkoeppe/sage/actions/runs/35630769



---

archive/issue_comments_435749.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,30 @@\n+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.\n+\n+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).\n+\n+Examples:\n+\n+```\n+$ tox -e docker-debian-buster-standard-i386\n+$ tox -e docker-ubuntu-bionic-standard-arm64\n+$ tox -e docker-ubuntu-bionic-minimal-armhf\n+$ tox -e docker-fedora-31-standard-arm64v8         # Docker for Mac only\n+$ tox -e docker-ubuntu-latest-standard-s390x       # Docker for Mac only\n+```\n+\n+(The last two work with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.)\n+\n+The branch is on top of #29104 (homebrew).\n+\n+See also: https://trac.sagemath.org/wiki/ExoticPorts\n+\n+---\n+\n+Resources:\n+- How to Build and Run ARM Docker Containers on x86 Hosts \u00b7 MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html\n+- Cross Building and Running Multi-Arch Docker Images \u2013 Micheal Waltz \u2013 DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/\n+- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/\n+- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/\n \n \n Comment: 1\n```\n",
    "created_at": "2020-02-08T23:00:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435749",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,30 @@
+#29053 adds `tox.ini` to support testing the sage distribution in isolated environments via docker.
+
+This ticket adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).
+
+Examples:
+
+```
+$ tox -e docker-debian-buster-standard-i386
+$ tox -e docker-ubuntu-bionic-standard-arm64
+$ tox -e docker-ubuntu-bionic-minimal-armhf
+$ tox -e docker-fedora-31-standard-arm64v8         # Docker for Mac only
+$ tox -e docker-ubuntu-latest-standard-s390x       # Docker for Mac only
+```
+
+(The last two work with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.)
+
+The branch is on top of #29104 (homebrew).
+
+See also: https://trac.sagemath.org/wiki/ExoticPorts
+
+---
+
+Resources:
+- How to Build and Run ARM Docker Containers on x86 Hosts · MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html
+- Cross Building and Running Multi-Arch Docker Images – Micheal Waltz – DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/
+- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/
+- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/
 
 
 Comment: 1
```




---

archive/issue_comments_435750.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-09T15:47:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435751.json:
```json
{
    "body": "<a id='comment:16'></a>Also this ticket needs review and would facilitate testing on 32bit x86 and ARM",
    "created_at": "2020-02-10T21:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435751",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>Also this ticket needs review and would facilitate testing on 32bit x86 and ARM



---

archive/issue_comments_435752.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-16T18:05:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435752",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435753.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-16T20:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435753",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_435754.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-03-02T02:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_435755.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,30 @@\n+#29053 added `tox.ini` to support testing the sage distribution in isolated environments via docker.\n+\n+In 9.1.beta6, the generated docker files do not work due to #21785.\n+\n+This ticket fixes it and also adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).\n+\n+Examples:\n+\n+```\n+$ tox -e docker-debian-buster-standard-i386\n+$ tox -e docker-ubuntu-bionic-standard-arm64\n+$ tox -e docker-ubuntu-bionic-minimal-armhf\n+$ tox -e docker-fedora-31-standard-arm64v8         # Docker for Mac only\n+$ tox -e docker-ubuntu-latest-standard-s390x       # Docker for Mac only\n+```\n+\n+(The last two work with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.)\n+\n+See also: https://trac.sagemath.org/wiki/ExoticPorts\n+\n+---\n+\n+Resources:\n+- How to Build and Run ARM Docker Containers on x86 Hosts \u00b7 MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html\n+- Cross Building and Running Multi-Arch Docker Images \u2013 Micheal Waltz \u2013 DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/\n+- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/\n+- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/\n \n \n Comment: 1\n```\n",
    "created_at": "2020-03-02T02:37:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435755",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,30 @@
+#29053 added `tox.ini` to support testing the sage distribution in isolated environments via docker.
+
+In 9.1.beta6, the generated docker files do not work due to #21785.
+
+This ticket fixes it and also adds linux environments for various other architectures supported by docker (see https://github.com/docker-library/official-images#architectures-other-than-amd64).
+
+Examples:
+
+```
+$ tox -e docker-debian-buster-standard-i386
+$ tox -e docker-ubuntu-bionic-standard-arm64
+$ tox -e docker-ubuntu-bionic-minimal-armhf
+$ tox -e docker-fedora-31-standard-arm64v8         # Docker for Mac only
+$ tox -e docker-ubuntu-latest-standard-s390x       # Docker for Mac only
+```
+
+(The last two work with macOS Docker Desktop because it has `binfmt_misc` with `qemu` enabled.)
+
+See also: https://trac.sagemath.org/wiki/ExoticPorts
+
+---
+
+Resources:
+- How to Build and Run ARM Docker Containers on x86 Hosts · MatchboxBlog - https://matchboxdorry.gitbooks.io/matchboxblog/content/blogs/build_and_run_arm_images.html
+- Cross Building and Running Multi-Arch Docker Images – Micheal Waltz – DevOps Engineer - https://www.ecliptik.com/Cross-Building-and-Running-Multi-Arch-Docker-Images/
+- multiarch/qemu-user-static - Docker Hub - https://hub.docker.com/r/multiarch/qemu-user-static/
+- multiarch/ubuntu-core - Docker Hub - https://hub.docker.com/r/multiarch/ubuntu-core/
 
 
 Comment: 1
```




---

archive/issue_comments_435756.json:
```json
{
    "body": "<a id='comment:20'></a>The branch is no longer on top of #29104 (homebrew). \n\nNeeds review.",
    "created_at": "2020-03-02T02:37:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435756",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>The branch is no longer on top of #29104 (homebrew). 

Needs review.



---

archive/issue_comments_435757.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-02T23:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435757",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_435758.json:
```json
{
    "body": "<a id='comment:22'></a>Thanks!",
    "created_at": "2020-03-02T23:33:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435758",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>Thanks!



---

archive/issue_events_073944.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-03T23:21:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29143#event-73944"
}
```



---

archive/issue_comments_435759.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-03T23:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29143",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29143#issuecomment-435759",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
