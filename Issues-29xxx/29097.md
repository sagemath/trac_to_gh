# Issue 29097: build/make/Makefile.in: Rename make targets SPKG-clean to SPKG-uninstall

archive/issues_028860.json:
```json
{
    "assignees": [],
    "body": "Cleaning means to remove build artifacts from the directory `@builddir@` (= SAGE_ROOT).\nBut these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.\n\nHence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). \n\n\nWe also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).\n\nRelated: \n- #29310 - introduced `make doc-uninstall`\n- #33705 `make doc-clean` should remove inventory, doctrees\n- #29386 Install script packages via `sage-spkg`\n- #29626 ./configure --enable-SPKG does not work for optional pip packages\n- #29868 pip-installable packages `sage-doc-html`, `sage-doc-pdf`\n\n\nCC:  @dimpase @embray @jhpalmieri @seblabbe @orlitzky @haraldschilly\n\nBranch/Commit: **[`72695aa`](https://github.com/sagemath/sagetrac-mirror/commit/72695aa2ee6c9c87e427933f11326d55f5ecc2c6)**\n\nReviewer: **Matthias Koeppe, John Palmieri**\n\nAuthor: **John Palmieri, Matthias Koeppe**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29097_\n\n",
    "closed_at": "2022-07-28T19:10:23Z",
    "created_at": "2020-01-29T01:51:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "build/make/Makefile.in: Rename make targets SPKG-clean to SPKG-uninstall",
    "type": "issue",
    "updated_at": "2022-07-28T19:10:23Z",
    "url": "https://github.com/sagemath/sage/issues/29097",
    "user": "https://github.com/mkoeppe"
}
```
Cleaning means to remove build artifacts from the directory `@builddir@` (= SAGE_ROOT).
But these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.

Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). 


We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).

Related: 
- #29310 - introduced `make doc-uninstall`
- #33705 `make doc-clean` should remove inventory, doctrees
- #29386 Install script packages via `sage-spkg`
- #29626 ./configure --enable-SPKG does not work for optional pip packages
- #29868 pip-installable packages `sage-doc-html`, `sage-doc-pdf`


CC:  @dimpase @embray @jhpalmieri @seblabbe @orlitzky @haraldschilly

Branch/Commit: **[`72695aa`](https://github.com/sagemath/sagetrac-mirror/commit/72695aa2ee6c9c87e427933f11326d55f5ecc2c6)**

Reviewer: **Matthias Koeppe, John Palmieri**

Author: **John Palmieri, Matthias Koeppe**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/29097_





---

archive/issue_events_399880.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-29T01:51:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399880"
}
```



---

archive/issue_events_399881.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-29T01:51:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399881"
}
```



---

archive/issue_events_399882.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-29T01:51:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399882"
}
```



---

archive/issue_events_399883.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-29T01:51:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399883"
}
```



---

archive/issue_comments_455604.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,4 @@\n But these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.\n \n \n+Likewise \"doc-output-clean\" should be renamed to \"doc-uninstall\".\n``````\n",
    "created_at": "2020-03-29T02:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455604",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,4 @@
 But these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.
 
 
+Likewise "doc-output-clean" should be renamed to "doc-uninstall".
``````




---

archive/issue_events_399884.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:09:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399884"
}
```



---

archive/issue_events_399885.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:09:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399885"
}
```



---

archive/issue_comments_455605.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,8 @@\n \n \n Likewise \"doc-output-clean\" should be renamed to \"doc-uninstall\".\n+\n+\n+Also useful would be phony targets of the form `SPKG-deps` that would install all prerequisite targets of `SPKG`, but not `SPKG` itself.\n+\n+Also related: #29626 ./configure --enable-SPKG does not work for optional pip packages\n``````\n",
    "created_at": "2020-04-30T23:42:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455605",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,8 @@
 
 
 Likewise "doc-output-clean" should be renamed to "doc-uninstall".
+
+
+Also useful would be phony targets of the form `SPKG-deps` that would install all prerequisite targets of `SPKG`, but not `SPKG` itself.
+
+Also related: #29626 ./configure --enable-SPKG does not work for optional pip packages
``````




---

archive/issue_comments_455606.json:
```json
{
    "body": "Dependencies: **#29793**",
    "created_at": "2020-06-14T13:48:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455606",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#29793**



---

archive/issue_comments_455607.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThere is no reason for any deprecation here, is there? I have a branch that I'm testing out now to do the change \"clean -> uninstall\", but not the new phony targets `SPKG-deps`.",
    "created_at": "2020-06-16T21:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455607",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">comment:6</div>

There is no reason for any deprecation here, is there? I have a branch that I'm testing out now to do the change "clean -> uninstall", but not the new phony targets `SPKG-deps`.



---

archive/issue_comments_455608.json:
```json
{
    "body": "Branch: **[u/jhpalmieri/clean2uninstall](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/clean2uninstall)**",
    "created_at": "2020-06-16T22:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455608",
    "user": "https://github.com/jhpalmieri"
}
```

Branch: **[u/jhpalmieri/clean2uninstall](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/clean2uninstall)**



---

archive/issue_comments_455609.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHere is a branch to test out. I wasn't sure about the instruction when docbuilding fails: \n\n```\n    Note: incremental documentation builds sometimes cause spurious\n    error messages. To be certain that these are real errors, run\n    \"make doc-clean\" first and try again.\n```\nThere could be artifacts that `make doc-uninstall` won't clean up, so I think I want to keep this as `make doc-clean`. I don't know if it should also suggest running `./bootstrap`, but that's a separate issue.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5203e5043ab29eb9fcf88256e8164ebe1d7bf0f3\"><code>5203e50</code></a></td><td><code>trac 29097: change \"make SPKG-clean\" to \"make SPKG-uninstall\".</code></td></tr></table>\n",
    "created_at": "2020-06-16T22:19:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455609",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

Here is a branch to test out. I wasn't sure about the instruction when docbuilding fails: 

```
    Note: incremental documentation builds sometimes cause spurious
    error messages. To be certain that these are real errors, run
    "make doc-clean" first and try again.
```
There could be artifacts that `make doc-uninstall` won't clean up, so I think I want to keep this as `make doc-clean`. I don't know if it should also suggest running `./bootstrap`, but that's a separate issue.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5203e5043ab29eb9fcf88256e8164ebe1d7bf0f3"><code>5203e50</code></a></td><td><code>trac 29097: change "make SPKG-clean" to "make SPKG-uninstall".</code></td></tr></table>




---

archive/issue_comments_455610.json:
```json
{
    "body": "Commit: **[`5203e50`](https://github.com/sagemath/sagetrac-mirror/commit/5203e5043ab29eb9fcf88256e8164ebe1d7bf0f3)**",
    "created_at": "2020-06-16T22:19:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455610",
    "user": "https://github.com/jhpalmieri"
}
```

Commit: **[`5203e50`](https://github.com/sagemath/sagetrac-mirror/commit/5203e5043ab29eb9fcf88256e8164ebe1d7bf0f3)**



---

archive/issue_comments_455611.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\n> There could be artifacts that make doc-uninstall won't clean up, so I think I want to keep this as make doc-clean\n\nRight now `doc-clean` does both `doc-src-clean doc-output-clean`. I suggest,\n\n0. Rename `doc-output-clean` to `doc-uninstall` (already done).\n1. Drop `doc-clean`\n2. Rename `doc-src-clean` to `doc-clean`\n3. Change the suggestion to run both `doc-clean` and `doc-uninstall`\n\nThat way the targets wind up with the right names, and the suggestion doesn't effectively change.\n\nNB: in this hunk the doc-src-clean was dropped (I don't know which is correct):\n\n```\n-doc-html-no-plot: doc-clean $(DOC_DEPENDENCIES)\n+doc-html-no-plot: doc-uninstall $(DOC_DEPENDENCIES)\n```",
    "created_at": "2020-06-17T00:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455611",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:9" align="right">comment:9</div>

> There could be artifacts that make doc-uninstall won't clean up, so I think I want to keep this as make doc-clean

Right now `doc-clean` does both `doc-src-clean doc-output-clean`. I suggest,

0. Rename `doc-output-clean` to `doc-uninstall` (already done).
1. Drop `doc-clean`
2. Rename `doc-src-clean` to `doc-clean`
3. Change the suggestion to run both `doc-clean` and `doc-uninstall`

That way the targets wind up with the right names, and the suggestion doesn't effectively change.

NB: in this hunk the doc-src-clean was dropped (I don't know which is correct):

```
-doc-html-no-plot: doc-clean $(DOC_DEPENDENCIES)
+doc-html-no-plot: doc-uninstall $(DOC_DEPENDENCIES)
```



---

archive/issue_comments_455612.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@orlitzky](#comment:9):\n> > There could be artifacts that make doc-uninstall won't clean up, so I think I want to keep this as make doc-clean\n\n> \n> Right now `doc-clean` does both `doc-src-clean doc-output-clean`. I suggest,\n> \n> 0. Rename `doc-output-clean` to `doc-uninstall` (already done).\n> 1. Drop `doc-clean`\n> 2. Rename `doc-src-clean` to `doc-clean`\n> 3. Change the suggestion to run both `doc-clean` and `doc-uninstall`\n> \n> That way the targets wind up with the right names, and the suggestion doesn't effectively change.\n\nMy only reluctance is that I am very used to typing `make doc-clean` when working with tickets involving docbuilding. I don't know how many others are in the same habit, but we would all have to change that habit.\n\n> NB: in this hunk the doc-src-clean was dropped (I don't know which is correct):\n> \n> ```\n> -doc-html-no-plot: doc-clean $(DOC_DEPENDENCIES)\n> +doc-html-no-plot: doc-uninstall $(DOC_DEPENDENCIES)\n> ```\n\nThis should be okay: the reason to clean the docs when toggling `doc-html-no-plot` is because inclusion (or not) of plots is cached in the doc output (in local/share/doc/sage/inventory or maybe .../doctrees). So `doc-uninstall` should be good enough. It works for me, at least.",
    "created_at": "2020-06-17T20:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455612",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@orlitzky](#comment:9):
> > There could be artifacts that make doc-uninstall won't clean up, so I think I want to keep this as make doc-clean

> 
> Right now `doc-clean` does both `doc-src-clean doc-output-clean`. I suggest,
> 
> 0. Rename `doc-output-clean` to `doc-uninstall` (already done).
> 1. Drop `doc-clean`
> 2. Rename `doc-src-clean` to `doc-clean`
> 3. Change the suggestion to run both `doc-clean` and `doc-uninstall`
> 
> That way the targets wind up with the right names, and the suggestion doesn't effectively change.

My only reluctance is that I am very used to typing `make doc-clean` when working with tickets involving docbuilding. I don't know how many others are in the same habit, but we would all have to change that habit.

> NB: in this hunk the doc-src-clean was dropped (I don't know which is correct):
> 
> ```
> -doc-html-no-plot: doc-clean $(DOC_DEPENDENCIES)
> +doc-html-no-plot: doc-uninstall $(DOC_DEPENDENCIES)
> ```

This should be okay: the reason to clean the docs when toggling `doc-html-no-plot` is because inclusion (or not) of plots is cached in the doc output (in local/share/doc/sage/inventory or maybe .../doctrees). So `doc-uninstall` should be good enough. It works for me, at least.



---

archive/issue_comments_455613.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nFor the `doc-...` cleaning/uninstalling targets, I would like to understand first whether everything that we put in `$SAGE_LOCAL/share/doc/sage/` should really be installed there. \n\nAre `doctrees` and `inventory` needed in the installation at all? Do other Python packages install inventory files? Or is this just something that is reused and updated in an incremental docbuild?",
    "created_at": "2020-08-10T01:15:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455613",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

For the `doc-...` cleaning/uninstalling targets, I would like to understand first whether everything that we put in `$SAGE_LOCAL/share/doc/sage/` should really be installed there. 

Are `doctrees` and `inventory` needed in the installation at all? Do other Python packages install inventory files? Or is this just something that is reused and updated in an incremental docbuild?



---

archive/issue_comments_455614.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,5 @@\n Also useful would be phony targets of the form `SPKG-deps` that would install all prerequisite targets of `SPKG`, but not `SPKG` itself.\n \n Also related: #29626 ./configure --enable-SPKG does not work for optional pip packages\n+\n+See also: #29868 pip-installable packages `sage-doc-html`, `sage-doc-pdf`\n``````\n",
    "created_at": "2020-08-10T01:17:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455614",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,5 @@
 Also useful would be phony targets of the form `SPKG-deps` that would install all prerequisite targets of `SPKG`, but not `SPKG` itself.
 
 Also related: #29626 ./configure --enable-SPKG does not work for optional pip packages
+
+See also: #29868 pip-installable packages `sage-doc-html`, `sage-doc-pdf`
``````




---

archive/issue_comments_455615.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe inventory files are intended to allow for cross-references among different pieces of the documentation: see https://www.sphinx-doc.org/en/master/usage/extensions/intersphinx.html and `set_intersphinx_mapping` in `src/sage/docs/conf.py`. It allows the tutorial (for example) to refer to the reference manual. For example, the reference <code>:ref:\\`sage.rings.padics.tutorial\\`</code> in `tour_numtheory.rst` in the tutorial points to the reference manual, and I think this uses the inventory files to construct the link when building the documentation.\n\nAccording to https://www.sphinx-doc.org/en/master/man/sphinx-build.html, the doctrees are used to cache the parsed source files before writing output. Once the output has been written, they aren't needed, so I guess they could be moved somewhere else, and I'm guessing the same for the inventory files, but I think they are all needed when building the docs.",
    "created_at": "2020-08-10T05:30:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455615",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:13" align="right">comment:13</div>

The inventory files are intended to allow for cross-references among different pieces of the documentation: see https://www.sphinx-doc.org/en/master/usage/extensions/intersphinx.html and `set_intersphinx_mapping` in `src/sage/docs/conf.py`. It allows the tutorial (for example) to refer to the reference manual. For example, the reference <code>:ref:\`sage.rings.padics.tutorial\`</code> in `tour_numtheory.rst` in the tutorial points to the reference manual, and I think this uses the inventory files to construct the link when building the documentation.

According to https://www.sphinx-doc.org/en/master/man/sphinx-build.html, the doctrees are used to cache the parsed source files before writing output. Once the output has been written, they aren't needed, so I guess they could be moved somewhere else, and I'm guessing the same for the inventory files, but I think they are all needed when building the docs.



---

archive/issue_comments_455616.json:
```json
{
    "body": "Changed dependencies from **#29793** to **#29793, #29868**",
    "created_at": "2020-08-13T02:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455616",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29793** to **#29793, #29868**



---

archive/issue_events_399886.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T02:57:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399886"
}
```



---

archive/issue_events_399887.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T02:57:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399887"
}
```



---

archive/issue_comments_455617.json:
```json
{
    "body": "Changed dependencies from **#29793, #29868** to **#29793, #29868, #29386**",
    "created_at": "2020-09-24T23:58:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455617",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29793, #29868** to **#29793, #29868, #29386**



---

archive/issue_comments_455618.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,7 @@\n Cleaning means to remove build artifacts from the directory `@builddir@` (= SAGE_ROOT).\n But these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.\n+\n+(Part of this has been done in #29386.)\n \n \n Likewise \"doc-output-clean\" should be renamed to \"doc-uninstall\".\n``````\n",
    "created_at": "2020-09-24T23:58:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455618",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,7 @@
 Cleaning means to remove build artifacts from the directory `@builddir@` (= SAGE_ROOT).
 But these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.
+
+(Part of this has been done in #29386.)
 
 
 Likewise "doc-output-clean" should be renamed to "doc-uninstall".
``````




---

archive/issue_events_399888.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399888"
}
```



---

archive/issue_events_399889.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399889"
}
```



---

archive/issue_comments_455619.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nSage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455619",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_455620.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,8 @@\n \n Likewise \"doc-output-clean\" should be renamed to \"doc-uninstall\".\n \n+Also `make docbuild-clean` does not do anything at all.\n+\n \n Also useful would be phony targets of the form `SPKG-deps` that would install all prerequisite targets of `SPKG`, but not `SPKG` itself.\n \n``````\n",
    "created_at": "2021-07-03T21:57:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455620",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,8 @@
 
 Likewise "doc-output-clean" should be renamed to "doc-uninstall".
 
+Also `make docbuild-clean` does not do anything at all.
+
 
 Also useful would be phony targets of the form `SPKG-deps` that would install all prerequisite targets of `SPKG`, but not `SPKG` itself.
 
``````




---

archive/issue_events_399890.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399890"
}
```



---

archive/issue_events_399891.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399891"
}
```



---

archive/issue_events_399892.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-27T01:03:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399892"
}
```



---

archive/issue_events_399893.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-27T01:03:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399893"
}
```



---

archive/issue_events_399894.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:45:28Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399894"
}
```



---

archive/issue_events_399895.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:45:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399895"
}
```



---

archive/issue_comments_455621.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,16 +1,9 @@\n Cleaning means to remove build artifacts from the directory `@builddir@` (= SAGE_ROOT).\n But these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.\n \n-(Part of this has been done in #29386.)\n+Related: \n+- #29310 - introduced `make doc-uninstall`\n+- #29386 Install script packages via `sage-spkg`\n+- #29626 ./configure --enable-SPKG does not work for optional pip packages\n+- #29868 pip-installable packages `sage-doc-html`, `sage-doc-pdf`\n \n-\n-Likewise \"doc-output-clean\" should be renamed to \"doc-uninstall\".\n-\n-Also `make docbuild-clean` does not do anything at all.\n-\n-\n-Also useful would be phony targets of the form `SPKG-deps` that would install all prerequisite targets of `SPKG`, but not `SPKG` itself.\n-\n-Also related: #29626 ./configure --enable-SPKG does not work for optional pip packages\n-\n-See also: #29868 pip-installable packages `sage-doc-html`, `sage-doc-pdf`\n``````\n",
    "created_at": "2022-07-21T06:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455621",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,16 +1,9 @@
 Cleaning means to remove build artifacts from the directory `@builddir@` (= SAGE_ROOT).
 But these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.
 
-(Part of this has been done in #29386.)
+Related: 
+- #29310 - introduced `make doc-uninstall`
+- #29386 Install script packages via `sage-spkg`
+- #29626 ./configure --enable-SPKG does not work for optional pip packages
+- #29868 pip-installable packages `sage-doc-html`, `sage-doc-pdf`
 
-
-Likewise "doc-output-clean" should be renamed to "doc-uninstall".
-
-Also `make docbuild-clean` does not do anything at all.
-
-
-Also useful would be phony targets of the form `SPKG-deps` that would install all prerequisite targets of `SPKG`, but not `SPKG` itself.
-
-Also related: #29626 ./configure --enable-SPKG does not work for optional pip packages
-
-See also: #29868 pip-installable packages `sage-doc-html`, `sage-doc-pdf`
``````




---

archive/issue_comments_455622.json:
```json
{
    "body": "Author: **John Palmieri, Matthias Koeppe**",
    "created_at": "2022-07-21T06:32:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455622",
    "user": "https://github.com/mkoeppe"
}
```

Author: **John Palmieri, Matthias Koeppe**



---

archive/issue_comments_455623.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,13 @@\n Cleaning means to remove build artifacts from the directory `@builddir@` (= SAGE_ROOT).\n But these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.\n \n+Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.)\n+\n+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203\n+\n Related: \n - #29310 - introduced `make doc-uninstall`\n+- #33705 `make doc-clean` should remove inventory, doctrees\n - #29386 Install script packages via `sage-spkg`\n - #29626 ./configure --enable-SPKG does not work for optional pip packages\n - #29868 pip-installable packages `sage-doc-html`, `sage-doc-pdf`\n``````\n",
    "created_at": "2022-07-21T06:32:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455623",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,13 @@
 Cleaning means to remove build artifacts from the directory `@builddir@` (= SAGE_ROOT).
 But these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.
 
+Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.)
+
+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203
+
 Related: 
 - #29310 - introduced `make doc-uninstall`
+- #33705 `make doc-clean` should remove inventory, doctrees
 - #29386 Install script packages via `sage-spkg`
 - #29626 ./configure --enable-SPKG does not work for optional pip packages
 - #29868 pip-installable packages `sage-doc-html`, `sage-doc-pdf`
``````




---

archive/issue_comments_455624.json:
```json
{
    "body": "Changed dependencies from **#29793, #29868, #29386** to none",
    "created_at": "2022-07-21T06:32:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455624",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29793, #29868, #29386** to none



---

archive/issue_comments_455625.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/clean2uninstall](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/clean2uninstall)** to **[u/mkoeppe/clean2uninstall](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/clean2uninstall)**",
    "created_at": "2022-07-21T06:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455625",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/jhpalmieri/clean2uninstall](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/clean2uninstall)** to **[u/mkoeppe/clean2uninstall](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/clean2uninstall)**



---

archive/issue_comments_455626.json:
```json
{
    "body": "Changed commit from **[`5203e50`](https://github.com/sagemath/sagetrac-mirror/commit/5203e5043ab29eb9fcf88256e8164ebe1d7bf0f3)** to **[`65a5604`](https://github.com/sagemath/sagetrac-mirror/commit/65a56047d5933990cc3a65ef437b530a08aa3f7b)**",
    "created_at": "2022-07-21T06:35:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455626",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`5203e50`](https://github.com/sagemath/sagetrac-mirror/commit/5203e5043ab29eb9fcf88256e8164ebe1d7bf0f3)** to **[`65a5604`](https://github.com/sagemath/sagetrac-mirror/commit/65a56047d5933990cc3a65ef437b530a08aa3f7b)**



---

archive/issue_comments_455627.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2633cc9b0e65e80c25a41eb0afb31aa2512a199a\"><code>2633cc9</code></a></td><td><code>build/sage_bootstrap/uninstall.py: Do not refuse to uninstall packages that do not exist in the source tree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbc61b3b29e36ac84031b8665486d7623ceaf5c5\"><code>dbc61b3</code></a></td><td><code>build/sage_bootstrap/uninstall.py: Do not override the stamp file location from environment variable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a5ea93b14204008c3398eec1c24262a4e4a0277\"><code>3a5ea93</code></a></td><td><code>build/make/Makefile.in: New implicit targets %-SAGE_LOCAL-uninstall, %-SAGE_VENV-uninstall</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65a56047d5933990cc3a65ef437b530a08aa3f7b\"><code>65a5604</code></a></td><td><code>trac 29097: change \"make SPKG-clean\" to \"make SPKG-uninstall\".</code></td></tr></table>\n",
    "created_at": "2022-07-21T06:35:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455627",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2633cc9b0e65e80c25a41eb0afb31aa2512a199a"><code>2633cc9</code></a></td><td><code>build/sage_bootstrap/uninstall.py: Do not refuse to uninstall packages that do not exist in the source tree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbc61b3b29e36ac84031b8665486d7623ceaf5c5"><code>dbc61b3</code></a></td><td><code>build/sage_bootstrap/uninstall.py: Do not override the stamp file location from environment variable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a5ea93b14204008c3398eec1c24262a4e4a0277"><code>3a5ea93</code></a></td><td><code>build/make/Makefile.in: New implicit targets %-SAGE_LOCAL-uninstall, %-SAGE_VENV-uninstall</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65a56047d5933990cc3a65ef437b530a08aa3f7b"><code>65a5604</code></a></td><td><code>trac 29097: change "make SPKG-clean" to "make SPKG-uninstall".</code></td></tr></table>




---

archive/issue_events_399896.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-21T06:35:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399896"
}
```



---

archive/issue_comments_455628.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,8 @@\n Cleaning means to remove build artifacts from the directory `@builddir@` (= SAGE_ROOT).\n But these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.\n \n-Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.)\n+Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). \n+\n \n We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203\n \n``````\n",
    "created_at": "2022-07-21T07:02:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455628",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,8 @@
 Cleaning means to remove build artifacts from the directory `@builddir@` (= SAGE_ROOT).
 But these targets *uninstall* packages from `@prefix@=$SAGE_LOCAL`.
 
-Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.)
+Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). 
+
 
 We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203
 
``````




---

archive/issue_comments_455629.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). \n \n \n-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203\n+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).\n \n Related: \n - #29310 - introduced `make doc-uninstall`\n``````\n",
    "created_at": "2022-07-21T18:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455629",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). 
 
 
-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203
+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).
 
 Related: 
 - #29310 - introduced `make doc-uninstall`
``````




---

archive/issue_comments_455630.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). \n \n \n-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).\n+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).\n \n Related: \n - #29310 - introduced `make doc-uninstall`\n``````\n",
    "created_at": "2022-07-21T18:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455630",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). 
 
 
-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).
+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).
 
 Related: 
 - #29310 - introduced `make doc-uninstall`
``````




---

archive/issue_comments_455631.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). \n \n \n-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).\n+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203\n \n Related: \n - #29310 - introduced `make doc-uninstall`\n``````\n",
    "created_at": "2022-07-21T19:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455631",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). 
 
 
-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).
+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203
 
 Related: 
 - #29310 - introduced `make doc-uninstall`
``````




---

archive/issue_comments_455632.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nWhat is the purpose of the `%-SAGE_LOCAL-uninstall` and `%-SAGE_VENV-uninstall` targets? Where are they used?",
    "created_at": "2022-07-21T19:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455632",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:29" align="right">comment:29</div>

What is the purpose of the `%-SAGE_LOCAL-uninstall` and `%-SAGE_VENV-uninstall` targets? Where are they used?



---

archive/issue_comments_455633.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). \n \n \n-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203\n+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).\n \n Related: \n - #29310 - introduced `make doc-uninstall`\n``````\n",
    "created_at": "2022-07-21T19:04:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455633",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). 
 
 
-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is for #34203
+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).
 
 Related: 
 - #29310 - introduced `make doc-uninstall`
``````




---

archive/issue_comments_455634.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). \n \n \n-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).\n+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-SAGE_VENV-uninstall` (works).\n \n Related: \n - #29310 - introduced `make doc-uninstall`\n``````\n",
    "created_at": "2022-07-21T19:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455634",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). 
 
 
-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).
+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-SAGE_VENV-uninstall` (works).
 
 Related: 
 - #29310 - introduced `make doc-uninstall`
``````




---

archive/issue_comments_455635.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nFixed the description to explain it",
    "created_at": "2022-07-21T19:12:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455635",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

Fixed the description to explain it



---

archive/issue_comments_455636.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nAh, but I can probably do better",
    "created_at": "2022-07-21T19:14:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455636",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

Ah, but I can probably do better



---

archive/issue_comments_455637.json:
```json
{
    "body": "<div id=\"comment:34\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46096069a2b56db02e600ccb542e3823d2d7c322\"><code>4609606</code></a></td><td><code>build/make/Makefile.in: Also add implicit rule %-uninstall</code></td></tr></table>\n",
    "created_at": "2022-07-21T19:22:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455637",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46096069a2b56db02e600ccb542e3823d2d7c322"><code>4609606</code></a></td><td><code>build/make/Makefile.in: Also add implicit rule %-uninstall</code></td></tr></table>




---

archive/issue_comments_455638.json:
```json
{
    "body": "Changed commit from **[`65a5604`](https://github.com/sagemath/sagetrac-mirror/commit/65a56047d5933990cc3a65ef437b530a08aa3f7b)** to **[`4609606`](https://github.com/sagemath/sagetrac-mirror/commit/46096069a2b56db02e600ccb542e3823d2d7c322)**",
    "created_at": "2022-07-21T19:22:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455638",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`65a5604`](https://github.com/sagemath/sagetrac-mirror/commit/65a56047d5933990cc3a65ef437b530a08aa3f7b)** to **[`4609606`](https://github.com/sagemath/sagetrac-mirror/commit/46096069a2b56db02e600ccb542e3823d2d7c322)**



---

archive/issue_comments_455639.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). \n \n \n-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-SAGE_VENV-uninstall` (works).\n+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).\n \n Related: \n - #29310 - introduced `make doc-uninstall`\n``````\n",
    "created_at": "2022-07-21T19:22:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455639",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 Hence we rename `SPKG-clean` targets to `SPKG-uninstall` (but keep `SPKG-clean` as an alias.) This also unifies the targets between normal and script packages (the latter used `-uninstall` already). 
 
 
-We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-SAGE_VENV-uninstall` (works).
+We also add implicit rules that allow users to uninstall packages that no longer exist in the source tree. This is preparation for #34203. To test this, switch to the branch of #33530 and build one of the packages added, for example `make fastjsonschema`. Switch back to current `develop` and try to remove it (does not work). Switch to the branch here and run `make fastjsonschema-uninstall` (works).
 
 Related: 
 - #29310 - introduced `make doc-uninstall`
``````




---

archive/issue_comments_455640.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThank you for the explanation and the new target; that now makes sense.\n\nNot from this branch: I don't understand `SAGE_I_TARGETS`. <code>List of targets that can be run using \\`sage -i\\` or \\`sage -f\\`</code>. The list contains only `sagelib` and `doc`, so is the implication that one shouldn't use `sage -i sagetex`? As far as I can tell, `SAGE_I_TARGETS` is only used in the `list` target.\n\nRegarding this change in `sage_bootstrap/uninstall.py`:\n\n```\n     # The default path to this directory; however its value should be read\n     # from the environment if possible\n     spkg_inst = pth.join(sage_local, 'var', 'lib', 'sage', 'installed')\n-    spkg_inst = os.environ.get('SAGE_SPKG_INST', spkg_inst)\n```\nIs the point that we now have two possible locations for the installation files, either SAGE_LOCAL or SAGE_VENV, so we can't use the single variable `SAGE_SPKG_INST`? I think the comment about reading the value from the environment should probably be removed or changed.\n\nOtherwise things look good.",
    "created_at": "2022-07-21T22:06:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455640",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:36" align="right">comment:36</div>

Thank you for the explanation and the new target; that now makes sense.

Not from this branch: I don't understand `SAGE_I_TARGETS`. <code>List of targets that can be run using \`sage -i\` or \`sage -f\`</code>. The list contains only `sagelib` and `doc`, so is the implication that one shouldn't use `sage -i sagetex`? As far as I can tell, `SAGE_I_TARGETS` is only used in the `list` target.

Regarding this change in `sage_bootstrap/uninstall.py`:

```
     # The default path to this directory; however its value should be read
     # from the environment if possible
     spkg_inst = pth.join(sage_local, 'var', 'lib', 'sage', 'installed')
-    spkg_inst = os.environ.get('SAGE_SPKG_INST', spkg_inst)
```
Is the point that we now have two possible locations for the installation files, either SAGE_LOCAL or SAGE_VENV, so we can't use the single variable `SAGE_SPKG_INST`? I think the comment about reading the value from the environment should probably be removed or changed.

Otherwise things look good.



---

archive/issue_comments_455641.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nAnd if you're going to fix the comment about environment variables, maybe also fix the docstring for the function to not refer to just `SAGE_LOCAL` but also `SAGE_VENV`? Or point out in the docstring that the variable `sage_local` should be either `SAGE_LOCAL` or `SAGE_VENV`?",
    "created_at": "2022-07-21T22:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455641",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:37" align="right">comment:37</div>

And if you're going to fix the comment about environment variables, maybe also fix the docstring for the function to not refer to just `SAGE_LOCAL` but also `SAGE_VENV`? Or point out in the docstring that the variable `sage_local` should be either `SAGE_LOCAL` or `SAGE_VENV`?



---

archive/issue_comments_455642.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@jhpalmieri](#comment:36):\n> Regarding this change in `sage_bootstrap/uninstall.py`:\n> \n> ```\n>      # The default path to this directory; however its value should be read\n>      # from the environment if possible\n>      spkg_inst = pth.join(sage_local, 'var', 'lib', 'sage', 'installed')\n> -    spkg_inst = os.environ.get('SAGE_SPKG_INST', spkg_inst)\n> ```\n> Is the point that we now have two possible locations for the installation files, either SAGE_LOCAL or SAGE_VENV, so we can't use the single variable `SAGE_SPKG_INST`?\n\nYes.\n\n> I think the comment about reading the value from the environment should probably be removed or changed.\n\nThanks, I'll fix that",
    "created_at": "2022-07-21T22:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455642",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@jhpalmieri](#comment:36):
> Regarding this change in `sage_bootstrap/uninstall.py`:
> 
> ```
>      # The default path to this directory; however its value should be read
>      # from the environment if possible
>      spkg_inst = pth.join(sage_local, 'var', 'lib', 'sage', 'installed')
> -    spkg_inst = os.environ.get('SAGE_SPKG_INST', spkg_inst)
> ```
> Is the point that we now have two possible locations for the installation files, either SAGE_LOCAL or SAGE_VENV, so we can't use the single variable `SAGE_SPKG_INST`?

Yes.

> I think the comment about reading the value from the environment should probably be removed or changed.

Thanks, I'll fix that



---

archive/issue_comments_455643.json:
```json
{
    "body": "Changed commit from **[`4609606`](https://github.com/sagemath/sagetrac-mirror/commit/46096069a2b56db02e600ccb542e3823d2d7c322)** to **[`e9b30bb`](https://github.com/sagemath/sagetrac-mirror/commit/e9b30bb31428885a6bebbf6a56f7491431046554)**",
    "created_at": "2022-07-21T22:47:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455643",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4609606`](https://github.com/sagemath/sagetrac-mirror/commit/46096069a2b56db02e600ccb542e3823d2d7c322)** to **[`e9b30bb`](https://github.com/sagemath/sagetrac-mirror/commit/e9b30bb31428885a6bebbf6a56f7491431046554)**



---

archive/issue_comments_455644.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9b30bb31428885a6bebbf6a56f7491431046554\"><code>e9b30bb</code></a></td><td><code>build/sage_bootstrap/uninstall.py: Update comment</code></td></tr></table>\n",
    "created_at": "2022-07-21T22:47:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455644",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9b30bb31428885a6bebbf6a56f7491431046554"><code>e9b30bb</code></a></td><td><code>build/sage_bootstrap/uninstall.py: Update comment</code></td></tr></table>




---

archive/issue_comments_455645.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fef04d0cf798c43d33f40a2f4aa5ad04395ed6e9\"><code>fef04d0</code></a></td><td><code>build/sage_bootstrap/uninstall.py: Clarify that the sage_local argument is SAGE_LOCAL or SAGE_VENV</code></td></tr></table>\n",
    "created_at": "2022-07-21T22:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455645",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fef04d0cf798c43d33f40a2f4aa5ad04395ed6e9"><code>fef04d0</code></a></td><td><code>build/sage_bootstrap/uninstall.py: Clarify that the sage_local argument is SAGE_LOCAL or SAGE_VENV</code></td></tr></table>




---

archive/issue_comments_455646.json:
```json
{
    "body": "Changed commit from **[`e9b30bb`](https://github.com/sagemath/sagetrac-mirror/commit/e9b30bb31428885a6bebbf6a56f7491431046554)** to **[`fef04d0`](https://github.com/sagemath/sagetrac-mirror/commit/fef04d0cf798c43d33f40a2f4aa5ad04395ed6e9)**",
    "created_at": "2022-07-21T22:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455646",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e9b30bb`](https://github.com/sagemath/sagetrac-mirror/commit/e9b30bb31428885a6bebbf6a56f7491431046554)** to **[`fef04d0`](https://github.com/sagemath/sagetrac-mirror/commit/fef04d0cf798c43d33f40a2f4aa5ad04395ed6e9)**



---

archive/issue_comments_455647.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nReplying to [@jhpalmieri](#comment:37):\n> And if you're going to fix the comment about environment variables, maybe also fix the docstring for the function to not refer to just `SAGE_LOCAL` but also `SAGE_VENV`? Or point out in the docstring that the variable `sage_local` should be either `SAGE_LOCAL` or `SAGE_VENV`?\n\nDone, please take a look",
    "created_at": "2022-07-21T22:52:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455647",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:41" align="right">comment:41</div>

Replying to [@jhpalmieri](#comment:37):
> And if you're going to fix the comment about environment variables, maybe also fix the docstring for the function to not refer to just `SAGE_LOCAL` but also `SAGE_VENV`? Or point out in the docstring that the variable `sage_local` should be either `SAGE_LOCAL` or `SAGE_VENV`?

Done, please take a look



---

archive/issue_comments_455648.json:
```json
{
    "body": "Changed commit from **[`fef04d0`](https://github.com/sagemath/sagetrac-mirror/commit/fef04d0cf798c43d33f40a2f4aa5ad04395ed6e9)** to **[`9693865`](https://github.com/sagemath/sagetrac-mirror/commit/9693865b1eabba0fd125679c1d25e13365d9211c)**",
    "created_at": "2022-07-21T22:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455648",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fef04d0`](https://github.com/sagemath/sagetrac-mirror/commit/fef04d0cf798c43d33f40a2f4aa5ad04395ed6e9)** to **[`9693865`](https://github.com/sagemath/sagetrac-mirror/commit/9693865b1eabba0fd125679c1d25e13365d9211c)**



---

archive/issue_comments_455649.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9693865b1eabba0fd125679c1d25e13365d9211c\"><code>9693865</code></a></td><td><code>build/make/Makefile.in: Clarify SAGE_I_TARGETS</code></td></tr></table>\n",
    "created_at": "2022-07-21T22:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455649",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9693865b1eabba0fd125679c1d25e13365d9211c"><code>9693865</code></a></td><td><code>build/make/Makefile.in: Clarify SAGE_I_TARGETS</code></td></tr></table>




---

archive/issue_comments_455650.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2022-07-21T23:07:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455650",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **John Palmieri**



---

archive/issue_comments_455651.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nLooks good to me. I don't have access to my usual computer so I can't push to trac right now. If you feel like fixing it, there is a typo:\n\n```diff\ndiff --git a/build/sage_bootstrap/uninstall.py b/build/sage_bootstrap/uninstall.py\nindex feb91ead158..1ce039921fc 100644\n--- a/build/sage_bootstrap/uninstall.py\n+++ b/build/sage_bootstrap/uninstall.py\n@@ -51,7 +51,7 @@ PKGS = pth.join(SAGE_ROOT, 'build', 'pkgs')\n \n def uninstall(spkg_name, sage_local, keep_files=False, verbose=False):\n     \"\"\"\n-    Given a package name and path to an installation tree (SAGE_LOCAL or SAGE_VENV,\n+    Given a package name and path to an installation tree (SAGE_LOCAL or SAGE_VENV),\n     uninstall that package from that tree if it is currently installed.\n     \"\"\"\n \n```",
    "created_at": "2022-07-21T23:07:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455651",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:43" align="right">comment:43</div>

Looks good to me. I don't have access to my usual computer so I can't push to trac right now. If you feel like fixing it, there is a typo:

```diff
diff --git a/build/sage_bootstrap/uninstall.py b/build/sage_bootstrap/uninstall.py
index feb91ead158..1ce039921fc 100644
--- a/build/sage_bootstrap/uninstall.py
+++ b/build/sage_bootstrap/uninstall.py
@@ -51,7 +51,7 @@ PKGS = pth.join(SAGE_ROOT, 'build', 'pkgs')
 
 def uninstall(spkg_name, sage_local, keep_files=False, verbose=False):
     """
-    Given a package name and path to an installation tree (SAGE_LOCAL or SAGE_VENV,
+    Given a package name and path to an installation tree (SAGE_LOCAL or SAGE_VENV),
     uninstall that package from that tree if it is currently installed.
     """
 
```



---

archive/issue_events_399897.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2022-07-21T23:07:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399897"
}
```



---

archive/issue_events_399898.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2022-07-21T23:07:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399898"
}
```



---

archive/issue_comments_455652.json:
```json
{
    "body": "Changed commit from **[`9693865`](https://github.com/sagemath/sagetrac-mirror/commit/9693865b1eabba0fd125679c1d25e13365d9211c)** to **[`72695aa`](https://github.com/sagemath/sagetrac-mirror/commit/72695aa2ee6c9c87e427933f11326d55f5ecc2c6)**",
    "created_at": "2022-07-21T23:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455652",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9693865`](https://github.com/sagemath/sagetrac-mirror/commit/9693865b1eabba0fd125679c1d25e13365d9211c)** to **[`72695aa`](https://github.com/sagemath/sagetrac-mirror/commit/72695aa2ee6c9c87e427933f11326d55f5ecc2c6)**



---

archive/issue_comments_455653.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72695aa2ee6c9c87e427933f11326d55f5ecc2c6\"><code>72695aa</code></a></td><td><code>build/sage_bootstrap/uninstall.py: Fix typo in docstring</code></td></tr></table>\n",
    "created_at": "2022-07-21T23:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455653",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72695aa2ee6c9c87e427933f11326d55f5ecc2c6"><code>72695aa</code></a></td><td><code>build/sage_bootstrap/uninstall.py: Fix typo in docstring</code></td></tr></table>




---

archive/issue_events_399899.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-07-21T23:09:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399899"
}
```



---

archive/issue_events_399900.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-07-21T23:09:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399900"
}
```



---

archive/issue_comments_455654.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThank you!",
    "created_at": "2022-07-21T23:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455654",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">comment:45</div>

Thank you!



---

archive/issue_events_399901.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-21T23:09:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399901"
}
```



---

archive/issue_events_399902.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-21T23:09:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399902"
}
```



---

archive/issue_comments_455655.json:
```json
{
    "body": "Changed reviewer from **John Palmieri** to **Matthias Koeppe, John Palmieri**",
    "created_at": "2022-07-21T23:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455655",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **John Palmieri** to **Matthias Koeppe, John Palmieri**



---

archive/issue_comments_455656.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/clean2uninstall](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/clean2uninstall)** to **[`72695aa`](https://github.com/sagemath/sagetrac-mirror/commit/72695aa2ee6c9c87e427933f11326d55f5ecc2c6)**",
    "created_at": "2022-07-28T19:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29097#issuecomment-455656",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/clean2uninstall](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/clean2uninstall)** to **[`72695aa`](https://github.com/sagemath/sagetrac-mirror/commit/72695aa2ee6c9c87e427933f11326d55f5ecc2c6)**



---

archive/issue_events_399903.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-07-28T19:10:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399903"
}
```



---

archive/issue_events_399904.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c744d7c09c553c7f3ca657e07016a5782e4920ae",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-07-28T19:10:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29097",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29097#event-399904"
}
```
