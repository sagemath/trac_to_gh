# Issue 29415: tox.ini: Add environment local-conda

archive/issues_029178.json:
```json
{
    "assignees": [],
    "body": "This environment creates an isolated conda installation within the tox environment directory,\nsimilar to `local-homebrew`.\n\nTo run:\n\n```\n   MAKE=\"make -j8\" tox -e local-conda-forge-standard\n   MAKE=\"make -j8\" tox -e local-conda-forge-minimal\n```\n\nDepends on #29087\n\nCC:  @dimpase @jhpalmieri @isuruf @saraedum @kliem\n\nBranch: **[a61c48e](https://github.com/sagemath/sagetrac-mirror/commit/a61c48e04b0c463b02fb47903454a94133b3a560)**\n\nReviewer: **Isuru Fernando**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **porting**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/29415_\n\n",
    "closed_at": "2020-04-09T22:44:44Z",
    "created_at": "2020-03-27T15:24:09Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "tox.ini: Add environment local-conda",
    "type": "issue",
    "updated_at": "2020-04-25T03:16:55Z",
    "url": "https://github.com/sagemath/sage/issues/29415",
    "user": "https://github.com/mkoeppe"
}
```
This environment creates an isolated conda installation within the tox environment directory,
similar to `local-homebrew`.

To run:

```
   MAKE="make -j8" tox -e local-conda-forge-standard
   MAKE="make -j8" tox -e local-conda-forge-minimal
```

Depends on #29087

CC:  @dimpase @jhpalmieri @isuruf @saraedum @kliem

Branch: **[a61c48e](https://github.com/sagemath/sagetrac-mirror/commit/a61c48e04b0c463b02fb47903454a94133b3a560)**

Reviewer: **Isuru Fernando**

Author: **Matthias Koeppe**

Component: **porting**

_Issue created by migration from https://trac.sagemath.org/ticket/29415_





---

archive/issue_events_404521.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-27T15:24:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29415#event-404521"
}
```



---

archive/issue_events_404522.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-27T15:24:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "000080",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29415#event-404522"
}
```



---

archive/issue_events_404523.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-27T15:24:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29415#event-404523"
}
```



---

archive/issue_events_404524.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-27T15:24:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29415#event-404524"
}
```



---

archive/issue_comments_462123.json:
```json
{
    "body": "Branch: **[u/mkoeppe/tox_ini__add_environment_local_conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_environment_local_conda)**",
    "created_at": "2020-03-28T21:33:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462123",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/tox_ini__add_environment_local_conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_environment_local_conda)**



---

archive/issue_comments_462124.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65834f04ef89d9d29eaf506e62384149201d2040\">65834f0</a></td><td><code>Reorder systems so debian-sid comes after other debians</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d95a6885ce70ace12e60252dc05b9899257fcd8f\">d95a688</a></td><td><code>tox.ini [ubuntu-focal]: Use IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3896794928805d7aaba149885180eed533ff15f8\">3896794</a></td><td><code>Merge tag '9.1.beta8' into t/29354/tox_ini__add_slackware_environments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bda9ebd0572f000d5bc3141ff06e2d24ac621412\">bda9ebd</a></td><td><code>Add slackware package info</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbb73933b72f189a654beb96e8cac0afc7d975a8\">fbb7393</a></td><td><code>Fixup packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfcd8f285facfd1c1d9d21efea5cd1759552ac31\">cfcd8f2</a></td><td><code>build/bin/sage-guess-package-system, build/bin/sage-print-system-package-command: Handle slackware too</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/136feeb63f5fa2bea181790420f935b9cf492ac1\">136feeb</a></td><td><code>build/bin/sage-spkg: Show equivalent system packages for ALL distros</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9939051ef6326c46861c219fb4994144b4ae5ec9\">9939051</a></td><td><code>Merge branch 't/29354/tox_ini__add_slackware_environments' into t/29087/CI-gh-actions-tox-configure-build</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/818796ef7d68f09851a386decee83e8b35bdfd7f\">818796e</a></td><td><code>tox.ini: Add local-conda environments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36e1c9afe2379c243d02bd348adb75c720247f78\">36e1c9a</a></td><td><code>tox.yml: Add local-conda-forge</code></td></tr></table>\n",
    "created_at": "2020-03-28T21:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462124",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65834f04ef89d9d29eaf506e62384149201d2040">65834f0</a></td><td><code>Reorder systems so debian-sid comes after other debians</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d95a6885ce70ace12e60252dc05b9899257fcd8f">d95a688</a></td><td><code>tox.ini [ubuntu-focal]: Use IGNORE_MISSING_SYSTEM_PACKAGES=yes because of libpython3.7-dev</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3896794928805d7aaba149885180eed533ff15f8">3896794</a></td><td><code>Merge tag '9.1.beta8' into t/29354/tox_ini__add_slackware_environments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bda9ebd0572f000d5bc3141ff06e2d24ac621412">bda9ebd</a></td><td><code>Add slackware package info</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbb73933b72f189a654beb96e8cac0afc7d975a8">fbb7393</a></td><td><code>Fixup packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfcd8f285facfd1c1d9d21efea5cd1759552ac31">cfcd8f2</a></td><td><code>build/bin/sage-guess-package-system, build/bin/sage-print-system-package-command: Handle slackware too</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/136feeb63f5fa2bea181790420f935b9cf492ac1">136feeb</a></td><td><code>build/bin/sage-spkg: Show equivalent system packages for ALL distros</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9939051ef6326c46861c219fb4994144b4ae5ec9">9939051</a></td><td><code>Merge branch 't/29354/tox_ini__add_slackware_environments' into t/29087/CI-gh-actions-tox-configure-build</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/818796ef7d68f09851a386decee83e8b35bdfd7f">818796e</a></td><td><code>tox.ini: Add local-conda environments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36e1c9afe2379c243d02bd348adb75c720247f78">36e1c9a</a></td><td><code>tox.yml: Add local-conda-forge</code></td></tr></table>




---

archive/issue_comments_462125.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n-This environment would create and use an isolated conda installation within the tox environment directory,\n+This environment creates an isolated conda installation within the tox environment directory,\n similar to `local-homebrew`.\n \n+\n``````\n",
    "created_at": "2020-03-28T21:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462125",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
-This environment would create and use an isolated conda installation within the tox environment directory,
+This environment creates an isolated conda installation within the tox environment directory,
 similar to `local-homebrew`.
 
+
``````




---

archive/issue_events_404525.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-28T21:37:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29415#event-404525"
}
```



---

archive/issue_comments_462126.json:
```json
{
    "body": "Commit: **[36e1c9a](https://github.com/sagemath/sagetrac-mirror/commit/36e1c9afe2379c243d02bd348adb75c720247f78)**",
    "created_at": "2020-03-28T21:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462126",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[36e1c9a](https://github.com/sagemath/sagetrac-mirror/commit/36e1c9afe2379c243d02bd348adb75c720247f78)**



---

archive/issue_comments_462127.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-03-28T21:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462127",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_462128.json:
```json
{
    "body": "Changed dependencies from **#29104** to **#29087**",
    "created_at": "2020-03-28T21:37:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462128",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29104** to **#29087**



---

archive/issue_comments_462129.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n This environment creates an isolated conda installation within the tox environment directory,\n similar to `local-homebrew`.\n \n+To run:\n \n+```\n+   MAKE=\"make -j8\" tox -e local-conda-forge-standard\n+   MAKE=\"make -j8\" tox -e local-conda-forge-minimal\n+```\n``````\n",
    "created_at": "2020-03-29T01:19:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462129",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,9 @@
 This environment creates an isolated conda installation within the tox environment directory,
 similar to `local-homebrew`.
 
+To run:
 
+```
+   MAKE="make -j8" tox -e local-conda-forge-standard
+   MAKE="make -j8" tox -e local-conda-forge-minimal
+```
``````




---

archive/issue_comments_462130.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a71ec3fd7bb082a8f6006ff542da34d46fa846fd\">a71ec3f</a></td><td><code>Use conda-install --yes --quiet</code></td></tr></table>\n",
    "created_at": "2020-03-29T02:45:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462130",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a71ec3fd7bb082a8f6006ff542da34d46fa846fd">a71ec3f</a></td><td><code>Use conda-install --yes --quiet</code></td></tr></table>




---

archive/issue_comments_462131.json:
```json
{
    "body": "Changed commit from **[36e1c9a](https://github.com/sagemath/sagetrac-mirror/commit/36e1c9afe2379c243d02bd348adb75c720247f78)** to **[a71ec3f](https://github.com/sagemath/sagetrac-mirror/commit/a71ec3fd7bb082a8f6006ff542da34d46fa846fd)**",
    "created_at": "2020-03-29T02:45:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462131",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[36e1c9a](https://github.com/sagemath/sagetrac-mirror/commit/36e1c9afe2379c243d02bd348adb75c720247f78)** to **[a71ec3f](https://github.com/sagemath/sagetrac-mirror/commit/a71ec3fd7bb082a8f6006ff542da34d46fa846fd)**



---

archive/issue_comments_462132.json:
```json
{
    "body": "Changed commit from **[a71ec3f](https://github.com/sagemath/sagetrac-mirror/commit/a71ec3fd7bb082a8f6006ff542da34d46fa846fd)** to **[354cf90](https://github.com/sagemath/sagetrac-mirror/commit/354cf90635e94587435c75e237a3d6ef8c806e06)**",
    "created_at": "2020-03-29T03:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462132",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a71ec3f](https://github.com/sagemath/sagetrac-mirror/commit/a71ec3fd7bb082a8f6006ff542da34d46fa846fd)** to **[354cf90](https://github.com/sagemath/sagetrac-mirror/commit/354cf90635e94587435c75e237a3d6ef8c806e06)**



---

archive/issue_comments_462133.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cbcd65717008f5dc571a7b2c0b67249157cf4526\">cbcd657</a></td><td><code>Merge tag '9.1.beta9' into t/29415/tox_ini__add_environment_local_conda</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b864487a5ec819465db2d8d03b57f2530c52f969\">b864487</a></td><td><code>tox.ini: Add local-conda environments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dae3c9395e87abfcbc6def989d5cb3fbcadc9b50\">dae3c93</a></td><td><code>tox.yml: Add local-conda-forge</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/354cf90635e94587435c75e237a3d6ef8c806e06\">354cf90</a></td><td><code>Use conda-install --yes --quiet</code></td></tr></table>\n",
    "created_at": "2020-03-29T03:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462133",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cbcd65717008f5dc571a7b2c0b67249157cf4526">cbcd657</a></td><td><code>Merge tag '9.1.beta9' into t/29415/tox_ini__add_environment_local_conda</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b864487a5ec819465db2d8d03b57f2530c52f969">b864487</a></td><td><code>tox.ini: Add local-conda environments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dae3c9395e87abfcbc6def989d5cb3fbcadc9b50">dae3c93</a></td><td><code>tox.yml: Add local-conda-forge</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/354cf90635e94587435c75e237a3d6ef8c806e06">354cf90</a></td><td><code>Use conda-install --yes --quiet</code></td></tr></table>




---

archive/issue_comments_462134.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nRebased on 9.1.beta9+#29087",
    "created_at": "2020-03-29T03:00:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462134",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Rebased on 9.1.beta9+#29087



---

archive/issue_comments_462135.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nNeeds testing, in particular on Linux",
    "created_at": "2020-03-30T18:23:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462135",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Needs testing, in particular on Linux



---

archive/issue_comments_462136.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI end up with a C++ error in Singular\n\n```\nlibtool: compile:  /home/dimpase/sage/.tox/local-conda-forge-standard/conda/bin/x86_64-conda_cos6-linux-gnu-c++ -DHAVE_CONFIG_H -I. -I.\n./../.. -I. -I../../.. -I../../.. -I../../../libpolys -I../../../libpolys -I/home/dimpase/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/singular-4.1.1p2.p0/src -I/home/dimpase/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/singular-4.1.1p2.p0/src/factory/include -I/home/dimpase/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/singular-4.1.1p2.p0/src -I/home/dimpase/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/singular-4.1.1p2.p0/src -pthread -DDYNAMIC_VERSION -DGMPRATIONAL -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /home/dimpase/sage/.tox/local-conda-forge-standard/conda/include -O2 -g -fvisibility-inlines-hidden -std=c++17 -fmessage-length=0 -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/dimpase/sage/.tox/local-conda-forge-standard/conda/include -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -fno-enforce-eh-specs -fconserve-space -funroll-loops -fno-delete-null-pointer-checks -fno-rtti -fexceptions -frtti -c groebnerCone.cc  -fPIC -DPIC -o .libs/gfanlib_la-groebnerCone.o\ngroebnerCone.cc:428:58: error: no 'bool groebnerCone::pointsOutwards(gfan::ZVector) const' member function declared in class 'groebnerCone'\n bool groebnerCone::pointsOutwards(const gfan::ZVector w) const\n                                                          ^~~~~\ngroebnerCone.cc: In member function 'groebnerCones groebnerCone::tropicalNeighbours() const':\ngroebnerCone.cc:449:13: error: 'pointsOutwards' was not declared in this scope\n         if (pointsOutwards(ray[j]))\n             ^~~~~~~~~~~~~~\nmake[9]: *** [Makefile:726: gfanlib_la-groebnerCone.lo] Error 1\n```\n\nthis is on Debian, and might be due to using gfan from the system.",
    "created_at": "2020-03-31T04:43:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462136",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

I end up with a C++ error in Singular

```
libtool: compile:  /home/dimpase/sage/.tox/local-conda-forge-standard/conda/bin/x86_64-conda_cos6-linux-gnu-c++ -DHAVE_CONFIG_H -I. -I.
./../.. -I. -I../../.. -I../../.. -I../../../libpolys -I../../../libpolys -I/home/dimpase/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/singular-4.1.1p2.p0/src -I/home/dimpase/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/singular-4.1.1p2.p0/src/factory/include -I/home/dimpase/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/singular-4.1.1p2.p0/src -I/home/dimpase/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/singular-4.1.1p2.p0/src -pthread -DDYNAMIC_VERSION -DGMPRATIONAL -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /home/dimpase/sage/.tox/local-conda-forge-standard/conda/include -O2 -g -fvisibility-inlines-hidden -std=c++17 -fmessage-length=0 -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /home/dimpase/sage/.tox/local-conda-forge-standard/conda/include -fno-common -g0 -O3 -Wno-unused-function -Wno-trigraphs -Wno-unused-parameter -Wunknown-pragmas -Wno-unused-variable -fomit-frame-pointer -fwrapv -fvisibility=default -finline-functions -fno-exceptions -fno-threadsafe-statics -fno-enforce-eh-specs -fconserve-space -funroll-loops -fno-delete-null-pointer-checks -fno-rtti -fexceptions -frtti -c groebnerCone.cc  -fPIC -DPIC -o .libs/gfanlib_la-groebnerCone.o
groebnerCone.cc:428:58: error: no 'bool groebnerCone::pointsOutwards(gfan::ZVector) const' member function declared in class 'groebnerCone'
 bool groebnerCone::pointsOutwards(const gfan::ZVector w) const
                                                          ^~~~~
groebnerCone.cc: In member function 'groebnerCones groebnerCone::tropicalNeighbours() const':
groebnerCone.cc:449:13: error: 'pointsOutwards' was not declared in this scope
         if (pointsOutwards(ray[j]))
             ^~~~~~~~~~~~~~
make[9]: *** [Makefile:726: gfanlib_la-groebnerCone.lo] Error 1
```

this is on Debian, and might be due to using gfan from the system.



---

archive/issue_comments_462137.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis is fixed in singular 4.1.2. https://github.com/Singular/Sources/commit/80a9ffc773542e3329935e5377f6906628be16e6\n\nA workaround is to do `export CPPFLAGS=\"$CPPFLAGS -UNDEBUG\"` in Singular build script.",
    "created_at": "2020-03-31T04:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462137",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:10" align="right">comment:10</div>

This is fixed in singular 4.1.2. https://github.com/Singular/Sources/commit/80a9ffc773542e3329935e5377f6906628be16e6

A workaround is to do `export CPPFLAGS="$CPPFLAGS -UNDEBUG"` in Singular build script.



---

archive/issue_comments_462138.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nshould we upgrade Sage's singular?",
    "created_at": "2020-03-31T07:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462138",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

should we upgrade Sage's singular?



---

archive/issue_comments_462139.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@dimpase](#comment:11):\n> should we upgrade Sage's singular?\n\nThat's #25993.",
    "created_at": "2020-03-31T11:34:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462139",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@dimpase](#comment:11):
> should we upgrade Sage's singular?

That's #25993.



---

archive/issue_comments_462140.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI also see a failure (testing with #29417):\n\n- `local-conda-forge-macos-standard`: \n\n```\n  [dochtml]       from sage.symbolic.all   import *\n  [dochtml]     File \"/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/all.py\", line 3, in <module>\n  [dochtml]       from sage.libs.pynac.pynac import I\n  [dochtml]     File \"sage/symbolic/expression.pxd\", line 4, in init sage.libs.pynac.pynac (build/cythonized/sage/libs/pynac/pynac.cpp:30411)\n   [dochtml]     File \"sage/symbolic/expression.pyx\", line 160, in init sage.symbolic.expression (build/cythonized/sage/symbolic/expression.cpp:75349)\n  [dochtml]   ImportError: dlopen(/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so, 2): Symbol not found: __ZN5GiNaC9containerINSt3__16vectorEEC2ERKNS2_INS_2exENS1_9allocatorIS4_EEEEb\n  [dochtml]     Referenced from: /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so\n  [dochtml]     Expected in: flat namespace\n  [dochtml]    in /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so\n```\n(this is with #29404 -- should take another look)",
    "created_at": "2020-03-31T11:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462140",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

I also see a failure (testing with #29417):

- `local-conda-forge-macos-standard`: 

```
  [dochtml]       from sage.symbolic.all   import *
  [dochtml]     File "/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/all.py", line 3, in <module>
  [dochtml]       from sage.libs.pynac.pynac import I
  [dochtml]     File "sage/symbolic/expression.pxd", line 4, in init sage.libs.pynac.pynac (build/cythonized/sage/libs/pynac/pynac.cpp:30411)
   [dochtml]     File "sage/symbolic/expression.pyx", line 160, in init sage.symbolic.expression (build/cythonized/sage/symbolic/expression.cpp:75349)
  [dochtml]   ImportError: dlopen(/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so, 2): Symbol not found: __ZN5GiNaC9containerINSt3__16vectorEEC2ERKNS2_INS_2exENS1_9allocatorIS4_EEEEb
  [dochtml]     Referenced from: /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so
  [dochtml]     Expected in: flat namespace
  [dochtml]    in /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so
```
(this is with #29404 -- should take another look)



---

archive/issue_comments_462141.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIn any case, the present ticket is about adding the testing framework for local-conda, which appears to work. Needs review.",
    "created_at": "2020-03-31T12:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462141",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

In any case, the present ticket is about adding the testing framework for local-conda, which appears to work. Needs review.



---

archive/issue_comments_462142.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nShameless plug. Use miniforge instead of miniconda?",
    "created_at": "2020-03-31T16:33:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462142",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:16" align="right">comment:16</div>

Shameless plug. Use miniforge instead of miniconda?



---

archive/issue_comments_462143.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@isuruf](#comment:16):\n> Shameless plug. Use miniforge instead of miniconda?\n\nJust tried it and it behaves a bit different from miniconda:\n\n```\nlocal-macos-conda-forge-standard-python2 run-test-pre: commands[6] | bash -c '/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macos-conda-forge-standard-python2/conda/bin/conda update -n base --yes conda'\nTraceback (most recent call last):\n  File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macos-conda-forge-standard-python2/conda/bin/conda\", line 12, in <module>\n    from conda.cli import main\nModuleNotFoundError: No module named 'conda'\n```\nDo I need to activate the environment before using that?",
    "created_at": "2020-03-31T17:11:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462143",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@isuruf](#comment:16):
> Shameless plug. Use miniforge instead of miniconda?

Just tried it and it behaves a bit different from miniconda:

```
local-macos-conda-forge-standard-python2 run-test-pre: commands[6] | bash -c '/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macos-conda-forge-standard-python2/conda/bin/conda update -n base --yes conda'
Traceback (most recent call last):
  File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/.tox/local-macos-conda-forge-standard-python2/conda/bin/conda", line 12, in <module>
    from conda.cli import main
ModuleNotFoundError: No module named 'conda'
```
Do I need to activate the environment before using that?



---

archive/issue_comments_462144.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@isuruf](#comment:10):\n> This is fixed in singular 4.1.2. https://github.com/Singular/Sources/commit/80a9ffc773542e3329935e5377f6906628be16e6\n> \n> A workaround is to do `export CPPFLAGS=\"$CPPFLAGS -UNDEBUG\"` in Singular build script.\n\nBecause the singular upgrade (#25993) will not be ready for 9.1, I have opened #29438 for this",
    "created_at": "2020-03-31T17:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462144",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@isuruf](#comment:10):
> This is fixed in singular 4.1.2. https://github.com/Singular/Sources/commit/80a9ffc773542e3329935e5377f6906628be16e6
> 
> A workaround is to do `export CPPFLAGS="$CPPFLAGS -UNDEBUG"` in Singular build script.

Because the singular upgrade (#25993) will not be ready for 9.1, I have opened #29438 for this



---

archive/issue_comments_462145.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@mkoeppe](#comment:17):\n> Do I need to activate the environment before using that?\n\nYes, but even miniconda needs activation.",
    "created_at": "2020-03-31T17:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462145",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@mkoeppe](#comment:17):
> Do I need to activate the environment before using that?

Yes, but even miniconda needs activation.



---

archive/issue_comments_462146.json:
```json
{
    "body": "Changed commit from **[354cf90](https://github.com/sagemath/sagetrac-mirror/commit/354cf90635e94587435c75e237a3d6ef8c806e06)** to **[a61c48e](https://github.com/sagemath/sagetrac-mirror/commit/a61c48e04b0c463b02fb47903454a94133b3a560)**",
    "created_at": "2020-03-31T17:37:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462146",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[354cf90](https://github.com/sagemath/sagetrac-mirror/commit/354cf90635e94587435c75e237a3d6ef8c806e06)** to **[a61c48e](https://github.com/sagemath/sagetrac-mirror/commit/a61c48e04b0c463b02fb47903454a94133b3a560)**



---

archive/issue_comments_462147.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/375721242dd6621bdd77e7f3f547d60d1b45ce81\">3757212</a></td><td><code>tox.ini: Switch local-conda-forge to miniforge</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a61c48e04b0c463b02fb47903454a94133b3a560\">a61c48e</a></td><td><code>tox.ini [local-conda]: Activate conda before calling conda install</code></td></tr></table>\n",
    "created_at": "2020-03-31T17:37:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462147",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/375721242dd6621bdd77e7f3f547d60d1b45ce81">3757212</a></td><td><code>tox.ini: Switch local-conda-forge to miniforge</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a61c48e04b0c463b02fb47903454a94133b3a560">a61c48e</a></td><td><code>tox.ini [local-conda]: Activate conda before calling conda install</code></td></tr></table>




---

archive/issue_comments_462148.json:
```json
{
    "body": "Attachment: **[singular.log](https://github.com/sagemath/sage/files/ticket29415/singular.log)**\n\nAttachment: **[openblas.log](https://github.com/sagemath/sage/files/ticket29415/openblas.log)**",
    "created_at": "2020-04-01T09:19:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462148",
    "user": "https://github.com/kliem"
}
```

Attachment: **[singular.log](https://github.com/sagemath/sage/files/ticket29415/singular.log)**

Attachment: **[openblas.log](https://github.com/sagemath/sage/files/ticket29415/openblas.log)**



---

archive/issue_comments_462149.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI guess it works in the way that it doesn't work.\n\n```\n* package:         openblas-0.3.6.p0\n  last build time: Apr 1 10:54\n  log file:        /srv/public/kliem/sage/logs/pkgs/openblas-0.3.6.p0.log\n  build directory: /srv/public/kliem/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/openblas-0.3.6.p0                                                               \n\n* package:         singular-4.1.1p2.p0\n  last build time: Apr 1 11:00\n  log file:        /srv/public/kliem/sage/logs/pkgs/singular-4.1.1p2.p0.log\n  build directory: /srv/public/kliem/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/singular-4.1.1p2.p0                                                             \n\n```\n\nI attached the logs.",
    "created_at": "2020-04-01T09:21:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462149",
    "user": "https://github.com/kliem"
}
```

<div id="comment:21" align="right">comment:21</div>

I guess it works in the way that it doesn't work.

```
* package:         openblas-0.3.6.p0
  last build time: Apr 1 10:54
  log file:        /srv/public/kliem/sage/logs/pkgs/openblas-0.3.6.p0.log
  build directory: /srv/public/kliem/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/openblas-0.3.6.p0                                                               

* package:         singular-4.1.1p2.p0
  last build time: Apr 1 11:00
  log file:        /srv/public/kliem/sage/logs/pkgs/singular-4.1.1p2.p0.log
  build directory: /srv/public/kliem/sage/.tox/local-conda-forge-standard/local/var/tmp/sage/build/singular-4.1.1p2.p0                                                             

```

I attached the logs.



---

archive/issue_comments_462150.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nSingular might need the fix proposed by Isuru above",
    "created_at": "2020-04-01T09:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462150",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

Singular might need the fix proposed by Isuru above



---

archive/issue_comments_462151.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI'm not sure that I understand.\n\nAt least this here did not fix the problem.\n\n```\n+++ b/build/pkgs/singular/spkg-install.in\n@@ -19,6 +19,7 @@ else\n fi\n \n export CFLAGS CXXFLAGS\n+export CPPFLAGS=\"$CPPFLAGS -UNDEBUG\"\n \n \n remove_old_version()\n```\n\nNow openblas, tachyon, m4ri, givaro, ecm, python3, giac, singular fail to install.",
    "created_at": "2020-04-01T12:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462151",
    "user": "https://github.com/kliem"
}
```

<div id="comment:23" align="right">comment:23</div>

I'm not sure that I understand.

At least this here did not fix the problem.

```
+++ b/build/pkgs/singular/spkg-install.in
@@ -19,6 +19,7 @@ else
 fi
 
 export CFLAGS CXXFLAGS
+export CPPFLAGS="$CPPFLAGS -UNDEBUG"
 
 
 remove_old_version()
```

Now openblas, tachyon, m4ri, givaro, ecm, python3, giac, singular fail to install.



---

archive/issue_comments_462152.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nSingular fixes - please on  #29438, not here",
    "created_at": "2020-04-01T13:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462152",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Singular fixes - please on  #29438, not here



---

archive/issue_comments_462153.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThis ticket is about adding the testing environment for conda, not fixing everything that may be broken in the conda build",
    "created_at": "2020-04-01T13:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462153",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

This ticket is about adding the testing environment for conda, not fixing everything that may be broken in the conda build



---

archive/issue_comments_462154.json:
```json
{
    "body": "Reviewer: **Isuru Fernando**",
    "created_at": "2020-04-03T16:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462154",
    "user": "https://github.com/isuruf"
}
```

Reviewer: **Isuru Fernando**



---

archive/issue_events_404526.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2020-04-03T16:33:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29415#event-404526"
}
```



---

archive/issue_events_404527.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2020-04-03T16:33:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29415#event-404527"
}
```



---

archive/issue_comments_462155.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThank you.",
    "created_at": "2020-04-03T16:44:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462155",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

Thank you.



---

archive/issue_events_404528.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-09T22:44:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29415#event-404528"
}
```



---

archive/issue_events_404529.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "88539d35d0de6f80ea7cb2aba7c02d71c7d2ce2e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-04-09T22:44:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29415#event-404529"
}
```



---

archive/issue_comments_462156.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/tox_ini__add_environment_local_conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_environment_local_conda)** to **[a61c48e](https://github.com/sagemath/sagetrac-mirror/commit/a61c48e04b0c463b02fb47903454a94133b3a560)**",
    "created_at": "2020-04-09T22:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462156",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/tox_ini__add_environment_local_conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox_ini__add_environment_local_conda)** to **[a61c48e](https://github.com/sagemath/sagetrac-mirror/commit/a61c48e04b0c463b02fb47903454a94133b3a560)**



---

archive/issue_comments_462157.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@mkoeppe](#comment:13):\n> I also see a failure (testing with #29417):\n> \n> - `local-conda-forge-macos-standard`: \n> \n> ```\n>   [dochtml]       from sage.symbolic.all   import *\n>   [dochtml]     File \"/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/all.py\", line 3, in <module>\n>   [dochtml]       from sage.libs.pynac.pynac import I\n>   [dochtml]     File \"sage/symbolic/expression.pxd\", line 4, in init sage.libs.pynac.pynac (build/cythonized/sage/libs/pynac/pynac.cpp:30411)\n>    [dochtml]     File \"sage/symbolic/expression.pyx\", line 160, in init sage.symbolic.expression (build/cythonized/sage/symbolic/expression.cpp:75349)\n>   [dochtml]   ImportError: dlopen(/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so, 2): Symbol not found: __ZN5GiNaC9containerINSt3__16vectorEEC2ERKNS2_INS_2exENS1_9allocatorIS4_EEEEb\n>   [dochtml]     Referenced from: /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so\n>   [dochtml]     Expected in: flat namespace\n>   [dochtml]    in /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so\n> ```\n> (this is with #29404 -- should take another look)\n\nThis is now #29574",
    "created_at": "2020-04-25T03:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462157",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@mkoeppe](#comment:13):
> I also see a failure (testing with #29417):
> 
> - `local-conda-forge-macos-standard`: 
> 
> ```
>   [dochtml]       from sage.symbolic.all   import *
>   [dochtml]     File "/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/all.py", line 3, in <module>
>   [dochtml]       from sage.libs.pynac.pynac import I
>   [dochtml]     File "sage/symbolic/expression.pxd", line 4, in init sage.libs.pynac.pynac (build/cythonized/sage/libs/pynac/pynac.cpp:30411)
>    [dochtml]     File "sage/symbolic/expression.pyx", line 160, in init sage.symbolic.expression (build/cythonized/sage/symbolic/expression.cpp:75349)
>   [dochtml]   ImportError: dlopen(/Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so, 2): Symbol not found: __ZN5GiNaC9containerINSt3__16vectorEEC2ERKNS2_INS_2exENS1_9allocatorIS4_EEEEb
>   [dochtml]     Referenced from: /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so
>   [dochtml]     Expected in: flat namespace
>   [dochtml]    in /Users/runner/runners/2.165.2/work/sage/sage/.tox/local-conda-forge-macos-standard/local/lib/python3.7/site-packages/sage/symbolic/ring.cpython-37m-darwin.so
> ```
> (this is with #29404 -- should take another look)

This is now #29574



---

archive/issue_comments_462158.json:
```json
{
    "body": "Changed commit from **[a61c48e](https://github.com/sagemath/sagetrac-mirror/commit/a61c48e04b0c463b02fb47903454a94133b3a560)** to none",
    "created_at": "2020-04-25T03:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/29415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29415#issuecomment-462158",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[a61c48e](https://github.com/sagemath/sagetrac-mirror/commit/a61c48e04b0c463b02fb47903454a94133b3a560)** to none
