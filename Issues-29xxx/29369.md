# Issue 29369: spkg-configure.m4 for brial

archive/issues_029132.json:
```json
{
    "body": "Nothing unusual here except that this is a C++ library with no pkg-config file, and that makes it a bit harder to search for. I've assumed that any version we find is acceptable, which probably is not quite true.\n\n**Assignee:** @orlitzky\n\n**CC:**  @embray @kiwifb @mkoeppe @dimpase\n\n**Branch:** [40a59a410b7be086264f09cbefe9c03cb94e5c77](https://github.com/sagemath/sagetrac-mirror/commit/40a59a410b7be086264f09cbefe9c03cb94e5c77)\n\n**Reviewer:** Matthias Koeppe, Dima Pasechnik\n\n**Author:** Michael Orlitzky\n\nIssue created by migration from https://trac.sagemath.org/ticket/29369\n\n",
    "closed_at": "2020-04-05T08:30:35Z",
    "created_at": "2020-03-19T17:26:06Z",
    "labels": [
        "component: build: configure",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "title": "spkg-configure.m4 for brial",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/29369",
    "user": "https://github.com/orlitzky"
}
```
Nothing unusual here except that this is a C++ library with no pkg-config file, and that makes it a bit harder to search for. I've assumed that any version we find is acceptable, which probably is not quite true.

**Assignee:** @orlitzky

**CC:**  @embray @kiwifb @mkoeppe @dimpase

**Branch:** [40a59a410b7be086264f09cbefe9c03cb94e5c77](https://github.com/sagemath/sagetrac-mirror/commit/40a59a410b7be086264f09cbefe9c03cb94e5c77)

**Reviewer:** Matthias Koeppe, Dima Pasechnik

**Author:** Michael Orlitzky

Issue created by migration from https://trac.sagemath.org/ticket/29369





---

archive/issue_events_261334.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-03-19T17:36:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261334"
}
```



---

archive/issue_comments_463712.json:
```json
{
    "body": "**Branch:** [u/mjo/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/29369)",
    "created_at": "2020-03-19T17:36:14Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463712",
    "user": "https://github.com/orlitzky"
}
```

**Branch:** [u/mjo/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/29369)



---

archive/issue_comments_463713.json:
```json
{
    "body": "**Author:** Michael Orlitzky",
    "created_at": "2020-03-19T17:36:14Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463713",
    "user": "https://github.com/orlitzky"
}
```

**Author:** Michael Orlitzky



---

archive/issue_comments_463714.json:
```json
{
    "body": "<a id='comment:1'></a>\nI left off the libpng dependency, because I think brial needs it if and only if mr4i does. I also left off the python dependency, but maybe I shouldn't have?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b45a14d19da41e95c26421964ed5a5fe8627bfc\">8b45a14</a></td><td><code>Trac #29369: clarify message from SAGE_SPKG_DEPCHECK.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b262c17edb2ee783141662503a24bf641d8a8abf\">b262c17</a></td><td><code>Trac #29369: new spkg-configure.m4 for brial.</code></td></tr></table>\n",
    "created_at": "2020-03-19T17:36:14Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463714",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:1'></a>
I left off the libpng dependency, because I think brial needs it if and only if mr4i does. I also left off the python dependency, but maybe I shouldn't have?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b45a14d19da41e95c26421964ed5a5fe8627bfc">8b45a14</a></td><td><code>Trac #29369: clarify message from SAGE_SPKG_DEPCHECK.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b262c17edb2ee783141662503a24bf641d8a8abf">b262c17</a></td><td><code>Trac #29369: new spkg-configure.m4 for brial.</code></td></tr></table>




---

archive/issue_comments_463715.json:
```json
{
    "body": "**Commit:** [b262c17edb2ee783141662503a24bf641d8a8abf](https://github.com/sagemath/sagetrac-mirror/commit/b262c17edb2ee783141662503a24bf641d8a8abf)",
    "created_at": "2020-03-19T17:36:14Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463715",
    "user": "https://github.com/orlitzky"
}
```

**Commit:** [b262c17edb2ee783141662503a24bf641d8a8abf](https://github.com/sagemath/sagetrac-mirror/commit/b262c17edb2ee783141662503a24bf641d8a8abf)



---

archive/issue_comments_463716.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis is a matter for another ticket but I think the python part should be merged into sage proper.\nA bit of history.\nPolyBoRi use to have its own python bindings. sage also had its own python bindings to PolyBoRi. The python part of PolyBoRI (now BRiAl) could work with either the PolyBoRI or sage bindings. In BRiAl we never bothered with porting the python bindings of PolyBoRi - they are not there anymore. I removed all bits that could have used the PolyBoRi bindings from what is now sage-brial in Gentoo. So at the moment\n* Brial is needed to build sage because sage builds binding to brial\n* sage-brial needs sage's binding at runtime to be usable\n* sage needs sage-brial at run time for some stuff\n\nI think sage-brial should just be merged in sage.",
    "created_at": "2020-03-19T19:03:13Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463716",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'></a>
This is a matter for another ticket but I think the python part should be merged into sage proper.
A bit of history.
PolyBoRi use to have its own python bindings. sage also had its own python bindings to PolyBoRi. The python part of PolyBoRI (now BRiAl) could work with either the PolyBoRI or sage bindings. In BRiAl we never bothered with porting the python bindings of PolyBoRi - they are not there anymore. I removed all bits that could have used the PolyBoRi bindings from what is now sage-brial in Gentoo. So at the moment
* Brial is needed to build sage because sage builds binding to brial
* sage-brial needs sage's binding at runtime to be usable
* sage needs sage-brial at run time for some stuff

I think sage-brial should just be merged in sage.



---

archive/issue_comments_463717.json:
```json
{
    "body": "<a id='comment:3'></a>\n`build/pkgs/brial/distros/` needs filling",
    "created_at": "2020-03-19T19:25:43Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463717",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
`build/pkgs/brial/distros/` needs filling



---

archive/issue_comments_463718.json:
```json
{
    "body": "<a id='comment:4'></a>\nAt the moment we cannot use python packages in the system python -- such as presumably the one of brial.\nSee #29023",
    "created_at": "2020-03-19T19:42:40Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463718",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
At the moment we cannot use python packages in the system python -- such as presumably the one of brial.
See #29023



---

archive/issue_events_261335.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-03-19T23:17:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261335"
}
```



---

archive/issue_events_261336.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-03-19T23:17:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261336"
}
```



---

archive/issue_comments_463719.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [@kiwifb](#comment%3A2):\n> This is a matter for another ticket but I think the python part should be merged into sage proper.\n\nAh, I didn't realize that sage's brial is installing TWO things, both the C++ library and a python package. I've only detected the C++ library, so this will have to wait until something happens with python -- either adding support for system python modules, or just moving sage-brial into sage in this case.\n\n(I'm still running a ptestlong on this branch but presumably it will fail.)",
    "created_at": "2020-03-19T23:17:45Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463719",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:5'></a>
Replying to [@kiwifb](#comment%3A2):
> This is a matter for another ticket but I think the python part should be merged into sage proper.

Ah, I didn't realize that sage's brial is installing TWO things, both the C++ library and a python package. I've only detected the C++ library, so this will have to wait until something happens with python -- either adding support for system python modules, or just moving sage-brial into sage in this case.

(I'm still running a ptestlong on this branch but presumably it will fail.)



---

archive/issue_comments_463720.json:
```json
{
    "body": "<a id='comment:6'></a>\na less invasive option that moving sage-brial into sage would be to split the package into two parts, python and non-python (they may use the same tarball). Then the work done here is perfectly useful for brial proper, and sage-brial becomes another story.",
    "created_at": "2020-03-20T04:23:15Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463720",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
a less invasive option that moving sage-brial into sage would be to split the package into two parts, python and non-python (they may use the same tarball). Then the work done here is perfectly useful for brial proper, and sage-brial becomes another story.



---

archive/issue_comments_463721.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a2745b940ddf231ef7f5f77d158e5aa396c5506\">0a2745b</a></td><td><code>Trac #29369: factor out brial's python module into a sage_brial package.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c3c18c666929aacd4417babb45a7c8a5df04967\">4c3c18c</a></td><td><code>Trac #29369: fix installed_packages() doctest with system brial.</code></td></tr></table>\n",
    "created_at": "2020-03-26T13:02:35Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463721",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a2745b940ddf231ef7f5f77d158e5aa396c5506">0a2745b</a></td><td><code>Trac #29369: factor out brial's python module into a sage_brial package.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c3c18c666929aacd4417babb45a7c8a5df04967">4c3c18c</a></td><td><code>Trac #29369: fix installed_packages() doctest with system brial.</code></td></tr></table>




---

archive/issue_comments_463722.json:
```json
{
    "body": "**Changing commit** from \"[b262c17edb2ee783141662503a24bf641d8a8abf](https://github.com/sagemath/sagetrac-mirror/commit/b262c17edb2ee783141662503a24bf641d8a8abf)\" to \"[4c3c18c666929aacd4417babb45a7c8a5df04967](https://github.com/sagemath/sagetrac-mirror/commit/4c3c18c666929aacd4417babb45a7c8a5df04967)\".",
    "created_at": "2020-03-26T13:02:35Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463722",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b262c17edb2ee783141662503a24bf641d8a8abf](https://github.com/sagemath/sagetrac-mirror/commit/b262c17edb2ee783141662503a24bf641d8a8abf)" to "[4c3c18c666929aacd4417babb45a7c8a5df04967](https://github.com/sagemath/sagetrac-mirror/commit/4c3c18c666929aacd4417babb45a7c8a5df04967)".



---

archive/issue_events_261337.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-03-26T13:08:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261337"
}
```



---

archive/issue_events_261338.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-03-26T13:08:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261338"
}
```



---

archive/issue_comments_463723.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [@dimpase](#comment%3A6):\n> a less invasive option that moving sage-brial into sage would be to split the package into two parts, python and non-python (they may use the same tarball). Then the work done here is perfectly useful for brial proper, and sage-brial becomes another story.\n\nYeah, for now this is the path of least resistance (although the whole thing can probably be copy/pasted into src/sage/libs/brial). I factored the python module out into a new standard sage_brial package and now everything looks OK.",
    "created_at": "2020-03-26T13:08:48Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463723",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:8'></a>
Replying to [@dimpase](#comment%3A6):
> a less invasive option that moving sage-brial into sage would be to split the package into two parts, python and non-python (they may use the same tarball). Then the work done here is perfectly useful for brial proper, and sage-brial becomes another story.

Yeah, for now this is the path of least resistance (although the whole thing can probably be copy/pasted into src/sage/libs/brial). I factored the python module out into a new standard sage_brial package and now everything looks OK.



---

archive/issue_comments_463724.json:
```json
{
    "body": "<a id='comment:9'></a>\nhttps://repology.org/project/brial/versions",
    "created_at": "2020-03-26T18:39:44Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463724",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
https://repology.org/project/brial/versions



---

archive/issue_comments_463725.json:
```json
{
    "body": "<a id='comment:10'></a>\nYou can throw an upgrade on top of my commits if you want, I just didn't feel like adding more variables to this ticket (especially since my goal is to never again use the SPKG in the first place).",
    "created_at": "2020-03-26T18:46:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463725",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:10'></a>
You can throw an upgrade on top of my commits if you want, I just didn't feel like adding more variables to this ticket (especially since my goal is to never again use the SPKG in the first place).



---

archive/issue_comments_463726.json:
```json
{
    "body": "**Changing branch** from \"[u/mjo/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/29369)\" to \"[u/mkoeppe/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket/29369)\".",
    "created_at": "2020-03-26T18:51:25Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463726",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/mjo/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/29369)" to "[u/mkoeppe/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket/29369)".



---

archive/issue_comments_463727.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4f45b4b3cfc04e722d3c12c71fb639ece81c4c2\">c4f45b4</a></td><td><code>fix for debian</code></td></tr></table>\n",
    "created_at": "2020-03-26T19:13:16Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463727",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4f45b4b3cfc04e722d3c12c71fb639ece81c4c2">c4f45b4</a></td><td><code>fix for debian</code></td></tr></table>




---

archive/issue_comments_463728.json:
```json
{
    "body": "**Changing commit** from \"[4c3c18c666929aacd4417babb45a7c8a5df04967](https://github.com/sagemath/sagetrac-mirror/commit/4c3c18c666929aacd4417babb45a7c8a5df04967)\" to \"[c4f45b4b3cfc04e722d3c12c71fb639ece81c4c2](https://github.com/sagemath/sagetrac-mirror/commit/c4f45b4b3cfc04e722d3c12c71fb639ece81c4c2)\".",
    "created_at": "2020-03-26T19:13:16Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463728",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4c3c18c666929aacd4417babb45a7c8a5df04967](https://github.com/sagemath/sagetrac-mirror/commit/4c3c18c666929aacd4417babb45a7c8a5df04967)" to "[c4f45b4b3cfc04e722d3c12c71fb639ece81c4c2](https://github.com/sagemath/sagetrac-mirror/commit/c4f45b4b3cfc04e722d3c12c71fb639ece81c4c2)".



---

archive/issue_comments_463729.json:
```json
{
    "body": "<a id='comment:13'></a>\nTests run at https://github.com/mkoeppe/sage/actions/runs/64055444",
    "created_at": "2020-03-26T19:25:18Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463729",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Tests run at https://github.com/mkoeppe/sage/actions/runs/64055444



---

archive/issue_comments_463730.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe",
    "created_at": "2020-03-26T19:25:54Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463730",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** Matthias Koeppe



---

archive/issue_comments_463731.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94b22ed480852ca34a2a02edade8d00d160a9f00\">94b22ed</a></td><td><code>build/pkgs/{brial,sage_brial}: Add upstream_url</code></td></tr></table>\n",
    "created_at": "2020-03-26T20:51:34Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463731",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94b22ed480852ca34a2a02edade8d00d160a9f00">94b22ed</a></td><td><code>build/pkgs/{brial,sage_brial}: Add upstream_url</code></td></tr></table>




---

archive/issue_comments_463732.json:
```json
{
    "body": "**Changing commit** from \"[c4f45b4b3cfc04e722d3c12c71fb639ece81c4c2](https://github.com/sagemath/sagetrac-mirror/commit/c4f45b4b3cfc04e722d3c12c71fb639ece81c4c2)\" to \"[94b22ed480852ca34a2a02edade8d00d160a9f00](https://github.com/sagemath/sagetrac-mirror/commit/94b22ed480852ca34a2a02edade8d00d160a9f00)\".",
    "created_at": "2020-03-26T20:51:34Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463732",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c4f45b4b3cfc04e722d3c12c71fb639ece81c4c2](https://github.com/sagemath/sagetrac-mirror/commit/c4f45b4b3cfc04e722d3c12c71fb639ece81c4c2)" to "[94b22ed480852ca34a2a02edade8d00d160a9f00](https://github.com/sagemath/sagetrac-mirror/commit/94b22ed480852ca34a2a02edade8d00d160a9f00)".



---

archive/issue_comments_463733.json:
```json
{
    "body": "<a id='comment:16'></a>\nTesting at \u200bhttps://github.com/mkoeppe/sage/actions/runs/64126739",
    "created_at": "2020-03-26T21:18:21Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463733",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Testing at ​https://github.com/mkoeppe/sage/actions/runs/64126739



---

archive/issue_comments_463734.json:
```json
{
    "body": "<a id='comment:17'></a>\nOK, looks good. I'll wait for MacOS tests to finish.",
    "created_at": "2020-03-27T02:35:13Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463734",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>
OK, looks good. I'll wait for MacOS tests to finish.



---

archive/issue_comments_463735.json:
```json
{
    "body": "<a id='comment:18'></a>\nbetter macOS tests scheduled here: https://github.com/mkoeppe/sage/actions/runs/64318155\n(hopefully I fixed the broken parallelization of the build)",
    "created_at": "2020-03-27T04:02:53Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463735",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
better macOS tests scheduled here: https://github.com/mkoeppe/sage/actions/runs/64318155
(hopefully I fixed the broken parallelization of the build)



---

archive/issue_comments_463736.json:
```json
{
    "body": "<a id='comment:19'></a>\nbrial's build or sage's one?",
    "created_at": "2020-03-27T04:07:55Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463736",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:19'></a>
brial's build or sage's one?



---

archive/issue_comments_463737.json:
```json
{
    "body": "<a id='comment:20'></a>\nI gather it's Sage's builds using brial from Homebrew",
    "created_at": "2020-03-27T04:13:42Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463737",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>
I gather it's Sage's builds using brial from Homebrew



---

archive/issue_comments_463738.json:
```json
{
    "body": "<a id='comment:21'></a>\nsystem brial needs m4ri and boost, yet\n\n```\n2020-03-27T06:01:37.8676320Z Checking whether SageMath should install SPKG brial...\n2020-03-27T06:01:37.8715050Z checking whether any of boost m4ri is installed as or will be installed as SPKG... yes; install brial as well\n2020-03-27T06:01:37.8715730Z configure: no suitable system package found for SPKG brial\n```\n\nand then the build dies on pynac (not surprisingly)\n\nThe problem is in m4ri\n\n```\n2020-03-27T06:01:37.8106410Z Checking whether SageMath should install SPKG m4ri...\n2020-03-27T06:01:37.8144280Z checking whether any of libpng is installed as or will be installed as SPKG... no\n2020-03-27T06:01:37.8422490Z checking for m4ri >= 20140914... no\n2020-03-27T06:01:37.8673980Z configure: no suitable system package found for SPKG m4ri\n```\n\nthere is a non-standard location formula/installation availabe:\n\nhttps://github.com/brewsci/homebrew-science/blob/master/Formula/m4ri.rb",
    "created_at": "2020-03-27T08:18:43Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463738",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
system brial needs m4ri and boost, yet

```
2020-03-27T06:01:37.8676320Z Checking whether SageMath should install SPKG brial...
2020-03-27T06:01:37.8715050Z checking whether any of boost m4ri is installed as or will be installed as SPKG... yes; install brial as well
2020-03-27T06:01:37.8715730Z configure: no suitable system package found for SPKG brial
```

and then the build dies on pynac (not surprisingly)

The problem is in m4ri

```
2020-03-27T06:01:37.8106410Z Checking whether SageMath should install SPKG m4ri...
2020-03-27T06:01:37.8144280Z checking whether any of libpng is installed as or will be installed as SPKG... no
2020-03-27T06:01:37.8422490Z checking for m4ri >= 20140914... no
2020-03-27T06:01:37.8673980Z configure: no suitable system package found for SPKG m4ri
```

there is a non-standard location formula/installation availabe:

https://github.com/brewsci/homebrew-science/blob/master/Formula/m4ri.rb



---

archive/issue_comments_463739.json:
```json
{
    "body": "<a id='comment:22'></a>\nlet's merge this, and fix for MacOS/Cygwin, if/as needed.",
    "created_at": "2020-03-27T08:26:49Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463739",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:22'></a>
let's merge this, and fix for MacOS/Cygwin, if/as needed.



---

archive/issue_comments_463740.json:
```json
{
    "body": "**Changing reviewer** from \"Matthias Koeppe\" to \"Matthias Koeppe, Dima Pasechnik\".",
    "created_at": "2020-03-27T08:26:49Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463740",
    "user": "https://github.com/dimpase"
}
```

**Changing reviewer** from "Matthias Koeppe" to "Matthias Koeppe, Dima Pasechnik".



---

archive/issue_events_261339.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-03-27T08:26:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261339"
}
```



---

archive/issue_events_261340.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-03-27T08:26:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261340"
}
```



---

archive/issue_events_261341.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-27T13:12:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261341"
}
```



---

archive/issue_events_261342.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-27T13:12:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261342"
}
```



---

archive/issue_comments_463741.json:
```json
{
    "body": "<a id='comment:23'></a>\nBecause it depends on m4ri and we only accept very new versions of that, this only uses brial on very few system configurations.\n`ubuntu-eoan-python2` (https://github.com/mkoeppe/sage/runs/537774470), `ubuntu-focal` (https://github.com/mkoeppe/sage/runs/537774488) and `archlinux-latest-standard` (https://github.com/mkoeppe/sage/runs/537774841) work well.\nThe test failures on `debian-bullseye-standard` (https://github.com/mkoeppe/sage/runs/537774574) are probably unrelated.\n\nThere's no brial package for homebrew, so there's nothing to test.\n\nBut it does not find brial on `fedora-31-standard` (https://github.com/mkoeppe/sage/runs/537774738). Please take a look",
    "created_at": "2020-03-27T13:12:41Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463741",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
Because it depends on m4ri and we only accept very new versions of that, this only uses brial on very few system configurations.
`ubuntu-eoan-python2` (https://github.com/mkoeppe/sage/runs/537774470), `ubuntu-focal` (https://github.com/mkoeppe/sage/runs/537774488) and `archlinux-latest-standard` (https://github.com/mkoeppe/sage/runs/537774841) work well.
The test failures on `debian-bullseye-standard` (https://github.com/mkoeppe/sage/runs/537774574) are probably unrelated.

There's no brial package for homebrew, so there's nothing to test.

But it does not find brial on `fedora-31-standard` (https://github.com/mkoeppe/sage/runs/537774738). Please take a look



---

archive/issue_comments_463742.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [@dimpase](#comment%3A21):\n> there is a non-standard location formula/installation availabe:\n> \n> https://github.com/brewsci/homebrew-science/blob/master/Formula/m4ri.rb\n\nhttps://github.com/brewsci/homebrew-science is unmaintained. Let's not use it.",
    "created_at": "2020-03-27T13:14:49Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463742",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
Replying to [@dimpase](#comment%3A21):
> there is a non-standard location formula/installation availabe:
> 
> https://github.com/brewsci/homebrew-science/blob/master/Formula/m4ri.rb

https://github.com/brewsci/homebrew-science is unmaintained. Let's not use it.



---

archive/issue_comments_463743.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [@mkoeppe](#comment%3A23):\n> \n> But it does not find brial on `fedora-31-standard` (https://github.com/mkoeppe/sage/runs/537774738). Please take a look\n> \n\nIs brial-devel installed there?",
    "created_at": "2020-03-27T13:54:03Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463743",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:25'></a>
Replying to [@mkoeppe](#comment%3A23):
> 
> But it does not find brial on `fedora-31-standard` (https://github.com/mkoeppe/sage/runs/537774738). Please take a look
> 

Is brial-devel installed there?



---

archive/issue_comments_463744.json:
```json
{
    "body": "**Changing commit** from \"[94b22ed480852ca34a2a02edade8d00d160a9f00](https://github.com/sagemath/sagetrac-mirror/commit/94b22ed480852ca34a2a02edade8d00d160a9f00)\" to \"[4ad36bdea8a5a81df6324d16556984a4119d43ee](https://github.com/sagemath/sagetrac-mirror/commit/4ad36bdea8a5a81df6324d16556984a4119d43ee)\".",
    "created_at": "2020-03-27T14:29:24Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463744",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[94b22ed480852ca34a2a02edade8d00d160a9f00](https://github.com/sagemath/sagetrac-mirror/commit/94b22ed480852ca34a2a02edade8d00d160a9f00)" to "[4ad36bdea8a5a81df6324d16556984a4119d43ee](https://github.com/sagemath/sagetrac-mirror/commit/4ad36bdea8a5a81df6324d16556984a4119d43ee)".



---

archive/issue_comments_463745.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ad36bdea8a5a81df6324d16556984a4119d43ee\">4ad36bd</a></td><td><code>build/pkgs/brial/distros/fedora.txt: Add brial-devel</code></td></tr></table>\n",
    "created_at": "2020-03-27T14:29:24Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ad36bdea8a5a81df6324d16556984a4119d43ee">4ad36bd</a></td><td><code>build/pkgs/brial/distros/fedora.txt: Add brial-devel</code></td></tr></table>




---

archive/issue_comments_463746.json:
```json
{
    "body": "<a id='comment:27'></a>\nAnother round of tests at https://github.com/mkoeppe/sage/actions/runs/64668026",
    "created_at": "2020-03-27T14:35:22Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463746",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>
Another round of tests at https://github.com/mkoeppe/sage/actions/runs/64668026



---

archive/issue_comments_463747.json:
```json
{
    "body": "<a id='comment:28'></a>\nfedora-28-standard (https://github.com/mkoeppe/sage/runs/539636819):\n\n```\n  [sagelib-9.1.beta8]   build/cythonized/sage/rings/polynomial/pbori.cpp:60026:55: error: use of deleted function \u2018polybori::BooleConstant& polybori::BooleConstant::operator=(polybori::BooleConstant&&)\u2019\n  [sagelib-9.1.beta8]      __pyx_v_self->_pbconst = BooleConstant(__pyx_v_value);\n  [sagelib-9.1.beta8]                                                          ^\n  [sagelib-9.1.beta8]   In file included from /usr/include/polybori/BoolePolynomial.h:42,\n  [sagelib-9.1.beta8]                    from /sage/src/sage/libs/polybori/pb_wrap.h:1,\n  [sagelib-9.1.beta8]                    from build/cythonized/sage/rings/polynomial/pbori.cpp:684:\n  [sagelib-9.1.beta8]   /usr/include/polybori/BooleConstant.h:40:7: note: \u2018polybori::BooleConstant& polybori::BooleConstant::operator=(polybori::BooleConstant&&)\u2019 is implicitly deleted because the default definition would be ill-formed:\n  [sagelib-9.1.beta8]    class BooleConstant:\n  [sagelib-9.1.beta8]          ^~~~~~~~~~~~~\n  [sagelib-9.1.beta8]   /usr/include/polybori/BooleConstant.h:40:7: error: non-static const member \u2018const bool polybori::BooleConstant::m_value\u2019, can\u2019t use default assignment operator\n  [sagelib-9.1.beta8]   error: command 'gcc' failed with exit status 1\n```",
    "created_at": "2020-03-27T19:09:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463747",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>
fedora-28-standard (https://github.com/mkoeppe/sage/runs/539636819):

```
  [sagelib-9.1.beta8]   build/cythonized/sage/rings/polynomial/pbori.cpp:60026:55: error: use of deleted function ‘polybori::BooleConstant& polybori::BooleConstant::operator=(polybori::BooleConstant&&)’
  [sagelib-9.1.beta8]      __pyx_v_self->_pbconst = BooleConstant(__pyx_v_value);
  [sagelib-9.1.beta8]                                                          ^
  [sagelib-9.1.beta8]   In file included from /usr/include/polybori/BoolePolynomial.h:42,
  [sagelib-9.1.beta8]                    from /sage/src/sage/libs/polybori/pb_wrap.h:1,
  [sagelib-9.1.beta8]                    from build/cythonized/sage/rings/polynomial/pbori.cpp:684:
  [sagelib-9.1.beta8]   /usr/include/polybori/BooleConstant.h:40:7: note: ‘polybori::BooleConstant& polybori::BooleConstant::operator=(polybori::BooleConstant&&)’ is implicitly deleted because the default definition would be ill-formed:
  [sagelib-9.1.beta8]    class BooleConstant:
  [sagelib-9.1.beta8]          ^~~~~~~~~~~~~
  [sagelib-9.1.beta8]   /usr/include/polybori/BooleConstant.h:40:7: error: non-static const member ‘const bool polybori::BooleConstant::m_value’, can’t use default assignment operator
  [sagelib-9.1.beta8]   error: command 'gcc' failed with exit status 1
```



---

archive/issue_comments_463748.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [@mkoeppe](#comment%3A28):\n> fedora-28-standard (https://github.com/mkoeppe/sage/runs/539636819):\n> \n> ```\n>   [sagelib-9.1.beta8]   build/cythonized/sage/rings/polynomial/pbori.cpp:60026:55: error: use of deleted function \u2018polybori::BooleConstant& polybori::BooleConstant::operator=(polybori::BooleConstant&&)\u2019\n> ...\n>   [sagelib-9.1.beta8]   error: command 'gcc' failed with exit status 1\n> ```\n\nSee, this is why I became a mathematician...",
    "created_at": "2020-03-27T20:09:34Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463748",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:29'></a>
Replying to [@mkoeppe](#comment%3A28):
> fedora-28-standard (https://github.com/mkoeppe/sage/runs/539636819):
> 
> ```
>   [sagelib-9.1.beta8]   build/cythonized/sage/rings/polynomial/pbori.cpp:60026:55: error: use of deleted function ‘polybori::BooleConstant& polybori::BooleConstant::operator=(polybori::BooleConstant&&)’
> ...
>   [sagelib-9.1.beta8]   error: command 'gcc' failed with exit status 1
> ```

See, this is why I became a mathematician...



---

archive/issue_comments_463749.json:
```json
{
    "body": "<a id='comment:30'></a>\nRight, for the endless fun with other mathematicians' software...",
    "created_at": "2020-03-27T20:14:06Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463749",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
Right, for the endless fun with other mathematicians' software...



---

archive/issue_comments_463750.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket/29369)\" to \"[u/mjo/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/29369)\".",
    "created_at": "2020-03-28T00:53:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463750",
    "user": "https://github.com/orlitzky"
}
```

**Changing branch** from "[u/mkoeppe/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket/29369)" to "[u/mjo/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/29369)".



---

archive/issue_comments_463751.json:
```json
{
    "body": "<a id='comment:31'></a>\nThis one rejects brial-0.8.5.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40a59a410b7be086264f09cbefe9c03cb94e5c77\">40a59a4</a></td><td><code>Trac #29369: detect only newish versions of brial.</code></td></tr></table>\n",
    "created_at": "2020-03-28T00:53:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463751",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:31'></a>
This one rejects brial-0.8.5.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40a59a410b7be086264f09cbefe9c03cb94e5c77">40a59a4</a></td><td><code>Trac #29369: detect only newish versions of brial.</code></td></tr></table>




---

archive/issue_comments_463752.json:
```json
{
    "body": "**Changing commit** from \"[4ad36bdea8a5a81df6324d16556984a4119d43ee](https://github.com/sagemath/sagetrac-mirror/commit/4ad36bdea8a5a81df6324d16556984a4119d43ee)\" to \"[40a59a410b7be086264f09cbefe9c03cb94e5c77](https://github.com/sagemath/sagetrac-mirror/commit/40a59a410b7be086264f09cbefe9c03cb94e5c77)\".",
    "created_at": "2020-03-28T00:53:36Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463752",
    "user": "https://github.com/orlitzky"
}
```

**Changing commit** from "[4ad36bdea8a5a81df6324d16556984a4119d43ee](https://github.com/sagemath/sagetrac-mirror/commit/4ad36bdea8a5a81df6324d16556984a4119d43ee)" to "[40a59a410b7be086264f09cbefe9c03cb94e5c77](https://github.com/sagemath/sagetrac-mirror/commit/40a59a410b7be086264f09cbefe9c03cb94e5c77)".



---

archive/issue_events_261343.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-03-28T00:53:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261343"
}
```



---

archive/issue_events_261344.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-03-28T00:53:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261344"
}
```



---

archive/issue_comments_463753.json:
```json
{
    "body": "<a id='comment:32'></a>\nAnd I am physicist, which would make me the practical one - except I do more theoretical physics, so some people would say I am a mathematician with the wrong clothes. So, would something upstream make your job easier? Like a .pc file :)\n\nI am upstream's maintainer after all. Pull requests welcome.",
    "created_at": "2020-03-28T00:58:51Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463753",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:32'></a>
And I am physicist, which would make me the practical one - except I do more theoretical physics, so some people would say I am a mathematician with the wrong clothes. So, would something upstream make your job easier? Like a .pc file :)

I am upstream's maintainer after all. Pull requests welcome.



---

archive/issue_comments_463754.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [@kiwifb](#comment%3A32):\n> And I am physicist, which would make me the practical one - except I do more theoretical physics, so some people would say I am a mathematician with the wrong clothes. So, would something upstream make your job easier? Like a .pc file :)\n> \n> I am upstream's maintainer after all. Pull requests welcome.\n\nA `.pc` file will be invaluable the next time around, but here we need to detect the versions that have already shipped. I probably should have asked for help writing the test program, but it didn't look that hard until it was too late =)",
    "created_at": "2020-03-28T01:05:30Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463754",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:33'></a>
Replying to [@kiwifb](#comment%3A32):
> And I am physicist, which would make me the practical one - except I do more theoretical physics, so some people would say I am a mathematician with the wrong clothes. So, would something upstream make your job easier? Like a .pc file :)
> 
> I am upstream's maintainer after all. Pull requests welcome.

A `.pc` file will be invaluable the next time around, but here we need to detect the versions that have already shipped. I probably should have asked for help writing the test program, but it didn't look that hard until it was too late =)



---

archive/issue_comments_463755.json:
```json
{
    "body": "<a id='comment:34'></a>\nTests run at https://github.com/mkoeppe/sage/actions/runs/65083365",
    "created_at": "2020-03-28T03:38:44Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463755",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>
Tests run at https://github.com/mkoeppe/sage/actions/runs/65083365



---

archive/issue_comments_463756.json:
```json
{
    "body": "<a id='comment:35'></a>\nNew tests at https://github.com/mkoeppe/sage/actions/runs/65346154",
    "created_at": "2020-03-28T16:11:53Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463756",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>
New tests at https://github.com/mkoeppe/sage/actions/runs/65346154



---

archive/issue_events_261345.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-29T12:39:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261345"
}
```



---

archive/issue_events_261346.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-29T12:39:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261346"
}
```



---

archive/issue_comments_463757.json:
```json
{
    "body": "**Changing branch** from \"[u/mjo/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/29369)\" to \"[40a59a410b7be086264f09cbefe9c03cb94e5c77](https://github.com/sagemath/sagetrac-mirror/commit/40a59a410b7be086264f09cbefe9c03cb94e5c77)\".",
    "created_at": "2020-04-05T08:30:35Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463757",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mjo/ticket/29369](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/29369)" to "[40a59a410b7be086264f09cbefe9c03cb94e5c77](https://github.com/sagemath/sagetrac-mirror/commit/40a59a410b7be086264f09cbefe9c03cb94e5c77)".



---

archive/issue_events_261347.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-05T08:30:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261347"
}
```



---

archive/issue_events_261348.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5759437aacf8d8f9d1c0971a2723c186a0cdef79",
    "created_at": "2020-04-05T08:30:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/29369#event-261348"
}
```



---

archive/issue_comments_463758.json:
```json
{
    "body": "<a id='comment:38'></a>\nFollow-up: I see crashes in running doctests on `fedora-30-standard` (https://github.com/mkoeppe/sage/runs/572856797), which uses system brial 1.2.5-1\n\n```\nsage -t src/sage/rings/polynomial/multi_polynomial_sequence.py  # Killed due to abort\nsage -t src/sage/rings/polynomial/pbori.pyx  # Killed due to abort\nsage -t src/sage/rings/polynomial/polynomial_ring_constructor.py  # Killed due to abort\nsage -t src/sage/sat/boolean_polynomials.py  # Killed due to abort\nsage -t src/sage/sat/solvers/dimacs.py  # Killed due to abort\n```",
    "created_at": "2020-04-09T17:11:37Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463758",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'></a>
Follow-up: I see crashes in running doctests on `fedora-30-standard` (https://github.com/mkoeppe/sage/runs/572856797), which uses system brial 1.2.5-1

```
sage -t src/sage/rings/polynomial/multi_polynomial_sequence.py  # Killed due to abort
sage -t src/sage/rings/polynomial/pbori.pyx  # Killed due to abort
sage -t src/sage/rings/polynomial/polynomial_ring_constructor.py  # Killed due to abort
sage -t src/sage/sat/boolean_polynomials.py  # Killed due to abort
sage -t src/sage/sat/solvers/dimacs.py  # Killed due to abort
```



---

archive/issue_comments_463759.json:
```json
{
    "body": "**Changing commit** from \"[40a59a410b7be086264f09cbefe9c03cb94e5c77](https://github.com/sagemath/sagetrac-mirror/commit/40a59a410b7be086264f09cbefe9c03cb94e5c77)\" to \"\".",
    "created_at": "2020-04-09T17:11:37Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463759",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[40a59a410b7be086264f09cbefe9c03cb94e5c77](https://github.com/sagemath/sagetrac-mirror/commit/40a59a410b7be086264f09cbefe9c03cb94e5c77)" to "".



---

archive/issue_comments_463760.json:
```json
{
    "body": "<a id='comment:39'></a>\nThis is now #29490",
    "created_at": "2020-04-09T21:56:26Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463760",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
This is now #29490



---

archive/issue_comments_463761.json:
```json
{
    "body": "**Assignee:** @orlitzky",
    "created_at": "2020-04-28T02:43:28Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463761",
    "user": "https://github.com/dimpase"
}
```

**Assignee:** @orlitzky



---

archive/issue_comments_463762.json:
```json
{
    "body": "<a id='comment:41'></a>\nIn src/module_list.py there is \n\n```\nExtension('sage.rings.polynomial.pbori',\n...\n      depends = [SAGE_INC + \"/polybori/\" + hd + \".h\" for hd in [\"polybori\", \"config\"]],\n      extra_compile_args = m4ri_extra_compile_args),\n```\nwhich causes constant rebuilds with system package, as these headers are no longer in `SAGE_INC`. It's a minor annoyance, but still.",
    "created_at": "2020-04-28T03:10:14Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463762",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:41'></a>
In src/module_list.py there is 

```
Extension('sage.rings.polynomial.pbori',
...
      depends = [SAGE_INC + "/polybori/" + hd + ".h" for hd in ["polybori", "config"]],
      extra_compile_args = m4ri_extra_compile_args),
```
which causes constant rebuilds with system package, as these headers are no longer in `SAGE_INC`. It's a minor annoyance, but still.



---

archive/issue_comments_463763.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [@kiwifb](#comment%3A2):\n> This is a matter for another ticket but I think the python part should be merged into sage proper.\n> [....] So at the moment\n> * Brial is needed to build sage because sage builds binding to brial\n> * sage-brial needs sage's binding at runtime to be usable\n> * sage needs sage-brial at run time for some stuff\n> \n> I think sage-brial should just be merged in sage.\n\nThis is now #30332",
    "created_at": "2020-08-11T00:16:52Z",
    "issue": "https://github.com/sagemath/sage/issues/29369",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/29369#issuecomment-463763",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>
Replying to [@kiwifb](#comment%3A2):
> This is a matter for another ticket but I think the python part should be merged into sage proper.
> [....] So at the moment
> * Brial is needed to build sage because sage builds binding to brial
> * sage-brial needs sage's binding at runtime to be usable
> * sage needs sage-brial at run time for some stuff
> 
> I think sage-brial should just be merged in sage.

This is now #30332
