# Issue 29355: Sagelib's scripts in src/bin should not use build/bin/sage-system-python; remove sage-pypkg-location

archive/issues_029118.json:
```json
{
    "body": "In previous tickets we have moved sage-the-distribution scripts out of `src/bin`.\n\nSome scripts that are (correctly) located in `src/bin` use `sage-system-python`, which is in `build/bin` and not installed and not available in distributions.\n\n```\nsrc/bin/sage-coverage:1:#!/usr/bin/env sage-system-python\nsrc/bin/sage-pypkg-location:1:#!/usr/bin/env sage-system-python\nsrc/bin/sage-coverageall:1:#!/usr/bin/env sage-system-python\nsrc/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python\n```\n\nWe change `sage-coverage*` to just use `python3`. If Sage's venv is in the front of the PATH, this is Sage's python. But these scripts work with \"any python3\", it does not have to be the one in which sage is installed.\n\nWe remove `src/bin/sage-pypkg-location`, which is undocumented and unused.\n\nWe move `src/bin/sage-num-threads.py` to `build/bin/sage-build-num-threads` (where it keeps using `sage-system-python`), leaving a much simplified version `src/bin/sage-num-threads.py` (which is using `python3`) behind.\n\n**CC:**  @dimpase @jhpalmieri @kiwifb @orlitzky @vbraun\n\n**Branch:** [u/mkoeppe/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location)\n\n**Commit:** [a4e757e65628505736c69918c10e274b09469840](https://github.com/sagemath/sagetrac-mirror/commit/a4e757e65628505736c69918c10e274b09469840)\n\n**Reviewer:** Dima Pasechnik, S\u00e9bastien Labb\u00e9\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/29355\n\n",
    "closed_at": "2020-12-14T18:37:27Z",
    "created_at": "2020-03-17T23:46:43Z",
    "labels": [
        "component: scripts",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Sagelib's scripts in src/bin should not use build/bin/sage-system-python; remove sage-pypkg-location",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29355",
    "user": "https://github.com/mkoeppe"
}
```
In previous tickets we have moved sage-the-distribution scripts out of `src/bin`.

Some scripts that are (correctly) located in `src/bin` use `sage-system-python`, which is in `build/bin` and not installed and not available in distributions.

```
src/bin/sage-coverage:1:#!/usr/bin/env sage-system-python
src/bin/sage-pypkg-location:1:#!/usr/bin/env sage-system-python
src/bin/sage-coverageall:1:#!/usr/bin/env sage-system-python
src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python
```

We change `sage-coverage*` to just use `python3`. If Sage's venv is in the front of the PATH, this is Sage's python. But these scripts work with "any python3", it does not have to be the one in which sage is installed.

We remove `src/bin/sage-pypkg-location`, which is undocumented and unused.

We move `src/bin/sage-num-threads.py` to `build/bin/sage-build-num-threads` (where it keeps using `sage-system-python`), leaving a much simplified version `src/bin/sage-num-threads.py` (which is using `python3`) behind.

**CC:**  @dimpase @jhpalmieri @kiwifb @orlitzky @vbraun

**Branch:** [u/mkoeppe/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location)

**Commit:** [a4e757e65628505736c69918c10e274b09469840](https://github.com/sagemath/sagetrac-mirror/commit/a4e757e65628505736c69918c10e274b09469840)

**Reviewer:** Dima Pasechnik, Sébastien Labbé

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/29355





---

archive/issue_comments_463448.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,4 +3,17 @@\n This will require changes to some scripts in `src/bin`:\n \n ```\n-src/bin/sage-pkg\n+This directory contains executables needed during building sage-the-distribution only. It should only be added to `PATH` by `sage-build-env` (see #29052 for `sage-build-env-config`).\n+\n+This will require changes to some scripts in `src/bin`:\n+{{{\n+src/bin/sage-pkg:1:#!/usr/bin/env sage-system-python\n+src/bin/sage-coverage:1:#!/usr/bin/env sage-system-python\n+src/bin/sage-pypkg-location:1:#!/usr/bin/env sage-system-python\n+src/bin/sage-unzip:1:#!/usr/bin/env sage-system-python\n+src/bin/sage-coverageall:1:#!/usr/bin/env sage-system-python\n+src/bin/sage-location:1:#!/usr/bin/env sage-system-python\n+src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python\n+}}}\n+each of which should either be moved to `build/bin` (#21559) or changed to use the Sage python instead (#29090).\n+\n``````\n",
    "created_at": "2020-03-18T01:40:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463448",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,4 +3,17 @@
 This will require changes to some scripts in `src/bin`:
 
 ```
-src/bin/sage-pkg
+This directory contains executables needed during building sage-the-distribution only. It should only be added to `PATH` by `sage-build-env` (see #29052 for `sage-build-env-config`).
+
+This will require changes to some scripts in `src/bin`:
+{{{
+src/bin/sage-pkg:1:#!/usr/bin/env sage-system-python
+src/bin/sage-coverage:1:#!/usr/bin/env sage-system-python
+src/bin/sage-pypkg-location:1:#!/usr/bin/env sage-system-python
+src/bin/sage-unzip:1:#!/usr/bin/env sage-system-python
+src/bin/sage-coverageall:1:#!/usr/bin/env sage-system-python
+src/bin/sage-location:1:#!/usr/bin/env sage-system-python
+src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python
+}}}
+each of which should either be moved to `build/bin` (#21559) or changed to use the Sage python instead (#29090).
+
``````




---

archive/issue_comments_463449.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,10 +3,6 @@\n This will require changes to some scripts in `src/bin`:\n \n ```\n-This directory contains executables needed during building sage-the-distribution only. It should only be added to `PATH` by `sage-build-env` (see #29052 for `sage-build-env-config`).\n-\n-This will require changes to some scripts in `src/bin`:\n-{{{\n src/bin/sage-pkg:1:#!/usr/bin/env sage-system-python\n src/bin/sage-coverage:1:#!/usr/bin/env sage-system-python\n src/bin/sage-pypkg-location:1:#!/usr/bin/env sage-system-python\n@@ -14,6 +10,6 @@\n src/bin/sage-coverageall:1:#!/usr/bin/env sage-system-python\n src/bin/sage-location:1:#!/usr/bin/env sage-system-python\n src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python\n-}}}\n+```\n each of which should either be moved to `build/bin` (#21559) or changed to use the Sage python instead (#29090).\n \n``````\n",
    "created_at": "2020-03-18T01:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463449",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,10 +3,6 @@
 This will require changes to some scripts in `src/bin`:
 
 ```
-This directory contains executables needed during building sage-the-distribution only. It should only be added to `PATH` by `sage-build-env` (see #29052 for `sage-build-env-config`).
-
-This will require changes to some scripts in `src/bin`:
-{{{
 src/bin/sage-pkg:1:#!/usr/bin/env sage-system-python
 src/bin/sage-coverage:1:#!/usr/bin/env sage-system-python
 src/bin/sage-pypkg-location:1:#!/usr/bin/env sage-system-python
@@ -14,6 +10,6 @@
 src/bin/sage-coverageall:1:#!/usr/bin/env sage-system-python
 src/bin/sage-location:1:#!/usr/bin/env sage-system-python
 src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python
-}}}
+```
 each of which should either be moved to `build/bin` (#21559) or changed to use the Sage python instead (#29090).
 
``````




---

archive/issue_comments_463450.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,5 +11,5 @@\n src/bin/sage-location:1:#!/usr/bin/env sage-system-python\n src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python\n ```\n-each of which should either be moved to `build/bin` (#21559) or changed to use the Sage python instead (#29090).\n+each of which should either be moved to `build/bin` or deleted (#21559) or changed to use the Sage python instead (#29090).\n \n``````\n",
    "created_at": "2020-03-18T04:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463450",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,5 +11,5 @@
 src/bin/sage-location:1:#!/usr/bin/env sage-system-python
 src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python
 ```
-each of which should either be moved to `build/bin` (#21559) or changed to use the Sage python instead (#29090).
+each of which should either be moved to `build/bin` or deleted (#21559) or changed to use the Sage python instead (#29090).
 
``````




---

archive/issue_events_261198.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:15:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261198"
}
```



---

archive/issue_events_261199.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-09T23:15:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261199"
}
```



---

archive/issue_events_261200.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261200"
}
```



---

archive/issue_events_261201.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261201"
}
```



---

archive/issue_events_261202.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-18T22:24:43Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "rename": {
        "from": "Remove SAGE_ROOT/build/bin from PATH set by sage-env",
        "to": "Sagelib's scripts in src/bin should not use build/bin/sage-system-python; remove sage-pypkg-location"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261202"
}
```



---

archive/issue_comments_463451.json:
```json
{
    "body": "<a id='comment:6'></a>\n#29951 will only put `$SAGE_ROOT/bin` in `$PATH` if `$SAGE_ROOT` is set and readable.\n\nRepurposing this ticket to change scripts in `src/bin` to not use `sage-system-python` (which is in `build/bin` and not installed and not available in distributions).",
    "created_at": "2020-09-18T22:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463451",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
#29951 will only put `$SAGE_ROOT/bin` in `$PATH` if `$SAGE_ROOT` is set and readable.

Repurposing this ticket to change scripts in `src/bin` to not use `sage-system-python` (which is in `build/bin` and not installed and not available in distributions).



---

archive/issue_events_261203.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-18T22:24:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261203"
}
```



---

archive/issue_events_261204.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-18T22:24:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261204"
}
```



---

archive/issue_comments_463452.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,15 +1,17 @@\n-This directory contains executables needed during building sage-the-distribution only. It should only be added to `PATH` by `sage-build-env` (see #29052 for `sage-build-env-config`).\n+In previous tickets we have moved sage-the-distribution scripts out of `src/bin`.\n \n-This will require changes to some scripts in `src/bin`:\n+Some scripts that are (correctly) located in `src/bin` use `sage-system-python`, which is in `build/bin` and not installed and not available in distributions.\n+\n+We change them to just `python3`. If Sage's venv is in the front of the PATH, this is Sage's python. But these scripts work with \"any python3\", it does not have to be the one in which sage is installed.\n \n ```\n-src/bin/sage-pkg:1:#!/usr/bin/env sage-system-python\n src/bin/sage-coverage:1:#!/usr/bin/env sage-system-python\n src/bin/sage-pypkg-location:1:#!/usr/bin/env sage-system-python\n-src/bin/sage-unzip:1:#!/usr/bin/env sage-system-python\n src/bin/sage-coverageall:1:#!/usr/bin/env sage-system-python\n src/bin/sage-location:1:#!/usr/bin/env sage-system-python\n src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python\n ```\n-each of which should either be moved to `build/bin` or deleted (#21559) or changed to use the Sage python instead (#29090).\n \n+We also remove `src/bin/sage-pypkg-location`, which is undocumented and unused.\n+\n+\n``````\n",
    "created_at": "2020-09-18T22:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463452",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,15 +1,17 @@
-This directory contains executables needed during building sage-the-distribution only. It should only be added to `PATH` by `sage-build-env` (see #29052 for `sage-build-env-config`).
+In previous tickets we have moved sage-the-distribution scripts out of `src/bin`.
 
-This will require changes to some scripts in `src/bin`:
+Some scripts that are (correctly) located in `src/bin` use `sage-system-python`, which is in `build/bin` and not installed and not available in distributions.
+
+We change them to just `python3`. If Sage's venv is in the front of the PATH, this is Sage's python. But these scripts work with "any python3", it does not have to be the one in which sage is installed.
 
 ```
-src/bin/sage-pkg:1:#!/usr/bin/env sage-system-python
 src/bin/sage-coverage:1:#!/usr/bin/env sage-system-python
 src/bin/sage-pypkg-location:1:#!/usr/bin/env sage-system-python
-src/bin/sage-unzip:1:#!/usr/bin/env sage-system-python
 src/bin/sage-coverageall:1:#!/usr/bin/env sage-system-python
 src/bin/sage-location:1:#!/usr/bin/env sage-system-python
 src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python
 ```
-each of which should either be moved to `build/bin` or deleted (#21559) or changed to use the Sage python instead (#29090).
 
+We also remove `src/bin/sage-pypkg-location`, which is undocumented and unused.
+
+
``````




---

archive/issue_comments_463453.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,7 +8,6 @@\n src/bin/sage-coverage:1:#!/usr/bin/env sage-system-python\n src/bin/sage-pypkg-location:1:#!/usr/bin/env sage-system-python\n src/bin/sage-coverageall:1:#!/usr/bin/env sage-system-python\n-src/bin/sage-location:1:#!/usr/bin/env sage-system-python\n src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python\n ```\n \n``````\n",
    "created_at": "2020-09-18T22:30:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463453",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,7 +8,6 @@
 src/bin/sage-coverage:1:#!/usr/bin/env sage-system-python
 src/bin/sage-pypkg-location:1:#!/usr/bin/env sage-system-python
 src/bin/sage-coverageall:1:#!/usr/bin/env sage-system-python
-src/bin/sage-location:1:#!/usr/bin/env sage-system-python
 src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python
 ```
 
``````




---

archive/issue_comments_463454.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location)",
    "created_at": "2020-09-18T22:31:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463454",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location)



---

archive/issue_comments_463455.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2020-09-18T22:31:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463455",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_463456.json:
```json
{
    "body": "**Commit:** [f6dcc1436578fbf7c3ce6386d794c92a6492c1c0](https://github.com/sagemath/sagetrac-mirror/commit/f6dcc1436578fbf7c3ce6386d794c92a6492c1c0)",
    "created_at": "2020-09-18T22:31:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463456",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [f6dcc1436578fbf7c3ce6386d794c92a6492c1c0](https://github.com/sagemath/sagetrac-mirror/commit/f6dcc1436578fbf7c3ce6386d794c92a6492c1c0)



---

archive/issue_comments_463457.json:
```json
{
    "body": "<a id='comment:9'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/063a0afcbce5b9d367263111cb7d5f35be2da8e0\">063a0af</a></td><td><code>src/bin/sage-pypkg-location: Remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6dcc1436578fbf7c3ce6386d794c92a6492c1c0\">f6dcc14</a></td><td><code>src/bin/sage*: Do not use sage-system-python</code></td></tr></table>\n",
    "created_at": "2020-09-18T22:31:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463457",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/063a0afcbce5b9d367263111cb7d5f35be2da8e0">063a0af</a></td><td><code>src/bin/sage-pypkg-location: Remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6dcc1436578fbf7c3ce6386d794c92a6492c1c0">f6dcc14</a></td><td><code>src/bin/sage*: Do not use sage-system-python</code></td></tr></table>




---

archive/issue_events_261205.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-18T22:31:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261205"
}
```



---

archive/issue_comments_463458.json:
```json
{
    "body": "<a id='comment:11'></a>\n`sage-num-threads.py` gets used in the build process, I think: it gets used in `src/bin/sage-env`. So I think this change will break building on systems with no Python 3 anywhere. Do we need to support such systems?",
    "created_at": "2020-09-21T20:17:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463458",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>
`sage-num-threads.py` gets used in the build process, I think: it gets used in `src/bin/sage-env`. So I think this change will break building on systems with no Python 3 anywhere. Do we need to support such systems?



---

archive/issue_comments_463459.json:
```json
{
    "body": "<a id='comment:12'></a>\nThanks for catching this. This needs some thought",
    "created_at": "2020-09-21T20:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463459",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
Thanks for catching this. This needs some thought



---

archive/issue_comments_463460.json:
```json
{
    "body": "<a id='comment:13'></a>\nI think the issue is that the line between build scripts and runtime scripts is blurred. sage-env and sage-num-threads.py, maybe others?",
    "created_at": "2020-09-21T20:26:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463460",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:13'></a>
I think the issue is that the line between build scripts and runtime scripts is blurred. sage-env and sage-num-threads.py, maybe others?



---

archive/issue_comments_463461.json:
```json
{
    "body": "<a id='comment:14'></a>\nYes, I agree, I think the solution is to split the build-specific parts (parsing MAKEFLAGS) out from `sage-num-threads.py`. I'll work on it.",
    "created_at": "2020-09-21T20:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463461",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Yes, I agree, I think the solution is to split the build-specific parts (parsing MAKEFLAGS) out from `sage-num-threads.py`. I'll work on it.



---

archive/issue_events_261206.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-21T21:32:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261206"
}
```



---

archive/issue_events_261207.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-21T21:32:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261207"
}
```



---

archive/issue_comments_463462.json:
```json
{
    "body": "<a id='comment:16'></a>\nSounds good to me.",
    "created_at": "2020-09-21T22:00:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463462",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:16'></a>
Sounds good to me.



---

archive/issue_comments_463463.json:
```json
{
    "body": "**Changing commit** from \"[f6dcc1436578fbf7c3ce6386d794c92a6492c1c0](https://github.com/sagemath/sagetrac-mirror/commit/f6dcc1436578fbf7c3ce6386d794c92a6492c1c0)\" to \"[850f97c381f65be85319f4c3d94e0a4b1efc0399](https://github.com/sagemath/sagetrac-mirror/commit/850f97c381f65be85319f4c3d94e0a4b1efc0399)\".",
    "created_at": "2020-09-22T00:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463463",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f6dcc1436578fbf7c3ce6386d794c92a6492c1c0](https://github.com/sagemath/sagetrac-mirror/commit/f6dcc1436578fbf7c3ce6386d794c92a6492c1c0)" to "[850f97c381f65be85319f4c3d94e0a4b1efc0399](https://github.com/sagemath/sagetrac-mirror/commit/850f97c381f65be85319f4c3d94e0a4b1efc0399)".



---

archive/issue_comments_463464.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f76082a6d7bb1fa1a1b336b3e00fc03b4a271682\">f76082a</a></td><td><code>Merge tag '9.2.beta13' into t/29355/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab724377d0cb8fea3f1f5eac1bd72a22a7c6a088\">ab72437</a></td><td><code>build/bin/sage-build-num-threads: Copy from src/bin/sage-num-threads.py, simplify src/bin/sage-num-threads.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e797a116ce8b00968c5dc8dfbb410d8ee87cc9b\">1e797a1</a></td><td><code>build/make/install: Set SAGE_NUM_THREADS, SAGE_NUM_THREADS_PARALLEL using sage-build-num-threads</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/850f97c381f65be85319f4c3d94e0a4b1efc0399\">850f97c</a></td><td><code>src/bin/sage-env: If SAGE_NUM_THREADS, SAGE_NUM_THREADS_PARALLEL are set already, do not call sage-num-threads.py to set them</code></td></tr></table>\n",
    "created_at": "2020-09-22T00:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463464",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f76082a6d7bb1fa1a1b336b3e00fc03b4a271682">f76082a</a></td><td><code>Merge tag '9.2.beta13' into t/29355/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab724377d0cb8fea3f1f5eac1bd72a22a7c6a088">ab72437</a></td><td><code>build/bin/sage-build-num-threads: Copy from src/bin/sage-num-threads.py, simplify src/bin/sage-num-threads.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e797a116ce8b00968c5dc8dfbb410d8ee87cc9b">1e797a1</a></td><td><code>build/make/install: Set SAGE_NUM_THREADS, SAGE_NUM_THREADS_PARALLEL using sage-build-num-threads</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/850f97c381f65be85319f4c3d94e0a4b1efc0399">850f97c</a></td><td><code>src/bin/sage-env: If SAGE_NUM_THREADS, SAGE_NUM_THREADS_PARALLEL are set already, do not call sage-num-threads.py to set them</code></td></tr></table>




---

archive/issue_comments_463465.json:
```json
{
    "body": "<a id='comment:18'></a>\nIn a follow-up ticket, we could probably get rid of `src/bin/sage-num-threads.py` completely by implementing the desired defaulting behavior in `src/sage/parallel/ncpus.py` and `src/sage/doctest/control.py`.",
    "created_at": "2020-09-22T00:09:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463465",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
In a follow-up ticket, we could probably get rid of `src/bin/sage-num-threads.py` completely by implementing the desired defaulting behavior in `src/sage/parallel/ncpus.py` and `src/sage/doctest/control.py`.



---

archive/issue_events_261208.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-22T00:09:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261208"
}
```



---

archive/issue_events_261209.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-22T00:09:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261209"
}
```



---

archive/issue_comments_463466.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,6 @@\n In previous tickets we have moved sage-the-distribution scripts out of `src/bin`.\n \n Some scripts that are (correctly) located in `src/bin` use `sage-system-python`, which is in `build/bin` and not installed and not available in distributions.\n-\n-We change them to just `python3`. If Sage's venv is in the front of the PATH, this is Sage's python. But these scripts work with \"any python3\", it does not have to be the one in which sage is installed.\n \n ```\n src/bin/sage-coverage:1:#!/usr/bin/env sage-system-python\n@@ -11,6 +9,8 @@\n src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python\n ```\n \n-We also remove `src/bin/sage-pypkg-location`, which is undocumented and unused.\n+We change `sage-coverage*` to just use `python3`. If Sage's venv is in the front of the PATH, this is Sage's python. But these scripts work with \"any python3\", it does not have to be the one in which sage is installed.\n \n+We remove `src/bin/sage-pypkg-location`, which is undocumented and unused.\n \n+We move `src/bin/sage-num-threads.py` to `build/bin/sage-build-num-threads` (where it keeps using `sage-system-python`), leaving a much simplified version `src/bin/sage-num-threads.py` (which is using `python3`) behind.\n``````\n",
    "created_at": "2020-09-22T00:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463466",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,6 @@
 In previous tickets we have moved sage-the-distribution scripts out of `src/bin`.
 
 Some scripts that are (correctly) located in `src/bin` use `sage-system-python`, which is in `build/bin` and not installed and not available in distributions.
-
-We change them to just `python3`. If Sage's venv is in the front of the PATH, this is Sage's python. But these scripts work with "any python3", it does not have to be the one in which sage is installed.
 
 ```
 src/bin/sage-coverage:1:#!/usr/bin/env sage-system-python
@@ -11,6 +9,8 @@
 src/bin/sage-num-threads.py:1:#!/usr/bin/env sage-system-python
 ```
 
-We also remove `src/bin/sage-pypkg-location`, which is undocumented and unused.
+We change `sage-coverage*` to just use `python3`. If Sage's venv is in the front of the PATH, this is Sage's python. But these scripts work with "any python3", it does not have to be the one in which sage is installed.
 
+We remove `src/bin/sage-pypkg-location`, which is undocumented and unused.
 
+We move `src/bin/sage-num-threads.py` to `build/bin/sage-build-num-threads` (where it keeps using `sage-system-python`), leaving a much simplified version `src/bin/sage-num-threads.py` (which is using `python3`) behind.
``````




---

archive/issue_comments_463467.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [mkoeppe](#comment%3A18):\n> In a follow-up ticket, we could probably get rid of `src/bin/sage-num-threads.py` completely by implementing the desired defaulting behavior in `src/sage/parallel/ncpus.py` and `src/sage/doctest/control.py`.\n\n\nI have opened #30639 for that.",
    "created_at": "2020-09-23T04:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463467",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Replying to [mkoeppe](#comment%3A18):
> In a follow-up ticket, we could probably get rid of `src/bin/sage-num-threads.py` completely by implementing the desired defaulting behavior in `src/sage/parallel/ncpus.py` and `src/sage/doctest/control.py`.


I have opened #30639 for that.



---

archive/issue_comments_463468.json:
```json
{
    "body": "<a id='comment:21'></a>\nI should probably know the answer to this, but is there a promise that \"python3\" is the official name for the python interpreter in the future? After 2.x is completely dead, they're not going to change it back to \"python\"?\n\n(This is also relevant when we're searching for (only) a system \"python3\")",
    "created_at": "2020-09-25T14:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463468",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:21'></a>
I should probably know the answer to this, but is there a promise that "python3" is the official name for the python interpreter in the future? After 2.x is completely dead, they're not going to change it back to "python"?

(This is also relevant when we're searching for (only) a system "python3")



---

archive/issue_comments_463469.json:
```json
{
    "body": "<a id='comment:22'></a>\nThe name \"python3\" should be OK for a long time:\n\n* https://www.python.org/dev/peps/pep-0394/\n* https://lwn.net/Articles/780737/",
    "created_at": "2020-09-25T14:40:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463469",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:22'></a>
The name "python3" should be OK for a long time:

* https://www.python.org/dev/peps/pep-0394/
* https://lwn.net/Articles/780737/



---

archive/issue_comments_463470.json:
```json
{
    "body": "<a id='comment:23'></a>\nand https://twitter.com/gvanrossum/status/1306082472443084801",
    "created_at": "2020-09-25T15:26:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463470",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
and https://twitter.com/gvanrossum/status/1306082472443084801



---

archive/issue_comments_463471.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef1444a24a9458ffc00114c0c22145621342dd70\">ef1444a</a></td><td><code>Merge tag '9.2.beta14' into t/29355/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location</code></td></tr></table>\n",
    "created_at": "2020-10-02T02:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463471",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef1444a24a9458ffc00114c0c22145621342dd70">ef1444a</a></td><td><code>Merge tag '9.2.beta14' into t/29355/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location</code></td></tr></table>




---

archive/issue_comments_463472.json:
```json
{
    "body": "**Changing commit** from \"[850f97c381f65be85319f4c3d94e0a4b1efc0399](https://github.com/sagemath/sagetrac-mirror/commit/850f97c381f65be85319f4c3d94e0a4b1efc0399)\" to \"[ef1444a24a9458ffc00114c0c22145621342dd70](https://github.com/sagemath/sagetrac-mirror/commit/ef1444a24a9458ffc00114c0c22145621342dd70)\".",
    "created_at": "2020-10-02T02:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463472",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[850f97c381f65be85319f4c3d94e0a4b1efc0399](https://github.com/sagemath/sagetrac-mirror/commit/850f97c381f65be85319f4c3d94e0a4b1efc0399)" to "[ef1444a24a9458ffc00114c0c22145621342dd70](https://github.com/sagemath/sagetrac-mirror/commit/ef1444a24a9458ffc00114c0c22145621342dd70)".



---

archive/issue_comments_463473.json:
```json
{
    "body": "<a id='comment:25'></a>\nNeeds review",
    "created_at": "2020-10-02T18:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463473",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Needs review



---

archive/issue_events_261210.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261210"
}
```



---

archive/issue_events_261211.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261211"
}
```



---

archive/issue_comments_463474.json:
```json
{
    "body": "**Changing commit** from \"[ef1444a24a9458ffc00114c0c22145621342dd70](https://github.com/sagemath/sagetrac-mirror/commit/ef1444a24a9458ffc00114c0c22145621342dd70)\" to \"[f4a75a93353a1122f768dd78d93ad06d71652ab2](https://github.com/sagemath/sagetrac-mirror/commit/f4a75a93353a1122f768dd78d93ad06d71652ab2)\".",
    "created_at": "2020-11-01T19:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463474",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ef1444a24a9458ffc00114c0c22145621342dd70](https://github.com/sagemath/sagetrac-mirror/commit/ef1444a24a9458ffc00114c0c22145621342dd70)" to "[f4a75a93353a1122f768dd78d93ad06d71652ab2](https://github.com/sagemath/sagetrac-mirror/commit/f4a75a93353a1122f768dd78d93ad06d71652ab2)".



---

archive/issue_comments_463475.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4a75a93353a1122f768dd78d93ad06d71652ab2\">f4a75a9</a></td><td><code>Merge tag '9.3.beta0' into t/29355/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location</code></td></tr></table>\n",
    "created_at": "2020-11-01T19:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463475",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4a75a93353a1122f768dd78d93ad06d71652ab2">f4a75a9</a></td><td><code>Merge tag '9.3.beta0' into t/29355/sagelib_s_scripts_in_src_bin_should_not_use_build_bin_sage_system_python__remove_sage_pypkg_location</code></td></tr></table>




---

archive/issue_comments_463476.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4e757e65628505736c69918c10e274b09469840\">a4e757e</a></td><td><code>build/pkgs/sagelib/src/setup.py: Remove bin/sage-pypkg-location</code></td></tr></table>\n",
    "created_at": "2020-11-01T19:35:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463476",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4e757e65628505736c69918c10e274b09469840">a4e757e</a></td><td><code>build/pkgs/sagelib/src/setup.py: Remove bin/sage-pypkg-location</code></td></tr></table>




---

archive/issue_comments_463477.json:
```json
{
    "body": "**Changing commit** from \"[f4a75a93353a1122f768dd78d93ad06d71652ab2](https://github.com/sagemath/sagetrac-mirror/commit/f4a75a93353a1122f768dd78d93ad06d71652ab2)\" to \"[a4e757e65628505736c69918c10e274b09469840](https://github.com/sagemath/sagetrac-mirror/commit/a4e757e65628505736c69918c10e274b09469840)\".",
    "created_at": "2020-11-01T19:35:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463477",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f4a75a93353a1122f768dd78d93ad06d71652ab2](https://github.com/sagemath/sagetrac-mirror/commit/f4a75a93353a1122f768dd78d93ad06d71652ab2)" to "[a4e757e65628505736c69918c10e274b09469840](https://github.com/sagemath/sagetrac-mirror/commit/a4e757e65628505736c69918c10e274b09469840)".



---

archive/issue_comments_463478.json:
```json
{
    "body": "<a id='comment:29'></a>\nCan we please get this ticket in?",
    "created_at": "2020-11-02T21:11:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463478",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
Can we please get this ticket in?



---

archive/issue_comments_463479.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2020-11-03T17:51:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463479",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_events_261212.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-11-03T17:51:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261212"
}
```



---

archive/issue_events_261213.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-11-03T17:51:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261213"
}
```



---

archive/issue_comments_463480.json:
```json
{
    "body": "<a id='comment:30'></a>\nlgtm",
    "created_at": "2020-11-03T17:51:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463480",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:30'></a>
lgtm



---

archive/issue_comments_463481.json:
```json
{
    "body": "<a id='comment:31'></a>\nThanks!",
    "created_at": "2020-11-03T17:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463481",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>
Thanks!



---

archive/issue_comments_463482.json:
```json
{
    "body": "<a id='comment:32'></a>\nI was currently checking it also. So, I confirm that `sage -coverage` and `sage -coverageall` still work. Also, `sage-num-threads.py` still seems to work:\n\n```\n(sage-sh) $ echo $SAGE_NUM_THREADS\n1\n(sage-sh) $ echo $SAGE_NUM_THREADS_PARALLEL\n8\n```\n\nor the above were defined from `build/make/install`?\n\nAnyway, I have:\n\n```\nsage: import os                                                                 \nsage: os.environ['SAGE_NUM_THREADS']                                            \n'1'\nsage: os.environ['SAGE_NUM_THREADS_PARALLEL']                                   \n'8'\n```\n\npositive review!",
    "created_at": "2020-11-03T20:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463482",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:32'></a>
I was currently checking it also. So, I confirm that `sage -coverage` and `sage -coverageall` still work. Also, `sage-num-threads.py` still seems to work:

```
(sage-sh) $ echo $SAGE_NUM_THREADS
1
(sage-sh) $ echo $SAGE_NUM_THREADS_PARALLEL
8
```

or the above were defined from `build/make/install`?

Anyway, I have:

```
sage: import os                                                                 
sage: os.environ['SAGE_NUM_THREADS']                                            
'1'
sage: os.environ['SAGE_NUM_THREADS_PARALLEL']                                   
'8'
```

positive review!



---

archive/issue_comments_463483.json:
```json
{
    "body": "**Changing reviewer** from \"Dima Pasechnik\" to \"Dima Pasechnik, S\u00e9bastien Labb\u00e9\".",
    "created_at": "2020-11-03T20:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463483",
    "user": "https://github.com/seblabbe"
}
```

**Changing reviewer** from "Dima Pasechnik" to "Dima Pasechnik, Sébastien Labbé".



---

archive/issue_events_261214.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-14T18:37:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261214"
}
```



---

archive/issue_events_261215.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-14T18:37:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29355#event-261215"
}
```



---

archive/issue_comments_463484.json:
```json
{
    "body": "<a id='comment:33'></a>\nLooks like this ticket was merged as part of #30627.",
    "created_at": "2020-12-14T18:37:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29355",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29355#issuecomment-463484",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
Looks like this ticket was merged as part of #30627.
