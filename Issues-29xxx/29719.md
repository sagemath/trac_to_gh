# Issue 29719: upgrade to flint 2.6.3

archive/issues_029482.json:
```json
{
    "body": "Flint 2.6.3 has been released\n\ntarball: see checksums.ini [upstream_url] \n\n\nCC:  @timokau @kedlaya @jbalakrishnan @saraedum @isuruf @mkoeppe @kliem @videlec winfried @slel\n\nKeywords: upgrade\n\nBranch/Commit: [7681b1a38b797ccacdaaa0de473bab8116084fdb](https://github.com/sagemath/sagetrac-mirror/commit/7681b1a38b797ccacdaaa0de473bab8116084fdb)\n\nUpstream: Reported upstream. Developers acknowledge bug.\n\nReviewer: Matthias Koeppe, Dima Pasechnik\n\nAuthor: Dima Pasechnik, Matthias Koeppe\n\nDependencies: #30805\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29719\n\n",
    "closed_at": "2020-11-15T22:47:41Z",
    "created_at": "2020-05-20T22:40:57Z",
    "labels": [
        "component: packages: standard",
        "critical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "upgrade to flint 2.6.3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29719",
    "user": "https://github.com/videlec"
}
```
Flint 2.6.3 has been released

tarball: see checksums.ini [upstream_url] 


CC:  @timokau @kedlaya @jbalakrishnan @saraedum @isuruf @mkoeppe @kliem @videlec winfried @slel

Keywords: upgrade

Branch/Commit: [7681b1a38b797ccacdaaa0de473bab8116084fdb](https://github.com/sagemath/sagetrac-mirror/commit/7681b1a38b797ccacdaaa0de473bab8116084fdb)

Upstream: Reported upstream. Developers acknowledge bug.

Reviewer: Matthias Koeppe, Dima Pasechnik

Author: Dima Pasechnik, Matthias Koeppe

Dependencies: #30805

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29719





---

archive/issue_comments_583215.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n See anouncement\n \n https://groups.google.com/forum/#!topic/sage-devel/SyUykKwQw6I\n+\n+alpha2 tarball:\n+http://users.ox.ac.uk/~coml0531/sage/flint-2.6.0.tar.gz\n``````\n",
    "created_at": "2020-05-21T10:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583215",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 See anouncement
 
 https://groups.google.com/forum/#!topic/sage-devel/SyUykKwQw6I
+
+alpha2 tarball:
+http://users.ox.ac.uk/~coml0531/sage/flint-2.6.0.tar.gz
``````




---

archive/issue_comments_583216.json:
```json
{
    "body": "Branch: [public/packages/flint260](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/flint260)",
    "created_at": "2020-05-21T10:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583216",
    "user": "https://github.com/dimpase"
}
```

Branch: [public/packages/flint260](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/flint260)



---

archive/issue_comments_583217.json:
```json
{
    "body": "Commit: [3bb2c705097dd49e1e5d9a8e9d8e78ca96eb2d42](https://github.com/sagemath/sagetrac-mirror/commit/3bb2c705097dd49e1e5d9a8e9d8e78ca96eb2d42)",
    "created_at": "2020-05-21T10:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583217",
    "user": "https://github.com/dimpase"
}
```

Commit: [3bb2c705097dd49e1e5d9a8e9d8e78ca96eb2d42](https://github.com/sagemath/sagetrac-mirror/commit/3bb2c705097dd49e1e5d9a8e9d8e78ca96eb2d42)



---

archive/issue_comments_583218.json:
```json
{
    "body": "<a id='comment:1'></a>\nthis is from the latest alpha2 (commit a960857c7d8e5ea7c4d4c2958e38ec52778d85d9)\n\nPatches still need to be sorted out.\n\n---\nNew commits:\n|                                                                                                                                          |                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[3bb2c70](https://github.com/sagemath/sagetrac-mirror/commit/3bb2c705097dd49e1e5d9a8e9d8e78ca96eb2d42)|`update flint to 2.6.0 (alpha version)`|",
    "created_at": "2020-05-21T10:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583218",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>
this is from the latest alpha2 (commit a960857c7d8e5ea7c4d4c2958e38ec52778d85d9)

Patches still need to be sorted out.

---
New commits:
|                                                                                                                                          |                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[3bb2c70](https://github.com/sagemath/sagetrac-mirror/commit/3bb2c705097dd49e1e5d9a8e9d8e78ca96eb2d42)|`update flint to 2.6.0 (alpha version)`|



---

archive/issue_comments_583219.json:
```json
{
    "body": "Author: Dima Pasechnik",
    "created_at": "2020-05-21T10:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583219",
    "user": "https://github.com/dimpase"
}
```

Author: Dima Pasechnik



---

archive/issue_comments_583220.json:
```json
{
    "body": "Changing commit from \"[3bb2c705097dd49e1e5d9a8e9d8e78ca96eb2d42](https://github.com/sagemath/sagetrac-mirror/commit/3bb2c705097dd49e1e5d9a8e9d8e78ca96eb2d42)\" to \"[9b6e67c07dcd30ce200c8e514d28b1fc9c9f06e5](https://github.com/sagemath/sagetrac-mirror/commit/9b6e67c07dcd30ce200c8e514d28b1fc9c9f06e5)\"",
    "created_at": "2020-05-21T12:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583220",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[3bb2c705097dd49e1e5d9a8e9d8e78ca96eb2d42](https://github.com/sagemath/sagetrac-mirror/commit/3bb2c705097dd49e1e5d9a8e9d8e78ca96eb2d42)" to "[9b6e67c07dcd30ce200c8e514d28b1fc9c9f06e5](https://github.com/sagemath/sagetrac-mirror/commit/9b6e67c07dcd30ce200c8e514d28b1fc9c9f06e5)"



---

archive/issue_comments_583221.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[9b6e67c](https://github.com/sagemath/sagetrac-mirror/commit/9b6e67c07dcd30ce200c8e514d28b1fc9c9f06e5)|`update flint to 2.6.0 (alpha version), remove patches`|",
    "created_at": "2020-05-21T12:28:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[9b6e67c](https://github.com/sagemath/sagetrac-mirror/commit/9b6e67c07dcd30ce200c8e514d28b1fc9c9f06e5)|`update flint to 2.6.0 (alpha version), remove patches`|



---

archive/issue_comments_583222.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,5 @@\n \n alpha2 tarball:\n http://users.ox.ac.uk/~coml0531/sage/flint-2.6.0.tar.gz\n+\n+For testing purposes only, should not be merged - we should get proper upstream 2.6.0 version.\n``````\n",
    "created_at": "2020-05-21T12:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583222",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,5 @@
 
 alpha2 tarball:
 http://users.ox.ac.uk/~coml0531/sage/flint-2.6.0.tar.gz
+
+For testing purposes only, should not be merged - we should get proper upstream 2.6.0 version.
``````




---

archive/issue_comments_583223.json:
```json
{
    "body": "<a id='comment:3'></a>\nOK, can be tested now. All our patches got upstreamed, so they are gone now.",
    "created_at": "2020-05-21T12:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583223",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
OK, can be tested now. All our patches got upstreamed, so they are gone now.



---

archive/issue_comments_583224.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-05-21T12:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583224",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_583225.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-05-21T13:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583225",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_583226.json:
```json
{
    "body": "<a id='comment:4'></a>\nNeither arb 2.16 nor 2.17 work with this version of Flint.\n\nOne gets\n\n```\ngcc -fPIC -ansi -pedantic -Wall -O2 -funroll-loops -g -mpopcnt  -I/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/arb-2.17.0/src -I/home/scratch2/dimpase/sage/sage/local/include -I/home/scratch2/dimpase/sage/sage/local/include -I/home/scratch2/dimpase/sage/sage/local/include -c mul_mpn.c -o ../build/fmpr/mul_mpn.lo -MMD -MP -MF \"../build/fmpr/mul_mpn.d\" -MT \"../build/fmpr/mul_mpn.d\" -MT \"../build/fmpr/mul_mpn.lo\"\nIn file included from ../fmpr.h:26,\n                 from get_si.c:12:\n../fmpz_extras.h:47:1: error: redefinition of 'fmpz_add_si'\n   47 | fmpz_add_si(fmpz_t z, const fmpz_t x, slong y)\n      | ^~~~~~~~~~~\nIn file included from ../fmpr.h:23,\n                 from get_si.c:12:\n../../../../../../../include/flint/fmpz.h:479:18: note: previous definition of 'fmpz_add_si' was here\n  479 | FMPZ_INLINE void fmpz_add_si(fmpz_t f, const fmpz_t g, slong x)\n      |                  ^~~~~~~~~~~\nIn file included from ../fmpr.h:26,\n                 from get_si.c:12:\n../fmpz_extras.h:56:1: error: redefinition of 'fmpz_sub_si'\n   56 | fmpz_sub_si(fmpz_t z, const fmpz_t x, slong y)\n      | ^~~~~~~~~~~\nIn file included from ../fmpr.h:23,\n                 from get_si.c:12:\n../../../../../../../include/flint/fmpz.h:487:18: note: previous definition of 'fmpz_sub_si' was here\n  487 | FMPZ_INLINE void fmpz_sub_si(fmpz_t f, const fmpz_t g, slong x)\n      |                  ^~~~~~~~~~~\nmake[5]: *** [../Makefile.subdirs:60: ../build/fmpr/get_si.lo] Error 1\n```",
    "created_at": "2020-05-21T13:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583226",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
Neither arb 2.16 nor 2.17 work with this version of Flint.

One gets

```
gcc -fPIC -ansi -pedantic -Wall -O2 -funroll-loops -g -mpopcnt  -I/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/arb-2.17.0/src -I/home/scratch2/dimpase/sage/sage/local/include -I/home/scratch2/dimpase/sage/sage/local/include -I/home/scratch2/dimpase/sage/sage/local/include -c mul_mpn.c -o ../build/fmpr/mul_mpn.lo -MMD -MP -MF "../build/fmpr/mul_mpn.d" -MT "../build/fmpr/mul_mpn.d" -MT "../build/fmpr/mul_mpn.lo"
In file included from ../fmpr.h:26,
                 from get_si.c:12:
../fmpz_extras.h:47:1: error: redefinition of 'fmpz_add_si'
   47 | fmpz_add_si(fmpz_t z, const fmpz_t x, slong y)
      | ^~~~~~~~~~~
In file included from ../fmpr.h:23,
                 from get_si.c:12:
../../../../../../../include/flint/fmpz.h:479:18: note: previous definition of 'fmpz_add_si' was here
  479 | FMPZ_INLINE void fmpz_add_si(fmpz_t f, const fmpz_t g, slong x)
      |                  ^~~~~~~~~~~
In file included from ../fmpr.h:26,
                 from get_si.c:12:
../fmpz_extras.h:56:1: error: redefinition of 'fmpz_sub_si'
   56 | fmpz_sub_si(fmpz_t z, const fmpz_t x, slong y)
      | ^~~~~~~~~~~
In file included from ../fmpr.h:23,
                 from get_si.c:12:
../../../../../../../include/flint/fmpz.h:487:18: note: previous definition of 'fmpz_sub_si' was here
  487 | FMPZ_INLINE void fmpz_sub_si(fmpz_t f, const fmpz_t g, slong x)
      |                  ^~~~~~~~~~~
make[5]: *** [../Makefile.subdirs:60: ../build/fmpr/get_si.lo] Error 1
```



---

archive/issue_comments_583227.json:
```json
{
    "body": "<a id='comment:5'></a>\nOne apparently may use arb patch: https://github.com/fredrik-johansson/arb/commit/d3d9983231e0f034e86a1e75761627eb8213b704.patch - trying this with arb 2.17.0 now.",
    "created_at": "2020-05-21T13:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583227",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
One apparently may use arb patch: https://github.com/fredrik-johansson/arb/commit/d3d9983231e0f034e86a1e75761627eb8213b704.patch - trying this with arb 2.17.0 now.



---

archive/issue_comments_583228.json:
```json
{
    "body": "<a id='comment:6'></a>\nYes, there will be an immediate new Arb release. The current git master ought to work.",
    "created_at": "2020-05-21T13:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583228",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:6'></a>
Yes, there will be an immediate new Arb release. The current git master ought to work.



---

archive/issue_comments_583229.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [fredrik.johansson](#comment%3A6):\n> Yes, there will be an immediate new Arb release. The current git master ought to work.\n\n\nthere are doctest errors (I made https://github.com/dimpase/arb/releases/tag/2.17.1, and removed all the arb patches)\n\n```\nsage -t --warn-long 59.4 src/sage/rings/complex_arb.pyx\n**********************************************************************\nFile \"src/sage/rings/complex_arb.pyx\", line 4554, in sage.rings.complex_arb.ComplexBall.elliptic_pi\nFailed example:\n    CBF(2,3).elliptic_pi(CBF(1,1))\nExpected:\n    [0.27029997361983 +/- ...e-15] + [0.715676058329095 +/- ...e-16]*I\nGot:\n    [0.2702999736198 +/- 4.51e-14] + [0.7156760583291 +/- 1.78e-14]*I\n**********************************************************************\nFile \"src/sage/rings/complex_arb.pyx\", line 4662, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\nFailed example:\n    n.elliptic_pi_inc(CBF.pi()/2, m)\nExpected:\n    [0.8934793755173 +/- ...e-14] + [0.95707868710750 +/- ...e-15]*I\nGot:\n    nan + nan*I\n**********************************************************************\nFile \"src/sage/rings/complex_arb.pyx\", line 4664, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\nFailed example:\n    n.elliptic_pi(m)\nExpected:\n    [0.89347937551733 +/- ...e-15] + [0.95707868710750 +/- ...e-15]*I\nGot:\n    [0.8934793755173 +/- 4.27e-14] + [0.9570786871075 +/- 9.91e-15]*I\n**********************************************************************\nFile \"src/sage/rings/complex_arb.pyx\", line 4669, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\nFailed example:\n    n.elliptic_pi_inc(CBF.pi()/2, m)\nExpected:\n    [0.2969588746419 +/- ...e-14] + [1.3188795332738 +/- ...e-14]*I\nGot:\n    nan + nan*I\n**********************************************************************\nFile \"src/sage/rings/complex_arb.pyx\", line 4671, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\nFailed example:\n    n.elliptic_pi(m)\nExpected:\n    [0.29695887464189 +/- ...e-15] + [1.31887953327376 +/- ...e-15]*I\nGot:\n    [0.2969588746419 +/- 3.79e-14] + [1.3188795332738 +/- 7.19e-14]*I\n**********************************************************************\nFile \"src/sage/rings/complex_arb.pyx\", line 4747, in sage.rings.complex_arb.ComplexBall.elliptic_rj\nFailed example:\n    CBF(0,1).elliptic_rj(CBF(-1/2,1), CBF(-1,-1), CBF(2))\nExpected:\n    [1.004386756285733 +/- ...e-16] + [-0.2451626834391645 +/- ...e-17]*I\nGot:\n    [1.00438675628573 +/- 6.85e-15] + [-0.24516268343916 +/- 8.11e-15]*I\n**********************************************************************\n3 items had failures:\n   1 of   2 in sage.rings.complex_arb.ComplexBall.elliptic_pi\n   4 of  10 in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\n   1 of   2 in sage.rings.complex_arb.ComplexBall.elliptic_rj\n    [639 tests, 6 failures, 8.14 s]\n```\nand\n\n```\nsage -t --warn-long 59.4 src/sage/rings/real_arb.pyx\n**********************************************************************\nFile \"src/sage/rings/real_arb.pyx\", line 295, in sage.rings.real_arb.arb_to_mpfi\nFailed example:\n    RIF(RBF(2)**(2**100)) # indirect doctest\nExpected:\n    Traceback (most recent call last):\n    ...\n    ArithmeticError: Error converting arb to mpfi. Overflow?\nGot:\n    [5.8756537891115869e1388255822130839282 .. +infinity]\n**********************************************************************\nFile \"src/sage/rings/real_arb.pyx\", line 1660, in sage.rings.real_arb.RealBall.mid\nFailed example:\n    b.mid()\nExpected:\n    Traceback (most recent call last):\n    ...\n    RuntimeError: unable to convert to MPFR (exponent out of range?)\nGot:\n    +infinity\n**********************************************************************\n2 items had failures:\n   1 of   7 in sage.rings.real_arb.RealBall.mid\n   1 of   2 in sage.rings.real_arb.arb_to_mpfi\n    [542 tests, 2 failures, 0.64 s]\n```",
    "created_at": "2020-05-21T19:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583229",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
Replying to [fredrik.johansson](#comment%3A6):
> Yes, there will be an immediate new Arb release. The current git master ought to work.


there are doctest errors (I made https://github.com/dimpase/arb/releases/tag/2.17.1, and removed all the arb patches)

```
sage -t --warn-long 59.4 src/sage/rings/complex_arb.pyx
**********************************************************************
File "src/sage/rings/complex_arb.pyx", line 4554, in sage.rings.complex_arb.ComplexBall.elliptic_pi
Failed example:
    CBF(2,3).elliptic_pi(CBF(1,1))
Expected:
    [0.27029997361983 +/- ...e-15] + [0.715676058329095 +/- ...e-16]*I
Got:
    [0.2702999736198 +/- 4.51e-14] + [0.7156760583291 +/- 1.78e-14]*I
**********************************************************************
File "src/sage/rings/complex_arb.pyx", line 4662, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
Failed example:
    n.elliptic_pi_inc(CBF.pi()/2, m)
Expected:
    [0.8934793755173 +/- ...e-14] + [0.95707868710750 +/- ...e-15]*I
Got:
    nan + nan*I
**********************************************************************
File "src/sage/rings/complex_arb.pyx", line 4664, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
Failed example:
    n.elliptic_pi(m)
Expected:
    [0.89347937551733 +/- ...e-15] + [0.95707868710750 +/- ...e-15]*I
Got:
    [0.8934793755173 +/- 4.27e-14] + [0.9570786871075 +/- 9.91e-15]*I
**********************************************************************
File "src/sage/rings/complex_arb.pyx", line 4669, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
Failed example:
    n.elliptic_pi_inc(CBF.pi()/2, m)
Expected:
    [0.2969588746419 +/- ...e-14] + [1.3188795332738 +/- ...e-14]*I
Got:
    nan + nan*I
**********************************************************************
File "src/sage/rings/complex_arb.pyx", line 4671, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
Failed example:
    n.elliptic_pi(m)
Expected:
    [0.29695887464189 +/- ...e-15] + [1.31887953327376 +/- ...e-15]*I
Got:
    [0.2969588746419 +/- 3.79e-14] + [1.3188795332738 +/- 7.19e-14]*I
**********************************************************************
File "src/sage/rings/complex_arb.pyx", line 4747, in sage.rings.complex_arb.ComplexBall.elliptic_rj
Failed example:
    CBF(0,1).elliptic_rj(CBF(-1/2,1), CBF(-1,-1), CBF(2))
Expected:
    [1.004386756285733 +/- ...e-16] + [-0.2451626834391645 +/- ...e-17]*I
Got:
    [1.00438675628573 +/- 6.85e-15] + [-0.24516268343916 +/- 8.11e-15]*I
**********************************************************************
3 items had failures:
   1 of   2 in sage.rings.complex_arb.ComplexBall.elliptic_pi
   4 of  10 in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
   1 of   2 in sage.rings.complex_arb.ComplexBall.elliptic_rj
    [639 tests, 6 failures, 8.14 s]
```
and

```
sage -t --warn-long 59.4 src/sage/rings/real_arb.pyx
**********************************************************************
File "src/sage/rings/real_arb.pyx", line 295, in sage.rings.real_arb.arb_to_mpfi
Failed example:
    RIF(RBF(2)**(2**100)) # indirect doctest
Expected:
    Traceback (most recent call last):
    ...
    ArithmeticError: Error converting arb to mpfi. Overflow?
Got:
    [5.8756537891115869e1388255822130839282 .. +infinity]
**********************************************************************
File "src/sage/rings/real_arb.pyx", line 1660, in sage.rings.real_arb.RealBall.mid
Failed example:
    b.mid()
Expected:
    Traceback (most recent call last):
    ...
    RuntimeError: unable to convert to MPFR (exponent out of range?)
Got:
    +infinity
**********************************************************************
2 items had failures:
   1 of   7 in sage.rings.real_arb.RealBall.mid
   1 of   2 in sage.rings.real_arb.arb_to_mpfi
    [542 tests, 2 failures, 0.64 s]
```



---

archive/issue_comments_583230.json:
```json
{
    "body": "<a id='comment:9'></a>\nOK, I ended up using arb patch: \u200bhttps://github.com/fredrik-johansson/arb/commit/d3d9983231e0f034e86a1e75761627eb8213b704.patch\nwith arb 2.16.0 (the arb version in Sage now), and get one flint-related regression (a segfault)\n\n```\nsage: R.<x> = QQ['x']\nsage: A,f = monsky_washnitzer.matrix_of_frobenius_hyperelliptic(x^5 - 2*x + 3, 5, 3)\n-------------------------------------------------------------------------------------\n/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x84a4)[0x7f98890224a4]\n/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x8679)[0x7f9889022679]\n/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0xae41)[0x7f9889024e41]\n/lib64/libc.so.6(+0x37ec0)[0x7f988a679ec0]\n/lib64/libc.so.6(gsignal+0x145)[0x7f988a679e35]\n/lib64/libc.so.6(abort+0x127)[0x7f988a664895]\n/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(+0x85dcd)[0x7f9880a64dcd]\n/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(flint_throw+0xe0)[0x7f9880a64eb0]\n/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(_nmod_poly_rem_q1+0xa1)[0x7f9880bd8bd1]\n/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(_nmod_poly_rem+0x195)[0x7f9880bc39f5]\n/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(_nmod_poly_gcd_euclidean+0x60)[0x7f9880babd50]\n/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(nmod_poly_gcd+0x95)[0x7f9880bb28b5]\n/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/sage/rings/polynomial/polynomial_zmod_flint.cpython-37m-x86_64-linux-gnu.so(+0x1201c)[0x7f983d7b401c]\n/lib64/libpython3.7m.so.1.0(_PyMethodDef_RawFastCallDict+0x33a)[0x7f988a402bea]\n/lib64/libpython3.7m.so.1.0(+0x1ccd3f)[0x7f988a4c1d3f]\n/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/sage/structure/element.cpython-37m-x86_64-linux-gnu.so(+0x134fc)[0x7f98897424fc]\n/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/sage/structure/element.cpython-37m-x86_64-linux-gnu.so(+0x338a4)[0x7f98897628a4]\n/lib64/libpython3.7m.so.1.0(_PyObject_FastCallKeywords+0x4bc)[0x7f988a433eec]\n/lib64/libpython3.7m.so.1.0(+0x1404e9)[0x7f988a4354e9]\n/lib64/libpython3.7m.so.1.0(_PyEval_EvalFrameDefault+0x55da)[0x7f988a46fdea]\n/lib64/libpython3.7m.so.1.0(_PyEval_EvalCodeWithName+0x2f0)[0x7f988a4227e0]\n/lib64/libpython3.7m.so.1.0(_PyFunction_FastCallKeywords+0x2a2)[0x7f988a423822]\n/lib64/libpython3.7m.so.1.0(+0x14035f)[0x7f988a43535f]\n...\n```",
    "created_at": "2020-05-22T09:55:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583230",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
OK, I ended up using arb patch: â€‹https://github.com/fredrik-johansson/arb/commit/d3d9983231e0f034e86a1e75761627eb8213b704.patch
with arb 2.16.0 (the arb version in Sage now), and get one flint-related regression (a segfault)

```
sage: R.<x> = QQ['x']
sage: A,f = monsky_washnitzer.matrix_of_frobenius_hyperelliptic(x^5 - 2*x + 3, 5, 3)
-------------------------------------------------------------------------------------
/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x84a4)[0x7f98890224a4]
/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x8679)[0x7f9889022679]
/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0xae41)[0x7f9889024e41]
/lib64/libc.so.6(+0x37ec0)[0x7f988a679ec0]
/lib64/libc.so.6(gsignal+0x145)[0x7f988a679e35]
/lib64/libc.so.6(abort+0x127)[0x7f988a664895]
/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(+0x85dcd)[0x7f9880a64dcd]
/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(flint_throw+0xe0)[0x7f9880a64eb0]
/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(_nmod_poly_rem_q1+0xa1)[0x7f9880bd8bd1]
/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(_nmod_poly_rem+0x195)[0x7f9880bc39f5]
/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(_nmod_poly_gcd_euclidean+0x60)[0x7f9880babd50]
/home/scratch2/dimpase/sage/sage/local/lib/libflint.so.14(nmod_poly_gcd+0x95)[0x7f9880bb28b5]
/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/sage/rings/polynomial/polynomial_zmod_flint.cpython-37m-x86_64-linux-gnu.so(+0x1201c)[0x7f983d7b401c]
/lib64/libpython3.7m.so.1.0(_PyMethodDef_RawFastCallDict+0x33a)[0x7f988a402bea]
/lib64/libpython3.7m.so.1.0(+0x1ccd3f)[0x7f988a4c1d3f]
/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/sage/structure/element.cpython-37m-x86_64-linux-gnu.so(+0x134fc)[0x7f98897424fc]
/home/scratch2/dimpase/sage/sage/local/lib64/python3.7/site-packages/sage/structure/element.cpython-37m-x86_64-linux-gnu.so(+0x338a4)[0x7f98897628a4]
/lib64/libpython3.7m.so.1.0(_PyObject_FastCallKeywords+0x4bc)[0x7f988a433eec]
/lib64/libpython3.7m.so.1.0(+0x1404e9)[0x7f988a4354e9]
/lib64/libpython3.7m.so.1.0(_PyEval_EvalFrameDefault+0x55da)[0x7f988a46fdea]
/lib64/libpython3.7m.so.1.0(_PyEval_EvalCodeWithName+0x2f0)[0x7f988a4227e0]
/lib64/libpython3.7m.so.1.0(_PyFunction_FastCallKeywords+0x2a2)[0x7f988a423822]
/lib64/libpython3.7m.so.1.0(+0x14035f)[0x7f988a43535f]
...
```



---

archive/issue_comments_583231.json:
```json
{
    "body": "Changing commit from \"[9b6e67c07dcd30ce200c8e514d28b1fc9c9f06e5](https://github.com/sagemath/sagetrac-mirror/commit/9b6e67c07dcd30ce200c8e514d28b1fc9c9f06e5)\" to \"[d943e59a12766370b1633af5519b6a9f78921265](https://github.com/sagemath/sagetrac-mirror/commit/d943e59a12766370b1633af5519b6a9f78921265)\"",
    "created_at": "2020-05-22T09:58:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583231",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[9b6e67c07dcd30ce200c8e514d28b1fc9c9f06e5](https://github.com/sagemath/sagetrac-mirror/commit/9b6e67c07dcd30ce200c8e514d28b1fc9c9f06e5)" to "[d943e59a12766370b1633af5519b6a9f78921265](https://github.com/sagemath/sagetrac-mirror/commit/d943e59a12766370b1633af5519b6a9f78921265)"



---

archive/issue_comments_583232.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[d943e59](https://github.com/sagemath/sagetrac-mirror/commit/d943e59a12766370b1633af5519b6a9f78921265)|`backport flint compat patch from arb's trunk`|",
    "created_at": "2020-05-22T09:58:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583232",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[d943e59](https://github.com/sagemath/sagetrac-mirror/commit/d943e59a12766370b1633af5519b6a9f78921265)|`backport flint compat patch from arb's trunk`|



---

archive/issue_comments_583233.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[f80e315](https://github.com/sagemath/sagetrac-mirror/commit/f80e3151fd2dbb582a212452813c73b18f49697c)|`url in checksum, for convenience (to be changed)`|",
    "created_at": "2020-05-22T10:01:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583233",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[f80e315](https://github.com/sagemath/sagetrac-mirror/commit/f80e3151fd2dbb582a212452813c73b18f49697c)|`url in checksum, for convenience (to be changed)`|



---

archive/issue_comments_583234.json:
```json
{
    "body": "Changing commit from \"[d943e59a12766370b1633af5519b6a9f78921265](https://github.com/sagemath/sagetrac-mirror/commit/d943e59a12766370b1633af5519b6a9f78921265)\" to \"[f80e3151fd2dbb582a212452813c73b18f49697c](https://github.com/sagemath/sagetrac-mirror/commit/f80e3151fd2dbb582a212452813c73b18f49697c)\"",
    "created_at": "2020-05-22T10:01:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583234",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[d943e59a12766370b1633af5519b6a9f78921265](https://github.com/sagemath/sagetrac-mirror/commit/d943e59a12766370b1633af5519b6a9f78921265)" to "[f80e3151fd2dbb582a212452813c73b18f49697c](https://github.com/sagemath/sagetrac-mirror/commit/f80e3151fd2dbb582a212452813c73b18f49697c)"



---

archive/issue_comments_583235.json:
```json
{
    "body": "<a id='comment:12'></a>\nexperiments tell that precision  needs to be at least 25 for this example to run, i.e. this works:\n\n```\nsage: monsky_washnitzer.matrix_of_frobenius_hyperelliptic(x^5 - 2*x + 3, 5, 25)\n```",
    "created_at": "2020-05-22T10:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583235",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
experiments tell that precision  needs to be at least 25 for this example to run, i.e. this works:

```
sage: monsky_washnitzer.matrix_of_frobenius_hyperelliptic(x^5 - 2*x + 3, 5, 25)
```



---

archive/issue_comments_583236.json:
```json
{
    "body": "<a id='comment:13'></a>\nBut this works:\n\n```\nsage: R.<x> = QQ['x']\nsage: C=HyperellipticCurve(x^5 - 2*x + 3)\nsage: A,f=monsky_washnitzer.matrix_of_frobenius_hyperelliptic(C,5,3)\nsage: A\n[            4*5 + O(5^3)       5 + 2*5^2 + O(5^3) 2 + 3*5 + 2*5^2 + O(5^3)     2 + 5 + 5^2 + O(5^3)]\n[      3*5 + 5^2 + O(5^3)             3*5 + O(5^3)             4*5 + O(5^3)         2 + 5^2 + O(5^3)]\n[    4*5 + 4*5^2 + O(5^3)     3*5 + 2*5^2 + O(5^3)       5 + 3*5^2 + O(5^3)     2*5 + 2*5^2 + O(5^3)]\n[            5^2 + O(5^3)       5 + 4*5^2 + O(5^3)     4*5 + 3*5^2 + O(5^3)             2*5 + O(5^3)]\n```\n\nSo, apparently, some initialisation is missing, if C is created on the fly.",
    "created_at": "2020-05-22T10:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583236",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>
But this works:

```
sage: R.<x> = QQ['x']
sage: C=HyperellipticCurve(x^5 - 2*x + 3)
sage: A,f=monsky_washnitzer.matrix_of_frobenius_hyperelliptic(C,5,3)
sage: A
[            4*5 + O(5^3)       5 + 2*5^2 + O(5^3) 2 + 3*5 + 2*5^2 + O(5^3)     2 + 5 + 5^2 + O(5^3)]
[      3*5 + 5^2 + O(5^3)             3*5 + O(5^3)             4*5 + O(5^3)         2 + 5^2 + O(5^3)]
[    4*5 + 4*5^2 + O(5^3)     3*5 + 2*5^2 + O(5^3)       5 + 3*5^2 + O(5^3)     2*5 + 2*5^2 + O(5^3)]
[            5^2 + O(5^3)       5 + 4*5^2 + O(5^3)     4*5 + 3*5^2 + O(5^3)             2*5 + O(5^3)]
```

So, apparently, some initialisation is missing, if C is created on the fly.



---

archive/issue_comments_583237.json:
```json
{
    "body": "<a id='comment:14'></a>\nThis is reproducible on the ticket branch, on Fedora 30 and on Debian 10.\nThis works:\n\n```\nsage: R.<x> = QQ['x']\nsage: C=HyperellipticCurve(x^5 - 2*x + 3)\nsage: A,f=monsky_washnitzer.matrix_of_frobenius_hyperelliptic(C,5,3)\nsage: A\n```\nbut\n\n```\nsage: R.<x> = QQ['x']\nsage: A,f = monsky_washnitzer.matrix_of_frobenius_hyperelliptic(x^5 - 2*x + 3, 5, 3)\n```\nsegfaults.",
    "created_at": "2020-05-22T12:31:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583237",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
This is reproducible on the ticket branch, on Fedora 30 and on Debian 10.
This works:

```
sage: R.<x> = QQ['x']
sage: C=HyperellipticCurve(x^5 - 2*x + 3)
sage: A,f=monsky_washnitzer.matrix_of_frobenius_hyperelliptic(C,5,3)
sage: A
```
but

```
sage: R.<x> = QQ['x']
sage: A,f = monsky_washnitzer.matrix_of_frobenius_hyperelliptic(x^5 - 2*x + 3, 5, 3)
```
segfaults.



---

archive/issue_comments_583238.json:
```json
{
    "body": "<a id='comment:15'></a>\nDima, thanks for reporting the Arb doctest failures.\n\nThe slight regressions in accuracy for elliptic_pi, elliptic_pi_inc and elliptic_rj are due to using a different algorithm to compute the R_J function for certain complex parameters. The new algorithm is a bit slower and less accurate, but unlike the old algorithm always gives the right branch. These doctest results just need to be updated.\n\nUnfortunately, the new algorithm doesn't work when phi is an inexact multiple of pi/2, leading to the NaN values. There is a workaround: acb_elliptic_pi_inc takes a pi flag to multiply the argument by pi exactly, so if you add a pi flag to the Sage wrapper and pass in phi=0.5 with pi=True in the doctest, it should give the expected result.\n\nIt's theoretically possible to fix these regressions, and I will open an Arb issue for it, but I'm not keen to spend time on it any time soon.\n\nThe other two examples look correct: converting an Arb number to an MPFR now rounds according to MPFR semantics (including rounding to infinity) instead of abort()ing when the exponents are out of range for MPFR.",
    "created_at": "2020-05-22T12:42:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583238",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:15'></a>
Dima, thanks for reporting the Arb doctest failures.

The slight regressions in accuracy for elliptic_pi, elliptic_pi_inc and elliptic_rj are due to using a different algorithm to compute the R_J function for certain complex parameters. The new algorithm is a bit slower and less accurate, but unlike the old algorithm always gives the right branch. These doctest results just need to be updated.

Unfortunately, the new algorithm doesn't work when phi is an inexact multiple of pi/2, leading to the NaN values. There is a workaround: acb_elliptic_pi_inc takes a pi flag to multiply the argument by pi exactly, so if you add a pi flag to the Sage wrapper and pass in phi=0.5 with pi=True in the doctest, it should give the expected result.

It's theoretically possible to fix these regressions, and I will open an Arb issue for it, but I'm not keen to spend time on it any time soon.

The other two examples look correct: converting an Arb number to an MPFR now rounds according to MPFR semantics (including rounding to infinity) instead of abort()ing when the exponents are out of range for MPFR.



---

archive/issue_comments_583239.json:
```json
{
    "body": "<a id='comment:16'></a>\nThis works too:\n\n```\nsage: sage: R.<x> = QQ['x']\n....: sage: C=HyperellipticCurve(x^5 - 2*x + 7)\n....: sage: A,f = monsky_washnitzer.matrix_of_frobenius_hyperelliptic(x^5-2*x+3, 5, 3)\n```\nThat is, apparently, some kind of Flint initialisation needs to happen before\nthe latter function can be called.",
    "created_at": "2020-05-22T15:50:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583239",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>
This works too:

```
sage: sage: R.<x> = QQ['x']
....: sage: C=HyperellipticCurve(x^5 - 2*x + 7)
....: sage: A,f = monsky_washnitzer.matrix_of_frobenius_hyperelliptic(x^5-2*x+3, 5, 3)
```
That is, apparently, some kind of Flint initialisation needs to happen before
the latter function can be called.



---

archive/issue_comments_583240.json:
```json
{
    "body": "<a id='comment:17'></a>\nhere it is one step closer to the bug:\n\n```\nsage: from sage.schemes.hyperelliptic_curves.monsky_washnitzer import SpecialHyperellipticQuotientRing\nsage: R.<x> = QQ['x']\nsage: Q=x^5 - 2*x + 3\nsage: SpecialHyperellipticQuotientRing(Q, Integers(5**4), True)\nFlint exception (Impossible inverse):\n    Cannot invert modulo 5*0\n------------------------------------------------------------------------\n/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x7ccb)[0x795d3c2ccccb]\n/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x7e98)[0x795d3c2cce98]\n/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0xa70d)[0x795d3c2cf70d]\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x12730)[0x795d3f372730]\n/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x10b)[0x795d3edec7bb]\n/lib/x86_64-linux-gnu/libc.so.6(abort+0x121)[0x795d3edd7535]\n/home/dimpase/sage-src/local/lib/libflint.so.14(+0x84cfd)[0x795d2f868cfd]\n/home/dimpase/sage-src/local/lib/libflint.so.14(flint_throw+0xe0)[0x795d2f868de0]\n/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_rem_q1+0x8f)[0x795d2f9e26ef]\n/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_rem+0x145)[0x795d2f9d0d85]\n/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_gcd_euclidean+0x60)[0x795d2f9b3da0]\n/home/dimpase/sage-src/local/lib/libflint.so.14(nmod_poly_gcd+0x93)[0x795d2f9db6a3]\n/home/dimpase/sage-src/local/lib/python3.7/site-packages/sage/rings/polynomial/polynomial_zmod_flint.cpython-37m-x86_64-linux-gnu.so(+0x117e4)[0x795cbaa107e4]\n/home/dimpase/sage-src/local/bin/python3(_PyMethodDef_RawFastCallDict+0x2d8)[0x5d7518]\n/home/dimpase/sage-src/local/bin/python3[0x4d77be]\n...\n```\n\nwith Flint 2.5.2, it prints\n\n```\nSpecialHyperellipticQuotientRing K[x,y,y^-1] / (y^2 = x^5 + 623*x + 3) over Ring of integers modulo 625\n```\nas it should.",
    "created_at": "2020-05-22T21:12:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583240",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>
here it is one step closer to the bug:

```
sage: from sage.schemes.hyperelliptic_curves.monsky_washnitzer import SpecialHyperellipticQuotientRing
sage: R.<x> = QQ['x']
sage: Q=x^5 - 2*x + 3
sage: SpecialHyperellipticQuotientRing(Q, Integers(5**4), True)
Flint exception (Impossible inverse):
    Cannot invert modulo 5*0
------------------------------------------------------------------------
/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x7ccb)[0x795d3c2ccccb]
/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x7e98)[0x795d3c2cce98]
/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0xa70d)[0x795d3c2cf70d]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x12730)[0x795d3f372730]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x10b)[0x795d3edec7bb]
/lib/x86_64-linux-gnu/libc.so.6(abort+0x121)[0x795d3edd7535]
/home/dimpase/sage-src/local/lib/libflint.so.14(+0x84cfd)[0x795d2f868cfd]
/home/dimpase/sage-src/local/lib/libflint.so.14(flint_throw+0xe0)[0x795d2f868de0]
/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_rem_q1+0x8f)[0x795d2f9e26ef]
/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_rem+0x145)[0x795d2f9d0d85]
/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_gcd_euclidean+0x60)[0x795d2f9b3da0]
/home/dimpase/sage-src/local/lib/libflint.so.14(nmod_poly_gcd+0x93)[0x795d2f9db6a3]
/home/dimpase/sage-src/local/lib/python3.7/site-packages/sage/rings/polynomial/polynomial_zmod_flint.cpython-37m-x86_64-linux-gnu.so(+0x117e4)[0x795cbaa107e4]
/home/dimpase/sage-src/local/bin/python3(_PyMethodDef_RawFastCallDict+0x2d8)[0x5d7518]
/home/dimpase/sage-src/local/bin/python3[0x4d77be]
...
```

with Flint 2.5.2, it prints

```
SpecialHyperellipticQuotientRing K[x,y,y^-1] / (y^2 = x^5 + 623*x + 3) over Ring of integers modulo 625
```
as it should.



---

archive/issue_comments_583241.json:
```json
{
    "body": "<a id='comment:18'></a>\nand one more step further - basically, creating HyperellipticCurve over Z mod 625\ndoes not work:\n\n```\nsage: R.<x> = QQ['x']\nsage: Q=x^5 - 2*x + 3\nsage: HyperellipticCurve(Q.change_ring(Integers(5**4)))\nFlint exception (Impossible inverse):\n    Cannot invert modulo 5*0\n------------------------------------------------------------------------\n/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x7ccb)[0x7d0ea9c75ccb]\n/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x7e98)[0x7d0ea9c75e98]\n/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0xa70d)[0x7d0ea9c7870d]\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x12730)[0x7d0eacd1b730]\n/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x10b)[0x7d0eac7957bb]\n/lib/x86_64-linux-gnu/libc.so.6(abort+0x121)[0x7d0eac780535]\n/home/dimpase/sage-src/local/lib/libflint.so.14(+0x84cfd)[0x7d0ea1684cfd]\n/home/dimpase/sage-src/local/lib/libflint.so.14(flint_throw+0xe0)[0x7d0ea1684de0]\n/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_rem_q1+0x8f)[0x7d0ea17fe6ef]\n/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_rem+0x145)[0x7d0ea17ecd85]\n/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_gcd_euclidean+0x60)[0x7d0ea17cfda0]\n/home/dimpase/sage-src/local/lib/libflint.so.14(nmod_poly_gcd+0x93)[0x7d0ea17f76a3]\n/home/dimpase/sage-src/local/lib/python3.7/site-packages/sage/rings/polynomial/polynomial_zmod_flint.cpython-37m-x86_64-linux-gnu.so(+0x117e4)[0x7d0e28f387e4]\n/home/dimpase/sage-src/local/bin/python3(_PyMethodDef_RawFastCallDict+0x2d8)[0x5d7518]\n```",
    "created_at": "2020-05-22T21:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583241",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>
and one more step further - basically, creating HyperellipticCurve over Z mod 625
does not work:

```
sage: R.<x> = QQ['x']
sage: Q=x^5 - 2*x + 3
sage: HyperellipticCurve(Q.change_ring(Integers(5**4)))
Flint exception (Impossible inverse):
    Cannot invert modulo 5*0
------------------------------------------------------------------------
/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x7ccb)[0x7d0ea9c75ccb]
/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0x7e98)[0x7d0ea9c75e98]
/home/dimpase/sage-src/local/lib/python3.7/site-packages/cysignals/signals.cpython-37m-x86_64-linux-gnu.so(+0xa70d)[0x7d0ea9c7870d]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x12730)[0x7d0eacd1b730]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x10b)[0x7d0eac7957bb]
/lib/x86_64-linux-gnu/libc.so.6(abort+0x121)[0x7d0eac780535]
/home/dimpase/sage-src/local/lib/libflint.so.14(+0x84cfd)[0x7d0ea1684cfd]
/home/dimpase/sage-src/local/lib/libflint.so.14(flint_throw+0xe0)[0x7d0ea1684de0]
/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_rem_q1+0x8f)[0x7d0ea17fe6ef]
/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_rem+0x145)[0x7d0ea17ecd85]
/home/dimpase/sage-src/local/lib/libflint.so.14(_nmod_poly_gcd_euclidean+0x60)[0x7d0ea17cfda0]
/home/dimpase/sage-src/local/lib/libflint.so.14(nmod_poly_gcd+0x93)[0x7d0ea17f76a3]
/home/dimpase/sage-src/local/lib/python3.7/site-packages/sage/rings/polynomial/polynomial_zmod_flint.cpython-37m-x86_64-linux-gnu.so(+0x117e4)[0x7d0e28f387e4]
/home/dimpase/sage-src/local/bin/python3(_PyMethodDef_RawFastCallDict+0x2d8)[0x5d7518]
```



---

archive/issue_comments_583242.json:
```json
{
    "body": "<a id='comment:19'></a>\nOK, so this seems to be a basic `Polynomial_zmod_flint` problem:\n\n```\nsage: R.<x> = QQ['x']\nsage: Q=x^5 - 2*x + 3\nsage: Qm=Q.change_ring(Integers(5**4))\nsage: F=4*Qm\nsage: F.gcd(F.derivative())\nFlint exception (Impossible inverse):\n    Cannot invert modulo 5*0\n-------------------------\nboom...\n```\n\n(this happily returns `1` with Flint 2.5.2)\n\nSo this is not really a specific p-adic problem at all.",
    "created_at": "2020-05-22T22:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583242",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>
OK, so this seems to be a basic `Polynomial_zmod_flint` problem:

```
sage: R.<x> = QQ['x']
sage: Q=x^5 - 2*x + 3
sage: Qm=Q.change_ring(Integers(5**4))
sage: F=4*Qm
sage: F.gcd(F.derivative())
Flint exception (Impossible inverse):
    Cannot invert modulo 5*0
-------------------------
boom...
```

(this happily returns `1` with Flint 2.5.2)

So this is not really a specific p-adic problem at all.



---

archive/issue_comments_583243.json:
```json
{
    "body": "Changing commit from \"[f80e3151fd2dbb582a212452813c73b18f49697c](https://github.com/sagemath/sagetrac-mirror/commit/f80e3151fd2dbb582a212452813c73b18f49697c)\" to \"[73b06adb48ca50d49b0028cadee8e7ac47f84bdc](https://github.com/sagemath/sagetrac-mirror/commit/73b06adb48ca50d49b0028cadee8e7ac47f84bdc)\"",
    "created_at": "2020-05-23T09:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583243",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[f80e3151fd2dbb582a212452813c73b18f49697c](https://github.com/sagemath/sagetrac-mirror/commit/f80e3151fd2dbb582a212452813c73b18f49697c)" to "[73b06adb48ca50d49b0028cadee8e7ac47f84bdc](https://github.com/sagemath/sagetrac-mirror/commit/73b06adb48ca50d49b0028cadee8e7ac47f84bdc)"



---

archive/issue_comments_583244.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[73b06ad](https://github.com/sagemath/sagetrac-mirror/commit/73b06adb48ca50d49b0028cadee8e7ac47f84bdc)|`skip square-freeness test for polynomials non-fields`|",
    "created_at": "2020-05-23T09:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583244",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[73b06ad](https://github.com/sagemath/sagetrac-mirror/commit/73b06adb48ca50d49b0028cadee8e7ac47f84bdc)|`skip square-freeness test for polynomials non-fields`|



---

archive/issue_comments_583245.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[210c40b](https://github.com/sagemath/sagetrac-mirror/commit/210c40bf38acc760a4bdef7fc0b88822d398aec3)|`fix and make robust related doctests`|",
    "created_at": "2020-05-23T09:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583245",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[210c40b](https://github.com/sagemath/sagetrac-mirror/commit/210c40bf38acc760a4bdef7fc0b88822d398aec3)|`fix and make robust related doctests`|



---

archive/issue_comments_583246.json:
```json
{
    "body": "Changing commit from \"[73b06adb48ca50d49b0028cadee8e7ac47f84bdc](https://github.com/sagemath/sagetrac-mirror/commit/73b06adb48ca50d49b0028cadee8e7ac47f84bdc)\" to \"[210c40bf38acc760a4bdef7fc0b88822d398aec3](https://github.com/sagemath/sagetrac-mirror/commit/210c40bf38acc760a4bdef7fc0b88822d398aec3)\"",
    "created_at": "2020-05-23T09:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583246",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[73b06adb48ca50d49b0028cadee8e7ac47f84bdc](https://github.com/sagemath/sagetrac-mirror/commit/73b06adb48ca50d49b0028cadee8e7ac47f84bdc)" to "[210c40bf38acc760a4bdef7fc0b88822d398aec3](https://github.com/sagemath/sagetrac-mirror/commit/210c40bf38acc760a4bdef7fc0b88822d398aec3)"



---

archive/issue_comments_583247.json:
```json
{
    "body": "<a id='comment:22'></a>\nrelated discussion with Flint people (Bill): https://github.com/wbhart/flint2/issues/743",
    "created_at": "2020-05-23T09:58:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583247",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:22'></a>
related discussion with Flint people (Bill): https://github.com/wbhart/flint2/issues/743



---

archive/issue_comments_583248.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-05-23T10:05:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583248",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_583249.json:
```json
{
    "body": "<a id='comment:23'></a>\nProbably one would need to revise the handling of GCDs of polynomials in general, but this is for another ticket, I guess.",
    "created_at": "2020-05-23T10:05:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583249",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>
Probably one would need to revise the handling of GCDs of polynomials in general, but this is for another ticket, I guess.



---

archive/issue_comments_583250.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[6b1a70e](https://github.com/sagemath/sagetrac-mirror/commit/6b1a70e44088321c11d6cfa2f22d371d91167bb9)|`update flint to 2.6.0 (alpha version), remove patches`|\n|[a9fb26d](https://github.com/sagemath/sagetrac-mirror/commit/a9fb26da95ac8e0d98fcfd1eeda2d63838083303)|`backport flint compat patch from arb's trunk`|\n|[68ab717](https://github.com/sagemath/sagetrac-mirror/commit/68ab717617e79d3257da33b67dd1e3b8ed13c63d)|`url in checksum, for convenience (to be changed)`|\n|[2cc30a6](https://github.com/sagemath/sagetrac-mirror/commit/2cc30a65efd1fba4113e3cef291109f5fc8278eb)|`skip square-freeness test for polynomials non-fields`|\n|[ca1c621](https://github.com/sagemath/sagetrac-mirror/commit/ca1c6218896f31ed93b56da243aec884db860b48)|`fix and make robust related doctests`|\n|[6f5f158](https://github.com/sagemath/sagetrac-mirror/commit/6f5f158cdb13c0883fc2cd43101edc6cbfb3df88)|`testing upstream rc`|",
    "created_at": "2020-05-29T09:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583250",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[6b1a70e](https://github.com/sagemath/sagetrac-mirror/commit/6b1a70e44088321c11d6cfa2f22d371d91167bb9)|`update flint to 2.6.0 (alpha version), remove patches`|
|[a9fb26d](https://github.com/sagemath/sagetrac-mirror/commit/a9fb26da95ac8e0d98fcfd1eeda2d63838083303)|`backport flint compat patch from arb's trunk`|
|[68ab717](https://github.com/sagemath/sagetrac-mirror/commit/68ab717617e79d3257da33b67dd1e3b8ed13c63d)|`url in checksum, for convenience (to be changed)`|
|[2cc30a6](https://github.com/sagemath/sagetrac-mirror/commit/2cc30a65efd1fba4113e3cef291109f5fc8278eb)|`skip square-freeness test for polynomials non-fields`|
|[ca1c621](https://github.com/sagemath/sagetrac-mirror/commit/ca1c6218896f31ed93b56da243aec884db860b48)|`fix and make robust related doctests`|
|[6f5f158](https://github.com/sagemath/sagetrac-mirror/commit/6f5f158cdb13c0883fc2cd43101edc6cbfb3df88)|`testing upstream rc`|



---

archive/issue_comments_583251.json:
```json
{
    "body": "Changing commit from \"[210c40bf38acc760a4bdef7fc0b88822d398aec3](https://github.com/sagemath/sagetrac-mirror/commit/210c40bf38acc760a4bdef7fc0b88822d398aec3)\" to \"[6f5f158cdb13c0883fc2cd43101edc6cbfb3df88](https://github.com/sagemath/sagetrac-mirror/commit/6f5f158cdb13c0883fc2cd43101edc6cbfb3df88)\"",
    "created_at": "2020-05-29T09:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583251",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[210c40bf38acc760a4bdef7fc0b88822d398aec3](https://github.com/sagemath/sagetrac-mirror/commit/210c40bf38acc760a4bdef7fc0b88822d398aec3)" to "[6f5f158cdb13c0883fc2cd43101edc6cbfb3df88](https://github.com/sagemath/sagetrac-mirror/commit/6f5f158cdb13c0883fc2cd43101edc6cbfb3df88)"



---

archive/issue_comments_583252.json:
```json
{
    "body": "Changing commit from \"[6f5f158cdb13c0883fc2cd43101edc6cbfb3df88](https://github.com/sagemath/sagetrac-mirror/commit/6f5f158cdb13c0883fc2cd43101edc6cbfb3df88)\" to \"[5a81220cbf221435a3f31e2388f594a367044aac](https://github.com/sagemath/sagetrac-mirror/commit/5a81220cbf221435a3f31e2388f594a367044aac)\"",
    "created_at": "2020-05-29T10:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583252",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[6f5f158cdb13c0883fc2cd43101edc6cbfb3df88](https://github.com/sagemath/sagetrac-mirror/commit/6f5f158cdb13c0883fc2cd43101edc6cbfb3df88)" to "[5a81220cbf221435a3f31e2388f594a367044aac](https://github.com/sagemath/sagetrac-mirror/commit/5a81220cbf221435a3f31e2388f594a367044aac)"



---

archive/issue_comments_583253.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------|\n|[5a81220](https://github.com/sagemath/sagetrac-mirror/commit/5a81220cbf221435a3f31e2388f594a367044aac)|`testing upstream rc`|",
    "created_at": "2020-05-29T10:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583253",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
|[5a81220](https://github.com/sagemath/sagetrac-mirror/commit/5a81220cbf221435a3f31e2388f594a367044aac)|`testing upstream rc`|



---

archive/issue_comments_583254.json:
```json
{
    "body": "<a id='comment:26'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[6b1a70e](https://github.com/sagemath/sagetrac-mirror/commit/6b1a70e44088321c11d6cfa2f22d371d91167bb9)|`update flint to 2.6.0 (alpha version), remove patches`|\n|[f9d850f](https://github.com/sagemath/sagetrac-mirror/commit/f9d850ff6a828fee960f3ddcf99fe1e0b74ea59d)|`backport flint compat patch from arb's trunk`|\n|[a3981f6](https://github.com/sagemath/sagetrac-mirror/commit/a3981f6eb02a3d9e7a78aa5c81525fbd0e3fbc96)|`skip square-freeness test for polynomials non-fields`|\n|[0d5a2e6](https://github.com/sagemath/sagetrac-mirror/commit/0d5a2e6b53dca951fb225d38ef9abc45ce264b62)|`fix and make robust related doctests`|",
    "created_at": "2020-06-05T17:41:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583254",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[6b1a70e](https://github.com/sagemath/sagetrac-mirror/commit/6b1a70e44088321c11d6cfa2f22d371d91167bb9)|`update flint to 2.6.0 (alpha version), remove patches`|
|[f9d850f](https://github.com/sagemath/sagetrac-mirror/commit/f9d850ff6a828fee960f3ddcf99fe1e0b74ea59d)|`backport flint compat patch from arb's trunk`|
|[a3981f6](https://github.com/sagemath/sagetrac-mirror/commit/a3981f6eb02a3d9e7a78aa5c81525fbd0e3fbc96)|`skip square-freeness test for polynomials non-fields`|
|[0d5a2e6](https://github.com/sagemath/sagetrac-mirror/commit/0d5a2e6b53dca951fb225d38ef9abc45ce264b62)|`fix and make robust related doctests`|



---

archive/issue_comments_583255.json:
```json
{
    "body": "Changing commit from \"[5a81220cbf221435a3f31e2388f594a367044aac](https://github.com/sagemath/sagetrac-mirror/commit/5a81220cbf221435a3f31e2388f594a367044aac)\" to \"[0d5a2e6b53dca951fb225d38ef9abc45ce264b62](https://github.com/sagemath/sagetrac-mirror/commit/0d5a2e6b53dca951fb225d38ef9abc45ce264b62)\"",
    "created_at": "2020-06-05T17:41:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583255",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[5a81220cbf221435a3f31e2388f594a367044aac](https://github.com/sagemath/sagetrac-mirror/commit/5a81220cbf221435a3f31e2388f594a367044aac)" to "[0d5a2e6b53dca951fb225d38ef9abc45ce264b62](https://github.com/sagemath/sagetrac-mirror/commit/0d5a2e6b53dca951fb225d38ef9abc45ce264b62)"



---

archive/issue_comments_583256.json:
```json
{
    "body": "<a id='comment:27'></a>\nNew commits:\n|                                                                                                                                          |                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[6b1a70e](https://github.com/sagemath/sagetrac-mirror/commit/6b1a70e44088321c11d6cfa2f22d371d91167bb9)|`update flint to 2.6.0 (alpha version), remove patches`|\n|[f9d850f](https://github.com/sagemath/sagetrac-mirror/commit/f9d850ff6a828fee960f3ddcf99fe1e0b74ea59d)|`backport flint compat patch from arb's trunk`|\n|[a3981f6](https://github.com/sagemath/sagetrac-mirror/commit/a3981f6eb02a3d9e7a78aa5c81525fbd0e3fbc96)|`skip square-freeness test for polynomials non-fields`|\n|[0d5a2e6](https://github.com/sagemath/sagetrac-mirror/commit/0d5a2e6b53dca951fb225d38ef9abc45ce264b62)|`fix and make robust related doctests`|\n\n---\nNew commits:\n|                                                                                                                                          |                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[6b1a70e](https://github.com/sagemath/sagetrac-mirror/commit/6b1a70e44088321c11d6cfa2f22d371d91167bb9)|`update flint to 2.6.0 (alpha version), remove patches`|\n|[f9d850f](https://github.com/sagemath/sagetrac-mirror/commit/f9d850ff6a828fee960f3ddcf99fe1e0b74ea59d)|`backport flint compat patch from arb's trunk`|\n|[a3981f6](https://github.com/sagemath/sagetrac-mirror/commit/a3981f6eb02a3d9e7a78aa5c81525fbd0e3fbc96)|`skip square-freeness test for polynomials non-fields`|\n|[0d5a2e6](https://github.com/sagemath/sagetrac-mirror/commit/0d5a2e6b53dca951fb225d38ef9abc45ce264b62)|`fix and make robust related doctests`|",
    "created_at": "2020-06-05T17:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583256",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>
New commits:
|                                                                                                                                          |                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[6b1a70e](https://github.com/sagemath/sagetrac-mirror/commit/6b1a70e44088321c11d6cfa2f22d371d91167bb9)|`update flint to 2.6.0 (alpha version), remove patches`|
|[f9d850f](https://github.com/sagemath/sagetrac-mirror/commit/f9d850ff6a828fee960f3ddcf99fe1e0b74ea59d)|`backport flint compat patch from arb's trunk`|
|[a3981f6](https://github.com/sagemath/sagetrac-mirror/commit/a3981f6eb02a3d9e7a78aa5c81525fbd0e3fbc96)|`skip square-freeness test for polynomials non-fields`|
|[0d5a2e6](https://github.com/sagemath/sagetrac-mirror/commit/0d5a2e6b53dca951fb225d38ef9abc45ce264b62)|`fix and make robust related doctests`|

---
New commits:
|                                                                                                                                          |                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[6b1a70e](https://github.com/sagemath/sagetrac-mirror/commit/6b1a70e44088321c11d6cfa2f22d371d91167bb9)|`update flint to 2.6.0 (alpha version), remove patches`|
|[f9d850f](https://github.com/sagemath/sagetrac-mirror/commit/f9d850ff6a828fee960f3ddcf99fe1e0b74ea59d)|`backport flint compat patch from arb's trunk`|
|[a3981f6](https://github.com/sagemath/sagetrac-mirror/commit/a3981f6eb02a3d9e7a78aa5c81525fbd0e3fbc96)|`skip square-freeness test for polynomials non-fields`|
|[0d5a2e6](https://github.com/sagemath/sagetrac-mirror/commit/0d5a2e6b53dca951fb225d38ef9abc45ce264b62)|`fix and make robust related doctests`|



---

archive/issue_comments_583257.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,4 @@\n-See anouncement\n+Flint 2.6.0 has been released\n \n-https://groups.google.com/forum/#!topic/sage-devel/SyUykKwQw6I\n+tarball: see checksums.ini [upstream_url] \n \n-alpha2 tarball:\n-http://users.ox.ac.uk/~coml0531/sage/flint-2.6.0.tar.gz\n-\n-For testing purposes only, should not be merged - we should get proper upstream 2.6.0 version.\n``````\n",
    "created_at": "2020-06-05T17:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583257",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,4 @@
-See anouncement
+Flint 2.6.0 has been released
 
-https://groups.google.com/forum/#!topic/sage-devel/SyUykKwQw6I
+tarball: see checksums.ini [upstream_url] 
 
-alpha2 tarball:
-http://users.ox.ac.uk/~coml0531/sage/flint-2.6.0.tar.gz
-
-For testing purposes only, should not be merged - we should get proper upstream 2.6.0 version.
``````




---

archive/issue_comments_583258.json:
```json
{
    "body": "<a id='comment:28'></a>\nOK, now the real reviewing/testing may commence!",
    "created_at": "2020-06-05T17:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583258",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>
OK, now the real reviewing/testing may commence!



---

archive/issue_comments_583259.json:
```json
{
    "body": "<a id='comment:30'></a>\nI'm running github workflows here:\n\nhttps://github.com/kliem/sage-test-27122/actions/runs/126335040\n\nhttps://github.com/kliem/sage-test-27122/actions/runs/126335044\n\nhttps://github.com/kliem/sage-test-27122/actions/runs/126335047\n\nhttps://github.com/kliem/sage-test-27122/actions/runs/126335050\n\nhttps://github.com/kliem/sage-test-27122/actions/runs/126335052\n\n(and I should really rename my github repository)\n\nand I'm testing it on a debian buster myself.",
    "created_at": "2020-06-05T19:50:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583259",
    "user": "https://github.com/kliem"
}
```

<a id='comment:30'></a>
I'm running github workflows here:

https://github.com/kliem/sage-test-27122/actions/runs/126335040

https://github.com/kliem/sage-test-27122/actions/runs/126335044

https://github.com/kliem/sage-test-27122/actions/runs/126335047

https://github.com/kliem/sage-test-27122/actions/runs/126335050

https://github.com/kliem/sage-test-27122/actions/runs/126335052

(and I should really rename my github repository)

and I'm testing it on a debian buster myself.



---

archive/issue_comments_583260.json:
```json
{
    "body": "Attachment [e_antic-0.1.5.log](tarball://root/attachments/some-uuid/ticket29719/e_antic-0.1.5.log) by @kliem created at 2020-06-05 20:15:09",
    "created_at": "2020-06-05T20:15:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583260",
    "user": "https://github.com/kliem"
}
```

Attachment [e_antic-0.1.5.log](tarball://root/attachments/some-uuid/ticket29719/e_antic-0.1.5.log) by @kliem created at 2020-06-05 20:15:09



---

archive/issue_comments_583261.json:
```json
{
    "body": "<a id='comment:31'></a>\ne_antic fails to build on this flint.",
    "created_at": "2020-06-05T20:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583261",
    "user": "https://github.com/kliem"
}
```

<a id='comment:31'></a>
e_antic fails to build on this flint.



---

archive/issue_comments_583262.json:
```json
{
    "body": "<a id='comment:33'></a>\nI just was about to do this :-)",
    "created_at": "2020-06-05T20:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583262",
    "user": "https://github.com/kliem"
}
```

<a id='comment:33'></a>
I just was about to do this :-)



---

archive/issue_comments_583263.json:
```json
{
    "body": "<a id='comment:34'></a>\n\n```\nlibtool: compile:  gcc -DHAVE_CONFIG_H -I. -fopenmp -march=native -O2 -c poly_extra/descartes_bound.c  -fPIC -DPIC -o poly_extra/.libs/descartes_bound.o\nIn file included from ./e-antic/poly_extra.h:15,\n                 from poly_extra/bisection_step_arb.c:12:\n./e-antic/e-antic.h:24:2: error: #error FLINT 2.5.2 or 2.5.3 required\n #error FLINT 2.5.2 or 2.5.3 required\n  ^~~~~\n```\nWhy is this done in a header, not in `./configure` ?\n\nusing `--enable-flint-devel` in configure doesn't help, by the way.",
    "created_at": "2020-06-05T21:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583263",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'></a>

```
libtool: compile:  gcc -DHAVE_CONFIG_H -I. -fopenmp -march=native -O2 -c poly_extra/descartes_bound.c  -fPIC -DPIC -o poly_extra/.libs/descartes_bound.o
In file included from ./e-antic/poly_extra.h:15,
                 from poly_extra/bisection_step_arb.c:12:
./e-antic/e-antic.h:24:2: error: #error FLINT 2.5.2 or 2.5.3 required
 #error FLINT 2.5.2 or 2.5.3 required
  ^~~~~
```
Why is this done in a header, not in `./configure` ?

using `--enable-flint-devel` in configure doesn't help, by the way.



---

archive/issue_comments_583264.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2020-06-06T12:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583264",
    "user": "https://github.com/dimpase"
}
```

Changing upstream from "N/A" to "Reported upstream. No feedback yet."



---

archive/issue_comments_583265.json:
```json
{
    "body": "<a id='comment:35'></a>\nsee https://github.com/videlec/e-antic/issues/93",
    "created_at": "2020-06-06T12:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583265",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:35'></a>
see https://github.com/videlec/e-antic/issues/93



---

archive/issue_comments_583266.json:
```json
{
    "body": "<a id='comment:36'></a>\nLet's take care of e_antic on a follow-up ticket.",
    "created_at": "2020-06-06T17:43:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583266",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>
Let's take care of e_antic on a follow-up ticket.



---

archive/issue_comments_583267.json:
```json
{
    "body": "<a id='comment:37'></a>\nI don't like this. It breaks `normaliz`. Yes, it is only an `optional` package, but that is basically downgrading it to `experimental`. Isn't it?\n\nOr is the fix already pretty much done? The order of things makes sense (first upgrade flint and then fix optional packages it breaks) but I would like that the fix is available (and ideally is even merged in the same beta).",
    "created_at": "2020-06-06T18:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583267",
    "user": "https://github.com/kliem"
}
```

<a id='comment:37'></a>
I don't like this. It breaks `normaliz`. Yes, it is only an `optional` package, but that is basically downgrading it to `experimental`. Isn't it?

Or is the fix already pretty much done? The order of things makes sense (first upgrade flint and then fix optional packages it breaks) but I would like that the fix is available (and ideally is even merged in the same beta).



---

archive/issue_comments_583268.json:
```json
{
    "body": "<a id='comment:38'></a>\nOf course we must fix it before the next release, but not everything can be done within one beta. We need to do LOTS of package upgrades!",
    "created_at": "2020-06-06T18:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583268",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'></a>
Of course we must fix it before the next release, but not everything can be done within one beta. We need to do LOTS of package upgrades!



---

archive/issue_comments_583269.json:
```json
{
    "body": "<a id='comment:39'></a>\nIn particular, a big Normaliz update is coming. Not sure if Winfried is already testing with the new FLINT release?",
    "created_at": "2020-06-06T18:34:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583269",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
In particular, a big Normaliz update is coming. Not sure if Winfried is already testing with the new FLINT release?



---

archive/issue_comments_583270.json:
```json
{
    "body": "<a id='comment:40'></a>\nI had not noticed that Flint 2.6.0 is available. Therefore it is not installed with Normaliz 3.8.5 that was just released (not a big release). \n\nAs soon as possible, I will test Flint 2.6.0. I need the backport to the 0 series of e-antic.",
    "created_at": "2020-06-07T08:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583270",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:40'></a>
I had not noticed that Flint 2.6.0 is available. Therefore it is not installed with Normaliz 3.8.5 that was just released (not a big release). 

As soon as possible, I will test Flint 2.6.0. I need the backport to the 0 series of e-antic.



---

archive/issue_comments_583271.json:
```json
{
    "body": "<a id='comment:41'></a>\nThere is some mac problem:\n\nhttps://github.com/kliem/sage-test-27122/runs/743556771 local-macos (homebrew-macos-python3_xcode, standard) \n\n```\n [dochtml]     File \"/Applications/Xcode_11.4.1.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.7/lib/python3.7/runpy.py\", line 109, in _get_module_details\n  [dochtml]       __import__(pkg_name)\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py\", line 60, in <module>\n  [dochtml]       import sage.all\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage/all.py\", line 119, in <module>\n  [dochtml]       from sage.misc.all       import *         # takes a while\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage/misc/all.py\", line 84, in <module>\n  [dochtml]       from .functional import (additive_order,\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage/misc/functional.py\", line 26, in <module>\n  [dochtml]       from sage.rings.complex_double import CDF\n  [dochtml]     File \"sage/rings/integer.pxd\", line 7, in init sage.rings.complex_double (build/cythonized/sage/rings/complex_double.c:23890)\n  [dochtml]   ImportError: dlopen(/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so, 2): Library not loaded: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/var/tmp/sage/build/flint-2.6.0/inst/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/libflint-14.dylib\n  [dochtml]     Referenced from: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so\n  [dochtml]     Reason: image not found\n  [dochtml] Full log file: logs/dochtml.log\nmake[1]: *** [doc-html] Error 1\n```\n\nhomebrew https://github.com/kliem/sage-test-27122/runs/743556743\n\n```\n[dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/homebrew/Cellar/python/3.7.7/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py\", line 109, in _get_module_details\n  [dochtml]       __import__(pkg_name)\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py\", line 60, in <module>\n  [dochtml]       import sage.all\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage/all.py\", line 119, in <module>\n  [dochtml]       from sage.misc.all       import *         # takes a while\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage/misc/all.py\", line 84, in <module>\n  [dochtml]       from .functional import (additive_order,\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage/misc/functional.py\", line 26, in <module>\n  [dochtml]       from sage.rings.complex_double import CDF\n  [dochtml]     File \"sage/rings/integer.pxd\", line 7, in init sage.rings.complex_double (build/cythonized/sage/rings/complex_double.c:23890)\n  [dochtml]   ImportError: dlopen(/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so, 2): Library not loaded: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/var/tmp/sage/build/flint-2.6.0/inst/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/libflint-14.dylib\n  [dochtml]     Referenced from: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so\n  [dochtml]     Reason: image not found\n```\n\nhttps://github.com/kliem/sage-test-27122/runs/743556808\n\nlocal-macos (homebrew-macos-python3_pythonorg, standard) \n\n```\n [dochtml]   Traceback (most recent call last):\n  [dochtml]     File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py\", line 183, in _run_module_as_main\n  [dochtml]       mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\n  [dochtml]     File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py\", line 142, in _get_module_details\n  [dochtml]       return _get_module_details(pkg_main_name, error)\n  [dochtml]     File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py\", line 109, in _get_module_details\n  [dochtml]       __import__(pkg_name)\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py\", line 60, in <module>\n  [dochtml]       import sage.all\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage/all.py\", line 119, in <module>\n  [dochtml]       from sage.misc.all       import *         # takes a while\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage/misc/all.py\", line 84, in <module>\n  [dochtml]       from .functional import (additive_order,\n  [dochtml]     File \"/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage/misc/functional.py\", line 26, in <module>\n  [dochtml]       from sage.rings.complex_double import CDF\n  [dochtml]     File \"sage/rings/integer.pxd\", line 7, in init sage.rings.complex_double (build/cythonized/sage/rings/complex_double.c:23890)\n  [dochtml]   ImportError: dlopen(/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so, 2): Library not loaded: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/var/tmp/sage/build/flint-2.6.0/inst/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/libflint-14.dylib\n  [dochtml]     Referenced from: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so\n  [dochtml]     Reason: image not found\n```",
    "created_at": "2020-06-07T12:07:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583271",
    "user": "https://github.com/kliem"
}
```

<a id='comment:41'></a>
There is some mac problem:

https://github.com/kliem/sage-test-27122/runs/743556771 local-macos (homebrew-macos-python3_xcode, standard) 

```
 [dochtml]     File "/Applications/Xcode_11.4.1.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.7/lib/python3.7/runpy.py", line 109, in _get_module_details
  [dochtml]       __import__(pkg_name)
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 60, in <module>
  [dochtml]       import sage.all
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage/all.py", line 119, in <module>
  [dochtml]       from sage.misc.all       import *         # takes a while
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage/misc/all.py", line 84, in <module>
  [dochtml]       from .functional import (additive_order,
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage/misc/functional.py", line 26, in <module>
  [dochtml]       from sage.rings.complex_double import CDF
  [dochtml]     File "sage/rings/integer.pxd", line 7, in init sage.rings.complex_double (build/cythonized/sage/rings/complex_double.c:23890)
  [dochtml]   ImportError: dlopen(/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so, 2): Library not loaded: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/var/tmp/sage/build/flint-2.6.0/inst/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/libflint-14.dylib
  [dochtml]     Referenced from: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_xcode-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so
  [dochtml]     Reason: image not found
  [dochtml] Full log file: logs/dochtml.log
make[1]: *** [doc-html] Error 1
```

homebrew https://github.com/kliem/sage-test-27122/runs/743556743

```
[dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/homebrew/Cellar/python/3.7.7/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py", line 109, in _get_module_details
  [dochtml]       __import__(pkg_name)
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 60, in <module>
  [dochtml]       import sage.all
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage/all.py", line 119, in <module>
  [dochtml]       from sage.misc.all       import *         # takes a while
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage/misc/all.py", line 84, in <module>
  [dochtml]       from .functional import (additive_order,
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage/misc/functional.py", line 26, in <module>
  [dochtml]       from sage.rings.complex_double import CDF
  [dochtml]     File "sage/rings/integer.pxd", line 7, in init sage.rings.complex_double (build/cythonized/sage/rings/complex_double.c:23890)
  [dochtml]   ImportError: dlopen(/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so, 2): Library not loaded: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/var/tmp/sage/build/flint-2.6.0/inst/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/libflint-14.dylib
  [dochtml]     Referenced from: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so
  [dochtml]     Reason: image not found
```

https://github.com/kliem/sage-test-27122/runs/743556808

local-macos (homebrew-macos-python3_pythonorg, standard) 

```
 [dochtml]   Traceback (most recent call last):
  [dochtml]     File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py", line 183, in _run_module_as_main
  [dochtml]       mod_name, mod_spec, code = _get_module_details(mod_name, _Error)
  [dochtml]     File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py", line 142, in _get_module_details
  [dochtml]       return _get_module_details(pkg_main_name, error)
  [dochtml]     File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py", line 109, in _get_module_details
  [dochtml]       __import__(pkg_name)
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 60, in <module>
  [dochtml]       import sage.all
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage/all.py", line 119, in <module>
  [dochtml]       from sage.misc.all       import *         # takes a while
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage/misc/all.py", line 84, in <module>
  [dochtml]       from .functional import (additive_order,
  [dochtml]     File "/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage/misc/functional.py", line 26, in <module>
  [dochtml]       from sage.rings.complex_double import CDF
  [dochtml]     File "sage/rings/integer.pxd", line 7, in init sage.rings.complex_double (build/cythonized/sage/rings/complex_double.c:23890)
  [dochtml]   ImportError: dlopen(/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so, 2): Library not loaded: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/var/tmp/sage/build/flint-2.6.0/inst/Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/libflint-14.dylib
  [dochtml]     Referenced from: /Users/runner/runners/2.263.0/work/sage-test-27122/sage-test-27122/.tox/local-homebrew-macos-python3_pythonorg-standard/local/lib/python3.7/site-packages/sage/rings/integer.cpython-37m-darwin.so
  [dochtml]     Reason: image not found
```



---

archive/issue_comments_583272.json:
```json
{
    "body": "<a id='comment:42'></a>\nSounds like the `install_name` business has been messed up again",
    "created_at": "2020-06-07T18:05:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583272",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>
Sounds like the `install_name` business has been messed up again



---

archive/issue_comments_583273.json:
```json
{
    "body": "<a id='comment:43'></a>\nIndeed, broken again with DESTDIR, in https://github.com/wbhart/flint2/blob/v2.6.0/Makefile.in#L216:\n\n```\n\t$(AT)if [ \"$(OS)\" = \"Darwin\" ] && [ \"$(FLINT_SHARED)\" -eq \"1\" ]; then \\\n\t\tinstall_name_tool -id \"$(DESTDIR)$(PREFIX)/$(LIBDIR)/$(FLINT_LIB)\" \"$(DESTDIR)$(PREFIX)/$(LIBDIR)/$(FLINT_LIBNAME)\"; \\\n\tfi\n```",
    "created_at": "2020-06-07T18:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583273",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>
Indeed, broken again with DESTDIR, in https://github.com/wbhart/flint2/blob/v2.6.0/Makefile.in#L216:

```
	$(AT)if [ "$(OS)" = "Darwin" ] && [ "$(FLINT_SHARED)" -eq "1" ]; then \
		install_name_tool -id "$(DESTDIR)$(PREFIX)/$(LIBDIR)/$(FLINT_LIB)" "$(DESTDIR)$(PREFIX)/$(LIBDIR)/$(FLINT_LIBNAME)"; \
	fi
```



---

archive/issue_comments_583274.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-06-07T18:19:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583274",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_583275.json:
```json
{
    "body": "<a id='comment:45'></a>\nplease open an issue with upstream",
    "created_at": "2020-06-07T19:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583275",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:45'></a>
please open an issue with upstream



---

archive/issue_comments_583276.json:
```json
{
    "body": "<a id='comment:46'></a>\nHere's a branch that should fix it. Please try:\nhttps://github.com/mkoeppe/flint2/tree/v2.6.0-sage",
    "created_at": "2020-06-07T19:29:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583276",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>
Here's a branch that should fix it. Please try:
https://github.com/mkoeppe/flint2/tree/v2.6.0-sage



---

archive/issue_comments_583277.json:
```json
{
    "body": "Changing commit from \"[0d5a2e6b53dca951fb225d38ef9abc45ce264b62](https://github.com/sagemath/sagetrac-mirror/commit/0d5a2e6b53dca951fb225d38ef9abc45ce264b62)\" to \"[77401d8a16c98ecd08201a01338a3f0f2e52d4c4](https://github.com/sagemath/sagetrac-mirror/commit/77401d8a16c98ecd08201a01338a3f0f2e52d4c4)\"",
    "created_at": "2020-06-07T19:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[0d5a2e6b53dca951fb225d38ef9abc45ce264b62](https://github.com/sagemath/sagetrac-mirror/commit/0d5a2e6b53dca951fb225d38ef9abc45ce264b62)" to "[77401d8a16c98ecd08201a01338a3f0f2e52d4c4](https://github.com/sagemath/sagetrac-mirror/commit/77401d8a16c98ecd08201a01338a3f0f2e52d4c4)"



---

archive/issue_comments_583278.json:
```json
{
    "body": "<a id='comment:47'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[77401d8](https://github.com/sagemath/sagetrac-mirror/commit/77401d8a16c98ecd08201a01338a3f0f2e52d4c4)|`build/pkgs/flint: Add DESTDIR patch`|",
    "created_at": "2020-06-07T19:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[77401d8](https://github.com/sagemath/sagetrac-mirror/commit/77401d8a16c98ecd08201a01338a3f0f2e52d4c4)|`build/pkgs/flint: Add DESTDIR patch`|



---

archive/issue_comments_583279.json:
```json
{
    "body": "<a id='comment:48'></a>\nI'm running some tests at https://github.com/mkoeppe/sage/actions/runs/128112212\n(updated<sup>2</sup>)",
    "created_at": "2020-06-07T19:50:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583279",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>
I'm running some tests at https://github.com/mkoeppe/sage/actions/runs/128112212
(updated<sup>2</sup>)



---

archive/issue_comments_583280.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-07T21:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583280",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_583281.json:
```json
{
    "body": "<a id='comment:50'></a>\ne-antic should be fixed by #29826",
    "created_at": "2020-06-08T09:59:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583281",
    "user": "https://github.com/videlec"
}
```

<a id='comment:50'></a>
e-antic should be fixed by #29826



---

archive/issue_comments_583282.json:
```json
{
    "body": "<a id='comment:51'></a>\nAppears to work for me. Also the normaliz doesn't make any problems (at least all doctests in geometry pass and it did install cleanly with flint 2.6.0).",
    "created_at": "2020-06-08T10:29:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583282",
    "user": "https://github.com/kliem"
}
```

<a id='comment:51'></a>
Appears to work for me. Also the normaliz doesn't make any problems (at least all doctests in geometry pass and it did install cleanly with flint 2.6.0).



---

archive/issue_comments_583283.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [vdelecroix](#comment%3A50):\n> e-antic should be fixed by #29826\n\n\nshould we add here the patch you produced for flint?\nhttps://github.com/wbhart/flint2/pull/766\nas mentioned on\nhttps://github.com/videlec/e-antic/issues/93 ?",
    "created_at": "2020-06-08T11:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583283",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:52'></a>
Replying to [vdelecroix](#comment%3A50):
> e-antic should be fixed by #29826


should we add here the patch you produced for flint?
https://github.com/wbhart/flint2/pull/766
as mentioned on
https://github.com/videlec/e-antic/issues/93 ?



---

archive/issue_comments_583284.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [dimpase](#comment%3A52):\n> Replying to [vdelecroix](#comment%3A50):\n> > e-antic should be fixed by #29826\n\n> \n> should we add here the patch you produced for flint?\n> https://github.com/wbhart/flint2/pull/766\n> as mentioned on\n> https://github.com/videlec/e-antic/issues/93 ?\n\n\nThe patch is not required for e-antic. Without the patch the `fmpq_poly_add_fmpq` from flint is broken. But this function does not seem to be used anywhere in sage.",
    "created_at": "2020-06-08T11:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583284",
    "user": "https://github.com/videlec"
}
```

<a id='comment:53'></a>
Replying to [dimpase](#comment%3A52):
> Replying to [vdelecroix](#comment%3A50):
> > e-antic should be fixed by #29826

> 
> should we add here the patch you produced for flint?
> https://github.com/wbhart/flint2/pull/766
> as mentioned on
> https://github.com/videlec/e-antic/issues/93 ?


The patch is not required for e-antic. Without the patch the `fmpq_poly_add_fmpq` from flint is broken. But this function does not seem to be used anywhere in sage.



---

archive/issue_comments_583285.json:
```json
{
    "body": "<a id='comment:54'></a>\nI have tried to build Normaliz natively with Flint 2.6.0. \n\nThen compiling e-antic fails with \n\n\n```\nconfigure: WARNING: arb.h: present but cannot be compiled\nconfigure: WARNING: arb.h:     check for missing prerequisite headers?\nconfigure: WARNING: arb.h: see the Autoconf documentation\nconfigure: WARNING: arb.h:     section \"Present But Cannot Be Compiled\"\nconfigure: WARNING: arb.h: proceeding with the compiler's result\nconfigure: WARNING:     ## --------------------------------------------- ##\nconfigure: WARNING:     ## Report this to vincent.delecroix@math.cnrs.fr ##\nconfigure: WARNING:     ## --------------------------------------------- ##\n```\n\n\nO.K. So we try to rebuild arb 2.17. This fails with\n\n\n```\nIn file included from /home/winfried/Dropbox/git_normaliz/nmz_opt_lib/ARB_source/arb-2.17.0/fmpr.h:26:0,\n                 from add_naive.c:12:\n/home/winfried/Dropbox/git_normaliz/nmz_opt_lib/ARB_source/arb-2.17.0/fmpz_extras.h:47:1: error: redefinition of \u2018fmpz_add_si\u2019\n fmpz_add_si(fmpz_t z, const fmpz_t x, slong y)\n```",
    "created_at": "2020-06-08T11:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583285",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:54'></a>
I have tried to build Normaliz natively with Flint 2.6.0. 

Then compiling e-antic fails with 


```
configure: WARNING: arb.h: present but cannot be compiled
configure: WARNING: arb.h:     check for missing prerequisite headers?
configure: WARNING: arb.h: see the Autoconf documentation
configure: WARNING: arb.h:     section "Present But Cannot Be Compiled"
configure: WARNING: arb.h: proceeding with the compiler's result
configure: WARNING:     ## --------------------------------------------- ##
configure: WARNING:     ## Report this to vincent.delecroix@math.cnrs.fr ##
configure: WARNING:     ## --------------------------------------------- ##
```


O.K. So we try to rebuild arb 2.17. This fails with


```
In file included from /home/winfried/Dropbox/git_normaliz/nmz_opt_lib/ARB_source/arb-2.17.0/fmpr.h:26:0,
                 from add_naive.c:12:
/home/winfried/Dropbox/git_normaliz/nmz_opt_lib/ARB_source/arb-2.17.0/fmpz_extras.h:47:1: error: redefinition of â€˜fmpz_add_siâ€™
 fmpz_add_si(fmpz_t z, const fmpz_t x, slong y)
```



---

archive/issue_comments_583286.json:
```json
{
    "body": "<a id='comment:55'></a>\nUnpatched arb 2.16 and 2.17 do not work with flint 2.6.0. You need a patch - e.g. for arb 2.16 it is included in the branch of this ticket (IIRC the same patch will work for 2.17 too).",
    "created_at": "2020-06-08T12:03:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583286",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:55'></a>
Unpatched arb 2.16 and 2.17 do not work with flint 2.6.0. You need a patch - e.g. for arb 2.16 it is included in the branch of this ticket (IIRC the same patch will work for 2.17 too).



---

archive/issue_comments_583287.json:
```json
{
    "body": "<a id='comment:56'></a>\nReplying to [mkoeppe](#comment%3A46):\n> Here's a branch that should fix it. Please try:\n> https://github.com/mkoeppe/flint2/tree/v2.6.0-sage\n\n\nThis is now https://github.com/wbhart/flint2/pull/768",
    "created_at": "2020-06-08T14:55:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583287",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:56'></a>
Replying to [mkoeppe](#comment%3A46):
> Here's a branch that should fix it. Please try:
> https://github.com/mkoeppe/flint2/tree/v2.6.0-sage


This is now https://github.com/wbhart/flint2/pull/768



---

archive/issue_comments_583288.json:
```json
{
    "body": "Changing author from \"Dima Pasechnik\" to \"Dima Pasechnik, Matthias Koeppe\"",
    "created_at": "2020-06-08T14:55:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583288",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "Dima Pasechnik" to "Dima Pasechnik, Matthias Koeppe"



---

archive/issue_comments_583289.json:
```json
{
    "body": "<a id='comment:58'></a>\nReplying to [mkoeppe](#comment%3A56):\n> Replying to [mkoeppe](#comment%3A46):\n> > Here's a branch that should fix it. Please try:\n> > https://github.com/mkoeppe/flint2/tree/v2.6.0-sage\n\n> \n> This is now https://github.com/wbhart/flint2/pull/768\n\nIt has been merged upstream.",
    "created_at": "2020-06-09T03:14:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583289",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'></a>
Replying to [mkoeppe](#comment%3A56):
> Replying to [mkoeppe](#comment%3A46):
> > Here's a branch that should fix it. Please try:
> > https://github.com/mkoeppe/flint2/tree/v2.6.0-sage

> 
> This is now https://github.com/wbhart/flint2/pull/768

It has been merged upstream.



---

archive/issue_comments_583290.json:
```json
{
    "body": "<a id='comment:59'></a>\nI will update Normaliz to Flint 2.6.0 as soon as arb and e-antic are in complete harmony with it. I hope for some increase in performance, but that is not so urgent.",
    "created_at": "2020-06-09T07:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583290",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:59'></a>
I will update Normaliz to Flint 2.6.0 as soon as arb and e-antic are in complete harmony with it. I hope for some increase in performance, but that is not so urgent.



---

archive/issue_comments_583291.json:
```json
{
    "body": "Dependencies: #29826",
    "created_at": "2020-06-10T20:09:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583291",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: #29826



---

archive/issue_comments_583292.json:
```json
{
    "body": "<a id='comment:61'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[c05a5eb](https://github.com/sagemath/sagetrac-mirror/commit/c05a5ebdb803f6fe64339f5cfe64a28cf56cbd18)|`upgrade to e-antic 0.1.6`|\n|[5f5fa6c](https://github.com/sagemath/sagetrac-mirror/commit/5f5fa6c9ac7b8c41bc0fb63279bb6af917b0be20)|`Merge branch 't/29826/e-antic-0.1.6' into t/29719/public/packages/flint260`|",
    "created_at": "2020-06-10T20:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583292",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[c05a5eb](https://github.com/sagemath/sagetrac-mirror/commit/c05a5ebdb803f6fe64339f5cfe64a28cf56cbd18)|`upgrade to e-antic 0.1.6`|
|[5f5fa6c](https://github.com/sagemath/sagetrac-mirror/commit/5f5fa6c9ac7b8c41bc0fb63279bb6af917b0be20)|`Merge branch 't/29826/e-antic-0.1.6' into t/29719/public/packages/flint260`|



---

archive/issue_comments_583293.json:
```json
{
    "body": "Changing commit from \"[77401d8a16c98ecd08201a01338a3f0f2e52d4c4](https://github.com/sagemath/sagetrac-mirror/commit/77401d8a16c98ecd08201a01338a3f0f2e52d4c4)\" to \"[5f5fa6c9ac7b8c41bc0fb63279bb6af917b0be20](https://github.com/sagemath/sagetrac-mirror/commit/5f5fa6c9ac7b8c41bc0fb63279bb6af917b0be20)\"",
    "created_at": "2020-06-10T20:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583293",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[77401d8a16c98ecd08201a01338a3f0f2e52d4c4](https://github.com/sagemath/sagetrac-mirror/commit/77401d8a16c98ecd08201a01338a3f0f2e52d4c4)" to "[5f5fa6c9ac7b8c41bc0fb63279bb6af917b0be20](https://github.com/sagemath/sagetrac-mirror/commit/5f5fa6c9ac7b8c41bc0fb63279bb6af917b0be20)"



---

archive/issue_comments_583294.json:
```json
{
    "body": "Reviewer: Matthias Koeppe, ...",
    "created_at": "2020-06-10T20:11:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583294",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: Matthias Koeppe, ...



---

archive/issue_comments_583295.json:
```json
{
    "body": "<a id='comment:63'></a>\nAnother round of tests (this time just this ticket) at https://github.com/mkoeppe/sage/actions/runs/131411841",
    "created_at": "2020-06-10T20:14:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583295",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:63'></a>
Another round of tests (this time just this ticket) at https://github.com/mkoeppe/sage/actions/runs/131411841



---

archive/issue_comments_583296.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. No feedback yet.\" to \"Completely fixed; Fix reported upstream\"",
    "created_at": "2020-06-10T20:14:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583296",
    "user": "https://github.com/mkoeppe"
}
```

Changing upstream from "Reported upstream. No feedback yet." to "Completely fixed; Fix reported upstream"



---

archive/issue_comments_583297.json:
```json
{
    "body": "<a id='comment:64'></a>\nLooking good now. I'd be ready to set it to positive review, but we need another reviewer for the changes that I added.",
    "created_at": "2020-06-14T01:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583297",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:64'></a>
Looking good now. I'd be ready to set it to positive review, but we need another reviewer for the changes that I added.



---

archive/issue_comments_583298.json:
```json
{
    "body": "<a id='comment:65'></a>\nI have updated Normaliz on GitHub/master to Flint 2.6.0/arb 2.18.0/e-antic 0.1.7. This required no change in the Normaliz code, as expected. The only visible change in the tests is that the floating point approximations to number field elements have one more decimal digit.\n\nThe version number is now 3.8.6. Note that the source file structure has been changed considerably: every cpp file is now comiled in a translation unit of its own. Moreover, some small files have been merged and some cpp files have been inserted into h files.\n\nIf it should be helpful,  I can make a new Normaliz release the next days.",
    "created_at": "2020-06-14T15:28:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583298",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:65'></a>
I have updated Normaliz on GitHub/master to Flint 2.6.0/arb 2.18.0/e-antic 0.1.7. This required no change in the Normaliz code, as expected. The only visible change in the tests is that the floating point approximations to number field elements have one more decimal digit.

The version number is now 3.8.6. Note that the source file structure has been changed considerably: every cpp file is now comiled in a translation unit of its own. Moreover, some small files have been merged and some cpp files have been inserted into h files.

If it should be helpful,  I can make a new Normaliz release the next days.



---

archive/issue_comments_583299.json:
```json
{
    "body": "<a id='comment:66'></a>\nIt seems that PyNormaliz has a problem with the new version. Therefore please wait until further notice.",
    "created_at": "2020-06-14T16:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583299",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:66'></a>
It seems that PyNormaliz has a problem with the new version. Therefore please wait until further notice.



---

archive/issue_comments_583300.json:
```json
{
    "body": "<a id='comment:67'></a>\nArb update is #28623",
    "created_at": "2020-06-14T21:44:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583300",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:67'></a>
Arb update is #28623



---

archive/issue_comments_583301.json:
```json
{
    "body": "Changing dependencies from \"#29826\" to \"#29826, #28623\"",
    "created_at": "2020-06-14T22:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583301",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29826" to "#29826, #28623"



---

archive/issue_comments_583302.json:
```json
{
    "body": "Work_Issues: merge #28623 (arb)",
    "created_at": "2020-06-14T22:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583302",
    "user": "https://github.com/mkoeppe"
}
```

Work_Issues: merge #28623 (arb)



---

archive/issue_comments_583303.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-06-14T22:42:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583303",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_583304.json:
```json
{
    "body": "<a id='comment:70'></a>\nThe problem was in Normaliz itself. Should be fixed now. The PyNormaliz tests go through. PyNormaliz 2.11 has not been changed.",
    "created_at": "2020-06-15T13:47:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583304",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:70'></a>
The problem was in Normaliz itself. Should be fixed now. The PyNormaliz tests go through. PyNormaliz 2.11 has not been changed.



---

archive/issue_comments_583305.json:
```json
{
    "body": "Changing commit from \"[5f5fa6c9ac7b8c41bc0fb63279bb6af917b0be20](https://github.com/sagemath/sagetrac-mirror/commit/5f5fa6c9ac7b8c41bc0fb63279bb6af917b0be20)\" to \"[7eaeef225c1438c470d0778819817b5a640ae977](https://github.com/sagemath/sagetrac-mirror/commit/7eaeef225c1438c470d0778819817b5a640ae977)\"",
    "created_at": "2020-06-16T07:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583305",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[5f5fa6c9ac7b8c41bc0fb63279bb6af917b0be20](https://github.com/sagemath/sagetrac-mirror/commit/5f5fa6c9ac7b8c41bc0fb63279bb6af917b0be20)" to "[7eaeef225c1438c470d0778819817b5a640ae977](https://github.com/sagemath/sagetrac-mirror/commit/7eaeef225c1438c470d0778819817b5a640ae977)"



---

archive/issue_comments_583306.json:
```json
{
    "body": "<a id='comment:71'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[f9be33a](https://github.com/sagemath/sagetrac-mirror/commit/f9be33a0df6f1652e6f65d15a38d3e3fe84a4def)|`build/pkgs/arb: Update to 2.18.0`|\n|[e7a25cb](https://github.com/sagemath/sagetrac-mirror/commit/e7a25cb0d7c775a182f63e5fd5aeb18807fabd61)|`build/pkgs/arb/patches/silence-stderr-exponent-too-large.patch: Remove`|\n|[e1d3d2a](https://github.com/sagemath/sagetrac-mirror/commit/e1d3d2a1b6ecc7de128f7c439919e042ca4503aa)|`Merge branch 'u/mkoeppe/upgrade_arb_to_2_18_0' of trac.sagemath.org:sage into flint260arb218`|\n|[7eaeef2](https://github.com/sagemath/sagetrac-mirror/commit/7eaeef225c1438c470d0778819817b5a640ae977)|`removed no longer needed arb patch`|",
    "created_at": "2020-06-16T07:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583306",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:71'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[f9be33a](https://github.com/sagemath/sagetrac-mirror/commit/f9be33a0df6f1652e6f65d15a38d3e3fe84a4def)|`build/pkgs/arb: Update to 2.18.0`|
|[e7a25cb](https://github.com/sagemath/sagetrac-mirror/commit/e7a25cb0d7c775a182f63e5fd5aeb18807fabd61)|`build/pkgs/arb/patches/silence-stderr-exponent-too-large.patch: Remove`|
|[e1d3d2a](https://github.com/sagemath/sagetrac-mirror/commit/e1d3d2a1b6ecc7de128f7c439919e042ca4503aa)|`Merge branch 'u/mkoeppe/upgrade_arb_to_2_18_0' of trac.sagemath.org:sage into flint260arb218`|
|[7eaeef2](https://github.com/sagemath/sagetrac-mirror/commit/7eaeef225c1438c470d0778819817b5a640ae977)|`removed no longer needed arb patch`|



---

archive/issue_comments_583307.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-16T07:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583307",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_583308.json:
```json
{
    "body": "Changing work_issues from \"merge #28623 (arb)\" to \"\"",
    "created_at": "2020-06-16T07:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583308",
    "user": "https://github.com/dimpase"
}
```

Changing work_issues from "merge #28623 (arb)" to ""



---

archive/issue_comments_583309.json:
```json
{
    "body": "<a id='comment:73'></a>\nI did some computations yesterday. My impression: no performance gains or losses compared to the e-antic version based on Flint 2.5.2.",
    "created_at": "2020-06-16T07:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583309",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:73'></a>
I did some computations yesterday. My impression: no performance gains or losses compared to the e-antic version based on Flint 2.5.2.



---

archive/issue_comments_583310.json:
```json
{
    "body": "<a id='comment:74'></a>\nReplying to [git](#comment%3A71):\n> |                                                                                                                                           |                                                                                              |\n> |-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|\n> |[e1d3d2a](https://github.com/sagemath/sagetrac-mirror/commit/e1d3d2a1b6ecc7de128f7c439919e042ca4503aa)|`Merge branch 'u/mkoeppe/upgrade_arb_to_2_18_0' of trac.sagemath.org:sage into flint260arb218`|\n\n\nIf you are running the CI on this already, please post the link",
    "created_at": "2020-06-16T11:50:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583310",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:74'></a>
Replying to [git](#comment%3A71):
> |                                                                                                                                           |                                                                                              |
> |-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|
> |[e1d3d2a](https://github.com/sagemath/sagetrac-mirror/commit/e1d3d2a1b6ecc7de128f7c439919e042ca4503aa)|`Merge branch 'u/mkoeppe/upgrade_arb_to_2_18_0' of trac.sagemath.org:sage into flint260arb218`|


If you are running the CI on this already, please post the link



---

archive/issue_comments_583311.json:
```json
{
    "body": "<a id='comment:75'></a>\nThe pill request has been merged, as you have see. Now action yet. Can I force it to happen?",
    "created_at": "2020-06-16T12:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583311",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:75'></a>
The pill request has been merged, as you have see. Now action yet. Can I force it to happen?



---

archive/issue_comments_583312.json:
```json
{
    "body": "<a id='comment:76'></a>\nReplying to [mkoeppe](#comment%3A74):\n> Replying to [git](#comment%3A71):\n> > |                                                                                                                                           |                                                                                              |\n> > |-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|\n> > |[e1d3d2a](https://github.com/sagemath/sagetrac-mirror/commit/e1d3d2a1b6ecc7de128f7c439919e042ca4503aa)|`Merge branch 'u/mkoeppe/upgrade_arb_to_2_18_0' of trac.sagemath.org:sage into flint260arb218`|\n\n> \n> If you are running the CI on this already, please post the link\n\n\nno,I haven't started these yet, I was  waiting whether there are any more things to deal with here.",
    "created_at": "2020-06-16T12:39:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583312",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:76'></a>
Replying to [mkoeppe](#comment%3A74):
> Replying to [git](#comment%3A71):
> > |                                                                                                                                           |                                                                                              |
> > |-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|
> > |[e1d3d2a](https://github.com/sagemath/sagetrac-mirror/commit/e1d3d2a1b6ecc7de128f7c439919e042ca4503aa)|`Merge branch 'u/mkoeppe/upgrade_arb_to_2_18_0' of trac.sagemath.org:sage into flint260arb218`|

> 
> If you are running the CI on this already, please post the link


no,I haven't started these yet, I was  waiting whether there are any more things to deal with here.



---

archive/issue_comments_583313.json:
```json
{
    "body": "<a id='comment:77'></a>\nReplying to [Winfried](#comment%3A75):\n> The pill request has been merged, as you have see. Now action yet. Can I force it to happen?\n\n\nI am not sure I undestand what PR you mean. Could you post a link?",
    "created_at": "2020-06-16T12:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583313",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:77'></a>
Replying to [Winfried](#comment%3A75):
> The pill request has been merged, as you have see. Now action yet. Can I force it to happen?


I am not sure I undestand what PR you mean. Could you post a link?



---

archive/issue_comments_583314.json:
```json
{
    "body": "<a id='comment:78'></a>\nSorry, I meant the Normaliz pull request\n\nhttps://github.com/Normaliz/Normaliz/pull/336",
    "created_at": "2020-06-16T13:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583314",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:78'></a>
Sorry, I meant the Normaliz pull request

https://github.com/Normaliz/Normaliz/pull/336



---

archive/issue_comments_583315.json:
```json
{
    "body": "<a id='comment:79'></a>\nReplying to [Winfried](#comment%3A78):\n> Sorry, I meant the Normaliz pull request\n> \n> https://github.com/Normaliz/Normaliz/pull/336\n\n\nthis does not seem to be related to updating flint/arb/e_antic.\nDid you need to do any changes to accommodate these updates?",
    "created_at": "2020-06-16T17:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583315",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:79'></a>
Replying to [Winfried](#comment%3A78):
> Sorry, I meant the Normaliz pull request
> 
> https://github.com/Normaliz/Normaliz/pull/336


this does not seem to be related to updating flint/arb/e_antic.
Did you need to do any changes to accommodate these updates?



---

archive/issue_comments_583316.json:
```json
{
    "body": "<a id='comment:80'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[de6b953](https://github.com/sagemath/sagetrac-mirror/commit/de6b953d7fa948915bad895392d702d07fddc4b2)|`build/pkgs/e_antic: Update to 0.1.7`|\n|[4804674](https://github.com/sagemath/sagetrac-mirror/commit/4804674f034767b8110faf8ec32a53f03234269d)|`Merge remote-tracking branch 'trac/u/mkoeppe/e-antic-0.1.6' into flint260`|",
    "created_at": "2020-06-18T10:13:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:80'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[de6b953](https://github.com/sagemath/sagetrac-mirror/commit/de6b953d7fa948915bad895392d702d07fddc4b2)|`build/pkgs/e_antic: Update to 0.1.7`|
|[4804674](https://github.com/sagemath/sagetrac-mirror/commit/4804674f034767b8110faf8ec32a53f03234269d)|`Merge remote-tracking branch 'trac/u/mkoeppe/e-antic-0.1.6' into flint260`|



---

archive/issue_comments_583317.json:
```json
{
    "body": "Changing commit from \"[7eaeef225c1438c470d0778819817b5a640ae977](https://github.com/sagemath/sagetrac-mirror/commit/7eaeef225c1438c470d0778819817b5a640ae977)\" to \"[4804674f034767b8110faf8ec32a53f03234269d](https://github.com/sagemath/sagetrac-mirror/commit/4804674f034767b8110faf8ec32a53f03234269d)\"",
    "created_at": "2020-06-18T10:13:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[7eaeef225c1438c470d0778819817b5a640ae977](https://github.com/sagemath/sagetrac-mirror/commit/7eaeef225c1438c470d0778819817b5a640ae977)" to "[4804674f034767b8110faf8ec32a53f03234269d](https://github.com/sagemath/sagetrac-mirror/commit/4804674f034767b8110faf8ec32a53f03234269d)"



---

archive/issue_comments_583318.json:
```json
{
    "body": "<a id='comment:81'></a>\ntests running on https://github.com/dimpase/sage/pull/12",
    "created_at": "2020-06-18T21:00:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583318",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:81'></a>
tests running on https://github.com/dimpase/sage/pull/12



---

archive/issue_comments_583319.json:
```json
{
    "body": "<a id='comment:82'></a>\nReplying to [dimpase](#comment%3A79):\n> Replying to [Winfried](#comment%3A78):\n> > Sorry, I meant the Normaliz pull request\n> > \n> > https://github.com/Normaliz/Normaliz/pull/336\n\n> \n> this does not seem to be related to updating flint/arb/e_antic.\n> Did you need to do any changes to accommodate these updates?\n\n\nSorry. The comment was misplaced. Too may threads to follow.",
    "created_at": "2020-06-19T12:40:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583319",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:82'></a>
Replying to [dimpase](#comment%3A79):
> Replying to [Winfried](#comment%3A78):
> > Sorry, I meant the Normaliz pull request
> > 
> > https://github.com/Normaliz/Normaliz/pull/336

> 
> this does not seem to be related to updating flint/arb/e_antic.
> Did you need to do any changes to accommodate these updates?


Sorry. The comment was misplaced. Too may threads to follow.



---

archive/issue_comments_583320.json:
```json
{
    "body": "<a id='comment:83'></a>\ntests are being spoiled by the e_antic distro on LABRI server being inaccessible :-(",
    "created_at": "2020-06-20T19:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583320",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:83'></a>
tests are being spoiled by the e_antic distro on LABRI server being inaccessible :-(



---

archive/issue_comments_583321.json:
```json
{
    "body": "<a id='comment:84'></a>\nVolker just tried to pull #28623 which of course has doctest failures on its own. If everything is happening in this ticket, should we close #28623 as a duplicate?",
    "created_at": "2020-06-22T01:38:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583321",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:84'></a>
Volker just tried to pull #28623 which of course has doctest failures on its own. If everything is happening in this ticket, should we close #28623 as a duplicate?



---

archive/issue_comments_583322.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-23T09:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583322",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_583323.json:
```json
{
    "body": "Changing reviewer from \"Matthias Koeppe, ...\" to \"Matthias Koeppe, Dima Pasechnik\"",
    "created_at": "2020-06-23T09:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583323",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "Matthias Koeppe, ..." to "Matthias Koeppe, Dima Pasechnik"



---

archive/issue_comments_583324.json:
```json
{
    "body": "<a id='comment:85'></a>\nI think this looks good.",
    "created_at": "2020-06-23T09:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583324",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:85'></a>
I think this looks good.



---

archive/issue_comments_583325.json:
```json
{
    "body": "Changing dependencies from \"#29826, #28623\" to \"#29826\"",
    "created_at": "2020-06-23T15:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583325",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29826, #28623" to "#29826"



---

archive/issue_events_085794.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "rename": {
        "from": "upgrade to flint 2.6.0",
        "to": "upgrade to flint 2.6.0, arb 2.18.0"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29719#event-85794"
}
```



---

archive/issue_comments_583326.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Flint 2.6.0 has been released\n \n-tarball: see checksums.ini [upstream_url] \n+tarballs: see checksums.ini [upstream_url] \n \n``````\n",
    "created_at": "2020-06-23T15:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583326",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Flint 2.6.0 has been released
 
-tarball: see checksums.ini [upstream_url] 
+tarballs: see checksums.ini [upstream_url] 
 
``````




---

archive/issue_comments_583327.json:
```json
{
    "body": "<a id='comment:87'></a>\nI am seeing the same failures that gh-timokau reported in #28623#comment:9\n\nWith arb 2.17 (patched for flint 2.6 support) those tests pass.",
    "created_at": "2020-06-26T21:34:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583327",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:87'></a>
I am seeing the same failures that gh-timokau reported in #28623#comment:9

With arb 2.17 (patched for flint 2.6 support) those tests pass.



---

archive/issue_comments_583328.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-06-26T21:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583328",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_583329.json:
```json
{
    "body": "<a id='comment:89'></a>\nIndeed, they can also be seen in the `archlinux-standard` run in https://github.com/dimpase/sage/pull/12/checks?check_run_id=785953750",
    "created_at": "2020-06-26T21:50:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583329",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:89'></a>
Indeed, they can also be seen in the `archlinux-standard` run in https://github.com/dimpase/sage/pull/12/checks?check_run_id=785953750



---

archive/issue_comments_583330.json:
```json
{
    "body": "<a id='comment:90'></a>\nAlso in `fedora-31-standard` (https://github.com/dimpase/sage/pull/12/checks?check_run_id=785953613)",
    "created_at": "2020-06-26T21:56:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583330",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:90'></a>
Also in `fedora-31-standard` (https://github.com/dimpase/sage/pull/12/checks?check_run_id=785953613)



---

archive/issue_comments_583331.json:
```json
{
    "body": "<a id='comment:91'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[9fca80b](https://github.com/sagemath/sagetrac-mirror/commit/9fca80bcd8032158a847fa6166158fd67d2c362d)|`Merge tag '9.2.beta2' into t/29719/public/packages/flint260`|\n|[5fb8256](https://github.com/sagemath/sagetrac-mirror/commit/5fb82562161addacbbafd13947ccddbe9e6d7ada)|`Merge branch 'u/mkoeppe/e-antic-0.1.6' of git://trac.sagemath.org/sage into t/29719/public/packages/flint260`|",
    "created_at": "2020-06-26T22:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:91'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[9fca80b](https://github.com/sagemath/sagetrac-mirror/commit/9fca80bcd8032158a847fa6166158fd67d2c362d)|`Merge tag '9.2.beta2' into t/29719/public/packages/flint260`|
|[5fb8256](https://github.com/sagemath/sagetrac-mirror/commit/5fb82562161addacbbafd13947ccddbe9e6d7ada)|`Merge branch 'u/mkoeppe/e-antic-0.1.6' of git://trac.sagemath.org/sage into t/29719/public/packages/flint260`|



---

archive/issue_comments_583332.json:
```json
{
    "body": "Changing commit from \"[4804674f034767b8110faf8ec32a53f03234269d](https://github.com/sagemath/sagetrac-mirror/commit/4804674f034767b8110faf8ec32a53f03234269d)\" to \"[5fb82562161addacbbafd13947ccddbe9e6d7ada](https://github.com/sagemath/sagetrac-mirror/commit/5fb82562161addacbbafd13947ccddbe9e6d7ada)\"",
    "created_at": "2020-06-26T22:01:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583332",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[4804674f034767b8110faf8ec32a53f03234269d](https://github.com/sagemath/sagetrac-mirror/commit/4804674f034767b8110faf8ec32a53f03234269d)" to "[5fb82562161addacbbafd13947ccddbe9e6d7ada](https://github.com/sagemath/sagetrac-mirror/commit/5fb82562161addacbbafd13947ccddbe9e6d7ada)"



---

archive/issue_comments_583333.json:
```json
{
    "body": "<a id='comment:92'></a>\nOK, backed out the arb upgrade.",
    "created_at": "2020-06-26T22:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583333",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:92'></a>
OK, backed out the arb upgrade.



---

archive/issue_comments_583334.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Flint 2.6.0 has been released\n \n-tarballs: see checksums.ini [upstream_url] \n+tarball: see checksums.ini [upstream_url] \n \n``````\n",
    "created_at": "2020-06-26T22:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583334",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Flint 2.6.0 has been released
 
-tarballs: see checksums.ini [upstream_url] 
+tarball: see checksums.ini [upstream_url] 
 
``````




---

archive/issue_events_085795.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "rename": {
        "from": "upgrade to flint 2.6.0, arb 2.18.0",
        "to": "upgrade to flint 2.6.0"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29719#event-85795"
}
```



---

archive/issue_comments_583335.json:
```json
{
    "body": "<a id='comment:93'></a>\nTests run at https://github.com/mkoeppe/sage/actions/runs/149186528\n\nSorry for missing the failures in the previous runs!",
    "created_at": "2020-06-26T22:04:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583335",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:93'></a>
Tests run at https://github.com/mkoeppe/sage/actions/runs/149186528

Sorry for missing the failures in the previous runs!



---

archive/issue_comments_583336.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-26T22:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583336",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_583337.json:
```json
{
    "body": "<a id='comment:95'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[c39befb](https://github.com/sagemath/sagetrac-mirror/commit/c39befba1a870fd1a5a31418a857be630493e531)|`Merge tag '9.2.beta3' into t/29719/public/packages/flint260`|",
    "created_at": "2020-07-04T16:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583337",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:95'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[c39befb](https://github.com/sagemath/sagetrac-mirror/commit/c39befba1a870fd1a5a31418a857be630493e531)|`Merge tag '9.2.beta3' into t/29719/public/packages/flint260`|



---

archive/issue_comments_583338.json:
```json
{
    "body": "Changing commit from \"[5fb82562161addacbbafd13947ccddbe9e6d7ada](https://github.com/sagemath/sagetrac-mirror/commit/5fb82562161addacbbafd13947ccddbe9e6d7ada)\" to \"[c39befba1a870fd1a5a31418a857be630493e531](https://github.com/sagemath/sagetrac-mirror/commit/c39befba1a870fd1a5a31418a857be630493e531)\"",
    "created_at": "2020-07-04T16:32:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583338",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[5fb82562161addacbbafd13947ccddbe9e6d7ada](https://github.com/sagemath/sagetrac-mirror/commit/5fb82562161addacbbafd13947ccddbe9e6d7ada)" to "[c39befba1a870fd1a5a31418a857be630493e531](https://github.com/sagemath/sagetrac-mirror/commit/c39befba1a870fd1a5a31418a857be630493e531)"



---

archive/issue_comments_583339.json:
```json
{
    "body": "<a id='comment:96'></a>\nwhere are we here?",
    "created_at": "2020-07-05T08:52:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583339",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:96'></a>
where are we here?



---

archive/issue_comments_583340.json:
```json
{
    "body": "<a id='comment:97'></a>\nThe `arb` ticket has been closed but this branch doesn't upgrade `arb`. It includes a patch for the current shipped `arb` but it doesn't revbump the `arb` package which means that the patch is only applied to fresh builds and not to incremental upgrades.\n\nAt the minimum I think this branch needs to include a revbump for `arb`, but since we obsoleted the `arb` ticket I would favor upgrade `arb` in this ticket too.",
    "created_at": "2020-07-05T09:09:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583340",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:97'></a>
The `arb` ticket has been closed but this branch doesn't upgrade `arb`. It includes a patch for the current shipped `arb` but it doesn't revbump the `arb` package which means that the patch is only applied to fresh builds and not to incremental upgrades.

At the minimum I think this branch needs to include a revbump for `arb`, but since we obsoleted the `arb` ticket I would favor upgrade `arb` in this ticket too.



---

archive/issue_comments_583341.json:
```json
{
    "body": "<a id='comment:98'></a>\nReplying to [fbissey](#comment%3A97):\n> The `arb` ticket has been closed but this branch doesn't upgrade `arb`. It includes a patch for the current shipped `arb` but it doesn't revbump the `arb` package which means that the patch is only applied to fresh builds and not to incremental upgrades.\n> \n> At the minimum I think this branch needs to include a revbump for `arb`, but since we obsoleted the `arb` ticket I would favor upgrade `arb` in this ticket too.\n\n\nAs this ticket updates a dependency of arb, it will rebuild arb regardless of the presense of revbump (or at least it should - it it doesn't it's a bug in the build system)",
    "created_at": "2020-07-05T11:36:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583341",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:98'></a>
Replying to [fbissey](#comment%3A97):
> The `arb` ticket has been closed but this branch doesn't upgrade `arb`. It includes a patch for the current shipped `arb` but it doesn't revbump the `arb` package which means that the patch is only applied to fresh builds and not to incremental upgrades.
> 
> At the minimum I think this branch needs to include a revbump for `arb`, but since we obsoleted the `arb` ticket I would favor upgrade `arb` in this ticket too.


As this ticket updates a dependency of arb, it will rebuild arb regardless of the presense of revbump (or at least it should - it it doesn't it's a bug in the build system)



---

archive/issue_comments_583342.json:
```json
{
    "body": "<a id='comment:99'></a>\nFlint 2.6.1 seems to have been released on 2020-07-23.\n\n- https://github.com/wbhart/flint2/releases\n\nBut maybe that should be a new ticket if things are ready here.",
    "created_at": "2020-07-26T17:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583342",
    "user": "https://github.com/slel"
}
```

<a id='comment:99'></a>
Flint 2.6.1 seems to have been released on 2020-07-23.

- https://github.com/wbhart/flint2/releases

But maybe that should be a new ticket if things are ready here.



---

archive/issue_comments_583343.json:
```json
{
    "body": "<a id='comment:100'></a>\nReplying to [fbissey](#comment%3A97):\n>  since we obsoleted the `arb` ticket I would favor upgrade `arb` in this ticket too.\n\n\nThe arb ticket #28623 has been un-obsoleted.",
    "created_at": "2020-07-26T17:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583343",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:100'></a>
Replying to [fbissey](#comment%3A97):
>  since we obsoleted the `arb` ticket I would favor upgrade `arb` in this ticket too.


The arb ticket #28623 has been un-obsoleted.



---

archive/issue_comments_583344.json:
```json
{
    "body": "Changing commit from \"[c39befba1a870fd1a5a31418a857be630493e531](https://github.com/sagemath/sagetrac-mirror/commit/c39befba1a870fd1a5a31418a857be630493e531)\" to \"[a05842dbdd5b1db32cd2e3fcaaeb11121bbadf85](https://github.com/sagemath/sagetrac-mirror/commit/a05842dbdd5b1db32cd2e3fcaaeb11121bbadf85)\"",
    "created_at": "2020-07-26T17:45:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[c39befba1a870fd1a5a31418a857be630493e531](https://github.com/sagemath/sagetrac-mirror/commit/c39befba1a870fd1a5a31418a857be630493e531)" to "[a05842dbdd5b1db32cd2e3fcaaeb11121bbadf85](https://github.com/sagemath/sagetrac-mirror/commit/a05842dbdd5b1db32cd2e3fcaaeb11121bbadf85)"



---

archive/issue_comments_583345.json:
```json
{
    "body": "<a id='comment:1'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[1273c98](https://github.com/sagemath/sagetrac-mirror/commit/1273c989cfca4808a6fa9115bd1581e7a33f6557)|`build/pkgs/arb: Bump patch level`|\n|[a05842d](https://github.com/sagemath/sagetrac-mirror/commit/a05842dbdd5b1db32cd2e3fcaaeb11121bbadf85)|`Merge tag '9.2.beta6' into t/29719/public/packages/flint260`|",
    "created_at": "2020-07-26T17:45:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[1273c98](https://github.com/sagemath/sagetrac-mirror/commit/1273c989cfca4808a6fa9115bd1581e7a33f6557)|`build/pkgs/arb: Bump patch level`|
|[a05842d](https://github.com/sagemath/sagetrac-mirror/commit/a05842dbdd5b1db32cd2e3fcaaeb11121bbadf85)|`Merge tag '9.2.beta6' into t/29719/public/packages/flint260`|



---

archive/issue_comments_583346.json:
```json
{
    "body": "<a id='comment:102'></a>\nReplying to [fbissey](#comment%3A97):\n> At the minimum I think this branch needs to include a revbump for `arb`\n\n\nDone",
    "created_at": "2020-07-26T17:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583346",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:102'></a>
Replying to [fbissey](#comment%3A97):
> At the minimum I think this branch needs to include a revbump for `arb`


Done



---

archive/issue_comments_583347.json:
```json
{
    "body": "Changing commit from \"[a05842dbdd5b1db32cd2e3fcaaeb11121bbadf85](https://github.com/sagemath/sagetrac-mirror/commit/a05842dbdd5b1db32cd2e3fcaaeb11121bbadf85)\" to \"[656f4c8078c37d2d065d9d940371d5a3a34fa460](https://github.com/sagemath/sagetrac-mirror/commit/656f4c8078c37d2d065d9d940371d5a3a34fa460)\"",
    "created_at": "2020-07-26T17:58:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583347",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[a05842dbdd5b1db32cd2e3fcaaeb11121bbadf85](https://github.com/sagemath/sagetrac-mirror/commit/a05842dbdd5b1db32cd2e3fcaaeb11121bbadf85)" to "[656f4c8078c37d2d065d9d940371d5a3a34fa460](https://github.com/sagemath/sagetrac-mirror/commit/656f4c8078c37d2d065d9d940371d5a3a34fa460)"



---

archive/issue_comments_583348.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[656f4c8](https://github.com/sagemath/sagetrac-mirror/commit/656f4c8078c37d2d065d9d940371d5a3a34fa460)|`build/pkgs/flint: Update to 2.6.1, drop upstreamed patch`|",
    "created_at": "2020-07-26T17:58:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583348",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[656f4c8](https://github.com/sagemath/sagetrac-mirror/commit/656f4c8078c37d2d065d9d940371d5a3a34fa460)|`build/pkgs/flint: Update to 2.6.1, drop upstreamed patch`|



---

archive/issue_comments_583349.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Flint 2.6.0 has been released\n+Flint 2.6.1 has been released\n \n tarball: see checksums.ini [upstream_url] \n \n``````\n",
    "created_at": "2020-07-26T17:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583349",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Flint 2.6.0 has been released
+Flint 2.6.1 has been released
 
 tarball: see checksums.ini [upstream_url] 
 
``````




---

archive/issue_comments_583350.json:
```json
{
    "body": "Changing upstream from \"Completely fixed; Fix reported upstream\" to \"N/A\"",
    "created_at": "2020-07-26T17:58:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583350",
    "user": "https://github.com/mkoeppe"
}
```

Changing upstream from "Completely fixed; Fix reported upstream" to "N/A"



---

archive/issue_events_085796.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "rename": {
        "from": "upgrade to flint 2.6.0",
        "to": "upgrade to flint 2.6.1"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29719#event-85796"
}
```



---

archive/issue_comments_583351.json:
```json
{
    "body": "<a id='comment:5'></a>\nTests run at https://github.com/mkoeppe/sage/actions/runs/183335441",
    "created_at": "2020-07-26T18:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583351",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
Tests run at https://github.com/mkoeppe/sage/actions/runs/183335441



---

archive/issue_comments_583352.json:
```json
{
    "body": "<a id='comment:106'></a>\nReplying to [mkoeppe](#comment%3A105):\n> Tests run at https://github.com/mkoeppe/sage/actions/runs/183335441\n\n\n45 passed, 18 failed, 14 cancelled, 1 skipped",
    "created_at": "2020-07-29T11:33:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583352",
    "user": "https://github.com/slel"
}
```

<a id='comment:106'></a>
Replying to [mkoeppe](#comment%3A105):
> Tests run at https://github.com/mkoeppe/sage/actions/runs/183335441


45 passed, 18 failed, 14 cancelled, 1 skipped



---

archive/issue_comments_583353.json:
```json
{
    "body": "Changing keywords from \"\" to \"upgrade\".",
    "created_at": "2020-07-29T11:33:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583353",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "upgrade".



---

archive/issue_comments_583354.json:
```json
{
    "body": "<a id='comment:7'></a>\nThese summary statistics don't mean much because they do not distinguish sporadic errors (from the unreliable computing platform) from actual failures - one needs to look at the details.\nIf you want, I can walk you through on how to read these runs...",
    "created_at": "2020-07-29T18:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583354",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
These summary statistics don't mean much because they do not distinguish sporadic errors (from the unreliable computing platform) from actual failures - one needs to look at the details.
If you want, I can walk you through on how to read these runs...



---

archive/issue_comments_583355.json:
```json
{
    "body": "<a id='comment:8'></a>\ne_antic needs a bump:\n\n```\n[e_antic-0.1.7] In file included from ./e-antic/poly_extra.h:15,\n[e_antic-0.1.7]                  from poly_extra/bisection_step_arb.c:12:\n[e_antic-0.1.7] ./e-antic/e-antic.h:24:2: error: #error FLINT 2.5.2 or 2.5.3 required\n[e_antic-0.1.7]  #error FLINT 2.5.2 or 2.5.3 required\n[e_antic-0.1.7]   ^~~~~\n[e_antic-0.1.7] In file included from poly_extra/bisection_step_arb.c:12:\n[e_antic-0.1.7] ./e-antic/poly_extra.h:267:8: error: static declaration of \u2018fmpq_get_d\u2019 follows non-static declaration\n[e_antic-0.1.7]  double fmpq_get_d(const fmpq_t q)\n[e_antic-0.1.7]         ^~~~~~~~~~\n[e_antic-0.1.7] In file included from /mnt/opt/Sage/sage-dev/local/include/flint/fmpz_poly.h:36,\n[e_antic-0.1.7]                  from ./e-antic/poly_extra.h:17,\n[e_antic-0.1.7]                  from poly_extra/bisection_step_arb.c:12:\n[e_antic-0.1.7] /mnt/opt/Sage/sage-dev/local/include/flint/fmpq.h:183:18: note: previous declaration of \u2018fmpq_get_d\u2019 was here\n[e_antic-0.1.7]  FLINT_DLL double fmpq_get_d(const fmpq_t a);\n[e_antic-0.1.7]                   ^~~~~~~~~~\n[e_antic-0.1.7] In file included from poly_extra/bisection_step_arb.c:12:\n[e_antic-0.1.7] ./e-antic/poly_extra.h:356:2: error: #error \"Invalid flint release: e-antic needs flint-2.5.2, flint-2.5.3 or flint-2.6.0\"\n[e_antic-0.1.7]  #error \"Invalid flint release: e-antic needs flint-2.5.2, flint-2.5.3 or flint-2.6.0\"\n[e_antic-0.1.7]   ^~~~~\n[e_antic-0.1.7] make[5]: *** [Makefile:2696: poly_extra/bisection_step_arb.lo] Error 1\n```",
    "created_at": "2020-07-31T14:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583355",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
e_antic needs a bump:

```
[e_antic-0.1.7] In file included from ./e-antic/poly_extra.h:15,
[e_antic-0.1.7]                  from poly_extra/bisection_step_arb.c:12:
[e_antic-0.1.7] ./e-antic/e-antic.h:24:2: error: #error FLINT 2.5.2 or 2.5.3 required
[e_antic-0.1.7]  #error FLINT 2.5.2 or 2.5.3 required
[e_antic-0.1.7]   ^~~~~
[e_antic-0.1.7] In file included from poly_extra/bisection_step_arb.c:12:
[e_antic-0.1.7] ./e-antic/poly_extra.h:267:8: error: static declaration of â€˜fmpq_get_dâ€™ follows non-static declaration
[e_antic-0.1.7]  double fmpq_get_d(const fmpq_t q)
[e_antic-0.1.7]         ^~~~~~~~~~
[e_antic-0.1.7] In file included from /mnt/opt/Sage/sage-dev/local/include/flint/fmpz_poly.h:36,
[e_antic-0.1.7]                  from ./e-antic/poly_extra.h:17,
[e_antic-0.1.7]                  from poly_extra/bisection_step_arb.c:12:
[e_antic-0.1.7] /mnt/opt/Sage/sage-dev/local/include/flint/fmpq.h:183:18: note: previous declaration of â€˜fmpq_get_dâ€™ was here
[e_antic-0.1.7]  FLINT_DLL double fmpq_get_d(const fmpq_t a);
[e_antic-0.1.7]                   ^~~~~~~~~~
[e_antic-0.1.7] In file included from poly_extra/bisection_step_arb.c:12:
[e_antic-0.1.7] ./e-antic/poly_extra.h:356:2: error: #error "Invalid flint release: e-antic needs flint-2.5.2, flint-2.5.3 or flint-2.6.0"
[e_antic-0.1.7]  #error "Invalid flint release: e-antic needs flint-2.5.2, flint-2.5.3 or flint-2.6.0"
[e_antic-0.1.7]   ^~~~~
[e_antic-0.1.7] make[5]: *** [Makefile:2696: poly_extra/bisection_step_arb.lo] Error 1
```



---

archive/issue_comments_583356.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-07-31T14:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583356",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_583357.json:
```json
{
    "body": "<a id='comment:9'></a>\nFlint 2.6.2 was released.\n\n- [flint-devel: Flint 2.6.2 release announcement](https://groups.google.com/d/topic/flint-devel/3uB1hhQP6S4/discussion)",
    "created_at": "2020-07-31T20:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583357",
    "user": "https://github.com/slel"
}
```

<a id='comment:9'></a>
Flint 2.6.2 was released.

- [flint-devel: Flint 2.6.2 release announcement](https://groups.google.com/d/topic/flint-devel/3uB1hhQP6S4/discussion)



---

archive/issue_events_085797.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "rename": {
        "from": "upgrade to flint 2.6.1",
        "to": "upgrade to flint 2.6.2"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29719#event-85797"
}
```



---

archive/issue_comments_583358.json:
```json
{
    "body": "Changing dependencies from \"#29826\" to \"#29826, #30262\"",
    "created_at": "2020-07-31T23:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583358",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29826" to "#29826, #30262"



---

archive/issue_comments_583359.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Flint 2.6.1 has been released\n+Flint 2.6.2 has been released\n \n tarball: see checksums.ini [upstream_url] \n \n``````\n",
    "created_at": "2020-07-31T23:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583359",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Flint 2.6.1 has been released
+Flint 2.6.2 has been released
 
 tarball: see checksums.ini [upstream_url] 
 
``````




---

archive/issue_comments_583360.json:
```json
{
    "body": "<a id='comment:111'></a>\nReplying to [dimpase](#comment%3A108):\n> e_antic needs a bump:\n\n\nDone in #30262, needs merging",
    "created_at": "2020-07-31T23:22:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583360",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:111'></a>
Replying to [dimpase](#comment%3A108):
> e_antic needs a bump:


Done in #30262, needs merging



---

archive/issue_comments_583361.json:
```json
{
    "body": "<a id='comment:2'></a>\nFlint 2.6.3 was released:\n\n- [flint-devel: Flint 2.6.3 release announcement](https://groups.google.com/d/msg/flint-devel/kos0KU-GdEA/aI3hFY9tAAAJ)",
    "created_at": "2020-08-12T15:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583361",
    "user": "https://github.com/slel"
}
```

<a id='comment:2'></a>
Flint 2.6.3 was released:

- [flint-devel: Flint 2.6.3 release announcement](https://groups.google.com/d/msg/flint-devel/kos0KU-GdEA/aI3hFY9tAAAJ)



---

archive/issue_comments_583362.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Flint 2.6.2 has been released\n+Flint 2.6.3 has been released\n \n tarball: see checksums.ini [upstream_url] \n \n``````\n",
    "created_at": "2020-08-12T15:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583362",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Flint 2.6.2 has been released
+Flint 2.6.3 has been released
 
 tarball: see checksums.ini [upstream_url] 
 
``````




---

archive/issue_events_085798.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "rename": {
        "from": "upgrade to flint 2.6.2",
        "to": "upgrade to flint 2.6.3"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29719#event-85798"
}
```



---

archive/issue_comments_583363.json:
```json
{
    "body": "<a id='comment:3'></a>\nI propose to do 2.6.3.",
    "created_at": "2020-08-12T15:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583363",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
I propose to do 2.6.3.



---

archive/issue_comments_583364.json:
```json
{
    "body": "<a id='comment:4'></a>\nI agree",
    "created_at": "2020-08-12T16:15:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583364",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
I agree



---

archive/issue_comments_583365.json:
```json
{
    "body": "<a id='comment:5'></a>\nI'm working on getting multi-variate polynomials running with the new flint code.\n\nI expect to be opening a dependent ticket for that soon.\n\nIn the meantime, every time I type 'make build' on this branch (without any local mods), it rebuilds sage.rings.polynomial.pbori.  Every time.  Takes about 60 seconds, too.\n\nAny ideas why it keeps rebuilding pbori?",
    "created_at": "2020-08-16T05:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583365",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:5'></a>
I'm working on getting multi-variate polynomials running with the new flint code.

I expect to be opening a dependent ticket for that soon.

In the meantime, every time I type 'make build' on this branch (without any local mods), it rebuilds sage.rings.polynomial.pbori.  Every time.  Takes about 60 seconds, too.

Any ideas why it keeps rebuilding pbori?



---

archive/issue_comments_583366.json:
```json
{
    "body": "<a id='comment:116'></a>\nReplying to [gh-BrentBaccala](#comment%3A115):\n> every time I type 'make build' on this branch (without any local mods), it rebuilds sage.rings.polynomial.pbori.  Every time.  Takes about 60 seconds, too.\n> \n> Any ideas why it keeps rebuilding pbori?\n\n\nSounds like there is something wrong with the Cython dependencies. You could investigate this by setting a breakpoint or printing data in `sage_setup.command.sage_build_cython.sage_build_cython.create_extension`",
    "created_at": "2020-08-16T17:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583366",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:116'></a>
Replying to [gh-BrentBaccala](#comment%3A115):
> every time I type 'make build' on this branch (without any local mods), it rebuilds sage.rings.polynomial.pbori.  Every time.  Takes about 60 seconds, too.
> 
> Any ideas why it keeps rebuilding pbori?


Sounds like there is something wrong with the Cython dependencies. You could investigate this by setting a breakpoint or printing data in `sage_setup.command.sage_build_cython.sage_build_cython.create_extension`



---

archive/issue_comments_583367.json:
```json
{
    "body": "<a id='comment:117'></a>\nReplying to [mkoeppe](#comment%3A116):\n> Replying to [gh-BrentBaccala](#comment%3A115):\n> > every time I type 'make build' on this branch (without any local mods), it rebuilds sage.rings.polynomial.pbori.  Every time.  Takes about 60 seconds, too.\n> > \n> > Any ideas why it keeps rebuilding pbori?\n\n> \n> Sounds like there is something wrong with the Cython dependencies. You could investigate this by setting a breakpoint or printing data in `sage_setup.command.sage_build_cython.sage_build_cython.create_extension`\n\n\nI think this problem has fixed itself in the latest beta.",
    "created_at": "2020-08-16T22:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583367",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:117'></a>
Replying to [mkoeppe](#comment%3A116):
> Replying to [gh-BrentBaccala](#comment%3A115):
> > every time I type 'make build' on this branch (without any local mods), it rebuilds sage.rings.polynomial.pbori.  Every time.  Takes about 60 seconds, too.
> > 
> > Any ideas why it keeps rebuilding pbori?

> 
> Sounds like there is something wrong with the Cython dependencies. You could investigate this by setting a breakpoint or printing data in `sage_setup.command.sage_build_cython.sage_build_cython.create_extension`


I think this problem has fixed itself in the latest beta.



---

archive/issue_comments_583368.json:
```json
{
    "body": "<a id='comment:8'></a>\nRebase on 9.2.beta9?",
    "created_at": "2020-08-19T21:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583368",
    "user": "https://github.com/slel"
}
```

<a id='comment:8'></a>
Rebase on 9.2.beta9?



---

archive/issue_comments_583369.json:
```json
{
    "body": "<a id='comment:9'></a>\npostpone till 9.3?",
    "created_at": "2020-08-22T12:03:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583369",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
postpone till 9.3?



---

archive/issue_events_085799.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-22T15:31:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29719#event-85799"
}
```



---

archive/issue_comments_583370.json:
```json
{
    "body": "<a id='comment:0'></a>\nI agree",
    "created_at": "2020-08-22T15:31:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583370",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:0'></a>
I agree



---

archive/issue_comments_583371.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Reported upstream. Developers acknowledge bug.\"",
    "created_at": "2020-09-08T19:07:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583371",
    "user": "https://github.com/dimpase"
}
```

Changing upstream from "N/A" to "Reported upstream. Developers acknowledge bug."



---

archive/issue_comments_583372.json:
```json
{
    "body": "<a id='comment:1'></a>\nan experiment with flint 2.6.3, which is a package on Gentoo, built with cmake, reveals that this breaks its recognition, as `HAVE_GC` may be undefined (it is just not there if  GC is not \"found\" in some sense. \n\nI opened https://github.com/wbhart/flint2/issues/837",
    "created_at": "2020-09-08T19:07:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583372",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>
an experiment with flint 2.6.3, which is a package on Gentoo, built with cmake, reveals that this breaks its recognition, as `HAVE_GC` may be undefined (it is just not there if  GC is not "found" in some sense. 

I opened https://github.com/wbhart/flint2/issues/837



---

archive/issue_comments_583373.json:
```json
{
    "body": "Changing commit from \"[656f4c8078c37d2d065d9d940371d5a3a34fa460](https://github.com/sagemath/sagetrac-mirror/commit/656f4c8078c37d2d065d9d940371d5a3a34fa460)\" to \"[add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e](https://github.com/sagemath/sagetrac-mirror/commit/add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e)\"",
    "created_at": "2020-09-16T22:28:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583373",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[656f4c8078c37d2d065d9d940371d5a3a34fa460](https://github.com/sagemath/sagetrac-mirror/commit/656f4c8078c37d2d065d9d940371d5a3a34fa460)" to "[add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e](https://github.com/sagemath/sagetrac-mirror/commit/add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e)"



---

archive/issue_comments_583374.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[48f70d0](https://github.com/sagemath/sagetrac-mirror/commit/48f70d036f98f63e865063d45a4ea2d6cf9eecb4)|`update flint to 2.6.0 (alpha version), remove patches`|\n|[0055c56](https://github.com/sagemath/sagetrac-mirror/commit/0055c562fb18cbc1e619718dada624f67e956b55)|`backport flint compat patch from arb's trunk`|\n|[7559750](https://github.com/sagemath/sagetrac-mirror/commit/7559750a88a185c085ec724d8854251645c4b615)|`skip square-freeness test for polynomials non-fields`|\n|[d2e055a](https://github.com/sagemath/sagetrac-mirror/commit/d2e055a1096d5e259fbe704a6c6f5469de1c665c)|`fix and make robust related doctests`|\n|[1dfd3c2](https://github.com/sagemath/sagetrac-mirror/commit/1dfd3c25437e08607dcf8376f912738c1dfb41aa)|`build/pkgs/flint: Add DESTDIR patch`|\n|[c84f9f1](https://github.com/sagemath/sagetrac-mirror/commit/c84f9f1b45291cc7555fe604910590387cfce9d8)|`build/pkgs/arb: Bump patch level`|\n|[add7970](https://github.com/sagemath/sagetrac-mirror/commit/add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e)|`build/pkgs/flint: Update to 2.6.1, drop upstreamed patch`|",
    "created_at": "2020-09-16T22:28:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583374",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[48f70d0](https://github.com/sagemath/sagetrac-mirror/commit/48f70d036f98f63e865063d45a4ea2d6cf9eecb4)|`update flint to 2.6.0 (alpha version), remove patches`|
|[0055c56](https://github.com/sagemath/sagetrac-mirror/commit/0055c562fb18cbc1e619718dada624f67e956b55)|`backport flint compat patch from arb's trunk`|
|[7559750](https://github.com/sagemath/sagetrac-mirror/commit/7559750a88a185c085ec724d8854251645c4b615)|`skip square-freeness test for polynomials non-fields`|
|[d2e055a](https://github.com/sagemath/sagetrac-mirror/commit/d2e055a1096d5e259fbe704a6c6f5469de1c665c)|`fix and make robust related doctests`|
|[1dfd3c2](https://github.com/sagemath/sagetrac-mirror/commit/1dfd3c25437e08607dcf8376f912738c1dfb41aa)|`build/pkgs/flint: Add DESTDIR patch`|
|[c84f9f1](https://github.com/sagemath/sagetrac-mirror/commit/c84f9f1b45291cc7555fe604910590387cfce9d8)|`build/pkgs/arb: Bump patch level`|
|[add7970](https://github.com/sagemath/sagetrac-mirror/commit/add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e)|`build/pkgs/flint: Update to 2.6.1, drop upstreamed patch`|



---

archive/issue_comments_583375.json:
```json
{
    "body": "Changing commit from \"[add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e](https://github.com/sagemath/sagetrac-mirror/commit/add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e)\" to \"[fd5ff14797f3fc845003222eceea78c572edaba7](https://github.com/sagemath/sagetrac-mirror/commit/fd5ff14797f3fc845003222eceea78c572edaba7)\"",
    "created_at": "2020-09-23T08:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583375",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e](https://github.com/sagemath/sagetrac-mirror/commit/add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e)" to "[fd5ff14797f3fc845003222eceea78c572edaba7](https://github.com/sagemath/sagetrac-mirror/commit/fd5ff14797f3fc845003222eceea78c572edaba7)"



---

archive/issue_comments_583376.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|\n|[fd5ff14](https://github.com/sagemath/sagetrac-mirror/commit/fd5ff14797f3fc845003222eceea78c572edaba7)|`flint 2.6.3`|",
    "created_at": "2020-09-23T08:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583376",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|
|[fd5ff14](https://github.com/sagemath/sagetrac-mirror/commit/fd5ff14797f3fc845003222eceea78c572edaba7)|`flint 2.6.3`|



---

archive/issue_comments_583377.json:
```json
{
    "body": "<a id='comment:124'></a>\nReplying to [dimpase](#comment%3A121):\n> an experiment with flint 2.6.3, which is a package on Gentoo, built with cmake, reveals that this breaks its recognition, as `HAVE_GC` may be undefined (it is just not there if  GC is not \"found\" in some sense. \n> \n> I opened https://github.com/wbhart/flint2/issues/837\n\n\nfixed by #30642",
    "created_at": "2020-09-23T12:59:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583377",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:124'></a>
Replying to [dimpase](#comment%3A121):
> an experiment with flint 2.6.3, which is a package on Gentoo, built with cmake, reveals that this breaks its recognition, as `HAVE_GC` may be undefined (it is just not there if  GC is not "found" in some sense. 
> 
> I opened https://github.com/wbhart/flint2/issues/837


fixed by #30642



---

archive/issue_comments_583378.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-09-23T16:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583378",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_583379.json:
```json
{
    "body": "<a id='comment:5'></a>\nshould we perhaps try getting this into 9.2?",
    "created_at": "2020-09-23T16:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583379",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
should we perhaps try getting this into 9.2?



---

archive/issue_events_085800.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-23T16:16:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29719#event-85800"
}
```



---

archive/issue_events_085801.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-23T16:16:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29719#event-85801"
}
```



---

archive/issue_comments_583380.json:
```json
{
    "body": "<a id='comment:6'></a>\nIs this update needed for supporting Xcode 12?",
    "created_at": "2020-09-23T21:27:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583380",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Is this update needed for supporting Xcode 12?



---

archive/issue_events_085802.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-08T17:31:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29719#event-85802"
}
```



---

archive/issue_events_085803.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-08T17:31:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29719#event-85803"
}
```



---

archive/issue_comments_583381.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[a75a4c4](https://github.com/sagemath/sagetrac-mirror/commit/a75a4c4d349bfc3a4c54498dd26ed78d39506716)|`update flint to 2.6.0 (alpha version), remove patches`|\n|[e6da720](https://github.com/sagemath/sagetrac-mirror/commit/e6da7202585d25ffd7d4b3173c349118798dcf0d)|`backport flint compat patch from arb's trunk`|\n|[e47c42c](https://github.com/sagemath/sagetrac-mirror/commit/e47c42c14c8ada47e692e74b06d7f87033229225)|`skip square-freeness test for polynomials non-fields`|\n|[cba2cf9](https://github.com/sagemath/sagetrac-mirror/commit/cba2cf9bfde972fe16e99bf6f3af210901dd32d7)|`fix and make robust related doctests`|\n|[81e3c39](https://github.com/sagemath/sagetrac-mirror/commit/81e3c396a577c531d4122a0c0d810605ed28a0a5)|`build/pkgs/flint: Add DESTDIR patch`|\n|[de52816](https://github.com/sagemath/sagetrac-mirror/commit/de5281632f50c2d1d7882729375e6096ccf74d45)|`build/pkgs/arb: Bump patch level`|\n|[aff940d](https://github.com/sagemath/sagetrac-mirror/commit/aff940de4e21a14a2a1925777ffa46e8834ff6d8)|`build/pkgs/flint: Update to 2.6.1, drop upstreamed patch`|\n|[333973d](https://github.com/sagemath/sagetrac-mirror/commit/333973dac6d1afb8225cd3985d2e19c045d7e121)|`flint 2.6.3`|",
    "created_at": "2020-10-20T08:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583381",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[a75a4c4](https://github.com/sagemath/sagetrac-mirror/commit/a75a4c4d349bfc3a4c54498dd26ed78d39506716)|`update flint to 2.6.0 (alpha version), remove patches`|
|[e6da720](https://github.com/sagemath/sagetrac-mirror/commit/e6da7202585d25ffd7d4b3173c349118798dcf0d)|`backport flint compat patch from arb's trunk`|
|[e47c42c](https://github.com/sagemath/sagetrac-mirror/commit/e47c42c14c8ada47e692e74b06d7f87033229225)|`skip square-freeness test for polynomials non-fields`|
|[cba2cf9](https://github.com/sagemath/sagetrac-mirror/commit/cba2cf9bfde972fe16e99bf6f3af210901dd32d7)|`fix and make robust related doctests`|
|[81e3c39](https://github.com/sagemath/sagetrac-mirror/commit/81e3c396a577c531d4122a0c0d810605ed28a0a5)|`build/pkgs/flint: Add DESTDIR patch`|
|[de52816](https://github.com/sagemath/sagetrac-mirror/commit/de5281632f50c2d1d7882729375e6096ccf74d45)|`build/pkgs/arb: Bump patch level`|
|[aff940d](https://github.com/sagemath/sagetrac-mirror/commit/aff940de4e21a14a2a1925777ffa46e8834ff6d8)|`build/pkgs/flint: Update to 2.6.1, drop upstreamed patch`|
|[333973d](https://github.com/sagemath/sagetrac-mirror/commit/333973dac6d1afb8225cd3985d2e19c045d7e121)|`flint 2.6.3`|



---

archive/issue_comments_583382.json:
```json
{
    "body": "Changing commit from \"[fd5ff14797f3fc845003222eceea78c572edaba7](https://github.com/sagemath/sagetrac-mirror/commit/fd5ff14797f3fc845003222eceea78c572edaba7)\" to \"[333973dac6d1afb8225cd3985d2e19c045d7e121](https://github.com/sagemath/sagetrac-mirror/commit/333973dac6d1afb8225cd3985d2e19c045d7e121)\"",
    "created_at": "2020-10-20T08:34:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583382",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[fd5ff14797f3fc845003222eceea78c572edaba7](https://github.com/sagemath/sagetrac-mirror/commit/fd5ff14797f3fc845003222eceea78c572edaba7)" to "[333973dac6d1afb8225cd3985d2e19c045d7e121](https://github.com/sagemath/sagetrac-mirror/commit/333973dac6d1afb8225cd3985d2e19c045d7e121)"



---

archive/issue_comments_583383.json:
```json
{
    "body": "<a id='comment:9'></a>\nrebased over 9.2.rc3",
    "created_at": "2020-10-20T08:35:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583383",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
rebased over 9.2.rc3



---

archive/issue_comments_583384.json:
```json
{
    "body": "Work_Issues: rebase on top of #30805",
    "created_at": "2020-10-20T23:27:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583384",
    "user": "https://github.com/mkoeppe"
}
```

Work_Issues: rebase on top of #30805



---

archive/issue_comments_583385.json:
```json
{
    "body": "Changing dependencies from \"#29826, #30262\" to \"#30805\"",
    "created_at": "2020-10-20T23:27:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583385",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#29826, #30262" to "#30805"



---

archive/issue_comments_583386.json:
```json
{
    "body": "<a id='comment:1'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[14fd292](https://github.com/sagemath/sagetrac-mirror/commit/14fd29203e8f89acd468336bfe593757bb8fbfd3)|`prevent segfaults with flint 2.6`|\n|[6898cc6](https://github.com/sagemath/sagetrac-mirror/commit/6898cc615932155009d1c1dfd64209e71c5ed76e)|`update flint to 2.6.0 (alpha version), remove patches`|\n|[436f15a](https://github.com/sagemath/sagetrac-mirror/commit/436f15a042ca1f10b3173bc5aa4b8ef93ecb4a72)|`backport flint compat patch from arb's trunk`|\n|[5de748d](https://github.com/sagemath/sagetrac-mirror/commit/5de748df587599b0d65f6c2981bb85aad7a5c340)|`fix and make robust related doctests`|\n|[df7f4c2](https://github.com/sagemath/sagetrac-mirror/commit/df7f4c2c2e33db793b5930c5a039d1b97ada80ce)|`build/pkgs/flint: Add DESTDIR patch`|\n|[ee7b2bb](https://github.com/sagemath/sagetrac-mirror/commit/ee7b2bb7aa1f5dcf912e4a21d33c27ee6e35f3c3)|`build/pkgs/arb: Bump patch level`|\n|[1088acc](https://github.com/sagemath/sagetrac-mirror/commit/1088acce090cc0b8073e2d25fa9b01013c613940)|`build/pkgs/flint: Update to 2.6.1, drop upstreamed patch`|\n|[01271cb](https://github.com/sagemath/sagetrac-mirror/commit/01271cb54df9a43111f4d9070d0c2a6dbe6768b0)|`flint 2.6.3`|",
    "created_at": "2020-10-21T20:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583386",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[14fd292](https://github.com/sagemath/sagetrac-mirror/commit/14fd29203e8f89acd468336bfe593757bb8fbfd3)|`prevent segfaults with flint 2.6`|
|[6898cc6](https://github.com/sagemath/sagetrac-mirror/commit/6898cc615932155009d1c1dfd64209e71c5ed76e)|`update flint to 2.6.0 (alpha version), remove patches`|
|[436f15a](https://github.com/sagemath/sagetrac-mirror/commit/436f15a042ca1f10b3173bc5aa4b8ef93ecb4a72)|`backport flint compat patch from arb's trunk`|
|[5de748d](https://github.com/sagemath/sagetrac-mirror/commit/5de748df587599b0d65f6c2981bb85aad7a5c340)|`fix and make robust related doctests`|
|[df7f4c2](https://github.com/sagemath/sagetrac-mirror/commit/df7f4c2c2e33db793b5930c5a039d1b97ada80ce)|`build/pkgs/flint: Add DESTDIR patch`|
|[ee7b2bb](https://github.com/sagemath/sagetrac-mirror/commit/ee7b2bb7aa1f5dcf912e4a21d33c27ee6e35f3c3)|`build/pkgs/arb: Bump patch level`|
|[1088acc](https://github.com/sagemath/sagetrac-mirror/commit/1088acce090cc0b8073e2d25fa9b01013c613940)|`build/pkgs/flint: Update to 2.6.1, drop upstreamed patch`|
|[01271cb](https://github.com/sagemath/sagetrac-mirror/commit/01271cb54df9a43111f4d9070d0c2a6dbe6768b0)|`flint 2.6.3`|



---

archive/issue_comments_583387.json:
```json
{
    "body": "Changing commit from \"[333973dac6d1afb8225cd3985d2e19c045d7e121](https://github.com/sagemath/sagetrac-mirror/commit/333973dac6d1afb8225cd3985d2e19c045d7e121)\" to \"[01271cb54df9a43111f4d9070d0c2a6dbe6768b0](https://github.com/sagemath/sagetrac-mirror/commit/01271cb54df9a43111f4d9070d0c2a6dbe6768b0)\"",
    "created_at": "2020-10-21T20:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583387",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[333973dac6d1afb8225cd3985d2e19c045d7e121](https://github.com/sagemath/sagetrac-mirror/commit/333973dac6d1afb8225cd3985d2e19c045d7e121)" to "[01271cb54df9a43111f4d9070d0c2a6dbe6768b0](https://github.com/sagemath/sagetrac-mirror/commit/01271cb54df9a43111f4d9070d0c2a6dbe6768b0)"



---

archive/issue_comments_583388.json:
```json
{
    "body": "<a id='comment:2'></a>\nrebased over #30805",
    "created_at": "2020-10-21T20:43:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583388",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:2'></a>
rebased over #30805



---

archive/issue_comments_583389.json:
```json
{
    "body": "<a id='comment:3'></a>\nTo build the current version of this branch (commit 01271cb) on Ubuntu I had to `apt install libgmp-dev`.\n\nI don't think that's listed as a build requirement.",
    "created_at": "2020-10-29T00:05:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583389",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:3'></a>
To build the current version of this branch (commit 01271cb) on Ubuntu I had to `apt install libgmp-dev`.

I don't think that's listed as a build requirement.



---

archive/issue_comments_583390.json:
```json
{
    "body": "<a id='comment:4'></a>\nLogs please",
    "created_at": "2020-10-29T00:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583390",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Logs please



---

archive/issue_comments_583391.json:
```json
{
    "body": "Attachment [flint-2.6.3.log](tarball://root/attachments/some-uuid/ticket29719/flint-2.6.3.log) by @BrentBaccala created at 2020-10-29 01:29:28\n\nBuild attempt on commit 01271cb",
    "created_at": "2020-10-29T01:29:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583391",
    "user": "https://github.com/BrentBaccala"
}
```

Attachment [flint-2.6.3.log](tarball://root/attachments/some-uuid/ticket29719/flint-2.6.3.log) by @BrentBaccala created at 2020-10-29 01:29:28

Build attempt on commit 01271cb



---

archive/issue_comments_583392.json:
```json
{
    "body": "<a id='comment:5'></a>\nI attached a log file.\n\nThere's really not much to see - a bunch of failed downloads because flint 2.6.3 isn't in any of the Sage mirrors yet, then a compile failure because it couldn't find \"gmp.h\", which I resolved with `apt install libgmp-dev`.",
    "created_at": "2020-10-29T01:31:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583392",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:5'></a>
I attached a log file.

There's really not much to see - a bunch of failed downloads because flint 2.6.3 isn't in any of the Sage mirrors yet, then a compile failure because it couldn't find "gmp.h", which I resolved with `apt install libgmp-dev`.



---

archive/issue_comments_583393.json:
```json
{
    "body": "<a id='comment:136'></a>\nReplying to [gh-BrentBaccala](#comment%3A135):\n> I attached a log file.\n> \n> There's really not much to see - a bunch of failed downloads because flint 2.6.3 isn't in any of the Sage mirrors yet, \n\n\n`./configure` has `--enable-download-from-upstream-url` option, which use would allow an automatic download from the url  in `checksums.ini`of the package.\n\n> then a compile failure because it couldn't find \"gmp.h\", which I resolved with `apt install libgmp-dev`.\n\n\nlook at what `./configure` tries to tell at the end of its run - there should be a list of system packages to install to make one's life easier.\nOn Debian like 90% of Sage's (non-python) libs, as well as Python itself, etc etc, are unvendored, see #27330",
    "created_at": "2020-10-29T19:26:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583393",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:136'></a>
Replying to [gh-BrentBaccala](#comment%3A135):
> I attached a log file.
> 
> There's really not much to see - a bunch of failed downloads because flint 2.6.3 isn't in any of the Sage mirrors yet, 


`./configure` has `--enable-download-from-upstream-url` option, which use would allow an automatic download from the url  in `checksums.ini`of the package.

> then a compile failure because it couldn't find "gmp.h", which I resolved with `apt install libgmp-dev`.


look at what `./configure` tries to tell at the end of its run - there should be a list of system packages to install to make one's life easier.
On Debian like 90% of Sage's (non-python) libs, as well as Python itself, etc etc, are unvendored, see #27330



---

archive/issue_comments_583394.json:
```json
{
    "body": "<a id='comment:137'></a>\nReplying to [dimpase](#comment%3A136):\n> \n> look at what `./configure` tries to tell at the end of its run - there should be a list of system packages to install to make one's life easier.\n> On Debian like 90% of Sage's (non-python) libs, as well as Python itself, etc etc, are unvendored, see #27330\n> \n\n\nI had to re-run configure after installing libgmp-dev, and I didn't keep the old log, but I don't remember any glaring complaints.  Furthermore, I found this in the (new) config.log:\n\n   configure:37965: result: gmp-6.1.2:                                   using system package; SPKG will not be installed\n\nI infer from this that a SPKG is available and should have been used by the original build.\n\nI don't know enough about Sage packaging to know how a SPKG gmp should be used by flint.",
    "created_at": "2020-10-29T19:41:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583394",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:137'></a>
Replying to [dimpase](#comment%3A136):
> 
> look at what `./configure` tries to tell at the end of its run - there should be a list of system packages to install to make one's life easier.
> On Debian like 90% of Sage's (non-python) libs, as well as Python itself, etc etc, are unvendored, see #27330
> 


I had to re-run configure after installing libgmp-dev, and I didn't keep the old log, but I don't remember any glaring complaints.  Furthermore, I found this in the (new) config.log:

   configure:37965: result: gmp-6.1.2:                                   using system package; SPKG will not be installed

I infer from this that a SPKG is available and should have been used by the original build.

I don't know enough about Sage packaging to know how a SPKG gmp should be used by flint.



---

archive/issue_comments_583395.json:
```json
{
    "body": "<a id='comment:138'></a>\nReplying to [gh-BrentBaccala](#comment%3A133):\n> To build the current version of this branch (commit 01271cb) on Ubuntu I had to `apt install libgmp-dev`.\n> \n> I don't think that's listed as a build requirement.\n\nHow did you start the build?\n\nI only can see this happening on an unconfigured tree if one does not start by\nrunning `./configure`, but rather by doing something like `./sage -p flint` (which indeed does not check dependencies)",
    "created_at": "2020-10-30T07:52:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583395",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:138'></a>
Replying to [gh-BrentBaccala](#comment%3A133):
> To build the current version of this branch (commit 01271cb) on Ubuntu I had to `apt install libgmp-dev`.
> 
> I don't think that's listed as a build requirement.

How did you start the build?

I only can see this happening on an unconfigured tree if one does not start by
running `./configure`, but rather by doing something like `./sage -p flint` (which indeed does not check dependencies)



---

archive/issue_comments_583396.json:
```json
{
    "body": "<a id='comment:139'></a>\nReplying to [dimpase](#comment%3A138):\n> Replying to [gh-BrentBaccala](#comment%3A133):\n> > To build the current version of this branch (commit 01271cb) on Ubuntu I had to `apt install libgmp-dev`.\n> > \n> > I don't think that's listed as a build requirement.\n\n> How did you start the build?\n> \n> I only can see this happening on an unconfigured tree if one does not start by\n> running `./configure`, but rather by doing something like `./sage -p flint` (which indeed does not check dependencies)\n\n\nAfter `git checkout`, I ran `./bootstrap`, then `./configure`, then `MAKE=\"make -j8\" make`.",
    "created_at": "2020-10-30T13:08:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583396",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:139'></a>
Replying to [dimpase](#comment%3A138):
> Replying to [gh-BrentBaccala](#comment%3A133):
> > To build the current version of this branch (commit 01271cb) on Ubuntu I had to `apt install libgmp-dev`.
> > 
> > I don't think that's listed as a build requirement.

> How did you start the build?
> 
> I only can see this happening on an unconfigured tree if one does not start by
> running `./configure`, but rather by doing something like `./sage -p flint` (which indeed does not check dependencies)


After `git checkout`, I ran `./bootstrap`, then `./configure`, then `MAKE="make -j8" make`.



---

archive/issue_comments_583397.json:
```json
{
    "body": "<a id='comment:0'></a>\ncould be stale leftovers - how about `make bootstrap-clean && make distclean` ?\n(for the former possibly #30795 is needed)",
    "created_at": "2020-10-30T14:03:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583397",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:0'></a>
could be stale leftovers - how about `make bootstrap-clean && make distclean` ?
(for the former possibly #30795 is needed)



---

archive/issue_comments_583398.json:
```json
{
    "body": "Changing commit from \"[01271cb54df9a43111f4d9070d0c2a6dbe6768b0](https://github.com/sagemath/sagetrac-mirror/commit/01271cb54df9a43111f4d9070d0c2a6dbe6768b0)\" to \"[7681b1a38b797ccacdaaa0de473bab8116084fdb](https://github.com/sagemath/sagetrac-mirror/commit/7681b1a38b797ccacdaaa0de473bab8116084fdb)\"",
    "created_at": "2020-11-06T12:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583398",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[01271cb54df9a43111f4d9070d0c2a6dbe6768b0](https://github.com/sagemath/sagetrac-mirror/commit/01271cb54df9a43111f4d9070d0c2a6dbe6768b0)" to "[7681b1a38b797ccacdaaa0de473bab8116084fdb](https://github.com/sagemath/sagetrac-mirror/commit/7681b1a38b797ccacdaaa0de473bab8116084fdb)"



---

archive/issue_comments_583399.json:
```json
{
    "body": "<a id='comment:1'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[6b3a2ed](https://github.com/sagemath/sagetrac-mirror/commit/6b3a2ed436b7254c335430da6c4a1b65be468f06)|`update flint to 2.6.0 (alpha version), remove patches`|\n|[b53bf8e](https://github.com/sagemath/sagetrac-mirror/commit/b53bf8e6507348c93f342ec8aa4c053d4963a2eb)|`fix and make robust related doctests`|\n|[7731c60](https://github.com/sagemath/sagetrac-mirror/commit/7731c60137683acdc06a1c5b8066670bec4c588e)|`build/pkgs/flint: Add DESTDIR patch`|\n|[24ff512](https://github.com/sagemath/sagetrac-mirror/commit/24ff51275709f3b50e19660c58f8816ced11944d)|`build/pkgs/flint: Update to 2.6.1, drop upstreamed patch`|\n|[7681b1a](https://github.com/sagemath/sagetrac-mirror/commit/7681b1a38b797ccacdaaa0de473bab8116084fdb)|`flint 2.6.3`|",
    "created_at": "2020-11-06T12:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583399",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[6b3a2ed](https://github.com/sagemath/sagetrac-mirror/commit/6b3a2ed436b7254c335430da6c4a1b65be468f06)|`update flint to 2.6.0 (alpha version), remove patches`|
|[b53bf8e](https://github.com/sagemath/sagetrac-mirror/commit/b53bf8e6507348c93f342ec8aa4c053d4963a2eb)|`fix and make robust related doctests`|
|[7731c60](https://github.com/sagemath/sagetrac-mirror/commit/7731c60137683acdc06a1c5b8066670bec4c588e)|`build/pkgs/flint: Add DESTDIR patch`|
|[24ff512](https://github.com/sagemath/sagetrac-mirror/commit/24ff51275709f3b50e19660c58f8816ced11944d)|`build/pkgs/flint: Update to 2.6.1, drop upstreamed patch`|
|[7681b1a](https://github.com/sagemath/sagetrac-mirror/commit/7681b1a38b797ccacdaaa0de473bab8116084fdb)|`flint 2.6.3`|



---

archive/issue_comments_583400.json:
```json
{
    "body": "<a id='comment:2'></a>\nrebased over 9.3.beta0, squashed few things. Let us get this in please!\n\nIn particular, here are patches that need to fix doctest on distros that ship flint 2.6.3 already, e.g. Homebrew, Ubuntu 20.10.",
    "created_at": "2020-11-06T12:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583400",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:2'></a>
rebased over 9.3.beta0, squashed few things. Let us get this in please!

In particular, here are patches that need to fix doctest on distros that ship flint 2.6.3 already, e.g. Homebrew, Ubuntu 20.10.



---

archive/issue_comments_583401.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-11-06T19:29:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583401",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_583402.json:
```json
{
    "body": "Changing work_issues from \"rebase on top of #30805\" to \"\"",
    "created_at": "2020-11-06T20:03:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583402",
    "user": "https://github.com/dimpase"
}
```

Changing work_issues from "rebase on top of #30805" to ""



---

archive/issue_comments_583403.json:
```json
{
    "body": "Changing branch from \"[public/packages/flint260](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/flint260)\" to \"[7681b1a38b797ccacdaaa0de473bab8116084fdb](https://github.com/sagemath/sagetrac-mirror/commit/7681b1a38b797ccacdaaa0de473bab8116084fdb)\"",
    "created_at": "2020-11-15T22:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583403",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[public/packages/flint260](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/flint260)" to "[7681b1a38b797ccacdaaa0de473bab8116084fdb](https://github.com/sagemath/sagetrac-mirror/commit/7681b1a38b797ccacdaaa0de473bab8116084fdb)"



---

archive/issue_events_085804.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-15T22:47:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29719#event-85804"
}
```



---

archive/issue_comments_583404.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-15T22:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29719",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29719#issuecomment-583404",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
