# Issue 29530: Make Docker images generated by GitHub CI workflows available; minor CI fixes

archive/issues_029293.json:
```json
{
    "body": "They are already tagged with meaningful names and just need to be pushed to a registry. \n\nNow we push them to the registry provided by [GitHub](GitHub).\nExample: https://github.com/mkoeppe/sage/runs/604103405 created https://github.com/mkoeppe/sage/packages/193111\n\nCC:  @kliem @vbraun @dimpase @embray @saraedum @slel\n\nKeywords: ci, docker, ContinuousIntegration\n\nBranch/Commit: 163562d24508d81271a0333c131c13020a052856\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nDependencies: #29341, #29534\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/29530\n\n",
    "closed_at": "2020-05-02T21:58:21Z",
    "created_at": "2020-04-18T19:25:08Z",
    "labels": [
        "component: porting"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Make Docker images generated by GitHub CI workflows available; minor CI fixes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29530",
    "user": "https://github.com/mkoeppe"
}
```
They are already tagged with meaningful names and just need to be pushed to a registry. 

Now we push them to the registry provided by [GitHub](GitHub).
Example: https://github.com/mkoeppe/sage/runs/604103405 created https://github.com/mkoeppe/sage/packages/193111

CC:  @kliem @vbraun @dimpase @embray @saraedum @slel

Keywords: ci, docker, ContinuousIntegration

Branch/Commit: 163562d24508d81271a0333c131c13020a052856

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Dependencies: #29341, #29534

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/29530





---

archive/issue_comments_442128.json:
```json
{
    "body": "Changing keywords from \"\" to \"ci, docker\".",
    "created_at": "2020-04-18T20:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442128",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "ci, docker".



---

archive/issue_comments_442129.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,6 +1,12 @@\n+They are already tagged with meaningful names and just need to be pushed to a registry.\n+\n+Also the CI workflows should be run \\`on: push: tags:\\` (https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions#onpushpull_requestbranchestags), not just \\`on: pull_requests\\`\n+\n https://www.docker.com/blog/first-docker-github-action-is-here/\n \n https://github.com/actions/starter-workflows/blob/master/ci/docker-publish.yml\n+\n+\n \n Comment: 1\n \n```\n",
    "created_at": "2020-04-19T06:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442129",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,6 +1,12 @@
+They are already tagged with meaningful names and just need to be pushed to a registry.
+
+Also the CI workflows should be run \`on: push: tags:\` (https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions#onpushpull_requestbranchestags), not just \`on: pull_requests\`
+
 https://www.docker.com/blog/first-docker-github-action-is-here/
 
 https://github.com/actions/starter-workflows/blob/master/ci/docker-publish.yml
+
+
 
 Comment: 1
 
```




---

archive/issue_comments_442130.json:
```json
{
    "body": "<a id='comment:3'></a>will it be possible to pull an image for letting cal inspection and debugging? cool.\n(currently building a fedora 28 image locally...)",
    "created_at": "2020-04-19T07:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442130",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>will it be possible to pull an image for letting cal inspection and debugging? cool.
(currently building a fedora 28 image locally...)



---

archive/issue_comments_442131.json:
```json
{
    "body": "Changing keywords from \"ci, docker\" to \"ci, docker, ContinuousIntegration\".",
    "created_at": "2020-04-20T01:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442131",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "ci, docker" to "ci, docker, ContinuousIntegration".



---

archive/issue_comments_442132.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n+They are already tagged with meaningful names and just need to be pushed to a registry.\n+\n+Also the CI workflows should be run \\`on: push: tags:\\` (https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions#onpushpull_requestbranchestags), not just \\`on: pull_requests\\`; that's #29534.\n+\n+https://www.docker.com/blog/first-docker-github-action-is-here/\n+\n+https://github.com/actions/starter-workflows/blob/master/ci/docker-publish.yml\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2020-04-20T01:42:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442132",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,11 @@
+They are already tagged with meaningful names and just need to be pushed to a registry.
+
+Also the CI workflows should be run \`on: push: tags:\` (https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions#onpushpull_requestbranchestags), not just \`on: pull_requests\`; that's #29534.
+
+https://www.docker.com/blog/first-docker-github-action-is-here/
+
+https://github.com/actions/starter-workflows/blob/master/ci/docker-publish.yml
+
 
 
 Comment: 1
```




---

archive/issue_comments_442133.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:3 dimpase]:\n> will it be possible to pull an image for ... inspection and debugging? \n\nYes, that's the idea",
    "created_at": "2020-04-20T01:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442133",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>Replying to [comment:3 dimpase]:
> will it be possible to pull an image for ... inspection and debugging? 

Yes, that's the idea



---

archive/issue_comments_442134.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-21T05:33:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442134",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442135.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,7 @@\n+They are already tagged with meaningful names and just need to be pushed to a registry. \n \n+Now we push them to the registry provided by [GitHub](GitHub).\n+Example: https://github.com/mkoeppe/sage/runs/604103405 created https://github.com/mkoeppe/sage/packages/193111\n \n Comment: 1\n \n```\n",
    "created_at": "2020-04-21T05:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442135",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,7 @@
+They are already tagged with meaningful names and just need to be pushed to a registry. 
 
+Now we push them to the registry provided by [GitHub](GitHub).
+Example: https://github.com/mkoeppe/sage/runs/604103405 created https://github.com/mkoeppe/sage/packages/193111
 
 Comment: 1
 
```




---

archive/issue_comments_442136.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-04-21T05:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442136",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_442137.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-21T05:42:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442137",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442138.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-21T23:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442138",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442139.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-23T02:07:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442139",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442140.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-23T03:22:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442140",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442141.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-23T16:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442141",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442142.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-04-24T14:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442142",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_442143.json:
```json
{
    "body": "<a id='comment:17'></a>copying logs needs more work, e.g. https://github.com/mkoeppe/sage/runs/612694530?check_suite_focus=true displays no logs",
    "created_at": "2020-04-24T14:14:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442143",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>copying logs needs more work, e.g. https://github.com/mkoeppe/sage/runs/612694530?check_suite_focus=true displays no logs



---

archive/issue_comments_442144.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-25T00:20:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442144",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442145.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-25T01:52:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442145",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442146.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-04-25T01:53:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442146",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_442147.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-25T03:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442147",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442148.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-25T05:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442148",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_442149.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-25T17:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442149",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442150.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-25T22:01:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442150",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442151.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-25T22:07:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442151",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_442152.json:
```json
{
    "body": "<a id='comment:26'></a>OK, this looks nice now. I have tested just one docker image, but I trust this should be fine in general.",
    "created_at": "2020-04-26T02:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442152",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>OK, this looks nice now. I have tested just one docker image, but I trust this should be fine in general.



---

archive/issue_comments_442153.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-26T02:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442153",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_442154.json:
```json
{
    "body": "<a id='comment:27'></a>Thank you!",
    "created_at": "2020-04-26T02:42:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442154",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>Thank you!



---

archive/issue_events_075334.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-02T21:58:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29530#event-75334"
}
```



---

archive/issue_comments_442155.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-05-02T21:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29530",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29530#issuecomment-442155",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
