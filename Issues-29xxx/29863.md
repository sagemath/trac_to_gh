# Issue 29863: Meta-ticket: Cython 3.0.0 (unreleased)

archive/issues_029626.json:
```json
{
    "body": "This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.\n- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)\n- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 \"no concrete time plan\")\n- https://github.com/cython/cython/issues/4022 (still no road map)\n\nhttps://github.com/cython/cython/blob/master/CHANGES.rst\n\n- #34257 Add missing `cdef` method declarations (for Cython 3)\n- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods\n- #32832 `cython`: Eliminate use of custom patches\n- #30511 Type hints (`__annotations__`) and coercion/categories/Cython\n\nSee also:\n- #34221 / https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)\n\n\n\nCC:  @kwankyu @williamstein @videlec @tscrim @tobiasdiez\n\nKeywords: upgrade, cython\n\nBranch: u/mkoeppe/meta_ticket__cython_3_0_0__unreleased_\n\nStatus: new\n\nDependencies: #26254, #32832, #34257\n\nCommit: 6c338f8050c77f97d8b597d855b41547e7c06c22\n\nIssue created by migration from https://trac.sagemath.org/ticket/29863\n\n",
    "created_at": "2020-06-15T00:21:25Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Meta-ticket: Cython 3.0.0 (unreleased)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29863",
    "user": "https://github.com/mkoeppe"
}
```
This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.
- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)
- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 "no concrete time plan")
- https://github.com/cython/cython/issues/4022 (still no road map)

https://github.com/cython/cython/blob/master/CHANGES.rst

- #34257 Add missing `cdef` method declarations (for Cython 3)
- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods
- #32832 `cython`: Eliminate use of custom patches
- #30511 Type hints (`__annotations__`) and coercion/categories/Cython

See also:
- #34221 / https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)



CC:  @kwankyu @williamstein @videlec @tscrim @tobiasdiez

Keywords: upgrade, cython

Branch: u/mkoeppe/meta_ticket__cython_3_0_0__unreleased_

Status: new

Dependencies: #26254, #32832, #34257

Commit: 6c338f8050c77f97d8b597d855b41547e7c06c22

Issue created by migration from https://trac.sagemath.org/ticket/29863





---

archive/issue_comments_448340.json:
```json
{
    "body": "Changing keywords from \"\" to \"upgrade, cython\".",
    "created_at": "2020-06-18T02:57:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448340",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "upgrade, cython".



---

archive/issue_events_076492.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29863#event-76492"
}
```



---

archive/issue_events_076493.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29863#event-76493"
}
```



---

archive/issue_events_076494.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29863#event-76494"
}
```



---

archive/issue_comments_448341.json:
```json
{
    "body": "<a id='comment:3'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448341",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_076495.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29863#event-76495"
}
```



---

archive/issue_events_076496.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29863#event-76496"
}
```



---

archive/issue_events_076497.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29863#event-76497"
}
```



---

archive/issue_events_076498.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29863#event-76498"
}
```



---

archive/issue_events_076499.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29863#event-76499"
}
```



---

archive/issue_events_076500.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29863#event-76500"
}
```



---

archive/issue_comments_448342.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,6 +1,12 @@\n-This ticket is for experimenting with an update to Cython 3, currently at 3.0.0 alpha 5.\n+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published (https://mail.python.org/pipermail/cython-devel/2019-November/thread.html)\n \n https://github.com/cython/cython/blob/master/CHANGES.rst\n+\n+- #26254 Use Cython directive binding=True to get signatures in help for cythonized built-in methods\n+- #30511 Type hints (__annotations__) and coercion/categories/Cython\n+- https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)\n+\n+\n \n Comment: 1\n \n```\n",
    "created_at": "2022-07-24T17:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448342",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,6 +1,12 @@
-This ticket is for experimenting with an update to Cython 3, currently at 3.0.0 alpha 5.
+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published (https://mail.python.org/pipermail/cython-devel/2019-November/thread.html)
 
 https://github.com/cython/cython/blob/master/CHANGES.rst
+
+- #26254 Use Cython directive binding=True to get signatures in help for cythonized built-in methods
+- #30511 Type hints (__annotations__) and coercion/categories/Cython
+- https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)
+
+
 
 Comment: 1
 
```




---

archive/issue_comments_448343.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published (https://mail.python.org/pipermail/cython-devel/2019-November/thread.html)\n+\n+https://github.com/cython/cython/blob/master/CHANGES.rst\n+\n+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods\n+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython\n+- https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2022-07-24T17:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448343",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,11 @@
+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published (https://mail.python.org/pipermail/cython-devel/2019-November/thread.html)
+
+https://github.com/cython/cython/blob/master/CHANGES.rst
+
+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods
+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython
+- https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)
+
 
 
 Comment: 1
```




---

archive/issue_comments_448344.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,14 @@\n+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.\n+- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)\n+- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 \"no concrete time plan\")\n+- https://github.com/cython/cython/issues/4022\n+\n+https://github.com/cython/cython/blob/master/CHANGES.rst\n+\n+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods\n+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython\n+- https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2022-07-24T17:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448344",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,14 @@
+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.
+- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)
+- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 "no concrete time plan")
+- https://github.com/cython/cython/issues/4022
+
+https://github.com/cython/cython/blob/master/CHANGES.rst
+
+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods
+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython
+- https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)
+
 
 
 Comment: 1
```




---

archive/issue_comments_448345.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,14 @@\n+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.\n+- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)\n+- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 \"no concrete time plan\")\n+- https://github.com/cython/cython/issues/4022 (still no road map)\n+\n+https://github.com/cython/cython/blob/master/CHANGES.rst\n+\n+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods\n+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython\n+- https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2022-07-24T17:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448345",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,14 @@
+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.
+- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)
+- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 "no concrete time plan")
+- https://github.com/cython/cython/issues/4022 (still no road map)
+
+https://github.com/cython/cython/blob/master/CHANGES.rst
+
+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods
+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython
+- https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)
+
 
 
 Comment: 1
```




---

archive/issue_comments_448346.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.\n+- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)\n+- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 \"no concrete time plan\")\n+- https://github.com/cython/cython/issues/4022 (still no road map)\n+\n+https://github.com/cython/cython/blob/master/CHANGES.rst\n+\n+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods\n+- #32832 `cython`: Eliminate use of custom patches\n+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython\n+\n+See also:\n+- https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2022-07-25T02:23:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448346",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,17 @@
+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.
+- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)
+- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 "no concrete time plan")
+- https://github.com/cython/cython/issues/4022 (still no road map)
+
+https://github.com/cython/cython/blob/master/CHANGES.rst
+
+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods
+- #32832 `cython`: Eliminate use of custom patches
+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython
+
+See also:
+- https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)
+
 
 
 Comment: 1
```




---

archive/issue_comments_448347.json:
```json
{
    "body": "<a id='comment:13'></a>pplpy build fails:\n\n```\n    tree = Parsing.p_module(s, pxd, full_module_name)\n\n  Error compiling Cython file:\n  ------------------------------------------------------------\n  ...\n  from ppl_decl cimport *\n  ^\n  ------------------------------------------------------------\n\n  ppl/bit_arrays.pxd:1:0: 'ppl_decl.pxd' not found\n\n  Error compiling Cython file:\n```\n\n---\nLast 10 new commits:",
    "created_at": "2022-07-25T02:38:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448347",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>pplpy build fails:

```
    tree = Parsing.p_module(s, pxd, full_module_name)

  Error compiling Cython file:
  ------------------------------------------------------------
  ...
  from ppl_decl cimport *
  ^
  ------------------------------------------------------------

  ppl/bit_arrays.pxd:1:0: 'ppl_decl.pxd' not found

  Error compiling Cython file:
```

---
Last 10 new commits:



---

archive/issue_comments_448348.json:
```json
{
    "body": "<a id='comment:14'></a>\n```\n[sagelib-9.7.beta6]   Error compiling Cython file:\n[sagelib-9.7.beta6]   ------------------------------------------------------------\n[sagelib-9.7.beta6]   ...\n[sagelib-9.7.beta6]               sage: p = next_prime(2^32)\n[sagelib-9.7.beta6]               sage: GF(p)(int(p+1))\n[sagelib-9.7.beta6]               1\n[sagelib-9.7.beta6]           \"\"\"\n[sagelib-9.7.beta6]           mpz_set_si(self.value, value)\n[sagelib-9.7.beta6]           mpz_mod(self.value, self.value, self.__modulus.sageInteger.value)\n[sagelib-9.7.beta6]                                                                    ^\n[sagelib-9.7.beta6]   ------------------------------------------------------------\n[sagelib-9.7.beta6] \n[sagelib-9.7.beta6]   sage/rings/finite_rings/integer_mod.pyx:1986:66: Cannot convert Python object to '__mpz_struct *'\n```",
    "created_at": "2022-07-25T02:59:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448348",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
```
[sagelib-9.7.beta6]   Error compiling Cython file:
[sagelib-9.7.beta6]   ------------------------------------------------------------
[sagelib-9.7.beta6]   ...
[sagelib-9.7.beta6]               sage: p = next_prime(2^32)
[sagelib-9.7.beta6]               sage: GF(p)(int(p+1))
[sagelib-9.7.beta6]               1
[sagelib-9.7.beta6]           """
[sagelib-9.7.beta6]           mpz_set_si(self.value, value)
[sagelib-9.7.beta6]           mpz_mod(self.value, self.value, self.__modulus.sageInteger.value)
[sagelib-9.7.beta6]                                                                    ^
[sagelib-9.7.beta6]   ------------------------------------------------------------
[sagelib-9.7.beta6] 
[sagelib-9.7.beta6]   sage/rings/finite_rings/integer_mod.pyx:1986:66: Cannot convert Python object to '__mpz_struct *'
```



---

archive/issue_comments_448349.json:
```json
{
    "body": "<a id='comment:15'></a>\n```\n[sagelib-9.7.beta6]   Error compiling Cython file:\n[sagelib-9.7.beta6]   ------------------------------------------------------------\n[sagelib-9.7.beta6]   ...\n[sagelib-9.7.beta6]           \"\"\"\n[sagelib-9.7.beta6]           Lfunction.__init__(self, name, what_type_L, dirichlet_coefficient,  period, Q, OMEGA, gamma,lambd, pole,residue)\n[sagelib-9.7.beta6]           self._repr += \" with integer Dirichlet coefficients\"\n[sagelib-9.7.beta6] \n[sagelib-9.7.beta6]       # override\n[sagelib-9.7.beta6]       cdef void __init_fun(self, char *NAME, int what_type, dirichlet_coeff, long long Period, double q,  c_Complex w, int A, double *g, c_Complex *l, int n_poles, c_Complex *p, c_Complex *r):\n[sagelib-9.7.beta6]           ^\n[sagelib-9.7.beta6]   ------------------------------------------------------------\n[sagelib-9.7.beta6] \n[sagelib-9.7.beta6]   sage/libs/lcalc/lcalc_Lfunction.pyx:500:9: C method '_Lfunction_I__init_fun' not previously declared in definition part of extension type 'Lfunction_I'\n```",
    "created_at": "2022-07-25T03:00:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448349",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
```
[sagelib-9.7.beta6]   Error compiling Cython file:
[sagelib-9.7.beta6]   ------------------------------------------------------------
[sagelib-9.7.beta6]   ...
[sagelib-9.7.beta6]           """
[sagelib-9.7.beta6]           Lfunction.__init__(self, name, what_type_L, dirichlet_coefficient,  period, Q, OMEGA, gamma,lambd, pole,residue)
[sagelib-9.7.beta6]           self._repr += " with integer Dirichlet coefficients"
[sagelib-9.7.beta6] 
[sagelib-9.7.beta6]       # override
[sagelib-9.7.beta6]       cdef void __init_fun(self, char *NAME, int what_type, dirichlet_coeff, long long Period, double q,  c_Complex w, int A, double *g, c_Complex *l, int n_poles, c_Complex *p, c_Complex *r):
[sagelib-9.7.beta6]           ^
[sagelib-9.7.beta6]   ------------------------------------------------------------
[sagelib-9.7.beta6] 
[sagelib-9.7.beta6]   sage/libs/lcalc/lcalc_Lfunction.pyx:500:9: C method '_Lfunction_I__init_fun' not previously declared in definition part of extension type 'Lfunction_I'
```



---

archive/issue_comments_448350.json:
```json
{
    "body": "<a id='comment:16'></a>\n```\n[sagelib-9.7.beta6]   Error compiling Cython file:\n[sagelib-9.7.beta6]   ------------------------------------------------------------\n[sagelib-9.7.beta6]   ...\n[sagelib-9.7.beta6]           \"\"\"\n[sagelib-9.7.beta6]           return Matroid._repr_(self) + \" with \" + str(self.bases_count()) + \" bases\"\n[sagelib-9.7.beta6] \n[sagelib-9.7.beta6]       # support for parent BasisExchangeMatroid\n[sagelib-9.7.beta6] \n[sagelib-9.7.beta6]       cdef bint __is_exchange_pair(self, long x, long y) except -1:      # test if current_basis-x + y is a basis\n[sagelib-9.7.beta6]           ^\n[sagelib-9.7.beta6]   ------------------------------------------------------------\n[sagelib-9.7.beta6] \n[sagelib-9.7.beta6]   sage/matroids/basis_matroid.pyx:268:9: C method '_BasisMatroid__is_exchange_pair' not previously declared in definition part of extension type 'BasisMatroid'\n\n[sagelib-9.7.beta6]   Error compiling Cython file:\n[sagelib-9.7.beta6]   ------------------------------------------------------------\n[sagelib-9.7.beta6]   ...\n[sagelib-9.7.beta6]                   b = frozenset(B)\n[sagelib-9.7.beta6]                   if len(b) != self._matroid_rank:\n[sagelib-9.7.beta6]                       raise ValueError(\"basis has wrong cardinality.\")\n[sagelib-9.7.beta6]                   if not b.issubset(self._groundset):\n[sagelib-9.7.beta6]                       raise ValueError(\"basis is not a subset of the groundset\")\n[sagelib-9.7.beta6]                   self.__pack(self._b, b)\n[sagelib-9.7.beta6]                                  ^\n[sagelib-9.7.beta6]   ------------------------------------------------------------\n[sagelib-9.7.beta6] \n[sagelib-9.7.beta6]   sage/matroids/basis_matroid.pyx:224:32: Cannot convert 'bitset_t' to Python object\n[sagelib-9.7.beta6] \n```",
    "created_at": "2022-07-25T03:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448350",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
```
[sagelib-9.7.beta6]   Error compiling Cython file:
[sagelib-9.7.beta6]   ------------------------------------------------------------
[sagelib-9.7.beta6]   ...
[sagelib-9.7.beta6]           """
[sagelib-9.7.beta6]           return Matroid._repr_(self) + " with " + str(self.bases_count()) + " bases"
[sagelib-9.7.beta6] 
[sagelib-9.7.beta6]       # support for parent BasisExchangeMatroid
[sagelib-9.7.beta6] 
[sagelib-9.7.beta6]       cdef bint __is_exchange_pair(self, long x, long y) except -1:      # test if current_basis-x + y is a basis
[sagelib-9.7.beta6]           ^
[sagelib-9.7.beta6]   ------------------------------------------------------------
[sagelib-9.7.beta6] 
[sagelib-9.7.beta6]   sage/matroids/basis_matroid.pyx:268:9: C method '_BasisMatroid__is_exchange_pair' not previously declared in definition part of extension type 'BasisMatroid'

[sagelib-9.7.beta6]   Error compiling Cython file:
[sagelib-9.7.beta6]   ------------------------------------------------------------
[sagelib-9.7.beta6]   ...
[sagelib-9.7.beta6]                   b = frozenset(B)
[sagelib-9.7.beta6]                   if len(b) != self._matroid_rank:
[sagelib-9.7.beta6]                       raise ValueError("basis has wrong cardinality.")
[sagelib-9.7.beta6]                   if not b.issubset(self._groundset):
[sagelib-9.7.beta6]                       raise ValueError("basis is not a subset of the groundset")
[sagelib-9.7.beta6]                   self.__pack(self._b, b)
[sagelib-9.7.beta6]                                  ^
[sagelib-9.7.beta6]   ------------------------------------------------------------
[sagelib-9.7.beta6] 
[sagelib-9.7.beta6]   sage/matroids/basis_matroid.pyx:224:32: Cannot convert 'bitset_t' to Python object
[sagelib-9.7.beta6] 
```



---

archive/issue_comments_448351.json:
```json
{
    "body": "<a id='comment:17'></a>\n```\n[sagelib-9.7.beta6]   Error compiling Cython file:\n[sagelib-9.7.beta6]   ------------------------------------------------------------\n[sagelib-9.7.beta6]   ...\n[sagelib-9.7.beta6] \n[sagelib-9.7.beta6]       AUTHOR:\n[sagelib-9.7.beta6] \n[sagelib-9.7.beta6]       - Xavier Caruso (2013-03)\n[sagelib-9.7.beta6]       \"\"\"\n[sagelib-9.7.beta6]       cdef int __normalize(self) except -1:\n[sagelib-9.7.beta6]           ^\n[sagelib-9.7.beta6]   ------------------------------------------------------------\n[sagelib-9.7.beta6] \n[sagelib-9.7.beta6]   sage/rings/polynomial/polynomial_element.pyx:11912:9: C method '_Polynomial_generic_dense_inexact__normalize' not previously declared in definition part of extension type 'Polynomial_generic_dense_inexact'\n```",
    "created_at": "2022-07-25T03:02:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448351",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
```
[sagelib-9.7.beta6]   Error compiling Cython file:
[sagelib-9.7.beta6]   ------------------------------------------------------------
[sagelib-9.7.beta6]   ...
[sagelib-9.7.beta6] 
[sagelib-9.7.beta6]       AUTHOR:
[sagelib-9.7.beta6] 
[sagelib-9.7.beta6]       - Xavier Caruso (2013-03)
[sagelib-9.7.beta6]       """
[sagelib-9.7.beta6]       cdef int __normalize(self) except -1:
[sagelib-9.7.beta6]           ^
[sagelib-9.7.beta6]   ------------------------------------------------------------
[sagelib-9.7.beta6] 
[sagelib-9.7.beta6]   sage/rings/polynomial/polynomial_element.pyx:11912:9: C method '_Polynomial_generic_dense_inexact__normalize' not previously declared in definition part of extension type 'Polynomial_generic_dense_inexact'
```



---

archive/issue_comments_448352.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-25T03:36:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448352",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_448353.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-25T04:27:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448353",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_448354.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-25T04:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448354",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_448355.json:
```json
{
    "body": "<a id='comment:21'></a>Help wanted with `Cannot convert 'bitset_t' to Python object` and `Cannot convert Python object to '__mpz_struct *'`",
    "created_at": "2022-07-25T04:58:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448355",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>Help wanted with `Cannot convert 'bitset_t' to Python object` and `Cannot convert Python object to '__mpz_struct *'`



---

archive/issue_comments_448356.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,17 @@\n+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.\n+- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)\n+- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 \"no concrete time plan\")\n+- https://github.com/cython/cython/issues/4022 (still no road map)\n+\n+https://github.com/cython/cython/blob/master/CHANGES.rst\n+\n+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods\n+- #32832 `cython`: Eliminate use of custom patches\n+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython\n+\n+See also:\n+- #34221 / https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2022-07-25T21:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448356",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,17 @@
+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.
+- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)
+- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 "no concrete time plan")
+- https://github.com/cython/cython/issues/4022 (still no road map)
+
+https://github.com/cython/cython/blob/master/CHANGES.rst
+
+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods
+- #32832 `cython`: Eliminate use of custom patches
+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython
+
+See also:
+- #34221 / https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)
+
 
 
 Comment: 1
```




---

archive/issue_comments_448357.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,18 @@\n+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.\n+- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)\n+- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 \"no concrete time plan\")\n+- https://github.com/cython/cython/issues/4022 (still no road map)\n+\n+https://github.com/cython/cython/blob/master/CHANGES.rst\n+\n+- #34257 Add missing `cdef` method declarations (for Cython 3)\n+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods\n+- #32832 `cython`: Eliminate use of custom patches\n+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython\n+\n+See also:\n+- #34221 / https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2022-07-31T19:33:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448357",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,18 @@
+This ticket is for experimenting with an update to Cython 3, which is at 3.0.0 alpha 10 as of 2022-07. No release schedule has been published.
+- https://mail.python.org/pipermail/cython-devel/2019-November/thread.html (2019 - no response)
+- https://groups.google.com/g/cython-users/c/WTHmGJ44aB0 (2022-01 "no concrete time plan")
+- https://github.com/cython/cython/issues/4022 (still no road map)
+
+https://github.com/cython/cython/blob/master/CHANGES.rst
+
+- #34257 Add missing `cdef` method declarations (for Cython 3)
+- #26254 Use Cython directive `binding=True` to get signatures in help for cythonized built-in methods
+- #32832 `cython`: Eliminate use of custom patches
+- #30511 Type hints (`__annotations__`) and coercion/categories/Cython
+
+See also:
+- #34221 / https://github.com/cython/cython/pull/4918 (Backport to 0.29.x: Add PEP420 namespace support)
+
 
 
 Comment: 1
```




---

archive/issue_comments_448358.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-07-31T19:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448358",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_448359.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:13 mkoeppe]:\n> pplpy build fails:\n> \n> ```\n>     tree = Parsing.p_module(s, pxd, full_module_name)\n> \n>   Error compiling Cython file:\n>   ------------------------------------------------------------\n>   ...\n>   from ppl_decl cimport *\n>   ^\n>   ------------------------------------------------------------\n> \n>   ppl/bit_arrays.pxd:1:0: 'ppl_decl.pxd' not found\n> \n>   Error compiling Cython file:\n> ```\n\n\nPR: https://gitlab.com/videlec/pplpy/-/merge_requests/20",
    "created_at": "2022-07-31T19:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29863#issuecomment-448359",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>Replying to [comment:13 mkoeppe]:
> pplpy build fails:
> 
> ```
>     tree = Parsing.p_module(s, pxd, full_module_name)
> 
>   Error compiling Cython file:
>   ------------------------------------------------------------
>   ...
>   from ppl_decl cimport *
>   ^
>   ------------------------------------------------------------
> 
>   ppl/bit_arrays.pxd:1:0: 'ppl_decl.pxd' not found
> 
>   Error compiling Cython file:
> ```


PR: https://gitlab.com/videlec/pplpy/-/merge_requests/20



---

archive/issue_events_076501.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29863#event-76501"
}
```



---

archive/issue_events_076502.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/29863",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29863#event-76502"
}
```
